{"pr_number": 5022, "pr_title": "DHFPROD-6289:Add ESLint to CI/CD", "pr_createdAt": "2020-12-17T22:09:06Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/5022", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ0MDY3Ng==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5022#discussion_r545440676", "bodyText": "Can you expand the description to define what happens when the task is run? For example, if no errors are found, is any report file written? If errors are found, what happens? Does the task fail, or does it print a report somewhere?", "author": "rjrudin", "createdAt": "2020-12-17T22:19:45Z", "path": "marklogic-data-hub-central/build.gradle", "diffHunk": "@@ -194,6 +194,13 @@ task copyUiFiles(type: Copy, dependsOn: deleteSpringBootUiFiles, group: taskGrou\n     into springBootUiPath\n }\n \n+task lintUI(type: NpmTask, dependsOn: installDependencies, group: taskGroup) {\n+    description = \"linting the UI files\"", "originalCommit": "66483e4925bd7b765a5a21fff657f7a58b86f412", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ1NTgxNw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5022#discussion_r545455817", "bodyText": "I added description.", "author": "yafeldman", "createdAt": "2020-12-17T22:52:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ0MDY3Ng=="}], "type": "inlineReview"}, {"oid": "84fae5abebe41a1ff3753be7d1de8747b953a88b", "url": "https://github.com/marklogic/marklogic-data-hub/commit/84fae5abebe41a1ff3753be7d1de8747b953a88b", "message": "DHFPROD-6289:Add ESLint to CI/CD", "committedDate": "2020-12-17T22:22:12Z", "type": "forcePushed"}, {"oid": "b2c3c6d2fececa60f6123b1654d3e90c5e217e6c", "url": "https://github.com/marklogic/marklogic-data-hub/commit/b2c3c6d2fececa60f6123b1654d3e90c5e217e6c", "message": "DHFPROD-6289:Add ESLint to CI/CD", "committedDate": "2020-12-18T04:56:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE0NDgzOA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5022#discussion_r546144838", "bodyText": "Command wrong.\nit should be ./gradlew marklogic-data-hub-central:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/ |& tee console.log; sleep 10s; ./gradlew marklogic-data-hub-central:lintUI -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;", "author": "SameeraPriyathamTadikonda", "createdAt": "2020-12-18T23:28:44Z", "path": "Jenkinsfile", "diffHunk": "@@ -287,7 +287,7 @@ void UnitTest(){\n         props = readProperties file:'data-hub/pipeline.properties';\n         copyRPM 'Release','10.0-5'\n         setUpML '$WORKSPACE/xdmp/src/Mark*.rpm'\n-        sh 'export JAVA_HOME=`eval echo \"$JAVA_HOME_DIR\"`;export GRADLE_USER_HOME=$WORKSPACE$GRADLE_DIR;export M2_HOME=$MAVEN_HOME/bin;export PATH=$JAVA_HOME/bin:$GRADLE_USER_HOME:$PATH:$MAVEN_HOME/bin;cd $WORKSPACE/data-hub;rm -rf $GRADLE_USER_HOME/caches;set +e;./gradlew clean;./gradlew marklogic-data-hub:bootstrap -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-central:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/ |& tee console.log;sleep 10s;./gradlew ml-data-hub:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;./gradlew web:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-spark-connector:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;'\n+        sh 'export JAVA_HOME=`eval echo \"$JAVA_HOME_DIR\"`;export GRADLE_USER_HOME=$WORKSPACE$GRADLE_DIR;export M2_HOME=$MAVEN_HOME/bin;export PATH=$JAVA_HOME/bin:$GRADLE_USER_HOME:$PATH:$MAVEN_HOME/bin;cd $WORKSPACE/data-hub;rm -rf $GRADLE_USER_HOME/caches;set +e;./gradlew clean;./gradlew marklogic-data-hub:bootstrap -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-central:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-central:lintUI -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/; |& tee console.log;sleep 10s;./gradlew ml-data-hub:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;./gradlew web:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-spark-connector:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;'", "originalCommit": "b2c3c6d2fececa60f6123b1654d3e90c5e217e6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU1NjM2NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5022#discussion_r547556364", "bodyText": "Fixed", "author": "yafeldman", "createdAt": "2020-12-22T23:30:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE0NDgzOA=="}], "type": "inlineReview"}, {"oid": "292244e2f8f4ce8d7299c3419b389a8ffa54716d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/292244e2f8f4ce8d7299c3419b389a8ffa54716d", "message": "DHFPROD-6289:Add ESLint to CI/CD", "committedDate": "2020-12-22T23:26:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU2MDQ0Mg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5022#discussion_r547560442", "bodyText": "Please do not change the command. still has issues.", "author": "SameeraPriyathamTadikonda", "createdAt": "2020-12-22T23:45:25Z", "path": "Jenkinsfile", "diffHunk": "@@ -287,7 +287,7 @@ void UnitTest(){\n         props = readProperties file:'data-hub/pipeline.properties';\n         copyRPM 'Release','10.0-5'\n         setUpML '$WORKSPACE/xdmp/src/Mark*.rpm'\n-        sh 'export JAVA_HOME=`eval echo \"$JAVA_HOME_DIR\"`;export GRADLE_USER_HOME=$WORKSPACE$GRADLE_DIR;export M2_HOME=$MAVEN_HOME/bin;export PATH=$JAVA_HOME/bin:$GRADLE_USER_HOME:$PATH:$MAVEN_HOME/bin;cd $WORKSPACE/data-hub;rm -rf $GRADLE_USER_HOME/caches;set +e;./gradlew clean;./gradlew marklogic-data-hub:bootstrap -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-central:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/ |& tee console.log;sleep 10s;./gradlew ml-data-hub:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;./gradlew web:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-spark-connector:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;'\n+        sh 'export JAVA_HOME=`eval echo \"$JAVA_HOME_DIR\"`;export GRADLE_USER_HOME=$WORKSPACE$GRADLE_DIR;export M2_HOME=$MAVEN_HOME/bin;export PATH=$JAVA_HOME/bin:$GRADLE_USER_HOME:$PATH:$MAVEN_HOME/bin;cd $WORKSPACE/data-hub;rm -rf $GRADLE_USER_HOME/caches;set +e;./gradlew clean;./gradlew marklogic-data-hub:bootstrap -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-central:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s; |& tee console.log;sleep 10s;./gradlew ml-data-hub:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;./gradlew web:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;sleep 10s;./gradlew marklogic-data-hub-spark-connector:test -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;./gradlew marklogic-data-hub-central:lintUI -i --stacktrace -PnodeDistributionBaseUrl=http://node-mirror.eng.marklogic.com:8080/;'", "originalCommit": "292244e2f8f4ce8d7299c3419b389a8ffa54716d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "718dfe037033655229416d10d912b98b3b646d6d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/718dfe037033655229416d10d912b98b3b646d6d", "message": "DHFPROD-6289:Add ESLint to CI/CD", "committedDate": "2020-12-22T23:51:36Z", "type": "commit"}, {"oid": "718dfe037033655229416d10d912b98b3b646d6d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/718dfe037033655229416d10d912b98b3b646d6d", "message": "DHFPROD-6289:Add ESLint to CI/CD", "committedDate": "2020-12-22T23:51:36Z", "type": "forcePushed"}]}