{"pr_number": 4345, "pr_title": "DHFPROD-5637: Add entityInstance object to search results for row render", "pr_createdAt": "2020-08-05T22:53:54Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4345", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1NTUwMA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4345#discussion_r466055500", "bodyText": "I thought the intent was that the entire entity instance would be included - i.e. the part at /:envelope/:instance ? Isn't that what the UI needs for the current row expander, where it's just showing a pretty JSON view of the entity? I know in the future, we want to show properties with labels for the row expander and detail view, but I think that's 5.4.0.", "author": "rjrudin", "createdAt": "2020-08-05T23:16:54Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/entities/entity-search-lib.sjs", "diffHunk": "@@ -342,17 +345,23 @@ function addEntitySpecificProperties(result, entityInfo, selectedPropertyMetadat\n         result.entityProperties.push(getPropertyValues(parentProperty, entityInstance));\n       });\n \n+      propertyMetadata.forEach(parentProperty => {\n+        result.entityInstance.push(getPropertyValues(parentProperty, entityInstance));", "originalCommit": "e009c9631ad608a19afad0a39091021ce3b11dd5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1ODM4MQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4345#discussion_r466058381", "bodyText": "Yes, propertyMetadata has all the entityProperties of an entityModel.\nRow expander shows a tabular column with entityTypePropertyName and its corresponding value.", "author": "rahulvudutala", "createdAt": "2020-08-05T23:25:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1NTUwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxOTk0OA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4345#discussion_r466419948", "bodyText": "Doesn't that result in a change of what's shown though? The row expander is showing a pretty JSON view of the entity instance. That's apparent because the user sees \"shipping / Address / street\" instead of just \"shipping / street\".\nI'll try this out locally, it just seems the easiest thing to do is return the entity instance so that the UI doesn't have to try to guess where it is in the extracted content array.", "author": "rjrudin", "createdAt": "2020-08-06T13:40:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1NTUwMA=="}], "type": "inlineReview"}, {"oid": "0214134f510546fe5cd24b541647062018f582f5", "url": "https://github.com/marklogic/marklogic-data-hub/commit/0214134f510546fe5cd24b541647062018f582f5", "message": "DHFPROD-5637: Add entityInstance object to search results for row render", "committedDate": "2020-08-06T22:50:49Z", "type": "forcePushed"}, {"oid": "a17a8e2d3c3b801d13fdf36289481650588585e0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/a17a8e2d3c3b801d13fdf36289481650588585e0", "message": "DHFPROD-5637: Add entityInstance object to search results for row render", "committedDate": "2020-08-06T23:31:34Z", "type": "forcePushed"}, {"oid": "24073b7baa476d9df4c08cdc97f0cefd8c62466e", "url": "https://github.com/marklogic/marklogic-data-hub/commit/24073b7baa476d9df4c08cdc97f0cefd8c62466e", "message": "DHFPROD-5637: Add entityInstance object to search results for row render", "committedDate": "2020-08-07T18:48:54Z", "type": "commit"}, {"oid": "24073b7baa476d9df4c08cdc97f0cefd8c62466e", "url": "https://github.com/marklogic/marklogic-data-hub/commit/24073b7baa476d9df4c08cdc97f0cefd8c62466e", "message": "DHFPROD-5637: Add entityInstance object to search results for row render", "committedDate": "2020-08-07T18:48:54Z", "type": "forcePushed"}]}