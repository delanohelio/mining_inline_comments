{"pr_number": 5016, "pr_title": "DHFPROD-6357: Return all user-defined steps", "pr_createdAt": "2020-12-17T19:02:43Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/5016", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMzNDAxOA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#discussion_r545334018", "bodyText": "Should 'mastering' step be present as well ? The users cannot create / edit one in HC but they can add it to flow ?", "author": "srinathgit", "createdAt": "2020-12-17T19:06:27Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/data-services/step/getStepsByType.sjs", "diffHunk": "@@ -24,7 +24,7 @@ const Artifacts = require('/data-hub/5/artifacts/core.sjs');\n var propertiesToReturn;\n \n const response = {};\n-const stepTypes = ['ingestion', 'mapping'];\n+const stepTypes = ['ingestion', 'mapping', 'matching', 'merging', 'mastering'];", "originalCommit": "0e965838b16bc7ef68833db915e65b5d54c3bd84", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "003689619d7d87f7f145db1862e285887df24fa5", "url": "https://github.com/marklogic/marklogic-data-hub/commit/003689619d7d87f7f145db1862e285887df24fa5", "message": "DHFPROD-6357: Return matching, merging, mastering and custom steps as well", "committedDate": "2020-12-17T19:40:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM3NTU2MA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#discussion_r545375560", "bodyText": "Given that we want all steps, it'll be simpler and faster to just query for all steps (they all share a collection) and then group them into a sorted map structure. That's 1 query instead of 6 queries, and also ensures we don't need to update this again (stepTypes I believe only existed before as a way of preventing anything besides ingestion/mapping from showing up).", "author": "rjrudin", "createdAt": "2020-12-17T20:15:21Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/data-hub/5/data-services/step/getStepsByType.sjs", "diffHunk": "@@ -24,7 +24,7 @@ const Artifacts = require('/data-hub/5/artifacts/core.sjs');\n var propertiesToReturn;\n \n const response = {};\n-const stepTypes = ['ingestion', 'mapping'];\n+const stepTypes = ['ingestion', 'mapping', 'matching', 'merging', 'mastering', 'custom'];", "originalCommit": "003689619d7d87f7f145db1862e285887df24fa5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ0OTg1OQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/5016#discussion_r545449859", "bodyText": "Done", "author": "akshaysonvane", "createdAt": "2020-12-17T22:39:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM3NTU2MA=="}], "type": "inlineReview"}, {"oid": "4e943f92a7f98ee3216f9df2f62bbad85d383abd", "url": "https://github.com/marklogic/marklogic-data-hub/commit/4e943f92a7f98ee3216f9df2f62bbad85d383abd", "message": "DHFPROD-6357: Return all user-defined steps", "committedDate": "2020-12-17T22:36:38Z", "type": "forcePushed"}, {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020", "url": "https://github.com/marklogic/marklogic-data-hub/commit/015c17cd274966f04a0dc8f6e765fb280a34d020", "message": "DHFPROD-6357: Return all user-defined steps", "committedDate": "2020-12-17T22:52:56Z", "type": "commit"}, {"oid": "015c17cd274966f04a0dc8f6e765fb280a34d020", "url": "https://github.com/marklogic/marklogic-data-hub/commit/015c17cd274966f04a0dc8f6e765fb280a34d020", "message": "DHFPROD-6357: Return all user-defined steps", "committedDate": "2020-12-17T22:52:56Z", "type": "forcePushed"}]}