{"pr_number": 4956, "pr_title": "DHFPROD-6319: Use targetEntityType in new match/merge steps", "pr_createdAt": "2020-12-08T06:27:40Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4956", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQwODk5OQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4956#discussion_r538408999", "bodyText": "Is there a common library module that would make sense for this function to live in so that both options-impl and options.xqy can use it? Like the util.xqy module in com.marklogic.smart-mastering?", "author": "rjrudin", "createdAt": "2020-12-08T14:06:01Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/com.marklogic.smart-mastering/survivorship/merging/options.xqy", "diffHunk": "@@ -632,7 +632,7 @@ declare function merge-impl:compile-merge-options(\n         map:map()\n       else ()\n     (: Gather target Entity Type information :)\n-    let $target-entity := $merge-options/(*:target-entity|targetEntity|targetEntityType) ! fn:string(.)\n+    let $target-entity := fn:head(($merge-options/targetEntityType,$merge-options/(*:target-entity|targetEntity))) ! fn:string(.)", "originalCommit": "4ab15fbbd297b272590852035faff51b5bc75329", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyMjMwMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4956#discussion_r538822303", "bodyText": "This has been moved into the util.xqy and a test has been added for that function", "author": "ryanjdew", "createdAt": "2020-12-08T21:31:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQwODk5OQ=="}], "type": "inlineReview"}, {"oid": "86100f123ada4a7a26b3026f4a76366337125a1f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/86100f123ada4a7a26b3026f4a76366337125a1f", "message": "DHFPROD-6319: Use targetEntityType in new match/merge steps", "committedDate": "2020-12-08T19:14:41Z", "type": "forcePushed"}, {"oid": "e89a717f0a694d69052001e3d18ae57ee4b0a796", "url": "https://github.com/marklogic/marklogic-data-hub/commit/e89a717f0a694d69052001e3d18ae57ee4b0a796", "message": "DHFPROD-6319: Use targetEntityType in new match/merge steps", "committedDate": "2020-12-08T21:34:34Z", "type": "commit"}, {"oid": "e89a717f0a694d69052001e3d18ae57ee4b0a796", "url": "https://github.com/marklogic/marklogic-data-hub/commit/e89a717f0a694d69052001e3d18ae57ee4b0a796", "message": "DHFPROD-6319: Use targetEntityType in new match/merge steps", "committedDate": "2020-12-08T21:34:34Z", "type": "forcePushed"}]}