{"pr_number": 4330, "pr_title": "DHFPROD-5433: Confirmation modal message for deleting a query doesn't match the AC", "pr_createdAt": "2020-08-03T17:49:44Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4330", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg1NjYzMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4330#discussion_r464856633", "bodyText": "We would want to test just like a user would, by looking at the delete confirmation text and not the implementation detail, to align with RTL best practices.\nYou can try getByText((_, node) => node.textContent == 'your text here') to check if it asserts text with bold content. Otherwise refer to getSubElements function in Run.test.tsx that asserts text in child nodes as well.", "author": "bsrikan", "createdAt": "2020-08-04T07:33:56Z", "path": "marklogic-data-hub-central/ui/src/components/queries/managing/manage-query-modal/manage-query.test.tsx", "diffHunk": "@@ -38,7 +39,14 @@ describe('Query Modal Component', () => {\n   });\n \n   test('Verify link column does not exist', () => {\n-    const { queryByTitle } = render(<ManageQuery {...defaultProps} modalVisibility={true} />);\n-    expect(queryByTitle('Link')).toBeNull();\n+    const { queryByTestId } = render(<ManageQuery {...defaultProps} isSavedQueryUser={true} />);\n+    expect(queryByTestId('link')).toBeNull();\n+  });\n+\n+  test('Verify confirmation modal message for deleting a query', () => {\n+    const { getByTestId, getByText } = render(<ManageQuery {...defaultProps} isSavedQueryUser={true} />);\n+    expect(getByTestId('delete')).toBeInTheDocument();\n+    fireEvent.click(getByTestId('delete'));\n+    expect(getByTestId('deleteConfirmationText')).toBeInTheDocument();", "originalCommit": "ec3d5b1c96d17c1065c067a4ab835e194b4ca112", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "848bcba01bea8cd4800a975af59d07d67e37b4e2", "url": "https://github.com/marklogic/marklogic-data-hub/commit/848bcba01bea8cd4800a975af59d07d67e37b4e2", "message": "DHFPROD-5433: Confirmation modal for deleting query doesn't match AC", "committedDate": "2020-08-04T19:45:34Z", "type": "forcePushed"}, {"oid": "d47dcc9f292a063bc63be27d41229ebe112bde73", "url": "https://github.com/marklogic/marklogic-data-hub/commit/d47dcc9f292a063bc63be27d41229ebe112bde73", "message": "DHFPROD-5433: Confirmation modal for deleting query doesn't match AC", "committedDate": "2020-08-04T21:22:35Z", "type": "commit"}, {"oid": "d47dcc9f292a063bc63be27d41229ebe112bde73", "url": "https://github.com/marklogic/marklogic-data-hub/commit/d47dcc9f292a063bc63be27d41229ebe112bde73", "message": "DHFPROD-5433: Confirmation modal for deleting query doesn't match AC", "committedDate": "2020-08-04T21:22:35Z", "type": "forcePushed"}]}