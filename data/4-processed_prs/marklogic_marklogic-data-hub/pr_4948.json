{"pr_number": 4948, "pr_title": "DHFPROD-6323: Fix zip match function for HC step", "pr_createdAt": "2020-12-07T21:42:31Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4948", "timeline": [{"oid": "7ec2fb93e04dd87f48fda46fbb70883bb5c67207", "url": "https://github.com/marklogic/marklogic-data-hub/commit/7ec2fb93e04dd87f48fda46fbb70883bb5c67207", "message": "DHFPROD-6323: Fix zip match function for HC step", "committedDate": "2020-12-07T21:40:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4NTc4Mg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4948#discussion_r538485782", "bodyText": "I verified this works locally, but the challenge for me is understanding how I know that zip match works from this test. Because there are a lot of rulesets and entities in play, it takes a lot of work to understand why something matches and why something doesn't match.\nI'm approving this as the bug is fixed, but I'm going to work on a test that isolates the problem as much as possible - I'm thinking something like 2 persisted documents, and then an input doc that matches one but not the other. The entity model will have a single property, and the step config will have a single ruleset using the zip match. I'll see what I come up with.", "author": "rjrudin", "createdAt": "2020-12-08T15:16:33Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/smart-mastering/entity-driven/test-data/steps/matching/matchCustomers.step.json", "diffHunk": "@@ -76,7 +76,7 @@\n         },\n         {\n           \"entityPropertyPath\": \"shipping.zip.fiveDigit\",\n-          \"matchType\": \"exact\"\n+          \"matchType\": \"zip\"", "originalCommit": "7ec2fb93e04dd87f48fda46fbb70883bb5c67207", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}