{"pr_number": 3455, "pr_title": "DHFPROD-3625:Ingest correctly when xml doc root node name is 'root'", "pr_createdAt": "2020-01-11T00:41:29Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/3455", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUyOTYzMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3455#discussion_r365529633", "bodyText": "This is a good test, but I think the assertion should have an explicit xpath without \"//\" - i.e. \"/:envelope/:instance/*:root\". That does a better job of documenting what's expected.", "author": "rjrudin", "createdAt": "2020-01-11T16:21:45Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/builtins/steps/ingestion/default/testXmlIngestWIthRoot.sjs", "diffHunk": "@@ -0,0 +1,11 @@\n+const ing = require('/data-hub/5/builtins/steps/ingestion/default/main.sjs');\n+\n+let assertions = [];\n+\n+function runJsonToXmlIngest() {\n+  let input = fn.head(xdmp.unquote('<root><name>foo</name></root>'));\n+  let options = {\"outputFormat\":\"xml\"}\n+  let content = {\"uri\":\"/test/test.xml\", \"value\":input}\n+  assertions.push(test.assertEqual('<root xmlns=\"\"><name>foo</name></root>', ing.main(content,options).value.xpath(\"//*:root\")));", "originalCommit": "5cbfcf81faf25c419e4d5027828ece91558db5e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0e44d38ed441bfb8a568f5b5dc3fb0269c4f5c34", "url": "https://github.com/marklogic/marklogic-data-hub/commit/0e44d38ed441bfb8a568f5b5dc3fb0269c4f5c34", "message": "DHFPROD-3625:Ingest correctly when xml doc root node name is 'root'", "committedDate": "2020-01-13T05:35:07Z", "type": "commit"}, {"oid": "0e44d38ed441bfb8a568f5b5dc3fb0269c4f5c34", "url": "https://github.com/marklogic/marklogic-data-hub/commit/0e44d38ed441bfb8a568f5b5dc3fb0269c4f5c34", "message": "DHFPROD-3625:Ingest correctly when xml doc root node name is 'root'", "committedDate": "2020-01-13T05:35:07Z", "type": "forcePushed"}]}