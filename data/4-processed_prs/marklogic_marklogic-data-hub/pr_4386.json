{"pr_number": 4386, "pr_title": "DHFPROD-5700: Don't add unnecessary encoding for match queries", "pr_createdAt": "2020-08-11T22:55:27Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4386", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE4NTY2MA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4386#discussion_r469185660", "bodyText": "\"helper-impl\" is used as a prefix above - I find it's best to use the same prefix throughout the codebase to make it easier to find all references to a function via global search. I think \"helper\" is the appropriate prefix, unless there's an existing convention in the SM code for using \"(something)-impl\" for impl libraries.", "author": "rjrudin", "createdAt": "2020-08-12T11:19:00Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/com.marklogic.smart-mastering/survivorship/merging/base.xqy", "diffHunk": "@@ -53,7 +53,10 @@ import module namespace util-impl = \"http://marklogic.com/smart-mastering/util-i\n   at \"/com.marklogic.smart-mastering/impl/util.xqy\";\n import module namespace mem = \"http://maxdewpoint.blogspot.com/memory-operations/functional\"\n   at \"/mlpm_modules/XQuery-XML-Memory-Operations/memory-operations-functional.xqy\";\n-import module namespace es-helper = \"http://marklogic.com/smart-mastering/entity-services\" at \"/com.marklogic.smart-mastering/sm-entity-services.xqy\";\n+import module namespace es-helper = \"http://marklogic.com/smart-mastering/entity-services\"\n+  at \"/com.marklogic.smart-mastering/sm-entity-services.xqy\";\n+import module namespace helper = \"http://marklogic.com/smart-mastering/helper-impl\"", "originalCommit": "b0624640dff61aa562928cc7504b1c9b7be02d7c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE4NjY2NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4386#discussion_r469186664", "bodyText": "I recommend slimming this down to the bare minimum needed to produce the issue. Otherwise, there's an implication that all these properties are needed for the test. Also, don't you need a property with an underscore in its name too?", "author": "rjrudin", "createdAt": "2020-08-12T11:21:12Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/smart-mastering/entity-matching/test-data/entities/Customer_V1.entity.json", "diffHunk": "@@ -0,0 +1,95 @@\n+{\n+  \"info\": {\n+    \"title\": \"Customer_V1\",\n+    \"version\": \"0.0.1\",\n+    \"baseUri\": \"http://example.org/\"\n+  },\n+  \"definitions\": {\n+    \"Customer_V1\": {", "originalCommit": "b0624640dff61aa562928cc7504b1c9b7be02d7c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE4Njg4Nw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4386#discussion_r469186887", "bodyText": "For simplicity, I'd just have name and steps, nothing more.", "author": "rjrudin", "createdAt": "2020-08-12T11:21:43Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/smart-mastering/entity-matching/test-data/flows/customerV1Flow.flow.json", "diffHunk": "@@ -0,0 +1,14 @@\n+{\n+  \"name\": \"customerV1Flow\",", "originalCommit": "b0624640dff61aa562928cc7504b1c9b7be02d7c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07c0ef176850a6a1fd91677ba838ed9331b0128d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/07c0ef176850a6a1fd91677ba838ed9331b0128d", "message": "DHFPROD-5700: Don't add unnecessary encoding for match queries", "committedDate": "2020-08-12T22:25:53Z", "type": "forcePushed"}, {"oid": "ed6e5e2e38d82c870902dbe54bcfd175925cad21", "url": "https://github.com/marklogic/marklogic-data-hub/commit/ed6e5e2e38d82c870902dbe54bcfd175925cad21", "message": "DHFPROD-5700: Don't add unnecessary encoding for match queries", "committedDate": "2020-08-12T22:28:26Z", "type": "commit"}, {"oid": "ed6e5e2e38d82c870902dbe54bcfd175925cad21", "url": "https://github.com/marklogic/marklogic-data-hub/commit/ed6e5e2e38d82c870902dbe54bcfd175925cad21", "message": "DHFPROD-5700: Don't add unnecessary encoding for match queries", "committedDate": "2020-08-12T22:28:26Z", "type": "forcePushed"}]}