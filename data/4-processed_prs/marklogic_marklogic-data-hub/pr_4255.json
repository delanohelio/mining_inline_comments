{"pr_number": 4255, "pr_title": "DHFPROD-5521: Convert HC privileges into DH privileges", "pr_createdAt": "2020-07-21T18:14:18Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4255", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODI5NjY2Mw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4255#discussion_r458296663", "bodyText": "I confirmed that \"operator\" is no longer used for anything.", "author": "rjrudin", "createdAt": "2020-07-21T18:16:29Z", "path": "marklogic-data-hub/src/test/ml-modules/root/test/suites/data-hub/5/data-services/hubCentral/getAuthoritiesTest.sjs", "diffHunk": "@@ -1,19 +0,0 @@\n-const test = require(\"/test/test-helper.xqy\");\n-\n-function invokeService() {\n-    return fn.head(xdmp.invoke(\n-        \"/data-hub/5/data-services/hubCentral/getAuthorities.sjs\",\n-        {}\n-    ));\n-}\n-\n-const response = invokeService();\n-const minExpectedAuthorities = [\"operator\"];", "originalCommit": "d2725ff983965b687b557dfe66b99c60e049ba98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "url": "https://github.com/marklogic/marklogic-data-hub/commit/eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "message": "DHFPROD-5521: Convert HC privileges into DH privileges\n\nThis is being done in preparation for 5259, where each DS endpoint is secured with a privilege. \n\ngetAuthorities now uses HC roles instead of privileges. \n\nTo avoid deployment conflicts, I changed a couple HC privileges so that their names are consistent with the rest of privileges, but I had to change the action too to avoid a deployment conflict:\n- hub-central:loginToHubCentral is now hub-central-login\n- hub-central:exportEntityInstances is now hub-central-export-entities\n\nI think \"export-entities\" implies that it's entity instances you're getting and not models. And we'll likely have e.g \"export-jobs\" in the future, and \"export-entities\" and \"export-jobs\" are consistent with each other. \nasdf", "committedDate": "2020-07-22T13:35:44Z", "type": "commit"}, {"oid": "eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "url": "https://github.com/marklogic/marklogic-data-hub/commit/eec39b1f17ce2f090c6d9bdb3ff58e11e9cd91cf", "message": "DHFPROD-5521: Convert HC privileges into DH privileges\n\nThis is being done in preparation for 5259, where each DS endpoint is secured with a privilege. \n\ngetAuthorities now uses HC roles instead of privileges. \n\nTo avoid deployment conflicts, I changed a couple HC privileges so that their names are consistent with the rest of privileges, but I had to change the action too to avoid a deployment conflict:\n- hub-central:loginToHubCentral is now hub-central-login\n- hub-central:exportEntityInstances is now hub-central-export-entities\n\nI think \"export-entities\" implies that it's entity instances you're getting and not models. And we'll likely have e.g \"export-jobs\" in the future, and \"export-entities\" and \"export-jobs\" are consistent with each other. \nasdf", "committedDate": "2020-07-22T13:35:44Z", "type": "forcePushed"}]}