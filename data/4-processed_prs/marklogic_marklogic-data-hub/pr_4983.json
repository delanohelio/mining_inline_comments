{"pr_number": 4983, "pr_title": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "pr_createdAt": "2020-12-10T20:22:38Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4983", "timeline": [{"oid": "79f803220c4554a5c63eaf60b538cc4f7e8420e4", "url": "https://github.com/marklogic/marklogic-data-hub/commit/79f803220c4554a5c63eaf60b538cc4f7e8420e4", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-10T20:30:05Z", "type": "forcePushed"}, {"oid": "12a60b87437fb86407601f210cea19a296982aa9", "url": "https://github.com/marklogic/marklogic-data-hub/commit/12a60b87437fb86407601f210cea19a296982aa9", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-10T20:42:18Z", "type": "forcePushed"}, {"oid": "d717f2ad0e78df62b36bb98036722ba3764e9165", "url": "https://github.com/marklogic/marklogic-data-hub/commit/d717f2ad0e78df62b36bb98036722ba3764e9165", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-14T14:38:11Z", "type": "forcePushed"}, {"oid": "6489ed20d4a4afd9ed94e94c2ebb6a2876a36955", "url": "https://github.com/marklogic/marklogic-data-hub/commit/6489ed20d4a4afd9ed94e94c2ebb6a2876a36955", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-14T16:22:51Z", "type": "forcePushed"}, {"oid": "244c22e8399fe3224754fefbd79d02785c5e0eed", "url": "https://github.com/marklogic/marklogic-data-hub/commit/244c22e8399fe3224754fefbd79d02785c5e0eed", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-14T19:23:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjcyNDI0OA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542724248", "bodyText": "We've updated the header logo to link to marklogic.com. There's a test in App.test.tsx (line 46) that checks that this goes to the Overview page when clicked. I think this needs to be updated to test the new link, it's failing in my env.", "author": "wooldridge", "createdAt": "2020-12-14T20:07:29Z", "path": "marklogic-data-hub-central/ui/src/components/header/header.tsx", "diffHunk": "@@ -141,25 +215,54 @@ const Header:React.FC<Props> = (props) => {\n         theme=\"dark\"\n       >\n         <Menu.Item>\n-          <MLTooltip title=\"Help\"><a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\"><Icon type=\"question-circle\"/></a></MLTooltip>\n+          <MLTooltip title=\"Help\">\n+            <div className={styles.helpIconContainer}>\n+              <a id=\"help-link\" href=\"https://docs.marklogic.com/datahub/\" target=\"_blank\" tabIndex={1} className={styles.helpIconLink}>\n+                <Icon type=\"question-circle\" className={styles.helpIcon}/>\n+              </a>\n+            </div>\n+          </MLTooltip>\n         </Menu.Item>\n       </Menu>\n     </div>;\n   }\n \n-  const handleHomeClick = () => {\n+  const handleHomeClick = (event) => {\n+    event.preventDefault();\n     props.history.push(\"/tiles\");\n   };\n \n+  const logoKeyDownHandler = (event) => {\n+    if (event.key === \"ArrowRight\") { titleRef.current!.focus(); }\n+  };\n+\n+  const logoClickHandler = (event) => {\n+    event.preventDefault();\n+    logoRef.current!.click();\n+  };\n+\n+  const titleKeyDownHandle = (event) => {\n+    if (event.key === \"Enter\") { handleHomeClick(event); }\n+\n+    if (event.key === \"ArrowRight\") { serviceNameRef.current!.focus(); }\n+    if (event.key === \"ArrowLeft\") { logoRef.current!.focus(); }\n+  };\n+\n   return (\n     <>\n       <Layout.Header className={styles.container}>\n-        <div className={styles.logoContainer} aria-label=\"header-logo\" onClick={handleHomeClick}>\n-          <Avatar className={styles.logo} src={logo} />\n+        <div className={styles.logoContainer} aria-label=\"header-logo\">\n+          <a href=\"https://www.marklogic.com/\" aria-label=\"logo-link\" className={styles.logo} tabIndex={1} ref={logoRef} ", "originalCommit": "244c22e8399fe3224754fefbd79d02785c5e0eed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgxOTU4MA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542819580", "bodyText": "fixed", "author": "jyangML", "createdAt": "2020-12-14T21:37:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjcyNDI0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542744248", "bodyText": "I'm also seeing this import for fireEvent repeated on line 10 and my testing is complaining, remove the one on line 10?", "author": "wooldridge", "createdAt": "2020-12-14T20:26:25Z", "path": "marklogic-data-hub-central/ui/src/pages/Overview.test.tsx", "diffHunk": "@@ -1,6 +1,7 @@\n import React from \"react\";\n import {Router} from \"react-router\";\n import {createMemoryHistory} from \"history\";\n+import userEvent from \"@testing-library/user-event\";\n import {render, fireEvent} from \"@testing-library/react\";", "originalCommit": "244c22e8399fe3224754fefbd79d02785c5e0eed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NjgwMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542746803", "bodyText": "I see the test file getting fireEvent from two different places, /react and /dom.", "author": "wooldridge", "createdAt": "2020-12-14T20:28:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgxOTQ3Mw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4983#discussion_r542819473", "bodyText": "fixed", "author": "jyangML", "createdAt": "2020-12-14T21:36:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjc0NDI0OA=="}], "type": "inlineReview"}, {"oid": "9dc3e83786e42aa8b372679bb18002e77918daa4", "url": "https://github.com/marklogic/marklogic-data-hub/commit/9dc3e83786e42aa8b372679bb18002e77918daa4", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-14T21:36:23Z", "type": "forcePushed"}, {"oid": "8ef47c484eea8b60021b4b7495a21a208db1c818", "url": "https://github.com/marklogic/marklogic-data-hub/commit/8ef47c484eea8b60021b4b7495a21a208db1c818", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-15T20:03:19Z", "type": "forcePushed"}, {"oid": "673cd128a7177b5de6700dd0adc77f0436e46be9", "url": "https://github.com/marklogic/marklogic-data-hub/commit/673cd128a7177b5de6700dd0adc77f0436e46be9", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-15T20:38:47Z", "type": "forcePushed"}, {"oid": "a5781a31ee6892eb3c7ead9e10887878acd7a959", "url": "https://github.com/marklogic/marklogic-data-hub/commit/a5781a31ee6892eb3c7ead9e10887878acd7a959", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-15T23:11:47Z", "type": "forcePushed"}, {"oid": "7387d67c0e98c97865499190dff158229c309892", "url": "https://github.com/marklogic/marklogic-data-hub/commit/7387d67c0e98c97865499190dff158229c309892", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-16T21:03:15Z", "type": "forcePushed"}, {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-16T21:06:22Z", "type": "commit"}, {"oid": "2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/2c14ef182b7ddcc981a80c5f4ba6fc651b4d00b0", "message": "DHFPROD-5799: added keyboard navigation to overview page, header, footer", "committedDate": "2020-12-16T21:06:22Z", "type": "forcePushed"}]}