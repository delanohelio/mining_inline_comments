{"pr_number": 4197, "pr_title": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed", "pr_createdAt": "2020-07-09T20:13:30Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4197", "timeline": [{"oid": "ba2d458af4dcca0491ad7add10992f2e4ee680a0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/ba2d458af4dcca0491ad7add10992f2e4ee680a0", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed", "committedDate": "2020-07-09T20:12:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjI5MA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452806290", "bodyText": "Why are these dates important? This comment is just stating the same thing as the code - the comment should instead address what the code cannot, which is why 9/12 and 11/12 are the dates.", "author": "rjrudin", "createdAt": "2020-07-10T12:16:23Z", "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/DataHubImpl.java", "diffHunk": "@@ -254,26 +254,26 @@ public boolean isServerVersionValid(String versionString) {\n                 return false;\n             }\n             if(serverVersion.isNightly()){\n-                //Support all 10.0-nightly on or after 6/20/2019 and 9.0-nightly on or after 7/25/2019\n+                //Support all 10.0-nightly on or after 9/12/2019 and 9.0-nightly on or after 11/12/2019", "originalCommit": "ba2d458af4dcca0491ad7add10992f2e4ee680a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1MDExMQ==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452950111", "bodyText": "These dates are the nightly servers on the day the server was released (looking into builds dir). I will add a comment to that effect.", "author": "srinathgit", "createdAt": "2020-07-10T16:33:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjI5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjU1Nw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452806557", "bodyText": "Same thing - why do we require 9.0-11 and not 9.0-10?", "author": "rjrudin", "createdAt": "2020-07-10T12:16:56Z", "path": "marklogic-data-hub/src/main/java/com/marklogic/hub/impl/DataHubImpl.java", "diffHunk": "@@ -254,26 +254,26 @@ public boolean isServerVersionValid(String versionString) {\n                 return false;\n             }\n             if(serverVersion.isNightly()){\n-                //Support all 10.0-nightly on or after 6/20/2019 and 9.0-nightly on or after 7/25/2019\n+                //Support all 10.0-nightly on or after 9/12/2019 and 9.0-nightly on or after 11/12/2019\n                 if(serverVersion.getMajor() == 9) {\n-                    Date minDate = new GregorianCalendar(2019, Calendar.JULY, 25).getTime();\n+                    Date minDate = new GregorianCalendar(2019, Calendar.NOVEMBER, 12).getTime();\n                     Date date = new SimpleDateFormat(\"y-M-d\").parse(serverVersion.getDateString());\n                     if (date.before(minDate)) {\n                         return false;\n                     }\n                 }\n                 if(serverVersion.getMajor() == 10) {\n-                    Date minDate = new GregorianCalendar(2019, Calendar.JUNE, 20).getTime();\n+                    Date minDate = new GregorianCalendar(2019, Calendar.SEPTEMBER, 12).getTime();\n                     Date date = new SimpleDateFormat(\"y-M-d\").parse(serverVersion.getDateString());\n                     if (date.before(minDate)) {\n                         return false;\n                     }\n                 }\n             }\n-            //5.1.0 supports server versions 9.x >= 9.0-10 and 10.x >= 10.0.2\n+            //5.3.0 supports server versions 9.x >= 9.0-11 and 10.x >= 10.0.2\n             else {\n                 if(serverVersion.getMajor() == 9){\n-                    if(serverVersion.getMinor() < 1000) {\n+                    if(serverVersion.getMinor() < 1100) {", "originalCommit": "ba2d458af4dcca0491ad7add10992f2e4ee680a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1MTUxOA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452951518", "bodyText": "@kkanthet mentioned in the ticket that the support for 5.3.0 starts from 9.0-11. I am not sure of the specific reason why 9.0-10 is not supported.", "author": "srinathgit", "createdAt": "2020-07-10T16:35:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjU1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1NTQ1Ng==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4197#discussion_r452955456", "bodyText": "Please try to find the reason for it - this is likely the best place to have some documentation, since it's the code that's enforcing the requirement.", "author": "rjrudin", "createdAt": "2020-07-10T16:43:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgwNjU1Nw=="}], "type": "inlineReview"}, {"oid": "a7a624da6a9ab43a7c4006f705804bc84d59c77d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/a7a624da6a9ab43a7c4006f705804bc84d59c77d", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed", "committedDate": "2020-07-10T18:41:26Z", "type": "commit"}, {"oid": "a7a624da6a9ab43a7c4006f705804bc84d59c77d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/a7a624da6a9ab43a7c4006f705804bc84d59c77d", "message": "DHFPROD-5310:Fix the versions on which datahub 5.3.0 can be installed", "committedDate": "2020-07-10T18:41:26Z", "type": "forcePushed"}]}