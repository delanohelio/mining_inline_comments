{"pr_number": 3453, "pr_title": "DHFPROD-4160: Fixes #3451 by changing and query to or.", "pr_createdAt": "2020-01-10T20:32:34Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/3453", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNTY5Mw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3453#discussion_r365425693", "bodyText": "@ryanjdew I don't know enough to know the impact here. Thoughts?\nI see that the code prior to the latest change was this:\nreturn\n        if (fn:count($queries) gt 1) then\n          helper-impl:group-queries-by-scope($queries, cts:and-query#1)\n        else\n          $queries\n\nAnd is now this:\nreturn\n        let $queries := if (fn:count($queries) gt 1) then\n          helper-impl:group-queries-by-scope($queries, cts:and-query#1)\n        else\n          $queries\n        return\n          if (fn:count($queries) gt 1) then\n            cts:and-query($queries)\n          else\n            $queries\n\nSo this looks like a new line of code. I just don't know whether \"or\" or \"and\" is the right choice here.", "author": "rjrudin", "createdAt": "2020-01-10T20:52:51Z", "path": "marklogic-data-hub/src/main/resources/ml-modules/root/com.marklogic.smart-mastering/matcher-impl/matcher-impl.xqy", "diffHunk": "@@ -303,7 +303,7 @@ declare function match-impl:find-document-matches-by-options(\n           $queries\n         return\n           if (fn:count($queries) gt 1) then\n-            cts:and-query($queries)\n+            cts:or-query($queries)", "originalCommit": "149e3271dda819adf739783427f786aef342f0f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4cc523d690b72e264ddf8cb4708a8f626b0503d3", "url": "https://github.com/marklogic/marklogic-data-hub/commit/4cc523d690b72e264ddf8cb4708a8f626b0503d3", "message": "DHFPROD-4160: Fixes #3451 by changing and query to or.", "committedDate": "2020-01-17T20:04:06Z", "type": "forcePushed"}, {"oid": "11e7c8073ea2b8074d00a6b001353dcc939651f5", "url": "https://github.com/marklogic/marklogic-data-hub/commit/11e7c8073ea2b8074d00a6b001353dcc939651f5", "message": "DHFPROD-4160: Fixes #3451 by changing and query to or.", "committedDate": "2020-01-17T20:12:57Z", "type": "forcePushed"}, {"oid": "d2fccf0d3ebb998f763ff37a7427477a85abed9a", "url": "https://github.com/marklogic/marklogic-data-hub/commit/d2fccf0d3ebb998f763ff37a7427477a85abed9a", "message": "DHFPROD-4160: Fixes #3451 by changing and query to or.", "committedDate": "2020-01-17T20:14:05Z", "type": "forcePushed"}, {"oid": "da60324e9314fd0d3db8824fe6a74a0b4a01fdcd", "url": "https://github.com/marklogic/marklogic-data-hub/commit/da60324e9314fd0d3db8824fe6a74a0b4a01fdcd", "message": "DHFPROD-4160: Fixes #3451 by changing and query to or.", "committedDate": "2020-01-21T20:03:21Z", "type": "commit"}, {"oid": "da60324e9314fd0d3db8824fe6a74a0b4a01fdcd", "url": "https://github.com/marklogic/marklogic-data-hub/commit/da60324e9314fd0d3db8824fe6a74a0b4a01fdcd", "message": "DHFPROD-4160: Fixes #3451 by changing and query to or.", "committedDate": "2020-01-21T20:03:21Z", "type": "forcePushed"}]}