{"pr_number": 6393, "pr_title": " #6391: CI: move from Travis CI to Github Actions ", "pr_createdAt": "2020-10-05T17:39:08Z", "pr_url": "https://github.com/primefaces/primefaces/pull/6393", "timeline": [{"oid": "5611443e4306143b814f0e0d603fb39889529971", "url": "https://github.com/primefaces/primefaces/commit/5611443e4306143b814f0e0d603fb39889529971", "message": "#6391: CI: move from Travis CI to Github Actions", "committedDate": "2020-10-05T17:20:12Z", "type": "commit"}, {"oid": "fb6896a96689852cc004923d4383f3b120c652d4", "url": "https://github.com/primefaces/primefaces/commit/fb6896a96689852cc004923d4383f3b120c652d4", "message": "#6391: CI: move from Travis CI to Github Actions; Sonar", "committedDate": "2020-10-05T17:34:43Z", "type": "commit"}, {"oid": "70f1f3fd682e63ea4630652425026f04ee8fdb98", "url": "https://github.com/primefaces/primefaces/commit/70f1f3fd682e63ea4630652425026f04ee8fdb98", "message": "#6391: CI: move from Travis CI to Github Actions; Sonar", "committedDate": "2020-10-05T17:35:19Z", "type": "commit"}, {"oid": "96bc5d753fe3b87b3365f4b6ddf9376c6b2a6b92", "url": "https://github.com/primefaces/primefaces/commit/96bc5d753fe3b87b3365f4b6ddf9376c6b2a6b92", "message": "#6391: CI: move from Travis CI to Github Actions; Sonar", "committedDate": "2020-10-05T17:36:43Z", "type": "commit"}, {"oid": "96a5ef96bc00d8515961fe7935fb937bddb80a01", "url": "https://github.com/primefaces/primefaces/commit/96a5ef96bc00d8515961fe7935fb937bddb80a01", "message": "#6391: CI: move from Travis CI to Github Actions; Sonar", "committedDate": "2020-10-05T17:43:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwODE2NQ==", "url": "https://github.com/primefaces/primefaces/pull/6393#discussion_r499808165", "bodyText": "I don't think the fi work here.  I am trying it in PFE and it complains about fi I would think the IF alone is enough to run this step?", "author": "melloware", "createdAt": "2020-10-05T19:00:58Z", "path": ".github/workflows/build.yml", "diffHunk": "@@ -0,0 +1,35 @@\n+name: Java CI\n+\n+on: [push, pull_request]\n+#on: push\n+\n+jobs:\n+  build:\n+    runs-on: ubuntu-latest\n+    name: Java ${{ matrix.java }}\n+    strategy:\n+      matrix:\n+        java: [8, 11]\n+\n+    steps:\n+      - uses: actions/checkout@v2\n+      - name: Set up JDK ${{ matrix.java }}\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: ${{ matrix.java }}\n+      - name: Cache Maven packages\n+        uses: actions/cache@v2\n+        with:\n+          path: ~/.m2\n+          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}\n+          restore-keys: ${{ runner.os }}-m2\n+      - name: Log github.ref\n+        run: echo \"${{ github.ref }}\"\n+      - name: Build with Maven\n+        run: mvn clean install -Psecurity-checks -Pjsdoc -Dmaven.javadoc.skip=true -Djsdoc.skip.typedoc=true --batch-mode --show-version\n+      - name: SonarCloud\n+        if: ${{ github.ref == 'refs/heads/master' }}\n+        run: mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar; fi -Dsonar.organization=primefaces -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=${{secrets.SONAR_TOKEN}}", "originalCommit": "96a5ef96bc00d8515961fe7935fb937bddb80a01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgyNDM5OQ==", "url": "https://github.com/primefaces/primefaces/pull/6393#discussion_r499824399", "bodyText": "https://docs.github.com/en/free-pro-team@latest/actions/reference/context-and-expression-syntax-for-github-actions\nI also think the if alone should do it\u00b4s job. Not totally sure whether i compare refs github.ref correct.", "author": "christophs78", "createdAt": "2020-10-05T19:32:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwODE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA2MTY4OA==", "url": "https://github.com/primefaces/primefaces/pull/6393#discussion_r501061688", "bodyText": "The refs look correct to me in the PFE build I can see it comparing them correctly.", "author": "melloware", "createdAt": "2020-10-07T14:32:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwODE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA2MjUxMQ==", "url": "https://github.com/primefaces/primefaces/pull/6393#discussion_r501062511", "bodyText": "This PR in PFE shows it skipped the Sonar task:", "author": "melloware", "createdAt": "2020-10-07T14:33:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwODE2NQ=="}], "type": "inlineReview"}, {"oid": "282bdc1c88dba92270921bc0689078ce6ff01710", "url": "https://github.com/primefaces/primefaces/commit/282bdc1c88dba92270921bc0689078ce6ff01710", "message": "Removed fi", "committedDate": "2020-10-07T14:33:56Z", "type": "commit"}]}