{"pr_number": 6537, "pr_title": "Fix #6501 - ColumnToggler: added resize columns function to columntoggler", "pr_createdAt": "2020-11-20T11:12:31Z", "pr_url": "https://github.com/primefaces/primefaces/pull/6537", "timeline": [{"oid": "fb8a2ccab0b2ca4d1ff6b14047db110b9dbbf975", "url": "https://github.com/primefaces/primefaces/commit/fb8a2ccab0b2ca4d1ff6b14047db110b9dbbf975", "message": "added resize columns", "committedDate": "2020-11-20T11:06:14Z", "type": "commit"}, {"oid": "dbe67255474881ff5de2f0aa0e1658165bc71151", "url": "https://github.com/primefaces/primefaces/commit/dbe67255474881ff5de2f0aa0e1658165bc71151", "message": "added missing javadoc description", "committedDate": "2020-11-20T11:27:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MDY5MA==", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527650690", "bodyText": "number of column(s) will increase", "author": "melloware", "createdAt": "2020-11-20T12:10:56Z", "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase", "originalCommit": "dbe67255474881ff5de2f0aa0e1658165bc71151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MTg1NQ==", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527651855", "bodyText": "I haven't checked by can colStyle be NULL or undefined if a column has no style?  Then the next line will throw an error when its checks its width.", "author": "melloware", "createdAt": "2020-11-20T12:13:32Z", "path": "src/main/resources/META-INF/resources/primefaces/columntoggler/columntoggler.js", "diffHunk": "@@ -397,6 +398,38 @@ PrimeFaces.widget.ColumnToggler = PrimeFaces.widget.DeferredWidget.extend({\n         this.changeTogglerState(column, false);\n         this.fireToggleEvent(false, (index - 1));\n         this.updateColspan();\n+        this.resizeColumns(false);\n+    },\n+\n+    /**\n+     * Resize columns after toggle\n+     * @param {boolean} isChecked `true` when the number of column will increase\n+     * 'false' when they are decrease.\n+     */\n+    resizeColumns: function(isChecked) {\n+\n+        var columns = this.table.find('> .ui-datatable-tablewrapper > table > thead > tr > th');\n+\n+        if(columns.length) {\n+            var visibleColumnLength = columns.filter(':visible').length;\n+\n+            if (isChecked && visibleColumnLength > 1) {\n+                columns.each(function() {\n+                    var col = $(this),\n+                        colStyle = col[0].style,", "originalCommit": "dbe67255474881ff5de2f0aa0e1658165bc71151", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY2NDE2Mw==", "url": "https://github.com/primefaces/primefaces/pull/6537#discussion_r527664163", "bodyText": "Columns always have style from ui-datatable or themes. In addition, the same lines are used exactly in 5 different places in the datatable.js file.", "author": "sqores", "createdAt": "2020-11-20T12:38:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY1MTg1NQ=="}], "type": "inlineReview"}, {"oid": "37583990909728412c583729a8d6438b7e489317", "url": "https://github.com/primefaces/primefaces/commit/37583990909728412c583729a8d6438b7e489317", "message": "fix typo", "committedDate": "2020-11-20T12:23:50Z", "type": "commit"}]}