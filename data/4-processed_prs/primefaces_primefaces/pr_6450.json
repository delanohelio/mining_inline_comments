{"pr_number": 6450, "pr_title": "#6449: DatePicker: Metadata add styleClass", "pr_createdAt": "2020-10-24T19:05:15Z", "pr_url": "https://github.com/primefaces/primefaces/pull/6450", "timeline": [{"oid": "94ac5f3e7d1d8cec8ce7835403fd40f51dcb1a2d", "url": "https://github.com/primefaces/primefaces/commit/94ac5f3e7d1d8cec8ce7835403fd40f51dcb1a2d", "message": "Switching branch", "committedDate": "2020-10-24T15:28:15Z", "type": "commit"}, {"oid": "d3f004003b1ca3052593fe76aa0a0cea3f66c3ac", "url": "https://github.com/primefaces/primefaces/commit/d3f004003b1ca3052593fe76aa0a0cea3f66c3ac", "message": "Merge master into datepicker_meta_class", "committedDate": "2020-10-24T15:29:09Z", "type": "commit"}, {"oid": "f9f998f91832dea6c77ff945b4d62a5e916c25de", "url": "https://github.com/primefaces/primefaces/commit/f9f998f91832dea6c77ff945b4d62a5e916c25de", "message": "Added styleClass to datePicker", "committedDate": "2020-10-24T19:01:42Z", "type": "commit"}, {"oid": "f3d93ad7bd83c068068f27b7381a00583b63039b", "url": "https://github.com/primefaces/primefaces/commit/f3d93ad7bd83c068068f27b7381a00583b63039b", "message": "Improved var name", "committedDate": "2020-10-25T08:55:30Z", "type": "commit"}, {"oid": "7e00e5470e3dbe308cb01c961ab376e2afae9f08", "url": "https://github.com/primefaces/primefaces/commit/7e00e5470e3dbe308cb01c961ab376e2afae9f08", "message": "Added styleClass to doc", "committedDate": "2020-10-25T10:18:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTkxODYxMw==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r511918613", "bodyText": "Check your spacing here it looks like this line needs 2 more space indent.", "author": "melloware", "createdAt": "2020-10-26T12:21:50Z", "path": "src/main/resources/META-INF/resources/primefaces/datepicker/1-datepicker.js", "diffHunk": "@@ -302,12 +302,19 @@ PrimeFaces.widget.DatePicker = PrimeFaces.widget.BaseWidget.extend({\n                     widget: _self,\n                     handle: function(content) {\n                         var dateMetadata = JSON.parse(content).dateMetadata;\n+                        var pdp = _self.jq.data().primeDatePicker;\n                         var disabledDates = [];\n+                        var dateStyleClasses = {};\n                         for (date in dateMetadata) {\n+                            var parsedDate = pdp.parseOptionValue(date);\n                             if (dateMetadata[date].disabled) {\n-                                disabledDates.push(date);\n+                                disabledDates.push(parsedDate);\n+                            }\n+                            if (dateMetadata[date].styleClass) {\n+                              dateStyleClasses[pdp.toISO(parsedDate)] = dateMetadata[date].styleClass;", "originalCommit": "7e00e5470e3dbe308cb01c961ab376e2afae9f08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk0NDQ0NQ==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r511944445", "bodyText": "I already fixed my setting this weekend. Will fix this one.", "author": "jepsar", "createdAt": "2020-10-26T13:07:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTkxODYxMw=="}], "type": "inlineReview"}, {"oid": "a689cf32e3604da8656408787628698db8b442f1", "url": "https://github.com/primefaces/primefaces/commit/a689cf32e3604da8656408787628698db8b442f1", "message": "Fixed indent", "committedDate": "2020-10-26T13:58:40Z", "type": "commit"}, {"oid": "31b6a614c87b00a279ee232697a59d0a91b0c661", "url": "https://github.com/primefaces/primefaces/commit/31b6a614c87b00a279ee232697a59d0a91b0c661", "message": "Fixed indent", "committedDate": "2020-10-26T13:59:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk4NTYwMg==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r511985602", "bodyText": "JSDoc this method what it returns and why you are only returning first 10 chars.", "author": "melloware", "createdAt": "2020-10-26T14:06:15Z", "path": "src/main/resources/META-INF/resources/primefaces/datepicker/0-datepicker.js", "diffHunk": "@@ -1602,6 +1610,10 @@\n             return _classes;\n         },\n \n+        toISO: function (date) {", "originalCommit": "31b6a614c87b00a279ee232697a59d0a91b0c661", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk4ODU3Nw==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r511988577", "bodyText": "Maybe call it toISOString(date)", "author": "melloware", "createdAt": "2020-10-26T14:10:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk4NTYwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA4MDE0NQ==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512080145", "bodyText": "Maybe call it toISOString(date)\n\nI'll rename it to toISODateString and add documentation. Basically we just care about the date part here and not about the time, so I'm taking only the date part.", "author": "jepsar", "createdAt": "2020-10-26T16:06:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk4NTYwMg=="}], "type": "inlineReview"}, {"oid": "c2f3ef0bcdcaae646c1801415e9b8c23319a3e86", "url": "https://github.com/primefaces/primefaces/commit/c2f3ef0bcdcaae646c1801415e9b8c23319a3e86", "message": "toISO -> toISODateString + doc", "committedDate": "2020-10-27T07:12:44Z", "type": "commit"}, {"oid": "2bf07e3e6f21ea839e0d2616faffdd8cbbaa2f2d", "url": "https://github.com/primefaces/primefaces/commit/2bf07e3e6f21ea839e0d2616faffdd8cbbaa2f2d", "message": "Removed unused parameter", "committedDate": "2020-10-27T07:19:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjYyNzU5Nw==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512627597", "bodyText": "Why not just make your equals and hashcode methods...\n@Override\n    public int hashCode() {\n        return Objects.hash(disabled, styleClass);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (!(obj instanceof DefaultDateMetadata)) {\n            return false;\n        }\n        DefaultDateMetadata other = (DefaultDateMetadata) obj;\n        return disabled == other.disabled && Objects.equals(styleClass, other.styleClass);\n    }", "author": "melloware", "createdAt": "2020-10-27T11:49:59Z", "path": "src/main/java/org/primefaces/model/datepicker/DefaultDateMetadata.java", "diffHunk": "@@ -62,12 +75,15 @@ public boolean equals(Object obj) {\n             return false;\n         }\n         final DefaultDateMetadata other = (DefaultDateMetadata) obj;\n-        return this.disabled == other.disabled;\n+        if (this.disabled != other.disabled) {\n+            return false;\n+        }\n+        return Objects.equals(this.styleClass, other.styleClass);\n     }", "originalCommit": "2bf07e3e6f21ea839e0d2616faffdd8cbbaa2f2d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY0MDc5OA==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512640798", "bodyText": "I did not bother writing them. It's how they were generated by NetBeans.", "author": "jepsar", "createdAt": "2020-10-27T12:11:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjYyNzU5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY0MTQxNg==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512641416", "bodyText": "Ahh mine above were generated by Eclipse.  Interesting!", "author": "melloware", "createdAt": "2020-10-27T12:12:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjYyNzU5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY0NjM0MQ==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512646341", "bodyText": ".. doesn't matter, I'll change them", "author": "jepsar", "createdAt": "2020-10-27T12:20:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjYyNzU5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY1MTI2Mw==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512651263", "bodyText": "OK cool yeah its juts that Objects.hash() already does all the magic inside of it so its strange Netbeans generates like that.", "author": "melloware", "createdAt": "2020-10-27T12:28:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjYyNzU5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMDkxOA==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r511830918", "bodyText": "Metadata", "author": "tandraschko", "createdAt": "2020-10-26T09:43:40Z", "path": "docs/9_0/components/datepicker.md", "diffHunk": "@@ -293,11 +293,12 @@ private DateMetadataModel lazyModel;\n @PostConstruct\n public void init() {\n     DefaultDateMetadata metadataDisabled = DefaultDateMetadata.builder().disabled(true).build();\n+    DefaultDateMetadata metaDataDeadline = DefaultDateMetadata.builder().styleClass(\"deadline\").build();", "originalCommit": "7e00e5470e3dbe308cb01c961ab376e2afae9f08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjg0OTEyMw==", "url": "https://github.com/primefaces/primefaces/pull/6450#discussion_r512849123", "bodyText": "Ah, that slipped in here by copy pasting it from the showcase.. let me fix it there as well", "author": "jepsar", "createdAt": "2020-10-27T16:36:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMDkxOA=="}], "type": "inlineReview"}, {"oid": "aa2d69ee70068929cbbc367cdfba7ae955bc1774", "url": "https://github.com/primefaces/primefaces/commit/aa2d69ee70068929cbbc367cdfba7ae955bc1774", "message": "hashCode + equals", "committedDate": "2020-10-27T18:13:46Z", "type": "commit"}, {"oid": "7c6bbedafd473de79d2dcd89a3737880e0d4a7fd", "url": "https://github.com/primefaces/primefaces/commit/7c6bbedafd473de79d2dcd89a3737880e0d4a7fd", "message": "metaData -> metadata", "committedDate": "2020-10-27T18:18:03Z", "type": "commit"}, {"oid": "92c49dad76b4e78b4b5f21abd7aed342283a6706", "url": "https://github.com/primefaces/primefaces/commit/92c49dad76b4e78b4b5f21abd7aed342283a6706", "message": "Merge master into datepicker_meta_class\n\nConflicts:\n\tsrc/main/java/org/primefaces/component/datepicker/DatePickerRenderer.java", "committedDate": "2020-10-28T19:03:19Z", "type": "commit"}]}