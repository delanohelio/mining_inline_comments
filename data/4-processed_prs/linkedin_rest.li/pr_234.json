{"pr_number": 234, "pr_title": "Add local-release script", "pr_createdAt": "2020-03-25T03:28:24Z", "pr_url": "https://github.com/linkedin/rest.li/pull/234", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMyNzQ4Mw==", "url": "https://github.com/linkedin/rest.li/pull/234#discussion_r398327483", "bodyText": "Have you tested? did you verify if this expands?\nEdit: never mind I see your expanding it in gradle task.", "author": "junchuanwang", "createdAt": "2020-03-26T05:36:35Z", "path": "gradle.properties", "diffHunk": "@@ -4,3 +4,4 @@ org.gradle.configureondemand=true\n org.gradle.parallel=true\n org.gradle.jvmargs=-Xmx4096M\n aggregateFailures=false\n+localRepoPath=~/local-repo", "originalCommit": "185f10ef78cf8b7f55c1a527235e5bbbc89f0708", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9dd231808acb3877012bc1f3761b699e5a499e28", "url": "https://github.com/linkedin/rest.li/commit/9dd231808acb3877012bc1f3761b699e5a499e28", "message": "Add local-release script\n\nPublishes Maven artifacts to ~/local-repo", "committedDate": "2020-04-01T23:49:04Z", "type": "commit"}, {"oid": "9dd231808acb3877012bc1f3761b699e5a499e28", "url": "https://github.com/linkedin/rest.li/commit/9dd231808acb3877012bc1f3761b699e5a499e28", "message": "Add local-release script\n\nPublishes Maven artifacts to ~/local-repo", "committedDate": "2020-04-01T23:49:04Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjAwODMxOQ==", "url": "https://github.com/linkedin/rest.li/pull/234#discussion_r402008319", "bodyText": "What if ~/local-repo was deleted manually? Should this script create it if ${HOME} is valid?", "author": "karthikbalasub", "createdAt": "2020-04-02T01:52:57Z", "path": "local-release", "diffHunk": "@@ -0,0 +1,22 @@\n+#!/bin/sh\n+# The purpose of this script is to publish artifacts to ~/local-repo\n+\n+LOCAL_REPO=\"${HOME}/local-repo\"\n+\n+if [ ! -d $LOCAL_REPO ]; then", "originalCommit": "9dd231808acb3877012bc1f3761b699e5a499e28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE4Njk2Mg==", "url": "https://github.com/linkedin/rest.li/pull/234#discussion_r402186962", "bodyText": "Good point. Updated the PR", "author": "evanw555", "createdAt": "2020-04-02T09:46:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjAwODMxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjAxMzE1Mw==", "url": "https://github.com/linkedin/rest.li/pull/234#discussion_r402013153", "bodyText": "Will this handle trailing whitespaces?", "author": "karthikbalasub", "createdAt": "2020-04-02T02:12:47Z", "path": "local-release", "diffHunk": "@@ -0,0 +1,22 @@\n+#!/bin/sh\n+# The purpose of this script is to publish artifacts to ~/local-repo\n+\n+LOCAL_REPO=\"${HOME}/local-repo\"\n+\n+if [ ! -d $LOCAL_REPO ]; then\n+  # If this error is encountered, then (1) $HOME is not set correctly or (2) ~/local-repo doesn't exist\n+  echo \"Cannot perform local release, '$LOCAL_REPO' is not a valid directory\"\n+  exit 1\n+fi\n+\n+VERSION=$(awk 'BEGIN { FS = \"=\" }; $1 == \"version\" { print $2 }' gradle.properties)", "originalCommit": "9dd231808acb3877012bc1f3761b699e5a499e28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE4NzY0NA==", "url": "https://github.com/linkedin/rest.li/pull/234#discussion_r402187644", "bodyText": "It won't, fixed that in the latest diff and fixed it in the other files as well. What's interesting is that other Gradle tasks break if there's tailing whitespace, so it's a moot point.", "author": "evanw555", "createdAt": "2020-04-02T09:47:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjAxMzE1Mw=="}], "type": "inlineReview"}, {"oid": "b57cb6d4486f7498d578030fa0f16283444b3a25", "url": "https://github.com/linkedin/rest.li/commit/b57cb6d4486f7498d578030fa0f16283444b3a25", "message": "Check only that HOME is valid, trim whitespace in version number", "committedDate": "2020-04-02T09:45:31Z", "type": "commit"}]}