{"pr_number": 293, "pr_title": "Creating a light-weight representation of InJarFileDataSchemaLocation", "pr_createdAt": "2020-05-13T19:34:10Z", "pr_url": "https://github.com/linkedin/rest.li/pull/293", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDczMjk5OQ==", "url": "https://github.com/linkedin/rest.li/pull/293#discussion_r424732999", "bodyText": "This would break the functionality when a location is checked agains known bad locations.\nIn that case InJarFileDataSchemaLocation will be checked and it would not match JarFileDataSchemaLocation", "author": "karthikbalasub", "createdAt": "2020-05-13T21:10:33Z", "path": "data/src/main/java/com/linkedin/data/schema/resolver/JarFileDataSchemaLocation.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/*\n+   Copyright (c) 2012 LinkedIn Corp.\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+\n+package com.linkedin.data.schema.resolver;\n+\n+import com.linkedin.data.schema.DataSchemaLocation;\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.util.zip.ZipEntry;\n+\n+\n+/**\n+ * Represents the location of a DataSchema file in a Jar.\n+ * Similar to {@link InJarFileDataSchemaLocation}, but it does not contain the jar file itself\n+ */\n+public class JarFileDataSchemaLocation implements DataSchemaLocation {\n+  private final String _jarFileName;\n+  private final String _pathInJar;\n+\n+  public JarFileDataSchemaLocation(String jarFileName, String pathInJar)\n+  {\n+    _jarFileName = jarFileName;\n+    _pathInJar = pathInJar;\n+  }\n+\n+  @Override\n+  public boolean equals(Object o)\n+  {\n+    if (this == o)\n+      return true;\n+    if (o instanceof JarFileDataSchemaLocation == false)", "originalCommit": "b4e6aad81e8104463ba836273b371de5500a32e7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc4NTQxMQ==", "url": "https://github.com/linkedin/rest.li/pull/293#discussion_r424785411", "bodyText": "Updated to account for this and added unit tests", "author": "logancarmody", "createdAt": "2020-05-13T23:21:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDczMjk5OQ=="}], "type": "inlineReview"}, {"oid": "912579c3e1f1d06616cd20be73081c5935451ac3", "url": "https://github.com/linkedin/rest.li/commit/912579c3e1f1d06616cd20be73081c5935451ac3", "message": "Creating a light-weight representation of InJarFileDataSchemaLocation for storing in _badLocations", "committedDate": "2020-05-13T23:20:36Z", "type": "forcePushed"}, {"oid": "b490bf5ff96d1bde0291939901d65d956819b9ef", "url": "https://github.com/linkedin/rest.li/commit/b490bf5ff96d1bde0291939901d65d956819b9ef", "message": "Creating a light-weight representation of InJarFileDataSchemaLocation for storing in _badLocations", "committedDate": "2020-05-18T17:20:58Z", "type": "forcePushed"}, {"oid": "4bbb997259d345d1c55d394f748f547ea1158789", "url": "https://github.com/linkedin/rest.li/commit/4bbb997259d345d1c55d394f748f547ea1158789", "message": "Creating a light-weight representation of InJarFileDataSchemaLocation for storing in _badLocations", "committedDate": "2020-05-18T18:32:10Z", "type": "forcePushed"}, {"oid": "fbbb8d13e93055c5537bc6e851a8568a8a486c1e", "url": "https://github.com/linkedin/rest.li/commit/fbbb8d13e93055c5537bc6e851a8568a8a486c1e", "message": "Creating a light-weight representation of InJarFileDataSchemaLocation for storing in _badLocations", "committedDate": "2020-05-18T19:06:42Z", "type": "forcePushed"}, {"oid": "37c812e4e777d9cf95c9c08e8127f83b47adbe77", "url": "https://github.com/linkedin/rest.li/commit/37c812e4e777d9cf95c9c08e8127f83b47adbe77", "message": "Creating a light-weight representation of InJarFileDataSchemaLocation for storing in _badLocations", "committedDate": "2020-05-19T00:05:26Z", "type": "commit"}, {"oid": "37c812e4e777d9cf95c9c08e8127f83b47adbe77", "url": "https://github.com/linkedin/rest.li/commit/37c812e4e777d9cf95c9c08e8127f83b47adbe77", "message": "Creating a light-weight representation of InJarFileDataSchemaLocation for storing in _badLocations", "committedDate": "2020-05-19T00:05:26Z", "type": "forcePushed"}]}