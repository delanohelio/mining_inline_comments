{"pr_number": 2370, "pr_title": "Add examples:grpc-kotlin", "pr_createdAt": "2020-01-04T11:03:56Z", "pr_url": "https://github.com/line/armeria/pull/2370", "timeline": [{"oid": "7b9a6887b5f0011ba665e8dd3ea6ebd78163b78b", "url": "https://github.com/line/armeria/commit/7b9a6887b5f0011ba665e8dd3ea6ebd78163b78b", "message": "Add examples:grpc-kotlin", "committedDate": "2020-01-04T11:01:31Z", "type": "commit"}, {"oid": "dbb0d6ed7da5b7ebec483020daacd688fb6bfc76", "url": "https://github.com/line/armeria/commit/dbb0d6ed7da5b7ebec483020daacd688fb6bfc76", "message": "Fix examples/README.md", "committedDate": "2020-01-05T03:36:17Z", "type": "commit"}, {"oid": "9b58f00aa99371ef312f9576152ebd7652b2c15a", "url": "https://github.com/line/armeria/commit/9b58f00aa99371ef312f9576152ebd7652b2c15a", "message": "Update README.md", "committedDate": "2020-01-06T07:43:15Z", "type": "commit"}, {"oid": "fc55624cf120f2be81e6bdc4690bc224939e43de", "url": "https://github.com/line/armeria/commit/fc55624cf120f2be81e6bdc4690bc224939e43de", "message": "Merge branch 'master' into add_example_grpc-kotlin", "committedDate": "2020-01-06T13:43:02Z", "type": "commit"}, {"oid": "9247579270c850ecc7b4742248b9f6491ffe5768", "url": "https://github.com/line/armeria/commit/9247579270c850ecc7b4742248b9f6491ffe5768", "message": "Replace code about remove `Optional<>`", "committedDate": "2020-01-06T13:55:02Z", "type": "commit"}, {"oid": "9247579270c850ecc7b4742248b9f6491ffe5768", "url": "https://github.com/line/armeria/commit/9247579270c850ecc7b4742248b9f6491ffe5768", "message": "Replace code about remove `Optional<>`", "committedDate": "2020-01-06T13:55:02Z", "type": "forcePushed"}, {"oid": "531ae65bfc06a4225862512eb46880ebe192a040", "url": "https://github.com/line/armeria/commit/531ae65bfc06a4225862512eb46880ebe192a040", "message": "Merge branch 'master' into add_example_grpc-kotlin", "committedDate": "2020-01-07T03:58:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5NTA5MA==", "url": "https://github.com/line/armeria/pull/2370#discussion_r363595090", "bodyText": "This is not related to the Armeria core feature. However, I think string extension methods are not a good example to build a Hello message because String is a common class that represents char sequences. It looks fancy but I feel it is a bit abused.\nHow about remove the string extension methods and add a class like HelloMessageExtensions or HelloMessageFatory?\nclass HeloMessageFatory {\n  fun newHelloReply(message: String): HelloReply = ...\n  fun newHelloRequest(message: String): HelloRequest = ...\n  ...\n}", "author": "ikhoon", "createdAt": "2020-01-07T05:21:42Z", "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloExtensions.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+fun String.buildHelloReply(): HelloReply = HelloReply.newBuilder().setMessage(this).build()\n+\n+fun String.buildHelloRequest(): HelloRequest = HelloRequest.newBuilder().setName(this).build()\n+\n+fun String.hello(): String = \"Hello, $this!\"", "originalCommit": "531ae65bfc06a4225862512eb46880ebe192a040", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYwNDE3NQ==", "url": "https://github.com/line/armeria/pull/2370#discussion_r363604175", "bodyText": "I agree. Usually in Kotlin, adding Extension to the end of a class name has a different purpose, so we'll change it to HelloMessageFatory.", "author": "heowc", "createdAt": "2020-01-07T06:15:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5NTA5MA=="}], "type": "inlineReview"}, {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb", "url": "https://github.com/line/armeria/commit/e1bf1a46a8e785c436747d2d778f8f414d2e25bb", "message": "Change `HelloMessageFatory` from `HelloExtensions`", "committedDate": "2020-01-07T08:37:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg==", "url": "https://github.com/line/armeria/pull/2370#discussion_r363654106", "bodyText": "How about using private methods like the other examples?\nhttps://github.com/line/armeria/blob/master/examples/grpc-reactor/src/main/java/example/armeria/grpc/reactor/HelloServiceImpl.java#L104\nUnless that's a total antipattern in Kotlin, I think it's better for the examples to be as close to each other as possible for comparison", "author": "anuraaga", "createdAt": "2020-01-07T09:16:48Z", "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloMessageFactory.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+class HelloMessageFactory {", "originalCommit": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY5MzIxOQ==", "url": "https://github.com/line/armeria/pull/2370#discussion_r363693219", "bodyText": "I think it's better for the examples to be as close to each other as possible for comparison\n\nThat makes sense.\n@heowc Sorry for the interrupting multiple times. \ud83d\ude05 I think @anuraaga \u2018s suggestion is better than mine.", "author": "ikhoon", "createdAt": "2020-01-07T10:52:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcxMzA1MA==", "url": "https://github.com/line/armeria/pull/2370#discussion_r363713050", "bodyText": "Fine. \ud83d\ude04I will reflect on the code soon.", "author": "heowc", "createdAt": "2020-01-07T11:49:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg=="}], "type": "inlineReview"}, {"oid": "87bd32f75b8ed928c6e168a3cadad3fc19105f7d", "url": "https://github.com/line/armeria/commit/87bd32f75b8ed928c6e168a3cadad3fc19105f7d", "message": "Remove `HelloMessageFactory`", "committedDate": "2020-01-07T12:04:45Z", "type": "commit"}]}