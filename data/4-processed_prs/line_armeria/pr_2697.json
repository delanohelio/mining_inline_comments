{"pr_number": 2697, "pr_title": "Enable using generated documentation properties files in DocService", "pr_createdAt": "2020-05-11T06:47:37Z", "pr_url": "https://github.com/line/armeria/pull/2697", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMjgxNg==", "url": "https://github.com/line/armeria/pull/2697#discussion_r424902816", "bodyText": "How about logging the exception at WARN level?", "author": "trustin", "createdAt": "2020-05-14T06:40:20Z", "path": "core/src/main/java/com/linecorp/armeria/internal/server/annotation/AnnotatedServiceFactory.java", "diffHunk": "@@ -737,6 +743,26 @@ static String findDescription(AnnotatedElement annotatedElement) {\n                 checkArgument(!value.isEmpty(), \"value is empty\");\n                 return value;\n             }\n+        } else if (annotatedElement instanceof Parameter) {\n+            // JavaDoc/KDoc descriptions only exist for method parameters\n+            final Parameter parameter = (Parameter) annotatedElement;\n+            final Executable executable = parameter.getDeclaringExecutable();\n+            final Class<?> clazz = executable.getDeclaringClass();\n+            final String fileName = getFileName(clazz.getCanonicalName());\n+            final String propertyName = executable.getName() + '.' + parameter.getName();\n+            try (InputStream stream = AnnotatedServiceFactory.class.getClassLoader()\n+                                                                   .getResourceAsStream(fileName)) {\n+                if (stream == null) {\n+                    return null;\n+                }\n+                final Properties properties = new Properties();\n+                properties.load(stream);\n+                if (properties.containsKey(propertyName)) {\n+                    return properties.getProperty(propertyName);\n+                }\n+            } catch (IOException exception) {\n+                exception.printStackTrace();", "originalCommit": "1a46309f63f97756b42014b961baa9bc0fc7a2f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzIxNA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r424903214", "bodyText": "Could be moved to com.linecorp.armeria.internal.server.annotation ?", "author": "trustin", "createdAt": "2020-05-14T06:41:03Z", "path": "core/src/main/java/com/linecorp/armeria/server/annotation/helper/ProcessedDocumentationHelper.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Copyright 2020 LINE Corporation\n+ *\n+ * LINE Corporation licenses this file to you under the Apache License,\n+ * version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *   https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package com.linecorp.armeria.server.annotation.helper;", "originalCommit": "1a46309f63f97756b42014b961baa9bc0fc7a2f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzUxMw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r424903513", "bodyText": "I'm curious if we still need this even after we fixed the directory structure.", "author": "trustin", "createdAt": "2020-05-14T06:41:51Z", "path": "examples/spring-boot-minimal-kotlin/build.gradle.kts", "diffHunk": "@@ -43,6 +43,10 @@ dependencies {\n     configurations[\"kapt\"].dependencies.add(project(\":annotation-processor\"))\n }\n \n+kapt {\n+    annotationProcessor(\"com.linecorp.armeria.server.annotation.processor.DocumentationProcessor\")\n+}", "originalCommit": "1a46309f63f97756b42014b961baa9bc0fc7a2f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwNjA3NQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r424906075", "bodyText": "Yes, I've tried it but it didn't invoke the annotation processor -.-", "author": "hueneburg", "createdAt": "2020-05-14T06:47:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzUxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwNjUwNA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r424906504", "bodyText": "Doh! That's a shame. No worries, then.", "author": "trustin", "createdAt": "2020-05-14T06:48:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwMzUxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDkwNDE3NQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r424904175", "bodyText": "Could we cache this so it's not loaded as many times as the number of service methods?", "author": "trustin", "createdAt": "2020-05-14T06:43:17Z", "path": "core/src/main/java/com/linecorp/armeria/internal/server/annotation/AnnotatedServiceFactory.java", "diffHunk": "@@ -737,6 +743,26 @@ static String findDescription(AnnotatedElement annotatedElement) {\n                 checkArgument(!value.isEmpty(), \"value is empty\");\n                 return value;\n             }\n+        } else if (annotatedElement instanceof Parameter) {\n+            // JavaDoc/KDoc descriptions only exist for method parameters\n+            final Parameter parameter = (Parameter) annotatedElement;\n+            final Executable executable = parameter.getDeclaringExecutable();\n+            final Class<?> clazz = executable.getDeclaringClass();\n+            final String fileName = getFileName(clazz.getCanonicalName());\n+            final String propertyName = executable.getName() + '.' + parameter.getName();\n+            try (InputStream stream = AnnotatedServiceFactory.class.getClassLoader()\n+                                                                   .getResourceAsStream(fileName)) {\n+                if (stream == null) {\n+                    return null;\n+                }\n+                final Properties properties = new Properties();\n+                properties.load(stream);\n+                if (properties.containsKey(propertyName)) {\n+                    return properties.getProperty(propertyName);\n+                }\n+            } catch (IOException exception) {", "originalCommit": "1a46309f63f97756b42014b961baa9bc0fc7a2f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU1NjY1Ng==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425556656", "bodyText": "from FS. File could be removed for brevity:\n\n\nMissing an\n\n\nNeed to use {} instead of concatenation\n\"Failed to load an API description file: {}\", fileName, exception", "author": "trustin", "createdAt": "2020-05-15T04:15:08Z", "path": "core/src/main/java/com/linecorp/armeria/internal/server/annotation/AnnotatedServiceFactory.java", "diffHunk": "@@ -750,18 +759,21 @@ static String findDescription(AnnotatedElement annotatedElement) {\n             final Class<?> clazz = executable.getDeclaringClass();\n             final String fileName = getFileName(clazz.getCanonicalName());\n             final String propertyName = executable.getName() + '.' + parameter.getName();\n+            final Properties cachedProperties = DOCUMENTATION_PROPERTIES_CACHE.getIfPresent(fileName);\n+            if (cachedProperties != null) {\n+                return cachedProperties.getProperty(propertyName);\n+            }\n             try (InputStream stream = AnnotatedServiceFactory.class.getClassLoader()\n                                                                    .getResourceAsStream(fileName)) {\n                 if (stream == null) {\n                     return null;\n                 }\n                 final Properties properties = new Properties();\n                 properties.load(stream);\n-                if (properties.containsKey(propertyName)) {\n-                    return properties.getProperty(propertyName);\n-                }\n+                DOCUMENTATION_PROPERTIES_CACHE.put(fileName, properties);\n+                return properties.getProperty(propertyName);\n             } catch (IOException exception) {\n-                exception.printStackTrace();\n+                logger.warn(\"Error loading API description file from FS. File: \" + fileName, exception);", "originalCommit": "1ef013ce0900f45aa73975bf317686cc4b02aea2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU5Njk5NQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425596995", "bodyText": "I have to use the concatenation because otherwise the logger thinks the exception is a second argument for the string...", "author": "hueneburg", "createdAt": "2020-05-15T06:41:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU1NjY1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU5NzYwNQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425597605", "bodyText": "Really? I don't think so. This should work as expected for sure:\nlogger.warn(\"Failed to load an API description file: {}\", fileName, exception);", "author": "trustin", "createdAt": "2020-05-15T06:43:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU1NjY1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYwNzk4Mw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425607983", "bodyText": "Unlike the Javadoc and the method signature, Logging frameworks differently works if the last parameter is an instance of Throwable. It extracts throwable from the object params.\nhttps://github.com/qos-ch/logback/blob/7ee74ad132bf74ead68c5bb553f5353aa2588bb0/logback-classic/src/main/java/ch/qos/logback/classic/Logger.java#L701-L703\nhttps://github.com/qos-ch/logback/blob/7ee74ad132bf74ead68c5bb553f5353aa2588bb0/logback-classic/src/main/java/ch/qos/logback/classic/spi/LoggingEvent.java#L126-L128", "author": "ikhoon", "createdAt": "2020-05-15T07:09:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU1NjY1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYxMTk1OA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425611958", "bodyText": "Could you append the stack trace to the warning message so that builder tools such as Maven and Gradle filter the output message with their logging option?\nStringWriter stackTraceWriter = new StringWriter();\ne.printStackTrace(new PrintWriter(stackTraceWriter));\nfullMessage += \"\\n\" + stackTraceWriter.toString();", "author": "ikhoon", "createdAt": "2020-05-15T07:18:42Z", "path": "annotation-processor/src/main/java/com/linecorp/armeria/server/annotation/processor/DocumentationProcessor.java", "diffHunk": "@@ -73,6 +75,9 @@ public boolean process(Set<? extends TypeElement> annotations, RoundEnvironment\n             try {\n                 writeProperties(className, properties);\n             } catch (IOException e) {\n+                processingEnv.getMessager().printMessage(Kind.WARNING,\n+                                                         String.format(\"Could not write properties for `%s`\",\n+                                                                       className));\n                 e.printStackTrace();", "originalCommit": "68a648596b941a77d521db28503e09d3a7693ecc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYxMjkzNQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425612935", "bodyText": "Ditto.", "author": "ikhoon", "createdAt": "2020-05-15T07:20:45Z", "path": "annotation-processor/src/main/java/com/linecorp/armeria/server/annotation/processor/DocumentationProcessor.java", "diffHunk": "@@ -122,6 +127,9 @@ private void processAnnotation(TypeElement annotationElement, RoundEnvironment r\n                     try {\n                         processMethod((ExecutableElement) element);\n                     } catch (IOException e) {\n+                        processingEnv.getMessager().printMessage(Kind.ERROR,\n+                                                                 \"Could not process all elements\",\n+                                                                 element);\n                         e.printStackTrace();", "originalCommit": "68a648596b941a77d521db28503e09d3a7693ecc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY2MDgyNw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r425660827", "bodyText": "As you know, @param documentation will have a lower priority than a @Description annotation. Could you make a test for it? \ud83d\ude09", "author": "ikhoon", "createdAt": "2020-05-15T08:54:36Z", "path": "examples/spring-boot-minimal/src/main/java/example/springframework/boot/minimal/HelloAnnotatedService.java", "diffHunk": "@@ -27,6 +27,7 @@ public String defaultHello() {\n \n     /**\n      * An example in order to show how to use validation framework in an annotated HTTP service.\n+     * @param name The name that should be greeted.", "originalCommit": "68a648596b941a77d521db28503e09d3a7693ecc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMzNzIwNw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426337207", "bodyText": "Should this be WARNING or ERROR?", "author": "trustin", "createdAt": "2020-05-18T02:03:14Z", "path": "annotation-processor/src/main/java/com/linecorp/armeria/server/annotation/processor/DocumentationProcessor.java", "diffHunk": "@@ -73,7 +77,12 @@ public boolean process(Set<? extends TypeElement> annotations, RoundEnvironment\n             try {\n                 writeProperties(className, properties);\n             } catch (IOException e) {\n-                e.printStackTrace();\n+                final StringWriter writer = new StringWriter();\n+                e.printStackTrace(new PrintWriter(writer));\n+                processingEnv.getMessager().printMessage(\n+                        Kind.WARNING,", "originalCommit": "2d312e12429080cd315dafcf30ca3c25aae6c4e1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMzNzIxOA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426337218", "bodyText": "Should this be WARNING or ERROR?", "author": "trustin", "createdAt": "2020-05-18T02:03:17Z", "path": "annotation-processor/src/main/java/com/linecorp/armeria/server/annotation/processor/DocumentationProcessor.java", "diffHunk": "@@ -122,7 +131,12 @@ private void processAnnotation(TypeElement annotationElement, RoundEnvironment r\n                     try {\n                         processMethod((ExecutableElement) element);\n                     } catch (IOException e) {\n-                        e.printStackTrace();\n+                        final StringWriter writer = new StringWriter();\n+                        e.printStackTrace(new PrintWriter(writer));\n+                        processingEnv.getMessager().printMessage(\n+                                Kind.ERROR,", "originalCommit": "2d312e12429080cd315dafcf30ca3c25aae6c4e1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0b58f6728717ff496c826664d4d5e78af87e3d65", "url": "https://github.com/line/armeria/commit/0b58f6728717ff496c826664d4d5e78af87e3d65", "message": "Enable using generated documentation properties files in DocService", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "d0d825a4bd09482d681569b119f7109017ff7da2", "url": "https://github.com/line/armeria/commit/d0d825a4bd09482d681569b119f7109017ff7da2", "message": "Fix annotation processor", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "5bde7c1f2e5eafc58ef24a661da78d918761b8cd", "url": "https://github.com/line/armeria/commit/5bde7c1f2e5eafc58ef24a661da78d918761b8cd", "message": "Apply review", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "c4b1fe479ca74ce5840199cc2a2fb54d8509f59a", "url": "https://github.com/line/armeria/commit/c4b1fe479ca74ce5840199cc2a2fb54d8509f59a", "message": "Apply review", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "8d2e12b0572cfeb61193f828d0937c1897947b22", "url": "https://github.com/line/armeria/commit/8d2e12b0572cfeb61193f828d0937c1897947b22", "message": "Add tests and handle stacktrace better", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "4c3b4dec33d97d116a1ca67f1782d97ca70ebf00", "url": "https://github.com/line/armeria/commit/4c3b4dec33d97d116a1ca67f1782d97ca70ebf00", "message": "Fix typo", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "2b72c0e79aae7b0ff6768819b552cbf81b0f816c", "url": "https://github.com/line/armeria/commit/2b72c0e79aae7b0ff6768819b552cbf81b0f816c", "message": "Update DocumentationProcessor.java", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "92279402d576d45ceedd3d6bdc1c63fb860dbba2", "url": "https://github.com/line/armeria/commit/92279402d576d45ceedd3d6bdc1c63fb860dbba2", "message": "Update AnnotatedServiceFactory.java", "committedDate": "2020-05-18T02:11:38Z", "type": "commit"}, {"oid": "74de2986f4f532a5a42d4b1c033e3b12df1f8797", "url": "https://github.com/line/armeria/commit/74de2986f4f532a5a42d4b1c033e3b12df1f8797", "message": "Add documentation", "committedDate": "2020-05-18T02:11:44Z", "type": "commit"}, {"oid": "74de2986f4f532a5a42d4b1c033e3b12df1f8797", "url": "https://github.com/line/armeria/commit/74de2986f4f532a5a42d4b1c033e3b12df1f8797", "message": "Add documentation", "committedDate": "2020-05-18T02:11:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMzODU0OQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426338549", "bodyText": "writer.toString() -> writer", "author": "minwoox", "createdAt": "2020-05-18T02:11:44Z", "path": "annotation-processor/src/main/java/com/linecorp/armeria/server/annotation/processor/DocumentationProcessor.java", "diffHunk": "@@ -122,7 +131,12 @@ private void processAnnotation(TypeElement annotationElement, RoundEnvironment r\n                     try {\n                         processMethod((ExecutableElement) element);\n                     } catch (IOException e) {\n-                        e.printStackTrace();\n+                        final StringWriter writer = new StringWriter();\n+                        e.printStackTrace(new PrintWriter(writer));\n+                        processingEnv.getMessager().printMessage(\n+                                Kind.ERROR,\n+                                \"Could not process all elements\\n\" + writer.toString(),", "originalCommit": "c602055561653ed7a8aa8af3a238b4c329c37393", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0MDE4Nw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426340187", "bodyText": "ditto", "author": "minwoox", "createdAt": "2020-05-18T02:21:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMzODU0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0MDEwNQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426340105", "bodyText": "Let's rephrase a little bit for consistency:\nFailed to write properties for: ...\nAlso, how about using System.lineSeparator()?", "author": "minwoox", "createdAt": "2020-05-18T02:21:04Z", "path": "annotation-processor/src/main/java/com/linecorp/armeria/server/annotation/processor/DocumentationProcessor.java", "diffHunk": "@@ -73,7 +77,12 @@ public boolean process(Set<? extends TypeElement> annotations, RoundEnvironment\n             try {\n                 writeProperties(className, properties);\n             } catch (IOException e) {\n-                e.printStackTrace();\n+                final StringWriter writer = new StringWriter();\n+                e.printStackTrace(new PrintWriter(writer));\n+                processingEnv.getMessager().printMessage(\n+                        Kind.WARNING,\n+                        String.format(\"Could not write properties for: %s\\n%s\",", "originalCommit": "74de2986f4f532a5a42d4b1c033e3b12df1f8797", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0NDIyOA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426344228", "bodyText": "Java handles platform specific things somewhat inconsistent... for the old io api it didn't matter if you used / or \\ on windows but here it does matter whether you use \\n or \\r\\n...", "author": "hueneburg", "createdAt": "2020-05-18T02:43:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0MDEwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzEyNjg5OA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r427126898", "bodyText": "IIRC you can just use %n.", "author": "trustin", "createdAt": "2020-05-19T08:36:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0MDEwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzcxNjY5Nw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r427716697", "bodyText": "Didn't know about it. \ud83d\ude04", "author": "minwoox", "createdAt": "2020-05-20T03:09:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0MDEwNQ=="}], "type": "inlineReview"}, {"oid": "8d3eccfd8658700c21cda52f178d184abf9ec148", "url": "https://github.com/line/armeria/commit/8d3eccfd8658700c21cda52f178d184abf9ec148", "message": "Apply review", "committedDate": "2020-05-18T02:42:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0NjUxMQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r426346511", "bodyText": "nit: Could you move this constructor below the static method?\nhttps://line.github.io/armeria/community/developer-guide#organize", "author": "ikhoon", "createdAt": "2020-05-18T02:55:35Z", "path": "core/src/main/java/com/linecorp/armeria/internal/server/annotation/ProcessedDocumentationHelper.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Copyright 2020 LINE Corporation\n+ *\n+ * LINE Corporation licenses this file to you under the Apache License,\n+ * version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *   https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package com.linecorp.armeria.internal.server.annotation;\n+\n+/**\n+ * Helper class for Documentation processing.\n+ */\n+public final class ProcessedDocumentationHelper {\n+    private ProcessedDocumentationHelper() {}", "originalCommit": "8d3eccfd8658700c21cda52f178d184abf9ec148", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY2NDYyOA==", "url": "https://github.com/line/armeria/pull/2697#discussion_r427664628", "bodyText": "Do you use the @UtilityClass lombok annotation? then it would remove all the boiler plate (no static needed for class members, no final needed for class, no private constructor needed for class)", "author": "hueneburg", "createdAt": "2020-05-19T23:53:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0NjUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzczMTY4Mg==", "url": "https://github.com/line/armeria/pull/2697#discussion_r427731682", "bodyText": "Nope, we don't use Lombok so that Armeria values performance and provides optimized code and Javadoc.", "author": "ikhoon", "createdAt": "2020-05-20T04:16:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0NjUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzczMTkxMg==", "url": "https://github.com/line/armeria/pull/2697#discussion_r427731912", "bodyText": "Related issue: #2419", "author": "ikhoon", "createdAt": "2020-05-20T04:17:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjM0NjUxMQ=="}], "type": "inlineReview"}, {"oid": "24e1492942d4fd3380d1ff80a342b92863f1c24f", "url": "https://github.com/line/armeria/commit/24e1492942d4fd3380d1ff80a342b92863f1c24f", "message": "Apply reviews", "committedDate": "2020-05-21T01:08:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQwOTAzMQ==", "url": "https://github.com/line/armeria/pull/2697#discussion_r428409031", "bodyText": "Gradle", "author": "trustin", "createdAt": "2020-05-21T02:19:15Z", "path": "site/src/pages/docs/server-docservice.mdx", "diffHunk": "@@ -218,3 +220,33 @@ For gRPC:\n       ...\n   }\n   ```\n+\n+  Using JavaDoc:\n+\n+  This only works with method parameters.\n+  To enable it, you have to add the armeria annotation processor to your project:\n+\n+  Groovy configuration:", "originalCommit": "24e1492942d4fd3380d1ff80a342b92863f1c24f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQxMjYwNw==", "url": "https://github.com/line/armeria/pull/2697#discussion_r428412607", "bodyText": "Yes, it is gradle but using groovy xD\nthe one underneath is also gradle but with kotlin...", "author": "hueneburg", "createdAt": "2020-05-21T02:34:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQwOTAzMQ=="}], "type": "inlineReview"}, {"oid": "cadfc8ee2fb2078ee4e200098d1c2f7696109416", "url": "https://github.com/line/armeria/commit/cadfc8ee2fb2078ee4e200098d1c2f7696109416", "message": "Update server-docservice.mdx", "committedDate": "2020-05-21T02:20:05Z", "type": "commit"}]}