{"pr_number": 2452, "pr_title": "Reorganize the `internal` packages", "pr_createdAt": "2020-02-05T03:31:56Z", "pr_url": "https://github.com/line/armeria/pull/2452", "timeline": [{"oid": "9f76508ea9fb52b3b17a83a97bb333de13773cd2", "url": "https://github.com/line/armeria/commit/9f76508ea9fb52b3b17a83a97bb333de13773cd2", "message": "Reorganize the `internal` packages\n\nRelated: #2445\nMotivation:\n\nAs we hide many stuff from our public API, the `internal` package\ngetting more and more crowded.\n\nModifications:\n\n- Reorganize the `internal` packages so that the internal classes are\n  always placed `internal.{common,client,server,...}.*`, following the\n  structure of the non-internal classes.\n\nResult:\n\n- Less cognitive load for devs\n- Got some room for moving classes to the `internal` packages", "committedDate": "2020-02-05T03:30:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTA0NDMxMw==", "url": "https://github.com/line/armeria/pull/2452#discussion_r375044313", "bodyText": "This class has been removed since it's not used anywhere.", "author": "trustin", "createdAt": "2020-02-05T03:35:38Z", "path": "core/src/main/java/com/linecorp/armeria/internal/HttpHeaderSubscriber.java", "diffHunk": "@@ -1,91 +0,0 @@\n-/*\n- * Copyright 2017 LINE Corporation\n- *\n- * LINE Corporation licenses this file to you under the Apache License,\n- * version 2.0 (the \"License\"); you may not use this file except in compliance\n- * with the License. You may obtain a copy of the License at:\n- *\n- *   https://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n- * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n- * License for the specific language governing permissions and limitations\n- * under the License.\n- */\n-\n-package com.linecorp.armeria.internal;\n-\n-import static com.google.common.base.MoreObjects.firstNonNull;\n-\n-import java.util.concurrent.CompletableFuture;\n-import java.util.function.BiConsumer;\n-\n-import javax.annotation.Nullable;\n-\n-import org.reactivestreams.Subscriber;\n-import org.reactivestreams.Subscription;\n-\n-import com.linecorp.armeria.common.HttpHeaders;\n-import com.linecorp.armeria.common.HttpObject;\n-import com.linecorp.armeria.common.HttpStatusClass;\n-import com.linecorp.armeria.common.ResponseHeaders;\n-import com.linecorp.armeria.common.stream.AbortedStreamException;\n-import com.linecorp.armeria.common.stream.CancelledSubscriptionException;\n-\n-/**\n- * A {@link Subscriber} that completes the {@link CompletableFuture} which has taken as the argument in the\n- * constructor with {@link HttpHeaders}. The {@link HttpHeaders} contains a status that is not informational.\n- * If subscription is finished before subscribing a status, this will complete the future with\n- * the {@link HttpHeaders#of()}.\n- */\n-public final class HttpHeaderSubscriber\n-        implements Subscriber<HttpObject>, BiConsumer<Void, Throwable> {", "originalCommit": "9f76508ea9fb52b3b17a83a97bb333de13773cd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2f6ba25a167f5fafb7d089bdf6926557bb6a47ba", "url": "https://github.com/line/armeria/commit/2f6ba25a167f5fafb7d089bdf6926557bb6a47ba", "message": "ktlint", "committedDate": "2020-02-05T03:48:55Z", "type": "commit"}, {"oid": "2f6ba25a167f5fafb7d089bdf6926557bb6a47ba", "url": "https://github.com/line/armeria/commit/2f6ba25a167f5fafb7d089bdf6926557bb6a47ba", "message": "ktlint", "committedDate": "2020-02-05T03:48:55Z", "type": "forcePushed"}]}