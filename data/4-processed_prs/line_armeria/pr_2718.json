{"pr_number": 2718, "pr_title": "Specific headers such as :status, grpc-message, etc. in gRPC should not be duplicate", "pr_createdAt": "2020-05-17T13:52:39Z", "pr_url": "https://github.com/line/armeria/pull/2718", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI3MzA4Nw==", "url": "https://github.com/line/armeria/pull/2718#discussion_r426273087", "bodyText": "Instead of passing these parameters, does it make sense to just have a constant with all four? I guess it makes sense to strip all of them in all cases.\nOtherwise, let's not use varargs it's wasteful for these constants.", "author": "anuraaga", "createdAt": "2020-05-17T15:20:29Z", "path": "grpc/src/main/java/com/linecorp/armeria/internal/common/grpc/GrpcStatus.java", "diffHunk": "@@ -250,7 +251,12 @@ public static void reportStatus(HttpHeaders headers,\n             status = addCause(status, grpcThrowable);\n         }\n \n-        final Metadata metadata = MetadataUtil.copyFromHeaders(headers);\n+        final Metadata metadata = MetadataUtil.copyFromHeaders(\n+                headers,\n+                HttpHeaderNames.STATUS,", "originalCommit": "b3e3b9fa03764eec8a54e607d4ea988e5a242593", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d4a3a20fcb8326331d104ffac007dfe2a2265649", "url": "https://github.com/line/armeria/commit/d4a3a20fcb8326331d104ffac007dfe2a2265649", "message": "Don't send duplicate headers", "committedDate": "2020-05-20T17:04:34Z", "type": "forcePushed"}, {"oid": "1c7517a56347a4230513ac25502f5fb5979593f1", "url": "https://github.com/line/armeria/commit/1c7517a56347a4230513ac25502f5fb5979593f1", "message": "Strip specific headers when copying metadata", "committedDate": "2020-05-30T11:28:12Z", "type": "commit"}, {"oid": "31cd6546f6ae9543b417d85a5150560a332481a2", "url": "https://github.com/line/armeria/commit/31cd6546f6ae9543b417d85a5150560a332481a2", "message": "add test for  MetadataUtil", "committedDate": "2020-05-30T14:03:23Z", "type": "forcePushed"}, {"oid": "f04a77ec95f9cb635ed746174a674a625a96cfcd", "url": "https://github.com/line/armeria/commit/f04a77ec95f9cb635ed746174a674a625a96cfcd", "message": "add test for  MetadataUtil", "committedDate": "2020-05-30T14:08:52Z", "type": "commit"}, {"oid": "f04a77ec95f9cb635ed746174a674a625a96cfcd", "url": "https://github.com/line/armeria/commit/f04a77ec95f9cb635ed746174a674a625a96cfcd", "message": "add test for  MetadataUtil", "committedDate": "2020-05-30T14:08:52Z", "type": "forcePushed"}, {"oid": "2149d005221c0d92b63b878226f4a5a69a1310e1", "url": "https://github.com/line/armeria/commit/2149d005221c0d92b63b878226f4a5a69a1310e1", "message": "fix checkstyle", "committedDate": "2020-05-30T14:43:07Z", "type": "commit"}]}