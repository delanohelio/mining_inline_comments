{"pr_number": 1200, "pr_title": "Autotests gs pipelines storages", "pr_createdAt": "2020-07-03T10:01:35Z", "pr_url": "https://github.com/epam/cloud-pipeline/pull/1200", "timeline": [{"oid": "38bd38b31e5d94b31466c2ebf597f952dd7085fc", "url": "https://github.com/epam/cloud-pipeline/commit/38bd38b31e5d94b31466c2ebf597f952dd7085fc", "message": "add 2664, 2667, 2668, 2669 GlobalSearch Tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-06-26T16:57:55Z", "type": "commit"}, {"oid": "17d18451d207148e7308627b92b50c404cbc8fef", "url": "https://github.com/epam/cloud-pipeline/commit/17d18451d207148e7308627b92b50c404cbc8fef", "message": "update GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-06-30T15:54:02Z", "type": "commit"}, {"oid": "ec2603b3dd88e94ff08b4cf5749d6ca701496567", "url": "https://github.com/epam/cloud-pipeline/commit/ec2603b3dd88e94ff08b4cf5749d6ca701496567", "message": "fix GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-06-30T17:39:54Z", "type": "commit"}, {"oid": "6ffd2ba04f672c5c58eaaba4c4535e6abf1e7c7e", "url": "https://github.com/epam/cloud-pipeline/commit/6ffd2ba04f672c5c58eaaba4c4535e6abf1e7c7e", "message": "fix GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-06-30T20:14:26Z", "type": "commit"}, {"oid": "a33778c3923f1594c290762ca923808dcd5f5e72", "url": "https://github.com/epam/cloud-pipeline/commit/a33778c3923f1594c290762ca923808dcd5f5e72", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-06-30T20:53:21Z", "type": "commit"}, {"oid": "5ea1ed44d927a0b4ca5d08e0f91cdb8f6695ff02", "url": "https://github.com/epam/cloud-pipeline/commit/5ea1ed44d927a0b4ca5d08e0f91cdb8f6695ff02", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-06-30T22:06:22Z", "type": "commit"}, {"oid": "7fcb8eb59a46280bfaa832c2b2200e01af7b98ed", "url": "https://github.com/epam/cloud-pipeline/commit/7fcb8eb59a46280bfaa832c2b2200e01af7b98ed", "message": "small fix GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-01T12:39:39Z", "type": "commit"}, {"oid": "1fee9d0147c25f9e867ce608228b2b559e86dc37", "url": "https://github.com/epam/cloud-pipeline/commit/1fee9d0147c25f9e867ce608228b2b559e86dc37", "message": "Merge branch 'develop' into autotests_gs_pipelines_storages", "committedDate": "2020-07-02T17:22:10Z", "type": "commit"}, {"oid": "e4fa9b9ae29b7b533cc8c2564cb7dd678f30e482", "url": "https://github.com/epam/cloud-pipeline/commit/e4fa9b9ae29b7b533cc8c2564cb7dd678f30e482", "message": "Merge branch 'develop' into autotests_gs_pipelines_storages", "committedDate": "2020-07-02T22:11:53Z", "type": "commit"}, {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a", "url": "https://github.com/epam/cloud-pipeline/commit/0893aa92e47e394e2372f4c70255d6039033c89a", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-03T11:47:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzIxMQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449563211", "bodyText": "Add a space between 0, and ip.indexOf(\"\\n\"), please", "author": "kamyshova", "createdAt": "2020-07-03T12:41:24Z", "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ClusterNodeTest.java", "diffHunk": "@@ -102,7 +102,7 @@ public void shouldFilterNodeByAddress() throws InterruptedException {\n         final String ip = clusterMenuAO.getNodeAddress(getRunId());\n         final int nodesCountBeforeFiltering = clusterMenuAO.getNodesCount();\n \n-        clusterMenuAO.filerBy(ClusterMenuAO.HeaderColumn.ADDRESS, ip);\n+        clusterMenuAO.filerBy(ClusterMenuAO.HeaderColumn.ADDRESS, ip.substring(0,ip.indexOf(\"\\n\")));", "originalCommit": "0893aa92e47e394e2372f4c70255d6039033c89a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzkwOA==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449563908", "bodyText": "Licence header of file should be updated according to changes", "author": "kamyshova", "createdAt": "2020-07-03T12:42:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzIxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY0NTEyMA==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449645120", "bodyText": "Done", "author": "maryvictol", "createdAt": "2020-07-03T15:59:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzIxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NDU3NQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449564575", "bodyText": "This value should be taken from default constants", "author": "kamyshova", "createdAt": "2020-07-03T12:44:30Z", "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/GlobalSearchTest.java", "diffHunk": "@@ -61,13 +62,19 @@\n     private final String storageFolder = \"globalSearchStorageFolder\" + Utils.randomSuffix();\n     private final String storageFile = \"globalSearchStorageFile\" + Utils.randomSuffix();\n     private final String storageFileContent = \"globalSearchStorageFileContent\" + Utils.randomSuffix();\n+    private final String storageFile2 = \"globalSearchStorageFile2\" + Utils.randomSuffix();\n     private final String storageAlias = \"globalSearchStorageAlias\" + Utils.randomSuffix();\n-    private final String customConfigurationProfile = \"custom-profile\";\n+    private final String toolEndpoint = \"e2e-endpoints\";", "originalCommit": "0893aa92e47e394e2372f4c70255d6039033c89a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4MTQ2NQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r450081465", "bodyText": "Done", "author": "maryvictol", "createdAt": "2020-07-06T08:59:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NDU3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NTAxMw==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449565013", "bodyText": "The same as above", "author": "kamyshova", "createdAt": "2020-07-03T12:45:25Z", "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/GlobalSearchTest.java", "diffHunk": "@@ -61,13 +62,19 @@\n     private final String storageFolder = \"globalSearchStorageFolder\" + Utils.randomSuffix();\n     private final String storageFile = \"globalSearchStorageFile\" + Utils.randomSuffix();\n     private final String storageFileContent = \"globalSearchStorageFileContent\" + Utils.randomSuffix();\n+    private final String storageFile2 = \"globalSearchStorageFile2\" + Utils.randomSuffix();\n     private final String storageAlias = \"globalSearchStorageAlias\" + Utils.randomSuffix();\n-    private final String customConfigurationProfile = \"custom-profile\";\n+    private final String toolEndpoint = \"e2e-endpoints\";\n+    private final String toolVersion = \"latest\";\n+    private final String toolShortDescription = \"Docker image used in E2E automated tests to verify HTTP endpoints and SSH access\";\n+    private final String toolDescription = \"HTTP endpoints work correctly (will perform JWT authentication and print user's name)\";\n+    private final String customConfigurationProfile = \"customprofile\" + Utils.randomSuffix();\n     private final String customDisk = \"22\";\n     private final String defaultInstanceType = C.DEFAULT_INSTANCE;\n     private final String defaultRegistry = C.DEFAULT_REGISTRY;\n     private final String defaultGroup = C.DEFAULT_GROUP;\n     private final String testingTool = C.TESTING_TOOL_NAME;\n+    private final String toolWithGroup = String.format(\"%s/%s\", C.DEFAULT_GROUP, toolEndpoint);", "originalCommit": "0893aa92e47e394e2372f4c70255d6039033c89a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1MTEwOQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449651109", "bodyText": "Done", "author": "maryvictol", "createdAt": "2020-07-03T16:20:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NTAxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NTgyNQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449565825", "bodyText": "This check is not needed anymore?", "author": "kamyshova", "createdAt": "2020-07-03T12:47:20Z", "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/GlobalSearchTest.java", "diffHunk": "@@ -299,12 +306,10 @@ public void searchForPipelineRunByID() {\n     @Test\n     @TestCase(value = {\"EPMCMBIBPC-2660\"})\n     public void searchForStorage() {\n-        home().sleep(2, SECONDS);\n         search()\n                 .search(storage)\n                 .enter()\n                 .sleep(2, SECONDS)\n-                .validateCountSearchResults(2)", "originalCommit": "0893aa92e47e394e2372f4c70255d6039033c89a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU4MDI3OA==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449580278", "bodyText": "Add a new line, please", "author": "kamyshova", "createdAt": "2020-07-03T13:20:16Z", "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/ToolPageAO.java", "diffHunk": "@@ -53,10 +62,16 @@ public ToolPageAO validateEndpointPage() {\n \n     @Override\n     public Map<Primitive, SelenideElement> elements() {\n-        return Collections.emptyMap();\n+        return elements;\n     }\n \n     public String getEndpoint() {\n         return endpoint;\n     }\n-}\n+\n+    public void closeTab(){\n+        List<String> tabs = new ArrayList<String>(getWebDriver().getWindowHandles());\n+        getWebDriver().close();\n+        switchTo().window(tabs.get(0));\n+    }\n+}", "originalCommit": "0893aa92e47e394e2372f4c70255d6039033c89a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYxMDUxNA==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449610514", "bodyText": "It would be better get $(title()).getText()", "author": "kamyshova", "createdAt": "2020-07-03T14:28:10Z", "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/Configuration.java", "diffHunk": "@@ -327,4 +328,8 @@ public static Runnable confirmConfigurationChange() {\n         return () -> new ConfirmationPopupAO<>(new Object()).ensureTitleIs(\"Are you sure you want to change configuration?\").ok();\n     }\n \n+    public Configuration assertPageTitleIs(final String expectedTitle) {\n+        assertTrue($(title()).toString().contains(expectedTitle));", "originalCommit": "0893aa92e47e394e2372f4c70255d6039033c89a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYxMDgyOA==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449610828", "bodyText": "Licence header of file should be updated according to changes", "author": "kamyshova", "createdAt": "2020-07-03T14:28:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYxMDUxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY0Nzg0MQ==", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449647841", "bodyText": "Done", "author": "maryvictol", "createdAt": "2020-07-03T16:09:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYxMDUxNA=="}], "type": "inlineReview"}, {"oid": "aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "url": "https://github.com/epam/cloud-pipeline/commit/aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-03T15:40:23Z", "type": "commit"}, {"oid": "aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "url": "https://github.com/epam/cloud-pipeline/commit/aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-03T15:40:23Z", "type": "forcePushed"}, {"oid": "6fd1afe9ff18a16d6efac553b58ee2d819bf2c05", "url": "https://github.com/epam/cloud-pipeline/commit/6fd1afe9ff18a16d6efac553b58ee2d819bf2c05", "message": "changes correspond review comments\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-06T09:35:21Z", "type": "commit"}, {"oid": "75a2a096801abd99fe42fa5b0e899443e68dccce", "url": "https://github.com/epam/cloud-pipeline/commit/75a2a096801abd99fe42fa5b0e899443e68dccce", "message": "Merge branch 'develop' into autotests_gs_pipelines_storages", "committedDate": "2020-07-13T14:38:21Z", "type": "commit"}, {"oid": "28aa6b8ff6b160d083bb8ddd0120260d612751fb", "url": "https://github.com/epam/cloud-pipeline/commit/28aa6b8ff6b160d083bb8ddd0120260d612751fb", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-13T15:44:39Z", "type": "commit"}, {"oid": "b1c88a0d12de4cbfecafd71a544e9913817e4d19", "url": "https://github.com/epam/cloud-pipeline/commit/b1c88a0d12de4cbfecafd71a544e9913817e4d19", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-13T17:54:19Z", "type": "commit"}, {"oid": "8a4619909537d09debb0f5bed97361d4a7a234f6", "url": "https://github.com/epam/cloud-pipeline/commit/8a4619909537d09debb0f5bed97361d4a7a234f6", "message": "update GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-13T21:50:47Z", "type": "commit"}, {"oid": "22990b928b52d62beeb0777b86ecdd98cd66af2d", "url": "https://github.com/epam/cloud-pipeline/commit/22990b928b52d62beeb0777b86ecdd98cd66af2d", "message": "update GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>", "committedDate": "2020-07-13T22:53:02Z", "type": "commit"}]}