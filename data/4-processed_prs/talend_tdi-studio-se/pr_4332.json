{"pr_number": 4332, "pr_title": "Fix(TDI-35027):improve the log when loading data from file.", "pr_createdAt": "2020-01-16T10:18:21Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4332", "timeline": [{"oid": "28c85e159426f74f13351db4600f61b25ee15a71", "url": "https://github.com/Talend/tdi-studio-se/commit/28c85e159426f74f13351db4600f61b25ee15a71", "message": "Fix(TDI-35027):This is a demo.", "committedDate": "2020-01-16T10:17:30Z", "type": "commit"}, {"oid": "a45c287a2f44d170157320290246cf94accd8d40", "url": "https://github.com/Talend/tdi-studio-se/commit/a45c287a2f44d170157320290246cf94accd8d40", "message": "Merge branch 'master' into vyu/TDI-35027_no_errors_shows_in_tDb2BulkExec", "committedDate": "2020-04-20T07:57:32Z", "type": "commit"}, {"oid": "6a93e08242e2ff2386fa4966359fe586a8c6b5e9", "url": "https://github.com/Talend/tdi-studio-se/commit/6a93e08242e2ff2386fa4966359fe586a8c6b5e9", "message": "fix(TDI-35027):optimize codes.", "committedDate": "2020-04-22T07:45:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgxNDQ4MA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4332#discussion_r412814480", "bodyText": "Maybe better try-catch the SQL exception here? You don't want a log break the job, right?", "author": "pyzhou-talend", "createdAt": "2020-04-22T09:16:16Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tDB2BulkExec/tDB2BulkExec_begin_LOAD.javajet", "diffHunk": "@@ -103,6 +109,23 @@ Character field_separator_<%=cid %> = (<%=field_separator%>).charAt(0);\n         callStmt_<%=cid%> = conn_<%=cid%>.prepareCall(sql_<%=cid%>);\n         callStmt_<%=cid%>.setString(1, param_<%=cid%>);\n         callStmt_<%=cid%>.execute();\n+        <%\n+        if(isLog4jEnabled_tableAction && isMessagesOnServer) {\n+        \t%>\n+\t        java.sql.ResultSet rs_<%=cid%> = callStmt_<%=cid%>.getResultSet();\n+        \tString mgsSQL_<%=cid%> = null;\n+        \tif (rs_<%=cid%>.next()) {\n+        \t\tmgsSQL_<%=cid%> = rs_<%=cid%>.getString(\"MSG_RETRIEVAL\");\n+\t        }\n+\t        callStmt_<%=cid%> = conn_<%=cid%>.prepareCall(mgsSQL_<%=cid%>);\n+\t        callStmt_<%=cid%>.execute();", "originalCommit": "6a93e08242e2ff2386fa4966359fe586a8c6b5e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgxNzk5Mw==", "url": "https://github.com/Talend/tdi-studio-se/pull/4332#discussion_r412817993", "bodyText": "completely agree with it", "author": "vyu-talend", "createdAt": "2020-04-22T09:21:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgxNDQ4MA=="}], "type": "inlineReview"}, {"oid": "c18f408225f300238eb1f233f52c05b6336c4fab", "url": "https://github.com/Talend/tdi-studio-se/commit/c18f408225f300238eb1f233f52c05b6336c4fab", "message": "fix(TDI-35027):add try/catch.", "committedDate": "2020-04-23T02:05:16Z", "type": "commit"}]}