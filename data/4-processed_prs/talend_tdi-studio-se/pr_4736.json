{"pr_number": 4736, "pr_title": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in Metadata", "pr_createdAt": "2020-05-25T11:00:34Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4736", "timeline": [{"oid": "0ff3da9047e2953077e8b54902fa250b446ea196", "url": "https://github.com/Talend/tdi-studio-se/commit/0ff3da9047e2953077e8b54902fa250b446ea196", "message": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in\nMetadata\nhttps://jira.talendforge.org/browse/TUP-27259", "committedDate": "2020-05-25T10:58:19Z", "type": "commit"}, {"oid": "deca31379f0ab8af52122b86710df261dd8ab521", "url": "https://github.com/Talend/tdi-studio-se/commit/deca31379f0ab8af52122b86710df261dd8ab521", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into jzhang/feat/TUP-27259_Change_default_driver_to_Microsof", "committedDate": "2020-05-27T09:45:28Z", "type": "commit"}, {"oid": "80e1016ce85cb0dc49ddf6734fdf6d1d2098e9fb", "url": "https://github.com/Talend/tdi-studio-se/commit/80e1016ce85cb0dc49ddf6734fdf6d1d2098e9fb", "message": "Update plugin.xml", "committedDate": "2020-05-28T09:36:41Z", "type": "commit"}, {"oid": "96c4506d12ad54aba480be7a05558428bc416327", "url": "https://github.com/Talend/tdi-studio-se/commit/96c4506d12ad54aba480be7a05558428bc416327", "message": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in\nMetadata\nhttps://jira.talendforge.org/browse/TUP-27259", "committedDate": "2020-06-01T08:23:02Z", "type": "commit"}, {"oid": "113df1320c7e39304c242697d607c9d03c1e70bb", "url": "https://github.com/Talend/tdi-studio-se/commit/113df1320c7e39304c242697d607c9d03c1e70bb", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into jzhang/feat/TUP-27259_Change_default_driver_to_Microsof", "committedDate": "2020-06-02T03:20:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk1OTY3MA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4736#discussion_r434959670", "bodyText": "Better use EDatabaseTypeName instead of hard code here.\nDouble check :do we need any change for  MSSQL05_08 ?", "author": "wchen-talend", "createdAt": "2020-06-04T02:38:40Z", "path": "main/plugins/org.talend.repository/src/main/java/org/talend/repository/model/migration/ChangeMSSQLDBDefaultVersionMigrationTask.java", "diffHunk": "@@ -0,0 +1,76 @@\n+// ============================================================================\r\n+//\r\n+// Copyright (C) 2006-2020 Talend Inc. - www.talend.com\r\n+//\r\n+// This source code is available under agreement available at\r\n+// %InstallDIR%\\features\\org.talend.rcp.branding.%PRODUCTNAME%\\%PRODUCTNAME%license.txt\r\n+//\r\n+// You should have received a copy of the agreement\r\n+// along with this program; if not, write to Talend SA\r\n+// 9 rue Pages 92150 Suresnes, France\r\n+//\r\n+// ============================================================================\r\n+package org.talend.repository.model.migration;\r\n+\r\n+import java.util.ArrayList;\r\n+import java.util.Date;\r\n+import java.util.GregorianCalendar;\r\n+import java.util.List;\r\n+\r\n+import org.talend.commons.exception.PersistenceException;\r\n+import org.talend.commons.ui.runtime.exception.ExceptionHandler;\r\n+import org.talend.core.model.metadata.builder.connection.DatabaseConnection;\r\n+import org.talend.core.model.migration.AbstractItemMigrationTask;\r\n+import org.talend.core.model.properties.ConnectionItem;\r\n+import org.talend.core.model.properties.Item;\r\n+import org.talend.core.model.repository.ERepositoryObjectType;\r\n+import org.talend.core.repository.model.ProxyRepositoryFactory;\r\n+import org.talend.migration.IMigrationTask.ExecutionResult;\r\n+\r\n+\r\n+public class ChangeMSSQLDBDefaultVersionMigrationTask extends AbstractItemMigrationTask{\r\n+\r\n+    public final static String DEFAULT_VERSION = \"JTDS\";\r\n+\r\n+    @Override\r\n+    public Date getOrder() {\r\n+        GregorianCalendar gc = new GregorianCalendar(2020, 05, 25, 18, 0, 0);\r\n+        return gc.getTime();\r\n+    }\r\n+\r\n+    /*\r\n+     * (non-Javadoc)\r\n+     *\r\n+     * @see org.talend.core.model.migration.AbstractItemMigrationTask#execute(org.talend.core.model.properties.Item)\r\n+     */\r\n+    @Override\r\n+    public ExecutionResult execute(Item item) {\r\n+        ConnectionItem connectionItem = (ConnectionItem) item;\r\n+        DatabaseConnection connection = (DatabaseConnection) connectionItem.getConnection();\r\n+        if (connection != null) {\r\n+        if (connection.getDatabaseType().equals(\"Microsoft SQL Server\")) {\r", "originalCommit": "113df1320c7e39304c242697d607c9d03c1e70bb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3cb62b44d78988d8deffac18907749a47c99e3f9", "url": "https://github.com/Talend/tdi-studio-se/commit/3cb62b44d78988d8deffac18907749a47c99e3f9", "message": "feat(TUP-27259)Change default driver to Microsoft official for MSSql in\nMetadata", "committedDate": "2020-06-04T08:21:24Z", "type": "commit"}, {"oid": "6b93d4bcad408e5b1570f1b3aa60f6856d4c7c44", "url": "https://github.com/Talend/tdi-studio-se/commit/6b93d4bcad408e5b1570f1b3aa60f6856d4c7c44", "message": "Merge remote-tracking branch 'origin/maintenance/7.3' into jzhang/feat/TUP-27259_Change_default_driver_to_Microsof", "committedDate": "2020-06-04T08:22:54Z", "type": "commit"}]}