{"pr_number": 4407, "pr_title": "fix(TDI-43408) : not a string if content", "pr_createdAt": "2020-02-05T13:14:46Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4407", "timeline": [{"oid": "9bd5c27d113b24321a8f69d1a2d389e54d50bd12", "url": "https://github.com/Talend/tdi-studio-se/commit/9bd5c27d113b24321a8f69d1a2d389e54d50bd12", "message": "fix(TDI-43408) : not a string if content", "committedDate": "2020-03-24T08:10:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4MzQyNQ==", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#discussion_r397583425", "bodyText": "need to be careful to do that, as some reason to do that.", "author": "wwang-talend", "createdAt": "2020-03-25T03:02:31Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tWriteXMLFieldOut/tWriteXMLFieldOut_main.javajet", "diffHunk": "@@ -264,7 +264,9 @@ class GenerateToolByDom4j{\n \t\t\tnestXMLTool_<%=cid%> .setText(<%=currEleName%>_<%=cid%>,<%tool.getValue(node);%>);\n <%\n \t\t\tif(istWriteJSONField && allowEmptyStrings) {\n-\t\t\t\tif (javaType == JavaTypesManager.STRING) {\n+\t\t\t\tif (javaType == JavaTypesManager.STRING \n+                    && node.attributes.size() == 0 \n+                    && (node.elements == null || node.elements.size() == 0)) {", "originalCommit": "6fdcf4e2b5d0bdc526c0ba0afc391d747bbccca8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk2MTc4NA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4407#discussion_r399961784", "bodyText": "Yes, changed to && (!hasCustomAttrs) instead of && node.attributes.size() == 0 after a TUJ failed. Now tuj are OK.", "author": "clesaec", "createdAt": "2020-03-30T06:51:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4MzQyNQ=="}], "type": "inlineReview"}, {"oid": "b6a99e2079a0949fae0e004979c79d755cccf64b", "url": "https://github.com/Talend/tdi-studio-se/commit/b6a99e2079a0949fae0e004979c79d755cccf64b", "message": "fix(TDI-43408) : not a string if content", "committedDate": "2020-03-26T08:17:24Z", "type": "commit"}, {"oid": "a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "url": "https://github.com/Talend/tdi-studio-se/commit/a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "message": "fix(TDI-43408) : non customize attribute", "committedDate": "2020-03-26T08:17:24Z", "type": "commit"}, {"oid": "a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "url": "https://github.com/Talend/tdi-studio-se/commit/a5d6a7fa9e65a9d3e37bbc74a7aa17fce0b55ad7", "message": "fix(TDI-43408) : non customize attribute", "committedDate": "2020-03-26T08:17:24Z", "type": "forcePushed"}]}