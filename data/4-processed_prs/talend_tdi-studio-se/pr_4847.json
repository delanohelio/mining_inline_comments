{"pr_number": 4847, "pr_title": "patch(TPS-4071): Make cumulative patch", "pr_createdAt": "2020-06-23T09:18:27Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4847", "timeline": [{"oid": "f03d0b9ea0889d66cc17545809b8e55093fb705a", "url": "https://github.com/Talend/tdi-studio-se/commit/f03d0b9ea0889d66cc17545809b8e55093fb705a", "message": "patch(TPS-4071): Make cumulative patch", "committedDate": "2020-06-23T09:08:02Z", "type": "commit"}, {"oid": "4935842a5a00b5f3a7f62d51aee75d7642f3249e", "url": "https://github.com/Talend/tdi-studio-se/commit/4935842a5a00b5f3a7f62d51aee75d7642f3249e", "message": "patch(TPS-4071): Make localprovider buildable", "committedDate": "2020-06-23T17:01:07Z", "type": "commit"}, {"oid": "1847b8745fe0dfd6cec7497574d6da4b3de4eb7d", "url": "https://github.com/Talend/tdi-studio-se/commit/1847b8745fe0dfd6cec7497574d6da4b3de4eb7d", "message": "patch(TPS-4071): Remove localprovider from cumulative patch", "committedDate": "2020-06-24T11:15:19Z", "type": "commit"}, {"oid": "cc1df533b47a3d439dc1eb0f1e79604911855153", "url": "https://github.com/Talend/tdi-studio-se/commit/cc1df533b47a3d439dc1eb0f1e79604911855153", "message": "patch(TPS-4071): Remove extra files", "committedDate": "2020-06-24T11:22:16Z", "type": "commit"}, {"oid": "fc66c15e2f03111aa345711aee45c91023ea5350", "url": "https://github.com/Talend/tdi-studio-se/commit/fc66c15e2f03111aa345711aee45c91023ea5350", "message": "patch(TPS-4071): Fix codegen to avoid compile errors", "committedDate": "2020-06-24T11:24:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjgxMzc1OA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4847#discussion_r446813758", "bodyText": "when customer only install studio patch, there should be complile error for ftps type", "author": "jzhao-talend", "createdAt": "2020-06-29T07:05:28Z", "path": "main/plugins/org.talend.designer.codegen/jet_stub/footer.javajet", "diffHunk": "@@ -1171,13 +1171,21 @@ if (execStat) {\n             } else {\n                 type = \"ftp\";\n             }\n-            if (\"ftp\".equals(type)) { %>\n-                ((com.enterprisedt.net.ftp.FTPClient) obj_conn).quit();\n-        <%} else if (\"sftp\".equals(type)) { %>\n+            if (\"sftp\".equals(type)) { %>\n                 ((com.jcraft.jsch.ChannelSftp) obj_conn).quit();\n-        <%} else { %>\n-                ((org.apache.commons.net.ftp.FTPSClient) obj_conn).disconnect();\n-        <%}%>\n+            <%} else {\n+                String libImplementation = ElementParameterParser.getValue(ftpNode, \"__LIB_IMPLEMENTATION__\");\n+                if (\"Apache\".equalsIgnoreCase(libImplementation)) {\n+%>\n+                    ((org.apache.commons.net.ftp.FTPClient) obj_conn).disconnect();\n+<%\n+                } else {\n+%>\n+                    ((com.enterprisedt.net.ftp.FTPClient) obj_conn).quit();", "originalCommit": "fc66c15e2f03111aa345711aee45c91023ea5350", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjgzNTY2Nw==", "url": "https://github.com/Talend/tdi-studio-se/pull/4847#discussion_r446835667", "bodyText": "fixed in 9991261", "author": "jzhao-talend", "createdAt": "2020-06-29T07:50:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjgxMzc1OA=="}], "type": "inlineReview"}, {"oid": "99912615b71daac65c1c5f360b92162d7a6bfcaf", "url": "https://github.com/Talend/tdi-studio-se/commit/99912615b71daac65c1c5f360b92162d7a6bfcaf", "message": "patch(TPS-4071): tftpconnection ftps compile error", "committedDate": "2020-06-29T07:48:11Z", "type": "commit"}]}