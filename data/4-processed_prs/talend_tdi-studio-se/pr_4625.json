{"pr_number": 4625, "pr_title": "fix(TDI-44070): Unable to execute the job, receiving \"Failed to gener\u2026", "pr_createdAt": "2020-04-16T14:37:57Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4625", "timeline": [{"oid": "6d1db1e99569314bd5860cba8df338c262534f26", "url": "https://github.com/Talend/tdi-studio-se/commit/6d1db1e99569314bd5860cba8df338c262534f26", "message": "fix(TDI-44070): Unable to execute the job, receiving \"Failed to generate code.\" when using tAmazonRedshiftManage component.", "committedDate": "2020-04-16T14:17:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NzgxMQ==", "url": "https://github.com/Talend/tdi-studio-se/pull/4625#discussion_r410247811", "bodyText": "please, enclose if body with braces:\nif (node_count.isEmpty()) {\n    node_count = \"1\";\n}\n\nplease refer to java code conventions, section 7.2\nhttps://www.oracle.com/technetwork/java/codeconventions-150003.pdf\nBraces are used around all statements, even singletons, when they are part of a control\nstructure, such as a if-else or for statement. This makes it easier to add statements\nwithout accidentally introducing bugs due to forgetting to add braces", "author": "gonchar-ivan", "createdAt": "2020-04-17T14:08:39Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tAmazonRedshiftManage/tAmazonRedshiftManage_begin.javajet", "diffHunk": "@@ -24,6 +24,7 @@\n \tString user = ElementParameterParser.getValue(node, \"__USER__\");\n \tString node_type = ElementParameterParser.getValue(node, \"__NODE_TYPE__\");\n \tString node_count = ElementParameterParser.getValue(node, \"__NODE_COUNT__\");\n+\tif (node_count.isEmpty()) node_count = \"1\";", "originalCommit": "6d1db1e99569314bd5860cba8df338c262534f26", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0ODg0OQ==", "url": "https://github.com/Talend/tdi-studio-se/pull/4625#discussion_r410248849", "bodyText": "please, enclose if-else bodes with braces", "author": "gonchar-ivan", "createdAt": "2020-04-17T14:10:15Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tAmazonRedshiftManage/tAmazonRedshiftManage_begin.javajet", "diffHunk": "@@ -88,52 +89,43 @@\n     \t\t.withMasterUsername(<%=user%>)\n     \t\t.withMasterUserPassword(decryptedPwd_<%=cid%>)\n     \t\t\n-    \t\t.withNodeType(<%=node_type%>)\n-    \t\t\n-    \t\t<%\n-    \t\tif(new Integer(node_count) > 1){\n-    \t\t%>\n-    \t\t.withNumberOfNodes(<%=node_count%>)\n-    \t\t<%\n-    \t\t} else {\n-    \t\t%>\n-    \t\t.withClusterType(\"single-node\")\n-    \t\t<%\n-    \t\t}\n-    \t\t%>\n+    \t\t.withNodeType(<%=node_type%>);\n     \t\t\n-    \t\t//advanced settings\n-    \t\t<%if(parameterUtil.isValid(parameter_group_name)) {%>\n-    \t\t.withClusterParameterGroupName(<%=parameter_group_name%>)\n-    \t\t<%}%>\n-\t\t\t\n-\t\t\t<%if(parameterUtil.isValid(subnet_group_name)) {%>\n-\t\t\t.withClusterSubnetGroupName(<%=subnet_group_name%>)\n-\t\t\t<%}%>\n-\t\t\t\n-\t\t\t<%\n-\t\t\tif(publicly_accessible) {\n-\t\t\t%>\n-\t\t\t\t.withPubliclyAccessible(true)\n-    \t\t\t<%if(set_public_ip_address) {%>\n-    \t\t\t.withElasticIp(<%=elastic_ip%>)\n-    \t\t\t<%}%>\n-\t\t\t<%\n-\t\t\t} else {\n-\t\t\t%>\n-\t\t\t\t.withPubliclyAccessible(false)\n-\t\t\t<%\n-\t\t\t}\n-\t\t\t%>\n-\t\t\t\n-\t\t\t<%if(parameterUtil.isValid(availability_zone)) {%>\n-\t\t\t.withAvailabilityZone(<%=availability_zone%>)\n-\t\t\t<%}%>\n-\t\t\t\n-\t\t\t<%if(parameterUtil.isValid(vpc_security_groupids)) {%>\n-\t\t\t.withVpcSecurityGroupIds(<%=vpc_security_groupids%>.split(\",\"))\n+\t\tif (<%=node_count%> > 1) request_<%=cid%> = request_<%=cid%>.withNumberOfNodes(<%=node_count%>);\n+\t\telse request_<%=cid%> = request_<%=cid%>.withClusterType(\"single-node\");", "originalCommit": "6d1db1e99569314bd5860cba8df338c262534f26", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b1a975e4c4cc3b268e4017619c58513c7af12da3", "url": "https://github.com/Talend/tdi-studio-se/commit/b1a975e4c4cc3b268e4017619c58513c7af12da3", "message": "fix(TDI-44070): Unable to execute the job, receiving \"Failed to generate code.\" when using tAmazonRedshiftManage component.", "committedDate": "2020-04-17T18:11:02Z", "type": "commit"}]}