{"pr_number": 4693, "pr_title": "feat(TUP-27160): searchable connectors", "pr_createdAt": "2020-05-18T07:06:06Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4693", "timeline": [{"oid": "c51b9dbc02d2ff144d615711b1c3db377619fcd0", "url": "https://github.com/Talend/tdi-studio-se/commit/c51b9dbc02d2ff144d615711b1c3db377619fcd0", "message": "feat(TUP-27157): searchable stitch connectors", "committedDate": "2020-05-18T07:05:10Z", "type": "commit"}, {"oid": "3333e0edeb010c024dbd1446edaa05fa540d77c0", "url": "https://github.com/Talend/tdi-studio-se/commit/3333e0edeb010c024dbd1446edaa05fa540d77c0", "message": "fix the item selection issue in palette + load latest UTM params + i18n", "committedDate": "2020-05-18T07:05:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUwMjEzNg==", "url": "https://github.com/Talend/tdi-studio-se/pull/4693#discussion_r426502136", "bodyText": "Better set timeout ?", "author": "wchen-talend", "createdAt": "2020-05-18T09:46:39Z", "path": "main/plugins/org.talend.designer.core/src/main/java/org/talend/designer/core/ui/editor/StitchDataLoaderConstants.java", "diffHunk": "@@ -0,0 +1,156 @@\n+// ============================================================================\n+//\n+// Copyright (C) 2006-2020 Talend Inc. - www.talend.com\n+//\n+// This source code is available under agreement available at\n+// %InstallDIR%\\features\\org.talend.rcp.branding.%PRODUCTNAME%\\%PRODUCTNAME%license.txt\n+//\n+// You should have received a copy of the agreement\n+// along with this program; if not, write to Talend SA\n+// 9 rue Pages 92150 Suresnes, France\n+//\n+// ============================================================================\n+package org.talend.designer.core.ui.editor;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.UnsupportedEncodingException;\n+import java.net.URL;\n+import java.net.URLEncoder;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+\n+import javax.net.ssl.HttpsURLConnection;\n+\n+import org.apache.commons.io.IOUtils;\n+import org.apache.commons.lang3.StringUtils;\n+import org.talend.commons.exception.ExceptionHandler;\n+import org.talend.designer.core.i18n.Messages;\n+import org.talend.designer.core.model.components.StitchPseudoComponent;\n+import org.talend.utils.json.JSONArray;\n+import org.talend.utils.json.JSONException;\n+import org.talend.utils.json.JSONObject;\n+\n+public class StitchDataLoaderConstants {\n+\n+    public static final String CONNECTOR_PALETTE_TYPE = \"SDL\";\n+\n+    public static final String CONNECTOR_FAMILY_NAME = \"Stitch Data Loader\";\n+\n+    public static final String STITCH_DATA_CONNECTOR_JSON_URL = \"https://www.stitchdata.com/integrations.json\";\n+\n+    private static final String DEFAULT_CONNECTOR_LIST_FILE_PATH = \"stitch_connectors.json\";\n+\n+    private static String utmParamSuffix = StringUtils.EMPTY;\n+\n+    private static List<StitchPseudoComponent> integrationSourceList = Collections.emptyList();\n+\n+    private static List<StitchPseudoComponent> dataWarehouseList = Collections.emptyList();\n+\n+    static {\n+        // load latest stitch pseudo connectors and UTM parameters asynchronously\n+        CompletableFuture.runAsync(new Runnable() {\n+\n+            @Override\n+            public void run() {\n+                loadLatestStitchPseudoComponents();\n+            }\n+        });\n+    }\n+\n+    public static String getUTMParamSuffix() {\n+        return utmParamSuffix;\n+    }\n+\n+    protected static List<StitchPseudoComponent> getIntegrationSourceList() {\n+        return integrationSourceList;\n+    }\n+\n+    protected static List<StitchPseudoComponent> getDataWarehouseList() {\n+        return dataWarehouseList;\n+    }\n+\n+    private static void loadLatestStitchPseudoComponents() {\n+        try {\n+            URL stitchConnectorURL = new URL(STITCH_DATA_CONNECTOR_JSON_URL);\n+            HttpsURLConnection con = (HttpsURLConnection) stitchConnectorURL.openConnection();\n+            InputStream ins = con.getInputStream();\n+            String resourceString = IOUtils.toString(ins, \"UTF-8\");", "originalCommit": "3333e0edeb010c024dbd1446edaa05fa540d77c0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY2ODE3OQ==", "url": "https://github.com/Talend/tdi-studio-se/pull/4693#discussion_r426668179", "bodyText": "Yes. I agree.", "author": "sizhaoliu", "createdAt": "2020-05-18T14:29:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUwMjEzNg=="}], "type": "inlineReview"}, {"oid": "586d4f9a881ec27e07f0502c59df30b1007a1fd4", "url": "https://github.com/Talend/tdi-studio-se/commit/586d4f9a881ec27e07f0502c59df30b1007a1fd4", "message": "add category for stitch connectors + exclude overlapping connectors", "committedDate": "2020-05-19T09:04:57Z", "type": "commit"}, {"oid": "38deb14ce074180377ff69b9ed2a78cb836329b8", "url": "https://github.com/Talend/tdi-studio-se/commit/38deb14ce074180377ff69b9ed2a78cb836329b8", "message": "add timeout for resource loading", "committedDate": "2020-05-19T09:33:55Z", "type": "commit"}]}