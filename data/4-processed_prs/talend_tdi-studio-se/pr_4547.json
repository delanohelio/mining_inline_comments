{"pr_number": 4547, "pr_title": "feat(TDI-43756):extends STS AssumeRole fields for S3.", "pr_createdAt": "2020-03-20T12:00:27Z", "pr_url": "https://github.com/Talend/tdi-studio-se/pull/4547", "timeline": [{"oid": "65af7d11644e15094198f4397dcb8cfc704a0067", "url": "https://github.com/Talend/tdi-studio-se/commit/65af7d11644e15094198f4397dcb8cfc704a0067", "message": "feat(TDI-43756):extends STS AssumeRole fields.", "committedDate": "2020-03-20T11:24:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYwMDMzMg==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r395600332", "bodyText": "why add this check-box ?\nand it looks duplicate with \"Assume Role\"", "author": "jzhao-talend", "createdAt": "2020-03-20T12:21:31Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tRedshiftOutputBulk/tRedshiftOutputBulk_java.xml", "diffHunk": "@@ -281,6 +260,114 @@\n \t\t\t\t<ITEM NAME=\"VALUE\" />\n \t\t\t</ITEMS>\n \t\t</PARAMETER>\n+\t\t\n+\t\t<PARAMETER\n+\t      NAME=\"CONFIG_ASSUME_ROLE\"", "originalCommit": "65af7d11644e15094198f4397dcb8cfc704a0067", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYwNTAyMg==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r395605022", "bodyText": "and where did it used in javajet?", "author": "jzhao-talend", "createdAt": "2020-03-20T12:31:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYwMDMzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYwMTAxOA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r395601018", "bodyText": "after you add CONFIG_ASSUME_ROLE, how can you make this work which old job checked \"SET_STS_ENDPOINT\"?", "author": "jzhao-talend", "createdAt": "2020-03-20T12:23:05Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tRedshiftOutputBulk/tRedshiftOutputBulk_java.xml", "diffHunk": "@@ -281,6 +260,114 @@\n \t\t\t\t<ITEM NAME=\"VALUE\" />\n \t\t\t</ITEMS>\n \t\t</PARAMETER>\n+\t\t\n+\t\t<PARAMETER\n+\t      NAME=\"CONFIG_ASSUME_ROLE\"\n+\t      FIELD=\"CHECK\"\n+\t      NUM_ROW=\"50\"\n+\t      NB_LINES=\"5\"\n+\t      GROUP=\"ASSUME_ROLE_CONFIG\"\n+\t      SHOW_IF=\"isShow[ASSUME_ROLE] AND (ASSUME_ROLE == 'true')\"\n+\t    >\n+\t    </PARAMETER>\n+\t    \n+\t    <PARAMETER\n+\t      NAME=\"SIGNING_REGION\"\n+\t      FIELD=\"TEXT\"\n+\t      NUM_ROW=\"51\"\n+\t      GROUP=\"ASSUME_ROLE_CONFIG\"\n+\t      REQUIRED=\"true\"\n+\t      SHOW_IF=\"isShow[ASSUME_ROLE] AND (ASSUME_ROLE == 'true') AND (CONFIG_ASSUME_ROLE == 'true')\"\n+\t    >\n+\t      <DEFAULT>\"\"</DEFAULT>\n+\t    </PARAMETER>\n+\t    \n+\t    <PARAMETER\n+\t      NAME=\"SET_STS_ENDPOINT\"", "originalCommit": "65af7d11644e15094198f4397dcb8cfc704a0067", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYwODQyNA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r395608424", "bodyText": "is this region list is fixed? why can't provide a drop-down list let customer pick up?", "author": "jzhao-talend", "createdAt": "2020-03-20T12:38:26Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tRedshiftOutputBulk/tRedshiftOutputBulk_java.xml", "diffHunk": "@@ -281,6 +260,114 @@\n \t\t\t\t<ITEM NAME=\"VALUE\" />\n \t\t\t</ITEMS>\n \t\t</PARAMETER>\n+\t\t\n+\t\t<PARAMETER\n+\t      NAME=\"CONFIG_ASSUME_ROLE\"\n+\t      FIELD=\"CHECK\"\n+\t      NUM_ROW=\"50\"\n+\t      NB_LINES=\"5\"\n+\t      GROUP=\"ASSUME_ROLE_CONFIG\"\n+\t      SHOW_IF=\"isShow[ASSUME_ROLE] AND (ASSUME_ROLE == 'true')\"\n+\t    >\n+\t    </PARAMETER>\n+\t    \n+\t    <PARAMETER\n+\t      NAME=\"SIGNING_REGION\"", "originalCommit": "65af7d11644e15094198f4397dcb8cfc704a0067", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYxMjgyMw==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r395612823", "bodyText": "i remember this parameter must be set if the \"SET_STS_ENDPOINT\" checked\nso better add require_if for this parameter.", "author": "jzhao-talend", "createdAt": "2020-03-20T12:47:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYwODQyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYxODUyNQ==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r395618525", "bodyText": "seems you didn't change tRedshiftOutputBulkExec", "author": "jzhao-talend", "createdAt": "2020-03-20T12:58:35Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tRedshiftOutputBulk/tRedshiftOutputBulk_java.xml", "diffHunk": "@@ -182,26 +181,6 @@\n \t    \t</ITEMS>\n \t    </PARAMETER>\n \t    \n-\t    <PARAMETER\n-\t      NAME=\"SET_STS_ENDPOINT\"", "originalCommit": "65af7d11644e15094198f4397dcb8cfc704a0067", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5386d041d8e476dce93be243b79d084b3316d8e3", "url": "https://github.com/Talend/tdi-studio-se/commit/5386d041d8e476dce93be243b79d084b3316d8e3", "message": "feat(TDI-43756):extends AssumeRole fields(v2).", "committedDate": "2020-03-23T08:37:19Z", "type": "commit"}, {"oid": "6a5acf816f01208d23faf530845024655e13cc78", "url": "https://github.com/Talend/tdi-studio-se/commit/6a5acf816f01208d23faf530845024655e13cc78", "message": "feat(TDI-43756):set Session duration not required.", "committedDate": "2020-03-23T09:39:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg2Njc1MQ==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r396866751", "bodyText": "i think this show_if can be shorter: isShow[SET_STS_ENDPOINT ] AND (SET_STS_ENDPOINT == 'true')", "author": "jzhao-talend", "createdAt": "2020-03-24T02:20:44Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tRedshiftOutputBulkExec/tRedshiftOutputBulkExec_java.xml", "diffHunk": "@@ -433,7 +412,124 @@\n \t\t\t\t<ITEM NAME=\"VALUE\" />\n \t\t\t</ITEMS>\n \t\t</PARAMETER>\n-\n+\t\t<PARAMETER\n+          NAME=\"SET_STS_ENDPOINT\"\n+          FIELD=\"CHECK\"\n+          NUM_ROW=\"81\"\n+          NB_LINES=\"5\"\n+          SHOW_IF=\"isShow[ASSUME_ROLE_S3] AND (ASSUME_ROLE_S3 == 'true')\"\n+          GROUP=\"ASSUME_ROLE_CONFIG\"\n+        >\n+        </PARAMETER>\n+        <PARAMETER\n+          NAME=\"STS_ENDPOINT\"\n+          FIELD=\"TEXT\"\n+          NUM_ROW=\"81\"\n+          SHOW_IF=\"isShow[ASSUME_ROLE_S3] AND (ASSUME_ROLE_S3 == 'true') AND (SET_STS_ENDPOINT == 'true')\"", "originalCommit": "6a5acf816f01208d23faf530845024655e13cc78", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg3NTMzOA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r396875338", "bodyText": "this part of code can be improve. you can set signingRegion \"US_EAST_1\", if set_signingRegion is false\nonly call withRegion(<%=signingRegion%>)", "author": "jzhao-talend", "createdAt": "2020-03-24T02:54:58Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tS3Connection/S3Client.javajet", "diffHunk": "@@ -225,22 +234,117 @@\n \t\t}\r\n \t\t\r\n \t\tif(assumeRole) {\r\n+\t\t\tint policyListSize = policyList.size();\r\n+\t\t\tint tagInfoListSize = tagInfoList.size();\r\n \t\t%>\r\n+\t\t\tint policyListSize_<%=cid%> = <%=policyListSize%>;\r\n+\t\t\tint tagInfoListSize_<%=cid%> = <%=tagInfoListSize%>;\r\n \t\t\tint sessionDurationSeconds_<%=cid%> = <%=sessionDuration%> * 60;\r\n-\t\t\tcom.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider.Builder stsBuilder_<%=cid%> = \r\n-\t\t\t\t\tnew com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider.Builder(<%=arn%>, <%=roleSessionName%>).withLongLivedCredentialsProvider(credentialsProvider_<%=cid%>)\r\n-\t\t\t\t\t.withRoleSessionDurationSeconds(sessionDurationSeconds_<%=cid%>);\r\n-\t\t\t\t\t\r\n-\t\t\t<%\r\n-\t\t\tif(setStsEndpoint) {\r\n-\t\t\t%>\r\n-\t\t\t\tstsBuilder_<%=cid%>.withServiceEndpoint(<%=stsEndpoint%>);\r\n-\t\t\t<%\r\n-\t\t\t}\r\n+\t\t\t\r\n+    \t\tList<com.amazonaws.services.securitytoken.model.PolicyDescriptorType> policyArnList_<%=cid%> = null;\r\n+    \t\t\t\r\n+    \t\t<%\r\n+\t\t\t\tif(policyListSize > 0){\r\n+\t        %>\r\n+\t                policyArnList_<%=cid%> = new java.util.ArrayList<com.amazonaws.services.securitytoken.model.PolicyDescriptorType>();\r\n+\t        <%\r\n+\t        \t\tfor(int policyListIndex = 0; policyListIndex < policyListSize; policyListIndex++){\r\n+\t        \t\t\tString policyArn = policyList.get(policyListIndex).get(\"POLICY_ARN\");\r\n+\t        %>\r\n+\t        \t\t\tcom.amazonaws.services.securitytoken.model.PolicyDescriptorType pdt_<%=cid%> = \r\n+\t        \t\t\t\tnew com.amazonaws.services.securitytoken.model.PolicyDescriptorType().withArn(<%=policyArn%>);\r\n+\t        \t\t\tpolicyArnList_<%=cid%>.add(pdt_<%=cid%>);\r\n+\t        <%\r\n+\t        \t\t}\r\n+\t        \t}\r\n+        \t%>\r\n+    \t\tList<com.amazonaws.services.securitytoken.model.Tag> tagList_<%=cid%> = null;\r\n+    \t\tList<String> tranTagKeys_<%=cid%> = null;\r\n+    \t\t\r\n+    \t\t<%\r\n+\t        \tif(tagInfoListSize > 0){\r\n+\t        %>\r\n+\t        \t\ttagList_<%=cid%> = new java.util.ArrayList<com.amazonaws.services.securitytoken.model.Tag>();\r\n+\t        \t\ttranTagKeys_<%=cid%> = new java.util.ArrayList<String>();\r\n+\t        <%\r\n+\t        \t\tfor(int tagInfoListIndex = 0; tagInfoListIndex < tagInfoListSize; tagInfoListIndex++){\r\n+\t        \t\t\tString tagKey = tagInfoList.get(tagInfoListIndex).get(\"TAG_KEY\");\r\n+\t        \t\t\tString tagValue = tagInfoList.get(tagInfoListIndex).get(\"TAG_VALUE\");\r\n+\t        \t\t\tString tagTransitive = tagInfoList.get(tagInfoListIndex).get(\"TAG_TRANSITIVE\");\r\n+\t        %>\r\n+\t        \t\t\tcom.amazonaws.services.securitytoken.model.Tag tag_<%=cid%> = \r\n+\t        \t\t\t\tnew com.amazonaws.services.securitytoken.model.Tag().withKey(<%=tagKey%>).withValue(<%=tagValue%>);\r\n+\t        \t\t\ttagList_<%=cid%>.add(tag_<%=cid%>);\r\n+\t        \t\t\t\r\n+\t        \t\t\tif(\"true\".equals(<%=tagTransitive%>))\r\n+\t        \t\t\t\ttranTagKeys_<%=cid%>.add(<%=tagKey%>);\r\n+\t        <%\r\n+\t        \t\t}\r\n+\t\t\t\t}\r\n \t\t\t%>\r\n-\t\t\tstsBuilder_<%=cid%>.withClientConfiguration(cc_<%=cid%>);\r\n \t\t\t\r\n-\t\t\tcredentialsProvider_<%=cid%> = stsBuilder_<%=cid%>.build();\r\n+\t\t\tcom.amazonaws.services.securitytoken.AWSSecurityTokenService stsClient_<%=cid%> = \r\n+\t\t\t\t\tcom.amazonaws.services.securitytoken.AWSSecurityTokenServiceClientBuilder.standard()\r\n+\t\t\t\t\t.withCredentials(credentialsProvider_<%=cid%>)\r\n+\t\t\t\t\t<%if(setStsEndpoint && stsEndpoint != null && !stsEndpoint.isEmpty()){%>\r\n+\t\t\t\t\t\r\n+\t\t\t\t\t\t<%if(set_signingRegion){%>\r\n+\t\t\t\t\t\t.withEndpointConfiguration(new com.amazonaws.client.builder.AwsClientBuilder.EndpointConfiguration(<%=stsEndpoint%>, <%=signingRegion%>))\r\n+\t\t\t\t\t\t<%}else{%>\r\n+\t\t\t\t\t\t.withEndpointConfiguration(new com.amazonaws.client.builder.AwsClientBuilder.EndpointConfiguration(<%=stsEndpoint%>, null))\r\n+\t\t\t\t\t\t<%}%>\r\n+\t\t\t\t\t\t\r\n+\t\t\t\t\t<%}else{%>\r\n+\t\t\t\t\t\r\n+\t\t\t\t\t\t<%if(set_signingRegion){%>\r\n+\t\t\t\t\t\t.withRegion(<%=signingRegion%>)\r\n+\t\t\t\t\t\t<%}else{%>\r\n+\t\t\t\t\t\t.withRegion(com.amazonaws.regions.Regions.US_EAST_1)\r", "originalCommit": "6a5acf816f01208d23faf530845024655e13cc78", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg4ODM5NA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r396888394", "bodyText": "Ok, thank you.", "author": "vyu-talend", "createdAt": "2020-03-24T03:51:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg3NTMzOA=="}], "type": "inlineReview"}, {"oid": "1805a55cd1f1052fb097c110ba0030cdf65c4434", "url": "https://github.com/Talend/tdi-studio-se/commit/1805a55cd1f1052fb097c110ba0030cdf65c4434", "message": "feat(TDI-43756):", "committedDate": "2020-03-25T08:55:02Z", "type": "commit"}, {"oid": "5e8f5e28e69847487af85b33d99d286dd138d853", "url": "https://github.com/Talend/tdi-studio-se/commit/5e8f5e28e69847487af85b33d99d286dd138d853", "message": "feat(TDI-43756):extends fields for SQS", "committedDate": "2020-03-25T10:27:14Z", "type": "commit"}, {"oid": "be4b8c89a1676602fcc91ef278c4367699f4a587", "url": "https://github.com/Talend/tdi-studio-se/commit/be4b8c89a1676602fcc91ef278c4367699f4a587", "message": "feat(TDI-43756):fix the mistakes.", "committedDate": "2020-03-25T10:27:41Z", "type": "commit"}, {"oid": "872ef07ead6f6d2509510378e4d3cf6e4d5eada9", "url": "https://github.com/Talend/tdi-studio-se/commit/872ef07ead6f6d2509510378e4d3cf6e4d5eada9", "message": "feat(TDI-43756):extends fields for tAmazonEMRXXX,tAamzonRedshiftManage.", "committedDate": "2020-03-25T10:36:52Z", "type": "commit"}, {"oid": "5e4bf0e8918d6928f7a760c5264f70b17d6a9061", "url": "https://github.com/Talend/tdi-studio-se/commit/5e4bf0e8918d6928f7a760c5264f70b17d6a9061", "message": "feat(TDI-43756):optimize code.", "committedDate": "2020-03-25T10:37:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQ1OTUwNg==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r398459506", "bodyText": "please note that: don't include change which plan to fix in other PR", "author": "jzhao-talend", "createdAt": "2020-03-26T10:19:19Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tS3Connection/tS3Connection_java.xml", "diffHunk": "@@ -337,8 +438,8 @@\n \n    <CODEGENERATION>\n     <IMPORTS>\n-       <IMPORT NAME=\"aws-java-sdk-1.11.406.jar\" MODULE=\"aws-java-sdk-1.11.406.jar\"\n-\t\t\tMVN=\"mvn:com.amazonaws/aws-java-sdk/1.11.406\"\n+       <IMPORT NAME=\"aws-java-sdk-1.11.729.jar\" MODULE=\"aws-java-sdk-1.11.729.jar\"", "originalCommit": "5e4bf0e8918d6928f7a760c5264f70b17d6a9061", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1acaf65689ad72e0f251dbeec47b41b5aeb67e0f", "url": "https://github.com/Talend/tdi-studio-se/commit/1acaf65689ad72e0f251dbeec47b41b5aeb67e0f", "message": "feat(TDI-43756):retrieve changes on S3connection.xml", "committedDate": "2020-03-26T10:40:18Z", "type": "commit"}, {"oid": "07e6a5aaa69d54498539637fc24a188fd7344011", "url": "https://github.com/Talend/tdi-studio-se/commit/07e6a5aaa69d54498539637fc24a188fd7344011", "message": "feat(TDI-43756):fix duplicated variables.", "committedDate": "2020-04-21T02:10:26Z", "type": "commit"}, {"oid": "de947530ac01e665883638b7fc3d52473aa956b8", "url": "https://github.com/Talend/tdi-studio-se/commit/de947530ac01e665883638b7fc3d52473aa956b8", "message": "feat(TDI-43756):fix same error", "committedDate": "2020-04-21T02:30:54Z", "type": "commit"}, {"oid": "cbd0b48b33f09580d68b213ae5b2aafbfa5910b8", "url": "https://github.com/Talend/tdi-studio-se/commit/cbd0b48b33f09580d68b213ae5b2aafbfa5910b8", "message": "feat(TDI-43756):optimize codes.", "committedDate": "2020-04-21T04:14:14Z", "type": "commit"}, {"oid": "785ce1c79df6c7a1f67c3f1f785378e684d2c15b", "url": "https://github.com/Talend/tdi-studio-se/commit/785ce1c79df6c7a1f67c3f1f785378e684d2c15b", "message": "feat(TDI-43756):use default region(US_WEST_2) for sts.", "committedDate": "2020-04-26T09:33:45Z", "type": "commit"}, {"oid": "a595d27e011a7a558e085dbd3f11a8280df13615", "url": "https://github.com/Talend/tdi-studio-se/commit/a595d27e011a7a558e085dbd3f11a8280df13615", "message": "feat(TDI-43756):change default to US-EAST-1.", "committedDate": "2020-04-27T01:34:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU3ODc3OA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r415578778", "bodyText": "Isn't this tagInfoList a List<Map<String,String>> ? why convert directly to boolean? Are you sure it works?", "author": "pyzhou-talend", "createdAt": "2020-04-27T07:34:24Z", "path": "main/plugins/org.talend.designer.components.localprovider/components/tSQSConnection/SQSClient.javajet", "diffHunk": "@@ -98,22 +107,115 @@\n \t\t\t}\r\n \t\t}\r\n \t\tif(assumeRole) {\r\n+\t\t\tint policyListSize = policyList.size();\r\n+\t\t\tint tagInfoListSize = tagInfoList.size();\r\n \t\t%>\r\n+\t\t\tint policyListSize_<%=cid%> = <%=policyListSize%>;\r\n+\t\t\tint tagInfoListSize_<%=cid%> = <%=tagInfoListSize%>;\r\n \t\t\tint sessionDurationSeconds_<%=cid%> = <%=sessionDuration%> * 60;\r\n-\t\t\tcom.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider.Builder stsBuilder_<%=cid%> = \r\n-\t\t\t\t\tnew com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider.Builder(<%=arn%>, <%=roleSessionName%>).withLongLivedCredentialsProvider(credentialsProvider_<%=cid%>)\r\n-\t\t\t\t\t.withRoleSessionDurationSeconds(sessionDurationSeconds_<%=cid%>);\r\n-\t\t\t\t\t\r\n-\t\t\t<%\r\n-\t\t\tif(setStsEndpoint) {\r\n-\t\t\t%>\r\n-\t\t\t\tstsBuilder_<%=cid%>.withServiceEndpoint(<%=stsEndpoint%>);\r\n-\t\t\t<%\r\n-\t\t\t}\r\n+\t\t\tList<com.amazonaws.services.securitytoken.model.PolicyDescriptorType> policyArnList_<%=cid%> = null;\r\n+    \t\t\t\r\n+    \t\t<%\r\n+\t\t\t\tif(policyListSize > 0){\r\n+\t        %>\r\n+\t                policyArnList_<%=cid%> = new java.util.ArrayList<com.amazonaws.services.securitytoken.model.PolicyDescriptorType>();\r\n+\t        <%\r\n+\t        \t\tfor(int policyListIndex = 0; policyListIndex < policyListSize; policyListIndex++){\r\n+\t        \t\t\tString policyArn = policyList.get(policyListIndex).get(\"POLICY_ARN\");\r\n+\t        %>\r\n+\t        \t\t\tpolicyArnList_<%=cid%>.add(new com.amazonaws.services.securitytoken.model.PolicyDescriptorType().withArn(<%=policyArn%>));\r\n+\t        <%\r\n+\t        \t\t}\r\n+\t        \t}\r\n+        \t%>\r\n+    \t\tList<com.amazonaws.services.securitytoken.model.Tag> tagList_<%=cid%> = null;\r\n+    \t\tList<String> tranTagKeys_<%=cid%> = null;\r\n+    \t\t\r\n+    \t\t<%\r\n+\t        \tif(tagInfoListSize > 0){\r\n+\t        %>\r\n+\t        \t\ttagList_<%=cid%> = new java.util.ArrayList<com.amazonaws.services.securitytoken.model.Tag>();\r\n+\t        \t\ttranTagKeys_<%=cid%> = new java.util.ArrayList<String>();\r\n+\t        <%\r\n+\t        \t\tfor(int tagInfoListIndex = 0; tagInfoListIndex < tagInfoListSize; tagInfoListIndex++){\r\n+\t        \t\t\tString tagKey = tagInfoList.get(tagInfoListIndex).get(\"TAG_KEY\");\r\n+\t        \t\t\tString tagValue = tagInfoList.get(tagInfoListIndex).get(\"TAG_VALUE\");\r\n+\t        \t\t\tboolean tagTransitive = tagInfoList.get(tagInfoListIndex).get(\"TAG_TRANSITIVE\");\r", "originalCommit": "a595d27e011a7a558e085dbd3f11a8280df13615", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU4NTYyNA==", "url": "https://github.com/Talend/tdi-studio-se/pull/4547#discussion_r415585624", "bodyText": "yes, I've checked it. Actually, I have the same question as you. It will throw an exception if I get it as a string. It is so strange.", "author": "vyu-talend", "createdAt": "2020-04-27T07:45:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU3ODc3OA=="}], "type": "inlineReview"}]}