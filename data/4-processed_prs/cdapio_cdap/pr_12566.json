{"pr_number": 12566, "pr_title": "[CDAP-17153] Add tabs for Preview tables when there are multiple stages", "pr_createdAt": "2020-08-05T04:08:13Z", "pr_url": "https://github.com/cdapio/cdap/pull/12566", "timeline": [{"oid": "b70a70ba855f0228a05536c0faf58f78e5f944c4", "url": "https://github.com/cdapio/cdap/commit/b70a70ba855f0228a05536c0faf58f78e5f944c4", "message": "Modify multipleednpoints e2e test to check for tabs in table view", "committedDate": "2020-08-05T16:20:50Z", "type": "forcePushed"}, {"oid": "fadf6db38a46bfea4e1dd91607053b5492d83ea9", "url": "https://github.com/cdapio/cdap/commit/fadf6db38a46bfea4e1dd91607053b5492d83ea9", "message": "Modify multipleednpoints e2e test to check for tabs in table view", "committedDate": "2020-08-05T18:09:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMTgyNQ==", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465911825", "bodyText": "Nit: Is there an easy way to consolidate this loop with the input table loop?", "author": "njbriggs", "createdAt": "2020-08-05T18:11:04Z", "path": "cdap-ui/app/cdap/components/PreviewData/DataView/TableContainer.tsx", "diffHunk": "@@ -116,29 +160,29 @@ const TableContainer: React.FC<IPreviewTableContainerProps> = ({\n           })}\n         >\n           <h2 className={classes.h2Title}>{T.translate(`${I18N_PREFIX}.outputHeader`)}</h2>\n-          {outputs.map(([tableKey, tableValue], j) => {\n-            const outputHeaders = tableValue.schemaFields;\n-            const outputRecords = tableValue.records;\n-            return (\n-              <div key={`output-table-${j}`} className={classes.tableContainer}>\n-                {outputs.length > 1 ? (\n-                  <Heading type={HeadingTypes.h3} label={tableKey} />\n-                ) : (\n-                  <div\n-                    className={classnames({\n-                      [classes.headerBumper]: outputs.length === 1 && inputs.length > 1,\n-                    })}\n-                  />\n-                )}\n-                <DataTable\n-                  headers={outputHeaders}\n-                  records={outputRecords}\n-                  isInput={false}\n-                  previewStatus={previewStatus}\n-                />\n-              </div>\n-            );\n-          })}\n+          {showOutputTabs", "originalCommit": "fadf6db38a46bfea4e1dd91607053b5492d83ea9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk5OTg5Mw==", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465999893", "bodyText": "Good call! I've refactored to reduce the duplicate code here, and done the same for the RecordContainer as well.", "author": "yukiej", "createdAt": "2020-08-05T20:58:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMTgyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMjIxMQ==", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465912211", "bodyText": "Will this cause issues with other Tab instances?", "author": "njbriggs", "createdAt": "2020-08-05T18:11:40Z", "path": "cdap-ui/app/cdap/components/Tabs/Tabs.scss", "diffHunk": "@@ -41,7 +41,7 @@\n       width: 100%;\n       display: flex;\n       &:first-child {\n-        height: fit-content;\n+        height: 42px;", "originalCommit": "fadf6db38a46bfea4e1dd91607053b5492d83ea9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk1NDE5Ng==", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465954196", "bodyText": "The difference between fit-content and 42px is very small (fit-content was ~42.6px), and we only use horizontal tabs here and in one place in the schema editor. So if the fit-content change was OK for both places, this should be a minor change.", "author": "yukiej", "createdAt": "2020-08-05T19:29:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMjIxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk1NDM5Mw==", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r465954393", "bodyText": "@ajainarayanan Want to make sure you see this change to confirm that it is okay for the schema editor!", "author": "yukiej", "createdAt": "2020-08-05T19:30:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMjIxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA5MjE0OQ==", "url": "https://github.com/cdapio/cdap/pull/12566#discussion_r467092149", "bodyText": "Modified this slightly to still work if scrollbars are always set to on. Also tested in firefox and checked it worked ok in schema editor.", "author": "yukiej", "createdAt": "2020-08-07T14:54:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMjIxMQ=="}], "type": "inlineReview"}, {"oid": "102a5662c5f7aea06d78376e71f92f1024855087", "url": "https://github.com/cdapio/cdap/commit/102a5662c5f7aea06d78376e71f92f1024855087", "message": "Refactor record rendering to reduce duplicate code", "committedDate": "2020-08-05T21:00:34Z", "type": "forcePushed"}, {"oid": "bef1cccca93d10f82ea9b6271eea2ae64f789ba3", "url": "https://github.com/cdapio/cdap/commit/bef1cccca93d10f82ea9b6271eea2ae64f789ba3", "message": "Tweak styles to work on mac scrolling always on system headings while still aligning on default", "committedDate": "2020-08-07T18:28:44Z", "type": "forcePushed"}, {"oid": "a0107f99402ccb42b2b60afc4d693d8b427d8164", "url": "https://github.com/cdapio/cdap/commit/a0107f99402ccb42b2b60afc4d693d8b427d8164", "message": "Add tabs for multiple stages in tab view\n\nRemove paper styles in record view and fix linter error\n\nModify multipleednpoints e2e test to check for tabs in table view\n\nTweak styles to work on mac scrolling always on system headings while still aligning on default", "committedDate": "2020-08-07T18:34:26Z", "type": "commit"}, {"oid": "a0107f99402ccb42b2b60afc4d693d8b427d8164", "url": "https://github.com/cdapio/cdap/commit/a0107f99402ccb42b2b60afc4d693d8b427d8164", "message": "Add tabs for multiple stages in tab view\n\nRemove paper styles in record view and fix linter error\n\nModify multipleednpoints e2e test to check for tabs in table view\n\nTweak styles to work on mac scrolling always on system headings while still aligning on default", "committedDate": "2020-08-07T18:34:26Z", "type": "forcePushed"}]}