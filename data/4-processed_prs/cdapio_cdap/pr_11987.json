{"pr_number": 11987, "pr_title": "[CDAP-16451][CDAP-16457] Fix Configurable tab js error in UI", "pr_createdAt": "2020-03-20T06:01:57Z", "pr_url": "https://github.com/cdapio/cdap/pull/11987", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjQ3Ng==", "url": "https://github.com/cdapio/cdap/pull/11987#discussion_r395782476", "bodyText": "If it is possible for there to be no defaultMarketUrl, could this sometimes cause an issue on line 38?", "author": "yukiej", "createdAt": "2020-03-20T17:20:02Z", "path": "cdap-ui/server/url-helper.js", "diffHunk": "@@ -38,16 +38,21 @@ function extractMarketUrls(cdapConfig) {\n     return [defaultMarketUrl];\n   }\n   const marketUrls = cdapConfig['market.base.urls'].split('+');\n-  const filteredMarketUrls = marketUrls.filter(element => element !== defaultMarketUrl); \n+  let filteredMarketUrls;\n+  if (!defaultMarketUrl) {", "originalCommit": "3958c41a5cddf7f47f0a81eaecd807167de4e900", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTgyMzQwMQ==", "url": "https://github.com/cdapio/cdap/pull/11987#discussion_r395823401", "bodyText": "The assumption is if the market.base.urls is not present then the market.base.url is assumed to be present. But you are right there can be corner case when both of them are not present which will render the hub useless. Anyhow I have added additional check.", "author": "ajainarayanan", "createdAt": "2020-03-20T18:36:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjQ3Ng=="}], "type": "inlineReview"}, {"oid": "8318070adc786478100eda5cc0a7a81ebd98ce84", "url": "https://github.com/cdapio/cdap/commit/8318070adc786478100eda5cc0a7a81ebd98ce84", "message": "Fixes url-helper to check for default market url", "committedDate": "2020-03-20T19:15:31Z", "type": "forcePushed"}, {"oid": "7320202499173e77af40368369eaea2bbc25adcd", "url": "https://github.com/cdapio/cdap/commit/7320202499173e77af40368369eaea2bbc25adcd", "message": "[CDAP-16451][CDAP-16457] Fix Configurable tab js error in UI\n\n  - Fixes Configurable tab to not incorrectly set activetab on each props update\n  - Fixes url-helper to not assume the presence of market.base.url all the time\n  - Fixes url-helper to check for default market url", "committedDate": "2020-03-23T02:25:02Z", "type": "commit"}, {"oid": "7320202499173e77af40368369eaea2bbc25adcd", "url": "https://github.com/cdapio/cdap/commit/7320202499173e77af40368369eaea2bbc25adcd", "message": "[CDAP-16451][CDAP-16457] Fix Configurable tab js error in UI\n\n  - Fixes Configurable tab to not incorrectly set activetab on each props update\n  - Fixes url-helper to not assume the presence of market.base.url all the time\n  - Fixes url-helper to check for default market url", "committedDate": "2020-03-23T02:25:02Z", "type": "forcePushed"}]}