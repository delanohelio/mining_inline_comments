{"pr_number": 12609, "pr_title": "[CDAP-17174] Modify stop preview behavior when pipeline run has already completed", "pr_createdAt": "2020-08-08T01:36:28Z", "pr_url": "https://github.com/cdapio/cdap/pull/12609", "timeline": [{"oid": "c781ef3f81e9380aaa05af21722b880edb4fcba1", "url": "https://github.com/cdapio/cdap/commit/c781ef3f81e9380aaa05af21722b880edb4fcba1", "message": "Check for 400 error on stop preview", "committedDate": "2020-08-10T16:48:26Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODEwOTg1OQ==", "url": "https://github.com/cdapio/cdap/pull/12609#discussion_r468109859", "bodyText": "we could also do something like\nconst pipelinePreviewPlaceholder = The preview of the pipeline${pipelineName.length > 0 ? ' pipelineName' : ''}", "author": "jennac3", "createdAt": "2020-08-10T18:52:57Z", "path": "cdap-ui/app/hydrator/controllers/create/toppanel-ctrl.js", "diffHunk": "@@ -678,29 +687,33 @@ class HydratorPlusPlusTopPanelCtrl {\n     };\n     this.previewLoading = true;\n     this.loadingLabel = 'Stopping';\n+    let pipelinePreviewPlaceholder = 'The preview of the pipeline';\n+    const pipelineName = this.HydratorPlusPlusConfigStore.getName();\n+    if (pipelineName.length > 0) {", "originalCommit": "c781ef3f81e9380aaa05af21722b880edb4fcba1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODExMDEzOQ==", "url": "https://github.com/cdapio/cdap/pull/12609#discussion_r468110139", "bodyText": "could you please put some comments that explain this function resetBtnsAndstopPoll?", "author": "jennac3", "createdAt": "2020-08-10T18:53:27Z", "path": "cdap-ui/app/hydrator/controllers/create/toppanel-ctrl.js", "diffHunk": "@@ -667,6 +667,15 @@ class HydratorPlusPlusTopPanelCtrl {\n       });\n   }\n \n+  resetBtnsAndStopPoll() {\n+    this.stopTimer();\n+    this.updateTimerLabelAndTitle();", "originalCommit": "c781ef3f81e9380aaa05af21722b880edb4fcba1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODExMDMzNQ==", "url": "https://github.com/cdapio/cdap/pull/12609#discussion_r468110335", "bodyText": "nit: I think we can rename it into resetButtonsAndStopPoll also!", "author": "jennac3", "createdAt": "2020-08-10T18:53:50Z", "path": "cdap-ui/app/hydrator/controllers/create/toppanel-ctrl.js", "diffHunk": "@@ -667,6 +667,15 @@ class HydratorPlusPlusTopPanelCtrl {\n       });\n   }\n \n+  resetBtnsAndStopPoll() {", "originalCommit": "c781ef3f81e9380aaa05af21722b880edb4fcba1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4d1584c8fed489dc891bba62b1ab5be558b1c94c", "url": "https://github.com/cdapio/cdap/commit/4d1584c8fed489dc891bba62b1ab5be558b1c94c", "message": "Address feedback", "committedDate": "2020-08-10T19:49:52Z", "type": "forcePushed"}, {"oid": "3b6bd33d74cb5b8307d1647c677368346ff88d5a", "url": "https://github.com/cdapio/cdap/commit/3b6bd33d74cb5b8307d1647c677368346ff88d5a", "message": "Check for 400 error on stop preview", "committedDate": "2020-08-10T21:58:04Z", "type": "commit"}, {"oid": "3b6bd33d74cb5b8307d1647c677368346ff88d5a", "url": "https://github.com/cdapio/cdap/commit/3b6bd33d74cb5b8307d1647c677368346ff88d5a", "message": "Check for 400 error on stop preview", "committedDate": "2020-08-10T21:58:04Z", "type": "forcePushed"}]}