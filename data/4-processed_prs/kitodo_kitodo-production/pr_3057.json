{"pr_number": 3057, "pr_title": "Support the recursive editing of metadata groups", "pr_createdAt": "2020-01-16T13:26:24Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3057", "timeline": [{"oid": "f1997059ae766a8e87d3a4e72e39ec41414e430c", "url": "https://github.com/kitodo/kitodo-production/commit/f1997059ae766a8e87d3a4e72e39ec41414e430c", "message": "Display metadata groups recursively using a tree table", "committedDate": "2020-01-09T15:35:37Z", "type": "commit"}, {"oid": "82275d438a7440c1f40569e310652ecb3ed70c97", "url": "https://github.com/kitodo/kitodo-production/commit/82275d438a7440c1f40569e310652ecb3ed70c97", "message": "Fix create process dialog", "committedDate": "2020-01-14T15:11:04Z", "type": "commit"}, {"oid": "a4b8bad4630408104deaf633f69fcc36d4c943b9", "url": "https://github.com/kitodo/kitodo-production/commit/a4b8bad4630408104deaf633f69fcc36d4c943b9", "message": "Show metadata in metadata editor", "committedDate": "2020-01-16T08:42:36Z", "type": "commit"}, {"oid": "724b276a1f9d7a3940d73adbdeff3faeeac082fe", "url": "https://github.com/kitodo/kitodo-production/commit/724b276a1f9d7a3940d73adbdeff3faeeac082fe", "message": "Adapt import", "committedDate": "2020-01-16T11:02:29Z", "type": "commit"}, {"oid": "9fbdf8b73194c12aa3473de4fb817807a05d3881", "url": "https://github.com/kitodo/kitodo-production/commit/9fbdf8b73194c12aa3473de4fb817807a05d3881", "message": "Update newspaper processes generator", "committedDate": "2020-01-16T12:02:11Z", "type": "commit"}, {"oid": "7b6592f491df25dfaf2d0d401fb66d3c729dd63f", "url": "https://github.com/kitodo/kitodo-production/commit/7b6592f491df25dfaf2d0d401fb66d3c729dd63f", "message": "Fix checkstyle", "committedDate": "2020-01-16T12:08:36Z", "type": "commit"}, {"oid": "a53240db7b524ad430b4857025575e62f405b4ee", "url": "https://github.com/kitodo/kitodo-production/commit/a53240db7b524ad430b4857025575e62f405b4ee", "message": "Fix Codacy issues", "committedDate": "2020-01-16T13:38:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNzc0Mg==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367837742", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <ui:include src=\"../metadataTreeTable.xhtml\">\n          \n          \n            \n                        <ui:include src=\"/WEB-INF/templates/includes/metadataTreeTable.xhtml\">", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:23:14Z", "path": "Kitodo/src/main/webapp/WEB-INF/templates/includes/metadataEditor/physicalMetadata.xhtml", "diffHunk": "@@ -17,164 +17,17 @@\n         xmlns:f=\"http://xmlns.jcp.org/jsf/core\"\n         xmlns:p=\"http://primefaces.org/ui\">\n \n-    <!--@elvariable id=\"readOnly\" type=\"boolean\"-->\n-    <ui:param name=\"readOnly\" value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"/>\n+    <ui:param name=\"readOnly\"\n+              value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"\n+    />\n+\n     <p:panel id=\"physicalMetadataWrapperPanel\" styleClass=\"wrapperPanel\">\n         <h:form id=\"physicalMetadata\">\n-            <p:dataTable id=\"physicalMetadataTable\"\n-                         rendered=\"#{!empty DataEditorForm.metadataPanel.physicalMetadataRows}\"\n-                         styleClass=\"no-header\"\n-                         value=\"#{DataEditorForm.metadataPanel.physicalMetadataRows}\"\n-                         var=\"item\">\n-\n-                <p:column style=\"width: 100%;\">\n-                    <p:outputLabel value=\"#{item.label}:\" rendered=\"#{not item.undefined}\"/>\n-                    <p:outputLabel value=\"#{item.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                   title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{item.undefined}\" />\n-\n-                    <p:inputText value=\"#{item.value}\"\n-                                 disabled=\"#{not item.editable or readOnly}\"\n-                                 styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                 style=\"width:100%;\"\n-                                 rendered=\"#{item.input eq 'inputText'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputText>\n-\n-                    <p:inputTextarea value=\"#{item.value}\"\n-                                     rows=\"2\"\n-                                     disabled=\"#{not item.editable or readOnly}\"\n-                                     styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                     style=\"width:100%;\"\n-                                     rendered=\"#{item.input eq 'inputTextarea'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputTextarea>\n-                    <p:spinner value=\"#{item.value}\"\n-                               styleClass=\"full-width\"\n-                               disabled=\"#{not item.editable or readOnly}\"\n-                               rendered=\"#{item.input eq 'spinner'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:spinner>\n-\n-                    <p:calendar value=\"#{item.date}\"\n-                                pattern=\"yyyy-mm-dd\"\n-                                styleClass=\"input-with-button\"\n-                                showOn=\"button\"\n-                                disabled=\"#{not item.editable or readOnly}\"\n-                                rendered=\"#{item.input eq 'calendar'}\">\n-                        <p:ajax event=\"dateSelect\"/>\n-                    </p:calendar>\n-                    <p:dataTable value=\"#{item.rows}\"\n-                                 var=\"entry\"\n-                                 rendered=\"#{item.input eq 'dataTable'}\"\n-                                 styleClass=\"no-header\">\n-                        <p:column style=\"width: 100%;\">\n-                            <p:outputLabel value=\"#{entry.label}:\" rendered=\"#{not entry.undefined}\"/>\n-                            <p:outputLabel value=\"#{entry.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                           title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{entry.undefined}\"/>\n-                            <p:inputText value=\"#{entry.value}\"\n-                                         disabled=\"#{not entry.editable or readOnly}\"\n-                                         styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                         style=\"width:90%;\"\n-                                         rendered=\"#{entry.input eq 'inputText'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputText>\n-                            <p:inputTextarea value=\"#{entry.value}\"\n-                                             rows=\"2\"\n-                                             disabled=\"#{not entry.editable or readOnly}\"\n-                                             styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                             style=\"width:90%;\"\n-                                             rendered=\"#{entry.input eq 'inputTextarea'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputTextarea>\n-                            <p:spinner value=\"#{entry.value}\"\n-                                       style=\"width:90%;\"\n-                                       disabled=\"#{not entry.editable or readOnly}\"\n-                                       rendered=\"#{entry.input eq 'spinner'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:spinner>\n-\n-                            <p:calendar value=\"#{entry.date}\"\n-                                        pattern=\"yyyy-mm-dd\"\n-                                        styleClass=\"input-with-button\"\n-                                        showOn=\"button\"\n-                                        disabled=\"#{not entry.editable or readOnly}\"\n-                                        rendered=\"#{entry.input eq 'calendar'}\">\n-                                <p:ajax event=\"dateSelect\"/>\n-                            </p:calendar>\n-                            <p:selectOneMenu value=\"#{entry.selectedItem}\"\n-                                             style=\"width:90%;\"\n-                                             readonly=\"#{not entry.editable}\"\n-                                             rendered=\"#{entry.input eq 'oneMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneMenu>\n-                            <p:selectManyMenu value=\"#{entry.selectedItems}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              style=\"width:90%;\"\n-                                              rendered=\"#{entry.input eq 'manyMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectManyMenu>\n-                            <p:selectOneRadio value=\"#{entry.selectedItem}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              rendered=\"#{entry.input eq 'oneRadio'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneRadio>\n-                            <p:selectBooleanCheckbox value=\"#{entry.active}\"\n-                                                     rendered=\"#{entry.input eq 'toggleSwitch'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectBooleanCheckbox>\n-                        </p:column>\n-                    </p:dataTable>\n-                    <p:selectManyMenu value=\"#{item.selectedItems}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'manyMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectManyMenu>\n-                    <p:selectOneMenu value=\"#{item.selectedItem}\"\n-                                     readonly=\"#{not item.editable}\"\n-                                     rendered=\"#{item.input eq 'oneMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneMenu>\n-                    <p:selectOneRadio value=\"#{item.selectedItem}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'oneRadio'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneRadio>\n-                    <p:selectBooleanCheckbox value=\"#{item.active}\"\n-                                             rendered=\"#{item.input eq 'toggleSwitch'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectBooleanCheckbox>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                     id=\"deleteMetadata\"\n-                                     icon=\"fa fa-trash\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataDelete}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.delete}\">\n-                    </p:commandButton>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                     id=\"copyMetadata\"\n-                                     icon=\"fa fa-clipboard\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataCopy}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.copy}\">\n-                    </p:commandButton>\n-                </p:column>\n-            </p:dataTable>\n+            <ui:include src=\"../metadataTreeTable.xhtml\">", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNzg3Ng==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367837876", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <ui:include src=\"../metadataTreeTable.xhtml\">\n          \n          \n            \n                        <ui:include src=\"/WEB-INF/templates/includes/metadataTreeTable.xhtml\">", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:23:29Z", "path": "Kitodo/src/main/webapp/WEB-INF/templates/includes/metadataEditor/logicalMetadata.xhtml", "diffHunk": "@@ -17,165 +17,18 @@\n         xmlns:f=\"http://xmlns.jcp.org/jsf/core\"\n         xmlns:p=\"http://primefaces.org/ui\">\n \n-    <!--@elvariable id=\"readOnly\" type=\"boolean\"-->\n-    <ui:param name=\"readOnly\" value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"/>\n+    <ui:param name=\"readOnly\"\n+              value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"\n+    />\n+\n     <p:panel id=\"logicalMetadataWrapperPanel\" styleClass=\"wrapperPanel\">\n         <h:form id=\"metadata\">\n-            <p:dataTable id=\"metadataTable\"\n-                         rendered=\"#{!empty DataEditorForm.metadataPanel.logicalMetadataRows}\"\n-                         styleClass=\"no-header\"\n-                         value=\"#{DataEditorForm.metadataPanel.logicalMetadataRows}\"\n-                         var=\"item\">\n-\n-                <p:column style=\"width: 100%;\">\n-                    <p:outputLabel value=\"#{item.label}:\" rendered=\"#{not item.undefined}\"/>\n-                    <p:outputLabel value=\"#{item.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                   title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{item.undefined}\" />\n-\n-                    <p:inputText value=\"#{item.value}\"\n-                                 disabled=\"#{not item.editable or readOnly}\"\n-                                 styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                 style=\"width:100%;\"\n-                                 rendered=\"#{item.input eq 'inputText'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputText>\n-\n-                    <p:inputTextarea value=\"#{item.value}\"\n-                                     rows=\"2\"\n-                                     disabled=\"#{not item.editable or readOnly}\"\n-                                     styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                     style=\"width:100%;\"\n-                                     rendered=\"#{item.input eq 'inputTextarea'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputTextarea>\n-                    <p:spinner value=\"#{item.value}\"\n-                               styleClass=\"full-width\"\n-                               disabled=\"#{not item.editable or readOnly}\"\n-                               rendered=\"#{item.input eq 'spinner'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:spinner>\n-\n-                    <p:calendar value=\"#{item.date}\"\n-                                pattern=\"yyyy-mm-dd\"\n-                                styleClass=\"input-with-button\"\n-                                showOn=\"button\"\n-                                disabled=\"#{not item.editable or readOnly}\"\n-                                rendered=\"#{item.input eq 'calendar'}\">\n-                        <p:ajax event=\"dateSelect\"/>\n-                    </p:calendar>\n-                    <p:dataTable value=\"#{item.rows}\"\n-                                 var=\"entry\"\n-                                 rendered=\"#{item.input eq 'dataTable'}\"\n-                                 styleClass=\"no-header\">\n-                        <p:column style=\"width: 100%;\">\n-                            <p:outputLabel value=\"#{entry.label}:\" rendered=\"#{not entry.undefined}\"/>\n-                            <p:outputLabel value=\"#{entry.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                           title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{entry.undefined}\"/>\n-                            <p:inputText value=\"#{entry.value}\"\n-                                         disabled=\"#{not entry.editable or readOnly}\"\n-                                         styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                         style=\"width:90%;\"\n-                                         rendered=\"#{entry.input eq 'inputText'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputText>\n-                            <p:inputTextarea value=\"#{entry.value}\"\n-                                             rows=\"2\"\n-                                             disabled=\"#{not entry.editable or readOnly}\"\n-                                             styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                             style=\"width:90%;\"                                             validator=\"#{entry.validatorQuery}\"\n-                                             rendered=\"#{entry.input eq 'inputTextarea'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputTextarea>\n-                            <p:spinner value=\"#{entry.value}\"\n-                                       style=\"width:90%;\"\n-                                       disabled=\"#{not entry.editable or readOnly}\"\n-                                       rendered=\"#{entry.input eq 'spinner'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:spinner>\n-\n-                            <p:calendar value=\"#{entry.date}\"\n-                                        pattern=\"yyyy-mm-dd\"\n-                                        styleClass=\"input-with-button\"\n-                                        showOn=\"button\"\n-                                        disabled=\"#{not entry.editable or readOnly}\"\n-                                        rendered=\"#{entry.input eq 'calendar'}\">\n-                                <p:ajax event=\"dateSelect\"/>\n-                            </p:calendar>\n-                            <p:selectOneMenu value=\"#{entry.selectedItem}\"\n-                                             style=\"width:90%\"\n-                                             readonly=\"#{not entry.editable}\"\n-                                             rendered=\"#{entry.input eq 'oneMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneMenu>\n-                            <p:selectManyMenu value=\"#{entry.selectedItems}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              style=\"width:90%;\"\n-                                              rendered=\"#{entry.input eq 'manyMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectManyMenu>\n-                            <p:selectOneRadio value=\"#{entry.selectedItem}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              rendered=\"#{entry.input eq 'oneRadio'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneRadio>\n-                            <p:selectBooleanCheckbox value=\"#{entry.active}\"\n-                                                     rendered=\"#{entry.input eq 'toggleSwitch'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectBooleanCheckbox>\n-                        </p:column>\n-                    </p:dataTable>\n-\n-                    <p:selectManyMenu value=\"#{item.selectedItems}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'manyMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectManyMenu>\n-                    <p:selectOneMenu value=\"#{item.selectedItem}\"\n-                                     readonly=\"#{not item.editable}\"\n-                                     rendered=\"#{item.input eq 'oneMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneMenu>\n-                    <p:selectOneRadio value=\"#{item.selectedItem}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'oneRadio'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneRadio>\n-                    <p:selectBooleanCheckbox value=\"#{item.active}\"\n-                                             rendered=\"#{item.input eq 'toggleSwitch'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectBooleanCheckbox>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                     id=\"deleteMetadata\"\n-                                     icon=\"fa fa-trash\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataDelete}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.delete}\">\n-                    </p:commandButton>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                 id=\"copyMetadata\"\n-                                 icon=\"fa fa-clipboard\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataCopy}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.copy}\">\n-                    </p:commandButton>\n-                </p:column>\n-            </p:dataTable>\n+            <ui:include src=\"../metadataTreeTable.xhtml\">", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzODMyOQ==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367838329", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            notImplemented=Nicht realisiert\n          \n          \n            \n            notImplemented=Nicht implementiert", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:24:35Z", "path": "Kitodo/src/main/resources/messages/errors_de.properties", "diffHunk": "@@ -107,6 +107,7 @@ noBatchSelected=Es ist kein Batch ausgew\\u00E4hlt.\n noFileSelected=Keine Datei ausgew\\u00E4hlt.\n noProcessSelected=Es wurde kein Vorgang ausgew\\u00E4hlt.\n noStepsInWorkflow=Im Workflow wurden keine Aufgaben definiert.\n+notImplemented=Nicht realisiert", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzODg3Nw==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367838877", "bodyText": "please add javadoc", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:25:48Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/ProcessFieldedMetadata.java", "diffHunk": "@@ -289,6 +315,16 @@ private MetadataEntry oneSimpleValue(Collection<Metadata> values) {\n         }\n     }\n \n+    public void addAdditionallySelectedField(String additionallySelectedField) throws NoSuchMetadataFieldException {", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzOTc2Nw==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367839767", "bodyText": "public or private?\nplease add Javadoc", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:27:59Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/ProcessFieldedMetadata.java", "diffHunk": "@@ -386,10 +431,29 @@ void preserve() throws InvalidMetadataValueException, NoSuchMetadataFieldExcepti\n             }\n             metadata.addAll(hiddenMetadata);\n         } catch (InvalidMetadataValueException invalidValueException) {\n-            if (Objects.isNull(structure)) {\n+            if (Objects.isNull(division)) {\n                 invalidValueException.addParent(metadataView.getId());\n             }\n             throw invalidValueException;\n         }\n     }\n+\n+    void remove(ProcessDetail toDelete) {", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzOTgwNg==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367839806", "bodyText": "public or private?\nplease add Javadoc", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:28:04Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/ProcessFieldedMetadata.java", "diffHunk": "@@ -386,10 +431,29 @@ void preserve() throws InvalidMetadataValueException, NoSuchMetadataFieldExcepti\n             }\n             metadata.addAll(hiddenMetadata);\n         } catch (InvalidMetadataValueException invalidValueException) {\n-            if (Objects.isNull(structure)) {\n+            if (Objects.isNull(division)) {\n                 invalidValueException.addParent(metadataView.getId());\n             }\n             throw invalidValueException;\n         }\n     }\n+\n+    void remove(ProcessDetail toDelete) {\n+        Iterator<TreeNode> treeNodesIterator = treeNode.getChildren().iterator();\n+        while (treeNodesIterator.hasNext()) {\n+            TreeNode treeNode = treeNodesIterator.next();\n+            if (treeNode.getData().equals(toDelete)) {\n+                treeNodesIterator.remove();\n+                break;\n+            }\n+        }\n+    }\n+\n+    void setMetadata(Collection<Metadata> metadata) {", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzOTkwOA==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367839908", "bodyText": "please add javadoc", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:28:17Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/ProcessMetadataTab.java", "diffHunk": "@@ -44,6 +45,10 @@ public ProcessFieldedMetadata initializeProcessDetails(IncludedStructuralElement\n         return new ProcessFieldedMetadata(structure, divisionView);\n     }\n \n+    public TreeNode getLogicalMetadataTree() {", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0MDMzOA==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367840338", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            notImplemented=Nicht realisiert\n          \n          \n            \n            notImplemented=Nicht implementiert", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:29:08Z", "path": "Kitodo/src/main/resources/messages/errors_de.properties", "diffHunk": "@@ -107,6 +107,7 @@ noBatchSelected=Es ist kein Batch ausgew\\u00E4hlt.\n noFileSelected=Keine Datei ausgew\\u00E4hlt.\n noProcessSelected=Es wurde kein Vorgang ausgew\\u00E4hlt.\n noStepsInWorkflow=Im Workflow wurden keine Aufgaben definiert.\n+notImplemented=Nicht realisiert", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0MDYyNw==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367840627", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <ui:include src=\"../metadataTreeTable.xhtml\">\n          \n          \n            \n                        <ui:include src=\"/WEB-INF/templates/includes/metadataTreeTable.xhtml \">", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:29:50Z", "path": "Kitodo/src/main/webapp/WEB-INF/templates/includes/metadataEditor/logicalMetadata.xhtml", "diffHunk": "@@ -17,165 +17,18 @@\n         xmlns:f=\"http://xmlns.jcp.org/jsf/core\"\n         xmlns:p=\"http://primefaces.org/ui\">\n \n-    <!--@elvariable id=\"readOnly\" type=\"boolean\"-->\n-    <ui:param name=\"readOnly\" value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"/>\n+    <ui:param name=\"readOnly\"\n+              value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"\n+    />\n+\n     <p:panel id=\"logicalMetadataWrapperPanel\" styleClass=\"wrapperPanel\">\n         <h:form id=\"metadata\">\n-            <p:dataTable id=\"metadataTable\"\n-                         rendered=\"#{!empty DataEditorForm.metadataPanel.logicalMetadataRows}\"\n-                         styleClass=\"no-header\"\n-                         value=\"#{DataEditorForm.metadataPanel.logicalMetadataRows}\"\n-                         var=\"item\">\n-\n-                <p:column style=\"width: 100%;\">\n-                    <p:outputLabel value=\"#{item.label}:\" rendered=\"#{not item.undefined}\"/>\n-                    <p:outputLabel value=\"#{item.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                   title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{item.undefined}\" />\n-\n-                    <p:inputText value=\"#{item.value}\"\n-                                 disabled=\"#{not item.editable or readOnly}\"\n-                                 styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                 style=\"width:100%;\"\n-                                 rendered=\"#{item.input eq 'inputText'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputText>\n-\n-                    <p:inputTextarea value=\"#{item.value}\"\n-                                     rows=\"2\"\n-                                     disabled=\"#{not item.editable or readOnly}\"\n-                                     styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                     style=\"width:100%;\"\n-                                     rendered=\"#{item.input eq 'inputTextarea'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputTextarea>\n-                    <p:spinner value=\"#{item.value}\"\n-                               styleClass=\"full-width\"\n-                               disabled=\"#{not item.editable or readOnly}\"\n-                               rendered=\"#{item.input eq 'spinner'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:spinner>\n-\n-                    <p:calendar value=\"#{item.date}\"\n-                                pattern=\"yyyy-mm-dd\"\n-                                styleClass=\"input-with-button\"\n-                                showOn=\"button\"\n-                                disabled=\"#{not item.editable or readOnly}\"\n-                                rendered=\"#{item.input eq 'calendar'}\">\n-                        <p:ajax event=\"dateSelect\"/>\n-                    </p:calendar>\n-                    <p:dataTable value=\"#{item.rows}\"\n-                                 var=\"entry\"\n-                                 rendered=\"#{item.input eq 'dataTable'}\"\n-                                 styleClass=\"no-header\">\n-                        <p:column style=\"width: 100%;\">\n-                            <p:outputLabel value=\"#{entry.label}:\" rendered=\"#{not entry.undefined}\"/>\n-                            <p:outputLabel value=\"#{entry.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                           title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{entry.undefined}\"/>\n-                            <p:inputText value=\"#{entry.value}\"\n-                                         disabled=\"#{not entry.editable or readOnly}\"\n-                                         styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                         style=\"width:90%;\"\n-                                         rendered=\"#{entry.input eq 'inputText'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputText>\n-                            <p:inputTextarea value=\"#{entry.value}\"\n-                                             rows=\"2\"\n-                                             disabled=\"#{not entry.editable or readOnly}\"\n-                                             styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                             style=\"width:90%;\"                                             validator=\"#{entry.validatorQuery}\"\n-                                             rendered=\"#{entry.input eq 'inputTextarea'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputTextarea>\n-                            <p:spinner value=\"#{entry.value}\"\n-                                       style=\"width:90%;\"\n-                                       disabled=\"#{not entry.editable or readOnly}\"\n-                                       rendered=\"#{entry.input eq 'spinner'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:spinner>\n-\n-                            <p:calendar value=\"#{entry.date}\"\n-                                        pattern=\"yyyy-mm-dd\"\n-                                        styleClass=\"input-with-button\"\n-                                        showOn=\"button\"\n-                                        disabled=\"#{not entry.editable or readOnly}\"\n-                                        rendered=\"#{entry.input eq 'calendar'}\">\n-                                <p:ajax event=\"dateSelect\"/>\n-                            </p:calendar>\n-                            <p:selectOneMenu value=\"#{entry.selectedItem}\"\n-                                             style=\"width:90%\"\n-                                             readonly=\"#{not entry.editable}\"\n-                                             rendered=\"#{entry.input eq 'oneMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneMenu>\n-                            <p:selectManyMenu value=\"#{entry.selectedItems}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              style=\"width:90%;\"\n-                                              rendered=\"#{entry.input eq 'manyMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectManyMenu>\n-                            <p:selectOneRadio value=\"#{entry.selectedItem}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              rendered=\"#{entry.input eq 'oneRadio'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneRadio>\n-                            <p:selectBooleanCheckbox value=\"#{entry.active}\"\n-                                                     rendered=\"#{entry.input eq 'toggleSwitch'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectBooleanCheckbox>\n-                        </p:column>\n-                    </p:dataTable>\n-\n-                    <p:selectManyMenu value=\"#{item.selectedItems}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'manyMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectManyMenu>\n-                    <p:selectOneMenu value=\"#{item.selectedItem}\"\n-                                     readonly=\"#{not item.editable}\"\n-                                     rendered=\"#{item.input eq 'oneMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneMenu>\n-                    <p:selectOneRadio value=\"#{item.selectedItem}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'oneRadio'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneRadio>\n-                    <p:selectBooleanCheckbox value=\"#{item.active}\"\n-                                             rendered=\"#{item.input eq 'toggleSwitch'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectBooleanCheckbox>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                     id=\"deleteMetadata\"\n-                                     icon=\"fa fa-trash\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataDelete}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.delete}\">\n-                    </p:commandButton>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                 id=\"copyMetadata\"\n-                                 icon=\"fa fa-clipboard\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataCopy}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.copy}\">\n-                    </p:commandButton>\n-                </p:column>\n-            </p:dataTable>\n+            <ui:include src=\"../metadataTreeTable.xhtml\">", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0MDcyMg==", "url": "https://github.com/kitodo/kitodo-production/pull/3057#discussion_r367840722", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <ui:include src=\"../metadataTreeTable.xhtml\">\n          \n          \n            \n                        <ui:include src=\"/WEB-INF/templates/includes/metadataTreeTable.xhtml \">", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:30:02Z", "path": "Kitodo/src/main/webapp/WEB-INF/templates/includes/metadataEditor/physicalMetadata.xhtml", "diffHunk": "@@ -17,164 +17,17 @@\n         xmlns:f=\"http://xmlns.jcp.org/jsf/core\"\n         xmlns:p=\"http://primefaces.org/ui\">\n \n-    <!--@elvariable id=\"readOnly\" type=\"boolean\"-->\n-    <ui:param name=\"readOnly\" value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"/>\n+    <ui:param name=\"readOnly\"\n+              value=\"#{SecurityAccessController.hasAuthorityToViewProcessMetaData() and not SecurityAccessController.hasAuthorityToEditProcessMetaData()}\"\n+    />\n+\n     <p:panel id=\"physicalMetadataWrapperPanel\" styleClass=\"wrapperPanel\">\n         <h:form id=\"physicalMetadata\">\n-            <p:dataTable id=\"physicalMetadataTable\"\n-                         rendered=\"#{!empty DataEditorForm.metadataPanel.physicalMetadataRows}\"\n-                         styleClass=\"no-header\"\n-                         value=\"#{DataEditorForm.metadataPanel.physicalMetadataRows}\"\n-                         var=\"item\">\n-\n-                <p:column style=\"width: 100%;\">\n-                    <p:outputLabel value=\"#{item.label}:\" rendered=\"#{not item.undefined}\"/>\n-                    <p:outputLabel value=\"#{item.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                   title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{item.undefined}\" />\n-\n-                    <p:inputText value=\"#{item.value}\"\n-                                 disabled=\"#{not item.editable or readOnly}\"\n-                                 styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                 style=\"width:100%;\"\n-                                 rendered=\"#{item.input eq 'inputText'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputText>\n-\n-                    <p:inputTextarea value=\"#{item.value}\"\n-                                     rows=\"2\"\n-                                     disabled=\"#{not item.editable or readOnly}\"\n-                                     styleClass=\"#{not item.editable or readOnly ? 'disabled' : ''}\"\n-                                     style=\"width:100%;\"\n-                                     rendered=\"#{item.input eq 'inputTextarea'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:inputTextarea>\n-                    <p:spinner value=\"#{item.value}\"\n-                               styleClass=\"full-width\"\n-                               disabled=\"#{not item.editable or readOnly}\"\n-                               rendered=\"#{item.input eq 'spinner'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:spinner>\n-\n-                    <p:calendar value=\"#{item.date}\"\n-                                pattern=\"yyyy-mm-dd\"\n-                                styleClass=\"input-with-button\"\n-                                showOn=\"button\"\n-                                disabled=\"#{not item.editable or readOnly}\"\n-                                rendered=\"#{item.input eq 'calendar'}\">\n-                        <p:ajax event=\"dateSelect\"/>\n-                    </p:calendar>\n-                    <p:dataTable value=\"#{item.rows}\"\n-                                 var=\"entry\"\n-                                 rendered=\"#{item.input eq 'dataTable'}\"\n-                                 styleClass=\"no-header\">\n-                        <p:column style=\"width: 100%;\">\n-                            <p:outputLabel value=\"#{entry.label}:\" rendered=\"#{not entry.undefined}\"/>\n-                            <p:outputLabel value=\"#{entry.label}: \u26a0\ufe0f\" style=\"background-color: gold;\"\n-                                           title=\"#{msgs['dataEditor.undefinedKey']}\" rendered=\"#{entry.undefined}\"/>\n-                            <p:inputText value=\"#{entry.value}\"\n-                                         disabled=\"#{not entry.editable or readOnly}\"\n-                                         styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                         style=\"width:90%;\"\n-                                         rendered=\"#{entry.input eq 'inputText'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputText>\n-                            <p:inputTextarea value=\"#{entry.value}\"\n-                                             rows=\"2\"\n-                                             disabled=\"#{not entry.editable or readOnly}\"\n-                                             styleClass=\"#{not entry.editable or readOnly ? 'disabled' : ''}\"\n-                                             style=\"width:90%;\"\n-                                             rendered=\"#{entry.input eq 'inputTextarea'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:inputTextarea>\n-                            <p:spinner value=\"#{entry.value}\"\n-                                       style=\"width:90%;\"\n-                                       disabled=\"#{not entry.editable or readOnly}\"\n-                                       rendered=\"#{entry.input eq 'spinner'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:spinner>\n-\n-                            <p:calendar value=\"#{entry.date}\"\n-                                        pattern=\"yyyy-mm-dd\"\n-                                        styleClass=\"input-with-button\"\n-                                        showOn=\"button\"\n-                                        disabled=\"#{not entry.editable or readOnly}\"\n-                                        rendered=\"#{entry.input eq 'calendar'}\">\n-                                <p:ajax event=\"dateSelect\"/>\n-                            </p:calendar>\n-                            <p:selectOneMenu value=\"#{entry.selectedItem}\"\n-                                             style=\"width:90%;\"\n-                                             readonly=\"#{not entry.editable}\"\n-                                             rendered=\"#{entry.input eq 'oneMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneMenu>\n-                            <p:selectManyMenu value=\"#{entry.selectedItems}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              style=\"width:90%;\"\n-                                              rendered=\"#{entry.input eq 'manyMenu'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectManyMenu>\n-                            <p:selectOneRadio value=\"#{entry.selectedItem}\"\n-                                              readonly=\"#{not entry.editable}\"\n-                                              rendered=\"#{entry.input eq 'oneRadio'}\">\n-                                <f:selectItems value=\"#{entry.items}\"/>\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectOneRadio>\n-                            <p:selectBooleanCheckbox value=\"#{entry.active}\"\n-                                                     rendered=\"#{entry.input eq 'toggleSwitch'}\">\n-                                <p:ajax event=\"blur\"/>\n-                            </p:selectBooleanCheckbox>\n-                        </p:column>\n-                    </p:dataTable>\n-                    <p:selectManyMenu value=\"#{item.selectedItems}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'manyMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectManyMenu>\n-                    <p:selectOneMenu value=\"#{item.selectedItem}\"\n-                                     readonly=\"#{not item.editable}\"\n-                                     rendered=\"#{item.input eq 'oneMenu'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneMenu>\n-                    <p:selectOneRadio value=\"#{item.selectedItem}\"\n-                                      readonly=\"#{not item.editable}\"\n-                                      rendered=\"#{item.input eq 'oneRadio'}\">\n-                        <f:selectItems value=\"#{item.items}\"/>\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectOneRadio>\n-                    <p:selectBooleanCheckbox value=\"#{item.active}\"\n-                                             rendered=\"#{item.input eq 'toggleSwitch'}\">\n-                        <p:ajax event=\"blur\"/>\n-                    </p:selectBooleanCheckbox>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                     id=\"deleteMetadata\"\n-                                     icon=\"fa fa-trash\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataDelete}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.delete}\">\n-                    </p:commandButton>\n-                    <p:commandButton update=\"metadataAccordion:metadata:metadataTable\"\n-                                     id=\"copyMetadata\"\n-                                     icon=\"fa fa-clipboard\"\n-                                     immediate=\"true\"\n-                                     tabindex=\"-1\"\n-                                     title=\"#{msgs.metadataCopy}\"\n-                                     styleClass=\"secondary #{readOnly ? 'disabled' : ''}\"\n-                                     disabled=\"#{readOnly}\"\n-                                     onclick=\"$('#loadingScreen').show()\"\n-                                     oncomplete=\"$('#loadingScreen').hide()\"\n-                                     action=\"#{item.copy}\">\n-                    </p:commandButton>\n-                </p:column>\n-            </p:dataTable>\n+            <ui:include src=\"../metadataTreeTable.xhtml\">", "originalCommit": "a53240db7b524ad430b4857025575e62f405b4ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bc59c4c7f31a8f96cf9f37fd492e7a20c5a214f9", "url": "https://github.com/kitodo/kitodo-production/commit/bc59c4c7f31a8f96cf9f37fd492e7a20c5a214f9", "message": "Fixes in review", "committedDate": "2020-01-20T10:48:31Z", "type": "commit"}]}