{"pr_number": 3091, "pr_title": "Fix search result page", "pr_createdAt": "2020-01-23T09:39:52Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3091", "timeline": [{"oid": "ba0b5baf8013f25377e031eef946e02afaf3a4fe", "url": "https://github.com/kitodo/kitodo-production/commit/ba0b5baf8013f25377e031eef946e02afaf3a4fe", "message": "fix xhtml", "committedDate": "2020-01-22T13:45:04Z", "type": "commit"}, {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196", "url": "https://github.com/kitodo/kitodo-production/commit/87ca242dd5fc43dd1d6a103d3602709cd8220196", "message": "show hierarchy", "committedDate": "2020-01-23T09:07:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyMjMzMw==", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370222333", "bodyText": "Missing white space between ) and {.", "author": "henning-gerhardt", "createdAt": "2020-01-23T16:27:51Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -156,6 +158,22 @@ private void refreshFilteredList() {\n         filteredList.addAll(resultList);\n     }\n \n+    /**\n+     * delete process.\n+     * @param processDTO to delete\n+     */\n+    public void delete(ProcessDTO processDTO){", "originalCommit": "87ca242dd5fc43dd1d6a103d3602709cd8220196", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyMzQ2Ng==", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370223466", "bodyText": "Should method delete not inside ProcessService class so deleting a process is not depending on a form class?", "author": "henning-gerhardt", "createdAt": "2020-01-23T16:29:45Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -156,6 +158,22 @@ private void refreshFilteredList() {\n         filteredList.addAll(resultList);\n     }\n \n+    /**\n+     * delete process.\n+     * @param processDTO to delete\n+     */\n+    public void delete(ProcessDTO processDTO){\n+       try {\n+           ProcessForm processForm = new ProcessForm();\n+           processForm.setProcess(ServiceManager.getProcessService().getById(processDTO.getId()));\n+           processForm.delete();", "originalCommit": "87ca242dd5fc43dd1d6a103d3602709cd8220196", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyMzkxMw==", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370223913", "bodyText": "Is it a good idea to remove this process from the filteredList if deleting is causing a DAOException?", "author": "henning-gerhardt", "createdAt": "2020-01-23T16:30:32Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -156,6 +158,22 @@ private void refreshFilteredList() {\n         filteredList.addAll(resultList);\n     }\n \n+    /**\n+     * delete process.\n+     * @param processDTO to delete\n+     */\n+    public void delete(ProcessDTO processDTO){\n+       try {\n+           ProcessForm processForm = new ProcessForm();\n+           processForm.setProcess(ServiceManager.getProcessService().getById(processDTO.getId()));\n+           processForm.delete();\n+       }\n+        catch (DAOException e) {\n+            Helper.setErrorMessage(\"errorOnSearch\", searchQuery);\n+        }\n+       filteredList.remove(processDTO);", "originalCommit": "87ca242dd5fc43dd1d6a103d3602709cd8220196", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyNDI5OA==", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370224298", "bodyText": "Not needed import statement.", "author": "henning-gerhardt", "createdAt": "2020-01-23T16:31:08Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -22,7 +22,9 @@\n import javax.enterprise.context.SessionScoped;\n import javax.inject.Named;\n \n+import org.kitodo.data.database.beans.Process;", "originalCommit": "87ca242dd5fc43dd1d6a103d3602709cd8220196", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "url": "https://github.com/kitodo/kitodo-production/commit/eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "message": "fix codacy and tests", "committedDate": "2020-01-28T09:40:37Z", "type": "commit"}, {"oid": "eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "url": "https://github.com/kitodo/kitodo-production/commit/eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "message": "fix codacy and tests", "committedDate": "2020-01-28T09:40:37Z", "type": "forcePushed"}, {"oid": "9c01723f79570a3f1d1bb802714c7484d4489ad0", "url": "https://github.com/kitodo/kitodo-production/commit/9c01723f79570a3f1d1bb802714c7484d4489ad0", "message": "fix test", "committedDate": "2020-01-28T13:42:06Z", "type": "commit"}]}