{"pr_number": 388, "pr_title": "chore(fix): directpath ipv4 connection should not fail for an ipv6-enabled test client", "pr_createdAt": "2020-08-16T21:53:29Z", "pr_url": "https://github.com/googleapis/java-bigtable/pull/388", "timeline": [{"oid": "6e62b48346119e527f18a038356d4b3f65adec33", "url": "https://github.com/googleapis/java-bigtable/commit/6e62b48346119e527f18a038356d4b3f65adec33", "message": "chore(fix): directpath ipv4 connection should not fail for an ipv6-enabled test client", "committedDate": "2020-08-17T20:50:29Z", "type": "commit"}, {"oid": "6e62b48346119e527f18a038356d4b3f65adec33", "url": "https://github.com/googleapis/java-bigtable/commit/6e62b48346119e527f18a038356d4b3f65adec33", "message": "chore(fix): directpath ipv4 connection should not fail for an ipv6-enabled test client", "committedDate": "2020-08-17T20:50:29Z", "type": "forcePushed"}, {"oid": "5525a1be2b532d884dd9b82895d079b487430e7d", "url": "https://github.com/googleapis/java-bigtable/commit/5525a1be2b532d884dd9b82895d079b487430e7d", "message": "rename bigtable-directpath-ipv4-it profile to bigtable-directpath-ipv4only-it", "committedDate": "2020-08-24T18:37:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgyMTQ4OQ==", "url": "https://github.com/googleapis/java-bigtable/pull/388#discussion_r475821489", "bodyText": "bigtable.directpath-ipv4only", "author": "igorbernstein2", "createdAt": "2020-08-24T18:44:39Z", "path": "google-cloud-bigtable/pom.xml", "diffHunk": "@@ -359,16 +359,16 @@\n                     <bigtable.env>cloud</bigtable.env>\n                     <bigtable.data-endpoint>${bigtable.directpath-data-endpoint}</bigtable.data-endpoint>\n                     <bigtable.admin-endpoint>${bigtable.directpath-admin-endpoint}</bigtable.admin-endpoint>\n-                    <bigtable.grpc-log-dir>${project.build.directory}/test-grpc-logs/directpath-ipv4-it</bigtable.grpc-log-dir>\n+                    <bigtable.grpc-log-dir>${project.build.directory}/test-grpc-logs/directpath-ipv4only-it</bigtable.grpc-log-dir>\n                     <bigtable.attempt-directpath>true</bigtable.attempt-directpath>\n                     <bigtable.directpath-ipv4>true</bigtable.directpath-ipv4>", "originalCommit": "5525a1be2b532d884dd9b82895d079b487430e7d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgyMTY5OQ==", "url": "https://github.com/googleapis/java-bigtable/pull/388#discussion_r475821699", "bodyText": "isDirectPathIpv4Only()", "author": "igorbernstein2", "createdAt": "2020-08-24T18:45:01Z", "path": "google-cloud-bigtable/src/test/java/com/google/cloud/bigtable/test_helpers/env/CloudEnv.java", "diffHunk": "@@ -241,7 +241,8 @@ private boolean verifyRemoteAddress(SocketAddress remoteAddr) {\n       if (isDirectPathIpv4()) {", "originalCommit": "5525a1be2b532d884dd9b82895d079b487430e7d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a0d22f7edf9941f305cae90e31df3fac356054ab", "url": "https://github.com/googleapis/java-bigtable/commit/a0d22f7edf9941f305cae90e31df3fac356054ab", "message": "fix sys prop & method naming", "committedDate": "2020-08-24T18:51:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgyNjQxOA==", "url": "https://github.com/googleapis/java-bigtable/pull/388#discussion_r475826418", "bodyText": "last nit: please fix the error message", "author": "igorbernstein2", "createdAt": "2020-08-24T18:53:48Z", "path": "google-cloud-bigtable/src/test/java/com/google/cloud/bigtable/test_helpers/env/CloudEnv.java", "diffHunk": "@@ -222,7 +222,7 @@ public void onHeaders(Metadata headers) {\n                                   + \" to the test environment's requirement for DirectPath.\"\n                                   + \" Expected test to access DirectPath via %s,\"\n                                   + \" but RPC was destined for %s\",\n-                              isDirectPathIpv4() ? \"ipv4\" : \"ipv6\", remoteAddr.toString()));\n+                              isDirectPathIpv4Only() ? \"ipv4\" : \"ipv6\", remoteAddr.toString()));", "originalCommit": "a0d22f7edf9941f305cae90e31df3fac356054ab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "af3b11a371996fcab094db1c87fe0830d6ed61b1", "url": "https://github.com/googleapis/java-bigtable/commit/af3b11a371996fcab094db1c87fe0830d6ed61b1", "message": "fix err msg", "committedDate": "2020-08-24T18:57:46Z", "type": "commit"}]}