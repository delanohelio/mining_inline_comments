{"pr_number": 6848, "pr_title": "fix OOM issue for Hessian2ObjectInput and Hessian2ObjectOutput", "pr_createdAt": "2020-10-29T06:04:50Z", "pr_url": "https://github.com/apache/dubbo/pull/6848", "timeline": [{"oid": "ef03e5aa7c5d021098e9d5db8eae7a9d8ebdcb68", "url": "https://github.com/apache/dubbo/commit/ef03e5aa7c5d021098e9d5db8eae7a9d8ebdcb68", "message": "Prevent OOM\n\nChange-Id: I4fce78be15179722fea1fa645495783c60b28573\nSigned-off-by: yuandm <yuandm@foxmail.com>", "committedDate": "2020-10-29T05:57:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzNzgxMg==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515237812", "bodyText": "remove the comment", "author": "kimmking", "createdAt": "2020-10-30T16:52:37Z", "path": "dubbo-serialization/dubbo-serialization-hessian2/src/main/java/org/apache/dubbo/common/serialize/hessian2/Hessian2ObjectInput.java", "diffHunk": "@@ -109,4 +110,12 @@ public Object readObject() throws IOException {\n     public InputStream readInputStream() throws IOException {\n         return mH2i.readInputStream();\n     }\n+\n+\t@Override\n+\tpublic void cleanup() {\n+\t\t// TODO Auto-generated method stub", "originalCommit": "ef03e5aa7c5d021098e9d5db8eae7a9d8ebdcb68", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTkzOTQ0NA==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515939444", "bodyText": "ok", "author": "luckyyuandm", "createdAt": "2020-11-02T12:32:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzNzgxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzODA4Mg==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515238082", "bodyText": "keep a blank before Cleanable", "author": "kimmking", "createdAt": "2020-10-30T16:53:05Z", "path": "dubbo-serialization/dubbo-serialization-hessian2/src/main/java/org/apache/dubbo/common/serialize/hessian2/Hessian2ObjectInput.java", "diffHunk": "@@ -28,7 +29,7 @@\n /**\n  * Hessian2 object input implementation\n  */\n-public class Hessian2ObjectInput implements ObjectInput {\n+public class Hessian2ObjectInput implements ObjectInput,Cleanable {", "originalCommit": "ef03e5aa7c5d021098e9d5db8eae7a9d8ebdcb68", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTk0MDA1MA==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515940050", "bodyText": "ok", "author": "luckyyuandm", "createdAt": "2020-11-02T12:33:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzODA4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzOTcxOQ==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515239719", "bodyText": "remove comment", "author": "kimmking", "createdAt": "2020-10-30T16:55:36Z", "path": "dubbo-serialization/dubbo-serialization-hessian2/src/main/java/org/apache/dubbo/common/serialize/hessian2/Hessian2ObjectOutput.java", "diffHunk": "@@ -106,4 +107,12 @@ public void flushBuffer() throws IOException {\n     public OutputStream getOutputStream() throws IOException {\n         return mH2o.getBytesOutputStream();\n     }\n+\n+\t@Override\n+\tpublic void cleanup() {\n+\t\t// TODO Auto-generated method stub", "originalCommit": "ef03e5aa7c5d021098e9d5db8eae7a9d8ebdcb68", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTkzOTU1OQ==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515939559", "bodyText": "ok", "author": "luckyyuandm", "createdAt": "2020-11-02T12:32:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzOTcxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzOTkwNw==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515239907", "bodyText": "keep a blank before Cleanable", "author": "kimmking", "createdAt": "2020-10-30T16:55:56Z", "path": "dubbo-serialization/dubbo-serialization-hessian2/src/main/java/org/apache/dubbo/common/serialize/hessian2/Hessian2ObjectOutput.java", "diffHunk": "@@ -27,7 +28,7 @@\n /**\n  * Hessian2 object output implementation\n  */\n-public class Hessian2ObjectOutput implements ObjectOutput {\n+public class Hessian2ObjectOutput implements ObjectOutput,Cleanable {", "originalCommit": "ef03e5aa7c5d021098e9d5db8eae7a9d8ebdcb68", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTkzOTY5MQ==", "url": "https://github.com/apache/dubbo/pull/6848#discussion_r515939691", "bodyText": "ok", "author": "luckyyuandm", "createdAt": "2020-11-02T12:32:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzOTkwNw=="}], "type": "inlineReview"}, {"oid": "1855cadaaec70f1e6e4b3d680f5e73821afd9b02", "url": "https://github.com/apache/dubbo/commit/1855cadaaec70f1e6e4b3d680f5e73821afd9b02", "message": "format source\n\nChange-Id: Iadf99b0c72b621ef3b038d1324c6626e75dbfc8e\nSigned-off-by: yuandm <yuandm@foxmail.com>", "committedDate": "2020-11-02T12:15:22Z", "type": "commit"}, {"oid": "6552342341db270684777ded5bb17bc6e7696584", "url": "https://github.com/apache/dubbo/commit/6552342341db270684777ded5bb17bc6e7696584", "message": "delete tabs\n\nChange-Id: Ifa733d185b68f10a8fbf10e32d73089a32d0d312\nSigned-off-by: yuandm <yuandm@foxmail.com>", "committedDate": "2020-11-02T12:30:18Z", "type": "commit"}]}