{"pr_number": 582, "pr_title": "Remove deprecated Gradle features from samples ", "pr_createdAt": "2020-10-30T12:13:58Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582", "timeline": [{"oid": "5c279cf643593dd3f4c367460958b40021f666b2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/5c279cf643593dd3f4c367460958b40021f666b2", "message": "Update javafx version", "committedDate": "2020-10-30T10:18:16Z", "type": "commit"}, {"oid": "fd52d8b3abb324a536e7c8a8d9be2edad254983e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/fd52d8b3abb324a536e7c8a8d9be2edad254983e", "message": "Replace compile with implementation", "committedDate": "2020-10-30T10:19:29Z", "type": "commit"}, {"oid": "9ae7c42cee320717a694e3f2aa2e59058549f79f", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/9ae7c42cee320717a694e3f2aa2e59058549f79f", "message": "Replace http with https", "committedDate": "2020-10-30T10:20:42Z", "type": "commit"}, {"oid": "c44c62efa6cc330bb2b872a499111c319b30f0ea", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/c44c62efa6cc330bb2b872a499111c319b30f0ea", "message": "Replace destinationDir with destinationDirectory", "committedDate": "2020-10-30T10:35:59Z", "type": "commit"}, {"oid": "7fc3ac25836ff715bb59c93ec6d6c8a05c71668e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/7fc3ac25836ff715bb59c93ec6d6c8a05c71668e", "message": "Change basename to archiveBasename", "committedDate": "2020-10-30T11:09:22Z", "type": "commit"}, {"oid": "2824a7a31d76361e93869dd9294897efd7992035", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/2824a7a31d76361e93869dd9294897efd7992035", "message": "Replace compile with implementation", "committedDate": "2020-10-30T11:16:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3MzE3NA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r515073174", "bodyText": "Could we make a new variable in the version.gradle file to avoid having to update this again in the future?\nSomething like $javaFxVersion?", "author": "TADraeseke", "createdAt": "2020-10-30T12:48:40Z", "path": "analysis/analyze-hotspots/build.gradle", "diffHunk": "@@ -1,6 +1,6 @@\n plugins {\n     id 'application'\n-    id 'org.openjfx.javafxplugin' version '0.0.5'\n+    id 'org.openjfx.javafxplugin' version '0.0.8'", "originalCommit": "2824a7a31d76361e93869dd9294897efd7992035", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIxMTI2MQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r515211261", "bodyText": "This is a good shout, but I think it'd require creating a version.gradle file for each sample. In the Java samples, each sample is it's own 'gradle project', so we wouldn't have a central place to change this variable from? Might be wrong though", "author": "JonLavi", "createdAt": "2020-10-30T16:09:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3MzE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTkyMDA1Ng==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r515920056", "bodyText": "Hmm. We only have one on Android which we share across several projects.\nJust need to add a line to the gradle file to tell it where the version.gradle can be found with something like:\napply from: '../version.gradle' for a situation where the version.gradle file is up one level from the current gradle file location.", "author": "TADraeseke", "createdAt": "2020-11-02T11:50:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3MzE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTk3MjczNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r515972737", "bodyText": "If I put the JavaFX version in a project level version.gradle file, then use a defaultConfig block inside the sample's build.gradle file, I get an error that the plugins should contain a string literal or a string with property replacement.\nI think the plugin version has to be string literal. If we wanted to use a variable we would need to create a pluginManagement block in the settings.gradle file. I'm not sure how this would work when the samples are individual gradle projects, but I can look into it!", "author": "sclaridge", "createdAt": "2020-11-02T13:32:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3MzE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTk5MjEwMA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r515992100", "bodyText": "Looks like you're on the right track and if the intention is to keep all samples on the same javafx version going forward I reckon it's probably worth the effort", "author": "TADraeseke", "createdAt": "2020-11-02T14:04:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3MzE3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODExODUzNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r518118537", "bodyText": "the gradle build check seems to be throwing a build failure here\nCaused by: groovy.lang.MissingPropertyException: Could not get unknown property 'destinationDirectory' for task ':feature-collection-layer:jar' of type org.gradle.api.tasks.bundling.Jar.\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.getMissingProperty(AbstractDynamicObject.java:83)\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.getProperty(AbstractDynamicObject.java:61)\n\tat org.gradle.api.tasks.bundling.Jar_Decorated.getProperty(Unknown Source)", "author": "Rachael-E", "createdAt": "2020-11-05T15:02:34Z", "path": "network_analysis/find-service-areas-for-multiple-facilities/build.gradle", "diffHunk": "@@ -67,9 +67,9 @@ task productionZip(type: Zip) {\n         into \"samples-data\"\n     }\n     from copyNatives\n-    from jar.destinationDir\n+    from jar.destinationDirectory", "originalCommit": "2824a7a31d76361e93869dd9294897efd7992035", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE0ODkzOQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r518148939", "bodyText": "@sclaridge I found the culprit! Thanks to Jon's thoughts on why things were going awry a while back, we need to upgrade the highest level gradle-wrapper.properties file to ensure it references 6.5.1 and not 5.0.", "author": "Rachael-E", "createdAt": "2020-11-05T15:40:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODExODUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE2MTI4Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/582#discussion_r518161287", "bodyText": "Thanks for noticing this, the build is successful now!", "author": "sclaridge", "createdAt": "2020-11-05T15:55:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODExODUzNw=="}], "type": "inlineReview"}, {"oid": "dbe2ff601157279d1b2bdb6f4acbf40cb4ce9061", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/dbe2ff601157279d1b2bdb6f4acbf40cb4ce9061", "message": "Update gradle-wrapper.properties", "committedDate": "2020-11-05T15:49:33Z", "type": "commit"}]}