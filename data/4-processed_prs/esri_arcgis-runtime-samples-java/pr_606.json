{"pr_number": 606, "pr_title": "New Basemaps: Local Server and Map View Categories", "pr_createdAt": "2020-12-07T09:55:39Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606", "timeline": [{"oid": "20c2a158d8b09dbbf0413eb56c7bd3fc3b643b8f", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/20c2a158d8b09dbbf0413eb56c7bd3fc3b643b8f", "message": "Update LocalServerFeatureLayerSample.java", "committedDate": "2020-11-27T11:57:23Z", "type": "commit"}, {"oid": "6aaaab7066493a0f18e5a342aa8b3759131188f1", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/6aaaab7066493a0f18e5a342aa8b3759131188f1", "message": "Update LocalServerGeoprocessingController.java", "committedDate": "2020-11-27T11:57:28Z", "type": "commit"}, {"oid": "4ab5faab5a05a2febdfab3769c54d41c936ba6f2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/4ab5faab5a05a2febdfab3769c54d41c936ba6f2", "message": "Update LocalServerMapImageLayerSample.java", "committedDate": "2020-11-27T11:57:32Z", "type": "commit"}, {"oid": "9954d6b7cca47f1f8a846862601a192ca2ed27c8", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/9954d6b7cca47f1f8a846862601a192ca2ed27c8", "message": "Update ChangeViewpointSample.java", "committedDate": "2020-11-27T11:57:39Z", "type": "commit"}, {"oid": "523440199ffb82427cbe72af29cb6abf07a3e87e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/523440199ffb82427cbe72af29cb6abf07a3e87e", "message": "Update DisplayDeviceLocationWithAutopanModesSample.java", "committedDate": "2020-11-27T11:58:06Z", "type": "commit"}, {"oid": "2f76c8c120dfc1f81427ef65a49d6e3af46043e1", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/2f76c8c120dfc1f81427ef65a49d6e3af46043e1", "message": "Update DisplayDrawingStatusSample.java", "committedDate": "2020-11-27T11:58:10Z", "type": "commit"}, {"oid": "654c88914048670811a46fee5697afd162cb2f89", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/654c88914048670811a46fee5697afd162cb2f89", "message": "Update DisplayLayerViewStateSample.java", "committedDate": "2020-11-27T11:58:13Z", "type": "commit"}, {"oid": "5700e010c3e533e4fa41b7aafbf27a4f652b18ad", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/5700e010c3e533e4fa41b7aafbf27a4f652b18ad", "message": "Update IdentifyLayersSample.java", "committedDate": "2020-11-27T11:58:16Z", "type": "commit"}, {"oid": "838529021382482873e62e769b81ee77e861aff3", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/838529021382482873e62e769b81ee77e861aff3", "message": "Update MapRotationSample.java", "committedDate": "2020-11-27T11:58:21Z", "type": "commit"}, {"oid": "b63e6b9c404c685163e072e81b6062ed39230ddb", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/b63e6b9c404c685163e072e81b6062ed39230ddb", "message": "Update ScaleBarSample.java", "committedDate": "2020-11-27T11:58:24Z", "type": "commit"}, {"oid": "dfc7f9a44bcb11799758b63c784987ca05256d5c", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/dfc7f9a44bcb11799758b63c784987ca05256d5c", "message": "Update ShowLocationHistorySample.java", "committedDate": "2020-11-27T11:58:28Z", "type": "commit"}, {"oid": "0c73f8419f907c754ddf6559689f7a39ddc2d617", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/0c73f8419f907c754ddf6559689f7a39ddc2d617", "message": "Update TakeScreenshotSample.java", "committedDate": "2020-11-27T11:58:36Z", "type": "commit"}, {"oid": "304560bfc32ff95fa1101a6bd628e488306c4be5", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/304560bfc32ff95fa1101a6bd628e488306c4be5", "message": "Fix comments", "committedDate": "2020-11-30T13:35:42Z", "type": "commit"}, {"oid": "f2ca400a9aa3df2bbf363b7246532790ca9ec549", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/f2ca400a9aa3df2bbf363b7246532790ca9ec549", "message": "Scale bar - set viewpoint on mapview", "committedDate": "2020-12-07T09:50:33Z", "type": "commit"}, {"oid": "cff4ecb6ad66855ffa4ffe1925184966659e5ade", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/cff4ecb6ad66855ffa4ffe1925184966659e5ade", "message": "Identify layers - set viewpoint on mapview", "committedDate": "2020-12-07T09:54:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0MTc0NA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r538241744", "bodyText": "Let's do plain english here as well:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create an ArcGISMap with a topographic basemap style\n          \n          \n            \n                  // create a map with the topographic basemap style", "author": "JonLavi", "createdAt": "2020-12-08T10:57:29Z", "path": "map_view/display-drawing-status/src/main/java/com/esri/samples/display_drawing_status/DisplayDrawingStatusSample.java", "diffHunk": "@@ -55,12 +56,16 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n       // create progress bar\n       ProgressBar progressBar = new ProgressBar();\n       progressBar.setMaxWidth(240.0);\n \n-      // create a ArcGISMap with topographic basemap\n-      final ArcGISMap map = new ArcGISMap(Basemap.createTopographic());\n+      // create an ArcGISMap with a topographic basemap style", "originalCommit": "cff4ecb6ad66855ffa4ffe1925184966659e5ade", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0MjA5Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r538242097", "bodyText": "Same here:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create an ArcGISMap with the topographic basemap style\n          \n          \n            \n                  // create a map with the topographic basemap style", "author": "JonLavi", "createdAt": "2020-12-08T10:57:56Z", "path": "map_view/display-layer-view-state/src/main/java/com/esri/samples/display_layer_view_state/DisplayLayerViewStateSample.java", "diffHunk": "@@ -70,8 +71,12 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create an ArcGISMap with the topographic basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createTopographic());\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create an ArcGISMap with the topographic basemap style", "originalCommit": "cff4ecb6ad66855ffa4ffe1925184966659e5ade", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0MjM0Ng==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r538242346", "bodyText": "Sneaky ArcGISMap  here as well ( I won't comment if there's any other instances):\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map view and set the ArcGISMap to it\n          \n          \n            \n                  // create a map view and set the map to it", "author": "JonLavi", "createdAt": "2020-12-08T10:58:21Z", "path": "map_view/display-layer-view-state/src/main/java/com/esri/samples/display_layer_view_state/DisplayLayerViewStateSample.java", "diffHunk": "@@ -70,8 +71,12 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create an ArcGISMap with the topographic basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createTopographic());\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create an ArcGISMap with the topographic basemap style\n+      ArcGISMap map = new ArcGISMap(BasemapStyle.ARCGIS_TOPOGRAPHIC);\n \n       // create a map view and set the ArcGISMap to it", "originalCommit": "cff4ecb6ad66855ffa4ffe1925184966659e5ade", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0Mjc3Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r538242773", "bodyText": "Could use SpatialReferences.getWebMercator() here as well?", "author": "JonLavi", "createdAt": "2020-12-08T10:59:01Z", "path": "map_view/identify-layers/src/main/java/com/esri/samples/identify_layers/IdentifyLayersSample.java", "diffHunk": "@@ -73,14 +74,20 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create a map with an initial viewpoint\n-      ArcGISMap map = new ArcGISMap(Basemap.createTopographic());\n-      map.setInitialViewpoint(new Viewpoint(new Point(-10977012.785807, 4514257.550369, SpatialReference.create(3857)), 68015210));\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with a basemap style\n+      ArcGISMap map = new ArcGISMap(BasemapStyle.ARCGIS_TOPOGRAPHIC);\n \n       // set the map to a map view\n       mapView = new MapView();\n       mapView.setMap(map);\n \n+      // set a viewpoint on the map view\n+      mapView.setViewpoint(new Viewpoint(new Point(-10977012.785807, 4514257.550369, SpatialReference.create(3857)), 68015210));", "originalCommit": "cff4ecb6ad66855ffa4ffe1925184966659e5ade", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM5Njk4Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r538396983", "bodyText": "Have removed the Point from this as per other changes.", "author": "jenmerritt", "createdAt": "2020-12-08T13:54:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0Mjc3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0MzM2MQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r538243361", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with a dark gray basemap style\n          \n          \n            \n                  // create a map with the dark gray basemap style", "author": "JonLavi", "createdAt": "2020-12-08T10:59:48Z", "path": "map_view/show-location-history/src/main/java/com/esri/samples/show_location_history/ShowLocationHistorySample.java", "diffHunk": "@@ -81,8 +82,12 @@ public void start(Stage stage) {\n       stage.show();\n       scene.getStylesheets().add(getClass().getResource(\"/show_location_history/style.css\").toExternalForm());\n \n-      // create a map with a dark gray canvas basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createDarkGrayCanvasVector());\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with a dark gray basemap style", "originalCommit": "cff4ecb6ad66855ffa4ffe1925184966659e5ade", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9a3567f8184e46a9f12b6970d449dde754e49eac", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/9a3567f8184e46a9f12b6970d449dde754e49eac", "message": "Display drawing status - reordering", "committedDate": "2020-12-08T13:56:35Z", "type": "commit"}, {"oid": "1bad1ed2cba5bf0e11f41f5c31ef92b8aa665ffe", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1bad1ed2cba5bf0e11f41f5c31ef92b8aa665ffe", "message": "Display layer view state - tidy comments", "committedDate": "2020-12-08T13:56:51Z", "type": "commit"}, {"oid": "b616dda8738b81a979b44c139ffe7e3523ebe2d2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/b616dda8738b81a979b44c139ffe7e3523ebe2d2", "message": "Identify layers - amend viewpoint", "committedDate": "2020-12-08T13:57:09Z", "type": "commit"}, {"oid": "3a47f43930e8223d070a565f5300b7810d85cbbd", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/3a47f43930e8223d070a565f5300b7810d85cbbd", "message": "Show location history - tidy comment", "committedDate": "2020-12-08T13:57:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTIwMDMyNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r539200324", "bodyText": "was there a reason not to use mapView.setViewpoint here?", "author": "Rachael-E", "createdAt": "2020-12-09T10:45:59Z", "path": "map_view/display-drawing-status/src/main/java/com/esri/samples/display_drawing_status/DisplayDrawingStatusSample.java", "diffHunk": "@@ -55,21 +56,25 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n       // create progress bar\n       ProgressBar progressBar = new ProgressBar();\n       progressBar.setMaxWidth(240.0);\n \n-      // create a ArcGISMap with topographic basemap\n-      final ArcGISMap map = new ArcGISMap(Basemap.createTopographic());\n+      // create a map with the topographic basemap style\n+      final ArcGISMap map = new ArcGISMap(BasemapStyle.ARCGIS_TOPOGRAPHIC);\n \n-      // create a starting viewpoint for the ArcGISMap\n+      // create a starting viewpoint for the map\n       SpatialReference spatialReference = SpatialReferences.getWebMercator();\n       Point bottomLeftPoint = new Point(-1.5054808160556655E7, 2718975.702666207, spatialReference);\n       Point topRightPoint = new Point(-6810317.90634398, 6850505.377826911, spatialReference);\n       Envelope envelope = new Envelope(bottomLeftPoint, topRightPoint);\n       Viewpoint viewpoint = new Viewpoint(envelope);\n \n-      // set the initial viewpoint of ArcGISMap to viewpoint\n+      // set the initial viewpoint of the map", "originalCommit": "3a47f43930e8223d070a565f5300b7810d85cbbd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEyNjYyOQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/606#discussion_r540126629", "bodyText": "@Rachael-E think it just got missed, thanks! I've amended this and slightly reduced the number of separate lines of constructors. See what you think?", "author": "jenmerritt", "createdAt": "2020-12-10T12:24:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTIwMDMyNA=="}], "type": "inlineReview"}, {"oid": "f78722319ea09ec5129f879d4dc8e1dc5ce15ac1", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/f78722319ea09ec5129f879d4dc8e1dc5ce15ac1", "message": "Merge branch 'dev' into sim11117-basemaps-localserver-mapview", "committedDate": "2020-12-10T12:10:55Z", "type": "commit"}, {"oid": "92d17f3684d43acfae1f983c6c4359c3c18a4791", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/92d17f3684d43acfae1f983c6c4359c3c18a4791", "message": "update build.gradle - versions", "committedDate": "2020-12-10T12:29:52Z", "type": "commit"}, {"oid": "aea77cf4be852fc0a220251f04a2c3ba84d1c452", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/aea77cf4be852fc0a220251f04a2c3ba84d1c452", "message": "Tidy comment and scale consistencies", "committedDate": "2020-12-10T12:30:24Z", "type": "commit"}, {"oid": "1ee0361f66111ace0b9a2319e10049eab5ab702b", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1ee0361f66111ace0b9a2319e10049eab5ab702b", "message": "Display drawing status - set viewpoint on map view", "committedDate": "2020-12-10T12:30:35Z", "type": "commit"}]}