{"pr_number": 10138, "pr_title": "Update xlinux platforms to use Cent7 for JDK15+ compiles", "pr_createdAt": "2020-07-09T20:02:51Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/10138", "timeline": [{"oid": "53c74d2f0fde4aa153108b41ad098d17ff7fb87b", "url": "https://github.com/eclipse-openj9/openj9/commit/53c74d2f0fde4aa153108b41ad098d17ff7fb87b", "message": "Update xlinux platforms to use Cent7 for JDK15+ compiles\n\n* [skip ci]\n* Resolves eclipse/openj9#9855\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-07-09T20:08:36Z", "type": "forcePushed"}, {"oid": "997de7ff12f8f6e257808e8eeaaa47c443147fa1", "url": "https://github.com/eclipse-openj9/openj9/commit/997de7ff12f8f6e257808e8eeaaa47c443147fa1", "message": "Update xlinux platforms to use Cent7 for JDK15+ compiles\n\n* [skip ci]\n* Resolves eclipse/openj9#9855\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-07-13T19:53:29Z", "type": "forcePushed"}, {"oid": "24bfac812ae5639ca3dec8501e360e00c26cabf4", "url": "https://github.com/eclipse-openj9/openj9/commit/24bfac812ae5639ca3dec8501e360e00c26cabf4", "message": "Update xlinux platforms to use Cent7 for JDK15+ compiles\n\n* [skip ci]\n* Resolves eclipse/openj9#9855\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-07-16T14:07:02Z", "type": "forcePushed"}, {"oid": "39fc028d45fdd752618412797fdee4e9ad2fe522", "url": "https://github.com/eclipse-openj9/openj9/commit/39fc028d45fdd752618412797fdee4e9ad2fe522", "message": "Update xlinux platforms to use Cent7 for JDK15+ compiles\n\n* [skip ci]\n* Resolves eclipse/openj9#9855\n* add extra test labels to avoid running on cent6 systems\n*  due to glibc difference\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-07-17T14:22:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA4NTIwOQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10138#discussion_r457085209", "bodyText": "This is currently setup to be defined based on (test) target (not jdk version). See variables-functions.groovy#L683. However, there are currently only 2 known usages (to my knowledge). The first, applies an extra label without defining a target, therefore applying it to all targets (see internal variable file L174) and the second use case is no longer needed. Therefore I think we should update L683 to use SDK_VERSION instead of target. Also see infra issue 3914.", "author": "AdamBrousseau", "createdAt": "2020-07-20T06:12:28Z", "path": "buildenv/jenkins/variables/defaults.yml", "diffHunk": "@@ -341,12 +341,18 @@ x86-64_linux:\n     8: 'linux-x86_64-normal-server-release'\n     11: 'linux-x86_64-normal-server-release'\n   node_labels:\n-    build: 'ci.role.build && hw.arch.x86 && sw.os.cent.6'\n+    build:\n+      all: 'ci.role.build && hw.arch.x86 && sw.os.cent.7'\n+      8: 'ci.role.build && hw.arch.x86 && sw.os.cent.6'\n+      11: 'ci.role.build && hw.arch.x86 && sw.os.cent.6'\n   extra_configure_options:\n     all: '--enable-jitserver'\n   build_env:\n     cmd: 'source /home/jenkins/set_gcc7.5.0_env'\n     vars: 'OPENJ9_JAVA_OPTIONS=-Xdump:system+java:events=systhrow,filter=java/lang/ClassCastException,request=exclusive+prepwalk+preempt'\n+  extra_test_labels:\n+    15: '!sw.os.cent.6'\n+    next: '!sw.os.cent.6'", "originalCommit": "39fc028d45fdd752618412797fdee4e9ad2fe522", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9f11d23592c8cb4cc092632ff7de26f8b5a9db22", "url": "https://github.com/eclipse-openj9/openj9/commit/9f11d23592c8cb4cc092632ff7de26f8b5a9db22", "message": "Update xlinux platforms to use Cent7 for JDK15+ compiles\n\n* [skip ci]\n* Resolves eclipse/openj9#9855\n* add extra test labels to avoid running on cent6 systems\n*  due to glibc difference\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-07-29T21:09:45Z", "type": "commit"}, {"oid": "2bc878755efb1057955fc6f9ff9e479c3e2550ef", "url": "https://github.com/eclipse-openj9/openj9/commit/2bc878755efb1057955fc6f9ff9e479c3e2550ef", "message": "Set extraTestLabels per SDK_VERSION\n\n- Our use case to set by target is no longer needed\n  but a new use case to set by version is.\n\n[skip ci]\nRelated #10138 #9855\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>", "committedDate": "2020-07-29T21:11:00Z", "type": "commit"}, {"oid": "2bc878755efb1057955fc6f9ff9e479c3e2550ef", "url": "https://github.com/eclipse-openj9/openj9/commit/2bc878755efb1057955fc6f9ff9e479c3e2550ef", "message": "Set extraTestLabels per SDK_VERSION\n\n- Our use case to set by target is no longer needed\n  but a new use case to set by version is.\n\n[skip ci]\nRelated #10138 #9855\n\nSigned-off-by: Adam Brousseau <adam.brousseau88@gmail.com>", "committedDate": "2020-07-29T21:11:00Z", "type": "forcePushed"}]}