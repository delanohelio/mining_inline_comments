{"pr_number": 11183, "pr_title": "JDK15 enable NPE extended message by default", "pr_createdAt": "2020-11-13T18:10:28Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/11183", "timeline": [{"oid": "4a283725b24afebf6606d45e41cc80c110346260", "url": "https://github.com/eclipse-openj9/openj9/commit/4a283725b24afebf6606d45e41cc80c110346260", "message": "JDK15 enable NPE extended message by default\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>", "committedDate": "2020-11-13T18:04:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0NzE0OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/11183#discussion_r523147148", "bodyText": "Does this feature need to be restricted to jdk15? If not, turning it on via the option should be allowed for all versions.", "author": "pshipton", "createdAt": "2020-11-13T18:31:27Z", "path": "runtime/vm/jvminit.c", "diffHunk": "@@ -2150,13 +2150,14 @@ IDATA VMInitStages(J9JavaVM *vm, IDATA stage, void* reserved) {\n \t\t\t\tj9port_control(OMRPORT_CTLDATA_VMEM_PERFORM_FULL_MEMORY_SEARCH, 0);\n \t\t\t}\n \n+#if JAVA_SPEC_VERSION >= 15", "originalCommit": "4a283725b24afebf6606d45e41cc80c110346260", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0Nzg1Mg==", "url": "https://github.com/eclipse-openj9/openj9/pull/11183#discussion_r523147852", "bodyText": "I was under the impression the feature was new for JDK15 of the RI. Having said that, it should work fine with older JCLs.", "author": "gacholio", "createdAt": "2020-11-13T18:32:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0NzE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE1MTc5Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/11183#discussion_r523151797", "bodyText": "Does the Throwable method which retrieves the extended message exist pre-JDK15?", "author": "gacholio", "createdAt": "2020-11-13T18:37:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0NzE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE1MjQwNA==", "url": "https://github.com/eclipse-openj9/openj9/pull/11183#discussion_r523152404", "bodyText": "Only JDK15+ has the support of NPE helpful message via https://github.com/ibmruntimes/openj9-openjdk-jdk15/blob/425fa83a6d01232c99cb7eaa3f5ff9f724c7b27c/src/java.base/share/classes/java/lang/NullPointerException.java#L131\nSo it won't work for pre-JDK15 versions even it is on by default.\n#9844 requires JCL patch.", "author": "JasonFengJ9", "createdAt": "2020-11-13T18:38:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0NzE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE1MzU4NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/11183#discussion_r523153584", "bodyText": "Does the Throwable method which retrieves the extended message exist pre-JDK15?\n\nNo, only JDK15+ NullPointerException has the method to retrieve the extended messages.", "author": "JasonFengJ9", "createdAt": "2020-11-13T18:41:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0NzE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE1NTc3MA==", "url": "https://github.com/eclipse-openj9/openj9/pull/11183#discussion_r523155770", "bodyText": "Ok, it can be dealt with via #9844 then.", "author": "pshipton", "createdAt": "2020-11-13T18:45:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE0NzE0OA=="}], "type": "inlineReview"}]}