{"pr_number": 9142, "pr_title": "CMake: Add missing options to aix cache", "pr_createdAt": "2020-04-06T22:29:21Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9142", "timeline": [{"oid": "01853c4aff283216384bdb76192a170cf9780069", "url": "https://github.com/eclipse-openj9/openj9/commit/01853c4aff283216384bdb76192a170cf9780069", "message": "CMake: Add missing config optiopns to aix cache\n\nAlso performed some cleanup in the file\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-04-06T22:44:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ3NDY2Ng==", "url": "https://github.com/eclipse-openj9/openj9/pull/9142#discussion_r404474666", "bodyText": "Where is this enabled for AIX outside of cmake?", "author": "pshipton", "createdAt": "2020-04-07T00:54:55Z", "path": "runtime/cmake/caches/aix_ppc-64.cmake", "diffHunk": "@@ -20,25 +20,34 @@\n # SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n ################################################################################\n \n-\n-#TODO Platform hacks\n+#TODO: Env vars should be auto detected by platform\n set(J9VM_ARCH_POWER ON CACHE BOOL \"\")\n set(J9VM_ENV_DATA64 ON CACHE BOOL \"\")\n+set(J9VM_ENV_DLPAR ON CACHE BOOL \"\")\n set(J9VM_ENV_HAS_FPU ON CACHE BOOL \"\")\n set(J9VM_ENV_SHARED_LIBS_CALLEE_GLOBAL_TABLE_SETUP OFF CACHE BOOL \"\")\n set(J9VM_ENV_SHARED_LIBS_USE_GLOBAL_TABLE ON CACHE BOOL \"\")\n \n-set(OMR_GC_TLH_PREFETCH_FTA OFF CACHE BOOL \"\")\n-set(J9VM_JIT_RUNTIME_INSTRUMENTATION ON CACHE BOOL \"\")\n-set(J9VM_PORT_RUNTIME_INSTRUMENTATION ON CACHE BOOL \"\")\n-set(J9VM_MODULE_CODEGEN_PPC ON CACHE BOOL \"\")\n set(J9VM_GC_IDLE_HEAP_MANAGER OFF CACHE BOOL \"\")\n+set(J9VM_GC_TLH_PREFETCH_FTA OFF CACHE BOOL \"\")\n+set(J9VM_GC_SUBPOOLS_ALIAS ON CACHE BOOL \"\")\n set(J9VM_INTERP_ATOMIC_FREE_JNI ON CACHE BOOL \"\")\n set(J9VM_INTERP_ATOMIC_FREE_JNI_USES_FLUSH ON CACHE BOOL \"\")\n set(J9VM_INTERP_TWO_PASS_EXCLUSIVE ON CACHE BOOL \"\")\n+set(J9VM_JIT_RUNTIME_INSTRUMENTATION ON CACHE BOOL \"\")\n+set(J9VM_MODULE_CODEGEN_PPC ON CACHE BOOL \"\")\n set(J9VM_OPT_SWITCH_STACKS_FOR_SIGNAL_HANDLER OFF CACHE BOOL \"\")\n+set(J9VM_PORT_RUNTIME_INSTRUMENTATION ON CACHE BOOL \"\")\n set(J9VM_THR_ASYNC_NAME_UPDATE OFF CACHE BOOL \"\")\n \n+\n+set(OMR_GC_CONCURRENT_SCAVENGER ON CACHE BOOL \"\")\n+set(OMR_GC_HEAP_CARD_TABLE ON CACHE BOOL \"\")\n+set(OMR_PORT_NUMA_SUPPORT ON CACHE BOOL \"\")", "originalCommit": "01853c4aff283216384bdb76192a170cf9780069", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUyNDc2Mg==", "url": "https://github.com/eclipse-openj9/openj9/pull/9142#discussion_r404524762", "bodyText": "hmm. not sure how that made it in here. Removed", "author": "dnakamura", "createdAt": "2020-04-07T04:15:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ3NDY2Ng=="}], "type": "inlineReview"}, {"oid": "beda9dd440db1bab93daa060f8160c583f7d88cf", "url": "https://github.com/eclipse-openj9/openj9/commit/beda9dd440db1bab93daa060f8160c583f7d88cf", "message": "CMake: Add missing config optiopns to aix cache\n\nAlso performed some cleanup in the file\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-04-07T04:10:00Z", "type": "commit"}, {"oid": "beda9dd440db1bab93daa060f8160c583f7d88cf", "url": "https://github.com/eclipse-openj9/openj9/commit/beda9dd440db1bab93daa060f8160c583f7d88cf", "message": "CMake: Add missing config optiopns to aix cache\n\nAlso performed some cleanup in the file\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-04-07T04:10:00Z", "type": "forcePushed"}]}