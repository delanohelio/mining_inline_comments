{"pr_number": 9780, "pr_title": "AArch64: Add instructions for enabling CUDA support", "pr_createdAt": "2020-06-03T10:00:03Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9780", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNzk2NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9780#discussion_r434927964", "bodyText": "If the version of CUDA being used is 8.0 or newer, the -with-gdk option is not necessary.", "author": "keithc-ca", "createdAt": "2020-06-04T00:30:53Z", "path": "doc/build-instructions/Build_Instructions_V11.md", "diffHunk": "@@ -719,6 +719,8 @@ bash configure --openjdk-target=${OPENJ9_CC_PREFIX} \\\n \n :pencil: **DDR support:** You can build DDR support only on AArch64 Linux.  If you are building in a cross-compilation environment, you need the `--disable-ddr` option.\n \n+:pencil: **CUDA support:** You can enable CUDA support if you are building on NVIDIA Jetson Developer Kit series.  Add `--enable-cuda --with-cuda=/usr/local/cuda --with-gdk=/usr/local/cuda` when you run `configure`.  The path `/usr/local/cuda` may be different depending on the version of JetPack.", "originalCommit": "8734df7edb1d4215a2fe5eebf2b770d002ebe8a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkzMDY0MA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9780#discussion_r434930640", "bodyText": "The CUDA version is 10.0, but I got an error on undefined GDK_HOME when I ran configure only with --enable-cuda --with-cuda=/usr/local/cuda.", "author": "knn-k", "createdAt": "2020-06-04T00:41:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk1NDM4NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9780#discussion_r434954384", "bodyText": "runtime/makelib/mkconstants.mk.ftl sets GDK_HOME for other platforms but does not for AArch64 Linux.\nCan I assume the path /usr/local/cuda as the default path for AArch64 there?", "author": "knn-k", "createdAt": "2020-06-04T02:17:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI0NzA0Mg==", "url": "https://github.com/eclipse-openj9/openj9/pull/9780#discussion_r435247042", "bodyText": "We should change runtime/compiler/build/toolcfg/common.mk to stop requiring GDK_HOME and only add it to the include path if it is set. With current versions of CUDA it is not required (nvml.h is part of the toolkit).", "author": "keithc-ca", "createdAt": "2020-06-04T13:20:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI1MTcyNQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9780#discussion_r435251725", "bodyText": "See #9801.", "author": "keithc-ca", "createdAt": "2020-06-04T13:27:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNzk2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcxNjU0Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/9780#discussion_r435716547", "bodyText": "Updated removing --with-gdk=/usr/local/cuda from the document.\nWaiting for #9801 to be merged.", "author": "knn-k", "createdAt": "2020-06-05T06:34:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNzk2NA=="}], "type": "inlineReview"}, {"oid": "80c407f6da7af75404fed4323a701f6d1950ff4f", "url": "https://github.com/eclipse-openj9/openj9/commit/80c407f6da7af75404fed4323a701f6d1950ff4f", "message": "AArch64: Add instructions for enabling CUDA support\n\nThis commit adds description on how to build AArch64 Linux OpenJ9 with\nCUDA enabled.\n\nSigned-off-by: KONNO Kazuhiro <konno@jp.ibm.com>", "committedDate": "2020-06-05T06:31:16Z", "type": "commit"}, {"oid": "80c407f6da7af75404fed4323a701f6d1950ff4f", "url": "https://github.com/eclipse-openj9/openj9/commit/80c407f6da7af75404fed4323a701f6d1950ff4f", "message": "AArch64: Add instructions for enabling CUDA support\n\nThis commit adds description on how to build AArch64 Linux OpenJ9 with\nCUDA enabled.\n\nSigned-off-by: KONNO Kazuhiro <konno@jp.ibm.com>", "committedDate": "2020-06-05T06:31:16Z", "type": "forcePushed"}]}