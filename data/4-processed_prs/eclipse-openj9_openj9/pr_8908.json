{"pr_number": 8908, "pr_title": "ecflh001 test, only leave class hook enabled when mod specified", "pr_createdAt": "2020-03-18T18:22:01Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/8908", "timeline": [{"oid": "69bd131743436cbcc1b83ea55d0a884c8d0dea3b", "url": "https://github.com/eclipse-openj9/openj9/commit/69bd131743436cbcc1b83ea55d0a884c8d0dea3b", "message": "ecflh001 test, only leave class hook enabled when mod specified\n\nThis allows the argument `printClassFileLoadMsg` to be specified by\nitself without changing the test behavior, useful for debugging. No test\nspecifies only this option atm. `noModify,printClassFileLoadMsg` can be\nused to get the original behavior, leaving the class hook enabled at\nstartup.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-03-18T18:24:44Z", "type": "forcePushed"}, {"oid": "db5987833474bcdd002c261f34a41418e70f9c59", "url": "https://github.com/eclipse-openj9/openj9/commit/db5987833474bcdd002c261f34a41418e70f9c59", "message": "ecflh001 test, only leave class hook enabled when mod specified\n\nThis allows the argument `printClassFileLoadMsg` to be specified by\nitself without changing the test behavior, useful for debugging. No test\nspecifies only this option atm. `noModify+printClassFileLoadMsg` can be\nused to get the original behavior, leaving the class hook enabled at\nstartup.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-03-18T18:26:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY0MTA3MA==", "url": "https://github.com/eclipse-openj9/openj9/pull/8908#discussion_r394641070", "bodyText": "Please update the comment for this function that suggests the <modtype> portion of the arguments is required.", "author": "keithc-ca", "createdAt": "2020-03-18T21:09:13Z", "path": "runtime/tests/jvmtitests/src/com/ibm/jvmti/tests/eventClassFileLoadHook/ecflh001.c", "diffHunk": "@@ -186,7 +186,7 @@ ecflh001(agentEnv * agent_env, char * args)\n \t} \n \n \t/* Disable the JVMTI_EVENT_CLASS_FILE_LOAD_HOOK callback */\n-\tif (NULL == testArgs) {\n+\tif (-1 == argSet.modType) {", "originalCommit": "db5987833474bcdd002c261f34a41418e70f9c59", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY0MjU5OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/8908#discussion_r394642598", "bodyText": "ModType should define a literal like MOD_TYPE_UNSPECIFIED = -1 to avoid mixing int and ModType in assignments and comparisons.", "author": "keithc-ca", "createdAt": "2020-03-18T21:12:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY0MTA3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1NjU2MA==", "url": "https://github.com/eclipse-openj9/openj9/pull/8908#discussion_r394656560", "bodyText": "Updated, but untested. If you're happy with the changes we can start new PR testing.", "author": "pshipton", "createdAt": "2020-03-18T21:43:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY0MTA3MA=="}], "type": "inlineReview"}, {"oid": "c876ddf356aee9384481ac4be1e8fa260be106a7", "url": "https://github.com/eclipse-openj9/openj9/commit/c876ddf356aee9384481ac4be1e8fa260be106a7", "message": "ecflh001 test, only leave class hook enabled when mod specified\n\nThis allows the argument `printClassFileLoadMsg` to be specified by\nitself without changing the test behavior, useful for debugging. No test\nspecifies only this option atm. `noModify+printClassFileLoadMsg` can be\nused to get the original behavior, leaving the class hook enabled at\nstartup.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-03-18T21:41:48Z", "type": "commit"}, {"oid": "c876ddf356aee9384481ac4be1e8fa260be106a7", "url": "https://github.com/eclipse-openj9/openj9/commit/c876ddf356aee9384481ac4be1e8fa260be106a7", "message": "ecflh001 test, only leave class hook enabled when mod specified\n\nThis allows the argument `printClassFileLoadMsg` to be specified by\nitself without changing the test behavior, useful for debugging. No test\nspecifies only this option atm. `noModify+printClassFileLoadMsg` can be\nused to get the original behavior, leaving the class hook enabled at\nstartup.\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-03-18T21:41:48Z", "type": "forcePushed"}]}