{"pr_number": 9471, "pr_title": "Implement JVM_GetRandomSeedForCDSDump", "pr_createdAt": "2020-05-06T14:57:22Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9471", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg5NTc4OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9471#discussion_r420895789", "bodyText": "@keithc-ca is this called during an OpenJ9 run?  If we don't expect it to be (and why would it if it's CDS related), it would be better to assert here", "author": "DanHeidinga", "createdAt": "2020-05-06T15:45:20Z", "path": "runtime/j9vm/java11vmi.c", "diffHunk": "@@ -1570,3 +1571,11 @@ JVM_AreNestMates(JNIEnv *env, jclass jClassOne, jclass jClassTwo)\n #endif /* J9VM_OPT_VALHALLA_NESTMATES */\n }\n #endif /* JAVA_SPEC_VERSION >= 11 */\n+\n+#if JAVA_SPEC_VERSION >= 15\n+JNIEXPORT jlong JNICALL\n+JVM_GetRandomSeedForCDSDump()\n+{\n+\treturn (jlong)J9UniqueBuildID;", "originalCommit": "252a1de4698065f1ad5e8d9e1d5639599519b6a2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDkwNDI4Mg==", "url": "https://github.com/eclipse-openj9/openj9/pull/9471#discussion_r420904282", "bodyText": "There are still some more changes required to openj9 to create a build against the openj9-staging branch of jdknext. My first observation was a link error referring to this function, but a closer look at how it's used suggests it is required beyond support for CDS and that our implementation should just return zero. I'll update it to do that.", "author": "keithc-ca", "createdAt": "2020-05-06T15:56:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg5NTc4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDkwODExMA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9471#discussion_r420908110", "bodyText": "Updated.", "author": "keithc-ca", "createdAt": "2020-05-06T16:01:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg5NTc4OQ=="}], "type": "inlineReview"}, {"oid": "114b59e0f563c9d1f5e6c89ae13aa4a9c029707a", "url": "https://github.com/eclipse-openj9/openj9/commit/114b59e0f563c9d1f5e6c89ae13aa4a9c029707a", "message": "Implement JVM_GetRandomSeedForCDSDump()\n\nSigned-off-by: Keith W. Campbell <keithc@ca.ibm.com>", "committedDate": "2020-05-06T16:00:52Z", "type": "commit"}, {"oid": "114b59e0f563c9d1f5e6c89ae13aa4a9c029707a", "url": "https://github.com/eclipse-openj9/openj9/commit/114b59e0f563c9d1f5e6c89ae13aa4a9c029707a", "message": "Implement JVM_GetRandomSeedForCDSDump()\n\nSigned-off-by: Keith W. Campbell <keithc@ca.ibm.com>", "committedDate": "2020-05-06T16:00:52Z", "type": "forcePushed"}]}