{"pr_number": 11101, "pr_title": "CMake: Add copyright info to dlls on windows", "pr_createdAt": "2020-11-04T15:29:19Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/11101", "timeline": [{"oid": "29de8ce9c666a89ed80d4d2bd65bc52f3bc4ef3c", "url": "https://github.com/eclipse-openj9/openj9/commit/29de8ce9c666a89ed80d4d2bd65bc52f3bc4ef3c", "message": "CMake: Add copyright info to dlls on windows\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-11-04T15:38:24Z", "type": "forcePushed"}, {"oid": "958c01e7a803750fe0f645060256df57463952c6", "url": "https://github.com/eclipse-openj9/openj9/commit/958c01e7a803750fe0f645060256df57463952c6", "message": "CMake: Add copyright info to dlls on windows\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-11-04T15:45:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzUxNzA2OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/11101#discussion_r517517069", "bodyText": "Should this be an assert instead?", "author": "pshipton", "createdAt": "2020-11-04T17:37:21Z", "path": "runtime/cmake/J9vmTargetSupport.cmake", "diffHunk": "@@ -22,13 +22,54 @@\n \n include(OmrTargetSupport)\n \n+# Adds copyright metadata on windows. On other platforms its a no-op.\n+function(j9vm_add_copyright_data target_name)\n+\tomr_assert(FATAL_ERROR TEST TARGET ${target_name} MESSAGE \"Expected a target name, got ${target_name}\")\n+\n+\tif(NOT OMR_OS_WINDOWS)\n+\t\treturn()\n+\tendif()\n+\n+\tget_target_property(target_type \"${target_name}\" TYPE)\n+\tif(NOT target_type STREQUAL \"SHARED_LIBRARY\")\n+\t\treturn()\n+\tendif()\n+\n+\tif(NOT OPENJDK_VERSION_NUMBER_FOUR_POSITIONS)\n+\t\tset(VERSION_STRING \"0.0.0.0\")", "originalCommit": "958c01e7a803750fe0f645060256df57463952c6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTk2MDM3Ng==", "url": "https://github.com/eclipse-openj9/openj9/pull/11101#discussion_r519960376", "bodyText": "Probably, yes. This code was written before the openjdk code which sets the variable was merged", "author": "dnakamura", "createdAt": "2020-11-09T16:48:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzUxNzA2OQ=="}], "type": "inlineReview"}, {"oid": "908b4a002f11a5c39817719317ccaaa199897eaa", "url": "https://github.com/eclipse-openj9/openj9/commit/908b4a002f11a5c39817719317ccaaa199897eaa", "message": "CMake: Add copyright info to dlls on windows\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-11-09T16:56:55Z", "type": "commit"}, {"oid": "908b4a002f11a5c39817719317ccaaa199897eaa", "url": "https://github.com/eclipse-openj9/openj9/commit/908b4a002f11a5c39817719317ccaaa199897eaa", "message": "CMake: Add copyright info to dlls on windows\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-11-09T16:56:55Z", "type": "forcePushed"}]}