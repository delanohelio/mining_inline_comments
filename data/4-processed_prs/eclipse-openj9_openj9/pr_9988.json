{"pr_number": 9988, "pr_title": "Add a private flag to indicate a thread is in SCC read mutex", "pr_createdAt": "2020-06-23T19:54:56Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9988", "timeline": [{"oid": "11b6396c045c3b3835bad8450b45f3eac35cbec3", "url": "https://github.com/eclipse-openj9/openj9/commit/11b6396c045c3b3835bad8450b45f3eac35cbec3", "message": "Add a private flag to indicate a thread is in SCC read mutex\n\n1. Add a private flag J9_PRIVATE_FLAGS2_IN_SHARED_CLASS_READ_MUTEX\n2. Add assertions on this private flag.\n\nissue #9893\n\nSigned-off-by: Hang Shao <hangshao@ca.ibm.com>", "committedDate": "2020-06-23T20:11:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ4NjU2OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9988#discussion_r444486568", "bodyText": "I think CACHE instead of CLASS is more accurate.", "author": "pshipton", "createdAt": "2020-06-23T20:26:38Z", "path": "runtime/oti/j9consts.h", "diffHunk": "@@ -174,7 +174,7 @@ extern \"C\" {\n #define J9_PRIVATE_FLAGS_STACKS_OUT_OF_SYNC 0x40000000\n #define J9_PRIVATE_FLAGS_FINAL_CALL_OUT_OF_MEMORY 0x80000000\n \n-#define J9_PRIVATE_FLAGS2_UNUSED_0x1 0x1\n+#define J9_PRIVATE_FLAGS2_IN_SHARED_CLASS_READ_MUTEX 0x1", "originalCommit": "11b6396c045c3b3835bad8450b45f3eac35cbec3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ5MTE3NQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9988#discussion_r444491175", "bodyText": "Fixed.", "author": "hangshao0", "createdAt": "2020-06-23T20:35:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ4NjU2OA=="}], "type": "inlineReview"}, {"oid": "718ccc1ec8953e4d1dca1e0c1cbba942eaecbd8f", "url": "https://github.com/eclipse-openj9/openj9/commit/718ccc1ec8953e4d1dca1e0c1cbba942eaecbd8f", "message": "Add a private flag to indicate a thread is in SCC read mutex\n\n1. Add a private flag J9_PRIVATE_FLAGS2_IN_SHARED_CACHE_READ_MUTEX\n2. Add assertions on this private flag.\n\nissue #9893\n\nSigned-off-by: Hang Shao <hangshao@ca.ibm.com>", "committedDate": "2020-06-23T20:35:02Z", "type": "commit"}, {"oid": "718ccc1ec8953e4d1dca1e0c1cbba942eaecbd8f", "url": "https://github.com/eclipse-openj9/openj9/commit/718ccc1ec8953e4d1dca1e0c1cbba942eaecbd8f", "message": "Add a private flag to indicate a thread is in SCC read mutex\n\n1. Add a private flag J9_PRIVATE_FLAGS2_IN_SHARED_CACHE_READ_MUTEX\n2. Add assertions on this private flag.\n\nissue #9893\n\nSigned-off-by: Hang Shao <hangshao@ca.ibm.com>", "committedDate": "2020-06-23T20:35:02Z", "type": "forcePushed"}]}