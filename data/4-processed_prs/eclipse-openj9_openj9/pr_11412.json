{"pr_number": 11412, "pr_title": "Add ability to delete tso datasets for zOS guests", "pr_createdAt": "2020-12-08T20:40:10Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/11412", "timeline": [{"oid": "0ca7ad2e57af5f92f27880f6e5adee88a9440dea", "url": "https://github.com/eclipse-openj9/openj9/commit/0ca7ad2e57af5f92f27880f6e5adee88a9440dea", "message": "Add ability to delete tso datasets for zOS guests\n\n* [skip ci]\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-12-08T21:09:41Z", "type": "commit"}, {"oid": "0ca7ad2e57af5f92f27880f6e5adee88a9440dea", "url": "https://github.com/eclipse-openj9/openj9/commit/0ca7ad2e57af5f92f27880f6e5adee88a9440dea", "message": "Add ability to delete tso datasets for zOS guests\n\n* [skip ci]\n\nSigned-off-by: Joe deKoning <joe_dekoning@ca.ibm.com>", "committedDate": "2020-12-08T21:09:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgxOTU2Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/11412#discussion_r538819567", "bodyText": "Are you sure this works? It seems like it should but when I try tso listcat | grep JENKINS manually, it doesn't find anything although there is a dataset there.", "author": "pshipton", "createdAt": "2020-12-08T21:26:59Z", "path": "buildenv/jenkins/jobs/infrastructure/Cleanup-Nodes.groovy", "diffHunk": "@@ -179,6 +179,14 @@ timeout(time: TIMEOUT_TIME.toInteger(), unit: TIMEOUT_UNITS) {\n                                         }\n                                     }\n \n+                                    // Cleanup zOS datasets \n+                                    if (nodeLabels.contains('sw.os.zos')) {\n+                                        listcat = sh(script: \"tso listcat | grep '${env.USER}' | cut -d. -f 2-\", returnStdout: true).trim()", "originalCommit": "0ca7ad2e57af5f92f27880f6e5adee88a9440dea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyMjg1NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/11412#discussion_r538822854", "bodyText": "Trying something else tso listcat | tee out outputs garbage, making me thing there is a ascii/ebcdic issue.\ntso listcat > out && grep JENKINS out works.", "author": "pshipton", "createdAt": "2020-12-08T21:32:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgxOTU2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyMzI0Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/11412#discussion_r538823243", "bodyText": "I was using fyrec50g", "author": "pshipton", "createdAt": "2020-12-08T21:32:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgxOTU2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgyNDE2OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/11412#discussion_r538824169", "bodyText": "Actually sh -c \"tso listcat | grep JENKINS\" works, so I guess this will too.", "author": "pshipton", "createdAt": "2020-12-08T21:34:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgxOTU2Nw=="}], "type": "inlineReview"}]}