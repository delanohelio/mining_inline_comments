{"pr_number": 10016, "pr_title": "Tidy up in buildenv/jenkins", "pr_createdAt": "2020-06-25T16:46:45Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/10016", "timeline": [{"oid": "09e6f17b10c1bc943c4bd13e2e0f9a118b9b3696", "url": "https://github.com/eclipse-openj9/openj9/commit/09e6f17b10c1bc943c4bd13e2e0f9a118b9b3696", "message": "Use whitespace consistently\n\n* indent only with spaces\n* remove trailing whitespace\n\n[ci skip]\n\nSigned-off-by: Keith W. Campbell <keithc@ca.ibm.com>", "committedDate": "2020-06-25T16:44:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNDE1OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r445924158", "bodyText": "I'm inclined not to adjust this as it's a copy/paste of a config file for the server. It shouldn't be a problem but we would have copied it from some other wiki/tutorial like this.", "author": "AdamBrousseau", "createdAt": "2020-06-26T01:37:35Z", "path": "buildenv/jenkins/ARTIFACTORY.md", "diffHunk": "@@ -146,18 +146,18 @@ server {\n     chunked_transfer_encoding on;\n     client_max_body_size 0;\n     location / {\n-    proxy_read_timeout  900;\n-    proxy_pass_header   Server;\n-    proxy_cookie_path   ~*^/.* /;\n-    if ( $request_uri ~ ^/artifactory/(.*)$ ) {\n-        proxy_pass          http://localhost:8081/artifactory/$1;\n-    }\n-    proxy_pass         http://localhost:8081/artifactory/;\n-    proxy_set_header   Host $host;\n-    proxy_set_header    X-Forwarded-Port  $server_port;\n-    proxy_set_header    X-Forwarded-Proto $http_x_forwarded_proto;\n-    proxy_set_header    Host              $http_host;\n-    proxy_set_header    X-Forwarded-For   $proxy_add_x_forwarded_for;\n+        proxy_read_timeout  900;\n+        proxy_pass_header   Server;\n+        proxy_cookie_path   ~*^/.* /;\n+        if ($request_uri ~ ^/artifactory/(.*)$) {\n+            proxy_pass      http://localhost:8081/artifactory/$1;\n+        }\n+        proxy_pass          http://localhost:8081/artifactory/;\n+        proxy_set_header    Host $host;\n+        proxy_set_header    X-Forwarded-Port  $server_port;\n+        proxy_set_header    X-Forwarded-Proto $http_x_forwarded_proto;\n+        proxy_set_header    Host              $http_host;\n+        proxy_set_header    X-Forwarded-For   $proxy_add_x_forwarded_for;", "originalCommit": "09e6f17b10c1bc943c4bd13e2e0f9a118b9b3696", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzAwMDA3Mg==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447000072", "bodyText": "This mostly is just indenting like (similar content at) line 85.", "author": "keithc-ca", "createdAt": "2020-06-29T14:08:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNDE1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r445926353", "bodyText": "Changing this file (DSL Template) will likely trigger a script approval which we'll need an Eclipse bugzilla for.", "author": "AdamBrousseau", "createdAt": "2020-06-26T01:47:12Z", "path": "buildenv/jenkins/jobs/infrastructure/wrapper_template.groovy", "diffHunk": "@@ -59,53 +58,53 @@ pipelineJob(job_name){\n             lightweight(true)\n         }\n     }\n-    if (build_discarder_logs || build_discarder_artifacts){\n-        logRotator{\n-            if (build_discarder_logs){\n+    if (build_discarder_logs || build_discarder_artifacts) {\n+        logRotator {\n+            if (build_discarder_logs) {\n                 numToKeep(build_discarder_logs)\n             }\n-            if (build_discarder_artifacts){\n+            if (build_discarder_artifacts) {\n                 artifactNumToKeep(build_discarder_artifacts)\n             }\n         }\n     }\n-    if (github_project){\n+    if (github_project) {\n         properties {\n             githubProjectUrl(github_project)\n         }\n     }\n-    if (parameters){\n+    if (parameters) {\n         parameters {\n-            parameters.boolean_parameters.each{ boolean_parameter ->\n-                booleanParam{\n+            parameters.boolean_parameters.each { boolean_parameter ->\n+                booleanParam {\n                     name(boolean_parameter.key)\n                     defaultValue(boolean_parameter.value)\n                     description(parameter_descriptions.get(boolean_parameter.key))\n                 }\n             }\n             parameters.string_parameters.each { string_parameter ->\n-                stringParam{\n+                stringParam {\n                     name(string_parameter.key)\n                     defaultValue(string_parameter.value)\n                     description(parameter_descriptions.get(string_parameter.key))\n                     trim(true)\n                 }\n             }\n-            parameters.choice_parameters.each{ choice_parameter ->\n-                choiceParam{\n+            parameters.choice_parameters.each { choice_parameter ->\n+                choiceParam {\n                     name(choice_parameter.key)\n                     choices(choice_parameter.value)\n                     description(parameter_descriptions.get(choice_parameter.key))\n                 }\n             }\n         }\n     }\n-    if (triggers){\n-        triggers{\n-            if (triggers.cron){\n+    if (triggers) {\n+        triggers {\n+            if (triggers.cron) {\n                 cron(triggers.cron)\n             }\n-            if (triggers.pull_request_builder){\n+            if (triggers.pull_request_builder) {\n                 githubPullRequest {\n                     admins(triggers.pull_request_builder.admin_list)\n                     blackListCommitAuthor(triggers.pull_request_builder.blacklist)", "originalCommit": "09e6f17b10c1bc943c4bd13e2e0f9a118b9b3696", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzAwMDc3MQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447000771", "bodyText": "Is it sufficiently difficult to get that approval that we should not change this?", "author": "keithc-ca", "createdAt": "2020-06-29T14:09:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA3NDc0OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447074749", "bodyText": "No we can raise the request, just need to get it pending so it can be approved. I believe it should trigger if we do a PR build.\nAh, scratch that, this is the wrapper template, we don't actually use this file.", "author": "AdamBrousseau", "createdAt": "2020-06-29T15:51:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzExOTY0OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447119648", "bodyText": "Should we just remove this file if it's not used?", "author": "keithc-ca", "createdAt": "2020-06-29T17:01:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEzNzk2OA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447137968", "bodyText": "Well, it could be used. May need to be updated, but we don't use it on a regular basis.", "author": "AdamBrousseau", "createdAt": "2020-06-29T17:33:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwOTY4NQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447709685", "bodyText": "@AdamBrousseau Is there a document somewhere that explains which files require Eclipse approval to change? If not, could you open a PR to add that information, please?", "author": "keithc-ca", "createdAt": "2020-06-30T14:05:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzc3ODgyMw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10016#discussion_r447778823", "bodyText": "#10050 was opened.", "author": "pshipton", "createdAt": "2020-06-30T15:34:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTkyNjM1Mw=="}], "type": "inlineReview"}]}