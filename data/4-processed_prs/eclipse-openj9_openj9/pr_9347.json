{"pr_number": 9347, "pr_title": "Fix duplicate LocalVariableTypeTable check", "pr_createdAt": "2020-04-23T20:01:18Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9347", "timeline": [{"oid": "6700f95bc080700505b003a55fa815a2407a10b4", "url": "https://github.com/eclipse-openj9/openj9/commit/6700f95bc080700505b003a55fa815a2407a10b4", "message": "Fix duplicate LocalVariableTypeTable check\n\nSigned-off-by: Theresa Mammarella <Theresa.T.Mammarella@ibm.com>", "committedDate": "2020-04-23T17:40:38Z", "type": "commit"}, {"oid": "6700f95bc080700505b003a55fa815a2407a10b4", "url": "https://github.com/eclipse-openj9/openj9/commit/6700f95bc080700505b003a55fa815a2407a10b4", "message": "Fix duplicate LocalVariableTypeTable check\n\nSigned-off-by: Theresa Mammarella <Theresa.T.Mammarella@ibm.com>", "committedDate": "2020-04-23T17:40:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjgyNzA5Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/9347#discussion_r416827093", "bodyText": "This is a good starting point.  We should also, possibly under a separate PR, validate whether this should be checking the contents for equality, not the indexes", "author": "DanHeidinga", "createdAt": "2020-04-28T18:20:46Z", "path": "runtime/bcutil/ClassFileOracle.cpp", "diffHunk": "@@ -1271,6 +1271,8 @@ ClassFileOracle::walkMethodCodeAttributeAttributes(U_16 methodIndex)\n \t\t\t\t\t\t\tJ9CfrLocalVariableTypeTableEntry *lvttCompareEntry = &(localVariableTypeTable->localVariableTypeTable[localVariableTypeTableCompareIndex]);\n \t\t\t\t\t\t\tif ((lvttEntry->startPC == lvttCompareEntry->startPC)\n \t\t\t\t\t\t\t\t&& (lvttEntry->length == lvttCompareEntry->length)\n+\t\t\t\t\t\t\t\t&& (lvttEntry->nameIndex == lvttCompareEntry->nameIndex)\n+\t\t\t\t\t\t\t\t&& (lvttEntry->signatureIndex == lvttCompareEntry->signatureIndex) ", "originalCommit": "6700f95bc080700505b003a55fa815a2407a10b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjgyNzI2MQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9347#discussion_r416827261", "bodyText": "Would be worth testing the RI as well", "author": "DanHeidinga", "createdAt": "2020-04-28T18:21:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjgyNzA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk3NzQ4MA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9347#discussion_r416977480", "bodyText": "Thats a good idea. There appears to be at least one more missing LocalVariableTypeTable check that will come after this in a separate pr.", "author": "theresa-m", "createdAt": "2020-04-28T23:09:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjgyNzA5Mw=="}], "type": "inlineReview"}]}