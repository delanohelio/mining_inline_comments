{"pr_number": 8336, "pr_title": "Disable fieldwatch remote compilations on Power", "pr_createdAt": "2020-01-17T21:36:22Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/8336", "timeline": [{"oid": "485cba46fcd5ec81043d047391b308d1c7e13529", "url": "https://github.com/eclipse-openj9/openj9/commit/485cba46fcd5ec81043d047391b308d1c7e13529", "message": "Disable fieldwatch remote compilations on Power\n\nRelocatable compiles for FieldWatch are not supported\nin the Power codegen. Hence this commit disables JIT\ncompiles that are done remotely when fieldwatch is enabled.\n\nSigned-off-by: Dhruv Chopra <Dhruv.C.Chopra@ibm.com>", "committedDate": "2020-01-17T21:44:26Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODYwNjYzNA==", "url": "https://github.com/eclipse-openj9/openj9/pull/8336#discussion_r368606634", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               if (TR::Compiler->target.cpu.isPower() && _jitConfig->inlineFieldWatches)\n          \n          \n            \n               // Do a local compile because the Power codegen is missing some FieldWatch relocation support.\n          \n          \n            \n               if (TR::Compiler->target.cpu.isPower() && _jitConfig->inlineFieldWatches)", "author": "ymanton", "createdAt": "2020-01-20T15:30:47Z", "path": "runtime/compiler/control/CompilationThread.cpp", "diffHunk": "@@ -6896,6 +6896,9 @@ TR::CompilationInfoPerThreadBase::shouldPerformLocalComp(const TR_MethodToBeComp\n       (!JITServerHelpers::isServerAvailable() && !JITServerHelpers::shouldRetryConnection(OMRPORT_FROM_J9PORT(_jitConfig->javaVM->portLibrary))))\n       doLocalComp = true;\n \n+   if (TR::Compiler->target.cpu.isPower() && _jitConfig->inlineFieldWatches)", "originalCommit": "485cba46fcd5ec81043d047391b308d1c7e13529", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aac8451dd5cb11c1819d2d85048ec233a2e14a5c", "url": "https://github.com/eclipse-openj9/openj9/commit/aac8451dd5cb11c1819d2d85048ec233a2e14a5c", "message": "Disable fieldwatch remote compilations on Power\n\nRelocatable compiles for FieldWatch are not supported\nin the Power codegen. Hence this commit disables JIT\ncompiles that are done remotely when fieldwatch is enabled.\n\nSigned-off-by: Dhruv Chopra <Dhruv.C.Chopra@ibm.com>", "committedDate": "2020-01-20T16:09:21Z", "type": "commit"}, {"oid": "aac8451dd5cb11c1819d2d85048ec233a2e14a5c", "url": "https://github.com/eclipse-openj9/openj9/commit/aac8451dd5cb11c1819d2d85048ec233a2e14a5c", "message": "Disable fieldwatch remote compilations on Power\n\nRelocatable compiles for FieldWatch are not supported\nin the Power codegen. Hence this commit disables JIT\ncompiles that are done remotely when fieldwatch is enabled.\n\nSigned-off-by: Dhruv Chopra <Dhruv.C.Chopra@ibm.com>", "committedDate": "2020-01-20T16:09:21Z", "type": "forcePushed"}]}