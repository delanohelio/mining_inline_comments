{"pr_number": 9157, "pr_title": "CMake: Modify arch tuning value for jit on aix", "pr_createdAt": "2020-04-07T14:11:59Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9157", "timeline": [{"oid": "7e59563399f5fe7bb053618af35706462a9abdf2", "url": "https://github.com/eclipse-openj9/openj9/commit/7e59563399f5fe7bb053618af35706462a9abdf2", "message": "CMake: Modify arch tuning value for jit on aix\n\nSigned-off-by: Devin Nakamura <devinn@ca.ibm.com>", "committedDate": "2020-04-07T14:11:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTA5NQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9157#discussion_r404955095", "bodyText": "Does 32-bit (-qarch=ppc) need to be fixed as well?", "author": "pshipton", "createdAt": "2020-04-07T16:41:30Z", "path": "runtime/compiler/CMakeLists.txt", "diffHunk": "@@ -280,6 +280,11 @@ elseif(OMR_OS_AIX)\n \t)\n \tif(OMR_ENV_DATA64)\n \t\tset(J9_SHAREDFLAGS -q64)\n+\t\tif(OMR_TOOLCONFIG STREQUAL \"xlc\")\n+\t\t\t# Modify the arch tuning value we inherit from omr\n+\t\t\tlist(REMOVE_ITEM TR_COMPILE_OPTIONS \"-qarch=pwr7\")\n+\t\t\tlist(APPEND TR_COMPILE_OPTIONS \"-qarch=ppc64grsq\")", "originalCommit": "7e59563399f5fe7bb053618af35706462a9abdf2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODMxMTU0Ng==", "url": "https://github.com/eclipse-openj9/openj9/pull/9157#discussion_r408311546", "bodyText": "No. we get the correct value from OMR in that case\nhttps://github.com/eclipse/omr/blob/0e780bb7e7d2c3c449ca8f2b2500b6121b8be00e/cmake/modules/platform/toolcfg/xlc.cmake#L43", "author": "dnakamura", "createdAt": "2020-04-14T17:29:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTA5NQ=="}], "type": "inlineReview"}]}