{"pr_number": 9632, "pr_title": "AIX JDK11 System.mapLibraryName() returns libraries with .a suffix", "pr_createdAt": "2020-05-20T17:36:14Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9632", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc4OTgzNQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/9632#discussion_r434789835", "bodyText": "I don't think we want to change 14 at this point.  Based on my understanding, 15 is the earliest release we may have to change if the alternativeLibraryName doesn't work.\nLet's remove the version check for the 0.21.0 release and address in the jdk15 release.  If the check is needed for 15 to build, then we can make it <= 14 for the time being", "author": "DanHeidinga", "createdAt": "2020-06-03T19:04:16Z", "path": "runtime/jcl/unix/syshelp.c", "diffHunk": "@@ -241,7 +241,7 @@ void mapLibraryToPlatformName(const char *inPath, char *outPath) {\n #else\n \tstrcpy(outPath, \"lib\");\n \tstrcat(outPath,inPath);\n-#if defined(AIXPPC) && (JAVA_SPEC_VERSION == 8)\n+#if defined(AIXPPC) && (JAVA_SPEC_VERSION <= 11)", "originalCommit": "509bb6f43e60345845a1bb2a480a9c1326d05d83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgwNTIzMg==", "url": "https://github.com/eclipse-openj9/openj9/pull/9632#discussion_r434805232", "bodyText": "Agreed that JDK 14 should be same as JDK 11/8. JDK15 is the earliest release requiring the change as per #8941, otherwise following UnsatisfiedLinkError will be thrown during JDK 15 AIX build:\n12:35:36  Exception in thread \"main\" java/lang/UnsatisfiedLinkError: sun/nio/fs/UnixNativeDispatcher.init()I\n12:35:36  \tat sun/nio/fs/UnixNativeDispatcher.<clinit> (java.base@9/UnixNativeDispatcher.java:654)\n12:35:36  \tat sun/nio/fs/UnixFileSystem.<init> (java.base@9/UnixFileSystem.java:65)\n\nMaking it <= 14 for the time being.\n@DanHeidinga it is ready for another look.", "author": "JasonFengJ9", "createdAt": "2020-06-03T19:33:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc4OTgzNQ=="}], "type": "inlineReview"}, {"oid": "8443c62ed32ab32067db04479203d6cda5c43f29", "url": "https://github.com/eclipse-openj9/openj9/commit/8443c62ed32ab32067db04479203d6cda5c43f29", "message": "AIX JDK11 System.mapLibraryName() returns libraries with .a suffix\n\nAIX JDK11/14 returns same native library suffix .a as JDK8 while JDK15+\nmatch hotspot output .so.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>", "committedDate": "2020-06-03T19:26:06Z", "type": "commit"}, {"oid": "8443c62ed32ab32067db04479203d6cda5c43f29", "url": "https://github.com/eclipse-openj9/openj9/commit/8443c62ed32ab32067db04479203d6cda5c43f29", "message": "AIX JDK11 System.mapLibraryName() returns libraries with .a suffix\n\nAIX JDK11/14 returns same native library suffix .a as JDK8 while JDK15+\nmatch hotspot output .so.\n\nSigned-off-by: Jason Feng <fengj@ca.ibm.com>", "committedDate": "2020-06-03T19:26:06Z", "type": "forcePushed"}]}