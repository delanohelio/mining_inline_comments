{"pr_number": 10657, "pr_title": "Cache J9InternalVMFunctions pointer in a local", "pr_createdAt": "2020-09-21T15:42:46Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/10657", "timeline": [{"oid": "185fd302c5532b1fa92c7ca77c5792a3fe890636", "url": "https://github.com/eclipse-openj9/openj9/commit/185fd302c5532b1fa92c7ca77c5792a3fe890636", "message": "Cache J9InternalVMFunctions pointer in a local\n\nFound while reviewing code, caching it in a local removes\none level of pointer indirection from the loop.\n\nThis isn't performance critical code as it happens during\na jvmti event anyway, but still better to cache when possible.\n\nSigned-off-by: Dan Heidinga <heidinga@redhat.com>", "committedDate": "2020-09-21T20:31:46Z", "type": "commit"}, {"oid": "185fd302c5532b1fa92c7ca77c5792a3fe890636", "url": "https://github.com/eclipse-openj9/openj9/commit/185fd302c5532b1fa92c7ca77c5792a3fe890636", "message": "Cache J9InternalVMFunctions pointer in a local\n\nFound while reviewing code, caching it in a local removes\none level of pointer indirection from the loop.\n\nThis isn't performance critical code as it happens during\na jvmti event anyway, but still better to cache when possible.\n\nSigned-off-by: Dan Heidinga <heidinga@redhat.com>", "committedDate": "2020-09-21T20:31:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0MTczMw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10657#discussion_r492341733", "bodyText": "Ideally this should be const * const.", "author": "gacholio", "createdAt": "2020-09-21T20:57:25Z", "path": "runtime/jvmti/jvmtiClass.c", "diffHunk": "@@ -82,21 +82,22 @@ static jvmtiError jvmtiGetConstantPool_addInvokeDynamic(jvmtiGcp_translation *tr\n static jint\n jvmtiGetLoadedClassesCount(J9JavaVM * vm)\n {\n+\tJ9InternalVMFunctions * const vmfuncs = vm->internalVMFunctions;", "originalCommit": "185fd302c5532b1fa92c7ca77c5792a3fe890636", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQxNDI3NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10657#discussion_r492414274", "bodyText": "updated", "author": "DanHeidinga", "createdAt": "2020-09-22T00:13:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0MTczMw=="}], "type": "inlineReview"}, {"oid": "e584e897c213490d09a47a7f5958fafaa965d573", "url": "https://github.com/eclipse-openj9/openj9/commit/e584e897c213490d09a47a7f5958fafaa965d573", "message": "Use const * const for J9InternalVMFunctions pointer\n\nSigned-off-by: Dan Heidinga <heidinga@redhat.com>", "committedDate": "2020-09-22T00:12:30Z", "type": "commit"}]}