{"pr_number": 10251, "pr_title": "Migrate TestInvtest to OpenJ9", "pr_createdAt": "2020-07-24T20:39:59Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/10251", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NTI1Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460865257", "bodyText": "$(REPORTDIR_NQ)/lib/j9vm is added twice in PATH_TO_LIB .", "author": "llxia", "createdAt": "2020-07-27T12:49:06Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,39 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020 IBM Corp. and others\n+#\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/jre/\n+ ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/default/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs\n+  LIBJ9IFA29=/jre/lib/s390x/compressedrefs/libj9ifa29.so\n+ else \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x:$(REPORTDIR_NQ)/jre/lib/s390x/default:$(REPORTDIR_NQ)/jre/lib/s390x\n+  LIBJ9IFA29=/jre/lib/s390x/default/libj9ifa29.so\n+ endif\n+# if JDK_VERSION is 11, 14, 15 \n+else\n+ PATH_TO_LIB=$(REPORTDIR_NQ)/lib/j9vm:$(REPORTDIR_NQ)/lib/j9vm:$(REPORTDIR_NQ)/lib/compressedrefs:$(REPORTDIR_NQ)/lib", "originalCommit": "8bfacc55d5f7c5f4cf69e761952888f7a42a1a71", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NzE5NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460867194", "bodyText": "We need to copy the TEST_JDK_HOME  into $(REPORTDIR_NQ)/subdir and remove $(REPORTDIR_NQ)/subdir at the end of the test.", "author": "llxia", "createdAt": "2020-07-27T12:52:33Z", "path": "test/functional/NativeTest/playlist.xml", "diffHunk": "@@ -569,4 +570,30 @@ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-excepti\n \t\t</subsets>\n \t\t<disabled>https://github.com/eclipse/openj9/issues/3561</disabled>\n \t</test>\n+\t<test>\n+\t\t<testCaseName>TestInvtest</testCaseName>\n+\t\t<command>cp -R $(TEST_JDK_HOME)/ $(REPORTDIR_NQ); \\", "originalCommit": "8bfacc55d5f7c5f4cf69e761952888f7a42a1a71", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NzY3Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460867673", "bodyText": "Please remove this comment.", "author": "llxia", "createdAt": "2020-07-27T12:53:29Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,39 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020 IBM Corp. and others\n+#\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/jre/\n+ ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/default/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs\n+  LIBJ9IFA29=/jre/lib/s390x/compressedrefs/libj9ifa29.so\n+ else \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x:$(REPORTDIR_NQ)/jre/lib/s390x/default:$(REPORTDIR_NQ)/jre/lib/s390x\n+  LIBJ9IFA29=/jre/lib/s390x/default/libj9ifa29.so\n+ endif\n+# if JDK_VERSION is 11, 14, 15 ", "originalCommit": "8bfacc55d5f7c5f4cf69e761952888f7a42a1a71", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg3Mjc2MQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460872761", "bodyText": "$(REPORTDIR_NQ)/jre/lib/s390x is added twice in PATH_TO_LIB \njre/lib/s390x/default/j9vm is missing", "author": "llxia", "createdAt": "2020-07-27T13:02:13Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,39 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020 IBM Corp. and others\n+#\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/jre/\n+ ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/default/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs\n+  LIBJ9IFA29=/jre/lib/s390x/compressedrefs/libj9ifa29.so\n+ else \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x:$(REPORTDIR_NQ)/jre/lib/s390x/default:$(REPORTDIR_NQ)/jre/lib/s390x", "originalCommit": "8bfacc55d5f7c5f4cf69e761952888f7a42a1a71", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg3NTgwOQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460875809", "bodyText": "Please check with the original test, I think jre/lib/s390x/default/j9vm  is not needed here", "author": "llxia", "createdAt": "2020-07-27T13:07:14Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,39 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020 IBM Corp. and others\n+#\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/jre/\n+ ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/default/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs", "originalCommit": "8bfacc55d5f7c5f4cf69e761952888f7a42a1a71", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f493af98a16835a29ef452f12d456104ed595734", "url": "https://github.com/eclipse-openj9/openj9/commit/f493af98a16835a29ef452f12d456104ed595734", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T14:02:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk0MzE4Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460943187", "bodyText": "Do we need $(REPORTDIR_NQ)/lib?", "author": "llxia", "createdAt": "2020-07-27T14:43:54Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,38 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/jre/\n+ ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/compressedrefs\n+  LIBJ9IFA29=/jre/lib/s390x/compressedrefs/libj9ifa29.so\n+ else \n+  PATH_TO_LIB=$(REPORTDIR_NQ)/jre/bin/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/default/j9vm:$(REPORTDIR_NQ)/jre/lib/s390x/default\n+  LIBJ9IFA29=/jre/lib/s390x/default/libj9ifa29.so\n+ endif\n+else\n+ PATH_TO_LIB=$(REPORTDIR_NQ)/lib/j9vm:$(REPORTDIR_NQ)/lib/compressedrefs:$(REPORTDIR_NQ)/lib", "originalCommit": "f493af98a16835a29ef452f12d456104ed595734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAyNzI2Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r461027263", "bodyText": "Without it invest doesn't pass: https://hyc-runtimes-jenkins.swg-devops.com/view/Test_grinder/job/Grinder/9269", "author": "nikolamilijevic1", "createdAt": "2020-07-27T16:47:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk0MzE4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk0NDE3Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r460944177", "bodyText": "Please copy into $(REPORTDIR_NQ)/<some_subdir> and remove $(REPORTDIR_NQ)/<some_subdir>. Otherwise, you may remove other useful info in REPORTDIR", "author": "llxia", "createdAt": "2020-07-27T14:45:15Z", "path": "test/functional/NativeTest/playlist.xml", "diffHunk": "@@ -569,4 +570,31 @@ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-excepti\n \t\t</subsets>\n \t\t<disabled>https://github.com/eclipse/openj9/issues/3561</disabled>\n \t</test>\n+\t<test>\n+\t\t<testCaseName>TestInvtest</testCaseName>\n+\t\t<command>cp -R $(TEST_JDK_HOME)/ $(REPORTDIR_NQ)/; \\", "originalCommit": "f493af98a16835a29ef452f12d456104ed595734", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cbc03b18c59b143148ca3181beb9a109523e83c4", "url": "https://github.com/eclipse-openj9/openj9/commit/cbc03b18c59b143148ca3181beb9a109523e83c4", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T16:07:17Z", "type": "forcePushed"}, {"oid": "4833c1576f898e213467506419bd1aaff7dd6979", "url": "https://github.com/eclipse-openj9/openj9/commit/4833c1576f898e213467506419bd1aaff7dd6979", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T16:18:07Z", "type": "forcePushed"}, {"oid": "22219e1e1b2b92feae6b207c604f15144e456564", "url": "https://github.com/eclipse-openj9/openj9/commit/22219e1e1b2b92feae6b207c604f15144e456564", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T16:29:42Z", "type": "forcePushed"}, {"oid": "1b7f04f9ab2569be4e8247c7cbfe2828805eff6a", "url": "https://github.com/eclipse-openj9/openj9/commit/1b7f04f9ab2569be4e8247c7cbfe2828805eff6a", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T17:57:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5OTEyOQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r461099129", "bodyText": "Please do not use subdir  as a folder name. Name some meaningful. For example, testJava", "author": "llxia", "createdAt": "2020-07-27T18:52:04Z", "path": "test/functional/NativeTest/playlist.xml", "diffHunk": "@@ -569,4 +570,31 @@ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-excepti\n \t\t</subsets>\n \t\t<disabled>https://github.com/eclipse/openj9/issues/3561</disabled>\n \t</test>\n+\t<test>\n+\t\t<testCaseName>TestInvtest</testCaseName>\n+\t\t<command>cp -R $(TEST_JDK_HOME)/ $(REPORTDIR_NQ)/subdir; \\", "originalCommit": "1b7f04f9ab2569be4e8247c7cbfe2828805eff6a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMDMxMw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r461100313", "bodyText": "Please make s390  a variable. It changes based on SPEC", "author": "llxia", "createdAt": "2020-07-27T18:54:11Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,43 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/subdir/jre/\n+ ifneq (,$(findstring zos_390-64, $(SPEC)))\n+  ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+   PATH_TO_LIB=$(REPORTDIR_NQ)/subdir/jre/bin/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390x/compressedrefs\n+   LIBJ9IFA29=/jre/lib/s390x/compressedrefs/libj9ifa29.so\n+  else \n+   PATH_TO_LIB=$(REPORTDIR_NQ)/subdir/jre/bin/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390x/default/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390x/default\n+   LIBJ9IFA29=/jre/lib/s390x/default/libj9ifa29.so\n+  endif\n+ else\n+  PATH_TO_LIB=$(REPORTDIR_NQ)/subdir/jre/bin/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390/default/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390/default", "originalCommit": "1b7f04f9ab2569be4e8247c7cbfe2828805eff6a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMTc5NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r461101794", "bodyText": "Please use TEST_JAVA  instead of $(REPORTDIR_NQ)/subdir/jre. The same for the rest code.", "author": "llxia", "createdAt": "2020-07-27T18:56:50Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,43 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/subdir/jre/\n+ ifneq (,$(findstring zos_390-64, $(SPEC)))\n+  ifneq (,$(findstring cmprssptrs,$(SPEC))) \n+   PATH_TO_LIB=$(REPORTDIR_NQ)/subdir/jre/bin/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390x/compressedrefs/j9vm:$(REPORTDIR_NQ)/subdir/jre/lib/s390x/compressedrefs", "originalCommit": "1b7f04f9ab2569be4e8247c7cbfe2828805eff6a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2ad37a3a5943172df368c4d784dd047861adb000", "url": "https://github.com/eclipse-openj9/openj9/commit/2ad37a3a5943172df368c4d784dd047861adb000", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T19:59:30Z", "type": "forcePushed"}, {"oid": "f47c78527981c75b8f128786d16b20e80563497a", "url": "https://github.com/eclipse-openj9/openj9/commit/f47c78527981c75b8f128786d16b20e80563497a", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-27T20:09:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MzMyOA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r461683328", "bodyText": "You can use ifneq (,$(findstring -64, $(SPEC))), so the code is more explicit.", "author": "renfeiw", "createdAt": "2020-07-28T15:44:06Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,43 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/testJava/jre/\n+ ifneq (,$(findstring zos_390-64, $(SPEC)))", "originalCommit": "f47c78527981c75b8f128786d16b20e80563497a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4NTY3NQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10251#discussion_r461685675", "bodyText": "Usually, we don't have the last / in a variable (i.e., TEST_JAVA). We add / when you use it like this: $(TEST_JAVA)/bin/j9vm. So it's more readable.", "author": "renfeiw", "createdAt": "2020-07-28T15:47:24Z", "path": "test/functional/NativeTest/nativeTestSettings.mk", "diffHunk": "@@ -0,0 +1,43 @@\n+\n+##############################################################################\n+#  Copyright (c) 2020, 2020 IBM Corp. and others\n+\n+#  This program and the accompanying materials are made available under\n+#  the terms of the Eclipse Public License 2.0 which accompanies this\n+#  distribution and is available at https://www.eclipse.org/legal/epl-2.0/\n+#  or the Apache License, Version 2.0 which accompanies this distribution and\n+#  is available at https://www.apache.org/licenses/LICENSE-2.0.\n+#\n+#  This Source Code may also be made available under the following\n+#  Secondary Licenses when the conditions for such availability set\n+#  forth in the Eclipse Public License, v. 2.0 are satisfied: GNU\n+#  General Public License, version 2 with the GNU Classpath\n+#  Exception [1] and GNU General Public License, version 2 with the\n+#  OpenJDK Assembly Exception [2].\n+#\n+#  [1] https://www.gnu.org/software/classpath/license.html\n+#  [2] http://openjdk.java.net/legal/assembly-exception.html\n+#\n+#  SPDX-License-Identifier: EPL-2.0 OR Apache-2.0\n+##############################################################################\n+\n+ # if JDK_VERSION is 8\n+ifeq (8, $(JDK_VERSION))\n+ TEST_JAVA=$(REPORTDIR_NQ)/testJava/jre/", "originalCommit": "f47c78527981c75b8f128786d16b20e80563497a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1fc2d80cc02a6862dc31a60d61dcd32b8cfabbd8", "url": "https://github.com/eclipse-openj9/openj9/commit/1fc2d80cc02a6862dc31a60d61dcd32b8cfabbd8", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-28T16:09:50Z", "type": "commit"}, {"oid": "1fc2d80cc02a6862dc31a60d61dcd32b8cfabbd8", "url": "https://github.com/eclipse-openj9/openj9/commit/1fc2d80cc02a6862dc31a60d61dcd32b8cfabbd8", "message": "Migrate TestInvtest to OpenJ9\n\n- Add target for TestInvtest in playlist.xml\n- Added makefile to account for variable dependencies based on spec and version\n\nSigned-off-by: Nikola Milijevic <nmilijev@uwaterloo.ca>", "committedDate": "2020-07-28T16:09:50Z", "type": "forcePushed"}]}