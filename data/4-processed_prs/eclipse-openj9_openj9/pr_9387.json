{"pr_number": 9387, "pr_title": "Improve jitdump diagnostic messages and function names", "pr_createdAt": "2020-04-28T16:56:19Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/9387", "timeline": [{"oid": "795951716b70ce422be4d0c7c26838c80f5de210", "url": "https://github.com/eclipse-openj9/openj9/commit/795951716b70ce422be4d0c7c26838c80f5de210", "message": "Improve jitdump diagnostic messages and function names\n\n- Properly report jitdump request in the same way as javacore\n- Refactor functio names to have the same naming pattern as other dump agents\n- Use correct return types\n- Remove prefixes when printing verbose information as the `writeLineLocked` API already prints the prefix for us\n\nSigned-off-by: Filip Jeremic <fjeremic@ca.ibm.com>", "committedDate": "2020-04-28T16:58:53Z", "type": "commit"}, {"oid": "795951716b70ce422be4d0c7c26838c80f5de210", "url": "https://github.com/eclipse-openj9/openj9/commit/795951716b70ce422be4d0c7c26838c80f5de210", "message": "Improve jitdump diagnostic messages and function names\n\n- Properly report jitdump request in the same way as javacore\n- Refactor functio names to have the same naming pattern as other dump agents\n- Use correct return types\n- Remove prefixes when printing verbose information as the `writeLineLocked` API already prints the prefix for us\n\nSigned-off-by: Filip Jeremic <fjeremic@ca.ibm.com>", "committedDate": "2020-04-28T16:58:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5MzQzMA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9387#discussion_r416793430", "bodyText": "What was the reason you passed in the agent? It looks to be unused in runJitdump.", "author": "dsouzai", "createdAt": "2020-04-28T17:27:29Z", "path": "runtime/compiler/control/JitDump.cpp", "diffHunk": "@@ -341,9 +341,11 @@ static TR_CompilationErrorCode recompileMethodForLog(\n    return compErrCode;\n    }\n \n-/// Dumps JIT-specific crash info\n-IDATA dumpJitInfo(J9VMThread *crashedThread, char *logFileLabel, J9RASdumpContext *context)\n+omr_error_t\n+runJitdump(char *label, J9RASdumpContext *context, J9RASdumpAgent *agent)", "originalCommit": "795951716b70ce422be4d0c7c26838c80f5de210", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5OTI5NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/9387#discussion_r416799294", "bodyText": "This was done for two reasons:\n\nTo stay consistent with other dump agents [1]\nFor future changes where we will allow additional sub-options to be passed to -Xdump:jit to have finer control over jitdump generation process\n\n[1] https://github.com/eclipse/openj9/blob/2054d856333aab1b46166f989e1ee904622b7930/runtime/rasdump/dmpagent.c#L453-L454", "author": "fjeremic", "createdAt": "2020-04-28T17:36:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5MzQzMA=="}], "type": "inlineReview"}]}