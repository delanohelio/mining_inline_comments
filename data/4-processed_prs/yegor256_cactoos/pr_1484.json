{"pr_number": 1484, "pr_title": "Add IsEmpty to check if Text is empty or not", "pr_createdAt": "2020-10-15T20:26:41Z", "pr_url": "https://github.com/yegor256/cactoos/pull/1484", "timeline": [{"oid": "95054e20f9bfabe08e7ef8b6a2bdafc7d4712ba7", "url": "https://github.com/yegor256/cactoos/commit/95054e20f9bfabe08e7ef8b6a2bdafc7d4712ba7", "message": "Add IsEmpty to check if Text is empty or not\n\nSigned-off-by: kokodyn <kokodyn@gmail.com>", "committedDate": "2020-10-15T20:08:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjAwNw==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r505886007", "bodyText": "@kokodyn\nHow is this class practical? Can we use it somewhere in the code base?\nFor example we could use Func<Text, Boolean> here https://github.com/llorllale/cactoos-matchers/blob/master/src/main/java/org/llorllale/cactoos/matchers/HasValuesMatching.java#L56. I guess technically you can pass it there as a method reference IsEmpty::new.\nBut having Scalar<Boolean> in order to check is a bad idea imo, it creates short-lived objects.", "author": "andreoss", "createdAt": "2020-10-15T21:52:31Z", "path": "src/main/java/org/cactoos/text/IsEmpty.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * The MIT License (MIT)\n+ *\n+ * Copyright (c) 2017-2020 Yegor Bugayenko\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included\n+ * in all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package org.cactoos.text;\n+\n+import org.cactoos.Scalar;\n+import org.cactoos.Text;\n+\n+/**\n+ * Determines if text is empty or no.\n+ * @since 0.47\n+ */\n+public final class IsEmpty implements Scalar<Boolean> {", "originalCommit": "95054e20f9bfabe08e7ef8b6a2bdafc7d4712ba7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA4MzE0MQ==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r506083141", "bodyText": "@kokodyn @andreoss let's keep it as a scalar for now, if short lived objects were a problem we would have to throw most of cactoos away :) (btw the JVM is very good at optimizing memory and execution for short lived objects)", "author": "victornoel", "createdAt": "2020-10-16T06:27:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjAwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYzOTAxMw==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r506639013", "bodyText": "@andreoss @victornoel\nPractical using IsEmpty class to create matcher in org.llorllale.cactoos.matchers;\nTextIsEmpty\nand then instead of using of new matcher:\n new Assertion<>( \"The result text wasn't empty\", new TextOf(input), new TextIs(\"\") ).affirm();\nLike here:\nhttps://github.com/yegor256/cactoos/blob/master/src/test/java/org/cactoos/io/HeadInputStreamTest.java#L79\nWe would use:\n        new Assertion<>( \"The result text wasn't empty\", new TextOf(input), new TextIsEmpty() ).affirm();\nI think it is much more readable with using IsEmpty", "author": "kokodyn", "createdAt": "2020-10-16T18:00:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjAwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjM4MQ==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r505886381", "bodyText": "@kokodyn Some kind of typo here and at 48", "author": "andreoss", "createdAt": "2020-10-15T21:53:24Z", "path": "src/test/java/org/cactoos/text/IsEmptyTest.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+ * The MIT License (MIT)\n+ *\n+ * Copyright (c) 2017-2020 Yegor Bugayenko\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included\n+ * in all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package org.cactoos.text;\n+\n+import org.junit.jupiter.api.Test;\n+import org.llorllale.cactoos.matchers.Assertion;\n+import org.llorllale.cactoos.matchers.ScalarHasValue;\n+\n+/**\n+ * Test case for {@link IsEmpty}.\n+ * @since 0.47\n+ */\n+final class IsEmptyTest {\n+\n+    @Test\n+    void determinesEmptyText() {\n+        new Assertion<>(\n+            \"Must determine empty text\",\n+            new IsEmpty(new TextOf(\"\")),\n+            new ScalarHasValue<>(Boolean.TRUE)\n+        ).affirm();\n+    }\n+\n+    @Test\n+    void determinesNonemptyText() {\n+        new Assertion<>(\n+            \"Must't detect nonempty text\",\n+            new IsEmpty(new TextOf(\"abc\")),\n+            new ScalarHasValue<>(Boolean.FALSE)\n+        ).affirm();\n+    }\n+\n+    @Test\n+    void determinesBlankText() {\n+        new Assertion<>(\n+            \"Must't detect blank text\",", "originalCommit": "95054e20f9bfabe08e7ef8b6a2bdafc7d4712ba7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjcyMjUzMA==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r506722530", "bodyText": "@andreoss fixed", "author": "kokodyn", "createdAt": "2020-10-16T21:09:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjM4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjY4Nw==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r505886687", "bodyText": "@kokodyn origin is a good name for a decorated object. Here it's not the case", "author": "andreoss", "createdAt": "2020-10-15T21:54:13Z", "path": "src/main/java/org/cactoos/text/IsEmpty.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * The MIT License (MIT)\n+ *\n+ * Copyright (c) 2017-2020 Yegor Bugayenko\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included\n+ * in all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package org.cactoos.text;\n+\n+import org.cactoos.Scalar;\n+import org.cactoos.Text;\n+\n+/**\n+ * Determines if text is empty or no.\n+ * @since 0.47\n+ */\n+public final class IsEmpty implements Scalar<Boolean> {\n+\n+    /**\n+     * The text.\n+     */\n+    private final Text origin;", "originalCommit": "95054e20f9bfabe08e7ef8b6a2bdafc7d4712ba7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYxNDE4Mw==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r506614183", "bodyText": "@andreoss\nI see in most classes implementing Scalar we use \"orgin\". For example\nhttps://github.com/yegor256/cactoos/blob/master/src/main/java/org/cactoos/text/IsBlank.java\nI have no idea for a better name\nCould you propose better name, please?", "author": "kokodyn", "createdAt": "2020-10-16T17:18:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY1MjQ1Mg==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r506652452", "bodyText": "@kokodyn I would use txt or text. origin seems strange for a regular dependency.", "author": "andreoss", "createdAt": "2020-10-16T18:27:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjcyMzM3Nw==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r506723377", "bodyText": "@andreoss fixed", "author": "kokodyn", "createdAt": "2020-10-16T21:12:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg4NjY4Nw=="}], "type": "inlineReview"}, {"oid": "b69f526c8891e640ffbe6c8da1375d961f5bb8f1", "url": "https://github.com/yegor256/cactoos/commit/b69f526c8891e640ffbe6c8da1375d961f5bb8f1", "message": "Fix typo in IsEmptyTest\n\nSigned-off-by: kokodyn <kokodyn@gmail.com>", "committedDate": "2020-10-16T18:30:50Z", "type": "commit"}, {"oid": "cca84c0b792346a1bafd401beab675e71fe4afe0", "url": "https://github.com/yegor256/cactoos/commit/cca84c0b792346a1bafd401beab675e71fe4afe0", "message": "Change var name origin -> txt\n\nSigned-off-by: kokodyn <kokodyn@gmail.com>", "committedDate": "2020-10-16T21:11:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3NzA4OQ==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r507077089", "bodyText": "@kokodyn proper english is \"empty or not\"", "author": "victornoel", "createdAt": "2020-10-18T10:14:30Z", "path": "src/main/java/org/cactoos/text/IsEmpty.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * The MIT License (MIT)\n+ *\n+ * Copyright (c) 2017-2020 Yegor Bugayenko\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included\n+ * in all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package org.cactoos.text;\n+\n+import org.cactoos.Scalar;\n+import org.cactoos.Text;\n+\n+/**\n+ * Determines if text is empty or no.", "originalCommit": "cca84c0b792346a1bafd401beab675e71fe4afe0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyODQwNg==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r507128406", "bodyText": "@victornoel done", "author": "kokodyn", "createdAt": "2020-10-18T12:32:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3NzA4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3ODExOQ==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r507078119", "bodyText": "@kokodyn can you add a @see for IsBlank (and one in IsBlank for IsEmpty).", "author": "victornoel", "createdAt": "2020-10-18T10:16:45Z", "path": "src/main/java/org/cactoos/text/IsEmpty.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * The MIT License (MIT)\n+ *\n+ * Copyright (c) 2017-2020 Yegor Bugayenko\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included\n+ * in all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package org.cactoos.text;\n+\n+import org.cactoos.Scalar;\n+import org.cactoos.Text;\n+\n+/**\n+ * Determines if text is empty or no.\n+ * @since 0.47", "originalCommit": "cca84c0b792346a1bafd401beab675e71fe4afe0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyODM3Mg==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r507128372", "bodyText": "@victornoel done", "author": "kokodyn", "createdAt": "2020-10-18T12:32:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3ODExOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3ODQ3Mw==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r507078473", "bodyText": "@kokodyn can you not abbreviate and just put \"Must not\" (same in the test below) and also \"non-empty\".", "author": "victornoel", "createdAt": "2020-10-18T10:17:38Z", "path": "src/test/java/org/cactoos/text/IsEmptyTest.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+ * The MIT License (MIT)\n+ *\n+ * Copyright (c) 2017-2020 Yegor Bugayenko\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included\n+ * in all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package org.cactoos.text;\n+\n+import org.junit.jupiter.api.Test;\n+import org.llorllale.cactoos.matchers.Assertion;\n+import org.llorllale.cactoos.matchers.ScalarHasValue;\n+\n+/**\n+ * Test case for {@link IsEmpty}.\n+ * @since 0.47\n+ */\n+final class IsEmptyTest {\n+\n+    @Test\n+    void determinesEmptyText() {\n+        new Assertion<>(\n+            \"Must determine empty text\",\n+            new IsEmpty(new TextOf(\"\")),\n+            new ScalarHasValue<>(Boolean.TRUE)\n+        ).affirm();\n+    }\n+\n+    @Test\n+    void determinesNonemptyText() {\n+        new Assertion<>(\n+            \"Mustn't detect nonempty text\",", "originalCommit": "cca84c0b792346a1bafd401beab675e71fe4afe0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEyODM0OA==", "url": "https://github.com/yegor256/cactoos/pull/1484#discussion_r507128348", "bodyText": "@victornoel done", "author": "kokodyn", "createdAt": "2020-10-18T12:32:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA3ODQ3Mw=="}], "type": "inlineReview"}, {"oid": "bb65d3c6f9f6257b468c41601581f10a31f2ee9c", "url": "https://github.com/yegor256/cactoos/commit/bb65d3c6f9f6257b468c41601581f10a31f2ee9c", "message": "fix typo and adding @see annotation\n\nSigned-off-by: kokodyn <kokodyn@gmail.com>", "committedDate": "2020-10-18T12:30:21Z", "type": "commit"}]}