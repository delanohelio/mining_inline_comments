{"pr_number": 8125, "pr_title": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "pr_createdAt": "2020-04-18T17:24:52Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8125", "timeline": [{"oid": "28f40df283f28f16d27ad931a0a362c3a937aaad", "url": "https://github.com/checkstyle/checkstyle/commit/28f40df283f28f16d27ad931a0a362c3a937aaad", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-18T18:48:55Z", "type": "forcePushed"}, {"oid": "e15521f2dd62242a0428589c99d8ccbc066d786c", "url": "https://github.com/checkstyle/checkstyle/commit/e15521f2dd62242a0428589c99d8ccbc066d786c", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-18T19:43:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDgyNzE3Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410827173", "bodyText": "can you indent this file with spaces instead of tabs?", "author": "esilkensen", "createdAt": "2020-04-19T06:08:29Z", "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/whitespace/nowhitespacebefore/InputNoWhitespaceBeforeLabel.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.puppycrawl.tools.checkstyle.checks.whitespace.nowhitespacebefore;\n+\n+class InputNoWhitespaceBeforeLabel {\n+\n+\t{\n+\t\tlabel1 : // violation", "originalCommit": "e15521f2dd62242a0428589c99d8ccbc066d786c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDgzNjc1MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410836751", "bodyText": "Done.", "author": "wilcoln", "createdAt": "2020-04-19T07:10:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDgyNzE3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDgzNzA5NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410837095", "bodyText": "code change looks good to me, but the issue #8124 needs to be approved\n\nI understand.", "author": "wilcoln", "createdAt": "2020-04-19T07:11:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDgyNzE3Mw=="}], "type": "inlineReview"}, {"oid": "5f1e94521f092ed99c2488e661d8246bdd65dbab", "url": "https://github.com/checkstyle/checkstyle/commit/5f1e94521f092ed99c2488e661d8246bdd65dbab", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-19T07:09:10Z", "type": "forcePushed"}, {"oid": "161cbdb33e23aeb9b9d0f0a8cb02cbca0ffa00aa", "url": "https://github.com/checkstyle/checkstyle/commit/161cbdb33e23aeb9b9d0f0a8cb02cbca0ffa00aa", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-19T07:09:46Z", "type": "forcePushed"}, {"oid": "92c81333fda4f66fb6faa0e38f06e6a0bd4d9f8d", "url": "https://github.com/checkstyle/checkstyle/commit/92c81333fda4f66fb6faa0e38f06e6a0bd4d9f8d", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-19T07:35:06Z", "type": "forcePushed"}, {"oid": "42a2d16d33b8d0a47fa7261ac46d39ee2886fe09", "url": "https://github.com/checkstyle/checkstyle/commit/42a2d16d33b8d0a47fa7261ac46d39ee2886fe09", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-19T07:39:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4NTk1Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410885953", "bodyText": "I see no reason for separate example. This token is enabled by default, please add it to default example", "author": "strkkk", "createdAt": "2020-04-19T11:46:52Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/whitespace/NoWhitespaceBeforeCheck.java", "diffHunk": "@@ -133,6 +135,28 @@\n  *        .listIterator()\n  *        .forEachRemaining(System.out::print); // OK\n  * </pre>\n+ * <p>\n+ *     To Configure the check to restrict the use of whitespace before\n+ *     LABELED_STAT tokens:", "originalCommit": "42a2d16d33b8d0a47fa7261ac46d39ee2886fe09", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDkxMDA0OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410910049", "bodyText": "Done.", "author": "wilcoln", "createdAt": "2020-04-19T13:48:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4NTk1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4NjA1Mg==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410886052", "bodyText": "I know that labels can be before any statement, but for example it is better to show it with loops.", "author": "strkkk", "createdAt": "2020-04-19T11:47:41Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/whitespace/NoWhitespaceBeforeCheck.java", "diffHunk": "@@ -133,6 +135,28 @@\n  *        .listIterator()\n  *        .forEachRemaining(System.out::print); // OK\n  * </pre>\n+ * <p>\n+ *     To Configure the check to restrict the use of whitespace before\n+ *     LABELED_STAT tokens:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;NoWhitespaceBefore&quot;&gt;\n+ *   &lt;property name=&quot;tokens&quot; value=&quot;LABELED_STAT&quot;/&gt;\n+ * &lt;/module&gt;\n+ * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class Foo {\n+ *   {\n+ *     label1 : // violation, whitespace before ':' is not allowed\n+ *     System.out.println();\n+ *   }\n+ *   {\n+ *     label2: // OK\n+ *     System.out.println();", "originalCommit": "42a2d16d33b8d0a47fa7261ac46d39ee2886fe09", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDkxMDAyNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410910026", "bodyText": "Done.", "author": "wilcoln", "createdAt": "2020-04-19T13:48:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4NjA1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4NjIyOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410886229", "bodyText": "again, you can just extend UT for default config, no need for separate test case", "author": "strkkk", "createdAt": "2020-04-19T11:48:31Z", "path": "src/test/java/com/puppycrawl/tools/checkstyle/checks/whitespace/NoWhitespaceBeforeCheckTest.java", "diffHunk": "@@ -126,4 +126,14 @@ public void testEmptyForLoop() throws Exception {\n         verify(checkConfig, getPath(\"InputNoWhitespaceBeforeEmptyForLoop.java\"), expected);\n     }\n \n+    @Test\n+    public void testLabel() throws Exception {\n+        final DefaultConfiguration checkConfig = createModuleConfig(NoWhitespaceBeforeCheck.class);\n+        checkConfig.addAttribute(\"tokens\", \"LABELED_STAT\");\n+        final String[] expected = {\n+            \"6:16: \" + getCheckMessage(MSG_KEY, \":\"),\n+        };\n+        verify(checkConfig, getPath(\"InputNoWhitespaceBeforeLabel.java\"), expected);", "originalCommit": "42a2d16d33b8d0a47fa7261ac46d39ee2886fe09", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDkxMDA0NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r410910045", "bodyText": "Done.", "author": "wilcoln", "createdAt": "2020-04-19T13:48:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4NjIyOQ=="}], "type": "inlineReview"}, {"oid": "dd20225cb8e8a921d752a691e883672a00792c4c", "url": "https://github.com/checkstyle/checkstyle/commit/dd20225cb8e8a921d752a691e883672a00792c4c", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-19T13:47:23Z", "type": "forcePushed"}, {"oid": "c7cdfaf3de3c3606e3583987ecf46eee89033a1d", "url": "https://github.com/checkstyle/checkstyle/commit/c7cdfaf3de3c3606e3583987ecf46eee89033a1d", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-21T12:57:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI3NjcwNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r412276706", "bodyText": "please update google IT  input for this Check.\nWe need to have in Inputs all cases to immediately see affect on google is any regression is about to happen.", "author": "romani", "createdAt": "2020-04-21T15:16:48Z", "path": "src/main/resources/google_checks.xml", "diffHunk": "@@ -251,7 +251,8 @@\n         </module>\n         <module name=\"NoWhitespaceBefore\">\n             <property name=\"tokens\"\n-             value=\"COMMA, SEMI, POST_INC, POST_DEC, DOT, ELLIPSIS, METHOD_REF\"/>\n+             value=\"COMMA, SEMI, POST_INC, POST_DEC, DOT, ELLIPSIS,\n+                    LABELED_STAT, METHOD_REF\"/>", "originalCommit": "c7cdfaf3de3c3606e3583987ecf46eee89033a1d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI5NjM4MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8125#discussion_r412296380", "bodyText": "Done.", "author": "wilcoln", "createdAt": "2020-04-21T15:58:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI3NjcwNg=="}], "type": "inlineReview"}, {"oid": "aca7d0f8e33f8e739b1e59eed4567355087d8ad1", "url": "https://github.com/checkstyle/checkstyle/commit/aca7d0f8e33f8e739b1e59eed4567355087d8ad1", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-21T16:05:43Z", "type": "forcePushed"}, {"oid": "1a9657eeb6b8230e910ed50252e417b0340df6d4", "url": "https://github.com/checkstyle/checkstyle/commit/1a9657eeb6b8230e910ed50252e417b0340df6d4", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-21T17:58:23Z", "type": "commit"}, {"oid": "1a9657eeb6b8230e910ed50252e417b0340df6d4", "url": "https://github.com/checkstyle/checkstyle/commit/1a9657eeb6b8230e910ed50252e417b0340df6d4", "message": "Issue #8124: Add LABELED_STAT token support to NoWhitespaceBefore", "committedDate": "2020-04-21T17:58:23Z", "type": "forcePushed"}]}