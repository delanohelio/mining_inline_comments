{"pr_number": 9092, "pr_title": "Issue #9086: ForceStrictCondition should not affect individual array elements", "pr_createdAt": "2020-12-09T20:32:31Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/9092", "timeline": [{"oid": "b86bc27e8071a87dbb1c0d4f24aa5ba02237f323", "url": "https://github.com/checkstyle/checkstyle/commit/b86bc27e8071a87dbb1c0d4f24aa5ba02237f323", "message": "Issue #9086: ForceStrictCondition should not affect individual array elements", "committedDate": "2020-12-09T20:39:18Z", "type": "forcePushed"}, {"oid": "c22e630561cd7f16b73927a85dada201a65f463e", "url": "https://github.com/checkstyle/checkstyle/commit/c22e630561cd7f16b73927a85dada201a65f463e", "message": "Issue #9086: ForceStrictCondition should not affect individual array elements", "committedDate": "2020-12-09T21:35:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwNDE3OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9092#discussion_r546804179", "bodyText": "please avoid updating unrelated lines", "author": "romani", "createdAt": "2020-12-21T16:30:18Z", "path": "src/test/java/com/puppycrawl/tools/checkstyle/checks/indentation/IndentationCheckTest.java", "diffHunk": "@@ -1107,78 +1127,16 @@ public void testInvalidArrayInitWithChecker()\n             \"111:11: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 10, 12),\n             \"112:7: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization rcurly\", 6, \"8, 12\"),\n             // following are tests for annotation array initialisation\n-            \"120:13: \" + getCheckMessage(MSG_CHILD_ERROR, \"annotation array initialization\",\n-                    12, 16),\n-            \"128:15: \" + getCheckMessage(MSG_CHILD_ERROR, \"annotation array initialization\",\n-                    14, 16),\n-            \"129:9: \" + getCheckMessage(MSG_ERROR_MULTI, \"annotation array initialization rcurly\",\n-                8, \"12, 16\"),\n-            \"131:13: \" + getCheckMessage(MSG_CHILD_ERROR, \"annotation array initialization\",\n-                    12, 16),\n-        };\n-\n-        // Test input for this test case is not checked due to issue #693.\n-        verify(checkConfig, fileName, expected);\n-    }\n-\n-    @Test\n-    public void testInvalidArrayInitWithTrueStrictCondition()\n-            throws Exception {\n-        final DefaultConfiguration checkConfig = createModuleConfig(IndentationCheck.class);\n-\n-        checkConfig.addAttribute(\"arrayInitIndent\", \"4\");\n-        checkConfig.addAttribute(\"basicOffset\", \"4\");\n-        checkConfig.addAttribute(\"braceAdjustment\", \"0\");\n-        checkConfig.addAttribute(\"caseIndent\", \"4\");\n-        checkConfig.addAttribute(\"forceStrictCondition\", \"true\");\n-        checkConfig.addAttribute(\"lineWrappingIndentation\", \"4\");\n-        checkConfig.addAttribute(\"tabWidth\", \"4\");\n-        checkConfig.addAttribute(\"throwsIndent\", \"4\");\n-        final String fileName = getPath(\"InputIndentationInvalidArrayInitIndent.java\");\n-        final String[] expected = {\n-            \"21:3: \" + getCheckMessage(MSG_ERROR, \"member def type\", 2, 4),\n-            \"22:7: \" + getCheckMessage(MSG_ERROR, \"member def type\", 6, 4),\n-            \"24:3: \" + getCheckMessage(MSG_ERROR, \"member def type\", 2, 4),\n-            \"28:7: \" + getCheckMessage(MSG_ERROR, \"member def type\", 6, 4),\n-            \"29:9: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 8, 10),\n-            \"30:5: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization rcurly\", 4, \"6, 10\"),\n-            \"33:10: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 9, 8),\n-            \"34:8: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 7, 8),\n-            \"35:10: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 9, 8),\n-            \"40:3: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization lcurly\", 2, \"4, 8\"),\n-            \"44:7: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization rcurly\", 6, \"4, 8\"),\n-            \"48:3: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization lcurly\", 2, \"4, 8\"),\n-            \"52:21: \" + getCheckMessage(MSG_CHILD_ERROR_MULTI, \"array initialization\", 20,\n-                \"8, 31, 33\"),\n-            \"53:5: \" + getCheckMessage(MSG_CHILD_ERROR_MULTI, \"array initialization\",\n-                4, \"8, 31, 33\"),\n-            \"58:7: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 6, 8),\n-            \"63:3: \" + getCheckMessage(MSG_ERROR, \"member def type\", 2, 4),\n-            \"65:7: \" + getCheckMessage(MSG_ERROR, \"member def type\", 6, 4),\n-            \"66:3: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization rcurly\", 2, \"6, 10\"),\n-            \"69:7: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 6, 8),\n-            \"76:11: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 10, 12),\n-            \"89:9: \" + getCheckMessage(MSG_ERROR, \"1\", 8, 12),\n-            \"100:11: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 10, 12),\n-            \"101:15: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 14, 12),\n-            \"104:11: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 10, 12),\n-            \"105:15: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 14, 12),\n-            \"106:7: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization rcurly\", 6, \"8, 12\"),\n-            \"109:7: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization lcurly\", 6, \"8, 12\"),\n-            \"110:15: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 14, 12),\n-            \"111:11: \" + getCheckMessage(MSG_CHILD_ERROR, \"array initialization\", 10, 12),\n-            \"112:7: \" + getCheckMessage(MSG_ERROR_MULTI, \"array initialization rcurly\", 6, \"8, 12\"),\n-            // following are tests for annotation array initialisation\n             \"120:13: \" + getCheckMessage(MSG_CHILD_ERROR_MULTI, \"annotation array initialization\",\n-                12, \"16, 46, 48\"),\n+                    12, \"16, 46, 48\"),\n             \"124:15: \" + getCheckMessage(MSG_CHILD_ERROR, \"annotation array initialization\",\n-                14, 12),\n+                    14, 12),\n             \"128:15: \" + getCheckMessage(MSG_CHILD_ERROR_MULTI, \"annotation array initialization\",\n-                14, \"16, 28, 30\"),\n+                    14, \"16, 28, 30\"),\n             \"129:9: \" + getCheckMessage(MSG_ERROR_MULTI, \"annotation array initialization rcurly\",\n                 8, \"12, 16\"),\n             \"131:13: \" + getCheckMessage(MSG_CHILD_ERROR, \"annotation array initialization\",\n-                12, 16),\n+                    12, 16),", "originalCommit": "c22e630561cd7f16b73927a85dada201a65f463e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU2ODI3Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/9092#discussion_r547568273", "bodyText": "@Abhishek-kumar09 , please do", "author": "romani", "createdAt": "2020-12-23T00:16:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwNDE3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzkyMzg2OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9092#discussion_r547923869", "bodyText": "really sorry for doing it late.\nDone.", "author": "Abhishek-kumar09", "createdAt": "2020-12-23T11:58:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwNDE3OQ=="}], "type": "inlineReview"}, {"oid": "d7c81ee6f8b327483a56a498b6e736fb822ff5e6", "url": "https://github.com/checkstyle/checkstyle/commit/d7c81ee6f8b327483a56a498b6e736fb822ff5e6", "message": "Issue #9086: ForceStrictCondition should not affect individual array elements", "committedDate": "2020-12-23T11:57:13Z", "type": "commit"}, {"oid": "d7c81ee6f8b327483a56a498b6e736fb822ff5e6", "url": "https://github.com/checkstyle/checkstyle/commit/d7c81ee6f8b327483a56a498b6e736fb822ff5e6", "message": "Issue #9086: ForceStrictCondition should not affect individual array elements", "committedDate": "2020-12-23T11:57:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDYxNzMzNg==", "url": "https://github.com/checkstyle/checkstyle/pull/9092#discussion_r554617336", "bodyText": "is this line should be like this? I think there should be no user forks", "author": "strkkk", "createdAt": "2021-01-10T20:18:06Z", "path": ".ci/wercker.sh", "diffHunk": "@@ -61,10 +61,10 @@ no-error-pgjdbc)\n   CS_POM_VERSION=$(mvn -e -q -Dexec.executable='echo' -Dexec.args='${project.version}' \\\n                      --non-recursive org.codehaus.mojo:exec-maven-plugin:1.3.1:exec)\n   echo CS_version: ${CS_POM_VERSION}\n-  checkout_from https://github.com/pgjdbc/pgjdbc.git\n+  checkout_from https://github.com/Abhishek-kumar09/pgjdbc.git", "originalCommit": "d7c81ee6f8b327483a56a498b6e736fb822ff5e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDYyNzQ3NA==", "url": "https://github.com/checkstyle/checkstyle/pull/9092#discussion_r554627474", "bodyText": "We can keep it for a little, as @Abhishek-kumar09 become frequent contributor.\nPR to pgjdbc will be created after merge.\nThere are two updates to this project for indentation. So we will provide single PR to them.", "author": "romani", "createdAt": "2021-01-10T21:46:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDYxNzMzNg=="}], "type": "inlineReview"}]}