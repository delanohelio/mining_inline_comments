{"pr_number": 9136, "pr_title": "Issue #9131: Adding example for AvoidEscapedUnicodeCharacters", "pr_createdAt": "2020-12-26T09:41:25Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/9136", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NzI1ODcwMA==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r567258700", "bodyText": "please fix\n * String unitAbbrev = \"\u03bcs\";      // Best: perfectly clear even without a comment.\n * String unitAbbrev = \"&#92;u03bcs\"; // Poor: the reader has no idea what this is.\n\nto be (combine two example blocks)\n * String unitAbbrev = \"\u03bcs\";      // OK, perfectly clear even without a comment.\n * String unitAbbrev = \"&#92;u03bcs\"; // violation, the reader has no idea what this is.\n * return '\\ufeff' + content; // OK, an example of non-printable, control characters (byte order mark). \n\nplease use the same code block for each config. Please attentively\nhttps://github.com/checkstyle/checkstyle/wiki/Good-practice-on-how-to-update-examples \"ATTENTION\"\nyou will need to add to common code block some specific case like\nString unitAbbrev = \"\\u03bc\\u03bcs\"; // Violation, not all characters are escaped ('s').", "author": "romani", "createdAt": "2021-01-30T15:17:51Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -95,34 +95,41 @@\n  * &lt;/module&gt;\n  * </pre>\n  * <p>\n- * Example of using escapes with trail comment:", "originalCommit": "f4da1241bb32e7f9c2767bf3a47a8ec2e85c8591", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTUzMTkxNQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r571531915", "bodyText": "done", "author": "Vyom-Yadav", "createdAt": "2021-02-07T04:08:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NzI1ODcwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NzI2MDcxNg==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r567260716", "bodyText": "please keep escaping &#92 to woraround Teamcity validator.", "author": "romani", "createdAt": "2021-01-30T15:24:29Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -95,34 +95,41 @@\n  * &lt;/module&gt;\n  * </pre>\n  * <p>\n- * Example of using escapes with trail comment:\n+ * Example of using escapes for non-printable, control characters:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bcs\"; // Greek letter mu, \"s\"\n- * String textBlockUnitAbbrev = \"\"\"\n- *          &#92;u03bcs\"\"\"; // Greek letter mu, \"s\"\n+ * String unitAbbrev = \"\\ufeff\"; // OK\n  * </pre>\n- * <p>An example of how to configure the check to allow using escapes\n+ * <p>\n+ * An example of how to configure the check to allow using escapes\n  * if trail comment is present:\n  * </p>\n  * <pre>\n  * &lt;module name=\"AvoidEscapedUnicodeCharacters\"&gt;\n  *   &lt;property name=\"allowByTailComment\" value=\"true\"/&gt;\n  * &lt;/module&gt;\n  * </pre>\n- * <p>Example of using escapes if literal contains only them:\n+ * <p>Example of using escapes if trail comment is present:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bc&#92;u03bc&#92;u03bc\";\n+ * String unitAbbrev = \"\\u03bcs\"; // Greek letter mu, \"s\"", "originalCommit": "f4da1241bb32e7f9c2767bf3a47a8ec2e85c8591", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTUzMTg5NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r571531895", "bodyText": "done", "author": "Vyom-Yadav", "createdAt": "2021-02-07T04:08:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NzI2MDcxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTcxNDg1Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r571714853", "bodyText": "look at https://checkstyle-diff-reports.s3.us-east-2.amazonaws.com/AvoidEscapedUnicodeCharacters_2021045318/config_misc.html#AvoidEscapedUnicodeCharacters_Examples\ntrailing comment are hard to read because they are not vertically aligned.\ncan we make it looks like:\n * String unitAbbrev = \"\u03bcs\";          // OK, perfectly clear even without a comment.\n * String unitAbbrev = \"&#92;u03bcs\"; // violation, the reader has no idea what this is.\n\nit is ok to not todo this for lines that are too long and exceed limit of LineLength Check.\nplease apply this for all examples you provide.", "author": "romani", "createdAt": "2021-02-07T23:03:47Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -77,14 +77,10 @@\n  * <p>\n  * Examples of using Unicode:</p>\n  * <pre>\n- * String unitAbbrev = \"\u03bcs\";      // Best: perfectly clear even without a comment.\n- * String unitAbbrev = \"&#92;u03bcs\"; // Poor: the reader has no idea what this is.\n- * </pre>\n- * <p>\n- * An example of non-printable, control characters.\n- * </p>\n- * <pre>\n- * return '&#92;ufeff' + content; // byte order mark\n+ * String unitAbbrev = \"\u03bcs\"; // OK, perfectly clear even without a comment.\n+ * String unitAbbrev = \"&#92;u03bcs\"; // violation, the reader has no idea what this is.\n+ * return '&#92;ufeff' + content; // OK, an example of non-printable,\n+ *                               // control characters (byte order mark).", "originalCommit": "9bbda3de520091810c0c6df1080c9cc9ff17ddda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTg5MjcxNg==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r571892716", "bodyText": "done", "author": "Vyom-Yadav", "createdAt": "2021-02-08T09:27:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTcxNDg1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTcxNDk3MA==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r571714970", "bodyText": "// OK, a normal String \nplease apply to all other lines like this.", "author": "romani", "createdAt": "2021-02-07T23:04:46Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -96,34 +92,47 @@\n  * &lt;/module&gt;\n  * </pre>\n  * <p>\n- * Example of using escapes with trail comment:\n+ * Example of using escapes for non-printable, control characters:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bcs\"; // Greek letter mu, \"s\"\n- * String textBlockUnitAbbrev = \"\"\"\n- *          &#92;u03bcs\"\"\"; // Greek letter mu, \"s\"\n+ * String unitAbbrev = \"\u03bcs\"; // No violation, a normal String", "originalCommit": "9bbda3de520091810c0c6df1080c9cc9ff17ddda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTg5MjY1Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r571892656", "bodyText": "done", "author": "Vyom-Yadav", "createdAt": "2021-02-08T09:27:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTcxNDk3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjA5Mzc1MA==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r572093750", "bodyText": "I still see \"no violation\" on some lines", "author": "romani", "createdAt": "2021-02-08T14:35:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTcxNDk3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzc3OTUyMQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r573779521", "bodyText": "// violation, .... (lowecase)\nlets be consistent on how comment starts", "author": "romani", "createdAt": "2021-02-10T14:39:25Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -96,34 +92,47 @@\n  * &lt;/module&gt;\n  * </pre>\n  * <p>\n- * Example of using escapes with trail comment:\n+ * Example of using escapes for non-printable, control characters:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bcs\"; // Greek letter mu, \"s\"\n- * String textBlockUnitAbbrev = \"\"\"\n- *          &#92;u03bcs\"\"\"; // Greek letter mu, \"s\"\n+ * String unitAbbrev = \"\u03bcs\";      // OK, a normal String\n+ * String unitAbbrev = \"&#92;u03bcs\"; // violation, \"&#92;u03bcs\" is a printable character.\n+ * return '&#92;ufeff' + content;     // OK, non-printable control character.\n  * </pre>\n- * <p>An example of how to configure the check to allow using escapes\n+ * <p>\n+ * An example of how to configure the check to allow using escapes\n  * if trail comment is present:\n  * </p>\n  * <pre>\n  * &lt;module name=\"AvoidEscapedUnicodeCharacters\"&gt;\n  *   &lt;property name=\"allowByTailComment\" value=\"true\"/&gt;\n  * &lt;/module&gt;\n  * </pre>\n- * <p>Example of using escapes if literal contains only them:\n+ * <p>Example of using escapes if trail comment is present:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bc&#92;u03bc&#92;u03bc\";\n+ * String unitAbbrev = \"\u03bcs\";      // OK, a normal String\n+ * String unitAbbrev = \"&#92;u03bcs\"; // Greek letter mu, \"s\" (No violation)\n+ * return '&#92;ufeff' + content;\n+ *                                // Violation, comment is not used within same line.", "originalCommit": "820ebf73e07ae7e25e34af0f645492af709e738c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjUzMDIwNw==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r576530207", "bodyText": "violation, on previous line, comment is..", "author": "romani", "createdAt": "2021-02-16T03:40:14Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -96,42 +92,63 @@\n  * &lt;/module&gt;\n  * </pre>\n  * <p>\n- * Example of using escapes with trail comment:\n+ * Example of using escapes for non-printable, control characters:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bcs\"; // Greek letter mu, \"s\"\n- * String textBlockUnitAbbrev = \"\"\"\n- *          &#92;u03bcs\"\"\"; // Greek letter mu, \"s\"\n+ * String unitAbbrev = \"\u03bcs\";      // OK, a normal String\n+ * String unitAbbrev = \"&#92;u03bcs\"; // violation, \"&#92;u03bcs\" is a printable character.\n+ * return '&#92;ufeff' + content;     // OK, non-printable control character.\n  * </pre>\n- * <p>An example of how to configure the check to allow using escapes\n+ * <p>\n+ * An example of how to configure the check to allow using escapes\n  * if trail comment is present:\n  * </p>\n  * <pre>\n  * &lt;module name=\"AvoidEscapedUnicodeCharacters\"&gt;\n  *   &lt;property name=\"allowByTailComment\" value=\"true\"/&gt;\n  * &lt;/module&gt;\n  * </pre>\n- * <p>Example of using escapes if literal contains only them:\n+ * <p>Example of using escapes if trail comment is present:\n  * </p>\n  * <pre>\n- * String unitAbbrev = \"&#92;u03bc&#92;u03bc&#92;u03bc\";\n+ * String unitAbbrev = \"\u03bcs\";      // OK, a normal String\n+ * String unitAbbrev = \"&#92;u03bcs\"; // OK, Greek letter mu, \"s\"\n+ * return '&#92;ufeff' + content;\n+ *                                // violation, comment is not used within same line.", "originalCommit": "e0703e841acc0256dd95aa69eb2cb7e9e4f8ede0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjU0OTIzNQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r576549235", "bodyText": "This example is for allow by tail comment, if I use a comment on the same line then it wouldn't be a violation. That's why I have not used the comment on the same line.\n// ---------^------------- violation, comment is not used within same line.\n\nI will do something like this to make it more clear", "author": "Vyom-Yadav", "createdAt": "2021-02-16T04:56:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjUzMDIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Njg5Mjc4NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/9136#discussion_r576892785", "bodyText": "I know, that is why I requested extra words like \"on previous line\"", "author": "romani", "createdAt": "2021-02-16T15:05:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjUzMDIwNw=="}], "type": "inlineReview"}, {"oid": "5299105a485ada6b4b727b22c12163a0640c5571", "url": "https://github.com/checkstyle/checkstyle/commit/5299105a485ada6b4b727b22c12163a0640c5571", "message": "Issue #9131: Adding example for AvoidEscapedUnicodeCharacters", "committedDate": "2021-02-16T05:15:18Z", "type": "commit"}]}