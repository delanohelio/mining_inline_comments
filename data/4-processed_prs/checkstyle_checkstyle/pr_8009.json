{"pr_number": 8009, "pr_title": "Issue #7987: use RegexpSingleline Check to validate amount of tests in Xpath tests", "pr_createdAt": "2020-04-01T15:38:33Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8009", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI3NTA0MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r405275040", "bodyText": "could probably be on same line as name=\"message\", or else indent +2 spaces", "author": "esilkensen", "createdAt": "2020-04-08T05:57:35Z", "path": "config/checkstyle_non_main_files_checks.xml", "diffHunk": "@@ -17,9 +17,22 @@\n     <!-- Miscellaneous -->\n     <module name=\"NewlineAtEndOfFile\" />\n     <module name=\"RegexpSingleline\">\n+      <property name=\"id\" value=\"lineLength\"/>\n       <!-- catch lines above 100 symbols -->\n       <property name=\"format\"\n                 value=\"^(?!(.*href|.*http|import|.* com.*|.*com/.*|.* files=)).{101,}$\"/>\n       <property name=\"message\" value=\"Line should not be longer than 100 symbols\"/>\n     </module>\n+\n+    <!-- check the number of testCases -->\n+    <module name=\"RegexpSingleline\">\n+      <property name=\"id\" value=\"numberOfTestCases\"/>\n+      <property name=\"format\" value=\"@Test\"/>\n+      <property name=\"minimum\" value=\"2\"/>\n+      <property name=\"maximum\" value=\"9999\"/>\n+      <property name=\"fileExtensions\" value=\"java\"/>\n+      <property name=\"message\"\n+              value=\"Two or more test cases are required\"/>", "originalCommit": "6a826b87ede5a63fead789c5350b15e63bfe8e8a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzM0OTA2NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r407349064", "bodyText": "could probably be on same line as name=\"message\", or else indent +2 spaces\n\ndone", "author": "malinthar", "createdAt": "2020-04-13T07:03:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI3NTA0MA=="}], "type": "inlineReview"}, {"oid": "1e545daac266fce3712a66a5f4861850c83df308", "url": "https://github.com/checkstyle/checkstyle/commit/1e545daac266fce3712a66a5f4861850c83df308", "message": "Issue #7987: use RegexpSingleline Check to validate amount of tests in Xpath tests", "committedDate": "2020-04-13T07:01:32Z", "type": "forcePushed"}, {"oid": "712858a5ba1123164c16a5b0f08ecf45b7f41f83", "url": "https://github.com/checkstyle/checkstyle/commit/712858a5ba1123164c16a5b0f08ecf45b7f41f83", "message": "Issue #7987: use RegexpSingleline Check to validate amount of tests in Xpath tests", "committedDate": "2020-04-14T05:44:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwNDM3MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r412204370", "bodyText": "until #8151", "author": "romani", "createdAt": "2020-04-21T13:53:24Z", "path": "config/checkstyle_non_main_files_suppressions.xml", "diffHunk": "@@ -44,64 +44,124 @@\n               files=\"[\\\\/]test[\\\\/].*[\\\\/]checks[\\\\/]uniqueproperties[\\\\/]InputUniquePropertiesWithDuplicates\\.properties\"/>\n \n     <!-- till https://issues.apache.org/jira/browse/MRELEASE-1008 -->\n-    <suppress checks=\"RegexpSingleline\" files=\"pom.xml\"/>\n+    <suppress id=\"lineLength\" files=\"pom.xml\"/>\n     <!-- this file is created by Appveyor CI after checkout -->\n-    <suppress checks=\"RegexpSingleline\" files=\"appveyor.cmd\"/>\n+    <suppress id=\"lineLength\" files=\"appveyor.cmd\"/>\n     <!-- test resources are weird by design, no validations in them -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]it[\\\\/]resources[\\\\/].*[\\\\/]InputLineLength.*\\.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]InputLineLength.*\\.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]grammar[\\\\/]comments[\\\\/].*\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]asttreestringprinter[\\\\/]InputAstTreeStringPrinterFullOfBlockComments\\.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]abstractjavadoc[\\\\/]InputAbstractJavadocPosition.*\\.java\"/>\n \n     <!-- we can not change expected as it will require change of main class logic -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/].*ExpectedXMLLogger.*\\.xml\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]ant[\\\\/]checkstyleanttask[\\\\/]ExpectedCheckstyleAntTaskXmlOutput\\.xml\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]checks[\\\\/]translation[\\\\/]Expected.*\\.xml\"/>\n \n     <!-- content is generated -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]xdocs[\\\\/]releasenotes_old.xml\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]xdocs[\\\\/]releasenotes.xml\"/>\n     <!-- it contains list of html text, no way to wrap -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\".ci[\\\\/]pitest.sh\"/>\n     <!-- property names a too long, nothing we can do -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"config[\\\\/]org.eclipse.jdt.core.prefs\"/>\n     <!-- there is no way to make line wrap in property value -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"config[\\\\/]intellij-idea-inspection-scope.xml\"/>\n \n     <!-- there is no way to make line wrap in property value -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]customimportorder\"/>\n \n     <!-- there is no way to make line wrap in property value -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources-noncompilable[\\\\/].*[\\\\/]customimportorder\"/>\n \n     <!-- untill https://github.com/checkstyle/checkstyle/issues/8036 -->\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"[\\\\/]InputFinalClassClassWithPrivateCtorWithNestedExtendingClass.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"[\\\\/]InputJavadocMethod_1379666.java\"/>\n-        <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"[\\\\/]grammar[\\\\/]InputJava7MultiCatch.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]checks[\\\\/]coding[\\\\/]illegaltype[\\\\/]InputIllegalType.*\\.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]checks[\\\\/]coding[\\\\/]illegaltype[\\\\/]InputIllegalTypeMemberModifiers.*\\.java\"/>\n-    <suppress checks=\"RegexpSingleline\"\n+    <suppress id=\"lineLength\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]checks[\\\\/]metrics[\\\\/]classfanoutcomplexity[\\\\/]InputClassFanOutComplexityPackageName.*\\.java\"/>\n \n+    <!-- apply check numberOfTestCases only for files in suppressionxpathfilter directory -->\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]java[\\\\/]com[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]java[\\\\/]org[\\\\/]checkstyle[\\\\/]base[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]java[\\\\/]org[\\\\/]checkstyle[\\\\/]checks[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]resources[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]resources-noncompilable[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]java[\\\\/]com[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]test[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]site[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]xdocs[\\\\/].*\" />\n+    <suppress  id=\"numberOfTestCases\"\n+               files=\"src[\\\\/]it[\\\\/]java[\\\\/]org[\\\\/]checkstyle[\\\\/]suppressionxpathfilter[\\\\/]AbstractXpathTestSupport.java\"/>\n+\n+    <!-- till https://github.com/checkstyle/checkstyle/issues/7987 -->", "originalCommit": "712858a5ba1123164c16a5b0f08ecf45b7f41f83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMzMDM0NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r412330344", "bodyText": "until #8151\n\ndone", "author": "malinthar", "createdAt": "2020-04-21T17:00:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwNDM3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwNDcwNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r412204706", "bodyText": "numberOfTestCasesInXpath", "author": "romani", "createdAt": "2020-04-21T13:53:47Z", "path": "config/checkstyle_non_main_files_checks.xml", "diffHunk": "@@ -17,9 +17,22 @@\n     <!-- Miscellaneous -->\n     <module name=\"NewlineAtEndOfFile\" />\n     <module name=\"RegexpSingleline\">\n+      <property name=\"id\" value=\"lineLength\"/>\n       <!-- catch lines above 100 symbols -->\n       <property name=\"format\"\n                value=\"^(?!(.*href=|.*http(s)?:|import |(.* )?package |.* files=|.*\\.dtd)).{101,}$\"/>\n       <property name=\"message\" value=\"Line should not be longer than 100 symbols\"/>\n     </module>\n+\n+    <!-- check the number of testCases -->\n+    <module name=\"RegexpSingleline\">\n+      <property name=\"id\" value=\"numberOfTestCases\"/>", "originalCommit": "712858a5ba1123164c16a5b0f08ecf45b7f41f83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMzMDQ2NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r412330465", "bodyText": "numberOfTestCasesInXpath\n\ndone", "author": "malinthar", "createdAt": "2020-04-21T17:00:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwNDcwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwNjQ4MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r412206480", "bodyText": "please move this update and all related to this changes in other files inn separate commit of the same PR \"minor: make unique id 'lineLength' for RegexpSingleline to avoid conflict with future instances the same Check\"", "author": "romani", "createdAt": "2020-04-21T13:55:53Z", "path": "config/checkstyle_non_main_files_checks.xml", "diffHunk": "@@ -17,9 +17,22 @@\n     <!-- Miscellaneous -->\n     <module name=\"NewlineAtEndOfFile\" />\n     <module name=\"RegexpSingleline\">\n+      <property name=\"id\" value=\"lineLength\"/>", "originalCommit": "712858a5ba1123164c16a5b0f08ecf45b7f41f83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMzMDA2NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8009#discussion_r412330065", "bodyText": "please move this update and all related to this changes in other files inn separate commit of the same PR \"minor: make unique id 'lineLength' for RegexpSingleline to avoid conflict with future instances the same Check\"\n\ndone", "author": "malinthar", "createdAt": "2020-04-21T17:00:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIwNjQ4MA=="}], "type": "inlineReview"}, {"oid": "43148350a87c7185022b83f171c9f9d8f82d0649", "url": "https://github.com/checkstyle/checkstyle/commit/43148350a87c7185022b83f171c9f9d8f82d0649", "message": "minor: make unique id 'lineLength' for RegexpSingleline to avoid conflict with future instances the same Check", "committedDate": "2020-04-21T16:28:21Z", "type": "forcePushed"}, {"oid": "ed836367a2adbdc3bd285ef732b6fabf1f5193f8", "url": "https://github.com/checkstyle/checkstyle/commit/ed836367a2adbdc3bd285ef732b6fabf1f5193f8", "message": "minor: make unique id 'lineLength' for RegexpSingleline to avoid conflict with future instances the same Check", "committedDate": "2020-04-21T16:33:57Z", "type": "commit"}, {"oid": "ed836367a2adbdc3bd285ef732b6fabf1f5193f8", "url": "https://github.com/checkstyle/checkstyle/commit/ed836367a2adbdc3bd285ef732b6fabf1f5193f8", "message": "minor: make unique id 'lineLength' for RegexpSingleline to avoid conflict with future instances the same Check", "committedDate": "2020-04-21T16:33:57Z", "type": "forcePushed"}, {"oid": "ed836367a2adbdc3bd285ef732b6fabf1f5193f8", "url": "https://github.com/checkstyle/checkstyle/commit/ed836367a2adbdc3bd285ef732b6fabf1f5193f8", "message": "minor: make unique id 'lineLength' for RegexpSingleline to avoid conflict with future instances the same Check", "committedDate": "2020-04-21T16:33:57Z", "type": "forcePushed"}, {"oid": "7bc2b3f953e6d40efd1062c4ceff9b8decce981c", "url": "https://github.com/checkstyle/checkstyle/commit/7bc2b3f953e6d40efd1062c4ceff9b8decce981c", "message": "Issue #7987: use RegexpSingleline Check to validate amount of tests in Xpath tests", "committedDate": "2020-04-21T16:53:47Z", "type": "commit"}]}