{"pr_number": 7778, "pr_title": "Issue #7190: remove deprecated setClassLoader methods", "pr_createdAt": "2020-03-03T20:34:15Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/7778", "timeline": [{"oid": "1034af4322568e50dc67530431c76b49ec7f6cfd", "url": "https://github.com/checkstyle/checkstyle/commit/1034af4322568e50dc67530431c76b49ec7f6cfd", "message": "Issue #7190: remove deprecated setClassLoader methods", "committedDate": "2020-03-03T20:52:45Z", "type": "forcePushed"}, {"oid": "1034af4322568e50dc67530431c76b49ec7f6cfd", "url": "https://github.com/checkstyle/checkstyle/commit/1034af4322568e50dc67530431c76b49ec7f6cfd", "message": "Issue #7190: remove deprecated setClassLoader methods", "committedDate": "2020-03-03T20:52:45Z", "type": "forcePushed"}, {"oid": "7dffd09264e57becac91bfc566a764dd87a12bf1", "url": "https://github.com/checkstyle/checkstyle/commit/7dffd09264e57becac91bfc566a764dd87a12bf1", "message": "Issue #7190: remove deprecated setClassLoader methods", "committedDate": "2020-03-05T18:29:15Z", "type": "forcePushed"}, {"oid": "a1a4df0b18708febde4545c8af2c2bce72cb4e98", "url": "https://github.com/checkstyle/checkstyle/commit/a1a4df0b18708febde4545c8af2c2bce72cb4e98", "message": "minor: switch htmlunit to github", "committedDate": "2020-03-09T15:16:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzMzkzNw==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r390033937", "bodyText": "as you would like to activate it ..... thanks a lot\nbut we need to activate shell execution in wercker config - https://github.com/checkstyle/checkstyle/blob/master/wercker.yml#L145", "author": "romani", "createdAt": "2020-03-10T00:33:35Z", "path": ".ci/wercker.sh", "diffHunk": "@@ -137,12 +137,9 @@ no-error-htmlunit)\n   CS_POM_VERSION=$(mvn -e -q -Dexec.executable='echo' -Dexec.args='${project.version}' \\\n                      --non-recursive org.codehaus.mojo:exec-maven-plugin:1.3.1:exec)\n   echo CS_version: ${CS_POM_VERSION}\n-  echo \"checkouting project sources ...\"\n-  svn -q export https://svn.code.sf.net/p/htmlunit/code/trunk/htmlunit@r14923 htmlunit\n-  cd htmlunit\n- sed -i \"s/            <version>2.28-SNAPSHOT/            <version>2.28-20171106.080245-12/\" pom.xml\n-  echo \"Running checkstyle validation ...\"\n-  mvn -e compile checkstyle:check -Dcheckstyle.version=${CS_POM_VERSION}\n+  checkout_from https://github.com/HtmlUnit/htmlunit", "originalCommit": "a1a4df0b18708febde4545c8af2c2bce72cb4e98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA4MDc4Nw==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r390080787", "bodyText": "Should I update wercker config in this PR?", "author": "nmancus1", "createdAt": "2020-03-10T03:47:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzMzkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMxNDAwOA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r390314008", "bodyText": "it is better to move htmlunt to separate PR, as it is not required for deprecation issue.", "author": "romani", "createdAt": "2020-03-10T13:32:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzMzkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg2OTMzOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r390869339", "bodyText": "Their GitHub repo has 3.1.1, SVN does not, that's why I made the change.", "author": "nmancus1", "createdAt": "2020-03-11T10:18:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzMzkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk5MTU4MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r390991581", "bodyText": "you did right update, thank a lot, separate commit is good, but if you change this PR one more time - please move this update to separate PR. Lets not over complicate this PR with unrelated items. We need to complete this PR sooner.", "author": "romani", "createdAt": "2020-03-11T14:02:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzMzkzNw=="}], "type": "inlineReview"}, {"oid": "86e9c7c347a8f21f340ef4326e8204be44b17ec6", "url": "https://github.com/checkstyle/checkstyle/commit/86e9c7c347a8f21f340ef4326e8204be44b17ec6", "message": "minor: switch htmlunit to github", "committedDate": "2020-03-10T03:51:14Z", "type": "forcePushed"}, {"oid": "980a3b05c98ae0791f7c105cb76303c242687e1f", "url": "https://github.com/checkstyle/checkstyle/commit/980a3b05c98ae0791f7c105cb76303c242687e1f", "message": "minor: update xwiki SHA", "committedDate": "2020-03-11T11:43:34Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTAwNTE2NA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391005164", "bodyText": "This command is incomplete. We need more than a compile. Please see the pervious command and commands from other places. I don't see why actual command would change since they just moved from SVN to Git.", "author": "rnveach", "createdAt": "2020-03-11T14:20:59Z", "path": ".ci/wercker.sh", "diffHunk": "@@ -136,12 +137,9 @@ no-error-htmlunit)\n   CS_POM_VERSION=$(mvn -e -q -Dexec.executable='echo' -Dexec.args='${project.version}' \\\n                      --non-recursive org.codehaus.mojo:exec-maven-plugin:1.3.1:exec)\n   echo CS_version: ${CS_POM_VERSION}\n-  echo \"checkouting project sources ...\"\n-  svn -q export https://svn.code.sf.net/p/htmlunit/code/trunk/htmlunit@r14923 htmlunit\n-  cd htmlunit\n- sed -i \"s/            <version>2.28-SNAPSHOT/            <version>2.28-20171106.080245-12/\" pom.xml\n-  echo \"Running checkstyle validation ...\"\n-  mvn -e compile checkstyle:check -Dcheckstyle.version=${CS_POM_VERSION}\n+  checkout_from https://github.com/HtmlUnit/htmlunit\n+  cd .ci-temp/htmlunit\n+  mvn -e compile -DskipTests=true -Dcheckstyle.version=${CS_POM_VERSION}", "originalCommit": "980a3b05c98ae0791f7c105cb76303c242687e1f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MDQ2OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391270469", "bodyText": "Fixed.", "author": "nmancus1", "createdAt": "2020-03-11T21:11:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTAwNTE2NA=="}], "type": "inlineReview"}, {"oid": "1df00c6fc63df9e92fb9d8a9ae1357a5b7dfea1f", "url": "https://github.com/checkstyle/checkstyle/commit/1df00c6fc63df9e92fb9d8a9ae1357a5b7dfea1f", "message": "Issue #7190: update xwiki SHA", "committedDate": "2020-03-11T21:12:07Z", "type": "forcePushed"}, {"oid": "9f3a670174e9e52524fdbced91b6b0befb99319b", "url": "https://github.com/checkstyle/checkstyle/commit/9f3a670174e9e52524fdbced91b6b0befb99319b", "message": "Issue #7190: update xwiki SHA", "committedDate": "2020-03-11T21:15:42Z", "type": "forcePushed"}, {"oid": "b39f338af468b65b3fa6ec902d1dc65cf22995a5", "url": "https://github.com/checkstyle/checkstyle/commit/b39f338af468b65b3fa6ec902d1dc65cf22995a5", "message": "Issue #7190: remove deprecated setClassLoader methods", "committedDate": "2020-03-11T21:15:42Z", "type": "commit"}, {"oid": "29d04a0f3ebd6091cf2a8102376262a708422429", "url": "https://github.com/checkstyle/checkstyle/commit/29d04a0f3ebd6091cf2a8102376262a708422429", "message": "Issue #7190: update Orekit and Hipparcus checkout commits", "committedDate": "2020-03-11T21:15:42Z", "type": "commit"}, {"oid": "d44127831e2fb5c1280a43344baacf11ad34318b", "url": "https://github.com/checkstyle/checkstyle/commit/d44127831e2fb5c1280a43344baacf11ad34318b", "message": "Issue #7190: switch htmlunit to github", "committedDate": "2020-03-11T21:15:42Z", "type": "commit"}, {"oid": "9f3a670174e9e52524fdbced91b6b0befb99319b", "url": "https://github.com/checkstyle/checkstyle/commit/9f3a670174e9e52524fdbced91b6b0befb99319b", "message": "Issue #7190: update xwiki SHA", "committedDate": "2020-03-11T21:15:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391272938", "bodyText": "cd changed from cd htmlunit to cd .ci-temp/htmlunit. Since we are cding into a second directory, don't we need to cd out an additional directory too?", "author": "rnveach", "createdAt": "2020-03-11T21:16:37Z", "path": ".ci/wercker.sh", "diffHunk": "@@ -136,11 +136,8 @@ no-error-htmlunit)\n   CS_POM_VERSION=$(mvn -e -q -Dexec.executable='echo' -Dexec.args='${project.version}' \\\n                      --non-recursive org.codehaus.mojo:exec-maven-plugin:1.3.1:exec)\n   echo CS_version: ${CS_POM_VERSION}\n-  echo \"checkouting project sources ...\"\n-  svn -q export https://svn.code.sf.net/p/htmlunit/code/trunk/htmlunit@r14923 htmlunit\n-  cd htmlunit\n- sed -i \"s/            <version>2.28-SNAPSHOT/            <version>2.28-20171106.080245-12/\" pom.xml\n-  echo \"Running checkstyle validation ...\"\n+  checkout_from https://github.com/HtmlUnit/htmlunit\n+  cd .ci-temp/htmlunit\n   mvn -e compile checkstyle:check -Dcheckstyle.version=${CS_POM_VERSION}\n   cd ../", "originalCommit": "9f3a670174e9e52524fdbced91b6b0befb99319b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3NzkyMA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391277920", "bodyText": "Actually, we are deleting the htmlunit folder so we should only go out 1. Please double confirm. I am seeing out projects with a double cd and I think atleast 1 might be wrong.", "author": "rnveach", "createdAt": "2020-03-11T21:27:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI4MDkwNA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391280904", "bodyText": "What I have is correct, there are other errors in this file, like what you've mentioned.  There are a few that do that, but they end up living in .ci-temp and never getting deleted, just updated, which I guess could be either good or bad, but the intended action of rm'ing the directories isn't carried out.", "author": "nmancus1", "createdAt": "2020-03-11T21:33:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI4MTI5Nw==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391281297", "bodyText": "", "author": "nmancus1", "createdAt": "2020-03-11T21:34:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI4MjA0MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391282041", "bodyText": "Would you like me to tidy this file up along with the hipparchus directory removal and submit as one PR?", "author": "nmancus1", "createdAt": "2020-03-11T21:35:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI4NTk5MA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391285990", "bodyText": "Yes, feel free to make another PR ensure the temp folder is tidied up. Not in this PR. I was asking @romani since he knows linux better than me: can we remove the f option for rm -rf but not make it prompt? This way it will complain if directory doesn't exist and catch this problem for us.\nhttp://man7.org/linux/man-pages/man1/rm.1.html", "author": "rnveach", "createdAt": "2020-03-11T21:44:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTMwNDk0MA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391304940", "bodyText": "In my experience (I have much more with Linux than with programming), only the -i flag will make it prompt when rm'ing, despite what the man page says.  Since it is a git repo though, it might be necessary to use -f because of the protected files.  I'll take a look tonight.", "author": "nmancus1", "createdAt": "2020-03-11T22:24:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQwMDY0NA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r391400644", "bodyText": "Let's move all noticed points to improve to separate issue/PRs .\nIt is better to merge this PR sooner.", "author": "romani", "createdAt": "2020-03-12T04:53:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjczMDE2MA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r392730160", "bodyText": "@nmancus1 Do you still plan to do this?", "author": "rnveach", "createdAt": "2020-03-16T00:11:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjczMTIwNA==", "url": "https://github.com/checkstyle/checkstyle/pull/7778#discussion_r392731204", "bodyText": "@rnveach yes, I completed it today. I just wanted to run through and test each one again before submitting PR.", "author": "nmancus1", "createdAt": "2020-03-16T00:21:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI3MjkzOA=="}], "type": "inlineReview"}]}