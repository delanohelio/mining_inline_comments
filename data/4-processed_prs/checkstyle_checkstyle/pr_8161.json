{"pr_number": 8161, "pr_title": "Issue #8132: Add NoCodeInFileCheck", "pr_createdAt": "2020-04-21T22:53:01Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8161", "timeline": [{"oid": "6094af1a50cb9ade0ecc784eba1ea7ae67da11b4", "url": "https://github.com/checkstyle/checkstyle/commit/6094af1a50cb9ade0ecc784eba1ea7ae67da11b4", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-21T22:59:04Z", "type": "forcePushed"}, {"oid": "b7037050a7f1adf0dec69beae8b2dc58e8a564b4", "url": "https://github.com/checkstyle/checkstyle/commit/b7037050a7f1adf0dec69beae8b2dc58e8a564b4", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-22T09:14:45Z", "type": "forcePushed"}, {"oid": "2a0d06ccf9a715c5d3993b3062b5305bfc238df7", "url": "https://github.com/checkstyle/checkstyle/commit/2a0d06ccf9a715c5d3993b3062b5305bfc238df7", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-22T11:07:45Z", "type": "forcePushed"}, {"oid": "1a000eea6f3eb2e842a045e44e9f0a9673c505d4", "url": "https://github.com/checkstyle/checkstyle/commit/1a000eea6f3eb2e842a045e44e9f0a9673c505d4", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-23T13:47:45Z", "type": "forcePushed"}, {"oid": "4c33c0b114c66444326bde30f82943e657a1b51e", "url": "https://github.com/checkstyle/checkstyle/commit/4c33c0b114c66444326bde30f82943e657a1b51e", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-24T15:52:19Z", "type": "forcePushed"}, {"oid": "65cbce63f8f27e04190a72a1accfd1ad426785f3", "url": "https://github.com/checkstyle/checkstyle/commit/65cbce63f8f27e04190a72a1accfd1ad426785f3", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-29T22:23:18Z", "type": "forcePushed"}, {"oid": "71f84374d33cdfda85d356ab360a6982ac27318d", "url": "https://github.com/checkstyle/checkstyle/commit/71f84374d33cdfda85d356ab360a6982ac27318d", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-04-29T23:02:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NDE0Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423064146", "bodyText": "indentation", "author": "strkkk", "createdAt": "2020-05-11T14:05:25Z", "path": "config/checkstyle_non_main_files_suppressions.xml", "diffHunk": "@@ -164,4 +164,6 @@\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]regexponfilename[\\\\/].*\"/>\n     <suppress checks=\"RegexpMultiline\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]grammar[\\\\/]InputRegressionEmptyAst\\.txt\"/>\n+        <suppress checks=\"RegexpMultiline\"", "originalCommit": "71f84374d33cdfda85d356ab360a6982ac27318d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc3NzkyMQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423777921", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-12T14:26:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NDE0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NTI1Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423065253", "bodyText": "above lines should be in description, here should be examples", "author": "strkkk", "createdAt": "2020-05-11T14:07:02Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,81 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether files contain code.\n+ * </p>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"NoCodeInFile\"/&gt;\n+ * </pre>\n+ * <p>\n+ * Example:\n+ * </p>\n+ * <pre>\n+ * Files which are considered to have no code:\n+ * 1. File with no text\n+ * 2. File with single line comment(s).\n+ * 3. File with a multi line comment(s).", "originalCommit": "71f84374d33cdfda85d356ab360a6982ac27318d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg3MTA3Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423871073", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-12T16:29:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NTI1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NjYzMg==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423066632", "bodyText": "can be added one more test with both single and multiline comments", "author": "strkkk", "createdAt": "2020-05-11T14:09:02Z", "path": "src/test/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheckTest.java", "diffHunk": "@@ -0,0 +1,85 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import static com.puppycrawl.tools.checkstyle.checks.NoCodeInFileCheck.MSG_KEY_NO_CODE;\n+import static org.junit.jupiter.api.Assertions.assertArrayEquals;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.puppycrawl.tools.checkstyle.AbstractModuleTestSupport;\n+import com.puppycrawl.tools.checkstyle.DefaultConfiguration;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+public class NoCodeInFileCheckTest extends AbstractModuleTestSupport {\n+\n+    @Override\n+    protected String getPackageLocation() {\n+        return \"com/puppycrawl/tools/checkstyle/checks/nocodeinfile\";\n+    }\n+\n+    @Test\n+    public void testGetRequiredTokens() {\n+        final NoCodeInFileCheck checkObj = new NoCodeInFileCheck();\n+        assertArrayEquals(CommonUtil.EMPTY_INT_ARRAY, checkObj.getRequiredTokens(),\n+                \"Required tokens array is not empty\");\n+    }\n+\n+    @Test\n+    public void testGetAcceptableTokens() {\n+        final NoCodeInFileCheck checkObj = new NoCodeInFileCheck();\n+        assertArrayEquals(CommonUtil.EMPTY_INT_ARRAY, checkObj.getAcceptableTokens(),\n+                \"Acceptable tokens array is not empty\");\n+    }\n+\n+    @Test\n+    public void testBlank() throws Exception {\n+        final DefaultConfiguration checkConfig = createModuleConfig(NoCodeInFileCheck.class);\n+        final String[] expected = {\n+            \"1: \" + getCheckMessage(MSG_KEY_NO_CODE),\n+        };\n+        verify(checkConfig, getPath(\"InputNoCodeInFile1.java\"), expected);\n+    }\n+\n+    @Test\n+    public void testSingleLineComment() throws Exception {\n+        final DefaultConfiguration checkConfig = createModuleConfig(NoCodeInFileCheck.class);\n+        final String[] expected = {\n+            \"1: \" + getCheckMessage(MSG_KEY_NO_CODE),\n+        };\n+        verify(checkConfig, getPath(\"InputNoCodeInFile2.java\"), expected);\n+    }\n+\n+    @Test\n+    public void testMultiLineComment() throws Exception {\n+        final DefaultConfiguration checkConfig = createModuleConfig(NoCodeInFileCheck.class);\n+        final String[] expected = {\n+            \"1: \" + getCheckMessage(MSG_KEY_NO_CODE),\n+        };\n+        verify(checkConfig, getPath(\"InputNoCodeInFile3.java\"), expected);\n+    }\n+\n+    @Test\n+    public void testFileContainingCode() throws Exception {\n+        final DefaultConfiguration checkConfig = createModuleConfig(NoCodeInFileCheck.class);\n+        verify(checkConfig, getPath(\"InputNoCodeInFile4.java\"),\n+                CommonUtil.EMPTY_STRING_ARRAY);\n+    }", "originalCommit": "71f84374d33cdfda85d356ab360a6982ac27318d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzgwOTc2Nw==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423809767", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-12T15:06:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NjYzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NzcwNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423067706", "bodyText": "it is better to extract these endings into some list and iterate over it, it will be more readable", "author": "strkkk", "createdAt": "2020-05-11T14:10:31Z", "path": "src/test/java/com/puppycrawl/tools/checkstyle/DetailAstImplTest.java", "diffHunk": "@@ -510,7 +510,10 @@ else if (file.getName().endsWith(\".java\")\n                     && !file.getName().endsWith(\"InputGrammar.java\")\n                     // comment only files, no root\n                     && !file.getName().endsWith(\"InputPackageDeclarationWithCommentOnly.java\")\n-                    && !file.getName().endsWith(\"InputSingleSpaceSeparatorEmpty.java\")) {\n+                    && !file.getName().endsWith(\"InputSingleSpaceSeparatorEmpty.java\")\n+                    && !file.getName().endsWith(\"InputNoCodeInFile1.java\")\n+                    && !file.getName().endsWith(\"InputNoCodeInFile2.java\")\n+                    && !file.getName().endsWith(\"InputNoCodeInFile3.java\")) {", "originalCommit": "71f84374d33cdfda85d356ab360a6982ac27318d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzgwNjk3OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423806979", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-12T15:03:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2NzcwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2ODQwOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423068409", "bodyText": "files contain may be file contains is more precise.", "author": "strkkk", "createdAt": "2020-05-11T14:11:35Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,81 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether files contain code.", "originalCommit": "71f84374d33cdfda85d356ab360a6982ac27318d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc3ODcyOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423778729", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-12T14:27:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA2ODQwOQ=="}], "type": "inlineReview"}, {"oid": "8945cd430e72c7505bf6d2aea6a3685272dcc758", "url": "https://github.com/checkstyle/checkstyle/commit/8945cd430e72c7505bf6d2aea6a3685272dcc758", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-12T16:30:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkyNzQ5Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423927496", "bodyText": "weird indentation", "author": "strkkk", "createdAt": "2020-05-12T17:58:30Z", "path": "src/xdocs/config_misc.xml", "diffHunk": "@@ -1541,6 +1541,72 @@ This is a sample text file. // ok, this file is not specified in the config.\n       </subsection>\n     </section>\n \n+    <section name=\"NoCodeInFile\">\n+      <p>Since Checkstyle 8.33</p>\n+\n+      <subsection name=\"Description\" id=\"NoCodeInFile_Description\">\n+        <p>\n+          Checks whether file contains code.\n+          Files which are considered to have no code:\n+            1. File with no text\n+            2. File with single line comment(s).\n+            3. File with a multi line comment(s).\n+        </p>\n+      </subsection>\n+\n+      <subsection name=\"Examples\" id=\"NoCodeInFile_Examples\">\n+        <p>\n+          To configure the check:\n+        </p>\n+        <source>\n+&lt;module name=&quot;NoCodeInFile&quot;/&gt;\n+        </source>\n+        <p>Example:</p>\n+          Violations:\n+        <source>\n+\n+        </source>\n+          <source>\n+// comment\n+          </source>\n+      </subsection>\n+\n+      <subsection name=\"Example of Usage\" id=\"NoCodeInFile_Example_of_Usage\">\n+        <ul>\n+          <li>\n+            <a href=\"https://github.com/search?q=path%3Aconfig+filename%3Acheckstyle_checks.xml+repo%3Acheckstyle%2Fcheckstyle+NoCodeInFile\">\n+            Checkstyle Style</a>\n+          </li>\n+        </ul>\n+      </subsection>\n+\n+      <subsection name=\"Violation Messages\" id=\"NoCodeInFile_Violation_Messages\">\n+        <ul>\n+          <li>\n+            <a\n+                    href=\"https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2Fcom%2Fpuppycrawl%2Ftools%2Fcheckstyle%2Fchecks+filename%3Amessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22nocode.in.file%22\">", "originalCommit": "8945cd430e72c7505bf6d2aea6a3685272dcc758", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwODk4OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424008988", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-12T20:20:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkyNzQ5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkyODY0OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423928649", "bodyText": "please make list like <ul> and items in <li> tag", "author": "strkkk", "createdAt": "2020-05-12T18:00:19Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,81 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether file contains code. Files which are considered to have no code: 1. File with no\n+ * text 2. File with single line comment(s). 3. File with a multi line comment(s).", "originalCommit": "8945cd430e72c7505bf6d2aea6a3685272dcc758", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwOTA0OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424009048", "bodyText": "Done", "author": "gaurabdg", "createdAt": "2020-05-12T20:20:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkyODY0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkzMjQyMQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r423932421", "bodyText": "Please change examples.\nMake it like\nContent of the file:\n... // violation", "author": "strkkk", "createdAt": "2020-05-12T18:06:28Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,81 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether file contains code. Files which are considered to have no code: 1. File with no\n+ * text 2. File with single line comment(s). 3. File with a multi line comment(s).\n+ * </p>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"NoCodeInFile\"/&gt;\n+ * </pre>\n+ * <p>\n+ * Example:\n+ * </p> Violations:\n+ * <pre>\n+ * </pre>\n+ * <pre>\n+ * // comment\n+ * </pre>", "originalCommit": "8945cd430e72c7505bf6d2aea6a3685272dcc758", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwOTA5NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424009094", "bodyText": "Done", "author": "gaurabdg", "createdAt": "2020-05-12T20:20:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkzMjQyMQ=="}], "type": "inlineReview"}, {"oid": "9e9bdb6bae14cc47a34183eecd4b3b48a6404dff", "url": "https://github.com/checkstyle/checkstyle/commit/9e9bdb6bae14cc47a34183eecd4b3b48a6404dff", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-12T20:19:20Z", "type": "forcePushed"}, {"oid": "43b16d9f74611b0e767e9cca9e63527fbba25bb4", "url": "https://github.com/checkstyle/checkstyle/commit/43b16d9f74611b0e767e9cca9e63527fbba25bb4", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-12T22:41:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMDc1OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424220759", "bodyText": "please change it to block comment example. Showing empty file looks strange", "author": "strkkk", "createdAt": "2020-05-13T07:15:35Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,95 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether file contains code. Files which are considered to have no code:\n+ * <ul>\n+ * <li>\n+ * File with no text\n+ * </li>\n+ * <li>\n+ * File with single line comment(s)\n+ * </li>\n+ * <li>\n+ * File with a multi line comment(s).\n+ * </li>\n+ * </ul>\n+ * </p>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"NoCodeInFile\"/&gt;\n+ * </pre>\n+ * <p>\n+ * Example:\n+ * </p>\n+ * <p>\n+ * Content of the files:\n+ * </p>\n+ * <pre>\n+ * // violation", "originalCommit": "43b16d9f74611b0e767e9cca9e63527fbba25bb4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyNzgzMg==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424227832", "bodyText": "But, in block comment, */ is being treated as javadoc end. Anyway to escape it?", "author": "gaurabdg", "createdAt": "2020-05-13T07:29:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMDc1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIzMDYxNA==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424230614", "bodyText": "Yes, https://stackoverflow.com/a/631839/3901853", "author": "strkkk", "createdAt": "2020-05-13T07:34:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMDc1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMTE5Mg==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424221192", "bodyText": "indentation here and above should be 2 spaces", "author": "strkkk", "createdAt": "2020-05-13T07:16:28Z", "path": "src/xdocs/config_misc.xml", "diffHunk": "@@ -1541,6 +1541,83 @@ This is a sample text file. // ok, this file is not specified in the config.\n       </subsection>\n     </section>\n \n+    <section name=\"NoCodeInFile\">\n+      <p>Since Checkstyle 8.33</p>\n+\n+      <subsection name=\"Description\" id=\"NoCodeInFile_Description\">\n+        <p>\n+          Checks whether file contains code.\n+          Files which are considered to have no code:\n+        </p>\n+        <ul>\n+            <li>\n+                File with no text\n+            </li>\n+            <li>\n+                File with single line comment(s)\n+            </li>\n+            <li>\n+                File with a multi line comment(s).", "originalCommit": "43b16d9f74611b0e767e9cca9e63527fbba25bb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMTMwOQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424221309", "bodyText": "same here and above", "author": "strkkk", "createdAt": "2020-05-13T07:16:44Z", "path": "src/xdocs/config_misc.xml", "diffHunk": "@@ -1541,6 +1541,83 @@ This is a sample text file. // ok, this file is not specified in the config.\n       </subsection>\n     </section>\n \n+    <section name=\"NoCodeInFile\">\n+      <p>Since Checkstyle 8.33</p>\n+\n+      <subsection name=\"Description\" id=\"NoCodeInFile_Description\">\n+        <p>\n+          Checks whether file contains code.\n+          Files which are considered to have no code:\n+        </p>\n+        <ul>\n+            <li>\n+                File with no text\n+            </li>\n+            <li>\n+                File with single line comment(s)\n+            </li>\n+            <li>\n+                File with a multi line comment(s).\n+            </li>\n+        </ul>\n+      </subsection>\n+\n+      <subsection name=\"Examples\" id=\"NoCodeInFile_Examples\">\n+        <p>\n+          To configure the check:\n+        </p>\n+        <source>\n+&lt;module name=&quot;NoCodeInFile&quot;/&gt;\n+        </source>\n+        <p>\n+            Example:\n+        </p>\n+        <p>\n+           Content of the files:", "originalCommit": "43b16d9f74611b0e767e9cca9e63527fbba25bb4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI2Njg3Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424266876", "bodyText": "not corrected", "author": "strkkk", "createdAt": "2020-05-13T08:34:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIyMTMwOQ=="}], "type": "inlineReview"}, {"oid": "bc96358fb443b2442b9f16789f7efb09b21893e8", "url": "https://github.com/checkstyle/checkstyle/commit/bc96358fb443b2442b9f16789f7efb09b21893e8", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-13T07:44:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI2NjE4MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424266181", "bodyText": "no need to escape asterisk", "author": "strkkk", "createdAt": "2020-05-13T08:33:47Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,97 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether file contains code. Files which are considered to have no code:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * File with no text\n+ * </li>\n+ * <li>\n+ * File with single line comment(s)\n+ * </li>\n+ * <li>\n+ * File with a multi line comment(s).\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"NoCodeInFile\"/&gt;\n+ * </pre>\n+ * <p>\n+ * Example:\n+ * </p>\n+ * <p>\n+ * Content of the files:\n+ * </p>\n+ * <pre>\n+ * // single line comment // violation\n+ * </pre>\n+ * <pre>\n+ * /*\n+ *  block comment\n+ * &#42;&#47; // violation", "originalCommit": "bc96358fb443b2442b9f16789f7efb09b21893e8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI2NzQyNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r424267426", "bodyText": "violation is reported on line 1, so violation comment should be there as well", "author": "strkkk", "createdAt": "2020-05-13T08:35:42Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheck.java", "diffHunk": "@@ -0,0 +1,97 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks whether file contains code. Files which are considered to have no code:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * File with no text\n+ * </li>\n+ * <li>\n+ * File with single line comment(s)\n+ * </li>\n+ * <li>\n+ * File with a multi line comment(s).\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"NoCodeInFile\"/&gt;\n+ * </pre>\n+ * <p>\n+ * Example:\n+ * </p>\n+ * <p>\n+ * Content of the files:\n+ * </p>\n+ * <pre>\n+ * // single line comment // violation\n+ * </pre>\n+ * <pre>\n+ * /*\n+ *  block comment\n+ * &#42;&#47; // violation", "originalCommit": "bc96358fb443b2442b9f16789f7efb09b21893e8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9c69d348c80a8217be3b11a1483ac969a5c2da44", "url": "https://github.com/checkstyle/checkstyle/commit/9c69d348c80a8217be3b11a1483ac969a5c2da44", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-13T08:59:40Z", "type": "forcePushed"}, {"oid": "2415ad5057175f7d6e0d225adc89928450ff9cab", "url": "https://github.com/checkstyle/checkstyle/commit/2415ad5057175f7d6e0d225adc89928450ff9cab", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-13T14:51:14Z", "type": "forcePushed"}, {"oid": "8d8a0e3bb980041b1184b71e06807d3644a9fb01", "url": "https://github.com/checkstyle/checkstyle/commit/8d8a0e3bb980041b1184b71e06807d3644a9fb01", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-15T10:58:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2ODUzMw==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r425968533", "bodyText": "Please use google.Truth here\nassertWithMessage(\"Required tokens array is not empty\")\n    .that(checkObj.getRequiredTokens())\n    .isEmpty();", "author": "pbludov", "createdAt": "2020-05-15T18:12:50Z", "path": "src/test/java/com/puppycrawl/tools/checkstyle/checks/NoCodeInFileCheckTest.java", "diffHunk": "@@ -0,0 +1,103 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks;\n+\n+import static com.puppycrawl.tools.checkstyle.checks.NoCodeInFileCheck.MSG_KEY_NO_CODE;\n+import static org.junit.jupiter.api.Assertions.assertArrayEquals;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.puppycrawl.tools.checkstyle.AbstractModuleTestSupport;\n+import com.puppycrawl.tools.checkstyle.DefaultConfiguration;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+public class NoCodeInFileCheckTest extends AbstractModuleTestSupport {\n+\n+    @Override\n+    protected String getPackageLocation() {\n+        return \"com/puppycrawl/tools/checkstyle/checks/nocodeinfile\";\n+    }\n+\n+    @Test\n+    public void testGetRequiredTokens() {\n+        final NoCodeInFileCheck checkObj = new NoCodeInFileCheck();\n+        assertArrayEquals(CommonUtil.EMPTY_INT_ARRAY, checkObj.getRequiredTokens(),", "originalCommit": "8d8a0e3bb980041b1184b71e06807d3644a9fb01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3MTc4NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r425971784", "bodyText": "and same for similar cases in this file", "author": "pbludov", "createdAt": "2020-05-15T18:19:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2ODUzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI1MTIyMA==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r426251220", "bodyText": "Done", "author": "gaurabdg", "createdAt": "2020-05-17T11:41:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk2ODUzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3MDkzNw==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r425970937", "bodyText": "The description of the check is confusing. Will any file with a single/multi-line comment be considered empty? Or just a file with there is nothing except for some comments within?\nCould you please make it more clear?", "author": "pbludov", "createdAt": "2020-05-15T18:17:54Z", "path": "src/xdocs/config_misc.xml", "diffHunk": "@@ -1541,6 +1541,85 @@ This is a sample text file. // ok, this file is not specified in the config.\n       </subsection>\n     </section>\n \n+    <section name=\"NoCodeInFile\">\n+      <p>Since Checkstyle 8.33</p>\n+\n+      <subsection name=\"Description\" id=\"NoCodeInFile_Description\">\n+        <p>\n+          Checks whether file contains code.", "originalCommit": "8d8a0e3bb980041b1184b71e06807d3644a9fb01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI1MTE4Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r426251186", "bodyText": "I have specified the conditions in Files which are considered to have no code:. Do I need to add anything else?", "author": "gaurabdg", "createdAt": "2020-05-17T11:40:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3MDkzNw=="}], "type": "inlineReview"}, {"oid": "a633dd162cde829c3ebc4cbebb7a1e911dea7b9b", "url": "https://github.com/checkstyle/checkstyle/commit/a633dd162cde829c3ebc4cbebb7a1e911dea7b9b", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-17T11:48:15Z", "type": "forcePushed"}, {"oid": "400a1b6e9683da11259cc9042c2211c31336d220", "url": "https://github.com/checkstyle/checkstyle/commit/400a1b6e9683da11259cc9042c2211c31336d220", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-18T23:21:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUzOTIyNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r428539226", "bodyText": "Look at top text, it says are \"not compatible ... till ....\". This check will never be compatible. It always logs by line number since there is never any AST.\nWe need to follow pattern of other checks where we couldn't support them, Regexp and RegexpSinglelineJava and give a reason. xdoc should also be updated too.", "author": "rnveach", "createdAt": "2020-05-21T09:15:15Z", "path": "src/test/java/com/puppycrawl/tools/checkstyle/internal/XpathRegressionTest.java", "diffHunk": "@@ -59,6 +59,7 @@\n             \"Indentation\",\n             \"JavadocMethod\",\n             \"MissingJavadocType\",\n+            \"NoCodeInFile\",", "originalCommit": "400a1b6e9683da11259cc9042c2211c31336d220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU2MzAyNQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8161#discussion_r429563025", "bodyText": "Done.", "author": "gaurabdg", "createdAt": "2020-05-23T17:17:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUzOTIyNg=="}], "type": "inlineReview"}, {"oid": "4e9a8c4e6ebb79fc54661b6f157c8eb5db00713d", "url": "https://github.com/checkstyle/checkstyle/commit/4e9a8c4e6ebb79fc54661b6f157c8eb5db00713d", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-23T17:17:16Z", "type": "commit"}, {"oid": "4e9a8c4e6ebb79fc54661b6f157c8eb5db00713d", "url": "https://github.com/checkstyle/checkstyle/commit/4e9a8c4e6ebb79fc54661b6f157c8eb5db00713d", "message": "Issue #8132: Add NoCodeInFileCheck", "committedDate": "2020-05-23T17:17:16Z", "type": "forcePushed"}]}