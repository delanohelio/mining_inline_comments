{"pr_number": 7837, "pr_title": "Issue #7832: Publish pitest report as artifact at circleci", "pr_createdAt": "2020-03-12T16:28:46Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/7837", "timeline": [{"oid": "95c8689005eb09e91debabc516faf7d79f38ad30", "url": "https://github.com/checkstyle/checkstyle/commit/95c8689005eb09e91debabc516faf7d79f38ad30", "message": "Issue #7832: Publish pitest report as artifact at circleci", "committedDate": "2020-03-12T19:19:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI0NzMzOA==", "url": "https://github.com/checkstyle/checkstyle/pull/7837#discussion_r392247338", "bodyText": "I would make it simple:\n\u2714 ~/java/github/checkstyle/checkstyle [master|\u2714] \n$ ls -la target/\ntotal 32\ndrwxrwxr-x  8 rivanov rivanov 4096 Mar 13 06:59 .\ndrwxrwxr-x 13 rivanov rivanov 4096 Mar 13 06:57 ..\n-rw-rw-r--  1 rivanov rivanov    0 Mar 13 06:59 actual.txt\ndrwxrwxr-x  3 rivanov rivanov 4096 Mar 13 06:57 classes\ndrwxrwxr-x  4 rivanov rivanov 4096 Mar 13 06:57 generated-sources\ndrwxrwxr-x  3 rivanov rivanov 4096 Mar 13 06:57 generated-test-sources\n-rw-rw-r--  1 rivanov rivanov    0 Mar 13 06:59 ignored.txt\ndrwxrwxr-x  4 rivanov rivanov 4096 Mar 13 06:57 maven-status\ndrwxrwxr-x  3 rivanov rivanov 4096 Mar 13 06:58 pit-reports\ndrwxrwxr-x  4 rivanov rivanov 4096 Mar 13 06:57 test-classes\n\u2714 ~/java/github/checkstyle/checkstyle [master|\u2714] \n $ ls -la target/pit-reports/\ntotal 12\ndrwxrwxr-x 3 rivanov rivanov 4096 Mar 13 06:58 .\ndrwxrwxr-x 8 rivanov rivanov 4096 Mar 13 06:59 ..\ndrwxrwxr-x 3 rivanov rivanov 4096 Mar 13 06:59 202003130658\n\u2714 ~/java/github/checkstyle/checkstyle [master|\u2714] \n$ ls -la target/pit-reports/202003130658/\ntotal 24\ndrwxrwxr-x 3 rivanov rivanov 4096 Mar 13 06:59 .\ndrwxrwxr-x 3 rivanov rivanov 4096 Mar 13 06:58 ..\ndrwxrwxr-x 2 rivanov rivanov 4096 Mar 13 06:59 com.puppycrawl.tools.checkstyle.checks\n-rw-rw-r-- 1 rivanov rivanov 1634 Mar 13 06:59 index.html\n-rw-rw-r-- 1 rivanov rivanov 5514 Mar 13 06:59 style.css\n\njust let circleci to copy whole target/pit-reports/ folder, there will be always one report.\nsuch artifacts are for maintainers, they know this structure, and will have no problems.\nNew contributors will never find artifacts, and they will test in on their local, contributors do not need this report that much.", "author": "romani", "createdAt": "2020-03-13T14:04:14Z", "path": ".circleci/config.yml", "diffHunk": "@@ -67,9 +67,13 @@ jobs:\n               CMD=\"$(circleci tests split commands.txt)\"\n               echo \"Command: $CMD\"\n               eval $CMD\n+              mkdir pitest-report && mv ./target/pit-reports/*/* pitest-report\n+              ls -R | grep \":$\" | sed -e 's/:$//' -e 's/[^-][^\\/]*\\//--/g' -e 's/^/   /' -e 's/-/|/'\n             else\n               echo \"build is skipped ...\"\n             fi\n+      - store_artifacts:\n+          path: ./pitest-report", "originalCommit": "397ee585e1dce6d39f30d3bf8c6b999abc0891c6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI1MDMxNQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7837#discussion_r392250315", "bodyText": "or at least keep all files under target folder, to keep repo sources clean (it is very good practice, we try to fix all CIs to not put anything to repo to have git status clean after any executions).\nmv ./target/pit-reports/*/* target/pit-reports", "author": "romani", "createdAt": "2020-03-13T14:09:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI0NzMzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI4MTM3MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7837#discussion_r392281371", "bodyText": "just let circleci to copy whole target/pit-reports/ folder, there will be always one report.\nsuch artifacts are for maintainers, they know this structure, and will have no problems.\nNew contributors will never find artifacts, and they will test in on their local, contributors do not need this report that much.\n\nOh okay, I was trying to do this(simplifying for user). I'll upload the whole folder.", "author": "gaurabdg", "createdAt": "2020-03-13T14:59:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI0NzMzOA=="}], "type": "inlineReview"}, {"oid": "7bace710c3401f3e9eb0e17559a5eae38c03eaea", "url": "https://github.com/checkstyle/checkstyle/commit/7bace710c3401f3e9eb0e17559a5eae38c03eaea", "message": "Issue #7832: Publish pitest report as artifact at circleci", "committedDate": "2020-03-13T14:48:06Z", "type": "forcePushed"}, {"oid": "7a949d611a437af47f2b75fe10a7f38dd1fa55dc", "url": "https://github.com/checkstyle/checkstyle/commit/7a949d611a437af47f2b75fe10a7f38dd1fa55dc", "message": "Issue #7832: Publish pitest report as artifact at circleci", "committedDate": "2020-03-13T15:08:20Z", "type": "forcePushed"}, {"oid": "a5ba5478fd622a8dc6e1606cde41aea2c278da1c", "url": "https://github.com/checkstyle/checkstyle/commit/a5ba5478fd622a8dc6e1606cde41aea2c278da1c", "message": "Issue #7832: Publish pitest report as artifact at circleci", "committedDate": "2020-03-13T21:44:53Z", "type": "commit"}, {"oid": "a5ba5478fd622a8dc6e1606cde41aea2c278da1c", "url": "https://github.com/checkstyle/checkstyle/commit/a5ba5478fd622a8dc6e1606cde41aea2c278da1c", "message": "Issue #7832: Publish pitest report as artifact at circleci", "committedDate": "2020-03-13T21:44:53Z", "type": "forcePushed"}]}