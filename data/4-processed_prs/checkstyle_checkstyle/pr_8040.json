{"pr_number": 8040, "pr_title": "Issue #7892: add empty .ci-temp validation", "pr_createdAt": "2020-04-06T04:23:37Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8040", "timeline": [{"oid": "8e870a9928f44871cd56c72d101e6c713f79e636", "url": "https://github.com/checkstyle/checkstyle/commit/8e870a9928f44871cd56c72d101e6c713f79e636", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-11T22:30:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU5NjcxNQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r407596715", "bodyText": "Nothing is calling this.", "author": "rnveach", "createdAt": "2020-04-13T17:15:40Z", "path": ".ci/travis/travis.sh", "diffHunk": "@@ -560,6 +560,16 @@ git-status)\n   fi\n   ;;\n \n+validate-ci-temp-empty)", "originalCommit": "8e870a9928f44871cd56c72d101e6c713f79e636", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYyMjIyNA==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r407622224", "bodyText": "Midterms are taking their toll; my apologies.  I've added the job to travis.yml.", "author": "nmancus1", "createdAt": "2020-04-13T18:00:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU5NjcxNQ=="}], "type": "inlineReview"}, {"oid": "ed98952530af8bb49853f8b49c1aaee9b703843a", "url": "https://github.com/checkstyle/checkstyle/commit/ed98952530af8bb49853f8b49c1aaee9b703843a", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-13T17:57:42Z", "type": "forcePushed"}, {"oid": "e5728061f4a1af9e07e65bbe713f170ada0960ab", "url": "https://github.com/checkstyle/checkstyle/commit/e5728061f4a1af9e07e65bbe713f170ada0960ab", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-17T03:57:00Z", "type": "forcePushed"}, {"oid": "4466784422b5015c7d44eb48fdad6182ee0f6544", "url": "https://github.com/checkstyle/checkstyle/commit/4466784422b5015c7d44eb48fdad6182ee0f6544", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-17T05:08:47Z", "type": "forcePushed"}, {"oid": "9b82b0079da6d76a1daaf127c253979981791d8d", "url": "https://github.com/checkstyle/checkstyle/commit/9b82b0079da6d76a1daaf127c253979981791d8d", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-17T14:28:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3NzE1NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r410277155", "bodyText": "instead of these find ... why not simply ls -A .ci-temp ?\nis you do validation by this commands it is always good to print output of it to let us see it.", "author": "romani", "createdAt": "2020-04-17T14:54:29Z", "path": ".ci/wercker.sh", "diffHunk": "@@ -447,6 +447,17 @@ no-warning-imports-java-design-patterns)\n   fi\n   ;;\n \n+validate-ci-temp-empty)\n+  fail=0\n+  if [ \"$(ls -A .ci-temp)\" ]; then\n+    find \".ci-temp\" -mindepth 1 -type d -exec echo \"Found directory in .ci-temp: \" {} \\;\n+    find \".ci-temp\" -mindepth 1 -type f -exec echo \"Found file in .ci-temp: \" {} \\;", "originalCommit": "9b82b0079da6d76a1daaf127c253979981791d8d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI4NzA2OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r410287068", "bodyText": "Very good point.  Thank you.  Fixed.", "author": "nmancus1", "createdAt": "2020-04-17T15:10:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3NzE1NQ=="}], "type": "inlineReview"}, {"oid": "69b25c6673be02142a089a460ea1cbf37eb5dbb8", "url": "https://github.com/checkstyle/checkstyle/commit/69b25c6673be02142a089a460ea1cbf37eb5dbb8", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-17T15:09:13Z", "type": "forcePushed"}, {"oid": "9528fbfe3305653a8bbb47ccdb0abb2740836865", "url": "https://github.com/checkstyle/checkstyle/commit/9528fbfe3305653a8bbb47ccdb0abb2740836865", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-17T15:24:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwNjgzOA==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r414506838", "bodyText": "Please add some display for pass as well as failure. CI doesn't say anything if it is correctly empty. It is better to display more than less as when logic starts breaking we will need the displays to help us debug what went wrong.\nIs it possible to display the ls regardless if it is empty or not?", "author": "rnveach", "createdAt": "2020-04-24T11:35:49Z", "path": ".ci/wercker.sh", "diffHunk": "@@ -447,6 +447,16 @@ no-warning-imports-java-design-patterns)\n   fi\n   ;;\n \n+validate-ci-temp-empty)\n+  fail=0\n+  if [ \"$(ls -A .ci-temp)\" ]; then\n+    ls -A .ci-temp\n+    echo \".ci-temp/ is not empty. Verification failed.\"", "originalCommit": "9528fbfe3305653a8bbb47ccdb0abb2740836865", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDcwMzU3OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r414703578", "bodyText": "No need to apologize, I've been super busy with school, anyway. That's a good point, CI should acknowledge the successful validation.  Thank you. Instead of ls 'ing an empty directory, though, I've emulated the tests above this one in the bash script, so that bash will echo Empty .ci-temp/ validation did not find any warnings.  if validation is successful.  If you would rather have just ls, let me know and I'll make the changes.", "author": "nmancus1", "createdAt": "2020-04-24T16:25:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwNjgzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDcyOTgxNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r414729816", "bodyText": "Like I said more is better. I would display both the ls and the message.", "author": "rnveach", "createdAt": "2020-04-24T17:07:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwNjgzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc0NjY3MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8040#discussion_r414746670", "bodyText": "Done.", "author": "nmancus1", "createdAt": "2020-04-24T17:35:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwNjgzOA=="}], "type": "inlineReview"}, {"oid": "3af79220113f7a99db74d7348776c26b4187ee5d", "url": "https://github.com/checkstyle/checkstyle/commit/3af79220113f7a99db74d7348776c26b4187ee5d", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-24T16:25:01Z", "type": "forcePushed"}, {"oid": "38fa63e1fbf2b2dd2e754019907cc8e71d5694de", "url": "https://github.com/checkstyle/checkstyle/commit/38fa63e1fbf2b2dd2e754019907cc8e71d5694de", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-24T17:26:52Z", "type": "commit"}, {"oid": "38fa63e1fbf2b2dd2e754019907cc8e71d5694de", "url": "https://github.com/checkstyle/checkstyle/commit/38fa63e1fbf2b2dd2e754019907cc8e71d5694de", "message": "Issue #7892: add empty .ci-temp validation", "committedDate": "2020-04-24T17:26:52Z", "type": "forcePushed"}]}