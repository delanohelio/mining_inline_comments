{"pr_number": 8491, "pr_title": "Issue #8447: add ability to create single report", "pr_createdAt": "2020-07-16T11:52:11Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8491", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczMTM1MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455731351", "bodyText": "Please indent it on same level as github.event.comment.body == 'diff report'", "author": "strkkk", "createdAt": "2020-07-16T11:56:22Z", "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -22,7 +22,8 @@ on:\n jobs:\n # Parse PR Body, search for links to .properties and .xml files\n   parse_body:\n-    if: github.event.comment.body == 'report'\n+    if: github.event.comment.body == 'diff report' ||\n+      github.event.comment.body == 'single report'", "originalCommit": "57db587492131b66bf698d71f7f7bd035eadb6e9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNDYyNw==", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455734627", "bodyText": "sudo apt install groovy\nThis can be moved to previous step \"Relocate .xml and .properties \". And \"Relocate .xml and .properties\" can be changed to \"Prepare environment\" or something like this", "author": "strkkk", "createdAt": "2020-07-16T12:02:51Z", "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -94,14 +95,25 @@ jobs:\n          mv config.xml ./contribution/checkstyle-tester/\n          mv project.properties ./contribution/checkstyle-tester/\n          \n-     - name: Generate report\n+     - name: Generate basic difference report\n+       if: github.event.comment.body == 'diff report'\n        run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n          bash\n          REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n          REPO=\"../../checkstyle\"\n-         cd contribution/checkstyle-tester\n-         sudo apt install groovy\n          groovy diff.groovy -r $REPO -b master -p $REF -c config.xml -l project.properties\n+         \n+     - name: Generate basic single report\n+       if: github.event.comment.body == 'single report'\n+       run: |\n+         sudo apt install groovy", "originalCommit": "57db587492131b66bf698d71f7f7bd035eadb6e9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNDkwMg==", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455734902", "bodyText": "REF=\"origin/${{needs.parse_body.outputs.branch}}\"\nIt looks like this one can be extracted, because it is constant.", "author": "strkkk", "createdAt": "2020-07-16T12:03:28Z", "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -94,14 +95,25 @@ jobs:\n          mv config.xml ./contribution/checkstyle-tester/\n          mv project.properties ./contribution/checkstyle-tester/\n          \n-     - name: Generate report\n+     - name: Generate basic difference report\n+       if: github.event.comment.body == 'diff report'\n        run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n          bash\n          REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n          REPO=\"../../checkstyle\"\n-         cd contribution/checkstyle-tester\n-         sudo apt install groovy\n          groovy diff.groovy -r $REPO -b master -p $REF -c config.xml -l project.properties\n+         \n+     - name: Generate basic single report\n+       if: github.event.comment.body == 'single report'\n+       run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n+         bash\n+         REF=\"origin/${{needs.parse_body.outputs.branch}}\"", "originalCommit": "57db587492131b66bf698d71f7f7bd035eadb6e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTc0MDgzOA==", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455740838", "bodyText": "This is done so that the \"groovy diff.groovy ...\" line is not too long", "author": "OvchinnikovNV", "createdAt": "2020-07-16T12:14:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNDkwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTc0NzcwNw==", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455747707", "bodyText": "I understand, I mean that this is used in both generation steps, so may be extract it to some common place", "author": "strkkk", "createdAt": "2020-07-16T12:27:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNDkwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNTAwNA==", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455735004", "bodyText": "this one as well", "author": "strkkk", "createdAt": "2020-07-16T12:03:41Z", "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -94,14 +95,25 @@ jobs:\n          mv config.xml ./contribution/checkstyle-tester/\n          mv project.properties ./contribution/checkstyle-tester/\n          \n-     - name: Generate report\n+     - name: Generate basic difference report\n+       if: github.event.comment.body == 'diff report'\n        run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n          bash\n          REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n          REPO=\"../../checkstyle\"\n-         cd contribution/checkstyle-tester\n-         sudo apt install groovy\n          groovy diff.groovy -r $REPO -b master -p $REF -c config.xml -l project.properties\n+         \n+     - name: Generate basic single report\n+       if: github.event.comment.body == 'single report'\n+       run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n+         bash\n+         REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n+         REPO=\"../../checkstyle\"", "originalCommit": "57db587492131b66bf698d71f7f7bd035eadb6e9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b2db7a9ebd4afa7ddd951d0478381f6e474ed529", "url": "https://github.com/checkstyle/checkstyle/commit/b2db7a9ebd4afa7ddd951d0478381f6e474ed529", "message": "Issue #8447: add ability to create single report", "committedDate": "2020-07-16T20:54:57Z", "type": "commit"}]}