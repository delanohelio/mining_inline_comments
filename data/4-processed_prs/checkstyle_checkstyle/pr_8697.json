{"pr_number": 8697, "pr_title": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck", "pr_createdAt": "2020-08-15T16:26:16Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8697", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA3MjM5Mg==", "url": "https://github.com/checkstyle/checkstyle/pull/8697#discussion_r471072392", "bodyText": "One interesting case is missing here:\n            case ONE -> { break; } // OK\n            case TWO, THREE -> {} // violation\n            case FOUR -> {\n               // this block was intentionally left empty\n            } // OK when BlockOption == text\nBut I'm not sure about that. The code  { break; } looks a bit weird. And we already have an exception for the switch case:\n        switch (k) {\n            case ONE: {} // OK\n            case TWO:\n              break;\n          }\nThis behavior is (poorly) documented, let's leave it as it is. @nmancus1 please add a test case here:\n    case TWO, THREE -> {} // OK, empty blocks are allowed for cases", "author": "pbludov", "createdAt": "2020-08-16T06:27:08Z", "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/blocks/emptyblock/InputEmptyBlockSwitchExpressions.java", "diffHunk": "@@ -0,0 +1,114 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.blocks.emptyblock;\n+\n+/* Config:\n+ *\n+ * tokens = {LITERAL_WHILE , LITERAL_TRY , LITERAL_CATCH , LITERAL_FINALLY ,\n+ *  LITERAL_DO , LITERAL_IF , LITERAL_ELSE , LITERAL_FOR , INSTANCE_INIT ,\n+ *  STATIC_INIT , LITERAL_SWITCH , LITERAL_SYNCHRONIZED , LITERAL_CASE ,\n+ *  LITERAL_DEFAULT , ARRAY_INIT}\n+ * BlockOption = statement\n+ */\n+public class InputEmptyBlockSwitchExpressions {\n+    void howMany1(Nums k) {\n+        switch (k) {\n+            case ONE:\n+                System.out.println(\"case two\");\n+            case TWO, THREE: { // violation\n+\n+            }\n+\n+            case FOUR: {\n+                System.out.println(\"case three\");\n+            }\n+\n+            default:\n+                throw new IllegalStateException(\"Not a nums\");\n+        }\n+    }\n+\n+    void howMany2(Nums k) {\n+        switch (k) {\n+            case ONE ->\n+                    System.out.println(\"case one\");\n+\n+            case TWO, THREE ->", "originalCommit": "bbb6b3fe1606351eaa06fcf3fa317f269128026e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTExMDAwNw==", "url": "https://github.com/checkstyle/checkstyle/pull/8697#discussion_r471110007", "bodyText": "Done.", "author": "nmancus1", "createdAt": "2020-08-16T12:56:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA3MjM5Mg=="}], "type": "inlineReview"}, {"oid": "9758a940ae2e02aafaaf52a04d675236b115f786", "url": "https://github.com/checkstyle/checkstyle/commit/9758a940ae2e02aafaaf52a04d675236b115f786", "message": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck", "committedDate": "2020-08-16T12:51:30Z", "type": "commit"}, {"oid": "9758a940ae2e02aafaaf52a04d675236b115f786", "url": "https://github.com/checkstyle/checkstyle/commit/9758a940ae2e02aafaaf52a04d675236b115f786", "message": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck", "committedDate": "2020-08-16T12:51:30Z", "type": "forcePushed"}]}