{"pr_number": 1932, "pr_title": "Task/purge error table", "pr_createdAt": "2020-09-21T08:28:19Z", "pr_url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932", "timeline": [{"oid": "cee94da2b4953a33ccd033c1cbccf3bd58b5b21c", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/cee94da2b4953a33ccd033c1cbccf3bd58b5b21c", "message": "purge error table", "committedDate": "2020-09-18T11:19:43Z", "type": "commit"}, {"oid": "769a443aa1323f41d8c3eb920496482082a11e27", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/769a443aa1323f41d8c3eb920496482082a11e27", "message": "add misssed stmt", "committedDate": "2020-09-18T11:29:48Z", "type": "commit"}, {"oid": "d6b7407190af315fa0dbf5abe107bbe63dd0306a", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/d6b7407190af315fa0dbf5abe107bbe63dd0306a", "message": "add maxLatestErrors option to SQL sinks", "committedDate": "2020-09-21T08:26:03Z", "type": "commit"}, {"oid": "39e2ae498d8e3550a35ea754f0582b55fba4efa3", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/39e2ae498d8e3550a35ea754f0582b55fba4efa3", "message": "doc abot max_latest_errors", "committedDate": "2020-09-21T08:56:59Z", "type": "commit"}, {"oid": "421eaf036582b40ae5d9259fa49b2f8a9d51a367", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/421eaf036582b40ae5d9259fa49b2f8a9d51a367", "message": "fix postgresql sql sintax", "committedDate": "2020-09-21T10:04:40Z", "type": "commit"}, {"oid": "1e10199771b273f30ce2482f04dabd85db077e47", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/1e10199771b273f30ce2482f04dabd85db077e47", "message": "update CNR", "committedDate": "2020-09-21T13:57:18Z", "type": "commit"}, {"oid": "4c71f2f6a518ef6633347aaa9fcf9b64417ad758", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/4c71f2f6a518ef6633347aaa9fcf9b64417ad758", "message": "Update SQLBackendImpl.java", "committedDate": "2020-09-22T09:08:36Z", "type": "commit"}, {"oid": "968ced9578859238c3f5948bfd4d97e1fdcf7025", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/968ced9578859238c3f5948bfd4d97e1fdcf7025", "message": "Update SQLBackendImpl.java", "committedDate": "2020-09-22T09:10:04Z", "type": "commit"}, {"oid": "e8331f0b996b4cf397d9a571d5f334866a269372", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/e8331f0b996b4cf397d9a571d5f334866a269372", "message": "Merge branch 'master' into task/purge_error_table", "committedDate": "2020-09-24T09:27:24Z", "type": "commit"}, {"oid": "130554a1e4be25fe564ef772caa493d79e346086", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/130554a1e4be25fe564ef772caa493d79e346086", "message": "Update SQLBackendImpl.java", "committedDate": "2020-09-24T09:31:14Z", "type": "commit"}, {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/1dea0393975094a25e43dda4fd8cb0c210fde25b", "message": "Update SQLBackendImpl.java", "committedDate": "2020-09-24T09:36:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjUxMQ==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#discussion_r494356511", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ENV GIT_REV_CYGNUS \"task/purge_error_table\"\n          \n          \n            \n            ENV GIT_REV_CYGNUS \"master\"\n          \n      \n    \n    \n  \n\n(Seems to be a local change not changed before pushing the commit to github)", "author": "fgalan", "createdAt": "2020-09-24T14:16:55Z", "path": "docker/cygnus-common/Dockerfile", "diffHunk": "@@ -36,7 +36,7 @@ ENV CYGNUS_API_PORT \"8081\"\n # PR https://github.com/telefonicaid/fiware-cygnus/pull/1801 should be also done in this Dockerfile\n # NOTE: Configure correctly GIT_URL_CYGNUS and GIT_REV_CYGNUS for each git branch/fork used\n ENV GIT_URL_CYGNUS \"https://github.com/telefonicaid/fiware-cygnus.git\"\n-ENV GIT_REV_CYGNUS \"master\"\n+ENV GIT_REV_CYGNUS \"task/purge_error_table\"", "originalCommit": "1dea0393975094a25e43dda4fd8cb0c210fde25b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjYzNg==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#discussion_r494356636", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The among of errors which are persisted is the latest 100 by default, but couldd be changed by setting sink option `max_latest_errors`.\n          \n          \n            \n            The among of errors which are persisted is the latest 100 by default, but could be changed by setting sink option `max_latest_errors`.", "author": "fgalan", "createdAt": "2020-09-24T14:17:04Z", "path": "doc/cygnus-common/installation_and_administration_guide/error_persistance.md", "diffHunk": "@@ -5,6 +5,7 @@ If there is an exception when trying to persist data into storage. Cygnus is cap\n This only applies to SQL type backends PostgreSQL & MySQL. Notice that Postgis uses PostgreSQL backend so this function extends to Postgis as well as PostgreSQL and MySQL.\n \n This feature is enabled by default but could be disabled by setting sink option `persist_errors` to false.\n+The among of errors which are persisted is the latest 100 by default, but couldd be changed by setting sink option `max_latest_errors`.", "originalCommit": "1dea0393975094a25e43dda4fd8cb0c210fde25b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjgzNw==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#discussion_r494356837", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [cygnus-common][SQLBackendImpl] Purge automatically persistence error logs table, keeping latest errors (#1929)\n          \n          \n            \n            [cygnus-common][SQLBackendImpl] Purge automatically persistence error logs table, keeping latest errors (max_latest_errors setting) (#1929)", "author": "fgalan", "createdAt": "2020-09-24T14:17:19Z", "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -1,3 +1,4 @@\n-[cygnus-common][SQLBackendImpl] Add configuration option to persist errors in SQL sinks (#1928)\n+[cygnus-common][SQLBackendImpl] Purge automatically persistence error logs table, keeping latest errors (#1929)", "originalCommit": "1dea0393975094a25e43dda4fd8cb0c210fde25b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2e9a8d64db917f6e3563928cd23ff9eb6a62dc6e", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/2e9a8d64db917f6e3563928cd23ff9eb6a62dc6e", "message": "Update docker/cygnus-common/Dockerfile\n\nCo-authored-by: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>", "committedDate": "2020-09-24T14:26:45Z", "type": "commit"}, {"oid": "754fc6d393347a27ef192a8ee9fa3a03204dba00", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/754fc6d393347a27ef192a8ee9fa3a03204dba00", "message": "Update doc/cygnus-common/installation_and_administration_guide/error_persistance.md\n\nCo-authored-by: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>", "committedDate": "2020-09-24T14:26:57Z", "type": "commit"}, {"oid": "69fd4fb869866a5320b2e2aa93a05e3f71e5136c", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/69fd4fb869866a5320b2e2aa93a05e3f71e5136c", "message": "Update CHANGES_NEXT_RELEASE\n\nCo-authored-by: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>", "committedDate": "2020-09-24T14:27:10Z", "type": "commit"}, {"oid": "458cc5f7b74e5c432af60caa594c847f8f4a23fa", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/458cc5f7b74e5c432af60caa594c847f8f4a23fa", "message": "Update SQLBackendImpl.java", "committedDate": "2020-09-24T14:37:02Z", "type": "commit"}]}