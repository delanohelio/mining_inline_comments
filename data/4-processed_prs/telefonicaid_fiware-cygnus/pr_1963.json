{"pr_number": 1963, "pr_title": "Add common open containers LABELS", "pr_createdAt": "2020-10-19T14:23:50Z", "pr_url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963", "timeline": [{"oid": "08ebb3f3235dca4b50cee18447d44da80e02a4f3", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/08ebb3f3235dca4b50cee18447d44da80e02a4f3", "message": "Add Cygnus-LD to automated builds\n\n-  Add common opencontainers LABELS\n-  Alter build/post-push hooks to include LD build\n-  Remove MAINTAINER as deprecated.", "committedDate": "2020-10-19T14:23:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU4ODIwNg==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r508588206", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            LABEL \"org.opencontainers.image.title\"=\"Cygnus-LD Data Peristence\"\n          \n          \n            \n            LABEL \"org.opencontainers.image.title\"=\"Cygnus-LD Data Persistence\"\n          \n      \n    \n    \n  \n\nSimilar typo in other LABEL in this PR", "author": "fgalan", "createdAt": "2020-10-20T15:04:28Z", "path": "docker/cygnus-ngsi-ld/Dockerfile", "diffHunk": "@@ -346,3 +346,13 @@ ENTRYPOINT [\"/cygnus-entrypoint.sh\"]\n # Ports used by cygnus-ngsi\n EXPOSE ${CYGNUS_SERVICE_PORT} ${CYGNUS_API_PORT}\n \n+LABEL \"maintainer\"=\"Cygnus Team. Telef\u00f3nica I+D\"\n+LABEL \"org.opencontainers.image.authors\"=\"iot_support@tid.es\"\n+LABEL \"org.opencontainers.image.documentation\"=\"https://fiware-cygnus.rtfd.io/\"\n+LABEL \"org.opencontainers.image.vendor\"=\"Telef\u00f3nica Investigaci\u00f3n y Desarrollo, S.A.U\"\n+LABEL \"org.opencontainers.image.licenses\"=\"AGPL-3.0-only\"\n+LABEL \"org.opencontainers.image.title\"=\"Cygnus-LD Data Peristence\"", "originalCommit": "08ebb3f3235dca4b50cee18447d44da80e02a4f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODYxODQ1MA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r508618450", "bodyText": "Typo Fixed 34b9ea2", "author": "jason-fox", "createdAt": "2020-10-20T15:35:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU4ODIwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5ODk1Ng==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r508598956", "bodyText": "Peristence  -> Persistence", "author": "AlvaroVega", "createdAt": "2020-10-20T15:18:08Z", "path": "docker/cygnus-ngsi/Dockerfile", "diffHunk": "@@ -351,3 +351,12 @@ ENTRYPOINT [\"/cygnus-entrypoint.sh\"]\n # Ports used by cygnus-ngsi\n EXPOSE ${CYGNUS_SERVICE_PORT} ${CYGNUS_API_PORT}\n \n+LABEL \"maintainer\"=\"Cygnus Team. Telef\u00f3nica I+D\"\n+LABEL \"org.opencontainers.image.authors\"=\"iot_support@tid.es\"\n+LABEL \"org.opencontainers.image.documentation\"=\"https://fiware-cygnus.rtfd.io/\"\n+LABEL \"org.opencontainers.image.vendor\"=\"Telef\u00f3nica Investigaci\u00f3n y Desarrollo, S.A.U\"\n+LABEL \"org.opencontainers.image.licenses\"=\"AGPL-3.0-only\"\n+LABEL \"org.opencontainers.image.title\"=\"Cygnus Data Peristence\"", "originalCommit": "08ebb3f3235dca4b50cee18447d44da80e02a4f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODYxNjE2MA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r508616160", "bodyText": "Typo Fixed 2fbc66f", "author": "jason-fox", "createdAt": "2020-10-20T15:33:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5ODk1Ng=="}], "type": "inlineReview"}, {"oid": "2fbc66f12d3b34421a4247c93fdf70d1d05acd8b", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/2fbc66f12d3b34421a4247c93fdf70d1d05acd8b", "message": "Fix Typo", "committedDate": "2020-10-20T15:31:42Z", "type": "commit"}, {"oid": "34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a", "message": "Fix typo", "committedDate": "2020-10-20T15:34:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzkzNjA0OA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r517936048", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            docker image build --build-arg SOURCE_BRANCH=$SOURCE_BRANCH \\\n          \n          \n            \n            \t--label \"org.opencontainers.image.created\"=$(date +%Y-%m-%d) \\\n          \n          \n            \n            \t--label \"org.opencontainers.image.revision\"=$SOURCE_COMMIT \\\n          \n          \n            \n            \t--label \"org.opencontainers.image.version\"=$DOCKER_TAG \\\n          \n          \n            \n            \t-f docker/cygnus-ngsi-ld/Dockerfile \\\n          \n          \n            \n            \t-t $IMAGE_NAME-ld \\\n          \n          \n            \n            \t.", "author": "IvanHdzC", "createdAt": "2020-11-05T10:13:52Z", "path": "docker/cygnus-ngsi/hooks/build", "diffHunk": "@@ -17,7 +17,18 @@\n # For those usages not covered by the GNU Affero General Public License please contact with iot_support at tid dot es\n \n cd ../../\n-docker build \\\n-  -f docker/cygnus-ngsi/Dockerfile \\\n-  -t ${IMAGE_NAME} \\\n-  .\n+docker image build --build-arg SOURCE_BRANCH=$SOURCE_BRANCH \\\n+\t--label \"org.opencontainers.image.created\"=$(date +%Y-%m-%d) \\\n+\t--label \"org.opencontainers.image.revision\"=$SOURCE_COMMIT \\\n+\t--label \"org.opencontainers.image.version\"=$DOCKER_TAG \\\n+\t-f docker/cygnus-ngsi/Dockerfile \\\n+\t-t $IMAGE_NAME \\\n+\t.\n+\n+docker image build --build-arg SOURCE_BRANCH=$SOURCE_BRANCH \\\n+\t--label \"org.opencontainers.image.created\"=$(date +%Y-%m-%d) \\\n+\t--label \"org.opencontainers.image.revision\"=$SOURCE_COMMIT \\\n+\t--label \"org.opencontainers.image.version\"=$DOCKER_TAG \\\n+\t-f docker/cygnus-ngsi-ld/Dockerfile \\\n+\t-t $IMAGE_NAME-ld \\\n+\t.", "originalCommit": "34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY0MDU4NA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r520640584", "bodyText": "Fixed ef6156a", "author": "jason-fox", "createdAt": "2020-11-10T15:14:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzkzNjA0OA=="}], "type": "inlineReview"}, {"oid": "ef6156ad8f37e274af2c1e0b1efecb4e4e3be24c", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/ef6156ad8f37e274af2c1e0b1efecb4e4e3be24c", "message": "Remove Docker build automation", "committedDate": "2020-11-10T15:13:37Z", "type": "commit"}]}