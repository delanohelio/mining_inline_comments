{"pr_number": 1909, "pr_title": "added replica set option to the mongodb connection", "pr_createdAt": "2020-08-26T10:07:47Z", "pr_url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909", "timeline": [{"oid": "11d34de95bcddc018c9cd86e319adfde5a463420", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/11d34de95bcddc018c9cd86e319adfde5a463420", "message": "added replica set option to the mongodb connection", "committedDate": "2020-08-26T10:03:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0MDgyNA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494340824", "bodyText": "CHANGES_NEXT_RELEASE entry corresponding to the changes in this PR should be added (with a mention of the new configuration parameter being added)", "author": "fgalan", "createdAt": "2020-09-24T13:56:49Z", "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/mongo/MongoBackendImpl.java", "diffHunk": "@@ -57,6 +57,7 @@\n     private final String mongoUsername;", "originalCommit": "11d34de95bcddc018c9cd86e319adfde5a463420", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ1MTA0NA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r497451044", "bodyText": "Fixed in cba084e", "author": "fgalan", "createdAt": "2020-09-30T11:57:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0MDgyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0Mjk4OA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494342988", "bodyText": "I think is would be a good idea to remark the optionality of this parameter, the following way:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |\n          \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Note that this parameter is optional because Cygnus is able to connect to a MongoDB replica set without needing to specify its name. |\n          \n      \n    \n    \n  \n\nWith regards to replica I think is not so usual :) so better not mention about it.", "author": "fgalan", "createdAt": "2020-09-24T13:59:13Z", "path": "doc/cygnus-ngsi/flume_extensions_catalogue/ngsi_mongo_sink.md", "diffHunk": "@@ -306,6 +306,7 @@ If `data_model=dm-by-entity` and `attr_persistence=column` then `NGSIMongoSink`\n | mongo\\_username | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_password | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_auth_source | no | <i>empty</i> | Auth source database use to authenticate the user. Usually could be `admin`. |\n+| mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |", "originalCommit": "11d34de95bcddc018c9cd86e319adfde5a463420", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ1MTAxNQ==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r497451015", "bodyText": "Fixed in cba084e", "author": "fgalan", "createdAt": "2020-09-30T11:57:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0Mjk4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0NDA2Ng==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494344066", "bodyText": "Similar comment:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |\n          \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Note that this parameter is optional because Cygnus is able to connect to a MongoDB replica set without needing to specify its name. |", "author": "fgalan", "createdAt": "2020-09-24T14:00:14Z", "path": "doc/cygnus-ngsi/flume_extensions_catalogue/ngsi_sth_sink.md", "diffHunk": "@@ -306,6 +306,7 @@ Assuming `data_model=dm-by-entity` and all the possible resolutions as configura\n | mongo\\_username | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_password | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_auth_source | no | <i>empty</i> | Auth source database use to authenticate the user. Usually could be `admin`. |\n+| mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |", "originalCommit": "11d34de95bcddc018c9cd86e319adfde5a463420", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ1MDk4OA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r497450988", "bodyText": "Fixed in cba084e", "author": "fgalan", "createdAt": "2020-09-30T11:57:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0NDA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0NDU2MQ==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494344561", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                * CYGNUS_MONGO_REPLICA_SET: Mongo option to specify the replica set name. Usually could be `replica`.\n          \n          \n            \n                * CYGNUS_MONGO_REPLICA_SET: Mongo option to specify the replica set name. Note that this env var is optional because Cygnus is able to connect to a MongoDB replica set without needing to specify its name.", "author": "fgalan", "createdAt": "2020-09-24T14:00:48Z", "path": "doc/cygnus-ngsi/installation_and_administration_guide/install_with_docker.md", "diffHunk": "@@ -204,6 +204,7 @@ As seen above, the default configuration distributed with the image is tied to c\n     * The user for Mongo and STH is `mongo` but can be changed through the CYGNUS_MONGO_USER environment variable.\n     * The pass for Mongo and STH is `mongo` but can be changed through the CYGNUS_MONGO_PASS environment variable.\n     * CYGNUS_MONGO_AUTH_SOURCE: Mongo option to specify which common user database source to use for authentication. Usually could be `admin`.\n+    * CYGNUS_MONGO_REPLICA_SET: Mongo option to specify the replica set name. Usually could be `replica`.", "originalCommit": "11d34de95bcddc018c9cd86e319adfde5a463420", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ1MDk1NA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r497450954", "bodyText": "Fixed in cba084e", "author": "fgalan", "createdAt": "2020-09-30T11:57:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0NDU2MQ=="}], "type": "inlineReview"}, {"oid": "cba084e8ca6f5cb0d476a24f2973985871096eb9", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/cba084e8ca6f5cb0d476a24f2973985871096eb9", "message": "replica set name is shown as optional in the docs", "committedDate": "2020-09-30T08:07:48Z", "type": "commit"}, {"oid": "d0009d12eb03049767ed0356aba1533364fc8c32", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/d0009d12eb03049767ed0356aba1533364fc8c32", "message": "Merge branch 'master' into feature/mongodb-replicaset", "committedDate": "2020-09-30T08:12:03Z", "type": "commit"}]}