{"pr_number": 11825, "pr_title": "[FLINK-17226][metrics]Remove Prometheus shade-plugin relocations", "pr_createdAt": "2020-04-20T12:34:36Z", "pr_url": "https://github.com/apache/flink/pull/11825", "timeline": [{"oid": "fa5c48ec2781b7a7c9d1cfd308ace6498d946629", "url": "https://github.com/apache/flink/commit/fa5c48ec2781b7a7c9d1cfd308ace6498d946629", "message": "[FLINK-17226][metrics]Remove Prometheus shade-plugin relocations", "committedDate": "2020-04-20T12:30:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgyMDg1Nw==", "url": "https://github.com/apache/flink/pull/11825#discussion_r412820857", "bodyText": "My bad, we should only remove the relocations, but leave the rest. Otherwise we aren't building a fat jar.", "author": "zentol", "createdAt": "2020-04-22T09:25:18Z", "path": "flink-metrics/flink-metrics-prometheus/pom.xml", "diffHunk": "@@ -102,34 +102,4 @@ under the License.\n \t\t</dependency>\n \t</dependencies>\n \n-\t<build>\n-\t\t<plugins>\n-\t\t\t<plugin>\n-\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\n-\t\t\t\t<artifactId>maven-shade-plugin</artifactId>\n-\t\t\t\t<executions>\n-\t\t\t\t\t<execution>\n-\t\t\t\t\t\t<id>shade-flink</id>\n-\t\t\t\t\t\t<phase>package</phase>\n-\t\t\t\t\t\t<goals>\n-\t\t\t\t\t\t\t<goal>shade</goal>\n-\t\t\t\t\t\t</goals>\n-\t\t\t\t\t\t<configuration>\n-\t\t\t\t\t\t\t<artifactSet>\n-\t\t\t\t\t\t\t\t<includes>\n-\t\t\t\t\t\t\t\t\t<include>io.prometheus:*</include>\n-\t\t\t\t\t\t\t\t</includes>\n-\t\t\t\t\t\t\t</artifactSet>\n-\t\t\t\t\t\t\t<relocations combine.children=\"append\">", "originalCommit": "fa5c48ec2781b7a7c9d1cfd308ace6498d946629", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzUzMjcyOQ==", "url": "https://github.com/apache/flink/pull/11825#discussion_r413532729", "bodyText": "Sorry,I misunderstood your meaning and have restored the configuration of fatjar", "author": "molsionmo", "createdAt": "2020-04-23T06:04:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgyMDg1Nw=="}], "type": "inlineReview"}, {"oid": "71825e0935c9702bef5593ef44d66ef055326eb7", "url": "https://github.com/apache/flink/commit/71825e0935c9702bef5593ef44d66ef055326eb7", "message": "[FLINK-17226][metrics]restored the configuration of fatjar in pom.xml of module prometheus", "committedDate": "2020-04-23T06:03:42Z", "type": "commit"}]}