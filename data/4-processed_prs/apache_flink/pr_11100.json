{"pr_number": 11100, "pr_title": "[FLINK-15562][docs] Add Example settings.xml for maven archetype command wh\u2026", "pr_createdAt": "2020-02-16T02:34:04Z", "pr_url": "https://github.com/apache/flink/pull/11100", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDY2Nw==", "url": "https://github.com/apache/flink/pull/11100#discussion_r381304667", "bodyText": "what's with the profile stuff?", "author": "zentol", "createdAt": "2020-02-19T13:56:38Z", "path": "docs/dev/projectsetup/scala_api_quickstart.md", "diffHunk": "@@ -128,27 +128,46 @@ Use one of the following commands to __create a project__:\n \n <div class=\"tab-content\">\n     <div class=\"tab-pane active\" id=\"maven-archetype\">\n-    {% highlight bash %}\n-    $ mvn archetype:generate                               \\\n-      -DarchetypeGroupId=org.apache.flink              \\\n-      -DarchetypeArtifactId=flink-quickstart-scala     \\{% unless site.is_stable %}\n-      -DarchetypeCatalog=https://repository.apache.org/content/repositories/snapshots/ \\{% endunless %}\n-      -DarchetypeVersion={{site.version}}\n-    {% endhighlight %}\n+{% highlight bash %}\n+$ mvn archetype:generate                               \\\n+  -DarchetypeGroupId=org.apache.flink              \\\n+  -DarchetypeArtifactId=flink-quickstart-scala     \\{% unless site.is_stable %}\n+  -DarchetypeCatalog=https://repository.apache.org/content/repositories/snapshots/ \\{% endunless %}\n+  -DarchetypeVersion={{site.version}}\n+{% endhighlight %}\n     This allows you to <strong>name your newly created project</strong>. It will interactively ask you for the groupId, artifactId, and package name.\n     </div>\n     <div class=\"tab-pane\" id=\"quickstart-script\">\n {% highlight bash %}\n {% if site.is_stable %}\n-    $ curl https://flink.apache.org/q/quickstart-scala.sh | bash -s {{site.version}}\n+$ curl https://flink.apache.org/q/quickstart-scala.sh | bash -s {{site.version}}\n {% else %}\n-    $ curl https://flink.apache.org/q/quickstart-scala-SNAPSHOT.sh | bash -s {{site.version}}\n+$ curl https://flink.apache.org/q/quickstart-scala-SNAPSHOT.sh | bash -s {{site.version}}\n {% endif %}\n {% endhighlight %}\n     </div>\n     {% unless site.is_stable %}\n     <p style=\"border-radius: 5px; padding: 5px\" class=\"bg-danger\">\n-        <b>Note</b>: For Maven 3.0 or higher, it is no longer possible to specify the repository (-DarchetypeCatalog) via the commandline. If you wish to use the snapshot repository, you need to add a repository entry to your settings.xml. For details about this change, please refer to <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/archetype-repository.html\">Maven official document</a>\n+        <b>Note</b>: For Maven 3.0 or higher, it is no longer possible to specify the repository (-DarchetypeCatalog) via the command line. For details about this change, please refer to <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/archetype-repository.html\">Maven official document</a>\n+        If you wish to use the snapshot repository, you need to add a repository entry to your settings.xml. For example:\n+{% highlight bash %}\n+<settings>\n+  <activeProfiles>", "originalCommit": "02620095a58249cf77e0c801541060e5b86df404", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTU4OA==", "url": "https://github.com/apache/flink/pull/11100#discussion_r383061588", "bodyText": "Sorry, I did not understand what you mean. Do you mean to set it as the default profile?", "author": "KarmaGYZ", "createdAt": "2020-02-24T01:34:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDY2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA3ODM0NA==", "url": "https://github.com/apache/flink/pull/11100#discussion_r384078344", "bodyText": "I'm wondering why there is a profile at all?", "author": "zentol", "createdAt": "2020-02-25T19:30:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDY2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ5MjQzNQ==", "url": "https://github.com/apache/flink/pull/11100#discussion_r384492435", "bodyText": "In other words, why not like this:\n<settings>\n  <repositories>\n    <repository>\n      <id>apache-snapshots</id>\n      <url>https://repository.apache.org/content/repositories/snapshots/</url>\n    </repository>\n  </repositories>\n</settings>\n\nI suppose the profile allows users to separate options per project; what I'm wondering is whether we shouldn't just document the minimum required contents?\n... it's probably fine as is, just wondering, really.", "author": "zentol", "createdAt": "2020-02-26T13:31:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDY2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg1ODU3Nw==", "url": "https://github.com/apache/flink/pull/11100#discussion_r384858577", "bodyText": "I'm not a master for maven at all. But I think the current way follows the official schema. https://maven.apache.org/settings.html", "author": "KarmaGYZ", "createdAt": "2020-02-27T01:02:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDY2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDgwMw==", "url": "https://github.com/apache/flink/pull/11100#discussion_r381304803", "bodyText": "let's move these refactorings into a separate commit", "author": "zentol", "createdAt": "2020-02-19T13:56:53Z", "path": "docs/dev/projectsetup/scala_api_quickstart.zh.md", "diffHunk": "@@ -126,27 +126,47 @@ addSbtPlugin(\"com.typesafe.sbteclipse\" % \"sbteclipse-plugin\" % \"4.0.0\")\n \n <div class=\"tab-content\">\n     <div class=\"tab-pane active\" id=\"maven-archetype\">\n-    {% highlight bash %}\n-    $ mvn archetype:generate                               \\\n-      -DarchetypeGroupId=org.apache.flink              \\\n-      -DarchetypeArtifactId=flink-quickstart-scala     \\{% unless site.is_stable %}", "originalCommit": "02620095a58249cf77e0c801541060e5b86df404", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNTYxMA==", "url": "https://github.com/apache/flink/pull/11100#discussion_r381305610", "bodyText": "snapshots should at no point be advertised to users. They purely exist for dev purposes.", "author": "zentol", "createdAt": "2020-02-19T13:58:06Z", "path": "docs/dev/projectsetup/java_api_quickstart.md", "diffHunk": "@@ -53,28 +53,47 @@ Use one of the following commands to __create a project__:\n </ul>\n <div class=\"tab-content\">\n     <div class=\"tab-pane active\" id=\"maven-archetype\">\n-    {% highlight bash %}\n-    $ mvn archetype:generate                               \\\n-      -DarchetypeGroupId=org.apache.flink              \\\n-      -DarchetypeArtifactId=flink-quickstart-java      \\{% unless site.is_stable %}\n-      -DarchetypeCatalog=https://repository.apache.org/content/repositories/snapshots/ \\{% endunless %}\n-      -DarchetypeVersion={{site.version}}\n-    {% endhighlight %}\n+{% highlight bash %}\n+$ mvn archetype:generate                               \\\n+  -DarchetypeGroupId=org.apache.flink              \\\n+  -DarchetypeArtifactId=flink-quickstart-java      \\{% unless site.is_stable %}\n+  -DarchetypeCatalog=https://repository.apache.org/content/repositories/snapshots/ \\{% endunless %}\n+  -DarchetypeVersion={{site.version}}\n+{% endhighlight %}\n         This allows you to <strong>name your newly created project</strong>. It will interactively ask you for the groupId, artifactId, and package name.\n     </div>\n     <div class=\"tab-pane\" id=\"quickstart-script\">\n-    {% highlight bash %}\n+{% highlight bash %}\n {% if site.is_stable %}\n-    $ curl https://flink.apache.org/q/quickstart.sh | bash -s {{site.version}}\n+$ curl https://flink.apache.org/q/quickstart.sh | bash -s {{site.version}}\n {% else %}\n-    $ curl https://flink.apache.org/q/quickstart-SNAPSHOT.sh | bash -s {{site.version}}\n+$ curl https://flink.apache.org/q/quickstart-SNAPSHOT.sh | bash -s {{site.version}}\n {% endif %}\n-    {% endhighlight %}\n+{% endhighlight %}\n \n     </div>\n     {% unless site.is_stable %}\n     <p style=\"border-radius: 5px; padding: 5px\" class=\"bg-danger\">\n-        <b>Note</b>: For Maven 3.0 or higher, it is no longer possible to specify the repository (-DarchetypeCatalog) via the command line. If you wish to use the snapshot repository, you need to add a repository entry to your settings.xml. For details about this change, please refer to <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/archetype-repository.html\">Maven official document</a>\n+        <b>Note</b>: For Maven 3.0 or higher, it is no longer possible to specify the repository (-DarchetypeCatalog) via the command line. For details about this change, please refer to <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/archetype-repository.html\">Maven official document</a>\n+        If you wish to use the snapshot repository, you need to add a repository entry to your settings.xml. For example:", "originalCommit": "02620095a58249cf77e0c801541060e5b86df404", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5a0a60e65f243141a09fd357b9142803ad517f02", "url": "https://github.com/apache/flink/commit/5a0a60e65f243141a09fd357b9142803ad517f02", "message": "[FLINK-15562] Add Example settings.xml for maven archetype command when using Maven 3.0 or higher", "committedDate": "2020-02-27T02:59:44Z", "type": "forcePushed"}, {"oid": "b03dadfd907aaccc7745ad5b80e2f4cfe341e925", "url": "https://github.com/apache/flink/commit/b03dadfd907aaccc7745ad5b80e2f4cfe341e925", "message": "[hotfix][docs] Remove unnecessary indents and blank lines", "committedDate": "2020-02-27T09:58:04Z", "type": "commit"}, {"oid": "ee450be427dd09d239662f99489e7a30e13ff555", "url": "https://github.com/apache/flink/commit/ee450be427dd09d239662f99489e7a30e13ff555", "message": "[FLINK-15562][docs] Add example settings.xml for configuring snapshot repository", "committedDate": "2020-02-27T09:58:17Z", "type": "commit"}, {"oid": "ee450be427dd09d239662f99489e7a30e13ff555", "url": "https://github.com/apache/flink/commit/ee450be427dd09d239662f99489e7a30e13ff555", "message": "[FLINK-15562][docs] Add example settings.xml for configuring snapshot repository", "committedDate": "2020-02-27T09:58:17Z", "type": "forcePushed"}]}