{"pr_number": 13750, "pr_title": "[FLINK-19394][docs-zh] Translate the 'Monitoring Checkpointing' page of 'Debugging & Monitoring' into Chinese", "pr_createdAt": "2020-10-22T14:46:35Z", "pr_url": "https://github.com/apache/flink/pull/13750", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4MTQ5Ng==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513181496", "bodyText": "\u8fd9\u91cc\u5982\u679c\u7ffb\u8bd1\u6210 \u4ece Checkpoint \u8fd8\u539f \u6216\u8005 \u4ece Checkpoint \u6062\u590d \u662f\u5426\u53ef\u4ee5\uff0c\u56e0\u4e3a Checkpoint \u9ed8\u8ba4\u90fd\u662f \u5b9a\u671f\u7684", "author": "klion26", "createdAt": "2020-10-28T04:59:41Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4MjA1Ng==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513182056", "bodyText": "unaligned checkpoint \u7ffb\u8bd1\u6210 \u672a\u5bf9\u9f50\u7684 Checkpoint \u8fd9\u4e2a\u662f\u5426\u5408\u9002\u5462\uff1f", "author": "klion26", "createdAt": "2020-10-28T05:01:58Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002\n+\t- Restore from Savepoint\uff1a\u4ece Savepoint \u8fd8\u539f\u3002\n+\n+<a name=\"history-tab\"></a>\n+\n+### \u5386\u53f2\u8bb0\u5f55\uff08History\uff09\u9009\u9879\u5361\n+\n+Checkpoint \u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u6709\u5173\u6700\u8fd1\u89e6\u53d1\u7684 Checkpoint \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **ID**: The ID of the triggered checkpoint. The IDs are incremented for each checkpoint, starting at 1.\n-- **Status**: The current status of the checkpoint, which is either *In Progress* (<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>), *Completed* (<i aria-hidden=\"true\" class=\"fa fa-check\"/>), or *Failed* (<i aria-hidden=\"true\" class=\"fa fa-remove\"/>). If the triggered checkpoint is a savepoint, you will see a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> symbol.\n-- **Trigger Time**: The time when the checkpoint was triggered at the JobManager.\n-- **Latest Acknowledgement**: The time when the latest acknowledgement for any subtask was received at the JobManager (or n/a if no acknowledgement received yet).\n-- **End to End Duration**: The duration from the trigger timestamp until the latest acknowledgement (or n/a if no acknowledgement received yet). This end to end duration for a complete checkpoint is determined by the last subtask that acknowledges the checkpoint. This time is usually larger than single subtasks need to actually checkpoint the state.\n-- **Checkpointed Data Size**: The checkpointed data size over all acknowledged subtasks. If incremental checkpointing is enabled this value is the checkpointed data size delta.\n-- **Processed in-flight data**: The approximate number of bytes processed during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks.\n-- **Persisted in-flight data**: The number of bytes persisted during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks. This is > 0 only if the unaligned checkpoints are enabled.\n+- **ID**\uff1a\u5df2\u89e6\u53d1 Checkpoint \u7684 ID\u3002\u6bcf\u4e2a Checkpoint \u7684 ID \u90fd\u4f1a\u9012\u589e\uff0c\u4ece 1 \u5f00\u59cb\u3002\n+- **Status**\uff1aCheckpoint \u7684\u5f53\u524d\u72b6\u6001\uff0c\u53ef\u4ee5\u662f*\u6b63\u5728\u8fdb\u884c\uff08In Progress\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>\uff09\u3001*\u5df2\u5b8c\u6210\uff08Completed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-check\"/>\uff09\u6216*\u5931\u8d25\uff08Failed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-remove\"/>\uff09\u3002\u5982\u679c\u89e6\u53d1\u7684\u68c0\u67e5\u70b9\u662f\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e2a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> \u7b26\u53f7\u3002\n+- **Trigger Time**\uff1a\u5728 JobManager \u4e0a\u53d1\u8d77 Checkpoint \u7684\u65f6\u95f4\u3002\n+- **Latest Acknowledgement**\uff1aJobManager \u63a5\u6536\u5230\u4efb\u4f55 subtask \u7684\u6700\u65b0\u786e\u8ba4\u7684\u65f6\u95f4\uff08\u5982\u679c\u5c1a\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\n+- **End to End Duration**\uff1a\u4ece\u89e6\u53d1\u65f6\u95f4\u6233\u5230\u6700\u540e\u4e00\u6b21\u786e\u8ba4\u7684\u6301\u7eed\u65f6\u95f4\uff08\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\u5b8c\u6574 Checkpoint \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u7531\u786e\u8ba4 Checkpoint \u7684\u6700\u540e\u4e00\u4e2a Subtask \u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u95f4\u901a\u5e38\u5927\u4e8e\u5355\u4e2a Subtask \u5b9e\u9645 Checkpoint State \u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Checkpointed Data Size**\uff1a\u6240\u6709\u5df2\u786e\u8ba4 Subtasks \u7684 checkpoint \u7684\u6570\u636e\u5927\u5c0f\u3002\u5982\u679c\u542f\u7528\u4e86\u589e\u91cf Checkpoint\uff0c\u5219\u6b64\u503c\u4e3a Checkpoint \u6570\u636e\u7684\u589e\u91cf\u5927\u5c0f\u3002\n+- **Processed in-flight data**\uff1a\u5728\u5bf9\u9f50\uff08Checkpoint alignment\uff09\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u5904\u7406\u7684\u5927\u7ea6\u5b57\u8282\u6570\u3002\n+- **Persisted in-flight data**\uff1a\u5728\u5bf9\u9f50\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u6301\u4e45\u5316\u7684\u5b57\u8282\u6570\u3002\u4ec5\u5f53\u542f\u7528\u672a\u5bf9\u9f50\u7684 Checkpoint \u65f6\uff0c\u6b64\u503c\u5927\u4e8e 0\u3002", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4MzAzOA==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513183038", "bodyText": "\u8fd9\u4e2a\u7684\u610f\u601d\u80fd\u5426\u518d\u4f18\u5316\u4e0b\u5462\uff1f\u5982\u679c\u6211\u6ca1\u731c\u9519\u7684\u8bdd\uff0c\u8fd9\u91cc\u5e94\u8be5\u662f \"\u4ece barrier \u5728 source \u521b\u5efa\u5230\u6d41\u5230\u8fd9\u4e2a task \u7684\u65f6\u95f4\u5dee\u201c \u5f53\u7136\u8fd9\u4e2a\u542b\u4e49\u6211\u9700\u8981\u770b\u4ee3\u7801 check \u4e0b", "author": "klion26", "createdAt": "2020-10-28T05:05:50Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002\n+\t- Restore from Savepoint\uff1a\u4ece Savepoint \u8fd8\u539f\u3002\n+\n+<a name=\"history-tab\"></a>\n+\n+### \u5386\u53f2\u8bb0\u5f55\uff08History\uff09\u9009\u9879\u5361\n+\n+Checkpoint \u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u6709\u5173\u6700\u8fd1\u89e6\u53d1\u7684 Checkpoint \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **ID**: The ID of the triggered checkpoint. The IDs are incremented for each checkpoint, starting at 1.\n-- **Status**: The current status of the checkpoint, which is either *In Progress* (<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>), *Completed* (<i aria-hidden=\"true\" class=\"fa fa-check\"/>), or *Failed* (<i aria-hidden=\"true\" class=\"fa fa-remove\"/>). If the triggered checkpoint is a savepoint, you will see a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> symbol.\n-- **Trigger Time**: The time when the checkpoint was triggered at the JobManager.\n-- **Latest Acknowledgement**: The time when the latest acknowledgement for any subtask was received at the JobManager (or n/a if no acknowledgement received yet).\n-- **End to End Duration**: The duration from the trigger timestamp until the latest acknowledgement (or n/a if no acknowledgement received yet). This end to end duration for a complete checkpoint is determined by the last subtask that acknowledges the checkpoint. This time is usually larger than single subtasks need to actually checkpoint the state.\n-- **Checkpointed Data Size**: The checkpointed data size over all acknowledged subtasks. If incremental checkpointing is enabled this value is the checkpointed data size delta.\n-- **Processed in-flight data**: The approximate number of bytes processed during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks.\n-- **Persisted in-flight data**: The number of bytes persisted during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks. This is > 0 only if the unaligned checkpoints are enabled.\n+- **ID**\uff1a\u5df2\u89e6\u53d1 Checkpoint \u7684 ID\u3002\u6bcf\u4e2a Checkpoint \u7684 ID \u90fd\u4f1a\u9012\u589e\uff0c\u4ece 1 \u5f00\u59cb\u3002\n+- **Status**\uff1aCheckpoint \u7684\u5f53\u524d\u72b6\u6001\uff0c\u53ef\u4ee5\u662f*\u6b63\u5728\u8fdb\u884c\uff08In Progress\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>\uff09\u3001*\u5df2\u5b8c\u6210\uff08Completed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-check\"/>\uff09\u6216*\u5931\u8d25\uff08Failed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-remove\"/>\uff09\u3002\u5982\u679c\u89e6\u53d1\u7684\u68c0\u67e5\u70b9\u662f\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e2a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> \u7b26\u53f7\u3002\n+- **Trigger Time**\uff1a\u5728 JobManager \u4e0a\u53d1\u8d77 Checkpoint \u7684\u65f6\u95f4\u3002\n+- **Latest Acknowledgement**\uff1aJobManager \u63a5\u6536\u5230\u4efb\u4f55 subtask \u7684\u6700\u65b0\u786e\u8ba4\u7684\u65f6\u95f4\uff08\u5982\u679c\u5c1a\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\n+- **End to End Duration**\uff1a\u4ece\u89e6\u53d1\u65f6\u95f4\u6233\u5230\u6700\u540e\u4e00\u6b21\u786e\u8ba4\u7684\u6301\u7eed\u65f6\u95f4\uff08\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\u5b8c\u6574 Checkpoint \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u7531\u786e\u8ba4 Checkpoint \u7684\u6700\u540e\u4e00\u4e2a Subtask \u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u95f4\u901a\u5e38\u5927\u4e8e\u5355\u4e2a Subtask \u5b9e\u9645 Checkpoint State \u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Checkpointed Data Size**\uff1a\u6240\u6709\u5df2\u786e\u8ba4 Subtasks \u7684 checkpoint \u7684\u6570\u636e\u5927\u5c0f\u3002\u5982\u679c\u542f\u7528\u4e86\u589e\u91cf Checkpoint\uff0c\u5219\u6b64\u503c\u4e3a Checkpoint \u6570\u636e\u7684\u589e\u91cf\u5927\u5c0f\u3002\n+- **Processed in-flight data**\uff1a\u5728\u5bf9\u9f50\uff08Checkpoint alignment\uff09\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u5904\u7406\u7684\u5927\u7ea6\u5b57\u8282\u6570\u3002\n+- **Persisted in-flight data**\uff1a\u5728\u5bf9\u9f50\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u6301\u4e45\u5316\u7684\u5b57\u8282\u6570\u3002\u4ec5\u5f53\u542f\u7528\u672a\u5bf9\u9f50\u7684 Checkpoint \u65f6\uff0c\u6b64\u503c\u5927\u4e8e 0\u3002\n \n-For subtasks there are a couple of more detailed stats available.\n+\u5bf9\u4e8e subtasks\uff0c\u6709\u4e24\u4e2a\u66f4\u8be6\u7ec6\u7684\u7edf\u8ba1\u4fe1\u606f\u53ef\u7528\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history-subtasks.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history-subtasks.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **Sync Duration**: The duration of the synchronous part of the checkpoint. This includes snapshotting state of the operators and blocks all other activity on the subtask (processing records, firing timers, etc).\n-- **Async Duration**: The duration of the asynchronous part of the checkpoint. This includes time it took to write the checkpoint on to the selected filesystem. For unaligned checkpoints this also includes also the time the subtask had to wait for last of the checkpoint barriers to arrive (alignment duration) and the time it took to persist the in-flight data.\n-- **Alignment Duration**: The time between processing the first and the last checkpoint barrier. For aligned checkpoints, during the alignment, the channels that have already received checkpoint barrier are blocked from processing more data.\n-- **Start Delay**: The time it took for the first checkpoint barrier to reach this subtasks since the checkpoint barrier has been created.\n+- **Sync Duration**\uff1aCheckpoint \u540c\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec operators \u7684\u5feb\u7167\u72b6\u6001\uff0c\u5e76\u963b\u585e subtask \u4e0a\u7684\u6240\u6709\u5176\u4ed6\u6d3b\u52a8\uff08\u5904\u7406\u8bb0\u5f55\u3001\u89e6\u53d1\u8ba1\u65f6\u5668\u7b49\uff09\u3002\n+- **Async Duration**\uff1aCheckpoint \u7684\u5f02\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec\u5c06 Checkpoint \u5199\u5165\u8bbe\u7f6e\u7684\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u672a\u5bf9\u9f50\u7684 Checkpoints\uff0c\u8fd9\u8fd8\u5305\u62ec subtask \u5fc5\u987b\u7b49\u5f85\u6700\u540e\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u7684\u65f6\u95f4\uff08\u5bf9\u9f50\u6301\u7eed\u65f6\u95f4\uff09\u4ee5\u53ca\u6301\u4e45\u5316\u6570\u636e\u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Alignment Duration**\uff1a\u5904\u7406\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u5bf9\u9f50\u673a\u5236\u7684 checkpoints\uff0c\u5728\u5bf9\u9f50\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u63a5\u6536\u5230 checkpoint barrier \u7684 channels \u5c06\u963b\u585e\u5e76\u505c\u6b62\u5904\u7406\u540e\u7eed\u7684\u6570\u636e\u3002\n+- **Start Delay**\uff1a\u81ea\u521b\u5efa checkpoint barrier \u5f00\u59cb\uff0c\u7b2c\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u6b64 subtask \u6240\u7528\u7684\u65f6\u95f4\u3002", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4MzI3OA==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513183278", "bodyText": "\u8fd9\u4e2a history \u7684 tab \u94fe\u63a5\u5e94\u8be5\u662f\u6709\u95ee\u9898\u7684", "author": "klion26", "createdAt": "2020-10-28T05:06:46Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002\n+\t- Restore from Savepoint\uff1a\u4ece Savepoint \u8fd8\u539f\u3002\n+\n+<a name=\"history-tab\"></a>\n+\n+### \u5386\u53f2\u8bb0\u5f55\uff08History\uff09\u9009\u9879\u5361\n+\n+Checkpoint \u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u6709\u5173\u6700\u8fd1\u89e6\u53d1\u7684 Checkpoint \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **ID**: The ID of the triggered checkpoint. The IDs are incremented for each checkpoint, starting at 1.\n-- **Status**: The current status of the checkpoint, which is either *In Progress* (<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>), *Completed* (<i aria-hidden=\"true\" class=\"fa fa-check\"/>), or *Failed* (<i aria-hidden=\"true\" class=\"fa fa-remove\"/>). If the triggered checkpoint is a savepoint, you will see a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> symbol.\n-- **Trigger Time**: The time when the checkpoint was triggered at the JobManager.\n-- **Latest Acknowledgement**: The time when the latest acknowledgement for any subtask was received at the JobManager (or n/a if no acknowledgement received yet).\n-- **End to End Duration**: The duration from the trigger timestamp until the latest acknowledgement (or n/a if no acknowledgement received yet). This end to end duration for a complete checkpoint is determined by the last subtask that acknowledges the checkpoint. This time is usually larger than single subtasks need to actually checkpoint the state.\n-- **Checkpointed Data Size**: The checkpointed data size over all acknowledged subtasks. If incremental checkpointing is enabled this value is the checkpointed data size delta.\n-- **Processed in-flight data**: The approximate number of bytes processed during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks.\n-- **Persisted in-flight data**: The number of bytes persisted during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks. This is > 0 only if the unaligned checkpoints are enabled.\n+- **ID**\uff1a\u5df2\u89e6\u53d1 Checkpoint \u7684 ID\u3002\u6bcf\u4e2a Checkpoint \u7684 ID \u90fd\u4f1a\u9012\u589e\uff0c\u4ece 1 \u5f00\u59cb\u3002\n+- **Status**\uff1aCheckpoint \u7684\u5f53\u524d\u72b6\u6001\uff0c\u53ef\u4ee5\u662f*\u6b63\u5728\u8fdb\u884c\uff08In Progress\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>\uff09\u3001*\u5df2\u5b8c\u6210\uff08Completed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-check\"/>\uff09\u6216*\u5931\u8d25\uff08Failed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-remove\"/>\uff09\u3002\u5982\u679c\u89e6\u53d1\u7684\u68c0\u67e5\u70b9\u662f\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e2a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> \u7b26\u53f7\u3002\n+- **Trigger Time**\uff1a\u5728 JobManager \u4e0a\u53d1\u8d77 Checkpoint \u7684\u65f6\u95f4\u3002\n+- **Latest Acknowledgement**\uff1aJobManager \u63a5\u6536\u5230\u4efb\u4f55 subtask \u7684\u6700\u65b0\u786e\u8ba4\u7684\u65f6\u95f4\uff08\u5982\u679c\u5c1a\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\n+- **End to End Duration**\uff1a\u4ece\u89e6\u53d1\u65f6\u95f4\u6233\u5230\u6700\u540e\u4e00\u6b21\u786e\u8ba4\u7684\u6301\u7eed\u65f6\u95f4\uff08\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\u5b8c\u6574 Checkpoint \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u7531\u786e\u8ba4 Checkpoint \u7684\u6700\u540e\u4e00\u4e2a Subtask \u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u95f4\u901a\u5e38\u5927\u4e8e\u5355\u4e2a Subtask \u5b9e\u9645 Checkpoint State \u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Checkpointed Data Size**\uff1a\u6240\u6709\u5df2\u786e\u8ba4 Subtasks \u7684 checkpoint \u7684\u6570\u636e\u5927\u5c0f\u3002\u5982\u679c\u542f\u7528\u4e86\u589e\u91cf Checkpoint\uff0c\u5219\u6b64\u503c\u4e3a Checkpoint \u6570\u636e\u7684\u589e\u91cf\u5927\u5c0f\u3002\n+- **Processed in-flight data**\uff1a\u5728\u5bf9\u9f50\uff08Checkpoint alignment\uff09\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u5904\u7406\u7684\u5927\u7ea6\u5b57\u8282\u6570\u3002\n+- **Persisted in-flight data**\uff1a\u5728\u5bf9\u9f50\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u6301\u4e45\u5316\u7684\u5b57\u8282\u6570\u3002\u4ec5\u5f53\u542f\u7528\u672a\u5bf9\u9f50\u7684 Checkpoint \u65f6\uff0c\u6b64\u503c\u5927\u4e8e 0\u3002\n \n-For subtasks there are a couple of more detailed stats available.\n+\u5bf9\u4e8e subtasks\uff0c\u6709\u4e24\u4e2a\u66f4\u8be6\u7ec6\u7684\u7edf\u8ba1\u4fe1\u606f\u53ef\u7528\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history-subtasks.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history-subtasks.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **Sync Duration**: The duration of the synchronous part of the checkpoint. This includes snapshotting state of the operators and blocks all other activity on the subtask (processing records, firing timers, etc).\n-- **Async Duration**: The duration of the asynchronous part of the checkpoint. This includes time it took to write the checkpoint on to the selected filesystem. For unaligned checkpoints this also includes also the time the subtask had to wait for last of the checkpoint barriers to arrive (alignment duration) and the time it took to persist the in-flight data.\n-- **Alignment Duration**: The time between processing the first and the last checkpoint barrier. For aligned checkpoints, during the alignment, the channels that have already received checkpoint barrier are blocked from processing more data.\n-- **Start Delay**: The time it took for the first checkpoint barrier to reach this subtasks since the checkpoint barrier has been created.\n+- **Sync Duration**\uff1aCheckpoint \u540c\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec operators \u7684\u5feb\u7167\u72b6\u6001\uff0c\u5e76\u963b\u585e subtask \u4e0a\u7684\u6240\u6709\u5176\u4ed6\u6d3b\u52a8\uff08\u5904\u7406\u8bb0\u5f55\u3001\u89e6\u53d1\u8ba1\u65f6\u5668\u7b49\uff09\u3002\n+- **Async Duration**\uff1aCheckpoint \u7684\u5f02\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec\u5c06 Checkpoint \u5199\u5165\u8bbe\u7f6e\u7684\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u672a\u5bf9\u9f50\u7684 Checkpoints\uff0c\u8fd9\u8fd8\u5305\u62ec subtask \u5fc5\u987b\u7b49\u5f85\u6700\u540e\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u7684\u65f6\u95f4\uff08\u5bf9\u9f50\u6301\u7eed\u65f6\u95f4\uff09\u4ee5\u53ca\u6301\u4e45\u5316\u6570\u636e\u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Alignment Duration**\uff1a\u5904\u7406\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u5bf9\u9f50\u673a\u5236\u7684 checkpoints\uff0c\u5728\u5bf9\u9f50\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u63a5\u6536\u5230 checkpoint barrier \u7684 channels \u5c06\u963b\u585e\u5e76\u505c\u6b62\u5904\u7406\u540e\u7eed\u7684\u6570\u636e\u3002\n+- **Start Delay**\uff1a\u81ea\u521b\u5efa checkpoint barrier \u5f00\u59cb\uff0c\u7b2c\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u6b64 subtask \u6240\u7528\u7684\u65f6\u95f4\u3002\n \n-#### History Size Configuration\n+<a name=\"history-size-configuration\"></a>\n \n-You can configure the number of recent checkpoints that are remembered for the history via the following configuration key. The default is `10`.\n+#### \u5386\u53f2\u8bb0\u5f55\u6570\u91cf\u914d\u7f6e\n+\n+\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u914d\u7f6e\u952e\u914d\u7f6e\u5386\u53f2\u8bb0\u5f55\u6240\u4fdd\u5b58\u7684\u6700\u8fd1\u68c0\u67e5\u70b9\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a `10`\u3002\n \n {% highlight yaml %}\n-# Number of recent checkpoints that are remembered\n+# \u4fdd\u5b58\u6700\u8fd1 Checkpoints \u7684\u4e2a\u6570\n web.checkpoints.history: 15\n {% endhighlight %}\n \n-### Summary Tab\n+<a name=\"summary-tab\"></a>\n+\n+### \u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u9009\u9879\u5361\n \n-The summary computes a simple min/average/maximum statistics over all completed checkpoints for the End to End Duration, Checkpointed Data Size, and Bytes Buffered During Alignment (see [History](#history) for details about what these mean).\n+\u6458\u8981\u8ba1\u7b97\u4e86\u6240\u6709\u5df2\u5b8c\u6210 checkpoints \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u3001Checkpointed \u6570\u636e\u5927\u5c0f\u548c\u5bf9\u9f50\u671f\u95f4\u7f13\u51b2\u7684\u5b57\u8282\u6570\u7684\u7b80\u5355 min/average/maximum \u7edf\u8ba1\u4fe1\u606f\uff08\u6709\u5173\u8fd9\u4e9b\u5185\u5bb9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 [History](#History tab)\uff09\u3002", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4MzUyNQ==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513183525", "bodyText": "\u8fd9\u91cc\u7684\u610f\u601d\u5e94\u8be5\u662f jm \u91cd\u542f\u540e\uff0c\u8fd9\u4e9b\u4fe1\u606f\u4f1a\u4e22\u5931\uff0c\u548c\u4e0a\u6587\u8bf4\u7684\u4e00\u6837\uff0c\u4f1a\u91cd\u65b0\u8ba1\u6570", "author": "klion26", "createdAt": "2020-10-28T05:07:47Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002\n+\t- Restore from Savepoint\uff1a\u4ece Savepoint \u8fd8\u539f\u3002\n+\n+<a name=\"history-tab\"></a>\n+\n+### \u5386\u53f2\u8bb0\u5f55\uff08History\uff09\u9009\u9879\u5361\n+\n+Checkpoint \u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u6709\u5173\u6700\u8fd1\u89e6\u53d1\u7684 Checkpoint \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **ID**: The ID of the triggered checkpoint. The IDs are incremented for each checkpoint, starting at 1.\n-- **Status**: The current status of the checkpoint, which is either *In Progress* (<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>), *Completed* (<i aria-hidden=\"true\" class=\"fa fa-check\"/>), or *Failed* (<i aria-hidden=\"true\" class=\"fa fa-remove\"/>). If the triggered checkpoint is a savepoint, you will see a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> symbol.\n-- **Trigger Time**: The time when the checkpoint was triggered at the JobManager.\n-- **Latest Acknowledgement**: The time when the latest acknowledgement for any subtask was received at the JobManager (or n/a if no acknowledgement received yet).\n-- **End to End Duration**: The duration from the trigger timestamp until the latest acknowledgement (or n/a if no acknowledgement received yet). This end to end duration for a complete checkpoint is determined by the last subtask that acknowledges the checkpoint. This time is usually larger than single subtasks need to actually checkpoint the state.\n-- **Checkpointed Data Size**: The checkpointed data size over all acknowledged subtasks. If incremental checkpointing is enabled this value is the checkpointed data size delta.\n-- **Processed in-flight data**: The approximate number of bytes processed during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks.\n-- **Persisted in-flight data**: The number of bytes persisted during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks. This is > 0 only if the unaligned checkpoints are enabled.\n+- **ID**\uff1a\u5df2\u89e6\u53d1 Checkpoint \u7684 ID\u3002\u6bcf\u4e2a Checkpoint \u7684 ID \u90fd\u4f1a\u9012\u589e\uff0c\u4ece 1 \u5f00\u59cb\u3002\n+- **Status**\uff1aCheckpoint \u7684\u5f53\u524d\u72b6\u6001\uff0c\u53ef\u4ee5\u662f*\u6b63\u5728\u8fdb\u884c\uff08In Progress\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>\uff09\u3001*\u5df2\u5b8c\u6210\uff08Completed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-check\"/>\uff09\u6216*\u5931\u8d25\uff08Failed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-remove\"/>\uff09\u3002\u5982\u679c\u89e6\u53d1\u7684\u68c0\u67e5\u70b9\u662f\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e2a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> \u7b26\u53f7\u3002\n+- **Trigger Time**\uff1a\u5728 JobManager \u4e0a\u53d1\u8d77 Checkpoint \u7684\u65f6\u95f4\u3002\n+- **Latest Acknowledgement**\uff1aJobManager \u63a5\u6536\u5230\u4efb\u4f55 subtask \u7684\u6700\u65b0\u786e\u8ba4\u7684\u65f6\u95f4\uff08\u5982\u679c\u5c1a\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\n+- **End to End Duration**\uff1a\u4ece\u89e6\u53d1\u65f6\u95f4\u6233\u5230\u6700\u540e\u4e00\u6b21\u786e\u8ba4\u7684\u6301\u7eed\u65f6\u95f4\uff08\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\u5b8c\u6574 Checkpoint \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u7531\u786e\u8ba4 Checkpoint \u7684\u6700\u540e\u4e00\u4e2a Subtask \u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u95f4\u901a\u5e38\u5927\u4e8e\u5355\u4e2a Subtask \u5b9e\u9645 Checkpoint State \u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Checkpointed Data Size**\uff1a\u6240\u6709\u5df2\u786e\u8ba4 Subtasks \u7684 checkpoint \u7684\u6570\u636e\u5927\u5c0f\u3002\u5982\u679c\u542f\u7528\u4e86\u589e\u91cf Checkpoint\uff0c\u5219\u6b64\u503c\u4e3a Checkpoint \u6570\u636e\u7684\u589e\u91cf\u5927\u5c0f\u3002\n+- **Processed in-flight data**\uff1a\u5728\u5bf9\u9f50\uff08Checkpoint alignment\uff09\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u5904\u7406\u7684\u5927\u7ea6\u5b57\u8282\u6570\u3002\n+- **Persisted in-flight data**\uff1a\u5728\u5bf9\u9f50\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u6301\u4e45\u5316\u7684\u5b57\u8282\u6570\u3002\u4ec5\u5f53\u542f\u7528\u672a\u5bf9\u9f50\u7684 Checkpoint \u65f6\uff0c\u6b64\u503c\u5927\u4e8e 0\u3002\n \n-For subtasks there are a couple of more detailed stats available.\n+\u5bf9\u4e8e subtasks\uff0c\u6709\u4e24\u4e2a\u66f4\u8be6\u7ec6\u7684\u7edf\u8ba1\u4fe1\u606f\u53ef\u7528\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history-subtasks.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history-subtasks.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **Sync Duration**: The duration of the synchronous part of the checkpoint. This includes snapshotting state of the operators and blocks all other activity on the subtask (processing records, firing timers, etc).\n-- **Async Duration**: The duration of the asynchronous part of the checkpoint. This includes time it took to write the checkpoint on to the selected filesystem. For unaligned checkpoints this also includes also the time the subtask had to wait for last of the checkpoint barriers to arrive (alignment duration) and the time it took to persist the in-flight data.\n-- **Alignment Duration**: The time between processing the first and the last checkpoint barrier. For aligned checkpoints, during the alignment, the channels that have already received checkpoint barrier are blocked from processing more data.\n-- **Start Delay**: The time it took for the first checkpoint barrier to reach this subtasks since the checkpoint barrier has been created.\n+- **Sync Duration**\uff1aCheckpoint \u540c\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec operators \u7684\u5feb\u7167\u72b6\u6001\uff0c\u5e76\u963b\u585e subtask \u4e0a\u7684\u6240\u6709\u5176\u4ed6\u6d3b\u52a8\uff08\u5904\u7406\u8bb0\u5f55\u3001\u89e6\u53d1\u8ba1\u65f6\u5668\u7b49\uff09\u3002\n+- **Async Duration**\uff1aCheckpoint \u7684\u5f02\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec\u5c06 Checkpoint \u5199\u5165\u8bbe\u7f6e\u7684\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u672a\u5bf9\u9f50\u7684 Checkpoints\uff0c\u8fd9\u8fd8\u5305\u62ec subtask \u5fc5\u987b\u7b49\u5f85\u6700\u540e\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u7684\u65f6\u95f4\uff08\u5bf9\u9f50\u6301\u7eed\u65f6\u95f4\uff09\u4ee5\u53ca\u6301\u4e45\u5316\u6570\u636e\u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Alignment Duration**\uff1a\u5904\u7406\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u5bf9\u9f50\u673a\u5236\u7684 checkpoints\uff0c\u5728\u5bf9\u9f50\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u63a5\u6536\u5230 checkpoint barrier \u7684 channels \u5c06\u963b\u585e\u5e76\u505c\u6b62\u5904\u7406\u540e\u7eed\u7684\u6570\u636e\u3002\n+- **Start Delay**\uff1a\u81ea\u521b\u5efa checkpoint barrier \u5f00\u59cb\uff0c\u7b2c\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u6b64 subtask \u6240\u7528\u7684\u65f6\u95f4\u3002\n \n-#### History Size Configuration\n+<a name=\"history-size-configuration\"></a>\n \n-You can configure the number of recent checkpoints that are remembered for the history via the following configuration key. The default is `10`.\n+#### \u5386\u53f2\u8bb0\u5f55\u6570\u91cf\u914d\u7f6e\n+\n+\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u914d\u7f6e\u952e\u914d\u7f6e\u5386\u53f2\u8bb0\u5f55\u6240\u4fdd\u5b58\u7684\u6700\u8fd1\u68c0\u67e5\u70b9\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a `10`\u3002\n \n {% highlight yaml %}\n-# Number of recent checkpoints that are remembered\n+# \u4fdd\u5b58\u6700\u8fd1 Checkpoints \u7684\u4e2a\u6570\n web.checkpoints.history: 15\n {% endhighlight %}\n \n-### Summary Tab\n+<a name=\"summary-tab\"></a>\n+\n+### \u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u9009\u9879\u5361\n \n-The summary computes a simple min/average/maximum statistics over all completed checkpoints for the End to End Duration, Checkpointed Data Size, and Bytes Buffered During Alignment (see [History](#history) for details about what these mean).\n+\u6458\u8981\u8ba1\u7b97\u4e86\u6240\u6709\u5df2\u5b8c\u6210 checkpoints \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u3001Checkpointed \u6570\u636e\u5927\u5c0f\u548c\u5bf9\u9f50\u671f\u95f4\u7f13\u51b2\u7684\u5b57\u8282\u6570\u7684\u7b80\u5355 min/average/maximum \u7edf\u8ba1\u4fe1\u606f\uff08\u6709\u5173\u8fd9\u4e9b\u5185\u5bb9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 [History](#History tab)\uff09\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-summary.png\" width=\"700px\" alt=\"Checkpoint Monitoring: Summary\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-summary.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: Summary\">\n </center>\n \n-Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4e0d\u4f1a\u5728 JobManager \u4e22\u5931\u540e\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u88ab\u91cd\u7f6e\u3002", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4NDA2MA==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513184060", "bodyText": "streaming configuration \u7ffb\u8bd1\u6210 \u6d41\u5f0f\u914d\u7f6e \u4e0d\u786e\u5b9a\u662f\u5426\u5408\u9002", "author": "klion26", "createdAt": "2020-10-28T05:09:59Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002\n+\t- Restore from Savepoint\uff1a\u4ece Savepoint \u8fd8\u539f\u3002\n+\n+<a name=\"history-tab\"></a>\n+\n+### \u5386\u53f2\u8bb0\u5f55\uff08History\uff09\u9009\u9879\u5361\n+\n+Checkpoint \u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u6709\u5173\u6700\u8fd1\u89e6\u53d1\u7684 Checkpoint \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **ID**: The ID of the triggered checkpoint. The IDs are incremented for each checkpoint, starting at 1.\n-- **Status**: The current status of the checkpoint, which is either *In Progress* (<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>), *Completed* (<i aria-hidden=\"true\" class=\"fa fa-check\"/>), or *Failed* (<i aria-hidden=\"true\" class=\"fa fa-remove\"/>). If the triggered checkpoint is a savepoint, you will see a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> symbol.\n-- **Trigger Time**: The time when the checkpoint was triggered at the JobManager.\n-- **Latest Acknowledgement**: The time when the latest acknowledgement for any subtask was received at the JobManager (or n/a if no acknowledgement received yet).\n-- **End to End Duration**: The duration from the trigger timestamp until the latest acknowledgement (or n/a if no acknowledgement received yet). This end to end duration for a complete checkpoint is determined by the last subtask that acknowledges the checkpoint. This time is usually larger than single subtasks need to actually checkpoint the state.\n-- **Checkpointed Data Size**: The checkpointed data size over all acknowledged subtasks. If incremental checkpointing is enabled this value is the checkpointed data size delta.\n-- **Processed in-flight data**: The approximate number of bytes processed during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks.\n-- **Persisted in-flight data**: The number of bytes persisted during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks. This is > 0 only if the unaligned checkpoints are enabled.\n+- **ID**\uff1a\u5df2\u89e6\u53d1 Checkpoint \u7684 ID\u3002\u6bcf\u4e2a Checkpoint \u7684 ID \u90fd\u4f1a\u9012\u589e\uff0c\u4ece 1 \u5f00\u59cb\u3002\n+- **Status**\uff1aCheckpoint \u7684\u5f53\u524d\u72b6\u6001\uff0c\u53ef\u4ee5\u662f*\u6b63\u5728\u8fdb\u884c\uff08In Progress\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>\uff09\u3001*\u5df2\u5b8c\u6210\uff08Completed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-check\"/>\uff09\u6216*\u5931\u8d25\uff08Failed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-remove\"/>\uff09\u3002\u5982\u679c\u89e6\u53d1\u7684\u68c0\u67e5\u70b9\u662f\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e2a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> \u7b26\u53f7\u3002\n+- **Trigger Time**\uff1a\u5728 JobManager \u4e0a\u53d1\u8d77 Checkpoint \u7684\u65f6\u95f4\u3002\n+- **Latest Acknowledgement**\uff1aJobManager \u63a5\u6536\u5230\u4efb\u4f55 subtask \u7684\u6700\u65b0\u786e\u8ba4\u7684\u65f6\u95f4\uff08\u5982\u679c\u5c1a\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\n+- **End to End Duration**\uff1a\u4ece\u89e6\u53d1\u65f6\u95f4\u6233\u5230\u6700\u540e\u4e00\u6b21\u786e\u8ba4\u7684\u6301\u7eed\u65f6\u95f4\uff08\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\u5b8c\u6574 Checkpoint \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u7531\u786e\u8ba4 Checkpoint \u7684\u6700\u540e\u4e00\u4e2a Subtask \u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u95f4\u901a\u5e38\u5927\u4e8e\u5355\u4e2a Subtask \u5b9e\u9645 Checkpoint State \u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Checkpointed Data Size**\uff1a\u6240\u6709\u5df2\u786e\u8ba4 Subtasks \u7684 checkpoint \u7684\u6570\u636e\u5927\u5c0f\u3002\u5982\u679c\u542f\u7528\u4e86\u589e\u91cf Checkpoint\uff0c\u5219\u6b64\u503c\u4e3a Checkpoint \u6570\u636e\u7684\u589e\u91cf\u5927\u5c0f\u3002\n+- **Processed in-flight data**\uff1a\u5728\u5bf9\u9f50\uff08Checkpoint alignment\uff09\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u5904\u7406\u7684\u5927\u7ea6\u5b57\u8282\u6570\u3002\n+- **Persisted in-flight data**\uff1a\u5728\u5bf9\u9f50\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u6301\u4e45\u5316\u7684\u5b57\u8282\u6570\u3002\u4ec5\u5f53\u542f\u7528\u672a\u5bf9\u9f50\u7684 Checkpoint \u65f6\uff0c\u6b64\u503c\u5927\u4e8e 0\u3002\n \n-For subtasks there are a couple of more detailed stats available.\n+\u5bf9\u4e8e subtasks\uff0c\u6709\u4e24\u4e2a\u66f4\u8be6\u7ec6\u7684\u7edf\u8ba1\u4fe1\u606f\u53ef\u7528\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history-subtasks.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history-subtasks.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **Sync Duration**: The duration of the synchronous part of the checkpoint. This includes snapshotting state of the operators and blocks all other activity on the subtask (processing records, firing timers, etc).\n-- **Async Duration**: The duration of the asynchronous part of the checkpoint. This includes time it took to write the checkpoint on to the selected filesystem. For unaligned checkpoints this also includes also the time the subtask had to wait for last of the checkpoint barriers to arrive (alignment duration) and the time it took to persist the in-flight data.\n-- **Alignment Duration**: The time between processing the first and the last checkpoint barrier. For aligned checkpoints, during the alignment, the channels that have already received checkpoint barrier are blocked from processing more data.\n-- **Start Delay**: The time it took for the first checkpoint barrier to reach this subtasks since the checkpoint barrier has been created.\n+- **Sync Duration**\uff1aCheckpoint \u540c\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec operators \u7684\u5feb\u7167\u72b6\u6001\uff0c\u5e76\u963b\u585e subtask \u4e0a\u7684\u6240\u6709\u5176\u4ed6\u6d3b\u52a8\uff08\u5904\u7406\u8bb0\u5f55\u3001\u89e6\u53d1\u8ba1\u65f6\u5668\u7b49\uff09\u3002\n+- **Async Duration**\uff1aCheckpoint \u7684\u5f02\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec\u5c06 Checkpoint \u5199\u5165\u8bbe\u7f6e\u7684\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u672a\u5bf9\u9f50\u7684 Checkpoints\uff0c\u8fd9\u8fd8\u5305\u62ec subtask \u5fc5\u987b\u7b49\u5f85\u6700\u540e\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u7684\u65f6\u95f4\uff08\u5bf9\u9f50\u6301\u7eed\u65f6\u95f4\uff09\u4ee5\u53ca\u6301\u4e45\u5316\u6570\u636e\u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Alignment Duration**\uff1a\u5904\u7406\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u5bf9\u9f50\u673a\u5236\u7684 checkpoints\uff0c\u5728\u5bf9\u9f50\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u63a5\u6536\u5230 checkpoint barrier \u7684 channels \u5c06\u963b\u585e\u5e76\u505c\u6b62\u5904\u7406\u540e\u7eed\u7684\u6570\u636e\u3002\n+- **Start Delay**\uff1a\u81ea\u521b\u5efa checkpoint barrier \u5f00\u59cb\uff0c\u7b2c\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u6b64 subtask \u6240\u7528\u7684\u65f6\u95f4\u3002\n \n-#### History Size Configuration\n+<a name=\"history-size-configuration\"></a>\n \n-You can configure the number of recent checkpoints that are remembered for the history via the following configuration key. The default is `10`.\n+#### \u5386\u53f2\u8bb0\u5f55\u6570\u91cf\u914d\u7f6e\n+\n+\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u914d\u7f6e\u952e\u914d\u7f6e\u5386\u53f2\u8bb0\u5f55\u6240\u4fdd\u5b58\u7684\u6700\u8fd1\u68c0\u67e5\u70b9\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a `10`\u3002\n \n {% highlight yaml %}\n-# Number of recent checkpoints that are remembered\n+# \u4fdd\u5b58\u6700\u8fd1 Checkpoints \u7684\u4e2a\u6570\n web.checkpoints.history: 15\n {% endhighlight %}\n \n-### Summary Tab\n+<a name=\"summary-tab\"></a>\n+\n+### \u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u9009\u9879\u5361\n \n-The summary computes a simple min/average/maximum statistics over all completed checkpoints for the End to End Duration, Checkpointed Data Size, and Bytes Buffered During Alignment (see [History](#history) for details about what these mean).\n+\u6458\u8981\u8ba1\u7b97\u4e86\u6240\u6709\u5df2\u5b8c\u6210 checkpoints \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u3001Checkpointed \u6570\u636e\u5927\u5c0f\u548c\u5bf9\u9f50\u671f\u95f4\u7f13\u51b2\u7684\u5b57\u8282\u6570\u7684\u7b80\u5355 min/average/maximum \u7edf\u8ba1\u4fe1\u606f\uff08\u6709\u5173\u8fd9\u4e9b\u5185\u5bb9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 [History](#History tab)\uff09\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-summary.png\" width=\"700px\" alt=\"Checkpoint Monitoring: Summary\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-summary.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: Summary\">\n </center>\n \n-Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4e0d\u4f1a\u5728 JobManager \u4e22\u5931\u540e\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u88ab\u91cd\u7f6e\u3002\n+\n+<a name=\"configuration-tab\"></a>\n \n-### Configuration Tab\n+### \u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u9009\u9879\u5361\n \n-The configuration list your streaming configuration:\n+\u8be5\u914d\u7f6e\u9009\u9879\u5361\u5217\u51fa\u4e86\u4f60\u6307\u5b9a\u7684\u6d41\u5f0f\u914d\u7f6e\uff1a", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzE4NDI4Mg==", "url": "https://github.com/apache/flink/pull/13750#discussion_r513184282", "bodyText": "Checkpoint \u7684\u5927\u5c0f\u5199\u5efa\u8bae\u7edf\u4e00\uff0c\u975e\u9996\u5b57\u6bcd\u53ef\u4ee5\u5c0f\u5199", "author": "klion26", "createdAt": "2020-10-28T05:10:48Z", "path": "docs/monitoring/checkpoint_monitoring.zh.md", "diffHunk": "@@ -25,105 +25,125 @@ under the License.\n * ToC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-Flink's web interface provides a tab to monitor the checkpoints of jobs. These stats are also available after the job has terminated. There are four different tabs to display information about your checkpoints: Overview, History, Summary, and Configuration. The following sections will cover all of these in turn.\n+## \u6982\u89c8\uff08Overview\uff09\n \n-## Monitoring\n+Flink \u7684 Web \u754c\u9762\u63d0\u4f9b\u4e86`\u9009\u9879\u5361/\u6807\u7b7e\uff08tab\uff09`\u6765\u76d1\u89c6\u4f5c\u4e1a\u7684 Checkpoint \u4fe1\u606f\u3002\u4f5c\u4e1a\u7ec8\u6b62\u540e\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4ecd\u7136\u53ef\u7528\u3002\u6709\u56db\u4e2a\u4e0d\u540c\u7684\u9009\u9879\u5361\u53ef\u663e\u793a\u6709\u5173 Checkpoint \u7684\u4fe1\u606f\uff1a\u6982\u89c8\uff08Overview\uff09\uff0c\u5386\u53f2\u8bb0\u5f55\uff08History\uff09\uff0c\u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u548c\u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u3002\u4ee5\u4e0b\u5404\u8282\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u8fd9\u4e9b\u5185\u5bb9\u3002\n \n-### Overview Tab\n+<a name=\"monitoring\"></a>\n \n-The overview tabs lists the following statistics. Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+## \u76d1\u63a7\uff08Monitoring\uff09\n+\n+<a name=\"overview-tab\"></a>\n+\n+### \u6982\u89c8\uff08Overview\uff09\u9009\u9879\u5361\n+\n+\u6982\u89c8\u9009\u9879\u5361\u5217\u51fa\u4e86\u4ee5\u4e0b\u7edf\u8ba1\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5728 JobManager \u4e22\u5931\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u53d1\u751f\u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u91cd\u7f6e\u3002\n \n - **Checkpoint Counts**\n-\t- Triggered: The total number of checkpoints that have been triggered since the job started.\n-\t- In Progress: The current number of checkpoints that are in progress.\n-\t- Completed: The total number of successfully completed checkpoints since the job started.\n-\t- Failed: The total number of failed checkpoints since the job started.\n-\t- Restored: The number of restore operations since the job started. This also tells you how many times the job has restarted since submission. Note that the initial submission with a savepoint also counts as a restore and the count is reset if the JobManager was lost during operation.\n-- **Latest Completed Checkpoint**: The latest successfully completed checkpoints. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Failed Checkpoint**: The latest failed checkpoint. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Savepoint**: The latest triggered savepoint with its external path. Clicking on `More details` gives you detailed statistics down to the subtask level.\n-- **Latest Restore**: There are two types of restore operations.\n-\t- Restore from Checkpoint: We restored from a regular periodic checkpoint.\n-\t- Restore from Savepoint: We restored from a savepoint.\n-\n-### History Tab\n-\n-The checkpoint history keeps statistics about recently triggered checkpoints, including those that are currently in progress.\n+\t- Triggered\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u89e6\u53d1\u7684 Checkpoint \u603b\u6570\u3002\n+\t- In Progress\uff1a\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint \u6570\u91cf\u3002\n+\t- Completed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u6210\u529f\u5b8c\u6210\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Failed\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u5931\u8d25\u7684 Checkpoint \u603b\u6570\u3002\n+\t- Restored\uff1a\u81ea\u4f5c\u4e1a\u5f00\u59cb\u4ee5\u6765\u8fdb\u884c\u7684 Restored \u64cd\u4f5c\u7684\u6b21\u6570\u3002\u8fd9\u8fd8\u8868\u793a\u81ea Job \u63d0\u4ea4\u4ee5\u6765\u5df2\u91cd\u65b0\u542f\u52a8\u591a\u5c11\u6b21\u3002\u8bf7\u6ce8\u610f\uff0c\u5e26\u6709 Savepoint \u7684\u521d\u59cb\u63d0\u4ea4\u4e5f\u7b97\u4f5c\u4e00\u6b21 Restore\uff0c\u5982\u679c JobManager \u5728\u6b64\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u5219\u8be5\u8ba1\u6570\u5c06\u91cd\u7f6e\u3002\n+- **Latest Completed Checkpoint**\uff1a\u6700\u65b0\uff08\u6700\u8fd1\uff09\u6210\u529f\u5b8c\u6210\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Failed Checkpoint**\uff1a\u6700\u65b0\u5931\u8d25\u7684 Checkpoint\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Savepoint**\uff1a\u6700\u65b0\u89e6\u53d1\u7684 Savepoint \u53ca\u5176\u5916\u90e8\u8def\u5f84\u3002\u70b9\u51fb `More details` \u53ef\u4ee5\u5f97\u5230 subtask \u7ea7\u522b\u7684\u8be6\u7ec6\u7edf\u8ba1\u4fe1\u606f\u3002\n+- **Latest Restore**\uff1a\u6709\u4e24\u79cd\u7c7b\u578b\u7684 Restore \u64cd\u4f5c\u3002\n+\t- Restore from Checkpoint\uff1a\u4ece\u5b9a\u671f\u7684 Checkpoint \u8fd8\u539f\u3002\n+\t- Restore from Savepoint\uff1a\u4ece Savepoint \u8fd8\u539f\u3002\n+\n+<a name=\"history-tab\"></a>\n+\n+### \u5386\u53f2\u8bb0\u5f55\uff08History\uff09\u9009\u9879\u5361\n+\n+Checkpoint \u5386\u53f2\u8bb0\u5f55\u4fdd\u5b58\u6709\u5173\u6700\u8fd1\u89e6\u53d1\u7684 Checkpoint \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684 Checkpoint\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **ID**: The ID of the triggered checkpoint. The IDs are incremented for each checkpoint, starting at 1.\n-- **Status**: The current status of the checkpoint, which is either *In Progress* (<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>), *Completed* (<i aria-hidden=\"true\" class=\"fa fa-check\"/>), or *Failed* (<i aria-hidden=\"true\" class=\"fa fa-remove\"/>). If the triggered checkpoint is a savepoint, you will see a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> symbol.\n-- **Trigger Time**: The time when the checkpoint was triggered at the JobManager.\n-- **Latest Acknowledgement**: The time when the latest acknowledgement for any subtask was received at the JobManager (or n/a if no acknowledgement received yet).\n-- **End to End Duration**: The duration from the trigger timestamp until the latest acknowledgement (or n/a if no acknowledgement received yet). This end to end duration for a complete checkpoint is determined by the last subtask that acknowledges the checkpoint. This time is usually larger than single subtasks need to actually checkpoint the state.\n-- **Checkpointed Data Size**: The checkpointed data size over all acknowledged subtasks. If incremental checkpointing is enabled this value is the checkpointed data size delta.\n-- **Processed in-flight data**: The approximate number of bytes processed during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks.\n-- **Persisted in-flight data**: The number of bytes persisted during the alignment (time between receiving the first and the last checkpoint barrier) over all acknowledged subtasks. This is > 0 only if the unaligned checkpoints are enabled.\n+- **ID**\uff1a\u5df2\u89e6\u53d1 Checkpoint \u7684 ID\u3002\u6bcf\u4e2a Checkpoint \u7684 ID \u90fd\u4f1a\u9012\u589e\uff0c\u4ece 1 \u5f00\u59cb\u3002\n+- **Status**\uff1aCheckpoint \u7684\u5f53\u524d\u72b6\u6001\uff0c\u53ef\u4ee5\u662f*\u6b63\u5728\u8fdb\u884c\uff08In Progress\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-circle-o-notch fa-spin fa-fw\"/>\uff09\u3001*\u5df2\u5b8c\u6210\uff08Completed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-check\"/>\uff09\u6216*\u5931\u8d25\uff08Failed\uff09*\uff08<i aria-hidden=\"true\" class=\"fa fa-remove\"/>\uff09\u3002\u5982\u679c\u89e6\u53d1\u7684\u68c0\u67e5\u70b9\u662f\u4e00\u4e2a\u4fdd\u5b58\u70b9\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e2a <i aria-hidden=\"true\" class=\"fa fa-floppy-o\"/> \u7b26\u53f7\u3002\n+- **Trigger Time**\uff1a\u5728 JobManager \u4e0a\u53d1\u8d77 Checkpoint \u7684\u65f6\u95f4\u3002\n+- **Latest Acknowledgement**\uff1aJobManager \u63a5\u6536\u5230\u4efb\u4f55 subtask \u7684\u6700\u65b0\u786e\u8ba4\u7684\u65f6\u95f4\uff08\u5982\u679c\u5c1a\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\n+- **End to End Duration**\uff1a\u4ece\u89e6\u53d1\u65f6\u95f4\u6233\u5230\u6700\u540e\u4e00\u6b21\u786e\u8ba4\u7684\u6301\u7eed\u65f6\u95f4\uff08\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5219\u4e0d\u9002\u7528\uff09\u3002\u5b8c\u6574 Checkpoint \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u7531\u786e\u8ba4 Checkpoint \u7684\u6700\u540e\u4e00\u4e2a Subtask \u786e\u5b9a\u3002\u8fd9\u4e2a\u65f6\u95f4\u901a\u5e38\u5927\u4e8e\u5355\u4e2a Subtask \u5b9e\u9645 Checkpoint State \u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Checkpointed Data Size**\uff1a\u6240\u6709\u5df2\u786e\u8ba4 Subtasks \u7684 checkpoint \u7684\u6570\u636e\u5927\u5c0f\u3002\u5982\u679c\u542f\u7528\u4e86\u589e\u91cf Checkpoint\uff0c\u5219\u6b64\u503c\u4e3a Checkpoint \u6570\u636e\u7684\u589e\u91cf\u5927\u5c0f\u3002\n+- **Processed in-flight data**\uff1a\u5728\u5bf9\u9f50\uff08Checkpoint alignment\uff09\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u5904\u7406\u7684\u5927\u7ea6\u5b57\u8282\u6570\u3002\n+- **Persisted in-flight data**\uff1a\u5728\u5bf9\u9f50\u671f\u95f4\uff08\u4ece\u63a5\u6536\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a Checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\uff09\u5bf9\u6240\u6709\u5df2\u786e\u8ba4\u7684 Subtasks \u6301\u4e45\u5316\u7684\u5b57\u8282\u6570\u3002\u4ec5\u5f53\u542f\u7528\u672a\u5bf9\u9f50\u7684 Checkpoint \u65f6\uff0c\u6b64\u503c\u5927\u4e8e 0\u3002\n \n-For subtasks there are a couple of more detailed stats available.\n+\u5bf9\u4e8e subtasks\uff0c\u6709\u4e24\u4e2a\u66f4\u8be6\u7ec6\u7684\u7edf\u8ba1\u4fe1\u606f\u53ef\u7528\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-history-subtasks.png\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-history-subtasks.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: History\">\n </center>\n \n-- **Sync Duration**: The duration of the synchronous part of the checkpoint. This includes snapshotting state of the operators and blocks all other activity on the subtask (processing records, firing timers, etc).\n-- **Async Duration**: The duration of the asynchronous part of the checkpoint. This includes time it took to write the checkpoint on to the selected filesystem. For unaligned checkpoints this also includes also the time the subtask had to wait for last of the checkpoint barriers to arrive (alignment duration) and the time it took to persist the in-flight data.\n-- **Alignment Duration**: The time between processing the first and the last checkpoint barrier. For aligned checkpoints, during the alignment, the channels that have already received checkpoint barrier are blocked from processing more data.\n-- **Start Delay**: The time it took for the first checkpoint barrier to reach this subtasks since the checkpoint barrier has been created.\n+- **Sync Duration**\uff1aCheckpoint \u540c\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec operators \u7684\u5feb\u7167\u72b6\u6001\uff0c\u5e76\u963b\u585e subtask \u4e0a\u7684\u6240\u6709\u5176\u4ed6\u6d3b\u52a8\uff08\u5904\u7406\u8bb0\u5f55\u3001\u89e6\u53d1\u8ba1\u65f6\u5668\u7b49\uff09\u3002\n+- **Async Duration**\uff1aCheckpoint \u7684\u5f02\u6b65\u90e8\u5206\u7684\u6301\u7eed\u65f6\u95f4\u3002\u8fd9\u5305\u62ec\u5c06 Checkpoint \u5199\u5165\u8bbe\u7f6e\u7684\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u672a\u5bf9\u9f50\u7684 Checkpoints\uff0c\u8fd9\u8fd8\u5305\u62ec subtask \u5fc5\u987b\u7b49\u5f85\u6700\u540e\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u7684\u65f6\u95f4\uff08\u5bf9\u9f50\u6301\u7eed\u65f6\u95f4\uff09\u4ee5\u53ca\u6301\u4e45\u5316\u6570\u636e\u6240\u9700\u7684\u65f6\u95f4\u3002\n+- **Alignment Duration**\uff1a\u5904\u7406\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a checkpoint barrier \u4e4b\u95f4\u7684\u65f6\u95f4\u3002\u5bf9\u4e8e\u5bf9\u9f50\u673a\u5236\u7684 checkpoints\uff0c\u5728\u5bf9\u9f50\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u63a5\u6536\u5230 checkpoint barrier \u7684 channels \u5c06\u963b\u585e\u5e76\u505c\u6b62\u5904\u7406\u540e\u7eed\u7684\u6570\u636e\u3002\n+- **Start Delay**\uff1a\u81ea\u521b\u5efa checkpoint barrier \u5f00\u59cb\uff0c\u7b2c\u4e00\u4e2a checkpoint barrier \u5230\u8fbe\u6b64 subtask \u6240\u7528\u7684\u65f6\u95f4\u3002\n \n-#### History Size Configuration\n+<a name=\"history-size-configuration\"></a>\n \n-You can configure the number of recent checkpoints that are remembered for the history via the following configuration key. The default is `10`.\n+#### \u5386\u53f2\u8bb0\u5f55\u6570\u91cf\u914d\u7f6e\n+\n+\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u914d\u7f6e\u952e\u914d\u7f6e\u5386\u53f2\u8bb0\u5f55\u6240\u4fdd\u5b58\u7684\u6700\u8fd1\u68c0\u67e5\u70b9\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a `10`\u3002\n \n {% highlight yaml %}\n-# Number of recent checkpoints that are remembered\n+# \u4fdd\u5b58\u6700\u8fd1 Checkpoints \u7684\u4e2a\u6570\n web.checkpoints.history: 15\n {% endhighlight %}\n \n-### Summary Tab\n+<a name=\"summary-tab\"></a>\n+\n+### \u6458\u8981\u4fe1\u606f\uff08Summary\uff09\u9009\u9879\u5361\n \n-The summary computes a simple min/average/maximum statistics over all completed checkpoints for the End to End Duration, Checkpointed Data Size, and Bytes Buffered During Alignment (see [History](#history) for details about what these mean).\n+\u6458\u8981\u8ba1\u7b97\u4e86\u6240\u6709\u5df2\u5b8c\u6210 checkpoints \u7684\u7aef\u5230\u7aef\u6301\u7eed\u65f6\u95f4\u3001Checkpointed \u6570\u636e\u5927\u5c0f\u548c\u5bf9\u9f50\u671f\u95f4\u7f13\u51b2\u7684\u5b57\u8282\u6570\u7684\u7b80\u5355 min/average/maximum \u7edf\u8ba1\u4fe1\u606f\uff08\u6709\u5173\u8fd9\u4e9b\u5185\u5bb9\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 [History](#History tab)\uff09\u3002\n \n <center>\n-  <img src=\"{{ site.baseurl }}/fig/checkpoint_monitoring-summary.png\" width=\"700px\" alt=\"Checkpoint Monitoring: Summary\">\n+  <img src=\"{% link /fig/checkpoint_monitoring-summary.png %}\" width=\"700px\" alt=\"Checkpoint Monitoring: Summary\">\n </center>\n \n-Note that these statistics don't survive a JobManager loss and are reset to if your JobManager fails over.\n+\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u4e0d\u4f1a\u5728 JobManager \u4e22\u5931\u540e\u65e0\u6cd5\u4fdd\u5b58\uff0c\u5982\u679c JobManager \u6545\u969c\u8f6c\u79fb\uff0c\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u5c06\u88ab\u91cd\u7f6e\u3002\n+\n+<a name=\"configuration-tab\"></a>\n \n-### Configuration Tab\n+### \u914d\u7f6e\u4fe1\u606f\uff08Configuration\uff09\u9009\u9879\u5361\n \n-The configuration list your streaming configuration:\n+\u8be5\u914d\u7f6e\u9009\u9879\u5361\u5217\u51fa\u4e86\u4f60\u6307\u5b9a\u7684\u6d41\u5f0f\u914d\u7f6e\uff1a\n \n-- **Checkpointing Mode**: Either *Exactly Once* or *At least Once*.\n-- **Interval**: The configured checkpointing interval. Trigger checkpoints in this interval.\n-- **Timeout**: Timeout after which a checkpoint is cancelled by the JobManager and a new checkpoint is triggered.\n-- **Minimum Pause Between Checkpoints**: Minimum required pause between checkpoints. After a checkpoint has completed successfully, we wait at least for this amount of time before triggering the next one, potentially delaying the regular interval.\n-- **Maximum Concurrent Checkpoints**: The maximum number of checkpoints that can be in progress concurrently.\n-- **Persist Checkpoints Externally**: Enabled or Disabled. If enabled, furthermore lists the cleanup config for externalized checkpoints (delete or retain on cancellation).\n+- **Checkpointing Mode**\uff1a*\u6070\u597d\u4e00\u6b21\uff08Exactly Once\uff09*\u6216\u8005*\u81f3\u5c11\u4e00\u6b21\uff08At least Once\uff09*\u3002\n+- **Interval**\uff1a\u914d\u7f6e\u7684 Checkpoint \u89e6\u53d1\u95f4\u9694\u3002\u5728\u6b64\u95f4\u9694\u5185\u89e6\u53d1 Checkpoint\u3002\n+- **Timeout**\uff1a\u8d85\u65f6\u4e4b\u540e\uff0cJobManager \u53d6\u6d88 checkpoint \u5e76\u89e6\u53d1\u65b0\u7684 checkpoint\u3002\n+- **Minimum Pause Between Checkpoints**\uff1aCheckpoint \u4e4b\u95f4\u6240\u9700\u7684\u6700\u5c0f\u6682\u505c\u65f6\u95f4\u3002Checkpoint \u6210\u529f\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u81f3\u5c11\u8981\u7b49\u8fd9\u6bb5\u65f6\u95f4\u518d\u89e6\u53d1\u4e0b\u4e00\u4e2a\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5ef6\u8fdf\u6b63\u5e38\u7684\u95f4\u9694\u3002\n+- **Maximum Concurrent Checkpoints**\uff1a\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c\u7684\u6700\u5927 checkpoint \u4e2a\u6570\u3002\n+- **Persist Checkpoints Externally**\uff1a\u542f\u7528\u6216\u7981\u7528\u6301\u4e45\u5316 Checkpoints \u5230\u5916\u90e8\u7cfb\u7edf\u3002\u5982\u679c\u542f\u7528\uff0c\u8fd8\u4f1a\u5217\u51fa\u5916\u90e8\u5316 checkpoints \u7684\u6e05\u7406\u914d\u7f6e\uff08\u53d6\u6d88\u65f6\u5220\u9664\u6216\u4fdd\u7559\uff09\u3002", "originalCommit": "1ec411ddcfd58a0ab5f22c7ebe5433439b217d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "930c16e764a8e3c1ce6352ff7389cffd5c88485b", "url": "https://github.com/apache/flink/commit/930c16e764a8e3c1ce6352ff7389cffd5c88485b", "message": "[FLINK-19394][docs-zh] Translate the 'Monitoring Checkpointing' page of 'Debugging & Monitoring' into Chinese", "committedDate": "2020-11-10T03:03:36Z", "type": "commit"}, {"oid": "930c16e764a8e3c1ce6352ff7389cffd5c88485b", "url": "https://github.com/apache/flink/commit/930c16e764a8e3c1ce6352ff7389cffd5c88485b", "message": "[FLINK-19394][docs-zh] Translate the 'Monitoring Checkpointing' page of 'Debugging & Monitoring' into Chinese", "committedDate": "2020-11-10T03:03:36Z", "type": "forcePushed"}]}