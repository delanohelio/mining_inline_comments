{"pr_number": 12071, "pr_title": "[FLINK-17416][e2e][k8s] Use fixed v1.16.9 because fabric8 kubernetes-client could not work with higher version under jdk 8u252", "pr_createdAt": "2020-05-11T06:55:14Z", "pr_url": "https://github.com/apache/flink/pull/12071", "timeline": [{"oid": "5a3e61e6995bcb1c5d031d440b924d26826863bb", "url": "https://github.com/apache/flink/commit/5a3e61e6995bcb1c5d031d440b924d26826863bb", "message": "[FLINK-17416][e2e][k8s] Use fixed v1.16.9 because fabric8 kubernetes-client could not work with higher version under jdk 8u252", "committedDate": "2020-05-11T03:21:58Z", "type": "commit"}, {"oid": "818dd9bd7f24ee7c28afa187190fc3784dde0d35", "url": "https://github.com/apache/flink/commit/818dd9bd7f24ee7c28afa187190fc3784dde0d35", "message": "[FLINK-17416][e2e][k8s] Enable k8s related tests", "committedDate": "2020-05-11T03:22:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzMDY3OQ==", "url": "https://github.com/apache/flink/pull/12071#discussion_r422830679", "bodyText": "which k8s version is the e2e test usually using?", "author": "rmetzger", "createdAt": "2020-05-11T07:16:35Z", "path": "flink-end-to-end-tests/test-scripts/common_kubernetes.sh", "diffHunk": "@@ -75,7 +75,8 @@ function start_kubernetes_if_not_running {\n         # here.\n         # Similarly, the kubelets are marking themself as \"low disk space\",\n         # causing Flink to avoid this node (again, failing the test)\n-        sudo CHANGE_MINIKUBE_NONE_USER=true minikube start --vm-driver=none \\\n+        # Use fixed version v1.16.9 because fabric8 kubernetes-client could not work with higher version under jdk 8u252\n+        sudo CHANGE_MINIKUBE_NONE_USER=true minikube start --kubernetes-version v1.16.9 --vm-driver=none \\", "originalCommit": "818dd9bd7f24ee7c28afa187190fc3784dde0d35", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzMjU4Ng==", "url": "https://github.com/apache/flink/pull/12071#discussion_r422832586", "bodyText": "Currently, we are using minikube v1.8.2, the default corresponding Kubernetes version is v1.17 by default.", "author": "wangyang0918", "createdAt": "2020-05-11T07:20:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzMDY3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzODQ4Mw==", "url": "https://github.com/apache/flink/pull/12071#discussion_r422838483", "bodyText": "Okay, I see. Thx!\nDoes it make sense to run the K8s tests with multiple K8s versions to better detect such issues in the future? We test against the latest version (1.18), oldest maintained (1.16)?", "author": "rmetzger", "createdAt": "2020-05-11T07:31:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzMDY3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg3NTE4NQ==", "url": "https://github.com/apache/flink/pull/12071#discussion_r422875185", "bodyText": "This is a great idea. I will create a ticket to track this.", "author": "wangyang0918", "createdAt": "2020-05-11T08:35:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzMDY3OQ=="}], "type": "inlineReview"}]}