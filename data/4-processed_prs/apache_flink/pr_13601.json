{"pr_number": 13601, "pr_title": "[FLINK-19431][docs]Translate \"Monitoring REST API\" page of \"Debugging & Monitoring\" into Chinese", "pr_createdAt": "2020-10-13T01:13:52Z", "pr_url": "https://github.com/apache/flink/pull/13601", "timeline": [{"oid": "2f9beeea14f44f57784e01b21f010316fe09e252", "url": "https://github.com/apache/flink/commit/2f9beeea14f44f57784e01b21f010316fe09e252", "message": "translate monitoring rest api into Chinese", "committedDate": "2020-10-12T03:44:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg2NzkxOQ==", "url": "https://github.com/apache/flink/pull/13601#discussion_r503867919", "bodyText": "\u8be5\u76d1\u63a7 API \u662f REST-ful \u98ce\u683c\u7684 API -> \u8be5\u76d1\u63a7 API \u662f REST-ful \u98ce\u683c\u7684 \u662f\u5426\u5c31\u53ef\u4ee5\u4e86", "author": "klion26", "createdAt": "2020-10-13T11:17:07Z", "path": "docs/monitoring/rest_api.zh.md", "diffHunk": "@@ -22,46 +22,45 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a monitoring API that can be used to query status and statistics of running jobs, as well as recent completed jobs.\n-This monitoring API is used by Flink's own dashboard, but is designed to be used also by custom monitoring tools.\n+Flink \u5177\u6709\u76d1\u63a7 API \uff0c\u53ef\u7528\u4e8e\u67e5\u8be2\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\u4ee5\u53ca\u6700\u8fd1\u5b8c\u6210\u7684\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\u8be5\u76d1\u63a7 API \u88ab\u7528\u4e8e Flink \u81ea\u5df1\u7684\u4eea\u8868\u76d8\uff0c\u540c\u65f6\u4e5f\u53ef\u7528\u4e8e\u81ea\u5b9a\u4e49\u76d1\u63a7\u5de5\u5177\u3002\n \n-The monitoring API is a REST-ful API that accepts HTTP requests and responds with JSON data.\n+\u8be5\u76d1\u63a7 API \u662f REST-ful \u98ce\u683c\u7684 API \uff0c\u53ef\u4ee5\u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002", "originalCommit": "2f9beeea14f44f57784e01b21f010316fe09e252", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg2ODQ4MQ==", "url": "https://github.com/apache/flink/pull/13601#discussion_r503868481", "bodyText": "\u8bf7\u5728\u6bcf\u4e2a\u6807\u9898\u524d\u9762\u6dfb\u52a0\u4e0b <a> \u6807\u7b7e\u5427\uff0c\u5177\u4f53\u53c2\u8003 wiki\n\u94fe\u63a5\u7684\u951a\u70b9\u53ef\u4ee5\u53c2\u8003\u82f1\u6587\u7248\u7684 url", "author": "klion26", "createdAt": "2020-10-13T11:18:21Z", "path": "docs/monitoring/rest_api.zh.md", "diffHunk": "@@ -22,46 +22,45 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a monitoring API that can be used to query status and statistics of running jobs, as well as recent completed jobs.\n-This monitoring API is used by Flink's own dashboard, but is designed to be used also by custom monitoring tools.\n+Flink \u5177\u6709\u76d1\u63a7 API \uff0c\u53ef\u7528\u4e8e\u67e5\u8be2\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\u4ee5\u53ca\u6700\u8fd1\u5b8c\u6210\u7684\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\u8be5\u76d1\u63a7 API \u88ab\u7528\u4e8e Flink \u81ea\u5df1\u7684\u4eea\u8868\u76d8\uff0c\u540c\u65f6\u4e5f\u53ef\u7528\u4e8e\u81ea\u5b9a\u4e49\u76d1\u63a7\u5de5\u5177\u3002\n \n-The monitoring API is a REST-ful API that accepts HTTP requests and responds with JSON data.\n+\u8be5\u76d1\u63a7 API \u662f REST-ful \u98ce\u683c\u7684 API \uff0c\u53ef\u4ee5\u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n \n-## Overview\n+## \u6982\u89c8", "originalCommit": "2f9beeea14f44f57784e01b21f010316fe09e252", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg3MDE2OQ==", "url": "https://github.com/apache/flink/pull/13601#discussion_r503870169", "bodyText": "\u201c\u8be5\u7c7b\u6839\u636e\u6dfb\u52a0\u7684 MessageHeaders \u7c7b\u5904\u7406\u8bf7\u6c42\u201d \u8fd9\u53e5\u8bfb\u8d77\u6765\u6709\u70b9\u602a\u602a\u7684\uff0c\u80fd\u5426\u518d\u4f18\u5316\u4e0b", "author": "klion26", "createdAt": "2020-10-13T11:21:18Z", "path": "docs/monitoring/rest_api.zh.md", "diffHunk": "@@ -22,46 +22,45 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a monitoring API that can be used to query status and statistics of running jobs, as well as recent completed jobs.\n-This monitoring API is used by Flink's own dashboard, but is designed to be used also by custom monitoring tools.\n+Flink \u5177\u6709\u76d1\u63a7 API \uff0c\u53ef\u7528\u4e8e\u67e5\u8be2\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\u4ee5\u53ca\u6700\u8fd1\u5b8c\u6210\u7684\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\u8be5\u76d1\u63a7 API \u88ab\u7528\u4e8e Flink \u81ea\u5df1\u7684\u4eea\u8868\u76d8\uff0c\u540c\u65f6\u4e5f\u53ef\u7528\u4e8e\u81ea\u5b9a\u4e49\u76d1\u63a7\u5de5\u5177\u3002\n \n-The monitoring API is a REST-ful API that accepts HTTP requests and responds with JSON data.\n+\u8be5\u76d1\u63a7 API \u662f REST-ful \u98ce\u683c\u7684 API \uff0c\u53ef\u4ee5\u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n \n-## Overview\n+## \u6982\u89c8\n \n-The monitoring API is backed by a web server that runs as part of the *Dispatcher*. By default, this server listens at port `8081`, which can be configured in `flink-conf.yaml` via `rest.port`. Note that the monitoring API web server and the web dashboard web server are currently the same and thus run together at the same port. They respond to different HTTP URLs, though.\n+\u8be5\u76d1\u63a7 API \u7531\u4f5c\u4e3a *Dispatcher* \u4e00\u90e8\u5206\u8fd0\u884c\u7684 web \u670d\u52a1\u5668\u63d0\u4f9b\u652f\u6301\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u670d\u52a1\u5668\u76d1\u542c 8081 \u7aef\u53e3\uff0c\u7aef\u53e3\u53f7\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 `flink-conf.yaml` \u6587\u4ef6\u7684 `rest.port` \u8fdb\u884c\u914d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c\u8be5\u76d1\u63a7 API \u7684 web \u670d\u52a1\u5668\u548c\u4eea\u8868\u76d8\u7684 web \u670d\u52a1\u5668\u76ee\u524d\u662f\u76f8\u540c\u7684\uff0c\u56e0\u6b64\u5728\u540c\u4e00\u7aef\u53e3\u4e00\u8d77\u8fd0\u884c\u3002\u4e0d\u8fc7\uff0c\u5b83\u4eec\u54cd\u5e94\u4e0d\u540c\u7684 HTTP URL \u3002\n \n-In the case of multiple Dispatchers (for high availability), each Dispatcher will run its own instance of the monitoring API, which offers information about completed and running job while that Dispatcher was elected the cluster leader.\n+\u5728\u591a\u4e2a Dispatcher \u7684\u60c5\u51b5\u4e0b\uff08\u4e3a\u4e86\u9ad8\u53ef\u7528\uff09\uff0c\u6bcf\u4e2a Dispatcher \u5c06\u8fd0\u884c\u81ea\u5df1\u7684\u76d1\u63a7 API \u5b9e\u4f8b\uff0c\u5f53 Dispatcher \u88ab\u9009\u4e3e\u6210\u4e3a\u96c6\u7fa4 leader \u65f6\uff0c\u8be5\u5b9e\u4f8b\u5c06\u63d0\u4f9b\u5df2\u5b8c\u6210\u548c\u6b63\u5728\u8fd0\u884c\u4f5c\u4e1a\u7684\u76f8\u5173\u4fe1\u606f\u3002\n \n \n-## Developing\n+## \u62d3\u5c55\n \n-The REST API backend is in the `flink-runtime` project. The core class is `org.apache.flink.runtime.webmonitor.WebMonitorEndpoint`, which sets up the server and the request routing.\n+\u8be5 REST API \u540e\u7aef\u4f4d\u4e8e `flink-runtime` \u9879\u76ee\u4e2d\u3002\u6838\u5fc3\u7c7b\u662f `org.apache.flink.runtime.webmonitor.WebMonitorEndpoint` \uff0c\u7528\u6765\u914d\u7f6e\u670d\u52a1\u5668\u548c\u8bf7\u6c42\u8def\u7531\u3002\n \n-We use *Netty* and the *Netty Router* library to handle REST requests and translate URLs. This choice was made because this combination has lightweight dependencies, and the performance of Netty HTTP is very good.\n+\u6211\u4eec\u4f7f\u7528 *Netty* \u548c *Netty Router* \u5e93\u6765\u5904\u7406 REST \u8bf7\u6c42\u548c\u8f6c\u6362 URL \u3002\u9009\u62e9\u8be5\u9009\u9879\u662f\u56e0\u4e3a\u8fd9\u79cd\u7ec4\u5408\u5177\u6709\u8f7b\u91cf\u7ea7\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u4e14 Netty HTTP \u7684\u6027\u80fd\u975e\u5e38\u597d\u3002\n \n-To add new requests, one needs to\n-* add a new `MessageHeaders` class which serves as an interface for the new request,\n-* add a new `AbstractRestHandler` class which handles the request according to the added `MessageHeaders` class,\n-* add the handler to `org.apache.flink.runtime.webmonitor.WebMonitorEndpoint#initializeHandlers()`.\n+\u6dfb\u52a0\u65b0\u7684\u8bf7\u6c42\uff0c\u9700\u8981\n+* \u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 `MessageHeaders` \u7c7b\uff0c\u4f5c\u4e3a\u65b0\u8bf7\u6c42\u7684\u63a5\u53e3\uff0c\n+* \u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 `AbstractRestHandler` \u7c7b\uff0c\u8be5\u7c7b\u6839\u636e\u6dfb\u52a0\u7684 `MessageHeaders` \u7c7b\u5904\u7406\u8bf7\u6c42\uff0c", "originalCommit": "2f9beeea14f44f57784e01b21f010316fe09e252", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1ec50f73d147477a8c6e8eef990d6fae7eb9ddfa", "url": "https://github.com/apache/flink/commit/1ec50f73d147477a8c6e8eef990d6fae7eb9ddfa", "message": "update translate", "committedDate": "2020-10-14T06:12:13Z", "type": "commit"}]}