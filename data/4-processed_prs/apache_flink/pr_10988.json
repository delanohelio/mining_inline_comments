{"pr_number": 10988, "pr_title": "[FLINK-16348][Runtime/WebFrontend] Add commas to large numeric accumulators", "pr_createdAt": "2020-02-01T01:55:38Z", "pr_url": "https://github.com/apache/flink/pull/10988", "timeline": [{"oid": "cec303a7c2c6e4338ca57f80f4fadfe7182126bb", "url": "https://github.com/apache/flink/commit/cec303a7c2c6e4338ca57f80f4fadfe7182126bb", "message": "Update job-overview-drawer-accumulators.component.html", "committedDate": "2020-02-01T01:52:49Z", "type": "commit"}, {"oid": "a6a65a4b76cfc13e5ee953e624fa6f109c8a178c", "url": "https://github.com/apache/flink/commit/a6a65a4b76cfc13e5ee953e624fa6f109c8a178c", "message": "Added isFinite to the Controller", "committedDate": "2020-02-01T07:00:49Z", "type": "commit"}, {"oid": "03ed8174e26557a168fe5defeebbfa8bc139c08d", "url": "https://github.com/apache/flink/commit/03ed8174e26557a168fe5defeebbfa8bc139c08d", "message": "Merge pull request #2 from chushao/patch-2\n\nAdded isFinite to the Controller", "committedDate": "2020-02-01T07:04:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDUwOTg1OA==", "url": "https://github.com/apache/flink/pull/10988#discussion_r384509858", "bodyText": "I'm not sure, but is the {{accumulator.value}} always integer? if not we should not make it round to integer with number:'1.0-0',number:'1.0-3' is better", "author": "vthinkxie", "createdAt": "2020-02-26T14:02:28Z", "path": "flink-runtime-web/web-dashboard/src/app/pages/job/overview/accumulators/job-overview-drawer-accumulators.component.html", "diffHunk": "@@ -37,7 +37,10 @@\n         <tr *ngFor=\"let accumulator of listOfAccumulator; trackBy:trackAccumulatorBy;\">\n           <td>{{ accumulator.name }}</td>\n           <td>{{ accumulator.type }}</td>\n-          <td>{{ accumulator.value }}</td>\n+          <td *ngIf=\"isFinite(accumulator.value); else nonNumeric\">{{ accumulator.value | number:'1.0-0' }}</td>", "originalCommit": "03ed8174e26557a168fe5defeebbfa8bc139c08d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDUxMTc3Ng==", "url": "https://github.com/apache/flink/pull/10988#discussion_r384511776", "bodyText": "there is no need to duplicate the td here, try this way\n<td>\n  <ng-container *ngIf=\"isFinite(accumulator.value); else nonNumeric\">{{ accumulator.value | number:'1.0-0' }}</ng-container>\n  <ng-template #nonNumeric>{{ accumulator.value }}</ng-template>\n</td>\nand another easier way to do this\n<td>\n  {{ (accumulator.value | number:'1.0-3' ) || accumulator.value }}\n</td>", "author": "vthinkxie", "createdAt": "2020-02-26T14:05:48Z", "path": "flink-runtime-web/web-dashboard/src/app/pages/job/overview/accumulators/job-overview-drawer-accumulators.component.html", "diffHunk": "@@ -37,7 +37,10 @@\n         <tr *ngFor=\"let accumulator of listOfAccumulator; trackBy:trackAccumulatorBy;\">\n           <td>{{ accumulator.name }}</td>\n           <td>{{ accumulator.type }}</td>\n-          <td>{{ accumulator.value }}</td>\n+          <td *ngIf=\"isFinite(accumulator.value); else nonNumeric\">{{ accumulator.value | number:'1.0-0' }}</td>\n+          <ng-template #nonNumeric>\n+            <td>{{ accumulator.value }}</td>", "originalCommit": "03ed8174e26557a168fe5defeebbfa8bc139c08d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "06668089b730778948e758f114c2ed34d141135f", "url": "https://github.com/apache/flink/commit/06668089b730778948e758f114c2ed34d141135f", "message": "Update job-overview-drawer-accumulators.component.html", "committedDate": "2020-02-27T02:10:22Z", "type": "commit"}, {"oid": "ac364646023681c9a4b237afe86f073c3fe5d108", "url": "https://github.com/apache/flink/commit/ac364646023681c9a4b237afe86f073c3fe5d108", "message": "Update job-overview-drawer-accumulators.component.ts", "committedDate": "2020-02-27T02:20:08Z", "type": "commit"}]}