{"pr_number": 11978, "pr_title": "[FLINK-16086][chinese-translation]Translate \"Temporal Tables\" page of \"Streaming Concepts\" into Chinese", "pr_createdAt": "2020-05-03T14:16:06Z", "pr_url": "https://github.com/apache/flink/pull/11978", "timeline": [{"oid": "574cf931d200bcbebcb1f3740ccb80270dfed470", "url": "https://github.com/apache/flink/commit/574cf931d200bcbebcb1f3740ccb80270dfed470", "message": "doc: translate temporal_tables.md to Chinese.", "committedDate": "2020-05-03T14:05:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NTkwNA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422445904", "bodyText": "\u201c\u65f6\u6001\u8868\u201d \u8fd9\u4e2a\u504f\u4e13\u6709\u540d\u8bcd\uff0c\u9700\u8981\u5176\u4ed6\u4eba\u786e\u8ba4\u4e0b\u662f\u5426\u5408\u7406\u3002", "author": "klion26", "createdAt": "2020-05-09T03:03:35Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -1,5 +1,5 @@\n ---\n-title: \"Temporal Tables\"\n+title: \"\u65f6\u6001\u8868\uff08Temporal Tables\uff09\"", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NjMxMA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422446310", "bodyText": "\u201c\u53d8\u5316\u7684\u8868\u53ef\u4ee5\u662f\u8ffd\u8e2a\u53d8\u5316\u7684\u53d8\u5316\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u53d8\u66f4\u65e5\u5fd7\uff09\u201d -> \u201c\u53d8\u66f4\u8868\u53ef\u4ee5\u662f\u8ddf\u8e2a\u53d8\u5316\u7684\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u5982\u6570\u636e\u5e93\u53d8\u5316\u8bb0\u5f55\uff09\u3002\u201d \u4f1a\u66f4\u597d\u4e00\u70b9\u5417\uff1f", "author": "klion26", "createdAt": "2020-05-09T03:09:27Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u4e00\u76f4\u5728\u53d8\u5316\u7684\u8868\u4e0a\u4e00\u4e2a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\n \n-The changing table can either be a changing history table which tracks the changes (e.g. database changelogs) or a changing dimension table which materializes the changes (e.g. database tables).\n+\u53d8\u5316\u7684\u8868\u53ef\u4ee5\u662f\u8ffd\u8e2a\u53d8\u5316\u7684\u53d8\u5316\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u53d8\u66f4\u65e5\u5fd7\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u6709\u5177\u4f53\u66f4\u6539\u7684\u7ef4\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u8868\uff09\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NzA5MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422447091", "bodyText": "\u8fd9\u91cc\u7684 \u201cchanging history table\u201d\u6307\u4e0a\u9762\u4e24\u79cd\u7684\u4e00\u79cd\u5427\uff0c\u8868\u793a\u201cchangelog\u201d\u3002\u8fd9\u91cc\u662f\u5426\u6709\u6bd4 \u201c\u5bf9\u4e8e\u8868\u7684\u5386\u53f2\u53d8\u5316\u201d\u66f4\u597d\u7684\u7ffb\u8bd1\u5462\uff1f", "author": "klion26", "createdAt": "2020-05-09T03:21:15Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u4e00\u76f4\u5728\u53d8\u5316\u7684\u8868\u4e0a\u4e00\u4e2a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\n \n-The changing table can either be a changing history table which tracks the changes (e.g. database changelogs) or a changing dimension table which materializes the changes (e.g. database tables).\n+\u53d8\u5316\u7684\u8868\u53ef\u4ee5\u662f\u8ffd\u8e2a\u53d8\u5316\u7684\u53d8\u5316\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u53d8\u66f4\u65e5\u5fd7\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u6709\u5177\u4f53\u66f4\u6539\u7684\u7ef4\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u8868\uff09\u3002\n \n-For the changing history table, Flink can keep track of the changes and allows for accessing the content of the table at a certain point in time within a query. In Flink, this kind of table is represented by a *Temporal Table Function*.\n+\u5bf9\u4e8e\u8868\u7684\u5386\u53f2\u53d8\u5316\uff0cFlink \u53ef\u4ee5\u8ffd\u8e2a\u8fd9\u4e9b\u53d8\u5316\uff0c\u5e76\u4e14\u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\u5728 Flink \u4e2d\uff0c\u8fd9\u7c7b\u8868\u7531 *\u65f6\u6001\u8868\u51fd\u6570\uff08Temporal Table Function\uff09* \u8868\u793a\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ1MDAyMw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422450023", "bodyText": "\u591a\u8c22review\uff01\u201cchanging history table\u201d \u6211\u7406\u89e3\u5b9e\u9645\u4e0a\u662f\u6307 \u8bb0\u5f55\u4e8b\u4ef6\u53d8\u66f4\u5386\u53f2\u7684\u8868\uff0c\u6700\u7ec8\u5982\u4f55\u7ffb\u8bd1\u8fd8\u8981\u518d\u8ba8\u8bba\u4e0b\u3002", "author": "caozhen1937", "createdAt": "2020-05-09T04:02:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NzA5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NzMwNQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422447305", "bodyText": "\u201cchanging history table\u201d \u6709\u4e00\u4e2a\u66f4\u597d\u7684\u7ffb\u8bd1\u5417\uff1f\u73b0\u5728\u7684\u7ffb\u8bd1\u4e0d\u80fd\u4f53\u73b0\u201cchangelog\u201d", "author": "klion26", "createdAt": "2020-05-09T03:24:05Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u4e00\u76f4\u5728\u53d8\u5316\u7684\u8868\u4e0a\u4e00\u4e2a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\n \n-The changing table can either be a changing history table which tracks the changes (e.g. database changelogs) or a changing dimension table which materializes the changes (e.g. database tables).\n+\u53d8\u5316\u7684\u8868\u53ef\u4ee5\u662f\u8ffd\u8e2a\u53d8\u5316\u7684\u53d8\u5316\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u53d8\u66f4\u65e5\u5fd7\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u6709\u5177\u4f53\u66f4\u6539\u7684\u7ef4\u8868\uff08\u4f8b\u5982\uff1a\u6570\u636e\u5e93\u8868\uff09\u3002\n \n-For the changing history table, Flink can keep track of the changes and allows for accessing the content of the table at a certain point in time within a query. In Flink, this kind of table is represented by a *Temporal Table Function*.\n+\u5bf9\u4e8e\u8868\u7684\u5386\u53f2\u53d8\u5316\uff0cFlink \u53ef\u4ee5\u8ffd\u8e2a\u8fd9\u4e9b\u53d8\u5316\uff0c\u5e76\u4e14\u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\u5728 Flink \u4e2d\uff0c\u8fd9\u7c7b\u8868\u7531 *\u65f6\u6001\u8868\u51fd\u6570\uff08Temporal Table Function\uff09* \u8868\u793a\u3002\n \n-For the changing dimension table, Flink allows for accessing the content of the table at processing time within a query. In Flink, this kind of table is represented by a *Temporal Table*.\n+\u5bf9\u4e8e\u53d8\u5316\u7684\u7ef4\u8868\uff0cFlink \u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u5904\u7406\u65f6\u7684\u5185\u5bb9\uff0c\u5728 Flink \u4e2d\uff0c\u6b64\u7c7b\u8868\u7531 *\u65f6\u6001\u8868\uff08Temporal Table\uff09* \u8868\u793a\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-Motivation\n+\u8bbe\u8ba1\u521d\u8877\n ----------\n \n-### Correlate with a changing history table\n+### \u4e0e\u8868\u7684\u5386\u53f2\u53d8\u5316\u76f8\u5173", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NzQ0MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422447441", "bodyText": "\u201c\u5047\u8bbe\u6211\u4eec\u8981\u8f93\u51fa\u5728 10:58 \u7684\u65f6\u95f4\u7684\u6240\u6709\u5f53\u524d\u6c47\u7387\" -> \"\u5047\u8bbe\u6211\u4eec\u8981\u8f93\u51fa 10:58 \u7684\u6240\u6709\u5f53\u524d\u6c47\u7387\u201d\u662f\u5426\u4f1a\u66f4\u597d\u4e00\u4e9b\u5462", "author": "klion26", "createdAt": "2020-05-09T03:26:10Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -53,10 +53,9 @@ rowtime currency   rate\n 11:49   Pounds      108\n {% endhighlight %}\n \n-`RatesHistory` represents an ever growing append-only table of currency exchange rates with respect to `Yen` (which has a rate of `1`).\n-For example, the exchange rate for the period from `09:00` to `10:45` of `Euro` to `Yen` was `114`. From `10:45` to `11:15` it was `116`.\n+`RatesHistory` \u8868\u793a\u4e00\u4e2a\u5173\u4e8e\u65e5\u5143\u4e14\u4e0d\u65ad\u589e\u957f\u7684\u8d27\u5e01\u6c47\u7387 append-only \u8868\uff08\u6c47\u7387\u4e3a1\uff09\u3002\u4f8b\u5982\uff0c`\u6b27\u5143`\u5151`\u65e5\u5143`\u4ece `09:00` \u5230 `10:45` \u7684\u6c47\u7387\u4e3a `114`\u3002\u4ece `10:45` \u5230 `11:15` \uff0c\u6c47\u7387\u4e3a `116`\u3002\n \n-Given that we would like to output all current rates at the time `10:58`, we would need the following SQL query to compute a result table:\n+\u5047\u8bbe\u6211\u4eec\u8981\u8f93\u51fa\u5728 `10:58` \u7684\u65f6\u95f4\u7684\u6240\u6709\u5f53\u524d\u6c47\u7387\uff0c\u5219\u9700\u8981\u4ee5\u4e0b SQL \u67e5\u8be2\u6765\u8ba1\u7b97\u7ed3\u679c\u8868\uff1a", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ1MDE1Mw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422450153", "bodyText": "\u4f60\u7684\u5efa\u8bae\u66f4\u597d\u4e9b\uff0c\u6211\u7684\u7ffb\u8bd1\u8fc7\u4e8e\u76f4\u8bd1\u3002", "author": "caozhen1937", "createdAt": "2020-05-09T04:04:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0NzQ0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0Nzc5MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422447791", "bodyText": "\u201c\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c\u8003\u8651\u4e86 10:45 \u65f6\u6b27\u5143\u7684\u66f4\u65b0\uff0c\u4f46\u662f\u5728 10:58 \u65f6\uff0c\u8be5\u8868\u7684\u7248\u672c\u4e2d\u672a\u8003\u8651\u5bf9 11:15 \u5904\u7684\u6b27\u5143\u66f4\u65b0\u548c\u82f1\u9551\u7684\u65b0\u503c\u3002\u201d -> \u201c\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c10:58 \u7684\u8868\u7248\u672c\uff0c\u8003\u8651\u4e86 10:45 \u7684\u66f4\u65b0\uff0c\u4f46\u672a\u8003\u8651 11:15 \u7684\u66f4\u65b0\u201d \u662f\u5426\u4f1a\u66f4\u597d\u5462\uff1f\uff08\u6216\u8005\u6709\u5176\u4ed6\u66f4\u597d\u7684\u7ffb\u8bd1\u4e5f\u66f4\u597d\uff09", "author": "klion26", "createdAt": "2020-05-09T03:31:28Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -68,9 +67,9 @@ WHERE r.rowtime = (\n   AND r2.rowtime <= TIME '10:58');\n {% endhighlight %}\n \n-The correlated subquery determines the maximum time for the corresponding currency that is lower or equal than the desired time. The outer query lists the rates that have a maximum timestamp.\n-\n-The following table shows the result of such a computation. In our example, the update to `Euro` at `10:45` is taken into account, however, the update to `Euro` at `11:15` and the new entry of `Pounds` are not considered in the table's version at time `10:58`.\n+\u5b50\u67e5\u8be2\u786e\u5b9a\u5bf9\u5e94\u8d27\u5e01\u7684\u6700\u5927\u65f6\u95f4\u5c0f\u4e8e\u6216\u7b49\u4e8e\u6240\u9700\u65f6\u95f4\u3002\u5916\u90e8\u67e5\u8be2\u5217\u51fa\u5177\u6709\u6700\u5927\u65f6\u95f4\u6233\u7684\u6c47\u7387\u3002 \n+ \n+\u4e0b\u8868\u663e\u793a\u4e86\u8fd9\u79cd\u8ba1\u7b97\u7684\u7ed3\u679c\u3002\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c\u8003\u8651\u4e86 `10:45` \u65f6`\u6b27\u5143`\u7684\u66f4\u65b0\uff0c\u4f46\u662f\u5728 `10:58` \u65f6\uff0c\u8be5\u8868\u7684\u7248\u672c\u4e2d\u672a\u8003\u8651\u5bf9 `11:15` \u5904\u7684`\u6b27\u5143`\u66f4\u65b0\u548c`\u82f1\u9551`\u7684\u65b0\u503c\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0Nzg3NA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422447874", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u7387\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002\n          \n          \n            \n             *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002", "author": "klion26", "createdAt": "2020-05-09T03:32:33Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -80,17 +79,17 @@ rowtime currency   rate\n 10:45   Euro        116\n {% endhighlight %}\n \n-The concept of *Temporal Tables* aims to simplify such queries, speed up their execution, and reduce Flink's state usage. A *Temporal Table* is a parameterized view on an append-only table that interprets the rows of the append-only table as the changelog of a table and provides the version of that table at a specific point in time. Interpreting the append-only table as a changelog requires the specification of a primary key attribute and a timestamp attribute. The primary key determines which rows are overwritten and the timestamp determines the time during which a row is valid.\n+ *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u7387\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODIyNg==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448226", "bodyText": "\u201c\u5047\u8bbe LatestRates \u662f\u4e00\u4e2a\u4ee5\u6700\u65b0\u6c47\u7387\u5b9e\u73b0\u7684\u8868\uff08\u4f8b\u5982\uff0c\u5b58\u50a8\u5728\u5176\u4e2d\uff09\u201d -> \u201c\u5047\u8bbe LatestRates \u662f\u4e00\u4e2a\u8868\u793a\u6700\u65b0\u6c47\u7387\u7684\u8868\uff08\u4f8b\u5982\uff0c\u5b58\u50a8\u5728\u5176\u4e2d\uff09\u201d\n\u201c\u7136\u540e\u5728\u65f6\u95f4 10:58 \u7684 LatestRates\u8868\u7684\u5185\u5bb9\u5c06\u662f\uff1a\u201d -> \u201c\u90a3\u4e48LatestRates \u8868\u5728 10:58 \u7684\u5185\u5bb9\u5c06\u662f\uff1a\u201d\n\u662f\u4e0d\u662f\u4f1a\u66f4\u597d\u4e00\u4e9b\u5462\uff1f", "author": "klion26", "createdAt": "2020-05-09T03:37:07Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -80,17 +79,17 @@ rowtime currency   rate\n 10:45   Euro        116\n {% endhighlight %}\n \n-The concept of *Temporal Tables* aims to simplify such queries, speed up their execution, and reduce Flink's state usage. A *Temporal Table* is a parameterized view on an append-only table that interprets the rows of the append-only table as the changelog of a table and provides the version of that table at a specific point in time. Interpreting the append-only table as a changelog requires the specification of a primary key attribute and a timestamp attribute. The primary key determines which rows are overwritten and the timestamp determines the time during which a row is valid.\n+ *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u7387\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002\n \n-In the above example `currency` would be a primary key for `RatesHistory` table and `rowtime` would be the timestamp attribute.\n+\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c`currency` \u662f `RatesHistory` \u8868\u7684\u4e3b\u952e\uff0c\u800c `rowtime` \u662f\u65f6\u95f4\u6233\u5c5e\u6027\u3002\n \n-In Flink, this is represented by a [*Temporal Table Function*](#temporal-table-function).\n+\u5728Flink\u4e2d, \u8fd9\u7531 [*\u65f6\u6001\u8868\u51fd\u6570*](#temporal-table-function) \u8868\u793a.\n \n-### Correlate with a changing dimension table\n+### \u4e0e\u7ef4\u8868\u53d8\u5316\u76f8\u5173\n \n-On the other hand, some use cases require to join a changing dimension table which is an external database table.\n+\u53e6\u4e00\u65b9\u9762\uff0c\u67d0\u4e9b\u7528\u4f8b\u9700\u8981\u8fde\u63a5\u53d8\u5316\u7684\u7ef4\u8868\uff0c\u8be5\u8868\u662f\u5916\u90e8\u6570\u636e\u5e93\u8868\u3002\n \n-Let's assume that `LatestRates` is a table (e.g. stored in) which is materialized with the latest rate. The `LatestRates` is the materialized history `RatesHistory`. Then the content of `LatestRates` table at time `10:58` will be:\n+\u5047\u8bbe `LatestRates` \u662f\u4e00\u4e2a\u4ee5\u6700\u65b0\u6c47\u7387\u5b9e\u73b0\u7684\u8868\uff08\u4f8b\u5982\uff0c\u5b58\u50a8\u5728\u5176\u4e2d\uff09\u3002`LatestRates` \u662f\u7269\u5316\u7684 `RatesHistory` \u5386\u53f2\u3002\u7136\u540e\u5728\u65f6\u95f4 `10:58` \u7684 `LatestRates`\u8868\u7684\u5185\u5bb9\u5c06\u662f\uff1a", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODM2NQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448365", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             Flink \u4f7f\u7528[\u8868\u51fd\u6570]({{ site.baseurl }}/zh/dev/table/functions/udfs.html#table-functions) \u7684SQL\u8bed\u6cd5\u63d0\u4f9b\u4e00\u79cd\u8868\u8fbe\u5b83\u7684\u65b9\u6cd5\u3002\n          \n          \n            \n             Flink \u4f7f\u7528[\u8868\u51fd\u6570]({{ site.baseurl }}/zh/dev/table/functions/udfs.html#table-functions) \u7684 SQL \u8bed\u6cd5\u63d0\u4f9b\u4e00\u79cd\u8868\u8fbe\u5b83\u7684\u65b9\u6cd5\u3002", "author": "klion26", "createdAt": "2020-05-09T03:39:18Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -113,18 +112,20 @@ Euro        119\n Pounds      108\n {% endhighlight %}\n \n-In Flink, this is represented by a [*Temporal Table*](#temporal-table).\n+\u5728Flink\u4e2d\uff0c\u8fd9\u7531 [*\u65f6\u6001\u8868*](#temporal-table)\u8868\u793a.\n+\n+<a name=\"temporal-table-function\"></a>\n \n-Temporal Table Function\n+\u65f6\u6001\u8868\u51fd\u6570\n ------------------------\n \n-In order to access the data in a temporal table, one must pass a [time attribute](time_attributes.html) that determines the version of the table that will be returned.\n-Flink uses the SQL syntax of [table functions]({{ site.baseurl }}/dev/table/functions/udfs.html#table-functions) to provide a way to express it.\n+\u4e3a\u4e86\u8bbf\u95ee\u65f6\u6001\u8868\u4e2d\u7684\u6570\u636e\uff0c\u5fc5\u987b\u4f20\u9012\u4e00\u4e2a[\u65f6\u95f4\u5c5e\u6027](time_attributes.html)\uff0c\u8be5\u5c5e\u6027\u786e\u5b9a\u5c06\u8981\u8fd4\u56de\u7684\u8868\u7684\u7248\u672c\u3002\n+ Flink \u4f7f\u7528[\u8868\u51fd\u6570]({{ site.baseurl }}/zh/dev/table/functions/udfs.html#table-functions) \u7684SQL\u8bed\u6cd5\u63d0\u4f9b\u4e00\u79cd\u8868\u8fbe\u5b83\u7684\u65b9\u6cd5\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODQ5Mg==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448492", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5728Flink\u4e2d\uff0c\u8fd9\u7531 [*\u65f6\u6001\u8868*](#temporal-table)\u8868\u793a.\n          \n          \n            \n            \u5728Flink\u4e2d\uff0c\u8fd9\u7531[*\u65f6\u6001\u8868*](#temporal-table)\u8868\u793a.", "author": "klion26", "createdAt": "2020-05-09T03:41:01Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -113,18 +112,20 @@ Euro        119\n Pounds      108\n {% endhighlight %}\n \n-In Flink, this is represented by a [*Temporal Table*](#temporal-table).\n+\u5728Flink\u4e2d\uff0c\u8fd9\u7531 [*\u65f6\u6001\u8868*](#temporal-table)\u8868\u793a.", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODcwMA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448700", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            **\u6ce8\u610f**\uff1a \u5f53\u524d Flink \u4e0d\u652f\u6301\u4f7f\u7528\u5e38\u91cf\u65f6\u95f4\u5c5e\u6027\u53c2\u6570\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u51fd\u6570\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u51fd\u6570\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u51fd\u6570 `Rates(timeAttribute)` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002\n          \n          \n            \n            **\u6ce8\u610f**\uff1a\u5f53\u524d Flink \u4e0d\u652f\u6301\u4f7f\u7528\u5e38\u91cf\u65f6\u95f4\u5c5e\u6027\u53c2\u6570\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u51fd\u6570\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u51fd\u6570\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u51fd\u6570 `Rates(timeAttribute)` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002\n          \n      \n    \n    \n  \n\n\u201c\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u51fd\u6570 Rates(timeAttribute) \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002\u201d \u6709\u4e00\u4e2a\u66f4\u597d\u7684\u7ffb\u8bd1\u5417\uff1f\u4e2a\u4eba\u611f\u89c9\u610f\u601d\u6ca1\u5565\u95ee\u9898\uff0c\u8bfb\u8d77\u6765\u4f18\u70b9\u4e0d\u592a\u901a\u987a", "author": "klion26", "createdAt": "2020-05-09T03:43:42Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -144,16 +145,15 @@ rowtime currency   rate\n 09:00   Yen           1\n {% endhighlight %}\n \n-Each query to `Rates(timeAttribute)` would return the state of the `Rates` for the given `timeAttribute`.\n+\u5bf9 `Rates\uff08timeAttribute\uff09` \u7684\u6bcf\u4e2a\u67e5\u8be2\u90fd\u5c06\u8fd4\u56de\u7ed9\u5b9a `timeAttribute` \u7684 `Rates` \u72b6\u6001\u3002\n \n-**Note**: Currently, Flink doesn't support directly querying the temporal table functions with a constant time attribute parameter. At the moment, temporal table functions can only be used in joins.\n-The example above was used to provide an intuition about what the function `Rates(timeAttribute)` returns.\n+**\u6ce8\u610f**\uff1a \u5f53\u524d Flink \u4e0d\u652f\u6301\u4f7f\u7528\u5e38\u91cf\u65f6\u95f4\u5c5e\u6027\u53c2\u6570\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u51fd\u6570\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u51fd\u6570\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u51fd\u6570 `Rates(timeAttribute)` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODc0MA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448740", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u53e6\u8bf7\u53c2\u9605\u6709\u5173[\u7528\u4e8e\u6301\u7eed\u67e5\u8be2\u7684 join ](joins.html)\u7684\u9875\u9762\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u5982\u4f55\u4e0e\u65f6\u6001\u8868 join \u7684\u66f4\u591a\u4fe1\u606f\u3002\n          \n          \n            \n            \u53e6\u8bf7\u53c2\u9605\u6709\u5173[\u7528\u4e8e\u6301\u7eed\u67e5\u8be2\u7684 join ](joins.html)\u9875\u9762\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u5982\u4f55\u4e0e\u65f6\u6001\u8868 join \u7684\u66f4\u591a\u4fe1\u606f\u3002", "author": "klion26", "createdAt": "2020-05-09T03:44:27Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -144,16 +145,15 @@ rowtime currency   rate\n 09:00   Yen           1\n {% endhighlight %}\n \n-Each query to `Rates(timeAttribute)` would return the state of the `Rates` for the given `timeAttribute`.\n+\u5bf9 `Rates\uff08timeAttribute\uff09` \u7684\u6bcf\u4e2a\u67e5\u8be2\u90fd\u5c06\u8fd4\u56de\u7ed9\u5b9a `timeAttribute` \u7684 `Rates` \u72b6\u6001\u3002\n \n-**Note**: Currently, Flink doesn't support directly querying the temporal table functions with a constant time attribute parameter. At the moment, temporal table functions can only be used in joins.\n-The example above was used to provide an intuition about what the function `Rates(timeAttribute)` returns.\n+**\u6ce8\u610f**\uff1a \u5f53\u524d Flink \u4e0d\u652f\u6301\u4f7f\u7528\u5e38\u91cf\u65f6\u95f4\u5c5e\u6027\u53c2\u6570\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u51fd\u6570\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u51fd\u6570\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u51fd\u6570 `Rates(timeAttribute)` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002\n \n-See also the page about [joins for continuous queries](joins.html) for more information about how to join with a temporal table.\n+\u53e6\u8bf7\u53c2\u9605\u6709\u5173[\u7528\u4e8e\u6301\u7eed\u67e5\u8be2\u7684 join ](joins.html)\u7684\u9875\u9762\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u5982\u4f55\u4e0e\u65f6\u6001\u8868 join \u7684\u66f4\u591a\u4fe1\u606f\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODg5Nw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448897", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u4e3a\u4e86\u8bbf\u95ee\u65f6\u6001\u8868\u4e2d\u7684\u6570\u636e\uff0c\u5f53\u524d\u5fc5\u987b\u4f7f\u7528 `LookupableTableSource` \u5b9a\u4e49\u4e00\u4e2a `TableSource` \u3002Flink\u4f7f\u7528 `FOR SYSTEM_TIME AS OF` \u7684SQL\u8bed\u6cd5\u67e5\u8be2\u65f6\u6001\u8868\uff0c\u5b83\u5728SQL:2011\u4e2d\u88ab\u63d0\u51fa\u3002\n          \n          \n            \n            \u4e3a\u4e86\u8bbf\u95ee\u65f6\u6001\u8868\u4e2d\u7684\u6570\u636e\uff0c\u5f53\u524d\u5fc5\u987b\u4f7f\u7528 `LookupableTableSource` \u5b9a\u4e49\u4e00\u4e2a `TableSource` \u3002Flink \u4f7f\u7528 SQL:2011 \u4e2d\u63d0\u51fa\u7684 `FOR SYSTEM_TIME AS OF` \u7684 SQL \u8bed\u6cd5\u67e5\u8be2\u65f6\u6001\u8868\u3002", "author": "klion26", "createdAt": "2020-05-09T03:46:29Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -216,19 +216,20 @@ tEnv.registerFunction(\"Rates\", rates)                                          /\n </div>\n </div>\n \n-Line `(1)` creates a `rates` [temporal table function](#temporal-table-functions),\n-which allows us to use the function `rates` in the [Table API](../tableApi.html#joins).\n+\u884c `(1)` \u521b\u5efa\u4e86\u4e00\u4e2a `rates` [\u65f6\u6001\u8868\u51fd\u6570](#temporal-table-function),\n+\u8fd9\u4f7f\u6211\u4eec\u53ef\u4ee5\u5728[ Table API ](../tableApi.html#joins)\u4e2d\u4f7f\u7528 `rates` \u51fd\u6570\u3002\n+\n+\u884c `(2)` \u5728\u8868\u73af\u5883\u4e2d\u6ce8\u518c\u540d\u79f0\u4e3a `Rates` \u7684\u51fd\u6570\uff0c\u8fd9\u4f7f\u6211\u4eec\u53ef\u4ee5\u5728[ SQL ]({{ site.baseurl }}/zh/dev/table/sql/queries.html#joins)\u4e2d\u4f7f\u7528 `Rates` \u51fd\u6570\u3002\n \n-Line `(2)` registers this function under the name `Rates` in our table environment,\n-which allows us to use the `Rates` function in [SQL]({{ site.baseurl }}/dev/table/sql/queries.html#joins).\n+<a name=\"temporal-table\"></a>\n \n-## Temporal Table\n+## \u65f6\u6001\u8868\n \n-<span class=\"label label-danger\">Attention</span> This is only supported in Blink planner.\n+<span class=\"label label-danger\">\u6ce8\u610f</span> \u4ec5 Blink planner \u652f\u6301\u6b64\u529f\u80fd\u3002\n \n-In order to access data in temporal table, currently one must define a `TableSource` with `LookupableTableSource`. Flink uses the SQL syntax of `FOR SYSTEM_TIME AS OF` to query temporal table, which is proposed in SQL:2011.\n+\u4e3a\u4e86\u8bbf\u95ee\u65f6\u6001\u8868\u4e2d\u7684\u6570\u636e\uff0c\u5f53\u524d\u5fc5\u987b\u4f7f\u7528 `LookupableTableSource` \u5b9a\u4e49\u4e00\u4e2a `TableSource` \u3002Flink\u4f7f\u7528 `FOR SYSTEM_TIME AS OF` \u7684SQL\u8bed\u6cd5\u67e5\u8be2\u65f6\u6001\u8868\uff0c\u5b83\u5728SQL:2011\u4e2d\u88ab\u63d0\u51fa\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0ODkzMw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r422448933", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            **\u6ce8\u610f**\uff1a \u5f53\u524d\uff0cFlink \u4e0d\u652f\u6301\u4ee5\u56fa\u5b9a\u65f6\u95f4\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u65f6\u6001\u8868 `LatestRates` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002\n          \n          \n            \n            **\u6ce8\u610f**\uff1a\u5f53\u524d\uff0cFlink \u4e0d\u652f\u6301\u4ee5\u56fa\u5b9a\u65f6\u95f4\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u65f6\u6001\u8868 `LatestRates` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002", "author": "klion26", "createdAt": "2020-05-09T03:46:56Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -248,11 +249,11 @@ Euro        116\n Yen           1\n {% endhighlight %}\n \n-**Note**: Currently, Flink doesn't support directly querying the temporal table with a constant time. At the moment, temporal table can only be used in joins. The example above is used to provide an intuition about what the temporal table `LatestRates` returns.\n+**\u6ce8\u610f**\uff1a \u5f53\u524d\uff0cFlink \u4e0d\u652f\u6301\u4ee5\u56fa\u5b9a\u65f6\u95f4\u76f4\u63a5\u67e5\u8be2\u65f6\u6001\u8868\u3002\u76ee\u524d\uff0c\u65f6\u6001\u8868\u53ea\u80fd\u5728 join \u4e2d\u4f7f\u7528\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u7528\u4e8e\u63d0\u4f9b\u6709\u5173\u65f6\u6001\u8868 `LatestRates` \u8fd4\u56de\u5185\u5bb9\u7684\u76f4\u89c2\u4fe1\u606f\u3002", "originalCommit": "574cf931d200bcbebcb1f3740ccb80270dfed470", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "url": "https://github.com/apache/flink/commit/1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "message": "doc: \u4fee\u6539\u7b2c\u4e00\u6b21review", "committedDate": "2020-05-14T02:17:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4MTAwMA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427181000", "bodyText": "\u201c\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u4e00\u76f4\u5728\u53d8\u5316\u7684\u8868\u4e0a\u4e00\u4e2a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\u201d \u8fd9\u53e5\u8bdd\u8bfb\u8d77\u6765\u6709\u70b9\u70b9\u62d7\u53e3", "author": "klion26", "createdAt": "2020-05-19T10:00:56Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u4e00\u76f4\u5728\u53d8\u5316\u7684\u8868\u4e0a\u4e00\u4e2a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4MTM4MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427181381", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5bf9\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\uff0cFlink \u53ef\u4ee5\u8ffd\u8e2a\u8fd9\u4e9b\u53d8\u5316\uff0c\u5e76\u4e14\u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\u5728 Flink \u4e2d\uff0c\u8fd9\u7c7b\u8868\u7531 *\u65f6\u6001\u8868\u51fd\u6570\uff08Temporal Table Function\uff09* \u8868\u793a\u3002\n          \n          \n            \n            \u5bf9\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\uff0cFlink \u53ef\u4ee5\u8ffd\u8e2a\u8fd9\u4e9b\u53d8\u5316\uff0c\u5e76\u4e14\u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\u5728 Flink \u4e2d\uff0c\u8fd9\u7c7b\u8868\u7531*\u65f6\u6001\u8868\u51fd\u6570\uff08Temporal Table Function\uff09* \u8868\u793a\u3002", "author": "klion26", "createdAt": "2020-05-19T10:01:36Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u4e00\u76f4\u5728\u53d8\u5316\u7684\u8868\u4e0a\u4e00\u4e2a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\n \n-The changing table can either be a changing history table which tracks the changes (e.g. database changelogs) or a changing dimension table which materializes the changes (e.g. database tables).\n+\u53d8\u66f4\u8868\u53ef\u4ee5\u662f\u8ddf\u8e2a\u53d8\u5316\u7684\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u4f8b\u5982\u6570\u636e\u5e93\u53d8\u66f4\u65e5\u5fd7\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u6709\u5177\u4f53\u66f4\u6539\u7684\u7ef4\u8868\uff08\u4f8b\u5982\u6570\u636e\u5e93\u8868\uff09\u3002\n \n-For the changing history table, Flink can keep track of the changes and allows for accessing the content of the table at a certain point in time within a query. In Flink, this kind of table is represented by a *Temporal Table Function*.\n+\u5bf9\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\uff0cFlink \u53ef\u4ee5\u8ffd\u8e2a\u8fd9\u4e9b\u53d8\u5316\uff0c\u5e76\u4e14\u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\u5728 Flink \u4e2d\uff0c\u8fd9\u7c7b\u8868\u7531 *\u65f6\u6001\u8868\u51fd\u6570\uff08Temporal Table Function\uff09* \u8868\u793a\u3002", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NDQ0OQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427184449", "bodyText": "\u8fd9\u91cc\u7684\u7ffb\u8bd1\uff08\u8fd9\u91cc\u7684\u610f\u601d\u662f\u8fd9\u662f\u4e00\u4e2a\u76f8\u5bf9\u4e8e\u65e5\u5143\u7684\u6c47\u7387\u8868\uff0c\u4e5f\u5c31\u662f\u8bf4 \u65e5\u5143\u5bf9\u65e5\u5143\u7684 \u6c47\u7387\u662f 1\uff09\uff0c\u611f\u89c9\u8bfb\u8d77\u6765\u6709\u4e00\u70b9\u70b9\u62d7\u53e3\uff0c\u53e6\u5916 \u6570\u5b57/\u5b57\u7b26 \u4e0e\u4e2d\u6587\u4e4b\u95f4\u9700\u8981\u6709\u7a7a\u683c\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003 wiki\n\u6570\u5b57\u548c\u6807\u70b9\u7b26\u53f7\u4e4b\u95f4\u4e0d\u9700\u8981\u7a7a\u683c\uff0c\u6bd4\u5982 \u8fd9\u91cc\u7684 \u201d\u4ece 10:45 \u5230 11:15 \uff0c\u201c \u9700\u8981\u6539\u6210 \u201d\u4ece 10:45 \u5230 11:15\uff0c\u201c\uff0c\u4e5f\u5c31\u662f 5 \u548c \u201d\uff0c\u201c \u4e4b\u95f4\u4e0d\u9700\u8981\u7a7a\u683c", "author": "klion26", "createdAt": "2020-05-19T10:06:47Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -53,10 +53,9 @@ rowtime currency   rate\n 11:49   Pounds      108\n {% endhighlight %}\n \n-`RatesHistory` represents an ever growing append-only table of currency exchange rates with respect to `Yen` (which has a rate of `1`).\n-For example, the exchange rate for the period from `09:00` to `10:45` of `Euro` to `Yen` was `114`. From `10:45` to `11:15` it was `116`.\n+`RatesHistory` \u8868\u793a\u4e00\u4e2a\u5173\u4e8e\u65e5\u5143\u4e14\u4e0d\u65ad\u589e\u957f\u7684\u8d27\u5e01\u6c47\u7387 append-only \u8868\uff08\u6c47\u7387\u4e3a1\uff09\u3002\u4f8b\u5982\uff0c`\u6b27\u5143`\u5151`\u65e5\u5143`\u4ece `09:00` \u5230 `10:45` \u7684\u6c47\u7387\u4e3a `114`\u3002\u4ece `10:45` \u5230 `11:15` \uff0c\u6c47\u7387\u4e3a `116`\u3002", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NjAxOA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427186018", "bodyText": "\u4e2d\u6587\u4e2d\u5f88\u5c11\u6709 \u201c\u65f6\u8868\u7684\u7248\u672c\u201d\u8fd9\u79cd\u8bf4\u6cd5\uff0c\u8fd9\u91cc\u60f3\u8bf4\u7684\u662f \u201c10:45\u201c \u8fd9\u4e00\u65f6\u523b\u5bf9\u5e94\u7684\u8868\u662f\u5565\u3002\u5177\u4f53\u7684\u8bed\u8a00\u53ef\u4ee5\u518d\u7ec4\u7ec7\u4e00\u4e0b", "author": "klion26", "createdAt": "2020-05-19T10:09:14Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -68,9 +67,9 @@ WHERE r.rowtime = (\n   AND r2.rowtime <= TIME '10:58');\n {% endhighlight %}\n \n-The correlated subquery determines the maximum time for the corresponding currency that is lower or equal than the desired time. The outer query lists the rates that have a maximum timestamp.\n-\n-The following table shows the result of such a computation. In our example, the update to `Euro` at `10:45` is taken into account, however, the update to `Euro` at `11:15` and the new entry of `Pounds` are not considered in the table's version at time `10:58`.\n+\u5b50\u67e5\u8be2\u786e\u5b9a\u5bf9\u5e94\u8d27\u5e01\u7684\u6700\u5927\u65f6\u95f4\u5c0f\u4e8e\u6216\u7b49\u4e8e\u6240\u9700\u65f6\u95f4\u3002\u5916\u90e8\u67e5\u8be2\u5217\u51fa\u5177\u6709\u6700\u5927\u65f6\u95f4\u6233\u7684\u6c47\u7387\u3002 \n+ \n+\u4e0b\u8868\u663e\u793a\u4e86\u8fd9\u79cd\u8ba1\u7b97\u7684\u7ed3\u679c\u3002\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c `10:58` \u65f6\u8868\u7684\u7248\u672c\uff0c\u8003\u8651\u4e86 `10:45` \u65f6`\u6b27\u5143`\u7684\u66f4\u65b0\uff0c\u4f46\u672a\u8003\u8651 `11:15` \u65f6\u7684`\u6b27\u5143`\u66f4\u65b0\u548c`\u82f1\u9551`\u7684\u65b0\u503c\u3002", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4ODE2MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427188161", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002\n          \n          \n            \n             *\u65f6\u6001\u8868*\u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u3002*\u65f6\u6001\u8868*\u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002", "author": "klion26", "createdAt": "2020-05-19T10:12:39Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -80,17 +79,17 @@ rowtime currency   rate\n 10:45   Euro        116\n {% endhighlight %}\n \n-The concept of *Temporal Tables* aims to simplify such queries, speed up their execution, and reduce Flink's state usage. A *Temporal Table* is a parameterized view on an append-only table that interprets the rows of the append-only table as the changelog of a table and provides the version of that table at a specific point in time. Interpreting the append-only table as a changelog requires the specification of a primary key attribute and a timestamp attribute. The primary key determines which rows are overwritten and the timestamp determines the time during which a row is valid.\n+ *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4OTM3NQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427189375", "bodyText": "\u4e2a\u4eba\u611f\u89c9\uff0c\u8fd9\u91cc\u201d\u4f8b\u5982\uff0c\u5b58\u50a8\u5728\u5176\u4e2d\u201c \u611f\u89c9\u602a\u602a\u7684\uff0c\u6216\u8bb8\u53ef\u4ee5\u770b\u770b\u662f\u5426\u6709\u66f4\u597d\u7684\u7ffb\u8bd1\uff0c\u6216\u8005\u53ef\u4ee5\u7b49\u5176\u4ed6\u4eba\u770b\u662f\u5426\u5408\u9002", "author": "klion26", "createdAt": "2020-05-19T10:14:54Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -80,17 +79,17 @@ rowtime currency   rate\n 10:45   Euro        116\n {% endhighlight %}\n \n-The concept of *Temporal Tables* aims to simplify such queries, speed up their execution, and reduce Flink's state usage. A *Temporal Table* is a parameterized view on an append-only table that interprets the rows of the append-only table as the changelog of a table and provides the version of that table at a specific point in time. Interpreting the append-only table as a changelog requires the specification of a primary key attribute and a timestamp attribute. The primary key determines which rows are overwritten and the timestamp determines the time during which a row is valid.\n+ *\u65f6\u6001\u8868* \u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u3002*\u65f6\u6001\u8868* \u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002\n \n-In the above example `currency` would be a primary key for `RatesHistory` table and `rowtime` would be the timestamp attribute.\n+\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c`currency` \u662f `RatesHistory` \u8868\u7684\u4e3b\u952e\uff0c\u800c `rowtime` \u662f\u65f6\u95f4\u6233\u5c5e\u6027\u3002\n \n-In Flink, this is represented by a [*Temporal Table Function*](#temporal-table-function).\n+\u5728Flink\u4e2d, \u8fd9\u7531[*\u65f6\u6001\u8868\u51fd\u6570*](#temporal-table-function)\u8868\u793a.\n \n-### Correlate with a changing dimension table\n+### \u4e0e\u7ef4\u8868\u53d8\u5316\u76f8\u5173\n \n-On the other hand, some use cases require to join a changing dimension table which is an external database table.\n+\u53e6\u4e00\u65b9\u9762\uff0c\u67d0\u4e9b\u7528\u4f8b\u9700\u8981\u8fde\u63a5\u53d8\u5316\u7684\u7ef4\u8868\uff0c\u8be5\u8868\u662f\u5916\u90e8\u6570\u636e\u5e93\u8868\u3002\n \n-Let's assume that `LatestRates` is a table (e.g. stored in) which is materialized with the latest rate. The `LatestRates` is the materialized history `RatesHistory`. Then the content of `LatestRates` table at time `10:58` will be:\n+\u5047\u8bbe `LatestRates` \u662f\u4e00\u4e2a\u88ab\u7269\u5316\u7684\u6700\u65b0\u6c47\u7387\u8868\uff08\u4f8b\u5982\uff0c\u5b58\u50a8\u5728\u5176\u4e2d\uff09\u3002`LatestRates` \u662f\u7269\u5316\u7684 `RatesHistory` \u5386\u53f2\u3002\u90a3\u4e48 `LatestRates` \u8868\u5728 `10:58` \u7684\u5185\u5bb9\u5c06\u662f\uff1a", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE5MDM0Mw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427190343", "bodyText": "\u53ef\u4ee5\u7684\u8bdd\uff0c\u5efa\u8bae\u628a\u4ee3\u7801\u7684\u6ce8\u91ca\u4e5f\u7ffb\u8bd1\u4e00\u4e0b", "author": "klion26", "createdAt": "2020-05-19T10:16:31Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -216,19 +216,20 @@ tEnv.registerFunction(\"Rates\", rates)                                          /\n </div>\n </div>\n \n-Line `(1)` creates a `rates` [temporal table function](#temporal-table-functions),\n-which allows us to use the function `rates` in the [Table API](../tableApi.html#joins).\n+\u884c `(1)` \u521b\u5efa\u4e86\u4e00\u4e2a `rates` [\u65f6\u6001\u8868\u51fd\u6570](#temporal-table-function),", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE5MDc2Nw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r427190767", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5047\u8bbe\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65f6\u6001\u8868 `LatestRates` \uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u67e5\u8be2\u6b64\u7c7b\u8868\uff1a\n          \n          \n            \n            \u5047\u8bbe\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65f6\u6001\u8868 `LatestRates`\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u67e5\u8be2\u6b64\u7c7b\u8868\uff1a\n          \n      \n    \n    \n  \n\n\u201d\u67e5\u8be2\u6b64\u7c7b\u8868\u201c \u6539\u6210 \u201d\u67e5\u8be2\u6b64\u8868\u201c\uff1f", "author": "klion26", "createdAt": "2020-05-19T10:17:19Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -216,19 +216,20 @@ tEnv.registerFunction(\"Rates\", rates)                                          /\n </div>\n </div>\n \n-Line `(1)` creates a `rates` [temporal table function](#temporal-table-functions),\n-which allows us to use the function `rates` in the [Table API](../tableApi.html#joins).\n+\u884c `(1)` \u521b\u5efa\u4e86\u4e00\u4e2a `rates` [\u65f6\u6001\u8868\u51fd\u6570](#temporal-table-function),\n+\u8fd9\u4f7f\u6211\u4eec\u53ef\u4ee5\u5728[ Table API ](../tableApi.html#joins)\u4e2d\u4f7f\u7528 `rates` \u51fd\u6570\u3002\n+\n+\u884c `(2)` \u5728\u8868\u73af\u5883\u4e2d\u6ce8\u518c\u540d\u79f0\u4e3a `Rates` \u7684\u51fd\u6570\uff0c\u8fd9\u4f7f\u6211\u4eec\u53ef\u4ee5\u5728[ SQL ]({{ site.baseurl }}/zh/dev/table/sql/queries.html#joins)\u4e2d\u4f7f\u7528 `Rates` \u51fd\u6570\u3002\n \n-Line `(2)` registers this function under the name `Rates` in our table environment,\n-which allows us to use the `Rates` function in [SQL]({{ site.baseurl }}/dev/table/sql/queries.html#joins).\n+<a name=\"temporal-table\"></a>\n \n-## Temporal Table\n+## \u65f6\u6001\u8868\n \n-<span class=\"label label-danger\">Attention</span> This is only supported in Blink planner.\n+<span class=\"label label-danger\">\u6ce8\u610f</span> \u4ec5 Blink planner \u652f\u6301\u6b64\u529f\u80fd\u3002\n \n-In order to access data in temporal table, currently one must define a `TableSource` with `LookupableTableSource`. Flink uses the SQL syntax of `FOR SYSTEM_TIME AS OF` to query temporal table, which is proposed in SQL:2011.\n+\u4e3a\u4e86\u8bbf\u95ee\u65f6\u6001\u8868\u4e2d\u7684\u6570\u636e\uff0c\u5f53\u524d\u5fc5\u987b\u4f7f\u7528 `LookupableTableSource` \u5b9a\u4e49\u4e00\u4e2a `TableSource` \u3002Flink \u4f7f\u7528 SQL:2011 \u4e2d\u63d0\u51fa\u7684 `FOR SYSTEM_TIME AS OF` \u7684 SQL \u8bed\u6cd5\u67e5\u8be2\u65f6\u6001\u8868\u3002\n \n-Assuming that we defined a temporal table called `LatestRates`, we can query such a table in the following way:\n+\u5047\u8bbe\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65f6\u6001\u8868 `LatestRates` \uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u67e5\u8be2\u6b64\u7c7b\u8868\uff1a", "originalCommit": "1b2cd59d9560026dbad8d1a19929da7135c5cbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "143bb958053939d538026f9809068c24394b8dea", "url": "https://github.com/apache/flink/commit/143bb958053939d538026f9809068c24394b8dea", "message": "doc: the second review", "committedDate": "2020-05-19T14:52:35Z", "type": "commit"}, {"oid": "58447ca459535c32ed1fcd040aff23678f92aa0c", "url": "https://github.com/apache/flink/commit/58447ca459535c32ed1fcd040aff23678f92aa0c", "message": "Merge branch 'master' into translate_temporal_table", "committedDate": "2020-05-20T01:02:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQxMjgxNA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r428412814", "bodyText": "\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u57fa\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\u4e0a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5 \u8fd9\u53e5\u8bdd\u8bfb\u8d77\u6765\u6709\u70b9\u62d7\u53e3\uff0c\u6709\u529e\u6cd5\u4f18\u5316\u4e00\u4e0b\u5417\uff1f", "author": "klion26", "createdAt": "2020-05-21T02:35:22Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u57fa\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\u4e0a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002", "originalCommit": "58447ca459535c32ed1fcd040aff23678f92aa0c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQxMzY3MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r428413671", "bodyText": "\u4e2a\u4eba\u89c2\u70b9\uff1a\u8fd9\u91cc\u7ffb\u8bd1\u6210 \u201d\u5047\u8bbe\u6211\u4eec\u6709\u8868 RateHistory \u5982\u4e0b\u6240\u793a\u201c \u4f1a\u597d\u4e00\u4e9b\u5417\uff1f\u73b0\u5728\u7684\u7ffb\u8bd1\u611f\u89c9\u53e5\u5b50\u6ca1\u6709\u8bf4\u5b8c\u4e00\u6837\u7684\u3002\u5f53\u7136\u6709\u5176\u4ed6\u66f4\u597d\u7684\u7ffb\u8bd1\u66f4\u597d\u3002", "author": "klion26", "createdAt": "2020-05-21T02:38:49Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -22,23 +22,23 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Temporal Tables represent a concept of a (parameterized) view on a changing table that returns the content of a table at a specific point in time.\n+\u65f6\u6001\u8868\uff08Temporal Table\uff09\u8868\u793a\u57fa\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\u4e0a\uff08\u53c2\u6570\u5316\uff09\u89c6\u56fe\u7684\u6982\u5ff5\uff0c\u8be5\u89c6\u56fe\u8fd4\u56de\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\n \n-The changing table can either be a changing history table which tracks the changes (e.g. database changelogs) or a changing dimension table which materializes the changes (e.g. database tables).\n+\u53d8\u66f4\u8868\u53ef\u4ee5\u662f\u8ddf\u8e2a\u53d8\u5316\u7684\u5386\u53f2\u8bb0\u5f55\u8868\uff08\u4f8b\u5982\u6570\u636e\u5e93\u53d8\u66f4\u65e5\u5fd7\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u6709\u5177\u4f53\u66f4\u6539\u7684\u7ef4\u8868\uff08\u4f8b\u5982\u6570\u636e\u5e93\u8868\uff09\u3002\n \n-For the changing history table, Flink can keep track of the changes and allows for accessing the content of the table at a certain point in time within a query. In Flink, this kind of table is represented by a *Temporal Table Function*.\n+\u5bf9\u4e8e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\uff0cFlink \u53ef\u4ee5\u8ffd\u8e2a\u8fd9\u4e9b\u53d8\u5316\uff0c\u5e76\u4e14\u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u67d0\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u5185\u5bb9\u3002\u5728 Flink \u4e2d\uff0c\u8fd9\u7c7b\u8868\u7531*\u65f6\u6001\u8868\u51fd\u6570\uff08Temporal Table Function\uff09*\u8868\u793a\u3002\n \n-For the changing dimension table, Flink allows for accessing the content of the table at processing time within a query. In Flink, this kind of table is represented by a *Temporal Table*.\n+\u5bf9\u4e8e\u53d8\u5316\u7684\u7ef4\u8868\uff0cFlink \u5141\u8bb8\u67e5\u8be2\u8fd9\u5f20\u8868\u5728\u5904\u7406\u65f6\u7684\u5185\u5bb9\uff0c\u5728 Flink \u4e2d\uff0c\u6b64\u7c7b\u8868\u7531*\u65f6\u6001\u8868\uff08Temporal Table\uff09*\u8868\u793a\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-Motivation\n+\u8bbe\u8ba1\u521d\u8877\n ----------\n \n-### Correlate with a changing history table\n+### \u4e0e\u8bb0\u5f55\u53d8\u66f4\u5386\u53f2\u7684\u8868\u76f8\u5173\n \n-Let's assume that we have the following table `RatesHistory`.\n+\u5047\u8bbe\u6211\u4eec\u6709\u4e0b\u8868 `RatesHistory`\u3002", "originalCommit": "58447ca459535c32ed1fcd040aff23678f92aa0c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQxNDIyMw==", "url": "https://github.com/apache/flink/pull/11978#discussion_r428414223", "bodyText": "\u201cRatesHistory \u8868\u793a\u4e00\u4e2a\u5173\u4e8e\u65e5\u5143\u4e14\u4e0d\u65ad\u589e\u957f\u7684\u8d27\u5e01\u6c47\u7387 append-only \u8868\uff08\u6c47\u7387\u4e3a1\uff09\u201d \u8fd9\u91cc\u7684\u7ffb\u8bd1\u610f\u601d\u4e86\u89e3\uff0c\u4f46\u662f\u611f\u89c9\u4e0d\u592a\u901a\u987a\u3002\n\u8fd9\u91cc\u7684\u610f\u601d\u662f\u8bf4\u8fd9\u4e2a\u8868\u662f\u76f8\u5bf9\u4e8e\u65e5\u5143\u7684\u6c47\u7387\u8868\uff0c\u800c\u4e14\u8868\u662f append-only \u7684\uff0c\u65e5\u5143\u5bf9\u65e5\u5143\u7684\u6c47\u7387\u662f 1.", "author": "klion26", "createdAt": "2020-05-21T02:40:49Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -53,10 +53,9 @@ rowtime currency   rate\n 11:49   Pounds      108\n {% endhighlight %}\n \n-`RatesHistory` represents an ever growing append-only table of currency exchange rates with respect to `Yen` (which has a rate of `1`).\n-For example, the exchange rate for the period from `09:00` to `10:45` of `Euro` to `Yen` was `114`. From `10:45` to `11:15` it was `116`.\n+`RatesHistory` \u8868\u793a\u4e00\u4e2a\u5173\u4e8e\u65e5\u5143\u4e14\u4e0d\u65ad\u589e\u957f\u7684\u8d27\u5e01\u6c47\u7387 append-only \u8868\uff08\u6c47\u7387\u4e3a1\uff09\u3002\u4f8b\u5982\uff0c`\u6b27\u5143`\u5151`\u65e5\u5143`\u4ece `09:00` \u5230 `10:45` \u7684\u6c47\u7387\u4e3a `114`\u3002\u4ece `10:45` \u5230 `11:15`\uff0c\u6c47\u7387\u4e3a `116`\u3002", "originalCommit": "58447ca459535c32ed1fcd040aff23678f92aa0c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQxNDU5MQ==", "url": "https://github.com/apache/flink/pull/11978#discussion_r428414591", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5728Flink\u4e2d, \u8fd9\u7531[*\u65f6\u6001\u8868\u51fd\u6570*](#temporal-table-function)\u8868\u793a.\n          \n          \n            \n            \u5728 Flink \u4e2d, \u8fd9\u7531[*\u65f6\u6001\u8868\u51fd\u6570*](#temporal-table-function)\u8868\u793a.", "author": "klion26", "createdAt": "2020-05-21T02:42:31Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -80,17 +79,17 @@ rowtime currency   rate\n 10:45   Euro        116\n {% endhighlight %}\n \n-The concept of *Temporal Tables* aims to simplify such queries, speed up their execution, and reduce Flink's state usage. A *Temporal Table* is a parameterized view on an append-only table that interprets the rows of the append-only table as the changelog of a table and provides the version of that table at a specific point in time. Interpreting the append-only table as a changelog requires the specification of a primary key attribute and a timestamp attribute. The primary key determines which rows are overwritten and the timestamp determines the time during which a row is valid.\n+ *\u65f6\u6001\u8868*\u7684\u6982\u5ff5\u65e8\u5728\u7b80\u5316\u6b64\u7c7b\u67e5\u8be2\uff0c\u52a0\u5feb\u5176\u6267\u884c\u901f\u5ea6\uff0c\u5e76\u51cf\u5c11 Flink \u7684\u72b6\u6001\u4f7f\u7528\u3002*\u65f6\u6001\u8868*\u662f append-only \u8868\u4e0a\u7684\u53c2\u6570\u5316\u89c6\u56fe\uff0c\u8be5\u89c6\u56fe\u5c06 append-only \u8868\u7684\u884c\u89e3\u91ca\u4e3a\u8868\u7684\u53d8\u66f4\u65e5\u5fd7\uff0c\u5e76\u5728\u7279\u5b9a\u65f6\u95f4\u70b9\u63d0\u4f9b\u8be5\u8868\u7684\u7248\u672c\u3002\u5c06 append-only \u8868\u89e3\u91ca\u4e3a\u53d8\u66f4\u65e5\u5fd7\u9700\u8981\u6307\u5b9a\u4e3b\u952e\u5c5e\u6027\u548c\u65f6\u95f4\u6233\u5c5e\u6027\u3002\u4e3b\u952e\u786e\u5b9a\u54ea\u4e9b\u884c\u5c06\u88ab\u8986\u76d6\uff0c\u65f6\u95f4\u6233\u786e\u5b9a\u884c\u6709\u6548\u7684\u65f6\u95f4\u3002\n \n-In the above example `currency` would be a primary key for `RatesHistory` table and `rowtime` would be the timestamp attribute.\n+\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c`currency` \u662f `RatesHistory` \u8868\u7684\u4e3b\u952e\uff0c\u800c `rowtime` \u662f\u65f6\u95f4\u6233\u5c5e\u6027\u3002\n \n-In Flink, this is represented by a [*Temporal Table Function*](#temporal-table-function).\n+\u5728Flink\u4e2d, \u8fd9\u7531[*\u65f6\u6001\u8868\u51fd\u6570*](#temporal-table-function)\u8868\u793a.", "originalCommit": "58447ca459535c32ed1fcd040aff23678f92aa0c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQxNDk2MA==", "url": "https://github.com/apache/flink/pull/11978#discussion_r428414960", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             Flink \u4f7f\u7528[\u8868\u51fd\u6570]({{ site.baseurl }}/zh/dev/table/functions/udfs.html#table-functions) \u7684 SQL \u8bed\u6cd5\u63d0\u4f9b\u4e00\u79cd\u8868\u8fbe\u5b83\u7684\u65b9\u6cd5\u3002\n          \n          \n            \n             Flink \u4f7f\u7528[\u8868\u51fd\u6570]({{ site.baseurl }}/zh/dev/table/functions/udfs.html#table-functions)\u7684 SQL \u8bed\u6cd5\u63d0\u4f9b\u4e00\u79cd\u8868\u8fbe\u5b83\u7684\u65b9\u6cd5\u3002", "author": "klion26", "createdAt": "2020-05-21T02:43:52Z", "path": "docs/dev/table/streaming/temporal_tables.zh.md", "diffHunk": "@@ -113,18 +112,20 @@ Euro        119\n Pounds      108\n {% endhighlight %}\n \n-In Flink, this is represented by a [*Temporal Table*](#temporal-table).\n+\u5728Flink\u4e2d\uff0c\u8fd9\u7531[*\u65f6\u6001\u8868*](#temporal-table)\u8868\u793a.\n+\n+<a name=\"temporal-table-function\"></a>\n \n-Temporal Table Function\n+\u65f6\u6001\u8868\u51fd\u6570\n ------------------------\n \n-In order to access the data in a temporal table, one must pass a [time attribute](time_attributes.html) that determines the version of the table that will be returned.\n-Flink uses the SQL syntax of [table functions]({{ site.baseurl }}/dev/table/functions/udfs.html#table-functions) to provide a way to express it.\n+\u4e3a\u4e86\u8bbf\u95ee\u65f6\u6001\u8868\u4e2d\u7684\u6570\u636e\uff0c\u5fc5\u987b\u4f20\u9012\u4e00\u4e2a[\u65f6\u95f4\u5c5e\u6027](time_attributes.html)\uff0c\u8be5\u5c5e\u6027\u786e\u5b9a\u5c06\u8981\u8fd4\u56de\u7684\u8868\u7684\u7248\u672c\u3002\n+ Flink \u4f7f\u7528[\u8868\u51fd\u6570]({{ site.baseurl }}/zh/dev/table/functions/udfs.html#table-functions) \u7684 SQL \u8bed\u6cd5\u63d0\u4f9b\u4e00\u79cd\u8868\u8fbe\u5b83\u7684\u65b9\u6cd5\u3002", "originalCommit": "58447ca459535c32ed1fcd040aff23678f92aa0c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "689f08ae035886e85ab02097ec800afcaf8cf235", "url": "https://github.com/apache/flink/commit/689f08ae035886e85ab02097ec800afcaf8cf235", "message": "doc: the third review", "committedDate": "2020-05-22T13:05:05Z", "type": "commit"}]}