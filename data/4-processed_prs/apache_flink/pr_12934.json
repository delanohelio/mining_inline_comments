{"pr_number": 12934, "pr_title": "[FLINK-18616][table sql/api]Add SHOW CURRENT DDLs", "pr_createdAt": "2020-07-20T07:01:45Z", "pr_url": "https://github.com/apache/flink/pull/12934", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzExODY3OA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457118678", "bodyText": "Leave one empty line above.", "author": "JingsongLi", "createdAt": "2020-07-20T07:11:25Z", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/operations/ShowCurrentDatabaseOperation.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.table.operations;\n+\n+/**\n+ * Operation to describe SHOW CURRENT DATABASE operation.\n+ */\n+public class ShowCurrentDatabaseOperation implements ShowOperation{\n+\t@Override", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzExODk1MA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457118950", "bodyText": "Leave one empty line above.", "author": "JingsongLi", "createdAt": "2020-07-20T07:11:52Z", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/operations/ShowCurrentCatalogOperation.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.table.operations;\n+\n+/**\n+ * Operation to describe a SHOW CURRENT CATALOG statement.\n+ */\n+public class ShowCurrentCatalogOperation implements ShowOperation{\n+\t@Override", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzExOTY3OA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457119678", "bodyText": "current catalog name?", "author": "JingsongLi", "createdAt": "2020-07-20T07:13:00Z", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/api/internal/TableEnvironmentImpl.java", "diffHunk": "@@ -1007,8 +1009,12 @@ private TableResult executeOperation(Operation operation) {\n \t\t\treturn TableResultImpl.TABLE_RESULT_OK;\n \t\t} else if (operation instanceof ShowCatalogsOperation) {\n \t\t\treturn buildShowResult(\"catalog name\", listCatalogs());\n+\t\t} else if (operation instanceof ShowCurrentCatalogOperation){\n+\t\t\treturn buildShowResult(\"catalog name\", new String[]{catalogManager.getCurrentCatalog()});", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzExOTg1MQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457119851", "bodyText": "current database name?", "author": "JingsongLi", "createdAt": "2020-07-20T07:13:14Z", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/api/internal/TableEnvironmentImpl.java", "diffHunk": "@@ -1007,8 +1009,12 @@ private TableResult executeOperation(Operation operation) {\n \t\t\treturn TableResultImpl.TABLE_RESULT_OK;\n \t\t} else if (operation instanceof ShowCatalogsOperation) {\n \t\t\treturn buildShowResult(\"catalog name\", listCatalogs());\n+\t\t} else if (operation instanceof ShowCurrentCatalogOperation){\n+\t\t\treturn buildShowResult(\"catalog name\", new String[]{catalogManager.getCurrentCatalog()});\n \t\t} else if (operation instanceof ShowDatabasesOperation) {\n \t\t\treturn buildShowResult(\"database name\", listDatabases());\n+\t\t} else if (operation instanceof ShowCurrentDatabaseOperation) {\n+\t\t\treturn buildShowResult(\"database name\", new String[]{catalogManager.getCurrentDatabase()});", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEyMDU4OQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457120589", "bodyText": "Leave one empty line above.", "author": "JingsongLi", "createdAt": "2020-07-20T07:14:18Z", "path": "flink-table/flink-sql-parser/src/main/java/org/apache/flink/sql/parser/dql/SqlShowCurrentDatabase.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.sql.parser.dql;\n+\n+import org.apache.calcite.sql.SqlCall;\n+import org.apache.calcite.sql.SqlKind;\n+import org.apache.calcite.sql.SqlNode;\n+import org.apache.calcite.sql.SqlOperator;\n+import org.apache.calcite.sql.SqlSpecialOperator;\n+import org.apache.calcite.sql.SqlWriter;\n+import org.apache.calcite.sql.parser.SqlParserPos;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+/**\n+* Show current database.\n+ */\n+public class SqlShowCurrentDatabase extends SqlCall {\n+\tpublic static final SqlSpecialOperator OPERATOR = new SqlSpecialOperator(\"SHOW CURRENT DATABASE\", SqlKind.OTHER);", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEyMTMyMw==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457121323", "bodyText": "Two indents instead of one. Others should be the same.", "author": "JingsongLi", "createdAt": "2020-07-20T07:15:24Z", "path": "flink-table/flink-sql-parser/src/main/java/org/apache/flink/sql/parser/dql/SqlShowCurrentDatabase.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.sql.parser.dql;\n+\n+import org.apache.calcite.sql.SqlCall;\n+import org.apache.calcite.sql.SqlKind;\n+import org.apache.calcite.sql.SqlNode;\n+import org.apache.calcite.sql.SqlOperator;\n+import org.apache.calcite.sql.SqlSpecialOperator;\n+import org.apache.calcite.sql.SqlWriter;\n+import org.apache.calcite.sql.parser.SqlParserPos;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+/**\n+* Show current database.\n+ */\n+public class SqlShowCurrentDatabase extends SqlCall {\n+\tpublic static final SqlSpecialOperator OPERATOR = new SqlSpecialOperator(\"SHOW CURRENT DATABASE\", SqlKind.OTHER);\n+\n+\tpublic SqlShowCurrentDatabase(SqlParserPos pos) {\n+\t\tsuper(pos);\n+\t}\n+\n+\t@Override\n+\tpublic SqlOperator getOperator() {\n+\t\treturn OPERATOR;\n+\t}\n+\n+\t@Override\n+\tpublic List<SqlNode> getOperandList() {\n+\t\treturn Collections.EMPTY_LIST;\n+\t}\n+\n+\t@Override\n+\tpublic void unparse(\n+\t\tSqlWriter writer,", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEyMTU2Nw==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457121567", "bodyText": "Two indents instead of one.", "author": "JingsongLi", "createdAt": "2020-07-20T07:15:45Z", "path": "flink-table/flink-sql-parser/src/main/java/org/apache/flink/sql/parser/dql/SqlShowCurrentCatalog.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.sql.parser.dql;\n+\n+import org.apache.calcite.sql.SqlCall;\n+import org.apache.calcite.sql.SqlKind;\n+import org.apache.calcite.sql.SqlNode;\n+import org.apache.calcite.sql.SqlOperator;\n+import org.apache.calcite.sql.SqlSpecialOperator;\n+import org.apache.calcite.sql.SqlWriter;\n+import org.apache.calcite.sql.parser.SqlParserPos;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+/**\n+ * SHOW CURRENT CATALOG sql call.\n+ */\n+public class SqlShowCurrentCatalog extends SqlCall {\n+\tpublic static final SqlSpecialOperator OPERATOR = new SqlSpecialOperator(\"SHOW CURRENT CATALOG\", SqlKind.OTHER);\n+\n+\tpublic SqlShowCurrentCatalog(SqlParserPos pos) {\n+\t\tsuper(pos);\n+\t}\n+\n+\t@Override\n+\tpublic SqlOperator getOperator() {\n+\t\treturn OPERATOR;\n+\t}\n+\n+\t@Override\n+\tpublic List<SqlNode> getOperandList() {\n+\t\treturn Collections.emptyList();\n+\t}\n+\n+\t@Override\n+\tpublic void unparse(\n+\t\tSqlWriter writer,", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEyMTYxOQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457121619", "bodyText": "Leave one empty line above.", "author": "JingsongLi", "createdAt": "2020-07-20T07:15:51Z", "path": "flink-table/flink-sql-parser/src/main/java/org/apache/flink/sql/parser/dql/SqlShowCurrentCatalog.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.sql.parser.dql;\n+\n+import org.apache.calcite.sql.SqlCall;\n+import org.apache.calcite.sql.SqlKind;\n+import org.apache.calcite.sql.SqlNode;\n+import org.apache.calcite.sql.SqlOperator;\n+import org.apache.calcite.sql.SqlSpecialOperator;\n+import org.apache.calcite.sql.SqlWriter;\n+import org.apache.calcite.sql.parser.SqlParserPos;\n+\n+import java.util.Collections;\n+import java.util.List;\n+\n+/**\n+ * SHOW CURRENT CATALOG sql call.\n+ */\n+public class SqlShowCurrentCatalog extends SqlCall {\n+\tpublic static final SqlSpecialOperator OPERATOR = new SqlSpecialOperator(\"SHOW CURRENT CATALOG\", SqlKind.OTHER);", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzMzE2OA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457133168", "bodyText": "getCurrentCatalog?", "author": "JingsongLi", "createdAt": "2020-07-20T07:33:35Z", "path": "flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/gateway/local/LocalExecutor.java", "diffHunk": "@@ -309,13 +309,27 @@ public void setSessionProperty(String sessionId, String key, String value) throw\n \t\treturn context.wrapClassLoader(() -> Arrays.asList(tableEnv.listCatalogs()));\n \t}\n \n+\t@Override\n+\tpublic String listCurrentCatalog(String sessionId) throws SqlExecutionException {", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzMzE5NA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457133194", "bodyText": "getCurrentDatabase?", "author": "JingsongLi", "createdAt": "2020-07-20T07:33:37Z", "path": "flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/gateway/local/LocalExecutor.java", "diffHunk": "@@ -309,13 +309,27 @@ public void setSessionProperty(String sessionId, String key, String value) throw\n \t\treturn context.wrapClassLoader(() -> Arrays.asList(tableEnv.listCatalogs()));\n \t}\n \n+\t@Override\n+\tpublic String listCurrentCatalog(String sessionId) throws SqlExecutionException {\n+\t\tfinal ExecutionContext<?> context = getExecutionContext(sessionId);\n+\t\tfinal TableEnvironment tableEnv = context.getTableEnvironment();\n+\t\treturn context.wrapClassLoader(() -> tableEnv.getCurrentCatalog());\n+\t}\n+\n \t@Override\n \tpublic List<String> listDatabases(String sessionId) throws SqlExecutionException {\n \t\tfinal ExecutionContext<?> context = getExecutionContext(sessionId);\n \t\tfinal TableEnvironment tableEnv = context.getTableEnvironment();\n \t\treturn context.wrapClassLoader(() -> Arrays.asList(tableEnv.listDatabases()));\n \t}\n \n+\t@Override\n+\tpublic String listCurrentDatabase(String sessionId) throws SqlExecutionException {", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzNDIwNA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457134204", "bodyText": "What is the difference?", "author": "JingsongLi", "createdAt": "2020-07-20T07:35:12Z", "path": "docs/dev/table/sql/show.zh.md", "diffHunk": "@@ -274,4 +308,4 @@ SHOW VIEWS\n SHOW FUNCTIONS\n {% endhighlight %}\n \n-\u5c55\u793a\u6240\u6709\u7684 function\uff0c\u5305\u62ec\uff1a\u4e34\u65f6\u7cfb\u7edf function, \u7cfb\u7edf function, \u4e34\u65f6 catalog function\uff0c\u5f53\u524d catalog \u548c database \u4e2d\u7684 catalog function\u3002\n\\ No newline at end of file\n+\u5c55\u793a\u6240\u6709\u7684 function\uff0c\u5305\u62ec\uff1a\u4e34\u65f6\u7cfb\u7edf function, \u7cfb\u7edf function, \u4e34\u65f6 catalog function\uff0c\u5f53\u524d catalog \u548c database \u4e2d\u7684 catalog function\u3002", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzNDc0Mg==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457134742", "bodyText": "current database name", "author": "JingsongLi", "createdAt": "2020-07-20T07:36:01Z", "path": "docs/dev/table/sql/show.md", "diffHunk": "@@ -63,6 +73,14 @@ tEnv.executeSql(\"SHOW DATABASES\").print();\n // | default_database |\n // +------------------+\n \n+// show current database\n+tEnv.executeSql(\"SHOW CURRENT DATABASE\").print();\n+// +------------------+\n+// |    database name |", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzNDgzMA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457134830", "bodyText": "current catalog name", "author": "JingsongLi", "createdAt": "2020-07-20T07:36:10Z", "path": "docs/dev/table/sql/show.md", "diffHunk": "@@ -55,6 +57,14 @@ tEnv.executeSql(\"SHOW CATALOGS\").print();\n // | default_catalog |\n // +-----------------+\n \n+// show current catalog\n+tEnv.executeSql(\"SHOW CURRENT CATALOG\").print();\n+// +-----------------+\n+// |    catalog name |", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzEzNTE1MQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457135151", "bodyText": "or show or or get", "author": "JingsongLi", "createdAt": "2020-07-20T07:36:39Z", "path": "docs/dev/table/sql/show.md", "diffHunk": "@@ -25,12 +25,14 @@ under the License.\n * This will be replaced by the TOC\n {:toc}\n \n-SHOW statements are used to list all catalogs, or list all databases in the current catalog, or list all tables/views in the current catalog and the current database, or list all functions including temp system functions, system functions, temp catalog functions and catalog functions in the current catalog and the current database.\n+SHOW statements are used to list all catalogs, or list all databases in the current catalog, or list all tables/views in the current catalog and the current database, or list current catalog and database, or list all functions including temp system functions, system functions, temp catalog functions and catalog functions in the current catalog and the current database.", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MTg2NA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457141864", "bodyText": "we should not introduce new methods, instead, we can call executeSql directly", "author": "godfreyhe", "createdAt": "2020-07-20T07:46:41Z", "path": "flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/gateway/Executor.java", "diffHunk": "@@ -79,13 +79,23 @@\n \t/**\n \t * Lists all registered catalogs.\n \t */\n-\tList<String> listCatalogs(String sessionid) throws SqlExecutionException;\n+\tList<String> listCatalogs(String sessionId) throws SqlExecutionException;\n+\n+\t/**\n+\t * List current catalog.\n+\t */\n+\tString listCurrentCatalog(String sessionId) throws SqlExecutionException;", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE1MzU0MQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457153541", "bodyText": "@fsk119 I think you can create a new PR for cleaning methods in Executor first...", "author": "JingsongLi", "createdAt": "2020-07-20T08:03:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MTg2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE1NDY1NQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457154655", "bodyText": "#12923", "author": "godfreyhe", "createdAt": "2020-07-20T08:04:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MTg2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE2MTI1NQ==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457161255", "bodyText": "I don't notice Executor has executeSql  method...\nSounds good to clean up these dulicate method as my next work!", "author": "fsk119", "createdAt": "2020-07-20T08:13:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MTg2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE4NTc4NA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457185784", "bodyText": "I don't notice Executor has executeSql method...\nSounds good to clean up these dulicate method as my next work!\n\nI had opened a pr last week", "author": "godfreyhe", "createdAt": "2020-07-20T08:45:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MTg2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjE0MA==", "url": "https://github.com/apache/flink/pull/12934#discussion_r457142140", "bodyText": "ditto", "author": "godfreyhe", "createdAt": "2020-07-20T07:47:02Z", "path": "flink-table/flink-sql-client/src/main/java/org/apache/flink/table/client/gateway/Executor.java", "diffHunk": "@@ -79,13 +79,23 @@\n \t/**\n \t * Lists all registered catalogs.\n \t */\n-\tList<String> listCatalogs(String sessionid) throws SqlExecutionException;\n+\tList<String> listCatalogs(String sessionId) throws SqlExecutionException;\n+\n+\t/**\n+\t * List current catalog.\n+\t */\n+\tString listCurrentCatalog(String sessionId) throws SqlExecutionException;\n \n \t/**\n \t * Lists all databases in the current catalog.\n \t */\n \tList<String> listDatabases(String sessionId) throws SqlExecutionException;\n \n+\t/**\n+\t * List current database.\n+\t */\n+\tString listCurrentDatabase(String sessionId) throws SqlExecutionException;", "originalCommit": "c3a5fb2c03a80e2d1a447a23923ce5c6c977c389", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "905fd299573bf766f2bec65ee6d710698063b6bb", "url": "https://github.com/apache/flink/commit/905fd299573bf766f2bec65ee6d710698063b6bb", "message": "[FLINK-18616][table sql/api]Add SHOW CURRENT DDLs", "committedDate": "2020-07-23T07:20:39Z", "type": "commit"}, {"oid": "a6485e7990e33fdf45e8a18753cbca8749bba262", "url": "https://github.com/apache/flink/commit/a6485e7990e33fdf45e8a18753cbca8749bba262", "message": "fix godfrey and Jinsong's comment:\n1. modify format problem(add blank line and space idents)\n2. replace showCurrentCatalog/Database in executor with executeSql", "committedDate": "2020-07-23T09:09:36Z", "type": "commit"}, {"oid": "a6485e7990e33fdf45e8a18753cbca8749bba262", "url": "https://github.com/apache/flink/commit/a6485e7990e33fdf45e8a18753cbca8749bba262", "message": "fix godfrey and Jinsong's comment:\n1. modify format problem(add blank line and space idents)\n2. replace showCurrentCatalog/Database in executor with executeSql", "committedDate": "2020-07-23T09:09:36Z", "type": "forcePushed"}]}