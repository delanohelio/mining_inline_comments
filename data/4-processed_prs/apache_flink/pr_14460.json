{"pr_number": 14460, "pr_title": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout \u2026", "pr_createdAt": "2020-12-22T09:34:24Z", "pr_url": "https://github.com/apache/flink/pull/14460", "timeline": [{"oid": "aa3a798b659292251207db7dc1c762af9e2553a4", "url": "https://github.com/apache/flink/commit/aa3a798b659292251207db7dc1c762af9e2553a4", "message": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout does not apply to task failure", "committedDate": "2020-12-24T06:04:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNjE1Ng==", "url": "https://github.com/apache/flink/pull/14460#discussion_r549316156", "bodyText": "Notice that a task cancellation is different from a task failure. So task cancellation timeout does not apply to task closing/clean-up caused by a task failure\n\n->\n\nNotice that a task cancellation is different from both a task failure and a clean shutdown. So task cancellation timeout applies only if you manually cancel the job and does not apply to task closing/clean-up caused by a task failure or clean shutdown.\n\n? Because as I understand, this notice applies as well for the clean shut down?", "author": "pnowojski", "createdAt": "2020-12-28T11:35:49Z", "path": "docs/_includes/generated/all_taskmanager_section.html", "diffHunk": "@@ -18,7 +18,7 @@\n             <td><h5>task.cancellation.timeout</h5></td>\n             <td style=\"word-wrap: break-word;\">180000</td>\n             <td>Long</td>\n-            <td>Timeout in milliseconds after which a task cancellation times out and leads to a fatal TaskManager error. A value of 0 deactivates the watch dog.</td>\n+            <td>Timeout in milliseconds after which a task cancellation times out and leads to a fatal TaskManager error. A value of 0 deactivates the watch dog. Notice that a task cancellation is different from a task failure. So task cancellation timeout does not apply to task closing/clean-up caused by a task failure.</td>", "originalCommit": "aa3a798b659292251207db7dc1c762af9e2553a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU2MDk2OA==", "url": "https://github.com/apache/flink/pull/14460#discussion_r549560968", "bodyText": "Notice that a task cancellation is different from a task failure. So task cancellation timeout does not apply to task closing/clean-up caused by a task failure\n\n->\n\nNotice that a task cancellation is different from both a task failure and a clean shutdown. So task cancellation timeout applies only if you manually cancel the job and does not apply to task closing/clean-up caused by a task failure or clean shutdown.\n\n? Because as I understand, this notice applies as well for the clean shut down?\n\n\n\nThat's true in the sense that cleanUpInvoke is called both in the case of a task failure and a clean shutdown. But I thought task-cancelation-timeout naturally can not be considered as applied to a clean shutdown? Would that cause more confusion if we say that? The main confusion in general (and in the ticket FLINK-18983) is that people thought \"task-cancelation-timeout\" can be applied for \"failed tasks\" as well.\n\n\nTask cancelation does not always happen \"manually\", it can happen when a task fails and caused the rest of the tasks canceled by JM. So I would suggest \"task cancelation\" instead of saying \"manually cancel the job\"", "author": "curcur", "createdAt": "2020-12-29T04:08:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNjE1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTYwOTczMQ==", "url": "https://github.com/apache/flink/pull/14460#discussion_r549609731", "bodyText": "I would suggest to add clean shutdown mention, because up till the moment I started reading your PR, I was sure that the FLINK-18983 is all about clean shutdown \ud83d\ude13 So the mis conception can go in both directions .\n\ud83d\udc4d", "author": "pnowojski", "createdAt": "2020-12-29T08:09:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNjE1Ng=="}], "type": "inlineReview"}, {"oid": "5f59e7821f3e7649b5449307a7a4817a4d0036f5", "url": "https://github.com/apache/flink/commit/5f59e7821f3e7649b5449307a7a4817a4d0036f5", "message": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout does not apply to task failure", "committedDate": "2020-12-29T10:34:38Z", "type": "forcePushed"}, {"oid": "43ece11dcdfa1e39d61d0261ec8e98849ea6aff6", "url": "https://github.com/apache/flink/commit/43ece11dcdfa1e39d61d0261ec8e98849ea6aff6", "message": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout does not apply to task failure", "committedDate": "2020-12-31T09:02:03Z", "type": "forcePushed"}, {"oid": "9f7dd68a258dd3ccc7655a5e4c8e819822fc1d8c", "url": "https://github.com/apache/flink/commit/9f7dd68a258dd3ccc7655a5e4c8e819822fc1d8c", "message": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout does not apply to task failure", "committedDate": "2020-12-31T09:17:54Z", "type": "forcePushed"}, {"oid": "25757130265c21142058fb95370ca686a4d915f9", "url": "https://github.com/apache/flink/commit/25757130265c21142058fb95370ca686a4d915f9", "message": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout does not apply to task failure", "committedDate": "2021-01-04T03:09:40Z", "type": "commit"}, {"oid": "25757130265c21142058fb95370ca686a4d915f9", "url": "https://github.com/apache/flink/commit/25757130265c21142058fb95370ca686a4d915f9", "message": "[docs/javadoc][hotfix] Explicitly Document task cancellation timeout does not apply to task failure", "committedDate": "2021-01-04T03:09:40Z", "type": "forcePushed"}]}