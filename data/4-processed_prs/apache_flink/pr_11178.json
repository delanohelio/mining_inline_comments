{"pr_number": 11178, "pr_title": "[hotfix] Stabilize python tests", "pr_createdAt": "2020-02-21T16:57:45Z", "pr_url": "https://github.com/apache/flink/pull/11178", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcxNjg0NQ==", "url": "https://github.com/apache/flink/pull/11178#discussion_r382716845", "bodyText": "let's move this below the error check", "author": "zentol", "createdAt": "2020-02-21T17:43:38Z", "path": "tools/azure_controller.sh", "diffHunk": "@@ -173,6 +173,13 @@ elif [ $STAGE != \"$STAGE_CLEANUP\" ]; then\n         PY_MVN=\"$PY_MVN -Drat.skip=true\"\n         ${PY_MVN}\n         echo \"Done compiling ... \"", "originalCommit": "b2e002eb9b0f340f4efd6e79b22c19d9b588993f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcxNjk0Nw==", "url": "https://github.com/apache/flink/pull/11178#discussion_r382716947", "bodyText": "add an empty line?", "author": "zentol", "createdAt": "2020-02-21T17:43:50Z", "path": "tools/azure-pipelines/jobs-template.yml", "diffHunk": "@@ -98,10 +98,15 @@ jobs:\n       path: $(CACHE_FLINK_DIR)\n       artifact: FlinkCompileCacheDir-${{parameters.stage_name}}\n \n-  # recreate \"build-target\" symlink for python tests\n-  - script: |\n-      ln -snf $(CACHE_FLINK_DIR)/flink-dist/target/flink-*-SNAPSHOT-bin/flink-*-SNAPSHOT $(CACHE_FLINK_DIR)/build-target\n-    displayName: Recreate 'build-target' symlink\n+  # only for the python stage (which runs a full mvn install), download the cache\n+  - task: Cache@2\n+    condition: eq(variables['module'], 'python')\n+    inputs:\n+      key: $(CACHE_KEY)\n+      restoreKeys: $(CACHE_FALLBACK_KEY)\n+      path: $(MAVEN_CACHE_FOLDER)\n+    continueOnError: true # continue the build even if the cache fails.\n+    displayName: Cache Maven local repo\n   # Test", "originalCommit": "b2e002eb9b0f340f4efd6e79b22c19d9b588993f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5e4b742577824a69966ee284b055495bbc17644a", "url": "https://github.com/apache/flink/commit/5e4b742577824a69966ee284b055495bbc17644a", "message": "[hotfix] Stabilize python tests", "committedDate": "2020-02-21T23:46:54Z", "type": "commit"}, {"oid": "5e4b742577824a69966ee284b055495bbc17644a", "url": "https://github.com/apache/flink/commit/5e4b742577824a69966ee284b055495bbc17644a", "message": "[hotfix] Stabilize python tests", "committedDate": "2020-02-21T23:46:54Z", "type": "forcePushed"}]}