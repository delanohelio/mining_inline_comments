{"pr_number": 11817, "pr_title": "[FLINK-17257][yarn][test] Fix AbstractYarnClusterTest not compiling with hadoop 2.10.", "pr_createdAt": "2020-04-20T07:55:54Z", "pr_url": "https://github.com/apache/flink/pull/11817", "timeline": [{"oid": "19e4aa4ab7974adb5b771af4a9a51127c71e0bb4", "url": "https://github.com/apache/flink/commit/19e4aa4ab7974adb5b771af4a9a51127c71e0bb4", "message": "[FLINK-17257][yarn][test] Fix AbstractYarnClusterTest not compiling with hadoop 2.10.", "committedDate": "2020-04-20T07:47:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE4MzM2Nw==", "url": "https://github.com/apache/flink/pull/11817#discussion_r411183367", "bodyText": "Seems Records.newRecord(...) is still private and unstable. Is there a stable approach to create ApplicationReport?", "author": "zhuzhurk", "createdAt": "2020-04-20T08:17:30Z", "path": "flink-yarn/src/test/java/org/apache/flink/yarn/AbstractYarnClusterTest.java", "diffHunk": "@@ -82,26 +83,21 @@ private ApplicationReport createApplicationReport(\n \t\tApplicationId applicationId,\n \t\tYarnApplicationState yarnApplicationState,\n \t\tFinalApplicationStatus finalApplicationStatus) {\n-\t\treturn ApplicationReport.newInstance(\n-\t\t\tapplicationId,\n-\t\t\tApplicationAttemptId.newInstance(applicationId, 0),\n-\t\t\t\"user\",\n-\t\t\t\"queue\",\n-\t\t\t\"name\",\n-\t\t\t\"localhost\",\n-\t\t\t42,\n-\t\t\tnull,\n-\t\t\tyarnApplicationState,\n-\t\t\tnull,\n-\t\t\tnull,\n-\t\t\t1L,\n-\t\t\t2L,\n-\t\t\tfinalApplicationStatus,\n-\t\t\tnull,\n-\t\t\tnull,\n-\t\t\t1.0f,\n-\t\t\tnull,\n-\t\t\tnull);\n+\n+\t\tApplicationReport applicationReport = Records.newRecord(ApplicationReport.class);", "originalCommit": "19e4aa4ab7974adb5b771af4a9a51127c71e0bb4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIwMjI1MQ==", "url": "https://github.com/apache/flink/pull/11817#discussion_r411202251", "bodyText": "Not that I'm aware of.\nI admit that this is not a perfect solution and is not guaranteed compatible with all future hadoop versions. This approach only works with the current known hadoop versions.", "author": "xintongsong", "createdAt": "2020-04-20T08:45:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE4MzM2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI3NjI1Ng==", "url": "https://github.com/apache/flink/pull/11817#discussion_r411276256", "bodyText": "Ok. Let's take this workaround for now.", "author": "zhuzhurk", "createdAt": "2020-04-20T10:42:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE4MzM2Nw=="}], "type": "inlineReview"}]}