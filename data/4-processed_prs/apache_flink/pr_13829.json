{"pr_number": 13829, "pr_title": "[FLINK-19862][coordination] Check for null", "pr_createdAt": "2020-10-28T18:25:45Z", "pr_url": "https://github.com/apache/flink/pull/13829", "timeline": [{"oid": "3e7b304163f959489fe85aaffa43f664b65b65e5", "url": "https://github.com/apache/flink/commit/3e7b304163f959489fe85aaffa43f664b65b65e5", "message": "[FLINK-19862][coordination] Check for null", "committedDate": "2020-10-28T18:24:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMzU4Ng==", "url": "https://github.com/apache/flink/pull/13829#discussion_r516103586", "bodyText": "Maybe add @Nullable to taskExecutorManager.", "author": "tillrohrmann", "createdAt": "2020-11-02T16:41:03Z", "path": "flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/DeclarativeSlotManager.java", "diffHunk": "@@ -200,10 +200,12 @@ public void suspend() {\n \t\tLOG.info(\"Suspending the slot manager.\");\n \n \t\tresourceTracker.clear();\n-\t\ttaskExecutorManager.close();\n+\t\tif (taskExecutorManager != null) {", "originalCommit": "3e7b304163f959489fe85aaffa43f664b65b65e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwNDY3OQ==", "url": "https://github.com/apache/flink/pull/13829#discussion_r516104679", "bodyText": "Actually we should maybe also add @Nullable to resourceManagerId and resourceActions.", "author": "tillrohrmann", "createdAt": "2020-11-02T16:42:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMzU4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE3NzUyNQ==", "url": "https://github.com/apache/flink/pull/13829#discussion_r516177525", "bodyText": "IIRC you suggested the same thing during the original review; my argument back then was that it would create a lot of unnecessary warnings.\nI'm not sure what the better option is; but I suppose having any warning, even if they are maybe unnecessary, is better than none?", "author": "zentol", "createdAt": "2020-11-02T18:34:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMzU4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjY4OTkzMg==", "url": "https://github.com/apache/flink/pull/13829#discussion_r516689932", "bodyText": "I guess having warnings could have made us aware of the problem in suspend.", "author": "tillrohrmann", "createdAt": "2020-11-03T14:06:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMzU4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwNDA4Nw==", "url": "https://github.com/apache/flink/pull/13829#discussion_r516104087", "bodyText": "we could also return if started == false.", "author": "tillrohrmann", "createdAt": "2020-11-02T16:41:45Z", "path": "flink-runtime/src/main/java/org/apache/flink/runtime/resourcemanager/slotmanager/DeclarativeSlotManager.java", "diffHunk": "@@ -200,10 +200,12 @@ public void suspend() {\n \t\tLOG.info(\"Suspending the slot manager.\");", "originalCommit": "3e7b304163f959489fe85aaffa43f664b65b65e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5f28ad9804d926628a5dd3c575a294aa5a960d35", "url": "https://github.com/apache/flink/commit/5f28ad9804d926628a5dd3c575a294aa5a960d35", "message": "+", "committedDate": "2020-11-03T11:46:27Z", "type": "commit"}, {"oid": "03aec5ffdad98635699e2f4080576d04a1700d27", "url": "https://github.com/apache/flink/commit/03aec5ffdad98635699e2f4080576d04a1700d27", "message": "++", "committedDate": "2020-11-03T18:20:03Z", "type": "commit"}]}