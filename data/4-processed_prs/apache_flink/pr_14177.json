{"pr_number": 14177, "pr_title": " [FLINK-16443][checkpointing] Make sure that CheckpointException are also serialized in DeclineCheckpoint.", "pr_createdAt": "2020-11-23T14:06:22Z", "pr_url": "https://github.com/apache/flink/pull/14177", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4MzQwNA==", "url": "https://github.com/apache/flink/pull/14177#discussion_r529583404", "bodyText": "Shouldn't we change the type if we know that it is always serialized?", "author": "tillrohrmann", "createdAt": "2020-11-24T14:24:40Z", "path": "flink-runtime/src/main/java/org/apache/flink/runtime/messages/checkpoint/DeclineCheckpoint.java", "diffHunk": "@@ -34,21 +35,18 @@\n \tprivate static final long serialVersionUID = 2094094662279578953L;\n \n \t/** The reason why the checkpoint was declined. */\n+\t@Nullable\n \tprivate final Throwable reason;", "originalCommit": "81187637662cac241774f53951af4eba82da3484", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4Mzg4OA==", "url": "https://github.com/apache/flink/pull/14177#discussion_r529583888", "bodyText": "The same actually applies to the return type of getReason() method.", "author": "tillrohrmann", "createdAt": "2020-11-24T14:25:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4MzQwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4NTU4NA==", "url": "https://github.com/apache/flink/pull/14177#discussion_r529585584", "bodyText": "I guess that we can now also adapt CheckpointCoordinator.getCheckpointException.", "author": "tillrohrmann", "createdAt": "2020-11-24T14:27:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4MzQwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE5MzcxMA==", "url": "https://github.com/apache/flink/pull/14177#discussion_r531193710", "bodyText": "I did the first two things, but didn't know how to proceed with the third: the method is also called from onTriggerFailure where we just get a Throwable from the future.", "author": "AHeise", "createdAt": "2020-11-26T19:08:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4MzQwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ1NjEzOQ==", "url": "https://github.com/apache/flink/pull/14177#discussion_r531456139", "bodyText": "I overlooked the other usages of this method. I guess it should be fine then.", "author": "tillrohrmann", "createdAt": "2020-11-27T08:44:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU4MzQwNA=="}], "type": "inlineReview"}, {"oid": "ce283f64f17cadd3f4ab80534343dbfe917867fa", "url": "https://github.com/apache/flink/commit/ce283f64f17cadd3f4ab80534343dbfe917867fa", "message": "Revert \"[FLINK-14076] Ensure CheckpointException can be deserialized on JobManager\"\n\nThis reverts commit 2bcf5094", "committedDate": "2020-11-26T22:04:34Z", "type": "forcePushed"}, {"oid": "9e3d5889560922a86586fb6abc148be6d2e1f482", "url": "https://github.com/apache/flink/commit/9e3d5889560922a86586fb6abc148be6d2e1f482", "message": "[FLINK-16443][checkpointing] Make sure that CheckpointException are also serialized in DeclineCheckpoint.", "committedDate": "2020-12-02T06:49:39Z", "type": "commit"}, {"oid": "e7fcff5c36ef33398a10e786fdae848ed72664b4", "url": "https://github.com/apache/flink/commit/e7fcff5c36ef33398a10e786fdae848ed72664b4", "message": "Revert \"[FLINK-14076] Ensure CheckpointException can be deserialized on JobManager\"\n\nThis reverts commit 2bcf5094", "committedDate": "2020-12-02T06:49:41Z", "type": "commit"}, {"oid": "e7fcff5c36ef33398a10e786fdae848ed72664b4", "url": "https://github.com/apache/flink/commit/e7fcff5c36ef33398a10e786fdae848ed72664b4", "message": "Revert \"[FLINK-14076] Ensure CheckpointException can be deserialized on JobManager\"\n\nThis reverts commit 2bcf5094", "committedDate": "2020-12-02T06:49:41Z", "type": "forcePushed"}]}