{"pr_number": 12595, "pr_title": "[FLINK-18247][table-planner-blink] Fix unstable test: TableITCase.testCollectWithClose", "pr_createdAt": "2020-06-11T07:51:05Z", "pr_url": "https://github.com/apache/flink/pull/12595", "timeline": [{"oid": "9e434548ba3706388dbd2a4b5d9cce32f5012eaa", "url": "https://github.com/apache/flink/commit/9e434548ba3706388dbd2a4b5d9cce32f5012eaa", "message": "[FLINK-18247][table-planner-blink] Fix unstable test: TableITCase.testCollectWithClose", "committedDate": "2020-06-11T07:43:08Z", "type": "commit"}, {"oid": "e32a32bc7e248905728924a976f35d3c21cb41cf", "url": "https://github.com/apache/flink/commit/e32a32bc7e248905728924a976f35d3c21cb41cf", "message": "minor update", "committedDate": "2020-06-11T08:01:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYxNTE5OQ==", "url": "https://github.com/apache/flink/pull/12595#discussion_r438615199", "bodyText": "This also catch exception of assertNotEquals and makes assertNotEquals useless.", "author": "JingsongLi", "createdAt": "2020-06-11T08:09:43Z", "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/api/TableITCase.scala", "diffHunk": "@@ -119,7 +119,13 @@ class TableITCase(tableEnvName: String, isStreaming: Boolean) extends TestLogger\n     assertEquals(ResultKind.SUCCESS_WITH_CONTENT, tableResult.getResultKind)\n     val it = tableResult.collect()\n     it.close()\n-    assertEquals(JobStatus.CANCELED, tableResult.getJobClient.get().getJobStatus().get())\n+    try {\n+      assertNotEquals(JobStatus.RUNNING, tableResult.getJobClient.get().getJobStatus.get())\n+    } catch {\n+      // ignore the exception,\n+      // because the MiniCluster maybe already been shut down when getting job status\n+      case _: Throwable => None", "originalCommit": "e32a32bc7e248905728924a976f35d3c21cb41cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c44353ad87a53a67c16d1bacd94e06c2b1d91d25", "url": "https://github.com/apache/flink/commit/c44353ad87a53a67c16d1bacd94e06c2b1d91d25", "message": "Revert \"minor update\"\n\nThis reverts commit e32a32bc", "committedDate": "2020-06-11T08:11:59Z", "type": "commit"}]}