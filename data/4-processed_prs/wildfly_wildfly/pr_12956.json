{"pr_number": 12956, "pr_title": "Fix for WFLY-13050, metrics should be optional in observability layer", "pr_createdAt": "2020-02-03T09:49:36Z", "pr_url": "https://github.com/wildfly/wildfly/pull/12956", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU4NTc2Mg==", "url": "https://github.com/wildfly/wildfly/pull/12956#discussion_r375585762", "bodyText": "I'm reluctant to make config optional. The odds are very high that someone trying to exclude it will generate a broken config.  OpenTracing doesn't require it, but if all you want is OT then just specify that.", "author": "bstansberry", "createdAt": "2020-02-06T00:36:42Z", "path": "galleon-pack/src/main/resources/layers/standalone/observability/layer-spec.xml", "diffHunk": "@@ -1,8 +1,8 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"observability\">\n     <dependencies>\n-        <layer name=\"microprofile-config\"/>\n-        <layer name=\"microprofile-metrics\"/>\n+        <layer name=\"microprofile-config\" optional=\"true\"/>", "originalCommit": "3fbe8cd2a206da68ba81ae8223c6646e5b4d2277", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU4NjMxMw==", "url": "https://github.com/wildfly/wildfly/pull/12956#discussion_r375586313", "bodyText": "Further to my last point; this layer has the health subsystem as a fixed feature group, not an excludable layer and health requires config.", "author": "bstansberry", "createdAt": "2020-02-06T00:38:47Z", "path": "galleon-pack/src/main/resources/layers/standalone/observability/layer-spec.xml", "diffHunk": "@@ -1,8 +1,8 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"observability\">\n     <dependencies>\n-        <layer name=\"microprofile-config\"/>\n-        <layer name=\"microprofile-metrics\"/>\n+        <layer name=\"microprofile-config\" optional=\"true\"/>", "originalCommit": "3fbe8cd2a206da68ba81ae8223c6646e5b4d2277", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTY5NTM3Mw==", "url": "https://github.com/wildfly/wildfly/pull/12956#discussion_r375695373", "bodyText": "I missed, that I added a comment and removed the optional attribute.", "author": "jfdenise", "createdAt": "2020-02-06T08:28:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU4NjMxMw=="}], "type": "inlineReview"}, {"oid": "9c62321796a1367bf932c599bab9982ad26826b0", "url": "https://github.com/wildfly/wildfly/commit/9c62321796a1367bf932c599bab9982ad26826b0", "message": "Fix for WFLY-13050, metrics should be optional in observability layer", "committedDate": "2020-02-06T08:25:20Z", "type": "forcePushed"}, {"oid": "4f8da26b3095246c2123b06b6380dc73182f4547", "url": "https://github.com/wildfly/wildfly/commit/4f8da26b3095246c2123b06b6380dc73182f4547", "message": "Fix for WFLY-13050, metrics should be optional in observability layer", "committedDate": "2020-02-06T08:31:33Z", "type": "commit"}, {"oid": "4f8da26b3095246c2123b06b6380dc73182f4547", "url": "https://github.com/wildfly/wildfly/commit/4f8da26b3095246c2123b06b6380dc73182f4547", "message": "Fix for WFLY-13050, metrics should be optional in observability layer", "committedDate": "2020-02-06T08:31:33Z", "type": "forcePushed"}]}