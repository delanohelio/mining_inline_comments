{"pr_number": 13766, "pr_title": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.", "pr_createdAt": "2020-12-02T17:19:28Z", "pr_url": "https://github.com/wildfly/wildfly/pull/13766", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU3ODYwNg==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r534578606", "bodyText": "This should remain. The wildfly-preview feature pack includes all the MP specs.", "author": "bstansberry", "createdAt": "2020-12-03T00:37:45Z", "path": "ee-9/feature-pack/wildfly-feature-pack-build.xml", "diffHunk": "@@ -87,7 +87,6 @@\n                 <extension>org.wildfly.extension.microprofile.jwt-smallrye</extension>\n                 <extension>org.wildfly.extension.microprofile.metrics-smallrye</extension>\n                 <extension>org.wildfly.extension.microprofile.openapi-smallrye</extension>\n-                <extension>org.wildfly.extension.microprofile.opentracing-smallrye</extension>", "originalCommit": "9dd3373779e1da5853270bfacd85db8bd9d0c8ec", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU3ODYzOA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r534578638", "bodyText": "This should remain. The wildfly-preview feature pack includes all the MP specs.", "author": "bstansberry", "createdAt": "2020-12-03T00:37:50Z", "path": "ee-9/feature-pack/wildfly-feature-pack-build.xml", "diffHunk": "@@ -123,7 +122,6 @@\n                 <extension>org.wildfly.extension.microprofile.jwt-smallrye</extension>\n                 <extension>org.wildfly.extension.microprofile.metrics-smallrye</extension>\n                 <extension>org.wildfly.extension.microprofile.openapi-smallrye</extension>\n-                <extension>org.wildfly.extension.microprofile.opentracing-smallrye</extension>", "originalCommit": "9dd3373779e1da5853270bfacd85db8bd9d0c8ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQzOTYxOQ==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r535439619", "bodyText": "ok", "author": "ehsavoie", "createdAt": "2020-12-03T17:32:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU3ODYzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU4MDYyNg==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r534580626", "bodyText": "I forget -- why doesn't the layer define this this way?", "author": "bstansberry", "createdAt": "2020-12-03T00:43:18Z", "path": "galleon-pack/src/main/resources/configs/standalone/standalone-microprofile-ha.xml/config.xml", "diffHunk": "@@ -7,10 +7,19 @@\n         <include name=\"microprofile-fault-tolerance\"/>\n         <include name=\"microprofile-jwt\"/>\n         <include name=\"microprofile-openapi\"/>\n+        <include name=\"open-tracing\"/>\n         <include name=\"undertow-legacy-https\"/>\n         <exclude name=\"management-security-realm\"/>\n         <exclude name=\"jpa\"/>\n         <include name=\"jpa-distributed\"/>\n         <include name=\"web-clustering\"/>\n     </layers>\n+    <feature spec=\"subsystem.microprofile-opentracing-smallrye\">\n+        <param name=\"default-tracer\" value=\"jaeger\"/>\n+        <feature spec=\"subsystem.microprofile-opentracing-smallrye.jaeger-tracer\">\n+            <param name=\"jaeger-tracer\" value=\"jaeger\"/>\n+            <param name=\"sampler-param\" value=\"1\"/>\n+            <param name=\"sampler-type\" value=\"const\"/>\n+        </feature>\n+    </feature>", "originalCommit": "9dd3373779e1da5853270bfacd85db8bd9d0c8ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE4NjIyMQ==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r535186221", "bodyText": "for backward compatibility", "author": "ehsavoie", "createdAt": "2020-12-03T12:26:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU4MDYyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU4MDgwNw==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r534580807", "bodyText": "If this config chunk ends up being needed in more than one place, create a feature group for it.", "author": "bstansberry", "createdAt": "2020-12-03T00:43:48Z", "path": "galleon-pack/src/main/resources/configs/standalone/standalone-microprofile.xml/config.xml", "diffHunk": "@@ -7,12 +7,21 @@\n         <include name=\"microprofile-fault-tolerance\"/>\n         <include name=\"microprofile-jwt\"/>\n         <include name=\"microprofile-openapi\"/>\n+        <include name=\"open-tracing\"/>\n         <include name=\"undertow-legacy-https\"/>\n         <exclude name=\"management-security-realm\"/>\n     </layers>\n     <!-- TODO WFLY-13150 encapsulate these in a layer -->\n     <feature-group name=\"distributable-web\"/>\n     <feature-group name=\"infinispan-local-web\"/>\n+    <feature spec=\"subsystem.microprofile-opentracing-smallrye\">\n+        <param name=\"default-tracer\" value=\"jaeger\"/>\n+        <feature spec=\"subsystem.microprofile-opentracing-smallrye.jaeger-tracer\">\n+            <param name=\"jaeger-tracer\" value=\"jaeger\"/>\n+            <param name=\"sampler-param\" value=\"1\"/>\n+            <param name=\"sampler-type\" value=\"const\"/>\n+        </feature>\n+    </feature>", "originalCommit": "9dd3373779e1da5853270bfacd85db8bd9d0c8ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQzOTU0Nw==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r535439547", "bodyText": "ok fixed", "author": "ehsavoie", "createdAt": "2020-12-03T17:32:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU4MDgwNw=="}], "type": "inlineReview"}, {"oid": "f8f2122abeba5bd9c3c30e0f1d927bbafe887c47", "url": "https://github.com/wildfly/wildfly/commit/f8f2122abeba5bd9c3c30e0f1d927bbafe887c47", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-03T17:30:48Z", "type": "forcePushed"}, {"oid": "18873f169a20812d32029b3ae3cf421ddeb07423", "url": "https://github.com/wildfly/wildfly/commit/18873f169a20812d32029b3ae3cf421ddeb07423", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-03T17:52:12Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc2NTE4Mw==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r535765183", "bodyText": "The current standalone-microprofile-ha.xml uses the empty config.", "author": "bstansberry", "createdAt": "2020-12-04T01:19:24Z", "path": "galleon-pack/src/main/resources/configs/standalone/standalone-microprofile-ha.xml/config.xml", "diffHunk": "@@ -7,10 +7,12 @@\n         <include name=\"microprofile-fault-tolerance\"/>\n         <include name=\"microprofile-jwt\"/>\n         <include name=\"microprofile-openapi\"/>\n+        <include name=\"microprofile-opentracing\"/>\n         <include name=\"undertow-legacy-https\"/>\n         <exclude name=\"management-security-realm\"/>\n         <exclude name=\"jpa\"/>\n         <include name=\"jpa-distributed\"/>\n         <include name=\"web-clustering\"/>\n     </layers>\n+    <feature-group name=\"microprofile-opentracing-jaeger\"/>", "originalCommit": "18873f169a20812d32029b3ae3cf421ddeb07423", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE5NjkzMg==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r536196932", "bodyText": "ok, I've realigned the produced configurations with the ones in 21", "author": "ehsavoie", "createdAt": "2020-12-04T15:51:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc2NTE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc2NTI1NA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r535765254", "bodyText": "The current standalone-microprofile-ha.xml uses the empty config.", "author": "bstansberry", "createdAt": "2020-12-04T01:19:32Z", "path": "galleon-pack/src/main/resources/configs/standalone/standalone-microprofile.xml/config.xml", "diffHunk": "@@ -7,12 +7,14 @@\n         <include name=\"microprofile-fault-tolerance\"/>\n         <include name=\"microprofile-jwt\"/>\n         <include name=\"microprofile-openapi\"/>\n+        <include name=\"microprofile-opentracing\"/>\n         <include name=\"undertow-legacy-https\"/>\n         <exclude name=\"management-security-realm\"/>\n     </layers>\n     <!-- TODO WFLY-13150 encapsulate these in a layer -->\n     <feature-group name=\"distributable-web\"/>\n     <feature-group name=\"infinispan-local-web\"/>\n+    <feature-group name=\"microprofile-opentracing-jaeger\"/>", "originalCommit": "18873f169a20812d32029b3ae3cf421ddeb07423", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE5NjU1NA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r536196554", "bodyText": "ok, I'e realigned the produced configurations with the ones in 21", "author": "ehsavoie", "createdAt": "2020-12-04T15:51:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc2NTI1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc2ODkwMA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r535768900", "bodyText": "I think inverting this is more useful (i.e. microprofile-opentracing depends open-tracing, with open-tracing having the features). In any case where the user adds either, it works. If anyone uses one of our aggregate layers, like microprofile-platform or observability, if they exclude either one it works.\nThe microprofile-opentracing would have to optionally depend open-tracing though; otherwise you could not exclude open-tracing.\nIn WF 24 we could drop open-tracing.", "author": "bstansberry", "createdAt": "2020-12-04T01:29:38Z", "path": "microprofile/galleon-common/src/main/resources/layers/standalone/open-tracing/layer-spec.xml", "diffHunk": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" ?>\n+<layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"open-tracing\">", "originalCommit": "18873f169a20812d32029b3ae3cf421ddeb07423", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE5NjI0OQ==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r536196249", "bodyText": "ok", "author": "ehsavoie", "createdAt": "2020-12-04T15:50:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc2ODkwMA=="}], "type": "inlineReview"}, {"oid": "0ea70bdde0f5f49bb3ea8351edebe068a89fefbd", "url": "https://github.com/wildfly/wildfly/commit/0ea70bdde0f5f49bb3ea8351edebe068a89fefbd", "message": "[(nobranch,rebasingWFLY-14148)]:  [WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-04T12:45:56Z", "type": "forcePushed"}, {"oid": "c5375cfd65b880b80cbcaa002c6764d1deefda36", "url": "https://github.com/wildfly/wildfly/commit/c5375cfd65b880b80cbcaa002c6764d1deefda36", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-04T15:00:14Z", "type": "forcePushed"}, {"oid": "4f8d2d2fc0d1cfdbf621844a074c340ed4a84f7b", "url": "https://github.com/wildfly/wildfly/commit/4f8d2d2fc0d1cfdbf621844a074c340ed4a84f7b", "message": "[(nobranch,rebasingWFLY-14148)]:  [WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-08T07:34:19Z", "type": "forcePushed"}, {"oid": "54200de208fac25b194fc4dfc822a153a12763e6", "url": "https://github.com/wildfly/wildfly/commit/54200de208fac25b194fc4dfc822a153a12763e6", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-08T17:22:24Z", "type": "forcePushed"}, {"oid": "06fb4f00671de00565753b2a82e5cba2ee7ee936", "url": "https://github.com/wildfly/wildfly/commit/06fb4f00671de00565753b2a82e5cba2ee7ee936", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* removing OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-09T15:33:13Z", "type": "forcePushed"}, {"oid": "5090be2dfa71aae1268cf0c183d5b1eb95dff51d", "url": "https://github.com/wildfly/wildfly/commit/5090be2dfa71aae1268cf0c183d5b1eb95dff51d", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* removing OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-09T15:37:59Z", "type": "forcePushed"}, {"oid": "7f7fccf2a487713d0d9cf6a460785481c0602fb4", "url": "https://github.com/wildfly/wildfly/commit/7f7fccf2a487713d0d9cf6a460785481c0602fb4", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-09T17:14:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTcwODg0Nw==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r539708847", "bodyText": "This needs an import statement", "author": "bstansberry", "createdAt": "2020-12-09T22:53:34Z", "path": "testsuite/integration/microprofile/src/test/java/org/wildfly/test/integration/microprofile/opentracing/OnOffOpenTracingTestCase.java", "diffHunk": "@@ -61,6 +61,7 @@\n  */\n @RunWith(Arquillian.class)\n @RunAsClient\n+@Ignore(\"WFLY-14199\")", "originalCommit": "7f7fccf2a487713d0d9cf6a460785481c0602fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8056ac41999bc6deb65b51df399c97af6b3e53dc", "url": "https://github.com/wildfly/wildfly/commit/8056ac41999bc6deb65b51df399c97af6b3e53dc", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-10T07:46:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDM0OA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540134348", "bodyText": "@bstansberry is that intended?\nI thought that MP specs would be made available only in the standalone-microprofile configurations even for EE9", "author": "jmesnil", "createdAt": "2020-12-10T12:36:27Z", "path": "ee-9/feature-pack/src/main/resources/feature_groups/standalone-full.xml", "diffHunk": "@@ -3,6 +3,7 @@\n \n     <feature-group name=\"standalone-full-x-messaging\"/>\n     <feature-group name=\"messaging-remote-activemq\"/>\n+    <feature-group name=\"microprofile-opentracing-jaeger\"/>", "originalCommit": "8056ac41999bc6deb65b51df399c97af6b3e53dc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE4MzcxNA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540183714", "bodyText": "@jmesnil @ehsavoie Good question. Let's discuss when we talk in a few minutes and we can post back here.\nEmmanuel may have had this all along or may have added it in response to my request that he compare outputs and eliminate diffs.  But that was based on my unthinking idea that these specs are in the 'wildfly' and 'wildfly-preview' FPs so there's no reason the resulting configs should change. But they do, correctly I think, when it comes to health and metrics, so why not differ about this too?", "author": "bstansberry", "createdAt": "2020-12-10T13:50:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDM0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI2NjkwMw==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540266903", "bodyText": "@jmesnil @bstansberry yes the goal was to have a minimal diff with the preview release. Maybe removing this from preview should come in a 2nd step ?", "author": "ehsavoie", "createdAt": "2020-12-10T15:34:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDM0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM0MzY3MQ==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540343671", "bodyText": "ok, let's make the diff minimal and define the rules for inclusion before this preview distribution is finalized", "author": "jmesnil", "createdAt": "2020-12-10T17:07:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDM0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NjU0MA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540356540", "bodyText": "@jmesnil @ehsavoie +1 to make the diff minimal for this OT change.\nA summary, hopefully correct, of what we discussed.\n\n\nThe 'wildfly' and 'wildfly-preview' FPs were not meant to differ re: MP. Both contain the MP extensions and unlike, say, legacy security, we're not planning to drop the extensions. We could use wildfly-preview to preview some change in how we offer MP in our standard configs but that wasn't the original intent.\n\n\nIt's a valid question whether we want to continue offering the MP specs in our main distribution's standard configs other than standalone-microprofile[-ha].xml. That discussion would also encompass MP JWT, which we include in standalone[-xxx] and the various domain.xml profiles.\n\n\nBut changing those things seems beyond the scope of what this PR is about.", "author": "bstansberry", "createdAt": "2020-12-10T17:25:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDM0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDQ1OQ==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540134459", "bodyText": "idem", "author": "jmesnil", "createdAt": "2020-12-10T12:36:36Z", "path": "ee-9/feature-pack/src/main/resources/feature_groups/standalone-ha.xml", "diffHunk": "@@ -26,6 +26,7 @@\n \n     <feature-group name=\"servlet-unsecured-standalone-profile\"/>\n     <feature-group name=\"basic-ha-profile\"/>\n+    <feature-group name=\"microprofile-opentracing-jaeger\"/>", "originalCommit": "8056ac41999bc6deb65b51df399c97af6b3e53dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM0Mjg2Mg==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540342862", "bodyText": "that one might not be correct (see #13806 (comment))", "author": "jmesnil", "createdAt": "2020-12-10T17:06:33Z", "path": "ee-9/feature-pack/src/main/resources/feature_groups/domain-ha-profile.xml", "diffHunk": "@@ -11,5 +11,6 @@\n     </feature-group>\n \n     <feature-group name=\"basic-ha-profile\"/>\n+    <feature-group name=\"microprofile-opentracing-jaeger\"/>", "originalCommit": "8056ac41999bc6deb65b51df399c97af6b3e53dc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ4NDUzNw==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540484537", "bodyText": "I think this is correct and the problem is in the 'wildfly' feature pack. In current master both 'ee-9/dist' and 'dist' include MP OT in their standard configs, while with this PR 'dist' no longer does.  As discussed starting at #13766 (comment) we should decide separately about keeping MP subsystems in our standard configs other than standalone-microprofile[-ha].xml.", "author": "bstansberry", "createdAt": "2020-12-10T20:45:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM0Mjg2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM0Mjg4MA==", "url": "https://github.com/wildfly/wildfly/pull/13766#discussion_r540342880", "bodyText": "idem (#13806 (comment))", "author": "jmesnil", "createdAt": "2020-12-10T17:06:34Z", "path": "ee-9/feature-pack/src/main/resources/feature_groups/domain-profile.xml", "diffHunk": "@@ -5,5 +5,6 @@\n \n     <feature-group name=\"basic-profile\"/>\n     <feature-group name=\"infinispan-local\"/>\n+    <feature-group name=\"microprofile-opentracing-jaeger\"/>", "originalCommit": "8056ac41999bc6deb65b51df399c97af6b3e53dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4bef61510c23a6bf4f096722c5e6d2002b5f2ebc", "url": "https://github.com/wildfly/wildfly/commit/4bef61510c23a6bf4f096722c5e6d2002b5f2ebc", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-11T10:42:03Z", "type": "forcePushed"}, {"oid": "f73099986bd22c153b2cae0ff73b9f2e00c0fe3f", "url": "https://github.com/wildfly/wildfly/commit/f73099986bd22c153b2cae0ff73b9f2e00c0fe3f", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-11T15:57:31Z", "type": "forcePushed"}, {"oid": "54959d26864f06321c2e5b2aee03cd67573d24f8", "url": "https://github.com/wildfly/wildfly/commit/54959d26864f06321c2e5b2aee03cd67573d24f8", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-14T21:22:20Z", "type": "forcePushed"}, {"oid": "7d7282544c67d781a9e56239ee17a50207f775c7", "url": "https://github.com/wildfly/wildfly/commit/7d7282544c67d781a9e56239ee17a50207f775c7", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-15T09:29:24Z", "type": "commit"}, {"oid": "7d7282544c67d781a9e56239ee17a50207f775c7", "url": "https://github.com/wildfly/wildfly/commit/7d7282544c67d781a9e56239ee17a50207f775c7", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-15T09:29:24Z", "type": "forcePushed"}]}