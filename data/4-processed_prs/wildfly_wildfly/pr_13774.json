{"pr_number": 13774, "pr_title": " [WFLY-14156]: Remove MicroProfile REST Client from Wildfly ee.", "pr_createdAt": "2020-12-03T17:58:11Z", "pr_url": "https://github.com/wildfly/wildfly/pull/13774", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTc3MTI3Mg==", "url": "https://github.com/wildfly/wildfly/pull/13774#discussion_r535771272", "bodyText": "Is optional=\"true\" needed? If someone asks for this layer there's no reason to exclude the package.", "author": "bstansberry", "createdAt": "2020-12-04T01:36:18Z", "path": "microprofile/galleon-common/src/main/resources/layers/standalone/microprofile-rest-client/layer-spec.xml", "diffHunk": "@@ -0,0 +1,27 @@\n+<?xml version=\"1.0\" ?>\n+<!--\n+  ~ JBoss, Home of Professional Open Source.\n+  ~ Copyright 2020, Red Hat, Inc., and individual contributors\n+  ~ as indicated by the @author tags. See the copyright.txt file in the\n+  ~ distribution for a full listing of individual contributors.\n+  ~\n+  ~ This is free software; you can redistribute it and/or modify it\n+  ~ under the terms of the GNU Lesser General Public License as\n+  ~ published by the Free Software Foundation; either version 2.1 of\n+  ~ the License, or (at your option) any later version.\n+  ~\n+  ~ This software is distributed in the hope that it will be useful,\n+  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+  ~ Lesser General Public License for more details.\n+  ~\n+  ~ You should have received a copy of the GNU Lesser General Public\n+  ~ License along with this software; if not, write to the Free\n+  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n+  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n+  -->\n+<layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"microprofile-rest-client\">\n+    <packages>\n+        <package name=\"org.jboss.resteasy.resteasy-client-microprofile\" optional=\"true\"/>", "originalCommit": "c00eabbf205877b5cf7649fa83e4bba6ab601184", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "41aa6a2efb6fe4d096fcd39d8bd965b924e9890e", "url": "https://github.com/wildfly/wildfly/commit/41aa6a2efb6fe4d096fcd39d8bd965b924e9890e", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-04T17:07:47Z", "type": "forcePushed"}, {"oid": "56bb3132cf75e02c8546c6b37e492b30d1b8c19a", "url": "https://github.com/wildfly/wildfly/commit/56bb3132cf75e02c8546c6b37e492b30d1b8c19a", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-09T16:43:37Z", "type": "forcePushed"}, {"oid": "df965e99da9e05cbb8682eb223dfc6dace4cf0dc", "url": "https://github.com/wildfly/wildfly/commit/df965e99da9e05cbb8682eb223dfc6dace4cf0dc", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-09T17:15:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTczNjA4NA==", "url": "https://github.com/wildfly/wildfly/pull/13774#discussion_r539736084", "bodyText": "Is this needed? The next execution should copy over this fine with the one from the local src/main/resources.", "author": "bstansberry", "createdAt": "2020-12-09T23:51:25Z", "path": "ee-9/feature-pack/pom.xml", "diffHunk": "@@ -192,6 +192,9 @@\n                             <resources>\n                                 <resource>\n                                     <directory>${mp.galleon.common.resources.directory}</directory>\n+                                    <excludes>\n+                                        <exclude>layers/standalone/jaxrs</exclude>\n+                                    </excludes>", "originalCommit": "df965e99da9e05cbb8682eb223dfc6dace4cf0dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTczODk4NA==", "url": "https://github.com/wildfly/wildfly/pull/13774#discussion_r539738984", "bodyText": "@jfdenise My instinct is if we override a layer from a depended-upon FP, instead of letting Galleon combine the layer bits we are better off completely redeclaring the layer, as is done at df965e9#diff-2fa73c0a47166ab82aea627f723525fbb1b3d1a112e07cfa018fc33bc08ddb23R7\nThere's some places where completely overriding is needed because the layer-spec.xml from the 'lower' FP doesn't actually get used. And it seems better to consistently do it the same way.\nDoing that would also remove the need for df965e9#diff-2fa73c0a47166ab82aea627f723525fbb1b3d1a112e07cfa018fc33bc08ddb23\nIt's not a big deal though; should not block merging this.", "author": "bstansberry", "createdAt": "2020-12-09T23:58:30Z", "path": "microprofile/galleon-common/src/main/resources/layers/standalone/jaxrs/layer-spec.xml", "diffHunk": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" ?>\n+<layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"jaxrs\">\n+    <dependencies>\n+        <layer name=\"microprofile-rest-client\" optional=\"true\"/>\n+    </dependencies>\n+</layer-spec>", "originalCommit": "df965e99da9e05cbb8682eb223dfc6dace4cf0dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7330189c7a2d684ff4703f823d50d246ddd066c6", "url": "https://github.com/wildfly/wildfly/commit/7330189c7a2d684ff4703f823d50d246ddd066c6", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-10T07:47:40Z", "type": "forcePushed"}, {"oid": "696be0c12a39e9b9e289ca486f6632648d1e5db8", "url": "https://github.com/wildfly/wildfly/commit/696be0c12a39e9b9e289ca486f6632648d1e5db8", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-11T08:40:11Z", "type": "forcePushed"}, {"oid": "63004dd6d0c7bbcf407456511bc3052391d69a5f", "url": "https://github.com/wildfly/wildfly/commit/63004dd6d0c7bbcf407456511bc3052391d69a5f", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-11T10:42:32Z", "type": "forcePushed"}, {"oid": "941b6167c561a2192b45f2d3b51b454ae7b02923", "url": "https://github.com/wildfly/wildfly/commit/941b6167c561a2192b45f2d3b51b454ae7b02923", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-11T16:03:08Z", "type": "forcePushed"}, {"oid": "7d7282544c67d781a9e56239ee17a50207f775c7", "url": "https://github.com/wildfly/wildfly/commit/7d7282544c67d781a9e56239ee17a50207f775c7", "message": "[WFLY-14148]: Move microprofile opentracing from wildfly-ee to wildfly.\n\n* removing opentracing from the ee feature pack and moving it to the complete feature pack.\n* fixing the test suite to take into account both kind of configuration\n  (layers vs full).\n* removing the need for commons-lang3 in some tests.\n* ignoring OnOffOpenTracingTestCase as it should require a restart and not just a reload of the server.\n\nJira: https://issues.redhat.com/browse/WFLY-14148", "committedDate": "2020-12-15T09:29:24Z", "type": "commit"}, {"oid": "6efe2c28d149bfbed6ebe7a255151295f74c117e", "url": "https://github.com/wildfly/wildfly/commit/6efe2c28d149bfbed6ebe7a255151295f74c117e", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-15T09:49:16Z", "type": "commit"}, {"oid": "6efe2c28d149bfbed6ebe7a255151295f74c117e", "url": "https://github.com/wildfly/wildfly/commit/6efe2c28d149bfbed6ebe7a255151295f74c117e", "message": "[WFLY-14156]:  Remove MicroProfile REST Client from Wildfly ee.\n\n * Making rest-client api optionnal in resteasy-cdi and removing it from\n   the Jaxrs subsystem\n * Adding a new microprofile-rest-client in the microprofile galleon\n   pack\n\nJira: https://issues.redhat.com/browse/WFLY-14156", "committedDate": "2020-12-15T09:49:16Z", "type": "forcePushed"}]}