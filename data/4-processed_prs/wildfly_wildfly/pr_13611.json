{"pr_number": 13611, "pr_title": "WFLY-13744, Docs, introduce Installation, Bootable, Galleon Guides and Galleon layers table", "pr_createdAt": "2020-09-29T10:57:08Z", "pr_url": "https://github.com/wildfly/wildfly/pull/13611", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMyMzc5Ng==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r497323796", "bodyText": "s/re-comiled/re-compiled", "author": "yersan", "createdAt": "2020-09-30T08:13:51Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        ...\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+The link:#wildfly-jar-maven-plugin-galleon-configuration[next chapter] covers the plugin configuration items that are required to identify the WildFly server version and content.\n+\n+[[wildfly-jar-maven-plugin-galleon-configuration]]\n+== Galleon configuration\n+\n+The Bootable JAR Maven plugin depends on https://docs.wildfly.org/galleon/[Galleon] to construct the WildFly server contained in the JAR file. \n+\n+Galleon is configured thanks to the Maven plugin ```<configuration>``` element.\n+\n+The first required piece of information that Galleon needs is a reference to the WildFly Galleon feature-pack. \n+WildFly Galleon feature-pack is a maven artifact (a zipped file that contains the server content). \n+This feature-pack, as well as the feature-packs on which its depends,\n+are deployed in public maven repositories. \n+\n+When the bootable JAR Maven plugin builds a JAR, WildFly feature-packs are retrieved and \n+their content is assembled to create the server contained in the JAR.\n+\n+Once you have identified a WildFly Galleon feature-pack, you need to select a set of \n+link:#wildfly_defined_galleon_layers[WildFly Galleon layers] that are used to compose the server.\n+\n+The set of Galleon layers to include is driven by the application you are developing. \n+The list of link:#wildfly_defined_galleon_layers[WildFly Galleon layers] provides details on \n+the server features that each layer brings. Make sure that the API and server features you are using (eg: JAX-RS, Eclipse Micropfile Config, datasources) are brought by the \n+layers you are choosing.\n+\n+If you decide to not specify Galleon layers, a server containing all Eclipse Microprofile subsystems is \n+provisioned (the server configuration is identical to the ```standalone-microprofile.xml``` default one).\n+\n+Maven Plugin configuration extract example:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        <feature-pack-location>wildfly@maven(org.jboss.universe:community-universe)</feature-pack-location> (1)\n+        <layers>\n+          <layer>jaxrs-server</layer> (2)\n+        </layers>\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+(1) In this plugin configuration extract, we are retrieving the latest WildFly Galleon feature-pack installed in the\n+ ```org.jboss.universe:community-universe``` Galleon universe. In case you would like to provision a specific version of the server,\n+you would need to specify the server version, for example ```wildfly@maven(org.jboss.universe:community-universe)#21.0.0.Final```\n+\n+(2) The link:#gal.jaxrs-server[jaxrs-server layer] and all its dependencies are provisioned. \n+\n+include::_galleon/Galleon_layers.adoc[]\n+\n+[[wildfly-jar-maven-plugin-additional-configuration]]\n+== Additional configuration\n+\n+The plugin allows you to specify additional configuration items:\n+\n+* A set of WildFly CLI scripts to execute to fine tune the server configuration. \n+* Some extra content to be copied inside the bootable JAR (e.g.: server keystore).\n+\n+Check https://docs.wildfly.org/bootablejar[this documentation] for more details on how to configure execution of\n+CLI scripts and to package extra content.\n+\n+[[wildfly-jar-maven-plugin-build]]\n+== Packaging your application\n+\n+Call ``` mvn package```  to package both your application and the bootable JAR in the file ```<project build directory>/<project final name>-bootable.jar```\n+\n+In order to speed-up the development of your application (avoid rebuilding the JAR each time your application is re-comiled), ", "originalCommit": "4ae9744c72d9f8ff83ad6b151d25ae50aadfaa8d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ1NDYxMQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r497454611", "bodyText": "Thank-you @yersan , I will update it once I got all feedback. I think the Layers table helps reveal the features a layers bring-in by being able to navigate the dependencies.", "author": "jfdenise", "createdAt": "2020-09-30T12:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMyMzc5Ng=="}], "type": "inlineReview"}, {"oid": "86a5bb9c916e0c81d8aabcd28d6048d7cdc59e89", "url": "https://github.com/wildfly/wildfly/commit/86a5bb9c916e0c81d8aabcd28d6048d7cdc59e89", "message": "Fix for WFLY-13744, Improvements on Galleon layers community documentation.\nIntroduced Installation, Bootable, Galleon Guides and Galleon layers table.", "committedDate": "2020-10-01T12:17:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY1NDEwNQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r498654105", "bodyText": "Somehow I missed this one on the first round :( s/Micropfile/MicroProfile", "author": "yersan", "createdAt": "2020-10-02T07:22:33Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        ...\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+The link:#wildfly-jar-maven-plugin-galleon-configuration[next chapter] covers the plugin configuration items that are required to identify the WildFly server version and content.\n+\n+[[wildfly-jar-maven-plugin-galleon-configuration]]\n+== Galleon configuration\n+\n+The Bootable JAR Maven plugin depends on https://docs.wildfly.org/galleon/[Galleon] to construct the WildFly server contained in the JAR file. \n+\n+Galleon is configured thanks to the Maven plugin ```<configuration>``` element.\n+\n+The first required piece of information that Galleon needs is a reference to the WildFly Galleon feature-pack. \n+WildFly Galleon feature-pack is a maven artifact (a zipped file that contains the server content). \n+This feature-pack, as well as the feature-packs on which its depends,\n+are deployed in public maven repositories. \n+\n+When the bootable JAR Maven plugin builds a JAR, WildFly feature-packs are retrieved and \n+their content is assembled to create the server contained in the JAR.\n+\n+Once you have identified a WildFly Galleon feature-pack, you need to select a set of \n+link:#wildfly_defined_galleon_layers[WildFly Galleon layers] that are used to compose the server.\n+\n+The set of Galleon layers to include is driven by the application you are developing. \n+The list of link:#wildfly_defined_galleon_layers[WildFly Galleon layers] provides details on \n+the server features that each layer brings. Make sure that the API and server features you are using (eg: JAX-RS, Eclipse Micropfile Config, datasources) are brought by the ", "originalCommit": "86a5bb9c916e0c81d8aabcd28d6048d7cdc59e89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY3NjA3OQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r498676079", "bodyText": "Thank-you, yep I missed it too.", "author": "jfdenise", "createdAt": "2020-10-02T08:11:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY1NDEwNQ=="}], "type": "inlineReview"}, {"oid": "da0c2f1de9155e6c0a5b50650f21a05a46b781dc", "url": "https://github.com/wildfly/wildfly/commit/da0c2f1de9155e6c0a5b50650f21a05a46b781dc", "message": "Fix for WFLY-13744, Improvements on Galleon layers community documentation.\nIntroduced Installation, Bootable, Galleon Guides and Galleon layers table.", "committedDate": "2020-10-02T08:09:30Z", "type": "forcePushed"}, {"oid": "060c70a7b61837fbb26a9d5554670d4580b8cd3d", "url": "https://github.com/wildfly/wildfly/commit/060c70a7b61837fbb26a9d5554670d4580b8cd3d", "message": "Fix for WFLY-13744, Improvements on Galleon layers community documentation.\nIntroduced Installation, Bootable, Galleon Guides and Galleon layers table.", "committedDate": "2020-10-02T08:10:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA5MjU3OQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500092579", "bodyText": "In all other sections listed the link is almost at the start of the bullet point making it appear to the left, this is very deep into the sentence meaning it can appear far to the right.", "author": "darranl", "createdAt": "2020-10-06T08:22:16Z", "path": "docs/src/main/asciidoc/index.adoc", "diffHunk": "@@ -18,6 +21,25 @@ applications for the server\n * _Model Reference_ the WildFly Model Reference provides information about all subsystem\n configuration options generated directly from the management model.\n \n+* _Security Guide_ for those wanting to understand how to secure WildFly server and applications.\n+\n+* _Client Guide_ for those wanting to understand WildFly client.\n+\n+* _Quickstarts_ for those wanting to jump on code and start using WildFly.\n+\n+[[installation-guides]]\n+== Installation Guides\n+\n+* Zipped WildFly installation, WildFly server provisioned with Galleon or WildFly Bootable JAR, the \n+link:Installation_Guide{outfilesuffix}[Installation Guide] ", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NDAxMw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500194013", "bodyText": "Thanks, I aligned with others.", "author": "jfdenise", "createdAt": "2020-10-06T11:15:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA5MjU3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMyMjIwMw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500322203", "bodyText": "@jfclere I suggest this becomes:\nThe Installation Guide help you identify the kind of WildFly installation that best fits your applications deployments needs: a WildFly zip installation, a WildFly server provisioned with Galleon or a WildFly Bootable JAR.\nThe other 2 bullets should start with \"The \" before the link, so this structure means the 3 look consistent.\nI say \"a WildFly zip installation\" because 'installation' can mean the result of installing or the process of installing. \"Zipped WildFly installation\" is not correct for the result of installing, as the result isn't zipped. (But bootable jar is!)", "author": "bstansberry", "createdAt": "2020-10-06T14:17:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA5MjU3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM2ODg0OQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500368849", "bodyText": "Ok, followed your suggestion.", "author": "jfdenise", "createdAt": "2020-10-06T15:05:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA5MjU3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA5NTEyOQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500095129", "bodyText": "s/help/helps or maybe \"will help\"", "author": "darranl", "createdAt": "2020-10-06T08:26:11Z", "path": "docs/src/main/asciidoc/index.adoc", "diffHunk": "@@ -18,6 +21,25 @@ applications for the server\n * _Model Reference_ the WildFly Model Reference provides information about all subsystem\n configuration options generated directly from the management model.\n \n+* _Security Guide_ for those wanting to understand how to secure WildFly server and applications.\n+\n+* _Client Guide_ for those wanting to understand WildFly client.\n+\n+* _Quickstarts_ for those wanting to jump on code and start using WildFly.\n+\n+[[installation-guides]]\n+== Installation Guides\n+\n+* Zipped WildFly installation, WildFly server provisioned with Galleon or WildFly Bootable JAR, the \n+link:Installation_Guide{outfilesuffix}[Installation Guide] \n+help you identify the kind of WildFly installation that best fits your applications deployments needs.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NDEwNA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500194104", "bodyText": "Thanks.", "author": "jfdenise", "createdAt": "2020-10-06T11:15:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA5NTEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEwMzM2MQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500103361", "bodyText": "I know these changes haven't affected the getting started guide so commenting here.\nA common problem users have is \"which download to I want?\"\nIt feels a little deep in the docs but I think that is something for later, however the page contains a link to the downloads (that is good) but the listed distributions don't match how they are presented on the download page.\nAdditionally should the link to the downloads open in a new tab?  If you are reading documentation and click a link to download something the user has likely not finished using the documenation.", "author": "darranl", "createdAt": "2020-10-06T08:39:16Z", "path": "docs/src/main/asciidoc/Installation_Guide.adoc", "diffHunk": "@@ -0,0 +1,85 @@\n+[[Installation_Guide]]\n+= Installation Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Installation Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+:wildflyVersion: 14\n+\n+:leveloffset: +1\n+\n+ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[Zipped_Installation]]\n+= Installing WildFly from a zipped distribution\n+\n+That is the historical way to install a complete WildFly server with support for standalone and domain modes. A WildFly distribution\n+contains a large number of default configurations allowing you to select the server features and operating modes.\n+\n+WildFly distribution based installation is well suited when:\n+\n+* You want to rely on a traditional Jakarta EE application deployment.\n+* You want a Jakarta EE compliant server that offers all Jakarta EE features.\n+* You are not (yet) concerned by server installation size and memory footprint.\n+* You are not yet sure of the kind of operating mode and application you are targeting.\n+* Your server instances will contain one or more application deployments.\n+\n+If that is the kind of installation you are aiming at, the guides that you should read next are:\n+\n+* link:Getting_Started_Guide{outfilesuffix}[Getting Started Guide] shows you", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEwNjk2OQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500106969", "bodyText": "This point likely needs a Jira for later.  On the getting started page we have a requirements section listing Java 8 or later - we probably need to constrain this a bit better as we are reaching the limits of \"later\".\nWe may want a more common section, or more targeted sections.  At some point however I think we will have distributions we say have a finite end point and for true \"or later\" versions of Java either they must a specific distribution or provision a specific layer set.  i.e. legacy security must be excluded one way or another for true \"or later\".", "author": "darranl", "createdAt": "2020-10-06T08:44:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEwMzM2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExMTYzMw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500111633", "bodyText": "Another benefit of Galleon is the ability to update an installation to the latest version, a common problem we are seeing is users asking for help using a version of WildFly 5 or more major releases back!\nTBH for those that choose to use WildFly it really is advisable to routinely keep up to date with the latest to have the latest fixes - often we see end users who get advised to update and because they have left it so long it now becomes a big job for them.", "author": "darranl", "createdAt": "2020-10-06T08:51:23Z", "path": "docs/src/main/asciidoc/Installation_Guide.adoc", "diffHunk": "@@ -0,0 +1,85 @@\n+[[Installation_Guide]]\n+= Installation Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Installation Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+:wildflyVersion: 14\n+\n+:leveloffset: +1\n+\n+ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[Zipped_Installation]]\n+= Installing WildFly from a zipped distribution\n+\n+That is the historical way to install a complete WildFly server with support for standalone and domain modes. A WildFly distribution\n+contains a large number of default configurations allowing you to select the server features and operating modes.\n+\n+WildFly distribution based installation is well suited when:\n+\n+* You want to rely on a traditional Jakarta EE application deployment.\n+* You want a Jakarta EE compliant server that offers all Jakarta EE features.\n+* You are not (yet) concerned by server installation size and memory footprint.\n+* You are not yet sure of the kind of operating mode and application you are targeting.\n+* Your server instances will contain one or more application deployments.\n+\n+If that is the kind of installation you are aiming at, the guides that you should read next are:\n+\n+* link:Getting_Started_Guide{outfilesuffix}[Getting Started Guide] shows you\n+how to install, start and configure the server.\n+* link:Getting_Started_Developing_Applications_Guide{outfilesuffix}[Getting\n+Started Developing Applications Guide] shows you how to build Jakarta EE\n+applications and deploy them to WildFly.\n+\n+[[Galleon_Provisioning]]\n+= Installing WildFly with Galleon\n+\n+Galleon provisioning tooling allows you to construct a customized WildFly installation according to your application needs. \n+Some applications don't need a fully featured server supporting all operating modes and containing all Jakarta EE capabilities. \n+Galleon tooling allows you to select the server capabilities you want to see installed. \n+\n+A WildFly server provisioned with Galleon is well suited when:", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NDMyNA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500194324", "bodyText": "Thank-you, yes good point. I added it.", "author": "jfdenise", "createdAt": "2020-10-06T11:16:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExMTYzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExNDY4Mw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500114683", "bodyText": "I think we should have something in this first paragraph to confirm we provide this as a maven plug-in to be executed as part of their project build.\nMaybe in the \"suited\" list as well mention that they are building their deployment using maven.", "author": "darranl", "createdAt": "2020-10-06T08:55:56Z", "path": "docs/src/main/asciidoc/Installation_Guide.adoc", "diffHunk": "@@ -0,0 +1,85 @@\n+[[Installation_Guide]]\n+= Installation Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Installation Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+:wildflyVersion: 14\n+\n+:leveloffset: +1\n+\n+ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[Zipped_Installation]]\n+= Installing WildFly from a zipped distribution\n+\n+That is the historical way to install a complete WildFly server with support for standalone and domain modes. A WildFly distribution\n+contains a large number of default configurations allowing you to select the server features and operating modes.\n+\n+WildFly distribution based installation is well suited when:\n+\n+* You want to rely on a traditional Jakarta EE application deployment.\n+* You want a Jakarta EE compliant server that offers all Jakarta EE features.\n+* You are not (yet) concerned by server installation size and memory footprint.\n+* You are not yet sure of the kind of operating mode and application you are targeting.\n+* Your server instances will contain one or more application deployments.\n+\n+If that is the kind of installation you are aiming at, the guides that you should read next are:\n+\n+* link:Getting_Started_Guide{outfilesuffix}[Getting Started Guide] shows you\n+how to install, start and configure the server.\n+* link:Getting_Started_Developing_Applications_Guide{outfilesuffix}[Getting\n+Started Developing Applications Guide] shows you how to build Jakarta EE\n+applications and deploy them to WildFly.\n+\n+[[Galleon_Provisioning]]\n+= Installing WildFly with Galleon\n+\n+Galleon provisioning tooling allows you to construct a customized WildFly installation according to your application needs. \n+Some applications don't need a fully featured server supporting all operating modes and containing all Jakarta EE capabilities. \n+Galleon tooling allows you to select the server capabilities you want to see installed. \n+\n+A WildFly server provisioned with Galleon is well suited when:\n+\n+* You want to rely on a traditional Jakarta EE application deployment.\n+* Your application requires only a subset of the Jakarta EE APIs (although note that Galleon \n+can provision a server that supports the full set of Jakarta EE APIs).\n+* You are concerned by server installation size and memory footprint.\n+* You are only using standalone operating mode (with support for High Availability or not).\n+* Your server instances will contain one or more application deployments.\n+\n+If that is the kind of installation you are aiming at, the guides that you should read next are:\n+\n+* link:Galleon_Guide{outfilesuffix}[Galleon Provisioning Guide] shows you how to \n+provision customized WildFly server using Galleon.\n+* link:Getting_Started_Developing_Applications_Guide{outfilesuffix}[Getting\n+Started Developing Applications Guide] shows you how to build Jakarta EE\n+applications and deploy them to WildFly.\n+\n+[[Bootable_JAR]]\n+= WildFly Bootable JAR\n+\n+A bootable JAR contains both a customized WildFly server and your deployment. Such a JAR can", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NDYxNw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500194617", "bodyText": "+1, I added more Maven content there.", "author": "jfdenise", "createdAt": "2020-10-06T11:16:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExNDY4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExNzYyOA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500117628", "bodyText": "It feels odd having a link to what is the next line in the document.", "author": "darranl", "createdAt": "2020-10-06T09:00:35Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        ...\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+The link:#wildfly-jar-maven-plugin-galleon-configuration[next chapter] covers the plugin configuration items that are required to identify the WildFly server version and content.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NDczNA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500194734", "bodyText": "True, I removed the linlk.", "author": "jfdenise", "createdAt": "2020-10-06T11:16:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExNzYyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExODczNg==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500118736", "bodyText": "The words \"Maven plugin\" do make it in this section by the end, not sure if maven plugin should also be mentioned at the start as it seems to be an assumption the applications are being developed using maven.", "author": "darranl", "createdAt": "2020-10-06T09:02:27Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NDkzNA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500194934", "bodyText": "I reworked to have maven to occur early.", "author": "jfdenise", "createdAt": "2020-10-06T11:17:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDExODczNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMTE2Mg==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500121162", "bodyText": "It is starting to feel a bit odd that we have a discrepancy between how we name the plugin and how we name the plugin.\ni.e. we have chosen to give the plugin the artifact ID \"wildfly-jar-maven-plugin\" but we keep referring to it as \"bootable jar plugin\"", "author": "darranl", "createdAt": "2020-10-06T09:06:24Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5OTk1Mw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500199953", "bodyText": "The artifact has a shorter name, jar implies bootable. I think we should use bootable for some time.", "author": "jfdenise", "createdAt": "2020-10-06T11:27:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMTE2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMjY0Ng==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500122646", "bodyText": "What is the starting point for this section?\nSome similar questions did some up during testing, I think it is worth point out that the starting point is a pom which already produces a valid deployment.", "author": "darranl", "createdAt": "2020-10-06T09:08:53Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        ...\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+The link:#wildfly-jar-maven-plugin-galleon-configuration[next chapter] covers the plugin configuration items that are required to identify the WildFly server version and content.\n+\n+[[wildfly-jar-maven-plugin-galleon-configuration]]\n+== Galleon configuration\n+\n+The Bootable JAR Maven plugin depends on https://docs.wildfly.org/galleon/[Galleon] to construct the WildFly server contained in the JAR file. ", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NTM2OA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500195368", "bodyText": "I adjusted the previous chapter to say tha twe start from the application maven project.", "author": "jfdenise", "createdAt": "2020-10-06T11:18:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMjY0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMzUyMg==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500123522", "bodyText": "I think should start with \"The \"", "author": "darranl", "createdAt": "2020-10-06T09:10:18Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        ...\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+The link:#wildfly-jar-maven-plugin-galleon-configuration[next chapter] covers the plugin configuration items that are required to identify the WildFly server version and content.\n+\n+[[wildfly-jar-maven-plugin-galleon-configuration]]\n+== Galleon configuration\n+\n+The Bootable JAR Maven plugin depends on https://docs.wildfly.org/galleon/[Galleon] to construct the WildFly server contained in the JAR file. \n+\n+Galleon is configured thanks to the Maven plugin ```<configuration>``` element.\n+\n+The first required piece of information that Galleon needs is a reference to the WildFly Galleon feature-pack. \n+WildFly Galleon feature-pack is a maven artifact (a zipped file that contains the server content). ", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNDgwMA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500124800", "bodyText": "Minor point but \"(a zipped file that contains the server content)\" is probably more information than is needed.\nMaybe \"The WildFly Galleon feature-pack is a maven artifact that contains everything needed to dynamically provision a server\".", "author": "darranl", "createdAt": "2020-10-06T09:12:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMzUyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NTQ5NA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500195494", "bodyText": "Thanks, yes, did it.", "author": "jfdenise", "createdAt": "2020-10-06T11:18:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyMzUyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNjYwMw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500126603", "bodyText": "Are these \"WildFly Galleon Layers\" or \"WildFly Layers\"?  The target heading drops \"Galleon\" from the title.", "author": "darranl", "createdAt": "2020-10-06T09:15:19Z", "path": "docs/src/main/asciidoc/Bootable_Guide.adoc", "diffHunk": "@@ -0,0 +1,197 @@\n+[[Bootable_Guide]]\n+= Bootable JAR Guide\n+WildFly team;\n+:revnumber: {version}\n+:revdate: {localdate}\n+:toc: macro\n+:toclevels: 3\n+:toc-title: Bootable JAR Guide\n+:doctype: book\n+:icons: font\n+:source-highlighter: coderay\n+ifdef::env-github[:imagesdir: images/]\n+\n+// ifndef::ebook-format[:leveloffset: 1]\n+\n+(C) 2020 The original authors.\n+\n+ifdef::basebackend-html[toc::[]]\n+:numbered:\n+\n+[[wildfly_bootable_JAR_development]]\n+= WildFly bootable JAR application development\n+\n+This document details the steps to follow in order to develop a WildFly application\n+packaged as a bootable JAR. A bootable JAR can be run both on bare-metal and cloud platforms.\n+\n+This document contains the minimal information set required to build and run a WildFly bootable JAR. \n+Complete information on the Maven plugin usage can be found in the bootable JAR https://docs.wildfly.org/bootablejar/[documentation].\n+\n+Developing an application packaged as a bootable JAR is not different from developing an application for WildFly server.\n+The extra steps required to package your application inside a bootable JAR are handled by the \n+https://github.com/wildfly-extras/wildfly-jar-maven-plugin[_org.wildfly.plugins:wildfly-jar-maven-plugin_] Maven plugin.\n+\n+\n+[[wildfly-jar-maven-plugin-pom-configuration]]\n+== Adding the bootable JAR Maven plugin to your pom file\n+\n+Add the plugin to your Maven build:\n+\n+[source,xml]\n+----\n+<build>\n+  <plugins>\n+    <plugin>\n+      <groupId>org.wildfly.plugins</groupId>\n+      <artifactId>wildfly-jar-maven-plugin</artifactId>\n+      <configuration>\n+        ...\n+      </configuration>\n+      <executions>\n+        <execution>\n+          <goals>\n+            <goal>package</goal>\n+          </goals>\n+        </execution>\n+      </executions>\n+    </plugin>\n+  </plugins>\n+</build>\n+----\n+\n+The link:#wildfly-jar-maven-plugin-galleon-configuration[next chapter] covers the plugin configuration items that are required to identify the WildFly server version and content.\n+\n+[[wildfly-jar-maven-plugin-galleon-configuration]]\n+== Galleon configuration\n+\n+The Bootable JAR Maven plugin depends on https://docs.wildfly.org/galleon/[Galleon] to construct the WildFly server contained in the JAR file. \n+\n+Galleon is configured thanks to the Maven plugin ```<configuration>``` element.\n+\n+The first required piece of information that Galleon needs is a reference to the WildFly Galleon feature-pack. \n+WildFly Galleon feature-pack is a maven artifact (a zipped file that contains the server content). \n+This feature-pack, as well as the feature-packs on which its depends,\n+are deployed in public maven repositories. \n+\n+When the bootable JAR Maven plugin builds a JAR, WildFly feature-packs are retrieved and \n+their content is assembled to create the server contained in the JAR.\n+\n+Once you have identified a WildFly Galleon feature-pack, you need to select a set of \n+link:#wildfly_defined_galleon_layers[WildFly Galleon layers] that are used to compose the server.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NTY2Nw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500195667", "bodyText": "That is WildFly Layers, I fixed those.", "author": "jfdenise", "createdAt": "2020-10-06T11:18:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNjYwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNzEzOQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500127139", "bodyText": "I mention elsewhere but should these be \"WildFly Galleon Layers\"?", "author": "darranl", "createdAt": "2020-10-06T09:16:14Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_layers.adoc", "diffHunk": "@@ -0,0 +1,863 @@\n+[[wildfly_defined_galleon_layers]]\n+=== WildFly Layers", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NTc2NQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500195765", "bodyText": "WildFly Layers", "author": "jfdenise", "createdAt": "2020-10-06T11:18:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNzEzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNzk3OA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500127978", "bodyText": "I can't remember do we do the same in the EJB3 subsystem?", "author": "darranl", "createdAt": "2020-10-06T09:17:36Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_layers.adoc", "diffHunk": "@@ -0,0 +1,863 @@\n+[[wildfly_defined_galleon_layers]]\n+=== WildFly Layers\n+\n+In the tables below we provide basic information about all of the layers WildFly provides.\n+\n+If the capabilities provided by a layer A require capabilities provided by another layer B, then layer A will _depend on_ layer B.\n+If you ask for layer A, then Galleon will automatically provide B as well. In some cases A's dependency on B can be _optional_; that\n+is A typically comes with B, but can function without it. In this case if you ask for A by default Galleon will provide B as well,\n+but you can tell Galleon to _exclude_ B. The tables below detail the various dependency relationships.\n+\n+Some layers are logical _alternatives_ to other layers. If two layers are alternatives to each other they both provide the same general\n+capabilities, but with different implementation characteristics. For example a number of layers provide the capability to cache different\n+types of objects. These layers typically come in pairs of alternatives, where one alternative provides local caching, while the other provides\n+distributed caching.  If a layer you want has an optional dependency on a layer that has an alternative, you can exclude that dependency\n+and instead specify the alternative. If a layer has an alternative the Description column in the tables below will identify it.\n+\n+[NOTE]\n+====\n+If the elytron layer is present, security will be handled by the elytron subsystem.\n+The undertow subsystem is configured with an _other_ _application-security-domain_ that references the Elytron _ApplicationDomain_ security domain.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NTk5MQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500195991", "bodyText": "Yes, we do, I checked the layer and added ejb along undertow.", "author": "jfdenise", "createdAt": "2020-10-06T11:19:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEyNzk3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMTQ5Mg==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500131492", "bodyText": "May be a bug report for eslewhere but seeing the layers in the table I am not sure if clous-server is usable, it brings in ee-security but no security related layer to actually use it - I suspect it optionally needs elytron adding.", "author": "darranl", "createdAt": "2020-10-06T09:23:17Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_layers.adoc", "diffHunk": "@@ -0,0 +1,863 @@\n+[[wildfly_defined_galleon_layers]]\n+=== WildFly Layers\n+\n+In the tables below we provide basic information about all of the layers WildFly provides.\n+\n+If the capabilities provided by a layer A require capabilities provided by another layer B, then layer A will _depend on_ layer B.\n+If you ask for layer A, then Galleon will automatically provide B as well. In some cases A's dependency on B can be _optional_; that\n+is A typically comes with B, but can function without it. In this case if you ask for A by default Galleon will provide B as well,\n+but you can tell Galleon to _exclude_ B. The tables below detail the various dependency relationships.\n+\n+Some layers are logical _alternatives_ to other layers. If two layers are alternatives to each other they both provide the same general\n+capabilities, but with different implementation characteristics. For example a number of layers provide the capability to cache different\n+types of objects. These layers typically come in pairs of alternatives, where one alternative provides local caching, while the other provides\n+distributed caching.  If a layer you want has an optional dependency on a layer that has an alternative, you can exclude that dependency\n+and instead specify the alternative. If a layer has an alternative the Description column in the tables below will identify it.\n+\n+[NOTE]\n+====\n+If the elytron layer is present, security will be handled by the elytron subsystem.\n+The undertow subsystem is configured with an _other_ _application-security-domain_ that references the Elytron _ApplicationDomain_ security domain.\n+====\n+\n+[[wildfly-galleon-layers-servers]]\n+==== Server Galleon layers\n+\n+A single Galleon layer can provide a relatively small set of capabilities, but most users will want to start with a broader set\n+of capabilities without having to spell out all the details. To help with this WildFly provides a few foundational layers\n+all of which provide typical core WildFly capabilities like the logging subsystem and a secure remote management interface.\n+\n+You don't have to base your WildFly installation on one of these basic server layers, but doing so may be more convenient.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMzE1Mw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500133153", "bodyText": "Actually ignore that one, looks like a path to management which in turn will pull in elytron.\nAt some point I want to slim the default elytron handling as it pulls in way too much for management but for now looks like the required dependency is there.", "author": "darranl", "createdAt": "2020-10-06T09:25:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMTQ5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMjMwNQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500132305", "bodyText": "For someone coming to WildFly relatively new, does core-server really provide them anything useful?", "author": "darranl", "createdAt": "2020-10-06T09:24:33Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_layers.adoc", "diffHunk": "@@ -0,0 +1,863 @@\n+[[wildfly_defined_galleon_layers]]\n+=== WildFly Layers\n+\n+In the tables below we provide basic information about all of the layers WildFly provides.\n+\n+If the capabilities provided by a layer A require capabilities provided by another layer B, then layer A will _depend on_ layer B.\n+If you ask for layer A, then Galleon will automatically provide B as well. In some cases A's dependency on B can be _optional_; that\n+is A typically comes with B, but can function without it. In this case if you ask for A by default Galleon will provide B as well,\n+but you can tell Galleon to _exclude_ B. The tables below detail the various dependency relationships.\n+\n+Some layers are logical _alternatives_ to other layers. If two layers are alternatives to each other they both provide the same general\n+capabilities, but with different implementation characteristics. For example a number of layers provide the capability to cache different\n+types of objects. These layers typically come in pairs of alternatives, where one alternative provides local caching, while the other provides\n+distributed caching.  If a layer you want has an optional dependency on a layer that has an alternative, you can exclude that dependency\n+and instead specify the alternative. If a layer has an alternative the Description column in the tables below will identify it.\n+\n+[NOTE]\n+====\n+If the elytron layer is present, security will be handled by the elytron subsystem.\n+The undertow subsystem is configured with an _other_ _application-security-domain_ that references the Elytron _ApplicationDomain_ security domain.\n+====\n+\n+[[wildfly-galleon-layers-servers]]\n+==== Server Galleon layers\n+\n+A single Galleon layer can provide a relatively small set of capabilities, but most users will want to start with a broader set\n+of capabilities without having to spell out all the details. To help with this WildFly provides a few foundational layers\n+all of which provide typical core WildFly capabilities like the logging subsystem and a secure remote management interface.\n+\n+You don't have to base your WildFly installation on one of these basic server layers, but doing so may be more convenient.\n+\n+[cols=\"1,2,1a\"]\n+|===\n+|Name |Description |Dependencies\n+\n+|[[gal.core-server]]core-server\n+|A typical manageable server core.", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5OTI0Mg==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500199242", "bodyText": "I will let @bstansberry answer there.", "author": "jfdenise", "createdAt": "2020-10-06T11:25:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMjMwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI2MzM5MA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500263390", "bodyText": "No, but this is general documentation, and it fits in the category this table addresses.\nThis could use a sentence saying more what it might be used for.  \"This could serve as a base for a more specialized WildFly that doesn't need the capabilities provided by the other server layers.\"\nThen it could be moved to last in the table (which is where Jean-Francois originally had it.). I moved it up because that's a logical flow; the servers in the table expand on each others' feature set. But I think it's fine to not care about that and de-emphasize this on.", "author": "bstansberry", "createdAt": "2020-10-06T13:11:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMjMwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM2ODUwNA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500368504", "bodyText": "Implemented wha tyou suggested, moved it back to the end + sentence.", "author": "jfdenise", "createdAt": "2020-10-06T15:05:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMjMwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMzY0OQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500133649", "bodyText": "Do we have a strategy to keep this table up to date?", "author": "darranl", "createdAt": "2020-10-06T09:26:42Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_layers.adoc", "diffHunk": "@@ -0,0 +1,863 @@\n+[[wildfly_defined_galleon_layers]]\n+=== WildFly Layers\n+\n+In the tables below we provide basic information about all of the layers WildFly provides.\n+\n+If the capabilities provided by a layer A require capabilities provided by another layer B, then layer A will _depend on_ layer B.\n+If you ask for layer A, then Galleon will automatically provide B as well. In some cases A's dependency on B can be _optional_; that\n+is A typically comes with B, but can function without it. In this case if you ask for A by default Galleon will provide B as well,\n+but you can tell Galleon to _exclude_ B. The tables below detail the various dependency relationships.\n+\n+Some layers are logical _alternatives_ to other layers. If two layers are alternatives to each other they both provide the same general\n+capabilities, but with different implementation characteristics. For example a number of layers provide the capability to cache different\n+types of objects. These layers typically come in pairs of alternatives, where one alternative provides local caching, while the other provides\n+distributed caching.  If a layer you want has an optional dependency on a layer that has an alternative, you can exclude that dependency\n+and instead specify the alternative. If a layer has an alternative the Description column in the tables below will identify it.\n+\n+[NOTE]\n+====\n+If the elytron layer is present, security will be handled by the elytron subsystem.\n+The undertow subsystem is configured with an _other_ _application-security-domain_ that references the Elytron _ApplicationDomain_ security domain.\n+====\n+\n+[[wildfly-galleon-layers-servers]]\n+==== Server Galleon layers\n+\n+A single Galleon layer can provide a relatively small set of capabilities, but most users will want to start with a broader set\n+of capabilities without having to spell out all the details. To help with this WildFly provides a few foundational layers\n+all of which provide typical core WildFly capabilities like the logging subsystem and a secure remote management interface.\n+\n+You don't have to base your WildFly installation on one of these basic server layers, but doing so may be more convenient.\n+\n+[cols=\"1,2,1a\"]", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NjUwMQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500196501", "bodyText": "Not yet, I will need to re-work my first table generator to help there.", "author": "jfdenise", "createdAt": "2020-10-06T11:20:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMzY0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNTk4MQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500135981", "bodyText": "I don't know if we should jump more into the benefits of using Galleon for provisioning rather than our internal use?  Maybe jump straight into something declaring it's benefit over a zip installation?", "author": "darranl", "createdAt": "2020-10-06T09:30:29Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_provisioning.adoc", "diffHunk": "@@ -0,0 +1,158 @@\n+[[Galleon_Provisioning]]\n+= Provisioning WildFly with Galleon\n+\n+With the WildFly server being internally built using the https://github.com/wildfly/galleon[Galleon project], WildFly benefits +", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5Njg4MA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500196880", "bodyText": "I kept the sentence as it is. It says that because we have refactored WildFly to use galleon, we can benefit from it.", "author": "jfdenise", "createdAt": "2020-10-06T11:21:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNTk4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI2NDgzNw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500264837", "bodyText": "+1 @darranl", "author": "bstansberry", "createdAt": "2020-10-06T13:13:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNTk4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM2NzkzMw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500367933", "bodyText": "Ok, I have simplified to state the advantages.", "author": "jfdenise", "createdAt": "2020-10-06T15:04:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzNTk4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0MTE2Ng==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500141166", "bodyText": "I think the set of CLI recipes should at some point be revisted.\nAt the moment it feels more like test permutations, we don't recommend the direct use of the undertow as web-server is preferred yet it is listed in the recipes.\nAs we have recommended top level layers in the layers list maybe the recipes should focus on some slimming examples / swapping in alternatives.", "author": "darranl", "createdAt": "2020-10-06T09:39:05Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_provisioning.adoc", "diffHunk": "@@ -0,0 +1,158 @@\n+[[Galleon_Provisioning]]\n+= Provisioning WildFly with Galleon\n+\n+With the WildFly server being internally built using the https://github.com/wildfly/galleon[Galleon project], WildFly benefits +\n+from Galleon's provisioning capabilities. One of the main features that Galleon brings to WildFly is the ability\n+to install a complete or customized WildFly server using Galleon tooling.\n+\n+More information on Galleon features and tooling can be found in the Galleon https://docs.wildfly.org/galleon/[docs].\n+\n+== WildFly Galleon feature-packs\n+\n+WildFly provides a Galleon feature-pack maven artifact (a zipped file that contains installation content). \n+This feature-pack, as well as the feature-packs on which its depends,\n+are deployed in public maven repositories. \n+\n+When Galleon is used to install WildFly, WildFly feature-packs are retrieved and \n+their content is assembled to create an installation.\n+\n+== Installing WildFly using Galleon\n+\n+The Galleon maven plugin or Galleon CLI are used to install WildFly. The latest CLI and documentation can be downloaded \n+from the Galleon releases https://github.com/wildfly/galleon/releases[page].\n+\n+To install the latest final version of WildFly into the directory _my-wildfly-server_ call:\n+\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server\n+----\n+\n+Once installed, the directory _my-wildfly-server_ contains all that is expected to run a complete WildFly server. \n+By default, all standalone and domain configurations are installed.\n+\n+[NOTE]\n+====\n+\n+Append the release version to install an identified release, for example:\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current#21.0.0.Final --dir=my-wildfly-server\n+----\n+====\n+\n+== Selecting the configurations to install\n+\n+Galleon allows you to specify only a subset of the default configurations to be installed.\n+\n+To only install the standalone.xml configuration call:\n+\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server --default-configs=standalone/standalone.xml\n+----\n+\n+To install multiple configurations, a comma separated list of default configurations can be provided, \n+for example:\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server --default-configs=standalone/standalone.xml,domain/domain.xml\n+----\n+\n+[NOTE]\n+====\n+\n+A default configuration is identified by _<configuration model>_/_<configuration name>_. WildFly defines _standalone_ and _domain_ models. \n+The _configuration name_ is the XML configuration file name (e.g.: _standalone.xml_, _domain.xml_, _standalone-ha.xml_).\n+====\n+\n+[[wildfly_galleon_layers]]\n+== WildFly Galleon layers\n+\n+WildFly Galleon feature-packs expose some link:++https://docs.wildfly.org/galleon/#_layers++[Galleon layers]. \n+A layer identifies one or more server capabilities that can be installed on its own or\n+in combination with other layers. For example, if your application (e.g.: microservice) \n+is only making use of _JAX-RS_, Eclipse MicroProfile Config and _CDI_ server capabilities, you can choose to only install\n+the _jaxrs_, _microprofile-config_ and _cdi_ layers. The _standalone.xml_ configuration would then only contain the \n+required subsystems and their dependencies.\n+\n+The benefit to installing WildFly using Galleon layers, in addition to configuration \n+trim down, is that Galleon only installs the needed content (JBoss Modules modules, scripts, etc.).\n+\n+To install a server only configured with _JAX-RS_ and _CDI_ capabilities call:\n+\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server --layers=cdi,jaxrs\n+----\n+\n+Once installed, the directory _my-wildfly-server_ contains all that is expected to deploy an application\n+that depends on _JAX-RS_ and _CDI_. \n+\n+[NOTE]\n+====\n+\n+* Tools (jboss-cli, add-user, ...) are not always installed when installing WildFly using layers.\n+Only server launcher scripts are installed into the _bin_ directory. To include these tools include the _core-tools_ layer.\n+====\n+\n+include::Galleon_layers.adoc[]\n+\n+[[galleon-cli-recipes]]\n+=== Galleon CLI recipes", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5NzcyNQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500197725", "bodyText": "Good points. I revised them:\n\nIntroduce the ability to exclude layers and covered the 2 alternatives cases jpa/ejb caches using \"server layers\".\nI removed undertow related CLI recipes.\nUsing basic layer is good too I think to not limit to \"server layers\".", "author": "jfdenise", "createdAt": "2020-10-06T11:22:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0MTE2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0MzI3Nw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500143277", "bodyText": "Also examples such as this I think should primarily be based on the layers in the \"Server Galleon layers\" section - we recommend that is where to start but then show examples using the basic layers.", "author": "darranl", "createdAt": "2020-10-06T09:42:38Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_provisioning.adoc", "diffHunk": "@@ -0,0 +1,158 @@\n+[[Galleon_Provisioning]]\n+= Provisioning WildFly with Galleon\n+\n+With the WildFly server being internally built using the https://github.com/wildfly/galleon[Galleon project], WildFly benefits +\n+from Galleon's provisioning capabilities. One of the main features that Galleon brings to WildFly is the ability\n+to install a complete or customized WildFly server using Galleon tooling.\n+\n+More information on Galleon features and tooling can be found in the Galleon https://docs.wildfly.org/galleon/[docs].\n+\n+== WildFly Galleon feature-packs\n+\n+WildFly provides a Galleon feature-pack maven artifact (a zipped file that contains installation content). \n+This feature-pack, as well as the feature-packs on which its depends,\n+are deployed in public maven repositories. \n+\n+When Galleon is used to install WildFly, WildFly feature-packs are retrieved and \n+their content is assembled to create an installation.\n+\n+== Installing WildFly using Galleon\n+\n+The Galleon maven plugin or Galleon CLI are used to install WildFly. The latest CLI and documentation can be downloaded \n+from the Galleon releases https://github.com/wildfly/galleon/releases[page].\n+\n+To install the latest final version of WildFly into the directory _my-wildfly-server_ call:\n+\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server\n+----\n+\n+Once installed, the directory _my-wildfly-server_ contains all that is expected to run a complete WildFly server. \n+By default, all standalone and domain configurations are installed.\n+\n+[NOTE]\n+====\n+\n+Append the release version to install an identified release, for example:\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current#21.0.0.Final --dir=my-wildfly-server\n+----\n+====\n+\n+== Selecting the configurations to install\n+\n+Galleon allows you to specify only a subset of the default configurations to be installed.\n+\n+To only install the standalone.xml configuration call:\n+\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server --default-configs=standalone/standalone.xml\n+----\n+\n+To install multiple configurations, a comma separated list of default configurations can be provided, \n+for example:\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server --default-configs=standalone/standalone.xml,domain/domain.xml\n+----\n+\n+[NOTE]\n+====\n+\n+A default configuration is identified by _<configuration model>_/_<configuration name>_. WildFly defines _standalone_ and _domain_ models. \n+The _configuration name_ is the XML configuration file name (e.g.: _standalone.xml_, _domain.xml_, _standalone-ha.xml_).\n+====\n+\n+[[wildfly_galleon_layers]]\n+== WildFly Galleon layers\n+\n+WildFly Galleon feature-packs expose some link:++https://docs.wildfly.org/galleon/#_layers++[Galleon layers]. \n+A layer identifies one or more server capabilities that can be installed on its own or\n+in combination with other layers. For example, if your application (e.g.: microservice) \n+is only making use of _JAX-RS_, Eclipse MicroProfile Config and _CDI_ server capabilities, you can choose to only install\n+the _jaxrs_, _microprofile-config_ and _cdi_ layers. The _standalone.xml_ configuration would then only contain the \n+required subsystems and their dependencies.\n+\n+The benefit to installing WildFly using Galleon layers, in addition to configuration \n+trim down, is that Galleon only installs the needed content (JBoss Modules modules, scripts, etc.).\n+\n+To install a server only configured with _JAX-RS_ and _CDI_ capabilities call:\n+\n+[source,options=\"nowrap\"]\n+----\n+galleon.sh install wildfly:current --dir=my-wildfly-server --layers=cdi,jaxrs", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5Nzk5OA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500197998", "bodyText": "We have both, I think it is fine to use basic layers, they offer more trimming.", "author": "jfdenise", "createdAt": "2020-10-06T11:23:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0MzI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0NTMxMw==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500145313", "bodyText": "The title \"Server Galleon layers\" doesn't feel to me to give the emphasis that this is the starting point.\nMaybe something more like \"Primary Galleon Layers\", \"Component Layers\" - something to add to the emphasis there is a preferred starting point.", "author": "darranl", "createdAt": "2020-10-06T09:45:59Z", "path": "docs/src/main/asciidoc/_galleon/Galleon_layers.adoc", "diffHunk": "@@ -0,0 +1,863 @@\n+[[wildfly_defined_galleon_layers]]\n+=== WildFly Layers\n+\n+In the tables below we provide basic information about all of the layers WildFly provides.\n+\n+If the capabilities provided by a layer A require capabilities provided by another layer B, then layer A will _depend on_ layer B.\n+If you ask for layer A, then Galleon will automatically provide B as well. In some cases A's dependency on B can be _optional_; that\n+is A typically comes with B, but can function without it. In this case if you ask for A by default Galleon will provide B as well,\n+but you can tell Galleon to _exclude_ B. The tables below detail the various dependency relationships.\n+\n+Some layers are logical _alternatives_ to other layers. If two layers are alternatives to each other they both provide the same general\n+capabilities, but with different implementation characteristics. For example a number of layers provide the capability to cache different\n+types of objects. These layers typically come in pairs of alternatives, where one alternative provides local caching, while the other provides\n+distributed caching.  If a layer you want has an optional dependency on a layer that has an alternative, you can exclude that dependency\n+and instead specify the alternative. If a layer has an alternative the Description column in the tables below will identify it.\n+\n+[NOTE]\n+====\n+If the elytron layer is present, security will be handled by the elytron subsystem.\n+The undertow subsystem is configured with an _other_ _application-security-domain_ that references the Elytron _ApplicationDomain_ security domain.\n+====\n+\n+[[wildfly-galleon-layers-servers]]\n+==== Server Galleon layers", "originalCommit": "fafa51d8bb5cb80f190ba7bf18b23671c2bc0cfd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE5ODE1OA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500198158", "bodyText": "I will let @bstansberry answer this one.", "author": "jfdenise", "createdAt": "2020-10-06T11:23:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0NTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI2NjcxOQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500266719", "bodyText": "I struggled with this as well.\nMaybe \"Foundation\" or \"Foundational\"?\nOr \"Base Server\". And then we need to change the title of the next table from \"Basic\" to something else.", "author": "bstansberry", "createdAt": "2020-10-06T13:16:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0NTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMxNTcxOA==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500315718", "bodyText": "@bstansberry  + 1 on \"Foundational Layers\".", "author": "jfdenise", "createdAt": "2020-10-06T14:10:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0NTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM2OTM4NQ==", "url": "https://github.com/wildfly/wildfly/pull/13611#discussion_r500369385", "bodyText": "I used Foundational for the first table.", "author": "jfdenise", "createdAt": "2020-10-06T15:06:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE0NTMxMw=="}], "type": "inlineReview"}, {"oid": "80db6fb1c5892a0dbf7a8ae1e06c0adbe0217257", "url": "https://github.com/wildfly/wildfly/commit/80db6fb1c5892a0dbf7a8ae1e06c0adbe0217257", "message": "Fix for WFLY-13744, Improvements on Galleon layers community documentation.\nIntroduced Installation, Bootable, Galleon Guides and Galleon layers table.", "committedDate": "2020-10-07T14:07:50Z", "type": "commit"}, {"oid": "80db6fb1c5892a0dbf7a8ae1e06c0adbe0217257", "url": "https://github.com/wildfly/wildfly/commit/80db6fb1c5892a0dbf7a8ae1e06c0adbe0217257", "message": "Fix for WFLY-13744, Improvements on Galleon layers community documentation.\nIntroduced Installation, Bootable, Galleon Guides and Galleon layers table.", "committedDate": "2020-10-07T14:07:50Z", "type": "forcePushed"}]}