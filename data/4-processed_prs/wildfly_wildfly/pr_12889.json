{"pr_number": 12889, "pr_title": "[WFLY-12945] Refactoring undertow subsystem to use new MSC value API", "pr_createdAt": "2020-01-08T16:37:12Z", "pr_url": "https://github.com/wildfly/wildfly/pull/12889", "timeline": [{"oid": "8cddb75aa8dc1250673fd2a036905829f54a09fc", "url": "https://github.com/wildfly/wildfly/commit/8cddb75aa8dc1250673fd2a036905829f54a09fc", "message": "[WFLY-12945] Refactoring WarJACCService to use new MSC value API", "committedDate": "2020-02-03T11:24:38Z", "type": "forcePushed"}, {"oid": "b82c8fb6913a07a659466ae352184e7c705399d4", "url": "https://github.com/wildfly/wildfly/commit/b82c8fb6913a07a659466ae352184e7c705399d4", "message": "[WFLY-12945] Refactoring undertow tests accordingly", "committedDate": "2020-08-21T13:06:07Z", "type": "forcePushed"}, {"oid": "c78a20e5c897cfcea4b78619017b87c6bfdfdb86", "url": "https://github.com/wildfly/wildfly/commit/c78a20e5c897cfcea4b78619017b87c6bfdfdb86", "message": "[WFLY-12945] Refactoring undertow tests accordingly", "committedDate": "2020-08-21T14:15:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjM2NTAxMw==", "url": "https://github.com/wildfly/wildfly/pull/12889#discussion_r562365013", "bodyText": "This comment and annotation should not have been removed.", "author": "bstansberry", "createdAt": "2021-01-22T03:27:36Z", "path": "undertow/src/main/java/org/wildfly/extension/undertow/HttpListenerService.java", "diffHunk": "@@ -54,24 +55,21 @@\n /**\n  * @author Stuart Douglas\n  * @author Tomaz Cerar\n+ * @author <a href=\"mailto:ropalka@redhat.com\">Richard Opalka</a>\n  */\n public class HttpListenerService extends ListenerService {\n     private volatile AcceptingChannel<StreamConnection> server;\n \n     private final ChannelUpgradeHandler httpUpgradeHandler = new ChannelUpgradeHandler();\n-    protected final InjectedValue<ListenerRegistry> httpListenerRegistry = new InjectedValue<>();\n-    /**\n-     * @deprecated Replaced by HTTP_UPGRADE_REGISTRY.getCapabilityServiceName()\n-     */\n-    @Deprecated", "originalCommit": "c78a20e5c897cfcea4b78619017b87c6bfdfdb86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjM2NzA0OQ==", "url": "https://github.com/wildfly/wildfly/pull/12889#discussion_r562367049", "bodyText": "@jasondlee fyi ^^^ is going to result in conflicts", "author": "bstansberry", "createdAt": "2021-01-22T03:35:15Z", "path": "undertow/src/main/java/org/wildfly/extension/undertow/Host.java", "diffHunk": "@@ -132,13 +139,13 @@ private String getDeployedContextPath(DeploymentInfo deploymentInfo) {\n \n     @Override\n     public void start(StartContext context) throws StartException {\n-        suspendControllerInjectedValue.getValue().registerActivity(suspendListener);\n-        if(suspendControllerInjectedValue.getValue().getState() == SuspendController.State.RUNNING) {\n+        suspendController.get().registerActivity(suspendListener);\n+        if(suspendController.get().getState() == SuspendController.State.RUNNING) {", "originalCommit": "c78a20e5c897cfcea4b78619017b87c6bfdfdb86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjM2OTA0MA==", "url": "https://github.com/wildfly/wildfly/pull/12889#discussion_r562369040", "bodyText": "Noted. I'll keep an eye out so I can merge and resolve as soon as I can.", "author": "jasondlee", "createdAt": "2021-01-22T03:42:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjM2NzA0OQ=="}], "type": "inlineReview"}, {"oid": "22315900ac98b7099300fe40d9c4906675ffaab0", "url": "https://github.com/wildfly/wildfly/commit/22315900ac98b7099300fe40d9c4906675ffaab0", "message": "[WFLY-12945] Refactoring undertow tests accordingly", "committedDate": "2021-01-22T09:04:44Z", "type": "forcePushed"}, {"oid": "ea73b9dc994dea54c052b9ceefec1eac5edd35cc", "url": "https://github.com/wildfly/wildfly/commit/ea73b9dc994dea54c052b9ceefec1eac5edd35cc", "message": "[WFLY-12945] Refactoring FilterAdd, FilterService & ModCluster service to new MSC value API", "committedDate": "2021-03-18T10:29:40Z", "type": "commit"}, {"oid": "a3f8ba3322ef582955d0f996058baa950aa23e77", "url": "https://github.com/wildfly/wildfly/commit/a3f8ba3322ef582955d0f996058baa950aa23e77", "message": "[WFLY-12945] Refactoring ReverseProxyHandlerHost to new MSC value API", "committedDate": "2021-03-18T10:30:36Z", "type": "commit"}, {"oid": "7ae25f4ed820a5a724f4f5590513bad6bf834c3d", "url": "https://github.com/wildfly/wildfly/commit/7ae25f4ed820a5a724f4f5590513bad6bf834c3d", "message": "[WFLY-12945] Refactoring ListenerService, Http(s)ListenerService & AjpListenerService to new MSC value API", "committedDate": "2021-03-18T10:38:14Z", "type": "commit"}, {"oid": "68107a162c7d868b0c17f68419a8c74ad4d73c04", "url": "https://github.com/wildfly/wildfly/commit/68107a162c7d868b0c17f68419a8c74ad4d73c04", "message": "[WFLY-12945] Refactoring AccessLogService to new MSC value API", "committedDate": "2021-03-18T10:38:24Z", "type": "commit"}, {"oid": "65b589810a3e6ce1480ab12e372609b984f478cf", "url": "https://github.com/wildfly/wildfly/commit/65b589810a3e6ce1480ab12e372609b984f478cf", "message": "[WFLY-12945] Refactoring WebServerService & UndertowDeploymentInfoService to new MSC value API", "committedDate": "2021-03-18T10:40:23Z", "type": "commit"}, {"oid": "ebe0df475c239ad4033e885afa50aedc884e7180", "url": "https://github.com/wildfly/wildfly/commit/ebe0df475c239ad4033e885afa50aedc884e7180", "message": "[WFLY-12945] Refactoring UndertwoDeploymentInfoService & ServletContainerService to new MSC value API", "committedDate": "2021-03-18T10:41:34Z", "type": "commit"}, {"oid": "a33a76f92872336603f0ebc10b00220a55502e88", "url": "https://github.com/wildfly/wildfly/commit/a33a76f92872336603f0ebc10b00220a55502e88", "message": "[WFLY-12945] Refactoring LocationService to new MSC value API", "committedDate": "2021-03-18T10:42:26Z", "type": "commit"}, {"oid": "91647b1200a4ff4423a4edcc2ecb8df7acf0d84b", "url": "https://github.com/wildfly/wildfly/commit/91647b1200a4ff4423a4edcc2ecb8df7acf0d84b", "message": "[WFLY-12945] Refactoring HandlerService to new MSC value API", "committedDate": "2021-03-18T10:43:13Z", "type": "commit"}, {"oid": "66963ecdb732d4dd9553233489183115c85d7b73", "url": "https://github.com/wildfly/wildfly/commit/66963ecdb732d4dd9553233489183115c85d7b73", "message": "[WFLY-12945] Refactoring IhttpInvokerHostService & HttpInvokerDefinition to new MSC value API", "committedDate": "2021-03-18T10:43:59Z", "type": "commit"}, {"oid": "a7d1961f3de23539372f38159de7a78fa25213ed", "url": "https://github.com/wildfly/wildfly/commit/a7d1961f3de23539372f38159de7a78fa25213ed", "message": "[WFLY-12945] Refactoring Host to new MSC value API", "committedDate": "2021-03-18T10:50:39Z", "type": "commit"}, {"oid": "c00717c18d741aead93274def466f5d5f682ab03", "url": "https://github.com/wildfly/wildfly/commit/c00717c18d741aead93274def466f5d5f682ab03", "message": "[WFLY-12945] Refactoring WebHostService to new MSC value API", "committedDate": "2021-03-18T12:02:08Z", "type": "commit"}, {"oid": "8feebbd084714b71ba8d3cc5dc05cdb232932bc6", "url": "https://github.com/wildfly/wildfly/commit/8feebbd084714b71ba8d3cc5dc05cdb232932bc6", "message": "[WFLY-12945] Refactoring ConsoleRedirectService to new MSC value API", "committedDate": "2021-03-18T12:02:56Z", "type": "commit"}, {"oid": "fb8c242dbb0bc06df9eb28e440282e778d198257", "url": "https://github.com/wildfly/wildfly/commit/fb8c242dbb0bc06df9eb28e440282e778d198257", "message": "[WFLY-12945] Refactoring UndertowDeploymentService to new MSC value API", "committedDate": "2021-03-18T12:03:53Z", "type": "commit"}, {"oid": "a3e504331c4985aa09112b324eb947947bb61cf6", "url": "https://github.com/wildfly/wildfly/commit/a3e504331c4985aa09112b324eb947947bb61cf6", "message": "[WFLY-12945] Refactoring UndertowDeploymentInfoService to new MSC value API", "committedDate": "2021-03-18T12:04:39Z", "type": "commit"}, {"oid": "d7296ae4cd69483e93d9c00ca719cccd93468170", "url": "https://github.com/wildfly/wildfly/commit/d7296ae4cd69483e93d9c00ca719cccd93468170", "message": "[WFLY-12945] Refactoring FilterRef to new MSC value API", "committedDate": "2021-03-18T12:05:35Z", "type": "commit"}, {"oid": "d4258eb195e204605d07cb9bbb85e818e0989d0d", "url": "https://github.com/wildfly/wildfly/commit/d4258eb195e204605d07cb9bbb85e818e0989d0d", "message": "[WFLY-12945] Refactoring SingleSignOnService to new MSC value API", "committedDate": "2021-03-18T12:06:21Z", "type": "commit"}, {"oid": "9a6a7e22466d5ea540f96fd23867bea9c0f37ca8", "url": "https://github.com/wildfly/wildfly/commit/9a6a7e22466d5ea540f96fd23867bea9c0f37ca8", "message": "[WFLY-12945] Refactoring SessionManagers to new MSC value API", "committedDate": "2021-03-18T12:07:07Z", "type": "commit"}, {"oid": "653b4784c12afd29fbc3918062bbb03c69e7ff06", "url": "https://github.com/wildfly/wildfly/commit/653b4784c12afd29fbc3918062bbb03c69e7ff06", "message": "[WFLY-12945] Refactoring BufferCacheAdd to use undeprecated service builder API", "committedDate": "2021-03-18T12:07:54Z", "type": "commit"}, {"oid": "593f68f2fe30a2196c33439514d7debf348f8ca0", "url": "https://github.com/wildfly/wildfly/commit/593f68f2fe30a2196c33439514d7debf348f8ca0", "message": "[WFLY-12945] Refactoring UndertowService to new MSC value API", "committedDate": "2021-03-18T12:15:04Z", "type": "commit"}, {"oid": "d3359343f8e8057b4a70fd4b4e385e4b4bcadbd7", "url": "https://github.com/wildfly/wildfly/commit/d3359343f8e8057b4a70fd4b4e385e4b4bcadbd7", "message": "[WFLY-12945] Refactoring undertow tests accordingly", "committedDate": "2021-03-18T12:15:20Z", "type": "commit"}, {"oid": "d3359343f8e8057b4a70fd4b4e385e4b4bcadbd7", "url": "https://github.com/wildfly/wildfly/commit/d3359343f8e8057b4a70fd4b4e385e4b4bcadbd7", "message": "[WFLY-12945] Refactoring undertow tests accordingly", "committedDate": "2021-03-18T12:15:20Z", "type": "forcePushed"}]}