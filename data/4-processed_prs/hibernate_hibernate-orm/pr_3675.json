{"pr_number": 3675, "pr_title": "IdClass, EmbeddedId and other fixes", "pr_createdAt": "2020-12-10T16:16:42Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3675", "timeline": [{"oid": "f54105cc51fd8237f61bee595af169b8265613c7", "url": "https://github.com/hibernate/hibernate-orm/commit/f54105cc51fd8237f61bee595af169b8265613c7", "message": "Fix issue with fetch for hql query", "committedDate": "2020-12-08T10:36:04Z", "type": "commit"}, {"oid": "9a6465a72f795160ae860176c352b6c9c1530fee", "url": "https://github.com/hibernate/hibernate-orm/commit/9a6465a72f795160ae860176c352b6c9c1530fee", "message": "Check if auto flush is required for hql queries", "committedDate": "2020-12-08T16:01:27Z", "type": "commit"}, {"oid": "d32fb746d629fff4876960990ebe5519a2634f8e", "url": "https://github.com/hibernate/hibernate-orm/commit/d32fb746d629fff4876960990ebe5519a2634f8e", "message": "Fix SqlAstTranslator affected tablenames includes synch tables", "committedDate": "2020-12-08T16:01:27Z", "type": "commit"}, {"oid": "7d74f1c7279b4485924bbf24fb7be6bc46084b61", "url": "https://github.com/hibernate/hibernate-orm/commit/7d74f1c7279b4485924bbf24fb7be6bc46084b61", "message": "Fix issue with emneddable id initialization", "committedDate": "2020-12-10T16:02:49Z", "type": "commit"}, {"oid": "c10b4e0f2f2f16d81e3e509775049a17773cf53a", "url": "https://github.com/hibernate/hibernate-orm/commit/c10b4e0f2f2f16d81e3e509775049a17773cf53a", "message": "Fix issue with fetch deep and hql join fetch recognition", "committedDate": "2020-12-10T16:02:49Z", "type": "commit"}, {"oid": "6d2e80d43aad0a7534ebc1755c0af4750e3375b9", "url": "https://github.com/hibernate/hibernate-orm/commit/6d2e80d43aad0a7534ebc1755c0af4750e3375b9", "message": "Fix EmbeddedId lazy collection initializer", "committedDate": "2020-12-10T16:02:49Z", "type": "commit"}, {"oid": "820b815b35d73e2c699d5b87cc92e2a4cc835588", "url": "https://github.com/hibernate/hibernate-orm/commit/820b815b35d73e2c699d5b87cc92e2a4cc835588", "message": "BaseSqmToSqlAstConverter#consumeAttributeJoin() code clean up", "committedDate": "2020-12-10T16:02:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMyMzk4OQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3675#discussion_r540323989", "bodyText": "I already did that two lines below. One of the two must go :)", "author": "beikov", "createdAt": "2020-12-10T16:42:14Z", "path": "hibernate-core/src/main/java/org/hibernate/query/sqm/internal/ConcreteSqmSelectQueryPlan.java", "diffHunk": "@@ -159,12 +159,16 @@ private RowTransformer makeRowTransformerTupleTransformerAdapter(\n \t\t\t\tsqmInterpretation.getTableGroupAccess()::findTableGroup,\n \t\t\t\tsession\n \t\t);\n-\t\tsqmInterpretation.getJdbcSelect().bindFilterJdbcParameters( jdbcParameterBindings );\n+\n+\t\tfinal JdbcSelect jdbcSelect = sqmInterpretation.getJdbcSelect();\n+\t\tjdbcSelect.bindFilterJdbcParameters( jdbcParameterBindings );\n+\n+\t\tsession.autoFlushIfRequired( jdbcSelect.getAffectedTableNames() );", "originalCommit": "820b815b35d73e2c699d5b87cc92e2a4cc835588", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDc4NjYwMQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3675#discussion_r540786601", "bodyText": "Thanks @beikov \ud83d\udc4d,\nadded it before merging your branch and haven't noticed you did the same.\nFixing it and then I'll merge it!", "author": "dreab8", "createdAt": "2020-12-11T08:53:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMyMzk4OQ=="}], "type": "inlineReview"}]}