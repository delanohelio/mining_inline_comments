{"pr_number": 3586, "pr_title": "HHH-14249 MultiLineImport fails when script contains blank spaces or tabs at the end of the last sql statement", "pr_createdAt": "2020-10-06T16:20:18Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3586", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQzMzE2Mg==", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500433162", "bodyText": "would the above rule work for (TAB) * (SPACE)*, btw?", "author": "NathanQingyangXu", "createdAt": "2020-10-06T16:25:23Z", "path": "hibernate-core/src/main/antlr/sql-script.g", "diffHunk": "@@ -57,16 +57,23 @@ options {\n // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n script\n-\t: (newLineToSkip)* (statement)* EOF\n+\t: (newLineToSkip)* (SPACE)* (TAB)* (statement)* EOF", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ1MDMxOA==", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500450318", "bodyText": "Good catch, I'm going to fix it.\nThanks @NathanQingyangXu", "author": "dreab8", "createdAt": "2020-10-06T16:52:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQzMzE2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ3ODIzOA==", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500478238", "bodyText": "It should be fixed now, Thanks @NathanQingyangXu", "author": "dreab8", "createdAt": "2020-10-06T17:37:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQzMzE2Mg=="}], "type": "inlineReview"}, {"oid": "24aa5e6a3a0965b3000309700278173ecdd8385c", "url": "https://github.com/hibernate/hibernate-orm/commit/24aa5e6a3a0965b3000309700278173ecdd8385c", "message": "HHH-14249 Add test for issue", "committedDate": "2020-10-06T17:33:40Z", "type": "commit"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUwMTk5OA==", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500501998", "bodyText": "maybe you could reorganize the \"whitespace\" into its own group to make things simpler?\nscript\n\t: ignoredWhitespace (statement ignoredWhitespace)* EOF\n        ;\n\nstatement\n\t: { statementStarted(); } statementFirstPart (statementPart (afterStatementPartNewline)*)* DELIMITER { statementEnded(); }\n\t;\n\nignoredWhitespace\n\t: (newLineToSkip | SPACE | TAB )*\n\t;", "author": "Sanne", "createdAt": "2020-10-06T18:16:15Z", "path": "hibernate-core/src/main/antlr/sql-script.g", "diffHunk": "@@ -57,16 +57,23 @@ options {\n // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n script\n-\t: (newLineToSkip)* (statement)* EOF\n+\t: (newLineToSkip | SPACE | TAB )* (statement)* EOF\n     ;\n \n statement\n-\t: { statementStarted(); } (statementPart (afterStatementPartNewline)*)* DELIMITER (newLineToSkip)* { statementEnded(); }\n+\t: { statementStarted(); } statementFirstPart (statementPart (afterStatementPartNewline)*)* DELIMITER (SPACE | TAB | newLineToSkip)* { statementEnded(); }\n+\t;", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDc4NDc4Ng==", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500784786", "bodyText": "Thanks @Sanne I made the suggested change.", "author": "dreab8", "createdAt": "2020-10-07T07:10:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUwMTk5OA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "url": "https://github.com/hibernate/hibernate-orm/commit/e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "message": "HHH-14249 MultiLineImport fails when script contains blank spaces or tabs at the end of the last sql statement", "committedDate": "2020-10-07T07:08:53Z", "type": "commit"}, {"oid": "e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "url": "https://github.com/hibernate/hibernate-orm/commit/e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "message": "HHH-14249 MultiLineImport fails when script contains blank spaces or tabs at the end of the last sql statement", "committedDate": "2020-10-07T07:08:53Z", "type": "forcePushed"}]}