{"pr_number": 3250, "pr_title": "Wip/6.0 Port 'refresh' cascade testing case", "pr_createdAt": "2020-02-19T22:32:46Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3250", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NTYxOQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3250#discussion_r381585619", "bodyText": "Fix a potential NPE issue above", "author": "NathanQingyangXu", "createdAt": "2020-02-19T22:33:26Z", "path": "hibernate-core/src/main/java/org/hibernate/loader/ast/internal/SingleIdEntityLoaderDynamicBatch.java", "diffHunk": "@@ -187,6 +182,14 @@ public T load(\n \t\t\tObject entityInstance,\n \t\t\tLockOptions lockOptions,\n \t\t\tSharedSessionContractImplementor session) {\n+\t\tinitializeSingleIdLoaderIfNeeded( session );\n \t\treturn singleIdLoader.load( pkValue, entityInstance, lockOptions, session );", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NjM1Mg==", "url": "https://github.com/hibernate/hibernate-orm/pull/3250#discussion_r381586352", "bodyText": "We seems to need the non-null id value here so the only usage of 'getEffectiveOptionalInstance()' in AbstractEntityInitilizer (see below) could work because of the id comparison precondition", "author": "NathanQingyangXu", "createdAt": "2020-02-19T22:35:11Z", "path": "hibernate-core/src/main/java/org/hibernate/sql/exec/internal/JdbcSelectExecutorStandardImpl.java", "diffHunk": "@@ -158,7 +158,7 @@ public String getEffectiveOptionalEntityName() {\n \n \t\t\t@Override\n \t\t\tpublic Object getEffectiveOptionalId() {\n-\t\t\t\treturn null;\n+\t\t\t\treturn executionContext.getEntityId();", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "157d3c64e925b5afa4de77031fa57224b7819b32", "url": "https://github.com/hibernate/hibernate-orm/commit/157d3c64e925b5afa4de77031fa57224b7819b32", "message": "revert back changes in 'org.hibernate.test.cascade'", "committedDate": "2020-03-16T14:15:32Z", "type": "commit"}, {"oid": "157d3c64e925b5afa4de77031fa57224b7819b32", "url": "https://github.com/hibernate/hibernate-orm/commit/157d3c64e925b5afa4de77031fa57224b7819b32", "message": "revert back changes in 'org.hibernate.test.cascade'", "committedDate": "2020-03-16T14:15:32Z", "type": "forcePushed"}]}