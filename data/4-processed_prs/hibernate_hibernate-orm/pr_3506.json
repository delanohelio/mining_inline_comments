{"pr_number": 3506, "pr_title": "HHH-14160 Use a runtime used class for testing Bean Validation presence", "pr_createdAt": "2020-08-20T13:30:45Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3506", "timeline": [{"oid": "8b993adefbee422c0cf5a273305a69128efb4628", "url": "https://github.com/hibernate/hibernate-orm/commit/8b993adefbee422c0cf5a273305a69128efb4628", "message": "HHH-14160 Use a runtime used class for testing Bean Validation presence", "committedDate": "2020-08-20T13:18:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4ODYzNg==", "url": "https://github.com/hibernate/hibernate-orm/pull/3506#discussion_r473988636", "bodyText": "Saw the original javax.validation.Validation comes from the following gradle dependency (in gradle/libraries.gradle):\nvalidation:     \"javax.validation:validation-api:${validationApiVersion}\",\n\nDo we need to update it or delete it?", "author": "NathanQingyangXu", "createdAt": "2020-08-20T13:43:32Z", "path": "hibernate-core/src/main/java/org/hibernate/cfg/beanvalidation/BeanValidationIntegrator.java", "diffHunk": "@@ -32,7 +32,7 @@\n \n \tpublic static final String APPLY_CONSTRAINTS = \"hibernate.validator.apply_to_ddl\";\n \n-\tpublic static final String BV_CHECK_CLASS = \"javax.validation.Validation\";\n+\tpublic static final String BV_CHECK_CLASS = \"javax.validation.ConstraintViolation\";\n \n \tpublic static final String MODE_PROPERTY = \"javax.persistence.validation.mode\";\n ", "originalCommit": "8b993adefbee422c0cf5a273305a69128efb4628", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk5Nzg2MQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3506#discussion_r473997861", "bodyText": "We could remove it, but there's no benefit from removing it as it is a transitive dependency: better keep the explicit version control.", "author": "Sanne", "createdAt": "2020-08-20T13:51:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4ODYzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAwMDQ3Ng==", "url": "https://github.com/hibernate/hibernate-orm/pull/3506#discussion_r474000476", "bodyText": "I don't understand your question? The new class comes from the exact same dependency, there's nothing changed here.", "author": "gsmet", "createdAt": "2020-08-20T13:54:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4ODYzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAxMTg5MQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3506#discussion_r474011891", "bodyText": "It is my fault, I didn't know the library contains javax.validation.ConstraintViolation as well.", "author": "NathanQingyangXu", "createdAt": "2020-08-20T14:08:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzk4ODYzNg=="}], "type": "inlineReview"}]}