{"pr_number": 3414, "pr_title": "HHH-14033 - SQL script parsing problem with multi-line comments", "pr_createdAt": "2020-05-19T17:39:09Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3414", "timeline": [{"oid": "b658e903d71e34a5be5690a33e6faa21b1db628b", "url": "https://github.com/hibernate/hibernate-orm/commit/b658e903d71e34a5be5690a33e6faa21b1db628b", "message": "HHH-14033 - SQL script parsing problem with multi-line comments\n\n- Better handling of multi-line comments\n- Restructured some internal classes to consolidate packages\n- Added \"system\"-style SchemaToolingLogging", "committedDate": "2020-05-19T17:25:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg5OTIwMQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3414#discussion_r427899201", "bodyText": "Is this going to affect the regular HQL parser as well?\nSpecifically I'm wondering about performance impact, if this is to help during development maybe it shoduld be commented out when done with debugging?", "author": "Sanne", "createdAt": "2020-05-20T10:17:52Z", "path": "hibernate-core/hibernate-core.gradle", "diffHunk": "@@ -203,6 +203,9 @@ xjc {\n     }\n }\n \n+generateGrammarSource {\n+    arguments += \"-traceParser\"", "originalCommit": "b658e903d71e34a5be5690a33e6faa21b1db628b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzNjczMw==", "url": "https://github.com/hibernate/hibernate-orm/pull/3414#discussion_r427936733", "bodyText": "The impact - if you look in the generated parsers, you will now see Antlr has added traceIn/traceOut calls at the start and end of each rule method.  I use that as hooks to debug \"parse tree info\".  This is extremely useful information for debugging parse problems; unless we can demonstrate that it is a performance problem I'd prefer to leave these as-is.", "author": "sebersole", "createdAt": "2020-05-20T11:30:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg5OTIwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzODA5Ng==", "url": "https://github.com/hibernate/hibernate-orm/pull/3414#discussion_r427938096", "bodyText": "Its a good point though in that the default impl Antlr injects is to use sysout.  For HQL and for SQL script parsing I've overridden these to use logging.  I'll add the same override for the entity-graph parser and really the impact overall should be minimal", "author": "sebersole", "createdAt": "2020-05-20T11:32:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzg5OTIwMQ=="}], "type": "inlineReview"}]}