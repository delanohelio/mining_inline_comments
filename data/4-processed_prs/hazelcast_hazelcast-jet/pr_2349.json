{"pr_number": 2349, "pr_title": "Add jvm.options file", "pr_createdAt": "2020-06-22T14:38:42Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/2349", "timeline": [{"oid": "ef215b03dbadaab5109ec3bd25c51097cef8557c", "url": "https://github.com/hazelcast/hazelcast-jet/commit/ef215b03dbadaab5109ec3bd25c51097cef8557c", "message": "Add jvm.options file\n\nAdds simple way to persistently modify java options.\n\nFile supports comments with # (only at beginnig of a line).\n\nWe may extend this to show recommended / useful / commonly used options.", "committedDate": "2020-06-22T14:17:25Z", "type": "commit"}, {"oid": "9296ffc01c91ab6e933de31e1d8674b7a2d92e88", "url": "https://github.com/hazelcast/hazelcast-jet/commit/9296ffc01c91ab6e933de31e1d8674b7a2d92e88", "message": "Add docs", "committedDate": "2020-06-22T14:32:24Z", "type": "commit"}, {"oid": "8b6f6e4a675776f54506a7f04ed4e228614f29d6", "url": "https://github.com/hazelcast/hazelcast-jet/commit/8b6f6e4a675776f54506a7f04ed4e228614f29d6", "message": "Add missing empty line", "committedDate": "2020-06-22T14:36:38Z", "type": "commit"}, {"oid": "12b651bb3a24809fb1642ccfe1cc0021a03af644", "url": "https://github.com/hazelcast/hazelcast-jet/commit/12b651bb3a24809fb1642ccfe1cc0021a03af644", "message": "Polish text", "committedDate": "2020-06-22T14:37:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzYxMDU2MA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r443610560", "bodyText": "can we move this to common.sh so that jet script can use it too ?", "author": "gurbuzali", "createdAt": "2020-06-22T14:42:12Z", "path": "hazelcast-jet-distribution/src/bin-filemode-755/jet-start", "diffHunk": "@@ -18,6 +18,18 @@ if [ \"${PROMETHEUS_PORT}\" ]; then\n     PROMETHEUS=\"-javaagent:${JET_HOME}/lib/jmx_prometheus_javaagent-${prometheus.version}.jar=${PROMETHEUS_PORT}:${JET_HOME}/config/jmx_agent_config.yaml\"\n fi\n \n+# Read jvm.options file", "originalCommit": "12b651bb3a24809fb1642ccfe1cc0021a03af644", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9b2573110447dc64cfd019375a179d043bfffbcf", "url": "https://github.com/hazelcast/hazelcast-jet/commit/9b2573110447dc64cfd019375a179d043bfffbcf", "message": "Add jvm-client.options, add more items to jvm.options file", "committedDate": "2020-06-23T14:29:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM0MDIyNA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444340224", "bodyText": "can we note here that this should be used if you using Java 8?", "author": "cangencer", "createdAt": "2020-06-23T16:07:26Z", "path": "hazelcast-jet-distribution/src/root/config/jvm.options", "diffHunk": "@@ -0,0 +1,49 @@\n+# JVM Configuration\n+\n+# One option per line\n+# Lines starting with # and empty lines are ignored\n+\n+# Memory configuration\n+#-Xms4g\n+#-Xmx4g\n+#-XX:+AlwaysPreTouch\n+\n+# Generate heap dump on out-of-memory error\n+# Uncomment to enable\n+#-XX:+HeapDumpOnOutOfMemoryError\n+#-XX:HeapDumpPath=./\n+\n+# Enable debugger\n+#-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n+\n+# Enable JMX\n+#-Dcom.sun.management.jmxremote\n+#-Dcom.sun.management.jmxremote.port=9010\n+#-Dcom.sun.management.jmxremote.authenticate=false\n+#-Dcom.sun.management.jmxremote.ssl=false\n+#-Dcom.sun.management.jmxremote.local.only=false\n+\n+# GC configuration\n+\n+# G1GC Configuration", "originalCommit": "9b2573110447dc64cfd019375a179d043bfffbcf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc4MTU3Nw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444781577", "bodyText": "Added.", "author": "frant-hartm", "createdAt": "2020-06-24T09:56:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM0MDIyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM0MDM3Nw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444340377", "bodyText": "and some notes here saying which versions support this.", "author": "cangencer", "createdAt": "2020-06-23T16:07:36Z", "path": "hazelcast-jet-distribution/src/root/config/jvm.options", "diffHunk": "@@ -0,0 +1,49 @@\n+# JVM Configuration\n+\n+# One option per line\n+# Lines starting with # and empty lines are ignored\n+\n+# Memory configuration\n+#-Xms4g\n+#-Xmx4g\n+#-XX:+AlwaysPreTouch\n+\n+# Generate heap dump on out-of-memory error\n+# Uncomment to enable\n+#-XX:+HeapDumpOnOutOfMemoryError\n+#-XX:HeapDumpPath=./\n+\n+# Enable debugger\n+#-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n+\n+# Enable JMX\n+#-Dcom.sun.management.jmxremote\n+#-Dcom.sun.management.jmxremote.port=9010\n+#-Dcom.sun.management.jmxremote.authenticate=false\n+#-Dcom.sun.management.jmxremote.ssl=false\n+#-Dcom.sun.management.jmxremote.local.only=false\n+\n+# GC configuration\n+\n+# G1GC Configuration\n+#-XX:+UseG1GC\n+#-XX:MaxGCPauseMillis=50\n+\n+# ZGC", "originalCommit": "9b2573110447dc64cfd019375a179d043bfffbcf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc4MTQ3Nw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444781477", "bodyText": "Added", "author": "frant-hartm", "createdAt": "2020-06-24T09:56:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM0MDM3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcwNzU2OA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444707568", "bodyText": "will this use JET_HOME by default?", "author": "cangencer", "createdAt": "2020-06-24T07:47:46Z", "path": "hazelcast-jet-distribution/src/root/config/jvm.options", "diffHunk": "@@ -0,0 +1,49 @@\n+# JVM Configuration\n+\n+# One option per line\n+# Lines starting with # and empty lines are ignored\n+\n+# Memory configuration\n+#-Xms4g\n+#-Xmx4g\n+#-XX:+AlwaysPreTouch\n+\n+# Generate heap dump on out-of-memory error\n+# Uncomment to enable\n+#-XX:+HeapDumpOnOutOfMemoryError\n+#-XX:HeapDumpPath=./\n+\n+# Enable debugger\n+#-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n+\n+# Enable JMX\n+#-Dcom.sun.management.jmxremote\n+#-Dcom.sun.management.jmxremote.port=9010\n+#-Dcom.sun.management.jmxremote.authenticate=false\n+#-Dcom.sun.management.jmxremote.ssl=false\n+#-Dcom.sun.management.jmxremote.local.only=false\n+\n+# GC configuration\n+\n+# G1GC Configuration\n+#-XX:+UseG1GC\n+#-XX:MaxGCPauseMillis=50\n+\n+# ZGC\n+#-XX:+UseZGC\n+\n+# Shenandoah\n+#-XX:+UseShenandoahGC\n+\n+## JDK 8 GC logging\n+#-XX:+PrintGCDetails\n+#-XX:+PrintGCDateStamps\n+#-XX:+PrintTenuringDistribution\n+#-XX:+PrintGCApplicationStoppedTime\n+#-Xloggc:logs/gc.log", "originalCommit": "9b2573110447dc64cfd019375a179d043bfffbcf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc0MjI3NA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444742274", "bodyText": "Good point,\nIt would use the current directory, our tutorials expect that it is same as JET_HOME, but users may well be in the bin directory, or elsewhere.\nI have added evaluation of the jvm.options file so we can use $JET_HOME there.", "author": "frant-hartm", "createdAt": "2020-06-24T08:48:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcwNzU2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc0ODQ3Ng==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2349#discussion_r444748476", "bodyText": "It is much more useful when the GC logs are in line with Jet logs, though. But the only way to get it i guess is going through stdout.", "author": "mtopolnik", "createdAt": "2020-06-24T08:59:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcwNzU2OA=="}], "type": "inlineReview"}, {"oid": "7d29579b0273e39e31221d10df1d5c984693ce39", "url": "https://github.com/hazelcast/hazelcast-jet/commit/7d29579b0273e39e31221d10df1d5c984693ce39", "message": "Interpolate env variables, add comments", "committedDate": "2020-06-24T09:28:04Z", "type": "commit"}, {"oid": "55442622f38c11db9e353bd230f998cc02327f73", "url": "https://github.com/hazelcast/hazelcast-jet/commit/55442622f38c11db9e353bd230f998cc02327f73", "message": "Fix small mistake in javadoc", "committedDate": "2020-06-24T11:12:16Z", "type": "commit"}]}