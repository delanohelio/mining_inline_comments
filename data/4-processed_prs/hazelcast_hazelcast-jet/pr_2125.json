{"pr_number": 2125, "pr_title": "Add spring boot starter documentation", "pr_createdAt": "2020-03-31T21:46:20Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/2125", "timeline": [{"oid": "e94b93ccba3df0793b8172c3a0c8bd7c58978146", "url": "https://github.com/hazelcast/hazelcast-jet/commit/e94b93ccba3df0793b8172c3a0c8bd7c58978146", "message": "add spring boot starter documentation", "committedDate": "2020-03-31T21:44:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQ5NzQ2OA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r401497468", "bodyText": "space needed here ?", "author": "eminn", "createdAt": "2020-04-01T10:00:03Z", "path": "site/docs/api/spring.md", "diffHunk": "@@ -328,3 +328,23 @@ attributes.\n     </jet:client>\n </beans>\n ```\n+\n+## SpringBoot Integration", "originalCommit": "e94b93ccba3df0793b8172c3a0c8bd7c58978146", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA5MDIwMA==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402090200", "bodyText": "can we give an example how to use it? needs to show what dependency to add and how it's used inside spring code.", "author": "cangencer", "createdAt": "2020-04-02T06:56:48Z", "path": "site/docs/api/spring.md", "diffHunk": "@@ -328,3 +328,23 @@ attributes.\n     </jet:client>\n </beans>\n ```\n+\n+## SpringBoot Integration\n+\n+Hazelcast Jet provides\n+[Hazelcast Jet Spring Boot Starter](https://github.com/hazelcast/hazelcast-jet-contrib/tree/master/hazelcast-jet-spring-boot-starter)\n+which automatically configures and starts a `JetInstance`, either a\n+server or a client, if Jet is on the classpath.\n+", "originalCommit": "e94b93ccba3df0793b8172c3a0c8bd7c58978146", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcxMTUwMQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402711501", "bodyText": "I've added a tutorial and linked it here", "author": "gurbuzali", "createdAt": "2020-04-03T03:04:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA5MDIwMA=="}], "type": "inlineReview"}, {"oid": "02594bf72d262a21c420130852a53578d129756b", "url": "https://github.com/hazelcast/hazelcast-jet/commit/02594bf72d262a21c420130852a53578d129756b", "message": "enhance spring-boot documentaion and add a tutorial for it", "committedDate": "2020-04-03T03:02:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgxMTgwNg==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402811806", "bodyText": "Do we need this @RestController since we are not defining any endpoints ?", "author": "eminn", "createdAt": "2020-04-03T08:07:11Z", "path": "site/docs/tutorials/spring-boot.md", "diffHunk": "@@ -0,0 +1,181 @@\n+---\n+title: Spring Boot Starter \n+description: How to auto-configure Jet in Spring Boot Application\n+---\n+\n+Spring Boot makes it easy to create and use third-party libraries, such\n+as Hazelcast Jet, with minimum configurations possible. While Spring\n+Boot provides starters for some libraries, Hazelcast Jet hosts its own\n+[starter](https://github.com/hazelcast/hazelcast-jet-contrib/tree/master/hazelcast-jet-spring-boot-starter).\n+\n+Let's create a simple Spring Boot application which starts a Jet\n+instance and auto-wires it.\n+\n+## 1. Create a New Java Project\n+\n+We assume you're using an IDE. Create a blank Java project named\n+`tutorial-jet-starter` and copy the Gradle or Maven file into it:\n+\n+<!--DOCUSAURUS_CODE_TABS-->\n+\n+<!--Gradle-->\n+\n+```groovy\n+plugins {\n+  id 'org.springframework.boot' version '2.2.6.RELEASE'\n+  id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n+  id 'java'\n+}\n+group = 'org.example'\n+version '1.0-SNAPSHOT'\n+\n+repositories.mavenCentral()\n+\n+dependencies {\n+  compile 'com.hazelcast.jet.contrib:hazelcast-jet-spring-boot-starter:2.0.0'  \n+}\n+```\n+\n+<!--Maven-->\n+\n+```xml\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-starter-parent</artifactId>\n+        <version>2.2.6.RELEASE</version>\n+        <relativePath/>\n+    </parent>\n+\n+    <groupId>org.example</groupId>\n+    <artifactId>tutorial-jet-starter</artifactId>\n+    <version>1.0-SNAPSHOT</version>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hazelcast.jet.contrib</groupId>\n+            <artifactId>hazelcast-jet-spring-boot-starter</artifactId>\n+            <version>2.0.0</version>\n+        </dependency>\n+    </dependencies>\n+\n+</project>\n+```\n+\n+<!--END_DOCUSAURUS_CODE_TABS-->\n+\n+## 2. Create the Application Main Class\n+\n+The following code creates a Spring Boot application which starts a Jet\n+member with default configuration.\n+\n+```java\n+package org.example;\n+\n+import com.hazelcast.jet.JetInstance;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+@RestController", "originalCommit": "02594bf72d262a21c420130852a53578d129756b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgxMjUxMg==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402812512", "bodyText": "it's a leftover", "author": "gurbuzali", "createdAt": "2020-04-03T08:08:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgxMTgwNg=="}], "type": "inlineReview"}, {"oid": "891bd047d0bc7c02aa698aa11a081c55765dc220", "url": "https://github.com/hazelcast/hazelcast-jet/commit/891bd047d0bc7c02aa698aa11a081c55765dc220", "message": "remove leftover", "committedDate": "2020-04-03T08:10:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgyMjgzNQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402822835", "bodyText": "This doesn't seem like a correct yaml configuration", "author": "eminn", "createdAt": "2020-04-03T08:19:48Z", "path": "site/docs/tutorials/spring-boot.md", "diffHunk": "@@ -0,0 +1,179 @@\n+---\n+title: Spring Boot Starter \n+description: How to auto-configure Jet in Spring Boot Application\n+---\n+\n+Spring Boot makes it easy to create and use third-party libraries, such\n+as Hazelcast Jet, with minimum configurations possible. While Spring\n+Boot provides starters for some libraries, Hazelcast Jet hosts its own\n+[starter](https://github.com/hazelcast/hazelcast-jet-contrib/tree/master/hazelcast-jet-spring-boot-starter).\n+\n+Let's create a simple Spring Boot application which starts a Jet\n+instance and auto-wires it.\n+\n+## 1. Create a New Java Project\n+\n+We assume you're using an IDE. Create a blank Java project named\n+`tutorial-jet-starter` and copy the Gradle or Maven file into it:\n+\n+<!--DOCUSAURUS_CODE_TABS-->\n+\n+<!--Gradle-->\n+\n+```groovy\n+plugins {\n+  id 'org.springframework.boot' version '2.2.6.RELEASE'\n+  id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n+  id 'java'\n+}\n+group = 'org.example'\n+version '1.0-SNAPSHOT'\n+\n+repositories.mavenCentral()\n+\n+dependencies {\n+  compile 'com.hazelcast.jet.contrib:hazelcast-jet-spring-boot-starter:2.0.0'  \n+}\n+```\n+\n+<!--Maven-->\n+\n+```xml\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.springframework.boot</groupId>\n+        <artifactId>spring-boot-starter-parent</artifactId>\n+        <version>2.2.6.RELEASE</version>\n+        <relativePath/>\n+    </parent>\n+\n+    <groupId>org.example</groupId>\n+    <artifactId>tutorial-jet-starter</artifactId>\n+    <version>1.0-SNAPSHOT</version>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hazelcast.jet.contrib</groupId>\n+            <artifactId>hazelcast-jet-spring-boot-starter</artifactId>\n+            <version>2.0.0</version>\n+        </dependency>\n+    </dependencies>\n+\n+</project>\n+```\n+\n+<!--END_DOCUSAURUS_CODE_TABS-->\n+\n+## 2. Create the Application Main Class\n+\n+The following code creates a Spring Boot application which starts a Jet\n+member with default configuration.\n+\n+```java\n+package org.example;\n+\n+import com.hazelcast.jet.JetInstance;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+\n+@SpringBootApplication\n+public class TutorialApplication {\n+\n+    @Autowired\n+    JetInstance jetInstance;\n+\n+    public static void main(String[] args) {\n+        SpringApplication.run(TutorialApplication.class, args);\n+    }\n+}\n+```\n+\n+When you run it on your IDE, you should see in the logs that a Jet\n+member is started and the default configuration file is used:\n+\n+```text\n+...\n+c.h.i.config.AbstractConfigLocator       : Loading 'hazelcast-jet-default.xml' from the classpath.\n+...\n+com.hazelcast.core.LifecycleService      : [127.0.0.1]:5701 [jet] [4.0] [127.0.0.1]:5701 is STARTED\n+...\n+```\n+\n+## 3. Custom Configuration\n+\n+Let's add some custom configuration to our Jet member by defining a\n+configuration file named `hazelcast-jet.yaml` at the root directory.\n+\n+```yaml\n+hazelcast-jet:\n+  instance:\n+    cooperative-thread-count: 4\n+  edge-defaults:\n+    queue-size: 2048\n+  hazelcast:", "originalCommit": "891bd047d0bc7c02aa698aa11a081c55765dc220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgzMzQzMw==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402833433", "bodyText": "weird, it worked actually while writing the tutorial, I've observed that the there was a log cooperative-thread-count= 4", "author": "gurbuzali", "createdAt": "2020-04-03T08:32:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgyMjgzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgzNDQ3Mg==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2125#discussion_r402834472", "bodyText": "I mean the hazelcast part", "author": "eminn", "createdAt": "2020-04-03T08:33:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjgyMjgzNQ=="}], "type": "inlineReview"}, {"oid": "3fd889961701056fe173538f1af38d23d468942a", "url": "https://github.com/hazelcast/hazelcast-jet/commit/3fd889961701056fe173538f1af38d23d468942a", "message": "fix jet yaml", "committedDate": "2020-04-03T11:25:40Z", "type": "commit"}]}