{"pr_number": 505, "pr_title": "Add map author prefix/permission", "pr_createdAt": "2020-05-26T00:52:59Z", "pr_url": "https://github.com/PGMDev/PGM/pull/505", "timeline": [{"oid": "6b4540158c6d4d586c1669329dc136d0f316c9e7", "url": "https://github.com/PGMDev/PGM/commit/6b4540158c6d4d586c1669329dc136d0f316c9e7", "message": "format and rebase\n\nSigned-off-by: KingOfSquares <simonmorland@gmail.com>", "committedDate": "2020-05-26T10:18:28Z", "type": "forcePushed"}, {"oid": "c7d1b849300c0bdba50cc467b46ed6f1da930152", "url": "https://github.com/PGMDev/PGM/commit/c7d1b849300c0bdba50cc467b46ed6f1da930152", "message": "format and rebase\n\nSigned-off-by: KingOfSquares <simonmorland@gmail.com>", "committedDate": "2020-05-27T19:37:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5MDg2NQ==", "url": "https://github.com/PGMDev/PGM/pull/505#discussion_r431590865", "bodyText": "Should define this in Permissions", "author": "Electroid", "createdAt": "2020-05-28T05:33:31Z", "path": "core/src/main/java/tc/oc/pgm/modules/MapmakerMatchModule.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package tc.oc.pgm.modules;\n+\n+import java.util.Collection;\n+import org.bukkit.event.EventHandler;\n+import org.bukkit.event.Listener;\n+import tc.oc.pgm.api.PGM;\n+import tc.oc.pgm.api.map.Contributor;\n+import tc.oc.pgm.api.match.Match;\n+import tc.oc.pgm.api.match.MatchModule;\n+import tc.oc.pgm.api.match.MatchScope;\n+import tc.oc.pgm.api.player.MatchPlayer;\n+import tc.oc.pgm.api.player.event.MatchPlayerAddEvent;\n+import tc.oc.pgm.events.ListenerScope;\n+\n+@ListenerScope(MatchScope.LOADED)\n+public class MapmakerMatchModule implements MatchModule, Listener {\n+  private final Collection<Contributor> authors;\n+\n+  public MapmakerMatchModule(Match match) {\n+    this.authors = match.getMap().getAuthors();\n+  }\n+\n+  @EventHandler(ignoreCancelled = true)\n+  public void onPlayerAddEvent(final MatchPlayerAddEvent event) {\n+    MatchPlayer player = event.getPlayer();\n+    player\n+        .getBukkit()\n+        .addAttachment(\n+            PGM.get(),\n+            \"pgm.group.mapmaker\",", "originalCommit": "c7d1b849300c0bdba50cc467b46ed6f1da930152", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzMwNjY5NQ==", "url": "https://github.com/PGMDev/PGM/pull/505#discussion_r433306695", "bodyText": "Define the permission group? So move it from config -> Permissions?", "author": "KingOfSquares", "createdAt": "2020-06-01T15:31:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5MDg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM5NzI4NQ==", "url": "https://github.com/PGMDev/PGM/pull/505#discussion_r433397285", "bodyText": "Then i would also have to code in a prefix provider for mapmakers?", "author": "KingOfSquares", "createdAt": "2020-06-01T18:00:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5MDg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODg4Mw==", "url": "https://github.com/PGMDev/PGM/pull/505#discussion_r434918883", "bodyText": "All that's being asked is for the constant string pgm.group.mapmaker to be defined in the Permissions.java file instead of here", "author": "Pablete1234", "createdAt": "2020-06-03T23:55:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5MDg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA5ODk3Ng==", "url": "https://github.com/PGMDev/PGM/pull/505#discussion_r435098976", "bodyText": "Aaaah, i see. Thanks!", "author": "KingOfSquares", "createdAt": "2020-06-04T08:57:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5MDg2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyNTIwMA==", "url": "https://github.com/PGMDev/PGM/pull/505#discussion_r434925200", "bodyText": "Also add a + before, so its consistent with the rest of the config.", "author": "Electroid", "createdAt": "2020-06-04T00:20:05Z", "path": "core/src/main/resources/config.yml", "diffHunk": "@@ -136,6 +136,12 @@ groups:\n       - \"-worldedit.navigation.jumpto.tool\"\n       - \"-commandbook.teleport\"\n \n+  # A special group for authors of the playing map\n+  mapmaker:\n+    prefix: \"&9*\"\n+    permissions:\n+      - \"pgm.premium\"", "originalCommit": "c7d1b849300c0bdba50cc467b46ed6f1da930152", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b066466bbd01d6ffd6af6c6a8e3122059faeeeba", "url": "https://github.com/PGMDev/PGM/commit/b066466bbd01d6ffd6af6c6a8e3122059faeeeba", "message": "format and rebase\n\nSigned-off-by: KingOfSquares <simonmorland@gmail.com>", "committedDate": "2020-06-04T10:13:52Z", "type": "forcePushed"}, {"oid": "ef6e2b959c6a62acdd434eb0667d530a5e19e85e", "url": "https://github.com/PGMDev/PGM/commit/ef6e2b959c6a62acdd434eb0667d530a5e19e85e", "message": "Add mapmaker permission\n\nSigned-off-by: SimonIMac <simonmorland@gmail.com>\nUpdate map.xml\nSigned-off-by: SimonIMac <simonmorland@gmail.com>", "committedDate": "2020-06-04T10:20:27Z", "type": "commit"}, {"oid": "2992a4f792ee5db5a45173574b851977ed9ae43b", "url": "https://github.com/PGMDev/PGM/commit/2992a4f792ee5db5a45173574b851977ed9ae43b", "message": "format and rebase\n\nSigned-off-by: KingOfSquares <simonmorland@gmail.com>", "committedDate": "2020-06-04T10:20:27Z", "type": "commit"}, {"oid": "080ca1e06e1e3c224a8cf11b4322c263f4668798", "url": "https://github.com/PGMDev/PGM/commit/080ca1e06e1e3c224a8cf11b4322c263f4668798", "message": "Make implementation consistent\n\nSigned-off-by: KingOfSquares <simonmorland@gmail.com>", "committedDate": "2020-06-04T10:20:27Z", "type": "commit"}, {"oid": "080ca1e06e1e3c224a8cf11b4322c263f4668798", "url": "https://github.com/PGMDev/PGM/commit/080ca1e06e1e3c224a8cf11b4322c263f4668798", "message": "Make implementation consistent\n\nSigned-off-by: KingOfSquares <simonmorland@gmail.com>", "committedDate": "2020-06-04T10:20:27Z", "type": "forcePushed"}]}