{"pr_number": 284, "pr_title": "Fix 'You joined Observers' message after event cancellation, resolves #282", "pr_createdAt": "2020-01-31T23:01:56Z", "pr_url": "https://github.com/PGMDev/PGM/pull/284", "timeline": [{"oid": "505ff2c2d1a11e607bebdd7991017924eab15340", "url": "https://github.com/PGMDev/PGM/commit/505ff2c2d1a11e607bebdd7991017924eab15340", "message": "Fix 'You joined Observers' message after event cancellation\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>", "committedDate": "2020-01-31T22:57:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzcyNzI4Nw==", "url": "https://github.com/PGMDev/PGM/pull/284#discussion_r373727287", "bodyText": "Since this is TeamMatchModule, we will need to check if the Party is a Team and not a Tribute.\nevent.getOldParty() instanceof Team && event.getNewParty() instanceof Team\nThe reason this works is because null instanceof <anything> is always evaluated to be false.", "author": "Electroid", "createdAt": "2020-01-31T23:20:50Z", "path": "src/main/java/tc/oc/pgm/teams/TeamMatchModule.java", "diffHunk": "@@ -634,7 +634,7 @@ public boolean kickPlayerOffTeam(Team kickFrom, boolean forBalance) {\n \n   @EventHandler(priority = EventPriority.MONITOR)\n   public void onPartyChange(PlayerPartyChangeEvent event) {\n-    if (event.getNewParty() instanceof Team) {\n+    if (event.getOldParty() != null && event.getNewParty() != null) {", "originalCommit": "505ff2c2d1a11e607bebdd7991017924eab15340", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e794935ab9807e1794671b9aac4265c477729c9e", "url": "https://github.com/PGMDev/PGM/commit/e794935ab9807e1794671b9aac4265c477729c9e", "message": "Check if new party is an instance of Team or Observers\n\nSigned-off-by: Meeples10 <8867705+Meeples10@users.noreply.github.com>", "committedDate": "2020-01-31T23:36:17Z", "type": "commit"}]}