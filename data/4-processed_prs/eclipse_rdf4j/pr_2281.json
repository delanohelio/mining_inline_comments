{"pr_number": 2281, "pr_title": "GH-1079 INLINE_BLANK_NODES-lose-bnode", "pr_createdAt": "2020-05-27T19:58:48Z", "pr_url": "https://github.com/eclipse/rdf4j/pull/2281", "timeline": [{"oid": "6a3d60b226e0621d17062c0765c2e89afca768bf", "url": "https://github.com/eclipse/rdf4j/commit/6a3d60b226e0621d17062c0765c2e89afca768bf", "message": "GH-1079 INLINE_BLANK_NODES-lose-bnode\n\nSigned-off-by: Mirr99 <mihir17166@iiitd.ac.in>", "committedDate": "2020-05-27T18:54:59Z", "type": "commit"}, {"oid": "0a0483df62c46676940789d93fd8fa837efdc77f", "url": "https://github.com/eclipse/rdf4j/commit/0a0483df62c46676940789d93fd8fa837efdc77f", "message": "GH-1079 test case added\n\nSigned-off-by: Mirr99 <mihir17166@iiitd.ac.in>", "committedDate": "2020-05-28T05:01:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY4MTY2Mw==", "url": "https://github.com/eclipse/rdf4j/pull/2281#discussion_r431681663", "bodyText": "I like the structure of the test, but I'm not sure I agree that the expected output is correct - see also the comment I left on the issue.", "author": "jeenbroekstra", "createdAt": "2020-05-28T08:51:46Z", "path": "core/rio/turtle/src/test/java/org/eclipse/rdf4j/rio/turtle/ArrangedWriterTest.java", "diffHunk": "@@ -70,6 +81,38 @@ public void testWriteSingleStatementWithSubjectNamespace() {\n \t\tassertEquals(expectedResult, outputWriter.toString());\n \t}\n \n+\t@Test\n+\tpublic void testWriteRepeatedInlineBlankNode() {\n+\t\tModel model = new ModelBuilder().subject(exNs + \"subject\")\n+\t\t\t\t.add(vf.createIRI(exNs, \"rel1\"), bnode)\n+\t\t\t\t.add(vf.createIRI(exNs, \"rel2\"), bnode)\n+\t\t\t\t.subject(bnode)\n+\t\t\t\t.add(RDFS.LABEL, \"the bnode\")\n+\t\t\t\t.build();\n+\n+\t\tmodel.setNamespace(RDFS.NS);\n+\t\tmodel.setNamespace(\"ex\", exNs);\n+\n+\t\tStringWriter stringWriter = new StringWriter();\n+\t\tBufferedWriter writer = new BufferedWriter(stringWriter);\n+\t\tWriterConfig config = new WriterConfig();\n+\t\tconfig.set(BasicWriterSettings.INLINE_BLANK_NODES, true);\n+\t\tRio.write(model, writer, RDFFormat.TURTLE, config);\n+\n+\t\tString sep = System.lineSeparator();\n+\t\tString expectedResult = \"@prefix ex: <http://example.org/> .\" + sep +\n+\t\t\t\t\"@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\" + sep +\n+\t\t\t\t\"@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\" + sep + sep +\n+\t\t\t\t\"ex:subject ex:rel1 [\" + sep +\n+\t\t\t\t\"      rdfs:label \\\"the bnode\\\"\" + sep +\n+\t\t\t\t\"    ];\" + sep +\n+\t\t\t\t\"  ex:rel2 [\" + sep +\n+\t\t\t\t\"      rdfs:label \\\"the bnode\\\"\" + sep +\n+\t\t\t\t\"    ] .\" + sep;\n+\n+\t\tassertEquals(expectedResult, stringWriter.toString());", "originalCommit": "0a0483df62c46676940789d93fd8fa837efdc77f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTc2ODI0NQ==", "url": "https://github.com/eclipse/rdf4j/pull/2281#discussion_r431768245", "bodyText": "Hi\nI have made the changes according to the discussion. There is no inlining for a repeated blank node. The test case has also been updated.", "author": "Mirr99", "createdAt": "2020-05-28T11:32:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY4MTY2Mw=="}], "type": "inlineReview"}, {"oid": "a11291df8b0c282139d1a5a666cdbe3655fbe760", "url": "https://github.com/eclipse/rdf4j/commit/a11291df8b0c282139d1a5a666cdbe3655fbe760", "message": "GH-1079 No inlining for repeated BNode\n\nSigned-off-by: Mirr99 <mihir17166@iiitd.ac.in>", "committedDate": "2020-05-28T11:29:56Z", "type": "commit"}]}