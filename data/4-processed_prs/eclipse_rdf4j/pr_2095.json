{"pr_number": 2095, "pr_title": "GH-1982 fix duplicate dependency and several IntelliJ-specific build issues", "pr_createdAt": "2020-04-15T08:36:59Z", "pr_url": "https://github.com/eclipse/rdf4j/pull/2095", "timeline": [{"oid": "ea8677cd6966bc3b5980771685845932aa20ca03", "url": "https://github.com/eclipse/rdf4j/commit/ea8677cd6966bc3b5980771685845932aa20ca03", "message": "GH-1982 remove duplicate\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-15T08:34:26Z", "type": "commit"}, {"oid": "8c1b8f06206d5b2d273934522bed43f5c1045a2b", "url": "https://github.com/eclipse/rdf4j/commit/8c1b8f06206d5b2d273934522bed43f5c1045a2b", "message": "Upgrade source plugin to stop intellij from complaining about an unsupported tag\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-15T08:35:05Z", "type": "commit"}, {"oid": "35da0907e139f868f1c46975849ac384b4640852", "url": "https://github.com/eclipse/rdf4j/commit/35da0907e139f868f1c46975849ac384b4640852", "message": "Explicit casting to make Intellij stop complaining about code that is actually correct\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-15T08:35:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r408809778", "bodyText": "This shouldn't be necessary, as far as I can tell the code is legal without the cast. Are you getting an actual error in IntelliJ, or is it just giving a warning of some sort?\nI'm not really in favor of changing legal code just to make one particular editor behave (for one thing it becomes tricky to maintain), but if it's really unworkable, I'd rather go with a a proper lambda (st -> reificationModel.add(st)) instead of this explicit cast.", "author": "jeenbroekstra", "createdAt": "2020-04-15T12:40:00Z", "path": "core/model/src/main/java/org/eclipse/rdf4j/model/util/Models.java", "diffHunk": "@@ -600,7 +600,7 @@ public static void convertRDFStarToReification(Model model, Consumer<Statement>\n \t@Experimental\n \tpublic static Model convertRDFStarToReification(ValueFactory vf, Model model) {\n \t\tModel reificationModel = new LinkedHashModel();\n-\t\tconvertRDFStarToReification(vf, model, reificationModel::add);\n+\t\tconvertRDFStarToReification(vf, model, (Consumer<Statement>) reificationModel::add);", "originalCommit": "35da0907e139f868f1c46975849ac384b4640852", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgzNDU5Nw==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r408834597", "bodyText": "", "author": "hmottestad", "createdAt": "2020-04-15T13:19:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgzNTY0NA==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r408835644", "bodyText": "I prefer the explicit cast to creating a lambda.\nWhat are you seeing for this code in your editor?", "author": "hmottestad", "createdAt": "2020-04-15T13:21:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg0OTYyMA==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r408849620", "bodyText": "I prefer the explicit cast to creating a lambda.\n\nWhy? The lambda is arguably clearer to read, and definitely shorter.  I doubt the fact that it's a delegate has a serious impact (I would imagine the compiler optimizes that away).\n\nWhat are you seeing for this code in your editor?\n\nNothing. Neither Eclipse nor the OpenJDK compiler report any issue with it (using OpenJDK 8 to build). I'm really surprised IntelliJ would complain about this. Is this a known issue? Perhaps it is having difficulty with the fact that add is overloaded.", "author": "jeenbroekstra", "createdAt": "2020-04-15T13:40:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg2NjkxMw==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r408866913", "bodyText": "The lambda gets marked by the inspector as unnecessary while the casting gets ignored.\nIt's most definitely at bug. Don't know if it's reported or not. It's very annoying though, since I can't do a full build from intellij anymore (which is needed to mitigate another bug I have).", "author": "hmottestad", "createdAt": "2020-04-15T14:03:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg3NDE3NQ==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r408874175", "bodyText": "The lambda gets marked by the inspector as unnecessary while the casting gets ignored.\n\nThat to me sounds more as if this inspector tool is configured a bit over-eager. But whatever, I don't like it, but if this is the only case then it's fairly trivial and not worth arguing over (at least not longer than we've alredy done ;)) - either way is legal Java.", "author": "jeenbroekstra", "createdAt": "2020-04-15T14:13:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQxOTA4Mg==", "url": "https://github.com/eclipse/rdf4j/pull/2095#discussion_r409419082", "bodyText": "Reported the bug to the intellij people. From experience though they unfortunately take years to fix minor bugs like these.", "author": "hmottestad", "createdAt": "2020-04-16T09:36:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODgwOTc3OA=="}], "type": "inlineReview"}, {"oid": "bd80b7311a77b4b4c9da095a79401602b796c5d3", "url": "https://github.com/eclipse/rdf4j/commit/bd80b7311a77b4b4c9da095a79401602b796c5d3", "message": "Removed source configuration since it was added by mistake. Also downgraded the source plugin since upgrading actually didn't fix the issue\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-16T09:17:56Z", "type": "commit"}]}