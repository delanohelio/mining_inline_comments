{"pr_number": 759, "pr_title": "feat(plugins): Support for remote extension definitions and resolving remote extension configuration type for remote plugins/extensions", "pr_createdAt": "2020-08-25T05:50:02Z", "pr_url": "https://github.com/spinnaker/kork/pull/759", "timeline": [{"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730", "url": "https://github.com/spinnaker/kork/commit/e5f6b0051911d7e30cc56657c60bc33cab0c0730", "message": "feat(plugins): Support for remote extension definitions and resolving remote extension configuration type for remote plugins/extensions", "committedDate": "2020-08-25T05:49:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE5NDgxMw==", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r476194813", "bodyText": "This works, but I feel like there may be a better way.", "author": "jonsie", "createdAt": "2020-08-25T05:55:41Z", "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/remote/extension/RemoteExtension.kt", "diffHunk": "@@ -46,11 +45,16 @@ class RemoteExtension(\n    * Configuration necessary for the extension point - typically specifying something to configure\n    * prior to the remote extension invocation.\n    */\n-  val config: Map<String, Any>,\n+  val config: RemoteExtensionConfigType,\n \n   private val transport: RemoteExtensionTransport\n ) {\n \n+  @Suppress(\"UNCHECKED_CAST\")\n+  fun <T: RemoteExtensionConfigType> getTypedConfig(): T {", "originalCommit": "e5f6b0051911d7e30cc56657c60bc33cab0c0730", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MTQ3MQ==", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r476651471", "bodyText": "nit: Looks like we can clean this import up.", "author": "robzienert", "createdAt": "2020-08-25T18:25:13Z", "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/remote/RemotePlugin.kt", "diffHunk": "@@ -18,6 +18,7 @@\n package com.netflix.spinnaker.kork.plugins.remote\n \n import com.netflix.spinnaker.kork.annotations.Beta\n+import com.netflix.spinnaker.kork.plugins.remote.extension.RemoteExtension", "originalCommit": "e5f6b0051911d7e30cc56657c60bc33cab0c0730", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzk1ODgwMg==", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r477958802", "bodyText": "There's a small package refactor in this PR - this is the result of that.", "author": "jonsie", "createdAt": "2020-08-27T02:32:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MTQ3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MjYyNw==", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r476652627", "bodyText": "If the service is implementing this, would it not be a RemoteExtensionPointDefinition?", "author": "robzienert", "createdAt": "2020-08-25T18:27:17Z", "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/remote/extension/RemoteExtensionDefinition.kt", "diffHunk": "@@ -0,0 +1,18 @@\n+package com.netflix.spinnaker.kork.plugins.remote.extension\n+\n+/**\n+ * Define properties of the remote extension. Spinnaker services must implement this and provide it\n+ * as a Spring bean in order for remote plugin extensions to be resolved from the configuration.\n+ */\n+interface RemoteExtensionDefinition {", "originalCommit": "e5f6b0051911d7e30cc56657c60bc33cab0c0730", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzk1OTgxMA==", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r477959810", "bodyText": "Dig it.", "author": "jonsie", "createdAt": "2020-08-27T02:33:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MjYyNw=="}], "type": "inlineReview"}, {"oid": "efbc41d8e1a659eae3340eeae44f2cdf56b33d52", "url": "https://github.com/spinnaker/kork/commit/efbc41d8e1a659eae3340eeae44f2cdf56b33d52", "message": "Merge branch 'master' into remote-extension-definitions", "committedDate": "2020-08-27T02:33:30Z", "type": "commit"}, {"oid": "9d8845c95795c399233a19dd6d45790c03bf7d1b", "url": "https://github.com/spinnaker/kork/commit/9d8845c95795c399233a19dd6d45790c03bf7d1b", "message": "Merge branch 'master' into remote-extension-definitions", "committedDate": "2020-08-28T19:09:28Z", "type": "commit"}, {"oid": "1c478c64d695840a6e0acd9df69591d471c02181", "url": "https://github.com/spinnaker/kork/commit/1c478c64d695840a6e0acd9df69591d471c02181", "message": "fix(plugins): Better naming -> RemoteExtensionPointDefinition", "committedDate": "2020-08-28T19:57:18Z", "type": "commit"}, {"oid": "20faf1c27fd89fa92623242a7c9b496ecac8f0ba", "url": "https://github.com/spinnaker/kork/commit/20faf1c27fd89fa92623242a7c9b496ecac8f0ba", "message": "fix(plugins): A few more docs", "committedDate": "2020-08-28T23:03:35Z", "type": "commit"}]}