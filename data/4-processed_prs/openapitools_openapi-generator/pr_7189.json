{"pr_number": 7189, "pr_title": "[Java] [Spring] Spring new mapping annotations", "pr_createdAt": "2020-08-12T09:38:08Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/7189", "timeline": [{"oid": "3620414fa2af5c7de19d2d7299e2271c380d8588", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3620414fa2af5c7de19d2d7299e2271c380d8588", "message": "Spring new mapping annotations", "committedDate": "2020-08-12T09:35:35Z", "type": "commit"}, {"oid": "ba9f305c3be555095c1d7d40b65a8bacc3319172", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ba9f305c3be555095c1d7d40b65a8bacc3319172", "message": "Merge branch 'master' of https://github.com/OpenAPITools/openapi-generator into spring-new-mapping-annotations", "committedDate": "2020-08-16T15:53:19Z", "type": "commit"}, {"oid": "d6bbd51b5078dde410e811f9964bc72259dfe96d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d6bbd51b5078dde410e811f9964bc72259dfe96d", "message": "update other spring mvc templates", "committedDate": "2020-08-16T17:33:57Z", "type": "commit"}, {"oid": "d6bbd51b5078dde410e811f9964bc72259dfe96d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d6bbd51b5078dde410e811f9964bc72259dfe96d", "message": "update other spring mvc templates", "committedDate": "2020-08-16T17:33:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTQ0NTUxMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7189#discussion_r475445510", "bodyText": "Using {{#lambda.titlecase}}{{#lambda.lowercase}} ... {{/lambda.lowercase}}{{/lambda.titlecase}} is fine. Later I may switch it to something else (e.g. x-kotlin-http-method) to make it easier for new users to understand.", "author": "wing328", "createdAt": "2020-08-24T09:02:35Z", "path": "modules/openapi-generator/src/main/resources/kotlin-spring/apiInterface.mustache", "diffHunk": "@@ -77,13 +71,13 @@ interface {{classname}} {\n         authorizations = [{{#authMethods}}Authorization(value = \"{{name}}\"{{#isOAuth}}, scopes = [{{#scopes}}AuthorizationScope(scope = \"{{scope}}\", description = \"{{description}}\"){{#hasMore}}, {{/hasMore}}{{/scopes}}]{{/isOAuth}}){{#hasMore}}, {{/hasMore}}{{/authMethods}}]{{/hasAuthMethods}})\n     @ApiResponses(\n         value = [{{#responses}}ApiResponse(code = {{{code}}}, message = \"{{{message}}}\"{{#baseType}}, response = {{{baseType}}}::class{{/baseType}}{{#containerType}}, responseContainer = \"{{{containerType}}}\"{{/containerType}}){{#hasMore}},{{/hasMore}}{{/responses}}]){{/swaggerAnnotations}}\n-    @RequestMapping(\n-            value = [\"{{#lambda.escapeDoubleQuote}}{{path}}{{/lambda.escapeDoubleQuote}}\"],{{#singleContentTypes}}{{#hasProduces}}\n-            produces = \"{{{vendorExtensions.x-accepts}}}\",{{/hasProduces}}{{#hasConsumes}}\n-            consumes = \"{{{vendorExtensions.x-contentType}}}\",{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}}\n-            produces = [{{#produces}}\"{{{mediaType}}}\"{{^-last}}, {{/-last}}{{/produces}}], {{/hasProduces}}{{#hasConsumes}}\n-            consumes = [{{#consumes}}\"{{{mediaType}}}\"{{^-last}}, {{/-last}}{{/consumes}}],{{/hasConsumes}}{{/singleContentTypes}}\n-            method = [RequestMethod.{{httpMethod}}])\n+    @{{#lambda.titlecase}}{{#lambda.lowercase}}{{httpMethod}}{{/lambda.lowercase}}{{/lambda.titlecase}}Mapping(", "originalCommit": "d6bbd51b5078dde410e811f9964bc72259dfe96d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODkzNDkyMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7189#discussion_r638934922", "bodyText": "Hello,\nI just encountered a case where this change is actually blocking for me to upgrade from 4.3.1 to 5.x.x.\nI do have an HTTP OPTIONS in my OpenAPI. This change generates an @OptionsMapping, but it does not exist in Spring. The previous version with @RequestMapping and setting the RequestMethod was working for all HTTP methods. I admit, it is more verbose, but at least it covers the various cases.\nThis change is only viable once there are annotations *Mapping for every RequestMethod values in Spring.\nYou can find more information in this Spring issue where it is a bit discussed: spring-projects/spring-framework#18565\nCan this change be reverted?", "author": "mwatel42", "createdAt": "2021-05-25T15:58:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTQ0NTUxMA=="}], "type": "inlineReview"}]}