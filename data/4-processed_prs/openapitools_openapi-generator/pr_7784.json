{"pr_number": 7784, "pr_title": "[python] Add option to return None instead of raising exception when accessing unset attribute", "pr_createdAt": "2020-10-21T13:28:43Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/7784", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzNzI1MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510537250", "bodyText": "How about updating the docstring here?\nwe use this to set values for instance.field_name = val and instance[\"field_name\"] = val", "author": "spacether", "createdAt": "2020-10-23T00:51:18Z", "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_setattr_getattr_composed.mustache", "diffHunk": "@@ -1,4 +1,4 @@\n-    def __setattr__(self, name, value):\n+    def __setitem__(self, name, value):\n         \"\"\"this allows us to set a value with instance.field_name = val\"\"\"", "originalCommit": "1b25c9eaa54d99cb192bbbc7df196e64308214b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzOTYzOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510539638", "bodyText": "How about just using name here? We know that name was not found.\n\nthis same comment applies on line 70 too", "author": "spacether", "createdAt": "2020-10-23T01:01:48Z", "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_setattr_getattr_composed.mustache", "diffHunk": "@@ -20,28 +20,22 @@\n                     )\n             return None\n \n-        path_to_item = []\n-        if self._path_to_item:\n-            path_to_item.extend(self._path_to_item)\n-        path_to_item.append(name)\n         raise ApiAttributeError(\n             \"{0} has no attribute '{1}'\".format(\n                 type(self).__name__, name),\n-            path_to_item\n+            [e for e in [self._path_to_item, name] if e]", "originalCommit": "1b25c9eaa54d99cb192bbbc7df196e64308214b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NDQ3OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510984478", "bodyText": "i just compacted the previous functionality to find path_to_item, if you think just name is enough instead of the old path code, i'm fine with that", "author": "keymone", "createdAt": "2020-10-23T15:59:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzOTYzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzOTkxMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510539911", "bodyText": "How about unset_attribute_value = object\nThen we always point to a singleton and don't need to instantiate additional empty objects", "author": "spacether", "createdAt": "2020-10-23T01:03:06Z", "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_templates/methods_setattr_getattr_composed.mustache", "diffHunk": "@@ -20,28 +20,22 @@\n                     )\n             return None\n \n-        path_to_item = []\n-        if self._path_to_item:\n-            path_to_item.extend(self._path_to_item)\n-        path_to_item.append(name)\n         raise ApiAttributeError(\n             \"{0} has no attribute '{1}'\".format(\n                 type(self).__name__, name),\n-            path_to_item\n+            [e for e in [self._path_to_item, name] if e]\n         )\n \n-    def __getattr__(self, name):\n+    __unset_attribute_value__ = object()", "originalCommit": "1b25c9eaa54d99cb192bbbc7df196e64308214b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTYyOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/7784#discussion_r510985628", "bodyText": "well, somebody could concievably set an attribute to object value, __unset_attribute_value__ will generate unique object only once per class, so i'm not worried about performance here", "author": "keymone", "createdAt": "2020-10-23T16:01:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDUzOTkxMQ=="}], "type": "inlineReview"}, {"oid": "f85a23be316ffa829fd04b862c597ce9c6cb632d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f85a23be316ffa829fd04b862c597ce9c6cb632d", "message": "add option to return None instead of raising exception when accessing unset attribute", "committedDate": "2020-10-23T17:13:29Z", "type": "commit"}, {"oid": "5b20d7b834fa65db952175464ff485dc91c873e3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5b20d7b834fa65db952175464ff485dc91c873e3", "message": "update python samples", "committedDate": "2020-10-23T17:13:29Z", "type": "commit"}, {"oid": "62bd01c297b418ff15d095868ea5a38db30b145c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/62bd01c297b418ff15d095868ea5a38db30b145c", "message": "reimplement getattr using getitem or get depending on attrNoneIfUnset", "committedDate": "2020-10-23T17:13:29Z", "type": "commit"}, {"oid": "234c8f674c41b2ad4479eff8a31de67b002f81f2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/234c8f674c41b2ad4479eff8a31de67b002f81f2", "message": "move getattr and setattr to respective templates", "committedDate": "2020-10-23T17:13:29Z", "type": "commit"}, {"oid": "d69a5980996d4973985ba9c0c4369fa58c8bafa3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d69a5980996d4973985ba9c0c4369fa58c8bafa3", "message": "update docstrings, def get/setattr methods to have docstrings in them, use __dict__ to avoid recursion issues", "committedDate": "2020-10-23T17:13:29Z", "type": "commit"}, {"oid": "d69a5980996d4973985ba9c0c4369fa58c8bafa3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d69a5980996d4973985ba9c0c4369fa58c8bafa3", "message": "update docstrings, def get/setattr methods to have docstrings in them, use __dict__ to avoid recursion issues", "committedDate": "2020-10-23T17:13:29Z", "type": "forcePushed"}, {"oid": "fdaa38820a98db1fc480347428835a34eaf9b0d6", "url": "https://github.com/OpenAPITools/openapi-generator/commit/fdaa38820a98db1fc480347428835a34eaf9b0d6", "message": "revert required_properties change", "committedDate": "2020-10-24T08:21:09Z", "type": "commit"}, {"oid": "83a51e820be1a2b6596003d0258e93da83fa521f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/83a51e820be1a2b6596003d0258e93da83fa521f", "message": "add manual tests for .get method", "committedDate": "2020-10-25T12:17:56Z", "type": "commit"}]}