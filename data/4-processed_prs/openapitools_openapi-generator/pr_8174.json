{"pr_number": 8174, "pr_title": "[dart][dart-dio] More enum fixes for inner types", "pr_createdAt": "2020-12-13T16:28:50Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/8174", "timeline": [{"oid": "ccf8a4686a2ccafe2fc9e91073171ea425069d5e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ccf8a4686a2ccafe2fc9e91073171ea425069d5e", "message": "[dart][dart-dio] More enum fixes for inner types\n\n* correctly generate enums from `mostInnerItems`\n* use `datatypeWithEnum` which should always be he correct type\n* dart generators prefix inner enums with the classname of the containing class, ensure datatypeWithEnum always matches", "committedDate": "2020-12-13T16:16:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTk1ODE2Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8174#discussion_r541958163", "bodyText": "@agilob This commit also fixes the wrong value type that was appearrent in the other PR.", "author": "kuhnroyal", "createdAt": "2020-12-13T16:30:17Z", "path": "samples/openapi3/client/petstore/dart2/petstore_client_lib_fake/lib/model/enum_arrays.dart", "diffHunk": "@@ -159,7 +159,7 @@ class EnumArraysArrayEnumEnum {\n   const EnumArraysArrayEnumEnum._(this.value);\n \n   /// The underlying value of this enum member.\n-  final List<String> value;", "originalCommit": "ccf8a4686a2ccafe2fc9e91073171ea425069d5e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTk1OTAxMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8174#discussion_r541959011", "bodyText": "I am not sure about all of this change, especially the enum default value. Currently all default values are set in the constructor. As far as I can tell in that case a wrong constructor default value would be generated.", "author": "kuhnroyal", "createdAt": "2020-12-13T16:34:52Z", "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -15,23 +15,8 @@ class {{{classname}}} {\n     {{#maximum}}\n   // maximum: {{{maximum}}}\n     {{/maximum}}\n-  {{{dataType}}} {{{name}}};\n-  {{/isEnum}}\n-  {{#isEnum}}\n-    {{#isContainer}}\n-      {{#isArray}}\n-  List<{{{classname}}}{{{enumName}}}> {{{name}}};\n-      {{/isArray}}\n-      {{#isMap}}\n-  Map<String, dynamic> {{{name}}};\n-      {{/isMap}}\n-    {{/isContainer}}\n-    {{^isContainer}}\n-      {{#allowableValues}}\n-  {{{classname}}}{{{enumName}}} {{{name}}}{{#required}}{{#defaultValue}} = {{{classname}}}{{{enumName}}}._({{{defaultValue}}}){{/defaultValue}}{{/required}};\n-      {{/allowableValues}}\n-    {{/isContainer}}\n   {{/isEnum}}\n+  {{{datatypeWithEnum}}} {{{name}}};", "originalCommit": "ccf8a4686a2ccafe2fc9e91073171ea425069d5e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTk3MDYwMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8174#discussion_r541970602", "bodyText": "I think the default value should stay as null, unless field is marked as non-nullable, required or has default value provided, this looks good to me. Dart generator doesn't support non-nullable so it's fine. It will get more complex.", "author": "agilob", "createdAt": "2020-12-13T17:43:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTk1OTAxMQ=="}], "type": "inlineReview"}]}