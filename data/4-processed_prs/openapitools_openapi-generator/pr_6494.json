{"pr_number": 6494, "pr_title": "[jaxrs-cxf][jaxrs-spec] Add missing @NotNull annotation for required body parameters when using BeanValidation", "pr_createdAt": "2020-05-29T17:29:11Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6494", "timeline": [{"oid": "7e87739dcc4e4ddd9043e03c9885d8dbd112e922", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7e87739dcc4e4ddd9043e03c9885d8dbd112e922", "message": "[jaxrs-cxf] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2020-05-30T15:01:22Z", "type": "forcePushed"}, {"oid": "b58d1a7c95bf8acc71a85f796f1aa76409f60d6d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b58d1a7c95bf8acc71a85f796f1aa76409f60d6d", "message": "[jaxrs-cxf] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2020-05-31T08:42:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MzM5Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6494#discussion_r440553396", "bodyText": "@ruedigerk thanks for the PR. I think we need the {{^isNulalble}} ... {{/isNullable}} check as well to ensure the required parameter is not nullable.", "author": "wing328", "createdAt": "2020-06-16T02:40:51Z", "path": "modules/openapi-generator/src/main/resources/JavaJaxRS/spec/bodyParams.mustache", "diffHunk": "@@ -1 +1 @@\n-{{#isBodyParam}}{{#useBeanValidation}}@Valid {{/useBeanValidation}}{{{dataType}}} {{paramName}}{{/isBodyParam}}\n\\ No newline at end of file\n+{{#isBodyParam}}{{#useBeanValidation}}@Valid {{#required}}@NotNull {{/required}}{{/useBeanValidation}}{{{dataType}}} {{paramName}}{{/isBodyParam}}", "originalCommit": "b58d1a7c95bf8acc71a85f796f1aa76409f60d6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjgwMTk3Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6494#discussion_r442801972", "bodyText": "After thinking about this, I think adding the NotNull annotation for the \"not nullable\" case is not correct. If the parameter type is not nullable, it is not allowed to pass the value \"null\" as the parameter value, as far as I understand the spec. But I think it is still allowed to omit the parameter completely (if it is not required).\nSo omitting a non-required parameter that is non-nullable still (correctly) results in a null value on the Java side, therefore the NotNull annotation must not be added in this case.\nTherefore checking only for \"required\" seems to be the right thing to do to me.", "author": "ruedigerk", "createdAt": "2020-06-19T12:06:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MzM5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjgwNDI1OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6494#discussion_r442804259", "bodyText": "But following my own reasoning, the NotNull annotation should no be added if the parameter is required but nullable. Ok, I think I misunderstood your comment and that was what you meant all along. I will change it accordingly.", "author": "ruedigerk", "createdAt": "2020-06-19T12:12:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MzM5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE3Mjc3OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6494#discussion_r446172779", "bodyText": "Hello @wing328, I fixed the issue you found. Please review again.", "author": "ruedigerk", "createdAt": "2020-06-26T13:08:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU1MzM5Ng=="}], "type": "inlineReview"}, {"oid": "be12925218880a13d85f90981dd095c7ccdadf8d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/be12925218880a13d85f90981dd095c7ccdadf8d", "message": "[jaxrs-spec] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2020-06-19T12:22:11Z", "type": "forcePushed"}, {"oid": "e4f07767075bdb5692b6e667959100b28c3eb235", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e4f07767075bdb5692b6e667959100b28c3eb235", "message": "[jaxrs-spec] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2020-06-19T13:03:08Z", "type": "forcePushed"}, {"oid": "cd8d89d9844741427328155d3f55faa0fbfa1a1b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/cd8d89d9844741427328155d3f55faa0fbfa1a1b", "message": "[jaxrs-spec] Add missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2021-03-13T16:07:53Z", "type": "commit"}, {"oid": "092ec5c3971f54f24597f50321ff004f5f09fd7d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/092ec5c3971f54f24597f50321ff004f5f09fd7d", "message": "[jaxrs-cxf] Add missing @NotNull annotation for required body parameters when using BeanValidation (#4280).", "committedDate": "2021-03-13T16:07:53Z", "type": "commit"}, {"oid": "7deb61f3d6b4ad08fc9ca8183986796d298224dc", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7deb61f3d6b4ad08fc9ca8183986796d298224dc", "message": "[jaxrs-cxf] Add @NotNull annotation only for body parameters that are required and not nullable.", "committedDate": "2021-03-13T16:07:54Z", "type": "commit"}, {"oid": "63da2d782dcc8ea58d2766076648e7f3a53ffa49", "url": "https://github.com/OpenAPITools/openapi-generator/commit/63da2d782dcc8ea58d2766076648e7f3a53ffa49", "message": "[jaxrs-spec] Add @NotNull annotation only for body parameters that are required and not nullable.", "committedDate": "2021-03-13T16:07:54Z", "type": "commit"}, {"oid": "12997e60546735d8070f9656d276416da630d1f6", "url": "https://github.com/OpenAPITools/openapi-generator/commit/12997e60546735d8070f9656d276416da630d1f6", "message": "[jaxrs-cxf] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2021-03-13T16:07:54Z", "type": "commit"}, {"oid": "bbac5856cb858e3d9d5d9fe768ce3a1a12b22426", "url": "https://github.com/OpenAPITools/openapi-generator/commit/bbac5856cb858e3d9d5d9fe768ce3a1a12b22426", "message": "[jaxrs-spec] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2021-03-13T16:07:54Z", "type": "commit"}, {"oid": "bbac5856cb858e3d9d5d9fe768ce3a1a12b22426", "url": "https://github.com/OpenAPITools/openapi-generator/commit/bbac5856cb858e3d9d5d9fe768ce3a1a12b22426", "message": "[jaxrs-spec] Updated sample files after adding missing @NotNull annotation for required body parameters when using BeanValidation.", "committedDate": "2021-03-13T16:07:54Z", "type": "forcePushed"}]}