{"pr_number": 5161, "pr_title": "[Python] 5094 followup - Reduce redundancy in docs", "pr_createdAt": "2020-01-29T23:05:00Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5161", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5Mzg4NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5161#discussion_r373093885", "bodyText": "Some endpoints need to instantiate a configuration instance, set auth method info on it, and then use that configuration when instantiating the api_client.\nFor each endpoint, can you loop through authmethods, select the first one, set the relevant configuration for it, and then use it?\n{{#hasAuthMethods}}\n{{authMethods}}\n{{#-first}}\n{{isBasicBasic}}\nconfig = blah\n{{/isBasicBasic}}\n{{isBasicBearer}}\nconfig = blah\n{{/isBasicBearer}}\n{{isHttpSignature}}\nconfig = blah\n{{/isHttpSignature}}\n{{/-first}}\n{{/authMethods}}\nwith {{{packageName}}}.ApiClient(configuration) as api_client:\n{{/hasAuthMethods}}\n{{^hasAuthMethods}}\nwith {{{packageName}}}.ApiClient() as api_client:\n{{/hasAuthMethods}}", "author": "spacether", "createdAt": "2020-01-30T17:39:34Z", "path": "modules/openapi-generator/src/main/resources/python/api_doc_example.mustache", "diffHunk": "@@ -5,24 +5,17 @@ import {{{packageName}}}\n from {{{packageName}}}.rest import ApiException\n from pprint import pprint\n {{> python_doc_auth_partial}}\n-{{#hasAuthMethods}}\n-# Defining host is optional and default to {{{basePath}}}\n-configuration.host = \"{{{basePath}}}\"\n # Enter a context with an instance of the API client\n+{{#hasAuthMethods}}", "originalCommit": "20f9aee16c1b0e59ceb0b4b8fada5be7c0deeaf3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk2OTc3Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5161#discussion_r375969772", "bodyText": "I think most of that is handled already by the python_doc_auth_partial fragment, content of that fragment is here: https://github.com/OpenAPITools/openapi-generator/blob/20f9aee16c1b0e59ceb0b4b8fada5be7c0deeaf3/modules/openapi-generator/src/main/resources/python/python_doc_auth_partial.mustache", "author": "fabianvf", "createdAt": "2020-02-06T17:15:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5Mzg4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4MDgzMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5161#discussion_r375980831", "bodyText": "Ah, I missed that, sorry. Thank you for pointing me there. This is good as-is.", "author": "spacether", "createdAt": "2020-02-06T17:36:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5Mzg4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5NDI4MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5161#discussion_r373094281", "bodyText": "Above comment also applies here", "author": "spacether", "createdAt": "2020-01-30T17:40:22Z", "path": "modules/openapi-generator/src/main/resources/python/python-experimental/api_doc_example.mustache", "diffHunk": "@@ -4,20 +4,15 @@ import time\n import {{{packageName}}}\n from pprint import pprint\n {{> python_doc_auth_partial}}\n-{{#hasAuthMethods}}\n-# Defining host is optional and default to {{{basePath}}}\n-configuration.host = \"{{{basePath}}}\"\n # Enter a context with an instance of the API client\n+{{#hasAuthMethods}}", "originalCommit": "20f9aee16c1b0e59ceb0b4b8fada5be7c0deeaf3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4MTA5Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5161#discussion_r375981092", "bodyText": "My mistake, we are all set.", "author": "spacether", "createdAt": "2020-02-06T17:37:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5NDI4MQ=="}], "type": "inlineReview"}, {"oid": "9f9d094b879206cc5d681f40b3c618045d9e20e3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9f9d094b879206cc5d681f40b3c618045d9e20e3", "message": "Reduce redundancy in python docs\n\nThis is a followup to PR #5094, which had a few unresolved comments at\nmerge time. This reduces the amount of redundant lines in the api\nexample doc templates, and ensures that referenced Configuration objects\nare actually instantiated.", "committedDate": "2020-02-06T17:18:11Z", "type": "commit"}, {"oid": "f2cc3ada3c569f8d9c133dfab3c17d33324c21ed", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f2cc3ada3c569f8d9c133dfab3c17d33324c21ed", "message": "Regenerate samples", "committedDate": "2020-02-06T17:40:01Z", "type": "commit"}, {"oid": "f2cc3ada3c569f8d9c133dfab3c17d33324c21ed", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f2cc3ada3c569f8d9c133dfab3c17d33324c21ed", "message": "Regenerate samples", "committedDate": "2020-02-06T17:40:01Z", "type": "forcePushed"}]}