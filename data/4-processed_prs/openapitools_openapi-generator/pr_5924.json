{"pr_number": 5924, "pr_title": "[Python-experimental] Use DER encoding for ECDSA signatures, add parameter to configure hash algorithm", "pr_createdAt": "2020-04-14T04:23:25Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5924", "timeline": [{"oid": "3ba14ec410db398c0acc87c9ac81a2cbf6705c57", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3ba14ec410db398c0acc87c9ac81a2cbf6705c57", "message": "Use DER encoding for ECDSA signatures", "committedDate": "2020-04-14T04:22:29Z", "type": "commit"}, {"oid": "5df82b8f3227002c5b9612ece28fb507432b1b69", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5df82b8f3227002c5b9612ece28fb507432b1b69", "message": "Use DER encoding for ECDSA signatures", "committedDate": "2020-04-14T05:05:42Z", "type": "commit"}, {"oid": "23e28102fa5c427aedff4264af9223a79998ea2b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/23e28102fa5c427aedff4264af9223a79998ea2b", "message": "Use DER encoding for ECDSA signatures", "committedDate": "2020-04-14T19:30:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwMTUyNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#discussion_r408401525", "bodyText": "The standard python practice is to use is None when comparing to None.\nCan you change this and the below lines to that pattern?\n\n141\n147\n\nIf a user passes in an instance of a custom class then using self.hash_algorithm == None could be True when we don't expect it to be per https://stackoverflow.com/questions/14247373/python-none-comparison-should-i-use-is-or", "author": "spacether", "createdAt": "2020-04-14T20:04:07Z", "path": "modules/openapi-generator/src/main/resources/python/python-experimental/signing.mustache", "diffHunk": "@@ -118,6 +130,24 @@ class HttpSigningConfiguration(object):\n         self.private_key_path = private_key_path\n         self.private_key_passphrase = private_key_passphrase\n         self.signing_algorithm = signing_algorithm\n+        self.hash_algorithm = hash_algorithm\n+        if signing_scheme == SCHEME_RSA_SHA256:\n+            if self.hash_algorithm == None:", "originalCommit": "23e28102fa5c427aedff4264af9223a79998ea2b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwMzE3OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#discussion_r408403178", "bodyText": "Where is self.hash_algorithm used other than these exception raising checks?\nIf it is only used for exception raising, why assign it as the self.hash_algorithm instance variable?", "author": "spacether", "createdAt": "2020-04-14T20:07:10Z", "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/signing.py", "diffHunk": "@@ -126,6 +138,24 @@ def __init__(self, key_id, signing_scheme, private_key_path,\n         self.private_key_path = private_key_path\n         self.private_key_passphrase = private_key_passphrase\n         self.signing_algorithm = signing_algorithm\n+        self.hash_algorithm = hash_algorithm", "originalCommit": "23e28102fa5c427aedff4264af9223a79998ea2b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwODM4Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#discussion_r408408386", "bodyText": "It's used while creating the digest in the _get_message_digest function.", "author": "sebastien-rosset", "createdAt": "2020-04-14T20:16:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwMzE3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQxMTExMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5924#discussion_r408411113", "bodyText": "Ah, thanks I missed that", "author": "spacether", "createdAt": "2020-04-14T20:21:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQwMzE3OA=="}], "type": "inlineReview"}, {"oid": "978df0172683bcb00880b654fed96af597498bb8", "url": "https://github.com/OpenAPITools/openapi-generator/commit/978df0172683bcb00880b654fed96af597498bb8", "message": "Use DER encoding for ECDSA signatures", "committedDate": "2020-04-14T20:14:53Z", "type": "commit"}, {"oid": "c7c8ef48cf3a82a906e76215f5a2c6ba29c50034", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c7c8ef48cf3a82a906e76215f5a2c6ba29c50034", "message": "fix python unit tests for http message signature", "committedDate": "2020-04-14T22:57:11Z", "type": "commit"}, {"oid": "6cbc24aec17bf7ba66291a339211082f53c9624c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6cbc24aec17bf7ba66291a339211082f53c9624c", "message": "Fix error message", "committedDate": "2020-04-15T01:52:45Z", "type": "commit"}, {"oid": "d22990f69b850971b1172cbba09a36e5d090a168", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d22990f69b850971b1172cbba09a36e5d090a168", "message": "format python code", "committedDate": "2020-04-15T14:29:06Z", "type": "commit"}, {"oid": "a7bd6bab2866a850b32dcad5a7efd2f1c5917a59", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a7bd6bab2866a850b32dcad5a7efd2f1c5917a59", "message": "format python code", "committedDate": "2020-04-15T15:19:17Z", "type": "commit"}]}