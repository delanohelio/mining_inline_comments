{"pr_number": 5131, "pr_title": "Fix query parameter", "pr_createdAt": "2020-01-28T13:29:08Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5131", "timeline": [{"oid": "8c81a16d63fedef41be3caf5ba5cf84a00cc0cc9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/8c81a16d63fedef41be3caf5ba5cf84a00cc0cc9", "message": "fix map as query parameter, use RequestPart instead of RequestParam in\nFormParams, add filename for parameters of type file", "committedDate": "2020-01-27T16:46:00Z", "type": "commit"}, {"oid": "cc32e4db79b4274656a592f8d9bb3109237662ff", "url": "https://github.com/OpenAPITools/openapi-generator/commit/cc32e4db79b4274656a592f8d9bb3109237662ff", "message": "fix brace", "committedDate": "2020-01-28T08:27:00Z", "type": "commit"}, {"oid": "34bb3f7266964a129ee9846474199cb0a806e613", "url": "https://github.com/OpenAPITools/openapi-generator/commit/34bb3f7266964a129ee9846474199cb0a806e613", "message": "fix tests", "committedDate": "2020-01-28T10:18:45Z", "type": "commit"}, {"oid": "4468cdacda9fa6c6c4e671479da98875fc4a48fe", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4468cdacda9fa6c6c4e671479da98875fc4a48fe", "message": "run bin/windows bat files", "committedDate": "2020-01-29T08:35:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI2ODI4NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r372268285", "bodyText": "Please remove the EOL character.", "author": "wing328", "createdAt": "2020-01-29T09:21:59Z", "path": "modules/openapi-generator/src/main/resources/JavaSpring/formParams.mustache", "diffHunk": "@@ -1 +1 @@\n-{{#isFormParam}}{{^isFile}}@ApiParam(value = \"{{{description}}}\"{{#required}}, required=true{{/required}}{{#allowableValues}}, allowableValues=\"{{#values}}{{{.}}}{{^-last}}, {{/-last}}{{#-last}}{{/-last}}{{/values}}\"{{/allowableValues}}{{^isContainer}}{{#defaultValue}}, defaultValue={{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{{defaultValue}}}{{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{/defaultValue}}{{/isContainer}}) @RequestParam(value=\"{{baseName}}\"{{#required}}, required=true{{/required}}{{^required}}, required=false{{/required}})  {{{dataType}}} {{paramName}}{{/isFile}}{{#isFile}}@ApiParam(value = \"{{{description}}}\") {{#useBeanValidation}}@Valid{{/useBeanValidation}} @RequestPart(\"{{baseName}}\") {{#isListContainer}}List<{{/isListContainer}}MultipartFile{{#isListContainer}}>{{/isListContainer}} {{baseName}}{{/isFile}}{{/isFormParam}}\n\\ No newline at end of file\n+{{#isFormParam}}{{^isFile}}@ApiParam(value = \"{{{description}}}\"{{#required}}, required=true{{/required}}{{#allowableValues}}, allowableValues=\"{{#values}}{{{.}}}{{^-last}}, {{/-last}}{{#-last}}{{/-last}}{{/values}}\"{{/allowableValues}}{{^isContainer}}{{#defaultValue}}, defaultValue={{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{{defaultValue}}}{{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{/defaultValue}}{{/isContainer}}) @RequestPart(value=\"{{baseName}}\"{{#required}}, required=true{{/required}}{{^required}}, required=false{{/required}})  {{{dataType}}} {{paramName}}{{/isFile}}{{#isFile}}@ApiParam(value = \"{{{description}}}\") {{#useBeanValidation}}@Valid{{/useBeanValidation}} @RequestPart(value = \"{{baseName}}\") {{#isListContainer}}List<{{/isListContainer}}MultipartFile{{#isListContainer}}>{{/isListContainer}} {{baseName}}{{/isFile}}{{/isFormParam}}", "originalCommit": "4468cdacda9fa6c6c4e671479da98875fc4a48fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMwODY1NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r372308654", "bodyText": "Tried to remove the EOL, not sure if it is correct now?", "author": "fritzlitester", "createdAt": "2020-01-29T10:42:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI2ODI4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI2ODMyMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r372268323", "bodyText": "Please remove the EOL character", "author": "wing328", "createdAt": "2020-01-29T09:22:04Z", "path": "modules/openapi-generator/src/main/resources/JavaSpring/queryParams.mustache", "diffHunk": "@@ -1 +1 @@\n-{{#isQueryParam}}{{#useBeanValidation}}{{>beanValidationQueryParams}}{{/useBeanValidation}}@ApiParam(value = \"{{{description}}}\"{{#required}}, required = true{{/required}}{{#allowableValues}}, allowableValues = \"{{#values}}{{{.}}}{{^-last}}, {{/-last}}{{#-last}}{{/-last}}{{/values}}\"{{/allowableValues}}{{^isContainer}}{{#defaultValue}}, defaultValue = {{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{{defaultValue}}}{{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{/defaultValue}}{{/isContainer}}) {{#useBeanValidation}}@Valid{{/useBeanValidation}}{{^isModel}} @RequestParam(value = \"{{baseName}}\"{{#required}}, required = true{{/required}}{{^required}}, required = false{{/required}}{{^isContainer}}{{#defaultValue}}, defaultValue={{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{{defaultValue}}}{{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{/defaultValue}}{{/isContainer}}){{/isModel}}{{#isDate}} @org.springframework.format.annotation.DateTimeFormat(iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE){{/isDate}}{{#isDateTime}} @org.springframework.format.annotation.DateTimeFormat(iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE_TIME){{/isDateTime}} {{>optionalDataType}} {{paramName}}{{/isQueryParam}}\n\\ No newline at end of file\n+{{#isQueryParam}}{{#useBeanValidation}}{{>beanValidationQueryParams}}{{/useBeanValidation}}@ApiParam(value = \"{{{description}}}\"{{#required}}, required = true{{/required}}{{#allowableValues}}, allowableValues = \"{{#values}}{{{.}}}{{^-last}}, {{/-last}}{{#-last}}{{/-last}}{{/values}}\"{{/allowableValues}}{{^isContainer}}{{#defaultValue}}, defaultValue = {{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{{defaultValue}}}{{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{/defaultValue}}{{/isContainer}}) {{#useBeanValidation}}@Valid{{/useBeanValidation}}{{^isModel}} @RequestParam(value = {{#isMapContainer}}\"\"{{/isMapContainer}}{{^isMapContainer}}\"{{baseName}}\"{{/isMapContainer}}{{#required}}, required = true{{/required}}{{^required}}, required = false{{/required}}{{^isContainer}}{{#defaultValue}}, defaultValue={{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{{defaultValue}}}{{^isString}}\"{{/isString}}{{#isString}}{{#isEnum}}\"{{/isEnum}}{{/isString}}{{/defaultValue}}{{/isContainer}}){{/isModel}}{{#isDate}} @org.springframework.format.annotation.DateTimeFormat(iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE){{/isDate}}{{#isDateTime}} @org.springframework.format.annotation.DateTimeFormat(iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE_TIME){{/isDateTime}} {{>optionalDataType}} {{paramName}}{{/isQueryParam}}", "originalCommit": "4468cdacda9fa6c6c4e671479da98875fc4a48fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMwODY3Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r372308677", "bodyText": "Tried to remove the EOL, not sure if it is correct now?", "author": "fritzlitester", "createdAt": "2020-01-29T10:42:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI2ODMyMw=="}], "type": "inlineReview"}, {"oid": "6ac72f5088dfd7cc2ccd98c36b741e26479fb822", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6ac72f5088dfd7cc2ccd98c36b741e26479fb822", "message": "test if this solves linending problem part 1", "committedDate": "2020-01-29T09:44:47Z", "type": "commit"}, {"oid": "15be2ff5d972f2fea7b0990c6bbe39e57743992d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/15be2ff5d972f2fea7b0990c6bbe39e57743992d", "message": "test if this solves linending problem part 2", "committedDate": "2020-01-29T09:46:32Z", "type": "commit"}, {"oid": "68900c66c827183b5903fd427cff9f902559c656", "url": "https://github.com/OpenAPITools/openapi-generator/commit/68900c66c827183b5903fd427cff9f902559c656", "message": "test if this solves linending problem part 3", "committedDate": "2020-01-29T09:55:32Z", "type": "commit"}, {"oid": "46a96074ef9d2666e6bcaa06a19fe8d3bf923256", "url": "https://github.com/OpenAPITools/openapi-generator/commit/46a96074ef9d2666e6bcaa06a19fe8d3bf923256", "message": "test if this solves linending problem part 4", "committedDate": "2020-01-29T09:57:41Z", "type": "commit"}, {"oid": "03a94e10159cfab0d6b4121b958f85570225cd36", "url": "https://github.com/OpenAPITools/openapi-generator/commit/03a94e10159cfab0d6b4121b958f85570225cd36", "message": "test if this solves linending problem part 5", "committedDate": "2020-01-29T10:06:37Z", "type": "commit"}, {"oid": "f90f2a6758c76c7b08a8f42f92b72a2c99bc5462", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f90f2a6758c76c7b08a8f42f92b72a2c99bc5462", "message": "test if this solves linending problem part 6", "committedDate": "2020-01-29T10:12:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r373917144", "bodyText": "The change results in the following errors reported by the CI:\nRunning node 1 to test 'samples.circleci' defined in pom.xml ...\nopenjdk version \"1.8.0_141\"\nOpenJDK Runtime Environment (build 1.8.0_141-8u141-b15-3~14.04-b15)\nOpenJDK 64-Bit Server VM (build 25.141-b15, mixed mode)\n[ERROR] Project 'org.openapitools:openapi-spring:1.0.0' is duplicated in the reactor -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DuplicateProjectException", "author": "wing328", "createdAt": "2020-02-03T04:22:22Z", "path": "samples/server/petstore/springboot/pom.xml", "diffHunk": "@@ -1,10 +1,10 @@\n <project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n     <modelVersion>4.0.0</modelVersion>\n     <groupId>org.openapitools</groupId>\n-    <artifactId>springboot</artifactId>\n+    <artifactId>openapi-spring</artifactId>\n     <packaging>jar</packaging>\n-    <name>springboot</name>\n-    <version>1.0.0-SNAPSHOT</version>\n+    <name>openapi-spring</name>\n+    <version>1.0.0</version>", "originalCommit": "f90f2a6758c76c7b08a8f42f92b72a2c99bc5462", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk3NzAzOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r373977038", "bodyText": "This was auto generated. Did an undo manually now (don't know if this is the solution)", "author": "fritzlitester", "createdAt": "2020-02-03T08:44:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk4MjQxOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r373982419", "bodyText": "Did you remove the file before regenerating the samples? (you shouldn't need to remove the samples manually)", "author": "wing328", "createdAt": "2020-02-03T08:57:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk4ODQ1OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r373988458", "bodyText": "No, I only modified the two mustache templates manually. The rest of the modifications must have been done by tests/regeneratiing the samples or probably the development environment.", "author": "fritzlitester", "createdAt": "2020-02-03T09:11:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA2NjI5NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r374066295", "bodyText": "Could the problem be, that I'm using Windows and there is no appropriate script to update the petstore sample for windows? Which scripts do I need to execute for Windows and my changes in the JavaSpring template such that the ci tests do not fail any more?", "author": "fritzlitester", "createdAt": "2020-02-03T12:05:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA5NTU4NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r374095584", "bodyText": "ah.. likely. let me try to update the samples for you.", "author": "wing328", "createdAt": "2020-02-03T13:18:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDEwMDE5Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5131#discussion_r374100196", "bodyText": "This would be nice.", "author": "fritzlitester", "createdAt": "2020-02-03T13:27:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkxNzE0NA=="}], "type": "inlineReview"}, {"oid": "ee5682a2b81b1a9e7dbcfd221121d828e01bd32e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ee5682a2b81b1a9e7dbcfd221121d828e01bd32e", "message": "manually set back version in pom", "committedDate": "2020-02-03T08:42:15Z", "type": "commit"}, {"oid": "c69960703e77b7d61c15afbb289f44585a726ae9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c69960703e77b7d61c15afbb289f44585a726ae9", "message": "update spring samples", "committedDate": "2020-02-03T14:02:39Z", "type": "commit"}]}