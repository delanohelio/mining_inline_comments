{"pr_number": 5314, "pr_title": "[typescript] Remove incomplete support of Date type", "pr_createdAt": "2020-02-13T22:33:30Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5314", "timeline": [{"oid": "cadc3a42bec4743d4d17801c0407a0e04db47a0d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/cadc3a42bec4743d4d17801c0407a0e04db47a0d", "message": "Remove DateTime mapping from concrete TypeScript generators that do not have full support for Date deserialization", "committedDate": "2020-02-13T21:11:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379265953", "bodyText": "@amakhrov how about we leave this code here for users that manually provide the current type mapping to Date as a fallback?", "author": "macjohnny", "createdAt": "2020-02-14T06:16:47Z", "path": "modules/openapi-generator/src/main/resources/typescript-angular/api.service.mustache", "diffHunk": "@@ -168,13 +168,6 @@ export class {{classname}} {\n         if (typeof value === \"object\") {\n             if (Array.isArray(value)) {\n                 (value as any[]).forEach( elem => httpParams = this.addToHttpParamsRecursive(httpParams, elem, key));\n-            } else if (value instanceof Date) {", "originalCommit": "aee4cd20deb43570c218675442c0e39defb14d46", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NzY2Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379267666", "bodyText": "I still fail to understand how using DateTime=Date mapping can possibly work for anyone.\nIt emits Models with properties of type Date, while these are in fact strings - enforcing developers to hack it around (like myModel.dateField as any as string).\nWe can probably keep this till the major release (5.0) and clean it up then - what do you think?", "author": "amakhrov", "createdAt": "2020-02-14T06:25:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI5MjAyMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379292022", "bodyText": "currently DateTime=Date can only work if no dates are used in any body param model, but only in query params", "author": "macjohnny", "createdAt": "2020-02-14T07:57:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTMwOTQ0Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379309446", "bodyText": "I think\nhttps://github.com/OpenAPITools/openapi-generator/pull/5314/files#diff-5a152f3888a8d2712c9824bc1eff5db6L89\nshould be released with 4.3.0\nwhile\nhttps://github.com/OpenAPITools/openapi-generator/pull/5314/files#diff-f61af8a4c4eb2720bfb15259e0dca419L155\nshould be reverted to allow a fallback for backwards compatibility. Moreover, this will be useful when a full date conversion is implemented later.\nLeaving it here does not have an impact for the new default DateTime=string mapping.", "author": "macjohnny", "createdAt": "2020-02-14T08:47:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTMxNDM0OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379314349", "bodyText": "and the https://github.com/OpenAPITools/openapi-generator/pull/5314/files#diff-d270de95051055e6c877f904c360ecadL117-L128 part should also be kept, for backwards compatibility. it is checked for instanceof Date", "author": "macjohnny", "createdAt": "2020-02-14T08:58:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYwMzIyNg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379603226", "bodyText": "I'm ok with keeping the mapping in templates as is - although I believe the only reason it was ever needed is because the generated code (with DateTime=Date) forced users to pass Dates as params.\nNow, if someone still wants to have this mapping for whatever reason (provided via --type-mapping argument), they can support that with a customized template (via --template-dir).", "author": "amakhrov", "createdAt": "2020-02-14T19:23:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTY0MDgxNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5314#discussion_r379640817", "bodyText": "A discarded the commits changing the templates - only keep the ones that change the default typemapping", "author": "amakhrov", "createdAt": "2020-02-14T20:56:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2NTk1Mw=="}], "type": "inlineReview"}, {"oid": "b4429d88d812b451e785c58d370c80cf44a531f1", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b4429d88d812b451e785c58d370c80cf44a531f1", "message": "Fix model unit tests", "committedDate": "2020-02-14T20:38:38Z", "type": "commit"}, {"oid": "65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "message": "Regenerate samples", "committedDate": "2020-02-14T20:53:10Z", "type": "commit"}, {"oid": "65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/65ce1e2415ebdc7c5b07ff9929df63066587c0f9", "message": "Regenerate samples", "committedDate": "2020-02-14T20:53:10Z", "type": "forcePushed"}]}