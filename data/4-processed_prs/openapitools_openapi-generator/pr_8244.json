{"pr_number": 8244, "pr_title": "[dart] fix some compilation issues and added casts for analyzer implicit-casts flag", "pr_createdAt": "2020-12-20T15:02:25Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/8244", "timeline": [{"oid": "8c93f5e3e8a6576b04e1cef8ed0c34e3337073f2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/8c93f5e3e8a6576b04e1cef8ed0c34e3337073f2", "message": "fix: missing dart casts and analyzer issues", "committedDate": "2020-12-20T14:32:29Z", "type": "commit"}, {"oid": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "message": "chore: regenerate dart template files", "committedDate": "2020-12-20T14:43:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzI1Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397253", "bodyText": "do we need == true?", "author": "agilob", "createdAt": "2020-12-20T16:15:17Z", "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -190,22 +188,22 @@ class {{{classname}}} {\n   static List<{{{classname}}}> listFromJson(List<dynamic> json, {bool emptyIsNull, bool growable,}) =>\n     json == null || json.isEmpty\n       ? true == emptyIsNull ? null : <{{{classname}}}>[]\n-      : json.map((v) => {{{classname}}}.fromJson(v)).toList(growable: true == growable);\n+      : (json as List<Map<String, dynamic>>).map({{{classname}}}.fromJson).toList(growable: true == growable);\n \n   static Map<String, {{{classname}}}> mapFromJson(Map<String, dynamic> json) {\n     final map = <String, {{{classname}}}>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) => map[key] = {{{classname}}}.fromJson(v));\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) => map[key] = {{{classname}}}.fromJson(value as Map<String, dynamic>));\n     }\n     return map;\n   }\n \n   // maps a json object with a list of {{{classname}}}-objects as value to a dart map\n   static Map<String, List<{{{classname}}}>> mapListFromJson(Map<String, dynamic> json, {bool emptyIsNull, bool growable,}) {\n     final map = <String, List<{{{classname}}}>>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) {\n-        map[key] = {{{classname}}}.listFromJson(v, emptyIsNull: emptyIsNull, growable: growable);\n+    if (json?.isNotEmpty == true) {", "originalCommit": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzgzMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397830", "bodyText": "yes\nvoid main() {\n  if(null) {\n    print(\"x\");\n  }\n}\n\n// Uncaught Error: Assertion failed: \"boolean expression must not be null\"", "author": "Grohden", "createdAt": "2020-12-20T16:19:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3MTQ1MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546771451", "bodyText": "I understand this change but in any case we don't care about wether it is empty. foreach doesn't run if it is empty.\nMaybe something like this but thats just my preference, up  to you.\nreturn json?.map((key, dynamic value) => MapEntry(key, {{{classname}}}.listFromJson(value, emptyIsNull: emptyIsNull, growable: growable,),) ?? <String, {{{classname}}}>{};", "author": "kuhnroyal", "createdAt": "2020-12-21T15:32:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3NDEyOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546774129", "bodyText": "Ideally you could change this in another PR as it is probably related to some analyzer rule.", "author": "kuhnroyal", "createdAt": "2020-12-21T15:37:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzI1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzQ1MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397450", "bodyText": "can you assess if this has any performance hit? Can casting things inside a loop be slower than casting upfront in loop definition?", "author": "agilob", "createdAt": "2020-12-20T16:16:45Z", "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -190,22 +188,22 @@ class {{{classname}}} {\n   static List<{{{classname}}}> listFromJson(List<dynamic> json, {bool emptyIsNull, bool growable,}) =>\n     json == null || json.isEmpty\n       ? true == emptyIsNull ? null : <{{{classname}}}>[]\n-      : json.map((v) => {{{classname}}}.fromJson(v)).toList(growable: true == growable);\n+      : (json as List<Map<String, dynamic>>).map({{{classname}}}.fromJson).toList(growable: true == growable);\n \n   static Map<String, {{{classname}}}> mapFromJson(Map<String, dynamic> json) {\n     final map = <String, {{{classname}}}>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) => map[key] = {{{classname}}}.fromJson(v));\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) => map[key] = {{{classname}}}.fromJson(value as Map<String, dynamic>));\n     }\n     return map;\n   }\n \n   // maps a json object with a list of {{{classname}}}-objects as value to a dart map\n   static Map<String, List<{{{classname}}}>> mapListFromJson(Map<String, dynamic> json, {bool emptyIsNull, bool growable,}) {\n     final map = <String, List<{{{classname}}}>>{};\n-    if (json != null && json.isNotEmpty) {\n-      json.forEach((String key, dynamic v) {\n-        map[key] = {{{classname}}}.listFromJson(v, emptyIsNull: emptyIsNull, growable: growable);\n+    if (json?.isNotEmpty == true) {\n+      json.forEach((key, value) {\n+        map[key] = {{{classname}}}.listFromJson(value as List<dynamic>, emptyIsNull: emptyIsNull, growable: growable,);", "originalCommit": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5OTgxNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546399814", "bodyText": "can you assess if this has any performance hit?\n\nI lack the knowledge for that...\n\nCan casting things inside a loop slower be slower than casting upfront in loop definition?\n\nU mean to move this to the method signature? declaring Map<String, dynamic> json as Map<String, List<dynamic>> json?\nOn that note.. isn't this a microoptimization? I know that dart runtime will validate all assignment types whether you cast or not something, maybe the compiler make some optimizations when you cast before to not validate it again \ud83e\udd14... but again, I lack the knowledge for that.\noh, and json_serializable also generates theses casts that I've added", "author": "Grohden", "createdAt": "2020-12-20T16:36:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzQ1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwNTM3Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546405373", "bodyText": "Casts usually don't have a runtime impact, they are mostly there to make the compiler happy.", "author": "kuhnroyal", "createdAt": "2020-12-20T17:24:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5NzQ1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzg3NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546397874", "bodyText": "we already know it's a map of things, what does knowing it is <dynamic, dynamic> bring?", "author": "agilob", "createdAt": "2020-12-20T16:19:52Z", "path": "modules/openapi-generator/src/main/resources/dart2/api.mustache", "diffHunk": "@@ -192,7 +192,7 @@ class {{{classname}}} {\n       {{/isArray}}\n       {{^isArray}}\n         {{#isMap}}\n-      return {{{returnType}}}.from(apiClient.deserialize(_decodeBodyBytes(response), '{{{returnType}}}'));\n+      return {{{returnType}}}.from(apiClient.deserialize(_decodeBodyBytes(response), '{{{returnType}}}') as Map<dynamic, dynamic>);", "originalCommit": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODQzMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546398430", "bodyText": "With the implicit casts false we get this:\n\nwhich means that we can't implicit cast a type to a more specialized type (dynamic to Map<dynamic, dynamic>)", "author": "Grohden", "createdAt": "2020-12-20T16:25:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMDQzNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546400437", "bodyText": "maybe we could just cast it instead of applying the map.from? \ud83e\udd14 gonna try that in the https://dartpad.dev/", "author": "Grohden", "createdAt": "2020-12-20T16:41:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTU0MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546401540", "bodyText": "just casting it would work:\nvoid main() {\n  print(foo({\"a\": 1}));\n}\n\nMap<String, int> foo(dynamic response) {\n  return response as Map<String, int>;\n}\nmaybe the .from was to create a copy to prevent mutability? I'm not sure.. but if you wish so I can change it to just a cast", "author": "Grohden", "createdAt": "2020-12-20T16:50:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMjEyNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546402127", "bodyText": "that's fine I'm cool with it, just was asking", "author": "agilob", "createdAt": "2020-12-20T16:56:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5Nzg3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODAxMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546398013", "bodyText": "same here, we know that the method accepts List<dynamic> json as first param, so why the cast here?", "author": "agilob", "createdAt": "2020-12-20T16:21:17Z", "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -109,15 +109,15 @@ class {{{classname}}} {\n           ? null\n           : (json[r'{{{baseName}}}'] as List).map(\n       {{#items.complexType}}\n-              {{items.complexType}}.listFromJson(json[r'{{{baseName}}}'])\n+              {{items.complexType}}.listFromJson(json[r'{{{baseName}}}'] as List<dynamic>)", "originalCommit": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODcxNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546398715", "bodyText": "same as above, with the implicit-casts:false we cant implicit cast dynamic to List<dynamic>, but as I said in the description, if that flag is not desirable I can remove almost all casts \ud83e\udd14 and I'm pretty sure it will still work", "author": "Grohden", "createdAt": "2020-12-20T16:27:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM5ODAxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546401745", "bodyText": "User of this API should be able to pass Set as well, eg. let dart remove duplicated elements and not relay on order of elements in Iterable.\nquery params and json aren't order dependent, so abstract collection fits better here.", "author": "agilob", "createdAt": "2020-12-20T16:52:40Z", "path": "modules/openapi-generator/src/main/resources/dart2/api_client.mustache", "diffHunk": "@@ -70,7 +70,7 @@ class ApiClient {\n   Future<Response> invokeAPI(\n     String path,\n     String method,\n-    Iterable<QueryParam> queryParams,\n+    List<QueryParam> queryParams,", "originalCommit": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMjYyMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546402622", "bodyText": "I've changed this one based on the call to _updateParamsForAuth, this function expect the param to be a list, passing a set would be accepted but would result in runtime (or maybe it's compile time?) error when you call that function\n\nvoid main() {\n  foo({\"a\", \"b\"});\n}\n\nvoid foo(Iterable<String> authNames) {\n  bar(authNames);\n}\n\nvoid bar(List<String> authNames) {\n}\n\n// Uncaught Error: TypeError: Instance of '_LinkedHashSet<String>': type '_LinkedHashSet<String>' is not a subtype of type 'List<String>'", "author": "Grohden", "createdAt": "2020-12-20T17:00:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMzI4MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546403281", "bodyText": "There doesn't seem to be any reason for _updateParamsForAuth being limited to List it's not order dependent either\n  /// Update query and header parameters based on authentication settings.\n  /// @param authNames The authentications to apply\n  void _updateParamsForAuth(List<String> authNames, List<QueryParam> queryParams, Map<String, String> headerParams) {\n    authNames.forEach((authName) {\n      Authentication auth = _authentications[authName];\n      if (auth == null) throw new ArgumentError(\"Authentication undefined: \" + authName);\n      auth.applyToParams(queryParams, headerParams);\n    });\n  }\nSet seems to be even more correct options as some frameworks (I remember one PHP based doing it) will throw error if you pass the same url param twice.\nI would stick to Iterable to let users pick correct implementation", "author": "agilob", "createdAt": "2020-12-20T17:06:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMzc1OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546403759", "bodyText": "Well, what you said make sense, I'm gonna try to change the signature of _updateParamsForAuth and applyToParams to receive a Iterable instead of a List then", "author": "Grohden", "createdAt": "2020-12-20T17:09:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwNDg3Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546404876", "bodyText": "I forgot to thank you for the review, thanks for that \u2764\ufe0f\nIt turns out that I can't change the signature of applyToParams to a Iterable: in ApiKeyAuth there's a call to .add, and Iterables don't have that method :/\nWe could change the method and add a .toList() call:\n  void _updateParamsForAuth(\n    List<String> authNames,\n    Iterable<QueryParam> queryParams,\n    Map<String, String> headerParams,\n  ) {\n    for(final authName in authNames) {\n      final auth = _authentications[authName];\n      if (auth == null) {\n        throw ArgumentError('Authentication undefined: $authName');\n      }\n      auth.applyToParams(queryParams.toList(), headerParams);\n    }\n  }\nBut I'm pretty sure that this would make the applyToParams implementers .add calls pointless.. they rely on mutability, and .toList would create a copy of the original list", "author": "Grohden", "createdAt": "2020-12-20T17:20:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwNjIwMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546406200", "bodyText": "Does that mean it currently throws at runtime if we pass Set in place of the existing iterable, which at the end is expected to be a List?", "author": "agilob", "createdAt": "2020-12-20T17:32:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwNjQyMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546406423", "bodyText": "so basically for now it has to be specific implementation Set or List but not parent class Iterable because it doesn't have .add method \ud83d\udc4f.\nsure, leave it as list then", "author": "agilob", "createdAt": "2020-12-20T17:34:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwNjkxMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546406911", "bodyText": "We could change the method and add a .toList() call:\n\nMy personal choice would be to pass iterable to allows sets and any other lists and sets, but it's also outside of scope of your PR, so I'm leaving the decision with you.", "author": "agilob", "createdAt": "2020-12-20T17:38:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcwNzg0NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546707845", "bodyText": "I'm gonna keep it as a List, ideally we would use iterable and not rely on mutability (as it may affect code outside of this generated lib).\nI'm gonna try to open another PR to make it accept a iterable and also rely on pure functions instead of mutating the list", "author": "Grohden", "createdAt": "2020-12-21T13:33:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3Mjg2Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546772862", "bodyText": "Is this external API? If so, this is a breaking change, 5.0.0 was just released. But it also fixes a bug so I am not sure what the process is here. @agilob You gonna fix this before the next release? :)", "author": "kuhnroyal", "createdAt": "2020-12-21T15:35:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMTc0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxNjQ1MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546416450", "bodyText": "Are we sure that this can only be a primitive type here?", "author": "kuhnroyal", "createdAt": "2020-12-20T19:09:50Z", "path": "modules/openapi-generator/src/main/resources/dart2/class.mustache", "diffHunk": "@@ -133,17 +133,15 @@ class {{{classname}}} {\n   \t          {{/items.complexType}}\n           {{/items.isArray}}\n           {{^items.isArray}}\n-        {{{name}}}: json[r'{{{baseName}}}'] == null\n-          ? null\n-          : {{{complexType}}}.mapFromJson(json[r'{{{baseName}}}']),\n+        {{{name}}}: json[r'{{{baseName}}}'] as {{{datatype}}},", "originalCommit": "0dfcd2f6794ed92db67b68a5fa0328fd4162bc00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY4NTM0NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546685345", "bodyText": "This is the map of maps case...\nI don't see this case in the petstore, but my project had this case:\n\nI'm gonna change this line to the same as the list treatment (above)\n          {{#items.isMap}}\n            {{{name}}}: json[r'{{{baseName}}}'] == null\n              ? null\n                {{#items.complexType}}\n                    : {{items.complexType}}.mapFromJson(json[r'{{{baseName}}}']),\n                {{/items.complexType}}\n                {{^items.complexType}}\n                    : (json[r'{{{baseName}}}'] as Map).cast<String, Map>(),\n                {{/items.complexType}}\n          {{/items.isMap}}\n          {{^items.isMap}}\n              {{{name}}}: json[r'{{{baseName}}}'] // primitive? Probably Map<String, primitive>\n          {{/items.isMap}}\nThis is what it will generate:\n\nIts that ok?", "author": "Grohden", "createdAt": "2020-12-21T12:43:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxNjQ1MA=="}], "type": "inlineReview"}, {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "message": "refactor: remove unneeded implicit-casts:false and regenerate sources", "committedDate": "2020-12-21T14:21:02Z", "type": "commit"}, {"oid": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "message": "refactor: remove unneeded implicit-casts:false and regenerate sources", "committedDate": "2020-12-21T14:21:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NTE4OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546765188", "bodyText": "Missing space", "author": "kuhnroyal", "createdAt": "2020-12-21T15:21:13Z", "path": "modules/openapi-generator/src/main/resources/dart2/api_client.mustache", "diffHunk": "@@ -209,12 +209,12 @@ class ApiClient {\n     List<QueryParam> queryParams,\n     Map<String, String> headerParams,\n   ) {\n-    authNames.forEach((authName) {\n+    for(final authName in authNames) {", "originalCommit": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc5NDYwMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546794601", "bodyText": "where is the space missing? It's all good.", "author": "agilob", "createdAt": "2020-12-21T16:12:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NTE4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwNDM0OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546804349", "bodyText": "for (. Whatever, we need to add post-processing to the generated examples so we have diffs that don't have this problem.", "author": "kuhnroyal", "createdAt": "2020-12-21T16:30:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NTE4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjY3MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546766671", "bodyText": "Remove the newline", "author": "kuhnroyal", "createdAt": "2020-12-21T15:23:52Z", "path": "modules/openapi-generator/src/main/resources/dart2/enum.mustache", "diffHunk": "@@ -78,4 +78,4 @@ class {{{classname}}}TypeTransformer {\n \n   /// Singleton [{{{classname}}}TypeTransformer] instance.\n   static {{{classname}}}TypeTransformer _instance;\n-}\n\\ No newline at end of file\n+}", "originalCommit": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc5NTEzMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546795132", "bodyText": "It's all good, this is autogenerated code, shouldn't even be committed to version control, there are plenty of generators that leave +5 empty whitespaces at end of files. Not worth spending time on such aesthetic things.", "author": "agilob", "createdAt": "2020-12-21T16:13:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwMTY2NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546801664", "bodyText": "These new lines were added by AS, but I'm with @agilob on this one.. I always apply dartfmt on the generated client so things like empty lines are removed.. but when we add effective dart (or any other lint), the generated code will need to be properly formatted isn't?", "author": "Grohden", "createdAt": "2020-12-21T16:25:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwMjgzOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546802839", "bodyText": "The problem is that it will change again for the next PR and the next and the next. That is lots of noise that doesn't actually affect the commit. And both enum templates are actually inlined so you suddenly end up with duplicate/triple empty lines between classes. But whatever, up to you.", "author": "kuhnroyal", "createdAt": "2020-12-21T16:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjY3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjgwMzY3Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546803672", "bodyText": "would be nice to properly format the mustache templates and leave the dart fonts reformat for the user.. I find very confusing to read if else conditions on the current mustache templates", "author": "Grohden", "createdAt": "2020-12-21T16:29:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjY3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2NjcyOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8244#discussion_r546766729", "bodyText": "Remove the newline", "author": "kuhnroyal", "createdAt": "2020-12-21T15:23:59Z", "path": "modules/openapi-generator/src/main/resources/dart2/enum_inline.mustache", "diffHunk": "@@ -78,4 +78,4 @@ class {{{classname}}}{{{enumName}}}TypeTransformer {\n \n   /// Singleton [{{{classname}}}{{{enumName}}}TypeTransformer] instance.\n   static {{{classname}}}{{{enumName}}}TypeTransformer _instance;\n-}\n\\ No newline at end of file\n+}", "originalCommit": "a4f8a215bb57f9caaa4237e407d99e40f8e5aa2b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "37ceb20dc61fe57eefa5036a121855e328d15274", "url": "https://github.com/OpenAPITools/openapi-generator/commit/37ceb20dc61fe57eefa5036a121855e328d15274", "message": "Merge branch 'master' into fix/dart-templates\n\n# Conflicts:\n#\tmodules/openapi-generator/src/main/resources/dart2/enum.mustache\n#\tmodules/openapi-generator/src/main/resources/dart2/enum_inline.mustache", "committedDate": "2021-03-01T18:08:08Z", "type": "commit"}, {"oid": "516430a2cf8324171ab582e2bdcd35dedcee624c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/516430a2cf8324171ab582e2bdcd35dedcee624c", "message": "chore: regenerate templates after merge", "committedDate": "2021-03-01T18:18:35Z", "type": "commit"}, {"oid": "53f652523f0d783d907509dc6df4e7009a8fc945", "url": "https://github.com/OpenAPITools/openapi-generator/commit/53f652523f0d783d907509dc6df4e7009a8fc945", "message": "Merge branch 'master' into fix/dart-templates\n\n# Conflicts:\n#\tmodules/openapi-generator/src/main/resources/dart2/api_client.mustache\n#\tmodules/openapi-generator/src/main/resources/dart2/serialization/native/native_enum.mustache\n#\tmodules/openapi-generator/src/main/resources/dart2/serialization/native/native_enum_inline.mustache\n#\tsamples/client/petstore/dart2/petstore_client_lib/.openapi-generator/FILES\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/api_client.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/api_response.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/category.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/order.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/pet.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/tag.dart\n#\tsamples/client/petstore/dart2/petstore_client_lib/lib/model/user.dart\n#\tsamples/openapi3/client/petstore/dart-dio-next/petstore_client_lib_fake/analysis_options.yaml\n#\tsamples/openapi3/client/petstore/dart2/petstore_client_lib/lib/api_client.dart\n#\tsamples/openapi3/client/petstore/dart2/petstore_client_lib_fake/lib/api_client.dart\n#\tsamples/openapi3/client/petstore/dart2/petstore_json_serializable_client_lib_fake/lib/model/enum_arrays.dart\n#\tsamples/openapi3/client/petstore/dart2/petstore_json_serializable_client_lib_fake/lib/model/enum_test.dart", "committedDate": "2021-04-19T22:06:29Z", "type": "commit"}, {"oid": "9b63f22fd33d59c40a51d94ca56ccde9673fe4c8", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9b63f22fd33d59c40a51d94ca56ccde9673fe4c8", "message": "chore: regenerate dart pet store codes", "committedDate": "2021-04-19T23:48:10Z", "type": "commit"}]}