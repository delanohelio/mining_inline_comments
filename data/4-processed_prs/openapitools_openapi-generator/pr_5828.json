{"pr_number": 5828, "pr_title": "[C][Client]Fix data lost when libcurl write-data callback function is called multiple times", "pr_createdAt": "2020-04-05T11:32:22Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5828", "timeline": [{"oid": "f21bdaefdeb9b7c431365b6dfd511723eb355bdd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f21bdaefdeb9b7c431365b6dfd511723eb355bdd", "message": "[C][Client]Fix the defect of data lost when libcurl write-data callback function (configured by CURLOPT_WRITEFUNCTION) is called multiple times.", "committedDate": "2020-04-05T11:00:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwODYzNg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5828#discussion_r406808636", "bodyText": "Is there any specific reason to keep this outside of the if check? or can it be moved inside also? as it will be already 0 if the if statement is false. So the line becomes obsolete.", "author": "zhemant", "createdAt": "2020-04-10T15:27:47Z", "path": "modules/openapi-generator/src/main/resources/C-libcurl/api-body.mustache", "diffHunk": "@@ -373,7 +373,9 @@ end:\n     {{/returnTypeIsPrimitive}}\n     if (apiClient->dataReceived) {\n         free(apiClient->dataReceived);\n+        apiClient->dataReceived = NULL;\n     }\n+    apiClient->dataReceivedLen = 0;", "originalCommit": "09cdc31a37127b9304a7cff29fec606914058fae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzAwNjIyNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5828#discussion_r407006224", "bodyText": "@zhemant\nYes. it can be moved inside. I have updated it.\nCould you please review the new code change ?", "author": "ityuhui", "createdAt": "2020-04-11T02:30:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwODYzNg=="}], "type": "inlineReview"}, {"oid": "9d3bdc003f1328c1d2bc2e06919538b9a3cdac4c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9d3bdc003f1328c1d2bc2e06919538b9a3cdac4c", "message": "Merge branch 'master' of https://github.com/ityuhui/openapi-generator into yhlibcurlwrite", "committedDate": "2020-04-11T02:40:44Z", "type": "commit"}, {"oid": "b6fb22fe943d448c596bef0ebb05e755ec4130a5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b6fb22fe943d448c596bef0ebb05e755ec4130a5", "message": "[C][Client]Fix data lost when libcurl write-data callback function is called multiple times (Reset count)", "committedDate": "2020-04-11T02:47:02Z", "type": "commit"}]}