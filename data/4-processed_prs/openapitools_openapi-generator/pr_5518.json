{"pr_number": 5518, "pr_title": "[typescript-nestjs] Add Nestjs Generator", "pr_createdAt": "2020-03-04T02:46:15Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5518", "timeline": [{"oid": "14b76fd7dbdccd1889905399a806aa02bb9a2a5c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/14b76fd7dbdccd1889905399a806aa02bb9a2a5c", "message": "#3336 add nestjs generator", "committedDate": "2019-10-10T22:32:16Z", "type": "commit"}, {"oid": "2aba9d52d25e4de42d81b77c93d07445f290fd85", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2aba9d52d25e4de42d81b77c93d07445f290fd85", "message": "Merge branch 'master' of https://github.com/OpenAPITools/openapi-generator", "committedDate": "2019-10-10T23:13:33Z", "type": "commit"}, {"oid": "a7b351ed48d55f1ebf100210c366fed6682fee97", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a7b351ed48d55f1ebf100210c366fed6682fee97", "message": "#3336 add nestjs generator", "committedDate": "2020-02-04T15:44:08Z", "type": "commit"}, {"oid": "bdff3579e2d7610c025247b8d803451374bb1965", "url": "https://github.com/OpenAPITools/openapi-generator/commit/bdff3579e2d7610c025247b8d803451374bb1965", "message": "Merge branch 'master' of https://github.com/vfrank66/openapi-generator", "committedDate": "2020-02-04T15:45:07Z", "type": "commit"}, {"oid": "6ff567d9cce447c7cdd08b758c94a9d9c5cdf59d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6ff567d9cce447c7cdd08b758c94a9d9c5cdf59d", "message": "#3336 add nestjs generator", "committedDate": "2020-03-04T02:20:12Z", "type": "commit"}, {"oid": "7f5ac3bcb789d2ff94e3451b3b133cae8c0829ef", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7f5ac3bcb789d2ff94e3451b3b133cae8c0829ef", "message": "#3336 add nestjs generator", "committedDate": "2020-03-04T02:21:53Z", "type": "commit"}, {"oid": "622fba812c5f90090bbad6cfa6ec6daba385c95d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/622fba812c5f90090bbad6cfa6ec6daba385c95d", "message": "Merge branch 'master' of https://github.com/vfrank66/openapi-generator", "committedDate": "2020-03-04T02:22:37Z", "type": "commit"}, {"oid": "7f80f961ef0cd0e50b9d2bb856a3703d5b821640", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7f80f961ef0cd0e50b9d2bb856a3703d5b821640", "message": "remove extra files from building", "committedDate": "2020-03-04T02:38:46Z", "type": "commit"}, {"oid": "3e5310c45faf5c5fbedf8342ba0872cd35251062", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3e5310c45faf5c5fbedf8342ba0872cd35251062", "message": "Revert \"remove extra files from building\"\n\nThis reverts commit 7f80f961ef0cd0e50b9d2bb856a3703d5b821640.", "committedDate": "2020-03-04T02:41:01Z", "type": "commit"}, {"oid": "54425caa354bcafd973ad7d1161c8a80d22119ab", "url": "https://github.com/OpenAPITools/openapi-generator/commit/54425caa354bcafd973ad7d1161c8a80d22119ab", "message": "fix merge", "committedDate": "2020-03-04T02:42:58Z", "type": "commit"}, {"oid": "4059af4172d247f89e6218cf48af5cef4294359c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4059af4172d247f89e6218cf48af5cef4294359c", "message": "fix tests", "committedDate": "2020-03-04T03:08:56Z", "type": "commit"}, {"oid": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "message": "Add missing test client options provider for nestjs", "committedDate": "2020-03-04T03:20:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3ODQwNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387478404", "bodyText": "is this import necessary? shouldn't the consumer import this on a global level?", "author": "macjohnny", "createdAt": "2020-03-04T06:57:12Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/api.module.mustache", "diffHunk": "@@ -0,0 +1,40 @@\n+import { DynamicModule, HttpService, HttpModule, Module, Global } from '@nestjs/common';\n+import { Configuration } from './configuration';\n+import { BASE_PATH } from './variables';\n+\n+{{#apiInfo}}\n+{{#apis}}\n+import { {{classname}} } from './{{importPath}}';\n+{{/apis}}\n+{{/apiInfo}}\n+\n+@Global\n+@Module({\n+  imports:      [ HttpModule ],", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIyNjczOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487226739", "bodyText": "Here the HttpModule is used as a static module so yes it can be, but I actually should probably change it to a dynamic module with HttpModule.register({})", "author": "vfrank66", "createdAt": "2020-09-11T18:48:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3ODQwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3ODk2Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387478962", "bodyText": "I guess this file should be named .gitignore instead of gitignore", "author": "macjohnny", "createdAt": "2020-03-04T06:59:00Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/gitignore", "diffHunk": "@@ -0,0 +1,4 @@\n+wwwroot/*.js", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIyNzMwMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487227303", "bodyText": "Not sure why but the standard is to keep the name gitignore and then rename is the codegen         supportingFiles.add(new SupportingFile(\"gitignore\", \"\", \".gitignore\")); this is done is all typescript generators. Maybe it is something with git idk", "author": "vfrank66", "createdAt": "2020-09-11T18:49:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3ODk2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3OTU1Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387479557", "bodyText": "is the indentation correct?", "author": "macjohnny", "createdAt": "2020-03-04T07:00:57Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/modelGenericEnums.mustache", "diffHunk": "@@ -0,0 +1,30 @@\n+{{#hasEnums}}\n+\n+{{^stringEnums}}\n+export namespace {{classname}} {\n+{{/stringEnums}}\n+{{#vars}}\n+    {{#isEnum}}\n+{{#stringEnums}}\n+export enum {{classname}}{{enumName}} {\n+{{#allowableValues}}\n+{{#enumVars}}\n+    {{name}} = {{{value}}}{{^-last}},{{/-last}}\n+{{/enumVars}}\n+{{/allowableValues}}\n+};\n+{{/stringEnums}}\n+{{^stringEnums}}\n+    export type {{enumName}} = {{#allowableValues}}{{#enumVars}}{{{value}}}{{^-last}} | {{/-last}}{{/enumVars}}{{/allowableValues}};", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIyODU4Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487228587", "bodyText": "looking into", "author": "vfrank66", "createdAt": "2020-09-11T18:52:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3OTU1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3OTk1NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387479955", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"author\": \"Swagger Codegen Contributors\",\n          \n          \n            \n              \"author\": \"OpenAPI Generator Contributors\",", "author": "macjohnny", "createdAt": "2020-03-04T07:02:07Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/package.mustache", "diffHunk": "@@ -0,0 +1,71 @@\n+{\n+  \"name\": \"{{{npmName}}}\",\n+  \"version\": \"{{{npmVersion}}}\",\n+  \"description\": \"swagger client for {{{npmName}}}\",\n+  \"author\": \"Swagger Codegen Contributors\",", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIyNzg2MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487227861", "bodyText": "\ud83d\udc4d", "author": "vfrank66", "createdAt": "2020-09-11T18:50:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3OTk1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3OTk5MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387479991", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"description\": \"swagger client for {{{npmName}}}\",\n          \n          \n            \n              \"description\": \"REST client for {{{npmName}}}\",", "author": "macjohnny", "createdAt": "2020-03-04T07:02:16Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/package.mustache", "diffHunk": "@@ -0,0 +1,71 @@\n+{\n+  \"name\": \"{{{npmName}}}\",\n+  \"version\": \"{{{npmVersion}}}\",\n+  \"description\": \"swagger client for {{{npmName}}}\",", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIyODg4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487228889", "bodyText": "\ud83d\udc4d", "author": "vfrank66", "createdAt": "2020-09-11T18:52:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ3OTk5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MDI0Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387480243", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"build:clean\": \"rm -rf dist/ 2> /dev/null && tsc -p tsconfig.build.json\",\n          \n          \n            \n                \"build:clean\": \"rimraf dist/ 2> /dev/null && tsc -p tsconfig.build.json\",", "author": "macjohnny", "createdAt": "2020-03-04T07:03:06Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/package.mustache", "diffHunk": "@@ -0,0 +1,71 @@\n+{\n+  \"name\": \"{{{npmName}}}\",\n+  \"version\": \"{{{npmVersion}}}\",\n+  \"description\": \"swagger client for {{{npmName}}}\",\n+  \"author\": \"Swagger Codegen Contributors\",\n+  \"keywords\": [\n+    \"swagger-client\"\n+  ],\n+  \"license\": \"Unlicense\",\n+  \"scripts\": {\n+    \"build\": \"tsc -p tsconfig.build.json\",\n+    \"build:clean\": \"rm -rf dist/ 2> /dev/null && tsc -p tsconfig.build.json\",", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MDc2OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387480768", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:05:06Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/options/TypeScriptNestjsClientOptionsProvider.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MDgzMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387480832", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:05:22Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptnestjs/TypeScriptNestjsClientOptionsTest.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MDg3Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387480877", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:05:32Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptnestjs/TypeScriptNestjsModelTest.java", "diffHunk": "@@ -0,0 +1,244 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MDkxNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387480915", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:05:39Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptnestjs/TypescriptNestjsAdditionalPropertiesIntegrationTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MDk2OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387480969", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:05:49Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptnestjs/TypescriptNestjsArrayAndObjectIntegrationTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTAyNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387481024", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:06:01Z", "path": "modules/openapi-generator/src/test/java/org/openapitools/codegen/typescript/typescriptnestjs/TypescriptNestjsPestoreIntegrationTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzMDAzOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487230038", "bodyText": "\ud83d\udc4d", "author": "vfrank66", "createdAt": "2020-09-11T18:55:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTAyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTA3Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387481076", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2018 SmartBear Software", "author": "macjohnny", "createdAt": "2020-03-04T07:06:12Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzMDI2Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487230263", "bodyText": "\ud83d\udc4d  although not sure why i should remove this a lot if not all the other codegens have this.", "author": "vfrank66", "createdAt": "2020-09-11T18:55:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTA3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTQ2NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387481465", "bodyText": "I guess the groovy files are unrelated to this PR?", "author": "macjohnny", "createdAt": "2020-03-04T07:07:38Z", "path": "samples/client/petstore/groovy/bin/main/org/openapitools/api/ApiUtils.groovy", "diffHunk": "@@ -0,0 +1,54 @@\n+package org.openapitools.api\n+\n+import static groovyx.net.http.HttpBuilder.configure\n+import static java.net.URI.create\n+\n+class ApiUtils {", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzMDQ1Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487230452", "bodyText": "for some reason building the projects creates all these groovy files, idk what is going on", "author": "vfrank66", "createdAt": "2020-09-11T18:56:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTQ2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTY2Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387481666", "bodyText": "I guess the kotlin files are unrelated to this PR", "author": "macjohnny", "createdAt": "2020-03-04T07:08:17Z", "path": "samples/client/petstore/kotlin-nonpublic/bin/main/org/openapitools/client/apis/StoreApi.kt", "diffHunk": "@@ -0,0 +1,192 @@\n+/**", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzMDUyOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487230529", "bodyText": "same as the groovy", "author": "vfrank66", "createdAt": "2020-09-11T18:56:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MTY2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MjQ0NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387482445", "bodyText": "please also add an entry to\n\n  \n    \n      openapi-generator/bin/utils/ensure-up-to-date\n    \n    \n         Line 61\n      in\n      3e5fb67\n    \n    \n    \n    \n\n        \n          \n           \"${root}/bin/typescript-rxjs-petstore-all.sh\"", "author": "macjohnny", "createdAt": "2020-03-04T07:10:42Z", "path": "bin/nestjs-client-petstore.sh", "diffHunk": "@@ -0,0 +1,31 @@\n+#!/bin/sh", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzMTU1NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487231555", "bodyText": "@macjohnny  Im sorry I don't understand this.", "author": "vfrank66", "createdAt": "2020-09-11T18:58:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ4MjQ0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwMDM2MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387500360", "bodyText": "could you please clarify how this option is used in the generated code?", "author": "amakhrov", "createdAt": "2020-03-04T08:01:34Z", "path": "docs/generators/typescript-nestjs.md", "diffHunk": "@@ -0,0 +1,29 @@\n+\n+---\n+id: generator-opts-client-typescript-nestjs\n+title: Config Options for typescript-nestjs\n+sidebar_label: typescript-nestjs\n+---\n+\n+| Option | Description | Values | Default |\n+| ------ | ----------- | ------ | ------- |\n+|sortParamsByRequiredFlag|Sort method arguments to place required parameters before optional parameters.| |true|\n+|ensureUniqueParams|Whether to ensure parameter names are unique in an operation (rename parameters that are not).| |true|\n+|allowUnicodeIdentifiers|boolean, toggles whether unicode identifiers are allowed in names or not, default is false| |false|\n+|prependFormOrBodyParameters|Add form or body parameters to the beginning of the parameter list.| |false|\n+|modelPropertyNaming|Naming convention for the property: 'camelCase', 'PascalCase', 'snake_case' and 'original', which keeps the original name| |camelCase|\n+|supportsES6|Generate code that conforms to ES6.| |false|\n+|npmName|The name under which you want to publish generated npm package. Required to generate a full package| |null|\n+|npmVersion|The version of your npm package. If not provided, using the version from the OpenAPI specification file.| |1.0.0|\n+|snapshot|When setting this property to true, the version will be suffixed with -SNAPSHOT.yyyyMMddHHmm| |false|\n+|npmRepository|Use this property to set an url your private npmRepo in the package.json| |null|\n+|withInterfaces|Setting this property to true will generate interfaces next to the default class implementations.| |false|\n+|taggedUnions|Use discriminators to create tagged unions instead of extending interfaces.| |false|\n+|providedInRoot|Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).| |false|", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzNTE5Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487235196", "bodyText": "It is not used and should be removed!", "author": "vfrank66", "createdAt": "2020-09-11T19:06:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwMDM2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwMjk5NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387502994", "bodyText": "Most of these cli options duplicate the ones defined in the parent class. Is there a particular reason to duplicate it here also?", "author": "amakhrov", "createdAt": "2020-03-04T08:08:23Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String PROVIDED_IN_ROOT = \"providedInRoot\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(CliOption.newBoolean(PROVIDED_IN_ROOT,\n+                \"Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).\",\n+                false));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzNjY1MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487236650", "bodyText": "I cannot find the duplication, link?", "author": "vfrank66", "createdAt": "2020-09-11T19:09:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwMjk5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwNDQyNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387504424", "bodyText": "Looks like this logic was copied from the Angular generator. Does it apply to Nest framework with exactly same version numbers?", "author": "amakhrov", "createdAt": "2020-03-04T08:11:53Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String PROVIDED_IN_ROOT = \"providedInRoot\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(CliOption.newBoolean(PROVIDED_IN_ROOT,\n+                \"Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).\",\n+                false));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));\n+    }\n+\n+    @Override\n+    protected void addAdditionPropertiesToCodeGenModel(CodegenModel codegenModel, Schema schema) {\n+        codegenModel.additionalPropertiesType = getTypeDeclaration(ModelUtils.getAdditionalProperties(schema));\n+        addImport(codegenModel, codegenModel.additionalPropertiesType);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"typescript-nestjs\";\n+    }\n+\n+    @Override\n+    public String getHelp() {\n+        return \"Generates a TypeScript Nestjs 6.x client library.\";\n+    }\n+\n+    @Override\n+    public void processOpts() {\n+        super.processOpts();\n+        supportingFiles.add(\n+                new SupportingFile(\"models.mustache\", modelPackage().replace('.', File.separatorChar), \"models.ts\"));\n+        supportingFiles\n+                .add(new SupportingFile(\"apis.mustache\", apiPackage().replace('.', File.separatorChar), \"api.ts\"));\n+        supportingFiles.add(new SupportingFile(\"index.mustache\", getIndexDirectory(), \"index.ts\"));\n+        supportingFiles.add(new SupportingFile(\"api.module.mustache\", getIndexDirectory(), \"api.module.ts\"));\n+        supportingFiles.add(new SupportingFile(\"configuration.mustache\", getIndexDirectory(), \"configuration.ts\"));\n+        supportingFiles.add(new SupportingFile(\"variables.mustache\", getIndexDirectory(), \"variables.ts\"));\n+        supportingFiles.add(new SupportingFile(\"encoder.mustache\", getIndexDirectory(), \"encoder.ts\"));\n+        supportingFiles.add(new SupportingFile(\"gitignore\", \"\", \".gitignore\"));\n+        supportingFiles.add(new SupportingFile(\"git_push.sh.mustache\", \"\", \"git_push.sh\"));\n+        supportingFiles.add(new SupportingFile(\"README.mustache\", getIndexDirectory(), \"README.md\"));\n+\n+        // determine NG version\n+        SemVer nestVersion;\n+        if (additionalProperties.containsKey(NEST_VERSION)) {\n+            nestVersion = new SemVer(additionalProperties.get(NEST_VERSION).toString());\n+        } else {\n+            nestVersion = new SemVer(this.nestVersion);\n+            LOGGER.info(\"generating code for Nestjs {} ...\", nestVersion);\n+            LOGGER.info(\"  (you can select the nestjs version by setting the additionalProperty nestVersion)\");\n+        }\n+\n+        if (additionalProperties.containsKey(NPM_NAME)) {\n+            addNpmPackageGeneration(nestVersion);\n+        }\n+\n+        if (additionalProperties.containsKey(STRING_ENUMS)) {\n+            setStringEnums(Boolean.valueOf(additionalProperties.get(STRING_ENUMS).toString()));\n+            additionalProperties.put(\"stringEnums\", getStringEnums());\n+            if (getStringEnums()) {\n+                enumSuffix = \"\";\n+                classEnumSeparator = \"\";\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(WITH_INTERFACES)) {\n+            boolean withInterfaces = Boolean.parseBoolean(additionalProperties.get(WITH_INTERFACES).toString());\n+            if (withInterfaces) {\n+                apiTemplateFiles.put(\"apiInterface.mustache\", \"Interface.ts\");\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(TAGGED_UNIONS)) {\n+            taggedUnions = Boolean.parseBoolean(additionalProperties.get(TAGGED_UNIONS).toString());\n+        }\n+\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            if (!additionalProperties.containsKey(PROVIDED_IN_ROOT)) {\n+                additionalProperties.put(PROVIDED_IN_ROOT, true);\n+            } else {\n+                additionalProperties.put(PROVIDED_IN_ROOT, Boolean.parseBoolean(\n+                    additionalProperties.get(PROVIDED_IN_ROOT).toString()\n+                ));\n+            }\n+        } else {\n+            additionalProperties.put(PROVIDED_IN_ROOT, false);\n+        }\n+\n+        additionalProperties.put(NEST_VERSION, nestVersion);\n+        additionalProperties.put(\"injectionToken\", nestVersion.atLeast(\"4.0.0\") ? \"InjectionToken\" : \"OpaqueToken\");\n+        additionalProperties.put(\"injectionTokenTyped\", nestVersion.atLeast(\"4.0.0\"));\n+        additionalProperties.put(\"useHttpClient\", nestVersion.atLeast(\"4.3.0\"));\n+        additionalProperties.put(\"useRxJS6\", nestVersion.atLeast(\"6.0.0\"));        ", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzNzAxMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487237013", "bodyText": "No this line should be deleted", "author": "vfrank66", "createdAt": "2020-09-11T19:09:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwNDQyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwNTMzMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387505331", "bodyText": "Is there a good reason to support old framework versions? Do you plan to use this generate in projects with old Nestjs?", "author": "amakhrov", "createdAt": "2020-03-04T08:14:08Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String PROVIDED_IN_ROOT = \"providedInRoot\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(CliOption.newBoolean(PROVIDED_IN_ROOT,\n+                \"Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).\",\n+                false));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));\n+    }\n+\n+    @Override\n+    protected void addAdditionPropertiesToCodeGenModel(CodegenModel codegenModel, Schema schema) {\n+        codegenModel.additionalPropertiesType = getTypeDeclaration(ModelUtils.getAdditionalProperties(schema));\n+        addImport(codegenModel, codegenModel.additionalPropertiesType);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"typescript-nestjs\";\n+    }\n+\n+    @Override\n+    public String getHelp() {\n+        return \"Generates a TypeScript Nestjs 6.x client library.\";\n+    }\n+\n+    @Override\n+    public void processOpts() {\n+        super.processOpts();\n+        supportingFiles.add(\n+                new SupportingFile(\"models.mustache\", modelPackage().replace('.', File.separatorChar), \"models.ts\"));\n+        supportingFiles\n+                .add(new SupportingFile(\"apis.mustache\", apiPackage().replace('.', File.separatorChar), \"api.ts\"));\n+        supportingFiles.add(new SupportingFile(\"index.mustache\", getIndexDirectory(), \"index.ts\"));\n+        supportingFiles.add(new SupportingFile(\"api.module.mustache\", getIndexDirectory(), \"api.module.ts\"));\n+        supportingFiles.add(new SupportingFile(\"configuration.mustache\", getIndexDirectory(), \"configuration.ts\"));\n+        supportingFiles.add(new SupportingFile(\"variables.mustache\", getIndexDirectory(), \"variables.ts\"));\n+        supportingFiles.add(new SupportingFile(\"encoder.mustache\", getIndexDirectory(), \"encoder.ts\"));\n+        supportingFiles.add(new SupportingFile(\"gitignore\", \"\", \".gitignore\"));\n+        supportingFiles.add(new SupportingFile(\"git_push.sh.mustache\", \"\", \"git_push.sh\"));\n+        supportingFiles.add(new SupportingFile(\"README.mustache\", getIndexDirectory(), \"README.md\"));\n+\n+        // determine NG version\n+        SemVer nestVersion;\n+        if (additionalProperties.containsKey(NEST_VERSION)) {\n+            nestVersion = new SemVer(additionalProperties.get(NEST_VERSION).toString());\n+        } else {\n+            nestVersion = new SemVer(this.nestVersion);\n+            LOGGER.info(\"generating code for Nestjs {} ...\", nestVersion);\n+            LOGGER.info(\"  (you can select the nestjs version by setting the additionalProperty nestVersion)\");\n+        }\n+\n+        if (additionalProperties.containsKey(NPM_NAME)) {\n+            addNpmPackageGeneration(nestVersion);\n+        }\n+\n+        if (additionalProperties.containsKey(STRING_ENUMS)) {\n+            setStringEnums(Boolean.valueOf(additionalProperties.get(STRING_ENUMS).toString()));\n+            additionalProperties.put(\"stringEnums\", getStringEnums());\n+            if (getStringEnums()) {\n+                enumSuffix = \"\";\n+                classEnumSeparator = \"\";\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(WITH_INTERFACES)) {\n+            boolean withInterfaces = Boolean.parseBoolean(additionalProperties.get(WITH_INTERFACES).toString());\n+            if (withInterfaces) {\n+                apiTemplateFiles.put(\"apiInterface.mustache\", \"Interface.ts\");\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(TAGGED_UNIONS)) {\n+            taggedUnions = Boolean.parseBoolean(additionalProperties.get(TAGGED_UNIONS).toString());\n+        }\n+\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            if (!additionalProperties.containsKey(PROVIDED_IN_ROOT)) {\n+                additionalProperties.put(PROVIDED_IN_ROOT, true);\n+            } else {\n+                additionalProperties.put(PROVIDED_IN_ROOT, Boolean.parseBoolean(\n+                    additionalProperties.get(PROVIDED_IN_ROOT).toString()\n+                ));\n+            }\n+        } else {\n+            additionalProperties.put(PROVIDED_IN_ROOT, false);\n+        }\n+\n+        additionalProperties.put(NEST_VERSION, nestVersion);\n+        additionalProperties.put(\"injectionToken\", nestVersion.atLeast(\"4.0.0\") ? \"InjectionToken\" : \"OpaqueToken\");\n+        additionalProperties.put(\"injectionTokenTyped\", nestVersion.atLeast(\"4.0.0\"));\n+        additionalProperties.put(\"useHttpClient\", nestVersion.atLeast(\"4.3.0\"));\n+        additionalProperties.put(\"useRxJS6\", nestVersion.atLeast(\"6.0.0\"));        \n+        if (additionalProperties.containsKey(SERVICE_SUFFIX)) {\n+            serviceSuffix = additionalProperties.get(SERVICE_SUFFIX).toString();\n+            validateClassSuffixArgument(\"Service\", serviceSuffix);\n+        }\n+        if (additionalProperties.containsKey(SERVICE_FILE_SUFFIX)) {\n+            serviceFileSuffix = additionalProperties.get(SERVICE_FILE_SUFFIX).toString();\n+            validateFileSuffixArgument(\"Service\", serviceFileSuffix);\n+        }\n+        if (additionalProperties.containsKey(MODEL_SUFFIX)) {\n+            modelSuffix = additionalProperties.get(MODEL_SUFFIX).toString();\n+            validateClassSuffixArgument(\"Model\", modelSuffix);\n+        }\n+        if (additionalProperties.containsKey(MODEL_FILE_SUFFIX)) {\n+            modelFileSuffix = additionalProperties.get(MODEL_FILE_SUFFIX).toString();\n+            validateFileSuffixArgument(\"Model\", modelFileSuffix);\n+        }\n+        if (additionalProperties.containsKey(FILE_NAMING)) {\n+            this.setFileNaming(additionalProperties.get(FILE_NAMING).toString());\n+        }\n+    }\n+\n+    private void addNpmPackageGeneration(SemVer nestVersion) {\n+\n+        if (additionalProperties.containsKey(NPM_REPOSITORY)) {\n+            this.setNpmRepository(additionalProperties.get(NPM_REPOSITORY).toString());\n+        }\n+\n+        // Set the typescript version compatible to the Nestjs version\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            additionalProperties.put(\"tsVersion\", \">=3.4.0 <3.6.0\");\n+        } else {\n+            // Nestjs v2-v4 requires typescript \">=2.1.5 <2.8\"\n+            additionalProperties.put(\"tsVersion\", \">=2.1.5 <2.8.0\");\n+        }", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzNzc4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487237789", "bodyText": "No problems, will hardcode", "author": "vfrank66", "createdAt": "2020-09-11T19:11:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwNTMzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwNTg2NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387505865", "bodyText": "broken link - seems to be copied from angular.\nis this logic applicable to nestjs anyway?", "author": "amakhrov", "createdAt": "2020-03-04T08:15:25Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String PROVIDED_IN_ROOT = \"providedInRoot\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(CliOption.newBoolean(PROVIDED_IN_ROOT,\n+                \"Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).\",\n+                false));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));\n+    }\n+\n+    @Override\n+    protected void addAdditionPropertiesToCodeGenModel(CodegenModel codegenModel, Schema schema) {\n+        codegenModel.additionalPropertiesType = getTypeDeclaration(ModelUtils.getAdditionalProperties(schema));\n+        addImport(codegenModel, codegenModel.additionalPropertiesType);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"typescript-nestjs\";\n+    }\n+\n+    @Override\n+    public String getHelp() {\n+        return \"Generates a TypeScript Nestjs 6.x client library.\";\n+    }\n+\n+    @Override\n+    public void processOpts() {\n+        super.processOpts();\n+        supportingFiles.add(\n+                new SupportingFile(\"models.mustache\", modelPackage().replace('.', File.separatorChar), \"models.ts\"));\n+        supportingFiles\n+                .add(new SupportingFile(\"apis.mustache\", apiPackage().replace('.', File.separatorChar), \"api.ts\"));\n+        supportingFiles.add(new SupportingFile(\"index.mustache\", getIndexDirectory(), \"index.ts\"));\n+        supportingFiles.add(new SupportingFile(\"api.module.mustache\", getIndexDirectory(), \"api.module.ts\"));\n+        supportingFiles.add(new SupportingFile(\"configuration.mustache\", getIndexDirectory(), \"configuration.ts\"));\n+        supportingFiles.add(new SupportingFile(\"variables.mustache\", getIndexDirectory(), \"variables.ts\"));\n+        supportingFiles.add(new SupportingFile(\"encoder.mustache\", getIndexDirectory(), \"encoder.ts\"));\n+        supportingFiles.add(new SupportingFile(\"gitignore\", \"\", \".gitignore\"));\n+        supportingFiles.add(new SupportingFile(\"git_push.sh.mustache\", \"\", \"git_push.sh\"));\n+        supportingFiles.add(new SupportingFile(\"README.mustache\", getIndexDirectory(), \"README.md\"));\n+\n+        // determine NG version\n+        SemVer nestVersion;\n+        if (additionalProperties.containsKey(NEST_VERSION)) {\n+            nestVersion = new SemVer(additionalProperties.get(NEST_VERSION).toString());\n+        } else {\n+            nestVersion = new SemVer(this.nestVersion);\n+            LOGGER.info(\"generating code for Nestjs {} ...\", nestVersion);\n+            LOGGER.info(\"  (you can select the nestjs version by setting the additionalProperty nestVersion)\");\n+        }\n+\n+        if (additionalProperties.containsKey(NPM_NAME)) {\n+            addNpmPackageGeneration(nestVersion);\n+        }\n+\n+        if (additionalProperties.containsKey(STRING_ENUMS)) {\n+            setStringEnums(Boolean.valueOf(additionalProperties.get(STRING_ENUMS).toString()));\n+            additionalProperties.put(\"stringEnums\", getStringEnums());\n+            if (getStringEnums()) {\n+                enumSuffix = \"\";\n+                classEnumSeparator = \"\";\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(WITH_INTERFACES)) {\n+            boolean withInterfaces = Boolean.parseBoolean(additionalProperties.get(WITH_INTERFACES).toString());\n+            if (withInterfaces) {\n+                apiTemplateFiles.put(\"apiInterface.mustache\", \"Interface.ts\");\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(TAGGED_UNIONS)) {\n+            taggedUnions = Boolean.parseBoolean(additionalProperties.get(TAGGED_UNIONS).toString());\n+        }\n+\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            if (!additionalProperties.containsKey(PROVIDED_IN_ROOT)) {\n+                additionalProperties.put(PROVIDED_IN_ROOT, true);\n+            } else {\n+                additionalProperties.put(PROVIDED_IN_ROOT, Boolean.parseBoolean(\n+                    additionalProperties.get(PROVIDED_IN_ROOT).toString()\n+                ));\n+            }\n+        } else {\n+            additionalProperties.put(PROVIDED_IN_ROOT, false);\n+        }\n+\n+        additionalProperties.put(NEST_VERSION, nestVersion);\n+        additionalProperties.put(\"injectionToken\", nestVersion.atLeast(\"4.0.0\") ? \"InjectionToken\" : \"OpaqueToken\");\n+        additionalProperties.put(\"injectionTokenTyped\", nestVersion.atLeast(\"4.0.0\"));\n+        additionalProperties.put(\"useHttpClient\", nestVersion.atLeast(\"4.3.0\"));\n+        additionalProperties.put(\"useRxJS6\", nestVersion.atLeast(\"6.0.0\"));        \n+        if (additionalProperties.containsKey(SERVICE_SUFFIX)) {\n+            serviceSuffix = additionalProperties.get(SERVICE_SUFFIX).toString();\n+            validateClassSuffixArgument(\"Service\", serviceSuffix);\n+        }\n+        if (additionalProperties.containsKey(SERVICE_FILE_SUFFIX)) {\n+            serviceFileSuffix = additionalProperties.get(SERVICE_FILE_SUFFIX).toString();\n+            validateFileSuffixArgument(\"Service\", serviceFileSuffix);\n+        }\n+        if (additionalProperties.containsKey(MODEL_SUFFIX)) {\n+            modelSuffix = additionalProperties.get(MODEL_SUFFIX).toString();\n+            validateClassSuffixArgument(\"Model\", modelSuffix);\n+        }\n+        if (additionalProperties.containsKey(MODEL_FILE_SUFFIX)) {\n+            modelFileSuffix = additionalProperties.get(MODEL_FILE_SUFFIX).toString();\n+            validateFileSuffixArgument(\"Model\", modelFileSuffix);\n+        }\n+        if (additionalProperties.containsKey(FILE_NAMING)) {\n+            this.setFileNaming(additionalProperties.get(FILE_NAMING).toString());\n+        }\n+    }\n+\n+    private void addNpmPackageGeneration(SemVer nestVersion) {\n+\n+        if (additionalProperties.containsKey(NPM_REPOSITORY)) {\n+            this.setNpmRepository(additionalProperties.get(NPM_REPOSITORY).toString());\n+        }\n+\n+        // Set the typescript version compatible to the Nestjs version\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            additionalProperties.put(\"tsVersion\", \">=3.4.0 <3.6.0\");\n+        } else {\n+            // Nestjs v2-v4 requires typescript \">=2.1.5 <2.8\"\n+            additionalProperties.put(\"tsVersion\", \">=2.1.5 <2.8.0\");\n+        }\n+        \n+        //Files for building our lib\n+        supportingFiles.add(new SupportingFile(\"package.mustache\", getIndexDirectory(), \"package.json\"));\n+        supportingFiles.add(new SupportingFile(\"tsconfig.build.mustache\", getIndexDirectory(), \"tsconfig.build.json\"));\n+        supportingFiles.add(new SupportingFile(\"tsconfig.mustache\", getIndexDirectory(), \"tsconfig.json\"));\n+        supportingFiles.add(new SupportingFile(\"tslint.mustache\", getIndexDirectory(), \"tslint.json\"));\n+    }\n+\n+    private String getIndexDirectory() {\n+        String indexPackage = modelPackage.substring(0, Math.max(0, modelPackage.lastIndexOf('.')));\n+        return indexPackage.replace('.', File.separatorChar);\n+    }\n+\n+    public void setStringEnums(boolean value) {\n+        stringEnums = value;\n+    }\n+\n+    public Boolean getStringEnums() {\n+        return stringEnums;\n+    }\n+\n+    @Override\n+    public boolean isDataTypeFile(final String dataType) {\n+        return dataType != null && dataType.equals(\"Blob\");\n+    }\n+\n+    @Override\n+    public String getTypeDeclaration(Schema p) {\n+        if (ModelUtils.isFileSchema(p)) {\n+            return \"Blob\";\n+        } else {\n+            return super.getTypeDeclaration(p);\n+        }\n+    }\n+\n+\n+    @Override\n+    public String getSchemaType(Schema p) {\n+        String openAPIType = super.getSchemaType(p);\n+        if (isLanguagePrimitive(openAPIType) || isLanguageGenericType(openAPIType)) {\n+            return openAPIType;\n+        }\n+        applyLocalTypeMapping(openAPIType);\n+        return openAPIType;\n+    }\n+\n+    private String applyLocalTypeMapping(String type) {\n+        if (typeMapping.containsKey(type)) {\n+            type = typeMapping.get(type);\n+        }\n+        return type;\n+    }\n+\n+    private boolean isLanguagePrimitive(String type) {\n+        return languageSpecificPrimitives.contains(type);\n+    }\n+\n+    private boolean isLanguageGenericType(String type) {\n+        for (String genericType : languageGenericTypes) {\n+            if (type.startsWith(genericType + \"<\")) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    @Override\n+    public void postProcessParameter(CodegenParameter parameter) {\n+        super.postProcessParameter(parameter);\n+        parameter.dataType = applyLocalTypeMapping(parameter.dataType);\n+    }\n+\n+    @Override\n+    public Map<String, Object> postProcessOperationsWithModels(Map<String, Object> operations, List<Object> allModels) {\n+        Map<String, Object> objs = (Map<String, Object>) operations.get(\"operations\");\n+\n+        // Add filename information for api imports\n+        objs.put(\"apiFilename\", getApiFilenameFromClassname(objs.get(\"classname\").toString()));\n+\n+        List<CodegenOperation> ops = (List<CodegenOperation>) objs.get(\"operation\");\n+        boolean hasSomeFormParams = false;\n+        for (CodegenOperation op : ops) {\n+            if (op.getHasFormParams()) {\n+                hasSomeFormParams = true;\n+            }\n+            if ((boolean) additionalProperties.get(\"useHttpClient\")) {\n+                op.httpMethod = op.httpMethod.toLowerCase(Locale.ENGLISH);\n+            } else {\n+                // Convert httpMethod to Nestjs's RequestMethod enum\n+                // https://nestjs.io/docs/ts/latest/api/http/index/RequestMethod-enum.html", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzOTA0Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487239042", "bodyText": "does not apply", "author": "vfrank66", "createdAt": "2020-09-11T19:14:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUwNTg2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUyNTAxNg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387525016", "bodyText": "accidentally deleted newline?", "author": "quezak", "createdAt": "2020-03-04T08:56:10Z", "path": "docs/generators.md", "diffHunk": "@@ -5,8 +5,7 @@ title: Generators List\n \n The following generators are available:\n \n-## CLIENT generators\n-* [ada](generators/ada.md)  \n+## CLIENT generators* [ada](generators/ada.md)  ", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAyNzUzOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r481027538", "bodyText": "i think it's definitely a coincidence.", "author": "Vmarci94", "createdAt": "2020-09-01T10:10:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUyNTAxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIzOTk4MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487239980", "bodyText": "\ud83d\udc4d", "author": "vfrank66", "createdAt": "2020-09-11T19:15:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUyNTAxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0MzIyMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387543220", "bodyText": "unchanged copied comment?", "author": "quezak", "createdAt": "2020-03-04T09:30:10Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String PROVIDED_IN_ROOT = \"providedInRoot\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(CliOption.newBoolean(PROVIDED_IN_ROOT,\n+                \"Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).\",\n+                false));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));\n+    }\n+\n+    @Override\n+    protected void addAdditionPropertiesToCodeGenModel(CodegenModel codegenModel, Schema schema) {\n+        codegenModel.additionalPropertiesType = getTypeDeclaration(ModelUtils.getAdditionalProperties(schema));\n+        addImport(codegenModel, codegenModel.additionalPropertiesType);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"typescript-nestjs\";\n+    }\n+\n+    @Override\n+    public String getHelp() {\n+        return \"Generates a TypeScript Nestjs 6.x client library.\";\n+    }\n+\n+    @Override\n+    public void processOpts() {\n+        super.processOpts();\n+        supportingFiles.add(\n+                new SupportingFile(\"models.mustache\", modelPackage().replace('.', File.separatorChar), \"models.ts\"));\n+        supportingFiles\n+                .add(new SupportingFile(\"apis.mustache\", apiPackage().replace('.', File.separatorChar), \"api.ts\"));\n+        supportingFiles.add(new SupportingFile(\"index.mustache\", getIndexDirectory(), \"index.ts\"));\n+        supportingFiles.add(new SupportingFile(\"api.module.mustache\", getIndexDirectory(), \"api.module.ts\"));\n+        supportingFiles.add(new SupportingFile(\"configuration.mustache\", getIndexDirectory(), \"configuration.ts\"));\n+        supportingFiles.add(new SupportingFile(\"variables.mustache\", getIndexDirectory(), \"variables.ts\"));\n+        supportingFiles.add(new SupportingFile(\"encoder.mustache\", getIndexDirectory(), \"encoder.ts\"));\n+        supportingFiles.add(new SupportingFile(\"gitignore\", \"\", \".gitignore\"));\n+        supportingFiles.add(new SupportingFile(\"git_push.sh.mustache\", \"\", \"git_push.sh\"));\n+        supportingFiles.add(new SupportingFile(\"README.mustache\", getIndexDirectory(), \"README.md\"));\n+\n+        // determine NG version", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0ODQ2OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387548468", "bodyText": "this (and IDK how much more of this file) looks copied from angular and is not applicable to nest :)", "author": "quezak", "createdAt": "2020-03-04T09:39:21Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/README.mustache", "diffHunk": "@@ -0,0 +1,171 @@\n+## {{npmName}}@{{npmVersion}}\n+\n+### Building\n+\n+To install the required dependencies and to build the typescript sources run:\n+```\n+npm install\n+npm run build\n+```\n+\n+### publishing\n+\n+First build the package than run ```npm publish dist``` (don't forget to specify the `dist` folder!)\n+\n+### consuming\n+\n+Navigate to the folder of your consuming project and run one of next commands.\n+\n+_published:_\n+\n+```\n+npm install {{npmName}}@{{npmVersion}} --save\n+```\n+\n+_without publishing (not recommended):_\n+\n+```\n+npm install PATH_TO_GENERATED_PACKAGE/dist --save\n+```\n+\n+_using `npm link`:_\n+\n+In PATH_TO_GENERATED_PACKAGE/dist:\n+\n+```\n+npm link\n+```\n+\n+In your project:\n+```\n+npm link {{npmName}}\n+```\n+\n+\n+#### General usage\n+\n+In your Nestjs project:\n+\n+\n+```\n+// without configuring providers\n+import { ApiModule } from '{{npmName}}';\n+import { HttpModule } from '@nestjs/common';\n+\n+@Module({\n+    imports: [\n+        ApiModule,\n+        HttpModule\n+    ],\n+    providers: []\n+})\n+export class AppModule {}\n+```\n+\n+```\n+// configuring providers\n+import { ApiModule, Configuration, ConfigurationParameters } from '{{npmName}}';\n+\n+export function apiConfigFactory (): Configuration => {\n+  const params: ConfigurationParameters = {\n+    // set configuration parameters here.\n+  }\n+  return new Configuration(params);\n+}\n+\n+@Module({\n+    imports: [ ApiModule.forRoot(apiConfigFactory) ],\n+    declarations: [ AppComponent ],\n+    providers: [],\n+    bootstrap: [ AppComponent ]\n+})\n+export class AppModule {}", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI0NDE1Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487244152", "bodyText": "First part about creating a local package yes if you wanted to but ill remove. This part is is and below all apply.", "author": "vfrank66", "createdAt": "2020-09-11T19:20:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0ODQ2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1OTYyMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387559620", "bodyText": "Here is my main comment for this PR.\n\nWhy is the module named ApiModule? In my project, which isn't too large, I already have 8 different openapi-generated clients to connect to various 3rd party services, so I think the module should have a specific name.\nWhy is the module global? Did you maybe want to mark the forRoot dynamic module global instead? This way you'd import ApiModule.forRoot(...) in AppModule globally, to provide the Configuration in one place, and then import the plain ApiModule just in the modules that want to use the generated API client. If that's not the case, can you please show me a minimal example how do you intend this module to be used, so I can understand it better?", "author": "quezak", "createdAt": "2020-03-04T09:58:42Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/api.module.mustache", "diffHunk": "@@ -0,0 +1,40 @@\n+import { DynamicModule, HttpService, HttpModule, Module, Global } from '@nestjs/common';\n+import { Configuration } from './configuration';\n+import { BASE_PATH } from './variables';\n+\n+{{#apiInfo}}\n+{{#apis}}\n+import { {{classname}} } from './{{importPath}}';\n+{{/apis}}\n+{{/apiInfo}}\n+\n+@Global\n+@Module({\n+  imports:      [ HttpModule ],", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYyMDU4MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387620581", "bodyText": "the naming conflict can be avoided with renamed imports, see also #4101", "author": "macjohnny", "createdAt": "2020-03-04T11:58:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1OTYyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYzNTg3NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387635875", "bodyText": "Imports can be renamed and it's not the problem -- what I'm worried is that the class name becomes the service/module's token in Nest's dependency injection system. I don't know precisely what will happen if you register two Nest modules/providers under the same name, but it most likely won't work. Example: the generated API clients inject the Configuration provider and the BASE_PATH value, which will be ambiguous since they are registered globally for all imported ApiModules.\nI see it actually was fixed in Nest for module classes, but:\n\nthe fix was made in a relatively recent Nest version (6.10),\nthe fix handles module classes, so provider classes (like Configuration here) may still not work\nIMHO it's just a bad practice, since it's very likely to import multiple different ApiModules in one app, so it decreases code readability and forces you to manually rename imports every time.\nnote that the BASE_PATH injected config I mentioned in my other comment is a manually passed DI token, so it will always be ambiguous.", "author": "quezak", "createdAt": "2020-03-04T12:31:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1OTYyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYzOTk4Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387639987", "bodyText": "true, so this is a bit different from the angular case.", "author": "macjohnny", "createdAt": "2020-03-04T12:40:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1OTYyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI0ODAxOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487248018", "bodyText": "@quezak\n\nBecause that was a consistent name, the folder structure and the import as give a precise name. Although the cli could have an optional name to specify what you would like. This PR did not seem like the time to work out other enhancements.\nGlobal so that a consumer does not have to add the granularity which you are suggesting. The use I am using this fork .jar to codege for is one app initailization in a AWS lambda function. I do not need the granularity you suggest.", "author": "vfrank66", "createdAt": "2020-09-11T19:29:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1OTYyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI0ODkwNg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487248906", "bodyText": "@quezak class names do not become the Nestjs DI token because they are dynamic modules due to .forRoot(), if they did not have .forRoot() it would be a static module\nConfiguration and BASE_PATH as seen in the example readme are set by the factory pattern and not a problem as you are possibly stating.", "author": "vfrank66", "createdAt": "2020-09-11T19:31:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1OTYyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2MTU3OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387561579", "bodyText": "Same as (1.) here: if this is just named Configuration, won't the injection break if you import multiple generated modules for different APIs? Also, what if you already have a service named Configuration in your app (which seems likely), won't this break the DI?", "author": "quezak", "createdAt": "2020-03-04T10:02:08Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/api.module.mustache", "diffHunk": "@@ -0,0 +1,40 @@\n+import { DynamicModule, HttpService, HttpModule, Module, Global } from '@nestjs/common';\n+import { Configuration } from './configuration';\n+import { BASE_PATH } from './variables';\n+\n+{{#apiInfo}}\n+{{#apis}}\n+import { {{classname}} } from './{{importPath}}';\n+{{/apis}}\n+{{/apiInfo}}\n+\n+@Global\n+@Module({\n+  imports:      [ HttpModule ],\n+  exports:      [   \n+    {{#apiInfo}}{{#apis}}{{classname}}{{#hasMore}},\n+    {{/hasMore}}{{/apis}}{{/apiInfo}} \n+  ],\n+  providers: [\n+    {\n+        provide: 'BASE_PATH',\n+        useValue: BASE_PATH\n+    },\n+    {{#apiInfo}}{{#apis}}{{classname}}{{#hasMore}},\n+    {{/hasMore}}{{/apis}}{{/apiInfo}} \n+  ]\n+})\n+export class ApiModule {\n+    public static forRoot(configurationFactory: () => Configuration): DynamicModule {\n+        return {\n+            module: ApiModule,\n+            providers: [ { provide: Configuration, useFactory: configurationFactory } ]", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA2NjI3Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r388066277", "bodyText": "If classes are defined in different files (even with the same class name) - these are distinct class references from the JS perspective.\nSo if Nestjs uses this reference as an injection token (rather than, say, the string name of the class, then there should be no conflicts for DI.\nE.g. Angular uses actual class reference for DI, not a name - so it's not an issue there.\nWould you be willing to investigate how Nestjs DI works and post a comment in this PR? It can help with defining the direction for further changes", "author": "amakhrov", "createdAt": "2020-03-05T03:54:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2MTU3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI0OTQ3MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487249471", "bodyText": "@quezak No it will not break injection", "author": "vfrank66", "createdAt": "2020-09-11T19:33:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2MTU3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2MTkxOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387561918", "bodyText": "Why is this check needed, if the ApiModule explicitly imports HttpModule?", "author": "quezak", "createdAt": "2020-03-04T10:02:45Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/api.module.mustache", "diffHunk": "@@ -0,0 +1,40 @@\n+import { DynamicModule, HttpService, HttpModule, Module, Global } from '@nestjs/common';\n+import { Configuration } from './configuration';\n+import { BASE_PATH } from './variables';\n+\n+{{#apiInfo}}\n+{{#apis}}\n+import { {{classname}} } from './{{importPath}}';\n+{{/apis}}\n+{{/apiInfo}}\n+\n+@Global\n+@Module({\n+  imports:      [ HttpModule ],\n+  exports:      [   \n+    {{#apiInfo}}{{#apis}}{{classname}}{{#hasMore}},\n+    {{/hasMore}}{{/apis}}{{/apiInfo}} \n+  ],\n+  providers: [\n+    {\n+        provide: 'BASE_PATH',\n+        useValue: BASE_PATH\n+    },\n+    {{#apiInfo}}{{#apis}}{{classname}}{{#hasMore}},\n+    {{/hasMore}}{{/apis}}{{/apiInfo}} \n+  ]\n+})\n+export class ApiModule {\n+    public static forRoot(configurationFactory: () => Configuration): DynamicModule {\n+        return {\n+            module: ApiModule,\n+            providers: [ { provide: Configuration, useFactory: configurationFactory } ]\n+        };\n+    }\n+\n+    constructor( httpService: HttpService) {\n+        if (!httpService) {\n+            throw new Error('You need to import the {HttpModule in your AppModule!');", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI0OTY2Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487249666", "bodyText": "fixed, should not be here", "author": "vfrank66", "createdAt": "2020-09-11T19:33:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2MTkxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2NDY3OA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387564678", "bodyText": "BASE_PATH DI token will also be ambiguous if you have multiple generated clients in the project. We probably want to give it a more specific and unique name, like _OPENAPI_GENERATED_{{apiName}}_BASE_PATH, so it doesn't collide with any DI tokens that the users might already have in their Nest apps.", "author": "quezak", "createdAt": "2020-03-04T10:07:41Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/api.service.mustache", "diffHunk": "@@ -0,0 +1,237 @@\n+{{>licenseInfo}}\n+/* tslint:disable:no-unused-variable member-ordering */\n+\n+import { HttpService, Inject, Injectable }                      from '@nestjs/common';\n+import { AxiosResponse } from 'axios';\n+import { Observable }                                        from 'rxjs';\n+{{#imports}}\n+import { {{classname}} } from '../{{filename}}';\n+{{/imports}}\n+import { Configuration }                                     from '../configuration';\n+import { COLLECTION_FORMATS }                     from '../variables';\n+{{#withInterfaces}}\n+import { {{classname}}Interface }                            from './{{classFilename}}Interface';\n+{{/withInterfaces}}\n+\n+{{#operations}}\n+\n+{{#description}}\n+/**\n+ * {{&description}}\n+ */\n+{{/description}}\n+@Injectable()\n+{{#withInterfaces}}\n+export class {{classname}} implements {{classname}}Interface {\n+{{/withInterfaces}}\n+{{^withInterfaces}}\n+export class {{classname}} {\n+{{/withInterfaces}}\n+\n+    protected basePath = '{{{basePath}}}';\n+    public defaultHeaders = new Map()\n+    public configuration = new Configuration();\n+\n+    constructor(protected httpClient: HttpService, @Inject('BASE_PATH') basePath: string, configuration: Configuration) {", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA2NzEwMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r388067103", "bodyText": "Since it's a brand new generator with no need for backward compatibility, I would suggest getting rid of a dedicated \"BASE_PATH\" injection token altogether - in favor of Configuration (which also includes basePath)", "author": "amakhrov", "createdAt": "2020-03-05T03:58:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2NDY3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI1MDMyNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487250325", "bodyText": "@amakhrov I agree with that makes sense", "author": "vfrank66", "createdAt": "2020-09-11T19:35:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2NDY3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2NTk0Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387565947", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    const form = 'multipart/form-data';\n          \n          \n            \n                    for (const consume of consumes) {\n          \n          \n            \n                        if (form === consume) {\n          \n          \n            \n                            return true;\n          \n          \n            \n                        }\n          \n          \n            \n                    }\n          \n          \n            \n                    return false;\n          \n          \n            \n                    const form = 'multipart/form-data';\n          \n          \n            \n                    return consumes.includes(form);", "author": "quezak", "createdAt": "2020-03-04T10:10:02Z", "path": "modules/openapi-generator/src/main/resources/typescript-nestjs/api.service.mustache", "diffHunk": "@@ -0,0 +1,237 @@\n+{{>licenseInfo}}\n+/* tslint:disable:no-unused-variable member-ordering */\n+\n+import { HttpService, Inject, Injectable }                      from '@nestjs/common';\n+import { AxiosResponse } from 'axios';\n+import { Observable }                                        from 'rxjs';\n+{{#imports}}\n+import { {{classname}} } from '../{{filename}}';\n+{{/imports}}\n+import { Configuration }                                     from '../configuration';\n+import { COLLECTION_FORMATS }                     from '../variables';\n+{{#withInterfaces}}\n+import { {{classname}}Interface }                            from './{{classFilename}}Interface';\n+{{/withInterfaces}}\n+\n+{{#operations}}\n+\n+{{#description}}\n+/**\n+ * {{&description}}\n+ */\n+{{/description}}\n+@Injectable()\n+{{#withInterfaces}}\n+export class {{classname}} implements {{classname}}Interface {\n+{{/withInterfaces}}\n+{{^withInterfaces}}\n+export class {{classname}} {\n+{{/withInterfaces}}\n+\n+    protected basePath = '{{{basePath}}}';\n+    public defaultHeaders = new Map()\n+    public configuration = new Configuration();\n+\n+    constructor(protected httpClient: HttpService, @Inject('BASE_PATH') basePath: string, configuration: Configuration) {\n+        if (basePath) {\n+            this.basePath = basePath;\n+        }\n+        if (configuration) {\n+            this.configuration = configuration;\n+            this.basePath = basePath || configuration.basePath || this.basePath;\n+        }\n+    }\n+\n+    /**\n+     * @param consumes string[] mime-types\n+     * @return true: consumes contains 'multipart/form-data', false: otherwise\n+     */\n+    private canConsumeForm(consumes: string[]): boolean {\n+        const form = 'multipart/form-data';\n+        for (const consume of consumes) {\n+            if (form === consume) {\n+                return true;\n+            }\n+        }\n+        return false;", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI1MTMxMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487251311", "bodyText": "\ud83d\udc4d", "author": "vfrank66", "createdAt": "2020-09-11T19:37:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU2NTk0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU3NTQ4NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r387575485", "bodyText": "why <3.6.0? We're successfully running Nest 6 with TS 3.7.5 and I'm not aware of any requirements that would limit the version to <3.6.", "author": "quezak", "createdAt": "2020-03-04T10:26:41Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,603 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ * Copyright 2018 SmartBear Software\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String PROVIDED_IN_ROOT = \"providedInRoot\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(CliOption.newBoolean(PROVIDED_IN_ROOT,\n+                \"Use this property to provide Injectables in root (it is only valid in nestjs version greater or equal to 6.0.0).\",\n+                false));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));\n+    }\n+\n+    @Override\n+    protected void addAdditionPropertiesToCodeGenModel(CodegenModel codegenModel, Schema schema) {\n+        codegenModel.additionalPropertiesType = getTypeDeclaration(ModelUtils.getAdditionalProperties(schema));\n+        addImport(codegenModel, codegenModel.additionalPropertiesType);\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return \"typescript-nestjs\";\n+    }\n+\n+    @Override\n+    public String getHelp() {\n+        return \"Generates a TypeScript Nestjs 6.x client library.\";\n+    }\n+\n+    @Override\n+    public void processOpts() {\n+        super.processOpts();\n+        supportingFiles.add(\n+                new SupportingFile(\"models.mustache\", modelPackage().replace('.', File.separatorChar), \"models.ts\"));\n+        supportingFiles\n+                .add(new SupportingFile(\"apis.mustache\", apiPackage().replace('.', File.separatorChar), \"api.ts\"));\n+        supportingFiles.add(new SupportingFile(\"index.mustache\", getIndexDirectory(), \"index.ts\"));\n+        supportingFiles.add(new SupportingFile(\"api.module.mustache\", getIndexDirectory(), \"api.module.ts\"));\n+        supportingFiles.add(new SupportingFile(\"configuration.mustache\", getIndexDirectory(), \"configuration.ts\"));\n+        supportingFiles.add(new SupportingFile(\"variables.mustache\", getIndexDirectory(), \"variables.ts\"));\n+        supportingFiles.add(new SupportingFile(\"encoder.mustache\", getIndexDirectory(), \"encoder.ts\"));\n+        supportingFiles.add(new SupportingFile(\"gitignore\", \"\", \".gitignore\"));\n+        supportingFiles.add(new SupportingFile(\"git_push.sh.mustache\", \"\", \"git_push.sh\"));\n+        supportingFiles.add(new SupportingFile(\"README.mustache\", getIndexDirectory(), \"README.md\"));\n+\n+        // determine NG version\n+        SemVer nestVersion;\n+        if (additionalProperties.containsKey(NEST_VERSION)) {\n+            nestVersion = new SemVer(additionalProperties.get(NEST_VERSION).toString());\n+        } else {\n+            nestVersion = new SemVer(this.nestVersion);\n+            LOGGER.info(\"generating code for Nestjs {} ...\", nestVersion);\n+            LOGGER.info(\"  (you can select the nestjs version by setting the additionalProperty nestVersion)\");\n+        }\n+\n+        if (additionalProperties.containsKey(NPM_NAME)) {\n+            addNpmPackageGeneration(nestVersion);\n+        }\n+\n+        if (additionalProperties.containsKey(STRING_ENUMS)) {\n+            setStringEnums(Boolean.valueOf(additionalProperties.get(STRING_ENUMS).toString()));\n+            additionalProperties.put(\"stringEnums\", getStringEnums());\n+            if (getStringEnums()) {\n+                enumSuffix = \"\";\n+                classEnumSeparator = \"\";\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(WITH_INTERFACES)) {\n+            boolean withInterfaces = Boolean.parseBoolean(additionalProperties.get(WITH_INTERFACES).toString());\n+            if (withInterfaces) {\n+                apiTemplateFiles.put(\"apiInterface.mustache\", \"Interface.ts\");\n+            }\n+        }\n+\n+        if (additionalProperties.containsKey(TAGGED_UNIONS)) {\n+            taggedUnions = Boolean.parseBoolean(additionalProperties.get(TAGGED_UNIONS).toString());\n+        }\n+\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            if (!additionalProperties.containsKey(PROVIDED_IN_ROOT)) {\n+                additionalProperties.put(PROVIDED_IN_ROOT, true);\n+            } else {\n+                additionalProperties.put(PROVIDED_IN_ROOT, Boolean.parseBoolean(\n+                    additionalProperties.get(PROVIDED_IN_ROOT).toString()\n+                ));\n+            }\n+        } else {\n+            additionalProperties.put(PROVIDED_IN_ROOT, false);\n+        }\n+\n+        additionalProperties.put(NEST_VERSION, nestVersion);\n+        additionalProperties.put(\"injectionToken\", nestVersion.atLeast(\"4.0.0\") ? \"InjectionToken\" : \"OpaqueToken\");\n+        additionalProperties.put(\"injectionTokenTyped\", nestVersion.atLeast(\"4.0.0\"));\n+        additionalProperties.put(\"useHttpClient\", nestVersion.atLeast(\"4.3.0\"));\n+        additionalProperties.put(\"useRxJS6\", nestVersion.atLeast(\"6.0.0\"));        \n+        if (additionalProperties.containsKey(SERVICE_SUFFIX)) {\n+            serviceSuffix = additionalProperties.get(SERVICE_SUFFIX).toString();\n+            validateClassSuffixArgument(\"Service\", serviceSuffix);\n+        }\n+        if (additionalProperties.containsKey(SERVICE_FILE_SUFFIX)) {\n+            serviceFileSuffix = additionalProperties.get(SERVICE_FILE_SUFFIX).toString();\n+            validateFileSuffixArgument(\"Service\", serviceFileSuffix);\n+        }\n+        if (additionalProperties.containsKey(MODEL_SUFFIX)) {\n+            modelSuffix = additionalProperties.get(MODEL_SUFFIX).toString();\n+            validateClassSuffixArgument(\"Model\", modelSuffix);\n+        }\n+        if (additionalProperties.containsKey(MODEL_FILE_SUFFIX)) {\n+            modelFileSuffix = additionalProperties.get(MODEL_FILE_SUFFIX).toString();\n+            validateFileSuffixArgument(\"Model\", modelFileSuffix);\n+        }\n+        if (additionalProperties.containsKey(FILE_NAMING)) {\n+            this.setFileNaming(additionalProperties.get(FILE_NAMING).toString());\n+        }\n+    }\n+\n+    private void addNpmPackageGeneration(SemVer nestVersion) {\n+\n+        if (additionalProperties.containsKey(NPM_REPOSITORY)) {\n+            this.setNpmRepository(additionalProperties.get(NPM_REPOSITORY).toString());\n+        }\n+\n+        // Set the typescript version compatible to the Nestjs version\n+        if (nestVersion.atLeast(\"6.0.0\")) {\n+            additionalProperties.put(\"tsVersion\", \">=3.4.0 <3.6.0\");", "originalCommit": "c8b4dd193e8fefc38b9cdb840c9ea2dd1b7c10f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI1MTc0NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487251744", "bodyText": "removed set to \">=3.4.0 <4.0.0\"", "author": "vfrank66", "createdAt": "2020-09-11T19:38:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU3NTQ4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQ1MDk5OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r487450999", "bodyText": "well, does it break with 4.0? :D (if not, why use max version limit?)", "author": "quezak", "createdAt": "2020-09-12T21:34:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU3NTQ4NQ=="}], "type": "inlineReview"}, {"oid": "11e88538ecdd94220e99e49c5d8d9dded3a293df", "url": "https://github.com/OpenAPITools/openapi-generator/commit/11e88538ecdd94220e99e49c5d8d9dded3a293df", "message": "Merge branch 'master' of https://github.com/OpenAPITools/openapi-generator", "committedDate": "2020-09-11T18:23:31Z", "type": "commit"}, {"oid": "bf22c22063124134771e5caa6859ff1ed2798c12", "url": "https://github.com/OpenAPITools/openapi-generator/commit/bf22c22063124134771e5caa6859ff1ed2798c12", "message": "cleanup PRS", "committedDate": "2020-09-11T19:42:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5Nzg2NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r491997864", "bodyText": "use de base getAdditionalProperties function!", "author": "Vmarci94", "createdAt": "2020-09-21T12:18:12Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -0,0 +1,548 @@\n+/*\n+ * Copyright 2018 OpenAPI-Generator Contributors (https://openapi-generator.tech)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.openapitools.codegen.languages;\n+\n+import io.swagger.v3.oas.models.OpenAPI;\n+import io.swagger.v3.oas.models.media.Schema;\n+import io.swagger.v3.parser.util.SchemaTypeUtil;\n+import org.openapitools.codegen.*;\n+import org.openapitools.codegen.utils.ModelUtils;\n+import org.openapitools.codegen.utils.SemVer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.File;\n+import java.util.*;\n+import java.util.regex.Pattern;\n+\n+import static org.apache.commons.lang3.StringUtils.capitalize;\n+import static org.openapitools.codegen.utils.StringUtils.*;\n+\n+public class TypeScriptNestjsClientCodegen extends AbstractTypeScriptClientCodegen {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(TypeScriptNestjsClientCodegen.class);\n+\n+    private static String CLASS_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9]*$\";\n+    private static String FILE_NAME_SUFFIX_PATTERN = \"^[a-zA-Z0-9.-]*$\";\n+\n+    public static final String NPM_REPOSITORY = \"npmRepository\";\n+    public static final String WITH_INTERFACES = \"withInterfaces\";\n+    public static final String TAGGED_UNIONS = \"taggedUnions\";\n+    public static final String NEST_VERSION = \"nestVersion\";\n+    public static final String SERVICE_SUFFIX = \"serviceSuffix\";\n+    public static final String SERVICE_FILE_SUFFIX = \"serviceFileSuffix\";\n+    public static final String MODEL_SUFFIX = \"modelSuffix\";\n+    public static final String MODEL_FILE_SUFFIX = \"modelFileSuffix\";\n+    public static final String FILE_NAMING = \"fileNaming\";\n+    public static final String STRING_ENUMS = \"stringEnums\";\n+    public static final String STRING_ENUMS_DESC = \"Generate string enums instead of objects for enum values.\";\n+\n+    protected String nestVersion = \"6.0.0\";\n+    protected String npmRepository = null;\n+    protected String serviceSuffix = \"Service\";\n+    protected String serviceFileSuffix = \".service\";\n+    protected String modelSuffix = \"\";\n+    protected String modelFileSuffix = \"\";\n+    protected String fileNaming = \"camelCase\";\n+    protected Boolean stringEnums = false;\n+\n+    private boolean taggedUnions = false;\n+\n+    public TypeScriptNestjsClientCodegen() {\n+        super();\n+        this.outputFolder = \"generated-code/typescript-nestjs\";\n+\n+        supportsMultipleInheritance = true;\n+\n+        embeddedTemplateDir = templateDir = \"typescript-nestjs\";\n+        modelTemplateFiles.put(\"model.mustache\", \".ts\");\n+        apiTemplateFiles.put(\"api.service.mustache\", \".ts\");\n+        languageSpecificPrimitives.add(\"Blob\");\n+        typeMapping.put(\"file\", \"Blob\");\n+        apiPackage = \"api\";\n+        modelPackage = \"model\";\n+\n+        this.cliOptions.add(new CliOption(NPM_REPOSITORY,\n+                \"Use this property to set an url your private npmRepo in the package.json\"));\n+        this.cliOptions.add(CliOption.newBoolean(WITH_INTERFACES,\n+                \"Setting this property to true will generate interfaces next to the default class implementations.\",\n+                false));\n+        this.cliOptions.add(CliOption.newBoolean(TAGGED_UNIONS,\n+                \"Use discriminators to create tagged unions instead of extending interfaces.\",\n+                this.taggedUnions));\n+        this.cliOptions.add(new CliOption(NEST_VERSION, \"The version of Nestjs.\").defaultValue(this.nestVersion));\n+        this.cliOptions.add(new CliOption(SERVICE_SUFFIX, \"The suffix of the generated service.\").defaultValue(this.serviceSuffix));\n+        this.cliOptions.add(new CliOption(SERVICE_FILE_SUFFIX, \"The suffix of the file of the generated service (service<suffix>.ts).\").defaultValue(this.serviceFileSuffix));\n+        this.cliOptions.add(new CliOption(MODEL_SUFFIX, \"The suffix of the generated model.\"));\n+        this.cliOptions.add(new CliOption(MODEL_FILE_SUFFIX, \"The suffix of the file of the generated model (model<suffix>.ts).\"));\n+        this.cliOptions.add(new CliOption(FILE_NAMING, \"Naming convention for the output files: 'camelCase', 'kebab-case'.\").defaultValue(this.fileNaming));\n+        this.cliOptions.add(new CliOption(STRING_ENUMS, STRING_ENUMS_DESC).defaultValue(String.valueOf(this.stringEnums)));\n+    }\n+\n+    @Override\n+    protected void addAdditionPropertiesToCodeGenModel(CodegenModel codegenModel, Schema schema) {\n+        codegenModel.additionalPropertiesType = getTypeDeclaration(ModelUtils.getAdditionalProperties(schema));", "originalCommit": "bf22c22063124134771e5caa6859ff1ed2798c12", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d661501f275fc1c547c4aa44bde6fa177ad55dd5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d661501f275fc1c547c4aa44bde6fa177ad55dd5", "message": "fix compilation error", "committedDate": "2020-09-21T15:08:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ3MTQ4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5518#discussion_r492471489", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param operation     the operation\n          \n          \n            \n                 * @param operation the operation", "author": "Asafkbalink", "createdAt": "2020-09-22T04:45:30Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptNestjsClientCodegen.java", "diffHunk": "@@ -334,7 +330,7 @@ public void postProcessParameter(CodegenParameter parameter) {\n     /**\n      * Finds and returns a path parameter of an operation by its name\n      *\n-     * @param operation the operation\n+     * @param operation     the operation", "originalCommit": "d661501f275fc1c547c4aa44bde6fa177ad55dd5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}