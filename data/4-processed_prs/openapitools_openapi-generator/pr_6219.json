{"pr_number": 6219, "pr_title": "Minor improvements to the Lua client generator", "pr_createdAt": "2020-05-08T12:17:37Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6219", "timeline": [{"oid": "922f6a07305ed3e274b52206516a9a4cb52638ed", "url": "https://github.com/OpenAPITools/openapi-generator/commit/922f6a07305ed3e274b52206516a9a4cb52638ed", "message": "minor improvement to lua client gen", "committedDate": "2020-05-08T10:39:33Z", "type": "commit"}, {"oid": "0e321d249f3e4db97cd505a42a9e45ee22468d65", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0e321d249f3e4db97cd505a42a9e45ee22468d65", "message": "add new files", "committedDate": "2020-05-08T14:36:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ1OTc1NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6219#discussion_r422459754", "bodyText": "You're setting the content type to xml, but sending json.", "author": "daurnimator", "createdAt": "2020-05-09T06:36:46Z", "path": "samples/client/petstore/lua/petstore/api/pet_api.lua", "diffHunk": "@@ -60,6 +60,10 @@ function pet_api:add_pet(pet)\n \t--local var_content_type = { \"application/json\", \"application/xml\" }\n \treq.headers:upsert(\"accept\", \"application/json\")\n \n+\t-- TODO: create a function to select proper content-type\n+\t--local var_accept = { \"application/xml\", \"application/json\" }\n+\treq.headers:upsert(\"content-type\", \"application/xml\")", "originalCommit": "0e321d249f3e4db97cd505a42a9e45ee22468d65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc1OTQ4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6219#discussion_r422759489", "bodyText": "Right it's a known issue as mentioned in the code comment.\n-- TODO: create a function to select proper content-type\n\nAs a workaround, users can rearrange the accepts to have application/json placed in the front.", "author": "wing328", "createdAt": "2020-05-11T03:26:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ1OTc1NA=="}], "type": "inlineReview"}]}