{"pr_number": 5090, "pr_title": "Add deprecated annotation in kotlin-spring", "pr_createdAt": "2020-01-23T11:19:48Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5090", "timeline": [{"oid": "b3c9bc394da7d6ee6127c46974afa7da58be6b72", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b3c9bc394da7d6ee6127c46974afa7da58be6b72", "message": "add Deprecated in kotlin dataClass", "committedDate": "2020-01-23T11:14:01Z", "type": "commit"}, {"oid": "73e2ef348bc9fca2dda632b70e5507d9746c8a99", "url": "https://github.com/OpenAPITools/openapi-generator/commit/73e2ef348bc9fca2dda632b70e5507d9746c8a99", "message": "add deprecated in CodegenProperty", "committedDate": "2020-01-23T11:14:02Z", "type": "commit"}, {"oid": "663606ab9fc8570c665bea4d6daeb74cd21ccbf3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/663606ab9fc8570c665bea4d6daeb74cd21ccbf3", "message": "format (Column limit: 100)", "committedDate": "2020-01-23T11:15:51Z", "type": "commit"}, {"oid": "4ea8d3920057a7213e06c1dae1b04414cbf24ec9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4ea8d3920057a7213e06c1dae1b04414cbf24ec9", "message": "set property.deprecated", "committedDate": "2020-01-23T11:15:52Z", "type": "commit"}, {"oid": "1463af52ee148fef67d1f8ab5b23be6847dc89e1", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1463af52ee148fef67d1f8ab5b23be6847dc89e1", "message": "add test", "committedDate": "2020-01-23T11:15:53Z", "type": "commit"}, {"oid": "5adbdcdf89b9d50069741b97c0347f7c8ce8e3a2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5adbdcdf89b9d50069741b97c0347f7c8ce8e3a2", "message": "run ./bin/kotlin-springboot-petstore-all.sh", "committedDate": "2020-01-23T11:15:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ3MzI3NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5090#discussion_r370473274", "bodyText": "I think an empty message here will cause some code smells in static analysis (like Sonar). Should we provide a default message?", "author": "jimschubert", "createdAt": "2020-01-24T04:52:53Z", "path": "modules/openapi-generator/src/main/resources/kotlin-spring/dataClassOptVar.mustache", "diffHunk": "@@ -1,4 +1,5 @@\n {{#useBeanValidation}}{{#required}}\n         {{^isReadOnly}}@get:NotNull{{/isReadOnly}} {{/required}}{{>beanValidationModel}}{{/useBeanValidation}}{{#swaggerAnnotations}}\n-        @ApiModelProperty({{#example}}example = \"{{{example}}}\", {{/example}}{{#required}}required = {{required}}, {{/required}}{{#isReadOnly}}readOnly = {{{isReadOnly}}}, {{/isReadOnly}}value = \"{{{description}}}\"){{/swaggerAnnotations}}\n+        @ApiModelProperty({{#example}}example = \"{{{example}}}\", {{/example}}{{#required}}required = {{required}}, {{/required}}{{#isReadOnly}}readOnly = {{{isReadOnly}}}, {{/isReadOnly}}value = \"{{{description}}}\"){{/swaggerAnnotations}}{{#deprecated}}\n+        @Deprecated(message=\"\"){{/deprecated}}", "originalCommit": "5adbdcdf89b9d50069741b97c0347f7c8ce8e3a2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ4NTEwNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5090#discussion_r370485104", "bodyText": "Kotlin:message argument is required.\npublic annotation class Deprecated(\n    val message: String,\n    val replaceWith: ReplaceWith = ReplaceWith(\u201c\u201d),\n    val level: DeprecationLevel = DeprecationLevel.WARNING\n)\nWe have to set empty message because openapi can't declare \"deprecated message\".\nOr set default message(for example \"This property is required\") \ud83e\udd14", "author": "yutaka0m", "createdAt": "2020-01-24T06:05:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ3MzI3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI0NTc0MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5090#discussion_r372245740", "bodyText": "We can later use vendor extension (not this PR) to achieve this, e.g. x-deprecated-message if there're demands from users to specify the deprecated message.", "author": "wing328", "createdAt": "2020-01-29T08:30:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ3MzI3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI4OTM3Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5090#discussion_r372289373", "bodyText": "@wing328 Thank you!\nI'll try it if I have time", "author": "yutaka0m", "createdAt": "2020-01-29T10:03:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ3MzI3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA1ODYwMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5090#discussion_r371058601", "bodyText": "nits: You should be able to trim the space which after if (.", "author": "ackintosh", "createdAt": "2020-01-27T03:57:31Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "diffHunk": "@@ -2246,6 +2246,10 @@ public CodegenProperty fromProperty(String name, Schema p) {\n         property.defaultValue = toDefaultValue(p);\n         property.defaultValueWithParam = toDefaultValueWithParam(name, p);\n         property.jsonSchema = Json.pretty(p);\n+\n+        if ( p.getDeprecated() != null) {", "originalCommit": "5adbdcdf89b9d50069741b97c0347f7c8ce8e3a2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aad631c15dad0a9540cd1fdc7c7d702e5b407199", "url": "https://github.com/OpenAPITools/openapi-generator/commit/aad631c15dad0a9540cd1fdc7c7d702e5b407199", "message": "trim space", "committedDate": "2020-01-27T11:03:45Z", "type": "commit"}]}