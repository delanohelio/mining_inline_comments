{"pr_number": 6594, "pr_title": "[Python] Additional properties with array types", "pr_createdAt": "2020-06-09T08:43:13Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6594", "timeline": [{"oid": "c68598d24e7144f1948e127920af0f652286c3b0", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c68598d24e7144f1948e127920af0f652286c3b0", "message": "[Python] Additional properties with array types", "committedDate": "2020-06-09T08:42:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzODMzNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437238335", "bodyText": "\u2757 missing import", "author": "jirikuncar", "createdAt": "2020-06-09T08:44:19Z", "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/model/additional_properties_with_array_of_enums.py", "diffHunk": "@@ -0,0 +1,170 @@\n+# coding: utf-8\n+\n+\"\"\"\n+    OpenAPI Petstore\n+\n+    This spec is mainly for testing Petstore server and contains fake endpoints, models. Please do not use this for any other purpose. Special characters: \\\" \\\\  # noqa: E501\n+\n+    The version of the OpenAPI document: 1.0.0\n+    Generated by: https://openapi-generator.tech\n+\"\"\"\n+\n+\n+from __future__ import absolute_import\n+import re  # noqa: F401\n+import sys  # noqa: F401\n+\n+import six  # noqa: F401\n+import nulltype  # noqa: F401\n+\n+from petstore_api.model_utils import (  # noqa: F401\n+    ApiTypeError,\n+    ModelComposed,\n+    ModelNormal,\n+    ModelSimple,\n+    cached_property,\n+    change_keys_js_to_python,\n+    convert_js_args_to_python_args,\n+    date,\n+    datetime,\n+    file_type,\n+    int,\n+    none_type,\n+    str,\n+    validate_get_composed_info,\n+)\n+\n+\n+class AdditionalPropertiesWithArrayOfEnums(ModelNormal):\n+    \"\"\"NOTE: This class is auto generated by OpenAPI Generator.\n+    Ref: https://openapi-generator.tech\n+\n+    Do not edit the class manually.\n+\n+    Attributes:\n+      allowed_values (dict): The key is the tuple path to the attribute\n+          and the for var_name this is (var_name,). The value is a dict\n+          with a capitalized key describing the allowed value and an allowed\n+          value. These dicts store the allowed enum values.\n+      attribute_map (dict): The key is attribute name\n+          and the value is json key in definition.\n+      discriminator_value_class_map (dict): A dict to go from the discriminator\n+          variable value to the discriminator class name.\n+      validations (dict): The key is the tuple path to the attribute\n+          and the for var_name this is (var_name,). The value is a dict\n+          that stores validations for max_length, min_length, max_items,\n+          min_items, exclusive_maximum, inclusive_maximum, exclusive_minimum,\n+          inclusive_minimum, and regex.\n+      additional_properties_type (tuple): A tuple of classes accepted\n+          as additional properties values.\n+    \"\"\"\n+\n+    allowed_values = {\n+    }\n+\n+    validations = {\n+    }\n+\n+    additional_properties_type = ([enum_class.EnumClass],)  # noqa: E501", "originalCommit": "c68598d24e7144f1948e127920af0f652286c3b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyMzE5NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437523195", "bodyText": "solved https://github.com/OpenAPITools/openapi-generator/pull/6594/files#diff-72e44f37b1cd9b6c6676fba9300b85f2R37", "author": "jirikuncar", "createdAt": "2020-06-09T15:30:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzODMzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzODY0MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437238640", "bodyText": "\u2757 model is not generated", "author": "jirikuncar", "createdAt": "2020-06-09T08:44:47Z", "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/api/fake_api.py", "diffHunk": "@@ -36,6 +36,8 @@\n )\n from petstore_api.model import health_check_result\n from petstore_api.model import outer_composite\n+from petstore_api.model import additional_properties_with_array_of_enums\n+from petstore_api.model import additional_properties_with_named_array_of_enums", "originalCommit": "c68598d24e7144f1948e127920af0f652286c3b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTMwNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437239305", "bodyText": "\u2757 missing additional_properties_with_named_array_of_enums", "author": "jirikuncar", "createdAt": "2020-06-09T08:45:47Z", "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/models/__init__.py", "diffHunk": "@@ -12,6 +12,7 @@\n # sys.setrecursionlimit(n)\n \n from petstore_api.model.additional_properties_class import AdditionalPropertiesClass\n+from petstore_api.model.additional_properties_with_array_of_enums import AdditionalPropertiesWithArrayOfEnums", "originalCommit": "c68598d24e7144f1948e127920af0f652286c3b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "39f1632506437c4aef54b5a4a54eed8184c30106", "url": "https://github.com/OpenAPITools/openapi-generator/commit/39f1632506437c4aef54b5a4a54eed8184c30106", "message": "fix addditionalProperties", "committedDate": "2020-06-09T15:20:56Z", "type": "commit"}, {"oid": "8b5a5bee587a1c6a2a273d616e5948cbbb1b3037", "url": "https://github.com/OpenAPITools/openapi-generator/commit/8b5a5bee587a1c6a2a273d616e5948cbbb1b3037", "message": "fix issue", "committedDate": "2020-06-09T15:26:13Z", "type": "commit"}, {"oid": "2863b4266936e4f263554eb10c556fec9dc7488a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2863b4266936e4f263554eb10c556fec9dc7488a", "message": "Merge remote-tracking branch 'upstream/master' into python-experimental/additional-properties-array-enum", "committedDate": "2020-06-09T15:26:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY1MTA4MA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437651080", "bodyText": "@jirikuncar why doesn't the documentation example pass in an instance of additional_properties_with_array_of_enums.AdditionalPropertiesWithArrayOfEnums? Isn't that input required?", "author": "spacether", "createdAt": "2020-06-09T18:58:42Z", "path": "samples/openapi3/client/petstore/python-experimental/docs/FakeApi.md", "diffHunk": "@@ -332,6 +333,64 @@ No authorization required\n \n [[Back to top]](#) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to Model list]](../README.md#documentation-for-models) [[Back to README]](../README.md)\n \n+# **get_additional_properties_with_array_of_enums**\n+> additional_properties_with_array_of_enums.AdditionalPropertiesWithArrayOfEnums get_additional_properties_with_array_of_enums()\n+\n+Additional Properties with Array of Enums\n+\n+### Example\n+\n+```python\n+from __future__ import print_function\n+import time\n+import petstore_api\n+from petstore_api.api import fake_api\n+from petstore_api.model import additional_properties_with_array_of_enums\n+from pprint import pprint\n+# Defining the host is optional and defaults to http://petstore.swagger.io:80/v2\n+# See configuration.py for a list of all supported configuration parameters.\n+configuration = petstore_api.Configuration(\n+    host = \"http://petstore.swagger.io:80/v2\"\n+)\n+\n+\n+# Enter a context with an instance of the API client\n+with petstore_api.ApiClient() as api_client:\n+    # Create an instance of the API class\n+    api_instance = fake_api.FakeApi(api_client)\n+    \n+    # example, this endpoint has no required or optional parameters\n+    try:\n+        # Additional Properties with Array of Enums\n+        api_response = api_instance.get_additional_properties_with_array_of_enums()", "originalCommit": "2863b4266936e4f263554eb10c556fec9dc7488a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY1MjMyOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437652328", "bodyText": "Never mind, the endpoint responds with that data type, it doesn't accept it", "author": "spacether", "createdAt": "2020-06-09T19:00:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY1MTA4MA=="}], "type": "inlineReview"}, {"oid": "a1301c08ea272abd16869cdb84e5f2f6369f8197", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a1301c08ea272abd16869cdb84e5f2f6369f8197", "message": "Merge remote-tracking branch 'upstream/master' into python-experimental/additional-properties-array-enum", "committedDate": "2020-06-10T09:31:02Z", "type": "commit"}, {"oid": "15f9127f9e3508930e77bb80c6087652b0297a64", "url": "https://github.com/OpenAPITools/openapi-generator/commit/15f9127f9e3508930e77bb80c6087652b0297a64", "message": "ensure-up-to-date", "committedDate": "2020-06-10T09:33:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk5NzY4NA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6594#discussion_r437997684", "bodyText": "It looks like Java is suffering the same issue with missing import and not using named class for mapping.\n@bbdouglas (2017/07) @sreeshas (2017/08) @jfiala (2017/08) @lukoyanov (2017/09) @cbornet (2017/09) @jeff9finger (2018/01) @karismann (2019/03) @Zomzog (2019/04) @lwlee2608 (2019/10) @bkabrda (2020/01)", "author": "jirikuncar", "createdAt": "2020-06-10T09:44:08Z", "path": "samples/openapi3/client/petstore/java/jersey2-java8/src/main/java/org/openapitools/client/api/FakeApi.java", "diffHunk": "@@ -362,6 +362,66 @@ public String fakeOuterStringSerialize(String body) throws ApiException {\n                                localVarHeaderParams, localVarCookieParams, localVarFormParams, localVarAccept, localVarContentType,\n                                localVarAuthNames, localVarReturnType);\n   }\n+  /**\n+   * Additional Properties with Array of Enums\n+   * \n+   * @return Map&lt;String, List&lt;EnumClass&gt;&gt;\n+   * @throws ApiException if fails to make API call\n+   * @http.response.details\n+     <table summary=\"Response Details\" border=\"1\">\n+       <tr><td> Status Code </td><td> Description </td><td> Response Headers </td></tr>\n+       <tr><td> 200 </td><td> Got object with additional properties with array of enums </td><td>  -  </td></tr>\n+     </table>\n+   */\n+  public Map<String, List<EnumClass>> getAdditionalPropertiesWithArrayOfEnums() throws ApiException {", "originalCommit": "15f9127f9e3508930e77bb80c6087652b0297a64", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "55220804be9103890853a5ef070482e34f176ad3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/55220804be9103890853a5ef070482e34f176ad3", "message": "Merge remote-tracking branch 'upstream/master' into python-experimental/additional-properties-array-enum", "committedDate": "2020-06-12T09:08:03Z", "type": "commit"}, {"oid": "4a2f043bef4afd590295792978277ef312067fa8", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4a2f043bef4afd590295792978277ef312067fa8", "message": "Use separate spec for java", "committedDate": "2020-06-12T09:11:20Z", "type": "commit"}]}