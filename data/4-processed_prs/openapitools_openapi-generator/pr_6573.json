{"pr_number": 6573, "pr_title": "[docker] Tag latest-release for stable latest tagging", "pr_createdAt": "2020-06-06T21:25:52Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6573", "timeline": [{"oid": "4749d19b6f7b1114b33c4df95cb1160aae1f04b9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4749d19b6f7b1114b33c4df95cb1160aae1f04b9", "message": "[docker] Tag latest-release for stable latest tagging", "committedDate": "2020-06-06T21:18:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwMTkyOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6573#discussion_r436301929", "bodyText": "note to reviewer, I'd recommend trying a similar command here in a private repo to become familiar with it. This follows GitHub Workflow documentation by passing creds into supported stdin.", "author": "jimschubert", "createdAt": "2020-06-06T21:27:17Z", "path": ".github/workflows/docker-tag-latest-release.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: Docker Tag latest-release\n+\n+# Run every couple of days\n+on:\n+  schedule:\n+  - cron: \"* */48 * * *\"\n+\n+jobs:\n+  # This pulls all containers for the last known release tag, and tags as latest-release or x-latest-release for shared repo\n+  tagLatestRelease:\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+\n+    # Pull the code so we have git metadata\n+    - name: Checkout code\n+      uses: actions/checkout@v2\n+\n+    # This action will \"unshallow\" so we have all tag info\n+    - name: Get latest tag\n+      id: tagger\n+      uses: jimschubert/query-tag-action@v1\n+      with:\n+        include: 'v*'\n+        exclude: '*-rc*'\n+        commit-ish: 'HEAD~'\n+\n+    - name: DockerHub Login\n+      run: echo \"${{ secrets.DOCKER_PASSWORD }}\" | docker login -u \"${{ secrets.DOCKER_USERNAME }}\" --password-stdin", "originalCommit": "4749d19b6f7b1114b33c4df95cb1160aae1f04b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}