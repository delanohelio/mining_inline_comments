{"pr_number": 6753, "pr_title": "[Rust][Client] Unify sync/async client structure", "pr_createdAt": "2020-06-23T09:53:46Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6753", "timeline": [{"oid": "b054edfb34f6354c320014aa29a6bb522ce5ab5a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b054edfb34f6354c320014aa29a6bb522ce5ab5a", "message": "Unify sync/async client structure (configuration as first param instead of a struct).", "committedDate": "2020-06-23T09:36:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ1NjExMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6753#discussion_r444456111", "bodyText": "I'm afraid your change breaks library: hyper, as can easily be checked like this:\njava -jar ./modules/openapi-generator-cli/target/openapi-generator-cli.jar generate -g rust -i https://github.com/slackapi/slack-api-specs/raw/master/web-api/slack_web_openapi_v2.json -o slack --skip-validate-spec --remove-operation-id-prefix --library hyper\ncargo check --manifest-path slack/Cargo.toml\n> ...\n> error[E0583]: file not found for module `client`\n>    --> src\\apis\\mod.rs:162:1\n>     |\n> 162 | pub mod client;\n>     | ^^^^^^^^^^^^^^^\n>     |\n>     = help: to create the module `client`, create file \"src\\apis\\client.rs\"\n\nI would suggest something like this as an alternative for removing the line completely:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (HYPER_LIBRARY.equals(getLibrary())) {\n          \n          \n            \n                        supportingFiles.add(new SupportingFile(\"request.rs\", apiFolder, \"request.rs\"));\n          \n          \n            \n                    }\n          \n          \n            \n                    if (HYPER_LIBRARY.equals(getLibrary())) {\n          \n          \n            \n                        supportingFiles.add(new SupportingFile(\"request.rs\", apiFolder, \"request.rs\"));\n          \n          \n            \n                        supportingFiles.add(new SupportingFile(getLibrary() + \"/client.mustache\", apiFolder, \"client.rs\"));\n          \n          \n            \n                    }\n          \n      \n    \n    \n  \n\nMaybe a test using library: hyper would be helpful to prevent something like this in the future?", "author": "HenningHolmDE", "createdAt": "2020-06-23T19:26:54Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/RustClientCodegen.java", "diffHunk": "@@ -301,9 +301,6 @@ public void processOpts() {\n         if (HYPER_LIBRARY.equals(getLibrary())) {\n             supportingFiles.add(new SupportingFile(\"request.rs\", apiFolder, \"request.rs\"));\n         }", "originalCommit": "b054edfb34f6354c320014aa29a6bb522ce5ab5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY5MTMzMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6753#discussion_r444691330", "bodyText": "Good catch! I didn't think that client file was shared between hyper and reqwest. Will fix that. \ud83d\udc4d", "author": "bcourtine", "createdAt": "2020-06-24T07:14:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ1NjExMQ=="}], "type": "inlineReview"}, {"oid": "2ba9513ad859a9cce339810f6f669aa046ad2371", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2ba9513ad859a9cce339810f6f669aa046ad2371", "message": "Fix: Hyper client requires the client.rs file.\n\nCo-authored-by: Henning Holm <git@henningholm.de>", "committedDate": "2020-06-24T07:23:58Z", "type": "commit"}, {"oid": "550d7932948aeed1ec9cbc8b30c9d1ead4b2a509", "url": "https://github.com/OpenAPITools/openapi-generator/commit/550d7932948aeed1ec9cbc8b30c9d1ead4b2a509", "message": "Add API method comments (description and/or notes when available).", "committedDate": "2020-06-26T06:19:55Z", "type": "commit"}]}