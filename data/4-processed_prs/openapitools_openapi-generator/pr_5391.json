{"pr_number": 5391, "pr_title": "[codegen][Go] Fix compilation error of generated go code when schema is free form object", "pr_createdAt": "2020-02-20T22:37:05Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5391", "timeline": [{"oid": "5721959f43f4a5f14a9900e3055c7eb3231c3d65", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5721959f43f4a5f14a9900e3055c7eb3231c3d65", "message": "Fix code generation for free-form objects in go-experimental", "committedDate": "2020-02-20T20:37:43Z", "type": "commit"}, {"oid": "40470a619d74022e850a711e7e4643ab1fced06a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/40470a619d74022e850a711e7e4643ab1fced06a", "message": "Execute scripts in bin directory", "committedDate": "2020-02-20T21:40:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ4NTk2NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382485965", "bodyText": "IMHO it should be a JSON object not string '{}'.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    stuff: '{}'\n          \n          \n            \n                    stuff: {}", "author": "jirikuncar", "createdAt": "2020-02-21T09:43:59Z", "path": "samples/openapi3/client/petstore/go-experimental/go-petstore/api/openapi.yaml", "diffHunk": "@@ -1303,6 +1303,7 @@ components:\n         id: 0\n         email: email\n         username: username\n+        stuff: '{}'", "originalCommit": "40470a619d74022e850a711e7e4643ab1fced06a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyNzIxMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382627211", "bodyText": "You are correct, but this is generated code, so it must be fixed in the mustache templates, or maybe the Java code. There must be another bug in the existing code that causes this issue. Let me check.", "author": "sebastien-rosset", "createdAt": "2020-02-21T14:58:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ4NTk2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYyOTQ4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382629489", "bodyText": "This is generated from https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/go-experimental/openapi.mustache. There must be a problem with the content of the openapi-yaml tag.", "author": "sebastien-rosset", "createdAt": "2020-02-21T15:02:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ4NTk2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1NjgyNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382656827", "bodyText": "Never mind, the generated code is correct and must be within quotes. This is because this line is part of the generated example value.\n\n  \n    \n      openapi-generator/samples/openapi3/client/petstore/go-experimental/go-petstore/api/openapi.yaml\n    \n    \n         Line 1297\n      in\n      40470a6\n    \n    \n    \n    \n\n        \n          \n           example:", "author": "sebastien-rosset", "createdAt": "2020-02-21T15:50:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ4NTk2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1NzUzMA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382657530", "bodyText": "I am going to mark this issue resolved. Reopen if you have more questions.", "author": "sebastien-rosset", "createdAt": "2020-02-21T15:51:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ4NTk2NQ=="}], "type": "inlineReview"}, {"oid": "1d12a005252f2846cd3c0b6daf04774ba148a924", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1d12a005252f2846cd3c0b6daf04774ba148a924", "message": "Add more use cases for open-ended types", "committedDate": "2020-02-21T19:40:07Z", "type": "commit"}, {"oid": "128b6cafdb4f56f9a29ed02dbb1daab085e87751", "url": "https://github.com/OpenAPITools/openapi-generator/commit/128b6cafdb4f56f9a29ed02dbb1daab085e87751", "message": "Add more use cases for open-ended types", "committedDate": "2020-02-21T19:44:21Z", "type": "commit"}, {"oid": "946bdc61745cf9db98d5e3e211b4de7a8c751bc6", "url": "https://github.com/OpenAPITools/openapi-generator/commit/946bdc61745cf9db98d5e3e211b4de7a8c751bc6", "message": "Add more use cases for open-ended types", "committedDate": "2020-02-21T19:47:12Z", "type": "commit"}, {"oid": "7af5f83251a825f0461b243e6b0c6f56a15dfba4", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7af5f83251a825f0461b243e6b0c6f56a15dfba4", "message": "add code comments", "committedDate": "2020-02-21T20:06:29Z", "type": "commit"}, {"oid": "f2e4418a7e86f2ff612d21223e6fd916c820f27f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f2e4418a7e86f2ff612d21223e6fd916c820f27f", "message": "Better name for test properties", "committedDate": "2020-02-21T20:07:39Z", "type": "commit"}, {"oid": "de435426c95937f3e43b8e9f6228b198dd7904f7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/de435426c95937f3e43b8e9f6228b198dd7904f7", "message": "handle scenario when type is arbitrary", "committedDate": "2020-02-21T20:37:24Z", "type": "commit"}, {"oid": "0c117c49b479bf5d3edea9299e03b94ebe841cab", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0c117c49b479bf5d3edea9299e03b94ebe841cab", "message": "handle interface{} scenario", "committedDate": "2020-02-21T21:29:44Z", "type": "commit"}, {"oid": "9ba18efeb5d085c559895759dbd940701338806a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9ba18efeb5d085c559895759dbd940701338806a", "message": "handle interface{} scenario", "committedDate": "2020-02-21T21:37:00Z", "type": "commit"}, {"oid": "c5a29f562f0bb351a666a82eea3229f84a394db6", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c5a29f562f0bb351a666a82eea3229f84a394db6", "message": "add helper function isAnyType", "committedDate": "2020-02-21T22:11:10Z", "type": "commit"}, {"oid": "821eaeb4c4d894b361186fa723f5b9fbb0da4ac3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/821eaeb4c4d894b361186fa723f5b9fbb0da4ac3", "message": "isAnyType function", "committedDate": "2020-02-21T22:35:52Z", "type": "commit"}, {"oid": "16259c7b8b7dadffe49090a2f63c1fa6cb059d9e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/16259c7b8b7dadffe49090a2f63c1fa6cb059d9e", "message": "implementation of isAnyType function", "committedDate": "2020-02-21T22:36:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjgzOTUzMw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382839533", "bodyText": "This was a bug before this PR. There is no markdown file \"map[string]interface{}.md\"", "author": "sebastien-rosset", "createdAt": "2020-02-21T22:38:05Z", "path": "samples/openapi3/client/petstore/go-experimental/go-petstore/docs/NullableClass.md", "diffHunk": "@@ -10,12 +10,12 @@ Name | Type | Description | Notes\n **StringProp** | Pointer to **NullableString** |  | [optional] \n **DateProp** | Pointer to **NullableString** |  | [optional] \n **DatetimeProp** | Pointer to [**NullableTime**](time.Time.md) |  | [optional] \n-**ArrayNullableProp** | Pointer to [**[]map[string]interface{}**](map[string]interface{}.md) |  | [optional] \n-**ArrayAndItemsNullableProp** | Pointer to [**[]map[string]interface{}**](map[string]interface{}.md) |  | [optional] \n-**ArrayItemsNullable** | Pointer to [**[]map[string]interface{}**](map[string]interface{}.md) |  | [optional] \n-**ObjectNullableProp** | Pointer to [**map[string]map[string]interface{}**](map[string]interface{}.md) |  | [optional] \n-**ObjectAndItemsNullableProp** | Pointer to [**map[string]map[string]interface{}**](map[string]interface{}.md) |  | [optional] \n-**ObjectItemsNullable** | Pointer to [**map[string]map[string]interface{}**](map[string]interface{}.md) |  | [optional] \n+**ArrayNullableProp** | Pointer to **[]map[string]interface{}** |  | [optional] ", "originalCommit": "16259c7b8b7dadffe49090a2f63c1fa6cb059d9e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg0MDA5Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382840092", "bodyText": "@spacether , these allowed types would have to be fixed in a separate PR.", "author": "sebastien-rosset", "createdAt": "2020-02-21T22:39:51Z", "path": "samples/openapi3/client/petstore/python-experimental/petstore_api/models/user.py", "diffHunk": "@@ -136,6 +144,10 @@ def __init__(self, _check_type=True, _from_server=False, _path_to_item=(), _conf\n             password (str): [optional]  # noqa: E501\n             phone (str): [optional]  # noqa: E501\n             user_status (int): User Status. [optional]  # noqa: E501\n+            arbitrary_object (bool, date, datetime, dict, float, int, list, str): test code generation for objects Value must be a map of strings to values. It cannot be the &#39;null&#39; value.. [optional]  # noqa: E501", "originalCommit": "16259c7b8b7dadffe49090a2f63c1fa6cb059d9e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg0MjkzNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r382842935", "bodyText": "Yup, this weekend I am busy but I can get to it in the future", "author": "spacether", "createdAt": "2020-02-21T22:49:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg0MDA5Mg=="}], "type": "inlineReview"}, {"oid": "b0d0f4a4d0b7528fe7cc16da00e59e2998eb3531", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b0d0f4a4d0b7528fe7cc16da00e59e2998eb3531", "message": "fix javadoc issue", "committedDate": "2020-02-21T22:50:26Z", "type": "commit"}, {"oid": "1f33e83c5998e31d3747d8d390d1294f3ab7bddd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1f33e83c5998e31d3747d8d390d1294f3ab7bddd", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into go-experimental-free-form", "committedDate": "2020-02-21T22:58:25Z", "type": "commit"}, {"oid": "9471954584c6737a3a500cc546cc427153c764f9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9471954584c6737a3a500cc546cc427153c764f9", "message": "handle interface{} scenario", "committedDate": "2020-02-22T02:19:14Z", "type": "commit"}, {"oid": "48fac6675df5108f7f426801803e3497da8fd1ed", "url": "https://github.com/OpenAPITools/openapi-generator/commit/48fac6675df5108f7f426801803e3497da8fd1ed", "message": "Merge remote-tracking branch 'origin' into go-experimental-free-form", "committedDate": "2020-02-26T17:19:54Z", "type": "commit"}, {"oid": "1661128f59fee54ee6c7e6920e615a1caebacaa7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1661128f59fee54ee6c7e6920e615a1caebacaa7", "message": "Merge remote-tracking branch 'origin' into go-experimental-free-form", "committedDate": "2020-02-29T21:22:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExMzA3NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r386113075", "bodyText": "Should this be \"object\".equals(openAPIType) ?", "author": "wing328", "createdAt": "2020-03-01T14:35:14Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/AbstractGoCodegen.java", "diffHunk": "@@ -350,6 +375,9 @@ public String getSchemaType(Schema p) {\n \n         if (ref != null && !ref.isEmpty()) {\n             type = openAPIType;\n+        } else if (openAPIType == \"object\" && ModelUtils.isAnyTypeSchema(p)) {", "originalCommit": "1661128f59fee54ee6c7e6920e615a1caebacaa7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEyMDAwMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5391#discussion_r386120002", "bodyText": "yes, thank you. Resolved", "author": "sebastien-rosset", "createdAt": "2020-03-01T16:10:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExMzA3NQ=="}], "type": "inlineReview"}, {"oid": "ee2c1ccf5594b3af6ba645e56c946af6b67ea4ce", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ee2c1ccf5594b3af6ba645e56c946af6b67ea4ce", "message": "use equals comparison instead of ==", "committedDate": "2020-03-01T16:09:42Z", "type": "commit"}, {"oid": "13230173149bbbec8933850af7e674474646589f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/13230173149bbbec8933850af7e674474646589f", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into go-experimental-free-form", "committedDate": "2020-03-12T21:28:40Z", "type": "commit"}, {"oid": "60529ee0748dc5e79dc939a8d6b98b6b41ab3439", "url": "https://github.com/OpenAPITools/openapi-generator/commit/60529ee0748dc5e79dc939a8d6b98b6b41ab3439", "message": "resolve merge conflicts", "committedDate": "2020-03-17T14:31:34Z", "type": "commit"}, {"oid": "840a20955fd1232e6796f6450d74e73d3b6e0331", "url": "https://github.com/OpenAPITools/openapi-generator/commit/840a20955fd1232e6796f6450d74e73d3b6e0331", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into go-experimental-free-form", "committedDate": "2020-03-24T13:53:50Z", "type": "commit"}, {"oid": "1668293bcae06c2ada8c5e768e0be48533af3a4c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1668293bcae06c2ada8c5e768e0be48533af3a4c", "message": "merge from master", "committedDate": "2020-03-24T14:00:31Z", "type": "commit"}, {"oid": "76ffa9ef4fe9cb4b0642eef748e33ba0742b6f3a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/76ffa9ef4fe9cb4b0642eef748e33ba0742b6f3a", "message": "merge from master", "committedDate": "2020-03-24T14:00:36Z", "type": "commit"}, {"oid": "5d7be16fb7462c4597d0ed911ee653fc9d34d5bb", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5d7be16fb7462c4597d0ed911ee653fc9d34d5bb", "message": "Merge remote-tracking branch 'origin' into go-experimental-free-form", "committedDate": "2020-03-24T16:38:39Z", "type": "commit"}, {"oid": "4b714ad27961a5b67e18fbe819e78e9eab821aae", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4b714ad27961a5b67e18fbe819e78e9eab821aae", "message": "Add code documentation", "committedDate": "2020-03-24T18:52:55Z", "type": "commit"}, {"oid": "6c5afdd28913b9870e7801ed64ce7355eebd6bd0", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6c5afdd28913b9870e7801ed64ce7355eebd6bd0", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into go-experimental-free-form", "committedDate": "2020-03-25T02:26:23Z", "type": "commit"}, {"oid": "5cb8407f76ba6c4b878c580a74c403a639691a12", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5cb8407f76ba6c4b878c580a74c403a639691a12", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into go-experimental-free-form", "committedDate": "2020-03-25T14:41:18Z", "type": "commit"}, {"oid": "4db388fce64d5b813a4bb912fa2a4e84975891cb", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4db388fce64d5b813a4bb912fa2a4e84975891cb", "message": "add code comments, remove unused min/max attribute, fix equals method", "committedDate": "2020-03-25T15:33:28Z", "type": "commit"}, {"oid": "42cc09ac4fb6d5a1c9005eef475312710596774b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/42cc09ac4fb6d5a1c9005eef475312710596774b", "message": "Handle 'anytype' use case", "committedDate": "2020-03-25T15:47:43Z", "type": "commit"}, {"oid": "c70f531547a133f64f843c7ca7877ba476572eb7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c70f531547a133f64f843c7ca7877ba476572eb7", "message": "add code comments", "committedDate": "2020-03-25T21:02:15Z", "type": "commit"}, {"oid": "49d833cea02745dedbbf804e520b632099e9c2b5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/49d833cea02745dedbbf804e520b632099e9c2b5", "message": "override postProcessModelProperty to set vendor extension", "committedDate": "2020-03-25T21:02:53Z", "type": "commit"}, {"oid": "2eeb4e54ee229dcde2f6a0d75143f509ac51033a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2eeb4e54ee229dcde2f6a0d75143f509ac51033a", "message": "Use vendorExtensions.x-golang-is-container", "committedDate": "2020-03-25T21:03:12Z", "type": "commit"}, {"oid": "6c4c5fc2b2b05552eaf2b21e3db1db3c9e0a6d51", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6c4c5fc2b2b05552eaf2b21e3db1db3c9e0a6d51", "message": "fix compilation error of generated code", "committedDate": "2020-03-25T21:03:43Z", "type": "commit"}, {"oid": "9051376afc0c9f9fb0a46e7e9d65a7844d2fdec1", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9051376afc0c9f9fb0a46e7e9d65a7844d2fdec1", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into go-experimental-free-form", "committedDate": "2020-03-25T21:06:22Z", "type": "commit"}, {"oid": "f736657b058806949a217d81a29c5f1f7a7fb272", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f736657b058806949a217d81a29c5f1f7a7fb272", "message": "fix compilation error of generated code", "committedDate": "2020-03-25T22:04:35Z", "type": "commit"}, {"oid": "5d4796c150c2ff67ba0d7498c00ea2d39cfd34f0", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5d4796c150c2ff67ba0d7498c00ea2d39cfd34f0", "message": "fix compilation error of generated code", "committedDate": "2020-03-25T22:06:33Z", "type": "commit"}]}