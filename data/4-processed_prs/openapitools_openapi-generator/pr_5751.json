{"pr_number": 5751, "pr_title": "[Erlang-Server] security definition context changes don't propagate to handler", "pr_createdAt": "2020-03-29T22:09:36Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5751", "timeline": [{"oid": "77198b48c5b44be04eec047f4e7eaaf77b92896a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/77198b48c5b44be04eec047f4e7eaaf77b92896a", "message": "Map Merge Context & Params\n\nhandler requires context and params to be merged before returned to user defined request_handler.", "committedDate": "2020-03-29T21:50:43Z", "type": "commit"}, {"oid": "a746cfced2e5cb0ed6385e148f60908192f0330c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a746cfced2e5cb0ed6385e148f60908192f0330c", "message": "post build & shell script", "committedDate": "2020-03-29T22:09:19Z", "type": "commit"}, {"oid": "61c07d82fe1d380c1bf2d3d6bc01fbccf424ddd7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/61c07d82fe1d380c1bf2d3d6bc01fbccf424ddd7", "message": "Delete VERSION", "committedDate": "2020-03-30T00:45:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk3NzM0NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5751#discussion_r399977345", "bodyText": "Just to confirm. Shouldn't this be merge in the reverse order in order to keep the request specific values?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            maps:merge(State#state.context, Populated)\n          \n          \n            \n                            maps:merge(Populated, State#state.context)", "author": "jfacorro", "createdAt": "2020-03-30T07:25:24Z", "path": "modules/openapi-generator/src/main/resources/erlang-server/handler.mustache", "diffHunk": "@@ -225,7 +225,7 @@ handle_request_json(\n                 LogicHandler,\n                 OperationID,\n                 Req1,\n-                Populated\n+                maps:merge(State#state.context, Populated)", "originalCommit": "61c07d82fe1d380c1bf2d3d6bc01fbccf424ddd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2MTAzOQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5751#discussion_r400161039", "bodyText": "https://erlang.org/doc/man/maps.html#merge-2\nI was shooting for backwards compatibility, in such that a user is used to having only the parameters input into context. this change wouldn't overwrite any user input parameters and preserve any functionality where a user may accidentally overwrite with the addition of the context being passed from security definitions. So your suggestion would place user parameters in the context, then overwrite with the security definitions. Makes sense from a data transformation POV. I'll make the change later today.", "author": "ehansen31", "createdAt": "2020-03-30T12:44:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk3NzM0NQ=="}], "type": "inlineReview"}]}