{"pr_number": 5945, "pr_title": "[python-experimental] Minor doc update, code comments and exception handling", "pr_createdAt": "2020-04-16T01:15:58Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5945", "timeline": [{"oid": "4e1dba5012df6ebf70c1f7f87c10569e764089b3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4e1dba5012df6ebf70c1f7f87c10569e764089b3", "message": "add support for any type, i.e. when 'type' attribute is not specified in OAS schema", "committedDate": "2020-04-15T22:36:19Z", "type": "commit"}, {"oid": "7fb260205e3f15c58cde3566616391d378ae4742", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7fb260205e3f15c58cde3566616391d378ae4742", "message": "fix typos, add code comments", "committedDate": "2020-04-16T14:54:51Z", "type": "commit"}, {"oid": "78f71babbd5169ed3623f61767d13fa58c88d818", "url": "https://github.com/OpenAPITools/openapi-generator/commit/78f71babbd5169ed3623f61767d13fa58c88d818", "message": "Handle case when 'type' attribute is not present in the OAS schema", "committedDate": "2020-04-16T22:04:16Z", "type": "commit"}, {"oid": "43eecab73776fb6c4e09b0f982ce7930bb2a4f96", "url": "https://github.com/OpenAPITools/openapi-generator/commit/43eecab73776fb6c4e09b0f982ce7930bb2a4f96", "message": "fix python formatting rule", "committedDate": "2020-04-18T18:54:15Z", "type": "commit"}, {"oid": "332d5f540b336db23fd622ec526788dbff4431d4", "url": "https://github.com/OpenAPITools/openapi-generator/commit/332d5f540b336db23fd622ec526788dbff4431d4", "message": "fix python formatting rule", "committedDate": "2020-04-18T21:14:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA0MDA5Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5945#discussion_r411040097", "bodyText": "@sebastien-rosset can we discuss this over Skype?\nI am concerned with doing it this way because many python classes inherit from the object type. So if we did it this way, it would allow in a ton of other class instances that we shouldn't like set, tuple, and arbitrary other classes.\nSwagger/Openapi only allows specific types (string, int, float, dict, list, bytes, datetime, date, file_type, none_type)\nMy preference would be to instead convert these any type classes in python into a composed schema where it oneOf allows any type. As an added benefit, this could maybe be used to verify that we can have oneOf models with simple or complex types, which I'm not sure we can do.\nThings like:\noneOf:\n\nstring\nPet\n\nWhat do you think?", "author": "spacether", "createdAt": "2020-04-20T01:32:23Z", "path": "modules/openapi-generator/src/main/resources/python/python-experimental/model_utils.mustache", "diffHunk": "@@ -84,7 +84,7 @@ COERCION_INDEX_BY_TYPE = {\n     date: 10,\n     str: 11,\n     file_type: 12,   # 'file_type' is an alias for the built-in 'file' or 'io.IOBase' type.\n-    object: 13,      # Any type, the 'type' attribute is not specified in a schema in a OAS document.\n+    object: 13,      # The 'type' attribute is not specified in the OAS schema.", "originalCommit": "332d5f540b336db23fd622ec526788dbff4431d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjU1ODM2MQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5945#discussion_r412558361", "bodyText": "@sebastien-rosset can we discuss this over Skype?\nI am concerned with doing it this way because many python classes inherit from the object type. So if we did it this way, it would allow in a ton of other class instances that we shouldn't like set, tuple, and arbitrary other classes.\nSwagger/Openapi only allows specific types (string, int, float, dict, list, bytes, datetime, date, file_type, none_type)\nMy preference would be to instead convert these any type classes in python into a composed schema where it oneOf allows any type. As an added benefit, this could maybe be used to verify that we can have oneOf models with simple or complex types, which I'm not sure we can do.\nThings like:\noneOf:\n\nstring\nPet\n\nWhat do you think?\n\nYes I think that makes sense. Currently, when the type is \"any\", the generated openapi_types() function has a dict of properties to set of allowed types, and the allowed type is \"object\".  That currently causes a runtime exception. So instead of having \"object\" in the list, we would enumerate all possible types: str, bool, date, datetime, dict, float, int, list", "author": "sebastien-rosset", "createdAt": "2020-04-21T23:23:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA0MDA5Nw=="}], "type": "inlineReview"}, {"oid": "bc4696365436a91388a97bf043f3492cb1080972", "url": "https://github.com/OpenAPITools/openapi-generator/commit/bc4696365436a91388a97bf043f3492cb1080972", "message": "remove 'object' as a type", "committedDate": "2020-04-23T05:28:45Z", "type": "commit"}, {"oid": "025d87d607f0f9a3ebcb7356c986feeb696ac8cc", "url": "https://github.com/OpenAPITools/openapi-generator/commit/025d87d607f0f9a3ebcb7356c986feeb696ac8cc", "message": "Merge branch 'master' of github.com:CiscoM31/openapi-generator into python-experimental-any-type", "committedDate": "2020-04-23T05:37:00Z", "type": "commit"}]}