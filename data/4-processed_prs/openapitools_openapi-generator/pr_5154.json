{"pr_number": 5154, "pr_title": "[Python] Python HTTP signature update", "pr_createdAt": "2020-01-29T19:24:22Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5154", "timeline": [{"oid": "5cecc98eedd04ff54d3c15d3f062c9835d606926", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5cecc98eedd04ff54d3c15d3f062c9835d606926", "message": "improve python documentation and add import to __init__package.mustache", "committedDate": "2020-01-29T04:37:58Z", "type": "commit"}, {"oid": "436d55a710bf53d7d4e7dccaeca700fad4fb13b3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/436d55a710bf53d7d4e7dccaeca700fad4fb13b3", "message": "improve python documentation and add import to __init__package.mustache", "committedDate": "2020-01-29T05:28:49Z", "type": "commit"}, {"oid": "ba0401ab4fd623400c407283f3bc0c880a97932e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ba0401ab4fd623400c407283f3bc0c880a97932e", "message": "add signing_info parameter conditionally", "committedDate": "2020-01-29T15:21:10Z", "type": "commit"}, {"oid": "c61641e8dee050ff7e4dc611cdd78a8cbc166e55", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c61641e8dee050ff7e4dc611cdd78a8cbc166e55", "message": "add code comments and remove 'Content-Length' header from example", "committedDate": "2020-01-29T15:44:45Z", "type": "commit"}, {"oid": "de3907e524554bfee2e1e46f295cc0fb0587d4fd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/de3907e524554bfee2e1e46f295cc0fb0587d4fd", "message": "Remove debug log statement", "committedDate": "2020-01-29T23:37:13Z", "type": "commit"}, {"oid": "3d46e61cd3690cc15d0d4f10c7da098ccdd2a9c2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3d46e61cd3690cc15d0d4f10c7da098ccdd2a9c2", "message": "set access_token to None by default", "committedDate": "2020-01-29T23:46:11Z", "type": "commit"}, {"oid": "6e46aa69ec217bcee8f8d66dc522ac0e73ebf34b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/6e46aa69ec217bcee8f8d66dc522ac0e73ebf34b", "message": "set access_token to None by default", "committedDate": "2020-01-29T23:51:03Z", "type": "commit"}, {"oid": "e6b9738f0a7cdcba24c8aa66532687d47acf7d24", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e6b9738f0a7cdcba24c8aa66532687d47acf7d24", "message": "Merge remote-tracking branch 'origin' into python-http-signature-2", "committedDate": "2020-01-31T02:00:57Z", "type": "commit"}, {"oid": "e07fa2ec02a801ec86e5a9fedb1425d8022520fe", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e07fa2ec02a801ec86e5a9fedb1425d8022520fe", "message": "fix unit tests for Python experimental", "committedDate": "2020-01-31T02:35:37Z", "type": "commit"}, {"oid": "483caae3bc542ae350d1cdc92c5471d262678066", "url": "https://github.com/OpenAPITools/openapi-generator/commit/483caae3bc542ae350d1cdc92c5471d262678066", "message": "fix trailing space", "committedDate": "2020-01-31T02:56:48Z", "type": "commit"}, {"oid": "0b5e0782ed5c6c401ff92230187a9cb1289749e3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0b5e0782ed5c6c401ff92230187a9cb1289749e3", "message": "Merge remote-tracking branch 'origin' into python-http-signature-2", "committedDate": "2020-01-31T19:03:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzAzMg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r373877032", "bodyText": "This changes the master branch behavior of the Configuration auth_settings method.\nBefore the default of empty string would have the auth_settings() return a dict containing:\n{\n  ...\n  'value': 'Bearer ',\n  ...\n}\n\nWhereas this change would omit that entry.\nBecause this is a breaking change with fallback (users tests could break)\nWe can either:\n\ntarget the 4.3.0 (breaking change with fallback)\nor revert the access_token back to empty string in this PR and release it on master\n\nWhat do you want to do here?\nDid you have any discussions with @wing328 about this?", "author": "spacether", "createdAt": "2020-02-02T21:33:51Z", "path": "modules/openapi-generator/src/main/resources/python/configuration.mustache", "diffHunk": "@@ -123,19 +152,21 @@ class Configuration(object):\n         self.password = password\n         \"\"\"Password for HTTP basic authentication\n         \"\"\"\n+{{#hasHttpSignatureMethods}}\n         if signing_info is not None:\n             signing_info.host = host\n         self.signing_info = signing_info\n         \"\"\"The HTTP signing configuration\n         \"\"\"\n+{{/hasHttpSignatureMethods}}\n {{#hasOAuthMethods}}\n-        self.access_token = \"\"\n+        self.access_token = None", "originalCommit": "0b5e0782ed5c6c401ff92230187a9cb1289749e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwOTUxNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r373909515", "bodyText": "But I argue this is a bug, just like password should not be the empty string by default. If a client actually wants to use a bearer token or OAuth2 access token, it will have to set the \"access_token\" attribute to a non-empty value.", "author": "sebastien-rosset", "createdAt": "2020-02-03T03:25:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDExNDM1OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r374114359", "bodyText": "But I argue this is a bug, just like password should not be the empty string by default. If a client actually wants to use a bearer token or OAuth2 access token, it will have to set the \"access_token\" attribute to a non-empty value.\n\nI think that's what we do in other languages (e.g. PHP, Ruby) as empty string could be a possible value (e.g. password in HTTP basic auth but of course it's against security best practice) so it should not be set as the default.", "author": "wing328", "createdAt": "2020-02-03T13:55:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDExNTQ2Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r374115462", "bodyText": "target the 4.3.0 (breaking change with fallback)\n\nCurrent master is (4.3.0), which is scheduled by the end of this month (Feb)", "author": "wing328", "createdAt": "2020-02-03T13:57:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE5NzQ2OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r374197469", "bodyText": "So can I mark this conversation resolved?", "author": "sebastien-rosset", "createdAt": "2020-02-03T16:18:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzAzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIzOTM0Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r374239347", "bodyText": "Yes, feel free to mark this as resolved", "author": "spacether", "createdAt": "2020-02-03T17:34:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzAzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg3NzA5Ng==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5154#discussion_r373877096", "bodyText": "The above comment about targeting a different release or changing this back to empty string applies here.", "author": "spacether", "createdAt": "2020-02-02T21:35:24Z", "path": "modules/openapi-generator/src/main/resources/python/configuration.mustache", "diffHunk": "@@ -123,19 +152,21 @@ class Configuration(object):\n         self.password = password\n         \"\"\"Password for HTTP basic authentication\n         \"\"\"\n+{{#hasHttpSignatureMethods}}\n         if signing_info is not None:\n             signing_info.host = host\n         self.signing_info = signing_info\n         \"\"\"The HTTP signing configuration\n         \"\"\"\n+{{/hasHttpSignatureMethods}}\n {{#hasOAuthMethods}}\n-        self.access_token = \"\"\n+        self.access_token = None\n         \"\"\"access token for OAuth/Bearer\n         \"\"\"\n {{/hasOAuthMethods}}\n {{^hasOAuthMethods}}\n {{#hasBearerMethods}}\n-        self.access_token = \"\"\n+        self.access_token = None", "originalCommit": "0b5e0782ed5c6c401ff92230187a9cb1289749e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}