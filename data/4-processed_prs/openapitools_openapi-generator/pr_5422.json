{"pr_number": 5422, "pr_title": "Typescript-axios: add headers from configuration object", "pr_createdAt": "2020-02-24T20:30:24Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5422", "timeline": [{"oid": "9646398a32d732ed205c7be6a4eacf1bd80688e9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9646398a32d732ed205c7be6a4eacf1bd80688e9", "message": "Fix #5420 add headers from configuration object", "committedDate": "2020-02-24T20:25:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY1NjE5NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5422#discussion_r383656195", "bodyText": "Based on the code above, it seems that baseOptions can be undefined - probably need null check here before accessing baseOptions.headers.\nShouldn't localVarHeaderParameter have priority over baseOptions.headers? Right now it looks like base options can override customizations specific to a particular api method", "author": "amakhrov", "createdAt": "2020-02-25T04:44:56Z", "path": "modules/openapi-generator/src/main/resources/typescript-axios/apiInner.mustache", "diffHunk": "@@ -189,7 +189,7 @@ export const {{classname}}AxiosParamCreator = function (configuration?: Configur\n             localVarUrlObj.query = {...localVarUrlObj.query, ...localVarQueryParameter, ...options.query};\n             // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\n             delete localVarUrlObj.search;\n-            localVarRequestOptions.headers = {...localVarHeaderParameter, ...options.headers};\n+            localVarRequestOptions.headers = {...localVarHeaderParameter, ...baseOptions.headers, ...options.headers};", "originalCommit": "9646398a32d732ed205c7be6a4eacf1bd80688e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg1MDg4Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5422#discussion_r383850882", "bodyText": "I will fix this\nI dont know, but I think localVarHeaderParameter will override baseOptions, and you can't change variables in localVarHeaderParameter in no way. So my option is allow override localVarHeaderParameter by baseOptions setted by user for all, and they overriding by options from request.", "author": "nibytes", "createdAt": "2020-02-25T12:34:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY1NjE5NQ=="}], "type": "inlineReview"}, {"oid": "58fb289a9d758905feb3b2e3d24ba9b3f64012f4", "url": "https://github.com/OpenAPITools/openapi-generator/commit/58fb289a9d758905feb3b2e3d24ba9b3f64012f4", "message": "Add baseOptions undefined checking #5420", "committedDate": "2020-02-25T18:14:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA4Mjc2Mg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5422#discussion_r385082762", "bodyText": "I think this should initialize to an empty object, right?", "author": "macjohnny", "createdAt": "2020-02-27T12:00:09Z", "path": "modules/openapi-generator/src/main/resources/typescript-axios/apiInner.mustache", "diffHunk": "@@ -189,7 +189,8 @@ export const {{classname}}AxiosParamCreator = function (configuration?: Configur\n             localVarUrlObj.query = {...localVarUrlObj.query, ...localVarQueryParameter, ...options.query};\n             // fix override query string Detail: https://stackoverflow.com/a/7517673/1077943\n             delete localVarUrlObj.search;\n-            localVarRequestOptions.headers = {...localVarHeaderParameter, ...options.headers};\n+            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : [];", "originalCommit": "58fb289a9d758905feb3b2e3d24ba9b3f64012f4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTM2NDA3NQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5422#discussion_r385364075", "bodyText": "Yes", "author": "nibytes", "createdAt": "2020-02-27T20:51:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA4Mjc2Mg=="}], "type": "inlineReview"}, {"oid": "f9193b5dc79c0e61bd41bcf0974a76f6f4ef8f39", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f9193b5dc79c0e61bd41bcf0974a76f6f4ef8f39", "message": "Update the samples and replace array to object #5420", "committedDate": "2020-02-27T21:19:45Z", "type": "commit"}, {"oid": "b615131da6414e94faa1503601632e0f9433f57a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b615131da6414e94faa1503601632e0f9433f57a", "message": "Update sample", "committedDate": "2020-02-27T22:11:06Z", "type": "commit"}]}