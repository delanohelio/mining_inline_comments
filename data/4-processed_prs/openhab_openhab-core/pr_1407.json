{"pr_number": 1407, "pr_title": "Add and fix more null annotations", "pr_createdAt": "2020-04-05T21:14:05Z", "pr_url": "https://github.com/openhab/openhab-core/pull/1407", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg0NzU5MA==", "url": "https://github.com/openhab/openhab-core/pull/1407#discussion_r403847590", "bodyText": "Can you shortly explain this assertion?", "author": "cweitkamp", "createdAt": "2020-04-06T06:05:40Z", "path": "itests/org.openhab.core.thing.tests/src/main/java/org/openhab/core/thing/internal/ThingRegistryOSGiTest.java", "diffHunk": "@@ -237,7 +237,11 @@ public boolean supportsThingType(@NonNull ThingTypeUID thingTypeUID) {\n         waitForAssert(() -> {\n             assertTrue(thingResultWrapper.get() != null);\n         });\n-        assertThat(thing, is(thingResultWrapper.get()));\n+\n+        assertThat(this, is(notNullValue()));", "originalCommit": "14efd748bd4144ac139cc7991e8e9fc000c3dd2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg2ODQyOQ==", "url": "https://github.com/openhab/openhab-core/pull/1407#discussion_r403868429", "bodyText": "I'll fix that because it should have checked the thing instead of this so the compiler will know it is null safe but will still fail if null . \ud83d\udc4d", "author": "wborn", "createdAt": "2020-04-06T07:01:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg0NzU5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg0ODAyMg==", "url": "https://github.com/openhab/openhab-core/pull/1407#discussion_r403848022", "bodyText": "Something beyond scope of this PR but passing a @Nullable UIComponent component here seems to be wrong. Could be captured by calling methods.", "author": "cweitkamp", "createdAt": "2020-04-06T06:07:08Z", "path": "bundles/org.openhab.core.ui/src/main/java/org/openhab/core/ui/internal/components/UIComponentSitemapProvider.java", "diffHunk": "@@ -261,8 +273,8 @@ protected Widget buildWidget(UIComponent component) {\n         return widget;\n     }\n \n-    private void setWidgetPropertyFromComponentConfig(Widget widget, UIComponent component, String configParamName,\n-            int feature) {\n+    private void setWidgetPropertyFromComponentConfig(Widget widget, @Nullable UIComponent component,", "originalCommit": "14efd748bd4144ac139cc7991e8e9fc000c3dd2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg2NTI2Nw==", "url": "https://github.com/openhab/openhab-core/pull/1407#discussion_r403865267", "bodyText": "I was still unsure, after a short exploration of the call tree, if it would actually happen because of the null check in this method. So I opted for the conservative route of adding the annotation.", "author": "wborn", "createdAt": "2020-04-06T06:54:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg0ODAyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg1MjcyMQ==", "url": "https://github.com/openhab/openhab-core/pull/1407#discussion_r403852721", "bodyText": "Can we use constructor injection for this reference?", "author": "cweitkamp", "createdAt": "2020-04-06T06:21:17Z", "path": "bundles/org.openhab.core.config.discovery.mdns/src/main/java/org/openhab/core/config/discovery/mdns/internal/MDNSDiscoveryService.java", "diffHunk": "@@ -59,7 +60,7 @@\n \n     private final Set<MDNSDiscoveryParticipant> participants = new CopyOnWriteArraySet<>();\n \n-    private MDNSClient mdnsClient;\n+    private @NonNullByDefault({}) MDNSClient mdnsClient;", "originalCommit": "14efd748bd4144ac139cc7991e8e9fc000c3dd2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg4ODk4Nw==", "url": "https://github.com/openhab/openhab-core/pull/1407#discussion_r403888987", "bodyText": "I've pushed some changes that I think will work to accomplish this.", "author": "wborn", "createdAt": "2020-04-06T07:44:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg1MjcyMQ=="}], "type": "inlineReview"}, {"oid": "d4c475151373b4b57531cab37dc38cf19912ebca", "url": "https://github.com/openhab/openhab-core/commit/d4c475151373b4b57531cab37dc38cf19912ebca", "message": "Add and fix more null annotations\n\n* Add more @NonNullByDefault and @Nullable annotations\n* Remove unnecessary @NonNull annotations\n* Fix a few other trivial SAT issues\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-04-06T07:43:00Z", "type": "commit"}, {"oid": "b7e0c549d294ec8c78091e9f6a2d274b7d6b33c0", "url": "https://github.com/openhab/openhab-core/commit/b7e0c549d294ec8c78091e9f6a2d274b7d6b33c0", "message": "Address review comments\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-04-06T07:43:00Z", "type": "commit"}, {"oid": "b7e0c549d294ec8c78091e9f6a2d274b7d6b33c0", "url": "https://github.com/openhab/openhab-core/commit/b7e0c549d294ec8c78091e9f6a2d274b7d6b33c0", "message": "Address review comments\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-04-06T07:43:00Z", "type": "forcePushed"}, {"oid": "8da185a4fef09effb59fbb30d16a1ca72aee16af", "url": "https://github.com/openhab/openhab-core/commit/8da185a4fef09effb59fbb30d16a1ca72aee16af", "message": "Remove redundant null checks\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-04-06T07:46:30Z", "type": "commit"}]}