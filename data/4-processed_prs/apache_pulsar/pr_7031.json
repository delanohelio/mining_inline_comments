{"pr_number": 7031, "pr_title": "Add pulsar SQL woker metrics to repo", "pr_createdAt": "2020-05-25T05:58:03Z", "pr_url": "https://github.com/apache/pulsar/pull/7031", "timeline": [{"oid": "5edffde32f87a316873f4a76716dc85c9c13a39b", "url": "https://github.com/apache/pulsar/commit/5edffde32f87a316873f4a76716dc85c9c13a39b", "message": "Add pulsar SQL woker metrics to repo\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-05-25T05:55:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NDYxNA==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429744614", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n          \n          \n            \n            | split_bytes_read | Counter | Number of bytes read from BookKeeper. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:00:00Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NDY3Nw==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429744677", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_num_record_deserialized | Counter | Number of record deserialized. |\n          \n          \n            \n            | split_num_record_deserialized | Counter | Number of records deserialized. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:00:09Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NTA4OQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429745089", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_read_attempts | Summary | Number of read attempts(will fail if queues are full). |\n          \n          \n            \n            | split_read_attempts | Summary | Number of read attempts (fail if queues are full). |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:01:50Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |\n+| split_message_queue_enqueue_wait_time_per_query | Summary | Time spent waiting for message queue enqueue because message queue is full per query. |\n+| split_num_entries_per_batch | Summary | Number of entries per batch. |\n+| split_num_entries_per_query | Summary | Number of entries per query. |\n+| split_num_messages_deserialized_per_entry | Summary | Number of messages deserialized per entry. |\n+| split_num_messages_deserialized_per_query | Summary | Number of messages deserialized per query. |\n+| split_read_attempts | Summary | Number of read attempts(will fail if queues are full). |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NTY5Nw==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429745697", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_record_deserialize_time | Summary | Time spent deserializing message to record e.g. avro, json, etc. |\n          \n          \n            \n            | split_record_deserialize_time | Summary | Time spent on deserializing message to record. For example, Avro, JSON, and so on. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:04:06Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |\n+| split_message_queue_enqueue_wait_time_per_query | Summary | Time spent waiting for message queue enqueue because message queue is full per query. |\n+| split_num_entries_per_batch | Summary | Number of entries per batch. |\n+| split_num_entries_per_query | Summary | Number of entries per query. |\n+| split_num_messages_deserialized_per_entry | Summary | Number of messages deserialized per entry. |\n+| split_num_messages_deserialized_per_query | Summary | Number of messages deserialized per query. |\n+| split_read_attempts | Summary | Number of read attempts(will fail if queues are full). |\n+| split_read_attempts_per_query | Summary | Number of read attempts per query. |\n+| split_read_latency_per_batch | Summary | Latency of reads per batch. |\n+| split_read_latency_per_query | Summary | Total read latency per query. |\n+| split_record_deserialize_time | Summary | Time spent deserializing message to record e.g. avro, json, etc. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NTc1MQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429745751", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_record_deserialize_time_per_query | Summary | Time spent deserializing message to record per query. |\n          \n          \n            \n            | split_record_deserialize_time_per_query | Summary | Time spent on deserializing message to record per query. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:04:23Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |\n+| split_message_queue_enqueue_wait_time_per_query | Summary | Time spent waiting for message queue enqueue because message queue is full per query. |\n+| split_num_entries_per_batch | Summary | Number of entries per batch. |\n+| split_num_entries_per_query | Summary | Number of entries per query. |\n+| split_num_messages_deserialized_per_entry | Summary | Number of messages deserialized per entry. |\n+| split_num_messages_deserialized_per_query | Summary | Number of messages deserialized per query. |\n+| split_read_attempts | Summary | Number of read attempts(will fail if queues are full). |\n+| split_read_attempts_per_query | Summary | Number of read attempts per query. |\n+| split_read_latency_per_batch | Summary | Latency of reads per batch. |\n+| split_read_latency_per_query | Summary | Total read latency per query. |\n+| split_record_deserialize_time | Summary | Time spent deserializing message to record e.g. avro, json, etc. |\n+| split_record_deserialize_time_per_query | Summary | Time spent deserializing message to record per query. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NTkwMA==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429745900", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_total_execution_time | Summary | Total time spent execution time . |\n          \n          \n            \n            | split_total_execution_time | Summary | Total execution time. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:04:57Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |\n+| split_message_queue_enqueue_wait_time_per_query | Summary | Time spent waiting for message queue enqueue because message queue is full per query. |\n+| split_num_entries_per_batch | Summary | Number of entries per batch. |\n+| split_num_entries_per_query | Summary | Number of entries per query. |\n+| split_num_messages_deserialized_per_entry | Summary | Number of messages deserialized per entry. |\n+| split_num_messages_deserialized_per_query | Summary | Number of messages deserialized per query. |\n+| split_read_attempts | Summary | Number of read attempts(will fail if queues are full). |\n+| split_read_attempts_per_query | Summary | Number of read attempts per query. |\n+| split_read_latency_per_batch | Summary | Latency of reads per batch. |\n+| split_read_latency_per_query | Summary | Total read latency per query. |\n+| split_record_deserialize_time | Summary | Time spent deserializing message to record e.g. avro, json, etc. |\n+| split_record_deserialize_time_per_query | Summary | Time spent deserializing message to record per query. |\n+| split_total_execution_time | Summary | Total time spent execution time . |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjAyOQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746029", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n          \n          \n            \n            | split_entry_queue_dequeue_wait_time | Summary | Time spent on waiting to get entry from entry queue because it is empty. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:05:24Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjA3MA==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746070", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n          \n          \n            \n            | split_entry_deserialize_time | Summary | Time spent on derserializing entries. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:05:33Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjA5Ng==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746096", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n          \n          \n            \n            | split_entry_deserialize_time_per_query | Summary | Time spent on derserializing entries per query. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:05:40Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjEzNQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746135", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n          \n          \n            \n            | split_entry_deserialize_time_per_query | Summary | Time spent on derserializing entries per query. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:05:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjA5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjQwMA==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746400", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n          \n          \n            \n            | split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spent on waiting to get entry from entry queue per query. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:06:56Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjQ3NQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746475", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n          \n          \n            \n            | split_message_queue_dequeue_wait_time_per_query | Summary | Time spent on waiting to dequeue from message queue because it is empty per query. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:07:12Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjU3MA==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746570", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |\n          \n          \n            \n            | split_message_queue_enqueue_wait_time | Summary | Time spent on waiting for message queue because the message queue is full. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:07:38Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0NjY4MA==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429746680", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_message_queue_enqueue_wait_time_per_query | Summary | Time spent waiting for message queue enqueue because message queue is full per query. |\n          \n          \n            \n            | split_message_queue_enqueue_wait_time_per_query | Summary | Time spent on waiting for message queue because the message queue is full per query. |", "author": "Anonymitaet", "createdAt": "2020-05-25T06:07:57Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from bookkeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of record deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spend waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent waiting to dequeue from message queue because its empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent waiting for message queue enqueue because message queue is full. |\n+| split_message_queue_enqueue_wait_time_per_query | Summary | Time spent waiting for message queue enqueue because message queue is full per query. |", "originalCommit": "5edffde32f87a316873f4a76716dc85c9c13a39b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7b8f4d1ebc196c1adb8aded057d74ea58883133e", "url": "https://github.com/apache/pulsar/commit/7b8f4d1ebc196c1adb8aded057d74ea58883133e", "message": "fix comments\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-05-25T06:18:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc1MjA3OQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429752079", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // number of read attempts(fail if queues are full)\n          \n          \n            \n                // number of read attempts (fail if queues are full)", "author": "Anonymitaet", "createdAt": "2020-05-25T06:28:31Z", "path": "pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarConnectorMetricsTracker.java", "diffHunk": "@@ -68,7 +68,7 @@\n     // number of messages deserialized per query\n     public static final String NUM_MESSAGES_DERSERIALIZED_PER_QUERY = \"num-messages-deserialized-per-query\";\n \n-    // number of read attempts.  Will fail if queues are full\n+    // number of read attempts(fail if queues are full)", "originalCommit": "7b8f4d1ebc196c1adb8aded057d74ea58883133e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc1MjI1MQ==", "url": "https://github.com/apache/pulsar/pull/7031#discussion_r429752251", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | split_read_attempts | Summary | Number of read attempts(fail if queues are full). |\n          \n          \n            \n            | split_read_attempts | Summary | Number of read attempts (fail if queues are full). |\n          \n      \n    \n    \n  \n\nHave commented this b4", "author": "Anonymitaet", "createdAt": "2020-05-25T06:29:13Z", "path": "site2/docs/reference-metrics.md", "diffHunk": "@@ -359,6 +360,34 @@ All the proxy metrics are labelled with the following labels:\n | pulsar_proxy_binary_ops | Counter | Counter of proxy operations. |\n | pulsar_proxy_binary_bytes | Counter | Counter of proxy bytes. |\n \n+# Pulsar SQL Worker\n+\n+| Name | Type | Description |\n+|---|---|---|\n+| split_bytes_read | Counter | Number of bytes read from BookKeeper. |\n+| split_num_messages_deserialized | Counter | Number of messages deserialized. |\n+| split_num_record_deserialized | Counter | Number of records deserialized. |\n+| split_bytes_read_per_query | Summary | Total number of bytes read per query. |\n+| split_entry_deserialize_time | Summary | Time spent on derserializing entries. |\n+| split_entry_deserialize_time_per_query | Summary | Time spent on derserializing entries per query. |\n+| split_entry_queue_dequeue_wait_time | Summary | Time spend on waiting to get entry from entry queue because it is empty. |\n+| split_entry_queue_dequeue_wait_time_per_query | Summary | Total time spent on waiting to get entry from entry queue per query. |\n+| split_message_queue_dequeue_wait_time_per_query | Summary | Time spent on waiting to dequeue from message queue because is is empty per query. |\n+| split_message_queue_enqueue_wait_time | Summary | Time spent on waiting for message queue enqueue because the message queue is full. |\n+| split_message_queue_enqueue_wait_time_per_query | Summary | Time spent on waiting for message queue enqueue because the message queue is full per query. |\n+| split_num_entries_per_batch | Summary | Number of entries per batch. |\n+| split_num_entries_per_query | Summary | Number of entries per query. |\n+| split_num_messages_deserialized_per_entry | Summary | Number of messages deserialized per entry. |\n+| split_num_messages_deserialized_per_query | Summary | Number of messages deserialized per query. |\n+| split_read_attempts | Summary | Number of read attempts(fail if queues are full). |", "originalCommit": "7b8f4d1ebc196c1adb8aded057d74ea58883133e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c71c19042bdf5d2d03a71c4f5c8566cbd858158f", "url": "https://github.com/apache/pulsar/commit/c71c19042bdf5d2d03a71c4f5c8566cbd858158f", "message": "fix comments\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-05-25T06:33:50Z", "type": "commit"}]}