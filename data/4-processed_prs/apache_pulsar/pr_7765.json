{"pr_number": 7765, "pr_title": "make orderedExecutor threads number configurable", "pr_createdAt": "2020-08-06T01:24:13Z", "pr_url": "https://github.com/apache/pulsar/pull/7765", "timeline": [{"oid": "173c0d7311f21343ddc3a956925b2af3482dd8c3", "url": "https://github.com/apache/pulsar/commit/173c0d7311f21343ddc3a956925b2af3482dd8c3", "message": "make orderedExecutor threads number configurable", "committedDate": "2020-08-06T01:07:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA5NjgxOQ==", "url": "https://github.com/apache/pulsar/pull/7765#discussion_r466096819", "bodyText": "Could you please add more description for the ordered executor in the broker? For example, what tasks will he be used to perform, etc?", "author": "codelipenghui", "createdAt": "2020-08-06T01:43:54Z", "path": "conf/broker.conf", "diffHunk": "@@ -58,6 +58,9 @@ advertisedAddress=\n # Number of threads to use for Netty IO. Default is set to 2 * Runtime.getRuntime().availableProcessors()\n numIOThreads=\n \n+# Number of threads to use for orderedExecutor. Default is 8", "originalCommit": "173c0d7311f21343ddc3a956925b2af3482dd8c3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNjQxMw==", "url": "https://github.com/apache/pulsar/pull/7765#discussion_r466506413", "bodyText": "Thanks for your feedback. I have updated some descriptions, please take a look.", "author": "hangc0276", "createdAt": "2020-08-06T15:42:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA5NjgxOQ=="}], "type": "inlineReview"}, {"oid": "d948532321ed59820113d4104797aa12e876eef9", "url": "https://github.com/apache/pulsar/commit/d948532321ed59820113d4104797aa12e876eef9", "message": "add some docs", "committedDate": "2020-08-06T15:41:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ4MTYwNA==", "url": "https://github.com/apache/pulsar/pull/7765#discussion_r467481604", "bodyText": "If we have a fixed default, we should have the value here, unless the number is computed based on the available processors (which is in most cases a better approach)\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            numOrderedExecutorThreads=\n          \n          \n            \n            numOrderedExecutorThreads=8", "author": "merlimat", "createdAt": "2020-08-08T16:34:14Z", "path": "conf/broker.conf", "diffHunk": "@@ -58,6 +58,10 @@ advertisedAddress=\n # Number of threads to use for Netty IO. Default is set to 2 * Runtime.getRuntime().availableProcessors()\n numIOThreads=\n \n+# Number of threads to use for ordered executor. The ordered executor is used to operate with zookeeper,\n+# such as init zookeeper client, get namespace policies from zookeeper etc. It also used to split bundle. Default is 8\n+numOrderedExecutorThreads=", "originalCommit": "d948532321ed59820113d4104797aa12e876eef9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ4MTYxMQ==", "url": "https://github.com/apache/pulsar/pull/7765#discussion_r467481611", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            numOrderedExecutorThreads=\n          \n          \n            \n            numOrderedExecutorThreads=8", "author": "merlimat", "createdAt": "2020-08-08T16:34:23Z", "path": "conf/standalone.conf", "diffHunk": "@@ -39,6 +39,10 @@ advertisedAddress=\n # Number of threads to use for Netty IO. Default is set to 2 * Runtime.getRuntime().availableProcessors()\n numIOThreads=\n \n+# Number of threads to use for ordered executor. The ordered executor is used to operate with zookeeper,\n+# such as init zookeeper client, get namespace policies from zookeeper etc. It also used to split bundle. Default is 8\n+numOrderedExecutorThreads=", "originalCommit": "d948532321ed59820113d4104797aa12e876eef9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a87c85a5bf01893331fcc55cfb015428de52290e", "url": "https://github.com/apache/pulsar/commit/a87c85a5bf01893331fcc55cfb015428de52290e", "message": "Update conf/standalone.conf\n\nCo-authored-by: Matteo Merli <mmerli@apache.org>", "committedDate": "2020-08-09T09:34:38Z", "type": "commit"}, {"oid": "e2a5ea81ebaa0382cbf79b476bb206e5651d06b9", "url": "https://github.com/apache/pulsar/commit/e2a5ea81ebaa0382cbf79b476bb206e5651d06b9", "message": "Update conf/broker.conf\n\nCo-authored-by: Matteo Merli <mmerli@apache.org>", "committedDate": "2020-08-09T09:34:54Z", "type": "commit"}]}