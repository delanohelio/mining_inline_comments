{"pr_number": 8053, "pr_title": "[Docs] Cleanup broker documentation ", "pr_createdAt": "2020-09-13T22:02:08Z", "pr_url": "https://github.com/apache/pulsar/pull/8053", "timeline": [{"oid": "89564a1af9659efad5ac6744694918d51e359e7e", "url": "https://github.com/apache/pulsar/commit/89564a1af9659efad5ac6744694918d51e359e7e", "message": "Cleanup broker documentation: clarify broker/topic ownership, role of AuthN and AuthZ working together, fix readability of bundle docs", "committedDate": "2020-09-13T21:58:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwODA0OA==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r487608048", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #### split bundle\n          \n          \n            \n            #### Split bundle", "author": "Jennifer88huang", "createdAt": "2020-09-14T01:29:04Z", "path": "site2/docs/admin-api-namespaces.md", "diffHunk": "@@ -417,7 +417,7 @@ admin.namespaces().getNamespaceMessageTTL(namespace)\n \n #### split bundle", "originalCommit": "89564a1af9659efad5ac6744694918d51e359e7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIyMDM2OA==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488220368", "bodyText": "FYI this capitalization is not consistent with the remainder of the document - if you agree I'm happy to make the rest of the document consistent with your proposed capitalization scheme. Thanks!", "author": "kellyfj", "createdAt": "2020-09-14T21:07:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwODA0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxODE5Nw==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488318197", "bodyText": "Yes, we use sentence case style for headings in Pulsar docs.\nThank you very much for your contribution.", "author": "Jennifer88huang", "createdAt": "2020-09-15T00:54:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwODA0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxOTEwNw==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488319107", "bodyText": "I notice that the capitalization is not consistent, if you could refine the rest of them, that's really great.", "author": "Jennifer88huang", "createdAt": "2020-09-15T00:57:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwODA0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwODY4NA==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r487608684", "bodyText": "what does \"If a bundle has multiple live heavily-used topics in it\" and \"create load\" mean? maybe we can refine it to be clearer?\nCould we refine the last sentence as \"... an admin splits the bundle using this command,  and spreads the new bundles across the cluster.\"?", "author": "Jennifer88huang", "createdAt": "2020-09-14T01:32:06Z", "path": "site2/docs/admin-api-namespaces.md", "diffHunk": "@@ -417,7 +417,7 @@ admin.namespaces().getNamespaceMessageTTL(namespace)\n \n #### split bundle\n \n-Each namespace bundle can contain multiple topics and each bundle can be served by only one broker. If bundle gets heavy with multiple live topics in it then it creates load on that broker and in order to resolve this issue, admin can split bundle using this command.\n+Each namespace bundle can contain multiple topics and each bundle can be served by only one broker. If a bundle has multiple live heavily-used topics in it, then it creates load on that broker and in order to resolve this issue an admin can split the bundle using this command permitting the new bundles to be spread across the cluster.", "originalCommit": "89564a1af9659efad5ac6744694918d51e359e7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIyNDI1Mg==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488224252", "bodyText": "Made some suggestions based on your feedback. Thanks!", "author": "kellyfj", "createdAt": "2020-09-14T21:15:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwODY4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwOTcwNg==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r487609706", "bodyText": "Note\nIn Pulsar, each topic is handled by only one broker. Requests for creating, reading, updating and deleting topics are sent to the broker owner initially. If the broker owner cannot handle the request for this topic, it redirects the request to  another/ the correct broker.", "author": "Jennifer88huang", "createdAt": "2020-09-14T01:37:24Z", "path": "site2/docs/concepts-architecture-overview.md", "diffHunk": "@@ -150,3 +150,5 @@ from pulsar import Client\n \n client = Client('pulsar://pulsar-cluster.acme.com:6650')\n ```\n+\n+Note that in Pulsar, each topic is handled by only one broker. Therefore, for creating, reading, updating and deleting topics, requests are sent to any broker initially. If the broker finds that it cannot handle the request for this topic, it redirects the client to the correct broker. ", "originalCommit": "89564a1af9659efad5ac6744694918d51e359e7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIyNzA1Nw==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488227057", "bodyText": "Thanks - I took your feedback and made a few tweaks to it.", "author": "kellyfj", "createdAt": "2020-09-14T21:21:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzYwOTcwNg=="}], "type": "inlineReview"}, {"oid": "5c482544ca21ee4847b604e0027f95c59410d490", "url": "https://github.com/apache/pulsar/commit/5c482544ca21ee4847b604e0027f95c59410d490", "message": "PR feedback", "committedDate": "2020-09-14T21:14:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxODU5MA==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488318590", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If a single bundle is creating an excessive load on a broker an admin can split the bundle using this command permitting one or more of the new bundles to be unloaded thus spreading the load across the brokers.\n          \n          \n            \n            If a single bundle is creating an excessive load on a broker, an admin splits the bundle using this command permitting one or more of the new bundles to be unloaded thus spreading the load across the brokers.", "author": "Jennifer88huang", "createdAt": "2020-09-15T00:55:38Z", "path": "site2/docs/admin-api-namespaces.md", "diffHunk": "@@ -415,9 +415,10 @@ admin.namespaces().getNamespaceMessageTTL(namespace)\n ```\n \n \n-#### split bundle\n+#### Split bundle\n \n-Each namespace bundle can contain multiple topics and each bundle can be served by only one broker. If bundle gets heavy with multiple live topics in it then it creates load on that broker and in order to resolve this issue, admin can split bundle using this command.\n+Each namespace bundle can contain multiple topics and each bundle can be served by only one broker. \n+If a single bundle is creating an excessive load on a broker an admin can split the bundle using this command permitting one or more of the new bundles to be unloaded thus spreading the load across the brokers.", "originalCommit": "5c482544ca21ee4847b604e0027f95c59410d490", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxODg0Mw==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r488318843", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note: In Pulsar, each topic is handled by only one broker. Initial requests from a client to read, update or delete a topic are sent to a broker that may not be the topic owner. If the broker cannot handle the request for this topic, it redirects the request to the appropriate broker.\n          \n          \n            \n            > **Note**\n          \n          \n            \n            > In Pulsar, each topic is handled by only one broker. Initial requests from a client to read, update or delete a topic are sent to a broker that may not be the topic owner. If the broker cannot handle the request for this topic, it redirects the request to the appropriate broker.", "author": "Jennifer88huang", "createdAt": "2020-09-15T00:56:29Z", "path": "site2/docs/concepts-architecture-overview.md", "diffHunk": "@@ -150,3 +150,5 @@ from pulsar import Client\n \n client = Client('pulsar://pulsar-cluster.acme.com:6650')\n ```\n+\n+Note: In Pulsar, each topic is handled by only one broker. Initial requests from a client to read, update or delete a topic are sent to a broker that may not be the topic owner. If the broker cannot handle the request for this topic, it redirects the request to the appropriate broker.", "originalCommit": "5c482544ca21ee4847b604e0027f95c59410d490", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "002bf6ef6ca2972ce65be28a297f59fe8948ab89", "url": "https://github.com/apache/pulsar/commit/002bf6ef6ca2972ce65be28a297f59fe8948ab89", "message": "More PR feedback", "committedDate": "2020-09-15T22:52:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTA5ODg1OQ==", "url": "https://github.com/apache/pulsar/pull/8053#discussion_r489098859", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            **Note**\n          \n          \n            \n            In Pulsar, each topic is handled by only one broker. Initial requests from a client to read, update or delete a topic are sent to a broker that may not be the topic owner. If the broker cannot handle the request for this topic, it redirects the request to the appropriate broker.\n          \n          \n            \n            > **Note**\n          \n          \n            \n            > In Pulsar, each topic is handled by only one broker. Initial requests from a client to read, update or delete a topic are sent to a broker that may not be the topic owner. If the broker cannot handle the request for this topic, it redirects the request to the appropriate broker.", "author": "Jennifer88huang", "createdAt": "2020-09-16T00:56:18Z", "path": "site2/docs/concepts-architecture-overview.md", "diffHunk": "@@ -150,3 +150,6 @@ from pulsar import Client\n \n client = Client('pulsar://pulsar-cluster.acme.com:6650')\n ```\n+\n+**Note**\n+In Pulsar, each topic is handled by only one broker. Initial requests from a client to read, update or delete a topic are sent to a broker that may not be the topic owner. If the broker cannot handle the request for this topic, it redirects the request to the appropriate broker.", "originalCommit": "002bf6ef6ca2972ce65be28a297f59fe8948ab89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "15d76c0d2e54014c3972615ab0b54d7ff7344433", "url": "https://github.com/apache/pulsar/commit/15d76c0d2e54014c3972615ab0b54d7ff7344433", "message": "Update site2/docs/concepts-architecture-overview.md", "committedDate": "2020-09-16T00:56:24Z", "type": "commit"}]}