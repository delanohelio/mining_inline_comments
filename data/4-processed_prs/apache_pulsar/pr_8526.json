{"pr_number": 8526, "pr_title": "Reduce memory leaks in pulsar-broker tests", "pr_createdAt": "2020-11-11T16:30:08Z", "pr_url": "https://github.com/apache/pulsar/pull/8526", "timeline": [{"oid": "c3b929edb51adc4dbd25b9dab7dc5b365a9dfb48", "url": "https://github.com/apache/pulsar/commit/c3b929edb51adc4dbd25b9dab7dc5b365a9dfb48", "message": "Transaction - fix TransactionBuffer thread leak in tests", "committedDate": "2020-11-09T13:35:25Z", "type": "commit"}, {"oid": "3d9660e769b61801654cdf86617ef4fb6ea6feef", "url": "https://github.com/apache/pulsar/commit/3d9660e769b61801654cdf86617ef4fb6ea6feef", "message": "Close TransactionMetaStoreTestBase", "committedDate": "2020-11-09T14:57:54Z", "type": "commit"}, {"oid": "5e8b662f4e5da67d345f0af7dc4e0b9ccc133090", "url": "https://github.com/apache/pulsar/commit/5e8b662f4e5da67d345f0af7dc4e0b9ccc133090", "message": "Close more resources and add debug", "committedDate": "2020-11-10T17:12:10Z", "type": "commit"}, {"oid": "9fb2677f422c0bf6edf9c12210b19c3e9f72e5ce", "url": "https://github.com/apache/pulsar/commit/9fb2677f422c0bf6edf9c12210b19c3e9f72e5ce", "message": "alwaysRun", "committedDate": "2020-11-11T14:09:10Z", "type": "commit"}, {"oid": "7ae63d2b7488125bc2801012901ff9edf2bfbc3f", "url": "https://github.com/apache/pulsar/commit/7ae63d2b7488125bc2801012901ff9edf2bfbc3f", "message": "more fixes", "committedDate": "2020-11-11T16:22:23Z", "type": "commit"}, {"oid": "286007b892adcd73f840536cdb302dae19d3eb06", "url": "https://github.com/apache/pulsar/commit/286007b892adcd73f840536cdb302dae19d3eb06", "message": "Merge remote-tracking branch 'origin/master' into fix/close-more-resources", "committedDate": "2020-11-11T16:24:11Z", "type": "commit"}, {"oid": "5642f66ed1dc5de464a8c4dc26dba806ebf3c113", "url": "https://github.com/apache/pulsar/commit/5642f66ed1dc5de464a8c4dc26dba806ebf3c113", "message": "revert debug", "committedDate": "2020-11-11T16:26:34Z", "type": "commit"}, {"oid": "aad724c313ac1b485b6f56030881aa17f4b649eb", "url": "https://github.com/apache/pulsar/commit/aad724c313ac1b485b6f56030881aa17f4b649eb", "message": "remove file", "committedDate": "2020-11-11T16:33:07Z", "type": "commit"}, {"oid": "cd203c7816ec3e6fec4c930d64ac47903412e635", "url": "https://github.com/apache/pulsar/commit/cd203c7816ec3e6fec4c930d64ac47903412e635", "message": "remove debug", "committedDate": "2020-11-11T16:34:59Z", "type": "commit"}, {"oid": "ee2ae70d76c99192f6fd894bea3a81785031ed81", "url": "https://github.com/apache/pulsar/commit/ee2ae70d76c99192f6fd894bea3a81785031ed81", "message": "fix checkstyle", "committedDate": "2020-11-11T16:49:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTU1NjIxMg==", "url": "https://github.com/apache/pulsar/pull/8526#discussion_r521556212", "bodyText": "is there any reason to remove timeout here?", "author": "rdhabalia", "createdAt": "2020-11-11T18:27:41Z", "path": "pulsar-broker/src/test/java/org/apache/pulsar/broker/admin/AdminApiOffloadTest.java", "diffHunk": "@@ -178,7 +178,7 @@ public void testOffloadPolicies() throws Exception {\n         assertNull(offload3);\n     }\n \n-    @Test(timeOut = 20000)\n+    @Test", "originalCommit": "ee2ae70d76c99192f6fd894bea3a81785031ed81", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTcyMzExNQ==", "url": "https://github.com/apache/pulsar/pull/8526#discussion_r521723115", "bodyText": "We have default timeouts applied to all the tests in any case", "author": "merlimat", "createdAt": "2020-11-12T00:14:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTU1NjIxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTkyODQ4Mg==", "url": "https://github.com/apache/pulsar/pull/8526#discussion_r521928482", "bodyText": "@rdhabalia\nas @merlimat probably those timeout are not needed, also when you enable the timeout feature the system has to handle the execution in a different way and also if there is a timeout the JVM remains in an unknown status.", "author": "eolivelli", "createdAt": "2020-11-12T08:38:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTU1NjIxMg=="}], "type": "inlineReview"}, {"oid": "e9c47600827b1c7e5d68dee100c382578283c625", "url": "https://github.com/apache/pulsar/commit/e9c47600827b1c7e5d68dee100c382578283c625", "message": "Merge remote-tracking branch 'origin/master' into fix/close-more-resources", "committedDate": "2020-11-12T07:18:39Z", "type": "commit"}, {"oid": "10f239a4742f42f9f1faaf592b0527cdede0046c", "url": "https://github.com/apache/pulsar/commit/10f239a4742f42f9f1faaf592b0527cdede0046c", "message": "fix test cases", "committedDate": "2020-11-12T08:31:34Z", "type": "commit"}, {"oid": "43c82b9d407ecabdbfc552923a5c507e22e12be6", "url": "https://github.com/apache/pulsar/commit/43c82b9d407ecabdbfc552923a5c507e22e12be6", "message": "fix test case", "committedDate": "2020-11-12T11:35:08Z", "type": "commit"}]}