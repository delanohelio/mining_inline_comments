{"pr_number": 7739, "pr_title": "Add 2.6.1 release notes to repo", "pr_createdAt": "2020-08-04T07:34:29Z", "pr_url": "https://github.com/apache/pulsar/pull/7739", "timeline": [{"oid": "3cc91121925b9580e10c2b2571c44d7304175f45", "url": "https://github.com/apache/pulsar/commit/3cc91121925b9580e10c2b2571c44d7304175f45", "message": "Add 2.6.1 release notes to repo\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-08-04T07:33:16Z", "type": "commit"}, {"oid": "3e9ed601a6b98f0d2dd969f45f4b7d0c27e9eb7d", "url": "https://github.com/apache/pulsar/commit/3e9ed601a6b98f0d2dd969f45f4b7d0c27e9eb7d", "message": "Add some contents\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-08-06T08:07:41Z", "type": "commit"}, {"oid": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "url": "https://github.com/apache/pulsar/commit/3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "message": "fix a little\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-08-06T08:10:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2MjU5Nw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466762597", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n          \n          \n            \n            - [Broker] Limit batch size to the minimum of the `maxNumberOfMessages` and `maxSizeOfMessages` [#6865](https://github.com/apache/pulsar/pull/6865)\n          \n      \n    \n    \n  \n\nCommon comments for the following contents, please check through the whole doc and update it.\n1: use the original format of the verb at the begin of the sentence, such as using \"fix\" instead of \"fixing\".\n2. use the cross reference at the end of the sentences, such as \"xxx\", instead of just puting a website address there.", "author": "Huanli-Meng", "createdAt": "2020-08-07T00:57:06Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDE3Nw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764177", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n          \n          \n            \n            - [Broker] Update Jetty to version 9.4.29 https://github.com/apache/pulsar/pull/7235", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:03:28Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDI1MA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764250", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n          \n          \n            \n            - [Broker] Fix readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:03:45Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDM4MA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764380", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n          \n          \n            \n            - [Broker] Fix the issue that get lookup permission error https://github.com/apache/pulsar/pull/7234", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:04:09Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDQ2Mg==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764462", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n          \n          \n            \n            - [Broker] Fix the regression in `isSupperUser` https://github.com/apache/pulsar/pull/7241", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:04:26Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDUzMw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764533", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n          \n          \n            \n            - [Broker] Avoid introducing null read position for the managed cursor https://github.com/apache/pulsar/pull/7264", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:04:44Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDY0Nw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764647", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n          \n          \n            \n            - [Broker] Fix error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:05:05Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDgxMw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764813", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n          \n          \n            \n            - [Broker] Support decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:05:51Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NDkwNg==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466764906", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n          \n          \n            \n            - [Broker] Handle `NotAllowed Exception` at the client side https://github.com/apache/pulsar/pull/7430", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:06:10Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NTIxMw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466765213", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n          \n          \n            \n            - [Broker] Shade jclouds to avoid Gson conflict https://github.com/apache/pulsar/pull/7435", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:07:24Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NjcwNA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466766704", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Go Function] Fixing go instance config port https://github.com/apache/pulsar/pull/7322\n          \n          \n            \n            - [Go Function] Fix Go instance config port https://github.com/apache/pulsar/pull/7322", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:12:52Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n+- [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661\n+- [Java Client] Fix producer stats recorder time unit error https://github.com/apache/pulsar/pull/7670\n+- [Java Client] Fix shutdown AsyncHttpConnector.delayer https://github.com/apache/pulsar/pull/7687\n+\n+##### CPP Client\n+\n+- [CPP Client] Fix partition index error in close callback https://github.com/apache/pulsar/pull/7282\n+- [CPP Client] Reduce log level for ack-grouping tracker https://github.com/apache/pulsar/pull/7373\n+- [CPP Client] Cpp oauth2 auth client https://github.com/apache/pulsar/pull/7467\n+- [CPP Client] Fix segment crashes that caused by race condition of timer in cpp client https://github.com/apache/pulsar/pull/7572\n+- [CPP Client] Fix multitopic consumer segfault on connect error https://github.com/apache/pulsar/pull/7588\n+- [CPP Client] Add support to read credentials from file https://github.com/apache/pulsar/pull/7606\n+\n+##### Pulsar Functions\n+\n+- [Pulsar Function] Use fully qualified hostname as default to advertise worker https://github.com/apache/pulsar/pull/7360\n+- [Pulsar Function] Fix: function BC issue introduced in 2.6 https://github.com/apache/pulsar/pull/7528\n+- [Pulsar Functions] Improve security setting of Pulsar Functions https://github.com/apache/pulsar/pull/7578\n+\n+##### Go Function\n+\n+- [Go Function] Fixing go instance config port https://github.com/apache/pulsar/pull/7322", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2Njg1MA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466766850", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Pulsar Function] Fix: function BC issue introduced in 2.6 https://github.com/apache/pulsar/pull/7528\n          \n          \n            \n            - [Pulsar Function] Fix the function BC issue introduced in release 2.6.0 https://github.com/apache/pulsar/pull/7528", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:13:26Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n+- [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661\n+- [Java Client] Fix producer stats recorder time unit error https://github.com/apache/pulsar/pull/7670\n+- [Java Client] Fix shutdown AsyncHttpConnector.delayer https://github.com/apache/pulsar/pull/7687\n+\n+##### CPP Client\n+\n+- [CPP Client] Fix partition index error in close callback https://github.com/apache/pulsar/pull/7282\n+- [CPP Client] Reduce log level for ack-grouping tracker https://github.com/apache/pulsar/pull/7373\n+- [CPP Client] Cpp oauth2 auth client https://github.com/apache/pulsar/pull/7467\n+- [CPP Client] Fix segment crashes that caused by race condition of timer in cpp client https://github.com/apache/pulsar/pull/7572\n+- [CPP Client] Fix multitopic consumer segfault on connect error https://github.com/apache/pulsar/pull/7588\n+- [CPP Client] Add support to read credentials from file https://github.com/apache/pulsar/pull/7606\n+\n+##### Pulsar Functions\n+\n+- [Pulsar Function] Use fully qualified hostname as default to advertise worker https://github.com/apache/pulsar/pull/7360\n+- [Pulsar Function] Fix: function BC issue introduced in 2.6 https://github.com/apache/pulsar/pull/7528", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NjkyMA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466766920", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [CPP Client] Fix partition index error in close callback https://github.com/apache/pulsar/pull/7282\n          \n          \n            \n            - [CPP Client] Fix partition index error in closing callback https://github.com/apache/pulsar/pull/7282", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:13:48Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n+- [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661\n+- [Java Client] Fix producer stats recorder time unit error https://github.com/apache/pulsar/pull/7670\n+- [Java Client] Fix shutdown AsyncHttpConnector.delayer https://github.com/apache/pulsar/pull/7687\n+\n+##### CPP Client\n+\n+- [CPP Client] Fix partition index error in close callback https://github.com/apache/pulsar/pull/7282", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NzA2MA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466767060", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [CPP Client] Cpp oauth2 auth client https://github.com/apache/pulsar/pull/7467\n          \n          \n            \n            - [CPP Client] Support Oauth2 authentication https://github.com/apache/pulsar/pull/7467", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:14:25Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n+- [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661\n+- [Java Client] Fix producer stats recorder time unit error https://github.com/apache/pulsar/pull/7670\n+- [Java Client] Fix shutdown AsyncHttpConnector.delayer https://github.com/apache/pulsar/pull/7687\n+\n+##### CPP Client\n+\n+- [CPP Client] Fix partition index error in close callback https://github.com/apache/pulsar/pull/7282\n+- [CPP Client] Reduce log level for ack-grouping tracker https://github.com/apache/pulsar/pull/7373\n+- [CPP Client] Cpp oauth2 auth client https://github.com/apache/pulsar/pull/7467", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NzEyMw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466767123", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [CPP Client] Fix segment crashes that caused by race condition of timer in cpp client https://github.com/apache/pulsar/pull/7572\n          \n          \n            \n            - [CPP Client] Fix segment crashes that caused by race condition of timer in C++ client https://github.com/apache/pulsar/pull/7572", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:14:42Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n+- [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661\n+- [Java Client] Fix producer stats recorder time unit error https://github.com/apache/pulsar/pull/7670\n+- [Java Client] Fix shutdown AsyncHttpConnector.delayer https://github.com/apache/pulsar/pull/7687\n+\n+##### CPP Client\n+\n+- [CPP Client] Fix partition index error in close callback https://github.com/apache/pulsar/pull/7282\n+- [CPP Client] Reduce log level for ack-grouping tracker https://github.com/apache/pulsar/pull/7373\n+- [CPP Client] Cpp oauth2 auth client https://github.com/apache/pulsar/pull/7467\n+- [CPP Client] Fix segment crashes that caused by race condition of timer in cpp client https://github.com/apache/pulsar/pull/7572", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc3Njk2NQ==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466776965", "bodyText": "The cpp == c++", "author": "wolfstudy", "createdAt": "2020-08-07T01:52:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NzEyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NzMzNA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466767334", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n          \n          \n            \n            - [Java Client] Fix the issue that the HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:15:21Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2NzU2Ng==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466767566", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n          \n          \n            \n            - [Java Client] Support Oauth2 authentication https://github.com/apache/pulsar/pull/7420", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:16:12Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2Nzg0Mw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466767843", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n          \n          \n            \n            - [Java Client] Support to set listener name for client CLI https://github.com/apache/pulsar/pull/7621", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:17:15Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2ODIwNA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466768204", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n          \n          \n            \n            - [Java Client] Fix the backward compatibility issues with batch index acknowledgment https://github.com/apache/pulsar/pull/7655", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:18:35Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2ODM0Mw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466768343", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661\n          \n          \n            \n            - [Java Client] Fix the issue that batchReceiveAsync is not completed exceptionally when closing consumer  https://github.com/apache/pulsar/pull/7661", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:19:08Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n+\n+##### Java Client\n+\n+- [Java Client] Fix issue where HTTP header used in Athenz authentication can not be renamed https://github.com/apache/pulsar/pull/7311\n+- [Java Client] Add more detail information of retry errors https://github.com/apache/pulsar/pull/7341\n+- [Java Client] Support for tombstones (null value in messages) does not work https://github.com/apache/pulsar/pull/7408\n+- [Java Client] Fix batch ackset recycled multiple times. https://github.com/apache/pulsar/pull/7409\n+- [Java Client] Add authentication client with oauth2 support https://github.com/apache/pulsar/pull/7420\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens https://github.com/apache/pulsar/pull/7522\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed https://github.com/apache/pulsar/pull/7589\n+- [Java Client] Fix validation never return false https://github.com/apache/pulsar/pull/7593\n+- [Java Client] Make OAuth2 auth plugin to use AsyncHttpClient https://github.com/apache/pulsar/pull/7615\n+- [Java Client] Support to set listener name for client cli https://github.com/apache/pulsar/pull/7621\n+- [Java Client] Fix batch index filter issue in Consumer https://github.com/apache/pulsar/pull/7654\n+- [Java Client] Fix backward compatibility issues with batch index acknowledgment. https://github.com/apache/pulsar/pull/7655\n+- [Java Client] Fix batchReceiveAsync not completed exceptionally when closing Consumer  https://github.com/apache/pulsar/pull/7661", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2OTI5OA==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466769298", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708\n          \n          \n            \n            - [Schema] Fix the error that occurs when getting schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:22:32Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping https://github.com/apache/pulsar/pull/7361\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations https://github.com/apache/pulsar/pull/7701\n+\n+##### Pulsar Schema\n+- [Schema] Fix get schemaName by partitioned topic name https://github.com/apache/pulsar/pull/7708", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2OTY0Ng==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466769646", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737\n          \n          \n            \n            - [Broker] Fix the wrong returned URL for lookup when specify advertised listener https://github.com/apache/pulsar/pull/7737", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:23:59Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call https://github.com/apache/pulsar/pull/7694\n+- [Broker] Close the previous reader of the health check topic https://github.com/apache/pulsar/pull/7724\n+- [Broker] Change some WebApplicationException log level to debug https://github.com/apache/pulsar/pull/7725\n+- [Broker] Replay delayed messages in order https://github.com/apache/pulsar/pull/7731\n+- [Broker] Fix broker lookup return wrong url when specify advertised listener https://github.com/apache/pulsar/pull/7737", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2OTg1NQ==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466769855", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656\n          \n          \n            \n            - [Broker] Fix the issue that deduplication cursor cannot be deleted after disabling message deduplication https://github.com/apache/pulsar/pull/7656", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:24:44Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n+- [Broker] Fix NPE when using advertisedListeners https://github.com/apache/pulsar/pull/7620\n+- [Broker] Fix deduplication cursor does not delete after disabling message deduplication https://github.com/apache/pulsar/pull/7656", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc2OTk0Mw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466769943", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598\n          \n          \n            \n            - [Broker] Support configuring `DeleteInactiveTopic` setting in namespace policy https://github.com/apache/pulsar/pull/7598", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:25:03Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n+- [Broker] Fix protobuf generation on handling repeated long number https://github.com/apache/pulsar/pull/7540\n+- [Broker] Add more logging to the auth operations on failure https://github.com/apache/pulsar/pull/7567\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation https://github.com/apache/pulsar/pull/7587\n+- [Broker] Support configuring DeleteInactiveTopic setting in namespace policy https://github.com/apache/pulsar/pull/7598", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc3MDA2OQ==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466770069", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519\n          \n          \n            \n            - [Broker] Update Jackson to version 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:25:32Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n+- [Broker] Update Jackson to 2.11.1 and ensure all dependencies are pinned https://github.com/apache/pulsar/pull/7519", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc3MDE3Nw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466770177", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514\n          \n          \n            \n            - [Broker] Fixes the exception that occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:25:55Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n+- [Broker] Fixes #7512 handle exception occurred when the geo-replication policy is updated https://github.com/apache/pulsar/pull/7514", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc3MDIzMw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r466770233", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506\n          \n          \n            \n            - [Broker] Fix timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506", "author": "Huanli-Meng", "createdAt": "2020-08-07T01:26:11Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,104 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limiting batch size to the minimum of the maxNumberOfMessages and maxSizeOfMessages https://github.com/apache/pulsar/pull/6865\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range https://github.com/apache/pulsar/pull/7231\n+- [Broker] Fix get lookup permission error https://github.com/apache/pulsar/pull/7234\n+- [Broker] Update Jetty to 9.4.29 https://github.com/apache/pulsar/pull/7235\n+- [Broker] Fixed readers backlog stats after data is skipped https://github.com/apache/pulsar/pull/7236\n+- [Broker] Fix the regression in isSupperUser https://github.com/apache/pulsar/pull/7241\n+- [Broker] Avoid introduce null read position for the managed cursor https://github.com/apache/pulsar/pull/7264\n+- [Broker] Fix permission operation check on setRetention admin operation https://github.com/apache/pulsar/pull/7281\n+- [Broker] Handling error in creation of non-durable cursor https://github.com/apache/pulsar/pull/7355\n+- [Broker] Fix bug related to managedLedger properties https://github.com/apache/pulsar/pull/7357\n+- [Broker] Add tenant name check in list namespaces function https://github.com/apache/pulsar/pull/7369\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` https://github.com/apache/pulsar/pull/7389\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger https://github.com/apache/pulsar/pull/7401\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen https://github.com/apache/pulsar/pull/7403\n+- [Broker] Decompression payload if needed in KeyShared subscription https://github.com/apache/pulsar/pull/7416\n+- [Broker] Fix update-cluster cli updates proxy-url https://github.com/apache/pulsar/pull/7422\n+- [Broker] Handle NotAllowed Exception at the client side https://github.com/apache/pulsar/pull/7430\n+- [Broker] Shaded jclouds to avoid gson conflict https://github.com/apache/pulsar/pull/7435\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription https://github.com/apache/pulsar/pull/7444\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found https://github.com/apache/pulsar/pull/7447\n+- [Broker] Fix update partitions error for non-persistent topic https://github.com/apache/pulsar/pull/7459\n+- [Broker] Use CGroup CPU usage when present https://github.com/apache/pulsar/pull/7475\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer https://github.com/apache/pulsar/pull/7483\n+- [Broker] Get last entry is trying to read entry -1 https://github.com/apache/pulsar/pull/7495\n+- [Broker] Timeout opening managed ledger operation https://github.com/apache/pulsar/pull/7506", "originalCommit": "3008ed4603bfdf8e9c5b4f58fb212d7ca687dd21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c81243158b077774cf326b92a8d6a643690eff7d", "url": "https://github.com/apache/pulsar/commit/c81243158b077774cf326b92a8d6a643690eff7d", "message": "fix comments\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-08-07T01:57:23Z", "type": "commit"}, {"oid": "ca5e1664e7343767380d505041d4473cf82723ae", "url": "https://github.com/apache/pulsar/commit/ca5e1664e7343767380d505041d4473cf82723ae", "message": "add some contents\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-08-14T02:10:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3NDg3Nw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r470374877", "bodyText": "do we need to refine the sentence?\nSupport sth does not work?", "author": "Jennifer88huang", "createdAt": "2020-08-14T02:24:25Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,111 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limit batch size to the minimum of the `maxNumberOfMessages` and `maxSizeOfMessages` [#6865](https://github.com/apache/pulsar/pull/6865)\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range [#7231](https://github.com/apache/pulsar/pull/7231)\n+- [Broker] Fix the issue that get lookup permission error [#7234](https://github.com/apache/pulsar/pull/7234)\n+- [Broker] Update Jetty to version 9.4.29 [#7235](https://github.com/apache/pulsar/pull/7235)\n+- [Broker] Fix readers backlog stats after data is skipped [#7236](https://github.com/apache/pulsar/pull/7236)\n+- [Broker] Fix the regression in `isSupperUser` [#7241](https://github.com/apache/pulsar/pull/7241)\n+- [Broker] Avoid introducing null read position for the managed cursor [#7264](https://github.com/apache/pulsar/pull/7264)\n+- [Broker] Fix permission operation check on setRetention admin operation [#7281](https://github.com/apache/pulsar/pull/7281)\n+- [Broker] Fix error in creation of non-durable cursor [#7355](https://github.com/apache/pulsar/pull/7355)\n+- [Broker] Fix bug related to managedLedger properties [#7357](https://github.com/apache/pulsar/pull/7357)\n+- [Broker] Add tenant name check in list namespaces function [#7369](https://github.com/apache/pulsar/pull/7369)\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` [#7389](https://github.com/apache/pulsar/pull/7389)\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger [#7401](https://github.com/apache/pulsar/pull/7401)\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen [#7403](https://github.com/apache/pulsar/pull/7403)\n+- [Broker] Support decompression payload if needed in KeyShared subscription [#7416](https://github.com/apache/pulsar/pull/7416)\n+- [Broker] Fix update-cluster cli updates proxy-url [#7422](https://github.com/apache/pulsar/pull/7422)\n+- [Broker] Handle `NotAllowed Exception` at the client side [#7430](https://github.com/apache/pulsar/pull/7430)\n+- [Broker] Shade jclouds to avoid Gson conflict [#7435](https://github.com/apache/pulsar/pull/7435)\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription [#7444](https://github.com/apache/pulsar/pull/7444)\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found [#7447](https://github.com/apache/pulsar/pull/7447)\n+- [Broker] Fix update partitions error for non-persistent topic [#7459](https://github.com/apache/pulsar/pull/7459)\n+- [Broker] Use CGroup CPU usage when present [#7475](https://github.com/apache/pulsar/pull/7475)\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer [#7483](https://github.com/apache/pulsar/pull/7483)\n+- [Broker] Get last entry is trying to read entry -1 [#7495](https://github.com/apache/pulsar/pull/7495)\n+- [Broker] Fix timeout opening managed ledger operation [#7506](https://github.com/apache/pulsar/pull/7506)\n+- [Broker] Fixes the exception that occurred when the geo-replication policy is updated [#7514](https://github.com/apache/pulsar/pull/7514)\n+- [Broker] Update Jackson to version 2.11.1 and ensure all dependencies are pinned [#7519](https://github.com/apache/pulsar/pull/7519)\n+- [Broker] Fix protobuf generation on handling repeated long number [#7540](https://github.com/apache/pulsar/pull/7540)\n+- [Broker] Add more logging to the auth operations on failure [#7567](https://github.com/apache/pulsar/pull/7567)\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation [#7587](https://github.com/apache/pulsar/pull/7587)\n+- [Broker] Support configuring `DeleteInactiveTopic` setting in namespace policy [#7598](https://github.com/apache/pulsar/pull/7598)\n+- [Broker] Fix NPE when using advertisedListeners [#7620](https://github.com/apache/pulsar/pull/7620)\n+- [Broker] Fix the issue that deduplication cursor can not be deleted after disabling message deduplication [#7656](https://github.com/apache/pulsar/pull/7656)\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call [#7694](https://github.com/apache/pulsar/pull/7694)\n+- [Broker] Close the previous reader of the health check topic [#7724](https://github.com/apache/pulsar/pull/7724)\n+- [Broker] Change some WebApplicationException log level to debug [#7725](https://github.com/apache/pulsar/pull/7725)\n+- [Broker] Replay delayed messages in order [#7731](https://github.com/apache/pulsar/pull/7731)\n+- [Broker] Fix the wrong returned URL for lookup when specify advertised listener [#7737](https://github.com/apache/pulsar/pull/7737)\n+- [Broker] Fix topic getting recreated immediately after deletion [#7524](https://github.com/apache/pulsar/pull/7524)\n+- [Broker] Set default root log level to debug [#7789](https://github.com/apache/pulsar/pull/7789)\n+- [Broker] Fix producer stucks on creating ledger timeout [#7319](https://github.com/apache/pulsar/pull/7319)\n+- [Broker] AllowTopicOperationAsync should check the original role is super user [#7788](https://github.com/apache/pulsar/pull/7788)\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping [#7361](https://github.com/apache/pulsar/pull/7361)\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations [#7701](https://github.com/apache/pulsar/pull/7701)\n+\n+##### Pulsar Schema\n+- [Schema] Fix the error that occurs when getting schemaName by partitioned topic name [#7708](https://github.com/apache/pulsar/pull/7708)\n+\n+##### Java Client\n+\n+- [Java Client] Fix the issue that the HTTP header used in Athenz authentication can not be renamed [#7311](https://github.com/apache/pulsar/pull/7311)\n+- [Java Client] Add more detail information of retry errors [#7341](https://github.com/apache/pulsar/pull/7341)\n+- [Java Client] Support for tombstones (null value in messages) does not work [#7408](https://github.com/apache/pulsar/pull/7408)", "originalCommit": "ca5e1664e7343767380d505041d4473cf82723ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM4MDg4MQ==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r470380881", "bodyText": "Shall we refine sth like \"Add state check when connection....\"?", "author": "Jennifer88huang", "createdAt": "2020-08-14T02:50:37Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,111 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements\n+\n+##### Broker\n+\n+- [Broker] Limit batch size to the minimum of the `maxNumberOfMessages` and `maxSizeOfMessages` [#6865](https://github.com/apache/pulsar/pull/6865)\n+- [Broker] Fix hash range conflict issue in Key_Shared with sticky hash range [#7231](https://github.com/apache/pulsar/pull/7231)\n+- [Broker] Fix the issue that get lookup permission error [#7234](https://github.com/apache/pulsar/pull/7234)\n+- [Broker] Update Jetty to version 9.4.29 [#7235](https://github.com/apache/pulsar/pull/7235)\n+- [Broker] Fix readers backlog stats after data is skipped [#7236](https://github.com/apache/pulsar/pull/7236)\n+- [Broker] Fix the regression in `isSupperUser` [#7241](https://github.com/apache/pulsar/pull/7241)\n+- [Broker] Avoid introducing null read position for the managed cursor [#7264](https://github.com/apache/pulsar/pull/7264)\n+- [Broker] Fix permission operation check on setRetention admin operation [#7281](https://github.com/apache/pulsar/pull/7281)\n+- [Broker] Fix error in creation of non-durable cursor [#7355](https://github.com/apache/pulsar/pull/7355)\n+- [Broker] Fix bug related to managedLedger properties [#7357](https://github.com/apache/pulsar/pull/7357)\n+- [Broker] Add tenant name check in list namespaces function [#7369](https://github.com/apache/pulsar/pull/7369)\n+- [Broker] Avoid the NPE occurs in method `ManagedLedgerImpl.isOffloadedNeedsDelete` [#7389](https://github.com/apache/pulsar/pull/7389)\n+- [Broker] Fix producer stuck issue due to NPE thrown when creating a new ledger [#7401](https://github.com/apache/pulsar/pull/7401)\n+- [Broker] Avoid NPEs at ledger creation when DNS failures happen [#7403](https://github.com/apache/pulsar/pull/7403)\n+- [Broker] Support decompression payload if needed in KeyShared subscription [#7416](https://github.com/apache/pulsar/pull/7416)\n+- [Broker] Fix update-cluster cli updates proxy-url [#7422](https://github.com/apache/pulsar/pull/7422)\n+- [Broker] Handle `NotAllowed Exception` at the client side [#7430](https://github.com/apache/pulsar/pull/7430)\n+- [Broker] Shade jclouds to avoid Gson conflict [#7435](https://github.com/apache/pulsar/pull/7435)\n+- [Broker] Consumer is registered on dispatcher even if hash range conflicts on Key_Shared subscription [#7444](https://github.com/apache/pulsar/pull/7444)\n+- [Broker] Add pulsar-client-messagecrypto-bc into pulsar-client dependency to avoid method not found [#7447](https://github.com/apache/pulsar/pull/7447)\n+- [Broker] Fix update partitions error for non-persistent topic [#7459](https://github.com/apache/pulsar/pull/7459)\n+- [Broker] Use CGroup CPU usage when present [#7475](https://github.com/apache/pulsar/pull/7475)\n+- [Broker] Fix ArrayIndexOutOfBoundsException when dispatch messages to consumer [#7483](https://github.com/apache/pulsar/pull/7483)\n+- [Broker] Get last entry is trying to read entry -1 [#7495](https://github.com/apache/pulsar/pull/7495)\n+- [Broker] Fix timeout opening managed ledger operation [#7506](https://github.com/apache/pulsar/pull/7506)\n+- [Broker] Fixes the exception that occurred when the geo-replication policy is updated [#7514](https://github.com/apache/pulsar/pull/7514)\n+- [Broker] Update Jackson to version 2.11.1 and ensure all dependencies are pinned [#7519](https://github.com/apache/pulsar/pull/7519)\n+- [Broker] Fix protobuf generation on handling repeated long number [#7540](https://github.com/apache/pulsar/pull/7540)\n+- [Broker] Add more logging to the auth operations on failure [#7567](https://github.com/apache/pulsar/pull/7567)\n+- [Broker] Use Consume/Produce/Lookup interfaces for specific operations in allowTopicOperation [#7587](https://github.com/apache/pulsar/pull/7587)\n+- [Broker] Support configuring `DeleteInactiveTopic` setting in namespace policy [#7598](https://github.com/apache/pulsar/pull/7598)\n+- [Broker] Fix NPE when using advertisedListeners [#7620](https://github.com/apache/pulsar/pull/7620)\n+- [Broker] Fix the issue that deduplication cursor can not be deleted after disabling message deduplication [#7656](https://github.com/apache/pulsar/pull/7656)\n+- [Broker] Add missing AuthenticationDataSource to canConsumeAsync method call [#7694](https://github.com/apache/pulsar/pull/7694)\n+- [Broker] Close the previous reader of the health check topic [#7724](https://github.com/apache/pulsar/pull/7724)\n+- [Broker] Change some WebApplicationException log level to debug [#7725](https://github.com/apache/pulsar/pull/7725)\n+- [Broker] Replay delayed messages in order [#7731](https://github.com/apache/pulsar/pull/7731)\n+- [Broker] Fix the wrong returned URL for lookup when specify advertised listener [#7737](https://github.com/apache/pulsar/pull/7737)\n+- [Broker] Fix topic getting recreated immediately after deletion [#7524](https://github.com/apache/pulsar/pull/7524)\n+- [Broker] Set default root log level to debug [#7789](https://github.com/apache/pulsar/pull/7789)\n+- [Broker] Fix producer stucks on creating ledger timeout [#7319](https://github.com/apache/pulsar/pull/7319)\n+- [Broker] AllowTopicOperationAsync should check the original role is super user [#7788](https://github.com/apache/pulsar/pull/7788)\n+\n+##### Zookeeper\n+\n+- [Zookeeper] Use hostname for bookie rackawareness mapping [#7361](https://github.com/apache/pulsar/pull/7361)\n+\n+##### Pulsar SQL\n+\n+- [Pulsar SQL] Make Pulsar SQL get correct offload configurations [#7701](https://github.com/apache/pulsar/pull/7701)\n+\n+##### Pulsar Schema\n+- [Schema] Fix the error that occurs when getting schemaName by partitioned topic name [#7708](https://github.com/apache/pulsar/pull/7708)\n+\n+##### Java Client\n+\n+- [Java Client] Fix the issue that the HTTP header used in Athenz authentication can not be renamed [#7311](https://github.com/apache/pulsar/pull/7311)\n+- [Java Client] Add more detail information of retry errors [#7341](https://github.com/apache/pulsar/pull/7341)\n+- [Java Client] Support for tombstones (null value in messages) does not work [#7408](https://github.com/apache/pulsar/pull/7408)\n+- [Java Client] Fix batch ackset recycled multiple times. [#7409](https://github.com/apache/pulsar/pull/7409)\n+- [Java Client] Support Oauth2 authentication [#7420](https://github.com/apache/pulsar/pull/7420)\n+- [Java Client] Ensure the create subscription can be completed when the operation timeout happens [#7522](https://github.com/apache/pulsar/pull/7522)\n+- [Java Client] Don't try to subscribe to the topic if the consumer is closed [#7589](https://github.com/apache/pulsar/pull/7589)", "originalCommit": "ca5e1664e7343767380d505041d4473cf82723ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM4MjIzNw==", "url": "https://github.com/apache/pulsar/pull/7739#discussion_r470382237", "bodyText": "Since we have no second heading 4, I suggest that we remove this heading, and change heading 5 to heading 4.\nYou can change the current heading 4 into a sentence like \"The following lists fixes and enhancements in 2.6.1 release.\"\nWe use heading to make structure clear, if we list heading 3, heading 4 and heading 5 here without context, we can improve the structure. For heading usage, refer to https://developers.google.com/style/headings", "author": "Jennifer88huang", "createdAt": "2020-08-14T02:56:39Z", "path": "site2/website/release-notes.md", "diffHunk": "@@ -7,6 +7,111 @@\n \n * [IO] If Function Authorization is enabled, users have to be given the source/sink entitlement to run them. See https://github.com/apache/pulsar/pull/7466\n \n+### 2.6.1 &mdash; 2020-08-07 <a id=\u201c2.6.1\u201d></a>\n+\n+#### Fixes and Enhancements", "originalCommit": "ca5e1664e7343767380d505041d4473cf82723ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8afdd5bdfda0fc652b80df88bed267b83b58d833", "url": "https://github.com/apache/pulsar/commit/8afdd5bdfda0fc652b80df88bed267b83b58d833", "message": "fix comments\n\nSigned-off-by: xiaolong.ran <rxl@apache.org>", "committedDate": "2020-08-14T07:58:55Z", "type": "commit"}]}