{"pr_number": 7976, "pr_title": "[DOCS] Small improvements and clarifications around AuthN / AuthZ", "pr_createdAt": "2020-09-04T10:34:39Z", "pr_url": "https://github.com/apache/pulsar/pull/7976", "timeline": [{"oid": "8bcadf184dad0b647b886176be8845360a7250ae", "url": "https://github.com/apache/pulsar/commit/8bcadf184dad0b647b886176be8845360a7250ae", "message": "Small documentation improvements and clarifications around AuthN / AuthZ", "committedDate": "2020-09-04T10:27:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MTg4OA==", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484051888", "bodyText": "usually,  \"...not only...but also...\" is used  together.\nIf you remove \"not only\", you can also remove \"but also\" in this sentence.", "author": "Jennifer88huang", "createdAt": "2020-09-06T10:27:37Z", "path": "site2/docs/security-authorization.md", "diffHunk": "@@ -24,17 +24,17 @@ superUserRoles=my-super-user-1,my-super-user-2\n > A full list of parameters is available in the `conf/broker.conf` file.\n > You can also find the default values for those parameters in [Broker Configuration](reference-configuration.md#broker). \n \n-Typically, you can not only use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n+Typically, you use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.", "originalCommit": "8bcadf184dad0b647b886176be8845360a7250ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjUyMQ==", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484052521", "bodyText": "If you enable authorization on the broker, the broker checks the authorization of the request when the broker receives the forwarded request.", "author": "Jennifer88huang", "createdAt": "2020-09-06T10:34:32Z", "path": "site2/docs/security-authorization.md", "diffHunk": "@@ -24,17 +24,17 @@ superUserRoles=my-super-user-1,my-super-user-2\n > A full list of parameters is available in the `conf/broker.conf` file.\n > You can also find the default values for those parameters in [Broker Configuration](reference-configuration.md#broker). \n \n-Typically, you can not only use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n+Typically, you use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n \n-You can also enable the authorization for the proxy in the proxy configuration file (`conf/proxy.conf`). Once you enable the authorization on the proxy, the proxy does an additional authorization check before forwarding the request to a broker. The broker still checks the authorization of the request when the broker receives the forwarded request.\n+You can also enable the authorization for the proxy in the proxy configuration file (`conf/proxy.conf`). Once you enable the authorization on the proxy, the proxy does an additional authorization check before forwarding the request to a broker. If authorization is also enabled on the broker, the broker will again check the authorization of the request when the broker receives the forwarded request.", "originalCommit": "8bcadf184dad0b647b886176be8845360a7250ae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjY4MA==", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484052680", "bodyText": "use present tense instead of future tense in technical writing.\nFor guides, refer to https://developers.google.com/style/tense", "author": "Jennifer88huang", "createdAt": "2020-09-06T10:35:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjUyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjgyMw==", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484052823", "bodyText": "You can use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Proxy and/or Pulsar Broker to validate the credentials.", "author": "Jennifer88huang", "createdAt": "2020-09-06T10:37:18Z", "path": "site2/docs/security-extending.md", "diffHunk": "@@ -10,11 +10,11 @@ Pulsar provides a way to use custom authentication and authorization mechanisms.\n \n Pulsar supports mutual TLS and Athenz authentication plugins. For how to use these authentication plugins, you can refer to the description in [Security](security-overview.md).\n \n-You can choose to use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Broker to validate the credentials.\n+You can choose to use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Proxy and/or Pulsar Broker to validate the credentials.", "originalCommit": "8bcadf184dad0b647b886176be8845360a7250ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MzgyNg==", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484053826", "bodyText": "How about the following? You can take it as reference.\nBy default, you can use the embedded authorization provider provided by Pulsar. You can also configure a different authorization provider through a plugin.", "author": "Jennifer88huang", "createdAt": "2020-09-06T10:48:42Z", "path": "site2/docs/security-extending.md", "diffHunk": "@@ -90,9 +90,9 @@ The following is the example for Broker authentication plugins:\n \n ## Authorization\n \n-Authorization is the operation that checks whether a particular \"role\" or \"principal\" has a permission to perform a certain operation.\n+Authorization is the operation that checks whether a particular \"role\" or \"principal\" has permission to perform a certain operation.\n \n-By default, Pulsar provides an embedded authorization, though configuring a different one through a plugin is also an alternative choice.\n+By default, Pulsar provides an embedded authorization provider, though configuring a different one through a plugin is also a choice.", "originalCommit": "8bcadf184dad0b647b886176be8845360a7250ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "54143822edc5775aa71533be235508bfa37eaf2e", "url": "https://github.com/apache/pulsar/commit/54143822edc5775aa71533be235508bfa37eaf2e", "message": "PR feedback and added some clarifications", "committedDate": "2020-09-07T16:14:38Z", "type": "commit"}]}