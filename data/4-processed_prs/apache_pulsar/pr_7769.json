{"pr_number": 7769, "pr_title": "[Issue 5401][docs] Add deploy-docker doc", "pr_createdAt": "2020-08-06T07:49:59Z", "pr_url": "https://github.com/apache/pulsar/pull/7769", "timeline": [{"oid": "44ea20d3e365a2c47d5e0064b7c62f7549bf5a31", "url": "https://github.com/apache/pulsar/commit/44ea20d3e365a2c47d5e0064b7c62f7549bf5a31", "message": "add deploy-docker doc", "committedDate": "2020-08-06T07:48:04Z", "type": "commit"}, {"oid": "ce8cb1c6bf212a380825c515fce76884381673ad", "url": "https://github.com/apache/pulsar/commit/ce8cb1c6bf212a380825c515fce76884381673ad", "message": "Update deploy-docker.md", "committedDate": "2020-08-06T07:55:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgwNzExOQ==", "url": "https://github.com/apache/pulsar/pull/7769#discussion_r466807119", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For detailed information about deployment for each Pulsar component, see [deploy a cluster on bare metal](https://pulsar.apache.org/docs/en/deploy-bare-metal/).\n          \n          \n            \n            For detailed information about how to deploy ZooKeeper cluster, BookKeeper cluster, brokers, see [deploy a cluster on bare metal](deploy-bare-metal.md).", "author": "Jennifer88huang", "createdAt": "2020-08-07T03:57:51Z", "path": "site2/docs/deploy-docker.md", "diffHunk": "@@ -0,0 +1,51 @@\n+---\n+id: deploy-docker\n+title: Deploy a cluster on Docker\n+sidebar_label: Docker\n+---\n+\n+To deploy a Pulsar cluster on Docker, complete the following steps:\n+1. Deploy a ZooKeeper cluster (optional)\n+2. Initialize cluster metadata\n+3. Deploy a BookKeeper cluster\n+4. Deploy one or more Pulsar brokers\n+\n+## Prepare\n+\n+To run Pulsar on Docker, you need to create a container for each Pulsar component: ZooKeeper, BookKeeper and broker. You can pull the images of ZooKeeper and BookKeeper separately on [Docker Hub](https://hub.docker.com/), and pull a [Pulsar image](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) for the broker. You can also pull only one [Pulsar image](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) and create three containers with this image. This tutorial takes the second option as an example.\n+\n+### Pull a Pulsar image\n+You can pull a Pulsar image from [Docker Hub](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) with the following command.\n+\n+```\n+docker run -it apachepulsar/pulsar-all:latest\n+```\n+\n+### Create three containers\n+Create containers for ZooKeeper, BookKeeper and broker. In this example, they are named as `zookeeper`, `bookkeeper` and `broker` respectively. You can name them as you want with the `--name` flag. By default, the container names are created randomly.\n+\n+```\n+docker run -it --name bookkeeper apachepulsar/pulsar-all:latest /bin/bash\n+docker run -it --name zookeeper apachepulsar/pulsar-all:latest /bin/bash\n+docker run -it --name broker apachepulsar/pulsar-all:latest /bin/bash\n+```\n+\n+### Create a network\n+To deploy a Pulsar cluster on Docker, you need to create a `network` and connect the containers of ZooKeeper, BookKeeper and broker to this network. The following command creates the network `pulsar`:\n+\n+```\n+docker network create pulsar\n+```\n+\n+### Connect containers to network\n+Connect the containers of ZooKeeper, BookKeeper and broker to the `pulsar` network with the following commands. \n+\n+```\n+docker network connect pulsar zookeeper\n+docker network connect pulsar bookkeeper\n+docker network connect pulsar broker\n+```\n+\n+To check whether the containers are successfully connected to the network, enter the `docker network inspect pulsar` command.\n+\n+For detailed information about deployment for each Pulsar component, see [deploy a cluster on bare metal](https://pulsar.apache.org/docs/en/deploy-bare-metal/).", "originalCommit": "ce8cb1c6bf212a380825c515fce76884381673ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgwNzM4Mw==", "url": "https://github.com/apache/pulsar/pull/7769#discussion_r466807383", "bodyText": "When you tell users Pulsar component, they might think which component.\nUse relative path in reference link.", "author": "Jennifer88huang", "createdAt": "2020-08-07T03:59:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgwNzExOQ=="}], "type": "inlineReview"}, {"oid": "9aa8d1384ae17f69f7987e47c98fa32a7eaa7ea0", "url": "https://github.com/apache/pulsar/commit/9aa8d1384ae17f69f7987e47c98fa32a7eaa7ea0", "message": "Update site2/docs/deploy-docker.md\n\nCo-authored-by: Jennifer Huang <47805623+Jennifer88huang@users.noreply.github.com>", "committedDate": "2020-08-07T10:28:26Z", "type": "commit"}]}