{"pr_number": 7136, "pr_title": "[Doc]--Update documents for support consumer priority level in failover mode", "pr_createdAt": "2020-06-02T06:55:15Z", "pr_url": "https://github.com/apache/pulsar/pull/7136", "timeline": [{"oid": "2206403ceb74f4a3f29396b0287d3baa560ef12c", "url": "https://github.com/apache/pulsar/commit/2206403ceb74f4a3f29396b0287d3baa560ef12c", "message": "Update Consumer priority level in failover mode", "committedDate": "2020-06-02T06:53:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5NTEyMA==", "url": "https://github.com/apache/pulsar/pull/7136#discussion_r433895120", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In *failover* mode, multiple consumers can attach to the same subscription. In failover mode, the broker selects the master consumer based on the priority level and the lexicographical sorting of a consumer name. If two consumers have the identical priority level, the broker selects the master consumer based on the lexicographical sorting. If these two consumers have different priority levels, the broker selects the consumer with higher priority level as the master consumer. The master consumer is initially the only one receiving messages. When the master consumer disconnects, all (non-acknowledged and subsequent) messages are delivered to the next consumer in line.\n          \n          \n            \n            In *failover* mode, multiple consumers can attach to the same subscription. In failover mode, the broker selects the master consumer based on the priority level and the lexicographical sorting of a consumer name. If two consumers have an identical priority level, the broker selects the master consumer based on the lexicographical sorting. If these two consumers have different priority levels, the broker selects the consumer with a higher priority level as the master consumer. The master consumer is initially the only one receiving messages. When the master consumer disconnects, all (non-acknowledged and subsequent) messages are delivered to the next consumer in line.", "author": "Anonymitaet", "createdAt": "2020-06-02T13:56:39Z", "path": "site2/docs/concepts-messaging.md", "diffHunk": "@@ -207,11 +207,11 @@ In the diagram below, only **Consumer A-0** is allowed to consume messages.\n \n ### Failover\n \n-In *failover* mode, multiple consumers can attach to the same subscription. The consumers will be lexically sorted by the consumer's name and the first consumer will initially be the only one receiving messages. This consumer is called the *master consumer*.\n+In *failover* mode, multiple consumers can attach to the same subscription. In failover mode, the broker selects the master consumer based on the priority level and the lexicographical sorting of a consumer name. If two consumers have the identical priority level, the broker selects the master consumer based on the lexicographical sorting. If these two consumers have different priority levels, the broker selects the consumer with higher priority level as the master consumer. The master consumer is initially the only one receiving messages. When the master consumer disconnects, all (non-acknowledged and subsequent) messages are delivered to the next consumer in line.", "originalCommit": "2206403ceb74f4a3f29396b0287d3baa560ef12c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "43c9c17e7a3e208b8e52b20529731b606f06724b", "url": "https://github.com/apache/pulsar/commit/43c9c17e7a3e208b8e52b20529731b606f06724b", "message": "Update site2/docs/concepts-messaging.md\n\nCo-authored-by: Yu Liu <50226895+Anonymitaet@users.noreply.github.com>", "committedDate": "2020-06-03T06:45:54Z", "type": "commit"}]}