{"pr_number": 9079, "pr_title": "[Doc] Add docs for ProtobufNative Schema", "pr_createdAt": "2020-12-29T09:09:03Z", "pr_url": "https://github.com/apache/pulsar/pull/9079", "timeline": [{"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209", "url": "https://github.com/apache/pulsar/commit/37cb984954b906c2ff3cdfcce99960d11e1d2209", "message": "add doc for protobufnative schema", "committedDate": "2020-12-29T08:59:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTY2NzM2MQ==", "url": "https://github.com/apache/pulsar/pull/9079#discussion_r549667361", "bodyText": "... to use the same tools...", "author": "Jennifer88huang", "createdAt": "2020-12-29T11:17:58Z", "path": "site2/docs/schema-understand.md", "diffHunk": "@@ -287,25 +289,36 @@ This example shows how to construct a key/value schema and then use it to produc\n     KeyValue<Integer, String> kv = msg.getValue();\n     ```\n \n+<!--END_DOCUSAURUS_CODE_TABS-->\n+\n #### struct\n \n-Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `struct` schema. \n+This section describes the details of type and usage of the `struct` schema.\n \n-This allows Pulsar:\n+##### Type\n \n-* to use same tools to manage schema definitions\n+`struct` schema supports `AvroBaseStructSchema` and `ProtobufNativeSchema`.\n \n-* to use different serialization/deserialization methods to handle data\n+|Type|Description|\n+---|---|\n+`AvroBaseStructSchema`|Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `AvroBaseStructSchema`, which supports  `AvroSchema`, `JsonSchema`, and `ProtobufSchema`. <br><br>This allows Pulsar:<br>- to use same tools to manage schema definitions<br>- to use different serialization or deserialization methods to handle data|", "originalCommit": "37cb984954b906c2ff3cdfcce99960d11e1d2209", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTY2Nzg1Mg==", "url": "https://github.com/apache/pulsar/pull/9079#discussion_r549667852", "bodyText": "Technically, it's 100% correct.\nI suggest that we use \"Pulsar provides the following methods to ....\"\nWhen people add more methods below, they usually forget to update the specific number.", "author": "Jennifer88huang", "createdAt": "2020-12-29T11:19:44Z", "path": "site2/docs/schema-understand.md", "diffHunk": "@@ -287,25 +289,36 @@ This example shows how to construct a key/value schema and then use it to produc\n     KeyValue<Integer, String> kv = msg.getValue();\n     ```\n \n+<!--END_DOCUSAURUS_CODE_TABS-->\n+\n #### struct\n \n-Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `struct` schema. \n+This section describes the details of type and usage of the `struct` schema.\n \n-This allows Pulsar:\n+##### Type\n \n-* to use same tools to manage schema definitions\n+`struct` schema supports `AvroBaseStructSchema` and `ProtobufNativeSchema`.\n \n-* to use different serialization/deserialization methods to handle data\n+|Type|Description|\n+---|---|\n+`AvroBaseStructSchema`|Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `AvroBaseStructSchema`, which supports  `AvroSchema`, `JsonSchema`, and `ProtobufSchema`. <br><br>This allows Pulsar:<br>- to use same tools to manage schema definitions<br>- to use different serialization or deserialization methods to handle data|\n+`ProtobufNativeSchema`|`ProtobufNativeSchema` is based on protobuf native Descriptor. <br><br>This allows Pulsar:<br>- to use native protobuf-v3 to serialize or deserialize data<br>- to use `AutoConsume` to deserialize data.\n \n-There are two methods to use `struct` schema\uff1a\n+##### Usage\n+\n+Pulsar provides three methods to use the `struct` schema:", "originalCommit": "37cb984954b906c2ff3cdfcce99960d11e1d2209", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1ad3b02d0f043112d47390239ee43555bf1e966e", "url": "https://github.com/apache/pulsar/commit/1ad3b02d0f043112d47390239ee43555bf1e966e", "message": "update", "committedDate": "2020-12-30T00:26:55Z", "type": "commit"}]}