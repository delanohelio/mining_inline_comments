{"pr_number": 8892, "pr_title": "[developer docs] Improve instructions to setup Pulsar development in IntelliJ", "pr_createdAt": "2020-12-10T08:35:33Z", "pr_url": "https://github.com/apache/pulsar/pull/8892", "timeline": [{"oid": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "url": "https://github.com/apache/pulsar/commit/13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "message": "Improve instructions to setup Pulsar development in IntelliJ", "committedDate": "2020-12-10T08:30:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzMjQ0Mw==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540132443", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * When building on newer than Java 8, the resulting artifacts are not compatible with Java 8 runtime because of issues such as https://github.com/apache/pulsar/issues/8445.\n          \n          \n            \n               * When building Pulsar on a higher version (higher than Java 8), the resulting artifacts are not compatible with Java 8 runtime because of some issues, such as [issue 8445](https://github.com/apache/pulsar/issues/8445).", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:33:29Z", "path": "README.md", "diffHunk": "@@ -86,8 +86,9 @@ components in the Pulsar ecosystem, including connectors, adapters, and other la\n ## Build Pulsar\n \n Requirements:\n- * Java JDK 1.8 or Java JDK 11\n- * Maven 3.3.9+\n+ * Java 8 JDK (for building Pulsar)\n+   * When building on newer than Java 8, the resulting artifacts are not compatible with Java 8 runtime because of issues such as https://github.com/apache/pulsar/issues/8445.", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzMzU1NQ==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540133555", "bodyText": "use \"Maven\" instead of \"\"maven.Please check through the whole updates.", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:35:16Z", "path": "README.md", "diffHunk": "@@ -153,6 +154,26 @@ To configure annotation processing in IntelliJ:\n \n 5. Install the lombok plugin in intellij.\n \n+#### Further configuration in IntelliJ \n+\n+* When working on the Pulsar core modules in IntelliJ, reduce the number of active projects in IntelliJ to speed up IDE actions and reduce unrelated IDE warnings.\n+  * In IntelliJ's Maven UI's tree view under \"Profiles\"\n+    * Activate \"core-modules\" maven profile", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5NTE2Mw==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540195163", "bodyText": "done", "author": "lhotari", "createdAt": "2020-12-10T14:06:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzMzU1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNDQ0NQ==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540134445", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                * Run \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice.\n          \n          \n            \n                * Run the \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by the name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the **Shift** key twice.", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:36:35Z", "path": "README.md", "diffHunk": "@@ -153,6 +154,26 @@ To configure annotation processing in IntelliJ:\n \n 5. Install the lombok plugin in intellij.\n \n+#### Further configuration in IntelliJ \n+\n+* When working on the Pulsar core modules in IntelliJ, reduce the number of active projects in IntelliJ to speed up IDE actions and reduce unrelated IDE warnings.\n+  * In IntelliJ's Maven UI's tree view under \"Profiles\"\n+    * Activate \"core-modules\" maven profile\n+    * De-activate \"main\" maven profile\n+    * Run \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice.", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNTM1NQ==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540135355", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Run \"Generate Sources and Update Folders For All Projects\" from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice. Running the action takes about 10 minutes for all projects. This is faster when the \"core-modules\" profile is the only active profile.\n          \n          \n            \n            * Run the \"Generate Sources and Update Folders For All Projects\" action from the Maven UI toolbar. You can also find the action by the name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the **Shift** key twice. Running the action takes about 10 minutes for all projects. This is faster when the \"core-modules\" profile is the only active profile.", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:38:03Z", "path": "README.md", "diffHunk": "@@ -153,6 +154,26 @@ To configure annotation processing in IntelliJ:\n \n 5. Install the lombok plugin in intellij.\n \n+#### Further configuration in IntelliJ \n+\n+* When working on the Pulsar core modules in IntelliJ, reduce the number of active projects in IntelliJ to speed up IDE actions and reduce unrelated IDE warnings.\n+  * In IntelliJ's Maven UI's tree view under \"Profiles\"\n+    * Activate \"core-modules\" maven profile\n+    * De-activate \"main\" maven profile\n+    * Run \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice.\n+\n+* Run \"Generate Sources and Update Folders For All Projects\" from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice. Running the action takes about 10 minutes for all projects. This is faster when the \"core-modules\" profile is the only active profile.", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNTU5Nw==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540135597", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * In the case of compilation errors with missing Protobuf classes, make sure to run \"Generate Sources and Update Folders For All Projects\" action.\n          \n          \n            \n            * In the case of compilation errors with missing Protobuf classes, ensure to run the \"Generate Sources and Update Folders For All Projects\" action.", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:38:31Z", "path": "README.md", "diffHunk": "@@ -153,6 +154,26 @@ To configure annotation processing in IntelliJ:\n \n 5. Install the lombok plugin in intellij.\n \n+#### Further configuration in IntelliJ \n+\n+* When working on the Pulsar core modules in IntelliJ, reduce the number of active projects in IntelliJ to speed up IDE actions and reduce unrelated IDE warnings.\n+  * In IntelliJ's Maven UI's tree view under \"Profiles\"\n+    * Activate \"core-modules\" maven profile\n+    * De-activate \"main\" maven profile\n+    * Run \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice.\n+\n+* Run \"Generate Sources and Update Folders For All Projects\" from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice. Running the action takes about 10 minutes for all projects. This is faster when the \"core-modules\" profile is the only active profile.\n+\n+\n+#### IntelliJ usage tips\n+\n+* In the case of compilation errors with missing Protobuf classes, make sure to run \"Generate Sources and Update Folders For All Projects\" action.", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNjI2Mg==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540136262", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              * Sometimes it might help to mark a specific project ignored in IntelliJ Maven UI by right clicking the project name and choosing \"Ignore Projects\".\n          \n          \n            \n              * Sometimes it might help to mark a specific project ignored in IntelliJ Maven UI by right-clicking the project name and select **Ignore Projects** from the drop-down list.", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:39:36Z", "path": "README.md", "diffHunk": "@@ -153,6 +154,26 @@ To configure annotation processing in IntelliJ:\n \n 5. Install the lombok plugin in intellij.\n \n+#### Further configuration in IntelliJ \n+\n+* When working on the Pulsar core modules in IntelliJ, reduce the number of active projects in IntelliJ to speed up IDE actions and reduce unrelated IDE warnings.\n+  * In IntelliJ's Maven UI's tree view under \"Profiles\"\n+    * Activate \"core-modules\" maven profile\n+    * De-activate \"main\" maven profile\n+    * Run \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice.\n+\n+* Run \"Generate Sources and Update Folders For All Projects\" from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice. Running the action takes about 10 minutes for all projects. This is faster when the \"core-modules\" profile is the only active profile.\n+\n+\n+#### IntelliJ usage tips\n+\n+* In the case of compilation errors with missing Protobuf classes, make sure to run \"Generate Sources and Update Folders For All Projects\" action.\n+\n+* All of the Pulsar source code doesn't compile properly in IntelliJ and there are compilation errors.\n+  * Use the \"core-modules\" profile if working on the Pulsar core modules since the source code for those modules can be compiled in IntelliJ.\n+  * Sometimes it might help to mark a specific project ignored in IntelliJ Maven UI by right clicking the project name and choosing \"Ignore Projects\".", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNzQyMQ==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540137421", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              * Because of the compilation issues, it's not currently possible to run all unit tests directly from the IDE. As a workaround, individual test classes can be run from the command line using \"mvn test -Dtest=TestClassName\" command.\n          \n          \n            \n              * Currently, it is impossible to run all unit tests directly from the IDE because of the compilation issues. As a workaround, individual test classes can be run by using the `mvn test -Dtest=TestClassName` command.", "author": "Huanli-Meng", "createdAt": "2020-12-10T12:41:20Z", "path": "README.md", "diffHunk": "@@ -153,6 +154,26 @@ To configure annotation processing in IntelliJ:\n \n 5. Install the lombok plugin in intellij.\n \n+#### Further configuration in IntelliJ \n+\n+* When working on the Pulsar core modules in IntelliJ, reduce the number of active projects in IntelliJ to speed up IDE actions and reduce unrelated IDE warnings.\n+  * In IntelliJ's Maven UI's tree view under \"Profiles\"\n+    * Activate \"core-modules\" maven profile\n+    * De-activate \"main\" maven profile\n+    * Run \"Reload All Maven Projects\" action from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice.\n+\n+* Run \"Generate Sources and Update Folders For All Projects\" from the Maven UI toolbar. You can also find the action by name in the IntelliJ \"Search Everywhere\" window that gets activated by pressing the shift key twice. Running the action takes about 10 minutes for all projects. This is faster when the \"core-modules\" profile is the only active profile.\n+\n+\n+#### IntelliJ usage tips\n+\n+* In the case of compilation errors with missing Protobuf classes, make sure to run \"Generate Sources and Update Folders For All Projects\" action.\n+\n+* All of the Pulsar source code doesn't compile properly in IntelliJ and there are compilation errors.\n+  * Use the \"core-modules\" profile if working on the Pulsar core modules since the source code for those modules can be compiled in IntelliJ.\n+  * Sometimes it might help to mark a specific project ignored in IntelliJ Maven UI by right clicking the project name and choosing \"Ignore Projects\".\n+  * Because of the compilation issues, it's not currently possible to run all unit tests directly from the IDE. As a workaround, individual test classes can be run from the command line using \"mvn test -Dtest=TestClassName\" command.", "originalCommit": "13e9d6ca72778b2c157f6ad3b5067cecd0c61a36", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5NjQ1OQ==", "url": "https://github.com/apache/pulsar/pull/8892#discussion_r540196459", "bodyText": "Thank you for the review and suggestions @Huanli-Meng . I made a slight change to the wording since \"impossible\" is a bit too strong word in this context. I used \"not always possible\" instead. Please review the latest changes.", "author": "lhotari", "createdAt": "2020-12-10T14:08:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDEzNzQyMQ=="}], "type": "inlineReview"}, {"oid": "783b7ca078266bca45c6130cb52772b9b7b11287", "url": "https://github.com/apache/pulsar/commit/783b7ca078266bca45c6130cb52772b9b7b11287", "message": "Apply suggestions from code review\n\nCo-authored-by: HuanliMeng <48120384+Huanli-Meng@users.noreply.github.com>", "committedDate": "2020-12-10T13:59:46Z", "type": "commit"}, {"oid": "59685ce9fff7e0350a96d5beea8e93830652492f", "url": "https://github.com/apache/pulsar/commit/59685ce9fff7e0350a96d5beea8e93830652492f", "message": "Address review comments\n\n- maven -> Maven\n- \"impossible\" -> \"not always possible\"", "committedDate": "2020-12-10T14:05:26Z", "type": "commit"}, {"oid": "83a0a234cffa3dfac09af380a238987b4b7049cf", "url": "https://github.com/apache/pulsar/commit/83a0a234cffa3dfac09af380a238987b4b7049cf", "message": "drop-down list -> menu", "committedDate": "2020-12-10T14:10:28Z", "type": "commit"}]}