{"pr_number": 6411, "pr_title": "[functions] Allow custom resources for k8s", "pr_createdAt": "2020-02-24T17:49:18Z", "pr_url": "https://github.com/apache/pulsar/pull/6411", "timeline": [{"oid": "8428c1abfc4b294527fc5842e0456129f0148b30", "url": "https://github.com/apache/pulsar/commit/8428c1abfc4b294527fc5842e0456129f0148b30", "message": "[functions] Allow custom resources for k8s\n\nThis commit adds additional arguments to the\nBasicKubernetesManifestCustomizer for resource requirements. Currently\nboth the request and limit for cpu and memory are specified by resources\narguments, with no way to change the limit. This commit allows both the\nlimit and request to be set independently.", "committedDate": "2020-02-24T17:47:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ3NTAzNw==", "url": "https://github.com/apache/pulsar/pull/6411#discussion_r383475037", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                String RESOURCE_CPU = \"cpu\";\n          \n          \n            \n                private static final String RESOURCE_CPU = \"cpu\";", "author": "sijie", "createdAt": "2020-02-24T19:43:51Z", "path": "pulsar-functions/runtime/src/main/java/org/apache/pulsar/functions/runtime/kubernetes/BasicKubernetesManifestCustomizer.java", "diffHunk": "@@ -42,6 +41,10 @@\n  */\n public class BasicKubernetesManifestCustomizer implements KubernetesManifestCustomizer {\n \n+    String RESOURCE_CPU = \"cpu\";", "originalCommit": "8428c1abfc4b294527fc5842e0456129f0148b30", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ3NTEzMA==", "url": "https://github.com/apache/pulsar/pull/6411#discussion_r383475130", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                String RESOURCE_MEMORY = \"memory\";\n          \n          \n            \n                private static final String RESOURCE_MEMORY = \"memory\";", "author": "sijie", "createdAt": "2020-02-24T19:44:01Z", "path": "pulsar-functions/runtime/src/main/java/org/apache/pulsar/functions/runtime/kubernetes/BasicKubernetesManifestCustomizer.java", "diffHunk": "@@ -42,6 +41,10 @@\n  */\n public class BasicKubernetesManifestCustomizer implements KubernetesManifestCustomizer {\n \n+    String RESOURCE_CPU = \"cpu\";\n+    String RESOURCE_MEMORY = \"memory\";", "originalCommit": "8428c1abfc4b294527fc5842e0456129f0148b30", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAxNjE5Nw==", "url": "https://github.com/apache/pulsar/pull/6411#discussion_r384016197", "bodyText": "done", "author": "rivernate", "createdAt": "2020-02-25T17:22:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ3NTEzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ3NTIwNg==", "url": "https://github.com/apache/pulsar/pull/6411#discussion_r383475206", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                String[] RESOURCES = {RESOURCE_CPU, RESOURCE_MEMORY};\n          \n          \n            \n                private static final String[] RESOURCES = {RESOURCE_CPU, RESOURCE_MEMORY};", "author": "sijie", "createdAt": "2020-02-24T19:44:10Z", "path": "pulsar-functions/runtime/src/main/java/org/apache/pulsar/functions/runtime/kubernetes/BasicKubernetesManifestCustomizer.java", "diffHunk": "@@ -42,6 +41,10 @@\n  */\n public class BasicKubernetesManifestCustomizer implements KubernetesManifestCustomizer {\n \n+    String RESOURCE_CPU = \"cpu\";\n+    String RESOURCE_MEMORY = \"memory\";\n+    String[] RESOURCES = {RESOURCE_CPU, RESOURCE_MEMORY};", "originalCommit": "8428c1abfc4b294527fc5842e0456129f0148b30", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "56d4f90e3807697502a283489ed1e4b72dbc38fc", "url": "https://github.com/apache/pulsar/commit/56d4f90e3807697502a283489ed1e4b72dbc38fc", "message": "Make constants private static final", "committedDate": "2020-02-25T17:20:56Z", "type": "commit"}]}