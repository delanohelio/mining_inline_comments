{"pr_number": 6713, "pr_title": "KEYCLOAK-12867: Credential title should be visible if cred type disabled", "pr_createdAt": "2020-01-31T19:57:06Z", "pr_url": "https://github.com/keycloak/keycloak/pull/6713", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2NzY4Nw==", "url": "https://github.com/keycloak/keycloak/pull/6713#discussion_r373967687", "bodyText": "Should we really use user label as a key? It can contain special character, white spaces, etc.\nOr is that ok? AFAIK key doesn't appear anywhere in the final HTML, right?", "author": "vmuzikar", "createdAt": "2020-02-03T08:19:20Z", "path": "themes/src/main/resources/theme/keycloak-preview/account/resources/app/content/signingin-page/SigningInPage.tsx", "diffHunk": "@@ -202,12 +202,14 @@ class SigningInPage extends React.Component<SigningInPageProps, SigningInPageSta\n         });\n \n         let updateAIA: AIACommand;\n-        if (updateAction) updateAIA = new AIACommand(updateAction, this.props.location.pathname);\n+        if (credContainer.updateAction) {\n+            updateAIA = new AIACommand(credContainer.updateAction, this.props.location.pathname);\n+        }\n \n         return (\n             <React.Fragment key='userCredentials'> {\n                 userCredentials.map(credential => (\n-                    <DataListItem aria-labelledby={'credential-list-item-' + credential.userLabel}>\n+                    <DataListItem key={'credential-list-item-' + credential.userLabel} aria-labelledby={'credential-list-item-' + credential.userLabel}>", "originalCommit": "d0059ebb13ae0f9665887bcd498130fd07160ba6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI3MTI5MQ==", "url": "https://github.com/keycloak/keycloak/pull/6713#discussion_r374271291", "bodyText": "No clue if it is safe to use userLabel as a key here or not :)\nJust a note that userLabel can be null or empty. And yes, it can contain spaces and national characters with diacritics etc.", "author": "mposolda", "createdAt": "2020-02-03T18:40:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2NzY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI4MTExNw==", "url": "https://github.com/keycloak/keycloak/pull/6713#discussion_r374281117", "bodyText": "In line 200 I make sure that userLabel will have a value.  If you don't send me a value for userLabel then it gets set to Msg.localize(credential.type).\nThe key does not appear on the screen but it does appear in the HTML.  It can be any string.  It just needs to be unique to its siblings in a loop.  This is used by React to identify each item when re-rendering.  It's really not very important for this app, but I include them to keep React from putting a warning in the javascript console.\nCome to think of it, I have the ID, so that's really a better choice than userLabel.  I'll fix that soon, but not in this PR.", "author": "ssilvert", "createdAt": "2020-02-03T19:00:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2NzY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI5OTU1Mg==", "url": "https://github.com/keycloak/keycloak/pull/6713#discussion_r374299552", "bodyText": "+1 for using ID which is clearly a better choice for stuff like that.\n@ssilvert Could you please create a JIRA for this so we don't forget?", "author": "vmuzikar", "createdAt": "2020-02-03T19:38:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2NzY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDM0NjI2NA==", "url": "https://github.com/keycloak/keycloak/pull/6713#discussion_r374346264", "bodyText": "I went ahead and fixed it then squashed commits.", "author": "ssilvert", "createdAt": "2020-02-03T21:18:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2NzY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMzUzOA==", "url": "https://github.com/keycloak/keycloak/pull/6713#discussion_r374513538", "bodyText": "Thanks!", "author": "vmuzikar", "createdAt": "2020-02-04T07:41:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2NzY4Nw=="}], "type": "inlineReview"}, {"oid": "19a5fc37718e572e21dc714add27f12afdf7e764", "url": "https://github.com/keycloak/keycloak/commit/19a5fc37718e572e21dc714add27f12afdf7e764", "message": "KEYCLOAK-12867: Cred title should be visible if cred type disabled", "committedDate": "2020-02-03T21:17:19Z", "type": "commit"}, {"oid": "19a5fc37718e572e21dc714add27f12afdf7e764", "url": "https://github.com/keycloak/keycloak/commit/19a5fc37718e572e21dc714add27f12afdf7e764", "message": "KEYCLOAK-12867: Cred title should be visible if cred type disabled", "committedDate": "2020-02-03T21:17:19Z", "type": "forcePushed"}]}