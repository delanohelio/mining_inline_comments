{"pr_number": 7076, "pr_title": "[KEYCLOAK-11784] - Quarkus Extension", "pr_createdAt": "2020-05-18T22:49:16Z", "pr_url": "https://github.com/keycloak/keycloak/pull/7076", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzEzOTYwNQ==", "url": "https://github.com/keycloak/keycloak/pull/7076#discussion_r427139605", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <artifactId>keycloak-quarkus-server-deployment</artifactId>\n          \n          \n            \n                <name>Keycloak Quarkus Server Deployment</name>\n          \n          \n            \n                <artifactId>keycloak-quarkus-server-deployment</artifactId>", "author": "stianst", "createdAt": "2020-05-19T08:54:53Z", "path": "quarkus/deployment/pom.xml", "diffHunk": "@@ -10,124 +10,92 @@\n     </parent>\n     <modelVersion>4.0.0</modelVersion>\n \n-    <name>Keycloak Quarkus Extensions</name>\n-    <artifactId>keycloak-quarkus-extensions</artifactId>\n+    <artifactId>keycloak-quarkus-server-deployment</artifactId>", "originalCommit": "164773484e8c9559c3b1726fcfb1b319c823025a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzEzOTkwNA==", "url": "https://github.com/keycloak/keycloak/pull/7076#discussion_r427139904", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        <artifactId>quarkus-jdbc-mariadb</artifactId>\n          \n          \n            \n                        <artifactId>quarkus-jdbc-mariadb-deployment</artifactId>", "author": "stianst", "createdAt": "2020-05-19T08:55:18Z", "path": "quarkus/deployment/pom.xml", "diffHunk": "@@ -10,124 +10,92 @@\n     </parent>\n     <modelVersion>4.0.0</modelVersion>\n \n-    <name>Keycloak Quarkus Extensions</name>\n-    <artifactId>keycloak-quarkus-extensions</artifactId>\n+    <artifactId>keycloak-quarkus-server-deployment</artifactId>\n \n     <dependencies>\n         <dependency>\n-            <groupId>org.jboss.resteasy</groupId>\n-            <artifactId>resteasy-core</artifactId>\n-            <exclusions>\n-                <exclusion>\n-                    <groupId>log4j</groupId>\n-                    <artifactId>log4j</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>org.slf4j</groupId>\n-                    <artifactId>slf4j-api</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>org.slf4j</groupId>\n-                    <artifactId>slf4j-simple</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>org.jboss.spec.javax.servlet</groupId>\n-                    <artifactId>jboss-servlet-api_4.0_spec</artifactId>\n-                </exclusion>\n-            </exclusions>\n-        </dependency>\n-        <dependency>\n-            <groupId>org.apache.commons</groupId>\n-            <artifactId>commons-lang3</artifactId>\n-        </dependency>\n-        <dependency>\n-            <groupId>org.keycloak</groupId>\n-            <artifactId>keycloak-model-jpa</artifactId>\n-            <exclusions>\n-                <exclusion>\n-                    <groupId>*</groupId>\n-                    <artifactId>*</artifactId>\n-                </exclusion>\n-            </exclusions>\n-        </dependency>\n-        <dependency>\n-            <groupId>jakarta.persistence</groupId>\n-            <artifactId>jakarta.persistence-api</artifactId>\n-        </dependency>\n-        <dependency>\n-            <groupId>org.hibernate</groupId>\n-            <artifactId>hibernate-core</artifactId>\n-            <version>${hibernate.version}</version>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-core-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n-            <groupId>org.keycloak</groupId>\n-            <artifactId>keycloak-services</artifactId>\n-            <exclusions>\n-                <exclusion>\n-                    <groupId>org.jboss.spec.javax.servlet</groupId>\n-                    <artifactId>jboss-servlet-api_4.0_spec</artifactId>\n-                </exclusion>\n-            </exclusions>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-arc-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n             <groupId>org.keycloak</groupId>\n-            <artifactId>keycloak-server-spi-private</artifactId>\n+            <artifactId>keycloak-quarkus-server</artifactId>\n+            <version>${project.version}</version>\n         </dependency>\n         <dependency>\n-            <groupId>org.keycloak</groupId>\n-            <artifactId>keycloak-server-spi</artifactId>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-resteasy-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n-            <groupId>org.infinispan</groupId>\n-            <artifactId>infinispan-core</artifactId>\n-            <version>${infinispan.version}</version>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-resteasy-jackson-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n-            <groupId>org.infinispan</groupId>\n-            <artifactId>infinispan-commons</artifactId>\n-            <version>${infinispan.version}</version>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-hibernate-orm-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n             <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-agroal</artifactId>\n+            <artifactId>quarkus-jdbc-h2-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n-            <groupId>org.keycloak</groupId>\n-            <artifactId>keycloak-common</artifactId>\n-            <exclusions>\n-                <exclusion>\n-                    <groupId>*</groupId>\n-                    <artifactId>*</artifactId>\n-                </exclusion>\n-            </exclusions>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-jdbc-postgresql-deployment</artifactId>\n+            <version>${quarkus.version}</version>\n         </dependency>\n         <dependency>\n             <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-vertx-web</artifactId>\n+            <artifactId>quarkus-jdbc-mariadb</artifactId>", "originalCommit": "164773484e8c9559c3b1726fcfb1b319c823025a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE0MjM0Mw==", "url": "https://github.com/keycloak/keycloak/pull/7076#discussion_r427142343", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <name>Keycloak Quarkus Extensions</name>\n          \n          \n            \n                <artifactId>keycloak-quarkus-server</artifactId>\n          \n          \n            \n                <name>Keycloak Quarkus Server Extension</name>\n          \n          \n            \n                <artifactId>keycloak-quarkus-server</artifactId>", "author": "stianst", "createdAt": "2020-05-19T08:58:54Z", "path": "quarkus/runtime/pom.xml", "diffHunk": "@@ -0,0 +1,475 @@\n+<?xml version=\"1.0\"?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <parent>\n+        <artifactId>keycloak-quarkus-parent</artifactId>\n+        <groupId>org.keycloak</groupId>\n+        <version>11.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <name>Keycloak Quarkus Extensions</name>\n+    <artifactId>keycloak-quarkus-server</artifactId>", "originalCommit": "164773484e8c9559c3b1726fcfb1b319c823025a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE0MzA2Mg==", "url": "https://github.com/keycloak/keycloak/pull/7076#discussion_r427143062", "bodyText": "Is this correct? I would have thought -deployment dependencies should only be in the deployment POM", "author": "stianst", "createdAt": "2020-05-19T08:59:59Z", "path": "quarkus/runtime/pom.xml", "diffHunk": "@@ -0,0 +1,475 @@\n+<?xml version=\"1.0\"?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <parent>\n+        <artifactId>keycloak-quarkus-parent</artifactId>\n+        <groupId>org.keycloak</groupId>\n+        <version>11.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <name>Keycloak Quarkus Extensions</name>\n+    <artifactId>keycloak-quarkus-server</artifactId>\n+\n+    <dependencies>\n+        <!-- Quarkus -->\n+        <dependency>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-resteasy</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-resteasy-jackson</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-hibernate-orm</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-hibernate-orm-deployment</artifactId>", "originalCommit": "164773484e8c9559c3b1726fcfb1b319c823025a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4MjQwOQ==", "url": "https://github.com/keycloak/keycloak/pull/7076#discussion_r427182409", "bodyText": "Garbage, I'll remove.", "author": "pedroigor", "createdAt": "2020-05-19T10:03:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE0MzA2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE0NTMxNg==", "url": "https://github.com/keycloak/keycloak/pull/7076#discussion_r427145316", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <artifactId>keycloak-server</artifactId>\n          \n          \n            \n                <name>Keycloak Quarkus Server App</name>\n          \n          \n            \n                <artifactId>keycloak-quarkus-server-app</artifactId>\n          \n      \n    \n    \n  \n\nNot sure about the name, but would suggest keycloak-quarkus-server-app or keycloak-quarkus-server-launcher. We already have artifact with keycloak-server so needs to be something different.", "author": "stianst", "createdAt": "2020-05-19T09:03:24Z", "path": "quarkus/server/pom.xml", "diffHunk": "@@ -2,429 +2,58 @@\n <project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n          xmlns=\"http://maven.apache.org/POM/4.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n     <parent>\n         <artifactId>keycloak-quarkus-parent</artifactId>\n         <groupId>org.keycloak</groupId>\n         <version>11.0.0-SNAPSHOT</version>\n         <relativePath>../pom.xml</relativePath>\n     </parent>\n-    <modelVersion>4.0.0</modelVersion>\n+    \n+    <artifactId>keycloak-server</artifactId>", "originalCommit": "164773484e8c9559c3b1726fcfb1b319c823025a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f045933efa540fd2c84ccb432c0e24bfdaabbb1f", "url": "https://github.com/keycloak/keycloak/commit/f045933efa540fd2c84ccb432c0e24bfdaabbb1f", "message": "[KEYCLOAK-11784] - Quarkus Extension", "committedDate": "2020-05-19T10:27:47Z", "type": "forcePushed"}, {"oid": "88d6e15e9c6793655d336fa8fd37139c6c17a74e", "url": "https://github.com/keycloak/keycloak/commit/88d6e15e9c6793655d336fa8fd37139c6c17a74e", "message": "[KEYCLOAK-11784] - Quarkus Extension\n\nCo-authored-by: stianst <stianst@gmail.com>", "committedDate": "2020-05-19T10:30:12Z", "type": "commit"}, {"oid": "88d6e15e9c6793655d336fa8fd37139c6c17a74e", "url": "https://github.com/keycloak/keycloak/commit/88d6e15e9c6793655d336fa8fd37139c6c17a74e", "message": "[KEYCLOAK-11784] - Quarkus Extension\n\nCo-authored-by: stianst <stianst@gmail.com>", "committedDate": "2020-05-19T10:30:12Z", "type": "forcePushed"}]}