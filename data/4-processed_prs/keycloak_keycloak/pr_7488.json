{"pr_number": 7488, "pr_title": "KEYCLOAK-14137 Upgrade Authentication selector screen", "pr_createdAt": "2020-10-12T08:28:07Z", "pr_url": "https://github.com/keycloak/keycloak/pull/7488", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5OTMwNQ==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r503199305", "bodyText": "@Pepo48 Could you please remove the zocial css? There is no need for that anymore. It may avoid some merge conflicts.", "author": "mabartos", "createdAt": "2020-10-12T10:30:29Z", "path": "themes/src/main/resources/theme/keycloak/login/theme.properties", "diffHunk": "@@ -2,8 +2,7 @@ parent=base\n import=common/keycloak\n \n styles=css/login.css\n-stylesCommon=node_modules/patternfly/dist/css/patternfly.min.css node_modules/patternfly/dist/css/patternfly-additions.min.css lib/zocial/zocial.css\n-\n+stylesCommon=node_modules/patternfly/dist/css/patternfly.min.css web_modules/@patternfly/react-core/dist/styles/app.css web_modules/@patternfly/react-core/dist/styles/base.css node_modules/patternfly/dist/css/patternfly-additions.min.css lib/zocial/zocial.css", "originalCommit": "e36bf247414e0532d0ea8870b41c22ba84e54769", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzIxMDE3OQ==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r503210179", "bodyText": "@mabartos thanks for the review! Both issues should be fixed now.", "author": "Pepo48", "createdAt": "2020-10-12T10:51:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5OTMwNQ=="}], "type": "inlineReview"}, {"oid": "f6532f3bc5c5a1d5a180377a873cf6242a6a22dd", "url": "https://github.com/keycloak/keycloak/commit/f6532f3bc5c5a1d5a180377a873cf6242a6a22dd", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-10-12T10:48:10Z", "type": "forcePushed"}, {"oid": "f8a6fd352a0d671882e13687a4e90a689ae08695", "url": "https://github.com/keycloak/keycloak/commit/f8a6fd352a0d671882e13687a4e90a689ae08695", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-10-29T19:27:30Z", "type": "forcePushed"}, {"oid": "1aa8a17c92abc1c9171888f8a6b7ca5a5af10b21", "url": "https://github.com/keycloak/keycloak/commit/1aa8a17c92abc1c9171888f8a6b7ca5a5af10b21", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-10-29T19:44:48Z", "type": "forcePushed"}, {"oid": "57d9bc104481c5eb962fc0ddb41dab003b152f7f", "url": "https://github.com/keycloak/keycloak/commit/57d9bc104481c5eb962fc0ddb41dab003b152f7f", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-11-02T15:35:31Z", "type": "forcePushed"}, {"oid": "5aad9bfb95b2c84411c7397e7e0083f67088b1ed", "url": "https://github.com/keycloak/keycloak/commit/5aad9bfb95b2c84411c7397e7e0083f67088b1ed", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-11-02T17:10:26Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Mjg2OA==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r517392868", "bodyText": "I'm afraid I have to bug you a bit more with IE. It seems there's some overflow when the text is longer.", "author": "vmuzikar", "createdAt": "2020-11-04T14:41:39Z", "path": "themes/src/main/resources/theme/keycloak/login/resources/css/login.css", "diffHunk": "@@ -574,6 +574,81 @@ ul#kc-totp-supported-apps {\n     width: 40%;\n }\n \n+/* Internet Explorer 11 compatibility workaround for select-authenticator screen */", "originalCommit": "5aad9bfb95b2c84411c7397e7e0083f67088b1ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDE4MzIyMg==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r520183222", "bodyText": "Fixed by adding:\n\n  \n    \n      keycloak/themes/src/main/resources/theme/keycloak/login/resources/css/login.css\n    \n    \n        Lines 605 to 607\n      in\n      4a2849b\n    \n    \n    \n    \n\n        \n          \n           .pf-l-stack { \n        \n\n        \n          \n               flex-basis: 100%; \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nIt just seems to be another IE specific bug/feature, where it needs the explicit request[1].\n[1] https://stackoverflow.com/a/35113633", "author": "Pepo48", "createdAt": "2020-11-09T23:19:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Mjg2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Njg3NA==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r517396874", "bodyText": "This is very subjective (as usually with UI stuff ;)) and it's definitely not a blocker but I think it looks a bit awkward that the blue border is just on top. Maybe it'd look better if it would be at the bottom as well? I don't know... Is there any PF4 best practice on this?", "author": "vmuzikar", "createdAt": "2020-11-04T14:47:04Z", "path": "themes/src/main/resources/theme/keycloak/login/resources/css/login.css", "diffHunk": "@@ -574,6 +574,81 @@ ul#kc-totp-supported-apps {\n     width: 40%;\n }\n \n+/* Internet Explorer 11 compatibility workaround for select-authenticator screen */\n+@media all and (-ms-high-contrast: none),\n+(-ms-high-contrast: active) {\n+    .select-auth-box-parent:hover .select-auth-box-headline,\n+    .select-auth-box-parent:hover .select-auth-box-icon,\n+    .select-auth-box-parent:hover .select-auth-box-arrow,\n+    .select-auth-box-parent:hover .select-auth-box-desc {\n+        color: #06c;\n+    }\n+    .select-auth-box-parent {\n+        border-top: 1px solid #f0f0f0;\n+        padding-top: 1rem;\n+        padding-bottom: 1rem;\n+        cursor: pointer;\n+    }\n+    .select-auth-box-parent:hover {\n+        border-top: 1px solid #06c;\n+    }\n+\n+    .select-auth-box-headline {\n+        font-size: 16px;\n+        font-weight: bold;\n+    }\n+\n+    .select-auth-box-desc {\n+        font-size: 14px;\n+    }\n+}\n+/* End of IE11 workaround for select-authenticator screen */\n+\n+.select-auth-box-arrow{\n+    display: flex;\n+    align-items: center;\n+    margin-right: 2rem;\n+}\n+\n+.select-auth-box-icon{\n+    display: flex;\n+    flex: 0 0 2em;\n+    justify-content: center;\n+    margin-right: 1rem;\n+    margin-left: 3rem;\n+}\n+\n+.select-auth-box-parent:hover .select-auth-box-headline,\n+.select-auth-box-parent:hover .select-auth-box-icon,\n+.select-auth-box-parent:hover .select-auth-box-arrow,\n+.select-auth-box-parent:hover .select-auth-box-desc{\n+    color: var(--pf-global--primary-color--100);\n+}\n+\n+.select-auth-box-parent{\n+    border-top: 1px solid var(--pf-global--palette--black-200);\n+    padding-top: 1rem;\n+    padding-bottom: 1rem;\n+    cursor: pointer;\n+}\n+\n+.select-auth-box-parent:hover{\n+    border-top: 1px solid var(--pf-global--primary-color--100);", "originalCommit": "5aad9bfb95b2c84411c7397e7e0083f67088b1ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU2NTQ3NA==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r517565474", "bodyText": "@vmuzikar: Martin asked me the exact same question couple days ago. I remember that during the initial polishing in May I removed the horizontal bottom line based on the comment[1] from @stianst but I left the top horizontal line based on PF guidelines[2]:\n\nSo I don't know now, any thoughts?\n[1] https://issues.redhat.com/browse/KEYCLOAK-12824?focusedCommentId=14084158&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14084158\n[2] https://www.patternfly.org/v4/components/login-page/design-guidelines/", "author": "Pepo48", "createdAt": "2020-11-04T19:00:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Njg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzg1NDM0NQ==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r517854345", "bodyText": "I wouldn't add the bottom line to normal (non-hover) state to keep it compliant with the PF4 guidelines.\nSo maybe we could take some other approach for the hover effect (which is not covered in the guideline if I'm correct). What about adding a light blue background color to the button on hover (instead of changing the line and text color)? WDYT @mabartos @Pepo48?", "author": "vmuzikar", "createdAt": "2020-11-05T08:01:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Njg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk3NDAzMQ==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r528974031", "bodyText": "@vmuzikar (Cc: @mabartos) what about this approach?\n\nI pushed it here in a separate commit to make the changes more visible, I will squash it once we agree on the final design :)\nccca13f#diff-cc2b625f843865ee5186a5b77258a0b2fb66c0754b9e7e2be0bd0247408015e2", "author": "Pepo48", "createdAt": "2020-11-23T20:23:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Njg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ2MjExMA==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r529462110", "bodyText": "@vmuzikar @mabartos Haley from PF team suggested that we might to take inspiration from the hover effect of selectable-tabs PF component [1]. But I guess it's up to us to make the final decision :)\n[1] https://www.patternfly.org/v4/components/data-list/#selectable-rows", "author": "Pepo48", "createdAt": "2020-11-24T11:08:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Njg3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4NzYzMw==", "url": "https://github.com/keycloak/keycloak/pull/7488#discussion_r529487633", "bodyText": "@Pepo48 I'm afraid it's not entirely up to us. :( We need to stick whatever PF suggests.", "author": "vmuzikar", "createdAt": "2020-11-24T11:52:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Njg3NA=="}], "type": "inlineReview"}, {"oid": "4a2849b1467b8567a48328a776acef004b568e6e", "url": "https://github.com/keycloak/keycloak/commit/4a2849b1467b8567a48328a776acef004b568e6e", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-11-09T23:08:47Z", "type": "forcePushed"}, {"oid": "ccca13f8d6331a59829fdf038ea29f8a196ea98a", "url": "https://github.com/keycloak/keycloak/commit/ccca13f8d6331a59829fdf038ea29f8a196ea98a", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* hover effect adjusted according to the feedback\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-11-23T20:09:45Z", "type": "forcePushed"}, {"oid": "bed40d352587bc87d48b99c5e856090cb5963c48", "url": "https://github.com/keycloak/keycloak/commit/bed40d352587bc87d48b99c5e856090cb5963c48", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-11-24T19:45:46Z", "type": "commit"}, {"oid": "bed40d352587bc87d48b99c5e856090cb5963c48", "url": "https://github.com/keycloak/keycloak/commit/bed40d352587bc87d48b99c5e856090cb5963c48", "message": "KEYCLOAK-14137 Upgrade Authentication selector screen\n\n* edited related css and ftl theme resources\n* added IE11 compatibility support\n* fixed affected tests\n\nSigned-off-by: Peter Zaoral <pzaoral@redhat.com>", "committedDate": "2020-11-24T19:45:46Z", "type": "forcePushed"}]}