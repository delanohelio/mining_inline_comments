{"pr_number": 7078, "pr_title": "KEYCLOAK-14229 Add GitHub Actions", "pr_createdAt": "2020-05-19T08:18:40Z", "pr_url": "https://github.com/keycloak/keycloak/pull/7078", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NDEwMw==", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427184103", "bodyText": "@stianst I believe we need the pull request event here. Something like:\non: [push, pull_request]", "author": "abstractj", "createdAt": "2020-05-19T10:06:13Z", "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push]", "originalCommit": "90504b744fbe3e7144d300516d65e820ad1a3db0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI4MzcwNQ==", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427283705", "bodyText": "Updated", "author": "stianst", "createdAt": "2020-05-19T13:02:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE4NDEwMw=="}], "type": "inlineReview"}, {"oid": "44dbfd96f4223556a4913e7dcd3c6deaa4bea34c", "url": "https://github.com/keycloak/keycloak/commit/44dbfd96f4223556a4913e7dcd3c6deaa4bea34c", "message": "KEYCLOAK-14229 Add GitHub Actions", "committedDate": "2020-05-19T13:02:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ==", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427594371", "bodyText": "The GH actions documentation suggests something like:\n- name: Cache Maven packages\n    uses: actions/cache@v1\n    with:\n      path: ~/.m2\n      key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}\n      restore-keys: ${{ runner.os }}-m2\n\nNot sure what is the benefit of n1hility/cache@v2 but I'd assume that https://github.com/marketplace/actions/cache is the GH supported version.", "author": "abstractj", "createdAt": "2020-05-19T20:55:30Z", "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: Keycloak CI\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  build:\n+    name: Build\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - uses: actions/setup-java@v1\n+        with:\n+          java-version: 1.8\n+      - name: Compute cache restore key\n+        # Always recompute on a push so that the maven repo doesnt grow indefinitely with old versions\n+        run: |\n+          if ${{ github.event_name == 'pull_request' }}; then echo \"::set-env name=COMPUTED_RESTORE_KEY::q2maven-\"; fi\n+      - name: Cache Maven Repository\n+        id: cache-maven\n+        uses: n1hility/cache@v2", "originalCommit": "44dbfd96f4223556a4913e7dcd3c6deaa4bea34c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzc2MDM4Nw==", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427760387", "bodyText": "I stole this from Quarkus - I'm not sure either. Looks like it's working fine though.", "author": "stianst", "createdAt": "2020-05-20T06:03:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzNzM5NQ==", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r427937395", "bodyText": "From what I tried, yes. I was wondering if would be better to use the official release, but that's not a deal breaker for me.", "author": "abstractj", "createdAt": "2020-05-20T11:31:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NDg5Ng==", "url": "https://github.com/keycloak/keycloak/pull/7078#discussion_r428084896", "bodyText": "I just assumed that Quarkus folks had some good reason, but happy to just use the default as well. Let's switch to that", "author": "stianst", "createdAt": "2020-05-20T15:01:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU5NDM3MQ=="}], "type": "inlineReview"}, {"oid": "7c2137ae40884821eb2e96cffed1417e3adfcca8", "url": "https://github.com/keycloak/keycloak/commit/7c2137ae40884821eb2e96cffed1417e3adfcca8", "message": "Tweaks", "committedDate": "2020-05-28T12:26:08Z", "type": "forcePushed"}, {"oid": "b16283fff67c3681881d716bc79af9153e21a95d", "url": "https://github.com/keycloak/keycloak/commit/b16283fff67c3681881d716bc79af9153e21a95d", "message": "KEYCLOAK-14229 Add GitHub Actions", "committedDate": "2020-05-29T09:39:44Z", "type": "forcePushed"}, {"oid": "908c4073b59e9e0508d281b96ec16941429346c0", "url": "https://github.com/keycloak/keycloak/commit/908c4073b59e9e0508d281b96ec16941429346c0", "message": "KEYCLOAK-14229 Add GitHub Actions", "committedDate": "2020-06-02T06:10:17Z", "type": "forcePushed"}, {"oid": "34ca1f1d290e9c638790f5d57a39131a82a17a36", "url": "https://github.com/keycloak/keycloak/commit/34ca1f1d290e9c638790f5d57a39131a82a17a36", "message": "KEYCLOAK-14229 Add GitHub Actions", "committedDate": "2020-06-05T10:58:11Z", "type": "commit"}, {"oid": "34ca1f1d290e9c638790f5d57a39131a82a17a36", "url": "https://github.com/keycloak/keycloak/commit/34ca1f1d290e9c638790f5d57a39131a82a17a36", "message": "KEYCLOAK-14229 Add GitHub Actions", "committedDate": "2020-06-05T10:58:11Z", "type": "forcePushed"}]}