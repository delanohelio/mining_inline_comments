{"pr_number": 6763, "pr_title": "[KEYCLOAK-12161] \"Back to Application\" link is shown with link to current page", "pr_createdAt": "2020-02-11T07:17:28Z", "pr_url": "https://github.com/keycloak/keycloak/pull/6763", "timeline": [{"oid": "71f2d546cec1b40c78d4e86a777da2e12e4b6e2b", "url": "https://github.com/keycloak/keycloak/commit/71f2d546cec1b40c78d4e86a777da2e12e4b6e2b", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-11T17:39:18Z", "type": "forcePushed"}, {"oid": "720646a2e36dd46256630bc8b7329afa03fb29b1", "url": "https://github.com/keycloak/keycloak/commit/720646a2e36dd46256630bc8b7329afa03fb29b1", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-11T17:43:10Z", "type": "forcePushed"}, {"oid": "bf5b34f53a4a453eb82edc1813d4d12fb5880187", "url": "https://github.com/keycloak/keycloak/commit/bf5b34f53a4a453eb82edc1813d4d12fb5880187", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-11T17:49:17Z", "type": "forcePushed"}, {"oid": "5cc1436f68aab80e4a5f5386dd9b973e5f573646", "url": "https://github.com/keycloak/keycloak/commit/5cc1436f68aab80e4a5f5386dd9b973e5f573646", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-11T18:08:26Z", "type": "forcePushed"}, {"oid": "4dfbaef7aa44c9fa7ab3c53a8f826695cd28d687", "url": "https://github.com/keycloak/keycloak/commit/4dfbaef7aa44c9fa7ab3c53a8f826695cd28d687", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-11T19:06:16Z", "type": "forcePushed"}, {"oid": "46909931fa04f7a002a5e746b5fd89bad7878f2b", "url": "https://github.com/keycloak/keycloak/commit/46909931fa04f7a002a5e746b5fd89bad7878f2b", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T00:14:46Z", "type": "forcePushed"}, {"oid": "d8d35784437cffa1ff86a1e224e67ccde1329512", "url": "https://github.com/keycloak/keycloak/commit/d8d35784437cffa1ff86a1e224e67ccde1329512", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T00:20:33Z", "type": "forcePushed"}, {"oid": "4854988b8eb899520fb7c58bdf49e90c4e1e481e", "url": "https://github.com/keycloak/keycloak/commit/4854988b8eb899520fb7c58bdf49e90c4e1e481e", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T06:29:53Z", "type": "forcePushed"}, {"oid": "bd0cc10d148d046949078ab00c732063875a8262", "url": "https://github.com/keycloak/keycloak/commit/bd0cc10d148d046949078ab00c732063875a8262", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T18:32:52Z", "type": "forcePushed"}, {"oid": "391316894bcf1140fe9a980074de6d49da062b1a", "url": "https://github.com/keycloak/keycloak/commit/391316894bcf1140fe9a980074de6d49da062b1a", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T18:37:07Z", "type": "forcePushed"}, {"oid": "be91c5880844d9022fc6e6a1315834e9c07f5d2e", "url": "https://github.com/keycloak/keycloak/commit/be91c5880844d9022fc6e6a1315834e9c07f5d2e", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T18:42:34Z", "type": "forcePushed"}, {"oid": "2739cef6c1bb25756cdee9ae17c933625c3155e9", "url": "https://github.com/keycloak/keycloak/commit/2739cef6c1bb25756cdee9ae17c933625c3155e9", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T19:02:49Z", "type": "forcePushed"}, {"oid": "0fac230d9b340ba6f125ef008c08cde8f0143972", "url": "https://github.com/keycloak/keycloak/commit/0fac230d9b340ba6f125ef008c08cde8f0143972", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T19:04:04Z", "type": "forcePushed"}, {"oid": "dd7185efbe0e67fd4b1871ae8c10fed9e1c89477", "url": "https://github.com/keycloak/keycloak/commit/dd7185efbe0e67fd4b1871ae8c10fed9e1c89477", "message": "[KEYCLOAK-12161] Set baseURL to null instead of empty string", "committedDate": "2020-02-12T19:05:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkwNTA0MQ==", "url": "https://github.com/keycloak/keycloak/pull/6763#discussion_r378905041", "bodyText": "Just a small nitpick. I think we could just use single .addRedirectUri(\"*\").", "author": "vmuzikar", "createdAt": "2020-02-13T14:46:13Z", "path": "testsuite/integration-arquillian/tests/base/src/test/java/org/keycloak/testsuite/forms/MultipleTabsLoginTest.java", "diffHunk": "@@ -368,4 +373,53 @@ public void loginWithSameClientDifferentStatesLoginInTab2() throws Exception {\n         assertCurrentUrlStartsWith(redirectUri2);\n         Assert.assertTrue(currentUrl.contains(\"state2\"));\n     }\n+\n+    // KEYCLOAK-12161\n+    @Test\n+    public void testEmptyBaseUrl() throws Exception {\n+        String clientUuid = KeycloakModelUtils.generateId();\n+        ClientRepresentation emptyBaseclient = ClientBuilder.create()\n+                .clientId(\"empty-baseurl-client\")\n+                .id(clientUuid)\n+                .enabled(true)\n+                .baseUrl(\"\")\n+                .addRedirectUri(\"http://localhost:8180/auth/realms/master/app/auth/*\")\n+                .addRedirectUri(\"https://localhost:8543/auth/realms/master/app/auth/*\")", "originalCommit": "dd7185efbe0e67fd4b1871ae8c10fed9e1c89477", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODk5NjIyOQ==", "url": "https://github.com/keycloak/keycloak/pull/6763#discussion_r378996229", "bodyText": "Ok, I'll fix that.", "author": "douglaspalmer", "createdAt": "2020-02-13T17:05:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkwNTA0MQ=="}], "type": "inlineReview"}, {"oid": "838f5b9b6b79942a08ed840e2642576262ee74d9", "url": "https://github.com/keycloak/keycloak/commit/838f5b9b6b79942a08ed840e2642576262ee74d9", "message": "[KEYCLOAK-12161] Deal with empty baseurl strings in back to application link", "committedDate": "2020-02-13T18:04:12Z", "type": "forcePushed"}, {"oid": "f2f30a616a4f0203e447bd593d15056cc354c098", "url": "https://github.com/keycloak/keycloak/commit/f2f30a616a4f0203e447bd593d15056cc354c098", "message": "[KEYCLOAK-12161] \"Back to Application\" link is shown with link to current page", "committedDate": "2020-02-13T19:29:29Z", "type": "commit"}, {"oid": "f2f30a616a4f0203e447bd593d15056cc354c098", "url": "https://github.com/keycloak/keycloak/commit/f2f30a616a4f0203e447bd593d15056cc354c098", "message": "[KEYCLOAK-12161] \"Back to Application\" link is shown with link to current page", "committedDate": "2020-02-13T19:29:29Z", "type": "forcePushed"}]}