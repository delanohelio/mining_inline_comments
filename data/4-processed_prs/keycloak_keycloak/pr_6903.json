{"pr_number": 6903, "pr_title": "KEYCLOAK-5162 Add index to even table", "pr_createdAt": "2020-03-17T11:12:57Z", "pr_url": "https://github.com/keycloak/keycloak/pull/6903", "timeline": [{"oid": "13cf5074cb24a5375fd8523c4cf700a13d4baa73", "url": "https://github.com/keycloak/keycloak/commit/13cf5074cb24a5375fd8523c4cf700a13d4baa73", "message": "KEYCLOAK-5162 Add index to even table", "committedDate": "2020-03-17T12:14:45Z", "type": "commit"}, {"oid": "13cf5074cb24a5375fd8523c4cf700a13d4baa73", "url": "https://github.com/keycloak/keycloak/commit/13cf5074cb24a5375fd8523c4cf700a13d4baa73", "message": "KEYCLOAK-5162 Add index to even table", "committedDate": "2020-03-17T12:14:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg4MTI3Nw==", "url": "https://github.com/keycloak/keycloak/pull/6903#discussion_r491881277", "bodyText": "@stianst @hmlnarik I am not sure if this is the right place to ask but why didn't we add user id as well? (i.e. (realm_id, user_id, event_time)) We are having issues in auth/realms/{realm}/account/log page, queries are so slow and sometimes even timed out. (Keycloak version: 11.0.2)", "author": "hisener", "createdAt": "2020-09-21T08:49:24Z", "path": "model/jpa/src/main/resources/META-INF/jpa-changelog-9.0.1.xml", "diffHunk": "@@ -45,4 +45,12 @@\n         <addUniqueConstraint columnNames=\"REALM_ID,PARENT_GROUP,NAME\" constraintName=\"SIBLING_NAMES\" tableName=\"KEYCLOAK_GROUP\"/>\n     </changeSet>\n \n+    <changeSet author=\"keycloak\" id=\"9.0.1-add-index-to-events\">\n+        <createIndex indexName=\"IDX_EVENT_TIME\" tableName=\"EVENT_ENTITY\">\n+            <column name=\"REALM_ID\" type=\"VARCHAR(255)\"/>\n+            <column name=\"EVENT_TIME\" type=\"BIGINT\"/>", "originalCommit": "13cf5074cb24a5375fd8523c4cf700a13d4baa73", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}