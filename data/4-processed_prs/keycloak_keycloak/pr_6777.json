{"pr_number": 6777, "pr_title": "KEYCLOAK-11129 coalesce possible null values", "pr_createdAt": "2020-02-12T13:07:45Z", "pr_url": "https://github.com/keycloak/keycloak/pull/6777", "timeline": [{"oid": "94600b79c891d31963632f530405efdc4145a72a", "url": "https://github.com/keycloak/keycloak/commit/94600b79c891d31963632f530405efdc4145a72a", "message": "KEYCLOAK-11129 coalesce possible null values", "committedDate": "2020-02-13T11:04:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgwMjc0NA==", "url": "https://github.com/keycloak/keycloak/pull/6777#discussion_r378802744", "bodyText": "Can you explain these changes?", "author": "stianst", "createdAt": "2020-02-13T11:25:29Z", "path": "testsuite/integration-arquillian/tests/base/src/main/java/org/keycloak/testsuite/util/UIUtils.java", "diffHunk": "@@ -133,6 +133,10 @@ public static String getTextInputValue(WebElement input) {\n     }\n \n     public static void setTextInputValue(WebElement input, String value) {\n+        if (StringUtils.isEmpty(getTextFromElement(input)) && StringUtils.isEmpty(value)) {", "originalCommit": "94600b79c891d31963632f530405efdc4145a72a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgwNjU2Mg==", "url": "https://github.com/keycloak/keycloak/pull/6777#discussion_r378806562", "bodyText": "Of course I can, it always adds a \"1\" in a field and then removes it even if the field is empty, that means that angular will send a empty string to the backend instead of omitting the value. This is why bugs like this could slipped through.", "author": "edewit", "createdAt": "2020-02-13T11:34:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgwMjc0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgxMjM4MA==", "url": "https://github.com/keycloak/keycloak/pull/6777#discussion_r378812380", "bodyText": "Strictly speaking the admin console shouldn't send an empty string, which we need to address in the new admin console.\nNot sure it is a good idea to add this to all fields that are set, as it would then behave differently to how a user uses the console. I would rather think we should add some specific tests for these cases.\nThe bug here could have been detected by better testing of the REST APIs though, so don't need testing in the admin console really.", "author": "stianst", "createdAt": "2020-02-13T11:47:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgwMjc0NA=="}], "type": "inlineReview"}, {"oid": "2b1115adf1b6bd4d28f37ab798a3ccc7e91ef163", "url": "https://github.com/keycloak/keycloak/commit/2b1115adf1b6bd4d28f37ab798a3ccc7e91ef163", "message": "KEYCLOAK-11129 coalesce possible null values", "committedDate": "2020-02-13T15:45:47Z", "type": "forcePushed"}, {"oid": "95f32ca6fc57bbb1436d257ac74f7219248e2157", "url": "https://github.com/keycloak/keycloak/commit/95f32ca6fc57bbb1436d257ac74f7219248e2157", "message": "KEYCLOAK-11129 coalesce possible null values", "committedDate": "2020-02-13T15:47:49Z", "type": "commit"}, {"oid": "95f32ca6fc57bbb1436d257ac74f7219248e2157", "url": "https://github.com/keycloak/keycloak/commit/95f32ca6fc57bbb1436d257ac74f7219248e2157", "message": "KEYCLOAK-11129 coalesce possible null values", "committedDate": "2020-02-13T15:47:49Z", "type": "forcePushed"}]}