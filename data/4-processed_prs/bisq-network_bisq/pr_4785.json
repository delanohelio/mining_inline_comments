{"pr_number": 4785, "pr_title": "Touch-ups to the DAO BSQ Supply page", "pr_createdAt": "2020-11-12T10:07:48Z", "pr_url": "https://github.com/bisq-network/bisq/pull/4785", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0MTk2Mw==", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r528541963", "bodyText": "If you want to remove it just get rid of it completely \ud83d\ude04", "author": "ripcurlx", "createdAt": "2020-11-23T08:44:57Z", "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -291,85 +298,75 @@ private void createSupplyLockedInformation() {\n                 Res.get(\"dao.factsAndFigures.supply.totalConfiscatedAmount\")).second;\n     }\n \n+    // chart #1 (top)\n     private Node createBSQIssuedVsBurntChart(\n-            XYChart.Series<Number, Number> seriesBSQIssuedMonthly,\n-            XYChart.Series<Number, Number> seriesBSQBurntMonthly\n+        XYChart.Series<Number, Number> seriesBSQIssuedMonthly,\n+        XYChart.Series<Number, Number> seriesBSQBurntMonthly\n     ) {\n-        Supplier<NumberAxis> makeXAxis = () -> {\n-            NumberAxis xAxis = new NumberAxis();\n-            configureAxis(xAxis);\n-            xAxis.setTickLabelFormatter(getTimestampTickLabelFormatter(\"MMM uu\"));\n-            return xAxis;\n-        };\n+        xAxisChart1 = new NumberAxis();\n+        configureAxis(xAxisChart1);\n+        xAxisChart1.setLabel(\"Month\");\n+        xAxisChart1.setTickLabelFormatter(getMonthTickLabelFormatter(\"MM\\nyyyy\"));\n+        addTickMarkLabelCssClass(xAxisChart1, \"axis-tick-mark-text-node\");\n \n-        Supplier<NumberAxis> makeYAxis = () -> {\n-            NumberAxis yAxis = new NumberAxis();\n-            configureYAxis(yAxis);\n-            yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n-            return yAxis;\n-        };\n-\n-        var chart = new LineChart<>(makeXAxis.get(), makeYAxis.get());\n+        NumberAxis yAxis = new NumberAxis();\n+        configureYAxis(yAxis);\n+        yAxis.setLabel(\"BSQ\");\n+        yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n \n+        var chart = new LineChart<>(xAxisChart1, yAxis);\n         configureChart(chart);\n-        chart.setCreateSymbols(false);\n-\n-        chart.getData().addAll(List.of(seriesBSQIssuedMonthly, seriesBSQBurntMonthly));\n-\n         chart.setLegendVisible(true);\n+        chart.setCreateSymbols(true);\n+\n+        chart.getData().addAll(seriesBSQIssuedMonthly, seriesBSQBurntMonthly);\n \n         return chart;\n     }\n \n-    private Node createBSQIssuedChart(XYChart.Series<Number, Number> series) {\n-        NumberAxis xAxis = new NumberAxis();\n-        configureAxis(xAxis);\n-        xAxis.setTickLabelFormatter(getTimestampTickLabelFormatter(\"MMM uu\"));\n+    // chart #2 (middle) - removed\n+    // private Node createBSQIssuedChart(XYChart.Series<Number, Number> series) {\n+    //     NumberAxis xAxis = new NumberAxis();\n+    //     configureAxis(xAxis);\n+    //     xAxis.setTickLabelFormatter(getTimestampTickLabelFormatter(\"MMM uu\"));\n \n-        NumberAxis yAxis = new NumberAxis();\n-        configureYAxis(yAxis);\n-        yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n+    //     NumberAxis yAxis = new NumberAxis();\n+    //     configureYAxis(yAxis);\n+    //     yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n \n-        AreaChart<Number, Number> chart = new AreaChart<>(xAxis, yAxis);\n-\n-        configureChart(chart);\n-        chart.setCreateSymbols(false);\n+    //     AreaChart<Number, Number> chart = new AreaChart<>(xAxis, yAxis);\n+    //     configureChart(chart);\n+    //     chart.setCreateSymbols(true);\n \n-        chart.getData().add(series);\n+    //     chart.getData().add(series);\n \n-        return chart;\n-    }\n+    //     return chart;\n+    // }", "originalCommit": "9fcd50c13580bd6f988019fcd603ad92e06e3a08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU3OTE0MA==", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r528579140", "bodyText": "OK. Done.\nThanks for the input. Hesitated to do by myself.", "author": "deusmax", "createdAt": "2020-11-23T09:50:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0MTk2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTM3Mg==", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531059372", "bodyText": "Could you please remove this as well?", "author": "ripcurlx", "createdAt": "2020-11-26T14:19:25Z", "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -108,7 +111,7 @@\n     private XYChart.Series<Number, Number> seriesBSQIssuedMonthly, seriesBSQBurntMonthly, seriesBSQBurntDaily,\n             seriesBSQBurntDailyMA;\n \n-    private XYChart.Series<Number, Number> seriesBSQIssuedMonthly2;\n+    // private XYChart.Series<Number, Number> seriesBSQIssuedMonthly2;", "originalCommit": "d66383e175290b83e1b6f196fd1bf721c5a5648c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTUyNw==", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531059527", "bodyText": "Could you please remove this as well?", "author": "ripcurlx", "createdAt": "2020-11-26T14:19:40Z", "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -199,8 +205,8 @@ private void initializeSeries() {\n         // Because Series cannot be reused in multiple charts, we create a\n         // \"second\" Series and populate it at the same time as the original.\n         // Some other solutions: https://stackoverflow.com/questions/49770442\n-        seriesBSQIssuedMonthly2 = new XYChart.Series<>();\n-        seriesBSQIssuedMonthly2.setName(issuedLabel);\n+        // seriesBSQIssuedMonthly2 = new XYChart.Series<>();\n+        // seriesBSQIssuedMonthly2.setName(issuedLabel);", "originalCommit": "d66383e175290b83e1b6f196fd1bf721c5a5648c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTcyOQ==", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531059729", "bodyText": "Could you please remove this as well?", "author": "ripcurlx", "createdAt": "2020-11-26T14:19:59Z", "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -630,7 +657,9 @@ private void updateBSQIssuedMonthly() {\n                 .collect(Collectors.toList());\n \n         seriesBSQIssuedMonthly.getData().setAll(updatedAddedBSQ);\n-        seriesBSQIssuedMonthly2.getData().setAll(updatedAddedBSQ);\n+        // seriesBSQIssuedMonthly2.getData().setAll(updatedAddedBSQ);", "originalCommit": "d66383e175290b83e1b6f196fd1bf721c5a5648c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE0NDM2Mw==", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531144363", "bodyText": "Removed all.", "author": "deusmax", "createdAt": "2020-11-26T16:48:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTcyOQ=="}], "type": "inlineReview"}, {"oid": "9d8939c0ca7a8bc1d91131b6d58c03e424dbae5c", "url": "https://github.com/bisq-network/bisq/commit/9d8939c0ca7a8bc1d91131b6d58c03e424dbae5c", "message": "Touch ups on the DAO BSQ supply page.\n\n * Formatting changes to chart lines and axes.\n * Removed middle chart as it displays no\n   new info.\n * Function getMonthTickLabelFormatter rounds the\n   tick label display to the nearest month.\n   Only used for chart1.\n * New variable chart1XBounds to keep track of\n   chart1 X-axis limits, as autoRanging set false.", "committedDate": "2020-11-26T16:58:14Z", "type": "commit"}]}