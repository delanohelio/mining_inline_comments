{"pr_number": 288, "pr_title": "QFJ-375 - configurable timeout multiplier", "pr_createdAt": "2020-05-15T09:30:51Z", "pr_url": "https://github.com/quickfix-j/quickfixj/pull/288", "timeline": [{"oid": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "url": "https://github.com/quickfix-j/quickfixj/commit/810ba9d4486753ddd7426d3bd4c90899824b34e3", "message": "QFJ-375 - configurable timeout multiplier", "committedDate": "2020-05-15T09:17:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMDcyNw==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r425710727", "bodyText": "I don't know if I made it worst by clarifying the final coefficient values as for TestRequestDelayMultiplier there is also number of requests variable which might require to look in in the code anyway.", "author": "the-thing", "createdAt": "2020-05-15T10:27:12Z", "path": "quickfixj-core/src/main/doc/usermanual/usage/configuration.html", "diffHunk": "@@ -1285,11 +1285,21 @@ <H3>QuickFIX Settings</H3>\n   <TR ALIGN=\"left\" VALIGN=\"middle\">\n     <TD><I>TestRequestDelayMultiplier</I></TD>\n     <TD>Fraction of the heartbeat interval which defines the additional time to wait\n-    if a TestRequest sent after a missing heartbeat times out.\n+    if a TestRequest sent after a missing heartbeat times out (final coefficient value is equal to", "originalCommit": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMTIwMw==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r425711203", "bodyText": "The default hardcoded values was 2.4, but +1 is always done in the code the same as for TestRequestDelayMultiplier", "author": "the-thing", "createdAt": "2020-05-15T10:28:07Z", "path": "quickfixj-core/src/main/doc/usermanual/usage/configuration.html", "diffHunk": "@@ -1285,11 +1285,21 @@ <H3>QuickFIX Settings</H3>\n   <TR ALIGN=\"left\" VALIGN=\"middle\">\n     <TD><I>TestRequestDelayMultiplier</I></TD>\n     <TD>Fraction of the heartbeat interval which defines the additional time to wait\n-    if a TestRequest sent after a missing heartbeat times out.\n+    if a TestRequest sent after a missing heartbeat times out (final coefficient value is equal to\n+    TestRequestDelayMultiplier + 1.0).\n     </TD>\n-    <TD>0..1</TD>\n+    <TD>any non-negative value</TD>\n     <TD>0.5</TD>\n   </TR>\n+  <TR ALIGN=\"left\" VALIGN=\"middle\">\n+      <TD><I>HeartBeatTimeoutMultiplier</I></TD>\n+      <TD>Fraction of the heartbeat interval which defines the additional time to wait\n+      since the last message was received before disconnecting (final coefficient value is equal to\n+      HeartBeatTimeoutMultiplier + 1.0).\n+      </TD>\n+      <TD>any non-negative value</TD>\n+      <TD>1.4</TD>", "originalCommit": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxMTY4OA==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r425711688", "bodyText": "This has only informative value as there were no checks anyway.", "author": "the-thing", "createdAt": "2020-05-15T10:29:11Z", "path": "quickfixj-core/src/main/doc/usermanual/usage/configuration.html", "diffHunk": "@@ -1285,11 +1285,21 @@ <H3>QuickFIX Settings</H3>\n   <TR ALIGN=\"left\" VALIGN=\"middle\">\n     <TD><I>TestRequestDelayMultiplier</I></TD>\n     <TD>Fraction of the heartbeat interval which defines the additional time to wait\n-    if a TestRequest sent after a missing heartbeat times out.\n+    if a TestRequest sent after a missing heartbeat times out (final coefficient value is equal to\n+    TestRequestDelayMultiplier + 1.0).\n     </TD>\n-    <TD>0..1</TD>\n+    <TD>any non-negative value</TD>", "originalCommit": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxODYzOQ==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427318639", "bodyText": "Just a nitpick: could we remove the access modifier to enable access from within the package?", "author": "chrjohn", "createdAt": "2020-05-19T13:52:06Z", "path": "quickfixj-core/src/test/java/quickfix/MockSystemTimeSource.java", "diffHunk": "@@ -40,7 +40,7 @@ public void setSystemTimes(long[] times) {\n         systemTimes = times;\n     }\n \n-    private void setSystemTimes(long time) {\n+    public void setSystemTimes(long time) {", "originalCommit": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM5OTMzNg==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427399336", "bodyText": "No problem. Done.", "author": "the-thing", "createdAt": "2020-05-19T15:35:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxODYzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMxODY1Ng==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427318656", "bodyText": "Just a nitpick: could we remove the access modifier to enable access from within the package?", "author": "chrjohn", "createdAt": "2020-05-19T13:52:08Z", "path": "quickfixj-core/src/test/java/quickfix/MockSystemTimeSource.java", "diffHunk": "@@ -40,7 +40,7 @@ public void setSystemTimes(long[] times) {\n         systemTimes = times;\n     }\n \n-    private void setSystemTimes(long time) {\n+    public void setSystemTimes(long time) {", "originalCommit": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "de4a975a0a6f54641a8e22e0ac75d059cbdcfd54", "url": "https://github.com/quickfix-j/quickfixj/commit/de4a975a0a6f54641a8e22e0ac75d059cbdcfd54", "message": "QFJ-375 - configurable timeout multiplier", "committedDate": "2020-05-19T15:31:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU3MTcwNQ==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427571705", "bodyText": "Instead of using this magic number, what about using Session.DEFAULT_HEARTBEAT_TIMEOUT_MULTIPLIER in this test?", "author": "chrjohn", "createdAt": "2020-05-19T20:13:27Z", "path": "quickfixj-core/src/test/java/quickfix/SessionTest.java", "diffHunk": "@@ -101,7 +101,7 @@ public void testDisposalOfFileResources() throws Exception {\n                 new DefaultMessageFactory(), 30, false, 30, UtcTimestampPrecision.MILLIS, true, false,\n                 false, false, false, false, true, false, 1.5, null, true,\n                 new int[] { 5 }, false, false, false, false, true, false, true, false,\n-                null, true, 0, false, false, true, new ArrayList<>())) {\n+                null, true, 0, false, false, true, new ArrayList<>(), 1.4)) {", "originalCommit": "810ba9d4486753ddd7426d3bd4c90899824b34e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4MDM1MA==", "url": "https://github.com/quickfix-j/quickfixj/pull/288#discussion_r427580350", "bodyText": "Changed in the whole file.", "author": "the-thing", "createdAt": "2020-05-19T20:29:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU3MTcwNQ=="}], "type": "inlineReview"}, {"oid": "42aea7beb1565d406f146f54cf8a93a8e6bc149f", "url": "https://github.com/quickfix-j/quickfixj/commit/42aea7beb1565d406f146f54cf8a93a8e6bc149f", "message": "QFJ-375 - replaced heartbeat timeout multiplier magic number with default value in unit test", "committedDate": "2020-05-19T20:27:19Z", "type": "commit"}, {"oid": "42aea7beb1565d406f146f54cf8a93a8e6bc149f", "url": "https://github.com/quickfix-j/quickfixj/commit/42aea7beb1565d406f146f54cf8a93a8e6bc149f", "message": "QFJ-375 - replaced heartbeat timeout multiplier magic number with default value in unit test", "committedDate": "2020-05-19T20:27:19Z", "type": "forcePushed"}]}