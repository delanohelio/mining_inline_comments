{"pr_number": 370, "pr_title": "Create initial version of Chat SDK for Android", "pr_createdAt": "2020-10-01T01:00:16Z", "pr_url": "https://github.com/Azure/azure-sdk-for-android/pull/370", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk1Mjg2Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r497952866", "bodyText": "Actual tests coming ?", "author": "juancamilor", "createdAt": "2020-10-01T02:40:15Z", "path": "sdk/communication/chat/src/test/java/com/azure/communication/chat/ExampleUnitTest.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package com.azure.communication.chat;\n+\n+import org.junit.Test;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Example local unit test, which will execute on the development machine (host).\n+ *\n+ * @see <a href=\"http://d.android.com/tools/testing\">Testing documentation</a>\n+ */\n+public class ExampleUnitTest {\n+    @Test\n+    public void addition_isCorrect() {", "originalCommit": "8021fdd8fe5372465b5bc9ef8588fb014a2432bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQzNzU2NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498437565", "bodyText": "I'll delete this one.", "author": "JianpingChen", "createdAt": "2020-10-01T18:27:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk1Mjg2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4NTc0NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498385744", "bodyText": "Is this an Android requirement, that all responses come via callbacks?", "author": "angiurgiu", "createdAt": "2020-10-01T16:51:34Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {", "originalCommit": "8021fdd8fe5372465b5bc9ef8588fb014a2432bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwNTE5Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498405196", "bodyText": "that's right, the guideline for async output is via \"Callback\"", "author": "anuchandy", "createdAt": "2020-10-01T17:27:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM4NTc0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5MjExNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498392117", "bodyText": "I think these should be in an Options class, but I guess that can't be achieved with the autogenerated tool", "author": "angiurgiu", "createdAt": "2020-10-01T17:02:52Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersOptions body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadOptions body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatThreadInfo>> callback) {", "originalCommit": "8021fdd8fe5372465b5bc9ef8588fb014a2432bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwODEzNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498408137", "bodyText": "Emitting \"Option\" is not supported in the codegen yet, there are discussions on whether it should be core codegen or android codegen. For the first preview, we'll not have it.", "author": "anuchandy", "createdAt": "2020-10-01T17:32:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5MjExNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQzODc5Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498438793", "bodyText": "We can achieve anything given enough time. For now, null for optional parameters should do. :-)", "author": "JianpingChen", "createdAt": "2020-10-01T18:29:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5MjExNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5NzA5MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498397090", "bodyText": "It's not ideal that we are returning this class (it's a list of mapping between id - status), so it won't be easy for the client to parse the thread id out of it.\nBut I know that it's something we can't do with auto-generated code :)", "author": "angiurgiu", "createdAt": "2020-10-01T17:12:18Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersOptions body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadOptions body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);", "originalCommit": "8021fdd8fe5372465b5bc9ef8588fb014a2432bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQwOTgxOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498409818", "bodyText": "that's right, API exactly map to what swagger define, so any such filtering should be on the consuming side.", "author": "anuchandy", "createdAt": "2020-10-01T17:35:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5NzA5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5NzY0MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498397640", "bodyText": "I think these should be private or protected, no?", "author": "angiurgiu", "createdAt": "2020-10-01T17:13:18Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersOptions body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadOptions body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsPages(final Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatThreadsPagesAsync(collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Updates a thread's properties.\n+     * \n+     * @param chatThreadId The id of the thread to update.\n+     * @param body Request payload for updating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatThread(String chatThreadId, UpdateChatThreadOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatThread(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a chat thread.\n+     * \n+     * @param chatThreadId Thread id to get.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatThread(String chatThreadId, final Callback<ChatThread> callback) {\n+        this.serviceClient.getChatThread(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Deletes a thread.\n+     * \n+     * @param chatThreadId Thread id to delete.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatThread(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatThread(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsNext(String nextLink, final Callback<Page<ReadReceipt>> callback) {", "originalCommit": "8021fdd8fe5372465b5bc9ef8588fb014a2432bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxOTAxNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498419017", "bodyText": "it could be, as long as page retriever can access with strict modifiers. Currently, it's following the visibility of autogen Java.", "author": "anuchandy", "createdAt": "2020-10-01T17:52:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5NzY0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQzOTc1OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498439758", "bodyText": "We have to decide whether to expose these pairs for pagination: list and listNext. For now more is better IMHO.", "author": "JianpingChen", "createdAt": "2020-10-01T18:31:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5NzY0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5ODI1Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498398257", "bodyText": "What will the user agent be?", "author": "angiurgiu", "createdAt": "2020-10-01T17:14:23Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersOptions body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadOptions body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsPages(final Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatThreadsPagesAsync(collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Updates a thread's properties.\n+     * \n+     * @param chatThreadId The id of the thread to update.\n+     * @param body Request payload for updating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatThread(String chatThreadId, UpdateChatThreadOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatThread(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a chat thread.\n+     * \n+     * @param chatThreadId Thread id to get.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatThread(String chatThreadId, final Callback<ChatThread> callback) {\n+        this.serviceClient.getChatThread(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Deletes a thread.\n+     * \n+     * @param chatThreadId Thread id to delete.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatThread(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatThread(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsNext(String nextLink, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceiptsNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesNext(String nextLink, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessagesNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersNext(String nextLink, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembersNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsNext(String nextLink, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreadsNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * A builder for creating a new instance of the AzureCommunicationChatServiceAsyncClient type.\n+     */\n+    public static final class Builder {", "originalCommit": "8021fdd8fe5372465b5bc9ef8588fb014a2432bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQxOTc3Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498419776", "bodyText": "that's will probably need to handwritten into the builder, given we don't have the convenience layer for the first go.", "author": "anuchandy", "createdAt": "2020-10-01T17:53:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5ODI1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ0MDIyMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498440221", "bodyText": "Good point. We need to know what else we are missing and try to address them", "author": "JianpingChen", "createdAt": "2020-10-01T18:32:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM5ODI1Nw=="}], "type": "inlineReview"}, {"oid": "e16941c69999f1126cd586a1c46673fc8debf32d", "url": "https://github.com/Azure/azure-sdk-for-android/commit/e16941c69999f1126cd586a1c46673fc8debf32d", "message": "Rebase from master after paging code merge", "committedDate": "2020-10-01T20:55:20Z", "type": "commit"}, {"oid": "5b8139d9070439d132267c4379e462021af7fb52", "url": "https://github.com/Azure/azure-sdk-for-android/commit/5b8139d9070439d132267c4379e462021af7fb52", "message": "Remove page size from retriever constructors since it only makes it harder for autorest.android", "committedDate": "2020-10-01T20:58:35Z", "type": "commit"}, {"oid": "902c180f84aed5033cbae0cd8633b908137da5df", "url": "https://github.com/Azure/azure-sdk-for-android/commit/902c180f84aed5033cbae0cd8633b908137da5df", "message": "Create preview version of Chat sdk for Android", "committedDate": "2020-10-01T20:58:35Z", "type": "commit"}, {"oid": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "url": "https://github.com/Azure/azure-sdk-for-android/commit/8396102e0d92f4773206520d9ba9d8ec697c3d4f", "message": "Update with latest swagger", "committedDate": "2020-10-01T20:58:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNzc3Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498527777", "bodyText": "To release via pipeline, we also need ci.yml file. E.g. https://github.com/Azure/azure-sdk-for-android/blob/master/sdk/communication/ci.yml", "author": "anuchandy", "createdAt": "2020-10-01T21:42:23Z", "path": "build.gradle", "diffHunk": "@@ -118,7 +118,7 @@ configure(subprojects.findAll { it.path.startsWith(':sdk:') && it.path.count(':'\n                     artifact javadocJar\n \n                     pom {\n-                        name = project.publishName\n+                        name = \"Microsoft Azure Android Client Library common code For Communication Service\"", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MDcwNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498560706", "bodyText": "@mitchdenny Should I be modifying the ci.yml? But at the top of the file it says \"# DO NOT EDIT THIS FILE\". :-) We do want to get Chat sdk published. cc: @anuchandy", "author": "JianpingChen", "createdAt": "2020-10-01T23:33:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNzc3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU5NTI5MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498595290", "bodyText": "Yes you should and let's remove the # DO NOT EDIT THIS FILE It is not true anymore", "author": "RezaJooyandeh", "createdAt": "2020-10-02T02:30:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNzc3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3MjUyMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498972523", "bodyText": "Changes made to ci.yml. Please take a look when you have time, @mitchdenny cc: @RezaJooyandeh @anuchandy", "author": "JianpingChen", "createdAt": "2020-10-02T18:07:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNzc3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NzEwMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499067100", "bodyText": "ci.yml looks good to me", "author": "RezaJooyandeh", "createdAt": "2020-10-02T21:57:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNzc3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyODQyMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498528422", "bodyText": "<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.azure.android.communication.common\">\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n</manifest>", "author": "anuchandy", "createdAt": "2020-10-01T21:44:05Z", "path": "sdk/communication/chat/src/main/AndroidManifest.xml", "diffHunk": "@@ -0,0 +1,5 @@\n+<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    package=\"com.azure.communication.chat\">\n+\n+    /", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTg0MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498529841", "bodyText": "non-null pageId is for the first page I assume?", "author": "anuchandy", "createdAt": "2020-10-01T21:47:42Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/paging/PagedDataCollection.java", "diffHunk": "@@ -51,7 +51,6 @@ public P getFirstPage() {\n      * @return a page that matches the given id\n      */\n     public P getPage(@NonNull String pageId) {\n-        Objects.requireNonNull(pageId);", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0Njk2OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498546969", "bodyText": "No. We use pageId as key for caching. Allow null key would be risky. Consider the case when more than one pages return null key, it can get really confusing for the client.", "author": "JianpingChen", "createdAt": "2020-10-01T22:41:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTg0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNDk3NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498524975", "bodyText": "I noticed the communication build.gradle file has a slight different name, should this say \"Communication Services\" or \"Communication Chat Services\" at the end?", "author": "vcolin7", "createdAt": "2020-10-01T21:35:23Z", "path": "build.gradle", "diffHunk": "@@ -118,7 +118,7 @@ configure(subprojects.findAll { it.path.startsWith(':sdk:') && it.path.count(':'\n                     artifact javadocJar\n \n                     pom {\n-                        name = project.publishName\n+                        name = \"Microsoft Azure Android Client Library common code For Communication Service\"", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNjc0Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498526747", "bodyText": "Also, I wouldn't include the words \"common code\" in the name to be published. Maybe we can use the same ext.publishName inside communication/chat/build.gradle, unless that's a very different thing.", "author": "vcolin7", "createdAt": "2020-10-01T21:39:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNDk3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU1NTY5NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498555694", "bodyText": "Sorry, I'm confused.  Which build.gradle is this? chat/build.gradle seems to be a different file.", "author": "JianpingChen", "createdAt": "2020-10-01T23:13:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNDk3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2ODAyMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498568021", "bodyText": "This one is at the top level of the project. There is another one at communication/chat/build.gradle for that module.", "author": "vcolin7", "createdAt": "2020-10-02T00:04:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNDk3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2OTUzMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498569532", "bodyText": "Got it. Reverted changes to this file", "author": "JianpingChen", "createdAt": "2020-10-02T00:11:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNDk3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNTU4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498525583", "bodyText": "I wouldn't include the word code in the name to be published.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ext.publishName = \"Microsoft Azure Android Client Library code For Communication Chat Services\"\n          \n          \n            \n            ext.publishName = \"Microsoft Azure Android Client Library for Communication Chat Services\"", "author": "vcolin7", "createdAt": "2020-10-01T21:36:55Z", "path": "sdk/communication/chat/build.gradle", "diffHunk": "@@ -0,0 +1,26 @@\n+ext.publishName = \"Microsoft Azure Android Client Library code For Communication Chat Services\"", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNjQ2OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498526468", "bodyText": "Nitpicking here but if you have time it would look better if we can avoid having hardcoded versions for dependencies at this level. We usually define them at the top level build.gradle file.", "author": "vcolin7", "createdAt": "2020-10-01T21:39:01Z", "path": "sdk/communication/chat/build.gradle", "diffHunk": "@@ -0,0 +1,26 @@\n+ext.publishName = \"Microsoft Azure Android Client Library code For Communication Chat Services\"\n+description = \"This package contains the Android client library common code for Microsoft Azure Communication Chat Service.\"\n+version = \"1.0.0-beta.1\"\n+ext.versionCode = 1\n+\n+android {\n+    defaultConfig {\n+        versionCode project.versionCode\n+        versionName project.version\n+    }\n+}\n+\n+dependencies {\n+    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\n+    implementation 'androidx.appcompat:appcompat:1.2.0'\n+    implementation \"com.fasterxml.jackson.core:jackson-databind:$jacksonVersion\"\n+    implementation \"com.fasterxml.jackson.dataformat:jackson-dataformat-xml:$jacksonVersion\"\n+    implementation \"com.jakewharton.threetenabp:threetenabp:$threeTenAbpVersion\"\n+    implementation \"com.squareup.okhttp3:okhttp:$okHttpVersion\"\n+    implementation \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\n+    implementation project(\":sdk:core:azure-core\")\n+    testImplementation 'junit:junit:4.12'\n+    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n+    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyODU2Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498528566", "bodyText": "If I recall correctly, there was a conversation talking about changing this to com.azure.android.communication.chat. I remember we were told that it was kind of a big change and could not be done for now but I was wondering if it was in the roadmap at some point.", "author": "vcolin7", "createdAt": "2020-10-01T21:44:27Z", "path": "sdk/communication/chat/src/main/AndroidManifest.xml", "diffHunk": "@@ -0,0 +1,5 @@\n+<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    package=\"com.azure.communication.chat\">", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MTQ1MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498561451", "bodyText": "communication-common is already doing package=\"com.azure.android.communication.common\". I'll follow the convention. If it is a mistake, we'll make the same mistake everywhere to make things easier later.", "author": "JianpingChen", "createdAt": "2020-10-01T23:36:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyODU2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MzM1NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498563355", "bodyText": "right, it should start with groupId which is com.azure.android. e.g. \n  \n    \n      azure-sdk-for-android/sdk/core/azure-core/src/main/AndroidManifest.xml\n    \n    \n         Line 2\n      in\n      612db7c\n    \n    \n    \n    \n\n        \n          \n           package=\"com.azure.android.core\">", "author": "anuchandy", "createdAt": "2020-10-01T23:44:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyODU2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTE3NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498529174", "bodyText": "Why was this null check removed? All other PagedCollections check for nullness if I am not mistaken.", "author": "vcolin7", "createdAt": "2020-10-01T21:45:54Z", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/util/paging/PagedDataCollection.java", "diffHunk": "@@ -51,7 +51,6 @@ public P getFirstPage() {\n      * @return a page that matches the given id\n      */\n     public P getPage(@NonNull String pageId) {\n-        Objects.requireNonNull(pageId);", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MTg4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498561883", "bodyText": "Sorry, could be a merge error. Let me check again.", "author": "JianpingChen", "createdAt": "2020-10-01T23:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2OTczNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498569736", "bodyText": "Reverted the change", "author": "JianpingChen", "createdAt": "2020-10-02T00:12:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTE3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTY3Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498529676", "bodyText": "We probably want to rename this to something more specific like ChatErrorException or CommunicationChatErrorException to avoid collisions in the future.", "author": "vcolin7", "createdAt": "2020-10-01T21:47:14Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/models/ErrorException.java", "diffHunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat.models;\n+\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import okhttp3.Response;\n+\n+/**\n+ * Exception thrown for an invalid response with Error information.\n+ */\n+public final class ErrorException extends HttpResponseException {", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MjEwNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498562105", "bodyText": "Agreed but that's the problem in swagger. I won't modify generated code for this PR.", "author": "JianpingChen", "createdAt": "2020-10-01T23:39:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTY3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MzAxNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498563014", "bodyText": "make sense. Good feedback for swagger author for all languages.", "author": "anuchandy", "createdAt": "2020-10-01T23:42:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTY3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTg4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498529883", "bodyText": "Error is too vague. We probably want to rename this to something more specific like ChatError or CommunicationChatError to avoid collisions in the future.", "author": "vcolin7", "createdAt": "2020-10-01T21:47:49Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/models/Error.java", "diffHunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat.models;\n+\n+import com.azure.android.core.annotation.Immutable;\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.List;\n+\n+/**\n+ * The Error model.\n+ */\n+@Immutable\n+public final class Error {", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MjI5Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498562296", "bodyText": "Agreed. It is better we provide feedback to the swagger owner. But I'll not take any action in this PR.", "author": "JianpingChen", "createdAt": "2020-10-01T23:39:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTg4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2Mjg2Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498562863", "bodyText": "We should let the swagger author know the feedback so that it can be fixed for all languages.", "author": "anuchandy", "createdAt": "2020-10-01T23:42:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyOTg4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzMDU0Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498530543", "bodyText": "nit; It's interesting that this is the only package-info file where the first line had to be broken into 2 lines. What's the character limit in the code-gen tool for this?", "author": "vcolin7", "createdAt": "2020-10-01T21:49:38Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/implementation/package-info.java", "diffHunk": "@@ -0,0 +1,10 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+/**\n+ * Package containing the implementations and inner classes for\n+ * AzureCommunicationChatService.", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNDc5OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498534799", "bodyText": "We may want to have a later talk about the guidelines on how to name these options bags for our public methods. I feel like it would be clearer for the user if this was called sendChatMessageOptions or something along those lines instead of body.\nAlso, I know that having all optional parameters in the options or not has been a contentious topic among our architects, so we might want to revisit this once there's a conclusion to that discussion.\nThese comments apply to all other places where we have options bags, also where they are named body.", "author": "vcolin7", "createdAt": "2020-10-01T22:02:01Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MjQ4Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498562487", "bodyText": "just to clarify: there is a discussion on \"deriving\" and generating Option model, by \"deriving\" I mean, a model not coming from swagger but we compute at codegen level, that's the one we want to eventually hold the non-required params. This is not done in codegen yet.\nHere \"SendChatMessageOptions\" is a model coming from swagger not derived, its that swagger author / service named the model like that, which created the confusion.", "author": "anuchandy", "createdAt": "2020-10-01T23:40:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNDc5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNTMzMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498535330", "bodyText": "I think the callbacks should always be the last parameter in async calls, it would also stay consistent with the overload from line 128.", "author": "vcolin7", "createdAt": "2020-10-01T22:03:42Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MTQwMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498561400", "bodyText": "Good catch, seems a codegen bug in the paging part. There is a core logic where we put all required args first then optional later, callback is required, so something to handle in codgen.", "author": "anuchandy", "createdAt": "2020-10-01T23:36:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNTMzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNTc3MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498535771", "bodyText": "Same think about having callbacks at the end of method signatures. I believe iOS does this as well.", "author": "vcolin7", "createdAt": "2020-10-01T22:05:01Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersOptions body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadOptions body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsPages(final Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNjQ3Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498536473", "bodyText": "Would we want to allow for users to provide other types of interceptors or would that be achieved by them adding them to the serviceClientBuilder and then passing that object to this builder?", "author": "vcolin7", "createdAt": "2020-10-01T22:07:18Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageOptions body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersOptions body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadOptions body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsPages(final Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatThreadsPagesAsync(collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Updates a thread's properties.\n+     * \n+     * @param chatThreadId The id of the thread to update.\n+     * @param body Request payload for updating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatThread(String chatThreadId, UpdateChatThreadOptions body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatThread(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a chat thread.\n+     * \n+     * @param chatThreadId Thread id to get.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatThread(String chatThreadId, final Callback<ChatThread> callback) {\n+        this.serviceClient.getChatThread(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Deletes a thread.\n+     * \n+     * @param chatThreadId Thread id to delete.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatThread(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatThread(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsNext(String nextLink, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceiptsNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesNext(String nextLink, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessagesNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersNext(String nextLink, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembersNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * Get the next page of items.\n+     * \n+     * @param nextLink null\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsNext(String nextLink, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreadsNext(nextLink, callback);\n+    }\n+\n+    /**\n+     * A builder for creating a new instance of the AzureCommunicationChatServiceAsyncClient type.\n+     */\n+    public static final class Builder {", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU1NzMyNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498557326", "bodyText": "that's correct, for any additional interceptor customization, the user should use the core service-client.", "author": "anuchandy", "createdAt": "2020-10-01T23:20:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNjQ3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNjkwOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498536908", "bodyText": "In the future we might want to provide passing ServiceVersions types to our clients (e.g. ChatServiceVersion) type to allow for supporting multiple service versions, just like Java SDKs do.", "author": "vcolin7", "createdAt": "2020-10-01T22:08:46Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/implementation/AzureCommunicationChatServiceImpl.java", "diffHunk": "@@ -0,0 +1,2309 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat.implementation;\n+\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.internal.util.serializer.SerializerAdapter;\n+import com.azure.android.core.internal.util.serializer.SerializerFormat;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceImpl {\n+    /**\n+     * The proxy service used to perform REST calls.\n+     */\n+    private final AzureCommunicationChatServiceService service;\n+\n+    /**\n+     * The serializer.\n+     */\n+    final SerializerAdapter serializerAdapter = SerializerAdapter.createDefault();\n+\n+    /**\n+     * The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     */\n+    private ServiceClient serviceClient;\n+\n+    /**\n+     * Gets The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     * \n+     * @return the serviceClient value.\n+     */\n+    public ServiceClient getServiceClient() {\n+        return this.serviceClient;\n+    }\n+\n+    /**\n+     * The endpoint of the Azure Communication resource.\n+     */\n+    private final String endpoint;\n+\n+    /**\n+     * Gets The endpoint of the Azure Communication resource.\n+     * \n+     * @return the endpoint value.\n+     */\n+    public String getEndpoint() {\n+        return this.endpoint;\n+    }\n+\n+    /**\n+     * Api Version.\n+     */\n+    private final String apiVersion;\n+\n+    /**\n+     * Gets Api Version.\n+     * \n+     * @return the apiVersion value.\n+     */\n+    public String getApiVersion() {\n+        return this.apiVersion;\n+    }\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     * \n+     * @param serviceClient The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     * @param endpoint The endpoint of the Azure Communication resource.\n+     */\n+    public AzureCommunicationChatServiceImpl(ServiceClient serviceClient, String endpoint) {\n+        this.serviceClient = serviceClient;\n+        this.endpoint = endpoint;\n+        this.apiVersion = \"2020-09-21-preview2\";", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU1OTE0OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498559149", "bodyText": "Make sense. I think in JavaSDK, it's in the convenience layer. The first release will be AutoGen and future release there is plans to add a convenience layer.", "author": "anuchandy", "createdAt": "2020-10-01T23:27:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzNjkwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzOTMwNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498539305", "bodyText": "How sure are we that some of these calls won't throw a NullPointerException at some point?", "author": "vcolin7", "createdAt": "2020-10-01T22:16:14Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/implementation/AzureCommunicationChatServiceImpl.java", "diffHunk": "@@ -0,0 +1,2309 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat.implementation;\n+\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.internal.util.serializer.SerializerAdapter;\n+import com.azure.android.core.internal.util.serializer.SerializerFormat;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceImpl {\n+    /**\n+     * The proxy service used to perform REST calls.\n+     */\n+    private final AzureCommunicationChatServiceService service;\n+\n+    /**\n+     * The serializer.\n+     */\n+    final SerializerAdapter serializerAdapter = SerializerAdapter.createDefault();\n+\n+    /**\n+     * The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     */\n+    private ServiceClient serviceClient;\n+\n+    /**\n+     * Gets The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     * \n+     * @return the serviceClient value.\n+     */\n+    public ServiceClient getServiceClient() {\n+        return this.serviceClient;\n+    }\n+\n+    /**\n+     * The endpoint of the Azure Communication resource.\n+     */\n+    private final String endpoint;\n+\n+    /**\n+     * Gets The endpoint of the Azure Communication resource.\n+     * \n+     * @return the endpoint value.\n+     */\n+    public String getEndpoint() {\n+        return this.endpoint;\n+    }\n+\n+    /**\n+     * Api Version.\n+     */\n+    private final String apiVersion;\n+\n+    /**\n+     * Gets Api Version.\n+     * \n+     * @return the apiVersion value.\n+     */\n+    public String getApiVersion() {\n+        return this.apiVersion;\n+    }\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     * \n+     * @param serviceClient The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     * @param endpoint The endpoint of the Azure Communication resource.\n+     */\n+    public AzureCommunicationChatServiceImpl(ServiceClient serviceClient, String endpoint) {\n+        this.serviceClient = serviceClient;\n+        this.endpoint = endpoint;\n+        this.apiVersion = \"2020-09-21-preview2\";\n+        this.service = serviceClient.getRetrofit().create(AzureCommunicationChatServiceService.class);\n+    }\n+\n+    /**\n+     * The interface defining all the services for\n+     * AzureCommunicationChatService to be used by the proxy service to perform\n+     * REST calls.\n+     */\n+    private interface AzureCommunicationChatServiceService {\n+        @GET(\"/chat/threads/{chatThreadId}/readreceipts\")\n+        Call<ResponseBody> listChatReadReceipts(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/readreceipts\")\n+        Call<ResponseBody> sendChatReadReceipt(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/messages\")\n+        Call<ResponseBody> sendChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @GET(\"/chat/threads/{chatThreadId}/messages\")\n+        Call<ResponseBody> listChatMessages(@Path(\"chatThreadId\") String chatThreadId, @Query(\"maxPageSize\") Integer maxPageSize, @Query(\"startTime\") OffsetDateTime startTime, @Query(\"api-version\") String apiVersion);\n+\n+        @GET(\"/chat/threads/{chatThreadId}/messages/{chatMessageId}\")\n+        Call<ResponseBody> getChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMessageId\") String chatMessageId, @Query(\"api-version\") String apiVersion);\n+\n+        @PATCH(\"/chat/threads/{chatThreadId}/messages/{chatMessageId}\")\n+        Call<ResponseBody> updateChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMessageId\") String chatMessageId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @DELETE(\"/chat/threads/{chatThreadId}/messages/{chatMessageId}\")\n+        Call<ResponseBody> deleteChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMessageId\") String chatMessageId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/typing\")\n+        Call<ResponseBody> sendTypingNotification(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @GET(\"/chat/threads/{chatThreadId}/members\")\n+        Call<ResponseBody> listChatThreadMembers(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/members\")\n+        Call<ResponseBody> addChatThreadMembers(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @DELETE(\"/chat/threads/{chatThreadId}/members/{chatMemberId}\")\n+        Call<ResponseBody> removeChatThreadMember(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMemberId\") String chatMemberId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads\")\n+        Call<ResponseBody> createChatThread(@Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @GET(\"/chat/threads\")\n+        Call<ResponseBody> listChatThreads(@Query(\"maxPageSize\") Integer maxPageSize, @Query(\"startTime\") OffsetDateTime startTime, @Query(\"api-version\") String apiVersion);\n+\n+        @PATCH(\"/chat/threads/{chatThreadId}\")\n+        Call<ResponseBody> updateChatThread(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @GET(\"/chat/threads/{chatThreadId}\")\n+        Call<ResponseBody> getChatThread(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @DELETE(\"/chat/threads/{chatThreadId}\")\n+        Call<ResponseBody> deleteChatThread(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatReadReceiptsNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatMessagesNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatThreadMembersNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatThreadsNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        Call<ResponseBody> call = service.listChatReadReceipts(chatThreadId, this.getApiVersion());\n+        retrofit2.Callback<ResponseBody> retrofitCallback = new retrofit2.Callback<ResponseBody>() {\n+            @Override\n+            public void onResponse(Call<okhttp3.ResponseBody> call, retrofit2.Response<ResponseBody> response) {\n+                if (response.isSuccessful()) {\n+                    if (response.code() == 200) {\n+                        final ReadReceiptsCollection decodedResult;\n+                        try {\n+                            decodedResult = deserializeContent(response.headers(), response.body(), ReadReceiptsCollection.class);\n+                        } catch(Exception ex) {\n+                            callback.onFailure(ex, response.raw());\n+                            return;\n+                        }\n+                        callback.onSuccess(new Page<ReadReceipt>(response.raw().request().url().toString(), decodedResult.getValue(), decodedResult.getNextLink()), response.raw());", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MDQ5MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498560490", "bodyText": "it shouldn't, provided we arrived at this point means, we manage to make a request to an endpoint i.e. to a valid URI.", "author": "anuchandy", "createdAt": "2020-10-01T23:32:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzOTMwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MzA1MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498563050", "bodyText": "Good point. We need to address that in codegen", "author": "JianpingChen", "createdAt": "2020-10-01T23:43:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzOTMwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzOTc5OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498539799", "bodyText": "nit; Indentation turned out a little weird in methods like this one.", "author": "vcolin7", "createdAt": "2020-10-01T22:17:44Z", "path": "sdk/communication/chat/src/main/java/com/azure/android/communication/chat/implementation/AzureCommunicationChatServiceImpl.java", "diffHunk": "@@ -0,0 +1,2309 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat.implementation;\n+\n+import com.azure.android.communication.chat.models.AddChatThreadMembersOptions;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadOptions;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageOptions;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageOptions;\n+import com.azure.android.communication.chat.models.UpdateChatThreadOptions;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.internal.util.serializer.SerializerAdapter;\n+import com.azure.android.core.internal.util.serializer.SerializerFormat;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceImpl {\n+    /**\n+     * The proxy service used to perform REST calls.\n+     */\n+    private final AzureCommunicationChatServiceService service;\n+\n+    /**\n+     * The serializer.\n+     */\n+    final SerializerAdapter serializerAdapter = SerializerAdapter.createDefault();\n+\n+    /**\n+     * The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     */\n+    private ServiceClient serviceClient;\n+\n+    /**\n+     * Gets The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     * \n+     * @return the serviceClient value.\n+     */\n+    public ServiceClient getServiceClient() {\n+        return this.serviceClient;\n+    }\n+\n+    /**\n+     * The endpoint of the Azure Communication resource.\n+     */\n+    private final String endpoint;\n+\n+    /**\n+     * Gets The endpoint of the Azure Communication resource.\n+     * \n+     * @return the endpoint value.\n+     */\n+    public String getEndpoint() {\n+        return this.endpoint;\n+    }\n+\n+    /**\n+     * Api Version.\n+     */\n+    private final String apiVersion;\n+\n+    /**\n+     * Gets Api Version.\n+     * \n+     * @return the apiVersion value.\n+     */\n+    public String getApiVersion() {\n+        return this.apiVersion;\n+    }\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     * \n+     * @param serviceClient The Azure Core generic ServiceClient to setup interceptors and produce retrofit proxy.\n+     * @param endpoint The endpoint of the Azure Communication resource.\n+     */\n+    public AzureCommunicationChatServiceImpl(ServiceClient serviceClient, String endpoint) {\n+        this.serviceClient = serviceClient;\n+        this.endpoint = endpoint;\n+        this.apiVersion = \"2020-09-21-preview2\";\n+        this.service = serviceClient.getRetrofit().create(AzureCommunicationChatServiceService.class);\n+    }\n+\n+    /**\n+     * The interface defining all the services for\n+     * AzureCommunicationChatService to be used by the proxy service to perform\n+     * REST calls.\n+     */\n+    private interface AzureCommunicationChatServiceService {\n+        @GET(\"/chat/threads/{chatThreadId}/readreceipts\")\n+        Call<ResponseBody> listChatReadReceipts(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/readreceipts\")\n+        Call<ResponseBody> sendChatReadReceipt(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/messages\")\n+        Call<ResponseBody> sendChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @GET(\"/chat/threads/{chatThreadId}/messages\")\n+        Call<ResponseBody> listChatMessages(@Path(\"chatThreadId\") String chatThreadId, @Query(\"maxPageSize\") Integer maxPageSize, @Query(\"startTime\") OffsetDateTime startTime, @Query(\"api-version\") String apiVersion);\n+\n+        @GET(\"/chat/threads/{chatThreadId}/messages/{chatMessageId}\")\n+        Call<ResponseBody> getChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMessageId\") String chatMessageId, @Query(\"api-version\") String apiVersion);\n+\n+        @PATCH(\"/chat/threads/{chatThreadId}/messages/{chatMessageId}\")\n+        Call<ResponseBody> updateChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMessageId\") String chatMessageId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @DELETE(\"/chat/threads/{chatThreadId}/messages/{chatMessageId}\")\n+        Call<ResponseBody> deleteChatMessage(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMessageId\") String chatMessageId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/typing\")\n+        Call<ResponseBody> sendTypingNotification(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @GET(\"/chat/threads/{chatThreadId}/members\")\n+        Call<ResponseBody> listChatThreadMembers(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads/{chatThreadId}/members\")\n+        Call<ResponseBody> addChatThreadMembers(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @DELETE(\"/chat/threads/{chatThreadId}/members/{chatMemberId}\")\n+        Call<ResponseBody> removeChatThreadMember(@Path(\"chatThreadId\") String chatThreadId, @Path(\"chatMemberId\") String chatMemberId, @Query(\"api-version\") String apiVersion);\n+\n+        @POST(\"/chat/threads\")\n+        Call<ResponseBody> createChatThread(@Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @GET(\"/chat/threads\")\n+        Call<ResponseBody> listChatThreads(@Query(\"maxPageSize\") Integer maxPageSize, @Query(\"startTime\") OffsetDateTime startTime, @Query(\"api-version\") String apiVersion);\n+\n+        @PATCH(\"/chat/threads/{chatThreadId}\")\n+        Call<ResponseBody> updateChatThread(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion, @Body RequestBody body);\n+\n+        @GET(\"/chat/threads/{chatThreadId}\")\n+        Call<ResponseBody> getChatThread(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @DELETE(\"/chat/threads/{chatThreadId}\")\n+        Call<ResponseBody> deleteChatThread(@Path(\"chatThreadId\") String chatThreadId, @Query(\"api-version\") String apiVersion);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatReadReceiptsNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatMessagesNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatThreadMembersNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+\n+        @GET(\"{nextLink}\")\n+        Call<ResponseBody> listChatThreadsNext(@Path(value = \"nextLink\", encoded = true) String nextLink);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        Call<ResponseBody> call = service.listChatReadReceipts(chatThreadId, this.getApiVersion());\n+        retrofit2.Callback<ResponseBody> retrofitCallback = new retrofit2.Callback<ResponseBody>() {\n+            @Override\n+            public void onResponse(Call<okhttp3.ResponseBody> call, retrofit2.Response<ResponseBody> response) {\n+                if (response.isSuccessful()) {\n+                    if (response.code() == 200) {\n+                        final ReadReceiptsCollection decodedResult;\n+                        try {\n+                            decodedResult = deserializeContent(response.headers(), response.body(), ReadReceiptsCollection.class);\n+                        } catch(Exception ex) {\n+                            callback.onFailure(ex, response.raw());\n+                            return;\n+                        }\n+                        callback.onSuccess(new Page<ReadReceipt>(response.raw().request().url().toString(), decodedResult.getValue(), decodedResult.getNextLink()), response.raw());\n+                    } else {\n+                        final String strContent = readAsString(response.body());\n+                        callback.onFailure(new ErrorException(strContent, response.raw()), response.raw());\n+                    }\n+                } else {\n+                    final String strContent = readAsString(response.errorBody());\n+                    callback.onFailure(new HttpResponseException(strContent, response.raw()), response.raw());\n+                }\n+            }\n+\n+            @Override\n+            public void onFailure(Call<ResponseBody> call, Throwable t) {\n+                callback.onFailure(t, null);\n+            }\n+        };\n+        call.enqueue(retrofitCallback);\n+    }\n+\n+    private static final class ReadReceiptPageAsyncRetriever extends AsyncPagedDataRetriever<ReadReceipt, Page<ReadReceipt>> {\n+        private final String chatThreadId;\n+\n+        private final AzureCommunicationChatServiceImpl serviceClient;\n+\n+        public ReadReceiptPageAsyncRetriever(String chatThreadId, AzureCommunicationChatServiceImpl serviceClient) {\n+            this.chatThreadId = chatThreadId;\n+            this.serviceClient = serviceClient;\n+        }\n+\n+        public void getFirstPage(Callback<Page<ReadReceipt>> callback) {\n+            serviceClient.listChatReadReceipts(chatThreadId, callback);\n+        }\n+\n+        public void getPage(String pageId, Callback<Page<ReadReceipt>> callback) {\n+            serviceClient.listChatReadReceiptsNext(pageId, callback);\n+        }\n+    }\n+\n+    private static final class ReadReceiptPageResponseRetriever extends PagedDataResponseRetriever<ReadReceipt, Page<ReadReceipt>> {\n+        private final String chatThreadId;\n+\n+        private final AzureCommunicationChatServiceImpl serviceClient;\n+\n+        public ReadReceiptPageResponseRetriever(String chatThreadId, AzureCommunicationChatServiceImpl serviceClient) {\n+            this.chatThreadId = chatThreadId;\n+            this.serviceClient = serviceClient;\n+        }\n+\n+        public Response<Page<ReadReceipt>> getFirstPage() {\n+             return serviceClient.listChatReadReceiptsWithRestResponse(chatThreadId);\n+        }\n+\n+        public Response<Page<ReadReceipt>> getPage(String pageId) {\n+            return serviceClient.listChatReadReceiptsNextWithRestResponse(pageId);\n+        }\n+    }\n+\n+    private static final class ReadReceiptPageRetriever extends PagedDataRetriever<ReadReceipt, Page<ReadReceipt>> {\n+        private final String chatThreadId;\n+\n+        private final AzureCommunicationChatServiceImpl serviceClient;\n+\n+        public ReadReceiptPageRetriever(String chatThreadId, AzureCommunicationChatServiceImpl serviceClient) {\n+            this.chatThreadId = chatThreadId;\n+            this.serviceClient = serviceClient;\n+        }\n+\n+        public Page<ReadReceipt> getFirstPage() {\n+             return serviceClient.listChatReadReceiptsWithRestResponse(chatThreadId).getValue();\n+        }\n+\n+        public Page<ReadReceipt> getPage(String pageId) {\n+            return serviceClient.listChatReadReceiptsNextWithRestResponse(pageId).getValue();\n+        }\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     * @return read receipts for a thread.\n+     */\n+    public Response<Page<ReadReceipt>> listChatReadReceiptsWithRestResponse(String chatThreadId) {\n+        final retrofit2.Response<ResponseBody> response = this.executeRetrofitCall(service.listChatReadReceipts(chatThreadId, this.getApiVersion()));\n+        if (response.isSuccessful()) {\n+            if (response.code() == 200) {\n+                final ReadReceiptsCollection decodedResult;\n+                try {\n+                    decodedResult = this.deserializeContent(response.headers(), response.body(), ReadReceiptsCollection.class);\n+                } catch(Exception ex) {\n+                    final String strContent = this.readAsString(response.body());\n+                    throw new ErrorException(strContent, response.raw());\n+                }\n+                return new Response<>(response.raw().request(),", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU2MzE5Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498563192", "bodyText": "Agreed. Will improve in the codegen", "author": "JianpingChen", "createdAt": "2020-10-01T23:43:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUzOTc5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0MDY3MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498540670", "bodyText": "typo\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Azure Communciation Service - Chat SDK for Android\n          \n          \n            \n            # Azure Communication Service - Chat SDK for Android", "author": "vcolin7", "createdAt": "2020-10-01T22:20:22Z", "path": "sdk/communication/chat/swagger/README.md", "diffHunk": "@@ -0,0 +1,37 @@\n+# Azure Communciation Service - Chat SDK for Android", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0MTQyMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498541423", "bodyText": "I noticed the other (unit) test will be deleted, will we do that for this one as well?", "author": "vcolin7", "createdAt": "2020-10-01T22:22:52Z", "path": "sdk/communication/chat/src/androidTest/java/com/azure/communication/chat/ExampleInstrumentedTest.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.azure.communication.chat;\n+", "originalCommit": "8396102e0d92f4773206520d9ba9d8ec697c3d4f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0NDk4NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498544985", "bodyText": "deleted now", "author": "JianpingChen", "createdAt": "2020-10-01T22:34:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0MTQyMw=="}], "type": "inlineReview"}, {"oid": "b1af3a56e9230ef0ac8a6a4ae982bd333986973d", "url": "https://github.com/Azure/azure-sdk-for-android/commit/b1af3a56e9230ef0ac8a6a4ae982bd333986973d", "message": "Add basic CRUD tests for thread, message, member", "committedDate": "2020-10-01T22:29:41Z", "type": "commit"}, {"oid": "dfa981bb59fd051a1b7a44ac11384d36bdce7b70", "url": "https://github.com/Azure/azure-sdk-for-android/commit/dfa981bb59fd051a1b7a44ac11384d36bdce7b70", "message": "Remove sample test file", "committedDate": "2020-10-01T22:34:13Z", "type": "commit"}, {"oid": "bae6f1cbae4f7b8f4c5d2b5b985f719f7194a76a", "url": "https://github.com/Azure/azure-sdk-for-android/commit/bae6f1cbae4f7b8f4c5d2b5b985f719f7194a76a", "message": "Update sdk/communication/chat/swagger/README.md\n\nCo-authored-by: vcolin7 <vicolina@microsoft.com>", "committedDate": "2020-10-01T22:35:10Z", "type": "commit"}, {"oid": "0303e221e07b317e6ffb52e653946cba826a58ec", "url": "https://github.com/Azure/azure-sdk-for-android/commit/0303e221e07b317e6ffb52e653946cba826a58ec", "message": "Update sdk/communication/chat/build.gradle\n\nCo-authored-by: vcolin7 <vicolina@microsoft.com>", "committedDate": "2020-10-01T22:42:23Z", "type": "commit"}, {"oid": "10bd9ae54c71528c724e6ec0cb0ed660d4ec6c5b", "url": "https://github.com/Azure/azure-sdk-for-android/commit/10bd9ae54c71528c724e6ec0cb0ed660d4ec6c5b", "message": "Fix android manifest for Chat", "committedDate": "2020-10-01T23:46:38Z", "type": "commit"}, {"oid": "dd109f931da51887c416febd34767086c8862fc0", "url": "https://github.com/Azure/azure-sdk-for-android/commit/dd109f931da51887c416febd34767086c8862fc0", "message": "revert a merge error", "committedDate": "2020-10-01T23:58:51Z", "type": "commit"}, {"oid": "288751cabba7103e1880bca876c808976cf10ec5", "url": "https://github.com/Azure/azure-sdk-for-android/commit/288751cabba7103e1880bca876c808976cf10ec5", "message": "revert a mistaken change to root gradle", "committedDate": "2020-10-02T00:04:14Z", "type": "commit"}, {"oid": "13924627028833d4ecea57297e7e7873b51812ce", "url": "https://github.com/Azure/azure-sdk-for-android/commit/13924627028833d4ecea57297e7e7873b51812ce", "message": "revert a mistaken change to root gradle", "committedDate": "2020-10-02T00:06:58Z", "type": "commit"}, {"oid": "c5844d66c34e644a6b501f2a2a574a723b3135f0", "url": "https://github.com/Azure/azure-sdk-for-android/commit/c5844d66c34e644a6b501f2a2a574a723b3135f0", "message": "Add unit tests for different paging collections; remove integration tests since the token will expire", "committedDate": "2020-10-02T16:56:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0OTkxOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498949919", "bodyText": "It looks like this works but later we can probably look to make these tests more readable without nesting so many callbacks that are declared in place.", "author": "vcolin7", "createdAt": "2020-10-02T17:19:08Z", "path": "sdk/communication/chat/src/test/java/com/azure/android/communication/chat/chatAsyncClientTest.java", "diffHunk": "@@ -0,0 +1,158 @@\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.util.paging.Page;\n+\n+import org.junit.After;\n+import org.junit.Test;\n+import org.threeten.bp.OffsetDateTime;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import okhttp3.Response;\n+import okhttp3.mockwebserver.MockResponse;\n+import okhttp3.mockwebserver.MockWebServer;\n+\n+import static junit.framework.TestCase.assertEquals;\n+import static junit.framework.TestCase.assertTrue;\n+\n+public class chatAsyncClientTest {\n+\n+    private static final MockWebServer mockWebServer = new MockWebServer();\n+    private static final String BASE_URL = mockWebServer.url(\"/\").toString();\n+    private static AzureCommunicationChatServiceAsyncClient chatServiceAsyncClient =\n+        new AzureCommunicationChatServiceAsyncClient.Builder()\n+            .serviceClientBuilder(new ServiceClient.Builder().setBaseUrl(BASE_URL))\n+            .build();\n+\n+    @After\n+    public void tearDown() throws InterruptedException {\n+        // For ensuring the responses enqueued are consumed before making the next call.\n+        mockWebServer.takeRequest(20, TimeUnit.MILLISECONDS);\n+    }\n+\n+    @Test\n+    public void listThreadPages() {\n+        mockThreadsResponse(5);\n+\n+        chatServiceAsyncClient.listChatThreadsPages(new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+            @Override\n+            public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> result, Response response) {\n+                AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> asyncPagedDataCollection = result;\n+                asyncPagedDataCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+                    @Override\n+                    public void onSuccess(Page<ChatThreadInfo> result, Response response) {", "originalCommit": "c5844d66c34e644a6b501f2a2a574a723b3135f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk1MTU1Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498951556", "bodyText": "I believe there's a JUnit method that's called fail() for cases like this.", "author": "vcolin7", "createdAt": "2020-10-02T17:22:34Z", "path": "sdk/communication/chat/src/test/java/com/azure/android/communication/chat/chatAsyncClientTest.java", "diffHunk": "@@ -0,0 +1,158 @@\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.util.paging.Page;\n+\n+import org.junit.After;\n+import org.junit.Test;\n+import org.threeten.bp.OffsetDateTime;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import okhttp3.Response;\n+import okhttp3.mockwebserver.MockResponse;\n+import okhttp3.mockwebserver.MockWebServer;\n+\n+import static junit.framework.TestCase.assertEquals;\n+import static junit.framework.TestCase.assertTrue;\n+\n+public class chatAsyncClientTest {\n+\n+    private static final MockWebServer mockWebServer = new MockWebServer();\n+    private static final String BASE_URL = mockWebServer.url(\"/\").toString();\n+    private static AzureCommunicationChatServiceAsyncClient chatServiceAsyncClient =\n+        new AzureCommunicationChatServiceAsyncClient.Builder()\n+            .serviceClientBuilder(new ServiceClient.Builder().setBaseUrl(BASE_URL))\n+            .build();\n+\n+    @After\n+    public void tearDown() throws InterruptedException {\n+        // For ensuring the responses enqueued are consumed before making the next call.\n+        mockWebServer.takeRequest(20, TimeUnit.MILLISECONDS);\n+    }\n+\n+    @Test\n+    public void listThreadPages() {\n+        mockThreadsResponse(5);\n+\n+        chatServiceAsyncClient.listChatThreadsPages(new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+            @Override\n+            public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> result, Response response) {\n+                AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> asyncPagedDataCollection = result;\n+                asyncPagedDataCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+                    @Override\n+                    public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                        assertEquals(5, result.getItems().size());\n+                        mockThreadsResponse(3);\n+                        asyncPagedDataCollection.getPage(result.getNextPageId(), new Callback<Page<ChatThreadInfo>>() {\n+                            @Override\n+                            public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                                assertEquals(3, result.getItems().size());\n+\n+                                 asyncPagedDataCollection.getPage(result.getPreviousPageId(), new Callback<Page<ChatThreadInfo>>() {\n+                                    @Override\n+                                    public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                                        assertEquals(5, result.getItems().size());\n+                                    }\n+\n+                                    @Override\n+                                    public void onFailure(Throwable throwable, Response response) {\n+                                        assertTrue(false);", "originalCommit": "c5844d66c34e644a6b501f2a2a574a723b3135f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk1MjE1Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498952152", "bodyText": "nit; Indentation's funky here. Nothing major.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                             asyncPagedDataCollection.getPage(result.getPreviousPageId(), new Callback<Page<ChatThreadInfo>>() {\n          \n          \n            \n                                            asyncPagedDataCollection.getPage(result.getPreviousPageId(), new Callback<Page<ChatThreadInfo>>() {", "author": "vcolin7", "createdAt": "2020-10-02T17:23:51Z", "path": "sdk/communication/chat/src/test/java/com/azure/android/communication/chat/chatAsyncClientTest.java", "diffHunk": "@@ -0,0 +1,158 @@\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.util.paging.Page;\n+\n+import org.junit.After;\n+import org.junit.Test;\n+import org.threeten.bp.OffsetDateTime;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import okhttp3.Response;\n+import okhttp3.mockwebserver.MockResponse;\n+import okhttp3.mockwebserver.MockWebServer;\n+\n+import static junit.framework.TestCase.assertEquals;\n+import static junit.framework.TestCase.assertTrue;\n+\n+public class chatAsyncClientTest {\n+\n+    private static final MockWebServer mockWebServer = new MockWebServer();\n+    private static final String BASE_URL = mockWebServer.url(\"/\").toString();\n+    private static AzureCommunicationChatServiceAsyncClient chatServiceAsyncClient =\n+        new AzureCommunicationChatServiceAsyncClient.Builder()\n+            .serviceClientBuilder(new ServiceClient.Builder().setBaseUrl(BASE_URL))\n+            .build();\n+\n+    @After\n+    public void tearDown() throws InterruptedException {\n+        // For ensuring the responses enqueued are consumed before making the next call.\n+        mockWebServer.takeRequest(20, TimeUnit.MILLISECONDS);\n+    }\n+\n+    @Test\n+    public void listThreadPages() {\n+        mockThreadsResponse(5);\n+\n+        chatServiceAsyncClient.listChatThreadsPages(new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+            @Override\n+            public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> result, Response response) {\n+                AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> asyncPagedDataCollection = result;\n+                asyncPagedDataCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+                    @Override\n+                    public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                        assertEquals(5, result.getItems().size());\n+                        mockThreadsResponse(3);\n+                        asyncPagedDataCollection.getPage(result.getNextPageId(), new Callback<Page<ChatThreadInfo>>() {\n+                            @Override\n+                            public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                                assertEquals(3, result.getItems().size());\n+\n+                                 asyncPagedDataCollection.getPage(result.getPreviousPageId(), new Callback<Page<ChatThreadInfo>>() {", "originalCommit": "c5844d66c34e644a6b501f2a2a574a723b3135f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk1MjU4Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498952587", "bodyText": "I don't think we need to define this variable if we have result already. We could rename result in the callback declaration to something like pagedCollection.", "author": "vcolin7", "createdAt": "2020-10-02T17:24:46Z", "path": "sdk/communication/chat/src/test/java/com/azure/android/communication/chat/chatAsyncClientTest.java", "diffHunk": "@@ -0,0 +1,158 @@\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.util.paging.Page;\n+\n+import org.junit.After;\n+import org.junit.Test;\n+import org.threeten.bp.OffsetDateTime;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import okhttp3.Response;\n+import okhttp3.mockwebserver.MockResponse;\n+import okhttp3.mockwebserver.MockWebServer;\n+\n+import static junit.framework.TestCase.assertEquals;\n+import static junit.framework.TestCase.assertTrue;\n+\n+public class chatAsyncClientTest {\n+\n+    private static final MockWebServer mockWebServer = new MockWebServer();\n+    private static final String BASE_URL = mockWebServer.url(\"/\").toString();\n+    private static AzureCommunicationChatServiceAsyncClient chatServiceAsyncClient =\n+        new AzureCommunicationChatServiceAsyncClient.Builder()\n+            .serviceClientBuilder(new ServiceClient.Builder().setBaseUrl(BASE_URL))\n+            .build();\n+\n+    @After\n+    public void tearDown() throws InterruptedException {\n+        // For ensuring the responses enqueued are consumed before making the next call.\n+        mockWebServer.takeRequest(20, TimeUnit.MILLISECONDS);\n+    }\n+\n+    @Test\n+    public void listThreadPages() {\n+        mockThreadsResponse(5);\n+\n+        chatServiceAsyncClient.listChatThreadsPages(new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+            @Override\n+            public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> result, Response response) {\n+                AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> asyncPagedDataCollection = result;", "originalCommit": "c5844d66c34e644a6b501f2a2a574a723b3135f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk1NDM1OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498954359", "bodyText": "Same comment about declaring a new variable based on result.", "author": "vcolin7", "createdAt": "2020-10-02T17:28:24Z", "path": "sdk/communication/chat/src/test/java/com/azure/android/communication/chat/chatAsyncClientTest.java", "diffHunk": "@@ -0,0 +1,158 @@\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.util.paging.Page;\n+\n+import org.junit.After;\n+import org.junit.Test;\n+import org.threeten.bp.OffsetDateTime;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+import okhttp3.Response;\n+import okhttp3.mockwebserver.MockResponse;\n+import okhttp3.mockwebserver.MockWebServer;\n+\n+import static junit.framework.TestCase.assertEquals;\n+import static junit.framework.TestCase.assertTrue;\n+\n+public class chatAsyncClientTest {\n+\n+    private static final MockWebServer mockWebServer = new MockWebServer();\n+    private static final String BASE_URL = mockWebServer.url(\"/\").toString();\n+    private static AzureCommunicationChatServiceAsyncClient chatServiceAsyncClient =\n+        new AzureCommunicationChatServiceAsyncClient.Builder()\n+            .serviceClientBuilder(new ServiceClient.Builder().setBaseUrl(BASE_URL))\n+            .build();\n+\n+    @After\n+    public void tearDown() throws InterruptedException {\n+        // For ensuring the responses enqueued are consumed before making the next call.\n+        mockWebServer.takeRequest(20, TimeUnit.MILLISECONDS);\n+    }\n+\n+    @Test\n+    public void listThreadPages() {\n+        mockThreadsResponse(5);\n+\n+        chatServiceAsyncClient.listChatThreadsPages(new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+            @Override\n+            public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> result, Response response) {\n+                AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> asyncPagedDataCollection = result;\n+                asyncPagedDataCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+                    @Override\n+                    public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                        assertEquals(5, result.getItems().size());\n+                        mockThreadsResponse(3);\n+                        asyncPagedDataCollection.getPage(result.getNextPageId(), new Callback<Page<ChatThreadInfo>>() {\n+                            @Override\n+                            public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                                assertEquals(3, result.getItems().size());\n+\n+                                 asyncPagedDataCollection.getPage(result.getPreviousPageId(), new Callback<Page<ChatThreadInfo>>() {\n+                                    @Override\n+                                    public void onSuccess(Page<ChatThreadInfo> result, Response response) {\n+                                        assertEquals(5, result.getItems().size());\n+                                    }\n+\n+                                    @Override\n+                                    public void onFailure(Throwable throwable, Response response) {\n+                                        assertTrue(false);\n+                                    }\n+                                });\n+                            }\n+\n+                            @Override\n+                            public void onFailure(Throwable throwable, Response response) {\n+                                assertTrue(false);\n+                            }\n+                        });\n+                    }\n+\n+                    @Override\n+                    public void onFailure(Throwable throwable, Response response) {\n+                        assertTrue(false);\n+                    }\n+                });\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                assertTrue(false);\n+            }\n+        }, 5, OffsetDateTime.now());\n+\n+    }\n+\n+    @Test\n+    public void listThreadMessagePages() {\n+        mockMessagesResponse(5);\n+\n+        chatServiceAsyncClient.listChatMessagesPages(\"threadId\", new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+            @Override\n+            public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> result, Response response) {\n+                AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> asyncPagedDataCollection = result;", "originalCommit": "c5844d66c34e644a6b501f2a2a574a723b3135f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3530f1b0782bbd71cb1f8b242127cf6d129190b8", "url": "https://github.com/Azure/azure-sdk-for-android/commit/3530f1b0782bbd71cb1f8b242127cf6d129190b8", "message": "Rename chat folder to azure-communication-chat; Update swagger README.md to link to swagger; Regenerate with swagger link", "committedDate": "2020-10-02T17:52:05Z", "type": "commit"}, {"oid": "180f46e8cf305095aa0595a1280017d8d70f1f4f", "url": "https://github.com/Azure/azure-sdk-for-android/commit/180f46e8cf305095aa0595a1280017d8d70f1f4f", "message": "Update ci.yml to publish chat sdk", "committedDate": "2020-10-02T18:05:52Z", "type": "commit"}, {"oid": "6cccd63b6b6eb4af70e178dca0c50481ed561dc7", "url": "https://github.com/Azure/azure-sdk-for-android/commit/6cccd63b6b6eb4af70e178dca0c50481ed561dc7", "message": "Minor changes in test code according to review feedback", "committedDate": "2020-10-02T18:15:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4ODk0Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498988943", "bodyText": "should we manually move the Callback as the last param for now and fix codegen later.", "author": "anuchandy", "createdAt": "2020-10-02T18:37:52Z", "path": "sdk/communication/azure-communication-chat/src/main/java/com/azure/android/communication/chat/AzureCommunicationChatServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,490 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.android.communication.chat;\n+\n+import com.azure.android.communication.chat.implementation.AzureCommunicationChatServiceImpl;\n+import com.azure.android.communication.chat.models.AddChatThreadMembersRequest;\n+import com.azure.android.communication.chat.models.ChatMessage;\n+import com.azure.android.communication.chat.models.ChatMessagesCollection;\n+import com.azure.android.communication.chat.models.ChatThread;\n+import com.azure.android.communication.chat.models.ChatThreadInfo;\n+import com.azure.android.communication.chat.models.ChatThreadMember;\n+import com.azure.android.communication.chat.models.ChatThreadMembersCollection;\n+import com.azure.android.communication.chat.models.ChatThreadsInfoCollection;\n+import com.azure.android.communication.chat.models.CreateChatThreadRequest;\n+import com.azure.android.communication.chat.models.ErrorException;\n+import com.azure.android.communication.chat.models.MultiStatusResponse;\n+import com.azure.android.communication.chat.models.ReadReceipt;\n+import com.azure.android.communication.chat.models.ReadReceiptsCollection;\n+import com.azure.android.communication.chat.models.SendChatMessageRequest;\n+import com.azure.android.communication.chat.models.SendChatMessageResult;\n+import com.azure.android.communication.chat.models.SendReadReceiptRequest;\n+import com.azure.android.communication.chat.models.UpdateChatMessageRequest;\n+import com.azure.android.communication.chat.models.UpdateChatThreadRequest;\n+import com.azure.android.core.http.Callback;\n+import com.azure.android.core.http.Response;\n+import com.azure.android.core.http.ServiceClient;\n+import com.azure.android.core.http.exception.HttpResponseException;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataCollection;\n+import com.azure.android.core.http.responsepaging.AsyncPagedDataRetriever;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseCollection;\n+import com.azure.android.core.http.responsepaging.PagedDataResponseRetriever;\n+import com.azure.android.core.util.paging.Page;\n+import com.azure.android.core.util.paging.PagedDataCollection;\n+import com.azure.android.core.util.paging.PagedDataRetriever;\n+import okhttp3.Interceptor;\n+import okhttp3.RequestBody;\n+import okhttp3.ResponseBody;\n+import org.threeten.bp.OffsetDateTime;\n+import retrofit2.Call;\n+import retrofit2.http.Body;\n+import retrofit2.http.DELETE;\n+import retrofit2.http.GET;\n+import retrofit2.http.PATCH;\n+import retrofit2.http.Path;\n+import retrofit2.http.POST;\n+import retrofit2.http.Query;\n+\n+/**\n+ * Initializes a new instance of the asynchronous AzureCommunicationChatService type.\n+ */\n+public final class AzureCommunicationChatServiceAsyncClient {\n+    private AzureCommunicationChatServiceImpl serviceClient;\n+\n+    /**\n+     * Initializes an instance of AzureCommunicationChatService client.\n+     */\n+    AzureCommunicationChatServiceAsyncClient(AzureCommunicationChatServiceImpl serviceClient) {\n+        this.serviceClient = serviceClient;\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceipts(String chatThreadId, final Callback<Page<ReadReceipt>> callback) {\n+        this.serviceClient.listChatReadReceipts(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets read receipts for a thread.\n+     * \n+     * @param chatThreadId Thread id to get the read receipts for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatReadReceiptsPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>> collectionCallback) {\n+        this.serviceClient.listChatReadReceiptsPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Sends a read receipt event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Thread id to send the read receipt event to.\n+     * @param body Request payload for sending a read receipt.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatReadReceipt(String chatThreadId, SendReadReceiptRequest body, final Callback<Void> callback) {\n+        this.serviceClient.sendChatReadReceipt(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Sends a message to a thread.\n+     * \n+     * @param chatThreadId The thread id to send the message to.\n+     * @param body Details of the message to send.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendChatMessage(String chatThreadId, SendChatMessageRequest body, final Callback<SendChatMessageResult> callback) {\n+        this.serviceClient.sendChatMessage(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessages(String chatThreadId, final Callback<Page<ChatMessage>> callback) {\n+        this.serviceClient.listChatMessages(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets a list of messages from a thread.\n+     * \n+     * @param chatThreadId The thread id of the message.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of messages to be returned per page.\n+     * @param startTime The earliest point in time to get messages up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatMessagesPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {\n+        this.serviceClient.listChatMessagesPagesAsync(chatThreadId, collectionCallback, maxPageSize, startTime);\n+    }\n+\n+    /**\n+     * Gets a message by id.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void getChatMessage(String chatThreadId, String chatMessageId, final Callback<ChatMessage> callback) {\n+        this.serviceClient.getChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Updates a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param body Details of the request to update the message.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void updateChatMessage(String chatThreadId, String chatMessageId, UpdateChatMessageRequest body, final Callback<Void> callback) {\n+        this.serviceClient.updateChatMessage(chatThreadId, chatMessageId, body, callback);\n+    }\n+\n+    /**\n+     * Deletes a message.\n+     * \n+     * @param chatThreadId The thread id to which the message was sent.\n+     * @param chatMessageId The message id.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void deleteChatMessage(String chatThreadId, String chatMessageId, final Callback<Void> callback) {\n+        this.serviceClient.deleteChatMessage(chatThreadId, chatMessageId, callback);\n+    }\n+\n+    /**\n+     * Posts a typing event to a thread, on behalf of a user.\n+     * \n+     * @param chatThreadId Id of the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void sendTypingNotification(String chatThreadId, final Callback<Void> callback) {\n+        this.serviceClient.sendTypingNotification(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembers(String chatThreadId, final Callback<Page<ChatThreadMember>> callback) {\n+        this.serviceClient.listChatThreadMembers(chatThreadId, callback);\n+    }\n+\n+    /**\n+     * Gets the members of a thread.\n+     * \n+     * @param chatThreadId Thread id to get members for.\n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadMembersPages(String chatThreadId, final Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>> collectionCallback) {\n+        this.serviceClient.listChatThreadMembersPagesAsync(chatThreadId, collectionCallback);\n+    }\n+\n+    /**\n+     * Adds thread members to a thread. If members already exist, no change occurs.\n+     * \n+     * @param chatThreadId Id of the thread to add members to.\n+     * @param body Thread members to be added to the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void addChatThreadMembers(String chatThreadId, AddChatThreadMembersRequest body, final Callback<Void> callback) {\n+        this.serviceClient.addChatThreadMembers(chatThreadId, body, callback);\n+    }\n+\n+    /**\n+     * Remove a member from a thread.\n+     * \n+     * @param chatThreadId Thread id to remove the member from.\n+     * @param chatMemberId Id of the thread member to remove from the thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void removeChatThreadMember(String chatThreadId, String chatMemberId, final Callback<Void> callback) {\n+        this.serviceClient.removeChatThreadMember(chatThreadId, chatMemberId, callback);\n+    }\n+\n+    /**\n+     * Creates a chat thread.\n+     * \n+     * @param body Request payload for creating a chat thread.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void createChatThread(CreateChatThreadRequest body, final Callback<MultiStatusResponse> callback) {\n+        this.serviceClient.createChatThread(body, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(Integer maxPageSize, OffsetDateTime startTime, final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(maxPageSize, startTime, callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param callback the Callback that receives the response.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreads(final Callback<Page<ChatThreadInfo>> callback) {\n+        this.serviceClient.listChatThreads(callback);\n+    }\n+\n+    /**\n+     * Gets the list of chat threads of a user.\n+     * \n+     * @param collectionCallback the Callback that receives the response collection.\n+     * @param maxPageSize The maximum number of chat threads returned per page.\n+     * @param startTime The earliest point in time to get chat threads up to. The timestamp should be in ISO8601 format: `yyyy-MM-ddTHH:mm:ssZ`.\n+     * @throws IllegalArgumentException thrown if parameters fail the validation.\n+     * @throws ErrorException thrown if the request is rejected by server.\n+     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n+     */\n+    public void listChatThreadsPages(final Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>> collectionCallback, Integer maxPageSize, OffsetDateTime startTime) {", "originalCommit": "6cccd63b6b6eb4af70e178dca0c50481ed561dc7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4OTAzOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r498989038", "bodyText": "same comment for other affected places", "author": "anuchandy", "createdAt": "2020-10-02T18:38:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4ODk0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTAwNDIxMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499004212", "bodyText": "Done moving callback to end", "author": "JianpingChen", "createdAt": "2020-10-02T19:12:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4ODk0Mw=="}], "type": "inlineReview"}, {"oid": "2dd6298de177eff041c91349e7d70b5f6606dcc7", "url": "https://github.com/Azure/azure-sdk-for-android/commit/2dd6298de177eff041c91349e7d70b5f6606dcc7", "message": "Manually fix a codegen issue with parameter sequence", "committedDate": "2020-10-02T19:11:48Z", "type": "commit"}, {"oid": "ca811dd21175b1ef5bbbcb6956b4c4a94aa6eb92", "url": "https://github.com/Azure/azure-sdk-for-android/commit/ca811dd21175b1ef5bbbcb6956b4c4a94aa6eb92", "message": "ACS Chat SDK Readme", "committedDate": "2020-10-02T21:14:47Z", "type": "commit"}, {"oid": "1c739751951371b645255371b9008db8859096a8", "url": "https://github.com/Azure/azure-sdk-for-android/commit/1c739751951371b645255371b9008db8859096a8", "message": "Merge pull request #1 from anuchandy/readme-chat\n\nACS Chat SDK Readme", "committedDate": "2020-10-02T21:21:56Z", "type": "commit"}, {"oid": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "url": "https://github.com/Azure/azure-sdk-for-android/commit/50b499f8d153441c69f146a77bab4f2f18c3a9a1", "message": "Add change log", "committedDate": "2020-10-02T21:55:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Njk5MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499066990", "bodyText": "I think this should be beta.2. Should not it? All the packages should be incremented to 2 now", "author": "RezaJooyandeh", "createdAt": "2020-10-02T21:57:28Z", "path": "sdk/communication/azure-communication-chat/CHANGELOG.md", "diffHunk": "@@ -0,0 +1,13 @@\n+# Release History\n+\n+## 1.0.0-beta.2 (Unreleased)\n+\n+\n+## 1.0.0-beta.1 (2020-09-22)", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Nzc4Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499067786", "bodyText": "Good catch. What about date?\nChatted offline", "author": "JianpingChen", "createdAt": "2020-10-02T22:00:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Njk5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MzIzMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499073230", "bodyText": "There's a typo (1.0.0-bata.1) in you comment @JianpingChen.", "author": "vcolin7", "createdAt": "2020-10-02T22:20:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Njk5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MzUwNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499073504", "bodyText": "Since your build.gradle shows the version as 1.0.0-beta.1, if chat was never released on 9/22, just update its date. And add a new unreleased line above it. Your changelog should look something like:\n## 1.0.0-beta.2 (Unreleased)\n\n## 1.0.0-beta.1 (2020-10-06)\n- Initial release of Chat.", "author": "bsiegel", "createdAt": "2020-10-02T22:21:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Njk5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Mjg3OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499062879", "bodyText": "Extra line?", "author": "JianpingChen", "createdAt": "2020-10-02T21:43:02Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.", "originalCommit": "1c739751951371b645255371b9008db8859096a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NDU5MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499074590", "bodyText": "There is a line that's missing:\n\nThe client library natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.", "author": "bsiegel", "createdAt": "2020-10-02T22:26:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Mjg3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NDc4MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499064780", "bodyText": "\"> 21\", blankspace", "author": "JianpingChen", "createdAt": "2020-10-02T21:49:45Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+", "originalCommit": "1c739751951371b645255371b9008db8859096a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NDc3Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499074772", "bodyText": "This should be a H2 under 'Key Concepts'", "author": "bsiegel", "createdAt": "2020-10-02T22:27:15Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Mjc0MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499092741", "bodyText": "done", "author": "anuchandy", "createdAt": "2020-10-02T23:56:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NDc3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NTIwNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499075205", "bodyText": "You should have some prose in here before your sample.", "author": "bsiegel", "createdAt": "2020-10-02T22:28:56Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NTY1Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499075657", "bodyText": "Let's make these H3 or H4s so that it renders better.", "author": "bsiegel", "createdAt": "2020-10-02T22:30:29Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Mjc4MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499092781", "bodyText": "updated", "author": "anuchandy", "createdAt": "2020-10-02T23:57:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NTY1Nw=="}], "type": "inlineReview"}, {"oid": "0c573b5db32478fcbf94b2bc951bea8601426d28", "url": "https://github.com/Azure/azure-sdk-for-android/commit/0c573b5db32478fcbf94b2bc951bea8601426d28", "message": "Update changelog for the release", "committedDate": "2020-10-02T22:32:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NjM3MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499076370", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The client raises via Callback.onFailure.\n          \n          \n            \n            When an error occurs, the client calls the callback's `onFailure` method. You can use the provided `Throwable` to act upon the failure.", "author": "bsiegel", "createdAt": "2020-10-02T22:33:36Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'normal' or 'high', if null i.e. not specified, \n+// 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Thread Member Operations\n+\n+### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember,\n+        Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Events Operations\n+\n+### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt,\n+        Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+                              AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextReceiptsPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+# Troubleshooting\n+\n+## General\n+\n+The client raises via Callback.onFailure.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NjU0OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499076548", "bodyText": "Just copy the URL from another library (e.g. storage) and change the URL-encoded parts of the path to match the path of this README.", "author": "bsiegel", "createdAt": "2020-10-02T22:34:18Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'normal' or 'high', if null i.e. not specified, \n+// 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Thread Member Operations\n+\n+### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember,\n+        Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Events Operations\n+\n+### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt,\n+        Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+                              AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextReceiptsPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+# Troubleshooting\n+\n+## General\n+\n+The client raises via Callback.onFailure.\n+\n+```java\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+# Next steps\n+\n+More sample code should go here, along with links out to the appropriate example tests.\n+\n+# Contributing\n+This project welcomes contributions and suggestions.  Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit https://cla.microsoft.com.\n+\n+When you submit a pull request, a CLA-bot will automatically determine whether you need to provide a CLA and decorate the PR appropriately (e.g., label, comment). Simply follow the instructions provided by the bot. You will only need to do this once across all repos using our CLA.\n+\n+This project has adopted the [Microsoft Open Source Code of Conduct](https://opensource.microsoft.com/codeofconduct/). For more information see the [Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/) or contact [opencode@microsoft.com](mailto:opencode@microsoft.com) with any additional questions or comments.\n+\n+![Impressions](TODO: Find impressions URL)", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Mjg0MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499092840", "bodyText": "thanks, updated.", "author": "anuchandy", "createdAt": "2020-10-02T23:57:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NjU0OA=="}], "type": "inlineReview"}, {"oid": "b8ee94873993ac87ede033159abde15b3038f6dc", "url": "https://github.com/Azure/azure-sdk-for-android/commit/b8ee94873993ac87ede033159abde15b3038f6dc", "message": "Update chat gradle and changelog for correct version", "committedDate": "2020-10-02T22:45:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2MTY0Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499061643", "bodyText": "Is this a typo or missing something? The \"higher\" part feels out of place with the previous sentence.", "author": "vcolin7", "createdAt": "2020-10-02T21:39:02Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.", "originalCommit": "1c739751951371b645255371b9008db8859096a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5MzExNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499093115", "bodyText": "was copy-paste error, fixed.", "author": "anuchandy", "createdAt": "2020-10-02T23:59:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2MTY0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2MTcyMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499061723", "bodyText": "If possible, I would prefer to keep paragraphs to one line in the .md file like other libraries. Not a hard requirement though.", "author": "vcolin7", "createdAt": "2020-10-02T21:39:15Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android", "originalCommit": "1c739751951371b645255371b9008db8859096a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5MzA4OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499093089", "bodyText": "done, should be all in single line now", "author": "anuchandy", "createdAt": "2020-10-02T23:59:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2MTcyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MjM5Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499072396", "bodyText": "Should we clarify what GA stands for?", "author": "vcolin7", "createdAt": "2020-10-02T22:17:17Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.", "originalCommit": "1c739751951371b645255371b9008db8859096a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5MjkyMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499092920", "bodyText": "like we discussed offline, we keep this as it is.", "author": "anuchandy", "createdAt": "2020-10-02T23:58:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3MjM5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NjI2OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499076268", "bodyText": "This might confuse users if they picked a different programming language for getting their access token, we should make it language agnostic.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The CommunicationUser.identifier you created before, required.\n          \n          \n            \n            // The communication user id you created before, required.", "author": "vcolin7", "createdAt": "2020-10-02T22:33:09Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NzM5NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499077394", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The thread start time to consider in the query, optional\n          \n          \n            \n            // The thread start time to consider in the query, optional.", "author": "vcolin7", "createdAt": "2020-10-02T22:38:12Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3NzQ2MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499077461", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The model to pass to create method.\n          \n          \n            \n            // The model to pass to the create method.", "author": "vcolin7", "createdAt": "2020-10-02T22:38:35Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3Nzk3NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499077974", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Use the `getChatThread` method to retrieve a thread.\n          \n          \n            \n            ```java\n          \n          \n            \n            Use the `getChatThread` method to retrieve a thread.\n          \n          \n            \n            \n          \n          \n            \n            ```java", "author": "vcolin7", "createdAt": "2020-10-02T22:40:45Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3ODEzOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499078139", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 // pageCollection enables enumerating list of threads.                       \n          \n          \n            \n                 // pageCollection enables enumerating a list of threads.", "author": "vcolin7", "createdAt": "2020-10-02T22:41:26Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       ", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3ODM4MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499078381", "bodyText": "The indentation looks strange in the web viewer, is this how it looks in an IDE?", "author": "vcolin7", "createdAt": "2020-10-02T22:42:29Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MTkyNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499081924", "bodyText": "when we render it, it looks correct, (on my mac safari)", "author": "anuchandy", "createdAt": "2020-10-02T22:58:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3ODM4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5MzAwNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499093007", "bodyText": "indentation is updated across samples", "author": "anuchandy", "createdAt": "2020-10-02T23:58:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3ODM4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3ODU4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499078583", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change", "author": "vcolin7", "createdAt": "2020-10-02T22:43:21Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3ODcwMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499078702", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            //  The display name of the sender, if null i.e. not specified, an empty name will be set.\n          \n          \n            \n            // The display name of the sender, if null (i.e. not specified), an empty name will be set.", "author": "vcolin7", "createdAt": "2020-10-02T22:43:58Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3OTExNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499079117", "bodyText": "Are priority levels lowercase? I saw they were uppercase in the iOS README.", "author": "vcolin7", "createdAt": "2020-10-02T22:45:43Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5MzAyNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499093026", "bodyText": "done!", "author": "anuchandy", "createdAt": "2020-10-02T23:58:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3OTExNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3OTY2OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499079668", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ```java\n          \n          \n            \n            \n          \n          \n            \n            ```java", "author": "vcolin7", "createdAt": "2020-10-02T22:48:17Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA3OTc5OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499079798", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The thread start time to consider in the query, optional\n          \n          \n            \n            // The thread start time to consider in the query, optional.", "author": "vcolin7", "createdAt": "2020-10-02T22:48:54Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MDAwOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499080008", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // if null i.e. not specified, 'normal' will be set.\n          \n          \n            \n            // if null (i.e. not specified), 'normal' will be set.", "author": "vcolin7", "createdAt": "2020-10-02T22:49:54Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MDE2Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499080163", "bodyText": "Let's make sure the indentation is correct.", "author": "vcolin7", "createdAt": "2020-10-02T22:50:36Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MDI2NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499080265", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The message priority level, such as 'normal' or 'high', if null i.e. not specified, \n          \n          \n            \n            // The message priority level, such as 'normal' or 'high', if null (i.e. not specified),", "author": "vcolin7", "createdAt": "2020-10-02T22:51:03Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'normal' or 'high', if null i.e. not specified, ", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MDQxNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499080417", "bodyText": "Indentation.", "author": "vcolin7", "createdAt": "2020-10-02T22:51:43Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'normal' or 'high', if null i.e. not specified, \n+// 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Thread Member Operations\n+\n+### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember,\n+        Page<ChatThreadMember>> firstPage,\n+        Response response) {", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MDUyMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499080520", "bodyText": "Indentation.", "author": "vcolin7", "createdAt": "2020-10-02T22:52:20Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'normal' or 'high', if null i.e. not specified, \n+// 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Thread Member Operations\n+\n+### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember,\n+        Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Events Operations\n+\n+### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt,\n+        Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+                              AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4MDY2NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499080664", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This project welcomes contributions and suggestions.  Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit https://cla.microsoft.com.\n          \n          \n            \n            This project welcomes contributions and suggestions. Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit https://cla.microsoft.com.", "author": "vcolin7", "createdAt": "2020-10-02T22:52:52Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,712 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource)\n+  higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must\n+  be configured to\n+  [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features)\n+  to use this library. Java 8 language features that require a target API level >21 are not used, nor are any Java 8+\n+  APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## User and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Create the AzureCommunicationChatClient\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages.\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+## Thread Operations\n+\n+### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection,\n+                          Response response) {\n+     // pageCollection enables enumerating list of threads.                       \n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+                       AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Message Operations\n+\n+### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+//  The display name of the sender, if null i.e. not specified, an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'normal' or 'high', \n+// if null i.e. not specified, 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+                            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'normal' or 'high', if null i.e. not specified, \n+// 'normal' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Thread Member Operations\n+\n+### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember,\n+        Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+                              AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+## Events Operations\n+\n+### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt,\n+        Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+                              AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextReceiptsPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+# Troubleshooting\n+\n+## General\n+\n+The client raises via Callback.onFailure.\n+\n+```java\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+# Next steps\n+\n+More sample code should go here, along with links out to the appropriate example tests.\n+\n+# Contributing\n+This project welcomes contributions and suggestions.  Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit https://cla.microsoft.com.", "originalCommit": "50b499f8d153441c69f146a77bab4f2f18c3a9a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "77224ae47ed6674258a55526e4dd772b1e6336dd", "url": "https://github.com/Azure/azure-sdk-for-android/commit/77224ae47ed6674258a55526e4dd772b1e6336dd", "message": "Apply README review suggestions\n\nCo-authored-by: vcolin7 <vicolina@microsoft.com>\nCo-authored-by: Brandon Siegel <96068+bsiegel@users.noreply.github.com>", "committedDate": "2020-10-02T23:13:26Z", "type": "commit"}, {"oid": "c605eb27023610978815d1215d85e002bc0a9065", "url": "https://github.com/Azure/azure-sdk-for-android/commit/c605eb27023610978815d1215d85e002bc0a9065", "message": "Update changelog", "committedDate": "2020-10-02T23:24:30Z", "type": "commit"}, {"oid": "5e729456186922fcab4eba2f1158cbab3694d174", "url": "https://github.com/Azure/azure-sdk-for-android/commit/5e729456186922fcab4eba2f1158cbab3694d174", "message": "Merge branch 'jiach/chatSdk' of https://github.com/JianpingChen/azure-sdk-for-android into jiach/chatSdk", "committedDate": "2020-10-02T23:24:54Z", "type": "commit"}, {"oid": "3156092136752b777ad4af7cd7af8afa3924386e", "url": "https://github.com/Azure/azure-sdk-for-android/commit/3156092136752b777ad4af7cd7af8afa3924386e", "message": "Readme: cleanup", "committedDate": "2020-10-02T23:53:55Z", "type": "commit"}, {"oid": "633db281a391fbef9b463bf0eafea7b634c9e804", "url": "https://github.com/Azure/azure-sdk-for-android/commit/633db281a391fbef9b463bf0eafea7b634c9e804", "message": "Merge pull request #3 from anuchandy/readme-update-3\n\nReadme: cleanup", "committedDate": "2020-10-02T23:56:10Z", "type": "commit"}, {"oid": "b8364424432166930561b2856ae35d14d39520f3", "url": "https://github.com/Azure/azure-sdk-for-android/commit/b8364424432166930561b2856ae35d14d39520f3", "message": "removing locale from readme link", "committedDate": "2020-10-03T00:09:40Z", "type": "commit"}, {"oid": "bae2e3158868d9765c2e0294a466f5eeef25c564", "url": "https://github.com/Azure/azure-sdk-for-android/commit/bae2e3158868d9765c2e0294a466f5eeef25c564", "message": "last touch for the changelog", "committedDate": "2020-10-03T00:38:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NDkyMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499094923", "bodyText": "Is it \"Service\" or \"Services\"?", "author": "vcolin7", "createdAt": "2020-10-03T00:12:59Z", "path": "sdk/communication/azure-communication-chat/build.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext.publishName = \"Microsoft Azure Android Client Library for Communication Chat Services\"\n+description = \"This package contains the Android client library common code for Microsoft Azure Communication Chat Service.\"", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTg4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099883", "bodyText": "Chat \ud83d\udc49\ud83c\udffb Service\nCommunication \ud83d\udc49\ud83c\udffb Services\nSo \"Chat Services\" should become \"Chat Service\"", "author": "RezaJooyandeh", "createdAt": "2020-10-03T00:51:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NDkyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMDI3OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499100279", "bodyText": "\"Services\" is the correct one", "author": "JianpingChen", "createdAt": "2020-10-03T00:53:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NDkyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMTI5NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499101295", "bodyText": "my bad. In this case, should not be plural. Changing", "author": "JianpingChen", "createdAt": "2020-10-03T01:04:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NDkyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NDk4NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499094984", "bodyText": "We should avoid using hardcoded versions in build.gradle files.", "author": "vcolin7", "createdAt": "2020-10-03T00:13:32Z", "path": "sdk/communication/azure-communication-chat/build.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext.publishName = \"Microsoft Azure Android Client Library for Communication Chat Services\"\n+description = \"This package contains the Android client library common code for Microsoft Azure Communication Chat Service.\"\n+version = \"1.0.0-beta.2\"\n+ext.versionCode = 1\n+\n+android {\n+    defaultConfig {\n+        versionCode project.versionCode\n+        versionName project.version\n+    }\n+}\n+\n+dependencies {\n+    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\n+    implementation 'androidx.appcompat:appcompat:1.2.0'\n+    implementation \"com.fasterxml.jackson.core:jackson-databind:$jacksonVersion\"\n+    implementation \"com.fasterxml.jackson.dataformat:jackson-dataformat-xml:$jacksonVersion\"\n+    implementation \"com.jakewharton.threetenabp:threetenabp:$threeTenAbpVersion\"\n+    implementation \"com.squareup.okhttp3:okhttp:$okHttpVersion\"\n+    implementation \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\n+    implementation project(\":sdk:core:azure-core\")\n+    testImplementation \"junit:junit:$jUnitVersion\"\n+    testImplementation \"com.squareup.okhttp3:mockwebserver:$okHttpVersion\"\n+    androidTestImplementation \"androidx.test.ext:junit:1.1.2\"\n+    androidTestImplementation \"androidx.test.espresso:espresso-core:3.3.0\"", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTc4OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099789", "bodyText": "Yes. But this also happened in Storage. I was thinking to make another PR to address this later.", "author": "JianpingChen", "createdAt": "2020-10-03T00:50:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NDk4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTA4Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095082", "bodyText": "Is it Chat Service or Chat Services?", "author": "vcolin7", "createdAt": "2020-10-03T00:14:15Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTg3Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099877", "bodyText": "\"Services\" were used in other places and I believe we should be consistent", "author": "JianpingChen", "createdAt": "2020-10-03T00:51:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTA4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMTM5Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499101397", "bodyText": "In this case, singular makes sense", "author": "JianpingChen", "createdAt": "2020-10-03T01:05:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTA4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTMyMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095322", "bodyText": "We use the word plugin both with the first letter in uppercase and lowercase. We should stick to one for the sake of consistency.", "author": "vcolin7", "createdAt": "2020-10-03T00:15:45Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTM3OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095378", "bodyText": "I think the official name uses lowercase for \"plugin\".", "author": "vcolin7", "createdAt": "2020-10-03T00:16:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTMyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTQzMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095430", "bodyText": "If the current version of the library is this one then why does the CHANGELOG show 1.0.0-beta.2?", "author": "vcolin7", "createdAt": "2020-10-03T00:16:38Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMDA2Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499100062", "bodyText": "For this one, I check with Reza and we want the version labels for all communication packages to be consistent. Therefore, beta.2 is the correct one to use.", "author": "JianpingChen", "createdAt": "2020-10-03T00:52:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTQzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTUyMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095522", "bodyText": "Should this say \"build files\" instead of \"build scripts\"?", "author": "vcolin7", "createdAt": "2020-10-03T00:17:18Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMzIzNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499103234", "bodyText": "Maven is pom.xml based. To me, \"build files\" makes more sense.", "author": "JianpingChen", "createdAt": "2020-10-03T01:27:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTUyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTY4NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095685", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n          \n          \n            \n            Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create an `AzureCommunicationChatClient`.", "author": "vcolin7", "createdAt": "2020-10-03T00:18:34Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMzUwMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499103501", "bodyText": "This one is a tough call. If we are talking about class, without \"an\" makes sense. If we want to talk about object instance, \"create an instance of AzureCommunicationChatClient \".", "author": "JianpingChen", "createdAt": "2020-10-03T01:30:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTY4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NTgxOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499095818", "bodyText": "Equals sign should be in the same line as variable name declaration. Also fixed indentation.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            AzureCommunicationChatServiceAsyncClient client\n          \n          \n            \n                = new AzureCommunicationChatServiceAsyncClient.Builder()\n          \n          \n            \n                .endpoint(endpoint)\n          \n          \n            \n                .credentialInterceptor(chain -> chain.proceed(chain.request()\n          \n          \n            \n                    .newBuilder()\n          \n          \n            \n                    .header(HttpHeader.AUTHORIZATION, userAccessToken)\n          \n          \n            \n                    .build());\n          \n          \n            \n            AzureCommunicationChatServiceAsyncClient client =\n          \n          \n            \n                new AzureCommunicationChatServiceAsyncClient.Builder()\n          \n          \n            \n                    .endpoint(endpoint)\n          \n          \n            \n                    .credentialInterceptor(chain -> chain.proceed(chain.request()\n          \n          \n            \n                        .newBuilder()\n          \n          \n            \n                        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n          \n          \n            \n                        .build());", "author": "vcolin7", "createdAt": "2020-10-03T00:19:28Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjA4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096083", "bodyText": "Maybe we should also say \"Send a read receipt\". What do you think?", "author": "vcolin7", "createdAt": "2020-10-03T00:21:24Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjEzMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096132", "bodyText": "nit; For consistency.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The communication user id you created before, required.\n          \n          \n            \n            // The communication user ID you created before, required.", "author": "vcolin7", "createdAt": "2020-10-03T00:21:48Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjMwOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096309", "bodyText": "Is it common to see these TODO items in code samples to imply that the user can/should do something here? The first time I read them I thought there were some pending things to add here by us.", "author": "vcolin7", "createdAt": "2020-10-03T00:23:07Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwNDIyMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499104221", "bodyText": "It seems in this document \"// TODO:\" is meant to say \"There is more you can do\" not necessarily \"there is more you have to do\". Not to change this interpretation, I choose not to take action on this one.", "author": "JianpingChen", "createdAt": "2020-10-03T01:38:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjMwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjQxOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096418", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:23:46Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjQ2Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096462", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    for (IndividualStatusResponse  status : statusList) {\n          \n          \n            \n                    for (IndividualStatusResponse status : statusList) {", "author": "vcolin7", "createdAt": "2020-10-03T00:24:10Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjY4Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096687", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                //TODO: Take further action\n          \n          \n            \n                                // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:25:50Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Njc2MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096761", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            //TODO: Take further action\n          \n          \n            \n                            // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:26:36Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjgxMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096811", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:27:04Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjgyNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096826", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Use `deleteChatThread` method to delete a thread.\n          \n          \n            \n            Use the `deleteChatThread` method to delete a thread.", "author": "vcolin7", "createdAt": "2020-10-03T00:27:16Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Njg0Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096847", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:27:28Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NjkxMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096911", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The message priority level, such as 'NORMAL' or 'HIIGH', \n          \n          \n            \n            // The message priority level, such as 'NORMAL' or 'HIGH',", "author": "vcolin7", "createdAt": "2020-10-03T00:27:53Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', ", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Njk2Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499096967", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:28:12Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzA0OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097048", "bodyText": "We can have all 3 arguments in the same line.", "author": "vcolin7", "createdAt": "2020-10-03T00:28:46Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzMxOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097319", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    //TODO: Take further action\n          \n          \n            \n                                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:30:51Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzM0Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097342", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            //TODO: Take further action\n          \n          \n            \n                            // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:31:04Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzQxOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097418", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            }\n          \n          \n            \n            \n          \n          \n            \n            ```\n          \n          \n            \n            }", "author": "vcolin7", "createdAt": "2020-10-03T00:31:29Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzQ0Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097442", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            //  The model to pass to update method.\n          \n          \n            \n            //  The model to pass to the update method.", "author": "vcolin7", "createdAt": "2020-10-03T00:31:48Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzY5OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097698", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 // pageCollection enables enumerating a list of threads.\n          \n          \n            \n                 pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n          \n          \n            \n                    // pageCollection enables enumerating a list of threads.\n          \n          \n            \n                    pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {", "author": "vcolin7", "createdAt": "2020-10-03T00:33:45Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Nzc2NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097764", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The model to pass to update method.\n          \n          \n            \n            // The model to pass to the update method.", "author": "vcolin7", "createdAt": "2020-10-03T00:34:17Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5NzgwNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097806", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The model to pass to add method.\n          \n          \n            \n            // The model to pass to the add method.", "author": "vcolin7", "createdAt": "2020-10-03T00:34:43Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5Nzk3Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499097973", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:35:59Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODEyMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098123", "bodyText": "These parameters can be in one line.", "author": "vcolin7", "createdAt": "2020-10-03T00:37:11Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODEzNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098136", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:37:22Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODM0OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098349", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            final String messageId = \"message_id\";\n          \n          \n            \n            final String messageId = \"<message_id>\";", "author": "vcolin7", "createdAt": "2020-10-03T00:39:07Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODM4Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098386", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            final String messageId = \"message_id\";\n          \n          \n            \n            final String messageId = \"<message_id>\";", "author": "vcolin7", "createdAt": "2020-10-03T00:39:21Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODM5OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098399", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:39:32Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODUwMw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098503", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                //TODO: Take further action\n          \n          \n            \n                                // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:40:13Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODUzMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098531", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            //TODO: Take further action\n          \n          \n            \n                            // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:40:28Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODU5NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098594", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:40:54Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODYyOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098629", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:41:09Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODY3Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098672", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:41:33Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODcwNw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098707", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // The model to be passed to send method.\n          \n          \n            \n            // The model to be passed to the send method.", "author": "vcolin7", "createdAt": "2020-10-03T00:41:49Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODczOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098739", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //TODO: Take further action\n          \n          \n            \n                    // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:42:02Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODc3MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098771", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                //TODO: Take further action\n          \n          \n            \n                                // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:42:19Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODgwMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499098802", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            //TODO: Take further action\n          \n          \n            \n                            // TODO: Take further action.", "author": "vcolin7", "createdAt": "2020-10-03T00:42:32Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+    AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTA0Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099043", "bodyText": "Maybe we can change this based on the context.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // TODO: Display error message.\n          \n          \n            \n                    // TODO: Handle error.", "author": "vcolin7", "createdAt": "2020-10-03T00:44:23Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+    AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextReceiptsPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+# Troubleshooting\n+\n+## General\n+\n+When an error occurs, the client calls the callback's `onFailure` method. You can use the provided `Throwable` to act upon the failure.\n+\n+```java\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTA4Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099086", "bodyText": "I'm thinking we could probably do this for all other instances where onFailure() is present. What do you think?", "author": "vcolin7", "createdAt": "2020-10-03T00:44:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTA0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMTgyMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499101821", "bodyText": "Good idea.", "author": "JianpingChen", "createdAt": "2020-10-03T01:10:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTA0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTMzNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099334", "bodyText": "Did this mean to say \"along with links out to the appropriate code samples.\" at the end? Or maybe \"sample tests\"?", "author": "vcolin7", "createdAt": "2020-10-03T00:46:05Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+    AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextReceiptsPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+# Troubleshooting\n+\n+## General\n+\n+When an error occurs, the client calls the callback's `onFailure` method. You can use the provided `Throwable` to act upon the failure.\n+\n+```java\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+# Next steps\n+\n+More sample code should go here, along with links out to the appropriate example tests.", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwMjAxMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499102012", "bodyText": "I'll take \"code samples.\"", "author": "JianpingChen", "createdAt": "2020-10-03T01:12:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTMzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTQyMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/370#discussion_r499099420", "bodyText": "We should agree to a standard about if we will have one empty line after any header or not, just to be consistent. Not required for this release.", "author": "vcolin7", "createdAt": "2020-10-03T00:46:45Z", "path": "sdk/communication/azure-communication-chat/README.md", "diffHunk": "@@ -0,0 +1,714 @@\n+# Azure Communication Chat Service client library for Android\n+This package contains the Android SDK for Azure Communication Services for Chat.\n+Read more about Azure Communication Services [here](https://docs.microsoft.com/azure/communication-services/overview).\n+\n+# Getting started\n+\n+## Prerequisites\n+\n+* You must have an [Azure subscription](https://azure.microsoft.com/free/) to use this library.\n+* An Azure Communication Resource, learn how to create one from [Create an Azure Communication Resource](https://docs.microsoft.com/azure/communication-services/quickstarts/create-communication-resource).\n+* The client libraries natively target Android API level 21. Your application's minSdkVersion must be set to 21 or higher to use this library.\n+* The library is written in Java 8. Your application must be built with Android Gradle Plugin 3.0.0 or later, and must be configured to [enable Java 8 language desugaring](https://developer.android.com/studio/write/java8-support.html#supported_features) to use this library. Java 8 language features that require a target API level > 21 are not used, nor are any Java 8+ APIs that would require the Java 8+ API desugaring provided by Android Gradle plugin 4.0.0.\n+\n+### Versions available\n+The current version of this library is **1.0.0-beta.1**.\n+\n+> Note: The SDK is currently in **beta**. The API surface and feature sets are subject to change at any time before **GA**. We do not currently recommend them for production use.\n+\n+### Install the library\n+To install the Azure client libraries for Android, add them as dependencies within your\n+[Gradle](#add-a-dependency-with-gradle) or\n+[Maven](#add-a-dependency-with-maven) build scripts.\n+\n+#### Add a dependency with Gradle\n+To import the library into your project using the [Gradle](https://gradle.org/) build system, follow the instructions in [Add build dependencies](https://developer.android.com/studio/build/dependencies):\n+\n+Add an `implementation` configuration to the `dependencies` block of your app's `build.gradle` or `build.gradle.kts` file, specifying the library's name and the version you wish to use:\n+\n+```gradle\n+// build.gradle\n+dependencies {\n+    ...\n+    implementation \"com.azure.android:azure-communication-chat:1.0.0-beta.1\"\n+}\n+\n+// build.gradle.kts\n+dependencies {\n+    ...\n+    implementation(\"com.azure.android:azure-communication-chat:1.0.0-beta.1\")\n+}\n+```\n+\n+#### Add a dependency with Maven\n+To import the library into your project using the [Maven](https://maven.apache.org/) build system, add it to the `dependencies` section of your app's `pom.xml` file, specifying its artifact ID and the version you wish to use:\n+\n+```xml\n+<dependency>\n+  <groupId>com.azure.android</groupId>\n+  <artifactId>azure-communication-chat</artifactId>\n+  <version>1.0.0-beta.1</version>\n+</dependency>\n+```\n+\n+## Create the AzureCommunicationChatClient\n+\n+Use the `AzureCommunicationChatServiceAsyncClient.Builder` to configure and create `AzureCommunicationChatClient`.\n+\n+```java\n+import com.azure.android.communication.chat.AzureCommunicationChatServiceAsyncClient;\n+import com.azure.android.core.http.HttpHeader;\n+\n+final String endpoint = \"https://<resource>.communication.azure.com\";\n+final String userAccessToken = \"<user_access_token>\";\n+\n+AzureCommunicationChatServiceAsyncClient client\n+    = new AzureCommunicationChatServiceAsyncClient.Builder()\n+    .endpoint(endpoint)\n+    .credentialInterceptor(chain -> chain.proceed(chain.request()\n+        .newBuilder()\n+        .header(HttpHeader.AUTHORIZATION, userAccessToken)\n+        .build());\n+```\n+\n+# Key concepts\n+\n+## Users and User Access Tokens\n+\n+User access tokens enable you to build client applications that directly authenticate to Azure Communication Services. Refer [here](https://docs.microsoft.com/azure/communication-services/quickstarts/access-tokens) to learn how to create a user and issue a User Access Token.\n+\n+The id for the user created above will be necessary later to add said user as a member of a new chat thread. The initiator of the create request must be in the list of members of the chat thread.\n+\n+## Chat Thread\n+\n+A chat conversation is represented by a chat thread. Each user in the thread is called a thread member. Thread members can chat with one another privately in a 1:1 chat or huddle up in a 1:N group chat. Users also get near real-time updates for when others are typing and when they have read the messages. To learn more, read about chat concepts [here](https://docs.microsoft.com/azure/communication-services/concepts/chat/concepts).\n+\n+# Chat operations\n+\n+Once you initialize an `AzureCommunicationChatClient` class, you can perform the following chat operations:\n+\n+## Thread Operations\n+\n+- [Create a thread](#create-a-thread)\n+- [Get a thread](#get-a-thread)\n+- [List threads](#list-threads)\n+- [Update a thread](#update-a-thread)\n+- [Delete a thread](#delete-a-thread)\n+\n+## Message Operations\n+\n+- [Send a message](#send-a-message)\n+- [Get a message](#get-a-message)\n+- [List messages](#list-messages)\n+- [Update a message](#update-a-message)\n+- [Delete a message](#delete-a-message)\n+\n+## Thread Member Operations\n+\n+- [Get thread members](#get-thread-members)\n+- [Add thread members](#add-thread-members)\n+- [Remove a thread member](#remove-a-thread-member)\n+\n+## Events Operations\n+\n+- [Send a typing notification](#send-a-typing-notification)\n+- [Send read receipt](#send-read-receipt)\n+- [Get read receipts](#get-read-receipts)\n+\n+# Examples\n+\n+### Thread Operations\n+\n+#### Create a thread\n+\n+Use the `create` method to create a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The communication user id you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"initial member\";\n+members.add(new ChatThreadMember()\n+    .setId(id)\n+    .setDisplayName(displayName));\n+\n+// The topic for the thread.\n+final String topic = \"General\";\n+// The model to pass to the create method.\n+CreateChatThreadRequest thread = new CreateChatThreadRequest()\n+    .setTopic(topic)\n+    .setMembers(members);\n+\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onSuccess(MultiStatusResponse result, okhttp3.Response response) {\n+        // MultiStatusResponse is the result returned from creating a thread.\n+        // It has a 'multipleStatus' property which represents a list of IndividualStatusResponse.\n+        String threadId;\n+        List<IndividualStatusResponse> statusList = result.getMultipleStatus();\n+        for (IndividualStatusResponse  status : statusList) {\n+            if (status.getId().endsWith(\"@thread.v2\")\n+                && status.getType().contentEquals(\"Thread\")) {\n+                threadId = status.getId();\n+                break;\n+            }\n+        }\n+        // TODO: Take further action.\n+    }\n+\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a thread\n+\n+Use the `getChatThread` method to retrieve a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.getChatThread(threadId, new Callback<ChatThread>() {\n+    @Override\n+    public void onSuccess(ChatThread thread, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List threads\n+\n+Use the `listChatThreads` method to retrieve a list of threads.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+client.listChatThreadsPages(maxPageSize, startTime,\n+    new Callback<AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadInfo,\n+        Page<ChatThreadInfo>> pageCollection,\n+        Response response) {\n+     // pageCollection enables enumerating a list of threads.\n+     pageCollection.getFirstPage(new Callback<Page<ChatThreadInfo>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadInfo> firstPage, Response response) {\n+                for (ChatThreadInfo thread : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextThreadPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextThreadPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadInfo, Page<ChatThreadInfo>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadInfo>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadInfo> nextPage, Response response) {\n+            for (ChatThreadInfo thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextThreadPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Update a thread\n+\n+Use the `update` method to update a thread's properties.\n+\n+```java\n+// The new topic for the thread.\n+final String topic = \"updated topic\";\n+// The model to pass to update method.\n+UpdateChatThreadRequest thread = new UpdateChatThreadRequest()\n+    .setTopic(topic);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.updateChatThread(threadId, thread, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a thread\n+\n+Use `deleteChatThread` method to delete a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.deleteChatThread(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Message Operations\n+\n+#### Send a message\n+\n+Use the `send` method to send a message to a thread.\n+```java\n+// The chat message content, required.\n+final String content = \"Test message 1\";\n+// The display name of the sender, if null (i.e. not specified), an empty name will be set.\n+final String senderDisplayName = \"An important person\";\n+// The message priority level, such as 'NORMAL' or 'HIIGH', \n+// if null (i.e. not specified), 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+SendChatMessageRequest message = new SendChatMessageRequest()\n+    .setPriority(priority)\n+    .setContent(content)\n+    .setSenderDisplayName(senderDisplayName);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatMessage(threadId, message, new Callback<SendChatMessageResult>() {\n+    @Override\n+    public void onSuccess(SendChatMessageResult result, Response response) {\n+        // SendChatMessageResult is the response returned from sending a message, it contains an id, \n+        // which is the unique ID of the message.\n+        final String chatMessageId = result.getId();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get a message\n+\n+Use the `getChatMessage` method to retrieve a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String chatMessageId = \"<message_id>\";\n+\n+client.getChatMessage(threadId,\n+    chatMessageId,\n+    new Callback<ChatMessage>() {\n+    @Override\n+    public void onSuccess(ChatMessage result, Response response) {\n+        // `ChatMessage` is the response returned from getting a message.\n+        final String content = result.getContent();\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### List messages\n+\n+Use the `listChatMessages` method to retrieve messages in a thread.\n+\n+```java\n+// The maximum number of messages to be returned per page, optional.\n+final int maxPageSize = 10;\n+// The thread start time to consider in the query, optional.\n+final OffsetDateTime startTime = OffsetDateTime.parse(\"2020-09-08T00:00:00Z\");\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+        \n+client.listChatMessagesPages(threadId,\n+    maxPageSize,\n+    startTime,\n+    new Callback<AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>>>() {\n+        @Override\n+        public void onSuccess(AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection,\n+            Response response) {\n+            // pageCollection enables enumerating list of messages.\n+            pageCollection.getFirstPage(new Callback<Page<ChatMessage>>() {\n+                @Override\n+                public void onSuccess(Page<ChatMessage> firstPage, Response response) {\n+                    for (ChatMessage message : firstPage.getItems()) {\n+                        //TODO: Take further action\n+                    }\n+                    retrieveNextMessagePages(firstPage.getPageId(), pageCollection);\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    // TODO: Display error message.\n+                }\n+            });\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+});\n+\n+void retrieveNextMessagePages(String nextPageId,\n+    AsyncPagedDataCollection<ChatMessage, Page<ChatMessage>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatMessage>>() {\n+        @Override\n+        public void onSuccess(Page<ChatMessage> nextPage, Response response) {\n+            for (ChatMessage thread : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMessagePages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+\n+```\n+\n+#### Update a message\n+\n+Use the `update` method to update a message in a thread.\n+\n+```java\n+// The message content to be updated.\n+final String content = \"updated message\";\n+// The message priority level, such as 'NORMAL' or 'HIGH', if null (i.e. not specified), \n+// 'NORMAL' will be set.\n+final ChatMessagePriority priority = ChatMessagePriority.HIGH;\n+//  The model to pass to update method.\n+UpdateChatMessageRequest message = new UpdateChatMessageRequest()\n+    .setContent(content)\n+    .setPriority(priority);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.updateChatMessage(threadId,\n+    messageId,\n+    message, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Delete a message\n+\n+Use the `deleteChatMessage` method to delete a message in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the message.\n+final String messageId = \"message_id\";\n+client.deleteChatMessage(threadId, messageId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Thread Member Operations\n+\n+#### Get thread members\n+\n+Use the `listChatThreadMembers` method to retrieve the members participating in a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatThreadMembersPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> firstPage,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ChatThreadMember>>() {\n+            @Override\n+            public void onSuccess(Page<ChatThreadMember> firstPage, Response response) {\n+                for (ChatThreadMember member : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextMembersPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextMembersPages(String nextPageId,\n+    AsyncPagedDataCollection<ChatThreadMember, Page<ChatThreadMember>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ChatThreadMember>>() {\n+        @Override\n+        public void onSuccess(Page<ChatThreadMember> nextPage, Response response) {\n+            for (ChatThreadMember member : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextMembersPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+#### Add thread members\n+\n+Use the `add` method to add members to a thread.\n+\n+```java\n+//  The list of ChatThreadMember to be added to the thread.\n+List<ChatThreadMember> members = new ArrayList<>();\n+// The CommunicationUser.identifier you created before, required.\n+final String id = \"<user_id>\";\n+// The display name for the thread member.\n+final String displayName = \"a new member\";\n+members.add(new ChatThreadMember().setId(id).setDisplayName(displayName));\n+// The model to pass to add method.\n+AddChatThreadMembersRequest threadMembers = new AddChatThreadMembersRequest()\n+    .setMembers(members);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.addChatThreadMembers(threadId, threadMembers, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Remove a thread member\n+\n+Use the `removeChatThreadMember` method to remove a member from a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+// The unique ID of the member.\n+final String memberId = \"<member_id>\";\n+client.removeChatThreadMember(threadId, memberId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+### Events Operations\n+\n+#### Send a typing notification\n+\n+Use the `sendTypingNotification` method to post a typing notification event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendTypingNotification(threadId, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Send read receipt\n+\n+Use the `send` method to post a read receipt event to a thread, on behalf of a user.\n+\n+```java\n+// The unique ID of the member.\n+final String messageId = \"<message_id>\";\n+// The model to be passed to send method.\n+SendReadReceiptRequest readReceipt = new SendReadReceiptRequest()\n+    .setChatMessageId(messageId);\n+\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.sendChatReadReceipt(threadId, readReceipt, new Callback<Void>() {\n+    @Override\n+    public void onSuccess(Void result, Response response) {\n+        //TODO: Take further action\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+#### Get read receipts\n+\n+Use the `listChatReadReceipts` method to retrieve read receipts for a thread.\n+\n+```java\n+// The unique ID of the thread.\n+final String threadId = \"<thread_id>\";\n+client.listChatReadReceiptsPages(threadId,\n+    new Callback<AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>>>() {\n+    @Override\n+    public void onSuccess(AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> result,\n+        Response response) {\n+         // pageCollection enables enumerating list of chat members.\n+         pageCollection.getFirstPage(new Callback<Page<ReadReceipt>>() {\n+            @Override\n+            public void onSuccess(Page<ReadReceipt> firstPage, Response response) {\n+                for (ReadReceipt receipt : firstPage.getItems()) {\n+                    //TODO: Take further action\n+                }\n+                retrieveNextReceiptsPages(firstPage.getPageId(), pageCollection);\n+            }\n+\n+            @Override\n+            public void onFailure(Throwable throwable, Response response) {\n+                // TODO: Display error message.\n+            }\n+         }\n+    }\n+\n+    @Override\n+    public void onFailure(Throwable throwable, Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+\n+void retrieveNextReceiptsPages(String nextPageId,\n+    AsyncPagedDataCollection<ReadReceipt, Page<ReadReceipt>> pageCollection) {\n+    pageCollection.getPage(nextPageId, new Callback<Page<ReadReceipt>>() {\n+        @Override\n+        public void onSuccess(Page<ReadReceipt> nextPage, Response response) {\n+            for (ReadReceipt receipt : nextPage.getItems()) {\n+                //TODO: Take further action\n+            }\n+            if (nextPage.getPageId() != null) {\n+                retrieveNextReceiptsPages(nextPage.getPageId(), pageCollection);\n+            }\n+        }\n+\n+        @Override\n+        public void onFailure(Throwable throwable, Response response) {\n+            // TODO: Display error message.\n+        }\n+    });\n+}\n+```\n+\n+# Troubleshooting\n+\n+## General\n+\n+When an error occurs, the client calls the callback's `onFailure` method. You can use the provided `Throwable` to act upon the failure.\n+\n+```java\n+client.createChatThread(thread, new Callback<MultiStatusResponse>() {\n+    public void onFailure(Throwable throwable, okhttp3.Response response) {\n+        // TODO: Display error message.\n+    }\n+});\n+```\n+\n+# Next steps\n+\n+More sample code should go here, along with links out to the appropriate example tests.\n+\n+# Contributing", "originalCommit": "b8364424432166930561b2856ae35d14d39520f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "43bb7ebf521c6c316a869da37e6871de9cc46d7a", "url": "https://github.com/Azure/azure-sdk-for-android/commit/43bb7ebf521c6c316a869da37e6871de9cc46d7a", "message": "README details and gradle comment should be consistent", "committedDate": "2020-10-03T01:15:34Z", "type": "commit"}, {"oid": "e76cd9b9e017884a443f20302fbc1aafca0215b9", "url": "https://github.com/Azure/azure-sdk-for-android/commit/e76cd9b9e017884a443f20302fbc1aafca0215b9", "message": "README updates according to feedback", "committedDate": "2020-10-03T01:58:34Z", "type": "commit"}]}