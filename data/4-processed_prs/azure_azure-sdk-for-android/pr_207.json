{"pr_number": 207, "pr_title": "Improve build", "pr_createdAt": "2020-02-27T23:50:20Z", "pr_url": "https://github.com/Azure/azure-sdk-for-android/pull/207", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MjQ3OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r385442479", "bodyText": "Was this removed this so we use the same version as OkHttp?", "author": "vcolin7", "createdAt": "2020-02-28T00:10:17Z", "path": "build.gradle", "diffHunk": "@@ -137,18 +136,15 @@ allprojects {\n \n     ext {\n         annotationsVersion = \"1.1.0\"\n-        jacksonDatabindVersion = \"2.9.9\"\n-        jacksonDataFormatXmlVersion = \"2.9.9\"\n+        concurrentFuturesVersion = \"1.0.0\"\n         jUnitVersion = \"4.12\"\n-        mockWebServerVersion = \"3.13.1\"", "originalCommit": "ead4a952fb04af3cf32af6bdf561eae0bbe0fdf4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MzIxOA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r385443218", "bodyText": "Yes, I condensed a few places where we were using different libraries within the same SDK and had different version variables for each library.", "author": "bsiegel", "createdAt": "2020-02-28T00:12:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MjQ3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MjUyMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r385442521", "bodyText": "Is there any reason we are hard-coding this instead of using buildToolsVersion \"$androidBuildToolsVersion\" like in our root build.gradle file?", "author": "vcolin7", "createdAt": "2020-02-28T00:10:24Z", "path": "samples/sample-app-storage/build.gradle", "diffHunk": "@@ -2,7 +2,7 @@ apply plugin: \"com.android.application\"\n \n android {\n     compileSdkVersion 29\n-    buildToolsVersion \"29.0.2\"\n+    buildToolsVersion \"29.0.3\"", "originalCommit": "ead4a952fb04af3cf32af6bdf561eae0bbe0fdf4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0Mzc4NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r385443784", "bodyText": "I went back and forth on this, but since this is a sample, I assume we would want a customer to be able to download the project and open it up and have it just work. It's a maintenance burden to keep these dependency versions up to date, but I think it would be more confusing to the customer if they were just all referencing variables defined elsewhere.\nActually given that, we should probably use a local copy of the lint.xml file too. I'll fix that shortly.", "author": "bsiegel", "createdAt": "2020-02-28T00:14:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MjUyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MjUzNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r385442535", "bodyText": "On the same vein as the buildToolsVersion question, is the reason we hard-coding dependencies here is because we want it to be a complete separate package?", "author": "vcolin7", "createdAt": "2020-02-28T00:10:28Z", "path": "samples/sample-app-storage/build.gradle", "diffHunk": "@@ -45,15 +46,13 @@ dependencies {\n     implementation \"com.google.dagger:dagger-android-support:2.20\"\n     //noinspection GradleDynamicVersion\n     implementation \"com.microsoft.identity.client:msal:0.3+\"\n-    implementation \"com.fasterxml.jackson.core:jackson-databind:$jacksonDatabindVersion\"\n-    implementation \"com.fasterxml.jackson.dataformat:jackson-dataformat-xml:$jacksonDataFormatXmlVersion\"\n-    implementation \"com.jakewharton.threetenabp:threetenabp:$threeTenAbpVersion\"\n-    implementation \"com.squareup.okhttp3:okhttp:$okHttpVersion\"\n-    implementation \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\n-    implementation \"javax.xml.stream:stax-api:$staxApiVersion\" // https://stackoverflow.com/a/47371517/1473510\n-    // Unit testing\n+    implementation \"com.fasterxml.jackson.core:jackson-databind:2.9.9\"", "originalCommit": "ead4a952fb04af3cf32af6bdf561eae0bbe0fdf4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MzgwOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r385443809", "bodyText": "Addressed above", "author": "bsiegel", "createdAt": "2020-02-28T00:14:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQ0MjUzNQ=="}], "type": "inlineReview"}, {"oid": "867507cc2ef44f49bdf91a3cbc3760f774050a74", "url": "https://github.com/Azure/azure-sdk-for-android/commit/867507cc2ef44f49bdf91a3cbc3760f774050a74", "message": "Centralize .gitignores", "committedDate": "2020-03-03T19:26:06Z", "type": "commit"}, {"oid": "4ee302eb94afb8280092ff0a963f722a0babc724", "url": "https://github.com/Azure/azure-sdk-for-android/commit/4ee302eb94afb8280092ff0a963f722a0babc724", "message": "Update tools & dependency versions", "committedDate": "2020-03-03T19:26:06Z", "type": "commit"}, {"oid": "e63f5f365260260e42cea3446ec4b1d7dff837f2", "url": "https://github.com/Azure/azure-sdk-for-android/commit/e63f5f365260260e42cea3446ec4b1d7dff837f2", "message": "Fix Javadoc errors", "committedDate": "2020-03-03T19:26:06Z", "type": "commit"}, {"oid": "ea1840533646ed6be46275ff3669884db0248585", "url": "https://github.com/Azure/azure-sdk-for-android/commit/ea1840533646ed6be46275ff3669884db0248585", "message": "Clean up build scripts\n\n- Rely on the Maven Publishing support added to Android Gradle plugin\n  3.6.0 and pull the publish artifacts from the release component\n\n- Fix Gradle deprecations\n\n- Specify the version numbers and publish name at the library level\n\n- Dynamically configure all client library projects rather than using a\n  hardcoded list", "committedDate": "2020-03-03T19:26:06Z", "type": "commit"}, {"oid": "64358b898daf5c4177dd02b3c55e94101b3e3061", "url": "https://github.com/Azure/azure-sdk-for-android/commit/64358b898daf5c4177dd02b3c55e94101b3e3061", "message": "Give samples their own copy of lint.xml", "committedDate": "2020-03-03T19:26:06Z", "type": "commit"}, {"oid": "64358b898daf5c4177dd02b3c55e94101b3e3061", "url": "https://github.com/Azure/azure-sdk-for-android/commit/64358b898daf5c4177dd02b3c55e94101b3e3061", "message": "Give samples their own copy of lint.xml", "committedDate": "2020-03-03T19:26:06Z", "type": "forcePushed"}, {"oid": "8eadafa6592fe6fe2a18329d4937a27366bd8af0", "url": "https://github.com/Azure/azure-sdk-for-android/commit/8eadafa6592fe6fe2a18329d4937a27366bd8af0", "message": "Update CI build steps", "committedDate": "2020-03-03T21:01:06Z", "type": "forcePushed"}, {"oid": "a70945b54517fef31820c26eb193d54eab724dd1", "url": "https://github.com/Azure/azure-sdk-for-android/commit/a70945b54517fef31820c26eb193d54eab724dd1", "message": "Update CI build steps", "committedDate": "2020-03-03T21:09:29Z", "type": "commit"}, {"oid": "a70945b54517fef31820c26eb193d54eab724dd1", "url": "https://github.com/Azure/azure-sdk-for-android/commit/a70945b54517fef31820c26eb193d54eab724dd1", "message": "Update CI build steps", "committedDate": "2020-03-03T21:09:29Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzMwOTE2Mg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/207#discussion_r387309162", "bodyText": "Removing the artifacts stops the release pipelines being able to publish the package.", "author": "mitchdenny", "createdAt": "2020-03-03T21:39:05Z", "path": "sdk/storage/ci.yml", "diffHunk": "@@ -37,8 +37,3 @@ stages:\n   - template: ../../eng/pipelines/templates/stages/archetype-sdk-client.yml\n     parameters:\n       ServiceDirectory: storage", "originalCommit": "a70945b54517fef31820c26eb193d54eab724dd1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}