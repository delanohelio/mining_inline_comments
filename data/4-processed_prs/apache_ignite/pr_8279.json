{"pr_number": 8279, "pr_title": "JOBS system view description added.", "pr_createdAt": "2020-09-25T07:22:18Z", "pr_url": "https://github.com/apache/ignite/pull/8279", "timeline": [{"oid": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "url": "https://github.com/apache/ignite/commit/4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "message": "JOBS system view description added.", "committedDate": "2020-09-25T07:21:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIxNjg5OA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496216898", "bodyText": "I would clarify what type of jobs we are talking \"JOBS\" => \"Compute Jobs\"", "author": "dmagda", "createdAt": "2020-09-28T20:36:06Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIxOTg1MA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496219850", "bodyText": "\"This system view shows a list of compute jobs started by a node as part of a compute task. To view the status of the compute task refer to the TASKS system view.\" - how about rephrasing this way?", "author": "dmagda", "createdAt": "2020-09-28T20:41:53Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS\n+\n+This view exposes information about currently running compute job started on a node.", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzM5Nzg2MA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497397860", "bodyText": "Done. Thanks.", "author": "nizhikov", "createdAt": "2020-09-30T10:14:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIxOTg1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMDAzNA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496220034", "bodyText": "\"belongs\" => \"belong\"", "author": "dmagda", "createdAt": "2020-09-28T20:42:12Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS\n+\n+This view exposes information about currently running compute job started on a node.\n+In the Ignite, Job defines part(step) of the compute task\n+\n+[{table_opts}]\n+|===\n+|NAME | TYPE |    DESCRIPTION\n+|ID | UUID | Job ID\n+|SESSION_ID | UUID | Session ID. Note, `SESSION_ID` equal to `TASKS.SESSION_ID` for the jobs that belongs to the specific task", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMDgwNQ==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496220805", "bodyText": "Is this the id of the 1) node that started the job or the 2) node where the job will be executed?\nIf #1 then say \"The id of the node that started the job\", otherwise \"The id of the node where the job is being executed\"", "author": "dmagda", "createdAt": "2020-09-28T20:43:43Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS\n+\n+This view exposes information about currently running compute job started on a node.\n+In the Ignite, Job defines part(step) of the compute task\n+\n+[{table_opts}]\n+|===\n+|NAME | TYPE |    DESCRIPTION\n+|ID | UUID | Job ID\n+|SESSION_ID | UUID | Session ID. Note, `SESSION_ID` equal to `TASKS.SESSION_ID` for the jobs that belongs to the specific task\n+|ORIGIN_NODE_ID | UUID | Originating node id", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzM5ODU3OQ==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497398579", "bodyText": "Your first statement correct.\nFixed. Thanks.", "author": "nizhikov", "createdAt": "2020-09-30T10:15:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMDgwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMTQ4Nw==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496221487", "bodyText": "Can we clarify the purpose of these AFFINITY parameters? Do the parameters list all caches and partitions the job is mapped to? What will be reported in these parameters if the job is broadcasted?", "author": "dmagda", "createdAt": "2020-09-28T20:45:01Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS\n+\n+This view exposes information about currently running compute job started on a node.\n+In the Ignite, Job defines part(step) of the compute task\n+\n+[{table_opts}]\n+|===\n+|NAME | TYPE |    DESCRIPTION\n+|ID | UUID | Job ID\n+|SESSION_ID | UUID | Session ID. Note, `SESSION_ID` equal to `TASKS.SESSION_ID` for the jobs that belongs to the specific task\n+|ORIGIN_NODE_ID | UUID | Originating node id\n+|TASK_NAME | string | Name of the task\n+|TASK_CLASSNAME | string | Class name of the task\n+|AFFINITY_CACHE_IDS | string | Affinity cache ids", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQzNTEzMg==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497435132", "bodyText": "affinityCacheIds equal to the cacheName or cacheNames parameter of the IgniteCompute#affinityCall[Async] methods.", "author": "nizhikov", "createdAt": "2020-09-30T11:26:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMTQ4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc4MTk1MA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497781950", "bodyText": "@nizhikov,\nWill the AFFINITY_CACHE/PARTITION_IDS parameters be empty if no caches/partitions were specified (basically, if you don't use affinityRuns/Calls? Pull the latest changes, check how I altered the description. Is it accurate?\nAlso, we have this sentence at the top of the JOB's table - Note, SESSION_ID is equal to TASKS.SESSION_ID for the jobs belonging to a specific task. However, I couldn't find the description of the TASKS.SESSION_ID. Could you update the TASK's table?", "author": "dmagda", "createdAt": "2020-09-30T20:30:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMTQ4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgzMTY2MQ==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497831661", "bodyText": "parameters be empty if no caches/partitions were specified\n\nYes.", "author": "nizhikov", "createdAt": "2020-09-30T22:16:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMTQ4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgzNDAyNQ==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497834025", "bodyText": "Could you update the TASK's table?\n\nDone.", "author": "nizhikov", "createdAt": "2020-09-30T22:22:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMTQ4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMjY4Nw==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496222687", "bodyText": "I would say \"The job is added to the execution queue\". Is it correct?", "author": "dmagda", "createdAt": "2020-09-28T20:47:21Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS\n+\n+This view exposes information about currently running compute job started on a node.\n+In the Ignite, Job defines part(step) of the compute task\n+\n+[{table_opts}]\n+|===\n+|NAME | TYPE |    DESCRIPTION\n+|ID | UUID | Job ID\n+|SESSION_ID | UUID | Session ID. Note, `SESSION_ID` equal to `TASKS.SESSION_ID` for the jobs that belongs to the specific task\n+|ORIGIN_NODE_ID | UUID | Originating node id\n+|TASK_NAME | string | Name of the task\n+|TASK_CLASSNAME | string | Class name of the task\n+|AFFINITY_CACHE_IDS | string | Affinity cache ids\n+|AFFINITY_PARTITION_ID | int | Partition id\n+|CREATE_TIME | long | Create time\n+|START_TIME | long | Start time\n+|FINISH_TIME | long | Finish time\n+|EXECUTOR_NAME | string | Name of the executor for task\n+|IS_FINISHING | boolean | True if job finishing\n+|IS_INTERNAL | boolean | True if job internal\n+|IS_STARTED | boolean | True if job started\n+|IS_TIMEDOUT | boolean | True if job timed out\n+|STATE | string | Possible values: +\n+`ACTIVE` - scheduled for execution. +\n+`PASSIVE` - passivated before execution. Please, see `CollisionSPI`. +", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQzMjQ2OA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497432468", "bodyText": "Yes. Fixed.", "author": "nizhikov", "createdAt": "2020-09-30T11:21:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMjY4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMzEwOA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496223108", "bodyText": "Is the job being executed right now or has been just scheduled but not running yet? It's unclear. The name of the parameters suggests that the job is executing right now while the description talks about scheduling.", "author": "dmagda", "createdAt": "2020-09-28T20:48:13Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -168,6 +168,35 @@ This view exposes information about currently running compute tasks started by a\n |USER_VERSION | string |  Task user version\n |===\n \n+== JOBS\n+\n+This view exposes information about currently running compute job started on a node.\n+In the Ignite, Job defines part(step) of the compute task\n+\n+[{table_opts}]\n+|===\n+|NAME | TYPE |    DESCRIPTION\n+|ID | UUID | Job ID\n+|SESSION_ID | UUID | Session ID. Note, `SESSION_ID` equal to `TASKS.SESSION_ID` for the jobs that belongs to the specific task\n+|ORIGIN_NODE_ID | UUID | Originating node id\n+|TASK_NAME | string | Name of the task\n+|TASK_CLASSNAME | string | Class name of the task\n+|AFFINITY_CACHE_IDS | string | Affinity cache ids\n+|AFFINITY_PARTITION_ID | int | Partition id\n+|CREATE_TIME | long | Create time\n+|START_TIME | long | Start time\n+|FINISH_TIME | long | Finish time\n+|EXECUTOR_NAME | string | Name of the executor for task\n+|IS_FINISHING | boolean | True if job finishing\n+|IS_INTERNAL | boolean | True if job internal\n+|IS_STARTED | boolean | True if job started\n+|IS_TIMEDOUT | boolean | True if job timed out\n+|STATE | string | Possible values: +\n+`ACTIVE` - scheduled for execution. +", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQzMDA0OQ==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497430049", "bodyText": "Executed right now.", "author": "nizhikov", "createdAt": "2020-09-30T11:16:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMzEwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMzMyMw==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r496223323", "bodyText": "Did we remove this view or replaced it? Or did you remove this accidentally?", "author": "dmagda", "createdAt": "2020-09-28T20:48:40Z", "path": "docs/_docs/monitoring-metrics/system-views.adoc", "diffHunk": "@@ -337,23 +366,6 @@ This view exposes information about currently running scan queries.\n |===\n \n \n-== SQL_QUERIES_HISTORY", "originalCommit": "4af54a2d2d31de715ed5fc9c7b288d3fdae8f766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQzMDk5NA==", "url": "https://github.com/apache/ignite/pull/8279#discussion_r497430994", "bodyText": "This view described twice on this page.\nPlease, see line 415.", "author": "nizhikov", "createdAt": "2020-09-30T11:18:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIyMzMyMw=="}], "type": "inlineReview"}, {"oid": "79e99887f87094515ca55382cb24d111900d106c", "url": "https://github.com/apache/ignite/commit/79e99887f87094515ca55382cb24d111900d106c", "message": "Code review fixes.", "committedDate": "2020-09-30T11:20:30Z", "type": "commit"}]}