{"pr_number": 8194, "pr_title": " Transaction to the discovery test. ", "pr_createdAt": "2020-08-27T23:08:42Z", "pr_url": "https://github.com/apache/ignite/pull/8194", "timeline": [{"oid": "27aa1447e178129070430a09743fe85a7408c9bf", "url": "https://github.com/apache/ignite/commit/27aa1447e178129070430a09743fe85a7408c9bf", "message": "amend", "committedDate": "2020-08-13T18:03:36Z", "type": "commit"}, {"oid": "0803983cf489782092a2038e953863c44ed74586", "url": "https://github.com/apache/ignite/commit/0803983cf489782092a2038e953863c44ed74586", "message": "looks good", "committedDate": "2020-08-14T16:18:08Z", "type": "commit"}, {"oid": "95260bceb7df3a5b05df8472a92c610ff02b5720", "url": "https://github.com/apache/ignite/commit/95260bceb7df3a5b05df8472a92c610ff02b5720", "message": "amendme. in progress. fixing zk client", "committedDate": "2020-08-14T17:22:37Z", "type": "commit"}, {"oid": "13dd5764add5fc5dc3a8d8a56d910615633c29f6", "url": "https://github.com/apache/ignite/commit/13dd5764add5fc5dc3a8d8a56d910615633c29f6", "message": "Parametrization.", "committedDate": "2020-08-17T12:56:22Z", "type": "commit"}, {"oid": "399be251eff8908e70adb9db583e7341d1b8a043", "url": "https://github.com/apache/ignite/commit/399be251eff8908e70adb9db583e7341d1b8a043", "message": "Merge remote-tracking branch 'origin/ducktape-disco-load' into ducktape-disco-load\n\n# Conflicts:\n#\tmodules/ducktests/tests/ignitetest/tests/discovery_test.py", "committedDate": "2020-08-17T12:56:40Z", "type": "commit"}, {"oid": "403642c413a9e5caccfc683f97fcae01d9fe4704", "url": "https://github.com/apache/ignite/commit/403642c413a9e5caccfc683f97fcae01d9fe4704", "message": "Minorities.", "committedDate": "2020-08-17T13:12:11Z", "type": "commit"}, {"oid": "c64c5d8f4c362e415d7497cdc50c8ecc7a7ab8b8", "url": "https://github.com/apache/ignite/commit/c64c5d8f4c362e415d7497cdc50c8ecc7a7ab8b8", "message": "fix stage log. Better awaiting timeout", "committedDate": "2020-08-17T17:25:04Z", "type": "commit"}, {"oid": "25483bfa9cf1921b6bbc1171d19f3425f024e399", "url": "https://github.com/apache/ignite/commit/25483bfa9cf1921b6bbc1171d19f3425f024e399", "message": "fixes", "committedDate": "2020-08-17T21:37:33Z", "type": "commit"}, {"oid": "f838188945890deb019c1ea7577201cd69adf65b", "url": "https://github.com/apache/ignite/commit/f838188945890deb019c1ea7577201cd69adf65b", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-load\n\n# Conflicts:\n#\tmodules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/utils/IgniteAwareApplication.java\n#\tmodules/ducktests/tests/ignitetest/services/utils/ignite_aware_app.py\n#\tmodules/ducktests/tests/ignitetest/tests/discovery_test.py", "committedDate": "2020-08-18T09:12:45Z", "type": "commit"}, {"oid": "ec679f631ebd611807b3ef02d31fc254ac323400", "url": "https://github.com/apache/ignite/commit/ec679f631ebd611807b3ef02d31fc254ac323400", "message": "merged ignite-ducktape", "committedDate": "2020-08-18T10:48:36Z", "type": "commit"}, {"oid": "fbedf807aa273cf361b5bdf350f63ca8874a4a9e", "url": "https://github.com/apache/ignite/commit/fbedf807aa273cf361b5bdf350f63ca8874a4a9e", "message": "fixes", "committedDate": "2020-08-19T10:33:21Z", "type": "commit"}, {"oid": "4d834baa0a61f2a950f977c3867d82f42ff27b30", "url": "https://github.com/apache/ignite/commit/4d834baa0a61f2a950f977c3867d82f42ff27b30", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-load", "committedDate": "2020-08-19T10:33:48Z", "type": "commit"}, {"oid": "5f5245867e2f6a3a55cdecf6bbabed7f8319331a", "url": "https://github.com/apache/ignite/commit/5f5245867e2f6a3a55cdecf6bbabed7f8319331a", "message": "fixes2", "committedDate": "2020-08-19T10:50:48Z", "type": "commit"}, {"oid": "3c2a77af659afcd6899729dd1fd98ba8d53f75ce", "url": "https://github.com/apache/ignite/commit/3c2a77af659afcd6899729dd1fd98ba8d53f75ce", "message": "fixes2", "committedDate": "2020-08-19T19:28:56Z", "type": "commit"}, {"oid": "80e4718d6a39f6cd5b6be95cf55f60c91da31602", "url": "https://github.com/apache/ignite/commit/80e4718d6a39f6cd5b6be95cf55f60c91da31602", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-load", "committedDate": "2020-08-19T19:29:38Z", "type": "commit"}, {"oid": "4b4a9ea7692f1761c8fd0d0e08df76665db89ea1", "url": "https://github.com/apache/ignite/commit/4b4a9ea7692f1761c8fd0d0e08df76665db89ea1", "message": "Merge remote-tracking branch 'origin/ducktape-disco-load' into ducktape-disco-load", "committedDate": "2020-08-19T19:52:43Z", "type": "commit"}, {"oid": "ac7005138446847346cf0dfe123eb4281b9a9f0c", "url": "https://github.com/apache/ignite/commit/ac7005138446847346cf0dfe123eb4281b9a9f0c", "message": "import order fix", "committedDate": "2020-08-20T06:32:27Z", "type": "commit"}, {"oid": "782df7cb1021b67939c9d5dbf7f213089213d0ca", "url": "https://github.com/apache/ignite/commit/782df7cb1021b67939c9d5dbf7f213089213d0ca", "message": "first impl", "committedDate": "2020-08-20T15:51:10Z", "type": "commit"}, {"oid": "32283d170b4cb27195cf91cb8c3fce3245113aeb", "url": "https://github.com/apache/ignite/commit/32283d170b4cb27195cf91cb8c3fce3245113aeb", "message": "research", "committedDate": "2020-08-20T18:02:03Z", "type": "commit"}, {"oid": "405298b6389d26a2558d8811f97e4feaab5d0770", "url": "https://github.com/apache/ignite/commit/405298b6389d26a2558d8811f97e4feaab5d0770", "message": "+overwrite", "committedDate": "2020-08-21T07:49:28Z", "type": "commit"}, {"oid": "015badd07870eca66f2f05fc6cb5a12bef04490c", "url": "https://github.com/apache/ignite/commit/015badd07870eca66f2f05fc6cb5a12bef04490c", "message": "in progress. to amend.", "committedDate": "2020-08-21T10:03:16Z", "type": "commit"}, {"oid": "2bbeaca014d0580b4e82e1eb55e0cc1d194d44a3", "url": "https://github.com/apache/ignite/commit/2bbeaca014d0580b4e82e1eb55e0cc1d194d44a3", "message": "Fixes", "committedDate": "2020-08-21T12:02:44Z", "type": "commit"}, {"oid": "8f748f7a835ed1ed994509272d6fea35063b7afd", "url": "https://github.com/apache/ignite/commit/8f748f7a835ed1ed994509272d6fea35063b7afd", "message": "amend", "committedDate": "2020-08-21T13:41:07Z", "type": "commit"}, {"oid": "83a8ddb68a0bafa92feb72d6cd31736ca49eaa3f", "url": "https://github.com/apache/ignite/commit/83a8ddb68a0bafa92feb72d6cd31736ca49eaa3f", "message": "Separated warmup.", "committedDate": "2020-08-21T13:58:08Z", "type": "commit"}, {"oid": "a205e2670a6d36498ff39038023a34284aebec6d", "url": "https://github.com/apache/ignite/commit/a205e2670a6d36498ff39038023a34284aebec6d", "message": "Fixed nodes num and coordinator", "committedDate": "2020-08-24T09:22:38Z", "type": "commit"}, {"oid": "ea9e184f519f9769409f8f7b87d38d5684af01e5", "url": "https://github.com/apache/ignite/commit/ea9e184f519f9769409f8f7b87d38d5684af01e5", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-load", "committedDate": "2020-08-24T09:23:15Z", "type": "commit"}, {"oid": "53d082db24f889bec993ab282289fe5cd8556239", "url": "https://github.com/apache/ignite/commit/53d082db24f889bec993ab282289fe5cd8556239", "message": "Merge remote-tracking branch 'origin/ducktape-disco-load' into ducktape-disco-load", "committedDate": "2020-08-24T09:24:07Z", "type": "commit"}, {"oid": "9ad83c25ee002083d3ae2240f9b16a9555a0615a", "url": "https://github.com/apache/ignite/commit/9ad83c25ee002083d3ae2240f9b16a9555a0615a", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-tran", "committedDate": "2020-08-24T09:54:58Z", "type": "commit"}, {"oid": "7950c928424f31d00160e30521a38bbea707dda7", "url": "https://github.com/apache/ignite/commit/7950c928424f31d00160e30521a38bbea707dda7", "message": "Fixes", "committedDate": "2020-08-24T11:22:59Z", "type": "commit"}, {"oid": "5ef9e977a62085fa1d95565b33f6cd9e79e9fa7f", "url": "https://github.com/apache/ignite/commit/5ef9e977a62085fa1d95565b33f6cd9e79e9fa7f", "message": "Fixes", "committedDate": "2020-08-24T11:34:00Z", "type": "commit"}, {"oid": "2ad215619742db560ed0f28e608d366082f682e3", "url": "https://github.com/apache/ignite/commit/2ad215619742db560ed0f28e608d366082f682e3", "message": "removed results check", "committedDate": "2020-08-24T11:51:05Z", "type": "commit"}, {"oid": "b167ab98b46053604014c6904d83b70aba499ea7", "url": "https://github.com/apache/ignite/commit/b167ab98b46053604014c6904d83b70aba499ea7", "message": "Fixes.", "committedDate": "2020-08-25T07:54:41Z", "type": "commit"}, {"oid": "8eb887d7988debd1e2841b55867465838a931976", "url": "https://github.com/apache/ignite/commit/8eb887d7988debd1e2841b55867465838a931976", "message": "Merge branch 'ducktape-disco-load' into ducktape-disco-tran\n\n# Conflicts:\n#\tmodules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/DataGenerationApplication.java\n#\tmodules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/utils/IgniteAwareApplication.java\n#\tmodules/ducktests/tests/ignitetest/tests/discovery_test.py", "committedDate": "2020-08-25T08:39:59Z", "type": "commit"}, {"oid": "f850f2d38586a48d3d545ae1f525f3b429f40382", "url": "https://github.com/apache/ignite/commit/f850f2d38586a48d3d545ae1f525f3b429f40382", "message": "merge", "committedDate": "2020-08-25T08:41:32Z", "type": "commit"}, {"oid": "5a2f54890d97808233538fe70b698dad250fe947", "url": "https://github.com/apache/ignite/commit/5a2f54890d97808233538fe70b698dad250fe947", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-tran", "committedDate": "2020-08-25T09:01:38Z", "type": "commit"}, {"oid": "f9886e378f626260ec2fc7e17ee5848bf6aa43ca", "url": "https://github.com/apache/ignite/commit/f9886e378f626260ec2fc7e17ee5848bf6aa43ca", "message": "amend", "committedDate": "2020-08-25T15:13:38Z", "type": "commit"}, {"oid": "43e9e8ad1b676330c2592a3d84f6b299838857d1", "url": "https://github.com/apache/ignite/commit/43e9e8ad1b676330c2592a3d84f6b299838857d1", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-tran\n\n# Conflicts:\n#\tmodules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/ContinuousDataLoadApplication.java\n#\tmodules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/utils/IgniteAwareApplication.java\n#\tmodules/ducktests/tests/ignitetest/services/utils/ignite_spec.py\n#\tmodules/ducktests/tests/ignitetest/tests/discovery_test.py", "committedDate": "2020-08-26T09:46:31Z", "type": "commit"}, {"oid": "a256ec7e431904b6f3bdc54620fb6d4a032f8aef", "url": "https://github.com/apache/ignite/commit/a256ec7e431904b6f3bdc54620fb6d4a032f8aef", "message": "merger master. in progress", "committedDate": "2020-08-26T12:17:20Z", "type": "commit"}, {"oid": "9e326ea6d0ace48f0cd2d03e41ae9c9690e4a606", "url": "https://github.com/apache/ignite/commit/9e326ea6d0ace48f0cd2d03e41ae9c9690e4a606", "message": "First impl.", "committedDate": "2020-08-27T22:39:16Z", "type": "commit"}, {"oid": "b3f0fc9e85350bfd3ecc686f203f264cd2a33783", "url": "https://github.com/apache/ignite/commit/b3f0fc9e85350bfd3ecc686f203f264cd2a33783", "message": "checkstyle fix", "committedDate": "2020-08-28T07:46:31Z", "type": "commit"}, {"oid": "301777919aae97bbe3f96624d93dbc6c40f092fd", "url": "https://github.com/apache/ignite/commit/301777919aae97bbe3f96624d93dbc6c40f092fd", "message": "pylint fix", "committedDate": "2020-08-28T08:56:49Z", "type": "commit"}, {"oid": "ad55d0f4cbe77df69e5c7b7371878613576a7dbc", "url": "https://github.com/apache/ignite/commit/ad55d0f4cbe77df69e5c7b7371878613576a7dbc", "message": "Merge branch 'ignite-ducktape' into ducktape-disco-tran\n\n# Conflicts:\n#\tmodules/ducktests/tests/ignitetest/tests/discovery_test.py", "committedDate": "2020-09-01T10:33:21Z", "type": "commit"}, {"oid": "ca5619998c1aec6ee8617eba59c290efdb214b82", "url": "https://github.com/apache/ignite/commit/ca5619998c1aec6ee8617eba59c290efdb214b82", "message": "Merged.", "committedDate": "2020-09-01T14:36:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc4OTY0OA==", "url": "https://github.com/apache/ignite/pull/8194#discussion_r481789648", "bodyText": "Use enum here", "author": "ivandasch", "createdAt": "2020-09-02T06:36:28Z", "path": "modules/ducktests/tests/ignitetest/tests/discovery_test.py", "diffHunk": "@@ -61,16 +62,19 @@ class DiscoveryTest(IgniteTest):\n \n     FAILURE_DETECTION_TIMEOUT = 2000\n \n-    DATA_AMOUNT = 100000\n+    DATA_AMOUNT = 5_000_000\n+\n+    WARMUP_DATA_AMOUNT = 10_000\n \n     @cluster(num_nodes=NUM_NODES)\n     @matrix(version=[str(DEV_BRANCH), str(LATEST_2_8)],\n             kill_coordinator=[False, True],\n             nodes_to_kill=[1, 2],\n-            with_load=[False, True])\n+            with_load=[0, 1, 2])", "originalCommit": "ca5619998c1aec6ee8617eba59c290efdb214b82", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjAzNjI3MA==", "url": "https://github.com/apache/ignite/pull/8194#discussion_r482036270", "bodyText": "Fixed.", "author": "Vladsz83", "createdAt": "2020-09-02T12:41:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc4OTY0OA=="}], "type": "inlineReview"}, {"oid": "fe10ae12720585acc7c30337d43536bd928eca23", "url": "https://github.com/apache/ignite/commit/fe10ae12720585acc7c30337d43536bd928eca23", "message": "Fixes.", "committedDate": "2020-09-02T12:40:44Z", "type": "commit"}, {"oid": "1a3978f46ef8f7b4b235a6393ac90b1bc3bbc0d6", "url": "https://github.com/apache/ignite/commit/1a3978f46ef8f7b4b235a6393ac90b1bc3bbc0d6", "message": "- W0223", "committedDate": "2020-09-02T13:29:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ2MzgxOA==", "url": "https://github.com/apache/ignite/pull/8194#discussion_r483463818", "bodyText": "transactional_load", "author": "anton-vinogradov", "createdAt": "2020-09-04T08:18:43Z", "path": "modules/ducktests/tests/ignitetest/tests/discovery_test.py", "diffHunk": "@@ -38,14 +40,23 @@\n from ignitetest.utils.version import DEV_BRANCH, LATEST_2_8, IgniteVersion\n \n \n+class ClusterLoad(IntEnum):\n+    \"\"\"\n+    Type of cluster loading.\n+    \"\"\"\n+    no_load = 0\n+    with_load = 1\n+    transactional = 2", "originalCommit": "1a3978f46ef8f7b4b235a6393ac90b1bc3bbc0d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ3ODk4MQ==", "url": "https://github.com/apache/ignite/pull/8194#discussion_r483478981", "bodyText": "Fixed.", "author": "Vladsz83", "createdAt": "2020-09-04T08:46:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ2MzgxOA=="}], "type": "inlineReview"}, {"oid": "e11a15c994728ed7eca8a6237de3728f49ff5b2c", "url": "https://github.com/apache/ignite/commit/e11a15c994728ed7eca8a6237de3728f49ff5b2c", "message": "renaming", "committedDate": "2020-09-04T08:44:55Z", "type": "commit"}, {"oid": "c82bbdd6a3d4b55c0fe4bfebb7d2c0ccc815885f", "url": "https://github.com/apache/ignite/commit/c82bbdd6a3d4b55c0fe4bfebb7d2c0ccc815885f", "message": "renaming 2", "committedDate": "2020-09-04T08:49:21Z", "type": "commit"}, {"oid": "1a9728058ee1d4b6332b44db01ab58dd81b4e644", "url": "https://github.com/apache/ignite/commit/1a9728058ee1d4b6332b44db01ab58dd81b4e644", "message": "renaming 3", "committedDate": "2020-09-04T08:57:44Z", "type": "commit"}]}