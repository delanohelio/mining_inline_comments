{"pr_number": 7578, "pr_title": "IGNITE-12841 @Override must be on the same line as a method", "pr_createdAt": "2020-03-26T19:41:51Z", "pr_url": "https://github.com/apache/ignite/pull/7578", "timeline": [{"oid": "3d1cddc6741f03e5bb7a971287cb6089f6a0a908", "url": "https://github.com/apache/ignite/commit/3d1cddc6741f03e5bb7a971287cb6089f6a0a908", "message": "IGNITE-12841 add codestyle check", "committedDate": "2020-03-26T19:38:04Z", "type": "commit"}, {"oid": "e4962bb8bd0d7266a7892e0524f06a497a882281", "url": "https://github.com/apache/ignite/commit/e4962bb8bd0d7266a7892e0524f06a497a882281", "message": "IGNITE-12841 fix annotations in core", "committedDate": "2020-03-27T06:13:01Z", "type": "commit"}, {"oid": "318268dbd2bf80e3be35f9807df50292559346fa", "url": "https://github.com/apache/ignite/commit/318268dbd2bf80e3be35f9807df50292559346fa", "message": "IGNITE-12841 fix annotations in indexing", "committedDate": "2020-03-27T06:31:14Z", "type": "commit"}, {"oid": "db7d5442b2a3877c44501301ae490079bfde9529", "url": "https://github.com/apache/ignite/commit/db7d5442b2a3877c44501301ae490079bfde9529", "message": "IGNITE-12841 fix annotations in hadoop", "committedDate": "2020-03-27T06:40:18Z", "type": "commit"}, {"oid": "6e4ddda1a2df13611571b54155746c126d01f13a", "url": "https://github.com/apache/ignite/commit/6e4ddda1a2df13611571b54155746c126d01f13a", "message": "IGNITE-12841 fix annotations in twitter", "committedDate": "2020-03-27T06:47:34Z", "type": "commit"}, {"oid": "30cbf2eb013092b6b907d885c043477a8285f5b2", "url": "https://github.com/apache/ignite/commit/30cbf2eb013092b6b907d885c043477a8285f5b2", "message": "IGNITE-12841 fix annotations in cassandra-store", "committedDate": "2020-03-27T06:55:29Z", "type": "commit"}, {"oid": "1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "url": "https://github.com/apache/ignite/commit/1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "message": "IGNITE-12841 add comment", "committedDate": "2020-03-27T07:11:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NTQwMQ==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399085401", "bodyText": "Here and below: Please, remove curly brackets for one-line statement after if", "author": "ivandasch", "createdAt": "2020-03-27T07:49:15Z", "path": "modules/tools/src/main/java/org/apache/ignite/tools/checkstyle/OverrideAnnotationOnTheSameLineCheck.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.tools.checkstyle;\n+\n+import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.api.TokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.CommonUtil;\n+\n+/**\n+ * <p>\n+ * Checks that {@code @Override} annotations are located on the same line with target method declarartions.\n+ * </p>\n+ */\n+public class OverrideAnnotationOnTheSameLineCheck extends AbstractCheck {\n+    /** Different line error message. */\n+    public static final String DIFF_LINE_ERR_MSG =\n+        \"@Override annotation on a different line than the target method declaration!\";\n+\n+    /** No method declaration error message. */\n+    public static final String NO_METHOD_ERR_MSG =\n+        \"No method declaration atfer @Override annotation!\";\n+\n+    /** */\n+    public static final String OVERRIDE = \"Override\";\n+\n+    /** {@inheritDoc} */\n+    @Override public int[] getDefaultTokens() {\n+        return new int[]{\n+            TokenTypes.CLASS_DEF,\n+            TokenTypes.INTERFACE_DEF,\n+            TokenTypes.ENUM_DEF,\n+            TokenTypes.METHOD_DEF,\n+            TokenTypes.CTOR_DEF,\n+        };\n+    }\n+\n+    /** {@inheritDoc} */\n+    @Override public int[] getAcceptableTokens() {\n+        return new int[]{\n+            TokenTypes.CLASS_DEF,\n+            TokenTypes.INTERFACE_DEF,\n+            TokenTypes.ENUM_DEF,\n+            TokenTypes.METHOD_DEF,\n+            TokenTypes.ANNOTATION_DEF,\n+        };\n+    }\n+\n+    /** {@inheritDoc} */\n+    @Override public int[] getRequiredTokens() {\n+        return CommonUtil.EMPTY_INT_ARRAY;\n+    }\n+\n+    /** {@inheritDoc} */\n+    @Override public void visitToken(DetailAST ast) {\n+        DetailAST nodeWithAnnotations = ast;\n+\n+        if (ast.getType() == TokenTypes.TYPECAST) {", "originalCommit": "1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTEwNjUwNQ==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399106505", "bodyText": "fixed", "author": "oleg-ostanin", "createdAt": "2020-03-27T08:36:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NTQwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NjI3NQ==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399086275", "bodyText": "According to codestyle, each arguments must be on a new line.", "author": "ivandasch", "createdAt": "2020-03-27T07:51:23Z", "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/configuration/distributed/DistributedConfigurationProcessor.java", "diffHunk": "@@ -236,9 +236,8 @@ private void doClusterWideUpdate(DistributedChangeableProperty prop) {\n                 return distributedMetastorage.writeAsync(toMetaStorageKey(key), newValue);\n             }\n \n-            @Override\n-            public GridFutureAdapter<?> casUpdate(String key, Serializable expectedValue, Serializable newValue)\n-                throws IgniteCheckedException {\n+            @Override public GridFutureAdapter<?> casUpdate(String key, Serializable expectedValue,", "originalCommit": "1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTEwNjc0Nw==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399106747", "bodyText": "fixed", "author": "oleg-ostanin", "createdAt": "2020-03-27T08:37:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NjI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NzA2MA==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399087060", "bodyText": "Here and below -- each argument must be on a new line.", "author": "ivandasch", "createdAt": "2020-03-27T07:53:20Z", "path": "modules/core/src/test/java/org/apache/ignite/internal/processors/cache/GridCacheAbstractMetricsSelfTest.java", "diffHunk": "@@ -209,8 +206,7 @@ public void testGetMetricsDisable() throws Exception {\n         // Invoke update on cache.\n         for (int i = 0; i < KEY_CNT; i++)\n             jcache.invoke(i, new CacheEntryProcessor<Object, Object, Object>() {\n-                @Override\n-                public Object process(MutableEntry<Object, Object> entry,\n+                @Override public Object process(MutableEntry<Object, Object> entry,", "originalCommit": "1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTEwNzU1OA==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399107558", "bodyText": "fixed", "author": "oleg-ostanin", "createdAt": "2020-03-27T08:38:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NzA2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NzI5OA==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399087298", "bodyText": "Each argument must be on a new line.", "author": "ivandasch", "createdAt": "2020-03-27T07:53:52Z", "path": "modules/core/src/test/java/org/apache/ignite/internal/processors/cache/distributed/dht/topology/PartitionsEvictManagerAbstractTest.java", "diffHunk": "@@ -189,8 +189,8 @@ public WaitingQueue(CountDownLatch latch, boolean completeWithError) {\n                     modifiersField.setInt(field, field.getModifiers() & ~Modifier.FINAL);\n \n                     field.set(obj, new GridFutureAdapter<Object>() {\n-                        @Override\n-                        protected boolean onDone(@Nullable Object res, @Nullable Throwable err, boolean cancel) {\n+                        @Override protected boolean onDone(@Nullable Object res, @Nullable Throwable err,", "originalCommit": "1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTEwOTM0OA==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399109348", "bodyText": "done", "author": "oleg-ostanin", "createdAt": "2020-03-27T08:42:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4NzI5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4ODA0OA==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399088048", "bodyText": "\") {\" group must be on next line", "author": "ivandasch", "createdAt": "2020-03-27T07:55:35Z", "path": "modules/hadoop/src/main/java/org/apache/ignite/internal/processors/hadoop/taskexecutor/external/HadoopExternalTaskExecutor.java", "diffHunk": "@@ -180,8 +180,8 @@ else if (log.isDebugEnabled())\n             }\n             else {\n                 proc.initFut.listen(new CI1<IgniteInternalFuture<IgniteBiTuple<Process, HadoopProcessDescriptor>>>() {\n-                    @Override\n-                    public void apply(IgniteInternalFuture<IgniteBiTuple<Process, HadoopProcessDescriptor>> f) {\n+                    @Override public void apply(\n+                        IgniteInternalFuture<IgniteBiTuple<Process, HadoopProcessDescriptor>> f) {", "originalCommit": "1ae99695e302b2bbae1d08c7f0647ed9c61c3ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTEwODQ2NA==", "url": "https://github.com/apache/ignite/pull/7578#discussion_r399108464", "bodyText": "done", "author": "oleg-ostanin", "createdAt": "2020-03-27T08:40:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA4ODA0OA=="}], "type": "inlineReview"}, {"oid": "45051d27a4d4f6d43c77ea751126dd9b1522864c", "url": "https://github.com/apache/ignite/commit/45051d27a4d4f6d43c77ea751126dd9b1522864c", "message": "IGNITE-12841 fir codestyle in examples", "committedDate": "2020-03-27T08:24:56Z", "type": "commit"}, {"oid": "2d20cb3ee315ce610c416ff992d6b23daf54feec", "url": "https://github.com/apache/ignite/commit/2d20cb3ee315ce610c416ff992d6b23daf54feec", "message": "IGNITE-12841 refactor method arguments", "committedDate": "2020-03-27T08:43:04Z", "type": "commit"}, {"oid": "bb69c255c589f4c30bd7fc20fc9c679c7aeb7b64", "url": "https://github.com/apache/ignite/commit/bb69c255c589f4c30bd7fc20fc9c679c7aeb7b64", "message": "IGNITE-12841 revert unnecessary changes", "committedDate": "2020-03-30T09:24:25Z", "type": "commit"}, {"oid": "8a63a1cb29abe7beaffbacdcf3223892d13f20ab", "url": "https://github.com/apache/ignite/commit/8a63a1cb29abe7beaffbacdcf3223892d13f20ab", "message": "IGNITE-12841 refactor overrided methods", "committedDate": "2020-03-30T11:15:21Z", "type": "commit"}, {"oid": "273f6c658f1dd25ac277cc569afc85ea2a71c344", "url": "https://github.com/apache/ignite/commit/273f6c658f1dd25ac277cc569afc85ea2a71c344", "message": "IGNITE-12841 removed unnecessary comma", "committedDate": "2020-04-07T14:54:06Z", "type": "commit"}, {"oid": "3a3802c5f5948806cb49093226b68840e86aff69", "url": "https://github.com/apache/ignite/commit/3a3802c5f5948806cb49093226b68840e86aff69", "message": "Update OverrideAnnotationOnTheSameLineCheck.java", "committedDate": "2020-04-07T16:28:13Z", "type": "commit"}]}