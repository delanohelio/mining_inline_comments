{"pr_number": 7713, "pr_title": "IGNITE-12918 Fix Travis config: separate Java jobs", "pr_createdAt": "2020-04-22T09:50:23Z", "pr_url": "https://github.com/apache/ignite/pull/7713", "timeline": [{"oid": "7a7e2e89b25ef3a243eba065140d5abfe30be8ae", "url": "https://github.com/apache/ignite/commit/7a7e2e89b25ef3a243eba065140d5abfe30be8ae", "message": "Add .NET build to Travis", "committedDate": "2020-04-20T12:42:28Z", "type": "commit"}, {"oid": "06a7d3be0acc6ae80ef671d6e0566be422d819e5", "url": "https://github.com/apache/ignite/commit/06a7d3be0acc6ae80ef671d6e0566be422d819e5", "message": "Fix solution path", "committedDate": "2020-04-20T12:45:23Z", "type": "commit"}, {"oid": "55ebf304d75bf471fbca28ef809208cbd4bd203f", "url": "https://github.com/apache/ignite/commit/55ebf304d75bf471fbca28ef809208cbd4bd203f", "message": "Inline env var", "committedDate": "2020-04-22T09:44:54Z", "type": "commit"}, {"oid": "39834bde100902181f04752ed3c160e680556e32", "url": "https://github.com/apache/ignite/commit/39834bde100902181f04752ed3c160e680556e32", "message": "Merge remote-tracking branch 'origin/master' into ignite-12918\n\n# Conflicts:\n#\t.travis.yml", "committedDate": "2020-04-22T09:49:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTE2NQ==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r412865165", "bodyText": "Probably the ! needs to be escaped like this \\!.", "author": "Mmuzaf", "createdAt": "2020-04-22T10:30:45Z", "path": ".travis.yml", "diffHunk": "@@ -17,37 +17,38 @@ matrix:\n   include:\n     - language: java\n       os: linux\n-      dist: trusty      \n+      dist: trusty\n       install: skip\n+      jdk: openjdk8\n+      before_script:\n+        - echo $JVM_EXTRA_ARGS\n+      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples,all-scala,scala -DskipTests -Dmaven.javadoc.skip=true -B -V\n+      before_cache: rm -rfv $HOME/.m2/repository/org/apache/ignite\n+      cache: {directories: [$HOME/.m2/repository]}\n+\n+    - language: java\n+      os: linux\n+      dist: trusty\n+      install: skip\n+      jdk: openjdk11\n       before_script:\n         - echo $JVM_EXTRA_ARGS\n         - echo $JDK_PROFILES\n-      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples $JDK_PROFILES -DskipTests -Dmaven.javadoc.skip=true -B -V\n-      \n-      jobs:\n-        include:\n-          - jdk: openjdk8\n-            env:\n-            - JDK_PROFILES='-Pall-scala,scala'\n-          - jdk: openjdk11\n-            # ignite-scalar module currently doesn't build under jdk11\n-            env:\n-              - JDK_PROFILES='-P!spark-2.4,!spark,!scala'\n-            before_script:\n-            - |\n-              export JVM_EXTRA_ARGS='--illegal-access=permit\n-              --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\n-              --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n-              --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n-              --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n-              --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n-              -Djdk.tls.client.protocols=TLSv1.2'\n-      \n+        - |\n+          export JVM_EXTRA_ARGS='--illegal-access=permit\n+          --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\n+          --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n+          --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n+          --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n+          --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n+          -Djdk.tls.client.protocols=TLSv1.2'\n+      # ignite-scalar module currently doesn't build under jdk11\n+      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples,!spark-2.4,!spark,!scala -DskipTests -Dmaven.javadoc.skip=true -B -V", "originalCommit": "39834bde100902181f04752ed3c160e680556e32", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkwNDY2OQ==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r412904669", "bodyText": "We can also use - instead of !, right?", "author": "ptupitsyn", "createdAt": "2020-04-22T11:36:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA0MjMxMQ==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r413042311", "bodyText": "It works as it is, see build results", "author": "ptupitsyn", "createdAt": "2020-04-22T14:40:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTE2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTMxNA==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r412865314", "bodyText": "Let's remove it too.", "author": "Mmuzaf", "createdAt": "2020-04-22T10:30:59Z", "path": ".travis.yml", "diffHunk": "@@ -17,37 +17,38 @@ matrix:\n   include:\n     - language: java\n       os: linux\n-      dist: trusty      \n+      dist: trusty\n       install: skip\n+      jdk: openjdk8\n+      before_script:\n+        - echo $JVM_EXTRA_ARGS\n+      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples,all-scala,scala -DskipTests -Dmaven.javadoc.skip=true -B -V\n+      before_cache: rm -rfv $HOME/.m2/repository/org/apache/ignite\n+      cache: {directories: [$HOME/.m2/repository]}\n+\n+    - language: java\n+      os: linux\n+      dist: trusty\n+      install: skip\n+      jdk: openjdk11\n       before_script:\n         - echo $JVM_EXTRA_ARGS\n         - echo $JDK_PROFILES", "originalCommit": "39834bde100902181f04752ed3c160e680556e32", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkwMzk0NQ==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r412903945", "bodyText": "Fixed", "author": "ptupitsyn", "createdAt": "2020-04-22T11:35:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTMxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTY3MQ==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r412865671", "bodyText": "Missed end line.", "author": "Mmuzaf", "createdAt": "2020-04-22T10:31:31Z", "path": ".travis.yml", "diffHunk": "@@ -17,37 +17,38 @@ matrix:\n   include:\n     - language: java\n       os: linux\n-      dist: trusty      \n+      dist: trusty\n       install: skip\n+      jdk: openjdk8\n+      before_script:\n+        - echo $JVM_EXTRA_ARGS\n+      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples,all-scala,scala -DskipTests -Dmaven.javadoc.skip=true -B -V\n+      before_cache: rm -rfv $HOME/.m2/repository/org/apache/ignite\n+      cache: {directories: [$HOME/.m2/repository]}\n+\n+    - language: java\n+      os: linux\n+      dist: trusty\n+      install: skip\n+      jdk: openjdk11\n       before_script:\n         - echo $JVM_EXTRA_ARGS\n         - echo $JDK_PROFILES\n-      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples $JDK_PROFILES -DskipTests -Dmaven.javadoc.skip=true -B -V\n-      \n-      jobs:\n-        include:\n-          - jdk: openjdk8\n-            env:\n-            - JDK_PROFILES='-Pall-scala,scala'\n-          - jdk: openjdk11\n-            # ignite-scalar module currently doesn't build under jdk11\n-            env:\n-              - JDK_PROFILES='-P!spark-2.4,!spark,!scala'\n-            before_script:\n-            - |\n-              export JVM_EXTRA_ARGS='--illegal-access=permit\n-              --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\n-              --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n-              --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n-              --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n-              --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n-              -Djdk.tls.client.protocols=TLSv1.2'\n-      \n+        - |\n+          export JVM_EXTRA_ARGS='--illegal-access=permit\n+          --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\n+          --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n+          --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n+          --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n+          --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n+          -Djdk.tls.client.protocols=TLSv1.2'\n+      # ignite-scalar module currently doesn't build under jdk11\n+      script: mvn package -Pall-java,licenses,lgpl,checkstyle,examples,!spark-2.4,!spark,!scala -DskipTests -Dmaven.javadoc.skip=true -B -V\n       before_cache: rm -rfv $HOME/.m2/repository/org/apache/ignite\n       cache: {directories: [$HOME/.m2/repository]}\n-    \n+\n     - language: csharp\n       mono: none\n       dotnet: 3.1.101\n       script:\n-        - dotnet build modules/platforms/dotnet/Apache.Ignite.DotNetCore.sln\n+        - dotnet build modules/platforms/dotnet/Apache.Ignite.DotNetCore.sln", "originalCommit": "39834bde100902181f04752ed3c160e680556e32", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkwMzk2OQ==", "url": "https://github.com/apache/ignite/pull/7713#discussion_r412903969", "bodyText": "Fixed", "author": "ptupitsyn", "createdAt": "2020-04-22T11:35:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2NTY3MQ=="}], "type": "inlineReview"}, {"oid": "9f8310e3dd1780bc85573ca92cad0313f60db00d", "url": "https://github.com/apache/ignite/commit/9f8310e3dd1780bc85573ca92cad0313f60db00d", "message": "Review fixes", "committedDate": "2020-04-22T11:35:40Z", "type": "commit"}]}