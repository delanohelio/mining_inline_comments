{"pr_number": 8532, "pr_title": "IGNITE-13796 docs: update docs and examples for kubernetes module", "pr_createdAt": "2020-12-02T22:02:48Z", "pr_url": "https://github.com/apache/ignite/pull/8532", "timeline": [{"oid": "7470b5e290f821f4977d07e3cd5d55a8adeb7d46", "url": "https://github.com/apache/ignite/commit/7470b5e290f821f4977d07e3cd5d55a8adeb7d46", "message": "IGNITE-13796 docs: update docs and examples for kubernetes module", "committedDate": "2020-12-02T22:01:26Z", "type": "commit"}, {"oid": "311918f602c4504e07de7dfe046600be1707846f", "url": "https://github.com/apache/ignite/commit/311918f602c4504e07de7dfe046600be1707846f", "message": "Fix grammar", "committedDate": "2020-12-03T08:23:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2MTQ5Mg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r535561492", "bodyText": "I would put this bean definition into the TcpDiscoveryKubernetesIpFinder bean right away. Simplifies readability. Plus, the KubernetesConnectionConfiguration bean is used only by the TcpDiscoveryKubernetesIpFinder bean; thus it should be fine to put one inside of another right away.\nPlease consider such a change for similar places below.", "author": "dmagda", "createdAt": "2020-12-03T20:19:02Z", "path": "docs/_docs/code-snippets/k8s/stateful/node-configuration.xml", "diffHunk": "@@ -16,11 +16,17 @@\n   limitations under the License.\n -->\n <beans xmlns=\"http://www.springframework.org/schema/beans\"\n-    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n-    xsi:schemaLocation=\"http://www.springframework.org/schema/beans         \n+    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n     http://www.springframework.org/schema/beans/spring-beans.xsd\">\n \n     <!-- tag::config-block[] -->\n+    <bean class=\"org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration\" name=\"k8sCfg\">", "originalCommit": "311918f602c4504e07de7dfe046600be1707846f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg4MzE0MA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r548883140", "bodyText": "fixed", "author": "timoninmaxim", "createdAt": "2020-12-25T15:10:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2MTQ5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2NTYxNg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r535565616", "bodyText": "A not for Nikita Safonov, who will be reviewing and editing the doc.\nI would probably put these details on the thin client documentation page. And add a callout to this Kubernetes pages saying that you need to enable a thin-client specific IP finder (providing a reference to the thin client page for mode details).", "author": "dmagda", "createdAt": "2020-12-03T20:22:42Z", "path": "docs/_docs/installation/kubernetes/generic-configuration.adoc", "diffHunk": "@@ -388,6 +388,17 @@ Note that we use the external IP address (LoadBalancer Ingress) of the service.\n include::{javaFile}[tags=connectThinClient, indent=0]\n ----\n \n+Thin clients support the partition awareness feature that may speed up operations. Thin clients store a mapping of Ignite nodes to cache partitions and send partition requests directly to the right node.\n+A client connected to the Kubernetes cluster through Ingress can't build such a map. Instead, to activate the feature, one should start a client within the cluster and configure it with KubernetesConnectionConfiguration.", "originalCommit": "311918f602c4504e07de7dfe046600be1707846f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg4Mzk1Mg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r548883952", "bodyText": "Hi, I'm agree that there should be part of ClientAddressFinder in thin client. As any user can write own implementation of this interface and use it within any (not only k8s env).\n@dmagda @Nikita-tech-writer Nikita, if you didn't start work on this ticket yet I will add this to docs. Please let me know you current status on this ticket", "author": "timoninmaxim", "createdAt": "2020-12-25T15:18:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2NTYxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMzU5OA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r548903598", "bodyText": "Hi @timoninmaxim,\nYes, I will start to work on this ticket after the NY holidays, so you can add it to docs for sure. Thank you.", "author": "Nikita-tech-writer", "createdAt": "2020-12-25T19:14:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2NTYxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDkyNTg0NQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r554925845", "bodyText": "@Nikita-tech-writer hi! I've updated docs and push. Please let me know if it is ok or not.", "author": "timoninmaxim", "createdAt": "2021-01-11T09:48:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2NTYxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIzODQzMw==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r555238433", "bodyText": "Hi @timoninmaxim , I'll give you the feedback shortly.", "author": "Nikita-tech-writer", "createdAt": "2021-01-11T18:01:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU2NTYxNg=="}], "type": "inlineReview"}, {"oid": "7c15ff7ef086a78089dc6ca24f2a5211ebb93d8c", "url": "https://github.com/apache/ignite/commit/7c15ff7ef086a78089dc6ca24f2a5211ebb93d8c", "message": "fixup! Fix grammar", "committedDate": "2020-12-25T15:09:42Z", "type": "commit"}, {"oid": "4a4884b4951ca077d896519524c97963e4c0acbb", "url": "https://github.com/apache/ignite/commit/4a4884b4951ca077d896519524c97963e4c0acbb", "message": "Add docs to java thin client page", "committedDate": "2021-01-11T09:47:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYwMzk1OQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r556603959", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To enable the partition awareness feature within scaling Kubernetes enviroment one should start a client within the cluster and configure it with `KubernetesConnectionConfiguration`.\n          \n          \n            \n            To enable the partition awareness feature within scaling Kubernetes enviroment, one should start a client within the cluster and configure it with `KubernetesConnectionConfiguration`.", "author": "Nikita-tech-writer", "createdAt": "2021-01-13T15:26:13Z", "path": "docs/_docs/installation/kubernetes/generic-configuration.adoc", "diffHunk": "@@ -388,6 +388,20 @@ Note that we use the external IP address (LoadBalancer Ingress) of the service.\n include::{javaFile}[tags=connectThinClient, indent=0]\n ----\n \n+== Partition Awareness\n+\n+include::../../includes/partition-awareness.adoc[]\n+\n+To enable the partition awareness feature within scaling Kubernetes enviroment one should start a client within the cluster and configure it with `KubernetesConnectionConfiguration`.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYwNDU1NQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r556604555", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note that client configuration must be in sync with Ignite node configuration.\n          \n          \n            \n            Note that client configuration must be in sync with the Ignite node configuration.", "author": "Nikita-tech-writer", "createdAt": "2021-01-13T15:26:57Z", "path": "docs/_docs/installation/kubernetes/generic-configuration.adoc", "diffHunk": "@@ -388,6 +388,20 @@ Note that we use the external IP address (LoadBalancer Ingress) of the service.\n include::{javaFile}[tags=connectThinClient, indent=0]\n ----\n \n+== Partition Awareness\n+\n+include::../../includes/partition-awareness.adoc[]\n+\n+To enable the partition awareness feature within scaling Kubernetes enviroment one should start a client within the cluster and configure it with `KubernetesConnectionConfiguration`.\n+In this case, a client can connect to every pod in a cluster.\n+\n+Note that client configuration must be in sync with Ignite node configuration.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYwODg5Mw==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r556608893", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If list of server nodes is dynamically changing or scaling than it is possible to configure connection with custom implementation of `ClientAddressFinder`. It should provide actual server addresses collection for every time client ask it.\n          \n          \n            \n            If a list of server nodes is dynamically changing or scaling, then it is possible to configure the connection with custom implementation of `ClientAddressFinder`. It should provide a number of current server addresses every time a client asks for them.", "author": "Nikita-tech-writer", "createdAt": "2021-01-13T15:32:21Z", "path": "docs/_docs/thin-clients/java-thin-client.adoc", "diffHunk": "@@ -86,6 +86,16 @@ The following code sample illustrates how to use the partition awareness feature\n include::{sourceCodeFile}[tag=partition-awareness,indent=0]\n ----\n \n+If list of server nodes is dynamically changing or scaling than it is possible to configure connection with custom implementation of `ClientAddressFinder`. It should provide actual server addresses collection for every time client ask it.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYxMDY4MQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r556610681", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Currently Ignite provides the only implementation of this interface. `ThinClientKubernetesAddressFinder` is created to handle scalable Kubernetes environment.\n          \n          \n            \n            Currently, Ignite provides the only implementation of this interface. `ThinClientKubernetesAddressFinder` is created to handle scalable Kubernetes environment.", "author": "Nikita-tech-writer", "createdAt": "2021-01-13T15:34:42Z", "path": "docs/_docs/thin-clients/java-thin-client.adoc", "diffHunk": "@@ -86,6 +86,16 @@ The following code sample illustrates how to use the partition awareness feature\n include::{sourceCodeFile}[tag=partition-awareness,indent=0]\n ----\n \n+If list of server nodes is dynamically changing or scaling than it is possible to configure connection with custom implementation of `ClientAddressFinder`. It should provide actual server addresses collection for every time client ask it.\n+The following code sample illustrates how to use it.\n+\n+[source, java]\n+----\n+include::{sourceCodeFile}[tag=client-address-finder,indent=0]\n+----\n+\n+Currently Ignite provides the only implementation of this interface. `ThinClientKubernetesAddressFinder` is created to handle scalable Kubernetes environment.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4NDk0Ng==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r557784946", "bodyText": "I don't understand what the sentence means. You say \"Ignite provides the only implementation of this interface\". What interface is assumed? Why is it important to mention this only implementation?\nInstead, provide a bullet-point list explaining the code snippet. The snippet has the fetchServerAddresses method that is not implemented. It seems that you are trying to say that \"The fetchServerAddress() method shows how an example implementation might look like if you want clients to retrieve the server nodes' addresses dynamically. If you are running in a Kubernetes environment then use the ThinClientKubernetesAddressFinder in your thin client configuration to enable the automatic resolution of the server addresses on the client side\".  Nikita please help to adjust the latter if Maxim confirms that my understanding is correct.", "author": "dmagda", "createdAt": "2021-01-15T00:25:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYxMDY4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ1OTcxMg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r559459712", "bodyText": "@dmagda @Nikita-tech-writer\nTo mention this only implementation is may be important to provide an existing example of the interface implementation.\nYes, your understanding is correct.", "author": "timoninmaxim", "createdAt": "2021-01-18T10:23:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYxMDY4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTg2ODU0NQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r561868545", "bodyText": "@Nikita-tech-writer I've updated the docs. Could you please check it?", "author": "timoninmaxim", "createdAt": "2021-01-21T13:11:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYxMDY4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk3NDcxMg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r561974712", "bodyText": "@timoninmaxim Everything looks good to me! I approve the PR.", "author": "Nikita-tech-writer", "createdAt": "2021-01-21T15:32:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjYxMDY4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4MTUzMA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r557781530", "bodyText": "What does this sentence mean? What type of synchronization is assumed? Confusing.", "author": "dmagda", "createdAt": "2021-01-15T00:14:36Z", "path": "docs/_docs/installation/kubernetes/generic-configuration.adoc", "diffHunk": "@@ -388,6 +388,20 @@ Note that we use the external IP address (LoadBalancer Ingress) of the service.\n include::{javaFile}[tags=connectThinClient, indent=0]\n ----\n \n+== Partition Awareness\n+\n+include::../../includes/partition-awareness.adoc[]\n+\n+To enable the partition awareness feature within scaling Kubernetes enviroment one should start a client within the cluster and configure it with `KubernetesConnectionConfiguration`.\n+In this case, a client can connect to every pod in a cluster.\n+\n+Note that client configuration must be in sync with Ignite node configuration.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ2MDE0MA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r559460140", "bodyText": "I mean that list of addresses in ClientConfiguration must be in sync with list of addresses of IgniteConfiguration.", "author": "timoninmaxim", "createdAt": "2021-01-18T10:23:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4MTUzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTg2MDM5Mw==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r561860393", "bodyText": "Agree, looks confusting. Remove this sentence at all.", "author": "timoninmaxim", "createdAt": "2021-01-21T12:58:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4MTUzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4NTIzMg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r557785232", "bodyText": "@Nikita-tech-writer, please check the comments in the source code files too. I see some spellings below.", "author": "dmagda", "createdAt": "2021-01-15T00:25:56Z", "path": "examples/src/main/java/org/apache/ignite/examples/client/ClientKubernetesPutGetExample.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.examples.client;\n+\n+import org.apache.ignite.Ignition;\n+import org.apache.ignite.client.ClientCache;\n+import org.apache.ignite.client.IgniteClient;\n+import org.apache.ignite.client.ThinClientKubernetesAddressFinder;\n+import org.apache.ignite.configuration.ClientConfiguration;\n+import org.apache.ignite.examples.model.Address;\n+import org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration;\n+\n+/**\n+ * Demonstrates how to use Ignite thin client within the Kubernetes cluster using KubernetesConnectionConfiguration.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODIyMjI2Ng==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558222266", "bodyText": "@dmagda OK, sure", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T10:40:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4NTIzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM0ODczNg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558348736", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        // Put, get or remove data from the cache...\n          \n          \n            \n                        // Put, get, or remove data from the cache...", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:38:56Z", "path": "docs/_docs/code-snippets/java/src/main/java/org/apache/ignite/snippets/JavaThinClient.java", "diffHunk": "@@ -360,6 +360,26 @@ void partitionAwareness() throws Exception {\n         //end::partition-awareness[]\n     }\n \n+    void clientAddressFinder() throws Exception {\n+        //tag::client-address-finder[]\n+        ClientAddressFinder finder = () -> {\n+            String[] dynamicServerAddresses = fetchServerAddresses();\n+\n+            return dynamicServerAddresses;\n+        };\n+\n+        ClientConfiguration cfg = new ClientConfiguration()\n+            .setAddressFinder(finder)\n+            .setPartitionAwarenessEnabled(true);\n+\n+        try (IgniteClient client = Ignition.startClient(cfg)) {\n+            ClientCache<Integer, String> cache = client.cache(\"myCache\");\n+            // Put, get or remove data from the cache...", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTI3NQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558359275", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * <li>A thin client application should be run within the cluster to have access to Ignite nodes pods.</li>\n          \n          \n            \n             * <li>A thin client application should be run within the cluster to provide access to the Ignite nodes pods.</li>", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:54:38Z", "path": "examples/src/main/java/org/apache/ignite/examples/client/ClientKubernetesPutGetExample.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.examples.client;\n+\n+import org.apache.ignite.Ignition;\n+import org.apache.ignite.client.ClientCache;\n+import org.apache.ignite.client.IgniteClient;\n+import org.apache.ignite.client.ThinClientKubernetesAddressFinder;\n+import org.apache.ignite.configuration.ClientConfiguration;\n+import org.apache.ignite.examples.model.Address;\n+import org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration;\n+\n+/**\n+ * Demonstrates how to use Ignite thin client within the Kubernetes cluster using KubernetesConnectionConfiguration.\n+ * <p>\n+ * Prerequisites:\n+ * <ul>\n+ * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md for example how to run a cluster locally.</li>\n+ * <li>A thin client application should be run within the cluster to have access to Ignite nodes pods.</li>", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ1NjA4OQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r559456089", "bodyText": "Thin client does not \"provide\" access to Ignite, but do \"have\" the access to it within the cluster. I mean that there is no access to cluster if thin client isn't running within the cluster.", "author": "timoninmaxim", "createdAt": "2021-01-18T10:17:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTI3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NTU2Nw==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r559695567", "bodyText": "OK, got it, thanks for the explanation!", "author": "Nikita-tech-writer", "createdAt": "2021-01-18T16:51:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTY3NA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558359674", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md for example how to run a cluster locally.</li>\n          \n          \n            \n             * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md as an example of how to run a cluster locally.</li>", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:55:15Z", "path": "examples/src/main/java/org/apache/ignite/examples/client/ClientKubernetesPutGetExample.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.examples.client;\n+\n+import org.apache.ignite.Ignition;\n+import org.apache.ignite.client.ClientCache;\n+import org.apache.ignite.client.IgniteClient;\n+import org.apache.ignite.client.ThinClientKubernetesAddressFinder;\n+import org.apache.ignite.configuration.ClientConfiguration;\n+import org.apache.ignite.examples.model.Address;\n+import org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration;\n+\n+/**\n+ * Demonstrates how to use Ignite thin client within the Kubernetes cluster using KubernetesConnectionConfiguration.\n+ * <p>\n+ * Prerequisites:\n+ * <ul>\n+ * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md for example how to run a cluster locally.</li>", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM2MDc1MA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558360750", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Go to the folder and execute a command below to prepare the image:\n          \n          \n            \n            To prepare the image, navigate to the folder and execute the following command:", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:56:51Z", "path": "modules/kubernetes/DEVNOTES.md", "diffHunk": "@@ -34,7 +34,7 @@ Create a folder for all the files to be placed in the Docker image and copy the\n     - The executable file that will start an Ignite node process from `ignite-kubernetes/config/run.sh`\n \n Go to the folder and execute a command below to prepare the image:", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM2MTE2MA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558361160", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                - The executable file that will start an Ignite node process from `ignite-kubernetes/config/run.sh`\n          \n          \n            \n                - The executable file that starts the Ignite node process from `ignite-kubernetes/config/run.sh`", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:57:25Z", "path": "modules/kubernetes/DEVNOTES.md", "diffHunk": "@@ -34,7 +34,7 @@ Create a folder for all the files to be placed in the Docker image and copy the\n     - The executable file that will start an Ignite node process from `ignite-kubernetes/config/run.sh`", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM2MjExNg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558362116", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Setting a path to an Apache Ignite configuration file. Used by run.sh script below.\n          \n          \n            \n            # Set a path to the Apache Ignite configuration file. Use the run.sh script below:", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:58:44Z", "path": "modules/kubernetes/config/Dockerfile", "diffHunk": "@@ -18,14 +18,17 @@\n # Use Java 8 image as default one.\n FROM openjdk:8\n \n+# Set Apache Ignite configuration file name.\n+ARG IGNITE_CFG_XML=\"example-kube.xml\"\n+\n # Set Apache Ignite version.\n-ENV IGNITE_VERSION 2.0.0-SNAPSHOT\n+ARG IGNITE_VERSION=\"2.0.0\"\n \n # Set IGNITE_HOME variable.\n ENV IGNITE_HOME /opt/ignite/apache-ignite-${IGNITE_VERSION}-bin\n \n # Setting a path to an Apache Ignite configuration file. Used by run.sh script below.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM2MjQ0NA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558362444", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Make sure kubernetes lib is copied to 'libs' folder.\n          \n          \n            \n            # Make sure the Kubernetes lib is copied to the 'libs' folder.", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:59:11Z", "path": "modules/kubernetes/config/Dockerfile", "diffHunk": "@@ -18,14 +18,17 @@\n # Use Java 8 image as default one.\n FROM openjdk:8\n \n+# Set Apache Ignite configuration file name.\n+ARG IGNITE_CFG_XML=\"example-kube.xml\"\n+\n # Set Apache Ignite version.\n-ENV IGNITE_VERSION 2.0.0-SNAPSHOT\n+ARG IGNITE_VERSION=\"2.0.0\"\n \n # Set IGNITE_HOME variable.\n ENV IGNITE_HOME /opt/ignite/apache-ignite-${IGNITE_VERSION}-bin\n \n # Setting a path to an Apache Ignite configuration file. Used by run.sh script below.\n-ENV CONFIG_URI ${IGNITE_HOME}/config/example-kube.xml\n+ENV CONFIG_URI ${IGNITE_HOME}/config/$IGNITE_CFG_XML\n \n # Make sure kubernetes lib is copied to 'libs' folder.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM2MjU4NQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558362585", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Copying the configuration.\n          \n          \n            \n            # Copy the configuration.", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:59:24Z", "path": "modules/kubernetes/config/Dockerfile", "diffHunk": "@@ -51,7 +54,7 @@ COPY ./run.sh $IGNITE_HOME/\n RUN chmod +x $IGNITE_HOME/run.sh\n \n # Copying the configuration.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM2MjczNw==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558362737", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Starting an Apache Ignite node.\n          \n          \n            \n            # Start an Apache Ignite node.", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:59:36Z", "path": "modules/kubernetes/config/Dockerfile", "diffHunk": "@@ -51,7 +54,7 @@ COPY ./run.sh $IGNITE_HOME/\n RUN chmod +x $IGNITE_HOME/run.sh\n \n # Copying the configuration.\n-COPY ./example-kube.xml $IGNITE_HOME/config\n+COPY ./$IGNITE_CFG_XML $IGNITE_HOME/config\n \n # Starting an Apache Ignite node.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3a010a9a266f440029348549057deafd33849ac9", "url": "https://github.com/apache/ignite/commit/3a010a9a266f440029348549057deafd33849ac9", "message": "Apply suggestions from code review\r\n\r\nFix some docs misspellings\n\nCo-authored-by: Nikita Safonov <73828260+Nikita-tech-writer@users.noreply.github.com>", "committedDate": "2021-01-18T10:19:13Z", "type": "commit"}, {"oid": "d9f7ffc120223259af57fb4701d22ded5ef8a551", "url": "https://github.com/apache/ignite/commit/d9f7ffc120223259af57fb4701d22ded5ef8a551", "message": "Little rewrite thin client docs.", "committedDate": "2021-01-21T13:10:38Z", "type": "commit"}, {"oid": "e2dc6b6a05c800f248088741a30f55ca5d15275d", "url": "https://github.com/apache/ignite/commit/e2dc6b6a05c800f248088741a30f55ca5d15275d", "message": "Merge branch 'IGNITE-13796__kubernetes_doc' of github.com:timoninmaxim/ignite into IGNITE-13796__kubernetes_doc", "committedDate": "2021-01-21T13:11:07Z", "type": "commit"}]}