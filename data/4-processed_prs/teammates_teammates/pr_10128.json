{"pr_number": 10128, "pr_title": "[#10122] Make relatedGiverEmail optional and hide moderate response button on null", "pr_createdAt": "2020-05-28T08:03:32Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10128", "timeline": [{"oid": "4874f4879ba1701387ccb19bdab81fc78d8c3f6b", "url": "https://github.com/TEAMMATES/teammates/commit/4874f4879ba1701387ccb19bdab81fc78d8c3f6b", "message": "made relatedGiverEmail optional and moderate response button shown only relatedGiverEmail exists", "committedDate": "2020-05-28T06:52:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjEwMjM2NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432102364", "bodyText": "So we shall update the documentation also?", "author": "xpdavid", "createdAt": "2020-05-28T20:24:21Z", "path": "src/main/java/teammates/ui/webapi/output/SessionResultsData.java", "diffHunk": "@@ -271,6 +275,7 @@ public String getQuestionStatistics() {\n          * Depending on the question giver type, {@code giverIdentifier} may contain the giver's email, any team member's\n          * email or \"anonymous\".", "originalCommit": "4874f4879ba1701387ccb19bdab81fc78d8c3f6b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjEwMjk3OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432102978", "bodyText": "I think you also want to update tm-response-moderation-button component and remove the anonymous check.", "author": "xpdavid", "createdAt": "2020-05-28T20:25:33Z", "path": "src/web/app/components/question-responses/per-question-view-responses/per-question-view-responses.component.html", "diffHunk": "@@ -44,7 +44,7 @@\n           <div *ngIf=\"response.participantComment\" [innerHTML]=\"response.participantComment.commentText | safeHtml\"></div>\n         </td>\n         <td>\n-          <tm-response-moderation-button [session]=\"session\" [relatedGiverEmail]=\"response.relatedGiverEmail\" [moderatedQuestionId]=\"question.feedbackQuestionId\"></tm-response-moderation-button>\n+          <tm-response-moderation-button *ngIf=\"response.relatedGiverEmail\" [session]=\"session\" [relatedGiverEmail]=\"response.relatedGiverEmail\" [moderatedQuestionId]=\"question.feedbackQuestionId\"></tm-response-moderation-button>", "originalCommit": "4874f4879ba1701387ccb19bdab81fc78d8c3f6b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5b64ccd05f8f8dbfef0de94539f9f2256da6b790", "url": "https://github.com/TEAMMATES/teammates/commit/5b64ccd05f8f8dbfef0de94539f9f2256da6b790", "message": "updated documentation and removed unnecessary ngIf check", "committedDate": "2020-05-29T02:13:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjIyMjM5Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432222392", "bodyText": "Why is this removed?", "author": "xpdavid", "createdAt": "2020-05-29T02:25:20Z", "path": "src/web/app/pages-instructor/instructor-session-result-page/response-moderation-button/response-moderation-button.component.ts", "diffHunk": "@@ -35,20 +34,11 @@ export class ResponseModerationButtonComponent implements OnInit {\n     createdAtTimestamp: 0,\n   };\n \n-  @Input()\n-  relatedGiverEmail: string = '';", "originalCommit": "5b64ccd05f8f8dbfef0de94539f9f2256da6b790", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjIyOTY4MA==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432229680", "bodyText": "Overlooked its usage, have put back!", "author": "Derek-Hardy", "createdAt": "2020-05-29T02:57:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjIyMjM5Mg=="}], "type": "inlineReview"}, {"oid": "8deb22ff5c3c2676f7a978121e34daaa0ffa5c1b", "url": "https://github.com/TEAMMATES/teammates/commit/8deb22ff5c3c2676f7a978121e34daaa0ffa5c1b", "message": "fixed missing input", "committedDate": "2020-05-29T02:43:33Z", "type": "commit"}, {"oid": "838c6301a3784f679f44537e02572f887eb040f0", "url": "https://github.com/TEAMMATES/teammates/commit/838c6301a3784f679f44537e02572f887eb040f0", "message": "Merge branch 'master' into 10122-make-related-giver-email-optional", "committedDate": "2020-05-29T03:26:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI0MDk1Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432240952", "bodyText": "The relatedGiverEmail here should be userToRelatedEmail[userInfo]?", "author": "xpdavid", "createdAt": "2020-05-29T03:50:21Z", "path": "src/web/app/components/question-responses/gqr-rqg-view-responses/gqr-rqg-view-responses.component.html", "diffHunk": "@@ -36,7 +36,7 @@\n         [{{ userToEmail[userInfo] }}]\n       </a>\n       <div class=\"float-right\">\n-        <tm-response-moderation-button class=\"mr-md-3\" *ngIf=\"isGqr\" [session]=\"session\" [relatedGiverEmail]=\"userInfo\"></tm-response-moderation-button>\n+        <tm-response-moderation-button class=\"mr-md-3\" *ngIf=\"isGqr && userToRelatedEmail[userInfo]\" [session]=\"session\" [relatedGiverEmail]=\"userInfo\"></tm-response-moderation-button>", "originalCommit": "838c6301a3784f679f44537e02572f887eb040f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI0MTA2OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432241068", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <tm-response-moderation-button *ngIf=\"isGrq && userToRelatedEmail[userInfo]\" [relatedGiverEmail]=\"userInfo\"></tm-response-moderation-button>\n          \n          \n            \n                    <tm-response-moderation-button *ngIf=\"isGrq && userToRelatedEmail[userInfo]\" [relatedGiverEmail]=\"userToRelatedEmail[userInfo]\"></tm-response-moderation-button>", "author": "xpdavid", "createdAt": "2020-05-29T03:50:50Z", "path": "src/web/app/components/question-responses/grq-rgq-view-responses/grq-rgq-view-responses.component.html", "diffHunk": "@@ -38,7 +38,7 @@\n         [{{ userToEmail[userInfo] }}]\n       </a>\n       <div class=\"float-right\">\n-        <tm-response-moderation-button *ngIf=\"isGrq\" [relatedGiverEmail]=\"userInfo\"></tm-response-moderation-button>\n+        <tm-response-moderation-button *ngIf=\"isGrq && userToRelatedEmail[userInfo]\" [relatedGiverEmail]=\"userInfo\"></tm-response-moderation-button>", "originalCommit": "838c6301a3784f679f44537e02572f887eb040f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI0MTIwOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10128#discussion_r432241208", "bodyText": "You can also remove the const I believe.", "author": "xpdavid", "createdAt": "2020-05-29T03:51:27Z", "path": "src/web/app/pages-instructor/instructor-session-result-page/response-moderation-button/response-moderation-button.component.ts", "diffHunk": "@@ -5,7 +5,6 @@ import {\n   ResponseVisibleSetting,\n   SessionVisibleSetting,\n } from '../../../../types/api-output';\n-import { ANONYMOUS_PREFIX } from '../../../../types/feedback-response-details';", "originalCommit": "838c6301a3784f679f44537e02572f887eb040f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "997722b081eded9eb338709e19bcb14f88e9e295", "url": "https://github.com/TEAMMATES/teammates/commit/997722b081eded9eb338709e19bcb14f88e9e295", "message": "removed unused const", "committedDate": "2020-05-29T03:56:46Z", "type": "commit"}, {"oid": "5d0cba71a70be69ddc64ceb8edf5bbb5964a9976", "url": "https://github.com/TEAMMATES/teammates/commit/5d0cba71a70be69ddc64ceb8edf5bbb5964a9976", "message": "updated relatedGiverEmail input", "committedDate": "2020-05-29T04:03:10Z", "type": "commit"}, {"oid": "590eb603b63e5a422ad0a139cb58dda433393666", "url": "https://github.com/TEAMMATES/teammates/commit/590eb603b63e5a422ad0a139cb58dda433393666", "message": "Merge branch 'master' into 10122-make-related-giver-email-optional", "committedDate": "2020-05-29T04:03:41Z", "type": "commit"}, {"oid": "b9c047fd6c1fabb0727bd86d01c07ed38c3de8af", "url": "https://github.com/TEAMMATES/teammates/commit/b9c047fd6c1fabb0727bd86d01c07ed38c3de8af", "message": "Merge branch 'master' into 10122-make-related-giver-email-optional", "committedDate": "2020-05-29T04:07:47Z", "type": "commit"}, {"oid": "6d3ee34356259956d481a2fd23040acbf6aab602", "url": "https://github.com/TEAMMATES/teammates/commit/6d3ee34356259956d481a2fd23040acbf6aab602", "message": "Merge branch '10122-make-related-giver-email-optional' of https://github.com/Derek-Hardy/teammates into 10122-make-related-giver-email-optional", "committedDate": "2020-05-29T04:09:01Z", "type": "commit"}]}