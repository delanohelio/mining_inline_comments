{"pr_number": 10673, "pr_title": "[#9536] Feedback Rubric Question E2E Test", "pr_createdAt": "2020-08-31T20:12:30Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10673", "timeline": [{"oid": "ee20348735a68fc0719eeb0f17b6ce7569d04395", "url": "https://github.com/TEAMMATES/teammates/commit/ee20348735a68fc0719eeb0f17b6ce7569d04395", "message": "Add backdoor methods for submit page", "committedDate": "2020-08-31T17:15:53Z", "type": "commit"}, {"oid": "8b57b6436d10049cd97f242d0a0d7c720fd63e52", "url": "https://github.com/TEAMMATES/teammates/commit/8b57b6436d10049cd97f242d0a0d7c720fd63e52", "message": "Add generic methods for FeedbackSubmitPage and InstructorFeedbackEditPage", "committedDate": "2020-08-31T17:44:47Z", "type": "commit"}, {"oid": "d87f10f82587f6c012fd83cca5016194e204f652", "url": "https://github.com/TEAMMATES/teammates/commit/d87f10f82587f6c012fd83cca5016194e204f652", "message": "Add FeedbackRubricQuestionE2ETest", "committedDate": "2020-08-31T19:54:47Z", "type": "commit"}, {"oid": "13564e642dda117bd308294008d1087de1a55442", "url": "https://github.com/TEAMMATES/teammates/commit/13564e642dda117bd308294008d1087de1a55442", "message": "Merge branch 'master' of https://github.com/TEAMMATES/teammates into rubric-question-e2e\n\n# Conflicts:\n#\tsrc/e2e/java/teammates/e2e/cases/BaseTestCaseWithBackDoorApiAccess.java\n#\tsrc/e2e/java/teammates/e2e/pageobjects/FeedbackSubmitPage.java\n#\tsrc/e2e/java/teammates/e2e/pageobjects/InstructorFeedbackEditPage.java\n#\tsrc/e2e/java/teammates/e2e/util/BackDoor.java\n#\tsrc/e2e/resources/testng-e2e.xml", "committedDate": "2020-09-01T11:35:10Z", "type": "commit"}, {"oid": "e9de51d12209efe87d7a6c9e7b6ce5a4cdf075f7", "url": "https://github.com/TEAMMATES/teammates/commit/e9de51d12209efe87d7a6c9e7b6ce5a4cdf075f7", "message": "Add waitForPageToLoad", "committedDate": "2020-09-01T11:35:22Z", "type": "commit"}, {"oid": "3c0d2894b3468430fd8b4d1993060753ed904856", "url": "https://github.com/TEAMMATES/teammates/commit/3c0d2894b3468430fd8b4d1993060753ed904856", "message": "Merge branch 'master' of https://github.com/TEAMMATES/teammates into rubric-question-e2e\n\n# Conflicts:\n#\tsrc/e2e/java/teammates/e2e/pageobjects/FeedbackSubmitPage.java\n#\tsrc/e2e/java/teammates/e2e/pageobjects/InstructorFeedbackEditPage.java", "committedDate": "2020-09-03T13:03:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1ODI5NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10673#discussion_r487358294", "bodyText": "Is there a better selector here? While this works, having to rely on the Angular component name is not preferred.", "author": "wkurniawan07", "createdAt": "2020-09-12T02:53:53Z", "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorFeedbackEditPage.java", "diffHunk": "@@ -911,4 +963,109 @@ private void clickSaveNewQuestionButton() {\n     private WebElement getRecommendedTextLengthField(int questionNum) {\n         return getQuestionForm(questionNum).findElement(By.id(\"recommended-length\"));\n     }\n+\n+    private WebElement getWeightCheckbox(int questionNum) {\n+        return getQuestionForm(questionNum).findElement(By.id(\"weights-checkbox\"));\n+    }\n+\n+    private String getDoubleString(Double value) {\n+        return value % 1 == 0 ? Integer.toString(value.intValue()) : Double.toString(value);\n+    }\n+\n+    private WebElement getRubricRow(int questionNum, int rowNumber) {\n+        return getQuestionForm(questionNum).findElements(By.cssSelector(\"tm-rubric-question-edit-details-form tr\"))\n+                .get(rowNumber - 1);\n+    }\n+\n+    private List<WebElement> getRubricChoiceInputs(int questionNum) {\n+        return getRubricRow(questionNum, 1).findElements(By.tagName(\"input\"));\n+    }\n+\n+    private List<WebElement> getRubricTextareas(int questionNum, int rowNum) {\n+        return getRubricRow(questionNum, rowNum).findElements(By.tagName(\"textarea\"));\n+    }\n+\n+    private List<WebElement> getRubricWeights(int questionNum, int rowNum) {\n+        return getRubricRow(questionNum, rowNum).findElements(By.tagName(\"input\"));\n+    }\n+\n+    private WebElement getRubricDeleteSubQnBtn(int questionNum, int rowNum) {\n+        return getRubricRow(questionNum, rowNum).findElement(By.id(\"btn-delete-subquestion\"));\n+    }\n+\n+    private WebElement getRubricDeleteChoiceBtn(int questionNum, int colNum) {\n+        return getRubricRow(questionNum, getNumRubricRows(questionNum)).findElements(By.id(\"btn-delete-choice\")).get(colNum);\n+    }\n+\n+    private int getNumRubricRows(int questionNum) {\n+        return getQuestionForm(questionNum).findElements(By.cssSelector(\"tm-rubric-question-edit-details-form tr\")).size();", "originalCommit": "3c0d2894b3468430fd8b4d1993060753ed904856", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "41cb4639140851b2f90c4f5d0aec2c2829d1314c", "url": "https://github.com/TEAMMATES/teammates/commit/41cb4639140851b2f90c4f5d0aec2c2829d1314c", "message": "Add id to refer to rubric table in InstructorFeedbackEditPage", "committedDate": "2020-09-12T17:28:40Z", "type": "commit"}, {"oid": "1fc90de1c04554d700075016371c0132fc5552a1", "url": "https://github.com/TEAMMATES/teammates/commit/1fc90de1c04554d700075016371c0132fc5552a1", "message": "Merge branch 'master' of https://github.com/TEAMMATES/teammates into rubric-question-e2e\n\n# Conflicts:\n#\tsrc/e2e/java/teammates/e2e/pageobjects/FeedbackSubmitPage.java\n#\tsrc/e2e/java/teammates/e2e/pageobjects/InstructorFeedbackEditPage.java\n#\tsrc/e2e/resources/testng-e2e.xml", "committedDate": "2020-09-13T06:46:32Z", "type": "commit"}, {"oid": "0f9686bef93d091a43578db6409f293f179284e7", "url": "https://github.com/TEAMMATES/teammates/commit/0f9686bef93d091a43578db6409f293f179284e7", "message": "Fix indentation of switch statements", "committedDate": "2020-09-13T14:35:59Z", "type": "commit"}]}