{"pr_number": 10159, "pr_title": "[#10140] Add comment search functionality in the frontend", "pr_createdAt": "2020-06-03T07:13:53Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10159", "timeline": [{"oid": "3809a36285b290ed0feceff5a281c1d17f06517c", "url": "https://github.com/TEAMMATES/teammates/commit/3809a36285b290ed0feceff5a281c1d17f06517c", "message": "Add checkboxes to search bar", "committedDate": "2020-06-02T07:41:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM2NTUyNg==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434365526", "bodyText": "Avoid naming like responseComments? If you remember the DB entity relation, the name refers to a different thing.", "author": "xpdavid", "createdAt": "2020-06-03T07:32:58Z", "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.html", "diffHunk": "@@ -0,0 +1,26 @@\n+<div class=\"card border border-primary mb-4\">\n+  <div class=\"card-header text-white bg-primary font-weight-bold\">Questions, responses, comments on responses</div>\n+  <div class=\"card-body p-4 row\" *ngFor=\"let sessions of commentTables\">\n+    <div class=\"font-weight-bold col-md-3\">Session: {{sessions.sessionName}} {{sessions.courseId}}</div>\n+    <div class=\"col-md-9\">\n+      <div *ngFor=\"let section of sessions.sections\" class=\"card p-0 border border-primary mb-5\">\n+        <div class=\"card-header bg-light-blue\">\n+          <b>Question {{section.questionNumber}}</b> {{section.questionText}}\n+        </div>\n+        <div *ngFor=\"let responseComment of section.responseComments\">", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3MTUyNA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434371524", "bodyText": "Is it necessary to define the interface here? The structure of API output is far enough?", "author": "xpdavid", "createdAt": "2020-06-03T07:44:20Z", "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts", "diffHunk": "@@ -0,0 +1,30 @@\n+import { Component, Input, OnInit } from '@angular/core';\n+import { CommentTableModel } from \"../../../components/comment-box/comment-table/comment-table.component\";\n+import { SearchCommentsTable } from \"../instructor-search-page.component\";\n+import { ResponseOutput } from \"../../../../types/api-output\";\n+\n+export interface CommentListSectionData {", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ0Njk2Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434446962", "bodyText": "Alright, that makes sense. We can just keep the feedback session and question output API outputs since all the fields are there. But I think there should be an additional commentTableModel as the comment table needs this model as data. The transformation is then done in the search service itself. So we can just have\nSearchCommentsTable {\n    feedbackSession: FeedbackSession,\n    questions: QuestionOutput[],\n    commentTableModel: CommentTableModel\n}\n\nSounds like a better interface?", "author": "t-cheepeng", "createdAt": "2020-06-03T09:50:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3MTUyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ0ODkyMw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434448923", "bodyText": "But I think there should be an additional commentTableModel as the comment table needs this model as data.\n\nThe examples in the code base is actually not good. Service cares about business logic so it should not transform how data should be presented.\nRegarding how to transform instructor comment to comment table model, you can use pipe to do so.", "author": "xpdavid", "createdAt": "2020-06-03T09:54:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3MTUyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ1MTAzMA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434451030", "bodyText": "Alright, then leave the data transformation to the component displaying it then", "author": "t-cheepeng", "createdAt": "2020-06-03T09:57:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3MTUyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2MDI5OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434460298", "bodyText": "FYI\n\nWe can just keep the feedback session and question output API outputs since all the fields are there.\n\nThis is usually true if it is just a component for data presentation. See here or results page for reference.\nHowever, if it involves form inputs (e.g. user can enter something), usually we will need to transform data to a *Model (see question edit form for reference) (and it is also why the comment table does not accept FeedbackResponse as a input).", "author": "xpdavid", "createdAt": "2020-06-03T10:14:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3MTUyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NDMzOQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434374339", "bodyText": "Actually there is a bad pattern here where the child component changes the value from the parent component.", "author": "xpdavid", "createdAt": "2020-06-03T07:49:25Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts", "diffHunk": "@@ -9,8 +10,14 @@ import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n   styleUrls: ['./instructor-search-bar.component.scss'],\n })\n export class InstructorSearchBarComponent implements OnInit {\n-  @Input() searchKey: string = '';\n-  @Output() searched: EventEmitter<string> = new EventEmitter<string>();\n+\n+  @Input() searchParams: SearchParams = {\n+    searchKey: '',", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NDY1MQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434374651", "bodyText": "I would suggest to use two-way data binding here [(searchParams)]=\"searchParams\"", "author": "xpdavid", "createdAt": "2020-06-03T07:49:59Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-page.component.html", "diffHunk": "@@ -1,4 +1,6 @@\n-<tm-instructor-search-bar (searched)=\"search($event)\" [searchKey]=\"searchKey\"></tm-instructor-search-bar>\n+<tm-instructor-search-bar (searched)=\"search($event)\" [searchParams]=\"searchParams\"></tm-instructor-search-bar>", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NDk2Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434374967", "bodyText": "The type definition should be in src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts right?", "author": "xpdavid", "createdAt": "2020-06-03T07:50:39Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-page.component.ts", "diffHunk": "@@ -18,6 +16,24 @@ export interface SearchStudentsTable {\n   sections: StudentListSectionData[];\n }\n \n+/**\n+ * Data object for communication with child comment result component\n+ */\n+export interface SearchCommentsTable {\n+  courseId: string;\n+  sessionName: string;\n+  sections: CommentListSectionData[];\n+}\n+\n+/**\n+ * Parameters inputted by user to be used in search\n+ */\n+export interface SearchParams {", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NTE3Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434375177", "bodyText": "The type definition should be in src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts right?", "author": "xpdavid", "createdAt": "2020-06-03T07:51:01Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-page.component.ts", "diffHunk": "@@ -18,6 +16,24 @@ export interface SearchStudentsTable {\n   sections: StudentListSectionData[];\n }\n \n+/**\n+ * Data object for communication with child comment result component\n+ */\n+export interface SearchCommentsTable {", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ0OTEyOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434449128", "bodyText": "Then also shift the SearchStudentsTable to the respective component too? Sounds better to place it there too", "author": "t-cheepeng", "createdAt": "2020-06-03T09:54:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NTE3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ1MDAyNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434450025", "bodyText": "Yes. But please do it in a separate PR.", "author": "xpdavid", "createdAt": "2020-06-03T09:56:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NTE3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NTc1Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434375757", "bodyText": "Why touching the irrelevant method? Creating a new method maybe?", "author": "xpdavid", "createdAt": "2020-06-03T07:52:05Z", "path": "src/web/services/search.service.ts", "diffHunk": "@@ -36,16 +44,24 @@ export class SearchService {\n     private linkService: LinkService,\n   ) {}\n \n-  searchInstructor(searchKey: string): Observable<InstructorSearchResult> {\n-    return this.searchStudents(searchKey).pipe(\n-      map((studentsRes: Students) => this.getCoursesWithSections(studentsRes)),\n-      mergeMap((coursesWithSections: SearchStudentsTable[]) =>\n-        forkJoin([\n-          of(coursesWithSections),\n-          this.getPrivileges(coursesWithSections),\n-        ]),\n-      ),\n-      map((res: [SearchStudentsTable[], InstructorPrivilege[]]) => this.combinePrivileges(res)),\n+  searchInstructor(searchKey: string, isSearchForStudents: boolean, isSearchForComments: boolean): Observable<InstructorSearchResult> {", "originalCommit": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDAxNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434844015", "bodyText": "When writing documentation, it is a good practice to mention what it is but not how it going to be used (because it is already revealed in the code).", "author": "xpdavid", "createdAt": "2020-06-03T20:47:48Z", "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts", "diffHunk": "@@ -0,0 +1,25 @@\n+import { Component, Input, OnInit } from '@angular/core';\n+import { FeedbackSession, QuestionOutput } from \"../../../../types/api-output\";\n+\n+/**\n+ * Data object for communication with child comment result component", "originalCommit": "3adb38261dfcb9196d0ef768136297a7f58bf657", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDQ0MA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434844440", "bodyText": "I guess you may even use CommentSearchResult here", "author": "xpdavid", "createdAt": "2020-06-03T20:48:38Z", "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts", "diffHunk": "@@ -0,0 +1,25 @@\n+import { Component, Input, OnInit } from '@angular/core';\n+import { FeedbackSession, QuestionOutput } from \"../../../../types/api-output\";\n+\n+/**\n+ * Data object for communication with child comment result component\n+ */\n+export interface SearchCommentsTable {", "originalCommit": "3adb38261dfcb9196d0ef768136297a7f58bf657", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MDUyMA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434970520", "bodyText": "Right, that's possible too. But i think its better to just split it into the feedback session and question. I feel that it is more readable this way and you have direct access to the session/question instead of going through another layer of data", "author": "t-cheepeng", "createdAt": "2020-06-04T03:23:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDQ0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDcxNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434844717", "bodyText": "Why the event is not used?", "author": "xpdavid", "createdAt": "2020-06-03T20:49:11Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts", "diffHunk": "@@ -9,8 +18,16 @@ import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n   styleUrls: ['./instructor-search-bar.component.scss'],\n })\n export class InstructorSearchBarComponent implements OnInit {\n-  @Input() searchKey: string = '';\n-  @Output() searched: EventEmitter<string> = new EventEmitter<string>();\n+\n+  @Input() searchParams: SearchParams = {\n+    searchKey: '',\n+    isSearchForStudents: true,\n+    isSearchForComments: false\n+  }\n+\n+  @Output() searched: EventEmitter<SearchParams> = new EventEmitter();\n+\n+  @Output() searchParamsChange: EventEmitter<SearchParams> = new EventEmitter();", "originalCommit": "3adb38261dfcb9196d0ef768136297a7f58bf657", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MTY0OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434971648", "bodyText": "Which event is not used?\nsearched is used when user clicks/enter the search button\nsearchParamsChange is used in the two way binding for searchParams in instructor-search-page.component", "author": "t-cheepeng", "createdAt": "2020-06-04T03:28:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDcxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MzczMg==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434973732", "bodyText": "The 2-way binding does not happen magically if you do not fire the event searchParamsChange.emit(newSearchParams)", "author": "xpdavid", "createdAt": "2020-06-04T03:36:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDcxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MzkxMQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434973911", "bodyText": "Why your current implementation work is because here you do 2-way binding for  searchParams.isSearchForStudents (i.e. you are still changes the value in the child component)", "author": "xpdavid", "createdAt": "2020-06-04T03:37:40Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.html", "diffHunk": "@@ -9,11 +9,21 @@\n     </div>\n     <div class=\"form-group\">\n       <div class=\"input-group\">\n-        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchKey\" (keyup.enter)=\"search()\"\n+        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchParams.searchKey\" (keyup.enter)=\"search()\"\n             placeholder=\"Your search keyword\">\n           <div class=\"input-group-append\">\n             <button class=\"btn btn-primary\" (click)=\"search()\">Search</button>\n           </div>\n+        <div class=\"input-group mt-md-1\">\n+          <div class=\"col-md-3\">\n+            <input type=\"checkbox\" class=\"form-check-inline\" id=\"studentsCheckbox\" [(ngModel)]=\"searchParams.isSearchForStudents\">", "originalCommit": "3adb38261dfcb9196d0ef768136297a7f58bf657", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3Nzg4Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434977887", "bodyText": "Ah i see. Okay, will change the implementation", "author": "t-cheepeng", "createdAt": "2020-06-04T03:54:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MzkxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA0ODA1MA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r435048050", "bodyText": "Try search triggerModelChange method in the code base and you will find that you don't need to write this so verbosely.", "author": "xpdavid", "createdAt": "2020-06-04T07:29:29Z", "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.html", "diffHunk": "@@ -9,11 +9,33 @@\n     </div>\n     <div class=\"form-group\">\n       <div class=\"input-group\">\n-        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchKey\" (keyup.enter)=\"search()\"\n-            placeholder=\"Your search keyword\">\n+        <input type=\"text\" class=\"form-control\" [ngModel]=\"searchParams.searchKey\"\n+          (ngModelChange)=\"triggerSearchParamsChangeEvent({", "originalCommit": "6a64e4f8666652fdc2135a89d57631a7845bcb2a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7a1fcee6b16815aeab0923fca16fbca852c30937", "url": "https://github.com/TEAMMATES/teammates/commit/7a1fcee6b16815aeab0923fca16fbca852c30937", "message": "Add comment search service and result component", "committedDate": "2020-06-04T09:20:29Z", "type": "commit"}, {"oid": "751c37e70d06f060c0e788d178fd843b18fdb6da", "url": "https://github.com/TEAMMATES/teammates/commit/751c37e70d06f060c0e788d178fd843b18fdb6da", "message": "Add response and model pipe to result table", "committedDate": "2020-06-04T09:20:32Z", "type": "commit"}, {"oid": "121bb2a11f3e48c4d12e54492f6674e667dba0be", "url": "https://github.com/TEAMMATES/teammates/commit/121bb2a11f3e48c4d12e54492f6674e667dba0be", "message": "Shift interfaces and add method to search service", "committedDate": "2020-06-04T09:20:33Z", "type": "commit"}, {"oid": "f0fe330931f3cfb826ce27f574fde5b7dc42c3aa", "url": "https://github.com/TEAMMATES/teammates/commit/f0fe330931f3cfb826ce27f574fde5b7dc42c3aa", "message": "Update doc and remove two way binding from child", "committedDate": "2020-06-04T09:20:33Z", "type": "commit"}, {"oid": "0996413532a9f93549d59512e9fa2eccd1fce8fd", "url": "https://github.com/TEAMMATES/teammates/commit/0996413532a9f93549d59512e9fa2eccd1fce8fd", "message": "Update snapshots and fix lint", "committedDate": "2020-06-04T09:20:33Z", "type": "commit"}, {"oid": "42de62d60eaae7d05282407f6d54c09063afb62a", "url": "https://github.com/TEAMMATES/teammates/commit/42de62d60eaae7d05282407f6d54c09063afb62a", "message": "Fix typo in CommentSearchResults", "committedDate": "2020-06-04T09:34:12Z", "type": "commit"}, {"oid": "22d351ab937fda45988b23d99be782a280b6322b", "url": "https://github.com/TEAMMATES/teammates/commit/22d351ab937fda45988b23d99be782a280b6322b", "message": "Merge branch 'master' into 10140-search-frontend", "committedDate": "2020-06-04T09:34:25Z", "type": "commit"}, {"oid": "22d351ab937fda45988b23d99be782a280b6322b", "url": "https://github.com/TEAMMATES/teammates/commit/22d351ab937fda45988b23d99be782a280b6322b", "message": "Merge branch 'master' into 10140-search-frontend", "committedDate": "2020-06-04T09:34:25Z", "type": "forcePushed"}, {"oid": "9fa0ebdda6f089af9b0e56e7388d590679cb37e0", "url": "https://github.com/TEAMMATES/teammates/commit/9fa0ebdda6f089af9b0e56e7388d590679cb37e0", "message": "Simplify event triggering for search bar", "committedDate": "2020-06-04T10:27:46Z", "type": "commit"}, {"oid": "312994f1f363ebcee178b5fccaecd4327de3571f", "url": "https://github.com/TEAMMATES/teammates/commit/312994f1f363ebcee178b5fccaecd4327de3571f", "message": "Merge branch 'master' into 10140-search-frontend", "committedDate": "2020-06-05T07:56:07Z", "type": "commit"}, {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac", "url": "https://github.com/TEAMMATES/teammates/commit/aa0425d70c6eaedc64418598ff5aff9fe1685bac", "message": "Integrate backend results into frontend search", "committedDate": "2020-06-05T08:38:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgzMTgxMw==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r435831813", "bodyText": "Thanks for catching that haha", "author": "madanalogy", "createdAt": "2020-06-05T10:25:12Z", "path": "src/main/java/teammates/ui/webapi/output/CommentSearchResultData.java", "diffHunk": "@@ -41,10 +41,10 @@ public CommentSearchResultData(FeedbackSessionAttributes session,\n         for (FeedbackResponseAttributes response : responses) {\n             output.add(ResponseOutput.builder()\n                     .withResponseId(response.getId())\n-                    .withGiver(bundle.responseGiverTable.get(response.giver))\n+                    .withGiver(bundle.responseGiverTable.get(response.getId()))\n                     .withGiverEmail(response.giver)\n                     .withGiverSection(response.giverSection)\n-                    .withRecipient(bundle.responseRecipientTable.get(response.recipient))\n+                    .withRecipient(bundle.responseRecipientTable.get(response.getId()))", "originalCommit": "aa0425d70c6eaedc64418598ff5aff9fe1685bac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjEwMTIyMA==", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r436101220", "bodyText": "We should have some doc here?", "author": "xpdavid", "createdAt": "2020-06-05T18:42:38Z", "path": "src/web/services/search.service.ts", "diffHunk": "@@ -51,6 +57,12 @@ export class SearchService {\n     );\n   }\n \n+  searchComment(searchKey: string): Observable<InstructorSearchResult> {", "originalCommit": "aa0425d70c6eaedc64418598ff5aff9fe1685bac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c91879eb469af7f3d69839482d59578dab72fada", "url": "https://github.com/TEAMMATES/teammates/commit/c91879eb469af7f3d69839482d59578dab72fada", "message": "Add comment for method", "committedDate": "2020-06-06T01:09:27Z", "type": "commit"}, {"oid": "fce1df705ab61884c2d5b02f87924469c951689e", "url": "https://github.com/TEAMMATES/teammates/commit/fce1df705ab61884c2d5b02f87924469c951689e", "message": "Merge branch 'master' into 10140-search-frontend", "committedDate": "2020-06-06T01:09:58Z", "type": "commit"}]}