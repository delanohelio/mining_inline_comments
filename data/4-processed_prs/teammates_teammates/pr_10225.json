{"pr_number": 10225, "pr_title": "[#10213] Add animations for all collapsable tabs", "pr_createdAt": "2020-06-23T07:11:29Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10225", "timeline": [{"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1", "url": "https://github.com/TEAMMATES/teammates/commit/e012de25a5327b93f32f031a08c3c4f6f10caef1", "message": "Add animations for all collapsable tabs", "committedDate": "2020-06-23T07:09:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMTg4NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444011884", "bodyText": "This part is the main part of the PR, adapted mainly from https://stackoverflow.com/a/8331169 and https://stackoverflow.com/a/40143101\nmax-height: 99999999px; because our content is variable height, but we need a fixed height to animate.\ndisplay: block !important; to override display: none of the default collapse class. Otherwise animation would not play.", "author": "ccyccyccy", "createdAt": "2020-06-23T07:18:08Z", "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;\n+    overflow: visible;\n+    visibility: visible;\n+    animation: myExpand .35s ease-in-out;\n+  }\n+}", "originalCommit": "e012de25a5327b93f32f031a08c3c4f6f10caef1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMjc0OQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444012749", "bodyText": "Changed this because the collapse class sets display: none by default, which conflicts with the change. This is basically the same end result.", "author": "ccyccyccy", "createdAt": "2020-06-23T07:19:52Z", "path": "src/web/app/page.component.html", "diffHunk": "@@ -5,7 +5,7 @@\n   <button class=\"navbar-toggler d-lg-none\" type=\"button\" (click)=\"toggleCollapse()\" [attr.aria-expanded]=\"!isCollapsed\" aria-label=\"Toggle navigation\">\n     <span class=\"navbar-toggler-icon\"></span>\n   </button>\n-  <div class=\"collapse navbar-collapse\" [ngbCollapse]=\"isCollapsed\">\n+  <div class=\"navbar-collapse\" [ngStyle]=\"{display: isCollapsed ? 'none' : 'block'}\">", "originalCommit": "e012de25a5327b93f32f031a08c3c4f6f10caef1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ff804e1001a262106c5e3ad1a7326ff2f60f1d38", "url": "https://github.com/TEAMMATES/teammates/commit/ff804e1001a262106c5e3ad1a7326ff2f60f1d38", "message": "Typo fix", "committedDate": "2020-06-23T09:20:34Z", "type": "commit"}, {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98", "url": "https://github.com/TEAMMATES/teammates/commit/c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98", "message": "Update snapshots", "committedDate": "2020-06-23T11:44:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwODk5OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444308998", "bodyText": "Let's rename myExpand to a more proper name.", "author": "wkurniawan07", "createdAt": "2020-06-23T15:22:38Z", "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {", "originalCommit": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwOTQwNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444309405", "bodyText": "What's the difference between this and the 800px defined above?", "author": "wkurniawan07", "createdAt": "2020-06-23T15:23:11Z", "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;", "originalCommit": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY0NDU3Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444644572", "bodyText": "Using 99999999px for both will cause the animation to instantly expand since it is expecting a much larger height.\nThe 800px is used as a middle ground for the animation to play. The animation will play as if the max-height is 800px, but the final max-height would be 99999999px to prevent overflow issues.", "author": "ccyccyccy", "createdAt": "2020-06-24T04:59:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwOTQwNQ=="}], "type": "inlineReview"}, {"oid": "eb5446d09901d59ada7f951b4c7ff356c47f26d6", "url": "https://github.com/TEAMMATES/teammates/commit/eb5446d09901d59ada7f951b4c7ff356c47f26d6", "message": "Rename animation more properly", "committedDate": "2020-06-24T04:26:46Z", "type": "commit"}, {"oid": "b6b3e4965a1f87e34688f07bf9337a5aca009bb2", "url": "https://github.com/TEAMMATES/teammates/commit/b6b3e4965a1f87e34688f07bf9337a5aca009bb2", "message": "Add collapse animation as well", "committedDate": "2020-06-24T04:48:00Z", "type": "commit"}, {"oid": "e4f903f9d4738296495e7c4c52740b12c811540c", "url": "https://github.com/TEAMMATES/teammates/commit/e4f903f9d4738296495e7c4c52740b12c811540c", "message": "Merge branch 'master' into 10213-UI-UX-animation", "committedDate": "2020-06-24T06:34:24Z", "type": "commit"}]}