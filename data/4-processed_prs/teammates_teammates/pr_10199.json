{"pr_number": 10199, "pr_title": "[#10176] Fix Admin Search Issues from UAT", "pr_createdAt": "2020-06-17T06:27:01Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10199", "timeline": [{"oid": "89cd85764541f07e906a1d00ca10f5f4346ce763", "url": "https://github.com/TEAMMATES/teammates/commit/89cd85764541f07e906a1d00ca10f5f4346ce763", "message": "Implement all fixes for UAT issues", "committedDate": "2020-06-17T03:14:21Z", "type": "commit"}, {"oid": "c6587adb251b414e3c188849b29c10cfb8910b3f", "url": "https://github.com/TEAMMATES/teammates/commit/c6587adb251b414e3c188849b29c10cfb8910b3f", "message": "Add admin-search-page.component.spec.ts tests", "committedDate": "2020-06-17T06:19:32Z", "type": "commit"}, {"oid": "70d9597dbb94d8d15cf4bf383546324c230a0f26", "url": "https://github.com/TEAMMATES/teammates/commit/70d9597dbb94d8d15cf4bf383546324c230a0f26", "message": "Add modal confirmation to e2e test", "committedDate": "2020-06-17T10:31:05Z", "type": "commit"}, {"oid": "70d9597dbb94d8d15cf4bf383546324c230a0f26", "url": "https://github.com/TEAMMATES/teammates/commit/70d9597dbb94d8d15cf4bf383546324c230a0f26", "message": "Add modal confirmation to e2e test", "committedDate": "2020-06-17T10:31:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjUyMA==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r441802520", "bodyText": "The stack trace shows that getStudentRow fail to find element.", "author": "xpdavid", "createdAt": "2020-06-17T20:06:07Z", "path": "src/e2e/java/teammates/e2e/pageobjects/AdminSearchPage.java", "diffHunk": "@@ -150,6 +153,9 @@ public void resetStudentGoogleId(StudentAttributes student) {\n         WebElement studentRow = getStudentRow(student);", "originalCommit": "70d9597dbb94d8d15cf4bf383546324c230a0f26", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "url": "https://github.com/TEAMMATES/teammates/commit/32883a5fab271463a5f0cdbb7d55addf08b025d1", "message": "Fix getStudentRow and getInstructorRow xpath format", "committedDate": "2020-06-18T01:57:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NjU0Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442276547", "bodyText": "I normally don't pick on indentations, but this is very weird.\nWhy not just do a simple one:\n<button *ngIf=\"!instructor.showLinks\" class=\"btn\">\n  <i class=\"fas fa-chevron-circle-down\" style=\"color: blue;\"></i>\n</button>", "author": "wkurniawan07", "createdAt": "2020-06-18T14:37:07Z", "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -36,16 +36,28 @@\n       <tbody>\n         <ng-container *ngFor=\"let instructor of instructors; let i = index\">\n           <tr (click)=\"instructor.showLinks = !instructor.showLinks\">\n-            <td>{{ instructor.courseId }}</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ instructor.courseId }}\n+              <br/>\n+              <div class=\"col-sm-1\">\n+                <button *ngIf=\"!instructor.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-down\"\n+                                       style=\"color: blue;\"></i></button>", "originalCommit": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjMxMTkxNg==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442311916", "bodyText": "This was the unfortunate victim of copy-paste :P", "author": "madanalogy", "createdAt": "2020-06-18T15:26:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NjU0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NjcxOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442276718", "bodyText": "Why defer this TODO?", "author": "wkurniawan07", "createdAt": "2020-06-18T14:37:19Z", "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -36,16 +36,28 @@\n       <tbody>\n         <ng-container *ngFor=\"let instructor of instructors; let i = index\">\n           <tr (click)=\"instructor.showLinks = !instructor.showLinks\">\n-            <td>{{ instructor.courseId }}</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ instructor.courseId }}\n+              <br/>\n+              <div class=\"col-sm-1\">\n+                <button *ngIf=\"!instructor.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-down\"\n+                                       style=\"color: blue;\"></i></button>\n+                <button *ngIf=\"instructor.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-up\" style=\"color: blue;\"></i></button>\n+              </div>\n+            </td> <!-- TODO: tooltip course name -->", "originalCommit": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NzI2Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442277267", "bodyText": "Self-closing HTMLs should not be closed.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          <br/>\n          \n          \n            \n                          <br>", "author": "wkurniawan07", "createdAt": "2020-06-18T14:37:58Z", "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -94,17 +106,30 @@\n       <tbody>\n         <ng-container *ngFor=\"let student of students; let i = index\">\n           <tr (click)=\"student.showLinks = !student.showLinks\">\n-            <td>{{ student.courseId }} [{{ student.section }}] ({{ student.team }})</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ student.courseId }} [{{ student.section }}] ({{ student.team }})\n+              <br/>", "originalCommit": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NzQ2Ng==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442277466", "bodyText": "Unrelated change?", "author": "wkurniawan07", "createdAt": "2020-06-18T14:38:15Z", "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -94,17 +106,30 @@\n       <tbody>\n         <ng-container *ngFor=\"let student of students; let i = index\">\n           <tr (click)=\"student.showLinks = !student.showLinks\">\n-            <td>{{ student.courseId }} [{{ student.section }}] ({{ student.team }})</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ student.courseId }} [{{ student.section }}] ({{ student.team }})\n+              <br/>\n+              <div class=\"col-sm-1\">\n+                <button *ngIf=\"!student.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-down\"\n+                                                   style=\"color: blue;\"></i></button>\n+                <button *ngIf=\"student.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-up\" style=\"color: blue;\"></i></button>\n+              </div>\n+            </td> <!-- TODO: tooltip course name -->\n             <td>{{ student.name }}</td>\n-            <td><a href=\"{{ student.homePageLink }}\" *ngIf=\"student.googleId\">{{ student.googleId }}</a></td>\n+            <td><a href=\"{{ student.homePageLink }}\" *ngIf=\"student.googleId\"\n+                   (click)=\"$event.stopPropagation()\" target=\"_blank\" rel=\"noopener noreferrer\">\n+              {{ student.googleId }}</a></td>\n             <td>{{ student.institute }}</td>\n             <td>{{ student.comments }}</td>\n             <td>\n-              <a href=\"{{ student.manageAccountLink }}\" *ngIf=\"student.googleId && student.manageAccountLink\">\n+              <a href=\"{{ student.manageAccountLink }}\" *ngIf=\"student.googleId && student.manageAccountLink\"\n+                 (click)=\"$event.stopPropagation()\" target=\"_blank\" rel=\"noopener noreferrer\">\n                 <i class=\"fas fa-info-circle\"></i> Manage this account\n               </a>\n               <br>\n-              <a id=\"reset-student-id-{{i}}\" href=\"javascript:;\" (click)=\"resetStudentGoogleId(student, $event)\" *ngIf=\"student.googleId\">\n+              <a id=\"reset-student-id-{{i}}\" href=\"javascript:\" (click)=\"resetStudentGoogleId(student, $event)\" *ngIf=\"student.googleId\">", "originalCommit": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3ODQyOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442278428", "bodyText": "2-space indentation for HTML/SCSS/TS files", "author": "wkurniawan07", "createdAt": "2020-06-18T14:39:33Z", "path": "src/web/app/pages-admin/admin-search-page/reset-google-id-confirm-modal/reset-google-id-confirm-modal.component.html", "diffHunk": "@@ -0,0 +1,16 @@\n+<div class=\"modal-header bg-warning\">\n+    <h5 class=\"modal-title\"><i class=\"fas fa-exclamation-circle\"></i> Warning: This account's Google ID will be reset. </h5>", "originalCommit": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "19c6a050e95a7f435834a3c1216a8690714d59f0", "url": "https://github.com/TEAMMATES/teammates/commit/19c6a050e95a7f435834a3c1216a8690714d59f0", "message": "Fix indentation and add course tooltip", "committedDate": "2020-06-18T16:08:52Z", "type": "commit"}, {"oid": "29cea7c3c58001b6fb1bf24feba060612929818e", "url": "https://github.com/TEAMMATES/teammates/commit/29cea7c3c58001b6fb1bf24feba060612929818e", "message": "Fix e2e test for tooltip addition", "committedDate": "2020-06-19T03:24:35Z", "type": "commit"}, {"oid": "7e096b658ba1b116ac390d79dc660eeb9efdf796", "url": "https://github.com/TEAMMATES/teammates/commit/7e096b658ba1b116ac390d79dc660eeb9efdf796", "message": "Fix import order for lint", "committedDate": "2020-06-19T03:29:41Z", "type": "commit"}, {"oid": "1e496445ba22dded0aef5219173d2ac3fc0fcbf9", "url": "https://github.com/TEAMMATES/teammates/commit/1e496445ba22dded0aef5219173d2ac3fc0fcbf9", "message": "Merge branch 'master' into 10176-adminSearch", "committedDate": "2020-06-19T16:48:05Z", "type": "commit"}]}