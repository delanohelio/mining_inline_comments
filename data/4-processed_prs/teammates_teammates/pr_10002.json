{"pr_number": 10002, "pr_title": "[#9423] Links in the Instructor help page to other questions cards do not work", "pr_createdAt": "2020-03-29T08:36:48Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10002", "timeline": [{"oid": "8923541938ecbc7d27f167a1c64dd504375f720d", "url": "https://github.com/TEAMMATES/teammates/commit/8923541938ecbc7d27f167a1c64dd504375f720d", "message": "First bunch of sections with links fixed", "committedDate": "2020-03-13T13:44:18Z", "type": "commit"}, {"oid": "2bd64454f5cc85595c3f988d24befb97cb3f6377", "url": "https://github.com/TEAMMATES/teammates/commit/2bd64454f5cc85595c3f988d24befb97cb3f6377", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep local branch up-to-date with upstream/master.", "committedDate": "2020-03-25T14:15:06Z", "type": "commit"}, {"oid": "9d4ecfa8fff072b7ae6a068bed26c81636e13731", "url": "https://github.com/TEAMMATES/teammates/commit/9d4ecfa8fff072b7ae6a068bed26c81636e13731", "message": "A simple service for components to share data on collapsible questions", "committedDate": "2020-03-29T07:15:55Z", "type": "commit"}, {"oid": "1f11a3b0ec97da335a9b7197aa1c575bcef4df40", "url": "https://github.com/TEAMMATES/teammates/commit/1f11a3b0ec97da335a9b7197aa1c575bcef4df40", "message": "Second bunch of sections with links fixed", "committedDate": "2020-03-29T07:16:29Z", "type": "commit"}, {"oid": "d20cb38bdcabcfc73711476c08ca0c4cd3ecffae", "url": "https://github.com/TEAMMATES/teammates/commit/d20cb38bdcabcfc73711476c08ca0c4cd3ecffae", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep fix-links-instructor-help branch up-to-date with upstream/master.", "committedDate": "2020-03-29T07:18:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTE2OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r400711168", "bodyText": "Can we improve the naming?", "author": "xpdavid", "createdAt": "2020-03-31T07:53:24Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-courses-section/instructor-help-courses-section.component.ts", "diffHunk": "@@ -14,11 +15,54 @@ export class InstructorHelpCoursesSectionComponent extends InstructorHelpSection\n \n   readonly supportEmail: string = environment.supportEmail;\n \n-  constructor() {\n+  isCollapsed: boolean = false;\n+  isCollapsed1: boolean = false;\n+  isCollapsed2: boolean = false;\n+  isCollapsed3: boolean = false;\n+  isCollapsed4: boolean = false;\n+  isCollapsed5: boolean = false;\n+  isCollapsed6: boolean = false;\n+  isCollapsed7: boolean = false;\n+  isCollapsed8: boolean = false;\n+  isCollapsed9: boolean = false;\n+  isCollapsed10: boolean = false;\n+  isCollapsed11: boolean = false;\n+  isCollapsed12: boolean = false;\n+  isCollapsed13: boolean = false;\n+  isCollapsed14: boolean = false;\n+  isCollapsed15: boolean = false;\n+  isCollapsed16: boolean = false;\n+  isCollapsed17: boolean = false;\n+  isCollapsed18: boolean = false;\n+  isCollapsed19: boolean = false;", "originalCommit": "d20cb38bdcabcfc73711476c08ca0c4cd3ecffae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMjA2NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r400712064", "bodyText": "Same for multiple places", "author": "xpdavid", "createdAt": "2020-03-31T07:54:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTE2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM3NDAyNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r401374027", "bodyText": "Sorry, sure. I was hesitant to modify the variable names that had been there before.\nChanges now made, please see the last commits below. I will be happy to work further on naming if needed.", "author": "aishaadambek", "createdAt": "2020-04-01T06:03:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTE2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTk0Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r400711942", "bodyText": "Why we need service to handle collapse event?", "author": "xpdavid", "createdAt": "2020-03-31T07:54:43Z", "path": "src/web/services/instructor-help-data-sharing.service.ts", "diffHunk": "@@ -0,0 +1,29 @@\n+import { Injectable } from '@angular/core';\n+import { BehaviorSubject, Observable } from 'rxjs';\n+\n+/**\n+ * Handles sharing data to manage elements to be collapsed when following anchor tags.", "originalCommit": "d20cb38bdcabcfc73711476c08ca0c4cd3ecffae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM3NTU0OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r401375548", "bodyText": "Yes, it also looks a bit like overkill to me.\nHowever, the instructor help page consists of several components and, as I mentioned in the PR description, I did not manage to find a better way to handle/trigger collapse event in component Y from component X. I am a beginner in Angular development, though, and I will be happy to try alternative approaches if any!", "author": "aishaadambek", "createdAt": "2020-04-01T06:08:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM5MDcxNA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r401390714", "bodyText": "Why not trying componentA -(event)-> parentComponent -(update)-> componentB", "author": "xpdavid", "createdAt": "2020-04-01T06:49:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY2MjE2OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r401662168", "bodyText": "Ah yes, makes sense!\nChanges made, please see the last commits below.", "author": "aishaadambek", "createdAt": "2020-04-01T14:32:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDcxMTk0Mg=="}], "type": "inlineReview"}, {"oid": "a82af5170fed5fe2da0138dcb874cb055f5f2f22", "url": "https://github.com/TEAMMATES/teammates/commit/a82af5170fed5fe2da0138dcb874cb055f5f2f22", "message": "Variable naming improved", "committedDate": "2020-04-01T05:50:53Z", "type": "commit"}, {"oid": "e59438ea3dad1702dcb5713ee08b73ff69b767ce", "url": "https://github.com/TEAMMATES/teammates/commit/e59438ea3dad1702dcb5713ee08b73ff69b767ce", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep fix-links-instructor-help branch up-to-date with upstream/master.", "committedDate": "2020-04-01T05:55:38Z", "type": "commit"}, {"oid": "c36d28c933546d5b4a0b22d6275938006b826da6", "url": "https://github.com/TEAMMATES/teammates/commit/c36d28c933546d5b4a0b22d6275938006b826da6", "message": "Handle collapse events via parent-child relationships", "committedDate": "2020-04-01T13:38:33Z", "type": "commit"}, {"oid": "0b0bfa601e45dd1c3629ccd83c8ae982ab2e9443", "url": "https://github.com/TEAMMATES/teammates/commit/0b0bfa601e45dd1c3629ccd83c8ae982ab2e9443", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep fix-links-instructor-help branch up-to-date with upstream/master.", "committedDate": "2020-04-01T13:39:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODUzNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403668537", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              isRankOptsCollapsed: boolean = false;\n          \n          \n            \n              isRankRcptsCollapsed: boolean = false;\n          \n          \n            \n              isRankOptionsCollapsed: boolean = false;\n          \n          \n            \n              isRankRecipientsCollapsed: boolean = false;\n          \n      \n    \n    \n  \n\nMight be worthwhile to make these more verbose, could  easily be misread considering that you utilised \"Pts\" to mean \"Points\" earlier.", "author": "madanalogy", "createdAt": "2020-04-05T08:33:57Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-questions-section/instructor-help-questions-section.component.ts", "diffHunk": "@@ -12,6 +12,18 @@ import { InstructorHelpSectionComponent } from '../instructor-help-section.compo\n })\n export class InstructorHelpQuestionsSectionComponent extends InstructorHelpSectionComponent implements OnInit {\n \n+  isEssayQsCollapsed: boolean = false;\n+  isMCQSingleCollapsed: boolean = false;\n+  isMCQMultCollapsed: boolean = false;\n+  isNumScaleCollapsed: boolean = false;\n+  isPtsOptionsCollapsed: boolean = false;\n+  isPtsRecipientsCollapsed: boolean = false;\n+  isContribQsCollapsed: boolean = false;\n+  isRubricQsCollapsed: boolean = false;\n+  isRankOptsCollapsed: boolean = false;\n+  isRankRcptsCollapsed: boolean = false;", "originalCommit": "0b0bfa601e45dd1c3629ccd83c8ae982ab2e9443", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4MzIxMw==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403683213", "bodyText": "Done.", "author": "aishaadambek", "createdAt": "2020-04-05T10:43:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODUzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODY4Mw==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403668683", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              isChangeGoogleIDCollapsed: boolean = false;\n          \n          \n            \n              isChangeGoogleIdCollapsed: boolean = false;\n          \n      \n    \n    \n  \n\nJust a nit to adhere to camelCase", "author": "madanalogy", "createdAt": "2020-04-05T08:35:22Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-students-section/instructor-help-students-section.component.ts", "diffHunk": "@@ -106,11 +107,21 @@ export class InstructorHelpStudentsSectionComponent extends InstructorHelpSectio\n     ],\n   }];\n \n+  @Input() collapseStudentEditDetailsInChild: Subject<boolean> = new Subject<boolean>();\n+  isEditDetailsCollapsed: boolean = false;\n+  isViewProfileCollapsed: boolean = false;\n+  isViewAllRespCollapsed: boolean = false;\n+  isStudSearchCollapsed: boolean = false;\n+  isStudEmailCollapsed: boolean = false;\n+  isGoogleAccCollapsed: boolean = false;\n+  isChangeGoogleIDCollapsed: boolean = false;", "originalCommit": "0b0bfa601e45dd1c3629ccd83c8ae982ab2e9443", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4MzE5MQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403683191", "bodyText": "Done.", "author": "aishaadambek", "createdAt": "2020-04-05T10:43:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODY4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODc5OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403668798", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              isRestoreSnCollapsed: boolean = false;\n          \n          \n            \n              isDelSnCollapsed: boolean = false;\n          \n          \n            \n              isRestoreSessionCollapsed: boolean = false;\n          \n          \n            \n              isDelSessionCollapsed: boolean = false;", "author": "madanalogy", "createdAt": "2020-04-05T08:36:47Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-sessions-section/instructor-help-sessions-section.component.ts", "diffHunk": "@@ -11,11 +12,42 @@ import { InstructorHelpSectionComponent } from '../instructor-help-section.compo\n })\n export class InstructorHelpSessionsSectionComponent extends InstructorHelpSectionComponent implements OnInit {\n \n+  @Input() collapsePeerEvalTipsInChild: Subject<boolean> = new Subject<boolean>();\n+  isPeerEvalTipsCollapsed: boolean = false;\n+  isNewFSessionCollapsed: boolean = false;\n+  isAddQsCollapsed: boolean = false;\n+  isPreviewCollapsed: boolean = false;\n+  isCannotSubmitCollapsed: boolean = false;\n+  isViewResCollapsed: boolean = false;\n+  isViewAllRespCollapsed: boolean = false;\n+  isAddCmntCollapsed: boolean = false;\n+  isEditDelCmntCollapsed: boolean = false;\n+  isSearchCollapsed: boolean = false;\n+  isViewDelCollapsed: boolean = false;\n+  isRestoreSnCollapsed: boolean = false;\n+  isDelSnCollapsed: boolean = false;", "originalCommit": "0b0bfa601e45dd1c3629ccd83c8ae982ab2e9443", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4MzE4MQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403683181", "bodyText": "Done.", "author": "aishaadambek", "createdAt": "2020-04-05T10:43:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODc5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODgzMg==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403668832", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              isNewFSessionCollapsed: boolean = false;\n          \n          \n            \n              isNewFeedbackSessionCollapsed: boolean = false;", "author": "madanalogy", "createdAt": "2020-04-05T08:36:59Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-sessions-section/instructor-help-sessions-section.component.ts", "diffHunk": "@@ -11,11 +12,42 @@ import { InstructorHelpSectionComponent } from '../instructor-help-section.compo\n })\n export class InstructorHelpSessionsSectionComponent extends InstructorHelpSectionComponent implements OnInit {\n \n+  @Input() collapsePeerEvalTipsInChild: Subject<boolean> = new Subject<boolean>();\n+  isPeerEvalTipsCollapsed: boolean = false;\n+  isNewFSessionCollapsed: boolean = false;", "originalCommit": "0b0bfa601e45dd1c3629ccd83c8ae982ab2e9443", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY4MzE3MQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r403683171", "bodyText": "Done.", "author": "aishaadambek", "createdAt": "2020-04-05T10:43:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODgzMg=="}], "type": "inlineReview"}, {"oid": "b30f8e10e36e3e178690e89dbaaa042d205fe496", "url": "https://github.com/TEAMMATES/teammates/commit/b30f8e10e36e3e178690e89dbaaa042d205fe496", "message": "Further improve variable naming", "committedDate": "2020-04-05T10:41:19Z", "type": "commit"}, {"oid": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "url": "https://github.com/TEAMMATES/teammates/commit/5fa62db7afe11275b867cef0fc531ffaa5f729ed", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep fix-links-instructor-help branch up-to-date with upstream/master.", "committedDate": "2020-04-05T10:41:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5OTc5Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r406799792", "bodyText": "I think there is a pageScrollService integrated in the code base. Can you try to integrate that?", "author": "xpdavid", "createdAt": "2020-04-10T15:07:58Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-courses-section/instructor-help-courses-section.component.ts", "diffHunk": "@@ -14,11 +14,48 @@ export class InstructorHelpCoursesSectionComponent extends InstructorHelpSection\n \n   readonly supportEmail: string = environment.supportEmail;\n \n+  isAddStudentsCollapsed: boolean = false;\n+  isSizeLimitCollapsed: boolean = false;\n+  isNoTeamsCollapsed: boolean = false;\n+  isSectionsCollapsed: boolean = false;\n+  isEnrollSectionsCollapsed: boolean = false;\n+  isAddInstructorCollapsed: boolean = false;\n+  isEditInstructorCollapsed: boolean = false;\n+  isInstructorAccessCollapsed: boolean = false;\n+  isPrivilegesCollapsed: boolean = false;\n+  isViewStudentsCollapsed: boolean = false;\n+  isChangeSectionCollapsed: boolean = false;\n+  isDisappearedCourseCollapsed: boolean = false;\n+  isDelStudentsCollapsed: boolean = false;\n+  isArchiveCourseCollapsed: boolean = false;\n+  isViewArchivedCollapsed: boolean = false;\n+  isCourseUnarchiveCollapsed: boolean = false;\n+  isViewDelCollapsed: boolean = false;\n+  isRestoreCollapsed: boolean = false;\n+  isDelCollapsed: boolean = false;\n+  isRestoreAllCollapsed: boolean = false;\n+  @Output() collapseStudentEditDetails: EventEmitter<Boolean> = new EventEmitter<Boolean>();\n+\n   constructor() {\n     super();\n   }\n \n   ngOnInit(): void {\n+  }\n \n+  /**\n+   * To scroll to a specific HTML id\n+   */\n+  jumpTo(target: string): boolean {", "originalCommit": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA1MDU4Ng==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r407050586", "bodyText": "Sure, done. Please see the last commits below.", "author": "aishaadambek", "createdAt": "2020-04-11T11:08:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5OTc5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMDg1OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r406800858", "bodyText": "Same here", "author": "xpdavid", "createdAt": "2020-04-10T15:10:25Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-sessions-section/instructor-help-sessions-section.component.ts", "diffHunk": "@@ -11,11 +12,42 @@ import { InstructorHelpSectionComponent } from '../instructor-help-section.compo\n })\n export class InstructorHelpSessionsSectionComponent extends InstructorHelpSectionComponent implements OnInit {\n \n+  @Input() collapsePeerEvalTipsInChild: Subject<boolean> = new Subject<boolean>();\n+  isPeerEvalTipsCollapsed: boolean = false;\n+  isNewFeedbackSessionCollapsed: boolean = false;\n+  isAddQuestionsCollapsed: boolean = false;\n+  isPreviewCollapsed: boolean = false;\n+  isCannotSubmitCollapsed: boolean = false;\n+  isViewResultsCollapsed: boolean = false;\n+  isViewAllResponsesCollapsed: boolean = false;\n+  isAddCommentCollapsed: boolean = false;\n+  isEditDelCommentCollapsed: boolean = false;\n+  isSearchCollapsed: boolean = false;\n+  isViewDeletedCollapsed: boolean = false;\n+  isRestoreSessionCollapsed: boolean = false;\n+  isDelSessionCollapsed: boolean = false;\n+  isRestoreDelAllCollapsed: boolean = false;\n+\n   constructor() {\n     super();\n   }\n \n   ngOnInit(): void {\n+    this.collapsePeerEvalTipsInChild.subscribe(\n+        (isPeerEvalTipsCollapsed: boolean) => this.isPeerEvalTipsCollapsed = isPeerEvalTipsCollapsed);\n+  }\n+\n+  /**\n+   * To scroll to a specific HTML id\n+   */\n+  jumpTo(target: string): boolean {", "originalCommit": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMDk3OQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r406800979", "bodyText": "Same here", "author": "xpdavid", "createdAt": "2020-04-10T15:10:39Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-questions-section/instructor-help-questions-section.component.ts", "diffHunk": "@@ -26,4 +38,19 @@ export class InstructorHelpQuestionsSectionComponent extends InstructorHelpSecti\n   ngOnInit(): void {\n   }\n \n+  /**\n+   * To scroll to a specific HTML id\n+   */\n+  jumpTo(target: string): boolean {", "originalCommit": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMTg2NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r406801864", "bodyText": "I think this can just be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              collapseStudentEditDetailsInChild: Subject<boolean> = new Subject<boolean>();\n          \n          \n            \n              collapseStudentEditDetailsInChild: boolean = false;", "author": "xpdavid", "createdAt": "2020-04-10T15:12:47Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-page.component.ts", "diffHunk": "@@ -17,6 +18,8 @@ export class InstructorHelpPageComponent implements OnInit, AfterViewInit {\n   readonly supportEmail: string = environment.supportEmail;\n   searchTerm: String = '';\n   key: String = '';\n+  collapseStudentEditDetailsInChild: Subject<boolean> = new Subject<boolean>();", "originalCommit": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA1MTkwOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r407051908", "bodyText": "I have tried this approach but it looks like it works only on the first trigger of the collapse event. If collapseStudentEditDetailsInChild in the parent (instructor-help-page.component.ts) is a boolean value and there is no\ncollapseStudentEditDetailsInChild: Subject<boolean> in the child (instructor-help-students-section.component.ts), the child takes the value passed from the parent only once.\nThat is, with this configuration, in the following scenario the behavior is buggy:\n\nUpon the first trigger event, collapseStudentEditDetailsInChild is set to true in the parent and, thus, isEditDetailsCollapsed is set to true in the child. So, Student-Edit-Details card is collapsed;\nThen, suppose that user manually de-collapses this card and isEditDetailsCollapsed in the child becomes false;\nUpon another trigger event, collapseStudentEditDetailsInChild is set to true in the parent but isEditDetailsCollapsed is not set to true in the child. So, Student-Edit-Details card does not get collapsed though it should.\n\nSee:\n\nIn contrast, in the current configuration, the child keeps listening to values from parent and the behavior is as expected.\nPlease correct me if I am missing anything.\nThanks!", "author": "aishaadambek", "createdAt": "2020-04-11T11:22:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMTg2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzEwNzg0OQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r407107849", "bodyText": "I think the main reason here is that \"you have two points of truth\" (One collapseStudentEditDetailsInChild and one isEditDetailsCollapsed, there are not synced properly). It is possible to only have \"single points of truth\"? (i.e. All child components fetch their corresponding values from the source. If the parent wants to change the source, the child component will respond correspondingly. If any child component (not necessary the child component that use them) want to change the sources, they fire event and ask parents to change it.)", "author": "xpdavid", "createdAt": "2020-04-11T20:32:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMTg2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI5NTA2OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r411295068", "bodyText": "Hi @xpdavid,\nsorry for a delay, I had a busy last week with school assignments.\nI have now attempted to have \"single points of truth\". Please see the last commits below.\nHowever, I still have one thing I am not quite sure about.\n\n\nAs stated in the Angular documentation, the OnChanges lifecycle hook is triggered by Angular only when the @input property value changes. This seems to explain why the @input variables in the child components were not updating the values (as set by parent) when the @input property value was not changing (this is the issue I addressed in the previous comment).\n\n\nOne suggested workaround is to ensure that Angular triggers the OnChanges hook by setting a new object reference with Object.assign() after modifying the property values. This is what I've done in the parent component.\n\n\nAgain, correct me if I am missing anything!\nAnd thanks for your patience and guidance! :)", "author": "aishaadambek", "createdAt": "2020-04-20T11:15:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMTg2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMjAyOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r406802028", "bodyText": "So here can just be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                this.collapseStudentEditDetailsInChild.next(event);\n          \n          \n            \n                collapseStudentEditDetailsInChild = event;", "author": "xpdavid", "createdAt": "2020-04-10T15:13:09Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-page.component.ts", "diffHunk": "@@ -63,4 +66,18 @@ export class InstructorHelpPageComponent implements OnInit, AfterViewInit {\n     this.searchTerm = '';\n     this.key = '';\n   }\n+\n+  /**\n+   * Collapses question card on student edit details in Students section.\n+   */\n+  collapseStudentEditDetails(event: boolean): void {\n+    this.collapseStudentEditDetailsInChild.next(event);", "originalCommit": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgwMzExNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10002#discussion_r406803117", "bodyText": "There is no need to have this @Input.\nInstead we can add @Input to isEditDetailsCollapsed.\nWe can directly pass the attribute: <tm-instructor-help-students-section isEditDetailsCollapsed='collapseStudentEditDetailsInChild'></tm-instructor-help-students-section>", "author": "xpdavid", "createdAt": "2020-04-10T15:15:19Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-students-section/instructor-help-students-section.component.ts", "diffHunk": "@@ -106,11 +107,21 @@ export class InstructorHelpStudentsSectionComponent extends InstructorHelpSectio\n     ],\n   }];\n \n+  @Input() collapseStudentEditDetailsInChild: Subject<boolean> = new Subject<boolean>();", "originalCommit": "5fa62db7afe11275b867cef0fc531ffaa5f729ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "77630788d3339fe25aae56e7077f7f53055cb9e4", "url": "https://github.com/TEAMMATES/teammates/commit/77630788d3339fe25aae56e7077f7f53055cb9e4", "message": "Integrate PageScrollService from ngx-page-scroll-core", "committedDate": "2020-04-11T10:28:58Z", "type": "commit"}, {"oid": "4d20d714e0990adce2830fdf42d54f73c9886a85", "url": "https://github.com/TEAMMATES/teammates/commit/4d20d714e0990adce2830fdf42d54f73c9886a85", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep fix-links-instructor-help branch up-to-date with upstream/master.", "committedDate": "2020-04-11T11:06:52Z", "type": "commit"}, {"oid": "c81020719f3fe4cc9b5ccae796d31fd517f42e5a", "url": "https://github.com/TEAMMATES/teammates/commit/c81020719f3fe4cc9b5ccae796d31fd517f42e5a", "message": "Clean up sibling components' communication via parent", "committedDate": "2020-04-20T11:11:32Z", "type": "commit"}, {"oid": "97c1d07c745d0506e4e6b96756ad08d7c563ff27", "url": "https://github.com/TEAMMATES/teammates/commit/97c1d07c745d0506e4e6b96756ad08d7c563ff27", "message": "Merge branch 'master' into fix-links-instructor-help\n\nKeep fix-links-instructor-help up-to-date with upstream/master.", "committedDate": "2020-04-20T11:12:40Z", "type": "commit"}, {"oid": "0b53f1376490b21f7f596a5dff5c6126e5df0216", "url": "https://github.com/TEAMMATES/teammates/commit/0b53f1376490b21f7f596a5dff5c6126e5df0216", "message": "Merge branch 'master' into fix-links-instructor-help", "committedDate": "2020-05-17T05:16:43Z", "type": "commit"}]}