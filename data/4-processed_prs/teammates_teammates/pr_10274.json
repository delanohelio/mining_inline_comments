{"pr_number": 10274, "pr_title": "[#10245] UAT Round 2: Fix Help Page Links", "pr_createdAt": "2020-07-03T10:20:08Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10274", "timeline": [{"oid": "9b2ff83dea537c3ef27cc3482955be10ef528cbc", "url": "https://github.com/TEAMMATES/teammates/commit/9b2ff83dea537c3ef27cc3482955be10ef528cbc", "message": "Change fragment to queryParams", "committedDate": "2020-07-03T09:53:02Z", "type": "commit"}, {"oid": "ec202651869f9d2368dbfd7fea42f046900b6ed3", "url": "https://github.com/TEAMMATES/teammates/commit/ec202651869f9d2368dbfd7fea42f046900b6ed3", "message": "Add in missing anchors", "committedDate": "2020-07-03T09:53:36Z", "type": "commit"}, {"oid": "aa54c400b6ac0d1ab07d6195175c64fd24f5375e", "url": "https://github.com/TEAMMATES/teammates/commit/aa54c400b6ac0d1ab07d6195175c64fd24f5375e", "message": "Add scrolling logic in help page", "committedDate": "2020-07-03T09:53:48Z", "type": "commit"}, {"oid": "47153471d71fea36d2154f2e9917cd19b113f15c", "url": "https://github.com/TEAMMATES/teammates/commit/47153471d71fea36d2154f2e9917cd19b113f15c", "message": "Update tests and fix lint issues", "committedDate": "2020-07-03T10:11:58Z", "type": "commit"}, {"oid": "b87462fbbe9c5bdadceb9f473dd1cb1510c359f7", "url": "https://github.com/TEAMMATES/teammates/commit/b87462fbbe9c5bdadceb9f473dd1cb1510c359f7", "message": "Merge branch 'master' into 10245-help-page-links", "committedDate": "2020-07-03T10:20:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk0NjA3OA==", "url": "https://github.com/TEAMMATES/teammates/pull/10274#discussion_r449946078", "bodyText": "The scrolling actions seems a bit too slow (based on the screenshot provided)\nJust scrolling is not sufficient; the relevant help section needs to be expanded", "author": "wkurniawan07", "createdAt": "2020-07-06T01:36:37Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-page.component.ts", "diffHunk": "@@ -22,14 +24,22 @@ export class InstructorHelpPageComponent implements OnInit, AfterViewInit {\n \n   @ViewChild('helpPage') bodyRef ?: ElementRef;\n \n-  constructor(private route: ActivatedRoute) { }\n+  constructor(private route: ActivatedRoute,\n+              private pageScrollService: PageScrollService,\n+              @Inject(DOCUMENT) private document: Document) { }\n \n   ngOnInit(): void {\n   }\n \n   ngAfterViewInit(): void {\n-    this.route.fragment.subscribe((f: string) => {\n-      this.scroll(f);\n+    this.route.queryParams.subscribe((queryParam: Params) => {\n+      if (queryParam.questionId) {\n+        setTimeout(() => this.pageScrollService.scroll({\n+          document: this.document,\n+          scrollTarget: `#${queryParam.questionId}`,\n+          scrollOffset: 70,\n+        }), 500);", "originalCommit": "b87462fbbe9c5bdadceb9f473dd1cb1510c359f7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07b389f7b3944aaf94ed602a82483fc3a153340e", "url": "https://github.com/TEAMMATES/teammates/commit/07b389f7b3944aaf94ed602a82483fc3a153340e", "message": "Merge branch 'master' into 10245-help-page-links", "committedDate": "2020-07-06T03:28:37Z", "type": "commit"}, {"oid": "2bea2fbebef8fd5a401406a4c22561a28c7cfc89", "url": "https://github.com/TEAMMATES/teammates/commit/2bea2fbebef8fd5a401406a4c22561a28c7cfc89", "message": "Refactor out questions ids of each section", "committedDate": "2020-07-06T11:01:10Z", "type": "commit"}, {"oid": "23fd403175d6b01f7e55fd01b76a2aa5c9a38c50", "url": "https://github.com/TEAMMATES/teammates/commit/23fd403175d6b01f7e55fd01b76a2aa5c9a38c50", "message": "Add expand method to base class", "committedDate": "2020-07-06T11:01:15Z", "type": "commit"}, {"oid": "559a2eb17a06dc6c7a0cfa7c4ce07c10591f5c3a", "url": "https://github.com/TEAMMATES/teammates/commit/559a2eb17a06dc6c7a0cfa7c4ce07c10591f5c3a", "message": "Add expand to child class and refactor collapse", "committedDate": "2020-07-06T11:04:07Z", "type": "commit"}, {"oid": "d8e8a4509995b08c6b9b31a0b68bcaba13898c4a", "url": "https://github.com/TEAMMATES/teammates/commit/d8e8a4509995b08c6b9b31a0b68bcaba13898c4a", "message": "Add expansion of tab after scroll ends", "committedDate": "2020-07-06T11:04:11Z", "type": "commit"}, {"oid": "f86285103bf4e02a5053521eb99c58b80ee10c05", "url": "https://github.com/TEAMMATES/teammates/commit/f86285103bf4e02a5053521eb99c58b80ee10c05", "message": "Change strings to use refactored enum", "committedDate": "2020-07-06T11:04:35Z", "type": "commit"}, {"oid": "1e9383f6298729677bb3ec0bc28069e1400920fa", "url": "https://github.com/TEAMMATES/teammates/commit/1e9383f6298729677bb3ec0bc28069e1400920fa", "message": "Cover remaining links to help page", "committedDate": "2020-07-06T11:05:34Z", "type": "commit"}, {"oid": "58d08a6a340f48f8ae13e7c749ed02af71d6a3f1", "url": "https://github.com/TEAMMATES/teammates/commit/58d08a6a340f48f8ae13e7c749ed02af71d6a3f1", "message": "Merge branch 'master' into 10245-help-page-links", "committedDate": "2020-07-09T08:47:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU1Mjc1NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10274#discussion_r452552754", "bodyText": "Looks like this is not needed anymore", "author": "wkurniawan07", "createdAt": "2020-07-09T23:59:41Z", "path": "src/web/app/pages-help/instructor-help-page/instructor-help-courses-section/instructor-help-courses-section.component.ts", "diffHunk": "@@ -16,29 +19,37 @@ import { InstructorHelpSectionComponent } from '../instructor-help-section.compo\n })\n export class InstructorHelpCoursesSectionComponent extends InstructorHelpSectionComponent implements OnInit {\n \n+  // enum\n+  StudentsSectionQuestions: typeof StudentsSectionQuestions = StudentsSectionQuestions;\n+  CoursesSectionQuestions: typeof CoursesSectionQuestions = CoursesSectionQuestions;\n+  Sections: typeof Sections = Sections;\n+\n   readonly supportEmail: string = environment.supportEmail;\n \n-  isAddStudentsCollapsed: boolean = false;\n-  isSizeLimitCollapsed: boolean = false;\n-  isNoTeamsCollapsed: boolean = false;\n-  isSectionsCollapsed: boolean = false;\n-  isEnrollSectionsCollapsed: boolean = false;\n-  isAddInstructorCollapsed: boolean = false;\n-  isEditInstructorCollapsed: boolean = false;\n-  isInstructorAccessCollapsed: boolean = false;\n-  isPrivilegesCollapsed: boolean = false;\n-  isViewStudentsCollapsed: boolean = false;\n-  isChangeSectionCollapsed: boolean = false;\n-  isDisappearedCourseCollapsed: boolean = false;\n-  isDelStudentsCollapsed: boolean = false;\n-  isArchiveCourseCollapsed: boolean = false;\n-  isViewArchivedCollapsed: boolean = false;\n-  isCourseUnarchiveCollapsed: boolean = false;\n-  isViewDelCollapsed: boolean = false;\n-  isRestoreCollapsed: boolean = false;\n-  isDelCollapsed: boolean = false;\n-  isRestoreAllCollapsed: boolean = false;\n-  @Output() collapseStudentEditDetails: EventEmitter<boolean> = new EventEmitter<boolean>();\n+  questionsToCollapsed: Record<string, boolean> = {\n+    [CoursesSectionQuestions.COURSE_ADD_STUDENTS]: false,\n+    [CoursesSectionQuestions.SIZE_LIMIT]: false,\n+    [CoursesSectionQuestions.NO_TEAMS]: false,\n+    [CoursesSectionQuestions.SECTIONS]: false,\n+    [CoursesSectionQuestions.ENROLL_SECTIONS]: false,\n+    [CoursesSectionQuestions.COURSE_ADD_INSTRUCTOR]: false,\n+    [CoursesSectionQuestions.COURSE_EDIT_INSTRUCTOR]: false,\n+    [CoursesSectionQuestions.COURSE_INSTRUCTOR_ACCESS]: false,\n+    [CoursesSectionQuestions.PRIVILEGES]: false,\n+    [CoursesSectionQuestions.COURSE_VIEW_STUDENTS]: false,\n+    [CoursesSectionQuestions.CHANGE_SECTION]: false,\n+    [CoursesSectionQuestions.DISAPPEARED_COURSE]: false,\n+    [CoursesSectionQuestions.DEL_STUDENTS]: false,\n+    [CoursesSectionQuestions.COURSE_ARCHIVE]: false,\n+    [CoursesSectionQuestions.COURSE_VIEW_ARCHIVED]: false,\n+    [CoursesSectionQuestions.COURSE_UNARCHIVE]: false,\n+    [CoursesSectionQuestions.COURSE_VIEW_DELETED]: false,\n+    [CoursesSectionQuestions.COURSE_RESTORE]: false,\n+    [CoursesSectionQuestions.PERM_DEL]: false,\n+    [CoursesSectionQuestions.RESTORE_ALL]: false,\n+  };\n+\n+  @Output() collapseStudentEditDetails: EventEmitter<any> = new EventEmitter();", "originalCommit": "58d08a6a340f48f8ae13e7c749ed02af71d6a3f1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "02fb0b31081256dbf029339a93bc06fa3a6dde28", "url": "https://github.com/TEAMMATES/teammates/commit/02fb0b31081256dbf029339a93bc06fa3a6dde28", "message": "Merge branch 'master' into 10245-help-page-links", "committedDate": "2020-07-10T12:32:00Z", "type": "commit"}]}