{"pr_number": 10326, "pr_title": "[#10299] UAT Round 3 fixes", "pr_createdAt": "2020-07-17T11:54:03Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10326", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzMjQwOQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10326#discussion_r456432409", "bodyText": "Shouldn't this operation be performed by the receiving component instead of the event emitter?", "author": "madanalogy", "createdAt": "2020-07-17T13:11:47Z", "path": "src/web/app/components/question-types/question-edit-answer-form/constsum-options-question-edit-answer-form.component.html", "diffHunk": "@@ -5,7 +5,7 @@\n   <div class=\"col-12 col-sm-5\">\n     <input type=\"number\" class=\"form-control\"\n            [ngModel]=\"i < responseDetails.answers.length ? responseDetails.answers[i] : ''\"\n-           (ngModelChange)=\"triggerResponse(i, $event)\"\n+           (ngModelChange)=\"triggerResponse(i, Math.ceil($event))\"", "originalCommit": "7a28561f18d47e1c7fbdc1edad77e9b031062fea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYyMDE3OQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10326#discussion_r456620179", "bodyText": "Depends on the responsibility. I would say it is the form's responsibility to ceil the number.", "author": "xpdavid", "createdAt": "2020-07-17T18:56:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzMjQwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA3NzI5Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10326#discussion_r457077297", "bodyText": "Ok I put the Math.ceil() within triggerResponse since it is already processing the data, and it doesn't make sense to process data in 2 different places.", "author": "ccyccyccy", "createdAt": "2020-07-20T05:55:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzMjQwOQ=="}], "type": "inlineReview"}, {"oid": "d19ab622cb34e88428908765c14fe5417fc60a3b", "url": "https://github.com/TEAMMATES/teammates/commit/d19ab622cb34e88428908765c14fe5417fc60a3b", "message": "Fix comments not available on MCQ questions", "committedDate": "2020-07-20T05:42:00Z", "type": "commit"}, {"oid": "ded28666d5edabd5133a8af6708d457f520cab96", "url": "https://github.com/TEAMMATES/teammates/commit/ded28666d5edabd5133a8af6708d457f520cab96", "message": "Prevent users from typing in floating point numbers", "committedDate": "2020-07-20T05:54:19Z", "type": "commit"}, {"oid": "ded28666d5edabd5133a8af6708d457f520cab96", "url": "https://github.com/TEAMMATES/teammates/commit/ded28666d5edabd5133a8af6708d457f520cab96", "message": "Prevent users from typing in floating point numbers", "committedDate": "2020-07-20T05:54:19Z", "type": "forcePushed"}, {"oid": "577be9f33368ac29ca53b8dd92df2faa5645881b", "url": "https://github.com/TEAMMATES/teammates/commit/577be9f33368ac29ca53b8dd92df2faa5645881b", "message": "Merge branch 'master' into 10299-uat-fix-2", "committedDate": "2020-07-20T14:36:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzUwODE3MA==", "url": "https://github.com/TEAMMATES/teammates/pull/10326#discussion_r457508170", "bodyText": "I think it is better to put this line to around L45 (i.e. Every time model gets changed, the boolean value should also be changed).", "author": "xpdavid", "createdAt": "2020-07-20T15:44:12Z", "path": "src/web/app/components/question-submission-form/question-submission-form.component.ts", "diffHunk": "@@ -90,18 +90,18 @@ export class QuestionSubmissionFormComponent implements OnInit {\n   saveCommentEvent: EventEmitter<number> = new EventEmitter();\n \n   visibilityStateMachine: VisibilityStateMachine;\n-  allowedToHaveParticipantComment: boolean;\n+  allowedToHaveParticipantComment: boolean = false;\n \n   constructor(private feedbackQuestionsService: FeedbackQuestionsService,\n               private feedbackResponseService: FeedbackResponsesService) {\n     this.visibilityStateMachine =\n         this.feedbackQuestionsService.getNewVisibilityStateMachine(\n             this.model.giverType, this.model.recipientType);\n-    this.allowedToHaveParticipantComment =\n-        this.feedbackQuestionsService.isAllowedToHaveParticipantComment(this.model.questionType);\n   }\n \n   ngOnInit(): void {\n+    this.allowedToHaveParticipantComment =", "originalCommit": "577be9f33368ac29ca53b8dd92df2faa5645881b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d0cb3e637246fc93d582422693cabe014114daac", "url": "https://github.com/TEAMMATES/teammates/commit/d0cb3e637246fc93d582422693cabe014114daac", "message": "Move allowedToHaveParticipantComment to set on model change", "committedDate": "2020-07-21T04:10:12Z", "type": "commit"}, {"oid": "b9e84e48941dd9d4ce1006f65c46fb92d07178b8", "url": "https://github.com/TEAMMATES/teammates/commit/b9e84e48941dd9d4ce1006f65c46fb92d07178b8", "message": "Merge branch 'master' into 10299-uat-fix-2", "committedDate": "2020-07-21T05:29:46Z", "type": "commit"}]}