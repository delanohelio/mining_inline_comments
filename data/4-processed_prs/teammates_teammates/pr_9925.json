{"pr_number": 9925, "pr_title": "[#9642] Feedback sessions with # or ? in their name can't be edited.", "pr_createdAt": "2020-01-20T08:17:39Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/9925", "timeline": [{"oid": "3a1b4486cf2af71b2d102628a44a3e18756f80c8", "url": "https://github.com/TEAMMATES/teammates/commit/3a1b4486cf2af71b2d102628a44a3e18756f80c8", "message": "lint", "committedDate": "2020-01-20T08:30:56Z", "type": "forcePushed"}, {"oid": "e68d8f0c461c5c5407e631d5be57a4c8b7d1a8c4", "url": "https://github.com/TEAMMATES/teammates/commit/e68d8f0c461c5c5407e631d5be57a4c8b7d1a8c4", "message": "Fix lint error", "committedDate": "2020-01-23T08:57:21Z", "type": "forcePushed"}, {"oid": "86df0d83b8c26a8b9ae20d362e6699a75fec037a", "url": "https://github.com/TEAMMATES/teammates/commit/86df0d83b8c26a8b9ae20d362e6699a75fec037a", "message": "Fix lint error", "committedDate": "2020-01-23T09:17:48Z", "type": "forcePushed"}, {"oid": "9234948ed868990338b2d8da7eda5217e15c195f", "url": "https://github.com/TEAMMATES/teammates/commit/9234948ed868990338b2d8da7eda5217e15c195f", "message": "Fix bugs", "committedDate": "2020-01-24T00:26:47Z", "type": "forcePushed"}, {"oid": "74f969ff7067c08a0793bf68fd6dbf53775c1325", "url": "https://github.com/TEAMMATES/teammates/commit/74f969ff7067c08a0793bf68fd6dbf53775c1325", "message": "Implement url param encoding", "committedDate": "2020-01-24T07:19:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU5MjM0Mw==", "url": "https://github.com/TEAMMATES/teammates/pull/9925#discussion_r370592343", "bodyText": "Is there a reason why this is done using encodeURIComponent instead of this.navigationService.navigateByURLWithParamEncoding?", "author": "joanneong", "createdAt": "2020-01-24T11:37:54Z", "path": "src/web/app/pages-instructor/instructor-session-base-page.component.ts", "diffHunk": "@@ -201,16 +205,19 @@ export abstract class InstructorSessionBasePageComponent {\n    * Submits the feedback session as instructor.\n    */\n   submitSessionAsInstructor(model: SessionsTableRowModel): void {\n-    this.router.navigateByUrl('/web/instructor/sessions/submission'\n-        + `?courseid=${model.feedbackSession.courseId}&fsname=${model.feedbackSession.feedbackSessionName}`);\n+    this.navigationService.navigateByURLWithParamEncoding(\n+        this.router,\n+        '/web/instructor/sessions/submission',\n+        { courseid: model.feedbackSession.courseId, fsname: model.feedbackSession.feedbackSessionName });\n   }\n \n   /**\n    * Views the result of a feedback session.\n    */\n   viewSessionResult(model: SessionsTableRowModel): void {\n     this.router.navigateByUrl('/web/instructor/sessions/result'\n-        + `?courseid=${model.feedbackSession.courseId}&fsname=${model.feedbackSession.feedbackSessionName}`);\n+        + `?courseid=${model.feedbackSession.courseId}`\n+        + `&fsname=${encodeURIComponent(model.feedbackSession.feedbackSessionName)}`);", "originalCommit": "74f969ff7067c08a0793bf68fd6dbf53775c1325", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk3MjU1Mw==", "url": "https://github.com/TEAMMATES/teammates/pull/9925#discussion_r370972553", "bodyText": "Hmm yes forgot to remove this sorry \ud83d\ude28", "author": "hcwong", "createdAt": "2020-01-26T04:20:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU5MjM0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU5MzczMA==", "url": "https://github.com/TEAMMATES/teammates/pull/9925#discussion_r370593730", "bodyText": "Small grammatical error: should be an encoded param string rather than a encoded param string.", "author": "joanneong", "createdAt": "2020-01-24T11:41:58Z", "path": "src/web/services/navigation.service.spec.ts", "diffHunk": "@@ -14,4 +14,9 @@ describe('NavigationService', () => {\n     const service: NavigationService = TestBed.get(NavigationService);\n     expect(service).toBeTruthy();\n   });\n+\n+  it('should return a encoded param string upon calling encodeParams', () => {", "originalCommit": "74f969ff7067c08a0793bf68fd6dbf53775c1325", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3e08b58c1df6a69adab2f49444f83418b22e6d5f", "url": "https://github.com/TEAMMATES/teammates/commit/3e08b58c1df6a69adab2f49444f83418b22e6d5f", "message": "Fix comments", "committedDate": "2020-01-26T12:34:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDEyNzQ5Mg==", "url": "https://github.com/TEAMMATES/teammates/pull/9925#discussion_r374127492", "bodyText": "WithParamEncoding should not be part of the name, as it kind of suggests that \"param encoding\" is some kind of isolated case. The fact is, param encoding should be expected especially when any kind of user input is involved.\nWould suggest to combine this with the previous method and set {} to be the default value for params.", "author": "wkurniawan07", "createdAt": "2020-02-03T14:20:42Z", "path": "src/web/services/navigation.service.ts", "diffHunk": "@@ -53,4 +74,11 @@ export class NavigationService {\n     }\n     window.open(url.toString());\n   }\n+\n+  /**\n+   * Opens a new browser window with URL Param encoding\n+   */\n+  openNewWindowWithParamEncoding(urlWithoutParams: string, params: {[key: string]: string}): void {", "originalCommit": "3e08b58c1df6a69adab2f49444f83418b22e6d5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUyMjQ3Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/9925#discussion_r374522477", "bodyText": "Should the same apply to navigateWithSuccessMessage?", "author": "hcwong", "createdAt": "2020-02-04T08:07:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDEyNzQ5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUyNzk3MQ==", "url": "https://github.com/TEAMMATES/teammates/pull/9925#discussion_r374527971", "bodyText": "If possible.", "author": "wkurniawan07", "createdAt": "2020-02-04T08:22:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDEyNzQ5Mg=="}], "type": "inlineReview"}, {"oid": "de0c9efe7228c734eda63e3cd5e05022e7317fba", "url": "https://github.com/TEAMMATES/teammates/commit/de0c9efe7228c734eda63e3cd5e05022e7317fba", "message": "Implement url param encoding", "committedDate": "2020-02-04T08:07:46Z", "type": "commit"}, {"oid": "722ccc8bbcce4930612294a1ebf2179156729a1c", "url": "https://github.com/TEAMMATES/teammates/commit/722ccc8bbcce4930612294a1ebf2179156729a1c", "message": "Fix comments", "committedDate": "2020-02-04T08:07:46Z", "type": "commit"}, {"oid": "25401aa01c4d3fe8dd52ec083997869339738b72", "url": "https://github.com/TEAMMATES/teammates/commit/25401aa01c4d3fe8dd52ec083997869339738b72", "message": "Remove openNewWindowWithParamEncoding method", "committedDate": "2020-02-04T08:07:46Z", "type": "commit"}, {"oid": "25401aa01c4d3fe8dd52ec083997869339738b72", "url": "https://github.com/TEAMMATES/teammates/commit/25401aa01c4d3fe8dd52ec083997869339738b72", "message": "Remove openNewWindowWithParamEncoding method", "committedDate": "2020-02-04T08:07:46Z", "type": "forcePushed"}, {"oid": "1d3be0f0cca3554441b97cc497cc23e71ad0bdbb", "url": "https://github.com/TEAMMATES/teammates/commit/1d3be0f0cca3554441b97cc497cc23e71ad0bdbb", "message": "Remove navigateWithSuccessMessageWithParamEncoding", "committedDate": "2020-02-04T08:37:59Z", "type": "commit"}, {"oid": "cec596cb8a21bed2de413ef66de8770a0e02abc3", "url": "https://github.com/TEAMMATES/teammates/commit/cec596cb8a21bed2de413ef66de8770a0e02abc3", "message": "Merge branch 'master' into fix/session-name", "committedDate": "2020-02-28T02:48:14Z", "type": "commit"}, {"oid": "f090cb54098a53eaf9e18a7613ba5946370ea768", "url": "https://github.com/TEAMMATES/teammates/commit/f090cb54098a53eaf9e18a7613ba5946370ea768", "message": "Merge branch 'master' into fix/session-name", "committedDate": "2020-02-28T06:41:49Z", "type": "commit"}]}