{"pr_number": 10380, "pr_title": "[#9764] Add instructors as respondents in remind modal", "pr_createdAt": "2020-07-21T15:42:19Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10380", "timeline": [{"oid": "51778a8078ceb87d67faa4007e599bbdd063a4b8", "url": "https://github.com/TEAMMATES/teammates/commit/51778a8078ceb87d67faa4007e599bbdd063a4b8", "message": "Refactor students to respondents in sessions-table module", "committedDate": "2020-07-21T15:35:28Z", "type": "commit"}, {"oid": "9e11cbd56d9fc35e7758372c4eae4d0d4788b70f", "url": "https://github.com/TEAMMATES/teammates/commit/9e11cbd56d9fc35e7758372c4eae4d0d4788b70f", "message": "Refactor students to respondents everywhere else", "committedDate": "2020-07-21T15:38:08Z", "type": "commit"}, {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "url": "https://github.com/TEAMMATES/teammates/commit/89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "message": "Add instructor table to sessions-table modals", "committedDate": "2020-07-21T15:38:40Z", "type": "commit"}, {"oid": "c633940743d3bf13c2c85631d2c4ea568d024c2a", "url": "https://github.com/TEAMMATES/teammates/commit/c633940743d3bf13c2c85631d2c4ea568d024c2a", "message": "Add logic to instructor-session-modal-page", "committedDate": "2020-07-21T15:44:23Z", "type": "commit"}, {"oid": "c633940743d3bf13c2c85631d2c4ea568d024c2a", "url": "https://github.com/TEAMMATES/teammates/commit/c633940743d3bf13c2c85631d2c4ea568d024c2a", "message": "Add logic to instructor-session-modal-page", "committedDate": "2020-07-21T15:44:23Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUwNzc5Nw==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458507797", "bodyText": "The name here should change to ResendResultsLinkToRespondentModalComponent", "author": "t-cheepeng", "createdAt": "2020-07-22T03:10:56Z", "path": "src/web/app/components/sessions-table/resend-results-link-to-respondent-modal/resend-results-link-to-respondent-modal.component.spec.ts", "diffHunk": "@@ -3,22 +3,22 @@ import { Component } from '@angular/core';\n import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n import { FormsModule } from '@angular/forms';\n import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n-import { StudentListInfoTableComponent } from '../student-list-info-table/student-list-info-table.component';\n-import { ResendResultsLinkToStudentModalComponent } from './resend-results-link-to-student-modal.component';\n+import { RespondentListInfoTableComponent } from '../respondent-list-info-table/respondent-list-info-table.component';\n+import { ResendResultsLinkToRespondentModalComponent } from './resend-results-link-to-respondent-modal.component';\n \n @Component({ selector: 'tm-ajax-preload', template: '' })\n class AjaxPreloadComponent {}\n \n describe('ResendResultsLinkToStudentModalComponent', () => {", "originalCommit": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUwODcxNg==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458508716", "bodyText": "same here", "author": "t-cheepeng", "createdAt": "2020-07-22T03:14:37Z", "path": "src/web/app/components/sessions-table/send-reminders-to-respondents-modal/send-reminders-to-respondents-modal.component.spec.ts", "diffHunk": "@@ -4,22 +4,22 @@ import { HttpClientTestingModule } from '@angular/common/http/testing';\n import { Component } from '@angular/core';\n import { FormsModule } from '@angular/forms';\n import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n-import { StudentListInfoTableComponent } from '../student-list-info-table/student-list-info-table.component';\n-import { SendRemindersToStudentModalComponent } from './send-reminders-to-student-modal.component';\n+import { RespondentListInfoTableComponent } from '../respondent-list-info-table/respondent-list-info-table.component';\n+import { SendRemindersToRespondentsModalComponent } from './send-reminders-to-respondents-modal.component';\n \n @Component({ selector: 'tm-ajax-preload', template: '' })\n class AjaxPreloadComponent {}\n \n describe('SendRemindersToStudentModalComponent', () => {", "originalCommit": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUxNDI3OQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458514279", "bodyText": "Use forEach here?", "author": "ccyccyccy", "createdAt": "2020-07-22T03:36:34Z", "path": "src/web/app/components/sessions-table/send-reminders-to-respondents-modal/send-reminders-to-respondents-modal.component.ts", "diffHunk": "@@ -0,0 +1,116 @@\n+import { Component, OnInit } from '@angular/core';\n+import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n+import {\n+  InstructorListInfoTableRowModel,\n+  StudentListInfoTableRowModel,\n+} from '../respondent-list-info-table/respondent-list-info-table-model';\n+\n+/**\n+ * Send reminders to respondents modal.\n+ */\n+@Component({\n+  selector: 'tm-send-reminders-to-respondents-modal',\n+  templateUrl: './send-reminders-to-respondents-modal.component.html',\n+  styleUrls: ['./send-reminders-to-respondents-modal.component.scss'],\n+})\n+export class SendRemindersToRespondentsModalComponent implements OnInit {\n+\n+  // values below will be injected by other component\n+  courseId: string = '';\n+  feedbackSessionName: string = '';\n+  studentListInfoTableRowModels: StudentListInfoTableRowModel[] = [];\n+  instructorListInfoTableRowModels: InstructorListInfoTableRowModel[] = [];\n+\n+  constructor(public activeModal: NgbActiveModal) {\n+  }\n+\n+  ngOnInit(): void {\n+  }\n+\n+  /**\n+   * Changes selection state for all students.\n+   */\n+  changeSelectionStatusForAllStudentsHandler(shouldSelect: boolean): void {\n+    for (const model of this.studentListInfoTableRowModels) {", "originalCommit": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUxNDQwNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458514405", "bodyText": "Until here", "author": "ccyccyccy", "createdAt": "2020-07-22T03:37:12Z", "path": "src/web/app/components/sessions-table/send-reminders-to-respondents-modal/send-reminders-to-respondents-modal.component.ts", "diffHunk": "@@ -0,0 +1,116 @@\n+import { Component, OnInit } from '@angular/core';\n+import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n+import {\n+  InstructorListInfoTableRowModel,\n+  StudentListInfoTableRowModel,\n+} from '../respondent-list-info-table/respondent-list-info-table-model';\n+\n+/**\n+ * Send reminders to respondents modal.\n+ */\n+@Component({\n+  selector: 'tm-send-reminders-to-respondents-modal',\n+  templateUrl: './send-reminders-to-respondents-modal.component.html',\n+  styleUrls: ['./send-reminders-to-respondents-modal.component.scss'],\n+})\n+export class SendRemindersToRespondentsModalComponent implements OnInit {\n+\n+  // values below will be injected by other component\n+  courseId: string = '';\n+  feedbackSessionName: string = '';\n+  studentListInfoTableRowModels: StudentListInfoTableRowModel[] = [];\n+  instructorListInfoTableRowModels: InstructorListInfoTableRowModel[] = [];\n+\n+  constructor(public activeModal: NgbActiveModal) {\n+  }\n+\n+  ngOnInit(): void {\n+  }\n+\n+  /**\n+   * Changes selection state for all students.\n+   */\n+  changeSelectionStatusForAllStudentsHandler(shouldSelect: boolean): void {\n+    for (const model of this.studentListInfoTableRowModels) {\n+      model.isSelected = shouldSelect;\n+    }\n+  }\n+\n+  /**\n+   * Changes selection state for all yet to submit students.\n+   */\n+  changeSelectionStatusForAllYetSubmittedStudentsHandler(shouldSelect: boolean): void {\n+    for (const model of this.studentListInfoTableRowModels) {\n+      if (!model.hasSubmittedSession) {\n+        model.isSelected = shouldSelect;\n+      }\n+    }\n+  }\n+\n+  /**\n+   * Changes selection state for all instructors.\n+   */\n+  changeSelectionStatusForAllInstructorsHandler(shouldSelect: boolean): void {\n+    for (const model of this.instructorListInfoTableRowModels) {\n+      model.isSelected = shouldSelect;\n+    }\n+  }\n+\n+  /**\n+   * Changes selection state for all yet to submit instructors.\n+   */\n+  changeSelectionStatusForAllYetSubmittedInstructorsHandler(shouldSelect: boolean): void {\n+    for (const model of this.instructorListInfoTableRowModels) {", "originalCommit": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "17ba1b751a20e82de73198f3631800f3e3016430", "url": "https://github.com/TEAMMATES/teammates/commit/17ba1b751a20e82de73198f3631800f3e3016430", "message": "Merge branch 'master' into 9764-9788-remindModal\n\n# Conflicts:\n#\tsrc/web/app/components/student-list/student-list.component.html\n#\tsrc/web/app/components/student-list/student-list.component.ts", "committedDate": "2020-07-22T11:56:41Z", "type": "commit"}, {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "url": "https://github.com/TEAMMATES/teammates/commit/8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "message": "Refactor for code quality and fix test description", "committedDate": "2020-07-22T12:45:47Z", "type": "commit"}, {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "url": "https://github.com/TEAMMATES/teammates/commit/8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "message": "Refactor for code quality and fix test description", "committedDate": "2020-07-22T12:45:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIxMzYxNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r459213617", "bodyText": "I think you should also change FeedbackSessionStudentRemindRequest to a proper name", "author": "xpdavid", "createdAt": "2020-07-23T04:53:24Z", "path": "src/web/services/feedback-sessions.service.ts", "diffHunk": "@@ -204,9 +204,9 @@ export class FeedbackSessionsService {\n   }\n \n   /**\n-   * Sends e-mails to remind students who have not submitted their feedback.\n+   * Sends e-mails to remind respondents who have not submitted their feedback.\n    */\n-  remindFeedbackSessionSubmissionForStudent(\n+  remindFeedbackSessionSubmissionForRespondents(\n       courseId: string, feedbackSessionName: string, request: FeedbackSessionStudentRemindRequest)", "originalCommit": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIxMzYzOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r459213638", "bodyText": "Same here", "author": "xpdavid", "createdAt": "2020-07-23T04:53:30Z", "path": "src/web/services/feedback-sessions.service.ts", "diffHunk": "@@ -241,9 +241,9 @@ export class FeedbackSessionsService {\n   }\n \n   /**\n-   * Sends e-mails to remind students on the published results link.\n+   * Sends e-mails to remind respondents on the published results link.\n    */\n-  remindResultsLinkToStudents(\n+  remindResultsLinkToRespondents(\n       courseId: string, feedbackSessionName: string, request: FeedbackSessionStudentRemindRequest)", "originalCommit": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a11101d019181bd2efc2c853d0b9b7cec90e49f0", "url": "https://github.com/TEAMMATES/teammates/commit/a11101d019181bd2efc2c853d0b9b7cec90e49f0", "message": "Refactor FeedbackSessionStudentRemindRequest", "committedDate": "2020-07-23T09:59:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTgxNzEzNg==", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r459817136", "bodyText": "Just checked. We need to add a backend test for instructors (currently only have one for students)", "author": "xpdavid", "createdAt": "2020-07-24T01:51:15Z", "path": "src/main/java/teammates/ui/webapi/action/RemindFeedbackSessionSubmissionAction.java", "diffHunk": "@@ -40,8 +40,8 @@ public ActionResult execute() {\n                     + \"as the feedback session is not open for submissions.\", HttpStatus.SC_BAD_REQUEST);\n         }\n \n-        FeedbackSessionStudentRemindRequest remindRequest =", "originalCommit": "a11101d019181bd2efc2c853d0b9b7cec90e49f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7f18e71e447536eadffd19420b0aa5289a33573a", "url": "https://github.com/TEAMMATES/teammates/commit/7f18e71e447536eadffd19420b0aa5289a33573a", "message": "Add an instructor to remind in tests", "committedDate": "2020-07-24T07:33:19Z", "type": "commit"}, {"oid": "e484e9e000ebfa168e9198348089d106734f57da", "url": "https://github.com/TEAMMATES/teammates/commit/e484e9e000ebfa168e9198348089d106734f57da", "message": "Merge branch 'master' into 9764-9788-remindModal", "committedDate": "2020-07-25T01:53:34Z", "type": "commit"}]}