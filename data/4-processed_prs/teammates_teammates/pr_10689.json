{"pr_number": 10689, "pr_title": "[#10612] Improve Mobile UI", "pr_createdAt": "2020-09-04T10:51:33Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10689", "timeline": [{"oid": "308dca80901821ec3034dec5b3bf01ca37d436ba", "url": "https://github.com/TEAMMATES/teammates/commit/308dca80901821ec3034dec5b3bf01ca37d436ba", "message": "Remove redundant padding in mobile view", "committedDate": "2020-09-04T10:46:17Z", "type": "commit"}, {"oid": "6a623c4ea28f2b72252159c2c9869a2031ee8036", "url": "https://github.com/TEAMMATES/teammates/commit/6a623c4ea28f2b72252159c2c9869a2031ee8036", "message": "Move text on top of page to popup modal", "committedDate": "2020-09-04T12:50:09Z", "type": "commit"}, {"oid": "4d71bbf12fdd55b60c0d289ac8f2fae98bd6a38e", "url": "https://github.com/TEAMMATES/teammates/commit/4d71bbf12fdd55b60c0d289ac8f2fae98bd6a38e", "message": "Replace rich text with textarea in mobile view", "committedDate": "2020-09-04T13:16:17Z", "type": "commit"}, {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5", "url": "https://github.com/TEAMMATES/teammates/commit/89c85525bfe2e4f7130040341d1484a58e5219e5", "message": "Fix lint", "committedDate": "2020-09-08T05:51:45Z", "type": "commit"}, {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5", "url": "https://github.com/TEAMMATES/teammates/commit/89c85525bfe2e4f7130040341d1484a58e5219e5", "message": "Fix lint", "committedDate": "2020-09-08T05:51:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUxNDY4Mw==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485514683", "bodyText": "Consider the second condition: feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN. Try opening a feedback submission that has closed: The prompt you generated still shows up, which is confusing because users can't actually resubmit since the submission has closed.\nYou can add this condition check, which should work, though it'd be even better if you can find some way to tie the prompt to this specific place (so there's only 1 place to change if a new condition needs to be added)", "author": "ChooJeremy", "createdAt": "2020-09-09T10:43:14Z", "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.html", "diffHunk": "@@ -35,7 +35,7 @@ <h4>Previewing Session as\n     </div>\n   </div>\n </div>\n-<div class=\"row\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">\n+<div class=\"row mobile-invisible\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">", "originalCommit": "89c85525bfe2e4f7130040341d1484a58e5219e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU0NzkzNQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485547935", "bodyText": "Actually a good idea. It seems that I shall do a full run on this change in different states of the submission process. \ud83d\udc4d Will first bind it to the condition.", "author": "moziliar", "createdAt": "2020-09-09T11:47:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUxNDY4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY2NzkzNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r484667937", "bodyText": "This might be dangerous. Consider an answer already saved as rich text (with all those formatting): what are you going to display here?", "author": "wkurniawan07", "createdAt": "2020-09-08T05:59:48Z", "path": "src/web/app/components/question-types/question-edit-answer-form/text-question-edit-answer-form.component.html", "diffHunk": "@@ -1,4 +1,5 @@\n-<tm-rich-text-editor [richText]=\"responseDetails.answer\" (richTextChange)=\"triggerResponseDetailsChange('answer', $event)\" [isDisabled]=\"isDisabled\"></tm-rich-text-editor>\n+<textarea class=\"form-control mobile-visible\" [ngModel]=\"responseDetails.answer\" (ngModelChange)=\"triggerResponseDetailsChange('answer', $event)\" [disabled]=\"isDisabled\"></textarea>", "originalCommit": "89c85525bfe2e4f7130040341d1484a58e5219e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNDY4MA==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485634680", "bodyText": "Oh, I see. I guess the state will be inconsistent... just experimented a little and I think I could hide the toolbar alone, leaving the rich text editor intact. Would it be a good idea?", "author": "moziliar", "createdAt": "2020-09-09T13:59:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY2NzkzNw=="}], "type": "inlineReview"}, {"oid": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639", "url": "https://github.com/TEAMMATES/teammates/commit/641c9958fe703b50ab9dcc5cb199e3cfbfa61639", "message": "Change text editor UI", "committedDate": "2020-09-09T14:48:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY3NDAzNg==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485674036", "bodyText": "@wkurniawan07 this should address the issue? It simply hides the toolbar on init. Do you think screen resizing should be considered too?", "author": "moziliar", "createdAt": "2020-09-09T14:50:15Z", "path": "src/web/app/components/rich-text-editor/rich-text-editor.component.ts", "diffHunk": "@@ -34,6 +34,9 @@ export class RichTextEditorComponent implements OnInit {\n \n   ngOnInit(): void {\n     this.init = this.getEditorSettings();\n+    if (window.innerWidth < 768) {", "originalCommit": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4OTQ3NA==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r488589474", "bodyText": "Do you think screen resizing should be considered too?\n\nYes, it needs to be.", "author": "wkurniawan07", "createdAt": "2020-09-15T11:25:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY3NDAzNg=="}], "type": "inlineReview"}, {"oid": "63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "url": "https://github.com/TEAMMATES/teammates/commit/63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "message": "Add condition for modal popup when session is not open", "committedDate": "2020-09-09T14:59:38Z", "type": "commit"}, {"oid": "63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "url": "https://github.com/TEAMMATES/teammates/commit/63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "message": "Add condition for modal popup when session is not open", "committedDate": "2020-09-09T14:59:38Z", "type": "forcePushed"}, {"oid": "2ac4b4644e72bbd635be250f26a90efbf0417975", "url": "https://github.com/TEAMMATES/teammates/commit/2ac4b4644e72bbd635be250f26a90efbf0417975", "message": "Add mobile invisible class to redundant line break", "committedDate": "2020-09-09T15:02:17Z", "type": "commit"}, {"oid": "d5a2e9ba816251d4580dcb95455525280de8f3f3", "url": "https://github.com/TEAMMATES/teammates/commit/d5a2e9ba816251d4580dcb95455525280de8f3f3", "message": "Fix lint", "committedDate": "2020-09-10T04:27:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3NzA2Ng==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r487677066", "bodyText": "I don't think this works... on doing local testing, I am still seeing the \"Note On Submission\" prompt pop up when viewing the submission of a closed session.", "author": "ChooJeremy", "createdAt": "2020-09-14T06:26:16Z", "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -190,6 +190,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n             'You are not authorized to view this page.');\n       });\n     });\n+\n+    // Display note on submission on mobile device\n+    if (window.innerWidth < 768 && this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN) {", "originalCommit": "d5a2e9ba816251d4580dcb95455525280de8f3f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3ODUxNw==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r487678517", "bodyText": "I see... I will change it then.", "author": "moziliar", "createdAt": "2020-09-14T06:30:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3NzA2Ng=="}], "type": "inlineReview"}, {"oid": "2e9a0f7e4faa6ac8768b2c7574cbb2e6326be3eb", "url": "https://github.com/TEAMMATES/teammates/commit/2e9a0f7e4faa6ac8768b2c7574cbb2e6326be3eb", "message": "Move mobile submission modal to after question load", "committedDate": "2020-09-22T02:54:32Z", "type": "commit"}, {"oid": "aaea9ecc60240b89d2abdbf1dba4e81c8dc6f554", "url": "https://github.com/TEAMMATES/teammates/commit/aaea9ecc60240b89d2abdbf1dba4e81c8dc6f554", "message": "WIP", "committedDate": "2020-09-24T15:11:30Z", "type": "commit"}, {"oid": "cb4e00a3bee3a3b30c3776643fa8ba1de64a54b8", "url": "https://github.com/TEAMMATES/teammates/commit/cb4e00a3bee3a3b30c3776643fa8ba1de64a54b8", "message": "Merge branch 'master' into 10612/improve-mobile-ui", "committedDate": "2020-12-14T15:13:14Z", "type": "commit"}, {"oid": "6e68df148a773f6fe3a5bafb9a474ea482d08273", "url": "https://github.com/TEAMMATES/teammates/commit/6e68df148a773f6fe3a5bafb9a474ea482d08273", "message": "Fix lint", "committedDate": "2020-12-15T08:55:48Z", "type": "commit"}, {"oid": "f706b84046267e15ce7424810a8c5a7703c0ecdf", "url": "https://github.com/TEAMMATES/teammates/commit/f706b84046267e15ce7424810a8c5a7703c0ecdf", "message": "Remove resize event", "committedDate": "2020-12-20T08:30:30Z", "type": "commit"}, {"oid": "0d0f596e1b4984b078aa0800047e08e83ceb1a4b", "url": "https://github.com/TEAMMATES/teammates/commit/0d0f596e1b4984b078aa0800047e08e83ceb1a4b", "message": "Retain toolbar", "committedDate": "2020-12-20T08:32:38Z", "type": "commit"}, {"oid": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d", "url": "https://github.com/TEAMMATES/teammates/commit/398092b5742f51af9d60a84f8ff4e9ff2db2ee0d", "message": "Merge branch 'master' into 10612/improve-mobile-ui", "committedDate": "2020-12-22T04:00:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk0NTIyOA==", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r548945228", "bodyText": "Could you refactor 768 into a descriptive variable? Future developers might not understand where the value is coming from. You could even add a short comment that the threshold comes from the corresponding scss file.", "author": "madanalogy", "createdAt": "2020-12-26T05:19:15Z", "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -311,6 +311,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n         }\n \n         this.loadFeedbackQuestions();\n+\n+        // Display note on submission on mobile device\n+        if (this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN && window.innerWidth < 768) {", "originalCommit": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d3363e215bb62f193f855bda7bba49bdc6ab5f39", "url": "https://github.com/TEAMMATES/teammates/commit/d3363e215bb62f193f855bda7bba49bdc6ab5f39", "message": "Name magic number with description", "committedDate": "2021-05-16T07:42:14Z", "type": "commit"}, {"oid": "f0d970f54305aff59c41728b0c2922986209ea7f", "url": "https://github.com/TEAMMATES/teammates/commit/f0d970f54305aff59c41728b0c2922986209ea7f", "message": "Merge branch 'master' into 10612/improve-mobile-ui", "committedDate": "2021-05-16T07:42:30Z", "type": "commit"}, {"oid": "85803dc14dbb121e1714eb1f7bfb59613ef615dd", "url": "https://github.com/TEAMMATES/teammates/commit/85803dc14dbb121e1714eb1f7bfb59613ef615dd", "message": "Merge branch 'master' into 10612/improve-mobile-ui", "committedDate": "2021-05-18T00:44:25Z", "type": "commit"}, {"oid": "67c9cce17c297a0e52af65a7a9925108718e54da", "url": "https://github.com/TEAMMATES/teammates/commit/67c9cce17c297a0e52af65a7a9925108718e54da", "message": "Merge branch 'master' into 10612/improve-mobile-ui", "committedDate": "2021-05-22T09:03:49Z", "type": "commit"}]}