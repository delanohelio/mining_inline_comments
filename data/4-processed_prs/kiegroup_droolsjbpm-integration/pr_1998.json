{"pr_number": 1998, "pr_title": "[JBPM-8998] Adding test classes for \"Missing SpringBoot support in NotificationListener\"", "pr_createdAt": "2020-02-03T14:38:10Z", "pr_url": "https://github.com/kiegroup/droolsjbpm-integration/pull/1998", "timeline": [{"oid": "7ccf5df77933a46895e5802fcecc387d378cfc43", "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/7ccf5df77933a46895e5802fcecc387d378cfc43", "message": "Adding test classes for Jira ticket: [JBPM-8998] Missing SpringBoot support in NotificationListener", "committedDate": "2020-02-03T14:55:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDM5NjI4NA==", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/1998#discussion_r374396284", "bodyText": "This shouldn't be static, and it's initialized at constructor (I think that's the reason of test failure at CI);\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static List<NotificationEvent> eventsReceived = new ArrayList<NotificationEvent>();\n          \n          \n            \n                private List<NotificationEvent> eventsReceived;", "author": "gmunozfe", "createdAt": "2020-02-03T23:17:24Z", "path": "kie-spring-boot/kie-spring-boot-samples/jbpm-spring-boot-sample-basic/src/test/java/org/jbpm/springboot/samples/listeners/CountDownLatchNotificationListener.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package org.jbpm.springboot.samples.listeners;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.CountDownLatch;\n+\n+import org.jbpm.services.task.deadlines.NotificationListener;\n+import org.kie.internal.task.api.UserInfo;\n+import org.kie.internal.task.api.model.NotificationEvent;\n+import org.springframework.stereotype.Component;\n+\n+@Component\n+public class CountDownLatchNotificationListener implements NotificationListener {\n+\n+    private CountDownLatch latch;\n+    private static List<NotificationEvent> eventsReceived = new ArrayList<NotificationEvent>();", "originalCommit": "7ccf5df77933a46895e5802fcecc387d378cfc43", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2NzkzOQ==", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/1998#discussion_r374567939", "bodyText": "Done, waiting for Jenkins to rebuild", "author": "afalhambra", "createdAt": "2020-02-04T09:47:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDM5NjI4NA=="}], "type": "inlineReview"}, {"oid": "e667cdade4472eaceb354e17cd4fcff5705030d7", "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/e667cdade4472eaceb354e17cd4fcff5705030d7", "message": "Adding test classes for Jira ticket: [JBPM-8998] Missing SpringBoot support in NotificationListener", "committedDate": "2020-02-04T09:45:27Z", "type": "commit"}, {"oid": "e667cdade4472eaceb354e17cd4fcff5705030d7", "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/e667cdade4472eaceb354e17cd4fcff5705030d7", "message": "Adding test classes for Jira ticket: [JBPM-8998] Missing SpringBoot support in NotificationListener", "committedDate": "2020-02-04T09:45:27Z", "type": "forcePushed"}]}