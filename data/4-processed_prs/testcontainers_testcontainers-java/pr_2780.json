{"pr_number": 2780, "pr_title": "Ensure that ParsedDockerfile supports platform args", "pr_createdAt": "2020-05-22T11:58:10Z", "pr_url": "https://github.com/testcontainers/testcontainers-java/pull/2780", "timeline": [{"oid": "ad106404571dbcc2b2332fd59630d0442aee5d36", "url": "https://github.com/testcontainers/testcontainers-java/commit/ad106404571dbcc2b2332fd59630d0442aee5d36", "message": "Ensure that ParsedDockerfile supports platform args\nFixes #2772\n\nAlso make parsing case insensitive, for better compliance with Dockerfile spec", "committedDate": "2020-05-22T11:57:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM1NTM3OA==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2780#discussion_r430355378", "bodyText": "since the parsing seem to support multiple flags, perhaps we should add this (2 or more flags) case too", "author": "bsideup", "createdAt": "2020-05-26T11:54:15Z", "path": "core/src/test/java/org/testcontainers/images/ParsedDockerfileTest.java", "diffHunk": "@@ -40,6 +46,12 @@ public void ignoringBuildStageNames() {\n         assertEquals(\"ignores build stage names and allows multiple images to be extracted\", Sets.newHashSet(\"someimage\", \"nextimage\"), parsedDockerfile.getDependencyImageNames());\n     }\n \n+    @Test\n+    public void ignoringPlatformArgs() {\n+        final ParsedDockerfile parsedDockerfile = new ParsedDockerfile(asList(\"FROM --platform=linux/amd64 someimage\", \"RUN something\"));", "originalCommit": "ad106404571dbcc2b2332fd59630d0442aee5d36", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgwOTU2MA==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2780#discussion_r431809560", "bodyText": "Platform seems to be the only arg that is supported by docker at present, but sure, seems like a good idea.", "author": "rnorth", "createdAt": "2020-05-28T12:50:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDM1NTM3OA=="}], "type": "inlineReview"}, {"oid": "98a492b546922c3fb0d086a6e9e56532514dd183", "url": "https://github.com/testcontainers/testcontainers-java/commit/98a492b546922c3fb0d086a6e9e56532514dd183", "message": "Ignore multiple args if present", "committedDate": "2020-05-28T12:56:05Z", "type": "commit"}, {"oid": "7b97a8261e9dfa8a20f58244521cb5506f1aa04d", "url": "https://github.com/testcontainers/testcontainers-java/commit/7b97a8261e9dfa8a20f58244521cb5506f1aa04d", "message": "Merge branch 'master' into dockerfile-parse-args-2772", "committedDate": "2020-05-28T21:09:03Z", "type": "commit"}]}