{"pr_number": 2520, "pr_title": "Generate GitHub Actions CI Jobs automatically", "pr_createdAt": "2020-04-05T12:12:42Z", "pr_url": "https://github.com/testcontainers/testcontainers-java/pull/2520", "timeline": [{"oid": "e645c2ccec46a758913bd592a54802536bcee042", "url": "https://github.com/testcontainers/testcontainers-java/commit/e645c2ccec46a758913bd592a54802536bcee042", "message": "Generate GitHub Actions CI jobs for modules\nRefs #2177, #1836\n\nPR 1 of 2: this PR includes a script for generating the CI job configuration, but the script has to be manually run\nA future PR should run the generation script automatically as a separate Action and commit changes, so that no manual updates are needed", "committedDate": "2020-04-05T12:13:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY5MzgxNA==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r403693814", "bodyText": "I wonder if shared compile (1 busy worker) actually helps. Have you done some measurements yet?", "author": "bsideup", "createdAt": "2020-04-05T12:17:22Z", "path": ".github/workflows/scripts/generate_github_ci.sh", "diffHunk": "@@ -0,0 +1,63 @@\n+#!/bin/bash\n+set -o errexit\n+set -o nounset\n+set -o pipefail\n+set -o xtrace\n+\n+CI_WORKFLOW_FILE=.github/workflows/ci.yml\n+\n+generate_job () {\n+    NAME=$1\n+    GRADLE_ARGS=$2\n+    NEEDS=${3:-[]}\n+\n+    cat <<END >> $CI_WORKFLOW_FILE\n+    ${NAME}:\n+        runs-on: ubuntu-18.04\n+        needs: ${NEEDS}\n+        steps:\n+          - uses: actions/checkout@v2\n+          - uses: actions/setup-java@v1\n+            with:\n+              java-version: '1.8'\n+          - name: Cache Gradle Home files\n+            uses: actions/cache@v1\n+            with:\n+              path: ~/.gradle\n+              key: \\${{ runner.os }}-gradle-home-\\${{ hashFiles('**/*.gradle') }}\n+              restore-keys: \\${{ runner.os }}-gradle-home\n+          - name: Cache Gradle Local files\n+            uses: actions/cache@v1\n+            with:\n+              path: .gradle\n+              key: \\${{ runner.os }}-gradle-local-\\${{ hashFiles('**/*.gradle') }}\n+              restore-keys: \\${{ runner.os }}-gradle-local\n+          - name: Build with Gradle\n+            run: |\n+                ./gradlew --no-daemon --continue --scan ${GRADLE_ARGS}\n+END\n+}\n+\n+generate_preface () {\n+    cat <<END > $CI_WORKFLOW_FILE\n+\n+# This file is generated by .github/workflows/scripts/generate_github_ci.sh\n+# DO NOT HAND EDIT\n+name: CI\n+\n+on:\n+  pull_request: {}\n+  push: { branches: [ master ] }\n+\n+jobs:\n+END\n+}\n+\n+generate_preface\n+generate_job compile \"build -x test\"\n+generate_job core \"testcontainers:check\" compile", "originalCommit": "e645c2ccec46a758913bd592a54802536bcee042", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcxNDg4Mg==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r403714882", "bodyText": "It does not, so I removed it \ud83d\ude04", "author": "rnorth", "createdAt": "2020-04-05T15:10:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY5MzgxNA=="}], "type": "inlineReview"}, {"oid": "0b20b1c7336fc03dc5bd24f5c8ce535d0c43e5e2", "url": "https://github.com/testcontainers/testcontainers-java/commit/0b20b1c7336fc03dc5bd24f5c8ce535d0c43e5e2", "message": "Generate GitHub Actions CI jobs for modules\nRefs #2177, #1836\n\nPR 1 of 2: this PR includes a script for generating the CI job configuration, but the script has to be manually run\nA future PR should run the generation script automatically as a separate Action and commit changes, so that no manual updates are needed", "committedDate": "2020-04-12T08:57:36Z", "type": "commit"}, {"oid": "4126680468f1b8df809f60ff4d3b584cec44daff", "url": "https://github.com/testcontainers/testcontainers-java/commit/4126680468f1b8df809f60ff4d3b584cec44daff", "message": "Remove not-yet-merged module", "committedDate": "2020-04-12T08:57:40Z", "type": "commit"}, {"oid": "0452229fbcb818c06392e5d498acb57a8f414871", "url": "https://github.com/testcontainers/testcontainers-java/commit/0452229fbcb818c06392e5d498acb57a8f414871", "message": "Remove not-yet-merged module", "committedDate": "2020-04-12T08:57:42Z", "type": "commit"}, {"oid": "f202371620e71d38fac86d4aff4714597c9382a3", "url": "https://github.com/testcontainers/testcontainers-java/commit/f202371620e71d38fac86d4aff4714597c9382a3", "message": "Enable info logging and in-job parallelisation", "committedDate": "2020-04-12T08:57:44Z", "type": "commit"}, {"oid": "568c424b85dbe1301e12a0dd205fc38753054e78", "url": "https://github.com/testcontainers/testcontainers-java/commit/568c424b85dbe1301e12a0dd205fc38753054e78", "message": "Enable info logging and in-job parallelisation", "committedDate": "2020-04-12T08:57:45Z", "type": "commit"}, {"oid": "5306825b4b7794221733c132f7901f4403fcdacd", "url": "https://github.com/testcontainers/testcontainers-java/commit/5306825b4b7794221733c132f7901f4403fcdacd", "message": "Disable in-job parallelisation", "committedDate": "2020-04-12T08:57:47Z", "type": "commit"}, {"oid": "f901a637e73da2faaf6ecf5befef7df68c4a3b34", "url": "https://github.com/testcontainers/testcontainers-java/commit/f901a637e73da2faaf6ecf5befef7df68c4a3b34", "message": "Rename DinD CI workflow", "committedDate": "2020-04-12T08:57:48Z", "type": "commit"}, {"oid": "33a656c27fc777ebb2c0c249697ba4d7c4b91309", "url": "https://github.com/testcontainers/testcontainers-java/commit/33a656c27fc777ebb2c0c249697ba4d7c4b91309", "message": "Rename jobs", "committedDate": "2020-04-12T08:57:50Z", "type": "commit"}, {"oid": "bcaedfe9ba9fe402c5c3696f0dbdc897e1199460", "url": "https://github.com/testcontainers/testcontainers-java/commit/bcaedfe9ba9fe402c5c3696f0dbdc897e1199460", "message": "Rename dependencies", "committedDate": "2020-04-12T08:57:52Z", "type": "commit"}, {"oid": "ba63f85f821578c5ee8211ac35c8f8211e5f7182", "url": "https://github.com/testcontainers/testcontainers-java/commit/ba63f85f821578c5ee8211ac35c8f8211e5f7182", "message": "Don't use caching for local .gradle directory", "committedDate": "2020-04-12T08:57:54Z", "type": "commit"}, {"oid": "e1403a0698742da0cd5ebe36bf44de6a149281d6", "url": "https://github.com/testcontainers/testcontainers-java/commit/e1403a0698742da0cd5ebe36bf44de6a149281d6", "message": "Don't split out initial build", "committedDate": "2020-04-12T08:57:56Z", "type": "commit"}, {"oid": "23cb33e6b4c24204390a46c7fcf05fedc13161b5", "url": "https://github.com/testcontainers/testcontainers-java/commit/23cb33e6b4c24204390a46c7fcf05fedc13161b5", "message": "Use module-specific cache where available", "committedDate": "2020-04-12T08:57:58Z", "type": "commit"}, {"oid": "d4ba3005f79fe77760ae22b13b791f5e1fabfe4d", "url": "https://github.com/testcontainers/testcontainers-java/commit/d4ba3005f79fe77760ae22b13b791f5e1fabfe4d", "message": "Use module-specific cache where available", "committedDate": "2020-04-12T08:57:59Z", "type": "commit"}, {"oid": "bd8b0993d56d2c30da2209f20e4988bbccb945aa", "url": "https://github.com/testcontainers/testcontainers-java/commit/bd8b0993d56d2c30da2209f20e4988bbccb945aa", "message": "Only cache ~/.gradle/caches", "committedDate": "2020-04-12T08:58:01Z", "type": "commit"}, {"oid": "b448952220681c070517bb442b3356dac8306fe3", "url": "https://github.com/testcontainers/testcontainers-java/commit/b448952220681c070517bb442b3356dac8306fe3", "message": "Disable Gradle build cache temporarily", "committedDate": "2020-04-12T08:58:03Z", "type": "commit"}, {"oid": "0b579c10baf4462321484bebc0b1bf518ea75ff8", "url": "https://github.com/testcontainers/testcontainers-java/commit/0b579c10baf4462321484bebc0b1bf518ea75ff8", "message": "Clear docker image cache before running build", "committedDate": "2020-04-12T08:58:05Z", "type": "commit"}, {"oid": "2248ff0a68b31d5bc2a8c559eb40cee8e542790c", "url": "https://github.com/testcontainers/testcontainers-java/commit/2248ff0a68b31d5bc2a8c559eb40cee8e542790c", "message": "Add examples/docs:examples builds", "committedDate": "2020-04-12T08:58:06Z", "type": "commit"}, {"oid": "3ecea4ad33f0b9a73b237459cc186d7e2ac4e759", "url": "https://github.com/testcontainers/testcontainers-java/commit/3ecea4ad33f0b9a73b237459cc186d7e2ac4e759", "message": "Re-enable gradle cache", "committedDate": "2020-04-12T08:58:08Z", "type": "commit"}, {"oid": "33a9cebf1182fdf6b7836b2bb506575a47c9d6d3", "url": "https://github.com/testcontainers/testcontainers-java/commit/33a9cebf1182fdf6b7836b2bb506575a47c9d6d3", "message": "Always set TZ env var", "committedDate": "2020-04-12T08:58:09Z", "type": "commit"}, {"oid": "12bb3bd2755d9908debb0b379a57e739a505e342", "url": "https://github.com/testcontainers/testcontainers-java/commit/12bb3bd2755d9908debb0b379a57e739a505e342", "message": "Rebase onto master, with cimate", "committedDate": "2020-04-12T09:01:58Z", "type": "commit"}, {"oid": "12bb3bd2755d9908debb0b379a57e739a505e342", "url": "https://github.com/testcontainers/testcontainers-java/commit/12bb3bd2755d9908debb0b379a57e739a505e342", "message": "Rebase onto master, with cimate", "committedDate": "2020-04-12T09:01:58Z", "type": "forcePushed"}, {"oid": "dadc3c3735942072468e98b1310bff198adefd44", "url": "https://github.com/testcontainers/testcontainers-java/commit/dadc3c3735942072468e98b1310bff198adefd44", "message": "Update job stage naming", "committedDate": "2020-04-12T11:17:00Z", "type": "commit"}, {"oid": "d1a0a201b23d91bafaecc03dcce7f8079dbfc5c2", "url": "https://github.com/testcontainers/testcontainers-java/commit/d1a0a201b23d91bafaecc03dcce7f8079dbfc5c2", "message": "Add generation for Azure pipelines", "committedDate": "2020-04-12T11:17:22Z", "type": "commit"}, {"oid": "f58a6231cfd0efae4563273ec6bc24bfcf0e551e", "url": "https://github.com/testcontainers/testcontainers-java/commit/f58a6231cfd0efae4563273ec6bc24bfcf0e551e", "message": "Add generation for Azure pipelines - merge from master", "committedDate": "2020-04-12T11:20:46Z", "type": "commit"}, {"oid": "dc9ce20bf19826f55f2ebfd276abfab4b3fb1b51", "url": "https://github.com/testcontainers/testcontainers-java/commit/dc9ce20bf19826f55f2ebfd276abfab4b3fb1b51", "message": "Remove `displayName` from script steps", "committedDate": "2020-04-12T11:22:48Z", "type": "commit"}, {"oid": "6c1a9a0e3c98d396d9c9a36434839151ed9d2022", "url": "https://github.com/testcontainers/testcontainers-java/commit/6c1a9a0e3c98d396d9c9a36434839151ed9d2022", "message": "Merge: fix the OS variable in AZP", "committedDate": "2020-04-12T11:29:44Z", "type": "commit"}, {"oid": "81a154716bc74bbf6a1cad584246b0d0b172d875", "url": "https://github.com/testcontainers/testcontainers-java/commit/81a154716bc74bbf6a1cad584246b0d0b172d875", "message": "Fix job names", "committedDate": "2020-04-12T11:32:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE4NzM0Ng==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r407187346", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            name: CI\n          \n          \n            \n            name: in-container", "author": "bsideup", "createdAt": "2020-04-12T11:52:14Z", "path": ".github/workflows/ci-dind.yml", "diffHunk": "@@ -0,0 +1,28 @@\n+name: CI", "originalCommit": "81a154716bc74bbf6a1cad584246b0d0b172d875", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5NzI5Nw==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r407197297", "bodyText": "Good spot - thanks.", "author": "rnorth", "createdAt": "2020-04-12T13:19:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE4NzM0Ng=="}], "type": "inlineReview"}, {"oid": "52638d055542b526c58ff80a48e184bf661050cd", "url": "https://github.com/testcontainers/testcontainers-java/commit/52638d055542b526c58ff80a48e184bf661050cd", "message": "Update .github/workflows/ci-dind.yml\n\nCo-Authored-By: Sergei Egorov <bsideup@gmail.com>", "committedDate": "2020-04-12T13:19:24Z", "type": "commit"}, {"oid": "335ecdfbafe453de2351a9bf67b0cdb852c84681", "url": "https://github.com/testcontainers/testcontainers-java/commit/335ecdfbafe453de2351a9bf67b0cdb852c84681", "message": "Merge branch 'master' into generate-github-ci-1", "committedDate": "2020-04-13T19:58:39Z", "type": "commit"}, {"oid": "c28b1ebdcb46d331cce248e9a48ccafeba448601", "url": "https://github.com/testcontainers/testcontainers-java/commit/c28b1ebdcb46d331cce248e9a48ccafeba448601", "message": "Test manually crafted matrix", "committedDate": "2020-04-16T18:31:37Z", "type": "commit"}, {"oid": "867ecfae4133a23f63daad770c1c816fc935aaac", "url": "https://github.com/testcontainers/testcontainers-java/commit/867ecfae4133a23f63daad770c1c816fc935aaac", "message": "Generate gradle module list as a dynamic matrix property", "committedDate": "2020-04-16T18:55:58Z", "type": "commit"}, {"oid": "164b083e7d8c045c1ae1e80feac95bbb0972c702", "url": "https://github.com/testcontainers/testcontainers-java/commit/164b083e7d8c045c1ae1e80feac95bbb0972c702", "message": "Check out before find", "committedDate": "2020-04-16T18:57:21Z", "type": "commit"}, {"oid": "9d3c82a1ed988447055d64d878373363565e2518", "url": "https://github.com/testcontainers/testcontainers-java/commit/9d3c82a1ed988447055d64d878373363565e2518", "message": "Make module an object (experiment)", "committedDate": "2020-04-16T19:09:10Z", "type": "commit"}, {"oid": "5bb8a20fab5d323d567744bc99e646dab8514b4e", "url": "https://github.com/testcontainers/testcontainers-java/commit/5bb8a20fab5d323d567744bc99e646dab8514b4e", "message": "Remove spaces, double-quote", "committedDate": "2020-04-16T19:11:20Z", "type": "commit"}, {"oid": "0fb9eedbee07f02e66cb2e0211220b52eeae6660", "url": "https://github.com/testcontainers/testcontainers-java/commit/0fb9eedbee07f02e66cb2e0211220b52eeae6660", "message": "Go to full matrix-as-object approach", "committedDate": "2020-04-16T19:16:55Z", "type": "commit"}, {"oid": "357f093d9da16a6d84652ed997fa33de50b68533", "url": "https://github.com/testcontainers/testcontainers-java/commit/357f093d9da16a6d84652ed997fa33de50b68533", "message": "Fix command and rename to gradle_args", "committedDate": "2020-04-16T19:20:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgyNjg2Mw==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r409826863", "bodyText": "if you add the following task to Gradle:\ntask taskMatrix {\n    doLast {\n        println(\n            groovy.json.JsonOutput.toJson(subprojects.collect { it.tasks.getByName('check').path })\n        )\n    }\n}\nyou can delegate the matrix creation to it:\necho \"::set-output name=matrix::{\\\"gradle_args\\\":$(./gradlew --no-daemon -q taskMatrix)}\"", "author": "bsideup", "createdAt": "2020-04-16T20:24:47Z", "path": ".github/workflows/ci.yml", "diffHunk": "@@ -5,20 +5,39 @@ on:\n   push: { branches: [ master ] }\n \n jobs:\n-  in-docker_test:\n+  find_gradle_jobs:\n     runs-on: ubuntu-18.04\n+    outputs:\n+      matrix: ${{ steps.set-matrix.outputs.matrix }}\n     steps:\n       - uses: actions/checkout@v2\n-      - name: Build with Gradle\n+      - id: set-matrix\n+        run: echo \"::set-output name=matrix::{\\\"gradle_args\\\":$(.github/workflows/scripts/find_gradle_jobs.sh)}\"", "originalCommit": "357f093d9da16a6d84652ed997fa33de50b68533", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7091c18344621a59d7c2dc0117471a4b3d69032d", "url": "https://github.com/testcontainers/testcontainers-java/commit/7091c18344621a59d7c2dc0117471a4b3d69032d", "message": "Use gradle to generate GitHub Actions task matrix", "committedDate": "2020-04-17T08:36:38Z", "type": "commit"}, {"oid": "6e1fc4ab9703f820a56966bc5c0398edbccee5f0", "url": "https://github.com/testcontainers/testcontainers-java/commit/6e1fc4ab9703f820a56966bc5c0398edbccee5f0", "message": "Revert AZP pipeline changes", "committedDate": "2020-04-17T08:38:06Z", "type": "commit"}, {"oid": "d9e73208275b0099867178f7a028764482ac7c3c", "url": "https://github.com/testcontainers/testcontainers-java/commit/d9e73208275b0099867178f7a028764482ac7c3c", "message": "Remove spaces", "committedDate": "2020-04-17T08:43:37Z", "type": "commit"}, {"oid": "32ac43af3c6117aaebe9436b099f3a49b84c7318", "url": "https://github.com/testcontainers/testcontainers-java/commit/32ac43af3c6117aaebe9436b099f3a49b84c7318", "message": "Add debug output", "committedDate": "2020-04-17T08:45:56Z", "type": "commit"}, {"oid": "ebcccc7a184146b27bc7f9ce9b639df2237481df", "url": "https://github.com/testcontainers/testcontainers-java/commit/ebcccc7a184146b27bc7f9ce9b639df2237481df", "message": "Fix hiding of check task for BOM", "committedDate": "2020-04-17T08:48:54Z", "type": "commit"}, {"oid": "6ae25cd37ca3b4e879bdeb56aa322421490fa3dc", "url": "https://github.com/testcontainers/testcontainers-java/commit/6ae25cd37ca3b4e879bdeb56aa322421490fa3dc", "message": "Merge branch 'master' into generate-github-ci-1", "committedDate": "2020-04-17T13:57:52Z", "type": "commit"}, {"oid": "89ad5f66cdf62c987145a66c6e1adf9fa4116005", "url": "https://github.com/testcontainers/testcontainers-java/commit/89ad5f66cdf62c987145a66c6e1adf9fa4116005", "message": "Add examples", "committedDate": "2020-04-17T15:35:14Z", "type": "commit"}, {"oid": "e95987dd00b148c0cdb005d86afb078d3061f81c", "url": "https://github.com/testcontainers/testcontainers-java/commit/e95987dd00b148c0cdb005d86afb078d3061f81c", "message": "Cache-aware dynamic jobs", "committedDate": "2020-04-17T15:48:27Z", "type": "commit"}, {"oid": "5ce6728db7e30885df31422ec8198ff1a77c0e7c", "url": "https://github.com/testcontainers/testcontainers-java/commit/5ce6728db7e30885df31422ec8198ff1a77c0e7c", "message": "disable japicmp", "committedDate": "2020-04-17T15:54:41Z", "type": "commit"}, {"oid": "f027475902a67b0a2a7fce744415b04771d3b156", "url": "https://github.com/testcontainers/testcontainers-java/commit/f027475902a67b0a2a7fce744415b04771d3b156", "message": "disable javadoc", "committedDate": "2020-04-17T16:15:09Z", "type": "commit"}, {"oid": "4b7f6ab7662dfe97ec1c78aa97550119db3a5142", "url": "https://github.com/testcontainers/testcontainers-java/commit/4b7f6ab7662dfe97ec1c78aa97550119db3a5142", "message": "test", "committedDate": "2020-04-17T16:22:32Z", "type": "commit"}, {"oid": "2a4a63e610856126eaa79a9c4b30c425695b1c7e", "url": "https://github.com/testcontainers/testcontainers-java/commit/2a4a63e610856126eaa79a9c4b30c425695b1c7e", "message": "fix `shadowJar` caching", "committedDate": "2020-04-17T16:29:01Z", "type": "commit"}, {"oid": "1d1b47fd2ddc0c302d508dd93990b0675724498a", "url": "https://github.com/testcontainers/testcontainers-java/commit/1d1b47fd2ddc0c302d508dd93990b0675724498a", "message": "Delete test option", "committedDate": "2020-04-17T16:34:21Z", "type": "commit"}, {"oid": "cb53bba84291e6d34db926ebcdf1e5383b4229cf", "url": "https://github.com/testcontainers/testcontainers-java/commit/cb53bba84291e6d34db926ebcdf1e5383b4229cf", "message": "disable javadoc only when generating the matrix", "committedDate": "2020-04-17T16:53:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDY3MDcxMQ==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r410670711", "bodyText": "Worth adding a comment to explain this?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            gradle.taskGraph.whenReady {\n          \n          \n            \n            // If we're executing the `taskMatrix` task, disable tests and other slow tasks\n          \n          \n            \n            //  so that we can get a result quickly.\n          \n          \n            \n            gradle.taskGraph.whenReady {", "author": "rnorth", "createdAt": "2020-04-18T08:54:33Z", "path": "gradle/ci-support.gradle", "diffHunk": "@@ -0,0 +1,33 @@\n+import groovy.json.JsonOutput\n+\n+// Emit a JSON-formatted list of check tasks to be run in CI\n+task testMatrix {\n+    project.afterEvaluate {\n+        def checkTasks = subprojects.collect {\n+            it.tasks.findByName(\"check\")\n+        }.findAll { it != null }\n+\n+        dependsOn(checkTasks)\n+        doLast {\n+            def checkTaskPaths = checkTasks\n+                .findAll { !it.state.upToDate }\n+                .collect { it.path }\n+\n+            println(JsonOutput.toJson(checkTaskPaths))\n+        }\n+    }\n+}\n+\n+gradle.taskGraph.whenReady {", "originalCommit": "cb53bba84291e6d34db926ebcdf1e5383b4229cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ac2f11b33e5f49bdb27b46b9d57afe1f8c31841a", "url": "https://github.com/testcontainers/testcontainers-java/commit/ac2f11b33e5f49bdb27b46b9d57afe1f8c31841a", "message": "Update gradle/ci-support.gradle\n\nCo-Authored-By: Richard North <rich.north@gmail.com>", "committedDate": "2020-04-18T08:54:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDY3MDg3Ng==", "url": "https://github.com/testcontainers/testcontainers-java/pull/2520#discussion_r410670876", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        def checkTaskPaths = checkTasks\n          \n          \n            \n                        // Obtain a list of check tasks that are not up-to-date, i.e.\n          \n          \n            \n                        //  the ones which Gradle cannot find a cached output for.\n          \n          \n            \n                        def checkTaskPaths = checkTasks", "author": "rnorth", "createdAt": "2020-04-18T08:56:17Z", "path": "gradle/ci-support.gradle", "diffHunk": "@@ -0,0 +1,33 @@\n+import groovy.json.JsonOutput\n+\n+// Emit a JSON-formatted list of check tasks to be run in CI\n+task testMatrix {\n+    project.afterEvaluate {\n+        def checkTasks = subprojects.collect {\n+            it.tasks.findByName(\"check\")\n+        }.findAll { it != null }\n+\n+        dependsOn(checkTasks)\n+        doLast {\n+            def checkTaskPaths = checkTasks", "originalCommit": "cb53bba84291e6d34db926ebcdf1e5383b4229cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ef02bdd18f8f0c6112828b40715b158a4a2b99bb", "url": "https://github.com/testcontainers/testcontainers-java/commit/ef02bdd18f8f0c6112828b40715b158a4a2b99bb", "message": "Update gradle/ci-support.gradle\n\nCo-Authored-By: Richard North <rich.north@gmail.com>", "committedDate": "2020-04-18T08:59:49Z", "type": "commit"}]}