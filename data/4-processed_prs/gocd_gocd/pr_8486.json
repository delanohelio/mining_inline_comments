{"pr_number": 8486, "pr_title": "Update materials spa modifications modal", "pr_createdAt": "2020-08-26T08:51:13Z", "pr_url": "https://github.com/gocd/gocd/pull/8486", "timeline": [{"oid": "03ee0d0d10c7fbbfc3800b4656834faaaa2b22b7", "url": "https://github.com/gocd/gocd/commit/03ee0d0d10c7fbbfc3800b4656834faaaa2b22b7", "message": "Update modifications api\n - send user display name - which sends 'anonymous' when username is not set", "committedDate": "2020-08-26T05:06:55Z", "type": "commit"}, {"oid": "6207977364eb4a0b93c5448517d8d23a37cd3498", "url": "https://github.com/gocd/gocd/commit/6207977364eb4a0b93c5448517d8d23a37cd3498", "message": "Updated the modification modal\n - styled it like a table\n - revision and username are truncated as needed", "committedDate": "2020-08-26T05:53:59Z", "type": "commit"}, {"oid": "a066cc01963bac3f8ea3ef7d26de38160175eea0", "url": "https://github.com/gocd/gocd/commit/a066cc01963bac3f8ea3ef7d26de38160175eea0", "message": "render comment as is\n\n - render comment with a fixed height with a scroll bar for longer messages", "committedDate": "2020-08-26T08:48:04Z", "type": "commit"}, {"oid": "0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05", "url": "https://github.com/gocd/gocd/commit/0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05", "message": "use more/less feature for showcasing comments on modifications modal\n\n - for the panel - use the default scroll bars\n - when clicked on more - the scrolling will be enabled for a long message", "committedDate": "2020-08-26T09:42:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzOTk0MA==", "url": "https://github.com/gocd/gocd/pull/8486#discussion_r477239940", "bodyText": "IIRC, this is done because of typescript compilation error.\ntry this instead - vnode.state.expanded = Stream<boolean>(false)?", "author": "GaneshSPatil", "createdAt": "2020-08-26T11:50:00Z", "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/materials/modal.tsx", "diffHunk": "@@ -241,3 +241,54 @@ export class ShowUsagesModal extends Modal {\n     </div>;\n   }\n }\n+\n+interface EllipseAttrs {\n+  text: string;\n+}\n+\n+interface EllipseState {\n+  expanded: Stream<boolean>;\n+  setExpandedTo: (state: boolean, e: MouseEvent) => void;\n+}\n+\n+class EllipseText extends MithrilComponent<EllipseAttrs, EllipseState> {\n+  private static MIN_CHAR_COUNT = 80;\n+\n+  oninit(vnode: m.Vnode<EllipseAttrs, EllipseState>): any {\n+    vnode.state.expanded = Stream();\n+    vnode.state.expanded(false);", "originalCommit": "0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODAzODQ4Mg==", "url": "https://github.com/gocd/gocd/pull/8486#discussion_r478038482", "bodyText": "I'll add this change in the next PR change. Thanks!", "author": "kritika-singh3", "createdAt": "2020-08-27T03:30:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzOTk0MA=="}], "type": "inlineReview"}]}