{"pr_number": 8091, "pr_title": "Pipeline config spa fixes", "pr_createdAt": "2020-05-04T08:55:40Z", "pr_url": "https://github.com/gocd/gocd/pull/8091", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI5OTg2OQ==", "url": "https://github.com/gocd/gocd/pull/8091#discussion_r419299869", "bodyText": "Instead of early return, do a break.So you don't have to do a check for undefined at line 109", "author": "kritika-singh3", "createdAt": "2020-05-04T09:02:38Z", "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/clicky_pipeline_config/tabs/pipeline/materials_widget.tsx", "diffHunk": "@@ -159,7 +164,10 @@ export class MaterialsWidget extends MithrilViewComponent<MaterialsAttrs> {\n         break;\n       case \"plugin\":\n         const pluginAttrs = material.attributes() as PluggableScmMaterialAttributes;\n-        const scmMaterial = vnode.attrs.scmMaterials().find((pkg) => pkg.id() === pluginAttrs.ref())!;\n+        const scmMaterial = vnode.attrs.scmMaterials().find((pkg) => pkg.id() === pluginAttrs.ref());\n+        if(!scmMaterial) {\n+          return {};", "originalCommit": "2a0d6ac289bada60d8fb2e1bc68df8391af1c85c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMwNzE0MA==", "url": "https://github.com/gocd/gocd/pull/8091#discussion_r419307140", "bodyText": "You might have to update the model as well.", "author": "kritika-singh3", "createdAt": "2020-05-04T09:16:56Z", "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/pipelines/scm_material_fields.tsx", "diffHunk": "@@ -229,7 +229,7 @@ export class TfsFields extends ScmFields {\n       <TextField label=\"Repository URL\" property={mat.url} errorText={this.errs(attrs, \"url\")} required={true}/>,\n       <TextField label=\"Project Path\" property={mat.projectPath} errorText={this.errs(attrs, \"projectPath\")} required={true}/>,\n       <TextField label=\"Username\" property={mat.username} errorText={this.errs(attrs, \"username\")} required={true}/>,\n-      <PasswordField label=\"Password\" property={mat.password} errorText={this.errs(attrs, \"password\")} required={true}/>,\n+      <PasswordField label=\"Password\" property={mat.password} errorText={this.errs(attrs, \"password\")} required={false}/>,", "originalCommit": "f7010905be58c6adf9f241b6b73f579bff0ae3c1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "172122538a7bb85475b790cc9179e62eb6d58730", "url": "https://github.com/gocd/gocd/commit/172122538a7bb85475b790cc9179e62eb6d58730", "message": "Persist material destination directory when editing.\n\n* When the material modal is opened for editing, the object is\n  cloned for edit. To avoid editing original object, if in case\n  user hits cancel.\n\n* Custom clone method did not clone all the fields from the material\n  object. Also, the deserialization logic is required to be duplicated\n  across two places, at fromJSON and at clone.\n\n* Perform toJSON => fromJSON to clone the object instead of custom\n  clone method.", "committedDate": "2020-05-05T04:21:07Z", "type": "commit"}, {"oid": "0314d08d4abe71bf319db1af4e9f136bdf430dde", "url": "https://github.com/gocd/gocd/commit/0314d08d4abe71bf319db1af4e9f136bdf430dde", "message": "Do not fail when invalid material save is cancelled\nIssue: https://github.com/gocd/gocd/issues/7816#issuecomment-621896157 [Point 1]\n\nRevert to original material when invalid material save is cancelled.\nIssue: https://github.com/gocd/gocd/issues/7816#issuecomment-621896157 [Point 2]\n\nDescription:\n\n* Remove invalid material on save cancel.\n* Work with optionals, do not assume plugin properties will always\n  be present in the modal.", "committedDate": "2020-05-05T04:21:07Z", "type": "commit"}, {"oid": "0372fec7532b247c2f6fc990d48f16f523a72004", "url": "https://github.com/gocd/gocd/commit/0372fec7532b247c2f6fc990d48f16f523a72004", "message": "Make tfs material password field non mandatory", "committedDate": "2020-05-05T04:21:07Z", "type": "commit"}, {"oid": "bf1f1ef9ba7eb0a3310464a41ff4b98eb4a81976", "url": "https://github.com/gocd/gocd/commit/bf1f1ef9ba7eb0a3310464a41ff4b98eb4a81976", "message": "Add Shallow clone option for Git materials", "committedDate": "2020-05-05T04:21:07Z", "type": "commit"}, {"oid": "e6053211aca2cef219f28e5cd46bb9fe0c934b43", "url": "https://github.com/gocd/gocd/commit/e6053211aca2cef219f28e5cd46bb9fe0c934b43", "message": "Change destination directory message.\n\nFrom: \"Destination directory is required when specifying multiple scm materials.\"\nTo:   \"Destination directory is required when a pipeline has multiple SCM materials.\"", "committedDate": "2020-05-05T04:21:07Z", "type": "commit"}, {"oid": "0ef25d68a28a204d2ed0d84593b596f08c0af62b", "url": "https://github.com/gocd/gocd/commit/0ef25d68a28a204d2ed0d84593b596f08c0af62b", "message": "Switch \"Run if condition\" and \"Properties\" on Tasks tab", "committedDate": "2020-05-05T04:21:07Z", "type": "commit"}, {"oid": "0de115d533de9f910936326c45edbd19b71d7ba1", "url": "https://github.com/gocd/gocd/commit/0de115d533de9f910936326c45edbd19b71d7ba1", "message": "Add help text for run if condition", "committedDate": "2020-05-05T04:26:05Z", "type": "commit"}, {"oid": "9e4308382bce2ee0313f6c632daa4bdfee1861c4", "url": "https://github.com/gocd/gocd/commit/9e4308382bce2ee0313f6c632daa4bdfee1861c4", "message": "Break from switch instead of early return", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "6704a8e58fc5773478557e20311e813d2524a064", "url": "https://github.com/gocd/gocd/commit/6704a8e58fc5773478557e20311e813d2524a064", "message": "Autofocus input when password field is changed", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "49a09da4238d6abfc73fb74af8fb89668c7d15a2", "url": "https://github.com/gocd/gocd/commit/49a09da4238d6abfc73fb74af8fb89668c7d15a2", "message": "Improve agent working directory error message", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "54f2df66d238db6dc7478d1f4d1237a9939542e2", "url": "https://github.com/gocd/gocd/commit/54f2df66d238db6dc7478d1f4d1237a9939542e2", "message": "Use TEMPLATE as header to denote pipeline is extracted from template", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "a09bd8c9353d006be3d00d78edab7ca0c1c6cfa9", "url": "https://github.com/gocd/gocd/commit/a09bd8c9353d006be3d00d78edab7ca0c1c6cfa9", "message": "Disable Automatic pipeline scheduling when pipeline is using template", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "46fdc1f304dc38c2e15539d7328402652808896b", "url": "https://github.com/gocd/gocd/commit/46fdc1f304dc38c2e15539d7328402652808896b", "message": "Remove password field validation from model", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "772a1d2363e6a9c4b3ac7a96771d4b88e9f488e3", "url": "https://github.com/gocd/gocd/commit/772a1d2363e6a9c4b3ac7a96771d4b88e9f488e3", "message": "Fix template navigation specs", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "53a70166723f9599610e304a0abe6a82716c55fe", "url": "https://github.com/gocd/gocd/commit/53a70166723f9599610e304a0abe6a82716c55fe", "message": "Disable add task when task reordering is in progress.", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "5cf25640463671a04848ec1aceda3ee638ff5686", "url": "https://github.com/gocd/gocd/commit/5cf25640463671a04848ec1aceda3ee638ff5686", "message": "Disable add stage when stage reordering is in progress.", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "15bb39eeeca0cacc4b8bb5d7b9c0b5f69f21066b", "url": "https://github.com/gocd/gocd/commit/15bb39eeeca0cacc4b8bb5d7b9c0b5f69f21066b", "message": "Change no artifact store configured message from error to warning", "committedDate": "2020-05-05T04:26:12Z", "type": "commit"}, {"oid": "78c13a47083c3fe65e2cb13958138db6ef289ce3", "url": "https://github.com/gocd/gocd/commit/78c13a47083c3fe65e2cb13958138db6ef289ce3", "message": "Improve invalid tab name error message\n\n* Add a statement about hypens being allowed.", "committedDate": "2020-05-05T04:26:22Z", "type": "commit"}, {"oid": "aac355083aa5462931bc70e09ad9513e751ee51f", "url": "https://github.com/gocd/gocd/commit/aac355083aa5462931bc70e09ad9513e751ee51f", "message": "Copy over inherited permissions when stage permissions are toggled to specify locally", "committedDate": "2020-05-05T04:26:22Z", "type": "commit"}, {"oid": "3f34db29faa9dfed003db2d2da308ad068c3053d", "url": "https://github.com/gocd/gocd/commit/3f34db29faa9dfed003db2d2da308ad068c3053d", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused", "committedDate": "2020-05-05T04:28:00Z", "type": "forcePushed"}, {"oid": "ec5a733d9cf8e5a17994196ccd92baec76971570", "url": "https://github.com/gocd/gocd/commit/ec5a733d9cf8e5a17994196ccd92baec76971570", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused", "committedDate": "2020-05-05T04:34:57Z", "type": "commit"}, {"oid": "ec5a733d9cf8e5a17994196ccd92baec76971570", "url": "https://github.com/gocd/gocd/commit/ec5a733d9cf8e5a17994196ccd92baec76971570", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused", "committedDate": "2020-05-05T04:34:57Z", "type": "forcePushed"}]}