{"pr_number": 8278, "pr_title": "Remove Data Sharing", "pr_createdAt": "2020-06-29T06:41:24Z", "pr_url": "https://github.com/gocd/gocd/pull/8278", "timeline": [{"oid": "96a8f3736e1ea18f459628b8aaba956e432b6914", "url": "https://github.com/gocd/gocd/commit/96a8f3736e1ea18f459628b8aaba956e432b6914", "message": "Cleanup local storage for data sharing related data\n\n* Remove data sharing last reported at time.\n* Remove data sharing notifications.", "committedDate": "2020-06-30T04:31:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyODQwMg==", "url": "https://github.com/gocd/gocd/pull/8278#discussion_r449128402", "bodyText": "We should not update/remove the older changeset.", "author": "maheshp", "createdAt": "2020-07-02T16:16:52Z", "path": "db-support/db-migration/src/main/resources/db-migration-scripts/initial/create-schema.xml", "diffHunk": "@@ -396,17 +396,6 @@\n             <column name=\"CANCELLEDBY\" type=\"${dataType.caseSensitiveString_255}\"/>\n         </createTable>\n     </changeSet>\n-    <changeSet author=\"gocd(generated)\" id=\"24\">", "originalCommit": "22df8ae92f5eaa6e5d098684a84fad770353615e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM1NTAwNQ==", "url": "https://github.com/gocd/gocd/pull/8278#discussion_r449355005", "bodyText": "These changes were reverted as part of 0e4eba7 commit", "author": "GaneshSPatil", "createdAt": "2020-07-03T03:12:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyODQwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE2NTgzNA==", "url": "https://github.com/gocd/gocd/pull/8278#discussion_r449165834", "bodyText": "For the changeset id, can we follow the convention we had earlier for dbdeploy migrations,\n[release][migration_count]_[description]\n2006001_remove_data_sharing_settings_table", "author": "maheshp", "createdAt": "2020-07-02T17:24:18Z", "path": "db-support/db-migration/src/main/resources/db-migration-scripts/migrations/2020_06_1_remove_data_sharing_tables.xml", "diffHunk": "@@ -0,0 +1,37 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  ~ Copyright 2020 ThoughtWorks, Inc.\n+  ~\n+  ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~ you may not use this file except in compliance with the License.\n+  ~ You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd\">\n+\n+  <changeSet id=\"2020_06_1_remove_data_sharing_settings_table\" author=\"gocd\">", "originalCommit": "0469e5c7a3c7bf777d682eaf96a796e55d3d03d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM1NTA1OQ==", "url": "https://github.com/gocd/gocd/pull/8278#discussion_r449355059", "bodyText": "Make sense, will add a fix.", "author": "GaneshSPatil", "createdAt": "2020-07-03T03:12:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE2NTgzNA=="}], "type": "inlineReview"}, {"oid": "0b1b86c78c60a309878b308f698cf8936cd0b276", "url": "https://github.com/gocd/gocd/commit/0b1b86c78c60a309878b308f698cf8936cd0b276", "message": "Follow DbDeploy conventions for the database migration changeset id", "committedDate": "2020-07-03T03:22:47Z", "type": "forcePushed"}, {"oid": "035dbe25a3c09743c228a8eed6ac27d839f9c991", "url": "https://github.com/gocd/gocd/commit/035dbe25a3c09743c228a8eed6ac27d839f9c991", "message": "Remove data sharing spa and models", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "7389ac33e47ee98068100e111749d521ecb73648", "url": "https://github.com/gocd/gocd/commit/7389ac33e47ee98068100e111749d521ecb73648", "message": "Remove data sharing notification", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "58b669faf55c4513066a139492ac1b4c0e5eceaa", "url": "https://github.com/gocd/gocd/commit/58b669faf55c4513066a139492ac1b4c0e5eceaa", "message": "Remove usage data reporter\n\n* Remove the javascript code which is reponsible to report usage data to the data sharing server", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "8a1d89cda2556ebbb4aeebd3845e991d80ea6cfc", "url": "https://github.com/gocd/gocd/commit/8a1d89cda2556ebbb4aeebd3845e991d80ea6cfc", "message": "Remove data sharing settings API\n\n* Remove data sharing settings API.\n* Remove data sharing notification auth API.\n* Remove hibernate mapping for data sharing settings\n* Remove data sharing settings service.", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "009bb49a801fd7aeed8387528c630015b34c44be", "url": "https://github.com/gocd/gocd/commit/009bb49a801fd7aeed8387528c630015b34c44be", "message": "Remove usage data reporting API\n\n* Remove usage data API (plain & encrypted).\n* Remove usage data reporting API (info, start & complete).\n* Remove data sharing certificates.\n* Remove hibernate mapping for usage data reporting table.\n* Remove usage statistics reporting service.", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "8617f578b95ff1db6dc34e3a004119cf22faf89b", "url": "https://github.com/gocd/gocd/commit/8617f578b95ff1db6dc34e3a004119cf22faf89b", "message": "Remove data sharing from admin dropdown", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "5d2dcb713ef9130a2d4e70630b1f456e2453a8c8", "url": "https://github.com/gocd/gocd/commit/5d2dcb713ef9130a2d4e70630b1f456e2453a8c8", "message": "Remove passing data sharing related server id for the update check", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "78a75d35d05d1e6af0168117279aaf85cbbd86fa", "url": "https://github.com/gocd/gocd/commit/78a75d35d05d1e6af0168117279aaf85cbbd86fa", "message": "Cleanup DataSharingSettings and UsageStatisticsReporting tables on an upgrade.", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "1d24ba5c1d8dbd3e453f6aa2c9e746054b79eafb", "url": "https://github.com/gocd/gocd/commit/1d24ba5c1d8dbd3e453f6aa2c9e746054b79eafb", "message": "Do not modify existing sql, add a separate migration to remove tables", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "4c4117b63c3475b1dfb43b6837f98b09aee9fb65", "url": "https://github.com/gocd/gocd/commit/4c4117b63c3475b1dfb43b6837f98b09aee9fb65", "message": "Cleanup local storage for data sharing related data\n\n* Remove data sharing last reported at time.\n* Remove data sharing notifications.", "committedDate": "2020-07-06T09:19:58Z", "type": "commit"}, {"oid": "7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "url": "https://github.com/gocd/gocd/commit/7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "message": "Follow DbDeploy conventions for the database migration changeset id", "committedDate": "2020-07-06T09:24:35Z", "type": "commit"}, {"oid": "7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "url": "https://github.com/gocd/gocd/commit/7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "message": "Follow DbDeploy conventions for the database migration changeset id", "committedDate": "2020-07-06T09:24:35Z", "type": "forcePushed"}]}