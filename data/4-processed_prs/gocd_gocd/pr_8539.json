{"pr_number": 8539, "pr_title": "Backing up wrapper config dir is optional now #8525", "pr_createdAt": "2020-09-10T05:21:35Z", "pr_url": "https://github.com/gocd/gocd/pull/8539", "timeline": [{"oid": "ae9fa46c20aab7f590c66885fb83d9b547eda16c", "url": "https://github.com/gocd/gocd/commit/ae9fa46c20aab7f590c66885fb83d9b547eda16c", "message": "Backing up wrapper config dir is optional now #8525\n\n* As part of backing up the wrapper config folder, the\n  folder location is determined using the env variable\n  WRAPPER_CONF_DIR which is set by Tanuki wrapper during startup.\n  Starting the GoCD server not as a service would not set the\n  env variable and would hence fail the backup. Hence making\n  it optional.", "committedDate": "2020-09-11T06:20:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjgwMTg5Mg==", "url": "https://github.com/gocd/gocd/pull/8539#discussion_r486801892", "bodyText": "How about:\nBackup was generated successfully. The backup of wrapper configuration was skipped as the 'wrapper_config_dir' path is unknown.", "author": "kritika-singh3", "createdAt": "2020-09-11T06:31:17Z", "path": "server/src/main/java/com/thoughtworks/go/server/service/BackupService.java", "diffHunk": "@@ -224,8 +224,11 @@ private void notifyErrorToListeners(List<BackupUpdateListener> listeners, String\n         listeners.forEach(backupUpdateListener -> backupUpdateListener.error(message));\n     }\n \n-    private void notifyCompletionToListeners(List<BackupUpdateListener> listeners) {\n-        listeners.forEach(BackupUpdateListener::completed);\n+    private void notifyCompletionToListeners(List<BackupUpdateListener> listeners, boolean backedupWrapperConfig) {\n+        String message = backedupWrapperConfig\n+                ? \"Backup was generated successfully.\"\n+                : \"Backup was generated successfully. WrapperConfig backup was skipped, as the Wrapper Config Dir path is unknown.\";", "originalCommit": "ae9fa46c20aab7f590c66885fb83d9b547eda16c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0e9fea010b214aaae11c1e877ab875f6fe65c491", "url": "https://github.com/gocd/gocd/commit/0e9fea010b214aaae11c1e877ab875f6fe65c491", "message": "Backing up wrapper config dir is optional now #8525\n\n* As part of backing up the wrapper config folder, the\n  folder location is determined using the env variable\n  WRAPPER_CONF_DIR which is set by Tanuki wrapper during startup.\n  Starting the GoCD server not as a service would not set the\n  env variable and would hence fail the backup. Hence making\n  it optional.", "committedDate": "2020-09-11T06:52:51Z", "type": "forcePushed"}, {"oid": "64bd8225059468f05510ca85904b15567a07bdb8", "url": "https://github.com/gocd/gocd/commit/64bd8225059468f05510ca85904b15567a07bdb8", "message": "Backing up wrapper config dir is optional now #8525\n\n* As part of backing up the wrapper config folder, the\n  folder location is determined using the env variable\n  WRAPPER_CONF_DIR which is set by Tanuki wrapper during startup.\n  Starting the GoCD server not as a service would not set the\n  env variable and would hence fail the backup. Hence making\n  it optional.", "committedDate": "2020-09-11T07:12:58Z", "type": "forcePushed"}, {"oid": "2152dd52945ecbb22f48541f8094d8604a386e78", "url": "https://github.com/gocd/gocd/commit/2152dd52945ecbb22f48541f8094d8604a386e78", "message": "Backing up wrapper config dir is optional now #8525\n\n* As part of backing up the wrapper config folder, the\n  folder location is determined using the env variable\n  WRAPPER_CONF_DIR which is set by Tanuki wrapper during startup.\n  Starting the GoCD server not as a service would not set the\n  env variable and would hence fail the backup. Hence making\n  it optional.", "committedDate": "2020-09-11T08:09:41Z", "type": "forcePushed"}, {"oid": "820746a62525bb550448eb046c49a38ef70a09ce", "url": "https://github.com/gocd/gocd/commit/820746a62525bb550448eb046c49a38ef70a09ce", "message": "Backing up wrapper config dir is optional now #8525\n\n* As part of backing up the wrapper config folder, the\n  folder location is determined using the env variable\n  WRAPPER_CONF_DIR which is set by Tanuki wrapper during startup.\n  Starting the GoCD server not as a service would not set the\n  env variable and would hence fail the backup. Hence making\n  it optional.", "committedDate": "2020-09-15T05:43:46Z", "type": "commit"}, {"oid": "820746a62525bb550448eb046c49a38ef70a09ce", "url": "https://github.com/gocd/gocd/commit/820746a62525bb550448eb046c49a38ef70a09ce", "message": "Backing up wrapper config dir is optional now #8525\n\n* As part of backing up the wrapper config folder, the\n  folder location is determined using the env variable\n  WRAPPER_CONF_DIR which is set by Tanuki wrapper during startup.\n  Starting the GoCD server not as a service would not set the\n  env variable and would hence fail the backup. Hence making\n  it optional.", "committedDate": "2020-09-15T05:43:46Z", "type": "forcePushed"}]}