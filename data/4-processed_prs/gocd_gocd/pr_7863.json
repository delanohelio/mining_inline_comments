{"pr_number": 7863, "pr_title": "On the timeline view, used a fixed width tile for stage", "pr_createdAt": "2020-03-16T06:12:29Z", "pr_url": "https://github.com/gocd/gocd/pull/7863", "timeline": [{"oid": "ff3874753c67a7b94b2ec1e228dcdc60fb204bc7", "url": "https://github.com/gocd/gocd/commit/ff3874753c67a7b94b2ec1e228dcdc60fb204bc7", "message": "On the timeline view, used a fixed width tile for stage\n\n - width for each stage tile is fixed at 25px\n - updated the styles", "committedDate": "2020-03-17T10:45:05Z", "type": "forcePushed"}, {"oid": "95ed07febc0d588ac2e3438741a414390ba4e992", "url": "https://github.com/gocd/gocd/commit/95ed07febc0d588ac2e3438741a414390ba4e992", "message": "On the timeline view, used a fixed width tile for stage\n\n - width for each stage tile is fixed at 25px\n - updated the styles", "committedDate": "2020-03-20T04:09:20Z", "type": "commit"}, {"oid": "95ed07febc0d588ac2e3438741a414390ba4e992", "url": "https://github.com/gocd/gocd/commit/95ed07febc0d588ac2e3438741a414390ba4e992", "message": "On the timeline view, used a fixed width tile for stage\n\n - width for each stage tile is fixed at 25px\n - updated the styles", "committedDate": "2020-03-20T04:09:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkwMzI1NQ==", "url": "https://github.com/gocd/gocd/pull/7863#discussion_r396903255", "bodyText": "how about this?\nstatic stageStatusClass(status?: string = \"unknown\") {\n    return styles[status.trim().toLowerCase()];\n}\nSecondly, if we want to make that status can yield only specific values, we can change the type of the status argument from string to the possible values as follows:\nstatic stageStatusClass(status?: \"passed\" | \"failed\" |  \"unknown\" = \"unknown\") {\n    return styles[status.trim().toLowerCase()];\n}", "author": "GaneshSPatil", "createdAt": "2020-03-24T05:00:54Z", "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/compare/stages/stages_widget.tsx", "diffHunk": "@@ -24,11 +24,32 @@ const classnames = bind(styles);\n \n interface Attrs {\n   stages: Stages;\n-  pipelineCounter?: number;\n   onClick?: (stage: Stage) => void;\n }\n \n export class StagesWidget extends MithrilViewComponent<Attrs> {\n+\n+  static stageStatusClass(status: string) {\n+    if (!status) {\n+      return styles.unknown;\n+    }\n+\n+    switch (status.trim().toLowerCase()) {\n+      case \"building\":\n+        return styles.building;\n+      case \"failed\":\n+        return styles.failed;\n+      case \"failing\":\n+        return styles.failing;\n+      case \"cancelled\":\n+        return styles.cancelled;\n+      case \"passed\":\n+        return styles.passed;\n+      default:\n+        return styles.unknown;\n+    }\n+  }", "originalCommit": "95ed07febc0d588ac2e3438741a414390ba4e992", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkwMzQ1Mw==", "url": "https://github.com/gocd/gocd/pull/7863#discussion_r396903453", "bodyText": "Hmm. I am not sure if there is a better way of writing this.\n@marques-work -- Thoughts??", "author": "GaneshSPatil", "createdAt": "2020-03-24T05:01:53Z", "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/compare/timeline_modal.tsx", "diffHunk": "@@ -123,6 +126,34 @@ export class TimelineModal extends Modal {\n     return \"Select a pipeline to compare\";\n   }\n \n+  private getPipelineInstanceClassName(maxLength: number) {\n+    switch (maxLength) {\n+      case 1:\n+      case 2:\n+        return styles.xSmall;\n+      case 3:\n+        return styles.small;\n+      case 4:\n+      case 5:\n+        return styles.medium;\n+      case 6:\n+      case 7:\n+        return styles.large;\n+      default:\n+        return styles.xLarge;\n+    }\n+  }\n+", "originalCommit": "95ed07febc0d588ac2e3438741a414390ba4e992", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}