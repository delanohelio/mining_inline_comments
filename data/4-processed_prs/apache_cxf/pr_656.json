{"pr_number": 656, "pr_title": "Consolidate getTargetMethod calls", "pr_createdAt": "2020-03-26T17:14:35Z", "pr_url": "https://github.com/apache/cxf/pull/656", "timeline": [{"oid": "8b11d6b26369650e5f4c6f3730dbb97d60927d9b", "url": "https://github.com/apache/cxf/commit/8b11d6b26369650e5f4c6f3730dbb97d60927d9b", "message": "Consolidate getTargetMethod calls\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>", "committedDate": "2020-03-26T18:55:07Z", "type": "commit"}, {"oid": "8b11d6b26369650e5f4c6f3730dbb97d60927d9b", "url": "https://github.com/apache/cxf/commit/8b11d6b26369650e5f4c6f3730dbb97d60927d9b", "message": "Consolidate getTargetMethod calls\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>", "committedDate": "2020-03-26T18:55:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1OTg1Mg==", "url": "https://github.com/apache/cxf/pull/656#discussion_r398959852", "bodyText": "Minor, may be introducing the overloaded method MessageUtils.getTargetMethod(inMessage) (which calls the original one with null supplier) would be a bit more cleaner, no need to guess what second argument is. Alternatively, could be Optional<Method> so the caller can raise exceptions or get along with null. What do you think?", "author": "reta", "createdAt": "2020-03-26T23:54:33Z", "path": "core/src/main/java/org/apache/cxf/validation/AbstractValidationInterceptor.java", "diffHunk": "@@ -108,15 +107,7 @@ protected Method getServiceMethod(Message message) {\n         Message inMessage = message.getExchange().getInMessage();\n         Method method = null;\n         if (inMessage != null) {\n-            method = (Method)inMessage.get(\"org.apache.cxf.resource.method\");\n-            if (method == null) {\n-                BindingOperationInfo bop = inMessage.getExchange().getBindingOperationInfo();\n-                if (bop != null) {\n-                    MethodDispatcher md = (MethodDispatcher)\n-                        inMessage.getExchange().getService().get(MethodDispatcher.class.getName());\n-                    method = md.getMethod(bop);\n-                }\n-            }\n+            method = MessageUtils.getTargetMethod(inMessage, null);", "originalCommit": "8b11d6b26369650e5f4c6f3730dbb97d60927d9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMxNTU2Mg==", "url": "https://github.com/apache/cxf/pull/656#discussion_r399315562", "bodyText": "Good idea!  I'll give the Optional<Method> approach a try.  Thanks!", "author": "andymc12", "createdAt": "2020-03-27T14:43:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1OTg1Mg=="}], "type": "inlineReview"}, {"oid": "7aa6e0a402b8ce7dfff8a931a507b884d7152cea", "url": "https://github.com/apache/cxf/commit/7aa6e0a402b8ce7dfff8a931a507b884d7152cea", "message": "Code review comments - use Optional<Method>\n\nSigned-off-by: Andy McCright <j.andrew.mccright@gmail.com>", "committedDate": "2020-03-27T15:05:10Z", "type": "commit"}]}