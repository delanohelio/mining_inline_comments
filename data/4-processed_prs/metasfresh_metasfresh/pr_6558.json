{"pr_number": 6558, "pr_title": "Cash Journal: Doubled lines after complete and Payment link to wrong line/wrong cashbook", "pr_createdAt": "2020-05-04T09:46:43Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/6558", "timeline": [{"oid": "0482e08b8599455e85a6a369062d5a52aa317749", "url": "https://github.com/metasfresh/metasfresh/commit/0482e08b8599455e85a6a369062d5a52aa317749", "message": "Add callout for C_BankStatementLine.C_Invoice\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-04T11:28:24Z", "type": "forcePushed"}, {"oid": "6cdca4cd0d407fd3d8644a7ac7d7b4dc47fede6d", "url": "https://github.com/metasfresh/metasfresh/commit/6cdca4cd0d407fd3d8644a7ac7d7b4dc47fede6d", "message": "Update TRLs\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:42Z", "type": "commit"}, {"oid": "08df37e52fcc5538e33f773e1d4c7525998cd4c2", "url": "https://github.com/metasfresh/metasfresh/commit/08df37e52fcc5538e33f773e1d4c7525998cd4c2", "message": "Add validation rule for C_BankStatementLine.C_Invoice to filter invoices by bPartner\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:42Z", "type": "commit"}, {"oid": "b794a32b8e3e9e3cbb62c8c31d7e9fb1089cabf1", "url": "https://github.com/metasfresh/metasfresh/commit/b794a32b8e3e9e3cbb62c8c31d7e9fb1089cabf1", "message": "Misc fixes\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:42Z", "type": "commit"}, {"oid": "57918e87129ffa35689e0fb664a7074b91693996", "url": "https://github.com/metasfresh/metasfresh/commit/57918e87129ffa35689e0fb664a7074b91693996", "message": "Add Service for calculating Payment.TenderType by BPartnerBankAccountId\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:42Z", "type": "commit"}, {"oid": "076331287bf8704b342d193d8c1a1ffb3842511d", "url": "https://github.com/metasfresh/metasfresh/commit/076331287bf8704b342d193d8c1a1ffb3842511d", "message": "Don't link Cash Payment with 2 BankStatementLines; use correct dateAcct when creating Payment from BankStatementLine\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:43Z", "type": "commit"}, {"oid": "30bddae416dba8219f2a29891e3c071df40de5ce", "url": "https://github.com/metasfresh/metasfresh/commit/30bddae416dba8219f2a29891e3c071df40de5ce", "message": "Add callout for C_BankStatementLine.C_Invoice\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:43Z", "type": "commit"}, {"oid": "bee545ce91bdaa8c96f6a3882213f5727d035053", "url": "https://github.com/metasfresh/metasfresh/commit/bee545ce91bdaa8c96f6a3882213f5727d035053", "message": "Update C_BankStatementLine.C_CUrrency_ID from C_Invoice as well\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:43Z", "type": "commit"}, {"oid": "0c5481e240a23028dc9fbd7755fcbd9abb44ec85", "url": "https://github.com/metasfresh/metasfresh/commit/0c5481e240a23028dc9fbd7755fcbd9abb44ec85", "message": "Cleanup Cash Journal window\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:43Z", "type": "commit"}, {"oid": "0c5481e240a23028dc9fbd7755fcbd9abb44ec85", "url": "https://github.com/metasfresh/metasfresh/commit/0c5481e240a23028dc9fbd7755fcbd9abb44ec85", "message": "Cleanup Cash Journal window\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T04:23:43Z", "type": "forcePushed"}, {"oid": "2df0306fe9e9ea65739af286c32038c8342421f4", "url": "https://github.com/metasfresh/metasfresh/commit/2df0306fe9e9ea65739af286c32038c8342421f4", "message": "Carry on Invoice to Payment when Payment is created from BankStatementLine\n\nhttps://github.com/metasfresh/metasfresh/issues/6547", "committedDate": "2020-05-05T07:58:40Z", "type": "commit"}, {"oid": "37e99d23dc0382b0c2dcb538b8a3c5c62e8440bd", "url": "https://github.com/metasfresh/metasfresh/commit/37e99d23dc0382b0c2dcb538b8a3c5c62e8440bd", "message": "Show debug info", "committedDate": "2020-05-05T10:04:17Z", "type": "commit"}, {"oid": "3a21eee11041d9cb278edafb65aef826374abcb7", "url": "https://github.com/metasfresh/metasfresh/commit/3a21eee11041d9cb278edafb65aef826374abcb7", "message": "Revert \"Show debug info\"\n\nThis reverts commit 37e99d23", "committedDate": "2020-05-05T10:09:13Z", "type": "commit"}, {"oid": "f4edc191663dba358114c59f54ea67dd995b5cc8", "url": "https://github.com/metasfresh/metasfresh/commit/f4edc191663dba358114c59f54ea67dd995b5cc8", "message": "Update BankAccountId.java", "committedDate": "2020-05-05T13:01:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA5MTg3Mw==", "url": "https://github.com/metasfresh/metasfresh/pull/6558#discussion_r420091873", "bodyText": "it's OK to follow the naming convention within this class, but otherwise please prefer a method name that descripbes what the method does, rather than when it's invoked.", "author": "metas-ts", "createdAt": "2020-05-05T13:04:44Z", "path": "backend/de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/callout/C_BankStatementLine.java", "diffHunk": "@@ -136,11 +115,24 @@ public void onLink_BankStatement_IDChangedResetAmounts(final I_C_BankStatementLi\n \t}\n \n \t@CalloutMethod(columnNames = I_C_BankStatementLine.COLUMNNAME_C_BP_BankAccountTo_ID)\n-\tpublic void onC_BP_BankAccountTo_IDChanged(final I_C_BankStatementLine bsl)\n+\tpublic void onC_BP_BankAccountTo_IDChanged(final @NonNull I_C_BankStatementLine bsl)\n \t{\n \t\tif (bsl.getC_BP_BankAccountTo_ID() <= 0)\n \t\t{\n \t\t\tbsl.setLink_BankStatementLine_ID(0);\n \t\t}\n \t}\n+\n+\t@CalloutMethod(columnNames = I_C_BankStatementLine.COLUMNNAME_C_Invoice_ID)", "originalCommit": "f4edc191663dba358114c59f54ea67dd995b5cc8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}