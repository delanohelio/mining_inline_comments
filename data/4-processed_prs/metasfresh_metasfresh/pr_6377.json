{"pr_number": 6377, "pr_title": "#6376 Fix componentName", "pr_createdAt": "2020-03-20T14:16:16Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/6377", "timeline": [{"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529", "url": "https://github.com/metasfresh/metasfresh/commit/deee7b688ac2fdb117896f8bce4c2ed967cc0529", "message": "#6376 Fix componentName\n\n#6376 Avoid empty text for packing material in Product specifications", "committedDate": "2020-03-20T14:15:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk2NjgyNQ==", "url": "https://github.com/metasfresh/metasfresh/pull/6377#discussion_r395966825", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,\n          \n          \n            \n                coalesce(NULLIF(TRIM(bomProduct.CustomerLabelName),''), bomProduct.Name) as componentName,\n          \n      \n    \n    \n  \n\n..also guard against e.g. ' '", "author": "metas-ts", "createdAt": "2020-03-21T06:26:26Z", "path": "de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/ddl/views/product_specifications_v.sql", "diffHunk": "@@ -17,7 +17,7 @@ CREATE OR REPLACE VIEW \"de.metas.fresh\".product_specifications_v AS\n     nf.Name                                                 as nutritionName,\n     pn.SeqNo                                                as NutritionSeqNo,\n     pn.nutritionqty,\n-    coalesce(bomProduct.CustomerLabelName, bomProduct.Name) as componentName,\n+    coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,", "originalCommit": "deee7b688ac2fdb117896f8bce4c2ed967cc0529", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk2Njk5OQ==", "url": "https://github.com/metasfresh/metasfresh/pull/6377#discussion_r395966999", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,\n          \n          \n            \n                coalesce(NULLIF(TRIM(bomProduct.CustomerLabelName),''), bomProduct.Name) as componentName,\n          \n      \n    \n    \n  \n\n..also guard against e.g. ' '", "author": "metas-ts", "createdAt": "2020-03-21T06:29:37Z", "path": "de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5555030_gh6376_FixEmptyTextInCustomerLabelName.sql", "diffHunk": "@@ -0,0 +1,41 @@\n+drop VIEW \"de.metas.fresh\".product_specifications_v;\n+CREATE OR REPLACE VIEW \"de.metas.fresh\".product_specifications_v AS\n+  select\n+    p.Name                                                  as productName,\n+    p.CustomerLabelName,\n+    p.additional_produktinfos,\n+    p.Ingredients,\n+    p.Value                                                 as productValue,\n+    p.UPC,\n+    p.weight,\n+    c.name                                                  as country,\n+    p.guaranteedaysmin,\n+    p.warehouse_temperature,\n+    p.description                                           as productDecription,\n+    a.Name                                                  as allergen,\n+    nf.Name                                                 as nutritionName,\n+    pn.SeqNo                                                as NutritionSeqNo,\n+    pn.nutritionqty,\n+    coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,", "originalCommit": "deee7b688ac2fdb117896f8bce4c2ed967cc0529", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "576fcd74392fb744467ce86212b94cffe89845e5", "url": "https://github.com/metasfresh/metasfresh/commit/576fcd74392fb744467ce86212b94cffe89845e5", "message": "Apply suggestions from code review\r\n\r\n#6376", "committedDate": "2020-03-21T06:30:25Z", "type": "commit"}]}