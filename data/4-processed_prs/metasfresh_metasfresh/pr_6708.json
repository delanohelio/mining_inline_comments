{"pr_number": 6708, "pr_title": "E2e 6703 references", "pr_createdAt": "2020-05-22T05:43:33Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/6708", "timeline": [{"oid": "9aa046c2d0a7e7990765157f82b53280fd75141b", "url": "https://github.com/metasfresh/metasfresh/commit/9aa046c2d0a7e7990765157f82b53280fd75141b", "message": "Add data-cy attribute with the reference identifier as it will be used in testing #6703", "committedDate": "2020-05-21T12:41:21Z", "type": "commit"}, {"oid": "7c358e0d0cc26ca99272831b50d1ca06a0caeb7f", "url": "https://github.com/metasfresh/metasfresh/commit/7c358e0d0cc26ca99272831b50d1ca06a0caeb7f", "message": "Upgrade Cypress version to 4.6.0  #6703", "committedDate": "2020-05-21T12:43:12Z", "type": "commit"}, {"oid": "d30a596f6cc2e2342eb1695f63f677f4ee5247ce", "url": "https://github.com/metasfresh/metasfresh/commit/d30a596f6cc2e2342eb1695f63f677f4ee5247ce", "message": "Add back the tests from the picking that were broken due to the changes on references #6703", "committedDate": "2020-05-22T05:22:53Z", "type": "commit"}, {"oid": "4f07b0a0ec9d906e54edd2dee0f2da1307a9d0f3", "url": "https://github.com/metasfresh/metasfresh/commit/4f07b0a0ec9d906e54edd2dee0f2da1307a9d0f3", "message": "Removed debug line #6703", "committedDate": "2020-05-22T05:41:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTA5Mzk4OA==", "url": "https://github.com/metasfresh/metasfresh/pull/6708#discussion_r429093988", "bodyText": "I think [data-cy=\"reference-${referenceId}\"] Could be extracted to a variable, since it's used 3 times.", "author": "TheBestPessimist", "createdAt": "2020-05-22T07:45:53Z", "path": "e2e/cypress/support/commands/navigation.js", "diffHunk": "@@ -52,17 +52,18 @@ Cypress.Commands.add('openReferencedDocuments', (referenceId, retriesLeft = 8) =\n   checkIfWindowCanExecuteActions();\n \n   if (retriesLeft >= 1) {\n-    const referencesAliasName = `references-${date}`;\n-    cy.server();\n-    cy.route('GET', new RegExp(RewriteURL.REFERENCES)).as(referencesAliasName);\n+    // const referencesAliasName = `references-${date}`;\n+    // cy.server();\n+    // -- removed this as calls to SSE (eventSource) are not recorded, they were introduced in me03/issues -> #4383\n+    // cy.route('GET', new RegExp(RewriteURL.REFERENCES)).as(referencesAliasName);\n \n     cy.get('body').type('{alt}6'); // open referenced docs\n-    cy.wait(`@${referencesAliasName}`, timeout);\n+    // cy.wait(`@${referencesAliasName}`, timeout);  -- this has been also removed due to the reason mentioned above\n     cy.get('.order-list-panel .order-list-loader', timeout).should('not.exist');\n \n     return cy.get('body').then(body => {\n-      if (body.find(`.reference_${referenceId}`).length > 0) {\n-        return cy.get(`.reference_${referenceId}`).click();\n+      if (body.find(`[data-cy=\"reference-${referenceId}\"]`).length > 0) {", "originalCommit": "4f07b0a0ec9d906e54edd2dee0f2da1307a9d0f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTA5NzI5NQ==", "url": "https://github.com/metasfresh/metasfresh/pull/6708#discussion_r429097295", "bodyText": "selectItemUsingBarcodeFilter should be added to cypress/support/index.d.ts, with documentation. this helps IDEs figure out how to use the function.", "author": "TheBestPessimist", "createdAt": "2020-05-22T07:53:11Z", "path": "e2e/cypress/integration/picking/pick_HUs_and_create_shipment.js", "diffHunk": "@@ -91,6 +91,8 @@ describe('Pick the SO', function() {\n     cy.executeQuickActionWithRightSideTable('WEBUI_Picking_HUEditor_Launcher');\n \n     cy.selectItemUsingBarcodeFilter(huValue1);", "originalCommit": "4f07b0a0ec9d906e54edd2dee0f2da1307a9d0f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4b01386752ac353bb23ab8a32d1e8589e318da93", "url": "https://github.com/metasfresh/metasfresh/commit/4b01386752ac353bb23ab8a32d1e8589e318da93", "message": "Draft 1 of `selectItemUsingBarcodeFilter`: Works on Handling Unit Editor window\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T11:13:20Z", "type": "commit"}, {"oid": "f8eaa5d98ebe42dd2aced5c33cd4579c76cc63f9", "url": "https://github.com/metasfresh/metasfresh/commit/f8eaa5d98ebe42dd2aced5c33cd4579c76cc63f9", "message": "Update functions which select left/right tables in modal, to enable filters access\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T11:14:10Z", "type": "commit"}, {"oid": "e95b1eb766d80f0127fd0f55ef5163a446c518ac", "url": "https://github.com/metasfresh/metasfresh/commit/e95b1eb766d80f0127fd0f55ef5163a446c518ac", "message": "Try to improve `selectItemUsingBarcodeFilter`\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T11:16:37Z", "type": "commit"}, {"oid": "c43e6605ddaa9009054d57014e8f4ea6c1d80a7a", "url": "https://github.com/metasfresh/metasfresh/commit/c43e6605ddaa9009054d57014e8f4ea6c1d80a7a", "message": "Add new constant for QuickActions rest api url\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T11:17:21Z", "type": "commit"}, {"oid": "bfa431258707ddb23b4de65cfe97c9442aebe4c7", "url": "https://github.com/metasfresh/metasfresh/commit/bfa431258707ddb23b4de65cfe97c9442aebe4c7", "message": "Workaround because visiting Handling Unit Editor is slow and filters is not loaded properly\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T12:09:36Z", "type": "commit"}, {"oid": "0eba81bcae2d52a5f11b7c7610e30029efed1dcf", "url": "https://github.com/metasfresh/metasfresh/commit/0eba81bcae2d52a5f11b7c7610e30029efed1dcf", "message": "Why in the name of sweet holy black baby Jesus are we reading the fixture one thousand damn times?? WHY?\n\nThe fixture should read only once, at the beginning, in step `Read fixture and prepare the names` where all the values are properly set and that's it.\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T12:24:31Z", "type": "commit"}, {"oid": "97a749c72e1cc5ff9e3ebbb93b5dc55c1b1ca08a", "url": "https://github.com/metasfresh/metasfresh/commit/97a749c72e1cc5ff9e3ebbb93b5dc55c1b1ca08a", "message": "Test works now\n\nhttps://github.com/metasfresh/metasfresh/issues/6703", "committedDate": "2020-05-22T12:29:44Z", "type": "commit"}]}