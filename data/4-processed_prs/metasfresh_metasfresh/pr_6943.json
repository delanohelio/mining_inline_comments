{"pr_number": 6943, "pr_title": "#6938 Use price pattern form price list", "pr_createdAt": "2020-07-02T07:17:35Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/6943", "timeline": [{"oid": "25518917967fcbb8d1d9601c0bec9096ab529b60", "url": "https://github.com/metasfresh/metasfresh/commit/25518917967fcbb8d1d9601c0bec9096ab529b60", "message": "#6938 Do not round in view and exttract price pattern", "committedDate": "2020-07-01T14:59:39Z", "type": "commit"}, {"oid": "898cd9a7a00d5609a78a7697cfe8e5aa04d63712", "url": "https://github.com/metasfresh/metasfresh/commit/898cd9a7a00d5609a78a7697cfe8e5aa04d63712", "message": "#6938 Add price pattern", "committedDate": "2020-07-01T15:39:23Z", "type": "commit"}, {"oid": "825aced06999043e9a1cfa258401656676af392b", "url": "https://github.com/metasfresh/metasfresh/commit/825aced06999043e9a1cfa258401656676af392b", "message": "#6938 Add price pattern", "committedDate": "2020-07-02T07:08:56Z", "type": "commit"}, {"oid": "81d2fb66d87acf7f4fe6da8ce176c2b99a0c998f", "url": "https://github.com/metasfresh/metasfresh/commit/81d2fb66d87acf7f4fe6da8ce176c2b99a0c998f", "message": "Correc tuat file", "committedDate": "2020-07-02T07:32:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODgwMTM5Nw==", "url": "https://github.com/metasfresh/metasfresh/pull/6943#discussion_r448801397", "bodyText": "why not use '#,##0.000000000000' instead?", "author": "metas-ts", "createdAt": "2020-07-02T07:27:18Z", "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/ddl/views/RV_fresh_PriceList_Comparison.sql", "diffHunk": "@@ -14,35 +14,43 @@ SELECT pp.AD_Org_ID,\n        pp.IsActive,\n \n        -- Displayed pricelist data\n-       pc.Name                                                                    AS ProductCategory,\n-       pc.value                                                                   AS ProductCategoryValue,\n+       pc.Name                                                                          AS ProductCategory,\n+       pc.value                                                                         AS ProductCategoryValue,\n        p.M_Product_ID,\n        p.Value,\n-       p.Name                                                                     AS ProductName,\n+       p.Name                                                                           AS ProductName,\n        pp.IsSeasonFixedPrice,\n-       hupip.Name                                                                 AS ItemProductName,\n-       pm.Name                                                                    AS PackingMaterialName,\n-       ROUND(COALESCE(ppa.PriceStd, pp.PriceStd), coalesce(pl.priceprecision, 2)) AS PriceStd,\n-       ROUND(pp2.PriceStd, coalesce(pl2.priceprecision, 2))                       AS AltPriceStd,\n-       CASE WHEN pp2.PriceStd IS NULL THEN 0 ELSE 1 END                           AS hasaltprice,\n+       hupip.Name                                                                       AS ItemProductName,\n+       pm.Name                                                                          AS PackingMaterialName,\n+       COALESCE(ppa.PriceStd, pp.PriceStd)                                              AS PriceStd,\n+       CASE\n+           WHEN pl.priceprecision = 0\n+               THEN '#,##0'\n+           ELSE Substring('#,##0.000' FROM 0 FOR 7 + pl.priceprecision :: integer) END  AS PricePattern1,", "originalCommit": "825aced06999043e9a1cfa258401656676af392b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}