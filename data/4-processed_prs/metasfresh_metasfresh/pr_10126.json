{"pr_number": 10126, "pr_title": "Fix handing/reacting to changes in data entry tabs", "pr_createdAt": "2020-10-16T14:34:04Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/10126", "timeline": [{"oid": "0b817c61ebff5af8a37c6b8a47a9465bfa00f129", "url": "https://github.com/metasfresh/metasfresh/commit/0b817c61ebff5af8a37c6b8a47a9465bfa00f129", "message": "#10125 request functions for tab's layout", "committedDate": "2020-10-16T12:13:00Z", "type": "commit"}, {"oid": "bf379b5bc329518b469112ba5e610d7965ccdc39", "url": "https://github.com/metasfresh/metasfresh/commit/bf379b5bc329518b469112ba5e610d7965ccdc39", "message": "#10125 utils for getting/updating nested tabs\n#10125 cleanup and add new actions", "committedDate": "2020-10-16T14:01:13Z", "type": "commit"}, {"oid": "fde5bc90fd78661ce8259528858654b68cf513a5", "url": "https://github.com/metasfresh/metasfresh/commit/fde5bc90fd78661ce8259528858654b68cf513a5", "message": "#10125 small cleanup + docs", "committedDate": "2020-10-16T14:01:59Z", "type": "commit"}, {"oid": "c730db2434a1b95674365a439ae7ba8e5613dc82", "url": "https://github.com/metasfresh/metasfresh/commit/c730db2434a1b95674365a439ae7ba8e5613dc82", "message": "#10125 properly handle websocket updates in EntryTable", "committedDate": "2020-10-16T14:06:33Z", "type": "commit"}, {"oid": "9dbec78f21401ea2e92d581904ab19c6a942012c", "url": "https://github.com/metasfresh/metasfresh/commit/9dbec78f21401ea2e92d581904ab19c6a942012c", "message": "#10125 refresh entry table's data on widget patch", "committedDate": "2020-10-16T14:07:50Z", "type": "commit"}, {"oid": "c378cf0243d63574b77856e7fda9635b86f7cd9a", "url": "https://github.com/metasfresh/metasfresh/commit/c378cf0243d63574b77856e7fda9635b86f7cd9a", "message": "Merge branch 'master' into frontend-10125", "committedDate": "2020-10-16T14:34:51Z", "type": "commit"}, {"oid": "31f8718ca42e76d02fabf6e43a38d818ee9836e8", "url": "https://github.com/metasfresh/metasfresh/commit/31f8718ca42e76d02fabf6e43a38d818ee9836e8", "message": "#10125 use shallow rendering in test", "committedDate": "2020-10-16T17:00:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5MjU3OQ==", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507592579", "bodyText": "I would put the params in an object ({ tabId, layoutData })", "author": "petrican", "createdAt": "2020-10-19T09:11:56Z", "path": "frontend/src/actions/WindowActions.js", "diffHunk": "@@ -229,6 +232,17 @@ export function unselectTab(scope) {\n   };\n }\n \n+/**\n+ * @method setUpdatedTabLayout\n+ * @summary Action creator to update tab's layout data in the store\n+ */\n+function setUpdatedTabLayout(tabId, layoutData) {", "originalCommit": "31f8718ca42e76d02fabf6e43a38d818ee9836e8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5MzI5Nw==", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507593297", "bodyText": "Here too doc param and pass them as object params", "author": "petrican", "createdAt": "2020-10-19T09:13:10Z", "path": "frontend/src/actions/WindowActions.js", "diffHunk": "@@ -431,6 +443,24 @@ export function fetchTab({ tabId, windowId, docId, query }) {\n   };\n }\n \n+/*\n+ * @method updateTabLayout\n+ * @summary Action creator for fetching and updating single tab's layout\n+ */", "originalCommit": "31f8718ca42e76d02fabf6e43a38d818ee9836e8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5NjA1MQ==", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507596051", "bodyText": "what happens if orderBy is undefined ?", "author": "petrican", "createdAt": "2020-10-19T09:17:39Z", "path": "frontend/src/containers/MasterWindow.js", "diffHunk": "@@ -177,20 +181,20 @@ class MasterWindowContainer extends PureComponent {\n       tabId: activeTabId,\n     });\n \n-    const tabLayout =\n-      master.layout.tabs &&\n-      master.layout.tabs.filter((tab) => tab.tabId === activeTabId)[0];\n-\n-    const orderBy = tabLayout.orderBy;\n+    const tabLayout = getTab(master.layout, activeTabId);\n+    const orderBy = tabLayout ? tabLayout.orderBy : null;", "originalCommit": "31f8718ca42e76d02fabf6e43a38d818ee9836e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYyMDQyNQ==", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507620425", "bodyText": "Nothing, we won't set the sorting order when requesting data.", "author": "siemiatj", "createdAt": "2020-10-19T09:55:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5NjA1MQ=="}], "type": "inlineReview"}, {"oid": "bb8d7f6e3d1018dd56d518eea319dcab6b54386e", "url": "https://github.com/metasfresh/metasfresh/commit/bb8d7f6e3d1018dd56d518eea319dcab6b54386e", "message": "#10125 utils tests", "committedDate": "2020-10-19T12:58:28Z", "type": "commit"}]}