{"pr_number": 9849, "pr_title": "#9838 Add SeqNo on AD_language", "pr_createdAt": "2020-08-26T13:24:13Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/9849", "timeline": [{"oid": "b8eff826e5895e2610eeadf70de111e798f877bc", "url": "https://github.com/metasfresh/metasfresh/commit/b8eff826e5895e2610eeadf70de111e798f877bc", "message": "#9838 Add SeqNo on AD_language\n\n#9838 Add SeqNo on AD_language", "committedDate": "2020-08-25T09:16:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODIxMjE0Ng==", "url": "https://github.com/metasfresh/metasfresh/pull/9849#discussion_r478212146", "bodyText": "after you went this far, please also add the seqno field to the UI...so the user can change it", "author": "metas-ts", "createdAt": "2020-08-27T07:26:36Z", "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5565660_sys_gh9838_AddSeqNoInAD_Language.sql", "diffHunk": "@@ -0,0 +1,60 @@\n+-- 2020-08-25T09:13:05.949Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_Column (AD_Client_ID,AD_Column_ID,AD_Element_ID,AD_Org_ID,AD_Reference_ID,AD_Table_ID,ColumnName,Created,CreatedBy,DDL_NoForeignKey,DefaultValue,Description,EntityType,FacetFilterSeqNo,FieldLength,Help,IsActive,IsAdvancedText,IsAllowLogging,IsAlwaysUpdateable,IsAutoApplyValidationRule,IsAutocomplete,IsCalculated,IsDimension,IsDLMPartitionBoundary,IsEncrypted,IsFacetFilter,IsForceIncludeInGeneratedModel,IsGenericZoomKeyColumn,IsGenericZoomOrigin,IsIdentifier,IsKey,IsLazyLoading,IsMandatory,IsParent,IsRangeFilter,IsSelectionColumn,IsShowFilterIncrementButtons,IsStaleable,IsSyncDatabase,IsTranslated,IsUpdateable,IsUseDocSequence,MaxFacetsToFetch,Name,SelectionColumnSeqNo,SeqNo,Updated,UpdatedBy,Version) VALUES (0,571120,566,0,11,111,'SeqNo',TO_TIMESTAMP('2020-08-25 12:13:05','YYYY-MM-DD HH24:MI:SS'),100,'N','@SQL=SELECT COALESCE(MAX(SeqNo),0)+10 AS DefaultValue FROM AD_Language','Zur Bestimmung der Reihenfolge der Eintr\u00e4ge; die kleinste Zahl kommt zuerst','D',0,22,'\"Reihenfolge\" bestimmt die Reihenfolge der Eintr\u00e4ge','Y','N','Y','N','N','N','N','N','N','N','N','N','N','N','N','N','N','Y','N','N','N','N','N','N','N','Y','N',0,'Reihenfolge',0,0,TO_TIMESTAMP('2020-08-25 12:13:05','YYYY-MM-DD HH24:MI:SS'),100,0)\n+;\n+\n+-- 2020-08-25T09:13:05.961Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_Column_Trl (AD_Language,AD_Column_ID, Name, IsTranslated,AD_Client_ID,AD_Org_ID,Created,Createdby,Updated,UpdatedBy) SELECT l.AD_Language, t.AD_Column_ID, t.Name, 'N',t.AD_Client_ID,t.AD_Org_ID,t.Created,t.Createdby,t.Updated,t.UpdatedBy FROM AD_Language l, AD_Column t WHERE l.IsActive='Y'AND (l.IsSystemLanguage='Y' AND l.IsBaseLanguage='N') AND t.AD_Column_ID=571120 AND NOT EXISTS (SELECT 1 FROM AD_Column_Trl tt WHERE tt.AD_Language=l.AD_Language AND tt.AD_Column_ID=t.AD_Column_ID)\n+;\n+\n+-- 2020-08-25T09:13:06.016Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+/* DDL */  select update_Column_Translation_From_AD_Element(566) \n+;\n+\n+-- 2020-08-25T09:13:32.511Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+UPDATE AD_Column SET DefaultValue='0',Updated=TO_TIMESTAMP('2020-08-25 12:13:32','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=571120\n+;\n+\n+-- 2020-08-25T09:13:33.661Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+/* DDL */ SELECT public.db_alter_table('AD_Language','ALTER TABLE public.AD_Language ADD COLUMN SeqNo NUMERIC(10) DEFAULT 0 NOT NULL')\n+;\n+\n+-- 2020-08-25T09:13:38.256Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+UPDATE AD_Column SET DefaultValue='@SQL=SELECT COALESCE(MAX(SeqNo),0)+10 AS DefaultValue FROM AD_Language',Updated=TO_TIMESTAMP('2020-08-25 12:13:38','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=571120\n+;\n+\n+-- 2020-08-25T09:13:39.973Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO t_alter_column values('ad_language','SeqNo','NUMERIC(10)',null,null)\n+;\n+\n+-- 2020-08-25T09:14:14.893Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_Field (AD_Tab_ID,IsDisplayed,DisplayLength,SortNo,IsSameLine,IsHeading,IsFieldOnly,IsEncrypted,AD_Client_ID,IsActive,Created,CreatedBy,IsReadOnly,ColumnDisplayLength,IncludedTabHeight,Updated,UpdatedBy,Help,AD_Field_ID,IsDisplayedGrid,SeqNo,SeqNoGrid,SpanX,SpanY,AD_Column_ID,Name,Description,EntityType,AD_Org_ID) VALUES (112,'Y',0,0,'N','N','N','N',0,'Y',TO_TIMESTAMP('2020-08-25 12:14:14','YYYY-MM-DD HH24:MI:SS'),100,'N',0,0,TO_TIMESTAMP('2020-08-25 12:14:14','YYYY-MM-DD HH24:MI:SS'),100,'\"Reihenfolge\" bestimmt die Reihenfolge der Eintr\u00e4ge',616356,'Y',150,150,1,1,571120,'Reihenfolge','Zur Bestimmung der Reihenfolge der Eintr\u00e4ge; die kleinste Zahl kommt zuerst','D',0)\n+;\n+\n+-- 2020-08-25T09:14:14.895Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_Field_Trl (AD_Language,AD_Field_ID, Help,Name,Description, IsTranslated,AD_Client_ID,AD_Org_ID,Created,Createdby,Updated,UpdatedBy) SELECT l.AD_Language, t.AD_Field_ID, t.Help,t.Name,t.Description, 'N',t.AD_Client_ID,t.AD_Org_ID,t.Created,t.Createdby,t.Updated,t.UpdatedBy FROM AD_Language l, AD_Field t WHERE l.IsActive='Y'AND (l.IsSystemLanguage='Y' AND l.IsBaseLanguage='N') AND t.AD_Field_ID=616356 AND NOT EXISTS (SELECT 1 FROM AD_Field_Trl tt WHERE tt.AD_Language=l.AD_Language AND tt.AD_Field_ID=t.AD_Field_ID)\n+;\n+\n+-- 2020-08-25T09:14:14.899Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+/* DDL */  select update_FieldTranslation_From_AD_Name_Element(566) \n+;\n+\n+-- 2020-08-25T09:14:14.915Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+DELETE FROM AD_Element_Link WHERE AD_Field_ID=616356", "originalCommit": "b8eff826e5895e2610eeadf70de111e798f877bc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODIxMzkyMA==", "url": "https://github.com/metasfresh/metasfresh/pull/9849#discussion_r478213920", "bodyText": "@metas-ts but it is the ui; not sure what's with that delete; checking", "author": "cristinamghita", "createdAt": "2020-08-27T07:30:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODIxMjE0Ng=="}], "type": "inlineReview"}]}