{"pr_number": 7084, "pr_title": "Cleanup the redux state for views/tables", "pr_createdAt": "2020-07-29T17:39:47Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/7084", "timeline": [{"oid": "4cb28eb9a866d165b8e6dc40e79f6d1388238988", "url": "https://github.com/metasfresh/metasfresh/commit/4cb28eb9a866d165b8e6dc40e79f6d1388238988", "message": "#7083 remove table when filtering", "committedDate": "2020-07-29T17:35:49Z", "type": "commit"}, {"oid": "510df44491aff48cf651a2e3c59c4e85bce45efc", "url": "https://github.com/metasfresh/metasfresh/commit/510df44491aff48cf651a2e3c59c4e85bce45efc", "message": "#7083 cleanup the store after closing views\n#7083 remove some unnecessary calls to action creators", "committedDate": "2020-07-29T17:37:42Z", "type": "commit"}, {"oid": "ffbadc51946ccf07fafa3731d71d054cd1a7200a", "url": "https://github.com/metasfresh/metasfresh/commit/ffbadc51946ccf07fafa3731d71d054cd1a7200a", "message": "#7063 fix linter", "committedDate": "2020-07-29T17:43:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc0NzQ2NA==", "url": "https://github.com/metasfresh/metasfresh/pull/7084#discussion_r462747464", "bodyText": "out of curiosity: why do we need to use double negation !!canDoSomething?", "author": "TheBestPessimist", "createdAt": "2020-07-30T05:41:17Z", "path": "frontend/src/reducers/viewHandler.js", "diffHunk": "@@ -404,25 +404,29 @@ export default function viewHandler(state = initialState, action) {\n       const type = getViewType(isModal);\n       const view = getLocalView(state, id, isModal);\n \n-      return {\n-        ...state,\n-        [`${type}`]: {\n-          ...state[`${type}`],\n-          [`${id}`]: {\n-            ...view,\n-            isShowIncluded: !!showIncludedView,\n-            hasShowIncluded: !!showIncludedView,\n+      if (view.windowId) {\n+        return {\n+          ...state,\n+          [`${type}`]: {\n+            ...state[`${type}`],\n+            [`${id}`]: {\n+              ...view,\n+              isShowIncluded: !!showIncludedView,\n+              hasShowIncluded: !!showIncludedView,", "originalCommit": "ffbadc51946ccf07fafa3731d71d054cd1a7200a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg0MTYzNA==", "url": "https://github.com/metasfresh/metasfresh/pull/7084#discussion_r462841634", "bodyText": "@TheBestPessimist  defensively, see https://stackoverflow.com/questions/10467475/double-negation-in-javascript-what-is-the-purpose", "author": "teosarca", "createdAt": "2020-07-30T08:39:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc0NzQ2NA=="}], "type": "inlineReview"}]}