{"pr_number": 9053, "pr_title": "Further deprecate getSystemNameList getNamedBeanList", "pr_createdAt": "2020-10-01T09:34:21Z", "pr_url": "https://github.com/JMRI/JMRI/pull/9053", "timeline": [{"oid": "6fdbc7e32c6f79ed9501870c98af38606c97735b", "url": "https://github.com/JMRI/JMRI/commit/6fdbc7e32c6f79ed9501870c98af38606c97735b", "message": "jmrix getSystemNameList to getNamedBeanSet\n\nCMRI SerialSensor, Maple SerialSensor, to multiChar prefix", "committedDate": "2020-09-30T22:16:45Z", "type": "commit"}, {"oid": "f147d9316bc59bcd3f2781fd913d5c4b18fecaae", "url": "https://github.com/JMRI/JMRI/commit/f147d9316bc59bcd3f2781fd913d5c4b18fecaae", "message": "Update RobotThrottle3.py", "committedDate": "2020-09-30T22:20:07Z", "type": "commit"}, {"oid": "646f8c0432c3549211678078608ca789be6007e8", "url": "https://github.com/JMRI/JMRI/commit/646f8c0432c3549211678078608ca789be6007e8", "message": "le block getSystemNameList to getNamedBeanSet", "committedDate": "2020-09-30T22:23:39Z", "type": "commit"}, {"oid": "1b809690e89d5fb6cd6909dfc9046d9f0259d9a4", "url": "https://github.com/JMRI/JMRI/commit/1b809690e89d5fb6cd6909dfc9046d9f0259d9a4", "message": "beantable", "committedDate": "2020-09-30T23:08:29Z", "type": "commit"}, {"oid": "5bb192f01dead041555761146ef81f4ca4bae3b0", "url": "https://github.com/JMRI/JMRI/commit/5bb192f01dead041555761146ef81f4ca4bae3b0", "message": "withrottle", "committedDate": "2020-09-30T23:11:23Z", "type": "commit"}, {"oid": "1617430158431084c09e0d5104c8fe18b3c8d4cc", "url": "https://github.com/JMRI/JMRI/commit/1617430158431084c09e0d5104c8fe18b3c8d4cc", "message": "sensorgroup", "committedDate": "2020-09-30T23:11:38Z", "type": "commit"}, {"oid": "9d2b838415b2b793cae2dc96619f53d55d1b55b7", "url": "https://github.com/JMRI/JMRI/commit/9d2b838415b2b793cae2dc96619f53d55d1b55b7", "message": "Update DefaultConditional.java", "committedDate": "2020-09-30T23:12:06Z", "type": "commit"}, {"oid": "431f382edf57fa03bdf40396688e0d9cc2465ea8", "url": "https://github.com/JMRI/JMRI/commit/431f382edf57fa03bdf40396688e0d9cc2465ea8", "message": "Update EntryExitPairs.java", "committedDate": "2020-09-30T23:12:13Z", "type": "commit"}, {"oid": "25bf2d868420e3d829edcce192294ce576e6b480", "url": "https://github.com/JMRI/JMRI/commit/25bf2d868420e3d829edcce192294ce576e6b480", "message": "Update PickListModel.java", "committedDate": "2020-09-30T23:12:27Z", "type": "commit"}, {"oid": "aa41ef48b9468ba6c9d00d23b9a41ddbb95a2206", "url": "https://github.com/JMRI/JMRI/commit/aa41ef48b9468ba6c9d00d23b9a41ddbb95a2206", "message": "Update DefaultConditionalManager.java", "committedDate": "2020-09-30T23:12:57Z", "type": "commit"}, {"oid": "0852bebfe4205c32ded64140433f0844f8acc9fc", "url": "https://github.com/JMRI/JMRI/commit/0852bebfe4205c32ded64140433f0844f8acc9fc", "message": "Add deprecation logging", "committedDate": "2020-09-30T23:13:31Z", "type": "commit"}, {"oid": "df2304e5a4979a6b0eab48cc22d1ba2d215eeeb7", "url": "https://github.com/JMRI/JMRI/commit/df2304e5a4979a6b0eab48cc22d1ba2d215eeeb7", "message": "add suppressWarnMessageStartsWith(String) to JUnitAppender", "committedDate": "2020-09-30T23:15:21Z", "type": "commit"}, {"oid": "3e9618c35ffc48a7a96b215f576aaf82f0ab8859", "url": "https://github.com/JMRI/JMRI/commit/3e9618c35ffc48a7a96b215f576aaf82f0ab8859", "message": "update tests for logging", "committedDate": "2020-09-30T23:16:55Z", "type": "commit"}, {"oid": "171afa2236fbf4cb7a124c094f9eb056fb4eb15a", "url": "https://github.com/JMRI/JMRI/commit/171afa2236fbf4cb7a124c094f9eb056fb4eb15a", "message": "remove deprecated BlockBossLogic.entries", "committedDate": "2020-10-01T01:38:44Z", "type": "commit"}, {"oid": "06a0f07446ca583142635611f0db25540432aa7b", "url": "https://github.com/JMRI/JMRI/commit/06a0f07446ca583142635611f0db25540432aa7b", "message": "Update current-draft-note.shtml", "committedDate": "2020-10-02T15:06:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODcwMA==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498898700", "bodyText": "Just curious, not a problem, but why set sysNameList to null before setting it via the map operation?", "author": "bobjacobsen", "createdAt": "2020-10-02T15:38:19Z", "path": "java/src/jmri/jmrit/beantable/BeanTableDataModel.java", "diffHunk": "@@ -115,7 +92,9 @@ protected synchronized void updateNameList() {\n                 }\n             }\n         }\n-        sysNameList = getManager().getSystemNameList();\n+        sysNameList = null;\n+        sysNameList = getManager().getNamedBeanSet().stream().map(", "originalCommit": "06a0f07446ca583142635611f0db25540432aa7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODE5NA==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188194", "bodyText": "Thanks for spotting :-)", "author": "icklesteve", "createdAt": "2020-10-03T22:51:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODcwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5OTczNA==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498899734", "bodyText": "Another example of setting null before loading...", "author": "bobjacobsen", "createdAt": "2020-10-02T15:40:08Z", "path": "java/src/jmri/jmrit/beantable/LRouteTableAction.java", "diffHunk": "@@ -118,19 +83,16 @@ protected synchronized void updateNameList() {\n                     }\n                 }\n             }\n-            List<String> list = getManager().getSystemNameList();\n+            sysNameList = null;", "originalCommit": "06a0f07446ca583142635611f0db25540432aa7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODE5Ng==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188196", "bodyText": "Thanks for spotting :-)", "author": "icklesteve", "createdAt": "2020-10-03T22:51:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5OTczNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwMTA3Nw==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498901077", "bodyText": "It would probably be good to add a comment here to remind people that the list from this call is not a live list, and this method has to be called each time through.  I.e. don't save the result of this call for later use.", "author": "bobjacobsen", "createdAt": "2020-10-02T15:42:31Z", "path": "java/src/jmri/jmrit/beantable/Maintenance.java", "diffHunk": "@@ -63,18 +52,30 @@ public static void deviceReportPressed(String devName, Frame parent) {\n         scrollPane = new JScrollPane(text);\n         makeDialog(scrollPane, null, parent, rbm.getString(\"CrossReferenceTitle\"));\n     }\n+    \n+    /**\n+     * get a String List of System Names for a given manager.\n+     * <p>\n+     * TODO: Ideally a future refactor will use the getNamedBeanSet directly.", "originalCommit": "06a0f07446ca583142635611f0db25540432aa7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODIxOQ==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188219", "bodyText": "Thanks, makes sense.", "author": "icklesteve", "createdAt": "2020-10-03T22:51:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwMTA3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxNTQ5OA==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498915498", "bodyText": "Should that be Manager<?> or Manager<E extends Namedbean>?  (Honest question, don't know if there's a problem with the later form)", "author": "bobjacobsen", "createdAt": "2020-10-02T16:09:24Z", "path": "java/src/jmri/jmrit/withrottle/AbstractController.java", "diffHunk": "@@ -51,12 +51,12 @@\n      * @param manager which manager to get system names for.\n      *\n      */\n-    @SuppressWarnings({\"unchecked\", \"deprecation\"}) // The systemNameList assignment is List<E extends Namedbean> to List<NamedBean>\n-                                    // Make this class generic on <E extends NamedBean> (and manager) to fix this.\n-                                    // deprecation needs careful unwinding for Set operations\n-    public void buildList(jmri.Manager manager) {\n+    public void buildList(jmri.Manager<?> manager) {", "originalCommit": "06a0f07446ca583142635611f0db25540432aa7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODQwMQ==", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188401", "bodyText": "I was trying to avoid the cast to get to the .getSystemName() method.\nNetBeans really didn't like it Manager ,\nbut seems happy enough with Manager<?> and finds the expected manager classes fine :-)", "author": "icklesteve", "createdAt": "2020-10-03T22:55:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxNTQ5OA=="}], "type": "inlineReview"}, {"oid": "a12516ac0053a71aa2f0233af782398ab404a5a6", "url": "https://github.com/JMRI/JMRI/commit/a12516ac0053a71aa2f0233af782398ab404a5a6", "message": "remove unneccessary sets to null, add not live list comment", "committedDate": "2020-10-03T22:58:27Z", "type": "commit"}, {"oid": "0a04fec5e17ef9770bd23c843790ed4d443de691", "url": "https://github.com/JMRI/JMRI/commit/0a04fec5e17ef9770bd23c843790ed4d443de691", "message": "Merge branch 'master' into further-depreciate-getSystemNameList-getNamedBeanList", "committedDate": "2020-10-04T01:28:06Z", "type": "commit"}]}