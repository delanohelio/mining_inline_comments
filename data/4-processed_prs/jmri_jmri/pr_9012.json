{"pr_number": 9012, "pr_title": "Add info to Sensors/SensorTable Help", "pr_createdAt": "2020-09-11T03:16:50Z", "pr_url": "https://github.com/JMRI/JMRI/pull/9012", "timeline": [{"oid": "d1781b32ddeb86a4ff9d55cacba684a7d23c90fc", "url": "https://github.com/JMRI/JMRI/commit/d1781b32ddeb86a4ff9d55cacba684a7d23c90fc", "message": "Remove extraneous character from Digi XBee sidebar menu", "committedDate": "2020-09-09T01:40:24Z", "type": "commit"}, {"oid": "1f6f85bd92f6f1d853cf328e7847d999bb1b9e8c", "url": "https://github.com/JMRI/JMRI/commit/1f6f85bd92f6f1d853cf328e7847d999bb1b9e8c", "message": "Add info on missing fields, other clarifications", "committedDate": "2020-09-11T03:04:15Z", "type": "commit"}, {"oid": "fb096ffd14fe95acf9241a1466b1b6f122cc606d", "url": "https://github.com/JMRI/JMRI/commit/fb096ffd14fe95acf9241a1466b1b6f122cc606d", "message": "Coordinate better with SensorTable.shtml", "committedDate": "2020-09-11T03:06:36Z", "type": "commit"}, {"oid": "b21f14314715462811a9d21ba3452d105a583a77", "url": "https://github.com/JMRI/JMRI/commit/b21f14314715462811a9d21ba3452d105a583a77", "message": "Add missing words", "committedDate": "2020-09-11T03:15:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjgxMzgxOA==", "url": "https://github.com/JMRI/JMRI/pull/9012#discussion_r486813818", "bodyText": "This is the Sensor page, so discussing the debounce facility here seems appropriate. Is there a reason it needed to be removed?", "author": "bobjacobsen", "createdAt": "2020-09-11T07:00:09Z", "path": "help/en/html/tools/Sensors.shtml", "diffHunk": "@@ -53,42 +51,16 @@\n         \"../apps/PanelPro/index.shtml\">PanelPro pages</a> for\n         more on Panels).</p>\n \n-        <p>The change takes effect immediately, unless a debounce\n-        timer is configured (see below), but only lasts until the\n-        next time you change it in the program, or the next time\n-        the input hardware on the layout changes the value.</p>\n+        <p>The change takes effect immediately, unless <a href=\"#Debounce\"> a debounce timer</a> is configured,\n+        but only lasts until the next time you change it in the program, or the next time the input hardware on\n+        the layout changes the value.</p>\n \n-        <h2>Sensor Properties</h2>\n-\n-        <h3><a name=\"Debounce\" id=\"Debounce\"></a>Sensor", "originalCommit": "b21f14314715462811a9d21ba3452d105a583a77", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjgxNDcyMg==", "url": "https://github.com/JMRI/JMRI/pull/9012#discussion_r486814722", "bodyText": "The repositioning away from the discussion of sensors themselves, plus calling this a \"faclity\" makes this sound like something apart from the Sensors themselves.  It's not.", "author": "bobjacobsen", "createdAt": "2020-09-11T07:02:13Z", "path": "help/en/html/tools/Sensors.shtml", "diffHunk": "@@ -157,51 +111,83 @@\n             will need to confirm the specifics of each system's\n             <a href=\n             \"../doc/Technical/Names.shtml#systeminfo\">Naming\n-            Rules</a>.</p>\n+            Rules</a>.\n           </li>\n \n           <li>\n-            <p>Enter a User Name for the Sensor. Any string of\n-            characters that is different from the User Name of\n-            other Sensors will be accepted, but it's wise to use a\n-            string that describes the intended use of the Sensor.\n-            You can leave this field blank if you'd like.</p>\n+            Optionally, enter a User Name for the Sensor. Any string not used by other Sensors will be accepted, but it is\n+            useful to enter a name that describes the intended use or location of the Sensor.\n           </li>\n \n           <li>\n-            <p>If you wish to add a number of Sensors at once,\n-            click on the <b>Add a Range</b> checkbox and then in\n-            the <b>Number to Add</b> field enter the number of\n-            Sensors that you wish to add. If you have entered a\n-            User Name, then this will be appended with a number to\n-            ensure that each User Name is unique. If a hardware\n-            address already exists in the Sensors range that is\n-            being added, then JMRI will skip that address and carry\n-            on.</p>\n+            You can add a number of Sensors at once by clicking on the <strong>Add a Range</strong> checkbox and \n+            then entering the <strong>Number to Add.</strong> JMRI will increment the hardware number for each additional\n+            sensor.  If a hardware address already exists in the Sensors range that is being added, then JMRI will skip\n+            that address. If you have entered a User Name, then a number will be appended for each additional sensor to\n+            ensure that the User Name is unique.\n           </li>\n \n           <li>\n-            <p>Click the <b>OK</b> button at the bottom of the\n+            Click the <strong>OK</strong> button at the bottom of the\n             pane. If everything is fine, a message stating \"New\n             Sensor added...\" will be displayed in the notes area.\n             If there is trouble with anything, an error or warning\n             message will be displayed in the notes area; you should\n-            then correct the error and click <b>OK</b> again.</p>\n+            then correct the error and click <strong>OK</strong> again.\n           </li>\n \n           <li>\n-            <p>Back in the main Sensor Table, you can then see the\n-            current status of the Sensor.</p>\n+            You will then see the current status of the sensor (or sensors) in the main Sensor Table pane.\n           </li>\n         </ol>\n         \n-        <h3>Sensor Groups</h3>\n-        <p>A group of sensors of which at most one can be active.\n-        When a member of the group becomes active, all others are set to inactive.</p>\n+        <p>For additional information about working with the Sensor Table,\n+        <a href=\"../../package/jmri/jmrit/beantable/SensorTable.shtml\">click here.</a>\n+\n+        <h3>Sensor Table Controls</h3>\n+\n+        <p>Below the table are check boxes to display additional columns with sensor control information.</p>\n+\n+        <p>The <strong>Defaults</strong> pulldown menu allows you to set two system-wide\n+        settings:</p>\n+\n+        <ul>\n+          <li><a href=\"#Debounce\">Global Debounce Delay</a></li>\n+\n+          <li>Initial Sensor State (for Internal Sensors only): lets you choose what state Internal Sensors (system name beginning with\n+       \"IS\") will display after JMRI startup. [Note that the initial state of other sensors cannot be set directly by JMRI, \n+       although you can use a <a href=\"scripting/index.shtml\">script</a> to set them.</li>\n+        </ul>\n+        \n+        <h2>Sensor Groups</h2>\n         \n-        <p>Sensor Groups are configured via the <a \n-            href=\"../../package/jmri/jmrit/sensorgroup/SensorGroupFrame.shtml\"\n-            >Sensor Group Tool</a>.</p>\n+        <p>A Sensor Group is a group of sensors of which at most one can be active at a time.  When one member of the group\n+        becomes active, all others are set to inactive.</p>\n+        \n+        <p>Sensor Groups are configured via the <a href=\"../../package/jmri/jmrit/sensorgroup/SensorGroupFrame.shtml\">\n+        Sensor Group Tool</a>.</p>\n+            \n+        <h2><a name=\"Debounce\" id=\"Debounce\"></a>Sensor Debounce Delay</h2>\n+\n+        <p>The Sensor Debounce Delay facility is there to help prevent", "originalCommit": "b21f14314715462811a9d21ba3452d105a583a77", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjgxNTA5NA==", "url": "https://github.com/JMRI/JMRI/pull/9012#discussion_r486815094", "bodyText": "This seems to remove the graphic that was mentioned just above.", "author": "bobjacobsen", "createdAt": "2020-09-11T07:03:08Z", "path": "help/en/package/jmri/jmrit/beantable/SensorTable.shtml", "diffHunk": "@@ -29,39 +30,43 @@\n       <img src=\"images/SensorTableColumnList.jpg\" alt=\"Sensor Table Columns (Rel 4.20)\" align=\"right\" height=\"260\" width=\"180\">\n       Contents of the Sensor Table are displayed by selecting it under <strong>Tools&rArr;Tables</strong>.\n       As with all JMRI tool tables, you can add or remove columns from the display by right-clicking anywhere\n-      in the column header and selecting or deselecting the desired columns from the menu that appears (see picture at right).\n+      in the column header and selecting or deselecting the desired columns from the menu that appears (see picture at right;\n+      some columns can also be selected by checkboxes at bottom of the main Sensor Table window).\n       You can change the order of the columns by dragging their titles, change the width of columns by dragging the vertical line\n       between columns, and sort the rows by clicking the column title (a triangle will appear indicating the direction of the sort).\n-      \n-      <br>\n-      <img src=\"images/SensorTableGraphic.png\" height=\"187\" width=\"307\" align=\"right\" alt=\"Graphic Sensor state column\">", "originalCommit": "b21f14314715462811a9d21ba3452d105a583a77", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjgxNzA1Nw==", "url": "https://github.com/JMRI/JMRI/pull/9012#discussion_r486817057", "bodyText": "I'm not sure what \"command line\" means here.  Isn't it just that there's a Defaults menu on th window?", "author": "bobjacobsen", "createdAt": "2020-09-11T07:07:36Z", "path": "help/en/package/jmri/jmrit/beantable/SensorTable.shtml", "diffHunk": "@@ -88,43 +93,106 @@\n           system waits before registering the state change of a\n           Sensor to either state.  See <a href=\"#Debounce\">Sensor Debounce Delay</a> below.\n         </dd>\n+\n+        <dt><strong>Pull-Up/-Down</strong></dt>\n+\n+        <dd>Some hardware connections (such as <a href=\"../../../../html/hardware/XBee/index.shtml\">Digi XBee</a>) allow the user to choose whether\n+        sensor inputs are set by that hardware as electrically \"pulled down (low)\" or \"pulled up (high)\" or neither. If you are using such a connection\n+        and want JMRI to tell the hardware to set its pull up/pull down, select <strong>Edit</strong> to set this field. If your hardware doesn't have\n+        this capability (or you don't know), leave the default (<strong>No Pull-up/Pull-down</strong>).  More information may be available in help pages\n+        for specific <a href=\"../../../../html/hardware/index.shtml\">hardware</a> or on manufacturers' web sites.\n+        </dd>\n       </dl>\n+\n+\n+      <h3>Button Columns</h3>\n+       \n+      <dl>\n+        <dt><strong>Delete</strong></dt>\n+\n+        <dd>\n+          Pushing the \"Delete\" button will remove the Sensor from\n+          the table.\n+          <br>Note that this doesn't remove the Sensor from any\n+          files you've saved that contain it. If you load one of\n+          those files, perhaps when you restart the program, the\n+          Sensor will reappear. You should use one of the \"Store to\n+          file\" options in the \"File\" menu to save new versions of\n+          any files that contain this Sensor.\n+        </dd>\n+\n+        <dt><strong>Edit</strong></dt>\n+\n+        <dd>\n+          Pushing the \"Edit\" button will bring up an edit window where you can change any of the information\n+          about this particular sensor. Clicking \"Apply\" or \"Ok\" save this information as long as JMRI remains\n+          open.  You must use one of the \"Store to file\" options in the \"File\" menu to save this new information\n+          in a file to be used after JMRI is closed.\n+        </dd>\n+\n+        <dt><strong>Query</strong></dt>\n+\n+        <dd>\n+          Pushing the \"Query\" button will query the hardware \"known state\" and put that in the \n+          Sensor state column.         \n+        </dd>\n+\n+        <dt><strong>Forget</strong></dt>\n+\n+        <dd>\n+          Pushing the \"Forget\" button will reset the Sensor state to \"Unknown.\"\n+        </dd>\n+\n+\n+\n+      </dl>  \n+\n       \n-      <h2>Sensor Table Controls</h2>\n-      <p>Along the bottom of the Sensor Table pane are buttons and checkboxes\n-      that control its operation.</p>\n+      <h3>Sensor Table Display Controls</h3>\n+      <p>Along the bottom of the Sensor Table pane are buttons and checkboxes that control the display of\n+      the indicated columns.  Note that the display of these columns can also be changed by right-clicking \n+      on the column headers and selecting or deselecting columns.\n+      </p>\n \n       <dl>\n-        <dt>Add...</dt>\n+        <dt><strong>Add...</strong></dt>\n \n-        <dd>Push this button to add a new Sensor. For more\n-        information see <a href=\n-        \"SensorAddEdit.shtml\">Adding/Editing Sensors</a>.</dd>\n+        <dd>A window to add a new Sensor will open when you press this button. For more information see \n+        <a href=\"SensorAddEdit.shtml\">Adding/Editing Sensors</a>.</dd>\n \n-        <dt>Show Debounce Delay Information</dt>\n+        <dt><strong>Show Debounce Delay Information</strong></dt>\n \n         <dd>When checked, the optional <a href=\n         \"#Debounce\">Delay</a> columns are shown.</dd>\n \n-        <dt>Show Pull-Up/-Down Information</dt>\n-\n-        <dd>When checked, the optional <a href=\n-        \"SensorAddEdit.shtml#pullup\">Pull-Up/-Down</a> columns are shown.</dd>\n+        <dt><strong>Show Pull-Up/Down Information</strong></dt>\n \n-        <dt>Show State Query actions</dt>\n+        <dd>When checked, the optional <a href=\"SensorAddEdit.shtml#pullup\">Pull-Up/Down</a> columns are shown.</dd>\n \n-        <dd>When checked, an optional Sensor State \"Query\" and \"Forget\"\n-        button is shown for each Sensor.</dd>\n+        <dt><strong>Show State Query actions</strong></dt>\n \n-        <dt>Defaults menu</dt>\n+        <dd>When checked, an optional Sensor State \"Query\" and \"Forget\" button is shown for each Sensor.</dd>\n+        \n+       </dl>\n \n-        <dd><p>The \"<a href=\"#Debounce\">Global Debounce Delays...</a>\" menu\n-        lets item you configure default values for both delays.</p>\n-        <p>The \"Initial Sensor State\" menu item lets you choose what state\n-        Internal Sensors will display after startup.</p>\n-        </dd>\n+       <p>The word <strong>Defaults</Strong> appears on the window's command line.  Clicking it brings up two options:       ", "originalCommit": "b21f14314715462811a9d21ba3452d105a583a77", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "815ed323fdcea09a522cb0ec202f2b7bbe562530", "url": "https://github.com/JMRI/JMRI/commit/815ed323fdcea09a522cb0ec202f2b7bbe562530", "message": "Update Sensors.shtml\n\nChanges based on reviewer comments.", "committedDate": "2020-09-13T00:23:47Z", "type": "commit"}, {"oid": "91da47682ab796dc7cc2332dd22e94e9a18a931a", "url": "https://github.com/JMRI/JMRI/commit/91da47682ab796dc7cc2332dd22e94e9a18a931a", "message": "Update SensorTable.shtml\n\nChanges based on reviewer comments.", "committedDate": "2020-09-13T00:38:21Z", "type": "commit"}]}