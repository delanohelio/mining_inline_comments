{"pr_number": 8091, "pr_title": "Use ID Tag UserNames in Block / Memory Tables", "pr_createdAt": "2020-02-08T15:08:45Z", "pr_url": "https://github.com/JMRI/JMRI/pull/8091", "timeline": [{"oid": "8198be4500017523b27a9047a8a85296ef6affa3", "url": "https://github.com/JMRI/JMRI/commit/8198be4500017523b27a9047a8a85296ef6affa3", "message": "Use ID Tag UserNames in Block / Memory Tables\n\nID Tag Table attempts to use Reporter UserName\nFixes possible deference in IDTagTable", "committedDate": "2020-02-08T15:04:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcyMTU3MQ==", "url": "https://github.com/JMRI/JMRI/pull/8091#discussion_r376721571", "bodyText": "Don't say \"attempts\" here, just say the IDTags table uses the Reporter user name for location if it is available (and similarly for the line above).", "author": "pabender", "createdAt": "2020-02-08T17:14:13Z", "path": "help/en/releasenotes/current-draft-note.shtml", "diffHunk": "@@ -431,7 +431,8 @@\n     <h3>Turnouts, Lights, Sensors and other elements</h3>\n         <a id=\"TLae\" name=\"TLae\"></a>\n         <ul>\n-            <li></li>\n+            <li>The Block Table and Memory Table attempt to use UserName for Reportable objects ( eg. ID Tags )</li>\n+            <li>ID Tag Table attempts to use Reporter UserName for Location</li>", "originalCommit": "8198be4500017523b27a9047a8a85296ef6affa3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcyMTc4Nw==", "url": "https://github.com/JMRI/JMRI/pull/8091#discussion_r376721787", "bodyText": "Since we know the object is a Bean, shouldn't we use getDisplayName instead of toString?", "author": "pabender", "createdAt": "2020-02-08T17:18:01Z", "path": "java/src/jmri/jmrit/beantable/BlockTableAction.java", "diffHunk": "@@ -139,7 +139,12 @@ public String getValue(String name) {\n                 }\n                 Object m = b.getValue();\n                 if (m != null) {\n-                    return m.toString();\n+                    if ( m instanceof jmri.Reportable) {\n+                        return ((jmri.Reportable) m).toReportString();\n+                    }\n+                    else {\n+                        return m.toString();", "originalCommit": "8198be4500017523b27a9047a8a85296ef6affa3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcyMTk5MQ==", "url": "https://github.com/JMRI/JMRI/pull/8091#discussion_r376721991", "bodyText": "OH wait, I forgot that Blocks can contain other objects, like strings... so getDisplayName could be applied for beans, but it isn't always applicable", "author": "pabender", "createdAt": "2020-02-08T17:22:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcyMTc4Nw=="}], "type": "inlineReview"}, {"oid": "37c6b7dce1938c1a8bbd63251e8fcf7b96d71c50", "url": "https://github.com/JMRI/JMRI/commit/37c6b7dce1938c1a8bbd63251e8fcf7b96d71c50", "message": "Update current-draft-note.shtml", "committedDate": "2020-02-09T03:57:41Z", "type": "commit"}]}