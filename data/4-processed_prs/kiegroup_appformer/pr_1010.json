{"pr_number": 1010, "pr_title": "AF-2582 : Package list dropdown should load faster", "pr_createdAt": "2020-07-24T10:05:32Z", "pr_url": "https://github.com/kiegroup/appformer/pull/1010", "timeline": [{"oid": "a7198d619ba0fab4b0b10164b8d57db495307731", "url": "https://github.com/kiegroup/appformer/commit/a7198d619ba0fab4b0b10164b8d57db495307731", "message": "temp", "committedDate": "2020-07-29T09:20:31Z", "type": "forcePushed"}, {"oid": "750f058a724ba2804c11eb722edd164d7863d0f2", "url": "https://github.com/kiegroup/appformer/commit/750f058a724ba2804c11eb722edd164d7863d0f2", "message": "fix issues with new packages", "committedDate": "2020-07-30T14:41:14Z", "type": "forcePushed"}, {"oid": "811e7e3fa8d4cab5a0064a4ba6760603d4fe6269", "url": "https://github.com/kiegroup/appformer/commit/811e7e3fa8d4cab5a0064a4ba6760603d4fe6269", "message": "fix issues with new packages", "committedDate": "2020-07-31T06:01:58Z", "type": "forcePushed"}, {"oid": "79f28625def54ef231148697abfed3dbaede5cfe", "url": "https://github.com/kiegroup/appformer/commit/79f28625def54ef231148697abfed3dbaede5cfe", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-08-05T09:46:04Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466181958", "bodyText": "This test seems to be never started.\nhttps://rhba-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/KIE/job/master/job/pullrequest/job/new-PR-appformer-master.pullrequests/60/testReport/\nAlso locally running mvn clean install for uberfire-metadata-commons-io module doesn't start the test.", "author": "jomarko", "createdAt": "2020-08-06T06:49:39Z", "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "originalCommit": "79f28625def54ef231148697abfed3dbaede5cfe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjIzMTY3NA==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466231674", "bodyText": "Taking a look.", "author": "Rikkola", "createdAt": "2020-08-06T08:23:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODM3NA==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466298374", "bodyText": "Yep the entire uberfire-metadata-commons-io is skipped. Wondering why.", "author": "Rikkola", "createdAt": "2020-08-06T09:50:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODk2Mw==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466298963", "bodyText": "@ederign Do you know or know someone who knows why the tests are not running on this area?", "author": "Rikkola", "createdAt": "2020-08-06T09:51:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNDIxOA==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466604218", "bodyText": "I think it was disabled since the complexity for preparing indexing environments for tests, but I'm not totally sure", "author": "adrielparedes", "createdAt": "2020-08-06T18:25:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MjE0Ng==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466182146", "bodyText": "Using such block inside a test is quite new for me. Could you please explain?", "author": "jomarko", "createdAt": "2020-08-06T06:50:03Z", "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {\n+\n+    @Override\n+    protected String[] getRepositoryNames() {\n+        return new String[]{\"temp-repo-test\"};\n+    }\n+\n+    @Test\n+    public void testIndex() {\n+\n+        {\n+            final Path file = ioService().get(\"git://temp-repo-test/xxx/.keep\");\n+            ioService().write(file,\n+                              \"\");\n+        }", "originalCommit": "79f28625def54ef231148697abfed3dbaede5cfe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjIzMjE5OQ==", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466232199", "bodyText": "This block trend is popular in index related tests. I think I'll change to a method here, since this setup is a lot more simple than the other tests.", "author": "Rikkola", "createdAt": "2020-08-06T08:24:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MjE0Ng=="}], "type": "inlineReview"}, {"oid": "36c88c812c7f35c3358021b5f41b4f4ab5f58161", "url": "https://github.com/kiegroup/appformer/commit/36c88c812c7f35c3358021b5f41b4f4ab5f58161", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-08-06T16:04:48Z", "type": "forcePushed"}, {"oid": "011ef72224c44055d524a9b2fe0ea99e679a2fe4", "url": "https://github.com/kiegroup/appformer/commit/011ef72224c44055d524a9b2fe0ea99e679a2fe4", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-08-07T05:31:39Z", "type": "forcePushed"}, {"oid": "a9cac0623a5867f663fb03ff06dba31b85c09e8e", "url": "https://github.com/kiegroup/appformer/commit/a9cac0623a5867f663fb03ff06dba31b85c09e8e", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-08-31T06:25:33Z", "type": "forcePushed"}, {"oid": "363d33f2c5066b55eaa432ffec0636590ee5173e", "url": "https://github.com/kiegroup/appformer/commit/363d33f2c5066b55eaa432ffec0636590ee5173e", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-09-04T09:14:50Z", "type": "forcePushed"}, {"oid": "752ecdead6b54e73b303e27c5e93e45dff708848", "url": "https://github.com/kiegroup/appformer/commit/752ecdead6b54e73b303e27c5e93e45dff708848", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-09-21T14:26:01Z", "type": "commit"}, {"oid": "752ecdead6b54e73b303e27c5e93e45dff708848", "url": "https://github.com/kiegroup/appformer/commit/752ecdead6b54e73b303e27c5e93e45dff708848", "message": "AF-2582 : Package list dropdown should load faster", "committedDate": "2020-09-21T14:26:01Z", "type": "forcePushed"}]}