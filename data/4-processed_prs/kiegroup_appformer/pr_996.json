{"pr_number": 996, "pr_title": "AF-2552 : [Data Modeler] Cannot save file if it was moved from other package", "pr_createdAt": "2020-06-30T18:13:25Z", "pr_url": "https://github.com/kiegroup/appformer/pull/996", "timeline": [{"oid": "ae8c07bc9c9b2e1ba3dedfc95b41f4f1be02cd6d", "url": "https://github.com/kiegroup/appformer/commit/ae8c07bc9c9b2e1ba3dedfc95b41f4f1be02cd6d", "message": "AF-2552 : [Data Modeler] Cannot save file if it was moved from other package", "committedDate": "2020-07-15T09:53:21Z", "type": "commit"}, {"oid": "ae8c07bc9c9b2e1ba3dedfc95b41f4f1be02cd6d", "url": "https://github.com/kiegroup/appformer/commit/ae8c07bc9c9b2e1ba3dedfc95b41f4f1be02cd6d", "message": "AF-2552 : [Data Modeler] Cannot save file if it was moved from other package", "committedDate": "2020-07-15T09:53:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk5ODU0OA==", "url": "https://github.com/kiegroup/appformer/pull/996#discussion_r455998548", "bodyText": "Can you please explain the reason of this change?", "author": "caponetto", "createdAt": "2020-07-16T18:46:49Z", "path": "uberfire-api/src/main/java/org/uberfire/backend/vfs/impl/ObservablePathImpl.java", "diffHunk": "@@ -246,8 +246,8 @@ void onResourceBatchEvent(@Observes final ResourceBatchChangesEvent batchEvent)\n                             executeDeleteCommands();\n                             break;\n                         case RENAME:\n-                            executeRenameCommands();\n                             path = ((ResourceRenamed) change).getDestinationPath();\n+                            executeRenameCommands();", "originalCommit": "ae8c07bc9c9b2e1ba3dedfc95b41f4f1be02cd6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjI1NzYzNQ==", "url": "https://github.com/kiegroup/appformer/pull/996#discussion_r456257635", "bodyText": "Hi @caponetto , Thanks for the review comments.\nWhen executeRenameCommands() method executes the base editor needs to reload and should init the VersionRecordManager with the updated path (destination path). Earlier, executeRenameCommands() method used to execute first and path gets updated later. This would throw an exception in the backend when we reload the editor content with an older path. This change would update the ObservablePathImpl's path field before executing the method.", "author": "akumar074", "createdAt": "2020-07-17T07:04:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk5ODU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM5MjQwMw==", "url": "https://github.com/kiegroup/appformer/pull/996#discussion_r456392403", "bodyText": "Thanks for the clarification, @akumar074!", "author": "caponetto", "createdAt": "2020-07-17T11:48:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk5ODU0OA=="}], "type": "inlineReview"}]}