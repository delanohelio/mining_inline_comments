{"pr_number": 242, "pr_title": "BLUEBUTTON-1788: Add Outpatient Data and Tests", "pr_createdAt": "2020-03-11T12:22:55Z", "pr_url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "1f41a071051cbc0362e9ea5694e8a356cb1e6616", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/1f41a071051cbc0362e9ea5694e8a356cb1e6616", "message": "Add Outpatient Data and Tests\n\n- Point to a new synthetic set 2020-02-27-add-outpatient\n- New tests for the data\n- Fixed addAddCareTeamPractitioner\n- New synthetic RIF file enumerations", "committedDate": "2020-03-11T12:45:05Z", "type": "commit"}, {"oid": "1f41a071051cbc0362e9ea5694e8a356cb1e6616", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/1f41a071051cbc0362e9ea5694e8a356cb1e6616", "message": "Add Outpatient Data and Tests\n\n- Point to a new synthetic set 2020-02-27-add-outpatient\n- New tests for the data\n- Fixed addAddCareTeamPractitioner\n- New synthetic RIF file enumerations", "committedDate": "2020-03-11T12:45:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkzOTQxMQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#discussion_r390939411", "bodyText": "Previously, this statement would only consider NPI number. This would prevent the same NPI from being used for different roles.", "author": "RickHawesUSDS", "createdAt": "2020-03-11T12:35:59Z", "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/stu3/providers/TransformerUtils.java", "diffHunk": "@@ -308,6 +308,13 @@ static CareTeamComponent addCareTeamPractitioner(\n                 ctc ->\n                     practitionerIdSystem.equals(ctc.getProvider().getIdentifier().getSystem())\n                         && practitionerIdValue.equals(ctc.getProvider().getIdentifier().getValue()))\n+            .filter(ctc -> ctc.hasRole())", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkzOTk4OA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#discussion_r390939988", "bodyText": "This assertion only worked on SAMPLE_A.", "author": "RickHawesUSDS", "createdAt": "2020-03-11T12:37:07Z", "path": "apps/bfd-server/bfd-server-war/src/test/java/gov/cms/bfd/server/war/stu3/providers/OutpatientClaimTransformerTest.java", "diffHunk": "@@ -106,21 +135,25 @@ static void assertMatches(OutpatientClaim claim, ExplanationOfBenefit eob) throw\n         claim.getPrimaryPayerPaidAmount(),\n         claim.getFiscalIntermediaryNumber());\n \n-    Assert.assertEquals(5, eob.getDiagnosis().size());\n+    Assert.assertEquals(countDiagnosisCodes(claim), eob.getDiagnosis().size());\n ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk0MDU2NA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#discussion_r390940564", "bodyText": "Adding Care team role for this find.", "author": "RickHawesUSDS", "createdAt": "2020-03-11T12:38:12Z", "path": "apps/bfd-server/bfd-server-war/src/test/java/gov/cms/bfd/server/war/stu3/providers/TransformerTestUtils.java", "diffHunk": "@@ -334,7 +334,10 @@ static void assertCareTeamEquals(\n       ExplanationOfBenefit eob) {\n     CareTeamComponent careTeamEntry =\n         findCareTeamEntryForProviderIdentifier(\n-            TransformerConstants.CODING_NPI_US, expectedPractitioner, eob.getCareTeam());\n+            TransformerConstants.CODING_NPI_US,\n+            expectedPractitioner,\n+            expectedCareTeamRole,\n+            eob.getCareTeam());", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}