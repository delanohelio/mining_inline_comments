{"pr_number": 313, "pr_title": "dshekhar/BFD-264-v2_Patient_RFC", "pr_createdAt": "2020-07-16T03:27:35Z", "pr_url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313", "timeline": [{"oid": "2055833b12aac07d88a18b67424f085aab551f71", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/2055833b12aac07d88a18b67424f085aab551f71", "message": "Create Patient RFC.md", "committedDate": "2020-07-16T03:13:50Z", "type": "commit"}, {"oid": "d43400f4620a61d4ad47631c7a62ed64ea3d5bc9", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/d43400f4620a61d4ad47631c7a62ed64ea3d5bc9", "message": "Add files via upload", "committedDate": "2020-07-16T03:15:21Z", "type": "commit"}, {"oid": "d4dbc4a06cf6004ac896f5cbda331ee8bc2c8c0a", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/d4dbc4a06cf6004ac896f5cbda331ee8bc2c8c0a", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T03:17:25Z", "type": "commit"}, {"oid": "ee4ec330d3f74da442af7205420f0977d23ac044", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/ee4ec330d3f74da442af7205420f0977d23ac044", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T03:18:56Z", "type": "commit"}, {"oid": "9ffd14728fc8ff901e0ac1740c189625310087f2", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9ffd14728fc8ff901e0ac1740c189625310087f2", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T03:36:13Z", "type": "commit"}, {"oid": "cdaadc5ae44729ed7e19c4150ed6c9e770c348ac", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/cdaadc5ae44729ed7e19c4150ed6c9e770c348ac", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T03:38:07Z", "type": "commit"}, {"oid": "7ce9d5b1df4962cf00f0b4c64c9cc34647ea304e", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/7ce9d5b1df4962cf00f0b4c64c9cc34647ea304e", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T04:31:15Z", "type": "commit"}, {"oid": "9c475fb9887204fb69c909fe650101c4d553b67a", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9c475fb9887204fb69c909fe650101c4d553b67a", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T13:41:33Z", "type": "commit"}, {"oid": "188e8584e1353387ee072a3eba6205094d71abc7", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/188e8584e1353387ee072a3eba6205094d71abc7", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T13:50:44Z", "type": "commit"}, {"oid": "9616d8bfd1257af0a7e7b7fdd2c9238694759ac9", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9616d8bfd1257af0a7e7b7fdd2c9238694759ac9", "message": "Update Patient RFC.md", "committedDate": "2020-07-16T13:59:44Z", "type": "commit"}, {"oid": "6e6e6719bdd9db1374398d7d728a409be1e6000f", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/6e6e6719bdd9db1374398d7d728a409be1e6000f", "message": "Update Patient RFC.md", "committedDate": "2020-07-17T21:16:16Z", "type": "commit"}, {"oid": "8dd65da0e713906b1cf488f114ef8dfc856077f0", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/8dd65da0e713906b1cf488f114ef8dfc856077f0", "message": "Update Patient RFC.md", "committedDate": "2020-07-17T21:22:31Z", "type": "commit"}, {"oid": "fe631f2835c8d9e9de67d47c875f2306a7c54aae", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/fe631f2835c8d9e9de67d47c875f2306a7c54aae", "message": "Update BFD_v2_Patient-Future_State.txt", "committedDate": "2020-07-23T13:30:44Z", "type": "commit"}, {"oid": "67db72dca490103cab5646e184a00108bb210e26", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/67db72dca490103cab5646e184a00108bb210e26", "message": "Delete Differential_view_Patientv2_1.PNG", "committedDate": "2020-07-23T13:56:32Z", "type": "commit"}, {"oid": "9af29ba1e6d37644da6a44901e0634337b14f74c", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9af29ba1e6d37644da6a44901e0634337b14f74c", "message": "Add files via upload", "committedDate": "2020-07-23T13:58:24Z", "type": "commit"}, {"oid": "6c149f7f63e3038781856dfdbab5f302b5cab392", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/6c149f7f63e3038781856dfdbab5f302b5cab392", "message": "Merge branch 'master' into dshekhar/BFD-264-v2_Patient_RFC", "committedDate": "2020-07-23T17:58:53Z", "type": "commit"}, {"oid": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "message": "Merge branch 'master' into dshekhar/BFD-264-v2_Patient_RFC", "committedDate": "2020-07-28T21:37:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcxNTY0MA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463715640", "bodyText": "Minor suggestions:\n\nI'd rename the file to .json to help out IDEs.\nI'd stick with the existing \"dagger naming\" for files, e.g. this-is-a-file.ext.\nPlease stick with the suggested layout & naming for RFCs, e.g. rfcs/000?-bfd-v2-patient.md. I'd name your supplemental files similarly, like this: rfcs/000?-bfd-v2-patient/patient-v1.json, rfcs/000?-bfd-v2-patient/patient-v1.json, etc.\n\nNote the \"?\" in the RFC IDs there: I'm not sure how you want to order your various RFCs, so I can't say what number to use.", "author": "karlmdavis", "createdAt": "2020-07-31T16:40:54Z", "path": "rfcs/BFDv2/BFD_v1_Patient-Current_State.txt", "diffHunk": "@@ -0,0 +1,134 @@\n+{", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNDI2Mw==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r479804263", "bodyText": "@karlmdavis  Thanks for the feedback. Comments incorporated.", "author": "dshekhar18", "createdAt": "2020-08-30T19:02:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcxNTY0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcxNTkwMw==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463715903", "bodyText": "Minor: please see my other comment on file naming.", "author": "karlmdavis", "createdAt": "2020-07-31T16:41:25Z", "path": "rfcs/BFDv2/BFD_v2_Patient-Future_State.txt", "diffHunk": "@@ -0,0 +1,172 @@\n+{", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcxOTMxNg==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463719316", "bodyText": "Please replace the \"differential view\" PNG files with diff/patch files. On a Unixy command line, you can do that like this (update file names to match yours, of course):\ndiff rfcs/000?-bfd-v2-patient/patient-v1.json rfcs/000?-bfd-v2-patient/patient-v2.json > rfcs/000?-bfd-v2-patient/patient-v1-to-v2.diff\n\nYou can view the output in the rfcs/000?-bfd-v2-patient/patient-v1-to-v2.diff file that will be created. The lines prefixed with \"+\" were lines that were added, going from the first file to the second, and lines prefixed with a \"-\" were removed going from the first file to the second. Everything else is context & metadata.", "author": "karlmdavis", "createdAt": "2020-07-31T16:48:45Z", "path": "rfcs/BFDv2/BFD_v2_Patient-Future_State.txt", "diffHunk": "@@ -0,0 +1,172 @@\n+{", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTkyOA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r479811928", "bodyText": "Implemented.", "author": "dshekhar18", "createdAt": "2020-08-30T20:25:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcxOTMxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyMTYyMg==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463721622", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n          \n          \n            \n            * RFC Proposal ID: `0000-bfd-v2-patient`", "author": "karlmdavis", "createdAt": "2020-07-31T16:53:45Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNDM3MA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r479804370", "bodyText": "@karlmdavis Done deal. Thanks!", "author": "dshekhar18", "createdAt": "2020-08-30T19:03:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyMTYyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyMTc0MQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463721741", "bodyText": "Minor: please see my other comment on file naming.", "author": "karlmdavis", "createdAt": "2020-07-31T16:54:01Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyMjM0Mg==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463722342", "bodyText": "Very minor, but I always suggest strongly that folks stick with ISO-8601 date & time formats, to avoid ambiguity.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Start Date: 08-03-2020\n          \n          \n            \n            * Start Date: 2020-08-03", "author": "karlmdavis", "createdAt": "2020-07-31T16:55:14Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTk1MA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r479811950", "bodyText": "Done.", "author": "dshekhar18", "createdAt": "2020-08-30T20:25:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyMjM0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyNzQ2NQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463727465", "bodyText": "Are you sure this is the correct system? It seems to be for Identifier.type, instead of Coding.system. Apologies if I'm reading it wrong.", "author": "karlmdavis", "createdAt": "2020-07-31T17:06:01Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyNzk1OA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463727958", "bodyText": "See above: note sure this is the correct Coding.system.", "author": "karlmdavis", "createdAt": "2020-07-31T17:07:12Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwODA3NQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r479808075", "bodyText": "This has been updated with new identifier systems provided by CARIN:\nhttp://build.fhir.org/ig/HL7/carin-bb/CodeSystem-IdentifierTypeCS.html", "author": "dshekhar18", "createdAt": "2020-08-30T19:43:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyNzk1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcyOTg3Ng==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463729876", "bodyText": "I'd use Markdown's table formatting here.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Code\t\tDisplay  \n          \n          \n            \n            MR\t\tMedical record number  \n          \n          \n            \n            MA\t\tPatient Medicaid number  \n          \n          \n            \n            PI\t\tPatient internal identifier  \n          \n          \n            \n            PT\t\tPatient external identifier  \n          \n          \n            \n            SN\t\tSubscriber Number  \n          \n          \n            \n            |Code|Display|\n          \n          \n            \n            |-|-|\n          \n          \n            \n            |MR|Medical record number|\n          \n          \n            \n            |MA|Patient Medicaid number|\n          \n          \n            \n            |PI|Patient internal identifier|\n          \n          \n            \n            |PT|Patient external identifier|\n          \n          \n            \n            |SN|Subscriber Number|", "author": "karlmdavis", "createdAt": "2020-07-31T17:11:23Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient's Medicare Number\");\n+\n+**Below are the payload changes being proposed in Patient resource:**\n+\n+\n+#### Changes:\n+\n+##### Slicing:\n+\n+Current State: No Slicing.\n+\n+Future State: The element Patient.identifier is sliced based on the values of value:type, value:system.\n+\n+Slicing Implementation: POC code above. Slicing codes are used from the below list:\n+\n+Code\t\tDisplay  \n+MR\t\tMedical record number  \n+MA\t\tPatient Medicaid number  \n+PI\t\tPatient internal identifier  \n+PT\t\tPatient external identifier  \n+SN\t\tSubscriber Number  ", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzczMDEyOA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463730128", "bodyText": "If you want this reviewed now, this seems incomplete: you should state how it would be derived/mapped.", "author": "karlmdavis", "createdAt": "2020-07-31T17:11:56Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient's Medicare Number\");\n+\n+**Below are the payload changes being proposed in Patient resource:**\n+\n+\n+#### Changes:\n+\n+##### Slicing:\n+\n+Current State: No Slicing.\n+\n+Future State: The element Patient.identifier is sliced based on the values of value:type, value:system.\n+\n+Slicing Implementation: POC code above. Slicing codes are used from the below list:\n+\n+Code\t\tDisplay  \n+MR\t\tMedical record number  \n+MA\t\tPatient Medicaid number  \n+PI\t\tPatient internal identifier  \n+PT\t\tPatient external identifier  \n+SN\t\tSubscriber Number  \n+ \n+\n+##### Extensions/Code System Changes:\n+\n+Race:\n+ \n+HL7 FHIR extension for Race used by US-Core and CARIN.", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzczMDQ3OQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463730479", "bodyText": "If you want this reviewed now, this seems incomplete: you should state how it would be derived/mapped.", "author": "karlmdavis", "createdAt": "2020-07-31T17:12:44Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient's Medicare Number\");\n+\n+**Below are the payload changes being proposed in Patient resource:**\n+\n+\n+#### Changes:\n+\n+##### Slicing:\n+\n+Current State: No Slicing.\n+\n+Future State: The element Patient.identifier is sliced based on the values of value:type, value:system.\n+\n+Slicing Implementation: POC code above. Slicing codes are used from the below list:\n+\n+Code\t\tDisplay  \n+MR\t\tMedical record number  \n+MA\t\tPatient Medicaid number  \n+PI\t\tPatient internal identifier  \n+PT\t\tPatient external identifier  \n+SN\t\tSubscriber Number  \n+ \n+\n+##### Extensions/Code System Changes:\n+\n+Race:\n+ \n+HL7 FHIR extension for Race used by US-Core and CARIN.\n+\n+##### Patient.Active field \n+\n+Type boolean", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzczMTA4Nw==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463731087", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\u2022\tChange value set from http://hl7.org/fhir/ValueSet/administrative-gender to http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1\n          \n          \n            \n            * Change value set from http://hl7.org/fhir/ValueSet/administrative-gender to http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1", "author": "karlmdavis", "createdAt": "2020-07-31T17:14:07Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient's Medicare Number\");\n+\n+**Below are the payload changes being proposed in Patient resource:**\n+\n+\n+#### Changes:\n+\n+##### Slicing:\n+\n+Current State: No Slicing.\n+\n+Future State: The element Patient.identifier is sliced based on the values of value:type, value:system.\n+\n+Slicing Implementation: POC code above. Slicing codes are used from the below list:\n+\n+Code\t\tDisplay  \n+MR\t\tMedical record number  \n+MA\t\tPatient Medicaid number  \n+PI\t\tPatient internal identifier  \n+PT\t\tPatient external identifier  \n+SN\t\tSubscriber Number  \n+ \n+\n+##### Extensions/Code System Changes:\n+\n+Race:\n+ \n+HL7 FHIR extension for Race used by US-Core and CARIN.\n+\n+##### Patient.Active field \n+\n+Type boolean\n+\n+##### MANDATORY New Fields to be Added:\n+None as part of FHIR-R4 Spec. But CARIN mandates some mandatory Patient fields:  \n+\n+\u2022\tIdentifier  \n+\u2022\tName  \n+\u2022\tGender  \n+\n+##### Cardinality Rule Changes (From STU3 to R4)\n+NONE.\n+\n+##### Renamed Items:\n+NONE.\n+\n+##### Deleted Elements:\n+N/A (Patient.Animal)\n+\n+\n+##### R4 Code Systems Changes:\n+\n+\n+Patient.identifier:\n+\n+\u2022\thttps://bluebutton.cms.gov/resources/variables/bene_id/  \n+\u2022\thttp://hl7.org/fhir/us/carin/ValueSet/carin-bb-identifier-type  \n+\u2022\thttp://terminology.hl7.org/CodeSystem/v2-0203  \n+\n+Patient.gender:\n+\t\u2022\tChange value set from http://hl7.org/fhir/ValueSet/administrative-gender to http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzczMTc2OQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r463731769", "bodyText": "The answer to this one really ought to be \"no, we won't include that anymore\".", "author": "karlmdavis", "createdAt": "2020-07-31T17:15:29Z", "path": "rfcs/BFDv2/Patient RFC.md", "diffHunk": "@@ -0,0 +1,250 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0000-patient-fhir-r4-carin_bfdv2`\n+* Start Date: 08-03-2020\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://terminology.hl7.org/CodeSystem/v2-0203\")\n+          .setDisplay(\"Patient's Medicare Number\");\n+\n+**Below are the payload changes being proposed in Patient resource:**\n+\n+\n+#### Changes:\n+\n+##### Slicing:\n+\n+Current State: No Slicing.\n+\n+Future State: The element Patient.identifier is sliced based on the values of value:type, value:system.\n+\n+Slicing Implementation: POC code above. Slicing codes are used from the below list:\n+\n+Code\t\tDisplay  \n+MR\t\tMedical record number  \n+MA\t\tPatient Medicaid number  \n+PI\t\tPatient internal identifier  \n+PT\t\tPatient external identifier  \n+SN\t\tSubscriber Number  \n+ \n+\n+##### Extensions/Code System Changes:\n+\n+Race:\n+ \n+HL7 FHIR extension for Race used by US-Core and CARIN.\n+\n+##### Patient.Active field \n+\n+Type boolean\n+\n+##### MANDATORY New Fields to be Added:\n+None as part of FHIR-R4 Spec. But CARIN mandates some mandatory Patient fields:  \n+\n+\u2022\tIdentifier  \n+\u2022\tName  \n+\u2022\tGender  \n+\n+##### Cardinality Rule Changes (From STU3 to R4)\n+NONE.\n+\n+##### Renamed Items:\n+NONE.\n+\n+##### Deleted Elements:\n+N/A (Patient.Animal)\n+\n+\n+##### R4 Code Systems Changes:\n+\n+\n+Patient.identifier:\n+\n+\u2022\thttps://bluebutton.cms.gov/resources/variables/bene_id/  \n+\u2022\thttp://hl7.org/fhir/us/carin/ValueSet/carin-bb-identifier-type  \n+\u2022\thttp://terminology.hl7.org/CodeSystem/v2-0203  \n+\n+Patient.gender:\n+\t\u2022\tChange value set from http://hl7.org/fhir/ValueSet/administrative-gender to http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1\n+\n+\n+\n+#### Not Supported:\n+\n+\u2022\tTelecom field - we don\u2019t send, not in CCW.  \n+\u2022\tEmail field \u2013 we don\u2019t send, not in CCW.  \n+\u2022\tEthnicity - we don\u2019t send, not in CCW.  \n+\u2022\tCommunication/Language - we don\u2019t send, not in CCW.  \n+\u2022\tContact/Next of Kin - we don\u2019t send, not in CCW.  \n+\n+#### R4 Non-Conformance Errors: \n+\n+Next issue ERROR - Patient - Unable to locate profile\n+ http://hl7.org/fhir/us/carin/StructureDefinition/carin-bb-patient\n+Next issue INFORMATION - Patient.extension[0] - Unknown extension\n+\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-race\n+\n+Next issue INFORMATION - Patient.extension[1] - Unknown extension\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity\n+\n+Next issue INFORMATION - Patient.extension[2] - Unknown extension\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex\n+\n+#### CARIN IG:\n+https://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+Summary:  \n+\u2022\tMandatory: 2 elements  \n+\u2022\tMust-Support: 1 element  \n+\n+Slices:\n+This structure defines the following Slices:  \n+\u2022\tThe element Patient.identifier is sliced based on the values of value:type, value:system\n+\n+### Current State\n+[Current State]: #current-state\n+\n+[BFD v1: Current State Patient Resource](./BFD_v1_Patient-Current_State.txt)\n+\n+### Future State\n+[Future State]: #future-state\n+\n+[BFD v2: Future State Patient Resource](./BFD_v2_Patient-Future_State.txt)\n+\n+### Differential View\n+[Differential View]: #differential-view\n+\n+[Differential_view_1](./Differential_view_Patientv2_1.PNG)\n+\n+[Differential_view_2](./Differential_view_Patientv2_2.PNG)\n+\n+\n+### Unresolved Questions\n+[Unresolved Questions]: #unresolved-questions\n+\n+\n+The following questions need to be resolved prior to merging this RFC:\n+\n+1. Hash Identifiers in Patient resource:\n+\n+Do we need to return hash identifiers? Use the identifier flag in the header to determine what to send \u2013 MBI. HICN, Hashes? We do send out BENE_ID as local patient (beneficiary) identifier (medical record number).", "originalCommit": "83cdadf2a102bbe19e257d457b2dee84eecb0cd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1776e77ffb560e6aff1501f3531f93ebb517a06e", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/1776e77ffb560e6aff1501f3531f93ebb517a06e", "message": "Updated with resolution to Product questions.", "committedDate": "2020-08-30T18:45:27Z", "type": "commit"}, {"oid": "34cbb67d5bc571e0eeb22cba1ff762dd1c3d33fd", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/34cbb67d5bc571e0eeb22cba1ff762dd1c3d33fd", "message": "Rename BFD_v1_Patient-Current_State.txt to BFD_v1_Patient-Current_State.json", "committedDate": "2020-08-30T18:49:49Z", "type": "commit"}, {"oid": "5633582f8504e2c5c52bffb80d64386b6b302a26", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/5633582f8504e2c5c52bffb80d64386b6b302a26", "message": "Rename BFD_v2_Patient-Future_State.txt to BFD_v2_Patient-Future_State.json", "committedDate": "2020-08-30T18:50:22Z", "type": "commit"}, {"oid": "a10d0222b22ce3670972bfd21236cf56960539ec", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/a10d0222b22ce3670972bfd21236cf56960539ec", "message": "Rename BFD_v1_Patient-Current_State.json to patientReadCurrentState.json", "committedDate": "2020-08-30T18:54:40Z", "type": "commit"}, {"oid": "86f7f317fa349518d7e7decaa9a56d90cff28175", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/86f7f317fa349518d7e7decaa9a56d90cff28175", "message": "Rename BFD_v2_Patient-Future_State.json to patientReadFutureState.json", "committedDate": "2020-08-30T18:56:02Z", "type": "commit"}, {"oid": "fd91fd4fd7ded2a297fcc27e74d8ddc2bdbceffe", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/fd91fd4fd7ded2a297fcc27e74d8ddc2bdbceffe", "message": "Update and rename Patient RFC.md to 0001-bfd-v2-patient.md", "committedDate": "2020-08-30T19:01:55Z", "type": "commit"}, {"oid": "6dce875216c2253a370f9a97b3a4844985d22638", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/6dce875216c2253a370f9a97b3a4844985d22638", "message": "Update 0001-bfd-v2-patient.md", "committedDate": "2020-08-30T19:08:40Z", "type": "commit"}, {"oid": "cff961f5bc51f5997d9386eb9c0b09681ea8718b", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/cff961f5bc51f5997d9386eb9c0b09681ea8718b", "message": "Update 0001-bfd-v2-patient.md", "committedDate": "2020-08-30T19:10:17Z", "type": "commit"}, {"oid": "6aa728d2ea168a236e30db4c4610d62248722851", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/6aa728d2ea168a236e30db4c4610d62248722851", "message": "Updated Race, Identifier and Active flag sections.", "committedDate": "2020-08-30T19:58:33Z", "type": "commit"}, {"oid": "2e80650522447d65be715f5b65ecb58f0fc4076f", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/2e80650522447d65be715f5b65ecb58f0fc4076f", "message": "Update 0001-bfd-v2-patient.md", "committedDate": "2020-08-30T20:14:49Z", "type": "commit"}, {"oid": "9076ad45f342bb320561df234587abbd6806cd0f", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9076ad45f342bb320561df234587abbd6806cd0f", "message": "diff view", "committedDate": "2020-08-30T20:23:06Z", "type": "commit"}, {"oid": "fe1ab41d35d99408b072994a9513dd7937d08994", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/fe1ab41d35d99408b072994a9513dd7937d08994", "message": "Diff view update", "committedDate": "2020-08-30T20:24:40Z", "type": "commit"}, {"oid": "d281c30eb37a98434d72e0a6c3bcde13df06ea20", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/d281c30eb37a98434d72e0a6c3bcde13df06ea20", "message": "Updated reference to JSON files", "committedDate": "2020-08-30T20:31:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzEyNTI1OQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r483125259", "bodyText": "What performance concerns do you have here?", "author": "jzulim", "createdAt": "2020-09-03T16:58:24Z", "path": "rfcs/BFDv2/0001-bfd-v2-patient.md", "diffHunk": "@@ -0,0 +1,275 @@\n+# RFC Proposal\n+\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0001-bfd-v2-patient`\n+* Start Date: 2020-08-03\n+* RFC PR: [BFD-264-v2_Patient_RFC #313](https://github.com/CMSgov/beneficiary-fhir-data/pull/313)\n+* JIRA Ticket(s): [BFD-264](https://jira.cms.gov/browse/BFD-264)\n+\n+\n+This RFC proposes that our team migrate from BFD v1 STU3 Patient FHIR resource to the first normative FHIR release, R4 and implement CARIN Patient profile.\n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+\t* [Detailed Design](#detailed-design)\n+\t* [Current State](#current-state)\n+\t* [Future State](#future-state)\n+\t* [Differential View](#differential-view)\n+\t* [Unresolved Questions](#unresolved-questions)\n+\t* [Drawbacks](#proposed-solution-drawbacks)\n+\t* [Notable Alternatives](#proposed-solution-notable-alternatives)\n+* [Prior Art](#prior-art)\n+* [Future Possibilities](#future-possibilities)\n+* [Addendums](#addendums)\n+\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+This change will make BFD's Patient FHIR resource increase the system's conformance with FHIR R4 and industry alliance like CARIN.\n+This will help BFD move its platform to use the first normative release of FHIR R4. This will also make integration and \n+interoperability with all our peer partners seamless by enabling to provide FHIR R4 validated and conformant Patient resources\n+(Beneficiaries demographic data).\n+\n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+\n+BFD proposes to provide a new v2 endpoint based on Patient FHRI-R4 and CARIN BB Profile. \n+\n+Sample indicative Patient v2 endpoint:  \n+https://localhost:1337/v2/fhir/Patient?_id=-19990000000001&_format=json\n+\n+\n+Patient FHIR R4 (US-Core, Normative release):  \n+http://hl7.org/fhir/R4/patient.html\n+\n+\n+CARIN Patient Profile:  \n+http://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+### Detailed Design\n+\n+[Detailed Design]: #detailed-design\n+\n+**HAPI Version to be used:** HAPI FHIR 4.1.0\n+\n+**HAPI 4.1.0 Patient Data Model class to be used:** org.hl7.fhir.r4.model.Patient\n+\n+**POC Code snippet:** \n+\n+\t// Slicing for Patient Identifier\n+      Patient patientSlicing = new Patient();\n+\n+      patientSlicing.addIdentifier().setValue(\"-20140000010000\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/variables/bene_id\").getType().addCoding()\n+          .setCode(\n+          \"PI\")\n+          .setSystem(\"http://hl7.org/fhir/us/carin-bb/CodeSystem/IdentifierTypeCS\")\n+          .setDisplay(\"Patient Internal Identifier\");\n+\n+      patientSlicing.addIdentifier()\n+          .setValue(\"-2b034220943953861f7b17963091ea962c13548f4b1d5f4c1013ee1779d621f4\")\n+          .setSystem(\"https://bluebutton.cms.gov/resources/identifier/mbi-hash\").getType()\n+          .addCoding().setCode(\"MC\").setSystem(\"http://hl7.org/fhir/us/carin-bb/CodeSystem/IdentifierTypeCS\")\n+          .setDisplay(\"Patient's Medicare Number\");\n+\n+**Below are the payload changes being proposed in Patient resource:**\n+\n+\n+#### Changes:\n+\n+##### Slicing:\n+\n+Current State: No Slicing.\n+\n+Future State: The element Patient.identifier is sliced based on the values of value:type, value:system.\n+\n+Slicing Implementation: POC code above. Slicing codes are used from the below list:\n+\n+|Code|Display|\n+|-|-|\n+|MR|Medical record number|\n+|MA|Patient Medicaid number|\n+|PI|Patient internal identifier|\n+|PT|Patient external identifier|\n+|SN|Subscriber Number|\n+ \n+\n+##### Extensions/Code System Changes:\n+\n+Race:\n+ \n+CMS/CCW Race Codes will continue to be provided. In addition US-Core OMB Race extension will also be provided. CCW Race codes will be mapped as UNK (Unknown) Race code for ALL races to support US-Core Race Code System (this may undergo change based on FINAL decision). CCW Race codes will continue to be provided to accurately reflect Race in the system.\n+\n+CMS BFD Code System URL:\n+\n+https://bluebutton.cms.gov/resources/variables/race/\n+\n+US Core Race Code Systems URL:\n+\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-race\n+\n+CCW Race Codes:\n+\n+|Code|Code value|\n+|-|-|\n+|0|UNKNOWN|\n+|1|NON-HISPANIC WHITE|\n+|2|BLACK (OR AFRICAN-AMERICAN)|\n+|3|OTHER|\n+|4|ASIAN/PACIFIC ISLANDER|\n+|5|HISPANIC|\n+|6|AMERICAN INDIAN / ALASKA NATIVE|\n+\n+##### Patient.Active field \n+\n+Type boolean\n+\n+If the patient is not deceased and has any coverage mark them active, else mark them false. We will use Death_Dt to populate this field. If deceased date is not present set Active flag to *true* else *false*.\n+\n+##### MANDATORY New Fields to be Added:\n+None as part of FHIR-R4 Spec. But CARIN mandates some mandatory Patient fields:  \n+\n+\u2022\tIdentifier  \n+\u2022\tName  \n+\u2022\tGender  \n+\n+##### Cardinality Rule Changes (From STU3 to R4)\n+NONE.\n+\n+##### Renamed Items:\n+NONE.\n+\n+##### Deleted Elements:\n+N/A (Patient.Animal)\n+\n+\n+##### R4 Code Systems Changes:\n+\n+\n+Patient.identifier:\n+\n+\u2022\thttps://bluebutton.cms.gov/resources/variables/bene_id/  \n+\u2022\thttp://hl7.org/fhir/us/carin/ValueSet/carin-bb-identifier-type  \n+\u2022\thttp://terminology.hl7.org/CodeSystem/v2-0203  \n+\n+Patient.gender:\n+\n+\t* Change value set from http://hl7.org/fhir/ValueSet/administrative-gender to http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1\n+\t\n+\n+\n+#### Not Supported:\n+\n+\u2022\tTelecom field - we don\u2019t send, not in CCW.  \n+\u2022\tEmail field \u2013 we don\u2019t send, not in CCW.  \n+\u2022\tEthnicity - we don\u2019t send, not in CCW.  \n+\u2022\tCommunication/Language - we don\u2019t send, not in CCW.  \n+\u2022\tContact/Next of Kin - we don\u2019t send, not in CCW.  \n+\n+#### R4 Non-Conformance Errors: \n+\n+Next issue ERROR - Patient - Unable to locate profile\n+ http://hl7.org/fhir/us/carin/StructureDefinition/carin-bb-patient\n+Next issue INFORMATION - Patient.extension[0] - Unknown extension\n+\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-race\n+\n+Next issue INFORMATION - Patient.extension[1] - Unknown extension\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity\n+\n+Next issue INFORMATION - Patient.extension[2] - Unknown extension\n+http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex\n+\n+#### CARIN IG:\n+https://build.fhir.org/ig/HL7/carin-bb/StructureDefinition-CARIN-BB-Patient.html\n+\n+Summary:  \n+\u2022\tMandatory: 2 elements  \n+\u2022\tMust-Support: 1 element  \n+\n+Slices:\n+This structure defines the following Slices:  \n+\u2022\tThe element Patient.identifier is sliced based on the values of value:type, value:system\n+\n+### Current State\n+[Current State]: #current-state\n+\n+[BFD v1: Current State Patient Resource](./patientReadCurrentState.json)\n+\n+### Future State\n+[Future State]: #future-state\n+\n+[BFD v2: Future State Patient Resource](./patientReadFutureState.json)\n+\n+### Differential View\n+[Differential View]: #differential-view\n+\n+\n+[Differential_view](./patient-v1-to-v2.diff)\n+\n+\n+### Unresolved Questions\n+[Unresolved Questions]: #unresolved-questions\n+\n+\n+The following questions need to be resolved prior to merging this RFC:\n+\n+1. Hash Identifiers in Patient resource:\n+\n+Do we need to return hash identifiers? Use the identifier flag in the header to determine what to send \u2013 MBI. HICN, Hashes? We do send out BENE_ID as local patient (beneficiary) identifier (medical record number).\n+\n+**RESOLVED:** Hashed MBI\u2019s will not be provided.\n+\n+2. Race code mapping for Hispanic:\n+\n+What is the best approach in CMS-Blue Button to map Hispanic race to US-Core Race code (see below):\n+\n+\tCode\t\t\tDisplay  \n+\u2022\t1002-5\t\t\tAmerican Indian or Alaska Native  \n+\u2022\t2028-9\t\t\tAsian  \n+\u2022\t2054-5\t\t\tBlack or African American  \n+\u2022\t2076-8\t\t\tNative Hawaiian or Other Pacific Islander  \n+\u2022\t2106-3\t\t\tWhite  \n+\u2022\tUNK\t\t\tUnknown  \n+\u2022\tASKU\t\t\tAsked but no answer  \n+\n+**RESOLVED:**  CCW Race codes will be mapped as UNK race code for ALL races to support US-Core race Code System. CCW/SSA Race codes will continue to be provided to accurately reflect race in the system. \t\t\n+\n+### Proposed Solution: Drawbacks\n+[Proposed Solution: Drawbacks]: #proposed-solution-drawbacks\n+\n+Supporting both v1 and v2 in parallel may cause slight performance issues.", "originalCommit": "d281c30eb37a98434d72e0a6c3bcde13df06ea20", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0OTk0OA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/313#discussion_r483649948", "bodyText": "Once v2 go live and both v1 and v2 traffic are running in parallel, performance and response time will be studied for both v1 and v2 traffic. v2 payloads should hopefully provide some performance gain. v2 will be benchmarked against v1 for performance gain or otherwise.", "author": "dshekhar18", "createdAt": "2020-09-04T14:27:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzEyNTI1OQ=="}], "type": "inlineReview"}]}