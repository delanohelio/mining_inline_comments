{"pr_number": 267, "pr_title": "BLUEBUTTON 1940: Getting started contributing to the BFD", "pr_createdAt": "2020-04-30T15:34:12Z", "pr_url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/267", "timeline": [{"oid": "99dd958764ca183a853d602eb77506353611fac0", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/99dd958764ca183a853d602eb77506353611fac0", "message": "Create docker-compose platform to run the BFD", "committedDate": "2020-03-25T21:25:39Z", "type": "commit"}, {"oid": "b7031d3c1589a1d40a04a5f3c9b52b33e024cb32", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/b7031d3c1589a1d40a04a5f3c9b52b33e024cb32", "message": "Update contributing doc with instructions", "committedDate": "2020-03-26T18:57:54Z", "type": "commit"}, {"oid": "5a8db198c8632b2c6486a4afe0f6c6c8b5c9acd4", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/5a8db198c8632b2c6486a4afe0f6c6c8b5c9acd4", "message": "Correct information on exiting docker logs", "committedDate": "2020-03-27T12:12:28Z", "type": "commit"}, {"oid": "f33b290b13e336c29c04092886c8143e7237ad08", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/f33b290b13e336c29c04092886c8143e7237ad08", "message": "Describe opening a PR and suggesting changes", "committedDate": "2020-04-06T14:59:43Z", "type": "commit"}, {"oid": "523bea365d43973fb3bed425540bae5ed01f291b", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/523bea365d43973fb3bed425540bae5ed01f291b", "message": "Clarify PR and RFC process", "committedDate": "2020-04-09T12:14:59Z", "type": "commit"}, {"oid": "e60f17e83ac0982e36d004eb0f8e644156a109b2", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/e60f17e83ac0982e36d004eb0f8e644156a109b2", "message": "Remove compose files for downstream systems", "committedDate": "2020-04-09T12:21:25Z", "type": "commit"}, {"oid": "da77787eceb21bd06088399cf756c8db02a3de08", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/da77787eceb21bd06088399cf756c8db02a3de08", "message": "Updated for CentOS, Doc clarity, Outpatient Data", "committedDate": "2020-04-30T15:09:16Z", "type": "commit"}, {"oid": "5dcdeebb79971e386599a019d61c4aa0b9c885cb", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/5dcdeebb79971e386599a019d61c4aa0b9c885cb", "message": "Adding link to PR template location", "committedDate": "2020-04-30T15:33:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNTg5Mg==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/267#discussion_r418605892", "bodyText": "I get an error at this line when trying to apply this patch:\ncd ../; git apply contributing/patches/load_local_synthetic_data.patch\nerror: corrupt patch at line 209", "author": "njdister", "createdAt": "2020-05-01T15:58:04Z", "path": "contributing/patches/load_local_synthetic_data.patch", "diffHunk": "@@ -0,0 +1,234 @@\n+diff --git a/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResource.java b/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResource.java\n+index db11ae61..f73f85de 100644\n+--- a/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResource.java\n++++ b/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResource.java\n+@@ -302,6 +302,126 @@ public enum StaticRifResource {\n+       RifFileType.OUTPATIENT,\n+       27955),\n+ \n++  LOCAL_SYNTHETIC_BENEFICIARY_1999(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-beneficiary-1999.rif\"),\n++      RifFileType.BENEFICIARY,\n++      10000),\n++\n++  LOCAL_SYNTHETIC_BENEFICIARY_2000(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-beneficiary-2000.rif\"),\n++      RifFileType.BENEFICIARY,\n++      10000),\n++\n++  LOCAL_SYNTHETIC_BENEFICIARY_2014(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-beneficiary-2014.rif\"),\n++      RifFileType.BENEFICIARY,\n++      10000),\n++\n++  LOCAL_SYNTHETIC_CARRIER_1999_1999(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-1999-1999.rif\"),\n++      RifFileType.CARRIER,\n++      102617),\n++\n++  LOCAL_SYNTHETIC_CARRIER_1999_2000(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-1999-2000.rif\"),\n++      RifFileType.CARRIER,\n++      107665),\n++\n++  LOCAL_SYNTHETIC_CARRIER_1999_2001(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-1999-2001.rif\"),\n++      RifFileType.CARRIER,\n++      113604),\n++\n++  LOCAL_SYNTHETIC_CARRIER_2000_2000(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-2000-2000.rif\"),\n++      RifFileType.CARRIER,\n++      102178),\n++\n++  LOCAL_SYNTHETIC_CARRIER_2000_2001(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-2000-2001.rif\"),\n++      RifFileType.CARRIER,\n++      108801),\n++\n++  LOCAL_SYNTHETIC_CARRIER_2000_2002(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-2000-2002.rif\"),\n++      RifFileType.CARRIER,\n++      113806),\n++\n++  LOCAL_SYNTHETIC_CARRIER_2014_2014(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-2014-2014.rif\"),\n++      RifFileType.CARRIER,\n++      108172),\n++\n++  LOCAL_SYNTHETIC_CARRIER_2014_2015(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-2014-2015.rif\"),\n++      RifFileType.CARRIER,\n++      106577),\n++\n++  LOCAL_SYNTHETIC_CARRIER_2014_2016(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-carrier-2014-2016.rif\"),\n++      RifFileType.CARRIER,\n++      86736),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_1999_1999(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-1999-1999.rif\"),\n++      RifFileType.INPATIENT,\n++      650),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_1999_2000(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-1999-2000.rif\"),\n++      RifFileType.INPATIENT,\n++      646),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_1999_2001(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-1999-2001.rif\"),\n++      RifFileType.INPATIENT,\n++      700),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_2000_2000(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-2000-2000.rif\"),\n++      RifFileType.INPATIENT,\n++      706),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_2000_2001(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-2000-2001.rif\"),\n++      RifFileType.INPATIENT,\n++      641),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_2000_2002(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-2000-2002.rif\"),\n++      RifFileType.INPATIENT,\n++      680),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_2014_2014(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-2014-2014.rif\"),\n++      RifFileType.INPATIENT,\n++      352),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_2014_2015(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-2014-2015.rif\"),\n++      RifFileType.INPATIENT,\n++      309),\n++\n++  LOCAL_SYNTHETIC_INPATIENT_2014_2016(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-inpatient-2014-2016.rif\"),\n++      RifFileType.INPATIENT,\n++      387),\n++\n++  LOCAL_SYNTHETIC_PDE_2014(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-pde-2014.rif\"),\n++      RifFileType.PDE,\n++      127643),\n++\n++  LOCAL_SYNTHETIC_PDE_2015(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-pde-2015.rif\"),\n++      RifFileType.PDE,\n++      140176),\n++\n++  LOCAL_SYNTHETIC_PDE_2016(\n++      localData(TestDataSetLocation.SYNTHETIC_DATA, \"synthetic-pde-2016.rif\"),\n++      RifFileType.PDE,\n++      145526),\n++\n+   SAMPLE_MCT_BENES(\n+       resourceUrl(\"rif-static-samples/sample-mct-beneficiaries.txt\"), RifFileType.BENEFICIARY, 8),\n+ \n+@@ -390,6 +510,32 @@ public enum StaticRifResource {\n+     };\n+   }\n+ \n++  /**\n++   * @param dataSetLocation the {@link TestDataSetLocation} of the file to get a local copy of\n++   * @param fileName the name of the specific file in the specified {@link TestDataSetLocation} to\n++   *     get a local copy of, e.g. \"beneficiaries.rif\"\n++   * @return a {@link URL} to a local copy of the specified test data file from S3\n++   */\n++  private static Supplier<URL> localData(TestDataSetLocation dataSetLocation, String fileName) {\n++    return () -> {\n++      // Find the build output `target` directory.\n++      Path resourceDir = Paths.get(System.getenv(\"LOCAL_SYNTHETIC_DATA\"));\n++      if (!Files.exists(resourceDir))\n++        throw new IllegalStateException(\n++            \"Unable to find directory: \" + resourceDir.toAbsolutePath().toString());\n++\n++      // Build the path that the resources will be downloaded to.\n++      Path resourceLocalCopy = resourceDir.resolve(fileName);\n++\n++      // We now know the file exists, so return it.\n++      try {\n++        return resourceLocalCopy.toUri().toURL();\n++      } catch (MalformedURLException e) {\n++        throw new BadCodeMonkeyException(e);\n++      }\n++    };\n++  }\n++\n+   /**\n+    * @param dataSetLocation the {@link TestDataSetLocation} of the file to get a local copy of\n+    * @param fileName the name of the specific file in the specified {@link TestDataSetLocation} to\n+diff --git a/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResourceGroup.java b/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResourceGroup.java\n+index 352569da..2883d2ed 100644\n+--- a/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResourceGroup.java\n++++ b/apps/bfd-model/bfd-model-rif-samples/src/main/java/gov/cms/bfd/model/rif/samples/StaticRifResourceGroup.java\n+@@ -44,6 +44,32 @@ public enum StaticRifResourceGroup {\n+ \n+   SAMPLE_U(StaticRifResource.SAMPLE_U_BENES, StaticRifResource.SAMPLE_U_CARRIER),\n+ \n++  LOCAL_SYNTHETIC(\n++      StaticRifResource.LOCAL_SYNTHETIC_BENEFICIARY_1999,\n++      StaticRifResource.LOCAL_SYNTHETIC_BENEFICIARY_2000,\n++      StaticRifResource.LOCAL_SYNTHETIC_BENEFICIARY_2014,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_1999_1999,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_1999_2000,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_1999_2001,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_2000_2000,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_2000_2001,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_2000_2002,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_2014_2014,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_2014_2015,\n++      StaticRifResource.LOCAL_SYNTHETIC_CARRIER_2014_2016,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_1999_1999,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_1999_2000,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_1999_2001,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_2000_2000,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_2000_2001,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_2000_2002,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_2014_2014,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_2014_2015,\n++      StaticRifResource.LOCAL_SYNTHETIC_INPATIENT_2014_2016,\n++      StaticRifResource.LOCAL_SYNTHETIC_PDE_2014,\n++      StaticRifResource.LOCAL_SYNTHETIC_PDE_2015,\n++      StaticRifResource.LOCAL_SYNTHETIC_PDE_2016,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_1999_1999,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_2000_1999,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_2001_1999,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_2002_2000,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_2014_2014,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_2015_2014,\n++      StaticRifResource.LOCAL_SYNTHETIC_OUTPATIENT_2016_2014),\n++\n+   SYNTHETIC_DATA(\n+       StaticRifResource.SYNTHETIC_BENEFICIARY_1999,\n+       StaticRifResource.SYNTHETIC_BENEFICIARY_2000,\n+diff --git a/apps/bfd-pipeline/bfd-pipeline-rif-load/src/test/java/gov/cms/bfd/pipeline/rif/load/RifLoaderIT.java b/apps/bfd-pipeline/bfd-pipeline-rif-load/src/test/java/gov/cms/bfd/pipeline/rif/load/RifLoaderIT.java", "originalCommit": "5dcdeebb79971e386599a019d61c4aa0b9c885cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwOTg0MQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/267#discussion_r418609841", "bodyText": "Perhaps this branch just needs to get merged with the latest from master?", "author": "njdister", "createdAt": "2020-05-01T16:06:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNTg5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjIzNzQxMA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/267#discussion_r422237410", "bodyText": "Fixed.", "author": "jzulim", "createdAt": "2020-05-08T16:22:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNTg5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNjcwMQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/267#discussion_r418606701", "bodyText": "This doesn't work since .env.example doesn't actually exist:\nmake .env\ncp .env.example .env\ncp: .env.example: No such file or directory\nmake: *** [.env] Error 1", "author": "njdister", "createdAt": "2020-05-01T15:59:43Z", "path": "contributing/Makefile", "diffHunk": "@@ -0,0 +1,34 @@\n+synthetic-data/*.rif:\n+\t./fetch.sh\n+\n+.env:\n+\tcp .env.example .env", "originalCommit": "5dcdeebb79971e386599a019d61c4aa0b9c885cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM4NjQ0NA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/267#discussion_r423386444", "bodyText": "removed with added instructions in readme.", "author": "jzulim", "createdAt": "2020-05-11T23:59:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYwNjcwMQ=="}], "type": "inlineReview"}, {"oid": "96401a277f0c337d1103f3a265e557676a546e25", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/96401a277f0c337d1103f3a265e557676a546e25", "message": "Adding BB2 docker compose", "committedDate": "2020-05-06T22:35:08Z", "type": "commit"}, {"oid": "511a7a873f1455c5c857c2dd294d5d278a0b6679", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/511a7a873f1455c5c857c2dd294d5d278a0b6679", "message": "Reverting BFD server port", "committedDate": "2020-05-06T23:34:38Z", "type": "commit"}, {"oid": "623accbf176c8023c9f995c192f879fa4592ef6d", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/623accbf176c8023c9f995c192f879fa4592ef6d", "message": "Renaming bfddb to local_bfddb for safety.", "committedDate": "2020-05-07T17:32:22Z", "type": "commit"}, {"oid": "5b77bc570299cd1e594ed77d111b35b55b3d64eb", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/5b77bc570299cd1e594ed77d111b35b55b3d64eb", "message": "adding bfd port patch", "committedDate": "2020-05-07T17:39:35Z", "type": "commit"}, {"oid": "02a6a86fd206743b125062bea461730afac68a18", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/02a6a86fd206743b125062bea461730afac68a18", "message": "reverting patch", "committedDate": "2020-05-07T17:40:58Z", "type": "commit"}, {"oid": "2857ba0c4e462523386ef6550c0f616432206994", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/2857ba0c4e462523386ef6550c0f616432206994", "message": "Add docker db details to safety check", "committedDate": "2020-05-07T17:46:53Z", "type": "commit"}, {"oid": "d5bbf9b13df9846fdc851ee8e2f4b5b09da0470e", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/d5bbf9b13df9846fdc851ee8e2f4b5b09da0470e", "message": "load local synthetic patch", "committedDate": "2020-05-07T17:48:35Z", "type": "commit"}, {"oid": "6b92e11d26a044979448fdde4018fbba99f98801", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/6b92e11d26a044979448fdde4018fbba99f98801", "message": "redo local synthetic patch", "committedDate": "2020-05-07T17:52:25Z", "type": "commit"}, {"oid": "333582a4613ed20592c28ce7e6dd1d4cb12e7f47", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/333582a4613ed20592c28ce7e6dd1d4cb12e7f47", "message": "Update documentation", "committedDate": "2020-05-08T16:20:38Z", "type": "commit"}, {"oid": "039b3316b4a73b687602bd0751e2b57b4c003cf2", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/039b3316b4a73b687602bd0751e2b57b4c003cf2", "message": "Updating documentation", "committedDate": "2020-05-08T16:23:25Z", "type": "commit"}, {"oid": "9f0566497c16832c1f9195b6c14dbfe3d40018c1", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9f0566497c16832c1f9195b6c14dbfe3d40018c1", "message": "Add fetch and synthetic how to to docs.", "committedDate": "2020-05-11T19:51:12Z", "type": "commit"}, {"oid": "a0ed5f3da5a45d205859002d02bcb60c204fd772", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/a0ed5f3da5a45d205859002d02bcb60c204fd772", "message": "Test", "committedDate": "2020-05-11T20:36:20Z", "type": "commit"}, {"oid": "65a7e36abec663f1bc86fa37937673cc35f49b92", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/65a7e36abec663f1bc86fa37937673cc35f49b92", "message": "Test", "committedDate": "2020-05-11T20:37:31Z", "type": "commit"}, {"oid": "b4ad9d0823887dc2a39993afda66174987980232", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/b4ad9d0823887dc2a39993afda66174987980232", "message": "Updating patches to account for whitespace", "committedDate": "2020-05-13T21:07:41Z", "type": "commit"}]}