{"pr_number": 282, "pr_title": "BFD-172: BB2 project setup", "pr_createdAt": "2020-05-18T18:25:10Z", "pr_url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/282", "timeline": [{"oid": "3dac7473a03ca18656a10840f76aa4f21a9f305c", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/3dac7473a03ca18656a10840f76aa4f21a9f305c", "message": "Initial BB2 setup", "committedDate": "2020-05-18T18:17:21Z", "type": "commit"}, {"oid": "a634f834601d865482b032bfe9e95d7664c926fd", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/a634f834601d865482b032bfe9e95d7664c926fd", "message": "Added a core tables doc", "committedDate": "2020-05-18T18:17:21Z", "type": "commit"}, {"oid": "d0129cca24836fb2b6361e28a98e3381fda3449d", "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/d0129cca24836fb2b6361e28a98e3381fda3449d", "message": "Update on bb2 moderate bucket", "committedDate": "2020-05-18T18:17:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NzAzOQ==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/282#discussion_r428087039", "bodyText": "I'm a little confused by this part, we only want to login 1 out of 20 times?", "author": "adaykin", "createdAt": "2020-05-20T15:04:43Z", "path": "insights/scripts/bb2/apps.py", "diffHunk": "@@ -0,0 +1,79 @@\n+import random\n+import events\n+from datetime import datetime, timedelta\n+\n+class App:  \n+  def generate_session(self, start_time: datetime, bene):\n+    return []\n+\n+  def random_hash(self):\n+    hex_letters = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f']\n+    return ''.join(random.choice(hex_letters) for _ in range(32))\n+\n+class Humana(App):\n+  def app_id(self):\n+    return 13\n+  \n+  def app_name(self):\n+    return \"Humana\"\n+  \n+  def dev_id(self):\n+    return 180\n+  \n+  def dev_name(self):\n+    return \"mscrimshire+humana@gmail.com\"\n+\n+  def generate_session(self, start_time: datetime, bene):\n+    token_hash = self.random_hash()\n+    current_time = start_time\n+    call_period = timedelta(seconds=0.4)\n+\n+    if random.randint(0,30) == 0: \n+      yield events.my_medicare_login(bene, self, current_time)\n+      current_time += call_period\n+\n+    yield events.token_response(bene, self, current_time, token_hash)\n+    current_time += call_period\n+\n+    for _ in range(random.randint(1, 9)):\n+      yield events.eob_response(bene, self, current_time, token_hash)\n+      current_time += call_period\n+\n+    yield events.patient_response(bene, self, current_time, token_hash)\n+\n+\n+class Evidation(App):\n+  def app_id(self):\n+    return 32\n+  \n+  def app_name(self):\n+    return \"Evidation on behalf of Heartline\"\n+  \n+  def dev_id(self):\n+    return  11770\n+  \n+  def dev_name(self):\n+    return \"mscrimshire+evidationheartline@gmail.com\"\n+\n+  def generate_session(self, start_time: datetime, bene):\n+    token_hash = self.random_hash()\n+    current_time = start_time\n+    call_period = timedelta(seconds=0.3)\n+\n+    if random.randint(0,20) == 0: ", "originalCommit": "d0129cca24836fb2b6361e28a98e3381fda3449d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3Mjg1OA==", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/282#discussion_r428272858", "bodyText": "Once a user logs into a BB2 app, they usually do not need to log in again. So, only a small percentage of BB2 sessions include the login step. Anyway, that behavior is being simulated here.", "author": "RickHawesUSDS", "createdAt": "2020-05-20T19:58:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NzAzOQ=="}], "type": "inlineReview"}]}