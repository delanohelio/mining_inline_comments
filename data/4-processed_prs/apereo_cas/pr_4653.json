{"pr_number": 4653, "pr_title": "OAuth20TokenAuthorizationResponseBuilder returns state and nonce unch\u2026", "pr_createdAt": "2020-01-26T20:09:54Z", "pr_url": "https://github.com/apereo/cas/pull/4653", "timeline": [{"oid": "a8a4bcf4e0d825db1f7c70a4c91cee38146ae907", "url": "https://github.com/apereo/cas/commit/a8a4bcf4e0d825db1f7c70a4c91cee38146ae907", "message": "OAuth20TokenAuthorizationResponseBuilder returns state and nonce unchanged", "committedDate": "2020-01-26T20:07:53Z", "type": "commit"}, {"oid": "6f65e23d62c7049de9af2f831c79e446503e3ba6", "url": "https://github.com/apereo/cas/commit/6f65e23d62c7049de9af2f831c79e446503e3ba6", "message": "OAuth20TokenAuthorizationResponseBuilder checkstyle fixes", "committedDate": "2020-01-26T21:45:49Z", "type": "commit"}, {"oid": "eae8b8ba4aead2999828bac17325425f27e41f9c", "url": "https://github.com/apereo/cas/commit/eae8b8ba4aead2999828bac17325425f27e41f9c", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-26T23:40:42Z", "type": "commit"}, {"oid": "dc8f9c7c5d758553abb233fa641335af78bbd693", "url": "https://github.com/apereo/cas/commit/dc8f9c7c5d758553abb233fa641335af78bbd693", "message": "OAuth20TokenAuthorizationResponseBuilderTest checkstyle fixes", "committedDate": "2020-01-27T00:20:36Z", "type": "commit"}, {"oid": "6ba3f2a6681832a79bd9036126aceeee89aeabc0", "url": "https://github.com/apereo/cas/commit/6ba3f2a6681832a79bd9036126aceeee89aeabc0", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T02:40:43Z", "type": "commit"}, {"oid": "c22947ccc7ec35b919312ebf6de9e4e721523272", "url": "https://github.com/apereo/cas/commit/c22947ccc7ec35b919312ebf6de9e4e721523272", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T04:20:46Z", "type": "commit"}, {"oid": "b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3", "url": "https://github.com/apereo/cas/commit/b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T05:50:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA3NDUxOQ==", "url": "https://github.com/apereo/cas/pull/4653#discussion_r371074519", "bodyText": "Should be OAuth20TokenAuthorizationResponseBuilderTests", "author": "mmoayyed", "createdAt": "2020-01-27T06:11:58Z", "path": "support/cas-server-support-oauth/src/test/java/org/apereo/cas/support/oauth/web/response/callback/OAuth20TokenAuthorizationResponseBuilderTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+package org.apereo.cas.support.oauth.web.response.callback;\n+\n+import java.util.AbstractMap;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.LinkedHashMap;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+import lombok.val;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apereo.cas.configuration.CasConfigurationProperties;\n+import org.apereo.cas.mock.MockTicketGrantingTicket;\n+import org.apereo.cas.services.RegisteredServiceTestUtils;\n+import org.apereo.cas.support.oauth.OAuth20Constants;\n+import org.apereo.cas.support.oauth.OAuth20GrantTypes;\n+import org.apereo.cas.support.oauth.OAuth20ResponseTypes;\n+import org.apereo.cas.support.oauth.web.AbstractOAuth20Tests;\n+import org.apereo.cas.support.oauth.web.response.accesstoken.ext.AccessTokenRequestDataHolder;\n+import org.apereo.cas.ticket.accesstoken.OAuth20AccessToken;\n+import org.apereo.cas.ticket.accesstoken.OAuth20AccessTokenExpirationPolicyBuilder;\n+import org.jasig.cas.client.util.URIBuilder;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Tag;\n+import org.junit.jupiter.api.Test;\n+import org.pac4j.core.context.JEEContext;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.mock.web.MockHttpServletRequest;\n+import org.springframework.mock.web.MockHttpServletResponse;\n+import org.springframework.web.servlet.view.RedirectView;\n+\n+\n+/**\n+ * This is {@link OAuth20TokenAuthorizationResponseBuilderTest}.\n+ *\n+ * @author David Albrecht\n+ * @since 6.1.3\n+ */\n+@Tag(\"OAuth\")\n+public class OAuth20TokenAuthorizationResponseBuilderTest extends AbstractOAuth20Tests {", "originalCommit": "b8a6b71fe97038e07d8f5cbacb05ca3d1c0437e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA3NDY0MQ==", "url": "https://github.com/apereo/cas/pull/4653#discussion_r371074641", "bodyText": "Also the test should be added to OAuth20TestsSuite.", "author": "mmoayyed", "createdAt": "2020-01-27T06:12:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA3NDUxOQ=="}], "type": "inlineReview"}, {"oid": "e36f79d161414cb27bd247fbbf39b3bbf4d1eac9", "url": "https://github.com/apereo/cas/commit/e36f79d161414cb27bd247fbbf39b3bbf4d1eac9", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T07:20:48Z", "type": "commit"}, {"oid": "a91f7b7114ac93228e6dfab8823fb5da899c8180", "url": "https://github.com/apereo/cas/commit/a91f7b7114ac93228e6dfab8823fb5da899c8180", "message": "added test to OAuth20TestSuite", "committedDate": "2020-01-27T08:48:15Z", "type": "commit"}, {"oid": "02fd9dada9a8ed1e80c2a04baf481d97d4a4b52b", "url": "https://github.com/apereo/cas/commit/02fd9dada9a8ed1e80c2a04baf481d97d4a4b52b", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T10:20:50Z", "type": "commit"}, {"oid": "2087d2a853809aa9d3fa6f5e2bc6467a1f9a8759", "url": "https://github.com/apereo/cas/commit/2087d2a853809aa9d3fa6f5e2bc6467a1f9a8759", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T11:50:50Z", "type": "commit"}, {"oid": "7c044d4f8fcf5f3155da16d650891bea59bd72c9", "url": "https://github.com/apereo/cas/commit/7c044d4f8fcf5f3155da16d650891bea59bd72c9", "message": "Merge branch '6.1.x' into 6.1.x", "committedDate": "2020-01-27T14:50:51Z", "type": "commit"}, {"oid": "d91943def1a168b9e02daec89dec276d59e1eaf3", "url": "https://github.com/apereo/cas/commit/d91943def1a168b9e02daec89dec276d59e1eaf3", "message": "always return mutable map", "committedDate": "2020-01-27T19:06:35Z", "type": "commit"}, {"oid": "5518c69ae58f3a3dae36443d3b7b6910b398da4f", "url": "https://github.com/apereo/cas/commit/5518c69ae58f3a3dae36443d3b7b6910b398da4f", "message": "fixed import order", "committedDate": "2020-01-27T20:32:48Z", "type": "commit"}]}