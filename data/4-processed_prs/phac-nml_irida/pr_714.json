{"pr_number": 714, "pr_title": "Project List Metadata Templates", "pr_createdAt": "2020-05-29T16:23:35Z", "pr_url": "https://github.com/phac-nml/irida/pull/714", "timeline": [{"oid": "5ea29f3a19d919e91a61478802ac275f38198934", "url": "https://github.com/phac-nml/irida/commit/5ea29f3a19d919e91a61478802ac275f38198934", "message": ":construction: Add description attribute to a metadata template.", "committedDate": "2020-05-28T19:32:20Z", "type": "commit"}, {"oid": "5a71285c55c4a960467e2553479d54de93ee588c", "url": "https://github.com/phac-nml/irida/commit/5a71285c55c4a960467e2553479d54de93ee588c", "message": ":construction: List metadata templates and show thier new descriptions", "committedDate": "2020-05-29T12:56:55Z", "type": "commit"}, {"oid": "41650bf08c7e1adbac3cf460102a5111e6fcb56d", "url": "https://github.com/phac-nml/irida/commit/41650bf08c7e1adbac3cf460102a5111e6fcb56d", "message": ":construction: Display the number of fields to the right", "committedDate": "2020-05-29T12:59:19Z", "type": "commit"}, {"oid": "c806cc136106fca79330c90ac4f45eeaad1b4a49", "url": "https://github.com/phac-nml/irida/commit/c806cc136106fca79330c90ac4f45eeaad1b4a49", "message": ":construction: Don't go full width on XL screens, too hard to read.", "committedDate": "2020-05-29T13:34:05Z", "type": "commit"}, {"oid": "25ed4694faffa523c1539d04b64d0b58ad394d41", "url": "https://github.com/phac-nml/irida/commit/25ed4694faffa523c1539d04b64d0b58ad394d41", "message": "Cleaned up layout.", "committedDate": "2020-05-29T16:20:04Z", "type": "commit"}, {"oid": "dd70a02be9c750a7bc2f728126d84defc088f7de", "url": "https://github.com/phac-nml/irida/commit/dd70a02be9c750a7bc2f728126d84defc088f7de", "message": "Updated JavaDoc", "committedDate": "2020-05-29T18:07:58Z", "type": "commit"}, {"oid": "870dea5104d3e369422704162106c8d0a4e7d627", "url": "https://github.com/phac-nml/irida/commit/870dea5104d3e369422704162106c8d0a4e7d627", "message": ":white_check_mark: Fixed broken test selector", "committedDate": "2020-06-01T13:47:12Z", "type": "commit"}, {"oid": "e7eabae185299fd62ae7ae8b4e825482b5a13e71", "url": "https://github.com/phac-nml/irida/commit/e7eabae185299fd62ae7ae8b4e825482b5a13e71", "message": "Merge development", "committedDate": "2020-06-02T09:48:19Z", "type": "commit"}, {"oid": "36fd8878cb408d1b4e62496095a198d0b694d2df", "url": "https://github.com/phac-nml/irida/commit/36fd8878cb408d1b4e62496095a198d0b694d2df", "message": ":memo: Update CHANGELOG.md", "committedDate": "2020-06-02T10:03:16Z", "type": "commit"}, {"oid": "238d361ff85b544245c28e8edf6e99b54a3f2443", "url": "https://github.com/phac-nml/irida/commit/238d361ff85b544245c28e8edf6e99b54a3f2443", "message": "Merge branch 'development' into list-metadata-templates\n\n# Conflicts:\n#\tCHANGELOG.md", "committedDate": "2020-06-03T14:26:54Z", "type": "commit"}, {"oid": "15be709611b1e78e1ed1253d112ade63433dea99", "url": "https://github.com/phac-nml/irida/commit/15be709611b1e78e1ed1253d112ade63433dea99", "message": "Merge branch 'development' into list-metadata-templates\n\n# Conflicts:\n#\tCHANGELOG.md\n#\tsrc/main/webapp/yarn.lock", "committedDate": "2020-06-08T16:30:41Z", "type": "commit"}, {"oid": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e", "url": "https://github.com/phac-nml/irida/commit/8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e", "message": "Updated ant.design", "committedDate": "2020-06-08T16:31:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMTk2NA==", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437401964", "bodyText": "File comments", "author": "deepsidhu85", "createdAt": "2020-06-09T13:08:25Z", "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "diffHunk": "@@ -0,0 +1,81 @@\n+import React, { useEffect, useState } from \"react\";", "originalCommit": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQyODgyNA==", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437428824", "bodyText": "Updated in 9f6d0cd", "author": "joshsadam", "createdAt": "2020-06-09T13:43:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMTk2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMzc1Ng==", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437403756", "bodyText": "Function comments", "author": "deepsidhu85", "createdAt": "2020-06-09T13:10:16Z", "path": "src/main/webapp/resources/js/apis/metadata/metadata-templates.js", "diffHunk": "@@ -0,0 +1,10 @@\n+import axios from \"axios\";", "originalCommit": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQyODgwOA==", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437428808", "bodyText": "Updated in 9f6d0cd", "author": "joshsadam", "createdAt": "2020-06-09T13:43:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMzc1Ng=="}], "type": "inlineReview"}, {"oid": "0efe998b687fac53a412cd01d4b3d460e20d36a0", "url": "https://github.com/phac-nml/irida/commit/0efe998b687fac53a412cd01d4b3d460e20d36a0", "message": "Downgraded ant design as causing problems with modals", "committedDate": "2020-06-09T13:33:43Z", "type": "commit"}, {"oid": "6930ee595d1f5ee82dc30c69f7fcd1f648f5602d", "url": "https://github.com/phac-nml/irida/commit/6930ee595d1f5ee82dc30c69f7fcd1f648f5602d", "message": "Updated JSDoc", "committedDate": "2020-06-09T13:41:49Z", "type": "commit"}, {"oid": "9f6d0cd737dc347a5b98613b2c96f70a3c0d3a62", "url": "https://github.com/phac-nml/irida/commit/9f6d0cd737dc347a5b98613b2c96f70a3c0d3a62", "message": "Updated JSDoc", "committedDate": "2020-06-09T13:42:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NzMwMA==", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r438167300", "bodyText": "Since we already have BASE_URL set at the top of the file you should probably use ${BASE_URL}/${item.id} instead of setBaseUrl(/projects/${window.project.id}/metadata-templates/${item.id})", "author": "deepsidhu85", "createdAt": "2020-06-10T14:29:45Z", "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { useEffect, useState } from \"react\";\n+import { render } from \"react-dom\";\n+import { getProjectMetadataTemplates } from \"../../../apis/metadata/metadata-templates\";\n+import { Avatar, Button, List, Space, Tag, Typography } from \"antd\";\n+import {\n+  IconDownloadFile,\n+  IconMetadataTemplate,\n+} from \"../../../components/icons/Icons\";\n+import { setBaseUrl } from \"../../../utilities/url-utilities\";\n+\n+const { Title } = Typography;\n+\n+/**\n+ * Display a list of metadata templates that are associated with a project.\n+ * @returns {JSX.Element}\n+ * @constructor\n+ */\n+function ProjectMetadataTemplates() {\n+  const [templates, setTemplates] = useState([]);\n+  const BASE_URL = setBaseUrl(\n+    `/projects/${window.project.id}/metadata-templates`\n+  );\n+\n+  useEffect(() => {\n+    getProjectMetadataTemplates(window.project.id).then((data) =>\n+      setTemplates(data)\n+    );\n+  }, []);\n+\n+  return (\n+    <div>\n+      <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n+        <Title level={2}>{i18n(\"ProjectMetadataTemplates.title\")}</Title>\n+        <Space>\n+          <Button href={`${BASE_URL}/new`} className=\"t-create-template-btn\">\n+            Create New Template\n+          </Button>\n+        </Space>\n+        <List\n+          bordered\n+          itemLayout=\"horizontal\"\n+          dataSource={templates}\n+          renderItem={(item) => (\n+            <List.Item\n+              className=\"t-template\"\n+              actions={[\n+                <Button\n+                  shape=\"circle\"\n+                  icon={<IconDownloadFile />}\n+                  href={`${BASE_URL}/${item.id}/excel`}\n+                  key=\"list-download\"\n+                />,\n+              ]}\n+            >\n+              <List.Item.Meta\n+                avatar={<Avatar icon={<IconMetadataTemplate />} />}\n+                title={\n+                  <div\n+                    style={{\n+                      display: \"flex\",\n+                      justifyContent: \"space-between\",\n+                    }}\n+                  >\n+                    <a\n+                      href={setBaseUrl(\n+                        `/projects/${window.project.id}/metadata-templates/${item.id}`", "originalCommit": "9f6d0cd737dc347a5b98613b2c96f70a3c0d3a62", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}