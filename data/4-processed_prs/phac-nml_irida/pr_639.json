{"pr_number": 639, "pr_title": "Configurable login page ", "pr_createdAt": "2020-03-27T18:30:55Z", "pr_url": "https://github.com/phac-nml/irida/pull/639", "timeline": [{"oid": "e729c7a75b9f5379669463b9358845b695ddb464", "url": "https://github.com/phac-nml/irida/commit/e729c7a75b9f5379669463b9358845b695ddb464", "message": "Allow UI templates to be loaded from file system\n\nThis will allow developers to override default IRIDA pages by putting the template into a file system directory of their choosing.", "committedDate": "2020-03-27T14:44:08Z", "type": "commit"}, {"oid": "3d07425ccead9d8e0344f4df98f2684ccfd537db", "url": "https://github.com/phac-nml/irida/commit/3d07425ccead9d8e0344f4df98f2684ccfd537db", "message": "Basic layout of login form", "committedDate": "2020-03-27T15:31:45Z", "type": "commit"}, {"oid": "a95df79c9225e223ee644fbf35ed336ac2069574", "url": "https://github.com/phac-nml/irida/commit/a95df79c9225e223ee644fbf35ed336ac2069574", "message": "Basic layout of login form", "committedDate": "2020-03-27T15:36:25Z", "type": "commit"}, {"oid": "c780e4b85fa60d6c0630f3179baaa56c703aaa62", "url": "https://github.com/phac-nml/irida/commit/c780e4b85fa60d6c0630f3179baaa56c703aaa62", "message": "Updated login page UI working with logos", "committedDate": "2020-03-27T16:31:34Z", "type": "commit"}, {"oid": "7a79dd4dfe3b52b881c8c8ae8a17776f394b9d5f", "url": "https://github.com/phac-nml/irida/commit/7a79dd4dfe3b52b881c8c8ae8a17776f394b9d5f", "message": "Updated testing", "committedDate": "2020-03-27T18:25:35Z", "type": "commit"}, {"oid": "106b78ed3e5edb8c7593c9fd0769e98f7cd7d9fb", "url": "https://github.com/phac-nml/irida/commit/106b78ed3e5edb8c7593c9fd0769e98f7cd7d9fb", "message": "Merge branch 'development' into ant-design-login", "committedDate": "2020-03-29T00:16:50Z", "type": "commit"}, {"oid": "cbbcfebe4321bf76e0ad74f1682f6c02abdf28f4", "url": "https://github.com/phac-nml/irida/commit/cbbcfebe4321bf76e0ad74f1682f6c02abdf28f4", "message": "Updated user documentation", "committedDate": "2020-03-31T18:34:49Z", "type": "commit"}, {"oid": "6f4449dca6fa9a0efc19dd6880ce9be9d8253ee0", "url": "https://github.com/phac-nml/irida/commit/6f4449dca6fa9a0efc19dd6880ce9be9d8253ee0", "message": "Code cleanup", "committedDate": "2020-04-01T03:18:07Z", "type": "commit"}, {"oid": "9f6c81a70c12f8a90ea2778565eda85574d9c5ad", "url": "https://github.com/phac-nml/irida/commit/9f6c81a70c12f8a90ea2778565eda85574d9c5ad", "message": "Documentation", "committedDate": "2020-04-01T13:10:40Z", "type": "commit"}, {"oid": "9f7d79b5293bcdc00e91fd134bde3ae819225e7f", "url": "https://github.com/phac-nml/irida/commit/9f7d79b5293bcdc00e91fd134bde3ae819225e7f", "message": "Trying to get template to load", "committedDate": "2020-04-01T13:16:31Z", "type": "commit"}, {"oid": "4b30e1e52206f1737c3e24ecef068a13f3c98e96", "url": "https://github.com/phac-nml/irida/commit/4b30e1e52206f1737c3e24ecef068a13f3c98e96", "message": "Make resolves default ITemplateResolvers", "committedDate": "2020-04-01T14:10:51Z", "type": "commit"}, {"oid": "d358b51ce19ba77d75564602424b8af40c748274", "url": "https://github.com/phac-nml/irida/commit/d358b51ce19ba77d75564602424b8af40c748274", "message": "Merge branch 'development' into ant-design-login", "committedDate": "2020-04-01T15:44:00Z", "type": "commit"}, {"oid": "58e65dd45b9ece101d7df904464495b8ab2b2a4f", "url": "https://github.com/phac-nml/irida/commit/58e65dd45b9ece101d7df904464495b8ab2b2a4f", "message": "Updated developer docs", "committedDate": "2020-04-01T19:20:15Z", "type": "commit"}, {"oid": "5cfa69a551d27bb0bdcc0d88fde56bc48a3d2bd6", "url": "https://github.com/phac-nml/irida/commit/5cfa69a551d27bb0bdcc0d88fde56bc48a3d2bd6", "message": "Merge branch 'development' into ant-design-login", "committedDate": "2020-04-01T19:20:36Z", "type": "commit"}, {"oid": "e8c23fe45756e5ab93967ee5336793d93de978ce", "url": "https://github.com/phac-nml/irida/commit/e8c23fe45756e5ab93967ee5336793d93de978ce", "message": "Merge branch 'development' into ant-design-login", "committedDate": "2020-04-02T02:25:50Z", "type": "commit"}, {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25", "url": "https://github.com/phac-nml/irida/commit/24e381330e4b1be216ecc238a37814bf1e662f25", "message": "\ud83d\udcd6\ufe0f Updated CHANGELOG.md", "committedDate": "2020-04-02T02:26:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404135104", "bodyText": "Any reason they would want to have a different template location?  If not I'd prefer it's just hardcoded to /etc/irida/templates for now.  That's where all the rest of the irida config stuff resides.", "author": "tom114", "createdAt": "2020-04-06T14:27:57Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -52,21 +53,20 @@\n @Import({ WebEmailConfig.class, IridaApiSecurityConfig.class })\n public class IridaUIWebConfig implements WebMvcConfigurer, ApplicationContextAware {\n \tprivate static final String SPRING_PROFILE_PRODUCTION = \"prod\";\n-\tprivate static final String TEMPLATE_LOCATION = \"/pages/\";\n-\tprivate static final String TEMPLATE_SUFFIX = \".html\";\n-\tprivate static final String LOCALE_CHANGE_PARAMETER = \"lang\";\n+\tprivate static final String INTERNAL_TEMPLATE_PREFIX = \"/pages/\";\n+\tprivate static final String HTML_TEMPLATE_SUFFIX = \".html\";\n \tprivate static final long TEMPLATE_CACHE_TTL_MS = 3600000L;\n \tprivate static final Logger logger = LoggerFactory.getLogger(IridaUIWebConfig.class);\n \tprivate final static String ANALYTICS_DIR = \"/etc/irida/analytics/\";\n \n \t@Value(\"${locales.default}\")\n \tprivate String defaultLocaleValue;\n \n-\t@Autowired\n-\tprivate Environment env;\n+\t@Value(\"${ui.templates}\")\n+\tprivate String extraUITemplates;", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI1MzczNQ==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404253735", "bodyText": "I have no problems making it hard coded, thought people might like having the option.", "author": "joshsadam", "createdAt": "2020-04-06T17:11:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI2NDAyMw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404264023", "bodyText": "Updated in d2288ee", "author": "joshsadam", "createdAt": "2020-04-06T17:27:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI5NjE5Mg==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404296192", "bodyText": "Thanks.  Might want to make things configurable someday, but I think we'd want to make it all configurable rather than just the templates.", "author": "tom114", "createdAt": "2020-04-06T18:20:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTY1NA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404135654", "bodyText": "Reword please.  \"... can be easily rendered on and DOM node.\"", "author": "tom114", "createdAt": "2020-04-06T14:28:36Z", "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI3MzA5NQ==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404273095", "bodyText": "Updated in 7f485c3", "author": "joshsadam", "createdAt": "2020-04-06T17:42:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTY1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404142550", "bodyText": "Can you add a full example template file to the repo somewhere?  In the docs somewhere is fine.  Just something maybe with an example header, footer, main section, and the login form?\n\n  \n    Header\n  \n  \n    Institutional info\n    Login\n  \n  \n    Footer\n  \n\nSimilar to what you have in the image below?  That way they have something to start from.", "author": "tom114", "createdAt": "2020-04-06T14:37:19Z", "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MzIyMA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404143220", "bodyText": "With lots of commenting in the file as well please.", "author": "tom114", "createdAt": "2020-04-06T14:38:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ1ODQzMw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404458433", "bodyText": "Updated in b027455", "author": "joshsadam", "createdAt": "2020-04-06T23:59:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0ODYzMw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404148633", "bodyText": "Comment please", "author": "tom114", "createdAt": "2020-04-06T14:45:13Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -145,29 +145,55 @@ public void addViewControllers(ViewControllerRegistry registry) {\n \t\t\t\t.setViewName(\"projects/templates/referenceFiles/delete\");\n \t}\n \n+\tprivate ITemplateResolver internalTemplateResolver(){", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ5MzczMw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404493733", "bodyText": "Updated in 3fada17", "author": "joshsadam", "createdAt": "2020-04-07T02:04:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0ODYzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1MTI3Nw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404151277", "bodyText": "Remove the old login page entries if they're unused please.", "author": "tom114", "createdAt": "2020-04-06T14:48:32Z", "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -41,6 +40,21 @@ bc.automated-outputs=Automated Single Sample Analysis Outputs\n bc.metadata-templates=Sample Metadata Templates\n bc.delete=Delete Project\n \n+\n+# ========================================================================================== #\n+# LOGIN PAGE                                                                                 #\n+# ========================================================================================== #\n+LoginPage.username=Username", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ5NDU5Nw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404494597", "bodyText": "Updated in 66c29ec", "author": "joshsadam", "createdAt": "2020-04-07T02:08:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1MTI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1NjMxNA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404156314", "bodyText": "Comments in this file please.", "author": "tom114", "createdAt": "2020-04-06T14:54:47Z", "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUwNjI0OA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404506248", "bodyText": "Updated in f6b4ea1", "author": "joshsadam", "createdAt": "2020-04-07T02:54:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1NjMxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE4NjQyNQ==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404186425", "bodyText": "Can we focus the page on the username field on page load please?", "author": "tom114", "createdAt": "2020-04-06T15:33:56Z", "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {\n+  const [form] = Form.useForm();\n+\n+  const onFinish = () => document.getElementById(\"loginForm\").submit();\n+\n+  return (\n+    <Form\n+      form={form}\n+      onFinish={onFinish}\n+      name=\"loginForm\"\n+      action={setBaseUrl(`/login`)}\n+      method=\"POST\"\n+      size=\"large\"\n+    >\n+      <Item\n+        rules={[\n+          {\n+            required: true,\n+            message: i18n(\"LoginPage.username.required\")\n+          }\n+        ]}\n+      >\n+        <Input name=\"username\" prefix={<IconUser style={{ color: blue6 }} />} />", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUwNjI3MA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404506270", "bodyText": "Updated in f6b4ea1", "author": "joshsadam", "createdAt": "2020-04-07T02:54:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE4NjQyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNjg4NA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404206884", "bodyText": "I'm not really sure what this is for.  Is it for if they want to completely re-write the login form rather than use the <div id=\"login-root\"></div> section?  If so that needs more detail please.", "author": "tom114", "createdAt": "2020-04-06T16:01:18Z", "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>\n+  </body>\n+</html>\n+```\n+\n+ * CSS and JS links are required.  This will include all `React` and styles required.  the `th:` is for our server templating language Thymeleaf to set the url's properly.\n+ * `BASE_URL` is required by the script file in order to properly set the servlet context for the current installation.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+\n+#### Example of Custom login page\n+\n+![Custom Login Page](images/irida-custom-login.png)\n+\n+### Create a custom login form\n+\n+Login form basic skeleton:", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDY4OTE5MQ==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404689191", "bodyText": "Updated in 169dd13", "author": "joshsadam", "createdAt": "2020-04-07T10:03:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNjg4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNzkxMQ==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404207911", "bodyText": "Are they able to add their own JS/CSS/image resources to be displayed in this page as well?  If so how are they configured and served?", "author": "tom114", "createdAt": "2020-04-06T16:02:45Z", "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>", "originalCommit": "24e381330e4b1be216ecc238a37814bf1e662f25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDY5MjQ0OA==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404692448", "bodyText": "Added a small not in 3a0eb66.  This is something we can explore more later.  Perhaps they could use their own build system to store script in say /etc/irida/dist/ or something.  This might actually also work for plugin pipelines.", "author": "joshsadam", "createdAt": "2020-04-07T10:08:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNzkxMQ=="}], "type": "inlineReview"}, {"oid": "d2288ee32d326671d2956fe093660b433d82c904", "url": "https://github.com/phac-nml/irida/commit/d2288ee32d326671d2956fe093660b433d82c904", "message": "\ud83d\udea7 Hard coded the path the the templates directory", "committedDate": "2020-04-06T17:27:27Z", "type": "commit"}, {"oid": "7f485c3e133e712be832a9989c58a27ad7275a11", "url": "https://github.com/phac-nml/irida/commit/7f485c3e133e712be832a9989c58a27ad7275a11", "message": "\ud83d\udcd6\ufe0f Update documentation wording", "committedDate": "2020-04-06T17:41:57Z", "type": "commit"}, {"oid": "b0810eebc4de3a0b2848ab82589398c738125ad4", "url": "https://github.com/phac-nml/irida/commit/b0810eebc4de3a0b2848ab82589398c738125ad4", "message": "\ud83d\udcd6\ufe0f Updated custom image and included code", "committedDate": "2020-04-06T19:12:50Z", "type": "commit"}, {"oid": "b0274552fad93d381478b81249a221fcf912b700", "url": "https://github.com/phac-nml/irida/commit/b0274552fad93d381478b81249a221fcf912b700", "message": "\ud83d\udcd6\ufe0f Added example custom login page.", "committedDate": "2020-04-06T23:58:37Z", "type": "commit"}, {"oid": "3fada17fae4b0295b9854d7c7c771838a68333a8", "url": "https://github.com/phac-nml/irida/commit/3fada17fae4b0295b9854d7c7c771838a68333a8", "message": "\ud83d\udea7 Updated JavaDoc", "committedDate": "2020-04-07T02:04:44Z", "type": "commit"}, {"oid": "66c29ec3ce6805dc3d74f53579ae6fdbaa3b15b4", "url": "https://github.com/phac-nml/irida/commit/66c29ec3ce6805dc3d74f53579ae6fdbaa3b15b4", "message": "Updated internationalizations", "committedDate": "2020-04-07T02:07:56Z", "type": "commit"}, {"oid": "f6b4ea1f4aa4d44528b49ecfbb56cd3c270213ae", "url": "https://github.com/phac-nml/irida/commit/f6b4ea1f4aa4d44528b49ecfbb56cd3c270213ae", "message": "\ud83d\udea7 Update code comments and added focus to username when mounted", "committedDate": "2020-04-07T02:54:35Z", "type": "commit"}, {"oid": "169dd1396a046e4bfd0079d5c6672be5088d722f", "url": "https://github.com/phac-nml/irida/commit/169dd1396a046e4bfd0079d5c6672be5088d722f", "message": "\ud83d\udcd6\ufe0f Updated description of a fully custom login form", "committedDate": "2020-04-07T10:02:47Z", "type": "commit"}, {"oid": "3a0eb660bc720bca96ec3c70e1f70e5c5da08c17", "url": "https://github.com/phac-nml/irida/commit/3a0eb660bc720bca96ec3c70e1f70e5c5da08c17", "message": "\ud83d\udcd6\ufe0f Added documentation on adding custom scripts and styles", "committedDate": "2020-04-07T10:06:58Z", "type": "commit"}, {"oid": "f80675d907bf6e1897b8e2f1889d2414bb9a9111", "url": "https://github.com/phac-nml/irida/commit/f80675d907bf6e1897b8e2f1889d2414bb9a9111", "message": "Merge branch 'development' into ant-design-login\n\n# Conflicts:\n#\tCHANGELOG.md", "committedDate": "2020-04-07T10:39:51Z", "type": "commit"}, {"oid": "96d9a366ebbc4d556799f94ba2831976f8da2e46", "url": "https://github.com/phac-nml/irida/commit/96d9a366ebbc4d556799f94ba2831976f8da2e46", "message": "Updated yarn.lock after merging dev", "committedDate": "2020-04-07T10:40:27Z", "type": "commit"}, {"oid": "90e6802735f3e6cc7784156a72b8ac2d9e9bfaa2", "url": "https://github.com/phac-nml/irida/commit/90e6802735f3e6cc7784156a72b8ac2d9e9bfaa2", "message": "added a /static endpoint where installations can add custom resources", "committedDate": "2020-04-07T13:26:13Z", "type": "commit"}, {"oid": "49a3e4152ae7a11c547604d06ff834567f544c5f", "url": "https://github.com/phac-nml/irida/commit/49a3e4152ae7a11c547604d06ff834567f544c5f", "message": "added more comments about static page", "committedDate": "2020-04-07T13:45:01Z", "type": "commit"}, {"oid": "1cfbb7ce2901abb27afcf71aee74f45db442077d", "url": "https://github.com/phac-nml/irida/commit/1cfbb7ce2901abb27afcf71aee74f45db442077d", "message": "Merge pull request #647 from tom114/login-static-resources\n\n/static endpoint for customizing brand", "committedDate": "2020-04-07T14:14:07Z", "type": "commit"}, {"oid": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b", "url": "https://github.com/phac-nml/irida/commit/7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b", "message": "\ud83d\udcd6\ufe0f Updated documentation on static resources.", "committedDate": "2020-04-07T14:49:56Z", "type": "commit"}, {"oid": "02a74bd3ca024697402d0bc8a36154b48f489fdb", "url": "https://github.com/phac-nml/irida/commit/02a74bd3ca024697402d0bc8a36154b48f489fdb", "message": "Fixed styles on password reset page.", "committedDate": "2020-04-07T15:14:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkxMDkwMw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404910903", "bodyText": "Can we change this to Adding custom resources?\nAlso add some about adding images in here as well.  It'll likely be one of the biggest uses of this feature.", "author": "tom114", "createdAt": "2020-04-07T15:41:00Z", "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,92 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system, and save it to the path `/etc/irida/templates/`;\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be added to any template by adding:\n+\n+ * CSS (`/dist/css/login.bundle.css`) and JS (`/dist/js/login.bundle.js`) files.\n+ * A `head` > `script` tag with a global `PAGE` variable containing: `BASE_URL: /*[[@{\"/\"}]]*/ \"/\"` as an attribute.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+ \n+#### Adding custom script", "originalCommit": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkyNDE4Mw==", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404924183", "bodyText": "Updated in 7a8e711", "author": "joshsadam", "createdAt": "2020-04-07T15:58:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkxMDkwMw=="}], "type": "inlineReview"}, {"oid": "7a8e711a72be7eaa4dda707e1a604f9e0dbbb6fa", "url": "https://github.com/phac-nml/irida/commit/7a8e711a72be7eaa4dda707e1a604f9e0dbbb6fa", "message": "\ud83d\udcd6\ufe0f Update wording for adding custom resources.", "committedDate": "2020-04-07T15:53:30Z", "type": "commit"}, {"oid": "99930029eceec33d22775645e7f63356e8f40eed", "url": "https://github.com/phac-nml/irida/commit/99930029eceec33d22775645e7f63356e8f40eed", "message": "Added better description for images", "committedDate": "2020-04-07T15:58:02Z", "type": "commit"}, {"oid": "049eb1dd821c560e09e814621009f248c6d01c87", "url": "https://github.com/phac-nml/irida/commit/049eb1dd821c560e09e814621009f248c6d01c87", "message": "\ud83d\udcd6\ufe0f Fixed formatting of thymeleaf attributes", "committedDate": "2020-04-07T16:04:02Z", "type": "commit"}, {"oid": "28145ddfec4d4e70003a3976e89f3613fd40b44f", "url": "https://github.com/phac-nml/irida/commit/28145ddfec4d4e70003a3976e89f3613fd40b44f", "message": "Fixed displaying errors", "committedDate": "2020-04-07T18:41:14Z", "type": "commit"}, {"oid": "12e9af73d10fac7aa67b962efb07727e6ff959ac", "url": "https://github.com/phac-nml/irida/commit/12e9af73d10fac7aa67b962efb07727e6ff959ac", "message": "added basic example login pages", "committedDate": "2020-04-07T18:47:34Z", "type": "commit"}, {"oid": "8fb1f5e75bb1c5cf739bf29f73d063d6507fb3e7", "url": "https://github.com/phac-nml/irida/commit/8fb1f5e75bb1c5cf739bf29f73d063d6507fb3e7", "message": "removed hasError from the basic login", "committedDate": "2020-04-07T18:58:36Z", "type": "commit"}, {"oid": "5efed4521810acfbcef179aa31382dda4be2a9b8", "url": "https://github.com/phac-nml/irida/commit/5efed4521810acfbcef179aa31382dda4be2a9b8", "message": "\ud83d\udea7 Fixed login issue", "committedDate": "2020-04-07T20:02:48Z", "type": "commit"}, {"oid": "2e3f7d431d1a22f914e7ae1662308f7cac364ef6", "url": "https://github.com/phac-nml/irida/commit/2e3f7d431d1a22f914e7ae1662308f7cac364ef6", "message": "Merge pull request #648 from tom114/basic-custom-login\n\nBasic custom login", "committedDate": "2020-04-07T20:06:03Z", "type": "commit"}, {"oid": "3f946885e8d806bbe56b0aeb6d6eca6516edd76d", "url": "https://github.com/phac-nml/irida/commit/3f946885e8d806bbe56b0aeb6d6eca6516edd76d", "message": "Merge branch 'development' into ant-design-login", "committedDate": "2020-04-07T20:09:27Z", "type": "commit"}]}