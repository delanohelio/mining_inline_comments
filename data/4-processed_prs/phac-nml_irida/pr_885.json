{"pr_number": 885, "pr_title": "Analysis results UI updates", "pr_createdAt": "2020-12-04T20:47:28Z", "pr_url": "https://github.com/phac-nml/irida/pull/885", "timeline": [{"oid": "896be9071a46453c11670574907af9d108e6c0d0", "url": "https://github.com/phac-nml/irida/commit/896be9071a46453c11670574907af9d108e6c0d0", "message": "Added skeleton when data for json outputs is being loaded as this could take some time", "committedDate": "2020-12-04T16:37:52Z", "type": "commit"}, {"oid": "e5dfcca0c6f75eb78132af5367682b39b36a2207", "url": "https://github.com/phac-nml/irida/commit/e5dfcca0c6f75eb78132af5367682b39b36a2207", "message": "Updated CHANGELOG", "committedDate": "2020-12-04T16:39:03Z", "type": "commit"}, {"oid": "cdf0657ccd5c8ab744da6f3e4b1b526d7a86ccc7", "url": "https://github.com/phac-nml/irida/commit/cdf0657ccd5c8ab744da6f3e4b1b526d7a86ccc7", "message": "Added loading to tabular file display, added a loading indicator when retrieving file chunk", "committedDate": "2020-12-04T20:41:19Z", "type": "commit"}, {"oid": "f68f7064b9a75f911abdc80ec919dcbb378a1783", "url": "https://github.com/phac-nml/irida/commit/f68f7064b9a75f911abdc80ec919dcbb378a1783", "message": "Updated CHANGELOG", "committedDate": "2020-12-04T20:46:21Z", "type": "commit"}, {"oid": "3a249daad9134a6dcacd1c120dba006e1232d8de", "url": "https://github.com/phac-nml/irida/commit/3a249daad9134a6dcacd1c120dba006e1232d8de", "message": "Updated setting of setLoading to outside the if block", "committedDate": "2020-12-04T21:29:00Z", "type": "commit"}, {"oid": "5fe7f27e52704a861829824bb4dc51834f9127cd", "url": "https://github.com/phac-nml/irida/commit/5fe7f27e52704a861829824bb4dc51834f9127cd", "message": "Fixed bug with download button being enabled when it should be disabled", "committedDate": "2020-12-08T16:50:42Z", "type": "commit"}, {"oid": "daef79c91a2ef020e23eea2ca3411a63afcf9e5b", "url": "https://github.com/phac-nml/irida/commit/daef79c91a2ef020e23eea2ca3411a63afcf9e5b", "message": "Merged dev and fixed merge conflicts", "committedDate": "2020-12-08T18:50:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI2MjE0Ng==", "url": "https://github.com/phac-nml/irida/pull/885#discussion_r538262146", "bodyText": "You already have state.value !== \"COMPLETED\" as a variable isAnalysisCompleted why repeat check it?  That will get re-evaluated every time this component gets new props.", "author": "joshsadam", "createdAt": "2020-12-08T11:30:32Z", "path": "src/main/webapp/resources/js/components/AnalysesTable/AnalysisDownloadButton.jsx", "diffHunk": "@@ -15,20 +15,24 @@ import { AnalysesTableContext } from \"../../contexts/AnalysesTableContext\";\n  * @constructor\n  */\n export function AnalysisDownloadButton({ state, analysisId, updateDelay }) {\n-  const [isAnalysisCompleted, setIsAnalysisCompleted] = useState(state.value !== \"COMPLETED\");\n+  const [isAnalysisCompleted, setIsAnalysisCompleted] = useState(\n+    state.value !== \"COMPLETED\"\n+  );\n   const { analysesTableContext } = useContext(AnalysesTableContext);\n \n   // Update if an analysis is completed (to enable or disable download results button)\n   const intervalId = useInterval(() => {\n-    if(state.value !== \"COMPLETED\" && state.value !== \"ERROR\") {\n-      let rowData = analysesTableContext.rows.filter(row => row.identifier === analysisId);\n+    if (state.value !== \"COMPLETED\" && state.value !== \"ERROR\") {", "originalCommit": "3a249daad9134a6dcacd1c120dba006e1232d8de", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}