{"pr_number": 623, "pr_title": "Refactor admin users list to ant design", "pr_createdAt": "2020-03-10T20:02:08Z", "pr_url": "https://github.com/phac-nml/irida/pull/623", "timeline": [{"oid": "666cdcf5c2255426461637fe612c4fbd4b653ad7", "url": "https://github.com/phac-nml/irida/commit/666cdcf5c2255426461637fe612c4fbd4b653ad7", "message": "Added it to the top level `page.html` for react pages to render their components to.", "committedDate": "2020-02-18T16:54:33Z", "type": "commit"}, {"oid": "53d2e62f77f534bee2f88bf9f27a6793db03fb32", "url": "https://github.com/phac-nml/irida/commit/53d2e62f77f534bee2f88bf9f27a6793db03fb32", "message": "Initial page setup.", "committedDate": "2020-02-18T19:16:56Z", "type": "commit"}, {"oid": "b05ddc2e2829025efe249e7e27a9b06ed34540c3", "url": "https://github.com/phac-nml/irida/commit/b05ddc2e2829025efe249e7e27a9b06ed34540c3", "message": "Initial page setup.", "committedDate": "2020-02-19T14:33:37Z", "type": "commit"}, {"oid": "cfb85180c2c24ecdb452fbc1514eb6eeaf3f576e", "url": "https://github.com/phac-nml/irida/commit/cfb85180c2c24ecdb452fbc1514eb6eeaf3f576e", "message": "Merge branch 'announcements-admin-create-edit' into users-list", "committedDate": "2020-02-20T19:24:00Z", "type": "commit"}, {"oid": "7575f7b020c6493cb2ab460904589de2e827fc13", "url": "https://github.com/phac-nml/irida/commit/7575f7b020c6493cb2ab460904589de2e827fc13", "message": "Working on new ajax handler for users.", "committedDate": "2020-02-20T20:22:31Z", "type": "commit"}, {"oid": "b9f73404823e17d0d9a78a51b0a9652a02e59ee2", "url": "https://github.com/phac-nml/irida/commit/b9f73404823e17d0d9a78a51b0a9652a02e59ee2", "message": "Merge branch 'development' into users-list", "committedDate": "2020-02-20T20:24:04Z", "type": "commit"}, {"oid": "f8941303fbbc5b282ed59e8c0cf30f2834c5a42e", "url": "https://github.com/phac-nml/irida/commit/f8941303fbbc5b282ed59e8c0cf30f2834c5a42e", "message": "Users role can be updated in select.", "committedDate": "2020-02-20T21:32:30Z", "type": "commit"}, {"oid": "f46de4197b3cc55285b733bdfc8f6ab9ea2badf5", "url": "https://github.com/phac-nml/irida/commit/f46de4197b3cc55285b733bdfc8f6ab9ea2badf5", "message": "Added a border to contain the tables", "committedDate": "2020-02-21T14:07:18Z", "type": "commit"}, {"oid": "8eeeb42339ef235029071ef8f260ca8ef4154a08", "url": "https://github.com/phac-nml/irida/commit/8eeeb42339ef235029071ef8f260ca8ef4154a08", "message": "Fixed formatting issue", "committedDate": "2020-02-21T14:07:37Z", "type": "commit"}, {"oid": "adb88c9ead7ac8bf7610060e4b8cc325c083fdf2", "url": "https://github.com/phac-nml/irida/commit/adb88c9ead7ac8bf7610060e4b8cc325c083fdf2", "message": "Renamed 'Guy Disabled' to 'Jock Longbeard'", "committedDate": "2020-02-21T15:18:36Z", "type": "commit"}, {"oid": "293fa9c6cb411d619eed822cb4b726998712f730", "url": "https://github.com/phac-nml/irida/commit/293fa9c6cb411d619eed822cb4b726998712f730", "message": "Full working users table.", "committedDate": "2020-02-21T16:52:59Z", "type": "commit"}, {"oid": "e44af23fb87923e5964adba031b5abfe252f7c21", "url": "https://github.com/phac-nml/irida/commit/e44af23fb87923e5964adba031b5abfe252f7c21", "message": "Merge branch 'development' into users-list", "committedDate": "2020-02-24T19:35:07Z", "type": "commit"}, {"oid": "25b5210e8c9232460629c8a3f9ab423f00102e30", "url": "https://github.com/phac-nml/irida/commit/25b5210e8c9232460629c8a3f9ab423f00102e30", "message": "merged development", "committedDate": "2020-03-03T14:12:29Z", "type": "commit"}, {"oid": "37dfdcf5c8db38cb42f9837cfeac9372ef127b97", "url": "https://github.com/phac-nml/irida/commit/37dfdcf5c8db38cb42f9837cfeac9372ef127b97", "message": "Updated JavaDoc for AdminusersAjaxController", "committedDate": "2020-03-03T14:18:08Z", "type": "commit"}, {"oid": "82e5a4865e6a5d3cec5ceda70e9908d0b41322cc", "url": "https://github.com/phac-nml/irida/commit/82e5a4865e6a5d3cec5ceda70e9908d0b41322cc", "message": "Updated server requests to return messages", "committedDate": "2020-03-03T15:18:03Z", "type": "commit"}, {"oid": "3c52831df3490ff4b06a523c4be3f44fd92dfae5", "url": "https://github.com/phac-nml/irida/commit/3c52831df3490ff4b06a523c4be3f44fd92dfae5", "message": "Merge branch 'development' into users-list\n\n# Conflicts:\n#\tsrc/main/resources/i18n/messages.properties", "committedDate": "2020-03-10T18:02:39Z", "type": "commit"}, {"oid": "bf44edfb5d198e0c015c71d6226ae6210699d89f", "url": "https://github.com/phac-nml/irida/commit/bf44edfb5d198e0c015c71d6226ae6210699d89f", "message": "Merge branch 'remote-api-ant-design' into users-list", "committedDate": "2020-03-10T18:17:28Z", "type": "commit"}, {"oid": "b44424cc147a7dd068add6024cd610fb97ba7ff6", "url": "https://github.com/phac-nml/irida/commit/b44424cc147a7dd068add6024cd610fb97ba7ff6", "message": "fix: Need to be an admin to see the users listing page", "committedDate": "2020-03-10T18:18:53Z", "type": "commit"}, {"oid": "9fe293350175b5a73decc2dda19087525688e872", "url": "https://github.com/phac-nml/irida/commit/9fe293350175b5a73decc2dda19087525688e872", "message": "test: Updated tests for admin users", "committedDate": "2020-03-10T19:58:11Z", "type": "commit"}, {"oid": "61af0a8f9503d2120629999f46c54cbb64260b36", "url": "https://github.com/phac-nml/irida/commit/61af0a8f9503d2120629999f46c54cbb64260b36", "message": "Added test file for all ant design tables", "committedDate": "2020-03-10T20:00:51Z", "type": "commit"}, {"oid": "d5203f666d1b36aefb3cb2dd40417015cab2aa0e", "url": "https://github.com/phac-nml/irida/commit/d5203f666d1b36aefb3cb2dd40417015cab2aa0e", "message": "Merge branch 'remote-api-ant-design' into users-list", "committedDate": "2020-03-11T13:54:56Z", "type": "commit"}, {"oid": "27514d5061df95005ff2e9b8f5fc80eec55380ce", "url": "https://github.com/phac-nml/irida/commit/27514d5061df95005ff2e9b8f5fc80eec55380ce", "message": "docs: Update JavaDoc on AdminUsersAjaxController", "committedDate": "2020-03-11T14:15:46Z", "type": "commit"}, {"oid": "bc78214b8fb6440591fe6decbd3c57c89984e942", "url": "https://github.com/phac-nml/irida/commit/bc78214b8fb6440591fe6decbd3c57c89984e942", "message": "fix: Fixed internationalization on AdminUsersPage", "committedDate": "2020-03-11T14:16:05Z", "type": "commit"}, {"oid": "9bccd1e5ab374fd3d9acffe95925b55d228f0060", "url": "https://github.com/phac-nml/irida/commit/9bccd1e5ab374fd3d9acffe95925b55d228f0060", "message": "fix: JavaDoc error", "committedDate": "2020-03-11T14:18:12Z", "type": "commit"}, {"oid": "6c5e9d63b159eac12398ca6dbd377fcce6651853", "url": "https://github.com/phac-nml/irida/commit/6c5e9d63b159eac12398ca6dbd377fcce6651853", "message": "refactor: Removed unused code", "committedDate": "2020-03-11T14:19:03Z", "type": "commit"}, {"oid": "7a4255f81fce3d7c842df3831083d357a13d6fbc", "url": "https://github.com/phac-nml/irida/commit/7a4255f81fce3d7c842df3831083d357a13d6fbc", "message": "fix: Fixed issue when rendering tables due to null className", "committedDate": "2020-03-11T14:52:57Z", "type": "commit"}, {"oid": "e86024230d111ef2e537000b824d1af47650c14e", "url": "https://github.com/phac-nml/irida/commit/e86024230d111ef2e537000b824d1af47650c14e", "message": "Merge branch 'development' into users-list", "committedDate": "2020-03-11T14:53:06Z", "type": "commit"}, {"oid": "93c774cc5ea221e10f0434a72a8083a64b27823c", "url": "https://github.com/phac-nml/irida/commit/93c774cc5ea221e10f0434a72a8083a64b27823c", "message": "docs: Updated CHANGELOG", "committedDate": "2020-03-11T19:19:00Z", "type": "commit"}, {"oid": "cae70e0854feadf063ba40d546771c6654e9ef72", "url": "https://github.com/phac-nml/irida/commit/cae70e0854feadf063ba40d546771c6654e9ef72", "message": "fix: Don't let the current user disabled themselves", "committedDate": "2020-03-11T19:59:07Z", "type": "commit"}, {"oid": "e61e1f310693d282d4110f6baed2bfa0bf511da7", "url": "https://github.com/phac-nml/irida/commit/e61e1f310693d282d4110f6baed2bfa0bf511da7", "message": "docs: Updated documentation for users table", "committedDate": "2020-03-11T20:05:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxNzA1MQ==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391817051", "bodyText": "Since users.username and users.role were removed from the file the translations aren't found on the user create and user edit pages. So you will need to update those pages to use the new translation keys or add these two back to the messages file", "author": "deepsidhu85", "createdAt": "2020-03-12T18:36:07Z", "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -351,24 +351,11 @@ project.members.add.success={0} was added to project {1}.\n project.members.add.error=An error occurred while adding the user to the project.\n project.members.add.required=User and project role must be selected before submitting.\n project.members.remove.modal.confirm=You are about to remove <strong>{0}</strong> from the project.\n-\n # Project Metadata\n project.metadata.id=Project Id\n project.metadata.createdDate=Created Date\n project.metadata.modifiedDate=Modified Date\n \n-# Users Page", "originalCommit": "e61e1f310693d282d4110f6baed2bfa0bf511da7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg0NDM2Mw==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391844363", "bodyText": "Put back in 7534146", "author": "joshsadam", "createdAt": "2020-03-12T19:29:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxNzA1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxNzU2MQ==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391817561", "bodyText": "Comments", "author": "deepsidhu85", "createdAt": "2020-03-12T18:37:06Z", "path": "src/main/webapp/resources/js/apis/users/users.js", "diffHunk": "@@ -0,0 +1,12 @@\n+import axios from \"axios\";", "originalCommit": "e61e1f310693d282d4110f6baed2bfa0bf511da7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg0MzA4Mw==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391843083", "bodyText": "Updated in 9f51df6", "author": "joshsadam", "createdAt": "2020-03-12T19:26:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxNzU2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxNzk5Ng==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391817996", "bodyText": "Use the border constant we have in the borders.js file.", "author": "deepsidhu85", "createdAt": "2020-03-12T18:37:58Z", "path": "src/main/webapp/resources/js/components/ant.design/PagedTable/PagedTable.jsx", "diffHunk": "@@ -2,6 +2,17 @@ import React, { useContext } from \"react\";\n import { PagedTableContext } from \"./PagedTableContext\";\n import { SPACE_XS } from \"../../../styles/spacing\";\n import { Input, Table } from \"antd\";\n+import styled from \"styled-components\";\n+import { grey4, grey7 } from \"../../../styles/colors\";\n+\n+const StyledTable = styled(Table)`\n+  border: 1px solid ${grey4};", "originalCommit": "e61e1f310693d282d4110f6baed2bfa0bf511da7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg0NTYxMA==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391845610", "bodyText": "Updated by moving to app.scss (like I asked you to do in your merge request)", "author": "joshsadam", "createdAt": "2020-03-12T19:32:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxNzk5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxODU0NQ==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391818545", "bodyText": "File comments", "author": "deepsidhu85", "createdAt": "2020-03-12T18:38:55Z", "path": "src/main/webapp/resources/js/pages/AdminUsersPage.jsx", "diffHunk": "@@ -0,0 +1,158 @@\n+import React, { useContext } from \"react\";", "originalCommit": "e61e1f310693d282d4110f6baed2bfa0bf511da7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg0NjIxNQ==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391846215", "bodyText": "Updated in 9daf748", "author": "joshsadam", "createdAt": "2020-03-12T19:33:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgxODU0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgyMzg0Mw==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391823843", "bodyText": "This should also display a notification when it's been updated.", "author": "deepsidhu85", "createdAt": "2020-03-12T18:48:39Z", "path": "src/main/webapp/resources/js/pages/AdminUsersPage.jsx", "diffHunk": "@@ -0,0 +1,158 @@\n+import React, { useContext } from \"react\";\n+import { render } from \"react-dom\";\n+import { PageWrapper } from \"../components/page/PageWrapper\";\n+import {\n+  PagedTable,\n+  PagedTableContext,\n+  PagedTableProvider\n+} from \"../components/ant.design/PagedTable\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { AddNewButton } from \"../components/Buttons/AddNewButton\";\n+import { dateColumnFormat } from \"../components/ant.design/table-renderers\";\n+import { Button, Checkbox } from \"antd\";\n+import { EditOutlined } from \"@ant-design/icons\";\n+import { setUsersDisabledStatus } from \"../apis/users/users\";\n+\n+function UsersTable() {\n+  const { updateTable } = useContext(PagedTableContext);\n+\n+  function updateUser(user) {", "originalCommit": "e61e1f310693d282d4110f6baed2bfa0bf511da7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg0NjU2Mg==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391846562", "bodyText": "The table provides instant feedback by updating the status of the checkbox.  Nothing more is needed.", "author": "joshsadam", "createdAt": "2020-03-12T19:34:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgyMzg0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg1MTU3MQ==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391851571", "bodyText": "Shouldn't the user have to confirm the change in that case? I'm just thinking about if a user accidentally disables someones account and doesn't realize it as no feedback was provided", "author": "deepsidhu85", "createdAt": "2020-03-12T19:44:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgyMzg0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTg1MzMxMA==", "url": "https://github.com/phac-nml/irida/pull/623#discussion_r391853310", "bodyText": "Because it is a simple task and easily undo-able, it does not need a confirmation.  Only complex tasks or ones that cannot be undone need confirmation.", "author": "joshsadam", "createdAt": "2020-03-12T19:48:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgyMzg0Mw=="}], "type": "inlineReview"}, {"oid": "88df844d949315af1888cf60443acb4923d506ab", "url": "https://github.com/phac-nml/irida/commit/88df844d949315af1888cf60443acb4923d506ab", "message": "fix: Updated file comments", "committedDate": "2020-03-12T19:26:31Z", "type": "commit"}, {"oid": "753414651f6664b310706888504b0ce1965532bb", "url": "https://github.com/phac-nml/irida/commit/753414651f6664b310706888504b0ce1965532bb", "message": "fix: Return i18n keys that are still in use", "committedDate": "2020-03-12T19:29:11Z", "type": "commit"}, {"oid": "c0adfc2fa2bc66692d163c332522565ad55f305d", "url": "https://github.com/phac-nml/irida/commit/c0adfc2fa2bc66692d163c332522565ad55f305d", "message": "fix: Updated styling on tables to app.scss file", "committedDate": "2020-03-12T19:31:39Z", "type": "commit"}, {"oid": "9daf748b5dbcb73d9c8e390107b78c30d6c86797", "url": "https://github.com/phac-nml/irida/commit/9daf748b5dbcb73d9c8e390107b78c30d6c86797", "message": "doc: Updated file comments", "committedDate": "2020-03-12T19:33:16Z", "type": "commit"}]}