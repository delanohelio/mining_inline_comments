{"pr_number": 18829, "pr_title": "#18187 Using whitespace analyzer with the host aliases", "pr_createdAt": "2020-07-06T17:55:09Z", "pr_url": "https://github.com/dotCMS/core/pull/18829", "timeline": [{"oid": "b71e09def9f243a3b4f7a42a029b2ffde138a2ce", "url": "https://github.com/dotCMS/core/commit/b71e09def9f243a3b4f7a42a029b2ffde138a2ce", "message": "Merge pull request #18808 from dotCMS/release-5.3.4\n\nRelease 5.3.4", "committedDate": "2020-07-01T17:39:49Z", "type": "commit"}, {"oid": "021bac1ff0e9a2243c3291e645ba9fa8f0a69c41", "url": "https://github.com/dotCMS/core/commit/021bac1ff0e9a2243c3291e645ba9fa8f0a69c41", "message": "Revert release version values for master", "committedDate": "2020-07-01T17:42:06Z", "type": "commit"}, {"oid": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4", "url": "https://github.com/dotCMS/core/commit/f65f0494fe7582e99fc95f546f932a1c9fd3d7a4", "message": "#18187 Using whitespace analyzer with the host aliases", "committedDate": "2020-07-06T17:52:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQwNjc1MQ==", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r450406751", "bodyText": "Please write a test that tests where there are multiple host aliases separated by \\r and \\n and also a tab and space.\nAlso, the broken case is where there are multiple hosts that start with not- e.g. prod-client.dotcms.com and prod-anotherclient.dotcms.com.  Please write a test for this as well - as it is the broken case.", "author": "wezell", "createdAt": "2020-07-06T18:31:30Z", "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/contentlet/business/HostAPITest.java", "diffHunk": "@@ -639,4 +639,25 @@ private void addPermission(final Role role, final Host host)\n         APILocator.getPermissionAPI().save(CollectionsUtils.list(permission), host, systemUser, false);\n     }\n \n+    /**\n+     * Method to test: {@link HostAPI#findByAlias(String, User, boolean)}\n+     * When create two host: first one with alias equals to demo.dotcms.com and second  one with alias equals to not-demo.dotcms.com\n+     *      and find by  demo.dotcms.com\n+     * Should return the first one\n+     */\n+    @Test\n+    public void shouldReturnHostByAlias() throws DotSecurityException, DotDataException {\n+        final Host host = new SiteDataGen().aliases(\"demo.dotcms.com\").nextPersisted();\n+        final Host host_2 = new SiteDataGen().aliases(\"not-demo.dotcms.com\").setDefault(true).nextPersisted();", "originalCommit": "f65f0494fe7582e99fc95f546f932a1c9fd3d7a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ2OTA1Mg==", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r450469052", "bodyText": "done\n1c06c59", "author": "freddyucv", "createdAt": "2020-07-06T20:42:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQwNjc1MQ=="}], "type": "inlineReview"}, {"oid": "1c06c59de80cc2b15782eceb455d7b8d27d149ec", "url": "https://github.com/dotCMS/core/commit/1c06c59de80cc2b15782eceb455d7b8d27d149ec", "message": "#18187 Testing", "committedDate": "2020-07-06T19:41:15Z", "type": "commit"}, {"oid": "e3f63dcdde8d7adcc796f818fb1b3a7822593f78", "url": "https://github.com/dotCMS/core/commit/e3f63dcdde8d7adcc796f818fb1b3a7822593f78", "message": "#18187 Testing", "committedDate": "2020-07-06T21:15:22Z", "type": "commit"}, {"oid": "2dbf65438ab13c40655ac3bd793eb1dacb9b59df", "url": "https://github.com/dotCMS/core/commit/2dbf65438ab13c40655ac3bd793eb1dacb9b59df", "message": "#18187 Testing", "committedDate": "2020-07-06T22:51:19Z", "type": "commit"}, {"oid": "8f3fce6c1a27a9ddb894f5e2b52dc7f10e462c31", "url": "https://github.com/dotCMS/core/commit/8f3fce6c1a27a9ddb894f5e2b52dc7f10e462c31", "message": "#18187 Testing", "committedDate": "2020-07-07T14:07:20Z", "type": "commit"}, {"oid": "7b6854b969f202989cdf93e2851f26ba30e090f6", "url": "https://github.com/dotCMS/core/commit/7b6854b969f202989cdf93e2851f26ba30e090f6", "message": "#18187 Testing", "committedDate": "2020-07-07T15:38:38Z", "type": "commit"}, {"oid": "da02c8d064d579c7fd642d65aab5e741573e61ac", "url": "https://github.com/dotCMS/core/commit/da02c8d064d579c7fd642d65aab5e741573e61ac", "message": "Update HostAPITest.java\n\nRemove set default to true", "committedDate": "2020-07-07T17:00:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAxNjU4NA==", "url": "https://github.com/dotCMS/core/pull/18829#discussion_r451016584", "bodyText": "Codacy found an issue: Field aliases has the same name as a method", "author": "dev-dotcms", "createdAt": "2020-07-07T17:08:34Z", "path": "dotCMS/src/integration-test/java/com/dotcms/datagen/SiteDataGen.java", "diffHunk": "@@ -14,22 +14,38 @@\n     private final long currentTime = System.currentTimeMillis();\n \n     private String name = \"test\" + currentTime + \".dotcms.com\";\n+    private String aliases;", "originalCommit": "da02c8d064d579c7fd642d65aab5e741573e61ac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}