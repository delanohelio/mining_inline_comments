{"pr_number": 19423, "pr_title": "#18505 now the JSONTool uses the Jackson to map the string json as a \u2026", "pr_createdAt": "2020-10-09T20:19:04Z", "pr_url": "https://github.com/dotCMS/core/pull/19423", "timeline": [{"oid": "45650402e05f86d95bd2b1cf66ed8d7cd7d68da0", "url": "https://github.com/dotCMS/core/commit/45650402e05f86d95bd2b1cf66ed8d7cd7d68da0", "message": "#18505 now the JSONTool uses the Jackson to map the string json as a single Maps and Lists", "committedDate": "2020-10-09T20:17:58Z", "type": "commit"}, {"oid": "34b50cb4db346821a9b6baade95410867c93399d", "url": "https://github.com/dotCMS/core/commit/34b50cb4db346821a9b6baade95410867c93399d", "message": "#18505 now the JSONTool uses the Jackson to map the string json as a single Maps and Lists", "committedDate": "2020-10-09T20:20:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ4NA==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656484", "bodyText": "Codacy found an issue: The String literal \"            \"body\": \"## Container: Blank Container\\r\\n## This is autogenerated code that cannot be changed\\r\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\r\\n\",\\n\" appears 4 times in this file; the first occurrence is on line 42", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:25Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ5NQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656495", "bodyText": "Codacy found an issue: The String literal \"            \"owner\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 66", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:26Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjQ5Nw==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656497", "bodyText": "Codacy found an issue: The String literal \"            \"drawed\": false,\\n\" appears 4 times in this file; the first occurrence is on line 50", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:27Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUwMQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656501", "bodyText": "Codacy found an issue: The String literal \"            \"headCode\": null,\\n\" appears 4 times in this file; the first occurrence is on line 55", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:28Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUxMQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656511", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:29Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjUzMg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656532", "bodyText": "Codacy found an issue: Use assertTrue(x)/assertFalse(x) instead of assertEquals(true, x)/assertEquals(false, x) or assertEquals(Boolean.TRUE, x)/assertEquals(Boolean.FALSE, x).", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:32Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU0NQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656545", "bodyText": "Codacy found an issue: Avoid variables with short names like s", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:33Z", "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();\n   /**\n    * Returns a JSONObject as constructed from the provided string.\n    *\n    * @param s The JSON string.\n    * @return A JSONObject as parsed from the provided string, null in the event of an error.\n    */\n-  public Object generate(String s) {\n+  public Object generate(final String s) {", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU1NQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656555", "bodyText": "Codacy found an issue: The String literal \"            \"canPublish\": true,\\n\" appears 4 times in this file; the first occurrence is on line 43", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:34Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU2MQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656561", "bodyText": "Codacy found an issue: The String literal \"            \"title\": \"Blank\",\\n\" appears 4 times in this file; the first occurrence is on line 72", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:35Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU2OA==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656568", "bodyText": "Codacy found an issue: Avoid instantiating an object just to call getClass() on it; use the .class public member instead", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:36Z", "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU3Mg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656572", "bodyText": "Codacy found an issue: The String literal \"            \"categoryId\": \"9d11b327-9bf5-4d42-92bd-7894d56ed218\",\\n\" appears 4 times in this file; the first occurrence is on line 46", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:37Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU3Nw==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656577", "bodyText": "Codacy found an issue: The String literal \"            \"theme\": null,\\n\" appears 4 times in this file; the first occurrence is on line 70", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:38Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU4Mw==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656583", "bodyText": "Codacy found an issue: The String literal \"            \"header\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 56", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:39Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU4Nw==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656587", "bodyText": "Codacy found an issue: The String literal \"            \"sortOrder\": 0,\\n\" appears 4 times in this file; the first occurrence is on line 69", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:40Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU5Mg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656592", "bodyText": "Codacy found an issue: The String literal \"            \"countAddContainer\": 0,\\n\" appears 4 times in this file; the first occurrence is on line 47", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:41Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjU5OQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656599", "bodyText": "Codacy found an issue: The String literal \"            \"showOnMenu\": true,\\n\" appears 4 times in this file; the first occurrence is on line 68", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:42Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYwNg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656606", "bodyText": "Codacy found an issue: Use assertTrue(x)/assertFalse(x) instead of assertEquals(true, x)/assertEquals(false, x) or assertEquals(Boolean.TRUE, x)/assertEquals(Boolean.FALSE, x).", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:43Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYxMg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656612", "bodyText": "Codacy found an issue: The String literal \"Blank\" appears 4 times in this file; the first occurrence is on line 85", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:44Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));\n+        assertEquals(\"Blank\", map.get(\"name\"));", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYxNw==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656617", "bodyText": "Codacy found an issue: The String literal \"            \"modDate\": 1570214794657,\\n\" appears 4 times in this file; the first occurrence is on line 62", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:45Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYyMg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656622", "bodyText": "Codacy found an issue: The String literal \"new\" appears 4 times in this file; the first occurrence is on line 84", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:46Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +\n+                \"            \\\"owner\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"selectedimage\\\": null,\\n\" +\n+                \"            \\\"showOnMenu\\\": true,\\n\" +\n+                \"            \\\"sortOrder\\\": 0,\\n\" +\n+                \"            \\\"theme\\\": null,\\n\" +\n+                \"            \\\"themeName\\\": null,\\n\" +\n+                \"            \\\"title\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"working\\\": true\\n\" +\n+                \"        }\";\n+        final Object objectMap = jsonTool.generate(stringJson);\n+\n+        assertNotNull(objectMap);\n+        assertTrue(objectMap instanceof Map);\n+\n+        final Map<String, Object> map = (Map<String, Object>) objectMap;\n+        assertFalse(map.isEmpty());\n+\n+        assertEquals(true, map.get(\"canPublish\"));\n+        assertEquals(false, map.get(\"new\"));", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYyNg==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656626", "bodyText": "Codacy found an issue: The String literal \"            \"deleted\": false,\\n\" appears 4 times in this file; the first occurrence is on line 49", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:47Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYzNA==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656634", "bodyText": "Codacy found an issue: The String literal \"            \"new\": false,\\n\" appears 4 times in this file; the first occurrence is on line 65", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:48Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +\n+                \"            \\\"new\\\": false,\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjYzOQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656639", "bodyText": "Codacy found an issue: The String literal \"            \"footer\": \"null\",\\n\" appears 4 times in this file; the first occurrence is on line 52", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:49Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjY0OA==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656648", "bodyText": "Codacy found an issue: Avoid variables with short names like s", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:50Z", "path": "dotCMS/src/main/java/com/dotcms/rendering/velocity/viewtools/JSONTool.java", "diffHunk": "@@ -247,13 +249,35 @@ public Object generate(Object o) {\n     return new JSONObject(o);\n   }\n \n+  private final static Class LIST_MAP_CLASS = new ArrayList<Map<String, Object>>().getClass();\n+  private final static Class MAP_CLASS      = new HashMap<String, Object>().getClass();\n   /**\n    * Returns a JSONObject as constructed from the provided string.\n    *\n    * @param s The JSON string.\n    * @return A JSONObject as parsed from the provided string, null in the event of an error.\n    */\n-  public Object generate(String s) {\n+  public Object generate(final String s) {\n+\n+    return Config.getBooleanProperty(\"jsontool.generate.jackson\", true)?\n+            this.jacksonGenerate(s): this.jsonGenerate(s);\n+  }\n+\n+  private Object jacksonGenerate(final String s) {", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NjY1OQ==", "url": "https://github.com/dotCMS/core/pull/19423#discussion_r502656659", "bodyText": "Codacy found an issue: The String literal \"            \"name\": \"Blank\",\\n\" appears 4 times in this file; the first occurrence is on line 64", "author": "dev-dotcms", "createdAt": "2020-10-09T20:28:51Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rendering/velocity/viewtools/JSONToolTest.java", "diffHunk": "@@ -0,0 +1,321 @@\n+package com.dotcms.rendering.velocity.viewtools;\n+\n+import com.dotcms.IntegrationTestBase;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.exception.DotSecurityException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * Test {@link JSONTool}\n+ * @author jsanca\n+ */\n+public class JSONToolTest extends IntegrationTestBase {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception{\n+        //Setting web app environment\n+        IntegrationTestInitService.getInstance().init();\n+    }\n+\n+    /**\n+     * Method to test: {@link JSONTool#generate(String)}\n+     * Given Scenario: Parsing an plain object\n+     * ExpectedResult: Expected a map with the properties\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_Generate_simple_Map() throws Exception {\n+\n+        final JSONTool jsonTool   = new JSONTool();\n+        final String   stringJson = \"{\\n\" +\n+                \"            \\\"body\\\": \\\"## Container: Blank Container\\\\r\\\\n## This is autogenerated code that cannot be changed\\\\r\\\\n#parseContainer('d71d56b4-0a8b-4bb2-be15-ffa5a23366ea','1539784124854')\\\\r\\\\n\\\",\\n\" +\n+                \"            \\\"canPublish\\\": true,\\n\" +\n+                \"            \\\"canRead\\\": true,\\n\" +\n+                \"            \\\"canWrite\\\": true,\\n\" +\n+                \"            \\\"categoryId\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"countAddContainer\\\": 0,\\n\" +\n+                \"            \\\"countContainers\\\": 0,\\n\" +\n+                \"            \\\"deleted\\\": false,\\n\" +\n+                \"            \\\"drawed\\\": false,\\n\" +\n+                \"            \\\"drawedBody\\\": null,\\n\" +\n+                \"            \\\"footer\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"friendlyName\\\": \\\"Blank template (No: header, footer, javascript or css)\\\",\\n\" +\n+                \"            \\\"hasLiveVersion\\\": true,\\n\" +\n+                \"            \\\"headCode\\\": null,\\n\" +\n+                \"            \\\"header\\\": \\\"null\\\",\\n\" +\n+                \"            \\\"identifier\\\": \\\"7acdb856-4bbc-41c5-8695-a39c2e4a913f\\\",\\n\" +\n+                \"            \\\"image\\\": \\\"21ea6da6-68d0-48db-bce8-d1691abd6314\\\",\\n\" +\n+                \"            \\\"inode\\\": \\\"9d11b327-9bf5-4d42-92bd-7894d56ed218\\\",\\n\" +\n+                \"            \\\"live\\\": true,\\n\" +\n+                \"            \\\"locked\\\": false,\\n\" +\n+                \"            \\\"modDate\\\": 1570214794657,\\n\" +\n+                \"            \\\"modUser\\\": \\\"036fd43a-6d98-46e0-b22e-bae02cb86f0c\\\",\\n\" +\n+                \"            \\\"name\\\": \\\"Blank\\\",\\n\" +", "originalCommit": "34b50cb4db346821a9b6baade95410867c93399d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}