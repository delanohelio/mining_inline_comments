{"pr_number": 18274, "pr_title": "#remove sites cleanup code from integration test", "pr_createdAt": "2020-04-07T04:56:48Z", "pr_url": "https://github.com/dotCMS/core/pull/18274", "timeline": [{"oid": "f84134c17d6a7730d02bdcf8b87c6aa90482f6ca", "url": "https://github.com/dotCMS/core/commit/f84134c17d6a7730d02bdcf8b87c6aa90482f6ca", "message": "#remove sites cleanup code from integration test", "committedDate": "2020-04-07T04:55:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDgzOTUxMA==", "url": "https://github.com/dotCMS/core/pull/18274#discussion_r404839510", "bodyText": "and is not this code need for this class's test?", "author": "freddyucv", "createdAt": "2020-04-07T14:10:51Z", "path": "dotCMS/src/integration-test/java/com/dotcms/publishing/job/SiteSearchJobImplTest.java", "diffHunk": "@@ -94,15 +94,6 @@ public static void prepare() throws Exception {\n         contentletAPI = APILocator.getContentletAPI();\n         hostAPI = APILocator.getHostAPI();\n \n-        final List<Host> allHosts = hostAPI.findAll(systemUser, false);\n-        for (final Host host : allHosts) {\n-            if (host.isSystemHost() || host.getHostname().startsWith(\"demo\")) {\n-                continue;\n-            }\n-            hostAPI.archive(host, systemUser, false);\n-            hostAPI.delete(host, systemUser, false);\n-        }", "originalCommit": "f84134c17d6a7730d02bdcf8b87c6aa90482f6ca", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg0NTM4Ng==", "url": "https://github.com/dotCMS/core/pull/18274#discussion_r404845386", "bodyText": "no, the tests run fine without this code.", "author": "erickgonzalez", "createdAt": "2020-04-07T14:18:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDgzOTUxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDg3Mzc4Ng==", "url": "https://github.com/dotCMS/core/pull/18274#discussion_r404873786", "bodyText": "so, what was it used for? I have the same doubt", "author": "nollymar", "createdAt": "2020-04-07T14:54:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDgzOTUxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkyODc4OQ==", "url": "https://github.com/dotCMS/core/pull/18274#discussion_r404928789", "bodyText": "I had added this code to clean up my environment locally since I run many times my test I end up with a bunch of hosts locally and it is just annoying.. I added that code and forgot to remove it from the final PR that made into master. I apologize if because of my mistake you wasted your time trying to find the cause. I'll be more careful next time.", "author": "fabrizzio-dotCMS", "createdAt": "2020-04-07T16:04:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDgzOTUxMA=="}], "type": "inlineReview"}]}