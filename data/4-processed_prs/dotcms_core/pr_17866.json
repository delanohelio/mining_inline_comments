{"pr_number": 17866, "pr_title": "dotCMS/core#17829 \"Send for Review\" in Task Detail modal is not working", "pr_createdAt": "2020-01-17T20:34:25Z", "pr_url": "https://github.com/dotCMS/core/pull/17866", "timeline": [{"oid": "c253e64517cbff7ae98ae6872b42e615a6e3cc58", "url": "https://github.com/dotCMS/core/commit/c253e64517cbff7ae98ae6872b42e615a6e3cc58", "message": "fix", "committedDate": "2020-01-17T19:52:57Z", "type": "commit"}, {"oid": "655185e5ceda3d3a72820450e2054ab09e651f13", "url": "https://github.com/dotCMS/core/commit/655185e5ceda3d3a72820450e2054ab09e651f13", "message": "remove old code, and use the kinda new push publish modal refactor", "committedDate": "2020-01-23T17:46:17Z", "type": "commit"}, {"oid": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47", "url": "https://github.com/dotCMS/core/commit/2b8ae285417fe8e07ca9c7aaae2c927fbb64be47", "message": "Merge branch 'master' into issue-17829-send-for-review-not-working", "committedDate": "2020-01-23T17:48:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMyNzc5Nw==", "url": "https://github.com/dotCMS/core/pull/17866#discussion_r370327797", "bodyText": "removing reference of the \"old\" form after the integration of the PP modals, #15074", "author": "hmoreras", "createdAt": "2020-01-23T20:04:17Z", "path": "dotCMS/src/main/webapp/html/portlet/ext/workflows/view_workflow_task.jsp", "diffHunk": "@@ -499,19 +499,4 @@ public String getPostedby(String postedBy){\n \n <div dojoAttachPoint=\"fileBrowser\" jsId=\"fileBrowser\" onFileSelected=\"attachFileCallback\" onlyFiles=\"true\" dojoType=\"dotcms.dijit.FileBrowserDialog\">\n </div>\n-\n-<form id=\"submitWorkflowTaskFrm\" action=\"/DotAjaxDirector/com.dotmarketing.portlets.workflows.ajax.WfTaskAjax?cmd=executeAction\">", "originalCommit": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMyODMzNQ==", "url": "https://github.com/dotCMS/core/pull/17866#discussion_r370328335", "bodyText": "using the same approach as the integration of the PP modals, #15074", "author": "hmoreras", "createdAt": "2020-01-23T20:05:33Z", "path": "dotCMS/src/main/webapp/html/portlet/ext/workflows/workflows_js_inc.jsp", "diffHunk": "@@ -125,89 +125,73 @@\n                     return;\r\n \t    \t\t}\r\n \t    \t\telse{\r\n-\t    \t\t\tdojo.byId(\"wfActionId\").value=this.wfActionId;\r\n \r\n-\t    \t\t\tthis.executeWorkflow();\r\n+\t    \t\t\tthis.executeWorkflow(wfId, inode);\r\n \t    \t\t}\r\n \t    \t},\r\n \t    \t\r\n-\t    \texecuteWorkflow : function (){\r\n-\t    \t\t\r\n-\t    \t\tdijit.byId('savingContentDialog').show();\r\n-\r\n-\t\t\t\tvar xhrArgs = {\r\n-\t\t\t\t\tform: dojo.byId(\"submitWorkflowTaskFrm\"),\r\n-\t\t\t\t\thandleAs: \"text\",\r\n-\t\t\t\t\tload: function(data) {\r\n-\t\t\t\t\t\tshowDotCMSSystemMessage(\"<%=LanguageUtil.get(pageContext, \"Workflow-executed\")%>\");\r\n-\r\n-                        var customEvent = document.createEvent(\"CustomEvent\");\r\n-                        customEvent.initCustomEvent(\"ng-event\", false, false,  {\r\n-                            name: \"edit-task-executed-workflow\"\r\n-                        });\r\n-                        document.dispatchEvent(customEvent);\r\n-\t\t\t\t\t\r\n-\t\t\t\t\t},\r\n-\t\t\t\t\terror: function(error) {\r\n-\t\t\t\t\t\tshowDotCMSSystemMessage(error);\r\n-\t\t\t\t\t\tdijit.byId('savingContentDialog').hide();\r\n-\t\t\t\t\t\r\n-\t\t\t\t\t}\r\n-\t\t\t\t}\r\n-\t\t\t\tdojo.xhrPost(xhrArgs);\r\n-\r\n+\t    \texecuteWorkflow : function (wfId, inode){\r", "originalCommit": "2b8ae285417fe8e07ca9c7aaae2c927fbb64be47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}