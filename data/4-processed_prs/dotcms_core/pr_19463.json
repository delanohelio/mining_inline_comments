{"pr_number": 19463, "pr_title": "Issue 19401 make the primary key of the identifier table as long as the dbs can handle as a primary key", "pr_createdAt": "2020-10-16T21:35:27Z", "pr_url": "https://github.com/dotCMS/core/pull/19463", "timeline": [{"oid": "52efd4c4843958f27b2caecab3c1793c3bf9ea3c", "url": "https://github.com/dotCMS/core/commit/52efd4c4843958f27b2caecab3c1793c3bf9ea3c", "message": "#19401 Increasing primary key length - identifier table", "committedDate": "2020-10-16T21:32:16Z", "type": "commit"}, {"oid": "24fda62c8caf7cfe7af13ad1d118745dbdae54be", "url": "https://github.com/dotCMS/core/commit/24fda62c8caf7cfe7af13ad1d118745dbdae54be", "message": "#19401 New ITs", "committedDate": "2020-10-16T21:32:35Z", "type": "commit"}, {"oid": "2048217db2ddd200bb5a248757ffec62f403caa8", "url": "https://github.com/dotCMS/core/commit/2048217db2ddd200bb5a248757ffec62f403caa8", "message": "#19401 New ITs", "committedDate": "2020-10-16T21:33:45Z", "type": "commit"}, {"oid": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "url": "https://github.com/dotCMS/core/commit/89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "message": "Merge branch 'master' of https://github.com/dotCMS/core into issue-19401-make-the-primary-key-of-the-identifier-table-as-long-as-the-dbs-can-handle-as-a-primary-key", "committedDate": "2020-10-19T21:25:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3NTQwNQ==", "url": "https://github.com/dotCMS/core/pull/19463#discussion_r508075405", "bodyText": "Codacy found an issue: Ensure that resources like this Connection object are closed after use", "author": "dev-dotcms", "createdAt": "2020-10-19T21:32:56Z", "path": "dotCMS/src/main/java/com/dotmarketing/startup/runonce/Task201016UpdatePrimaryKeyLengthIdentifierTable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotmarketing.common.db.DotDatabaseMetaData;\n+import com.dotmarketing.db.DbConnectionFactory;\n+import com.dotmarketing.startup.AbstractJDBCStartupTask;\n+import com.dotmarketing.util.Logger;\n+import java.sql.Connection;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.List;\n+\n+public class Task201016UpdatePrimaryKeyLengthIdentifierTable extends AbstractJDBCStartupTask {\n+\n+    @Override\n+    public boolean forceRun() {\n+        final Connection connection = DbConnectionFactory.getConnection();", "originalCommit": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3NTQwOQ==", "url": "https://github.com/dotCMS/core/pull/19463#discussion_r508075409", "bodyText": "Codacy found an issue: Ensure that resources like this ResultSet object are closed after use", "author": "dev-dotcms", "createdAt": "2020-10-19T21:32:57Z", "path": "dotCMS/src/main/java/com/dotmarketing/startup/runonce/Task201016UpdatePrimaryKeyLengthIdentifierTable.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import com.dotmarketing.common.db.DotDatabaseMetaData;\n+import com.dotmarketing.db.DbConnectionFactory;\n+import com.dotmarketing.startup.AbstractJDBCStartupTask;\n+import com.dotmarketing.util.Logger;\n+import java.sql.Connection;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.List;\n+\n+public class Task201016UpdatePrimaryKeyLengthIdentifierTable extends AbstractJDBCStartupTask {\n+\n+    @Override\n+    public boolean forceRun() {\n+        final Connection connection = DbConnectionFactory.getConnection();\n+        try {\n+            final ResultSet resultSet = DotDatabaseMetaData.getColumnsMetaData(connection, \"identifier\");", "originalCommit": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3NTQxMw==", "url": "https://github.com/dotCMS/core/pull/19463#discussion_r508075413", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "author": "dev-dotcms", "createdAt": "2020-10-19T21:32:58Z", "path": "dotCMS/src/integration-test/java/com/dotmarketing/startup/runonce/Task201016UpdatePrimaryKeyLengthIdentifierTableTest.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package com.dotmarketing.startup.runonce;\n+\n+import static org.junit.Assert.assertTrue;\n+\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.exception.DotDataException;\n+import java.sql.SQLException;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+public class Task201016UpdatePrimaryKeyLengthIdentifierTableTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {", "originalCommit": "89c90fa7cf11c399a6bf62b6c32aaf7629f61e31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}