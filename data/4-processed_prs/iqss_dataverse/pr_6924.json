{"pr_number": 6924, "pr_title": "4813 allow duplicate files", "pr_createdAt": "2020-05-20T19:42:15Z", "pr_url": "https://github.com/IQSS/dataverse/pull/6924", "timeline": [{"oid": "f311312c34d60379cd7cadf3c588187224e76d18", "url": "https://github.com/IQSS/dataverse/commit/f311312c34d60379cd7cadf3c588187224e76d18", "message": "#4813 allow duplicate files to be uploaded", "committedDate": "2020-05-12T20:58:52Z", "type": "commit"}, {"oid": "cfe629d686f34c26622ae5a30f520115754be1bf", "url": "https://github.com/IQSS/dataverse/commit/cfe629d686f34c26622ae5a30f520115754be1bf", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-05-12T21:06:31Z", "type": "commit"}, {"oid": "abcaa3b7e23f339c4097a95b10b7648be51ba8df", "url": "https://github.com/IQSS/dataverse/commit/abcaa3b7e23f339c4097a95b10b7648be51ba8df", "message": "#4813 Allow replacement with the same file", "committedDate": "2020-05-13T22:00:04Z", "type": "commit"}, {"oid": "ce34432250da36ce82883ca17875e54c3db10b06", "url": "https://github.com/IQSS/dataverse/commit/ce34432250da36ce82883ca17875e54c3db10b06", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-05-15T14:02:11Z", "type": "commit"}, {"oid": "4743b2369a26553b426302ed4a7f5722c0247dcd", "url": "https://github.com/IQSS/dataverse/commit/4743b2369a26553b426302ed4a7f5722c0247dcd", "message": "#4813 update comments", "committedDate": "2020-05-15T18:33:33Z", "type": "commit"}, {"oid": "ca7ba7863e6a8b2331c18308a0e999cb46f9bc29", "url": "https://github.com/IQSS/dataverse/commit/ca7ba7863e6a8b2331c18308a0e999cb46f9bc29", "message": "#4813 update test and bundle", "committedDate": "2020-05-15T19:15:34Z", "type": "commit"}, {"oid": "17869df6c3eae4f2828685c67489417f4724de2b", "url": "https://github.com/IQSS/dataverse/commit/17869df6c3eae4f2828685c67489417f4724de2b", "message": "#4813 fix failing test", "committedDate": "2020-05-18T20:52:24Z", "type": "commit"}, {"oid": "34ce725ccac9d31c88349ed14016738bb24c9a2f", "url": "https://github.com/IQSS/dataverse/commit/34ce725ccac9d31c88349ed14016738bb24c9a2f", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-05-20T14:19:27Z", "type": "commit"}, {"oid": "9b4152ca5d10d074ca1437545ecdf71b8104f919", "url": "https://github.com/IQSS/dataverse/commit/9b4152ca5d10d074ca1437545ecdf71b8104f919", "message": "#4813 fix filemetadata testing", "committedDate": "2020-05-20T15:53:16Z", "type": "commit"}, {"oid": "801d4bb30e2ea65773ad621023a3f4751b8852f6", "url": "https://github.com/IQSS/dataverse/commit/801d4bb30e2ea65773ad621023a3f4751b8852f6", "message": "Create 4813-allow-duplicate-files.md", "committedDate": "2020-05-20T19:48:13Z", "type": "commit"}, {"oid": "d1139a92e4e530f51eaf8f97d521bde8a171a94a", "url": "https://github.com/IQSS/dataverse/commit/d1139a92e4e530f51eaf8f97d521bde8a171a94a", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-05-20T20:26:58Z", "type": "commit"}, {"oid": "aa02d3451035fb1fd2f2465b8d236628270a4fd7", "url": "https://github.com/IQSS/dataverse/commit/aa02d3451035fb1fd2f2465b8d236628270a4fd7", "message": "#4813 remove extraneous logging", "committedDate": "2020-05-20T20:48:43Z", "type": "commit"}, {"oid": "0cea0daa8140b099b9735fdcd28539e271e7babc", "url": "https://github.com/IQSS/dataverse/commit/0cea0daa8140b099b9735fdcd28539e271e7babc", "message": "#4813 fix display of file names in popup", "committedDate": "2020-05-29T12:57:57Z", "type": "commit"}, {"oid": "2997792193ce615c396109ec3808689e4b48d8fe", "url": "https://github.com/IQSS/dataverse/commit/2997792193ce615c396109ec3808689e4b48d8fe", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-05-29T12:58:10Z", "type": "commit"}, {"oid": "121620cfa83c6c59b20bceef8eba347b7afccf24", "url": "https://github.com/IQSS/dataverse/commit/121620cfa83c6c59b20bceef8eba347b7afccf24", "message": "#4813 Do not allow replace with same file", "committedDate": "2020-05-29T20:25:44Z", "type": "commit"}, {"oid": "5012eb64d1fffc856365b8032d94405d3ec6a138", "url": "https://github.com/IQSS/dataverse/commit/5012eb64d1fffc856365b8032d94405d3ec6a138", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-05-29T20:26:16Z", "type": "commit"}, {"oid": "b24b3c26548cd0110c40c43e66792ea48329c606", "url": "https://github.com/IQSS/dataverse/commit/b24b3c26548cd0110c40c43e66792ea48329c606", "message": "#4813 modify inline error message for dupes", "committedDate": "2020-06-01T14:23:26Z", "type": "commit"}, {"oid": "1182c540257e315fe840e266409c558c4e99e13d", "url": "https://github.com/IQSS/dataverse/commit/1182c540257e315fe840e266409c558c4e99e13d", "message": "#4813 add more detail to duplicate messages", "committedDate": "2020-06-02T14:21:42Z", "type": "commit"}, {"oid": "6fb7c93689d427eebb77cacc6292d3847bf00b22", "url": "https://github.com/IQSS/dataverse/commit/6fb7c93689d427eebb77cacc6292d3847bf00b22", "message": "#4813 grammar", "committedDate": "2020-06-02T14:38:18Z", "type": "commit"}, {"oid": "86294eba374d385085a37094b3db1ae7ca626502", "url": "https://github.com/IQSS/dataverse/commit/86294eba374d385085a37094b3db1ae7ca626502", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-06-03T13:26:01Z", "type": "commit"}, {"oid": "21a2a7f7bcc45ae41a35a870285b07e146ed42be", "url": "https://github.com/IQSS/dataverse/commit/21a2a7f7bcc45ae41a35a870285b07e146ed42be", "message": "#4813 update button label", "committedDate": "2020-06-03T18:27:24Z", "type": "commit"}, {"oid": "f82ca33706198ba8023e646ad18b858d9f0e0a62", "url": "https://github.com/IQSS/dataverse/commit/f82ca33706198ba8023e646ad18b858d9f0e0a62", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-06-09T13:23:14Z", "type": "commit"}, {"oid": "a323db5c362ee1fedab79472b3691767e9bb8bef", "url": "https://github.com/IQSS/dataverse/commit/a323db5c362ee1fedab79472b3691767e9bb8bef", "message": "#4813 add note about duplicate file path/name", "committedDate": "2020-06-09T14:04:53Z", "type": "commit"}, {"oid": "178b6a4c38763c13b6ffcd27a67772eb8c5af7a6", "url": "https://github.com/IQSS/dataverse/commit/178b6a4c38763c13b6ffcd27a67772eb8c5af7a6", "message": "#4813 add doc for duplicate file content/name", "committedDate": "2020-06-09T14:21:08Z", "type": "commit"}, {"oid": "640325ca0bffa8ef1bee551c6638139403c615f8", "url": "https://github.com/IQSS/dataverse/commit/640325ca0bffa8ef1bee551c6638139403c615f8", "message": "#4813 add link to user guide to popup", "committedDate": "2020-06-09T17:11:14Z", "type": "commit"}, {"oid": "eec2854f80f0f04f380c6ea487b6c55caad47ef3", "url": "https://github.com/IQSS/dataverse/commit/eec2854f80f0f04f380c6ea487b6c55caad47ef3", "message": "#4813 reword inline warning message", "committedDate": "2020-06-09T17:29:29Z", "type": "commit"}, {"oid": "0273d86448b1aee510261cff72c1568bce9f2509", "url": "https://github.com/IQSS/dataverse/commit/0273d86448b1aee510261cff72c1568bce9f2509", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-06-11T18:37:45Z", "type": "commit"}, {"oid": "fae5dc1636f611db309873cfcddf8afa04e5d683", "url": "https://github.com/IQSS/dataverse/commit/fae5dc1636f611db309873cfcddf8afa04e5d683", "message": "#4813 add warning if replacement file is dup of existing file", "committedDate": "2020-06-12T20:53:30Z", "type": "commit"}, {"oid": "d36c0469edc59280bd63df73a6e3adc7770db540", "url": "https://github.com/IQSS/dataverse/commit/d36c0469edc59280bd63df73a6e3adc7770db540", "message": "#4813 show replace with dup message on upload component", "committedDate": "2020-06-15T17:46:17Z", "type": "commit"}, {"oid": "847fd62c3e0d9cfe8298abc7f4d0a68715bdc5ec", "url": "https://github.com/IQSS/dataverse/commit/847fd62c3e0d9cfe8298abc7f4d0a68715bdc5ec", "message": "updating rules, need to check with @sekmiller", "committedDate": "2020-06-23T00:29:26Z", "type": "commit"}, {"oid": "6eddfc3a3277a5a020d614a9e61d39fcd2ccf6be", "url": "https://github.com/IQSS/dataverse/commit/6eddfc3a3277a5a020d614a9e61d39fcd2ccf6be", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-06-23T13:18:42Z", "type": "commit"}, {"oid": "954b3b731ba189277e944dec1860d39dee3cb310", "url": "https://github.com/IQSS/dataverse/commit/954b3b731ba189277e944dec1860d39dee3cb310", "message": "update release notes for dupe file handling", "committedDate": "2020-06-23T13:29:13Z", "type": "commit"}, {"oid": "0328487e55952b71ae2fc8a63404fe0a92c18311", "url": "https://github.com/IQSS/dataverse/commit/0328487e55952b71ae2fc8a63404fe0a92c18311", "message": "update duplicate file explanation as it pertains to replace", "committedDate": "2020-06-23T13:37:45Z", "type": "commit"}, {"oid": "0e90ce865910b80ad3222bfb21375b9978eb4e1b", "url": "https://github.com/IQSS/dataverse/commit/0e90ce865910b80ad3222bfb21375b9978eb4e1b", "message": "typo, thanks @jggautier", "committedDate": "2020-06-23T14:05:06Z", "type": "commit"}, {"oid": "911cd0ed0733f27158824ddae5c8a4929af9f2d7", "url": "https://github.com/IQSS/dataverse/commit/911cd0ed0733f27158824ddae5c8a4929af9f2d7", "message": "#4813 update replace rules", "committedDate": "2020-06-23T14:27:14Z", "type": "commit"}, {"oid": "c8f358f8f156d478ae9023884b1981f1b34d0a66", "url": "https://github.com/IQSS/dataverse/commit/c8f358f8f156d478ae9023884b1981f1b34d0a66", "message": "#4813 update bundle to reflect new section in User Guide", "committedDate": "2020-06-23T16:05:16Z", "type": "commit"}, {"oid": "d8dcb17f2f6119da831cf1d05b5ce6d26c4877f3", "url": "https://github.com/IQSS/dataverse/commit/d8dcb17f2f6119da831cf1d05b5ce6d26c4877f3", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-06-30T17:49:32Z", "type": "commit"}, {"oid": "a8629f4668262ce02a72f3e64f20f8661d94ebea", "url": "https://github.com/IQSS/dataverse/commit/a8629f4668262ce02a72f3e64f20f8661d94ebea", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-01T13:37:09Z", "type": "commit"}, {"oid": "2d79816ec7d7e544c8cf9c870c8bb9698b618fcf", "url": "https://github.com/IQSS/dataverse/commit/2d79816ec7d7e544c8cf9c870c8bb9698b618fcf", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-08T13:06:24Z", "type": "commit"}, {"oid": "70820ba2084d8b477a2f4804cb4997bfd84181d0", "url": "https://github.com/IQSS/dataverse/commit/70820ba2084d8b477a2f4804cb4997bfd84181d0", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-09T18:11:31Z", "type": "commit"}, {"oid": "dcf2d7323ddfa6d3d846a0134e0f1ab6300e645c", "url": "https://github.com/IQSS/dataverse/commit/dcf2d7323ddfa6d3d846a0134e0f1ab6300e645c", "message": "adding a", "committedDate": "2020-07-09T20:04:17Z", "type": "commit"}, {"oid": "1b68d11e7637b1b410227a7090f00bad0a674c09", "url": "https://github.com/IQSS/dataverse/commit/1b68d11e7637b1b410227a7090f00bad0a674c09", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-10T13:49:01Z", "type": "commit"}, {"oid": "f1f18a0d2b991368e94067c5d6684394c8dd7042", "url": "https://github.com/IQSS/dataverse/commit/f1f18a0d2b991368e94067c5d6684394c8dd7042", "message": "#4813 update formatting of inline message", "committedDate": "2020-07-10T13:52:51Z", "type": "commit"}, {"oid": "e9f24cf2fe99d93a0e2499c955404d6ed30e8511", "url": "https://github.com/IQSS/dataverse/commit/e9f24cf2fe99d93a0e2499c955404d6ed30e8511", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-13T12:55:30Z", "type": "commit"}, {"oid": "dfe9af52424cbf937094edbe82113fd0138cbcfa", "url": "https://github.com/IQSS/dataverse/commit/dfe9af52424cbf937094edbe82113fd0138cbcfa", "message": "#4813 add render logic to inline warning", "committedDate": "2020-07-13T12:56:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzczMzc3OQ==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r453733779", "bodyText": "This should read \"...in different directories.\"", "author": "mheppler", "createdAt": "2020-07-13T15:27:37Z", "path": "doc/sphinx-guides/source/user/dataset-management.rst", "diffHunk": "@@ -147,6 +146,18 @@ File Handling\n \n Certain file types in Dataverse are supported by additional functionality, which can include downloading in different formats, previews, file-level metadata preservation, file-level data citation; and exploration through data visualization and analysis. See the sections below for information about special functionality for specific file types.\n \n+Duplicate Files\n+===============\n+\n+Beginning with Dataverse 5.0, the way Dataverse handles duplicate files (filename and checksums) is changing to be more flexible. Specifically:\n+\n+- Files with the same checksum can be included in a dataset, even if the files are in the same directory.\n+- Files with the same filename can be included in a dataset as long as the files are in different directory.", "originalCommit": "dfe9af52424cbf937094edbe82113fd0138cbcfa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6af0f3e0efb59dd4562858e4c1c230d4f776f387", "url": "https://github.com/IQSS/dataverse/commit/6af0f3e0efb59dd4562858e4c1c230d4f776f387", "message": "#4813 get update button to display after upload", "committedDate": "2020-07-13T16:45:44Z", "type": "commit"}, {"oid": "117b32156b47b301c2ffc459d3b2a5e5ea86dd64", "url": "https://github.com/IQSS/dataverse/commit/117b32156b47b301c2ffc459d3b2a5e5ea86dd64", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-13T18:52:49Z", "type": "commit"}, {"oid": "77ad2e309c65447e82df1f0f930d4e2cba3992d8", "url": "https://github.com/IQSS/dataverse/commit/77ad2e309c65447e82df1f0f930d4e2cba3992d8", "message": "#4813 update popup messages", "committedDate": "2020-07-14T15:44:42Z", "type": "commit"}, {"oid": "dab96abd14c34283e3edb189559625695dbae3f1", "url": "https://github.com/IQSS/dataverse/commit/dab96abd14c34283e3edb189559625695dbae3f1", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-14T15:45:06Z", "type": "commit"}, {"oid": "6e7c3b9390605e10de67ec91ba0692095af675d8", "url": "https://github.com/IQSS/dataverse/commit/6e7c3b9390605e10de67ec91ba0692095af675d8", "message": "#4813 add warnings when dup content added in same upload session", "committedDate": "2020-07-15T15:19:23Z", "type": "commit"}, {"oid": "ea85d9f8f6ec89e89a4d682eb01971b0ad0c62c4", "url": "https://github.com/IQSS/dataverse/commit/ea85d9f8f6ec89e89a4d682eb01971b0ad0c62c4", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-15T15:19:40Z", "type": "commit"}, {"oid": "1ebd56689e622ac3bb8dedb872491c9d91613852", "url": "https://github.com/IQSS/dataverse/commit/1ebd56689e622ac3bb8dedb872491c9d91613852", "message": "Cleaned up upload/edit file table layout to fix padding and margin issues [ref 4813]", "committedDate": "2020-07-15T17:27:52Z", "type": "commit"}, {"oid": "f64d4c6b2680d3c218b6c1d1b14de1c9837fe002", "url": "https://github.com/IQSS/dataverse/commit/f64d4c6b2680d3c218b6c1d1b14de1c9837fe002", "message": "#4813 change replace with dup to error. no popup.", "committedDate": "2020-07-15T17:49:37Z", "type": "commit"}, {"oid": "40701b9f9d049d58cf48b23b31df6dd84c5779f4", "url": "https://github.com/IQSS/dataverse/commit/40701b9f9d049d58cf48b23b31df6dd84c5779f4", "message": "Correct guides typo, fix guides link, ui clean up for duplidate files [ref 4813]", "committedDate": "2020-07-16T15:27:55Z", "type": "commit"}, {"oid": "9fe91e12ca27265620c736d7a1c3df5aa8826df0", "url": "https://github.com/IQSS/dataverse/commit/9fe91e12ca27265620c736d7a1c3df5aa8826df0", "message": "#4813 fix file replace dupe messaging", "committedDate": "2020-07-16T16:54:40Z", "type": "commit"}, {"oid": "6eb7b52e784f8a87988cb257bfd529530498f95e", "url": "https://github.com/IQSS/dataverse/commit/6eb7b52e784f8a87988cb257bfd529530498f95e", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-16T16:54:56Z", "type": "commit"}, {"oid": "c69ef84c058549400e26d55da9a5aea6d5467b4a", "url": "https://github.com/IQSS/dataverse/commit/c69ef84c058549400e26d55da9a5aea6d5467b4a", "message": "#4813 remove unused code", "committedDate": "2020-07-16T17:28:59Z", "type": "commit"}, {"oid": "9350502144b3bd3ec17935b6df340f56fd7968da", "url": "https://github.com/IQSS/dataverse/commit/9350502144b3bd3ec17935b6df340f56fd7968da", "message": "#4813 fix button  refresh on file delete", "committedDate": "2020-07-16T18:09:06Z", "type": "commit"}, {"oid": "54011d7230a77c505ba902488c1661a04799f9d2", "url": "https://github.com/IQSS/dataverse/commit/54011d7230a77c505ba902488c1661a04799f9d2", "message": "#4813 fix failing test", "committedDate": "2020-07-16T18:49:47Z", "type": "commit"}, {"oid": "d0f5adced4413c1b0878724c92babaa4cf73d5d3", "url": "https://github.com/IQSS/dataverse/commit/d0f5adced4413c1b0878724c92babaa4cf73d5d3", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-16T20:06:27Z", "type": "commit"}, {"oid": "36a0d762830b079e883ed43424d00a2ab0eeff2a", "url": "https://github.com/IQSS/dataverse/commit/36a0d762830b079e883ed43424d00a2ab0eeff2a", "message": "#4813 clean up some message code", "committedDate": "2020-07-17T18:59:25Z", "type": "commit"}, {"oid": "e9d58aa99ea098dfc349897be8712344364e32d6", "url": "https://github.com/IQSS/dataverse/commit/e9d58aa99ea098dfc349897be8712344364e32d6", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-17T18:59:47Z", "type": "commit"}, {"oid": "77edbb670e9c2a6968831adf627379ee56ff293f", "url": "https://github.com/IQSS/dataverse/commit/77edbb670e9c2a6968831adf627379ee56ff293f", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-20T13:11:27Z", "type": "commit"}, {"oid": "14d24f5e58f78785b9b2568596584903a15fd596", "url": "https://github.com/IQSS/dataverse/commit/14d24f5e58f78785b9b2568596584903a15fd596", "message": "#4813 fix popup header", "committedDate": "2020-07-20T15:14:53Z", "type": "commit"}, {"oid": "60f2750dbaa5323b00ec80482286e0a3a73ba905", "url": "https://github.com/IQSS/dataverse/commit/60f2750dbaa5323b00ec80482286e0a3a73ba905", "message": "#4813 include new files in dupe name search", "committedDate": "2020-07-20T19:18:29Z", "type": "commit"}, {"oid": "8a3ed9baff09bf464e41c96b8f64a11cbdf64b39", "url": "https://github.com/IQSS/dataverse/commit/8a3ed9baff09bf464e41c96b8f64a11cbdf64b39", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-20T19:22:53Z", "type": "commit"}, {"oid": "21f98bea8749f7e38962dc11b0bd82912063779f", "url": "https://github.com/IQSS/dataverse/commit/21f98bea8749f7e38962dc11b0bd82912063779f", "message": "#4813 fix replace with multiple matching files", "committedDate": "2020-07-20T21:02:42Z", "type": "commit"}, {"oid": "0e531ee83cb0608b03e1e4fdfecdb9bb5f5e490c", "url": "https://github.com/IQSS/dataverse/commit/0e531ee83cb0608b03e1e4fdfecdb9bb5f5e490c", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-21T13:29:14Z", "type": "commit"}, {"oid": "7126aaaaf40767f7d31e836c40e8d1140701efa1", "url": "https://github.com/IQSS/dataverse/commit/7126aaaaf40767f7d31e836c40e8d1140701efa1", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-27T17:16:01Z", "type": "commit"}, {"oid": "5522e5d86accbe22612e365c1455bb7588132a67", "url": "https://github.com/IQSS/dataverse/commit/5522e5d86accbe22612e365c1455bb7588132a67", "message": "#4813 add note about multiples to inline message", "committedDate": "2020-07-27T17:43:12Z", "type": "commit"}, {"oid": "2d60309e9cd9ad02bd69826be783fecd2fe5e520", "url": "https://github.com/IQSS/dataverse/commit/2d60309e9cd9ad02bd69826be783fecd2fe5e520", "message": "#4813 update messaging", "committedDate": "2020-07-28T18:55:47Z", "type": "commit"}, {"oid": "f87c9d95c4b5b48582dedbd2d02f72cf1bf301cf", "url": "https://github.com/IQSS/dataverse/commit/f87c9d95c4b5b48582dedbd2d02f72cf1bf301cf", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-28T18:56:02Z", "type": "commit"}, {"oid": "0f41e9ded3f507a58b43cae84569f67d7a9e8821", "url": "https://github.com/IQSS/dataverse/commit/0f41e9ded3f507a58b43cae84569f67d7a9e8821", "message": "#4813 more message updates", "committedDate": "2020-07-28T21:15:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjEzNzE5NA==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r432137194", "bodyText": "rather than leave (and add) to these comments, at this point we can probably remove all (from the \"not sure..\" . Feel free to check with @landreev if he feels any reason these should stay?", "author": "scolapasta", "createdAt": "2020-05-28T21:34:29Z", "path": "src/main/java/edu/harvard/iq/dataverse/api/Files.java", "diffHunk": "@@ -378,9 +378,16 @@ public Response updateFileMetadata(@FormDataParam(\"jsonData\") String jsonData,\n                     // on *new* datafiles, that haven't been saved in the database yet;\n                     // but it should never be the case in the context of this API) \n                     // -- L.A. Mar. 2020\n+                    //SEK 5/2020 - we can't use checksum because it", "originalCommit": "aa02d3451035fb1fd2f2465b8d236628270a4fd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyOTc3NA==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462529774", "bodyText": "did you check if we can just remove?", "author": "scolapasta", "createdAt": "2020-07-29T19:17:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjEzNzE5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyNDQ3Nw==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462524477", "bodyText": "is it worth being more explicit here about upload vs edit? i.e. related to the next bullet about changing the directory, is also changing the name after upload. (so the suggestion is to add that there, and change add to upload here)", "author": "scolapasta", "createdAt": "2020-07-29T19:08:11Z", "path": "doc/sphinx-guides/source/user/dataset-management.rst", "diffHunk": "@@ -147,6 +146,20 @@ File Handling\n \n Certain file types in Dataverse are supported by additional functionality, which can include downloading in different formats, previews, file-level metadata preservation, file-level data citation; and exploration through data visualization and analysis. See the sections below for information about special functionality for specific file types.\n \n+.. _duplicate-files:\n+\n+Duplicate Files\n+===============\n+\n+Beginning with Dataverse 5.0, the way Dataverse handles duplicate files (filename and checksums) is changing to be more flexible. Specifically:\n+\n+- Files with the same checksum can be included in a dataset, even if the files are in the same directory.\n+- Files with the same filename can be included in a dataset as long as the files are in different directories.\n+- If a user attempts to add a file to a directory where a file already exists with that directory/filename combination, Dataverse will adjust the file path and names by adding \"-1\" or \"-2\" as applicable. This change will be visible in the list of files being uploaded. ", "originalCommit": "0f41e9ded3f507a58b43cae84569f67d7a9e8821", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5MjcyMA==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r463192720", "bodyText": "I made a change to the doc here, please see that it helps to add some clarity.", "author": "sekmiller", "createdAt": "2020-07-30T18:32:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyNDQ3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyNzgwMg==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462527802", "bodyText": "does this need to be a separate method? or could it call delete files after setting the selected files from the files with same checksum? Or maybe better yet, have a private delete method that takes a list, have this call this with the list of files with same checksum and have the other (regular) delete call the private method with the list of selected files. (you also have to be careful to differentiate between delete of newly uploaded vs pre-existing, but I think in the end it would be cleaner (and less duplicate) code. Let me know what you think of this suggestion.", "author": "scolapasta", "createdAt": "2020-07-29T19:13:43Z", "path": "src/main/java/edu/harvard/iq/dataverse/EditDatafilesPage.java", "diffHunk": "@@ -869,9 +869,57 @@ private String getBundleString(String msgName){\n     public void deleteFilesCompleted(){\n         \n     }\n+    \n+    public void deleteMarkedAsDuplicateFiles() {", "originalCommit": "0f41e9ded3f507a58b43cae84569f67d7a9e8821", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwNzI4OQ==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462607289", "bodyText": "Makes sense. i'll take a look. I know we have different success messages - that were introduced yesterday, but it might not be too bad to consolidate.", "author": "sekmiller", "createdAt": "2020-07-29T21:43:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyNzgwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE4MTQzNg==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r463181436", "bodyText": "Was able to use only one method for delete. Ran into a weird situation - real edge case - where if you uploaded a dupe, allowed it to stay, uploaded it again, decided no once is enough so deleted the new one it would also delete the first dupe that was \"ok\" - so fixed that, allowing the first dupe to stay.", "author": "sekmiller", "createdAt": "2020-07-30T18:11:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyNzgwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIzODIyNA==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r463238224", "bodyText": "Turns out the one method way (and checking if selected to determine which delete is wanted) is problematic, so we do still need two public methods. BUT they just need to \"collect\" the files and then call a private delete which still centralizes the code. @sekmiller's aware of the change needed, and will move to QA once that is all set.", "author": "scolapasta", "createdAt": "2020-07-30T20:00:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyNzgwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyOTM0NQ==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462529345", "bodyText": "is this for checksums? if so, do we need, since we already have it on the datafile object?", "author": "scolapasta", "createdAt": "2020-07-29T19:16:27Z", "path": "src/main/java/edu/harvard/iq/dataverse/FileMetadata.java", "diffHunk": "@@ -472,6 +472,22 @@ public void setSelected(boolean selected) {\n         this.selected = selected;\n     }\n     \n+    /*\n+    For use during file upload so that the user may delete \n+    files that have already been uploaded to the current dataset version\n+    */\n+    \n+    @Transient\n+    private boolean markedAsDuplicate;\n+\n+    public boolean isMarkedAsDuplicate() {", "originalCommit": "0f41e9ded3f507a58b43cae84569f67d7a9e8821", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwMTgzNA==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462601834", "bodyText": "We actually do need it because there's a separate list of file metadata that feed the uploaded files table and if the user deletes the duplicates we have to remove them too. I was also using it to write the success message, but since were no longer using names there I did some code simplification there.", "author": "sekmiller", "createdAt": "2020-07-29T21:31:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyOTM0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwMjkzNw==", "url": "https://github.com/IQSS/dataverse/pull/6924#discussion_r462602937", "bodyText": "But can't you call fileMetaData.datafile.isMarkedAsDuplicate()? or something like that?", "author": "scolapasta", "createdAt": "2020-07-29T21:34:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjUyOTM0NQ=="}], "type": "inlineReview"}, {"oid": "8169a1b6440fa7059dfa51ea3e1dc69155c736f8", "url": "https://github.com/IQSS/dataverse/commit/8169a1b6440fa7059dfa51ea3e1dc69155c736f8", "message": "Merge branch 'develop' into 4813-allow-duplicate-files\n\n# Conflicts:\n#\tsrc/main/webapp/editFilesFragment.xhtml", "committedDate": "2020-07-29T20:00:18Z", "type": "commit"}, {"oid": "cef57dcd835ee29a3e5689a6b94842f82f78a3b0", "url": "https://github.com/IQSS/dataverse/commit/cef57dcd835ee29a3e5689a6b94842f82f78a3b0", "message": "#4813 redo update buttons", "committedDate": "2020-07-29T20:02:17Z", "type": "commit"}, {"oid": "031b253c6bf2b234b56ead8024a3140cac6a7f36", "url": "https://github.com/IQSS/dataverse/commit/031b253c6bf2b234b56ead8024a3140cac6a7f36", "message": "#4813 remove file names from delete success msg", "committedDate": "2020-07-29T21:34:23Z", "type": "commit"}, {"oid": "a4be5ebffeed6106e2227461844fdb8fecfa7681", "url": "https://github.com/IQSS/dataverse/commit/a4be5ebffeed6106e2227461844fdb8fecfa7681", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-29T21:35:43Z", "type": "commit"}, {"oid": "46badd3b0de6d072ed32da4cfd5addc801a4113f", "url": "https://github.com/IQSS/dataverse/commit/46badd3b0de6d072ed32da4cfd5addc801a4113f", "message": "#4813 code cleanup", "committedDate": "2020-07-30T18:08:30Z", "type": "commit"}, {"oid": "90edc9e67ae1afac1e01b2d187f2bef00b69fa1e", "url": "https://github.com/IQSS/dataverse/commit/90edc9e67ae1afac1e01b2d187f2bef00b69fa1e", "message": "Merge branch 'develop' into 4813-allow-duplicate-files", "committedDate": "2020-07-30T18:08:54Z", "type": "commit"}, {"oid": "0e99e15277c36f869e5de4c04d326ba07afe8b8b", "url": "https://github.com/IQSS/dataverse/commit/0e99e15277c36f869e5de4c04d326ba07afe8b8b", "message": "#4813 clarify file name/path editing rules", "committedDate": "2020-07-30T18:31:46Z", "type": "commit"}, {"oid": "d0bfd3d12af44455ea9fac21190d176025c0de77", "url": "https://github.com/IQSS/dataverse/commit/d0bfd3d12af44455ea9fac21190d176025c0de77", "message": "#4813 removing out of date comments", "committedDate": "2020-07-30T18:39:54Z", "type": "commit"}, {"oid": "82f982538859baf25ac9ee3bbec025d6b8003fda", "url": "https://github.com/IQSS/dataverse/commit/82f982538859baf25ac9ee3bbec025d6b8003fda", "message": "#4813 remove marked as dup from file metadata", "committedDate": "2020-07-30T19:30:26Z", "type": "commit"}, {"oid": "57ab6132c0c6b3fa5463f31d3fa1e9cbb8bbbcd9", "url": "https://github.com/IQSS/dataverse/commit/57ab6132c0c6b3fa5463f31d3fa1e9cbb8bbbcd9", "message": "#4813 separate retrieval of files for Deletion", "committedDate": "2020-07-30T20:27:49Z", "type": "commit"}]}