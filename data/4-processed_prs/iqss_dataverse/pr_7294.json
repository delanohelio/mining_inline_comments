{"pr_number": 7294, "pr_title": "Update \"change dataset citation date\" curl examples", "pr_createdAt": "2020-10-05T16:59:02Z", "pr_url": "https://github.com/IQSS/dataverse/pull/7294", "timeline": [{"oid": "efb4206ba430376d8bccb20e57dff8825f20966f", "url": "https://github.com/IQSS/dataverse/commit/efb4206ba430376d8bccb20e57dff8825f20966f", "message": "Update \"change dataset citation date\" curl examples\n\nChanges the curl examples for \"Set Citation Date Field Type for a Dataset\" and \"Revert Citation Date Field Type to Default for Dataset\" endpoints to use the dataset's persistentId instead of its database ID.", "committedDate": "2020-10-05T16:56:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc3NjMyNw==", "url": "https://github.com/IQSS/dataverse/pull/7294#discussion_r499776327", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              curl -H \"X-Dataverse-key: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" -X PUT https://demo.dataverse.org/api/datasets/:persistentId/citationdate?persistentId=doi:10.5072/FK2/J8SJZB\n          \n          \n            \n              curl -H \"X-Dataverse-key: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" -X PUT https://demo.dataverse.org/api/datasets/:persistentId/citationdate?persistentId=doi:10.5072/FK2/J8SJZB --data \":dateOfDeposit\"", "author": "pdurbin", "createdAt": "2020-10-05T18:01:05Z", "path": "doc/sphinx-guides/source/api/native-api.rst", "diffHunk": "@@ -989,16 +989,16 @@ Note that the dataset citation date field type must be a date field.\n \n   export API_TOKEN=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n   export SERVER_URL=https://demo.dataverse.org\n-  export ID=24\n+  export PERSISTENT_IDENTIFIER=doi:10.5072/FK2/J8SJZB\n   export DATASET_FIELD_TYPE_NAME=:dateOfDeposit\n \n-  curl -H \"X-Dataverse-key: $API_TOKEN\" -X PUT $SERVER_URL/api/datasets/$ID/citationdate --data \"$DATASET_FIELD_TYPE_NAME\"\n+  curl -H \"X-Dataverse-key: $API_TOKEN\" -X PUT $SERVER_URL/api/datasets/:persistentId/citationdate?persistentId=$PERSISTENT_IDENTIFIER --data \"$DATASET_FIELD_TYPE_NAME\"\n \n The fully expanded example above (without environment variables) looks like this:\n \n .. code-block:: bash\n \n-  curl -H \"X-Dataverse-key: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" -X PUT https://demo.dataverse.org/api/datasets/24/citationdate --data \":dateOfDeposit\"\n+  curl -H \"X-Dataverse-key: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" -X PUT https://demo.dataverse.org/api/datasets/:persistentId/citationdate?persistentId=doi:10.5072/FK2/J8SJZB", "originalCommit": "efb4206ba430376d8bccb20e57dff8825f20966f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc4OTA4OQ==", "url": "https://github.com/IQSS/dataverse/pull/7294#discussion_r499789089", "bodyText": "Thanks!", "author": "jggautier", "createdAt": "2020-10-05T18:25:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc3NjMyNw=="}], "type": "inlineReview"}, {"oid": "72b1ef1de1b2268626c452fab165b3592ff9a309", "url": "https://github.com/IQSS/dataverse/commit/72b1ef1de1b2268626c452fab165b3592ff9a309", "message": "Removed colon, corrected curl examples\n\nRemoved colon from field name \"dateOfDeposit\", and completed the curl examples.", "committedDate": "2020-10-05T19:13:18Z", "type": "commit"}]}