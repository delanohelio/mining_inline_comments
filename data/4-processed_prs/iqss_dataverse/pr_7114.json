{"pr_number": 7114, "pr_title": "7112 payara5 aio", "pr_createdAt": "2020-07-22T18:35:19Z", "pr_url": "https://github.com/IQSS/dataverse/pull/7114", "timeline": [{"oid": "97881a64f2991b2b4e41c4d593dc543eb7fdb428", "url": "https://github.com/IQSS/dataverse/commit/97881a64f2991b2b4e41c4d593dc543eb7fdb428", "message": "dependency switch to payara download", "committedDate": "2020-07-22T16:50:38Z", "type": "commit"}, {"oid": "016f520cc338ae82156d6177f9f9958b791cbf53", "url": "https://github.com/IQSS/dataverse/commit/016f520cc338ae82156d6177f9f9958b791cbf53", "message": "first pass switch to payara", "committedDate": "2020-07-22T16:50:57Z", "type": "commit"}, {"oid": "66206b941fc040f462d3141dd18c7572e5ad7293", "url": "https://github.com/IQSS/dataverse/commit/66206b941fc040f462d3141dd18c7572e5ad7293", "message": "dockerfile cleanup", "committedDate": "2020-07-22T18:16:40Z", "type": "commit"}, {"oid": "55a081632cad25f64bbfe51e99dc46626b9f677c", "url": "https://github.com/IQSS/dataverse/commit/55a081632cad25f64bbfe51e99dc46626b9f677c", "message": "more cleanup", "committedDate": "2020-07-22T18:16:54Z", "type": "commit"}, {"oid": "d5688b6fd959bab16f2b7cfbcec78ecf5676703c", "url": "https://github.com/IQSS/dataverse/commit/d5688b6fd959bab16f2b7cfbcec78ecf5676703c", "message": "readme updates", "committedDate": "2020-07-22T18:34:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAwNDA5MA==", "url": "https://github.com/IQSS/dataverse/pull/7114#discussion_r459004090", "bodyText": "Hooray! \ud83c\udf89", "author": "pdurbin", "createdAt": "2020-07-22T18:39:53Z", "path": "conf/docker-aio/0prep_deps.sh", "diffHunk": "@@ -3,18 +3,11 @@ if [ ! -d dv/deps ]; then\n \tmkdir -p dv/deps\n fi\n wdir=`pwd`\n-if [ ! -e dv/deps/glassfish4dv.tgz ]; then\n-\techo \"glassfish dependency prep\"\n-\tmkdir -p /tmp/dv-prep/gf\n-\tcd /tmp/dv-prep/gf\n-\twget http://download.java.net/glassfish/4.1/release/glassfish-4.1.zip\n-\twget https://search.maven.org/remotecontent?filepath=org/jboss/weld/weld-osgi-bundle/2.2.10.Final/weld-osgi-bundle-2.2.10.Final-glassfish4.jar -O weld-osgi-bundle-2.2.10.Final-glassfish4.jar\n-\tunzip glassfish-4.1.zip\n-\trm glassfish4/glassfish/modules/weld-osgi-bundle.jar\n-\tmv weld-osgi-bundle-2.2.10.Final-glassfish4.jar glassfish4/glassfish/modules\n-\ttar zcf $wdir/dv/deps/glassfish4dv.tgz glassfish4\n-\tcd $wdir\n-\t# assuming that folks usually have /tmp auto-clean as needed\n+\n+if [ ! -e dv/deps/payara-5.2020.2.zip ]; then\n+\techo \"payara dependency prep\"\n+\t# no more fiddly patching :)", "originalCommit": "d5688b6fd959bab16f2b7cfbcec78ecf5676703c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAwNTQ0MA==", "url": "https://github.com/IQSS/dataverse/pull/7114#discussion_r459005440", "bodyText": "I assume it's safe to not create this symlink. But it doesn't hurt to leave it in. I'm glad the comment was updated to described what's going on.", "author": "pdurbin", "createdAt": "2020-07-22T18:42:13Z", "path": "conf/docker-aio/c7.dockerfile", "diffHunk": "@@ -52,8 +51,8 @@ EXPOSE 9009\n \n RUN mkdir /opt/dv\n \n-# yeah - still not happy if glassfish isn't in /usr/local :<\n-RUN ln -s /opt/glassfish4 /usr/local/glassfish4\n+# keeping the symlink on the off chance that something else is still assuming /usr/local/glassfish4\n+RUN ln -s /opt/payara5 /usr/local/glassfish4", "originalCommit": "d5688b6fd959bab16f2b7cfbcec78ecf5676703c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6a234963b0314d9253469e710df6825e0117b71e", "url": "https://github.com/IQSS/dataverse/commit/6a234963b0314d9253469e710df6825e0117b71e", "message": "Merge branch 'develop' into 7112-payara5_aio", "committedDate": "2020-07-30T18:56:18Z", "type": "commit"}, {"oid": "5a77f49f78eb72addd6225bd2cf8c13549216550", "url": "https://github.com/IQSS/dataverse/commit/5a77f49f78eb72addd6225bd2cf8c13549216550", "message": "switch to as-setup", "committedDate": "2020-08-03T19:52:52Z", "type": "commit"}]}