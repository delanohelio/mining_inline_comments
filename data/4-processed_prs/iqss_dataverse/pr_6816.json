{"pr_number": 6816, "pr_title": "6593 payara docs", "pr_createdAt": "2020-04-13T19:19:32Z", "pr_url": "https://github.com/IQSS/dataverse/pull/6816", "timeline": [{"oid": "bb1088dce03108a62a61aa5cde604f3e54195c96", "url": "https://github.com/IQSS/dataverse/commit/bb1088dce03108a62a61aa5cde604f3e54195c96", "message": "update downloading of Payara for devs #6593", "committedDate": "2020-04-08T20:32:57Z", "type": "commit"}, {"oid": "6543722becd30880794654c020f7f4b4a0b5b802", "url": "https://github.com/IQSS/dataverse/commit/6543722becd30880794654c020f7f4b4a0b5b802", "message": "change gf to payara in intro #6593", "committedDate": "2020-04-08T20:34:39Z", "type": "commit"}, {"oid": "cce21f68f5b9e918969c2a46ff1a71941febe687", "url": "https://github.com/IQSS/dataverse/commit/cce21f68f5b9e918969c2a46ff1a71941febe687", "message": "tell new devs to use the Python installer #6593\n\nThe plan is for the Python installer to support Payara. See #6761.", "committedDate": "2020-04-08T21:41:07Z", "type": "commit"}, {"oid": "5f7a991dc2d8ea99e4453c00a0b2bea95598c030", "url": "https://github.com/IQSS/dataverse/commit/5f7a991dc2d8ea99e4453c00a0b2bea95598c030", "message": "for dev tips, update Glassfish to Payara #6593", "committedDate": "2020-04-09T20:08:50Z", "type": "commit"}, {"oid": "2341e4b479068151d18fea0d6cc56126c7059b33", "url": "https://github.com/IQSS/dataverse/commit/2341e4b479068151d18fea0d6cc56126c7059b33", "message": "update dev troubleshooting page gf to payara #6593", "committedDate": "2020-04-09T20:19:35Z", "type": "commit"}, {"oid": "975a3afcee0e7d1476981cac156ab7db35ccfa92", "url": "https://github.com/IQSS/dataverse/commit/975a3afcee0e7d1476981cac156ab7db35ccfa92", "message": "update dev sql update page: gf to payara #6593", "committedDate": "2020-04-09T20:21:33Z", "type": "commit"}, {"oid": "7cbd64432e1e0d783ba56af659eb2806bdcdbe37", "url": "https://github.com/IQSS/dataverse/commit/7cbd64432e1e0d783ba56af659eb2806bdcdbe37", "message": "Merge branch 'develop' into 6593-payara-docs #6593", "committedDate": "2020-04-10T18:43:20Z", "type": "commit"}, {"oid": "5f521af8f23069d85e4fe1a2578059e9b48daeb5", "url": "https://github.com/IQSS/dataverse/commit/5f521af8f23069d85e4fe1a2578059e9b48daeb5", "message": "change glassfish to payara on dev testing page #6593", "committedDate": "2020-04-10T18:57:35Z", "type": "commit"}, {"oid": "18927734fca8f7e654936f3490e5febf4fdf4f9a", "url": "https://github.com/IQSS/dataverse/commit/18927734fca8f7e654936f3490e5febf4fdf4f9a", "message": "dev coding style, debug, change gf to payara #6593", "committedDate": "2020-04-10T19:01:27Z", "type": "commit"}, {"oid": "42991076a9628c5759a595fb034ead77d538c487", "url": "https://github.com/IQSS/dataverse/commit/42991076a9628c5759a595fb034ead77d538c487", "message": "remove glassfish from dev tools page #6593", "committedDate": "2020-04-10T19:20:35Z", "type": "commit"}, {"oid": "701ed438a097c820be1146121b294a143dcd1878", "url": "https://github.com/IQSS/dataverse/commit/701ed438a097c820be1146121b294a143dcd1878", "message": "change glassfish to payara for MDC #6593", "committedDate": "2020-04-10T19:24:14Z", "type": "commit"}, {"oid": "cf0be7f49883266fc8794637b94d49b657b90497", "url": "https://github.com/IQSS/dataverse/commit/cf0be7f49883266fc8794637b94d49b657b90497", "message": "update big data, changing glassfish to payara #6593", "committedDate": "2020-04-10T19:36:29Z", "type": "commit"}, {"oid": "bb21b5d6ef5d43422369f1b1c40d9ff6c8f11a8c", "url": "https://github.com/IQSS/dataverse/commit/bb21b5d6ef5d43422369f1b1c40d9ff6c8f11a8c", "message": "update containers page, suggest rewrite #6593", "committedDate": "2020-04-10T19:49:29Z", "type": "commit"}, {"oid": "85e8d8bf7d1128d073325cc84002201a6873067a", "url": "https://github.com/IQSS/dataverse/commit/85e8d8bf7d1128d073325cc84002201a6873067a", "message": "in API Guide, change Glassfish to Payara #6593", "committedDate": "2020-04-10T19:54:42Z", "type": "commit"}, {"oid": "27e81ae0522808c165338acbb541fb9858392cb2", "url": "https://github.com/IQSS/dataverse/commit/27e81ae0522808c165338acbb541fb9858392cb2", "message": "change Glassfish to Payara in Admin Guide #6593", "committedDate": "2020-04-10T20:12:32Z", "type": "commit"}, {"oid": "45a41fb6972a6819e10d7749d816ae511042aaa6", "url": "https://github.com/IQSS/dataverse/commit/45a41fb6972a6819e10d7749d816ae511042aaa6", "message": "update prep section: gf to payara #6593", "committedDate": "2020-04-10T20:32:25Z", "type": "commit"}, {"oid": "b8a2407e034668a805906c78920f7d9d132697c4", "url": "https://github.com/IQSS/dataverse/commit/b8a2407e034668a805906c78920f7d9d132697c4", "message": "change gf to payara in prereq #6593", "committedDate": "2020-04-10T21:03:03Z", "type": "commit"}, {"oid": "4c326afab986e7dc21c53e8dcc7d948d601bf8a8", "url": "https://github.com/IQSS/dataverse/commit/4c326afab986e7dc21c53e8dcc7d948d601bf8a8", "message": "change gf to payara in main install page #6593", "committedDate": "2020-04-10T21:11:00Z", "type": "commit"}, {"oid": "d7237e41e56495b5a158a2e04ceb8c58dca42a5e", "url": "https://github.com/IQSS/dataverse/commit/d7237e41e56495b5a158a2e04ceb8c58dca42a5e", "message": "switch docs from Perl installer to Python #6593", "committedDate": "2020-04-10T21:22:41Z", "type": "commit"}, {"oid": "a8297bbd12866013a06a1a868189de1343a3d1dd", "url": "https://github.com/IQSS/dataverse/commit/a8297bbd12866013a06a1a868189de1343a3d1dd", "message": "change glassfish to payara on config page #6593", "committedDate": "2020-04-13T15:51:27Z", "type": "commit"}, {"oid": "0946d1f4cccf7f276aff24a2ae28f2a059656d70", "url": "https://github.com/IQSS/dataverse/commit/0946d1f4cccf7f276aff24a2ae28f2a059656d70", "message": "move config page gf to payara changes #6593", "committedDate": "2020-04-13T16:01:20Z", "type": "commit"}, {"oid": "bc5f64edabfe02c62cabcdbd6988c3bbd7b13ec6", "url": "https://github.com/IQSS/dataverse/commit/bc5f64edabfe02c62cabcdbd6988c3bbd7b13ec6", "message": "for TwoRavens page, change gf to payara #6593", "committedDate": "2020-04-13T17:31:34Z", "type": "commit"}, {"oid": "8a1d1d11ae83f676e326fefbb152cd2a6f6ca1bc", "url": "https://github.com/IQSS/dataverse/commit/8a1d1d11ae83f676e326fefbb152cd2a6f6ca1bc", "message": "shib docs, change gf to payara, rm grizzly patch #6593", "committedDate": "2020-04-13T18:03:30Z", "type": "commit"}, {"oid": "69f4720b9083af5be315c453a009c06b02a29da1", "url": "https://github.com/IQSS/dataverse/commit/69f4720b9083af5be315c453a009c06b02a29da1", "message": "install guide: more gf to payara updates #6593", "committedDate": "2020-04-13T18:17:56Z", "type": "commit"}, {"oid": "652252c71a69b5827bb487ff0682c2d2766696b7", "url": "https://github.com/IQSS/dataverse/commit/652252c71a69b5827bb487ff0682c2d2766696b7", "message": "update ejb script for payara #6593", "committedDate": "2020-04-13T18:32:50Z", "type": "commit"}, {"oid": "39ce1a2af483bfcb96a03bd5cbf43360c5765c1b", "url": "https://github.com/IQSS/dataverse/commit/39ce1a2af483bfcb96a03bd5cbf43360c5765c1b", "message": "update MDC config for Payara #6593", "committedDate": "2020-04-13T18:45:12Z", "type": "commit"}, {"oid": "07bf75f318984925d95c75ee8d2305258f4c8a1a", "url": "https://github.com/IQSS/dataverse/commit/07bf75f318984925d95c75ee8d2305258f4c8a1a", "message": "update Payara init script for root #6593", "committedDate": "2020-04-13T18:47:36Z", "type": "commit"}, {"oid": "3655a139195e0f8f6672afecb2b2da25e6ab1171", "url": "https://github.com/IQSS/dataverse/commit/3655a139195e0f8f6672afecb2b2da25e6ab1171", "message": "update init script #6593", "committedDate": "2020-04-13T18:56:08Z", "type": "commit"}, {"oid": "91e88b9ab2b577f62f1e295d7c50cda6b7fcd635", "url": "https://github.com/IQSS/dataverse/commit/91e88b9ab2b577f62f1e295d7c50cda6b7fcd635", "message": "update systemd script for payara #6593", "committedDate": "2020-04-13T18:59:17Z", "type": "commit"}, {"oid": "ff21bb6be7943d17dfc392a31aca934955e301a3", "url": "https://github.com/IQSS/dataverse/commit/ff21bb6be7943d17dfc392a31aca934955e301a3", "message": "use dataverse user, not glassfish #6593", "committedDate": "2020-04-13T19:00:24Z", "type": "commit"}, {"oid": "430375dc8d85a3286f5adfba7079a86cf12dc49e", "url": "https://github.com/IQSS/dataverse/commit/430375dc8d85a3286f5adfba7079a86cf12dc49e", "message": "update shib example #6593", "committedDate": "2020-04-13T19:01:42Z", "type": "commit"}, {"oid": "c9978533de23a58eb4cf6a14894e23b426fa551c", "url": "https://github.com/IQSS/dataverse/commit/c9978533de23a58eb4cf6a14894e23b426fa551c", "message": "dataverse user rather than glassfish user #6593", "committedDate": "2020-04-13T19:03:14Z", "type": "commit"}, {"oid": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "url": "https://github.com/IQSS/dataverse/commit/f7923f464c7c2323b537760b92e26ad13ed1a2af", "message": "favor \"app server\" when possible #6593", "committedDate": "2020-04-14T18:55:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5Mzk5OQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409793999", "bodyText": "Here's one we can change to App server (though the directory still has it)", "author": "scolapasta", "createdAt": "2020-04-16T19:22:08Z", "path": "doc/sphinx-guides/source/admin/harvestclients.rst", "diffHunk": "@@ -24,6 +24,6 @@ The process of creating a new, or editing an existing client, is largely self-ex\n What if a Run Fails?\n ~~~~~~~~~~~~~~~~~~~~\n \n-Each harvesting client run logs a separate file per run to Glassfish's default logging directory (``/usr/local/glassfish4/glassfish/domains/domain1/logs/`` unless you've changed it). Look for filenames in the format  ``harvest_TARGET_YYYY_MM_DD_timestamp.log`` to get a better idea of what's going wrong.\n+Each harvesting client run logs a separate file per run to Payara's default logging directory (``/usr/local/payara5/glassfish/domains/domain1/logs/`` unless you've changed it). Look for filenames in the format  ``harvest_TARGET_YYYY_MM_DD_timestamp.log`` to get a better idea of what's going wrong.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYwNDkyNw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411604927", "bodyText": "Fixed in b008f45.", "author": "pdurbin", "createdAt": "2020-04-20T18:40:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5Mzk5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NDg0OA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409794848", "bodyText": "Can probably change this one (i.e. no matter what server we ever use, all logs should be in same place)", "author": "scolapasta", "createdAt": "2020-04-16T19:23:40Z", "path": "doc/sphinx-guides/source/admin/metadataexport.rst", "diffHunk": "@@ -28,7 +28,7 @@ Note, that creating, modifying, or re-exporting an OAI set will also attempt to\n Export Failures\n ---------------\n \n-An export batch job, whether started via the API, or by the application timer, will leave a detailed log in your configured logs directory. This is the same location where your main Glassfish server.log is found. The name of the log file is ``export_[timestamp].log`` - for example, *export_2016-08-23T03-35-23.log*. The log will contain the numbers of datasets processed successfully and those for which metadata export failed, with some information on the failures detected. Please attach this log file if you need to contact Dataverse support about metadata export problems.\n+An export batch job, whether started via the API, or by the application timer, will leave a detailed log in your configured logs directory. This is the same location where your main Payara server.log is found. The name of the log file is ``export_[timestamp].log`` - for example, *export_2016-08-23T03-35-23.log*. The log will contain the numbers of datasets processed successfully and those for which metadata export failed, with some information on the failures detected. Please attach this log file if you need to contact Dataverse support about metadata export problems.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYwODM4MQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411608381", "bodyText": "Fixed in db70a24.", "author": "pdurbin", "createdAt": "2020-04-20T18:46:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NDg0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NTY4OA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409795688", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:25:13Z", "path": "doc/sphinx-guides/source/admin/monitoring.rst", "diffHunk": "@@ -90,12 +90,12 @@ Process the logs:\n \n Please note that load balancers (such as Amazon's ELB) might interfer with the ``LogFormat`` mentioned above.  To start troubleshooting errors such as ``AWStats did not find any valid log lines that match your LogFormat parameter``, you might need to bump up the value of ``NbOfLinesForCorruptedLog`` in the config files above and re-try while you interate on your Apache and AWStats config.\n \n-Please note that the Dataverse team has attempted to parse Glassfish logs using AWStats but it didn't seem to just work and posts have been made at https://stackoverflow.com/questions/49134154/what-logformat-definition-does-awstats-require-to-parse-glassfish-http-access-logs and https://sourceforge.net/p/awstats/discussion/43428/thread/9b1befda/ that can be followed up on some day.\n+Please note that the Dataverse team has attempted to parse Glassfish/Payara logs using AWStats but it didn't seem to just work and posts have been made at https://stackoverflow.com/questions/49134154/what-logformat-definition-does-awstats-require-to-parse-glassfish-http-access-logs and https://sourceforge.net/p/awstats/discussion/43428/thread/9b1befda/ that can be followed up on some day.\n \n-Database Connection Pool used by Glassfish\n-------------------------------------------\n+Database Connection Pool used by Payara", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYwOTU5MA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411609590", "bodyText": "Fixed in 4dca56f.", "author": "pdurbin", "createdAt": "2020-04-20T18:48:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NTY4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NTgzMg==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409795832", "bodyText": "the app server", "author": "scolapasta", "createdAt": "2020-04-16T19:25:29Z", "path": "doc/sphinx-guides/source/admin/monitoring.rst", "diffHunk": "@@ -90,12 +90,12 @@ Process the logs:\n \n Please note that load balancers (such as Amazon's ELB) might interfer with the ``LogFormat`` mentioned above.  To start troubleshooting errors such as ``AWStats did not find any valid log lines that match your LogFormat parameter``, you might need to bump up the value of ``NbOfLinesForCorruptedLog`` in the config files above and re-try while you interate on your Apache and AWStats config.\n \n-Please note that the Dataverse team has attempted to parse Glassfish logs using AWStats but it didn't seem to just work and posts have been made at https://stackoverflow.com/questions/49134154/what-logformat-definition-does-awstats-require-to-parse-glassfish-http-access-logs and https://sourceforge.net/p/awstats/discussion/43428/thread/9b1befda/ that can be followed up on some day.\n+Please note that the Dataverse team has attempted to parse Glassfish/Payara logs using AWStats but it didn't seem to just work and posts have been made at https://stackoverflow.com/questions/49134154/what-logformat-definition-does-awstats-require-to-parse-glassfish-http-access-logs and https://sourceforge.net/p/awstats/discussion/43428/thread/9b1befda/ that can be followed up on some day.\n \n-Database Connection Pool used by Glassfish\n-------------------------------------------\n+Database Connection Pool used by Payara\n+---------------------------------------\n \n-https://github.com/IQSS/dataverse/issues/2595 contains some information on enabling monitoring of Glassfish, which is disabled by default. It's a TODO to document what to do here if there is sufficient interest.\n+https://github.com/IQSS/dataverse/issues/2595 contains some information on enabling monitoring of Payara, which is disabled by default. It's a TODO to document what to do here if there is sufficient interest.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYwOTc0NQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411609745", "bodyText": "Fixed in 4dca56f.", "author": "pdurbin", "createdAt": "2020-04-20T18:48:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NTgzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NjQ5NA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409796494", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:26:46Z", "path": "doc/sphinx-guides/source/admin/troubleshooting.rst", "diffHunk": "@@ -97,14 +97,14 @@ followed by an Exception stack trace with these lines in it:\n \n \n ... it most likely means that it is the JDBC driver incompatibility that's preventing the timer from working correctly. \n-Make sure you install the correct version of the driver. For example, if you are running the version 9.3 of PostgreSQL, make sure you have the driver postgresql-9.3-1104.jdbc4.jar in your :fixedwidthplain:`<GLASSFISH FOLDER>/glassfish/lib` directory. Go `here <https://jdbc.postgresql.org/download.html>`_\n-to download the correct version of the driver. If you have an older driver in glassfish/lib, make sure to remove it, replace it with the new version and restart Glassfish. (You may need to remove the entire contents of :fixedwidthplain:`<GLASSFISH FOLDER>/glassfish/domains/domain1/generated` before you start Glassfish). \n+Make sure you install the correct version of the driver. For example, if you are running the version 9.3 of PostgreSQL, make sure you have the driver postgresql-9.3-1104.jdbc4.jar in your :fixedwidthplain:`<PAYARA FOLDER>/glassfish/lib` directory. Go `here <https://jdbc.postgresql.org/download.html>`_\n+to download the correct version of the driver. If you have an older driver in glassfish/lib, make sure to remove it, replace it with the new version and restart Payara. (You may need to remove the entire contents of :fixedwidthplain:`<PAYARA FOLDER>/glassfish/domains/domain1/generated` before you start Payara). \n \n \n Constraint Violations Issues\n ----------------------------\n \n-In real life production use, it may be possible to end up in a situation where some values associated with the datasets in your database are no longer valid under the constraints enforced by the latest version of Dataverse. This is not very likely to happen, but if it does, the symptomps will be as follows: Some datasets can no longer be edited, long exception stack traces logged in the Glassfish server log, caused by::\n+In real life production use, it may be possible to end up in a situation where some values associated with the datasets in your database are no longer valid under the constraints enforced by the latest version of Dataverse. This is not very likely to happen, but if it does, the symptomps will be as follows: Some datasets can no longer be edited, long exception stack traces logged in the Payara server log, caused by::", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxMjcyMg==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411612722", "bodyText": "Fixed in 0e59c49 (fixed \"symptomps\" too).", "author": "pdurbin", "createdAt": "2020-04-20T18:53:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NjQ5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NzU5Mw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409797593", "bodyText": "I'm ok leaving this section as troubleshooting Payara, so all the references inside are fine). (some of this troubleshooting may actually be more generic, but it's all under this header)", "author": "scolapasta", "createdAt": "2020-04-16T19:28:48Z", "path": "doc/sphinx-guides/source/admin/troubleshooting.rst", "diffHunk": "@@ -32,49 +32,49 @@ A User Needs Their Account to Be Converted From Institutional (Shibboleth), ORCI\n \n See :ref:`converting-shibboleth-users-to-local` and :ref:`converting-oauth-users-to-local`.\n \n-.. _troubleshooting-glassfish:\n+.. _troubleshooting-payara:", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxNDAzNg==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411614036", "bodyText": "Cool, me too.", "author": "pdurbin", "createdAt": "2020-04-20T18:55:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc5NzU5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMDUwNg==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409800506", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:34:13Z", "path": "doc/sphinx-guides/source/developers/coding-style.rst", "diffHunk": "@@ -85,7 +85,7 @@ Use this ``logger`` field with varying levels such as ``fine`` or ``info`` like\n \n     logger.fine(\"will get thumbnail from dataset logo\");\n \n-Generally speaking you should use ``fine`` for everything that you don't want to show up in Glassfish's ``server.log`` file by default. If you use a higher level such as ``info`` for common operations, you will probably hear complaints that your code is too \"chatty\" in the logs. These logging levels can be controlled at runtime both on your development machine and in production as explained in the :doc:`debugging` section.\n+Generally speaking you should use ``fine`` for everything that you don't want to show up in Payara's ``server.log`` file by default. If you use a higher level such as ``info`` for common operations, you will probably hear complaints that your code is too \"chatty\" in the logs. These logging levels can be controlled at runtime both on your development machine and in production as explained in the :doc:`debugging` section.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxNTUxMA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411615510", "bodyText": "Fixed in 7bdb809.", "author": "pdurbin", "createdAt": "2020-04-20T18:57:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMDUwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMDk4NQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409800985", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:35:07Z", "path": "doc/sphinx-guides/source/developers/debugging.rst", "diffHunk": "@@ -8,7 +8,7 @@ Debugging\n Logging\n -------\n \n-By default, Glassfish logs at the \"INFO\" level but logging can be increased to \"FINE\" on the fly with (for example) ``./asadmin set-log-levels edu.harvard.iq.dataverse.api.Datasets=FINE``. Running ``./asadmin list-log-levels`` will show the current logging levels.\n+By default, Payara logs at the \"INFO\" level but logging can be increased to \"FINE\" on the fly with (for example) ``./asadmin set-log-levels edu.harvard.iq.dataverse.api.Datasets=FINE``. Running ``./asadmin list-log-levels`` will show the current logging levels.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxNjU0NQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411616545", "bodyText": "Fixed in cffaf5a.", "author": "pdurbin", "createdAt": "2020-04-20T18:58:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMDk4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMTg4MA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409801880", "bodyText": "the app server", "author": "scolapasta", "createdAt": "2020-04-16T19:36:53Z", "path": "doc/sphinx-guides/source/developers/testing.rst", "diffHunk": "@@ -168,7 +168,7 @@ Running the full API test suite using Docker\n \n To run the full suite of integration tests on your laptop, we recommend using the \"all in one\" Docker configuration described in ``conf/docker-aio/readme.txt`` in the root of the repo.\n \n-Alternatively, you can run tests against Glassfish running on your laptop by following the \"getting set up\" steps below.\n+Alternatively, you can run tests against Payara running on your laptop by following the \"getting set up\" steps below.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxNzUxNw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411617517", "bodyText": "Fixed in 7119c2c.", "author": "pdurbin", "createdAt": "2020-04-20T19:00:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMTg4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMjk0OA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409802948", "bodyText": "your app server", "author": "scolapasta", "createdAt": "2020-04-16T19:38:51Z", "path": "doc/sphinx-guides/source/developers/tips.rst", "diffHunk": "@@ -2,48 +2,46 @@\n Tips\n ====\n \n-If you just followed the steps in :doc:`dev-environment` for the first time, you will need to get set up to deploy code to Glassfish. Below you'll find other tips as well.\n+If you just followed the steps in :doc:`dev-environment` for the first time, you will need to get set up to deploy code to Payara. Below you'll find other tips as well.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYyMzMyNw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411623327", "bodyText": "Fixed in 95ebcb4.", "author": "pdurbin", "createdAt": "2020-04-20T19:10:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwMjk0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDEyOQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409804129", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:40:58Z", "path": "doc/sphinx-guides/source/developers/troubleshooting.rst", "diffHunk": "@@ -67,7 +67,7 @@ mail.smtp.socketFactory.class\t\t\tjavax.net.ssl.SSLSocketFactory\n \n **\\*WARNING**: Entering a password here will *not* conceal it on-screen. It\u2019s recommended to use an *app password* (for smtp.gmail.com users) or utilize a dedicated/non-personal user account with SMTP server auths so that you do not risk compromising your password.\n \n-Save these changes at the top of the page and restart your Glassfish server to try it out.\n+Save these changes at the top of the page and restart your Payara server to try it out.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYyMzk5Mw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411623993", "bodyText": "Fixed in 0e1e364.", "author": "pdurbin", "createdAt": "2020-04-20T19:11:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDE5NA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409804194", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:41:07Z", "path": "doc/sphinx-guides/source/developers/troubleshooting.rst", "diffHunk": "@@ -76,7 +76,7 @@ The mail session can also be set from command line. To use this method, you will\n \n These properties can be tailored to your own preferred mail service, but if all else fails these settings work fine with Dataverse development environments for your localhost.\n \n-+ If you're seeing a \"Relay access denied\" error in your Glassfish logs when your app attempts to send an email, double check your user/password credentials for the Mail Host you're using.\n++ If you're seeing a \"Relay access denied\" error in your Payara logs when your app attempts to send an email, double check your user/password credentials for the Mail Host you're using.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYyOTY3NA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411629674", "bodyText": "Fixed in e817dcf.", "author": "pdurbin", "createdAt": "2020-04-20T19:21:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDE5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDMzMA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409804330", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:41:24Z", "path": "doc/sphinx-guides/source/installation/advanced.rst", "diffHunk": "@@ -7,22 +7,22 @@ Advanced installations are not officially supported but here we are at least doc\n .. contents:: |toctitle|\n \t:local:\n \n-Multiple Glassfish Servers\n---------------------------\n+Multiple Payara Servers\n+-----------------------", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNjI3MQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409806271", "bodyText": "and all the references in this section below could be changed as well (except obviously the directory names", "author": "scolapasta", "createdAt": "2020-04-16T19:44:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDMzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYzOTA0MA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411639040", "bodyText": "Fixed in c717d63.", "author": "pdurbin", "createdAt": "2020-04-20T19:37:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNDMzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNzM4NQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409807385", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:47:07Z", "path": "doc/sphinx-guides/source/installation/oidc.rst", "diffHunk": "@@ -78,7 +78,7 @@ Now load the configuration into Dataverse using the same API as with :doc:`oauth\n \n ``curl -X POST -H 'Content-type: application/json' --upload-file my-oidc-provider.json http://localhost:8080/api/admin/authenticationProviders``\n \n-Dataverse will automatically try to load the provider and retrieve the metadata. Watch the Glassfish log for errors.\n+Dataverse will automatically try to load the provider and retrieve the metadata. Watch the Payara log for errors.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYzOTgwOA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411639808", "bodyText": "Fixed in fa205f0.", "author": "pdurbin", "createdAt": "2020-04-20T19:38:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwNzM4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODM2OA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808368", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:48:53Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -78,7 +80,7 @@ server to download the file **directly from the Dataverse application**. Access\n URLs need to be configured for this to work properly (this is done by the TwoRavens \n installer script in step ``3.``)  \n \n-If you install all components on a single server and front Glassfish with Apache \n+If you install all components on a single server and front Payara with Apache ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MjY1Ng==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411642656", "bodyText": "@scolapasta before changing this one and the rest below in r-rapache-tworavens.rst I'd like to check with @djbrooke and @landreev about the plan for maintaining this \"How to install TwoRavens\" documentation. We don't even use Two Ravens ourselves anymore.\nAs I wrote under \"Special notes for your reviewer\",\n'In the Installation Guide, should we delete the old Two Ravens content? I put a note saying \"Please note that in the text below, Glassfish was changed to Payara but not tested.\"'", "author": "pdurbin", "createdAt": "2020-04-20T19:43:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0ODk4Mw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411648983", "bodyText": "Thanks for tagging me and for bringing this up. Let me check into whether or not we can officially drop support. I'll have an answer later this week.\nI don't necessarily want to hold up this PR, so let's just make the changes to Payara. If we decide to delete this section I'll create a new issue and we can follow with a later PR.", "author": "djbrooke", "createdAt": "2020-04-20T19:53:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1OTYxOA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411659618", "bodyText": "@djbrooke sorry, I'm confused. The changes to Payara have already been made. Do you want me to change those lines to \"app server\"?", "author": "pdurbin", "createdAt": "2020-04-20T20:11:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY3MTAzMA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411671030", "bodyText": "@pdurbin yes, I was confused (Github branch navigation issues :)), let's just use \"app server\" and be done with this for now. Thank you!", "author": "djbrooke", "createdAt": "2020-04-20T20:30:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODM2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY4NTEzMw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411685133", "bodyText": "@djbrooke ok, done in 6607223. Also, while you're thinking about TwoRavens docs, here are a couple related issues: #4429 and #4136.", "author": "pdurbin", "createdAt": "2020-04-20T20:54:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODM2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODQ0OA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808448", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:00Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -291,7 +293,7 @@ Dataverse URL         ``http://{your hostname}:8080``     URL of the Dataverse t\n Please note the default values above. The installer assumes \n \n - that you are running both the Dataverse and TwoRavens/rApache on the same host; \n-- the default ports for Apache (80) and Glassfish that is serving your Dataverse (8080); \n+- the default ports for Apache (80) and Payara that is serving your Dataverse (8080); ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzAxOQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643019", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:43:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODQ0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODUzMQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808531", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:08Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -330,7 +332,7 @@ Compare the two files. **It is important that the two copies are identical**.\n \n **If different**: \n \n-- the **TwoRavens version wins**. Meaning, you need to copy the version supplied with this TwoRavens distribution and overwrite the Glassfish version (above); then restart Glassfish. \n+- the **TwoRavens version wins**. Meaning, you need to copy the version supplied with this TwoRavens distribution and overwrite the Payara version (above); then restart Payara. ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzExMA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643110", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:43:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODUzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODU4MQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808581", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:16Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -368,7 +370,7 @@ If the file does NOT appear as Tabular Data - if it is shown as Stata/dta,\n and no tabular attributes - the numbers of Variables and Observations and the UNF - \n are being displayed, try to refresh the page a couple of times. If that doesn't \n change the view to Tabular, it likely means that something went very wrong with the \n-tabular ingest. Consult the Glassfish server log for any error messages that may \n+tabular ingest. Consult the Payara server log for any error messages that may ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzE3NQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643175", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:43:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODU4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODYzOA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808638", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:23Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -418,9 +420,9 @@ You should get the output that looks like this::\n         ...\n \n If you are getting an error message instead, this is likely an Rserve connection problem. \n-Consult the Glassfish server log for any Rserve-related \"connection refused\" messages. \n+Consult the Payara server log for any Rserve-related \"connection refused\" messages. ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzIzNA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643234", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:44:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODYzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODY5Nw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808697", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:31Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -418,9 +420,9 @@ You should get the output that looks like this::\n         ...\n \n If you are getting an error message instead, this is likely an Rserve connection problem. \n-Consult the Glassfish server log for any Rserve-related \"connection refused\" messages. \n+Consult the Payara server log for any Rserve-related \"connection refused\" messages. \n See if Rserve is running, and start it with ``service rserve start``, if necessary. \n-Check if the Rserve host name, username and password in the Glassfish configuration match \n+Check if the Rserve host name, username and password in the Payara configuration match ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzMwMQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643301", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:44:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODY5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODc3Mw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808773", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:39Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -444,7 +446,7 @@ Symptom: the variables view is initialized properly, but no model output appears\n I. Ports configuration discussion\n ---------------------------------\n \n-By default, Glassfish will install itself on ports 8080 and 8181 (for\n+By default, Payara will install itself on ports 8080 and 8181 (for", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzM4OQ==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643389", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODc3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODk1NA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409808954", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:49:56Z", "path": "doc/sphinx-guides/source/installation/r-rapache-tworavens.rst", "diffHunk": "@@ -458,16 +460,16 @@ defaults, and you should have a working installation in no\n time. However, if you are planning to use this installation to\n actually serve data to real users, you will most likely want to run your Dataverse \n on a standard port; and to use ``HTTPS``. It is definitely possible to configure \n-Glassfish to serve the application under ``HTTPS`` on port 443. However, we \n-**do not recommend** this setup! For at least 2 reasons: 1. Running Glassfish on \n+Payara to serve the application under ``HTTPS`` on port 443. However, we ", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTI2Mg==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409809262", "bodyText": "and others in this section", "author": "scolapasta", "createdAt": "2020-04-16T19:50:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODk1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0MzQ4Nw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411643487", "bodyText": "See note above about r-rapache-tworavens.rst.", "author": "pdurbin", "createdAt": "2020-04-20T19:44:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwODk1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTM1Mw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409809353", "bodyText": "app server", "author": "scolapasta", "createdAt": "2020-04-16T19:50:35Z", "path": "doc/sphinx-guides/source/installation/shibboleth.rst", "diffHunk": "@@ -28,7 +28,7 @@ Only Red Hat Enterprise Linux (RHEL) and derivatives such as CentOS have been te\n Install Apache\n ~~~~~~~~~~~~~~\n \n-We will be \"fronting\" Glassfish with Apache so that we can make use of the ``mod_shib`` Apache module. We will also make use of the ``mod_proxy_ajp`` module built in to Apache.\n+We will be \"fronting\" Payara with Apache so that we can make use of the ``mod_shib`` Apache module. We will also make use of the ``mod_proxy_ajp`` module built in to Apache.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0NjQxNA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411646414", "bodyText": "Fixed in 343437d.", "author": "pdurbin", "createdAt": "2020-04-20T19:49:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTM1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTU1OA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409809558", "bodyText": "app server (and this section)", "author": "scolapasta", "createdAt": "2020-04-16T19:50:58Z", "path": "doc/sphinx-guides/source/installation/shibboleth.rst", "diffHunk": "@@ -65,26 +65,17 @@ Please note that during the installation it's ok to import GPG keys from the Shi\n \n ``yum install shibboleth``\n \n-Configure Glassfish\n--------------------\n-\n-Apply GRIZZLY-1787 Patch\n-~~~~~~~~~~~~~~~~~~~~~~~~\n-\n-In order for the Dataverse \"download as zip\" feature to work well with large files without causing ``OutOfMemoryError`` problems on Glassfish 4.1 when fronted with Apache, you should stop Glassfish, with ``./asadmin stop-domain domain1``, make a backup of ``glassfish4/glassfish/modules/glassfish-grizzly-extra-all.jar``, replace it with a patched version of ``glassfish-grizzly-extra-all.jar`` downloaded from :download:`here </_static/installation/files/issues/2180/grizzly-patch/glassfish-grizzly-extra-all.jar>` (the md5 is in the :download:`README <../_static/installation/files/issues/2180/grizzly-patch/readme.md>`), and start Glassfish again with ``./asadmin start-domain domain1``.\n-\n-For more background on the patch, please see https://java.net/jira/browse/GRIZZLY-1787 and https://github.com/IQSS/dataverse/issues/2180 and https://github.com/payara/Payara/issues/350\n-\n-This problem has been reported to Glassfish at https://java.net/projects/glassfish/lists/users/archive/2015-07/message/1 and while Glassfish 4.1.1 includes a new enough version of Grizzly to fix the bug, other complicating factors prevent its adoption (look for \"Glassfish 4.1.1\" in the :doc:`prerequisites` section for details on why it is not recommended).\n+Configure Payara\n+----------------\n \n-Glassfish HTTP and HTTPS ports\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+Payara HTTP and HTTPS ports", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0NjUwNw==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411646507", "bodyText": "Fixed in 343437d.", "author": "pdurbin", "createdAt": "2020-04-20T19:49:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTU1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTg3NA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r409809874", "bodyText": "app server (and this section)", "author": "scolapasta", "createdAt": "2020-04-16T19:51:29Z", "path": "doc/sphinx-guides/source/installation/shibboleth.rst", "diffHunk": "@@ -305,7 +298,7 @@ The JSON in ``DiscoFeed`` comes from the list of IdPs you configured in the ``Me\n Add the Shibboleth Authentication Provider to Dataverse\n -------------------------------------------------------\n \n-Now that you've configured Glassfish, Apache, and ``shibd``, you are ready to turn your attention back to Dataverse to enable Shibboleth as an \"authentication provider.\" You will be using ``curl`` to POST the `following JSON file <../_static/installation/files/etc/shibboleth/shibAuthProvider.json>`_ to the ``authenticationProviders`` endpoint of the :doc:`/api/native-api`.\n+Now that you've configured Payara, Apache, and ``shibd``, you are ready to turn your attention back to Dataverse to enable Shibboleth as an \"authentication provider.\" You will be using ``curl`` to POST the `following JSON file <../_static/installation/files/etc/shibboleth/shibAuthProvider.json>`_ to the ``authenticationProviders`` endpoint of the :doc:`/api/native-api`.", "originalCommit": "f7923f464c7c2323b537760b92e26ad13ed1a2af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY0NjY3MA==", "url": "https://github.com/IQSS/dataverse/pull/6816#discussion_r411646670", "bodyText": "Fixed in 343437d.", "author": "pdurbin", "createdAt": "2020-04-20T19:49:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgwOTg3NA=="}], "type": "inlineReview"}, {"oid": "b008f454bc38586bf0fdf8c291fbcc8142d23275", "url": "https://github.com/IQSS/dataverse/commit/b008f454bc38586bf0fdf8c291fbcc8142d23275", "message": "change Payara to app server #6593", "committedDate": "2020-04-20T18:39:46Z", "type": "commit"}, {"oid": "db70a247ce6f70373fc196623e45e027f9677fac", "url": "https://github.com/IQSS/dataverse/commit/db70a247ce6f70373fc196623e45e027f9677fac", "message": "rewrite to remove Payara #6593", "committedDate": "2020-04-20T18:45:12Z", "type": "commit"}, {"oid": "4dca56ff34192320c77ac9b9deff69c127957510", "url": "https://github.com/IQSS/dataverse/commit/4dca56ff34192320c77ac9b9deff69c127957510", "message": "remove reference to Payara #6593", "committedDate": "2020-04-20T18:47:31Z", "type": "commit"}, {"oid": "0e59c492bef43b8ae477e9c745f690e12da5780d", "url": "https://github.com/IQSS/dataverse/commit/0e59c492bef43b8ae477e9c745f690e12da5780d", "message": "change Payara to app server and fix typo #6593.", "committedDate": "2020-04-20T18:52:12Z", "type": "commit"}, {"oid": "7bdb809d149e4447b26d325554e2329958920211", "url": "https://github.com/IQSS/dataverse/commit/7bdb809d149e4447b26d325554e2329958920211", "message": "rewrite to remove Payara and server.log #6593", "committedDate": "2020-04-20T18:56:40Z", "type": "commit"}, {"oid": "cffaf5a8fee4aa5343cf85b1cc7bd8256cb60b4b", "url": "https://github.com/IQSS/dataverse/commit/cffaf5a8fee4aa5343cf85b1cc7bd8256cb60b4b", "message": "change Payara to app server #6593", "committedDate": "2020-04-20T18:58:22Z", "type": "commit"}, {"oid": "7119c2c2a86f412603c07ead35e793e0deb7933c", "url": "https://github.com/IQSS/dataverse/commit/7119c2c2a86f412603c07ead35e793e0deb7933c", "message": "switch Payara to app server #6593", "committedDate": "2020-04-20T18:59:45Z", "type": "commit"}, {"oid": "95ebcb41b5df721dfa0bd742d7a63a4864050c7f", "url": "https://github.com/IQSS/dataverse/commit/95ebcb41b5df721dfa0bd742d7a63a4864050c7f", "message": "change payara to your app server #6593", "committedDate": "2020-04-20T19:09:54Z", "type": "commit"}, {"oid": "0e1e364e763f1d8923d8100c492f5aff172fd4ec", "url": "https://github.com/IQSS/dataverse/commit/0e1e364e763f1d8923d8100c492f5aff172fd4ec", "message": "use app server #6593", "committedDate": "2020-04-20T19:11:12Z", "type": "commit"}, {"oid": "dfb1245a7a773b8dcd0dcad7c346c28c6195610b", "url": "https://github.com/IQSS/dataverse/commit/dfb1245a7a773b8dcd0dcad7c346c28c6195610b", "message": "avoid payara zip getting a weird long name #6593", "committedDate": "2020-04-20T19:16:14Z", "type": "commit"}, {"oid": "e817dcf289b5f2f9d3d5f35345beb132324b775e", "url": "https://github.com/IQSS/dataverse/commit/e817dcf289b5f2f9d3d5f35345beb132324b775e", "message": "rewrite, use app server #6593", "committedDate": "2020-04-20T19:20:33Z", "type": "commit"}, {"oid": "c717d63a063f7bf11e2487be17ff8416bbc1ef88", "url": "https://github.com/IQSS/dataverse/commit/c717d63a063f7bf11e2487be17ff8416bbc1ef88", "message": "change payara to app server #6593", "committedDate": "2020-04-20T19:36:35Z", "type": "commit"}, {"oid": "fa205f0bc47ef22943af41f421f8481b02cfc988", "url": "https://github.com/IQSS/dataverse/commit/fa205f0bc47ef22943af41f421f8481b02cfc988", "message": "change to app server #6593", "committedDate": "2020-04-20T19:37:47Z", "type": "commit"}, {"oid": "343437d0eb02981cb7f8f46306c6e18dd9d679d3", "url": "https://github.com/IQSS/dataverse/commit/343437d0eb02981cb7f8f46306c6e18dd9d679d3", "message": "change payara to app server #6593", "committedDate": "2020-04-20T19:48:27Z", "type": "commit"}, {"oid": "b3619996c35429aebec838a8908ed6ad2038d0d2", "url": "https://github.com/IQSS/dataverse/commit/b3619996c35429aebec838a8908ed6ad2038d0d2", "message": "note JSF patch #6593", "committedDate": "2020-04-20T19:58:21Z", "type": "commit"}, {"oid": "6607223f973e61dd4d61e4d19e0114827e3843d0", "url": "https://github.com/IQSS/dataverse/commit/6607223f973e61dd4d61e4d19e0114827e3843d0", "message": "change payara to app server #6593", "committedDate": "2020-04-20T20:50:34Z", "type": "commit"}, {"oid": "37cd6abd8d9facdb8f3e00ff14954623876bf3e2", "url": "https://github.com/IQSS/dataverse/commit/37cd6abd8d9facdb8f3e00ff14954623876bf3e2", "message": "Merge branch 'develop' into 6593-payara-docs #6593", "committedDate": "2020-04-21T19:04:32Z", "type": "commit"}, {"oid": "a7c986d2eb6bd3376acfec1d4d53c9249a8872f6", "url": "https://github.com/IQSS/dataverse/commit/a7c986d2eb6bd3376acfec1d4d53c9249a8872f6", "message": "start getting Vagrant working with Payara and new installer #6593\n\nWe are deferring the rest of this work until #6849\n\nFixes #4519 (switched to dataverse-ansible Vagrantfile).\n\nThe guides have been updated to de-emphasize Vagrant.", "committedDate": "2020-04-22T15:22:00Z", "type": "commit"}, {"oid": "e72ba3cf4b4ca1ae090574194cb567a51ac302f2", "url": "https://github.com/IQSS/dataverse/commit/e72ba3cf4b4ca1ae090574194cb567a51ac302f2", "message": "remove OpenShift (references Glassfish 4.1) #6593\n\nThe OpenShift content has not been kept up to date. We can always dig it\nout of the git history if necessary. A better starting point for\nOpenShift support at this point is probably\nhttps://github.com/IQSS/dataverse-kubernetes", "committedDate": "2020-04-22T15:55:52Z", "type": "commit"}, {"oid": "0cc1739ff95d376c6e79934ffd66958d97a22254", "url": "https://github.com/IQSS/dataverse/commit/0cc1739ff95d376c6e79934ffd66958d97a22254", "message": "Merge branch 'develop' into #6593", "committedDate": "2020-04-22T19:07:27Z", "type": "commit"}, {"oid": "9337c2b0728c6cb2b6db2ff6e8d0d4a1f818134f", "url": "https://github.com/IQSS/dataverse/commit/9337c2b0728c6cb2b6db2ff6e8d0d4a1f818134f", "message": "update Java EE to Jakarta EE #6593 #4260", "committedDate": "2020-04-22T19:26:12Z", "type": "commit"}]}