{"pr_number": 4004, "pr_title": "Add 335 release notes", "pr_createdAt": "2020-06-11T19:01:19Z", "pr_url": "https://github.com/trinodb/trino/pull/4004", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwODk3Nw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439008977", "bodyText": "12 June or whatever .. which makes the line longer too..", "author": "mosabua", "createdAt": "2020-06-11T19:07:44Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA3OTIzMw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439079233", "bodyText": "We've been using the 3-letter abbreviations for these", "author": "martint", "createdAt": "2020-06-11T21:26:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwODk3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwOTM2MA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439009360", "bodyText": "do we want to link to docs for that after the merge of the doc PR?", "author": "mosabua", "createdAt": "2020-06-11T19:08:31Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA3OTMzNg==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439079336", "bodyText": "yes, that's a good idea", "author": "martint", "createdAt": "2020-06-11T21:26:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwOTM2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTU5NQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439651595", "bodyText": "We should write this as\nTIMESTAMP (without time zone) type.\nSince we never document or display the extra WITHOUT TIME ZONE syntax.", "author": "electrum", "createdAt": "2020-06-12T21:35:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwOTM2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwOTk0Mg==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439009942", "bodyText": ":func:`substring`", "author": "mosabua", "createdAt": "2020-06-11T19:09:46Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxMDU2Nw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439010567", "bodyText": "about the roles granted to principals", "author": "mosabua", "createdAt": "2020-06-11T19:10:59Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxMDc2OA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439010768", "bodyText": "Add schema access rules to file-based", "author": "mosabua", "createdAt": "2020-06-11T19:11:23Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxMTAxOQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439011019", "bodyText": "after INSERT into a new table.", "author": "mosabua", "createdAt": "2020-06-11T19:11:58Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxMjEzOA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439012138", "bodyText": "Support caching with secured coordinator.", "author": "mosabua", "createdAt": "2020-06-11T19:14:06Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Make caching work when coordinator is secured. (:issue:`3874`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzA4MA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439017080", "bodyText": "Maybe change to\nEnsure HDFS impersonation and caching are mutually exclusive.\nCant think of a better way atm. Make mutually exclusive .. sounds weird to me.", "author": "mosabua", "createdAt": "2020-06-11T19:23:54Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Make caching work when coordinator is secured. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)\n+* Make caching and HDFS impersonation mutually exclusive. (:issue:`3913`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA4MDQwNA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439080404", "bodyText": "@sopel39, can you clarify what this is trying to convey?", "author": "martint", "createdAt": "2020-06-11T21:29:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzA4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA5NjQ4Mg==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439096482", "bodyText": "Ensure HDFS impersonation and caching are mutually exclusive.\n\nThat sounds better. Thank you.\nBasically both impersonation and caching cannot be on at the same time", "author": "sopel39", "createdAt": "2020-06-11T22:02:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzA4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxNDI0Ng==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439314246", "bodyText": "Maybe\nEnsure HDFS impersonation is not enabled when caching is enabled. Previously it \nwas possible to enable HDFS impersonation when using caching, but the impersonation\nwas ineffective.\n\n?", "author": "findepi", "createdAt": "2020-06-12T09:35:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzA4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1NzQ4OA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439557488", "bodyText": "Thats too long. We could have that info in the docs somewhere but since it would just document a broken setup I dont think we should bother.", "author": "mosabua", "createdAt": "2020-06-12T17:40:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzA4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzcyNw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439017727", "bodyText": "We still have no docs for caching. Can we move this forward soon if we consider caching usable now.", "author": "mosabua", "createdAt": "2020-06-11T19:25:10Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Make caching work when coordinator is secured. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)\n+* Make caching and HDFS impersonation mutually exclusive. (:issue:`3913`)\n+* Add ``hive.cache.ttl`` and ``hive.cache.disk-usage-percentage`` cache properties. (:issue:`3840`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxOTcwMA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439019700", "bodyText": "#3586 was a start but we need to move discussion there and overall", "author": "mosabua", "createdAt": "2020-06-11T19:29:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAxNzcyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDcxNw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439020717", "bodyText": "Is there docs for this so we can link to it instead?", "author": "mosabua", "createdAt": "2020-06-11T19:31:00Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Make caching work when coordinator is secured. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)\n+* Make caching and HDFS impersonation mutually exclusive. (:issue:`3913`)\n+* Add ``hive.cache.ttl`` and ``hive.cache.disk-usage-percentage`` cache properties. (:issue:`3840`)\n+* Schedule work on nodes with cached data. (:issue:`3922`)\n+* Add support for ``UNIONTYPE``.  This is mapped to ``ROW`` containing a ``tag`` field and a field for each data type in the union. For", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA4MDkxMA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439080910", "bodyText": "I don't think so. @dain?", "author": "martint", "createdAt": "2020-06-11T21:30:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDcxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTYxMTgwMw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439611803", "bodyText": "Nope.  We don't have any docs on data type mappings for Hive.", "author": "dain", "createdAt": "2020-06-12T19:46:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDcxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTYyMDQzNA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439620434", "bodyText": "So lets leave this as is. Should I create an issue to add that? @electrum, @mattsfuller and myself already talked about breaking up the Hive connector docs into multiple docs as well as having some sort of standard setup for each connector documentation. This could be one of the things each connector doc has..", "author": "mosabua", "createdAt": "2020-06-12T20:08:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDcxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439020852", "bodyText": "docs?", "author": "mosabua", "createdAt": "2020-06-11T19:31:16Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA4MDY4NQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439080685", "bodyText": "@findepi, do we have docs for this that we can link to?", "author": "martint", "createdAt": "2020-06-11T21:29:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxMzIyMg==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439313222", "bodyText": "yes, this is documented: #3895\n(will show up at https://prestosql.io/docs/current/connector/hive.html#procedures)", "author": "findepi", "createdAt": "2020-06-12T09:32:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1Nzc5MQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439557791", "bodyText": "Then I suggest to change this to link there and remove most of the detail in the release notes here.", "author": "mosabua", "createdAt": "2020-06-12T17:41:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc4MTI2Nw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439781267", "bodyText": "Please change this to a link", "author": "electrum", "createdAt": "2020-06-14T00:53:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc4MjIxNA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439782214", "bodyText": "And remove the second sentence, or just leave it there?", "author": "martint", "createdAt": "2020-06-14T01:17:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg3MTc5NA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439871794", "bodyText": "It\u2019s fine either way.", "author": "electrum", "createdAt": "2020-06-14T22:02:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMDg1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMTIzMw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439021233", "bodyText": "Move content to docs and link?", "author": "mosabua", "createdAt": "2020-06-11T19:32:02Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,42 @@\n+=========================\n+Release 335 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:``substring`` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about what roles where granted to what principals. (:issue:`3535`)\n+* Adding schema access rules to file based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` to new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Make caching work when coordinator is secured. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)\n+* Make caching and HDFS impersonation mutually exclusive. (:issue:`3913`)\n+* Add ``hive.cache.ttl`` and ``hive.cache.disk-usage-percentage`` cache properties. (:issue:`3840`)\n+* Schedule work on nodes with cached data. (:issue:`3922`)\n+* Add support for ``UNIONTYPE``.  This is mapped to ``ROW`` containing a ``tag`` field and a field for each data type in the union. For\n+  example, ``UNIONTYPE<INT, DOUBLE>`` is mapped to ``ROW(tag INTEGER, field0 INTEGER, field1 DOUBLE)``. (:issue:`3483`)\n+* Make ``partition_values`` argument to ``drop_stats`` procedure optional. (:issue:`3937`)\n+* Improve performance of complex queries over partitioned data. (:issue:`1072`)\n+\n+Phoenix Connector Changes\n+-------------------------\n+\n+* Allow configuring whether ``DROP TABLE`` is allowed. This is controlled by the new ``allow-drop-table``", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1Nzg4MQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439557881", "bodyText": "Who is going to work on this?", "author": "mosabua", "createdAt": "2020-06-12T17:41:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAyMTIzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMwMTEzMA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439301130", "bodyText": "This also fixes the returned value.\nAlso link to #3456 (instead? additionally?)", "author": "findepi", "createdAt": "2020-06-12T09:07:15Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1ODAyNA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439558024", "bodyText": "Probably in addition..", "author": "mosabua", "createdAt": "2020-06-12T17:41:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMwMTEzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTg0Nw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439651847", "bodyText": "Move this above with the fixes, since this is a fix/change to existing behavior.", "author": "electrum", "createdAt": "2020-06-12T21:35:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMwMTEzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxMjY4NQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439312685", "bodyText": "Do we have doc link for this?", "author": "findepi", "createdAt": "2020-06-12T09:31:43Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1ODA3NQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439558075", "bodyText": "https://prestosql.io/docs/current/security/built-in-system-access-control.html#file-based-system-access-control", "author": "mosabua", "createdAt": "2020-06-12T17:42:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxMjY4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxNDY0MQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439314641", "bodyText": "From end-user perspective this could be\nImprove query performance when caching is enabled by [...]\n\n?", "author": "findepi", "createdAt": "2020-06-12T09:36:04Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` into a new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Support caching with secured coordinator. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)\n+* Make caching and HDFS impersonation mutually exclusive. (:issue:`3913`)\n+* Add ``hive.cache.ttl`` and ``hive.cache.disk-usage-percentage`` cache properties. (:issue:`3840`)\n+* Schedule work on nodes with cached data. (:issue:`3922`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1ODM2MA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439558360", "bodyText": "that would be good", "author": "mosabua", "createdAt": "2020-06-12T17:42:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxNDY0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxNTc5MA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439315790", "bodyText": "Worth mentioning \"dynamic filtering\" here since it's something users already understand.\nOtherwise this bullet is easy to overlook, while it is very important.\nAlso, we could add some numbers (eg \"by x % on certain TPC-DS queries\").", "author": "findepi", "createdAt": "2020-06-12T09:38:34Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` into a new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Support caching with secured coordinator. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)\n+* Make caching and HDFS impersonation mutually exclusive. (:issue:`3913`)\n+* Add ``hive.cache.ttl`` and ``hive.cache.disk-usage-percentage`` cache properties. (:issue:`3840`)\n+* Schedule work on nodes with cached data. (:issue:`3922`)\n+* Add support for ``UNIONTYPE``.  This is mapped to ``ROW`` containing a ``tag`` field and a field for each data type in the union. For\n+  example, ``UNIONTYPE<INT, DOUBLE>`` is mapped to ``ROW(tag INTEGER, field0 INTEGER, field1 DOUBLE)``. (:issue:`3483`)\n+* Make ``partition_values`` argument to ``drop_stats`` procedure optional. (:issue:`3937`)\n+* Improve performance of complex queries over partitioned data. (:issue:`1072`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY3Mzk0NA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439673944", "bodyText": "Ok, how about \"Add support for dynamic partition pruning to improve performance ....\"?", "author": "martint", "createdAt": "2020-06-12T23:02:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxNTc5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY4MDcwMw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439680703", "bodyText": "Ok, how about \"Add support for dynamic partition pruning to improve performance ....\"?\n\nSounds good to me", "author": "findepi", "createdAt": "2020-06-12T23:38:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMxNTc5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwNw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439651407", "bodyText": "converting ... TIMESTAMP into TIMESTAMP WITHOUT TIME ZONE\n\nI don't understand what this is saying, since they are the same type. The optional WITHOUT TIME ZONE part is syntactic \"noise words\" (as the PostgreSQL documentation would say) and we don't ever document or display that. Users know it as the TIMESTAMP type.", "author": "electrum", "createdAt": "2020-06-12T21:34:21Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY2NTE1MA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439665150", "bodyText": "In the doc PR that should be merged we decided to call it by the full name .. I guess thats why the full name is used here. Either way.. we should just link to the docs.", "author": "mosabua", "createdAt": "2020-06-12T22:22:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY2NTgzMQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439665831", "bodyText": "And in this specific issue .. I am not sure what this is fixing either .. @martint ?", "author": "mosabua", "createdAt": "2020-06-12T22:25:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY3NDA2NA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439674064", "bodyText": "I think that's a typo. It should be \"WITH TIME ZONE\"", "author": "martint", "createdAt": "2020-06-12T23:02:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY4MDMwOA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439680308", "bodyText": "confirm & apologies; WITH time zone it ought to be", "author": "findepi", "createdAt": "2020-06-12T23:36:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTk3OA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439651978", "bodyText": "Same comment about WITHOUT TIME ZONE", "author": "electrum", "createdAt": "2020-06-12T21:36:07Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MjIwMw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439652203", "bodyText": "Move this above to general changes. It's not specifically a security feature.", "author": "electrum", "createdAt": "2020-06-12T21:36:46Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NDM0Ng==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439654346", "bodyText": "\"fix a bug\" should be avoided. How about\n\nCollect column statistics for inserts into empty tables.", "author": "electrum", "createdAt": "2020-06-12T21:43:51Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` into a new table. (:issue:`2469`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY4MDUyNw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439680527", "bodyText": "I am ok either way, but starting with \"Fix\" we communicate this was considered a bug fix, not a new feature.", "author": "findepi", "createdAt": "2020-06-12T23:37:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NDM0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NDQwMA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439654400", "bodyText": "when using the ``sql-standard`` security mode", "author": "electrum", "createdAt": "2020-06-12T21:44:01Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` into a new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTM5Mw==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439655393", "bodyText": "\"secured\" isn't very specific. Does this mean when HTTPS is required and when authentication is enabled?", "author": "electrum", "createdAt": "2020-06-12T21:47:10Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` into a new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Support caching with secured coordinator. (:issue:`3874`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY3NDYyOQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439674629", "bodyText": "@sopel39?", "author": "martint", "createdAt": "2020-06-12T23:05:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTM5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTcxNjY2NQ==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439716665", "bodyText": "Yes. It means https enabled on coordinator.", "author": "sopel39", "createdAt": "2020-06-13T07:10:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTM5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc4MTM3Ng==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439781376", "bodyText": "@sopel39 I do not believe you answered my question. I said \"when HTTPS is required\" and you said \"yes ... HTTPS enabled\". My understanding is that caching would work fine with HTTPS is enabled, as long as HTTP is also enabled, as the communication will happen over HTTP.", "author": "electrum", "createdAt": "2020-06-14T00:56:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTM5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTU3OA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439655578", "bodyText": "Prevent caching from becoming disabled due to intermittent network failures.", "author": "electrum", "createdAt": "2020-06-12T21:47:49Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,51 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP WITHOUT TIME ZONE`` to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITHOUT TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITHOUT TIME ZONE`` values. (:issue:`3956`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP WITHOUT TIME ZONE`` type. (:issue:`3783`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+\n+Security Changes\n+----------------\n+\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles granted to principals. (:issue:`3535`)\n+* Add schema access rules to file-based system access control. (:issue:`3766`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix a bug that caused missing column statistics after ``INSERT`` into a new table. (:issue:`2469`)\n+* Add support for ``information_schema.role_authorization_descriptors`` table when ``hive.security=sql-standard``.  (:issue:`3535`)\n+* Allow non-lowercase column names in ``system.sync_partition_metadata`` procedure. This can be enabled\n+  by passing ``case_sensitive=false`` when invoking the procedure. (:issue:`3431`)\n+* Support caching with secured coordinator. (:issue:`3874`)\n+* Prevent caching from turning off in case of intermittent network failures. (:issue:`3874`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTcyMTQzNA==", "url": "https://github.com/trinodb/trino/pull/4004#discussion_r439721434", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            JDBC Driver\n          \n          \n            \n            -----------\n          \n          \n            \n            \n          \n          \n            \n            * Fix the value returned from ``ResultSet.getDate`` for dates before October 4th, 1582. (:issue:`4005`)\n          \n          \n            \n            * Fix the value returned from ``ResultSet.getTimestamp`` for dates before October 4th, 1582. (:issue:`4005`)\n          \n      \n    \n    \n  \n\n#4019", "author": "findepi", "createdAt": "2020-06-13T08:32:33Z", "path": "presto-docs/src/main/sphinx/release/release-335.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 335 (XX Jun 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix failure when :func:`reduce_agg` is used as a window function. (:issue:`3883`)\n+* Fix incorrect cast from ``TIMESTAMP`` (without time zone) to ``TIME`` type. (:issue:`3848`)\n+* Fix incorrect query results when converting very large ``TIMESTAMP`` values into\n+  ``TIMESTAMP WITH TIME ZONE``, or when parsing very large\n+  ``TIMESTAMP WITH TIME ZONE`` values. (:issue:`3956`)\n+* Return ``VARCHAR`` type when :func:`substr` argument is ``CHAR`` type. (:issue:`3599`, :issue:`3456`)\n+* Improve optimized local scheduling with regard to non-uniform data distribution. (:issue:`3922`)\n+* Add support for variable-precision ``TIMESTAMP`` (without time zone) type. (:issue:`3783`)\n+* Add a variant of :func:`substring` that takes a ``CHAR`` argument. (:issue:`3949`)\n+* Add  ``information_schema.role_authorization_descriptors`` table that returns information about the roles\n+  granted to principals. (:issue:`3535`)\n+\n+Security Changes\n+----------------\n+\n+* Add schema access rules to :ref:`file-based-system-access-control`. (:issue:`3766`)\n+\n+JDBC Driver\n+-----------\n+\n+* Fix the value returned from ``ResultSet.getDate`` for dates before October 4th, 1582. (:issue:`4005`)\n+* Fix the value returned from ``ResultSet.getTimestamp`` for dates before October 4th, 1582. (:issue:`4005`)\n+", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "b870426ae6dcdd98e799a0a42906da0a53b2ac44", "url": "https://github.com/trinodb/trino/commit/b870426ae6dcdd98e799a0a42906da0a53b2ac44", "message": "Add 335 release notes", "committedDate": "2020-06-14T22:04:36Z", "type": "commit"}, {"oid": "b870426ae6dcdd98e799a0a42906da0a53b2ac44", "url": "https://github.com/trinodb/trino/commit/b870426ae6dcdd98e799a0a42906da0a53b2ac44", "message": "Add 335 release notes", "committedDate": "2020-06-14T22:04:36Z", "type": "forcePushed"}]}