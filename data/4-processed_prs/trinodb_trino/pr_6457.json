{"pr_number": 6457, "pr_title": "Use dedicated modules for Kafka Schema Registry", "pr_createdAt": "2020-12-28T20:14:02Z", "pr_url": "https://github.com/trinodb/trino/pull/6457", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTIxMDk0OA==", "url": "https://github.com/trinodb/trino/pull/6457#discussion_r551210948", "bodyText": "Can we bind this one globally ? Same for DispatchingRowDecoderFactory", "author": "Praveen2112", "createdAt": "2021-01-04T09:47:33Z", "path": "presto-kafka/src/main/java/io/prestosql/plugin/kafka/schema/confluent/ConfluentModule.java", "diffHunk": "@@ -102,6 +107,7 @@ public void configure(Binder binder)\n             encoderFactoriesByName.addBinding(AvroRowEncoder.NAME).toInstance((session, dataSchema, columnHandles) -> {\n                 throw new PrestoException(NOT_SUPPORTED, \"Insert not supported\");\n             });\n+            binder.bind(DispatchingRowEncoderFactory.class).in(SINGLETON);", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTI1ODY3MA==", "url": "https://github.com/trinodb/trino/pull/6457#discussion_r551258670", "bodyText": "Encoder module provides all encoder relates bindings. It is not only for avro, but for all supported in Trino (currently only avro).\nSame for Decoder.", "author": "kokosing", "createdAt": "2021-01-04T11:21:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTIxMDk0OA=="}], "type": "inlineReview"}, {"oid": "286b7396eb8917c4d6b689c63ec97daf3001bf92", "url": "https://github.com/trinodb/trino/commit/286b7396eb8917c4d6b689c63ec97daf3001bf92", "message": "Use dedicated modules for Kafka Schema Registry\n\nReusing generic encoder and decoder module with extensions points make\nit more complex that it is needed. Also it is very likely that for JSON\nor RAW formats we will need dedicated binding hence that would be even\nmore complex.\n\nAlso current code structure gave a false impression that JSON and RAW is\nalready supported as it was already bound in the guice context of that\nKafka connector.", "committedDate": "2021-01-04T11:21:32Z", "type": "commit"}, {"oid": "286b7396eb8917c4d6b689c63ec97daf3001bf92", "url": "https://github.com/trinodb/trino/commit/286b7396eb8917c4d6b689c63ec97daf3001bf92", "message": "Use dedicated modules for Kafka Schema Registry\n\nReusing generic encoder and decoder module with extensions points make\nit more complex that it is needed. Also it is very likely that for JSON\nor RAW formats we will need dedicated binding hence that would be even\nmore complex.\n\nAlso current code structure gave a false impression that JSON and RAW is\nalready supported as it was already bound in the guice context of that\nKafka connector.", "committedDate": "2021-01-04T11:21:32Z", "type": "forcePushed"}]}