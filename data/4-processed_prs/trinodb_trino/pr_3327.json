{"pr_number": 3327, "pr_title": "Free disk space in checks workflow", "pr_createdAt": "2020-04-03T12:09:08Z", "pr_url": "https://github.com/trinodb/trino/pull/3327", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzE0MjgxNA==", "url": "https://github.com/trinodb/trino/pull/3327#discussion_r403142814", "bodyText": "Nit: let's capitalize \"Free Disk Space\"", "author": "electrum", "createdAt": "2020-04-03T16:53:36Z", "path": ".github/workflows/checks.yml", "diffHunk": "@@ -31,7 +31,9 @@ jobs:\n       - name: Test Server RPM\n         run: |\n           export MAVEN_OPTS=\"${MAVEN_INSTALL_OPTS}\"\n-          ./bin/retry ./mvnw install -B -P ci -pl presto-server-rpm\n+          ./bin/retry ./mvnw package -B -P ci -pl presto-server-rpm\n+      - name: Free disk space", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzE0MzUyMA==", "url": "https://github.com/trinodb/trino/pull/3327#discussion_r403143520", "bodyText": "No need to retry here. We only retry the Maven calls that have downloads.", "author": "electrum", "createdAt": "2020-04-03T16:54:42Z", "path": ".github/workflows/checks.yml", "diffHunk": "@@ -31,7 +31,9 @@ jobs:\n       - name: Test Server RPM\n         run: |\n           export MAVEN_OPTS=\"${MAVEN_INSTALL_OPTS}\"\n-          ./bin/retry ./mvnw install -B -P ci -pl presto-server-rpm\n+          ./bin/retry ./mvnw package -B -P ci -pl presto-server-rpm\n+      - name: Free disk space\n+        run: ./bin/retry ./mvnw clean -pl '!presto-server,!presto-cli'", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzE2OTE5MQ==", "url": "https://github.com/trinodb/trino/pull/3327#discussion_r403169191", "bodyText": "This needs to be the verify phase since that's when then integration tests run (see the maven-failsafe-plugin configuration)", "author": "electrum", "createdAt": "2020-04-03T17:24:27Z", "path": ".github/workflows/checks.yml", "diffHunk": "@@ -31,7 +31,9 @@ jobs:\n       - name: Test Server RPM\n         run: |\n           export MAVEN_OPTS=\"${MAVEN_INSTALL_OPTS}\"\n-          ./bin/retry ./mvnw install -B -P ci -pl presto-server-rpm\n+          ./bin/retry ./mvnw package -B -P ci -pl presto-server-rpm", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "54188afa83138a7bcbabf22e4f0560761a7d0ced", "url": "https://github.com/trinodb/trino/commit/54188afa83138a7bcbabf22e4f0560761a7d0ced", "message": "Free disk space in checks workflow", "committedDate": "2020-04-03T18:35:51Z", "type": "commit"}, {"oid": "54188afa83138a7bcbabf22e4f0560761a7d0ced", "url": "https://github.com/trinodb/trino/commit/54188afa83138a7bcbabf22e4f0560761a7d0ced", "message": "Free disk space in checks workflow", "committedDate": "2020-04-03T18:35:51Z", "type": "forcePushed"}]}