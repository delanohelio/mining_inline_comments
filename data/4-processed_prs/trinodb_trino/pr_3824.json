{"pr_number": 3824, "pr_title": "Add 334 release notes", "pr_createdAt": "2020-05-22T16:09:26Z", "pr_url": "https://github.com/trinodb/trino/pull/3824", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjA5OQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431206099", "bodyText": "@sopel39, what's the name of the property?", "author": "martint", "createdAt": "2020-05-27T14:58:52Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,85 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix late materialization with aggregation queries. (:issue:`3577`)\n+* Fix late materialization with empty splits. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)\n+* Don't initialize cache on coordinator by default. (:issue:`3820`)\n+* Use caching asynchronous read mode by default. (:issue:`3799`)\n+* Add session property for disabling Hive cache. (:issue:`3843`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyMDg0NA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431220844", "bodyText": "It's cache_enabled Hive session property", "author": "sopel39", "createdAt": "2020-05-27T15:15:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjAwODM1MQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432008351", "bodyText": "this line needs to be removed after: #3875", "author": "sopel39", "createdAt": "2020-05-28T17:35:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NDE4NQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432084185", "bodyText": "(if this stays) disabling -> skipping?", "author": "findepi", "createdAt": "2020-05-28T19:53:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjA5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjg1MQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431206851", "bodyText": "@sopel39, what's the user-visible effect? Is it a failure? Correctness?", "author": "martint", "createdAt": "2020-05-27T14:59:30Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,85 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix late materialization with aggregation queries. (:issue:`3577`)\n+* Fix late materialization with empty splits. (:issue:`3577`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyMTM4OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431221388", "bodyText": "When table is empty query would fail", "author": "sopel39", "createdAt": "2020-05-27T15:16:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjg1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg4OTM3MQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431889371", "bodyText": "Is that the same for both items?", "author": "martint", "createdAt": "2020-05-28T14:39:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjg1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg5MjQ4OQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431892489", "bodyText": "Is that the same for both items?\n\nyes.", "author": "sopel39", "createdAt": "2020-05-28T14:43:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIwNjg1MQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTkxNTIyOQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r431915229", "bodyText": "seems incidental :)", "author": "losipiuk", "createdAt": "2020-05-28T15:13:20Z", "path": "presto-main/src/test/java/io/prestosql/sql/query/TestLateral.java", "diffHunk": "@@ -67,6 +67,6 @@ public void testUncorrelatedLateral()\n     @Test\n     public void testNotInScope()\n     {\n-        assertions.assertFails(\"SELECT * FROM (VALUES 1) t(a), (SELECT * FROM LATERAL (SELECT a))\", \"line 1:63: Column 'a' cannot be resolved\");\n+        assertions.assertFails(\"SELECT * FROM (V3829ALUES 1) t(a), (SELECT * FROM LATERAL (SELECT a))\", \"line 1:63: Column 'a' cannot be resolved\");", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3NzAxNA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432077014", "bodyText": "334", "author": "findepi", "createdAt": "2020-05-28T19:43:40Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3ODQzNQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432078435", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n          \n          \n            \n            * Add variant of :func:`random` function that produces a number between given two numbers. (:issue:`1848`)", "author": "findepi", "createdAt": "2020-05-28T19:45:55Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MTM0OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432161348", "bodyText": "How about\n\nthat produces a number in the provided range", "author": "electrum", "createdAt": "2020-05-28T22:35:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3ODQzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3ODk4MA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432078980", "bodyText": "\"modern\" is not descriptive", "author": "findepi", "createdAt": "2020-05-28T19:46:36Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MTc1MQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432161751", "bodyText": "standards compliant (:rfc:`7239`)", "author": "electrum", "createdAt": "2020-05-28T22:36:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3ODk4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MTk3MA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432161970", "bodyText": "are -> is\n\"Processing of ... is controlled by\"", "author": "electrum", "createdAt": "2020-05-28T22:37:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3ODk4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3OTYyMw==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432079623", "bodyText": "maybe fixed -> ``fixed``, since it's a used a name, not an adjective?", "author": "findepi", "createdAt": "2020-05-28T19:47:26Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MjU4Ng==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432162586", "bodyText": "Add comma after JWT", "author": "electrum", "createdAt": "2020-05-28T22:39:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3OTYyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4NzQwNg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432187406", "bodyText": "Just quote \"fixed\" but not the others? That looks inconsistent.", "author": "martint", "createdAt": "2020-05-29T00:00:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3OTYyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTAwNw==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432081007", "bodyText": "This was introduced recently (330). Do we wa want to mention when?", "author": "findepi", "createdAt": "2020-05-28T19:49:14Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4Nzc3OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432187778", "bodyText": "What was introduced recently? The bug? Or the ability to create external tables?", "author": "martint", "createdAt": "2020-05-29T00:02:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTAwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM3NTkwNg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432375906", "bodyText": "The bug and ability to create external tables with data.", "author": "findepi", "createdAt": "2020-05-29T09:46:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTAwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTY4OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432081688", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n          \n          \n            \n            * Fix race condition that could cause caching to be permanently disabled. (:issue:`3729`, :issue:`3810`)", "author": "findepi", "createdAt": "2020-05-28T19:50:00Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTk3OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432081978", "bodyText": "parallel warmup -> async mode", "author": "findepi", "createdAt": "2020-05-28T19:50:22Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4Mjc5MA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432082790", "bodyText": "Azure -> Azure storages\n(or something like that)", "author": "findepi", "createdAt": "2020-05-28T19:51:28Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NTU0Mg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432165542", "bodyText": "Azure file systems", "author": "electrum", "createdAt": "2020-05-28T22:48:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4Mjc5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4Mjk5MA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432082990", "bodyText": "parallel warmup  -> async mode", "author": "findepi", "createdAt": "2020-05-28T19:51:43Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MzMwNg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432083306", "bodyText": "by default, or never?\ni understand there is no caching on coordinator whatsoever?", "author": "findepi", "createdAt": "2020-05-28T19:52:07Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)\n+* Don't initialize cache on coordinator by default. (:issue:`3820`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4ODIxOQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432188219", "bodyText": "@sopel39 ?", "author": "martint", "createdAt": "2020-05-29T00:03:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MzMwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxNDc5OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432314798", "bodyText": "Let me rephrase:\nDisable caching on coordinator by default. It can still be enabled by feature toggle for development purposes. (:issue:`3820`)", "author": "sopel39", "createdAt": "2020-05-29T07:51:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MzMwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY3MjgyOA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432672828", "bodyText": "Let's drop the second sentence. \"disable by default\" implies it can be enabled with config, and we don't need to mention why\n\nDisable caching on coordinator by default.", "author": "electrum", "createdAt": "2020-05-29T18:48:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MzMwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MzYzNw==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432083637", "bodyText": "asynchronous read mode -> async mode ?? how do we want to call it?", "author": "findepi", "createdAt": "2020-05-28T19:52:29Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)\n+* Don't initialize cache on coordinator by default. (:issue:`3820`)\n+* Use caching asynchronous read mode by default. (:issue:`3799`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY3MzQ1MA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432673450", "bodyText": "The config is hive.cache.read-mode=ASYNC so this sounds fine. Maybe flip the sentence\n\nUse asynchronous read mode for caching by default.", "author": "electrum", "createdAt": "2020-05-29T18:49:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MzYzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NDcyNw==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432084727", "bodyText": "This is enabled by default, so \"Allow caching\" -> \"Cache\"", "author": "findepi", "createdAt": "2020-05-28T19:53:53Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)\n+* Don't initialize cache on coordinator by default. (:issue:`3820`)\n+* Use caching asynchronous read mode by default. (:issue:`3799`)\n+* Add session property for disabling Hive cache. (:issue:`3843`)\n+* Allow caching delegation token for Hive thrift metastore. This can be configured with\n+  the ``hive.metastore.thrift.delegation-token.cache-ttl`` and ``hive.metastore.thrift.delegation-token.cache-maximum-size``\n+  configuration properties. (:issue:`3771`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NTI3MQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432085271", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Include :doc:`/connector/memsql` in the server build. (:issue:`3743`)\n          \n          \n            \n            * Include :doc:`/connector/memsql` in the server build.\n          \n          \n            \n              Previously the connector was not part of the project's release artifacts. (:issue:`3743`)", "author": "findepi", "createdAt": "2020-05-28T19:54:38Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)\n+* Don't initialize cache on coordinator by default. (:issue:`3820`)\n+* Use caching asynchronous read mode by default. (:issue:`3799`)\n+* Add session property for disabling Hive cache. (:issue:`3843`)\n+* Allow caching delegation token for Hive thrift metastore. This can be configured with\n+  the ``hive.metastore.thrift.delegation-token.cache-ttl`` and ``hive.metastore.thrift.delegation-token.cache-maximum-size``\n+  configuration properties. (:issue:`3771`)\n+\n+MemSQL Connector Changes\n+------------------------\n+\n+* Include :doc:`/connector/memsql` in the server build. (:issue:`3743`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NjEzNQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432166135", "bodyText": "\"release artifacts\" is not correct. I think we can just remove the second sentence.", "author": "electrum", "createdAt": "2020-05-28T22:50:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NTI3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4OTAyOA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432189028", "bodyText": "How about:\n\nInclude ... in the server packaging.\n\nor\n\nInclude ... in the server tarball and RPM", "author": "martint", "createdAt": "2020-05-29T00:06:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NTI3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjY3MzcwMg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432673702", "bodyText": "The second one looks good", "author": "electrum", "createdAt": "2020-05-29T18:50:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NTI3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4NTU2OQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432085569", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Allow case insensitive database and collection name. This can be enabled with the\n          \n          \n            \n            * Support case insensitive database and collection names. This can be enabled with the", "author": "findepi", "createdAt": "2020-05-28T19:54:58Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,87 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)\n+* Improve performance when creating unpartitioned external tables over large data sets. (:issue:`3624`)\n+* Leverage Parquet file statistics when reading decimal columns. (:issue:`3581`)\n+* Change type of ``$file_modified_time`` hidden column from ``bigint`` to ``timestamp with timezone type``. (:issue:`3611`)\n+* Add caching support for HDFS and Azure. (:issue:`3772`)\n+* Fix S3 connection pool depletion when caching parallel warmup is enabled. (:issue:`3772`)\n+* Don't initialize cache on coordinator by default. (:issue:`3820`)\n+* Use caching asynchronous read mode by default. (:issue:`3799`)\n+* Add session property for disabling Hive cache. (:issue:`3843`)\n+* Allow caching delegation token for Hive thrift metastore. This can be configured with\n+  the ``hive.metastore.thrift.delegation-token.cache-ttl`` and ``hive.metastore.thrift.delegation-token.cache-maximum-size``\n+  configuration properties. (:issue:`3771`)\n+\n+MemSQL Connector Changes\n+------------------------\n+\n+* Include :doc:`/connector/memsql` in the server build. (:issue:`3743`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Allow case insensitive database and collection name. This can be enabled with the", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MjAzNg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432162036", "bodyText": "configuration property", "author": "electrum", "createdAt": "2020-05-28T22:37:35Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MjA1NA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432162054", "bodyText": "configuration properties", "author": "electrum", "createdAt": "2020-05-28T22:37:40Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MjQwOA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432162408", "bodyText": "Move this above, before the Add items", "author": "electrum", "createdAt": "2020-05-28T22:38:39Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+* Add pluggable :doc:`/develop/certificate-authenticator`. (:issue:`3804`)\n+* Show distributed plan by default in :doc:`/sql/explain`. (:issue:`3724`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MjQ2Ng==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432162466", "bodyText": "Move above with the other Fix", "author": "electrum", "createdAt": "2020-05-28T22:38:52Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2MjY4Ng==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432162686", "bodyText": "* Improve performance of ``DatabaseMetaData.getColumns()`` when the\n  parameters contain unescaped ``%`` or ``_``. (:issue:`1620`)", "author": "electrum", "createdAt": "2020-05-28T22:39:31Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+* Add pluggable :doc:`/develop/certificate-authenticator`. (:issue:`3804`)\n+* Show distributed plan by default in :doc:`/sql/explain`. (:issue:`3724`)\n+\n+JDBC Driver\n+-----------\n+\n+* Implement ``toString()`` for ``java.sqlArray`` results. (:issue:`3803`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NDM1Mg==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432164352", "bodyText": "Do we explain this somewhere?", "author": "electrum", "createdAt": "2020-05-28T22:44:34Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+* Add pluggable :doc:`/develop/certificate-authenticator`. (:issue:`3804`)\n+* Show distributed plan by default in :doc:`/sql/explain`. (:issue:`3724`)\n+\n+JDBC Driver\n+-----------\n+\n+* Implement ``toString()`` for ``java.sqlArray`` results. (:issue:`3803`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4OTU4OQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432189589", "bodyText": "No, we don't have documentation for this yet.", "author": "martint", "createdAt": "2020-05-29T00:08:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NDM1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NDczOA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432164738", "bodyText": "* Fix creation of external tables using ``CREATE TABLE AS``. Previously, the\n  tables were created as managed and with the default location. (:issue:`3755`)", "author": "electrum", "createdAt": "2020-05-28T22:45:48Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+* Add pluggable :doc:`/develop/certificate-authenticator`. (:issue:`3804`)\n+* Show distributed plan by default in :doc:`/sql/explain`. (:issue:`3724`)\n+\n+JDBC Driver\n+-----------\n+\n+* Implement ``toString()`` for ``java.sqlArray`` results. (:issue:`3803`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix matching bucket filenames without leading zeros. (:issue:`3702`)\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NDk4OA==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432164988", "bodyText": "Fix incorrect table statistics for newly created external tables.", "author": "electrum", "createdAt": "2020-05-28T22:46:31Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+* Add pluggable :doc:`/develop/certificate-authenticator`. (:issue:`3804`)\n+* Show distributed plan by default in :doc:`/sql/explain`. (:issue:`3724`)\n+\n+JDBC Driver\n+-----------\n+\n+* Implement ``toString()`` for ``java.sqlArray`` results. (:issue:`3803`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix matching bucket filenames without leading zeros. (:issue:`3702`)\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2NTIxMQ==", "url": "https://github.com/trinodb/trino/pull/3824#discussion_r432165211", "bodyText": "Fix eviction of cached data while still under size eviction threshold.", "author": "electrum", "createdAt": "2020-05-28T22:47:15Z", "path": "presto-docs/src/main/sphinx/release/release-334.rst", "diffHunk": "@@ -0,0 +1,95 @@\n+=========================\n+Release 333 (XX May 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect query results for certain queries involving comparisons of ``real`` and ``double`` types\n+  when values include negative zero. (:issue:`3745`)\n+* Fix failure when querying an empty table with late materialization enabled. (:issue:`3577`)\n+* Fix failure when the inputs to ``UNNEST`` are repeated. (:issue:`3587`)\n+* Fix failure when an aggregation is used in the arguments to :func:`format`. (:issue:`3829`)\n+* Fix :func:`localtime` and :func:`current_time` for session zones with DST or with historical offset changes\n+  in legacy (default) timestamp semantics. (:issue:`3846`, :issue:`3850`)\n+* Improve performance of queries involving :func:`row_number`. (:issue:`3614`)\n+* Improve performance of queries containing ``LIKE`` predicate. (:issue:`3618`)\n+* Improve query performance when dynamic filtering is enabled. (:issue:`3632`)\n+* Improve performance for queries that read fields from nested structures. (:issue:`2672`)\n+* Add variant of :func:`random` function that produces a number between m and n. (:issue:`1848`)\n+* Fix dynamic filter failures in complex spatial join queries. (:issue:`3694`)\n+* Add :doc:`/connector/oracle`. (:issue:`1959`)\n+* Add :doc:`/connector/pinot`. (:issue:`2028`)\n+* Add :doc:`/connector/prometheus`. (:issue:`2321`)\n+* Add support for modern HTTP forwarded headers. Processing of HTTP forwarded headers are now controlled by the\n+  ``http-server.process-forwarded`` configuration, and the old ``http-server.authentication.allow-forwarded-https`` and\n+  ``dispatcher.forwarded-header`` configurations are no longer supported. (:issue:`3714`)\n+* Add pluggable :doc:`/develop/certificate-authenticator`. (:issue:`3804`)\n+* Show distributed plan by default in :doc:`/sql/explain`. (:issue:`3724`)\n+\n+JDBC Driver\n+-----------\n+\n+* Implement ``toString()`` for ``java.sqlArray`` results. (:issue:`3803`)\n+\n+CLI Changes\n+-----------\n+\n+* Improve rendering of elapsed time for short queries. (:issue:`3311`)\n+\n+Web UI Changes\n+--------------\n+\n+* Add fixed, certificate, JWT and Kerberos to UI authentication. (:issue:`3433`)\n+* Show join distribution type in Live Plan. (:issue:`1323`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Improve performance of ``DatabaseMetaData#getColumns`` method in case when parameters\n+  contain unescaped ``%`` or ``_``. (:issue:`1620`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Fix failure when executing ``SHOW CREATE TABLE``. (:issue:`3718`)\n+* Improve performance for ``count(*)`` queries. (:issue:`3512`)\n+* Add support for raw Elasticsearch queries. (:issue:`3735`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix matching bucket filenames without leading zeros. (:issue:`3702`)\n+* Fix creation of external tables using ``CREATE TABLE AS``. Previously such table was created\n+  as managed and with default location. (:issue:`3755`)\n+* Fix incorrect table statistics for new external table. (:issue:`3819`)\n+* Prevent Presto from starting when cache fails to initialize. (:issue:`3749`)\n+* Fix race condition that could cause caching to be unwillingly disabled. (:issue:`3729`, :issue:`3810`)\n+* Fix malformed reads when caching parallel warmup is enabled. (:issue:`3772`)\n+* Fix evicting of cached data while still under size eviction threshold. (:issue:`3772`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "718ba8586eb80e3090fad635451b48f61063a07e", "url": "https://github.com/trinodb/trino/commit/718ba8586eb80e3090fad635451b48f61063a07e", "message": "Add 334 release notes", "committedDate": "2020-05-29T21:09:19Z", "type": "commit"}, {"oid": "718ba8586eb80e3090fad635451b48f61063a07e", "url": "https://github.com/trinodb/trino/commit/718ba8586eb80e3090fad635451b48f61063a07e", "message": "Add 334 release notes", "committedDate": "2020-05-29T21:09:19Z", "type": "forcePushed"}]}