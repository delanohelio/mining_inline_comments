{"pr_number": 5156, "pr_title": "Product tests suite and test timeouts", "pr_createdAt": "2020-09-14T12:35:39Z", "pr_url": "https://github.com/trinodb/trino/pull/5156", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3ODYzNg==", "url": "https://github.com/trinodb/trino/pull/5156#discussion_r487878636", "bodyText": "Could you make commit message more descriptive?", "author": "losipiuk", "createdAt": "2020-09-14T12:38:49Z", "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/env/Environment.java", "diffHunk": "@@ -231,11 +234,33 @@ public Builder addContainer(DockerContainer container)\n                     .withLabel(PRODUCT_TEST_LAUNCHER_STARTED_LABEL_NAME, PRODUCT_TEST_LAUNCHER_STARTED_LABEL_VALUE)\n                     .withCreateContainerCmdModifier(createContainerCmd -> createContainerCmd\n                             .withName(\"ptl-\" + containerName)\n-                            .withHostName(containerName));\n+                            .withHostName(containerName))\n+                    .withCreateContainerCmdModifier(Builder::applyConfiguration);\n \n             return this;\n         }\n \n+        private static void applyConfiguration(CreateContainerCmd createContainerCmd)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MDY4Nw==", "url": "https://github.com/trinodb/trino/pull/5156#discussion_r487880687", "bodyText": "separate commit?", "author": "losipiuk", "createdAt": "2020-09-14T12:42:11Z", "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/SuiteDescribe.java", "diffHunk": "@@ -120,6 +130,8 @@ public Execution(\n         {\n             this.suiteName = requireNonNull(describeOptions.suite, \"describeOptions.suite is null\");\n             this.testJar = requireNonNull(describeOptions.testJar, \"describeOptions.testJar is null\");\n+            this.logsDirBase = requireNonNull(describeOptions.logsDirBase, \"describeOptions.logsDirBase is null\");", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODA2Mjc2Mw==", "url": "https://github.com/trinodb/trino/pull/5156#discussion_r488062763", "bodyText": "too long commit message summary", "author": "losipiuk", "createdAt": "2020-09-14T16:24:11Z", "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/env/Environment.java", "diffHunk": "@@ -13,9 +13,11 @@\n  */\n package io.prestosql.tests.product.launcher.env;\n \n+import com.github.dockerjava.api.command.CreateContainerCmd;", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3dd66a0dfc0dc86a8cb6bdfce54d775017bf0005", "url": "https://github.com/trinodb/trino/commit/3dd66a0dfc0dc86a8cb6bdfce54d775017bf0005", "message": "Set host configuration of product tests containers\n\nThis PR disables OOM killer, sets ulimits and auto removes containers on exit.", "committedDate": "2020-09-14T16:46:52Z", "type": "commit"}, {"oid": "f4b5bb22569838a0ceb20fe1f02a8bf1335f4e00", "url": "https://github.com/trinodb/trino/commit/f4b5bb22569838a0ceb20fe1f02a8bf1335f4e00", "message": "Fix suite describe", "committedDate": "2020-09-14T16:48:16Z", "type": "commit"}, {"oid": "9e8962bcd634514bc453324ae1f8306b921da968", "url": "https://github.com/trinodb/trino/commit/9e8962bcd634514bc453324ae1f8306b921da968", "message": "Allow case insensitive enum values in launcher", "committedDate": "2020-09-14T16:48:16Z", "type": "commit"}, {"oid": "1649e9310ad206b7a944d6f7174a08c5114fc028", "url": "https://github.com/trinodb/trino/commit/1649e9310ad206b7a944d6f7174a08c5114fc028", "message": "Add timeout for suite and test execution", "committedDate": "2020-09-14T16:48:16Z", "type": "commit"}, {"oid": "6b8e02000f607a3e035a53db2a16499d67378fe2", "url": "https://github.com/trinodb/trino/commit/6b8e02000f607a3e035a53db2a16499d67378fe2", "message": "Improve Suite toString method", "committedDate": "2020-09-14T16:48:16Z", "type": "commit"}, {"oid": "fb8ddf6e579eec5da0c29090f5ebfc6139961483", "url": "https://github.com/trinodb/trino/commit/fb8ddf6e579eec5da0c29090f5ebfc6139961483", "message": "Fix displaying test run duration", "committedDate": "2020-09-14T16:48:16Z", "type": "commit"}, {"oid": "fb8ddf6e579eec5da0c29090f5ebfc6139961483", "url": "https://github.com/trinodb/trino/commit/fb8ddf6e579eec5da0c29090f5ebfc6139961483", "message": "Fix displaying test run duration", "committedDate": "2020-09-14T16:48:16Z", "type": "forcePushed"}]}