{"pr_number": 6432, "pr_title": "Update dynamic filtering documentation for IS NOT DISTINCT FROM", "pr_createdAt": "2020-12-23T17:58:25Z", "pr_url": "https://github.com/trinodb/trino/pull/6432", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNDM2Ng==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r548234366", "bodyText": "are part of the comparison condition -> are used in the comparison expression", "author": "sopel39", "createdAt": "2020-12-23T21:01:27Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -211,6 +213,8 @@ Limitations\n * Dynamic filtering is currently implemented only for :doc:`/connector/hive` and :doc:`/connector/memory` connectors.\n * Push down of dynamic filters into local table scan on worker nodes is limited to broadcast joins.\n * Min-max dynamic filter collection is not supported for DOUBLE, REAL and unorderable data types.\n+* When ``IS NOT DISTINCT FROM`` is used in a join condition, dynamic filtering is not\n+  supported if DOUBLE or REAL data types are part of the comparison condition.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMxNzc3Nw==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r548317777", "bodyText": "quote DOUBLE and REAL if you uppercase them", "author": "mosabua", "createdAt": "2020-12-23T23:26:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNDM2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNjkzNg==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r548236936", "bodyText": "inline with previous line", "author": "sopel39", "createdAt": "2020-12-23T21:05:26Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -46,7 +46,9 @@ Analysis and confirmation\n Dynamic filtering depends on a number of factors:\n \n * Planner support for dynamic filtering for a given join operation in Presto.\n-  Currently inner and right joins with comparison join conditions and semi-joins with IN conditions are supported.\n+  Currently inner and right joins with ``=``, ``<``, ``<=``, ``>``, ``>=`` or\n+  ``IS NOT DISTINCT FROM`` join conditions and semi-joins\n+  with IN conditions are supported.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODM2MDEzNA==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r548360134", "bodyText": "There are doc guidelines to stay within 80 chars, it doesn't affect the rendering of the line in the documentation.", "author": "raunaqmorarka", "createdAt": "2020-12-24T02:58:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNjkzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMxNzYxMw==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r548317613", "bodyText": "conditions, and semi-joins", "author": "mosabua", "createdAt": "2020-12-23T23:25:24Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -46,7 +46,9 @@ Analysis and confirmation\n Dynamic filtering depends on a number of factors:\n \n * Planner support for dynamic filtering for a given join operation in Presto.\n-  Currently inner and right joins with comparison join conditions and semi-joins with IN conditions are supported.\n+  Currently inner and right joins with ``=``, ``<``, ``<=``, ``>``, ``>=`` or\n+  ``IS NOT DISTINCT FROM`` join conditions and semi-joins", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMxNzY0OA==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r548317648", "bodyText": "apostrophes around IN", "author": "mosabua", "createdAt": "2020-12-23T23:25:36Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -46,7 +46,9 @@ Analysis and confirmation\n Dynamic filtering depends on a number of factors:\n \n * Planner support for dynamic filtering for a given join operation in Presto.\n-  Currently inner and right joins with comparison join conditions and semi-joins with IN conditions are supported.\n+  Currently inner and right joins with ``=``, ``<``, ``<=``, ``>``, ``>=`` or\n+  ``IS NOT DISTINCT FROM`` join conditions and semi-joins\n+  with IN conditions are supported.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MzAyMg==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549153022", "bodyText": "do we have semi-joins with a condition other than IN?", "author": "findepi", "createdAt": "2020-12-27T19:07:13Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -46,7 +46,9 @@ Analysis and confirmation\n Dynamic filtering depends on a number of factors:\n \n * Planner support for dynamic filtering for a given join operation in Presto.\n-  Currently inner and right joins with comparison join conditions and semi-joins with IN conditions are supported.\n+  Currently inner and right joins with ``=``, ``<``, ``<=``, ``>``, ``>=`` or\n+  ``IS NOT DISTINCT FROM`` join conditions, and\n+  semi-joins with ``IN`` conditions are supported.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE2MzQyMA==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549163420", "bodyText": "that's to clarify that dynamic filtering with NOT IN is not supported (anti-joins)", "author": "raunaqmorarka", "createdAt": "2020-12-27T21:03:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MzAyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MzEzNQ==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549153135", "bodyText": "\"Dynamic filtering is not supported for DOUBLE and REAL data types when using IS NOT DISTINCT FROM predicate.\"\n?", "author": "findepi", "createdAt": "2020-12-27T19:08:48Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -210,7 +212,9 @@ Limitations\n \n * Dynamic filtering is currently implemented only for :doc:`/connector/hive` and :doc:`/connector/memory` connectors.\n * Push down of dynamic filters into local table scan on worker nodes is limited to broadcast joins.\n-* Min-max dynamic filter collection is not supported for DOUBLE, REAL and unorderable data types.\n+* Min-max dynamic filter collection is not supported for ``DOUBLE``, ``REAL`` and unorderable data types.\n+* When ``IS NOT DISTINCT FROM`` is used in a join condition, dynamic filtering is not\n+  supported if ``DOUBLE`` or ``REAL`` data types are used in the comparison expression.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE2Mzg2MA==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549163860", "bodyText": "updated", "author": "raunaqmorarka", "createdAt": "2020-12-27T21:07:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MzEzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MzE4Nw==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549153187", "bodyText": "What about IS DISTINCT FROM (without NOT)?", "author": "findepi", "createdAt": "2020-12-27T19:09:00Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -46,7 +46,9 @@ Analysis and confirmation\n Dynamic filtering depends on a number of factors:\n \n * Planner support for dynamic filtering for a given join operation in Presto.\n-  Currently inner and right joins with comparison join conditions and semi-joins with IN conditions are supported.\n+  Currently inner and right joins with ``=``, ``<``, ``<=``, ``>``, ``>=`` or\n+  ``IS NOT DISTINCT FROM`` join conditions, and", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE2MzUyNg==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549163526", "bodyText": "We haven't added DF support for not equals and IS DISTINCT FROM yet", "author": "raunaqmorarka", "createdAt": "2020-12-27T21:04:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MzE4Nw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMwMDIyOQ==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549300229", "bodyText": "We should wrap DOUBLE and REAL with \"``\" for consistency", "author": "sopel39", "createdAt": "2020-12-28T10:40:51Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -210,7 +212,8 @@ Limitations\n \n * Dynamic filtering is currently implemented only for :doc:`/connector/hive` and :doc:`/connector/memory` connectors.\n * Push down of dynamic filters into local table scan on worker nodes is limited to broadcast joins.\n-* Min-max dynamic filter collection is not supported for DOUBLE, REAL and unorderable data types.\n+* Min-max dynamic filter collection is not supported for ``DOUBLE``, ``REAL`` and unorderable data types.\n+* Dynamic filtering is not supported for DOUBLE and REAL data types when using IS NOT DISTINCT FROM predicate.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMzMDc5OA==", "url": "https://github.com/trinodb/trino/pull/6432#discussion_r549330798", "bodyText": "put IS NOT DISTINCT FROM in backticks", "author": "findepi", "createdAt": "2020-12-28T12:29:06Z", "path": "presto-docs/src/main/sphinx/admin/dynamic-filtering.rst", "diffHunk": "@@ -210,7 +212,8 @@ Limitations\n \n * Dynamic filtering is currently implemented only for :doc:`/connector/hive` and :doc:`/connector/memory` connectors.\n * Push down of dynamic filters into local table scan on worker nodes is limited to broadcast joins.\n-* Min-max dynamic filter collection is not supported for DOUBLE, REAL and unorderable data types.\n+* Min-max dynamic filter collection is not supported for ``DOUBLE``, ``REAL`` and unorderable data types.\n+* Dynamic filtering is not supported for ``DOUBLE`` and ``REAL`` data types when using IS NOT DISTINCT FROM predicate.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f318b24fe5c7d8699249fcd810477342492ce6f4", "url": "https://github.com/trinodb/trino/commit/f318b24fe5c7d8699249fcd810477342492ce6f4", "message": "Update dynamic filtering documentation for IS NOT DISTINCT FROM", "committedDate": "2020-12-28T12:42:15Z", "type": "commit"}, {"oid": "f318b24fe5c7d8699249fcd810477342492ce6f4", "url": "https://github.com/trinodb/trino/commit/f318b24fe5c7d8699249fcd810477342492ce6f4", "message": "Update dynamic filtering documentation for IS NOT DISTINCT FROM", "committedDate": "2020-12-28T12:42:15Z", "type": "forcePushed"}]}