{"pr_number": 5423, "pr_title": "Add 344 release notes", "pr_createdAt": "2020-10-06T01:25:56Z", "pr_url": "https://github.com/trinodb/trino/pull/5423", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjAyMzA4MA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502023080", "bodyText": "which allows all operations?", "author": "dain", "createdAt": "2020-10-08T21:28:42Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,63 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support to files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)\n+* Change file-based catalog access control to deny all permissions inspection and manipulation checks. ({issue}`5039`)\n+* Add [file-based group provider](/security/group-file). ({issue}`5028`)\n+\n+## Hive Connector Changes\n+\n+* Add `hive.security=allow-all` which allows to skip all authorization checks. ({issue}`5416`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzNzIzNg==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502237236", "bodyText": "If it is more readable this way we need to update docs then. It is formulated in the same way there.", "author": "kokosing", "createdAt": "2020-10-09T07:25:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjAyMzA4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzNjM2NA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502236364", "bodyText": "Can share more details about what was the issue here? Do I understand this correctly (without reading #4760) that it is about enabling projection pushdown to connector for EXPLAIN ANALYZE which because of bug was not happening?\nIs \"column pruning\" common term for that?", "author": "kokosing", "createdAt": "2020-10-09T07:24:02Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MTcwOA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502271708", "bodyText": "i think the gist here is that EXPLAIN ANALYZE was not correctly reflecting/analyzing actual query. Maybe we say that?", "author": "findepi", "createdAt": "2020-10-09T08:30:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzNjM2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUyNjM5Mg==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502526392", "bodyText": "What @findepi said is correct. The issue is that when running EXPLAIN ANALYZE the plan would scan all the columns even if the original query required only a subset.", "author": "martint", "createdAt": "2020-10-09T15:56:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzNjM2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzNzgyMw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502237823", "bodyText": "Should we make this more emphasized? Like using bolded font?", "author": "kokosing", "createdAt": "2020-10-09T07:27:05Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MjAyNA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502272024", "bodyText": "there is a warning above for it.\ni think this needs to be called out in the highlights too", "author": "findepi", "createdAt": "2020-10-09T08:31:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzNzgyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2Nzg2OQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502267869", "bodyText": "Change file-based system access control to support to files without catalog rules defined\nthat sentence doesn't compile\nI have no idea what this point is about.", "author": "sopel39", "createdAt": "2020-10-09T08:23:38Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,63 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support to files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) ", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUyNzY4OA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502527688", "bodyText": "I think there's an extra \"to\" between \"support\" and \"files\". cc @dain", "author": "martint", "createdAt": "2020-10-09T15:58:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2Nzg2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2OTM2Ng==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502269366", "bodyText": "to deny all permissions inspection and manipulation checks\nIt seems that checks refer to manipulation, e.g manipulation checks`.\nMaybe it should be:\nChange file-based catalog access control to deny permissions inspection and manipulation.", "author": "sopel39", "createdAt": "2020-10-09T08:26:18Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,63 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support to files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)\n+* Change file-based catalog access control to deny all permissions inspection and manipulation checks. ({issue}`5039`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNjg4Mg==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502606882", "bodyText": "BTW, I'm not a fan of manipulation, but I couldn't come up with a better term.", "author": "dain", "createdAt": "2020-10-09T18:34:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2OTM2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2OTg5Ng==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502269896", "bodyText": "report.. where?", "author": "findepi", "createdAt": "2020-10-09T08:27:12Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  ", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3NDkyMQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502274921", "bodyText": "Report dynamic filters collection duration as part of query information JSON?", "author": "sopel39", "createdAt": "2020-10-09T08:36:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2OTg5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUyODg3NQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502528875", "bodyText": "That's internal. The JSON is not meant to be consumed by users. So unless this is being surfaced in the UI or CLI, I'd just remove it.", "author": "martint", "createdAt": "2020-10-09T16:00:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2OTg5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjU3Njc3Nw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502576777", "bodyText": "We can remove it. It's described in documentation too BTW", "author": "sopel39", "createdAt": "2020-10-09T17:32:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2OTg5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDQ5NQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502270495", "bodyText": "is this different from \"Improve performance and latency of queries leveraging dynamic filters\" above?\nor, is one subset of the other?\n(i guess these are separate improvements  in the code, but how do we present them as separate to the users?)", "author": "findepi", "createdAt": "2020-10-09T08:28:24Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  ", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3ODIyNg==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502278226", "bodyText": "DF improvements notes should most likely be grouped together.\nMaybe we can replace both points as:\nImprove query performance by propagating (with lower latency) more detailed dynamic filters to coordinator.\n\n?", "author": "sopel39", "createdAt": "2020-10-09T08:42:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDQ5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjMwNDU3NQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502304575", "bodyText": "How can i determine I am potentially affected?\nFor example, can https://prestosql.slack.com/archives/CGB0QHWSW/p1602211393325800 be related?", "author": "findepi", "createdAt": "2020-10-09T09:28:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDQ5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUzMDI5Mw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502530293", "bodyText": "This is also too much implementation detail. I would keep it high level and let people navigate to the issue if they want to understand what's happening under the covers. I'll fold the two items into one and link to both issues.", "author": "martint", "createdAt": "2020-10-09T16:03:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDQ5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDY1NA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502270654", "bodyText": "all of them? or only some cases?", "author": "findepi", "createdAt": "2020-10-09T08:28:42Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUzMTA1OQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502531059", "bodyText": "Some cases, but it's hard to describe the exact conditions without talking about implementation. It's for cross joins where all columns from one side or the other, or both, are pruned.", "author": "martint", "createdAt": "2020-10-09T16:04:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDY1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY3OTczNg==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502679736", "bodyText": "let's indicate \"some cases\" somehow, without going into details\noitherwise people may expect their particular cross joins to run faster and may be disappointed", "author": "findepi", "createdAt": "2020-10-09T21:30:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MDY1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MTIzMw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502271233", "bodyText": "How does it manifest? How do i recognize situations where this would help me, so that I feel even more desire for an upgrade?", "author": "findepi", "createdAt": "2020-10-09T08:29:39Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3OTM4OQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502279389", "bodyText": "This might happen PartitionedOutputOperator fails to allocate more memory. I'm not sure what more (in user understandable way) can be added here.", "author": "sopel39", "createdAt": "2020-10-09T08:44:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MTIzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4NjM5MQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502686391", "bodyText": "Remove extra space after period", "author": "electrum", "createdAt": "2020-10-09T21:55:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MTIzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MjY4MQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502272681", "bodyText": "Since the _timestamp is just being added (bullet above), should it be mentioned in this bullet too?", "author": "findepi", "createdAt": "2020-10-09T08:32:19Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support to files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)\n+* Change file-based catalog access control to deny all permissions inspection and manipulation checks. ({issue}`5039`)\n+* Add [file-based group provider](/security/group-file). ({issue}`5028`)\n+\n+## Hive Connector Changes\n+\n+* Add `hive.security=allow-all` which allows to skip all authorization checks. ({issue}`5416`)\n+* Improve query concurrency by listing data files more efficiently. ({issue}`5260`)\n+* Fix Parquet encoding for timestamps before 1970-01-01. ({issue}`5364`)\n+\n+## Kafka Connector Changes\n+\n+* Expose message timestamp via ``_timestamp`` internal column. ({issue}`4805`)\n+* Add predicate pushdown for ``_timestamp``, ``_partition_offset`` and ``_partition_id`` columns. ({issue}`4805`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2NTE1Nw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502365157", "bodyText": "Adding new internal command. And adding pushdown mechanism altogether are two separate things.\nHow would you phrase the bullet regarding push-down without mentioning _timestamp column?", "author": "losipiuk", "createdAt": "2020-10-09T11:31:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI3MjY4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2MDU0MA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502360540", "bodyText": "Doesn't toggle mean binary switch (on/off).\nMaybe sth like this:\nAdd ``dynamic-filtering.service-thread-count`` config property to specify number of\nthreads used for processing dynamic filters on coordinator", "author": "losipiuk", "createdAt": "2020-10-09T11:21:32Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2MTg0OQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502361849", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n          \n          \n            \n              is part of the configuration value. ({issue}`4345`)  \n          \n          \n            \n            * Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n          \n          \n            \n              is part of the configuration value. ({issue}`4345`)", "author": "losipiuk", "createdAt": "2020-10-09T11:24:19Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2NDQ4OA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502364488", "bodyText": "Change behaviour of ``SHOW CATALOGS``, ``SHOW SCHEMAS``, ``SHOW TABLES`` statements when file-based system and catalog access controls are in use. Only entities to which user has permissions will be listed.", "author": "losipiuk", "createdAt": "2020-10-09T11:30:08Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support to files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNjIxNA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502606214", "bodyText": "The alternate text is fine with me, but this applies to all listing code including information schema and  jdbc.", "author": "dain", "createdAt": "2020-10-09T18:32:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2NDQ4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyNDQ1Nw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502724457", "bodyText": "Ok, let's leave it as originally written.", "author": "martint", "createdAt": "2020-10-10T00:55:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2NDQ4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM2NTY2Mw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502365663", "bodyText": "Not sure if The resulting column will be declared with precision of 6, maximal supported by PostgreSQL.  is not too much detail for release notes.", "author": "losipiuk", "createdAt": "2020-10-09T11:32:48Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`)\n+* Allow to configure (using ``dynamic-filtering.service-thread-count`` feature toggle) number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work also when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)  \n+* Improve query performance by propagating more detailed dynamic filters to coordinator. ({issue}`5340`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support to files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)\n+* Change file-based catalog access control to deny all permissions inspection and manipulation checks. ({issue}`5039`)\n+* Add [file-based group provider](/security/group-file). ({issue}`5028`)\n+\n+## Hive Connector Changes\n+\n+* Add `hive.security=allow-all` which allows to skip all authorization checks. ({issue}`5416`)\n+* Improve query concurrency by listing data files more efficiently. ({issue}`5260`)\n+* Fix Parquet encoding for timestamps before 1970-01-01. ({issue}`5364`)\n+\n+## Kafka Connector Changes\n+\n+* Expose message timestamp via ``_timestamp`` internal column. ({issue}`4805`)\n+* Add predicate pushdown for ``_timestamp``, ``_partition_offset`` and ``_partition_id`` columns. ({issue}`4805`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix query failure when a column name in `CREATE TABLE` requires quoting. ({issue}`3601`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Add support for setting a column comment. ({issue}`5307`)\n+* Add support for variable-precision `time` type. ({issue}`5432`)\n+* Allow `CREATE TABLE` and `CREATE TABLE AS` with `timestamp` and `timestamp with time zone` with precision higher than 6.\n+  The resulting column will be declared with precision of 6, maximal supported by PostgreSQL. ({issue}`5432`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4NTc1MA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502685750", "bodyText": "* Extend {doc}`/security/secrets` environment variable substitution to allow\n  multiple replacements in a single configuration property.", "author": "electrum", "createdAt": "2020-10-09T21:52:27Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4NTk0MA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502685940", "bodyText": "* Remove the `fast-inequality-joins` configuration property. This feature is always enabled. ({issue}`5375`)", "author": "electrum", "createdAt": "2020-10-09T21:53:24Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4NjMyMw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502686323", "bodyText": "* Use `timestamp(3) with time zone` rather than `timestamp(3)` for the `queries`,\n  `transactions`, and `tasks` tables in `system.runtime`. ({issue}`5464`)", "author": "electrum", "createdAt": "2020-10-09T21:55:14Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)\n+* Map point-in-time values in `system.runtime.*` tables a `timestamp(3) with time zone` type. ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4NjQ5NA==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502686494", "bodyText": "Missing period at end", "author": "electrum", "createdAt": "2020-10-09T21:56:04Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)\n+* Map point-in-time values in `system.runtime.*` tables a `timestamp(3) with time zone` type. \n+  Previously they were mapped as `timestamp(3)` type which is not suitable for representing\n+  point-in-time values. ({issue}`5464`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4NzE4MQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502687181", "bodyText": "Lets remove the 1970 part since that implies that the year is the only broken part.\n* Fix incorrect timestamp values returned by the `queries`, `transactions`,\n  and `tasks` tables in `system.runtime`.", "author": "electrum", "createdAt": "2020-10-09T21:59:30Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)\n+* Map point-in-time values in `system.runtime.*` tables a `timestamp(3) with time zone` type. \n+  Previously they were mapped as `timestamp(3)` type which is not suitable for representing\n+  point-in-time values. ({issue}`5464`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+* Fix incorrect timestamp values returned by `system.runtime.*` tables. ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4Nzc0Nw==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502687747", "bodyText": "* Allow hiding Delta Lake tables from table listings such as `SHOW TABLES` or `information_schema.tables`,\n  as these tables cannot be queried by the Hive connector. This be enabled using the `hive.hide-delta-lake-tables`\n  configuration property. ({issue}`5430`)", "author": "electrum", "createdAt": "2020-10-09T22:02:22Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)\n+* Map point-in-time values in `system.runtime.*` tables a `timestamp(3) with time zone` type. \n+  Previously they were mapped as `timestamp(3)` type which is not suitable for representing\n+  point-in-time values. ({issue}`5464`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+* Fix incorrect timestamp values returned by `system.runtime.*` tables. \n+  Previously all timestamp values returned where within 1970 year. ({issue}`5462`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)\n+* Change file-based catalog access control to deny all permissions inspection and manipulation checks. ({issue}`5039`)\n+* Add [file-based group provider](/security/group-file). ({issue}`5028`)\n+\n+## Hive Connector Changes\n+\n+* Add `hive.security=allow-all` which allows to skip all authorization checks. ({issue}`5416`)\n+* Support Kerberos authentication for Hudi tables. ({issue}`5472`)\n+* Hide Delta Lake tables from table listings like `SHOW TABLES` or `information_schema.tables`. The Delta", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4Nzg0MQ==", "url": "https://github.com/trinodb/trino/pull/5423#discussion_r502687841", "bodyText": "Single quotes", "author": "electrum", "createdAt": "2020-10-09T22:02:50Z", "path": "presto-docs/src/main/sphinx/release/release-344.md", "diffHunk": "@@ -0,0 +1,72 @@\n+# Release 344 (XX Oct 2020)\n+\n+## General Changes\n+\n+* Add {func}`murmur3` function. ({issue}`5054`)\n+* Add {func}`from_unixtime_nanos` function. ({issue}`5046`)\n+* Add [T-Digest](/functions/tdigest) type and functions. ({issue}`5158`)\n+* Improve performance and latency of queries leveraging dynamic filters. ({issue}`5081`, {issue}`5340`)\n+* Add `dynamic-filtering.service-thread-count` config property to specify number of\n+  threads used for processing dynamic filters on coordinator. ({issue}`5341`)\n+* Extend environment variables substitution (`${ENV:variable-name}`) to work when the substituted text\n+  is part of the configuration value. ({issue}`4345`)  \n+* Remove `fast-inequality-joins` configuration property. The fast inequality joins remain enabled. ({issue}`5375`)\n+* Report dynamic filters collection duration. ({issue}`5434`)\n+* Map point-in-time values in `system.runtime.*` tables a `timestamp(3) with time zone` type. \n+  Previously they were mapped as `timestamp(3)` type which is not suitable for representing\n+  point-in-time values. ({issue}`5464`)  \n+* Improve performance and accuracy of {func}`approx_percentile`. ({issue}`5158`)\n+* Improve performance of cross join queries. ({issue}`5276`)\n+* Prevent potential query deadlock when query runs out of memory.  ({issue}`5289`)\n+* Fix failure due to rounding error when casting between two `timestamp` types with precision higher than 6. ({issue}`5310`)\n+* Fix failure due to rounding error when casting between two `timestamp with time zone` types with precision higher than 3. ({issue}`5371`)\n+* Fix column pruning for `EXPLAIN ANALYZE` ({issue} `4760`)\n+* Fix incorrect timestamp values returned by `system.runtime.*` tables. \n+  Previously all timestamp values returned where within 1970 year. ({issue}`5462`)\n+\n+## Security Changes\n+\n+```{warning}\n+The file-based system and catalog access controls have changed in ways that reduce or increase permissions. Please, read these release notes carefully.\n+```\n+\n+* Change file-based catalog access control from deny to allow when table, schema, or session property rules are not defined. ({issue}`5039`)\n+* Add missing table rule checks for table and view DDL in file-based system access control. ({issue}`5039`)\n+* Add missing schema rule checks for create schema in file-based system access control. ({issue}`5039`)\n+* Add session property rules to file-based system access control. ({issue}`5039`)\n+* Add catalog regex to table and schema rules in file-based system access control. ({issue}`5039`)\n+* Change create, rename, alter, and drop table in file-based system controls to only check for table ownership.  ({issue}`5039`)\n+* Change file-based system access control to support files without catalog rules defined.  In this case, all access to catalogs is allowed. ({issue}`5039`) \n+* Change file-based system and catalog access controls to only show catalogs, schemas, and tables a user has permissions on. ({issue}`5039`)\n+* Change file-based catalog access control to deny all permissions inspection and manipulation checks. ({issue}`5039`)\n+* Add [file-based group provider](/security/group-file). ({issue}`5028`)\n+\n+## Hive Connector Changes\n+\n+* Add `hive.security=allow-all` which allows to skip all authorization checks. ({issue}`5416`)\n+* Support Kerberos authentication for Hudi tables. ({issue}`5472`)\n+* Hide Delta Lake tables from table listings like `SHOW TABLES` or `information_schema.tables`. The Delta\n+  Lake tables cannot be queries with Hive connector anyway. This can be enabled with `hive.hide-delta-lake-tables`\n+  catalog property. ({issue}`5430`)\n+* Improve query concurrency by listing data files more efficiently. ({issue}`5260`)\n+* Fix Parquet encoding for timestamps before 1970-01-01. ({issue}`5364`)\n+\n+## Kafka Connector Changes\n+\n+* Expose message timestamp via ``_timestamp`` internal column. ({issue}`4805`)\n+* Add predicate pushdown for ``_timestamp``, ``_partition_offset`` and ``_partition_id`` columns. ({issue}`4805`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix query failure when a column name in `CREATE TABLE` requires quoting. ({issue}`3601`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Add support for setting a column comment. ({issue}`5307`)\n+* Add support for variable-precision `time` type. ({issue}`5432`)\n+* Allow `CREATE TABLE` and `CREATE TABLE AS` with `timestamp` and `timestamp with time zone` with precision higher than 6.\n+  The resulting column will be declared with precision of 6, maximal supported by PostgreSQL. ({issue}`5432`)\n+\n+## SQL Server Connector Changes\n+\n+* Improve performance of queries with aggregations and ``WHERE`` clause. ({issue}`5327`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ff90a0312e020caa093fb422dccf6bc7a8b5d14c", "url": "https://github.com/trinodb/trino/commit/ff90a0312e020caa093fb422dccf6bc7a8b5d14c", "message": "Add 344 release notes", "committedDate": "2020-10-10T01:31:29Z", "type": "commit"}, {"oid": "ff90a0312e020caa093fb422dccf6bc7a8b5d14c", "url": "https://github.com/trinodb/trino/commit/ff90a0312e020caa093fb422dccf6bc7a8b5d14c", "message": "Add 344 release notes", "committedDate": "2020-10-10T01:31:29Z", "type": "forcePushed"}]}