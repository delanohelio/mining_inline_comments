{"pr_number": 4202, "pr_title": "Remove use of EquatableValueSet from the Iceberg connector", "pr_createdAt": "2020-06-24T20:34:30Z", "pr_url": "https://github.com/trinodb/trino/pull/4202", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY1OTk2Mg==", "url": "https://github.com/trinodb/trino/pull/4202#discussion_r445659962", "bodyText": "Let's throw an exception if we get this (we shouldn't but be safe)", "author": "electrum", "createdAt": "2020-06-25T15:49:57Z", "path": "presto-iceberg/src/main/java/io/prestosql/plugin/iceberg/DomainConverter.java", "diffHunk": "@@ -52,14 +48,7 @@ private static Domain translateDomain(Domain domain)\n         ValueSet valueSet = domain.getValues();\n         Type type = domain.getType();\n         if (type instanceof TimestampType || type instanceof TimestampWithTimeZoneType || type instanceof TimeType || type instanceof TimeWithTimeZoneType) {\n-            if (valueSet instanceof EquatableValueSet) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcwODU1MA==", "url": "https://github.com/trinodb/trino/pull/4202#discussion_r445708550", "bodyText": "Done in just now in a forced push.", "author": "djsstarburst", "createdAt": "2020-06-25T17:05:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY1OTk2Mg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "48e79ecff988a9a5c2edb7ee0cb30e859fb45478", "url": "https://github.com/trinodb/trino/commit/48e79ecff988a9a5c2edb7ee0cb30e859fb45478", "message": "Remove use of EquatableValueSet from the Iceberg connector\n\nThis commit removes use of EquatableValueSet from the Iceberg\nconnector because the case of EquatableValueSet types doesn't\noccur in the Iceberg type system.  The commit adds a check\nto ensure that an EquatableValueSet is never passed to\nDomainConverter.translateDomain().", "committedDate": "2020-06-30T17:07:32Z", "type": "commit"}, {"oid": "48e79ecff988a9a5c2edb7ee0cb30e859fb45478", "url": "https://github.com/trinodb/trino/commit/48e79ecff988a9a5c2edb7ee0cb30e859fb45478", "message": "Remove use of EquatableValueSet from the Iceberg connector\n\nThis commit removes use of EquatableValueSet from the Iceberg\nconnector because the case of EquatableValueSet types doesn't\noccur in the Iceberg type system.  The commit adds a check\nto ensure that an EquatableValueSet is never passed to\nDomainConverter.translateDomain().", "committedDate": "2020-06-30T17:07:32Z", "type": "forcePushed"}]}