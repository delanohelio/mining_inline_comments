{"pr_number": 5481, "pr_title": "Allow access default in FileBasedSystemAccessControl Builder", "pr_createdAt": "2020-10-08T19:17:58Z", "pr_url": "https://github.com/trinodb/trino/pull/5481", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjAyMTQyMg==", "url": "https://github.com/trinodb/trino/pull/5481#discussion_r502021422", "bodyText": "This doesn't deny query, impersonation, principal, or system rules.", "author": "dain", "createdAt": "2020-10-08T21:25:11Z", "path": "presto-plugin-toolkit/src/main/java/io/prestosql/plugin/base/security/FileBasedSystemAccessControl.java", "diffHunk": "@@ -803,15 +803,26 @@ public static Builder builder()\n \n     public static final class Builder\n     {\n-        private List<CatalogAccessControlRule> catalogRules = ImmutableList.of();\n+        private List<CatalogAccessControlRule> catalogRules = ImmutableList.of(CatalogAccessControlRule.ALLOW_ALL);\n         private Optional<List<QueryAccessRule>> queryAccessRules = Optional.empty();\n         private Optional<List<ImpersonationRule>> impersonationRules = Optional.empty();\n         private Optional<List<PrincipalUserMatchRule>> principalUserMatchRules = Optional.empty();\n         private Optional<List<SystemInformationRule>> systemInformationRules = Optional.empty();\n-        private List<CatalogSchemaAccessControlRule> schemaRules = ImmutableList.of();\n-        private List<CatalogTableAccessControlRule> tableRules = ImmutableList.of();\n-        private List<SessionPropertyAccessControlRule> sessionPropertyRules = ImmutableList.of();\n-        private List<CatalogSessionPropertyAccessControlRule> catalogSessionPropertyRules = ImmutableList.of();\n+        private List<CatalogSchemaAccessControlRule> schemaRules = ImmutableList.of(CatalogSchemaAccessControlRule.ALLOW_ALL);\n+        private List<CatalogTableAccessControlRule> tableRules = ImmutableList.of(CatalogTableAccessControlRule.ALLOW_ALL);\n+        private List<SessionPropertyAccessControlRule> sessionPropertyRules = ImmutableList.of(SessionPropertyAccessControlRule.ALLOW_ALL);\n+        private List<CatalogSessionPropertyAccessControlRule> catalogSessionPropertyRules = ImmutableList.of(CatalogSessionPropertyAccessControlRule.ALLOW_ALL);\n+\n+        @SuppressWarnings(\"unused\")\n+        public Builder denyAllAccess()", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzOTg2Mw==", "url": "https://github.com/trinodb/trino/pull/5481#discussion_r502239863", "bodyText": "Thanks", "author": "kokosing", "createdAt": "2020-10-09T07:31:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjAyMTQyMg=="}], "type": "inlineReview"}, {"oid": "9dd9e643e68842cb7171fecac06ff1619552ef48", "url": "https://github.com/trinodb/trino/commit/9dd9e643e68842cb7171fecac06ff1619552ef48", "message": "Allow access default in FileBasedSystemAccessControl Builder", "committedDate": "2020-10-09T07:32:27Z", "type": "commit"}, {"oid": "9dd9e643e68842cb7171fecac06ff1619552ef48", "url": "https://github.com/trinodb/trino/commit/9dd9e643e68842cb7171fecac06ff1619552ef48", "message": "Allow access default in FileBasedSystemAccessControl Builder", "committedDate": "2020-10-09T07:32:27Z", "type": "forcePushed"}]}