{"pr_number": 5010, "pr_title": "Allow PrestoS3FileSystem to skip DeepArchive files", "pr_createdAt": "2020-08-28T13:56:30Z", "pr_url": "https://github.com/trinodb/trino/pull/5010", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM5OTgwOQ==", "url": "https://github.com/trinodb/trino/pull/5010#discussion_r479399809", "bodyText": "I think having the isGlacierObject method makes this easier to read. Up to you.", "author": "electrum", "createdAt": "2020-08-28T16:07:54Z", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/s3/PrestoS3FileSystem.java", "diffHunk": "@@ -574,7 +578,7 @@ protected ListObjectsV2Result computeNext(ListObjectsV2Result previous)\n         // user metadata, and in this case it doesn't matter.\n         return objects.stream()\n                 .filter(object -> !object.getKey().endsWith(PATH_SEPARATOR))\n-                .filter(object -> !skipGlacierObjects || !isGlacierObject(object))\n+                .filter(object -> !skipGlacierObjects || !GLACIER_STORAGE_CLASSES.contains(object.getStorageClass()))", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ0MzE1NA==", "url": "https://github.com/trinodb/trino/pull/5010#discussion_r479443154", "bodyText": "Thanks for the review !! Retained that method", "author": "Praveen2112", "createdAt": "2020-08-28T17:31:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM5OTgwOQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "5164a74f452cdbd960b369f2793717c35d133856", "url": "https://github.com/trinodb/trino/commit/5164a74f452cdbd960b369f2793717c35d133856", "message": "Allow PrestoS3FileSystem to skip DeepArchive files", "committedDate": "2020-08-29T11:29:52Z", "type": "commit"}, {"oid": "5164a74f452cdbd960b369f2793717c35d133856", "url": "https://github.com/trinodb/trino/commit/5164a74f452cdbd960b369f2793717c35d133856", "message": "Allow PrestoS3FileSystem to skip DeepArchive files", "committedDate": "2020-08-29T11:29:52Z", "type": "forcePushed"}]}