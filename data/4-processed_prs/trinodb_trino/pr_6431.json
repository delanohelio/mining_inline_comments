{"pr_number": 6431, "pr_title": "Pass ParsedSchema to SchemaParser", "pr_createdAt": "2020-12-23T15:18:43Z", "pr_url": "https://github.com/trinodb/trino/pull/6431", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2NzI2Mg==", "url": "https://github.com/trinodb/trino/pull/6431#discussion_r548467262", "bodyText": "Make ParsedSchema a generic. That way the type check and cast in AvroSchemaParser is not needed", "author": "skrzypo987", "createdAt": "2020-12-24T09:34:34Z", "path": "presto-kafka/src/main/java/io/prestosql/plugin/kafka/schema/confluent/SchemaParser.java", "diffHunk": "@@ -13,10 +13,11 @@\n  */\n package io.prestosql.plugin.kafka.schema.confluent;\n \n+import io.confluent.kafka.schemaregistry.ParsedSchema;\n import io.prestosql.plugin.kafka.KafkaTopicFieldGroup;\n import io.prestosql.spi.connector.ConnectorSession;\n \n public interface SchemaParser\n {\n-    KafkaTopicFieldGroup parse(ConnectorSession session, String subject, String rawSchema);\n+    KafkaTopicFieldGroup parse(ConnectorSession session, String subject, ParsedSchema parsedSchema);", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4NDQ0NA==", "url": "https://github.com/trinodb/trino/pull/6431#discussion_r548484444", "bodyText": "But ParsedSchema is from SchemaRegistry and it is given by its client", "author": "Praveen2112", "createdAt": "2020-12-24T10:29:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2NzI2Mg=="}], "type": "inlineReview"}, {"oid": "999d3d11a05de0cacdd5d2177ceeccb89b301ee2", "url": "https://github.com/trinodb/trino/commit/999d3d11a05de0cacdd5d2177ceeccb89b301ee2", "message": "Pass ParsedSchema to SchemaParser", "committedDate": "2021-01-04T05:48:47Z", "type": "commit"}, {"oid": "999d3d11a05de0cacdd5d2177ceeccb89b301ee2", "url": "https://github.com/trinodb/trino/commit/999d3d11a05de0cacdd5d2177ceeccb89b301ee2", "message": "Pass ParsedSchema to SchemaParser", "committedDate": "2021-01-04T05:48:47Z", "type": "forcePushed"}]}