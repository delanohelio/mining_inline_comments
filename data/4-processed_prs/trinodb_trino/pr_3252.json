{"pr_number": 3252, "pr_title": "Add tip about reverse parameters for date diff", "pr_createdAt": "2020-03-26T19:57:33Z", "pr_url": "https://github.com/trinodb/trino/pull/3252", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzMzMA==", "url": "https://github.com/trinodb/trino/pull/3252#discussion_r399727330", "bodyText": "date_diff is a Presto specific function, not part of the SQL standard", "author": "electrum", "createdAt": "2020-03-29T00:37:55Z", "path": "presto-docs/src/main/sphinx/migration/from-hive.rst", "diffHunk": "@@ -109,3 +109,14 @@ Presto query::\n     SELECT student, score\n     FROM tests\n     CROSS JOIN UNNEST(scores) AS t (score);\n+\n+Caution with datediff\n+---------------------\n+\n+The Hive ``datediff`` function is declared as ``datediff(string enddate, string\n+startdate)``. The equivalent function in ANSI SQL is ``date_diff`` and it is", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUwODI0OA==", "url": "https://github.com/trinodb/trino/pull/3252#discussion_r400508248", "bodyText": "changed", "author": "mosabua", "createdAt": "2020-03-30T21:34:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzMzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzM2Mg==", "url": "https://github.com/trinodb/trino/pull/3252#discussion_r399727362", "bodyText": "Let's not wrap in the middle of the function declaration", "author": "electrum", "createdAt": "2020-03-29T00:38:24Z", "path": "presto-docs/src/main/sphinx/migration/from-hive.rst", "diffHunk": "@@ -109,3 +109,14 @@ Presto query::\n     SELECT student, score\n     FROM tests\n     CROSS JOIN UNNEST(scores) AS t (score);\n+\n+Caution with datediff\n+---------------------\n+\n+The Hive ``datediff`` function is declared as ``datediff(string enddate, string", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzQyNQ==", "url": "https://github.com/trinodb/trino/pull/3252#discussion_r399727425", "bodyText": "Rather than repeating the documentation here, let's simply link to the function and note the parameters and functionality is different.", "author": "electrum", "createdAt": "2020-03-29T00:38:58Z", "path": "presto-docs/src/main/sphinx/migration/from-hive.rst", "diffHunk": "@@ -109,3 +109,14 @@ Presto query::\n     SELECT student, score\n     FROM tests\n     CROSS JOIN UNNEST(scores) AS t (score);\n+\n+Caution with datediff\n+---------------------\n+\n+The Hive ``datediff`` function is declared as ``datediff(string enddate, string\n+startdate)``. The equivalent function in ANSI SQL is ``date_diff`` and it is\n+declared as ``date_diff(unit, timestamp1, timestamp2) \u2192 bigint``. It calculates", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzQ3NQ==", "url": "https://github.com/trinodb/trino/pull/3252#discussion_r399727475", "bodyText": "We could give an example of how to migrate from Hive to Presto.", "author": "electrum", "createdAt": "2020-03-29T00:39:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzQyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUwODc5NQ==", "url": "https://github.com/trinodb/trino/pull/3252#discussion_r400508795", "bodyText": "Done ... I kept the example as simple as possible and not build it up into full HiveQL and SQL queries since that just makes it harder to read.", "author": "mosabua", "createdAt": "2020-03-30T21:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcyNzQyNQ=="}], "type": "inlineReview"}, {"oid": "51c07a39fe951e9673b00b1db3ffeb69af7eb2a1", "url": "https://github.com/trinodb/trino/commit/51c07a39fe951e9673b00b1db3ffeb69af7eb2a1", "message": "Add tip about reverse parameters for date diff", "committedDate": "2020-03-30T21:17:30Z", "type": "commit"}, {"oid": "51c07a39fe951e9673b00b1db3ffeb69af7eb2a1", "url": "https://github.com/trinodb/trino/commit/51c07a39fe951e9673b00b1db3ffeb69af7eb2a1", "message": "Add tip about reverse parameters for date diff", "committedDate": "2020-03-30T21:17:30Z", "type": "forcePushed"}]}