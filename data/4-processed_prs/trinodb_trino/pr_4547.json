{"pr_number": 4547, "pr_title": "Update hive procedures docs", "pr_createdAt": "2020-07-23T10:39:54Z", "pr_url": "https://github.com/trinodb/trino/pull/4547", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMTcxMA==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459621710", "bodyText": "I am not an expert with articles, but It seems The default value is more correct.", "author": "losipiuk", "createdAt": "2020-07-23T17:45:32Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -563,20 +563,20 @@ Procedures\n \n   Create an empty partition in the specified table.\n \n-* ``system.sync_partition_metadata(schema_name, table_name, mode, case_sensitive)``\n+* ``system.sync_partition_metadata(schema_name, table_name, mode, optional case_sensitive)``\n \n   Check and update partitions list in metastore. There are three modes available:\n \n   * ``ADD`` : add any partitions that exist on the file system, but not in the metastore.\n   * ``DROP``: drop any partitions that exist in the metastore, but not on the file system.\n   * ``FULL``: perform both ``ADD`` and ``DROP``.\n \n-  The ``case_sensitive`` argument is optional. The default value is ``true`` for compatibility\n+  Default value for optional ``case_sensitive`` argument is ``true`` for compatibility", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY2NDgxNA==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459664814", "bodyText": "correct.\nThe default vale for the optional case_sensitive argument is true for..", "author": "mosabua", "createdAt": "2020-07-23T19:02:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMTcxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMzkwNQ==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459623905", "bodyText": "Maybe it would worthy to have an example here?", "author": "losipiuk", "createdAt": "2020-07-23T17:49:21Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -585,10 +585,12 @@ Procedures\n \n .. _register_partition:\n \n-* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, location)``\n+* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, optional location)``\n \n   Registers existing location as a new partition in the metastore for the specified table.\n \n+  Partition location is constructed using partition_columns and partition_values when location argument is ommitted.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY2NTgzOQ==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459665839", "bodyText": "Yes ... also use double backtick around code values..", "author": "mosabua", "createdAt": "2020-07-23T19:04:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMzkwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY2NTQ4MA==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459665480", "bodyText": "I am not aware of this syntax being used for optional values anywhere else in the docs. Is this okay @electrum ? In other places we just show the different signatures from what I know", "author": "mosabua", "createdAt": "2020-07-23T19:03:38Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -563,20 +563,20 @@ Procedures\n \n   Create an empty partition in the specified table.\n \n-* ``system.sync_partition_metadata(schema_name, table_name, mode, case_sensitive)``\n+* ``system.sync_partition_metadata(schema_name, table_name, mode, optional case_sensitive)``\n \n   Check and update partitions list in metastore. There are three modes available:\n \n   * ``ADD`` : add any partitions that exist on the file system, but not in the metastore.\n   * ``DROP``: drop any partitions that exist in the metastore, but not on the file system.\n   * ``FULL``: perform both ``ADD`` and ``DROP``.\n \n-  The ``case_sensitive`` argument is optional. The default value is ``true`` for compatibility\n+  Default value for optional ``case_sensitive`` argument is ``true`` for compatibility\n   with Hive's ``MSCK REPAIR TABLE`` behavior, which expects the partition column names in\n   file system paths to use lowercase (e.g. ``col_x=SomeValue``). Partitions on the file system\n   not conforming to this convention are ignored, unless the argument is set to ``false``.\n \n-* ``system.drop_stats(schema_name, table_name, partition_values)``\n+* ``system.drop_stats(schema_name, table_name, optional partition_values)``", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY2NTU2Mw==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459665563", "bodyText": "see above.", "author": "mosabua", "createdAt": "2020-07-23T19:03:47Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -585,10 +585,12 @@ Procedures\n \n .. _register_partition:\n \n-* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, location)``\n+* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, optional location)``", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY5MjkwNw==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459692907", "bodyText": "when the location ..", "author": "mosabua", "createdAt": "2020-07-23T19:57:00Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -589,6 +589,8 @@ Procedures\n \n   Registers existing location as a new partition in the metastore for the specified table.\n \n+  Partition location is constructed using ``partition_columns`` and ``partition_values`` when ``location`` argument is ommitted.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwNzMyNg==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r464707326", "bodyText": "How about\nWhen the ``location`` argument is omitted, the partition location is\nconstructed using ``partition_columns`` and ``partition_values``.", "author": "electrum", "createdAt": "2020-08-03T23:07:12Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -589,6 +589,8 @@ Procedures\n \n   Registers existing location as a new partition in the metastore for the specified table.\n \n+  Partition location is constructed using ``partition_columns`` and ``partition_values`` when the ``location`` argument is omitted.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwNzMzMQ==", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r464707331", "bodyText": "I think the original is clearer, since it starts with the argument name and doesn't split the sentence. The new version results in a longer sentence, and makes the \"which expects\" part unclear as to what it applies to.", "author": "electrum", "createdAt": "2020-08-03T23:07:12Z", "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -571,7 +571,7 @@ Procedures\n   * ``DROP``: drop any partitions that exist in the metastore, but not on the file system.\n   * ``FULL``: perform both ``ADD`` and ``DROP``.\n \n-  The ``case_sensitive`` argument is optional. The default value is ``true`` for compatibility\n+  The default value for the optional ``case_sensitive`` argument is ``true`` for compatibility", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "80e00b5e0466a47cedaafeb4d347f507f0673892", "url": "https://github.com/trinodb/trino/commit/80e00b5e0466a47cedaafeb4d347f507f0673892", "message": "Document optional arguments in Hive's procedures", "committedDate": "2020-08-05T11:24:19Z", "type": "commit"}, {"oid": "80e00b5e0466a47cedaafeb4d347f507f0673892", "url": "https://github.com/trinodb/trino/commit/80e00b5e0466a47cedaafeb4d347f507f0673892", "message": "Document optional arguments in Hive's procedures", "committedDate": "2020-08-05T11:24:19Z", "type": "forcePushed"}]}