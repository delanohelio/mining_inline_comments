{"pr_number": 2443, "pr_title": "Reduce exception stacks printed during tests", "pr_createdAt": "2020-01-09T00:20:54Z", "pr_url": "https://github.com/trinodb/trino/pull/2443", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY5MjY2NA==", "url": "https://github.com/trinodb/trino/pull/2443#discussion_r364692664", "bodyText": "I'd prefer to have field init self-contained:\n private static final SQLException FAILED_CAUSE;\n\nstatic {\n  FAILED_CAUSE = new SQLException(\"FAILED\");\n  FAILED_CAUSE.setStackTrace(new StackTraceElement[0]);\n}", "author": "findepi", "createdAt": "2020-01-09T11:36:20Z", "path": "presto-main/src/test/java/io/prestosql/execution/TestStageStateMachine.java", "diffHunk": "@@ -53,6 +53,10 @@\n     private static final PlanFragment PLAN_FRAGMENT = createValuesPlan();\n     private static final SQLException FAILED_CAUSE = new SQLException(\"FAILED\");\n \n+    static {\n+        FAILED_CAUSE.setStackTrace(new StackTraceElement[0]);", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY5Mjk4Ng==", "url": "https://github.com/trinodb/trino/pull/2443#discussion_r364692986", "bodyText": "Does this reduce exception stacks printed during tests? or is it a separate change?", "author": "findepi", "createdAt": "2020-01-09T11:37:04Z", "path": "presto-main/src/test/java/io/prestosql/execution/TestSqlTaskExecution.java", "diffHunk": "@@ -112,6 +112,7 @@\n     private static final OutputBufferId OUTPUT_BUFFER_ID = new OutputBufferId(0);\n     private static final CatalogName CONNECTOR_ID = new CatalogName(\"test\");\n     private static final Duration ASSERT_WAIT_TIMEOUT = new Duration(1, HOURS);\n+    public static final TaskId TASK_ID = new TaskId(\"query\", 0, 0);", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk0MTUzOA==", "url": "https://github.com/trinodb/trino/pull/2443#discussion_r364941538", "bodyText": "It does... The tests print some message when cleaning up about an invalid query ID.", "author": "dain", "createdAt": "2020-01-09T20:19:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY5Mjk4Ng=="}], "type": "inlineReview"}, {"oid": "a292a1de3ae9f0427481e3def42e0a2ee34307ab", "url": "https://github.com/trinodb/trino/commit/a292a1de3ae9f0427481e3def42e0a2ee34307ab", "message": "Reduce exception stacks printed during tests", "committedDate": "2020-01-09T20:21:00Z", "type": "commit"}, {"oid": "a292a1de3ae9f0427481e3def42e0a2ee34307ab", "url": "https://github.com/trinodb/trino/commit/a292a1de3ae9f0427481e3def42e0a2ee34307ab", "message": "Reduce exception stacks printed during tests", "committedDate": "2020-01-09T20:21:00Z", "type": "forcePushed"}]}