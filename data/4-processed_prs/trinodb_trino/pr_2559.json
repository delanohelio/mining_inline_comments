{"pr_number": 2559, "pr_title": "Add 329 release notes", "pr_createdAt": "2020-01-20T19:05:08Z", "pr_url": "https://github.com/trinodb/trino/pull/2559", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTE2NA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368755164", "bodyText": "end-user visible impact is \"faster\" or \"improve performance\"; maybe also \"reduce metastore load\":\n* Improve performance and reduce load on external systems when querying ``information_schema``. (:issue:`2488`)", "author": "findepi", "createdAt": "2020-01-20T23:18:19Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTQxOA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368755418", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              is infinite or ``NaN``. (:issue:`2471`)\n          \n          \n            \n              is infinite or ``NaN`` and column statistics collection is not disabled. (:issue:`2471`)\n          \n      \n    \n    \n  \n\n(it's on by default)", "author": "findepi", "createdAt": "2020-01-20T23:19:44Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN``. (:issue:`2471`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTczNQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368755735", "bodyText": "* Support reading data when column is declared as an integer type on partition level but is a decimal type\n  in Parquet file. (:issue:`2451`)\n\n@sopel39 is this a regression fix?", "author": "findepi", "createdAt": "2020-01-20T23:21:32Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN``. (:issue:`2471`)\n+* Add explicit support for conversion from Parquet decimal column type to Presto integer column types. (:issue:`2451`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc2MDc2MA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369760760", "bodyText": "@findepi It wasn't explicitly supported (by coincidence really), but yes, it worked before.", "author": "sopel39", "createdAt": "2020-01-22T19:33:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTczNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTc3Nw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368755777", "bodyText": "@sopel39 what's end-user visible effect?", "author": "findepi", "createdAt": "2020-01-20T23:21:44Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN``. (:issue:`2471`)\n+* Add explicit support for conversion from Parquet decimal column type to Presto integer column types. (:issue:`2451`)\n+* Add validation of Parquet decimal column type scale. (:issue:`2451`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc1NzM0NQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369757345", "bodyText": "Based on the tests, I think this can be\n* Validate the scale of decimal types when reading Parquet files. This prevents\n  incorrect results when the decimal scale in the file does not match the declared\n  type for the table or partition. (:issue:`2451`)", "author": "electrum", "createdAt": "2020-01-22T19:26:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTc3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc1OTI2NQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369759265", "bodyText": "Actually, this is part of the change above that allows reading these at all, so I'm not sure that it was possible to get incorrect results previously. Maybe it's correct to remove this?", "author": "electrum", "createdAt": "2020-01-22T19:30:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTc3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc2MjI0NQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369762245", "bodyText": "Maybe something like this?\nPrevent incorrect reading of values from Parquet decimal columns when declared scale doesn't match partition level decimal column scale", "author": "sopel39", "createdAt": "2020-01-22T19:36:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTc3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc2NzAyOQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369767029", "bodyText": "Actually, this is part of the change above that allows reading these at all, so I'm not sure that it was possible to get incorrect results previously. Maybe it's correct to remove this?\n\nIt was possible as long as both decimals were of the same type (e.g short or long). Parquet code was just putting unscaled values...", "author": "sopel39", "createdAt": "2020-01-22T19:46:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTc3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTkwMg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368755902", "bodyText": "@ebyhr is it specific to HDFS? does it apply to S3 or other storages too?", "author": "findepi", "createdAt": "2020-01-20T23:22:29Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN``. (:issue:`2471`)\n+* Add explicit support for conversion from Parquet decimal column type to Presto integer column types. (:issue:`2451`)\n+* Add validation of Parquet decimal column type scale. (:issue:`2451`)\n+* Delete HDFS location when dropping an empty schema. (:issue:`2463`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc3NTA5MA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368775090", "bodyText": "It applies to all storage locations, so we can replace \"HDFS\" with \"storage\"", "author": "electrum", "createdAt": "2020-01-21T01:22:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NTkwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NjEyMg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368756122", "bodyText": "* Improve performance when deleting multiple partitions of a table or multiple partitions in a transaction\n  by executing these actions concurrently. (:issue:`1812`)", "author": "findepi", "createdAt": "2020-01-20T23:23:39Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN``. (:issue:`2471`)\n+* Add explicit support for conversion from Parquet decimal column type to Presto integer column types. (:issue:`2451`)\n+* Add validation of Parquet decimal column type scale. (:issue:`2451`)\n+* Delete HDFS location when dropping an empty schema. (:issue:`2463`)\n+* Execute table and partition drops in parallel. (:issue:`1812`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NjE4Nw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368756187", "bodyText": "@sopel39 what's end-user visible effect?", "author": "findepi", "createdAt": "2020-01-20T23:24:03Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN``. (:issue:`2471`)\n+* Add explicit support for conversion from Parquet decimal column type to Presto integer column types. (:issue:`2451`)\n+* Add validation of Parquet decimal column type scale. (:issue:`2451`)\n+* Delete HDFS location when dropping an empty schema. (:issue:`2463`)\n+* Execute table and partition drops in parallel. (:issue:`1812`)\n+* Use listobject v2 of S3 API. (:issue:`2236`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc3NDYzNw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r368774637", "bodyText": "I don't think there is any end user visible effect.", "author": "electrum", "createdAt": "2020-01-21T01:20:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1NjE4Nw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369169687", "bodyText": "How?", "author": "martint", "createdAt": "2020-01-21T18:29:57Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,50 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during the spill. When on of disks got broken, it Presto will use another\n+  one without failing the query. (:issue:`2444`)\n+* Reduce number of metadata queries when querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC`` join reordering strategy. (:issue:`2527`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIzMDEzOQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369230139", "bodyText": "By enabling DEBUG on io.prestosql.cli.QueryRunner via CLI's --log-levels-file switch\n(presto-cli --log-levels-file <(echo \"io.prestosql.cli.QueryRunner=DEBUG\"))", "author": "findepi", "createdAt": "2020-01-21T20:37:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTMyNDczOA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369324738", "bodyText": "maybe add \"... by enabling DEBUG logging for io.prestosql.cli.QueryRunner\" ?", "author": "martint", "createdAt": "2020-01-22T01:03:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQ1NjIwOA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369456208", "bodyText": "good idea", "author": "findepi", "createdAt": "2020-01-22T09:43:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc0ODY0Nw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369748647", "bodyText": "This is not network requests, simply the URL. I think we should add first class support for printing network requests. I'm not sure this is even worth documenting.", "author": "electrum", "createdAt": "2020-01-22T19:09:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgxNjU2Mg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369816562", "bodyText": "don't have strong opinion. I'm fine either way", "author": "findepi", "createdAt": "2020-01-22T21:36:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgxNzk2Mg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369817962", "bodyText": "Ok, I'll remove it then", "author": "martint", "createdAt": "2020-01-22T21:39:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2OTY4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE3MDAzMA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369170030", "bodyText": "This needs to be updated before release", "author": "martint", "createdAt": "2020-01-21T18:30:36Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIzMDgxNw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369230817", "bodyText": "I think it would be more informative if supplemented with \"CBO\" and \"Cost-Based Optimizer\".\nOtherwise this is very easy to overlook", "author": "findepi", "createdAt": "2020-01-21T20:38:52Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during spill. When one of disks got broken, it\n+  Presto will use another one without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable ``AUTOMATIC`` join reordering and join type selection strategy by default. (:issue:`2528`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTI5NzI5Mw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369297293", "bodyText": "I don't like using the term CBO -- it's too opaque. And \"cost-based optimizer\" is a little too generic, since it's not a general purpose cost-based optimizer. It only applies to join reordering and type selection. Maybe we can just link to the corresponding sections under https://prestosql.io/docs/current/optimizer/cost-based-optimizations.html", "author": "martint", "createdAt": "2020-01-21T23:22:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIzMDgxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc0NDI4OA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369744288", "bodyText": "Link to function and say \"for\" instead of \"of\"\n* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)", "author": "electrum", "createdAt": "2020-01-22T19:00:19Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc0NDgzOQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369744839", "bodyText": "* Handle common disk failures during spill. When one disks fails, another\n  disk will be used automatically without failing the query. (:issue:`2444`)", "author": "electrum", "createdAt": "2020-01-22T19:01:20Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during spill. When one of disks got broken, it", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc0NTAwMQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369745001", "bodyText": "Code quotes around size value", "author": "electrum", "createdAt": "2020-01-22T19:01:40Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during spill. When one of disks got broken, it\n+  Presto will use another one without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC``", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc1MjIyOQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369752229", "bodyText": "* Fix query failure for writes when one of the inserted ``REAL`` or ``DOUBLE`` values\n  is infinite or ``NaN`` and column statistics collection is enabled. (:issue:`2471`)", "author": "electrum", "createdAt": "2020-01-22T19:16:22Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during spill. When one of disks got broken, it\n+  Presto will use another one without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable ``AUTOMATIC`` join reordering and join type selection strategy by default. (:issue:`2528`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc1MzUyNg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369753526", "bodyText": "* Allow reading data from Parquet files when the column type is declared as ``INTEGER``\n  in the table or partition, but is a ``DECIMAL`` type in the file. (:issue:`2451`)", "author": "electrum", "createdAt": "2020-01-22T19:18:59Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during spill. When one of disks got broken, it\n+  Presto will use another one without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable ``AUTOMATIC`` join reordering and join type selection strategy by default. (:issue:`2528`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN`` and column statistics collection is not disabled. (:issue:`2471`)\n+* Support reading data when column is declared as an integer type on partition level but is a decimal type", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc2MDkwNw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369760907", "bodyText": "Maybe shorten this to\n\nImprove performance when deleting multiple partitions by executing these actions concurrently.", "author": "electrum", "createdAt": "2020-01-22T19:33:42Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,58 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result of ``last_day_of_month`` function for first day of month. (:issue:`2452`)\n+* Handle common disk failures during spill. When one of disks got broken, it\n+  Presto will use another one without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to 100MB by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable ``AUTOMATIC`` join reordering and join type selection strategy by default. (:issue:`2528`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+CLI Changes\n+-----------\n+\n+* Allow inspecting network requests. (:issue:`2524`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix ``INSERT`` or ``CREATE TABLE ... AS`` query failure when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN`` and column statistics collection is not disabled. (:issue:`2471`)\n+* Support reading data when column is declared as an integer type on partition level but is a decimal type\n+  in Parquet file. (:issue:`2451`)\n+* Add validation of Parquet decimal column type scale. (:issue:`2451`)\n+* Delete storage location when dropping an empty schema. (:issue:`2463`)\n+* Improve performance when deleting multiple partitions of a table or multiple partitions in a transaction", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgxNzkyOA==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369817928", "bodyText": "disks -> disk", "author": "findepi", "createdAt": "2020-01-22T21:39:09Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,61 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)\n+* Fix incorrect results when handling ``DOUBLE`` or ``REAL`` types with ``NaN`` values. (:issue:`2582`)\n+* Handle common disk failures during spill. When one disks fails, another", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgxOTMzNg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369819336", "bodyText": "This is promising too much. Maybe\n* Handle common disk failures during spill. When one disk fails but multiple\n  spill locations are configured, the healthy disks will be used for future queries.\n  (:issue:`2444`)", "author": "findepi", "createdAt": "2020-01-22T21:42:15Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,65 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)\n+* Fix incorrect results when handling ``DOUBLE`` or ``REAL`` types with ``NaN`` values. (:issue:`2582`)\n+* Handle common disk failures during spill. When one disk fails, another\n+  disk will be used automatically without failing the query. (:issue:`2444`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgxOTc2NQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369819765", "bodyText": "Move this next to (just above?) \"Limit broadcasted table size\" bullet", "author": "findepi", "createdAt": "2020-01-22T21:43:15Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,65 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)\n+* Fix incorrect results when handling ``DOUBLE`` or ``REAL`` types with ``NaN`` values. (:issue:`2582`)\n+* Handle common disk failures during spill. When one disk fails, another\n+  disk will be used automatically without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to ``100MB`` by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable :doc:`cost based </optimizer/cost-based-optimizations>` join reordering and join type selection\n+  optimizations by default. The previous behavior can be restored by\n+  setting ``optimizer.join-reordering-strategy`` configuration property to ``ELIMINATE_CROSS_JOINS``\n+  and ``join-distribution-type`` to ``PARTITIONED``. (:issue:`2528`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgyMDI2Mw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369820263", "bodyText": "end-user impact could be described as:\n... This avoid query failures or excessive memory usage when joining two or more very large tables.", "author": "findepi", "createdAt": "2020-01-22T21:44:19Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,65 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)\n+* Fix incorrect results when handling ``DOUBLE`` or ``REAL`` types with ``NaN`` values. (:issue:`2582`)\n+* Handle common disk failures during spill. When one disk fails, another\n+  disk will be used automatically without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to ``100MB`` by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgyMDk4MQ==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369820981", "bodyText": "Originally i worded this as \"and column statistics collection is not disabled\", because it's enabled by default.\nMaybe we should just omit that part?", "author": "findepi", "createdAt": "2020-01-22T21:45:53Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,65 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)\n+* Fix incorrect results when handling ``DOUBLE`` or ``REAL`` types with ``NaN`` values. (:issue:`2582`)\n+* Handle common disk failures during spill. When one disk fails, another\n+  disk will be used automatically without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to ``100MB`` by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable :doc:`cost based </optimizer/cost-based-optimizations>` join reordering and join type selection\n+  optimizations by default. The previous behavior can be restored by\n+  setting ``optimizer.join-reordering-strategy`` configuration property to ``ELIMINATE_CROSS_JOINS``\n+  and ``join-distribution-type`` to ``PARTITIONED``. (:issue:`2528`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix query failure for writes when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN`` and column statistics collection is enabled. (:issue:`2471`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgyMjI5Ng==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369822296", "bodyText": "The phrase \"is not disabled\" sounds like a double negative, but I see your point. Omit sounds good.", "author": "electrum", "createdAt": "2020-01-22T21:48:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgyMDk4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgyMTYzMg==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369821632", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Previously the mapping was converting values incorrectly, shifting it by relative offset between\n          \n          \n            \n              Previously the mapping was incorrect, shifting the values by relative offset between", "author": "findepi", "createdAt": "2020-01-22T21:47:18Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -0,0 +1,65 @@\n+=========================\n+Release 329 (XXX 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Fix incorrect result for :func:`last_day_of_month` function for first day of month. (:issue:`2452`)\n+* Fix incorrect results when handling ``DOUBLE`` or ``REAL`` types with ``NaN`` values. (:issue:`2582`)\n+* Handle common disk failures during spill. When one disk fails, another\n+  disk will be used automatically without failing the query. (:issue:`2444`)\n+* Improve performance and reduce load on external systems when\n+  querying ``information_schema``. (:issue:`2488`)\n+* Limit broadcasted table size to ``100MB`` by default when using the ``AUTOMATIC``\n+  join type selection strategy. (:issue:`2527`)\n+* Hide non-standard columns ``comment`` and ``extra_info`` in the standard\n+  ``information_schema.columns`` table. These columns can still be selected,\n+  but will no longer appear when describing the table. (:issue:`2306`)\n+* Enable :doc:`cost based </optimizer/cost-based-optimizations>` join reordering and join type selection\n+  optimizations by default. The previous behavior can be restored by\n+  setting ``optimizer.join-reordering-strategy`` configuration property to ``ELIMINATE_CROSS_JOINS``\n+  and ``join-distribution-type`` to ``PARTITIONED``. (:issue:`2528`)\n+\n+Security Changes\n+----------------\n+\n+* Add ``ldap.bind-dn`` and ``ldap.bind-password`` LDAP properties to allow LDAP authentication\n+  access LDAP server using service account. (:issue:`1917`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select\n+  was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled\n+  for uncompressed files. (:issue:`2399`)\n+* Fix incorrect data returned when using S3 Select on a table with ``skip.header.line.count`` or\n+  ``skip.footer.line.count`` property. S3 Select API does not support skipping footers or more than one\n+  line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when\n+  reading a compressed file with header skipping, so S3 Select is disabled when any of these table\n+  properties is set to non-zero value. (:issue:`2399`)\n+* Fix query failure for writes when one of the inserted ``REAL`` or ``DOUBLE`` values\n+  is infinite or ``NaN`` and column statistics collection is enabled. (:issue:`2471`)\n+* Allow reading data from Parquet files when the column type is declared as ``INTEGER``\n+  in the table or partition, but is a ``DECIMAL`` type in the file. (:issue:`2451`)\n+* Validate the scale of decimal types when reading Parquet files. This prevents\n+  incorrect results when the decimal scale in the file does not match the declared\n+  type for the table or partition. (:issue:`2451`)\n+* Delete storage location when dropping an empty schema. (:issue:`2463`)\n+* Improve performance when deleting multiple partitions by executing these actions concurrently. (:issue:`1812`)\n+* Improve performance for queries containing ``IN`` predicates over bucketing columns. (:issue:`2277`)\n+* Add procedure ``system.drop_stats()`` to remove the column statistics\n+  for a table or selected partitions. (:issue:`2538`)\n+\n+Elasticsearch Connector Changes\n+-------------------------------\n+\n+* Add support for :ref:`elasticsearch-array-types`. (:issue:`2441`)\n+* Reduce load on Elasticsearch cluster and improve query performance. (:issue:`2561`)\n+\n+PostgreSQL Connector Changes\n+----------------------------\n+\n+* Fix mapping between PostgreSQL's ``TIME`` and Presto's ``TIME`` data types.\n+  Previously the mapping was converting values incorrectly, shifting it by relative offset between", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTgyMjg5Mw==", "url": "https://github.com/trinodb/trino/pull/2559#discussion_r369822893", "bodyText": "by the relative offset between the session zone and the Presto server's JVM zone", "author": "electrum", "createdAt": "2020-01-22T21:50:03Z", "path": "presto-docs/src/main/sphinx/release/release-329.rst", "diffHunk": "@@ -56,3 +56,10 @@ Elasticsearch Connector Changes\n \n * Add support for :ref:`elasticsearch-array-types`. (:issue:`2441`)\n * Reduce load on Elasticsearch cluster and improve query performance. (:issue:`2561`)\n+\n+PostgreSQL Connector Changes\n+----------------------------\n+\n+* Fix mapping between PostgreSQL's ``TIME`` and Presto's ``TIME`` data types.\n+  Previously the mapping was converting values incorrectly, shifting it by relative offset between", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "663658900bc5bdfa06137208b1b751ff0e03536f", "url": "https://github.com/trinodb/trino/commit/663658900bc5bdfa06137208b1b751ff0e03536f", "message": "Add 329 release notes", "committedDate": "2020-01-22T21:55:45Z", "type": "commit"}, {"oid": "663658900bc5bdfa06137208b1b751ff0e03536f", "url": "https://github.com/trinodb/trino/commit/663658900bc5bdfa06137208b1b751ff0e03536f", "message": "Add 329 release notes", "committedDate": "2020-01-22T21:55:45Z", "type": "forcePushed"}]}