{"pr_number": 6263, "pr_title": "Move Hadoop file system cache into Trino", "pr_createdAt": "2020-12-08T21:15:09Z", "pr_url": "https://github.com/trinodb/trino/pull/6263", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4NTc2NQ==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r539185765", "bodyText": "what is 205558-2 version part?", "author": "losipiuk", "createdAt": "2020-12-09T10:25:04Z", "path": "pom.xml", "diffHunk": "@@ -509,7 +509,7 @@\n             <dependency>\n                 <groupId>io.prestosql.hadoop</groupId>\n                 <artifactId>hadoop-apache</artifactId>\n-                <version>3.2.0-9</version>\n+                <version>3.2.0-10-20201208.205558-2</version>", "originalCommit": "0f37b83ebba61e9d0b2348f1860411326a5e4163", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUxNTM3Mg==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r539515372", "bodyText": "This is the snapshot I deployed so the CI could run. I forgot to put up the dependent PR: trinodb/trino-hadoop-apache#25", "author": "electrum", "createdAt": "2020-12-09T17:44:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4NTc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYyOTgxNg==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r539629816", "bodyText": "Thanks. The other one looks good.", "author": "losipiuk", "createdAt": "2020-12-09T20:37:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4NTc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMDI0MA==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r539630240", "bodyText": "Curious. What are the benefits of this PR? Apart from obvious fact that it is cleaner as things are placed more correctly?", "author": "losipiuk", "createdAt": "2020-12-09T20:37:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4NTc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTcwNDQ1MQ==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r539704451", "bodyText": "It's cleaner and makes it easier to see what's going on.", "author": "electrum", "createdAt": "2020-12-09T22:44:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4NTc2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTc5NDQyOQ==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r539794429", "bodyText": "sometime back we had added requireHadoopNative call at one more place where hadoop code is initialized: #5076 We should register the cache there as well?", "author": "phd3", "createdAt": "2020-12-10T02:22:08Z", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/HdfsEnvironment.java", "diffHunk": "@@ -37,6 +39,7 @@\n {\n     static {\n         HadoopNative.requireHadoopNative();\n+        FileSystemManager.registerCache(PrestoFileSystemCache.INSTANCE);", "originalCommit": "0f37b83ebba61e9d0b2348f1860411326a5e4163", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDYxMjAzNw==", "url": "https://github.com/trinodb/trino/pull/6263#discussion_r540612037", "bodyText": "This is a good point, but it shouldn't be needed there, since the Kerberos code doesn't touch any file system related code.", "author": "electrum", "createdAt": "2020-12-11T00:59:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTc5NDQyOQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "7949c3226295f5674463aba58ac98bcf995b594e", "url": "https://github.com/trinodb/trino/commit/7949c3226295f5674463aba58ac98bcf995b594e", "message": "Move Hadoop file system cache into Trino", "committedDate": "2021-06-08T02:09:09Z", "type": "commit"}, {"oid": "7949c3226295f5674463aba58ac98bcf995b594e", "url": "https://github.com/trinodb/trino/commit/7949c3226295f5674463aba58ac98bcf995b594e", "message": "Move Hadoop file system cache into Trino", "committedDate": "2021-06-08T02:09:09Z", "type": "forcePushed"}]}