{"pr_number": 5818, "pr_title": "Make query result HTTP compression configurable", "pr_createdAt": "2020-11-04T15:25:30Z", "pr_url": "https://github.com/trinodb/trino/pull/5818", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzEyNTczMg==", "url": "https://github.com/trinodb/trino/pull/5818#discussion_r523125732", "bodyText": "Let's go with Disable compression of query results for all of these descriptions", "author": "dain", "createdAt": "2020-11-13T17:54:06Z", "path": "presto-benchmark-driver/src/main/java/io/prestosql/benchmark/driver/BenchmarkDriverOptions.java", "diffHunk": "@@ -94,6 +94,9 @@\n     @Option(names = \"--client-request-timeout\", paramLabel = \"<timeout>\", defaultValue = \"2m\", description = \"Client request timeout \" + DEFAULT_VALUE)\n     public Duration clientRequestTimeout;\n \n+    @Option(names = \"--disable-compression\", description = \"Requests that the server not compress query result responses\")", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "dc1a62186afcfda55f92fa858c55493572bf0221", "url": "https://github.com/trinodb/trino/commit/dc1a62186afcfda55f92fa858c55493572bf0221", "message": "Make query result HTTP compression client configurable\n\nBy default, presto will GZIP query result JSON payloads sent to the\nclient. However, especially when the client is connected to the\ncoordinator over localhost, the added overhead of compressing the\nresponse and then uncompressing it on the client is a losing\nproposition.\n\nFor queries that are bound only by result processing throughput (eg:\nSELECT * FROM <large table>) execution time can reduced by 20-50%\nwhen submitted over a localhost connection with compression disabled.", "committedDate": "2020-11-16T20:51:15Z", "type": "commit"}, {"oid": "7a1b15a2bbdc66577c8ea8dbce0ab1f8d0a3ea9a", "url": "https://github.com/trinodb/trino/commit/7a1b15a2bbdc66577c8ea8dbce0ab1f8d0a3ea9a", "message": "Make query result HTTP compression server configurable\n\nAllows configuring HTTP response compression for the query results\nendpoints at the server level, regardless of client configuration.", "committedDate": "2020-11-16T20:51:15Z", "type": "commit"}, {"oid": "7a1b15a2bbdc66577c8ea8dbce0ab1f8d0a3ea9a", "url": "https://github.com/trinodb/trino/commit/7a1b15a2bbdc66577c8ea8dbce0ab1f8d0a3ea9a", "message": "Make query result HTTP compression server configurable\n\nAllows configuring HTTP response compression for the query results\nendpoints at the server level, regardless of client configuration.", "committedDate": "2020-11-16T20:51:15Z", "type": "forcePushed"}]}