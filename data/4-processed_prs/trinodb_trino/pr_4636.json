{"pr_number": 4636, "pr_title": "Make QueryBuilder::toPredicate to be customizable", "pr_createdAt": "2020-07-30T12:28:09Z", "pr_url": "https://github.com/trinodb/trino/pull/4636", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2OTkyMw==", "url": "https://github.com/trinodb/trino/pull/4636#discussion_r462969923", "bodyText": "why?\ni see this is used in a test code, but this should not warrant a change in the non-test code.\nplease revert", "author": "findepi", "createdAt": "2020-07-30T12:46:33Z", "path": "presto-base-jdbc/src/main/java/io/prestosql/plugin/jdbc/ForwardingJdbcClient.java", "diffHunk": "@@ -45,14 +45,14 @@ public static JdbcClient of(Supplier<JdbcClient> jdbcClientSupplier)\n         return new ForwardingJdbcClient()\n         {\n             @Override\n-            protected JdbcClient delegate()\n+            public JdbcClient delegate()\n             {\n                 return requireNonNull(jdbcClientSupplier.get(), \"jdbcClientSupplier.get() is null\");\n             }\n         };\n     }\n \n-    protected abstract JdbcClient delegate();\n+    public abstract JdbcClient delegate();", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI0Nzk1Mw==", "url": "https://github.com/trinodb/trino/pull/4636#discussion_r463247953", "bodyText": "To avoid that I added quoted method to JdbcClient. I think they fit there as they capture SQL dialect.", "author": "kokosing", "createdAt": "2020-07-30T20:19:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2OTkyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk3MDMzMg==", "url": "https://github.com/trinodb/trino/pull/4636#discussion_r462970332", "bodyText": "it's dangerous to have it. I'd rather not have this convenience", "author": "findepi", "createdAt": "2020-07-30T12:47:15Z", "path": "presto-base-jdbc/src/main/java/io/prestosql/plugin/jdbc/RemoteTableName.java", "diffHunk": "@@ -32,6 +32,11 @@\n     private final Optional<String> schemaName;\n     private final String tableName;\n \n+    public RemoteTableName(String tableName)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "430f79d32d9c1a3a9933e7d0189072890621dce9", "url": "https://github.com/trinodb/trino/commit/430f79d32d9c1a3a9933e7d0189072890621dce9", "message": "Remove unused annotation", "committedDate": "2020-07-31T09:09:09Z", "type": "commit"}, {"oid": "ed6e3d2b760d06f3278d4323e65b78269de8f295", "url": "https://github.com/trinodb/trino/commit/ed6e3d2b760d06f3278d4323e65b78269de8f295", "message": "Reuse BaseJdbcClient methods in QueryBuilder", "committedDate": "2020-07-31T09:09:10Z", "type": "commit"}, {"oid": "98a787112e81d958ce00af3a1b30dff1953d5d19", "url": "https://github.com/trinodb/trino/commit/98a787112e81d958ce00af3a1b30dff1953d5d19", "message": "Use RemoteTableName in BaseJdbcClient where reasonable", "committedDate": "2020-07-31T09:09:12Z", "type": "commit"}, {"oid": "04d7d1a06f0e72eb6d142873dd2f0d943118df55", "url": "https://github.com/trinodb/trino/commit/04d7d1a06f0e72eb6d142873dd2f0d943118df55", "message": "Do not pass columnName as separate parameter\n\nPassing columnName as separate parameter were giving an impression that\nit could be different than what is passed with JdbcColumnHandle, while\nit was not.", "committedDate": "2020-07-31T09:09:13Z", "type": "commit"}, {"oid": "a2a3c388f44cf98848d1307993680791c64fcd8b", "url": "https://github.com/trinodb/trino/commit/a2a3c388f44cf98848d1307993680791c64fcd8b", "message": "Make QueryBuilder::toPredicate to be customizable\n\nDepending on remote data source and JdbcColumnHandle details the actual\npredicate might require dedicated syntax.", "committedDate": "2020-07-31T09:09:14Z", "type": "commit"}, {"oid": "a2a3c388f44cf98848d1307993680791c64fcd8b", "url": "https://github.com/trinodb/trino/commit/a2a3c388f44cf98848d1307993680791c64fcd8b", "message": "Make QueryBuilder::toPredicate to be customizable\n\nDepending on remote data source and JdbcColumnHandle details the actual\npredicate might require dedicated syntax.", "committedDate": "2020-07-31T09:09:14Z", "type": "forcePushed"}]}