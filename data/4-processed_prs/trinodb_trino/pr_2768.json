{"pr_number": 2768, "pr_title": "Validate session catalog in role commands", "pr_createdAt": "2020-02-08T18:56:05Z", "pr_url": "https://github.com/trinodb/trino/pull/2768", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcyODkwNw==", "url": "https://github.com/trinodb/trino/pull/2768#discussion_r376728907", "bodyText": "Can you please add tests for other statements?", "author": "kokosing", "createdAt": "2020-02-08T19:28:48Z", "path": "presto-main/src/test/java/io/prestosql/execution/TestSetRoleTask.java", "diffHunk": "@@ -87,14 +89,29 @@ public void testSetRole()\n         assertSetRole(\"SET ROLE bar\", ImmutableMap.of(CATALOG_NAME, new SelectedRole(SelectedRole.Type.ROLE, Optional.of(\"bar\"))));\n     }\n \n+    @Test\n+    public void testSetRoleInvalidCatalog()\n+    {\n+        assertPrestoExceptionThrownBy(() -> executeSetRole(\"invalid\", \"SET ROLE foo\"))", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1Njg3Mw==", "url": "https://github.com/trinodb/trino/pull/2768#discussion_r376756873", "bodyText": "Done", "author": "electrum", "createdAt": "2020-02-09T05:40:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjcyODkwNw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "96b4804813e9a7231c612eea412b6274f5b63404", "url": "https://github.com/trinodb/trino/commit/96b4804813e9a7231c612eea412b6274f5b63404", "message": "Validate session catalog in role commands", "committedDate": "2020-02-11T22:35:44Z", "type": "commit"}, {"oid": "96b4804813e9a7231c612eea412b6274f5b63404", "url": "https://github.com/trinodb/trino/commit/96b4804813e9a7231c612eea412b6274f5b63404", "message": "Validate session catalog in role commands", "committedDate": "2020-02-11T22:35:44Z", "type": "forcePushed"}]}