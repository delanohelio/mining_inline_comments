{"pr_number": 3295, "pr_title": "Add catalog session property details", "pr_createdAt": "2020-03-31T19:37:00Z", "pr_url": "https://github.com/trinodb/trino/pull/3295", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODExNg==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419648116", "bodyText": "How about\nSet a system session property or a catalog session property.\n\nConnectors can provide session properties. They are set separately for\neach catalog by prefixing them with the catalog name. There is no sharing\nof properties across catalogs (even if the catalogs use the same connector).", "author": "electrum", "createdAt": "2020-05-04T18:42:53Z", "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1NjM5MQ==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419656391", "bodyText": "Updated but replaced () with , segment", "author": "mosabua", "createdAt": "2020-05-04T18:56:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODExNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODc0NQ==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419648745", "bodyText": "Add a colon at the end. This can then be simplified, as SQL is the default language:\nThe following example sets a system session property to enable optimized hash generation::\n\n    SET SESSION optimize_hash_generation = true;", "author": "electrum", "createdAt": "2020-05-04T18:43:58Z", "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.\n+\n+Catalog session properties use the name of a catalog as a prefix in front of a\n+session property supported by a connector.\n \n Examples\n --------\n \n+The following example enables optimized hash generation.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1NzQzNw==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419657437", "bodyText": "I left it as it was originally .. but I have updated it now as requested. Although I am not a fan of the :: usage since it seem to confuse other writers", "author": "mosabua", "createdAt": "2020-05-04T18:58:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODc0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1MDQ3Nw==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419650477", "bodyText": "We normally link with the original title. Let's rephrase this a bit.\nAn example of the usage of catalog session properties is the :doc:`/connector/accumulo`,\nwhich supports a property named ``optimize_locality_enabled``. If your Accumulo catalog\nis named ``data``, you would use the following to set the catalog session property::\n\n    SET SESSION data.optimize_locality_enabled = false;", "author": "electrum", "createdAt": "2020-05-04T18:46:56Z", "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.\n+\n+Catalog session properties use the name of a catalog as a prefix in front of a\n+session property supported by a connector.\n \n Examples\n --------\n \n+The following example enables optimized hash generation.\n+\n .. code-block:: sql\n \n     SET SESSION optimize_hash_generation = true;\n+\n+An example of the usage of catalog session properties is the :doc:`Accumulo", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1OTM4Nw==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419659387", "bodyText": "if you link with the original doc link you end up getting title case usage in the middle of the sentence. I think this is wrong and should be avoided where possible. I updated the rest.", "author": "mosabua", "createdAt": "2020-05-04T19:01:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1MDQ3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1MTI5Nw==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419651297", "bodyText": "Let's remove this example, since the property no longer exists, and the example doesn't seem to provide any additional value. The above is much better than this old example.", "author": "electrum", "createdAt": "2020-05-04T18:48:24Z", "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.\n+\n+Catalog session properties use the name of a catalog as a prefix in front of a\n+session property supported by a connector.\n \n Examples\n --------\n \n+The following example enables optimized hash generation.\n+\n .. code-block:: sql\n \n     SET SESSION optimize_hash_generation = true;\n+\n+An example of the usage of catalog session properties is the :doc:`Accumulo\n+connector </connector/accumulo>`, which supports a property named\n+``optimize_locality_enabled``. If you use the connector in a catalog properties\n+file named ``keyvaluestore.properties``, you need to use the following command\n+to set the catalog session property.\n+\n+.. code-block:: sql\n+\n+    SET SESSION keyvaluestore.optimize_locality_enabled = false;\n+\n+This catalog session property does not apply to any other catalog, even if it\n+also uses the Accumulo connector.\n+\n+Another example is the setting the ``optimized_reader_enabled`` for the catalog", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1OTU2MQ==", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419659561", "bodyText": "done", "author": "mosabua", "createdAt": "2020-05-04T19:02:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1MTI5Nw=="}], "type": "inlineReview"}, {"oid": "c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "url": "https://github.com/trinodb/trino/commit/c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "message": "Add catalog session property details", "committedDate": "2020-05-04T19:04:42Z", "type": "commit"}, {"oid": "c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "url": "https://github.com/trinodb/trino/commit/c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "message": "Add catalog session property details", "committedDate": "2020-05-04T19:04:42Z", "type": "forcePushed"}]}