{"pr_number": 4855, "pr_title": "Added documentation for Salesforce authentication password plugin.", "pr_createdAt": "2020-08-16T20:40:45Z", "pr_url": "https://github.com/trinodb/trino/pull/4855", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ2NTY0MQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472465641", "bodyText": "What about the web ui?", "author": "mosabua", "createdAt": "2020-08-18T20:22:51Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ5ODAyMQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472498021", "bodyText": "This is a password authenticater and will just work with the form based authentication in the Web UI.  The other authenticater don't really mention the web UI either.", "author": "dain", "createdAt": "2020-08-18T21:16:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ2NTY0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0NjM1Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472546356", "bodyText": "Yup, I've tested this previously, https://prestosql.io/docs/current/admin/web-interface.html#authentication.", "author": "weissleb", "createdAt": "2020-08-18T23:21:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ2NTY0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE5OTg0NA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474199844", "bodyText": "So maybe we should call this out as well then", "author": "mosabua", "createdAt": "2020-08-20T18:50:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ2NTY0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODQ0OA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474628448", "bodyText": "@mosabua I'll add the following just after the sentence starting with \"This allows you ... basic credentials.\"\n\"This can also be used to secure the :ref:Web UI <web-ui-authentication>.\"", "author": "weissleb", "createdAt": "2020-08-21T11:02:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ2NTY0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ3MTUxMw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472471513", "bodyText": "This allows you ..", "author": "mosabua", "createdAt": "2020-08-18T20:29:01Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0NzkxOQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472547919", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-08-18T23:26:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQ3MTUxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDI5MQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472520291", "bodyText": "Pull that sentence out of this paragraph  and into a separate note after it\n.. note:\n\n  This is ...", "author": "mosabua", "createdAt": "2020-08-18T22:06:39Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0ODkwNw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472548907", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-08-18T23:29:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDI5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDUzMw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472520533", "bodyText": "It enables users to authenticate to Presto, similar...", "author": "mosabua", "createdAt": "2020-08-18T22:07:13Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0OTg2MA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472549860", "bodyText": "@mosabua , sorry I'm not quite sure I'm following this one.  I'm changing line 10, per your first comment.", "author": "weissleb", "createdAt": "2020-08-18T23:32:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDUzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDc4OQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472520789", "bodyText": "Only required on the coordinator? Optional to be on workers?", "author": "mosabua", "createdAt": "2020-08-18T22:07:53Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDI2NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472550265", "bodyText": "I believe it's only on the coordinator, and not necessary on the workers (though it doesn't hurt anything).  I pretty much copied this sentence from https://prestosql.io/docs/current/security/password-file.html#password-authenticator-configuration.", "author": "weissleb", "createdAt": "2020-08-18T23:33:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDc4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMDQxMA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474200410", "bodyText": "ok", "author": "mosabua", "createdAt": "2020-08-20T18:51:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDc4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDg1NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472520855", "bodyText": "use properties", "author": "mosabua", "createdAt": "2020-08-18T22:08:06Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk2MzUzNw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472963537", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-08-19T11:38:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMDg1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMjIxMg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472522212", "bodyText": "This could (maybe should) be formatted as a list-table or a definition list.", "author": "mosabua", "createdAt": "2020-08-18T22:11:24Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMjg1MQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472522851", "bodyText": "E.g. see https://github.com/prestosql/presto/blob/master/presto-docs/src/main/sphinx/connector/hive-caching.rst", "author": "mosabua", "createdAt": "2020-08-18T22:13:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMjIxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MTgyMA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472551820", "bodyText": "@mosabua I copied the table at https://prestosql.io/docs/current/security/password-file.html#password-authenticator-configuration.  Happy to change it if you'd prefer.  Please advise.", "author": "weissleb", "createdAt": "2020-08-18T23:38:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMjIxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMDYzNg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474200636", "bodyText": "lets leave it for now I guess ..", "author": "mosabua", "createdAt": "2020-08-20T18:51:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMjIxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzQzOA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472523438", "bodyText": "organization", "author": "mosabua", "createdAt": "2020-08-18T22:14:37Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzU4OA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472523588", "bodyText": "second, simple layer", "author": "mosabua", "createdAt": "2020-08-18T22:14:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzQzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MjAxNg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472552016", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-08-18T23:39:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzQzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk2NDIxNA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472964214", "bodyText": "I capitalize Organization within the context of Salesforce.com Organization ID because that's how it appears in the Salesforce UI. Hopefully this is ok.", "author": "weissleb", "createdAt": "2020-08-19T11:39:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzQzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ3NTA1OQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r473475059", "bodyText": "ok .. seems fine to me then", "author": "mosabua", "createdAt": "2020-08-20T00:32:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzQzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzg0Mw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472523843", "bodyText": "ignored using all, which bypasses any check", "author": "mosabua", "createdAt": "2020-08-18T22:15:40Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MjM1OA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472552358", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-08-18T23:40:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyMzg0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDAzNQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472524035", "bodyText": "whats the unit here? number of users or kb or ?", "author": "mosabua", "createdAt": "2020-08-18T22:16:15Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MjUxOQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472552519", "bodyText": "Sorry, changing to Max number of cached authenticated users..", "author": "weissleb", "createdAt": "2020-08-18T23:40:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDAzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDE3OA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472524178", "bodyText": "whats the unit here?", "author": "mosabua", "createdAt": "2020-08-18T22:16:36Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDU3Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472524576", "bodyText": "Also reword description ... maybe something like\nDuration for an entry to remain the cache after the last write before it is removed.", "author": "mosabua", "createdAt": "2020-08-18T22:17:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDE3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1NzM1Mw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472557353", "bodyText": "Will update the phrase.\nThe type is io.airlift.units.Duration, and the unit is in the form of this pattern, where the unit string should match one of these cases.  It's similar to file.refresh-period", "author": "weissleb", "createdAt": "2020-08-18T23:57:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDE3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ3NTQwNg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r473475406", "bodyText": "okay .. we probably should document that somewhere separately", "author": "mosabua", "createdAt": "2020-08-20T00:33:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDE3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDc2NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472524765", "bodyText": "intro sentence missing", "author": "mosabua", "createdAt": "2020-08-18T22:18:09Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1MDkyOA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472950928", "bodyText": "Will add.", "author": "weissleb", "createdAt": "2020-08-19T11:14:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDc2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDk1NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472524955", "bodyText": "No space around /", "author": "mosabua", "createdAt": "2020-08-18T22:18:39Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1MTA1OA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472951058", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-08-19T11:14:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNDk1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNTM2NA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472525364", "bodyText": "Should we talk about the coordinator here or just \"Presto\" since it could also be a DNS name pointing to a loadbalancer pointing to the coordinator ..", "author": "mosabua", "createdAt": "2020-08-18T22:19:44Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1MTg5NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472951895", "bodyText": "Good call.  Will change to just \"Presto\".", "author": "weissleb", "createdAt": "2020-08-19T11:16:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNTM2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNTgwOQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472525809", "bodyText": "use passwordtoken to authenticate.", "author": "mosabua", "createdAt": "2020-08-18T22:20:36Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1MjIxOA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472952218", "bodyText": "Will update.", "author": "weissleb", "createdAt": "2020-08-19T11:17:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNTgwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNjE4Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472526186", "bodyText": "You could just make the first mention of the security token in the first sentence a link to these docs and remove the whole paragraph here", "author": "mosabua", "createdAt": "2020-08-18T22:21:42Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.\n+\n+To learn more about the Salesforce security token, see the `reset security token documentation", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1MzI3NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472953275", "bodyText": "Sounds good.", "author": "weissleb", "createdAt": "2020-08-19T11:19:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNjE4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNzQ5MA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472527490", "bodyText": "Use descriptive link here as well.\nEg.\nYou can configure a public IP for Presto as a trusted IP number by `whitelisting an IP range <url>`_.", "author": "mosabua", "createdAt": "2020-08-18T22:25:13Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.\n+\n+To learn more about the Salesforce security token, see the `reset security token documentation\n+<https://help.salesforce.com/articleView?id=user_security_token.htm&type=5>`_.\n+\n+To learn more about whitelisting an IP range, see the `set trusted IP ranges documentation", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1NDAyMQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472954021", "bodyText": "Sounds good.", "author": "weissleb", "createdAt": "2020-08-19T11:20:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyNzQ5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyODI0MQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472528241", "bodyText": "You can configure a one or more 18 character Salesforce.com organization IDs. They can be used as a secondary layer of security.", "author": "mosabua", "createdAt": "2020-08-18T22:27:15Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.\n+\n+To learn more about the Salesforce security token, see the `reset security token documentation\n+<https://help.salesforce.com/articleView?id=user_security_token.htm&type=5>`_.\n+\n+To learn more about whitelisting an IP range, see the `set trusted IP ranges documentation\n+<https://help.salesforce.com/articleView?id=security_networkaccess.htm&type=5>`_.  Use this to\n+procedure to trust the public IP for the Presto coordinator.\n+\n+Salesforce Organization Id's\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There is a secondary layer of security beyond simply providing credentials, which is that", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1NTA4OA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472955088", "bodyText": "Will update.", "author": "weissleb", "createdAt": "2020-08-19T11:23:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjUyODI0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0NzkzNQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472547935", "bodyText": "organization", "author": "mosabua", "createdAt": "2020-08-18T23:26:39Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.\n+\n+To learn more about the Salesforce security token, see the `reset security token documentation\n+<https://help.salesforce.com/articleView?id=user_security_token.htm&type=5>`_.\n+\n+To learn more about whitelisting an IP range, see the `set trusted IP ranges documentation\n+<https://help.salesforce.com/articleView?id=security_networkaccess.htm&type=5>`_.  Use this to\n+procedure to trust the public IP for the Presto coordinator.\n+\n+Salesforce Organization Id's\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There is a secondary layer of security beyond simply providing credentials, which is that\n+the admin can configure one or more 18 character Salesforce.com Organization ID's to which the\n+user must belong.  When the user authenticates, the Salesforce API returns the 18 character\n+Salesforce.com Organization ID for the user.  Presto's Salesforce authenticator will ensure this", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0ODMxNA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472548314", "bodyText": "The Presto Salesforce authenticator ensures that the ID matches on of the IDs configured in ..", "author": "mosabua", "createdAt": "2020-08-18T23:27:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0NzkzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1NjMxNA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472956314", "bodyText": "Will update the sentence.  I capitalize Organization within the context of Salesforce.com Organization ID because that's how it appears in the Salesforce UI.  Hopefully this is ok.", "author": "weissleb", "createdAt": "2020-08-19T11:25:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0NzkzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0ODM5Mw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472548393", "bodyText": "Optionally you can configure", "author": "mosabua", "createdAt": "2020-08-18T23:27:56Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.\n+\n+To learn more about the Salesforce security token, see the `reset security token documentation\n+<https://help.salesforce.com/articleView?id=user_security_token.htm&type=5>`_.\n+\n+To learn more about whitelisting an IP range, see the `set trusted IP ranges documentation\n+<https://help.salesforce.com/articleView?id=security_networkaccess.htm&type=5>`_.  Use this to\n+procedure to trust the public IP for the Presto coordinator.\n+\n+Salesforce Organization Id's\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There is a secondary layer of security beyond simply providing credentials, which is that\n+the admin can configure one or more 18 character Salesforce.com Organization ID's to which the\n+user must belong.  When the user authenticates, the Salesforce API returns the 18 character\n+Salesforce.com Organization ID for the user.  Presto's Salesforce authenticator will ensure this\n+matches one of the configured ``salesforce.allowed-organizations``.\n+\n+Optionally, the admin can configure ``all`` to explicitly ignore this layer of security.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1NjUwMQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472956501", "bodyText": "Will update.", "author": "weissleb", "createdAt": "2020-08-19T11:25:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0ODM5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0ODk0MA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472548940", "bodyText": "Refactor so this paragraph uses descriptive links please. See https://developers.google.com/style/link-text", "author": "mosabua", "createdAt": "2020-08-18T23:29:32Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,78 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security token` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows Presto admins to enable users to authenticate to Presto via their Salesforce\n+basic credentials. This is *not* a Salesforce connector, and does not allow users to query\n+Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: none\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization ID's for a second simple layer of security.\n+                                       This option can be explicitly ignored using ``all``\n+                                       here, which will bypass any check of the authenticated\n+                                       user's Salesforce Organization Id.\n+\n+``salesforce.cache-size``              Maximum size of the cache that holds authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Expire duration for an entry in cache since last write.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+.. _security token:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password / security token concatenation otherwise.  For example, if the coordinator\n+is not whitelisted, and your password is ``password`` and security token is ``token``, use ``passwordtoken``\n+as your Presto password.\n+\n+To learn more about the Salesforce security token, see the `reset security token documentation\n+<https://help.salesforce.com/articleView?id=user_security_token.htm&type=5>`_.\n+\n+To learn more about whitelisting an IP range, see the `set trusted IP ranges documentation\n+<https://help.salesforce.com/articleView?id=security_networkaccess.htm&type=5>`_.  Use this to\n+procedure to trust the public IP for the Presto coordinator.\n+\n+Salesforce Organization Id's\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There is a secondary layer of security beyond simply providing credentials, which is that\n+the admin can configure one or more 18 character Salesforce.com Organization ID's to which the\n+user must belong.  When the user authenticates, the Salesforce API returns the 18 character\n+Salesforce.com Organization ID for the user.  Presto's Salesforce authenticator will ensure this\n+matches one of the configured ``salesforce.allowed-organizations``.\n+\n+Optionally, the admin can configure ``all`` to explicitly ignore this layer of security.\n+\n+Admins can find their Salesforce.com Organization ID by following the procedures `described here", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk1NzUxMA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r472957510", "bodyText": "Gotcha.  Will do.", "author": "weissleb", "createdAt": "2020-08-19T11:27:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU0ODk0MA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMDE5Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474200196", "bodyText": "I think this requires a new line below note", "author": "mosabua", "createdAt": "2020-08-20T18:51:04Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.\n+\n+.. note::\n+    This is *not* a Salesforce connector, and does not allow users to query", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODg2MA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474628860", "bodyText": "The built docs displayed the note properly, but I added a new line for consistency.", "author": "weissleb", "createdAt": "2020-08-21T11:04:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMDE5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMDgxNw==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474200817", "bodyText": "empty line above paragraph", "author": "mosabua", "createdAt": "2020-08-20T18:52:16Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.\n+\n+.. note::\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization IDs for a second, simple layer of security.\n+                                       This option can be explicitly ignored using ``all``, which\n+                                       bypasses any check of the authenticated user's\n+                                       Salesforce.com Organization ID.\n+\n+``salesforce.cache-size``              Max number of cached authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Duration for an entry to remain in the cache after the\n+                                       first write before it is removed.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+There are two Salesforce specific aspects to this authenticator.  They are the use of the", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMTQ0NQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474201445", "bodyText": "a one or more .. something is weird here", "author": "mosabua", "createdAt": "2020-08-20T18:53:32Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,79 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.\n+\n+.. note::\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization IDs for a second, simple layer of security.\n+                                       This option can be explicitly ignored using ``all``, which\n+                                       bypasses any check of the authenticated user's\n+                                       Salesforce.com Organization ID.\n+\n+``salesforce.cache-size``              Max number of cached authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Duration for an entry to remain in the cache after the\n+                                       first write before it is removed.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+There are two Salesforce specific aspects to this authenticator.  They are the use of the\n+Salesforce security token, and configuration of one or more Salesforce.com Organization IDs.\n+\n+.. _security tokens:\n+\n+Security Token\n+^^^^^^^^^^^^^^\n+\n+Credentials are a user's Salesforce username and password if Presto is connecting from a whitelisted\n+IP, or username and password/`security token <https://help.salesforce.com/articleView?id=user_security_token.htm&type=5>`_\n+concatenation otherwise.  For example, if Presto is *not* whitelisted, and your password is ``password``\n+and security token is ``token``, use ``passwordtoken`` to authenticate.\n+\n+You can configure a public IP for Presto as a trusted IP by `whitelisting an IP range\n+<https://help.salesforce.com/articleView?id=security_networkaccess.htm&type=5>`_.\n+\n+Salesforce.com Organization IDs\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+You can configure a one or more 18 character Salesforce.com Organization IDs. They can be used as a", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMTk1Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474201956", "bodyText": "You can configure one or more Salesforce Organization IDs for additional authentication. The IDs need to be 18 character long.", "author": "mosabua", "createdAt": "2020-08-20T18:54:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMTQ0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYzMDEyMg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r474630122", "bodyText": "@mosabua , I'm changing the paragraph to the following.\n\"You can configure one or more Salesforce Organization IDs for additional security.  When the user authenticates,\nthe Salesforce API returns the 18 character Salesforce.com Organization ID for the user.  The Presto Salesforce\nauthenticator ensures that the ID matches one of the IDs configured in salesforce.allowed-organizations.\"", "author": "weissleb", "createdAt": "2020-08-21T11:07:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIwMTQ0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3NjY4Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480276686", "bodyText": "How about\nsalesforce.allowed-organizations=<allowed-org-ids or all>", "author": "electrum", "createdAt": "2020-08-31T17:26:07Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.  This can also be used to secure the :ref:`Web UI <web-ui-authentication>`.\n+\n+.. note::\n+\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NDkwNA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480494904", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-09-01T00:25:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3NjY4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3NjgzNg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480276836", "bodyText": "Make these bars the same length as the text", "author": "electrum", "createdAt": "2020-08-31T17:26:26Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NTEzMQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480495131", "bodyText": "Gotcha.", "author": "weissleb", "createdAt": "2020-09-01T00:26:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3NjgzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3NzkyNg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480277926", "bodyText": "See explanation below\nusername and password (or password and `security tokens <#security-tokens>`__ concatenation)", "author": "electrum", "createdAt": "2020-08-31T17:28:22Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NTcxMg==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480495712", "bodyText": "Cool.  Honestly, I wanted to do this, but couldn't quite figure out how.  Thanks.", "author": "weissleb", "createdAt": "2020-09-01T00:26:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3NzkyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3ODA1Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480278056", "bodyText": "This creates a global reference which is problematic since \"security tokens\" is rather generic. Instead, we can link directly to this section since it's inside the same document, so no need for a reference at all. I gave the syntax above.", "author": "electrum", "createdAt": "2020-08-31T17:28:36Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.  This can also be used to secure the :ref:`Web UI <web-ui-authentication>`.\n+\n+.. note::\n+\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization IDs for a second, simple layer of security.\n+                                       This option can be explicitly ignored using ``all``, which\n+                                       bypasses any check of the authenticated user's\n+                                       Salesforce.com Organization ID.\n+\n+``salesforce.cache-size``              Max number of cached authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Duration for an entry to remain in the cache after the\n+                                       first write before it is removed.\n+                                       Defaults to ``2m``.\n+====================================   ==============================================\n+\n+Salesforce Concepts\n+-------------------\n+\n+There are two Salesforce specific aspects to this authenticator.  They are the use of the\n+Salesforce security token, and configuration of one or more Salesforce.com Organization IDs.\n+\n+.. _security tokens:", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NTkwOA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480495908", "bodyText": "Removing.", "author": "weissleb", "createdAt": "2020-09-01T00:27:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3ODA1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3ODM3Ng==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480278376", "bodyText": "Make the bars as wide as the text", "author": "electrum", "createdAt": "2020-08-31T17:29:15Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.  This can also be used to secure the :ref:`Web UI <web-ui-authentication>`.\n+\n+.. note::\n+\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NjUxNQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480496515", "bodyText": "Aight.", "author": "weissleb", "createdAt": "2020-09-01T00:28:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3ODM3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3ODYwMQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480278601", "bodyText": "Max -> Maximum", "author": "electrum", "createdAt": "2020-08-31T17:29:38Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.  This can also be used to secure the :ref:`Web UI <web-ui-authentication>`.\n+\n+.. note::\n+\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization IDs for a second, simple layer of security.\n+                                       This option can be explicitly ignored using ``all``, which\n+                                       bypasses any check of the authenticated user's\n+                                       Salesforce.com Organization ID.\n+\n+``salesforce.cache-size``              Max number of cached authenticated users.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NjcyOA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480496728", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-09-01T00:28:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3ODYwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3OTMxNA==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480279314", "bodyText": "How about\nHow long a cached authentication should be considered valid.", "author": "electrum", "createdAt": "2020-08-31T17:30:55Z", "path": "presto-docs/src/main/sphinx/security/salesforce.rst", "diffHunk": "@@ -0,0 +1,80 @@\n+============================\n+Salesforce Authentication\n+============================\n+\n+Presto can be configured to enable frontend password authentication over\n+HTTPS for clients, such as the CLI, or the JDBC and ODBC drivers. The\n+username and password (or password and :ref:`security tokens` concatenation)\n+are validated by having the Presto coordinator perform a login to Salesforce.\n+\n+This allows you to enable users to authenticate to Presto via their Salesforce\n+basic credentials.  This can also be used to secure the :ref:`Web UI <web-ui-authentication>`.\n+\n+.. note::\n+\n+    This is *not* a Salesforce connector, and does not allow users to query\n+    Salesforce data. It's simply a means by which users can authenticate to Presto, similar\n+    to :doc:`ldap` or :doc:`password-file`.\n+\n+Salesforce Authenticator Configuration\n+--------------------------------------\n+\n+Enable Salesforce authentication by creating an\n+``etc/password-authenticator.properties`` file on the coordinator:\n+\n+.. code-block:: properties\n+\n+    password-authenticator.name=salesforce\n+    salesforce.allowed-organizations=allowed salesforce org id's, or the word all\n+\n+The following configuration properties are available:\n+\n+====================================   ==============================================\n+Property                               Description\n+====================================   ==============================================\n+``salesforce.allowed-organizations``   Comma separated list of 18 character Salesforce.com\n+                                       Organization IDs for a second, simple layer of security.\n+                                       This option can be explicitly ignored using ``all``, which\n+                                       bypasses any check of the authenticated user's\n+                                       Salesforce.com Organization ID.\n+\n+``salesforce.cache-size``              Max number of cached authenticated users.\n+                                       Defaults to ``4096``.\n+\n+``salesforce.cache-expire-duration``   Duration for an entry to remain in the cache after the", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ5NzI1OQ==", "url": "https://github.com/trinodb/trino/pull/4855#discussion_r480497259", "bodyText": "Will do.", "author": "weissleb", "createdAt": "2020-09-01T00:29:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3OTMxNA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "9c1ab5423619cc925c77dc9b1ad187ad3e61039b", "url": "https://github.com/trinodb/trino/commit/9c1ab5423619cc925c77dc9b1ad187ad3e61039b", "message": "Added documentation for Salesforce authentication password plugin", "committedDate": "2020-09-01T00:40:38Z", "type": "commit"}, {"oid": "9c1ab5423619cc925c77dc9b1ad187ad3e61039b", "url": "https://github.com/trinodb/trino/commit/9c1ab5423619cc925c77dc9b1ad187ad3e61039b", "message": "Added documentation for Salesforce authentication password plugin", "committedDate": "2020-09-01T00:40:38Z", "type": "forcePushed"}]}