{"pr_number": 4484, "pr_title": "Add 339 release notes", "pr_createdAt": "2020-07-17T19:11:13Z", "pr_url": "https://github.com/trinodb/trino/pull/4484", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NTU4OQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456695589", "bodyText": "This should be documented in the query properties section and then linked to from here.", "author": "mosabua", "createdAt": "2020-07-17T22:12:21Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcyMjgwNA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457722804", "bodyText": "Agreed, but that's out of scope for this PR. Once the documentation is added, we can link to it here.", "author": "martint", "createdAt": "2020-07-20T22:16:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NTU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NjEyNw==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456696127", "bodyText": "Remove \"in Kafka connector\" here and below. Also .. is this documented?", "author": "mosabua", "createdAt": "2020-07-17T22:14:21Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add INSERT support for Avro in Kafka connector. (:issue:`4418`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NjM2OA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456696368", "bodyText": "Update docs to reflect that (see hive.rst)", "author": "mosabua", "createdAt": "2020-07-17T22:15:16Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcyMjUwMQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457722501", "bodyText": "That's out of scope for this PR.", "author": "martint", "createdAt": "2020-07-20T22:16:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NjM2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NjU0NQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456696545", "bodyText": "Document in kudu.rst and link to it.", "author": "mosabua", "createdAt": "2020-07-17T22:15:51Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add INSERT support for Avro in Kafka connector. (:issue:`4418`)\n+* Add INSERT support for CSV in Kafka connector. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcyMjQzMQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457722431", "bodyText": "That's out of scope for this PR. Once the documentation is added, we can link to it here.", "author": "martint", "createdAt": "2020-07-20T22:15:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5NjU0NQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc4NjYxNQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456786615", "bodyText": "nit: ) is missing.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              or negative. (:issue:`4364`\n          \n          \n            \n              or negative. (:issue:`4364`)", "author": "ebyhr", "createdAt": "2020-07-18T12:45:09Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgyOTMxOA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456829318", "bodyText": "Put add below fix", "author": "electrum", "createdAt": "2020-07-18T21:24:04Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcyMTg2Nw==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457721867", "bodyText": "I put the new features and additions first per offline conversations.", "author": "martint", "createdAt": "2020-07-20T22:14:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgyOTMxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgyOTMzMQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456829331", "bodyText": "Code quotes on WITH", "author": "electrum", "createdAt": "2020-07-18T21:24:24Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgyOTQ2NA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456829464", "bodyText": "We can remove the what and state this in terms of what we provide for the end user\n\nAllow querying Azure Cosmos DB", "author": "electrum", "createdAt": "2020-07-18T21:25:52Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Upgrade MongoDB driver to ``3.8.0`` from ``3.6.0`` to resolve query failure when using Azure Cosmos DB. (:issue:`4415`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMDIwMQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456830201", "bodyText": "Move fix first", "author": "electrum", "createdAt": "2020-07-18T21:35:29Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1ODAwMQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456958001", "bodyText": "This could describe user-visible effect more precisely. @losipiuk", "author": "findepi", "createdAt": "2020-07-19T21:31:05Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Upgrade MongoDB driver to ``3.8.0`` from ``3.6.0`` to resolve query failure when using Azure Cosmos DB. (:issue:`4415`)\n+\n+Oracle Connector Changes\n+------------------------\n+\n+* Fix propagating JDBC credentials if connection pooling is enabled. (:issue:`4430`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY1MzM5Mg==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457653392", "bodyText": "Maybe sth like:\nCorrectly use credentials passed via ``connection-user`` and ``connection-password`` when connecting to database.\nWithout the fix accessing database required putting credentials in database uri.", "author": "losipiuk", "createdAt": "2020-07-20T19:51:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1ODAwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2NTQ4MA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457865480", "bodyText": "Without the fix accessing database required putting credentials in database uri.\n\nI would never consider this a blessed workaround (security!), so let's omit that part.", "author": "findepi", "createdAt": "2020-07-21T06:28:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1ODAwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1ODA5Mw==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r456958093", "bodyText": "IMO this should include a kind of pointer, where to start if i want to utilize this in my connector.\ne.g. i do not know where to look for this.", "author": "findepi", "createdAt": "2020-07-19T21:32:27Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,70 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in WITH clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Upgrade MongoDB driver to ``3.8.0`` from ``3.6.0`` to resolve query failure when using Azure Cosmos DB. (:issue:`4415`)\n+\n+Oracle Connector Changes\n+------------------------\n+\n+* Fix propagating JDBC credentials if connection pooling is enabled. (:issue:`4430`)\n+\n+Phoenix Connector Changes\n+-------------------------\n+\n+* Fix handling of row key definition with white space. (:issue:`3251`)\n+\n+SPI Changes\n+-----------\n+\n+* Allow connectors to wait for dynamic filters before splits are generated. (:issue:`4224`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY1NTk2Ng==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457655966", "bodyText": "Would something like:\n(dynamic filter future can be obtained by calling ``DynamicFilter#isBlocked`` method).\n\nbe OK?", "author": "sopel39", "createdAt": "2020-07-20T19:56:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1ODA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcxNTQ3MA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457715470", "bodyText": "Maybe\n* Allow connectors to wait for dynamic filters before splits are generated. This can be\n  achieved by consulting ``isBlocked`` method of the ``DynamicFilter`` objected\n  passed to ``ConnectorSplitManager#getSplits`` method. (:issue:`4224`)\n\n?", "author": "findepi", "createdAt": "2020-07-20T21:59:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk1ODA5Mw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc1ODkzNg==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457758936", "bodyText": "Let's make this singular to match others\n\nFix failure when subquery appears in window function argument", "author": "electrum", "createdAt": "2020-07-21T00:05:10Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc1OTE3Ng==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457759176", "bodyText": "Something seems missing. Should this be something like\n\nFix failure when referring to type names with differing case in a GROUP BY clause.", "author": "electrum", "createdAt": "2020-07-21T00:06:05Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc3Nzc1MA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457777750", "bodyText": "Yeah, that was mean to say \"in GROUP BY queries\". Updated with your wording", "author": "martint", "createdAt": "2020-07-21T01:13:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc1OTE3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc1OTcyNQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457759725", "bodyText": "Move \"by case\" so that it reads \"differ by case\"", "author": "electrum", "createdAt": "2020-07-21T00:08:05Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2MDYyOA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457760628", "bodyText": "How about\n\n... values with a negative year or a year higher than 9999.", "author": "electrum", "createdAt": "2020-07-21T00:11:06Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2MDcyMQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457760721", "bodyText": "Bloom is capital since it is a person's name", "author": "electrum", "createdAt": "2020-07-21T00:11:23Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing bloom filters in ORC files. (:issue:`3939`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2MTE1OQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457761159", "bodyText": "Let's phrase as\n* Make ``location`` parameter optional for the ``system.register_partition`` procedure. (:issue:`4443`)", "author": "electrum", "createdAt": "2020-07-21T00:12:58Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing bloom filters in ORC files. (:issue:`3939`)\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2MTUzNQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457761535", "bodyText": "\"by a certain\"\nAlthough this seems to be calling out a specific thing without actually naming it. Probably better to say\n\nif the file was written by a non-conforming writer.", "author": "electrum", "createdAt": "2020-07-21T00:14:23Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing bloom filters in ORC files. (:issue:`3939`)\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Avoid creating tiny splits at the end of block boundaries. (:issue:`4485`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fail query if there are bucket files outside of the bucket range.\n+  Previously, these extra files were skipped. (:issue:`4378`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2MjAxMw==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457762013", "bodyText": "* Add support for grouped execution. It can be enabled with the ``kudu.grouped-execution.enabled`\n  configuration property or the ``grouped_execution`` session property. (:issue:`3715`)", "author": "electrum", "createdAt": "2020-07-21T00:15:53Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing bloom filters in ORC files. (:issue:`3939`)\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Avoid creating tiny splits at the end of block boundaries. (:issue:`4485`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fail query if there are bucket files outside of the bucket range.\n+  Previously, these extra files were skipped. (:issue:`4378`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2Mjc5NQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457762795", "bodyText": "* Allow providing credentials via the ``connection-user`` and ``connection-password``\n  configuration properties. These properties were previously ignored. (:issue:`4430`)", "author": "electrum", "createdAt": "2020-07-21T00:18:49Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing bloom filters in ORC files. (:issue:`3939`)\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Avoid creating tiny splits at the end of block boundaries. (:issue:`4485`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fail query if there are bucket files outside of the bucket range.\n+  Previously, these extra files were skipped. (:issue:`4378`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Allow querying Azure Cosmos DB. (:issue:`4415`)\n+\n+Oracle Connector Changes\n+------------------------\n+\n+* Correctly use credentials passed via ``connection-user`` and ``connection-password`` when connecting to the database.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc2Mzg0NQ==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457763845", "bodyText": "* Allow connectors to wait for dynamic filters before splits are generated via the new\n  ``DynamicFilter`` object passed to ``ConnectorSplitManager.getSplits()``. (:issue:`4224`)", "author": "electrum", "createdAt": "2020-07-21T00:22:29Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,77 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subqueries appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case ``GROUP BY`` queries. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ from expressions in ``SELECT`` clause by case. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with year number higher than 9999\n+  or negative. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing bloom filters in ORC files. (:issue:`3939`)\n+* Make ``location`` parameter of the ``system.register_partition`` procedure optional. (:issue:`4443`)\n+* Avoid creating tiny splits at the end of block boundaries. (:issue:`4485`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fail query if there are bucket files outside of the bucket range.\n+  Previously, these extra files were skipped. (:issue:`4378`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by certain non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with ``kudu.grouped-execution.enabled`` configuration property and ``grouped_execution`` session property. (:issue:`3715`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Allow querying Azure Cosmos DB. (:issue:`4415`)\n+\n+Oracle Connector Changes\n+------------------------\n+\n+* Correctly use credentials passed via ``connection-user`` and ``connection-password`` when connecting to the database.\n+  Previously, the credentials had to be provided in the connection URI. (:issue:`4430`)\n+\n+Phoenix Connector Changes\n+-------------------------\n+\n+* Fix handling of row key definition with white space. (:issue:`3251`)\n+\n+SPI Changes\n+-----------\n+\n+* Allow connectors to wait for dynamic filters before splits are generated. This can be", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg3MTQwMA==", "url": "https://github.com/trinodb/trino/pull/4484#discussion_r457871400", "bodyText": "When rewording I lost important piece of information, that the change is regarding connection pooling.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Allow providing credentials via the ``connection-user`` and ``connection-password``\n          \n          \n            \n              configuration properties. These properties were previously ignored. (:issue:`4430`)\n          \n          \n            \n            * Allow providing credentials via the ``connection-user`` and ``connection-password``\n          \n          \n            \n              configuration properties. These properties were previously ignored if connection pooling was enabled. (:issue:`4430`)", "author": "losipiuk", "createdAt": "2020-07-21T06:43:07Z", "path": "presto-docs/src/main/sphinx/release/release-339.rst", "diffHunk": "@@ -0,0 +1,76 @@\n+=========================\n+Release 339 (XX Jul 2020)\n+=========================\n+\n+General Changes\n+---------------\n+\n+* Add :func:`approx_most_frequent`. (:issue:`3425`)\n+* Physical bytes scan limit for queries can be configured via ``query.max-scan-physical-bytes`` configuration property\n+  and ``query_max_scan_physical_bytes`` session property. (:issue:`4075`)\n+* Remove support for addition and subtraction between ``TIME`` and ``INTERVAL YEAR TO MONTH`` types. (:issue:`4308`)\n+* Fix planning failure when join criteria contains subqueries. (:issue:`4380`)\n+* Fix failure when subquery appear in window function arguments. (:issue:`4127`)\n+* Fix failure when subquery in ``WITH`` clause contains hidden columns. (:issue:`4423`)\n+* Fix failure when referring to type names with different case in a ``GROUP BY`` clause. (:issue:`2960`)\n+* Fix failure for queries involving ``DISTINCT`` when expressions in ``ORDER BY`` clause differ by case from expressions in ``SELECT`` clause. (:issue:`4233`)\n+* Fix incorrect type reporting for ``TIMESTAMP`` and ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4408`)\n+* Fix failure when querying nested ``TIMESTAMP`` or ``TIMESTAMP WITH TIME ZONE`` for legacy clients. (:issue:`4475`, :issue:`4425`)\n+\n+JDBC Driver Changes\n+-------------------\n+\n+* Fix reading ``timestamp`` and ``timestamp with time zone`` values with a negative year\n+  or a year higher than 9999. (:issue:`4364`)\n+\n+Druid Connector Changes\n+-----------------------\n+\n+* Fix handling of table and column names containing non-ASCII characters. (:issue:`4312`)\n+\n+Hive Connector Changes\n+----------------------\n+\n+* Add support for writing Bloom filters in ORC files. (:issue:`3939`)\n+* Make ``location`` parameter optional for the ``system.register_partition`` procedure. (:issue:`4443`)\n+* Avoid creating tiny splits at the end of block boundaries. (:issue:`4485`)\n+* Remove requirement to configure ``metastore.storage.schema.reader.impl`` in Hive 3.x metastore\n+  to let Presto access CSV tables. (:issue:`4457`)\n+* Fail query if there are bucket files outside of the bucket range.\n+  Previously, these extra files were skipped. (:issue:`4378`)\n+* Fix a query failure when reading from Parquet file containing ``real`` or ``double`` ``NaN`` values,\n+  if the file was written by a non-conforming writer. (:issue:`4267`)\n+\n+Kafka Connector Changes\n+-----------------------\n+\n+* Add insert support for Avro. (:issue:`4418`)\n+* Add insert support for CSV. (:issue:`4287`)\n+\n+Kudu Connector Changes\n+----------------------\n+\n+* Add support for grouped execution. It can be enabled with the ``kudu.grouped-execution.enabled`\n+  configuration property or the ``grouped_execution`` session property. (:issue:`3715`)\n+\n+MongoDB Connector Changes\n+-------------------------\n+\n+* Allow querying Azure Cosmos DB. (:issue:`4415`)\n+\n+Oracle Connector Changes\n+------------------------\n+\n+* Allow providing credentials via the ``connection-user`` and ``connection-password``\n+  configuration properties. These properties were previously ignored. (:issue:`4430`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "70438df186d59d4daf1f0033871acf0d64ee974d", "url": "https://github.com/trinodb/trino/commit/70438df186d59d4daf1f0033871acf0d64ee974d", "message": "Add 339 release notes", "committedDate": "2020-07-21T16:28:12Z", "type": "commit"}, {"oid": "70438df186d59d4daf1f0033871acf0d64ee974d", "url": "https://github.com/trinodb/trino/commit/70438df186d59d4daf1f0033871acf0d64ee974d", "message": "Add 339 release notes", "committedDate": "2020-07-21T16:28:12Z", "type": "forcePushed"}]}