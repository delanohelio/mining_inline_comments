{"pr_number": 3955, "pr_title": "Increase range of allowed timestamp (w/tz) literals", "pr_createdAt": "2020-06-07T21:06:29Z", "pr_url": "https://github.com/trinodb/trino/pull/3955", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQwOTYyMg==", "url": "https://github.com/trinodb/trino/pull/3955#discussion_r436409622", "bodyText": "Add tests with precisions up to 12. You'll need to move these to BaseTestTimestamp to take advantage of the new assertj-based assertions. E.g.,\nassertThat(assertions.expression(\"TIMESTAMP '2020-05-01 12:34:56.123456789012'\"))\n        .hasType(createTimestampType(12))\n        .isEqualTo(timestamp(12, 2020, 5, 1, 12, 34, 56, 123_456_789_012L));", "author": "martint", "createdAt": "2020-06-07T22:53:33Z", "path": "presto-main/src/test/java/io/prestosql/type/TestTimestampBase.java", "diffHunk": "@@ -86,6 +86,10 @@ public void testLiteral()\n         assertFunction(\"TIMESTAMP '2001-1-2 3:4'\", createTimestampType(0), sqlTimestampOf(0, 2001, 1, 2, 3, 4, 0, 0, session));\n         assertFunction(\"TIMESTAMP '2001-1-2'\", createTimestampType(0), sqlTimestampOf(0, 2001, 1, 2, 0, 0, 0, 0, session));\n \n+        assertFunction(\"TIMESTAMP '123001-01-22 03:04:05.321'\", createTimestampType(3), sqlTimestampOf(3, 123001, 1, 22, 3, 4, 5, 321, session));", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU5NTUzOQ==", "url": "https://github.com/trinodb/trino/pull/3955#discussion_r436595539", "bodyText": "I added more tests in BaseTestTimestamp. I kept the tests here, however.\nAlso, please add/port any relevant tests to #3947", "author": "findepi", "createdAt": "2020-06-08T10:20:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQwOTYyMg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "f315c8c953ea9ef67ad7cb7131279d9f4195a5f1", "url": "https://github.com/trinodb/trino/commit/f315c8c953ea9ef67ad7cb7131279d9f4195a5f1", "message": "Increase range of allowed timestamp literals", "committedDate": "2020-06-08T10:21:03Z", "type": "commit"}, {"oid": "9aaf2932d108665804a677853b43b06b078ad519", "url": "https://github.com/trinodb/trino/commit/9aaf2932d108665804a677853b43b06b078ad519", "message": "Prevent silent overflow in packDateTimeWithZone", "committedDate": "2020-06-08T10:21:03Z", "type": "commit"}, {"oid": "9aaf2932d108665804a677853b43b06b078ad519", "url": "https://github.com/trinodb/trino/commit/9aaf2932d108665804a677853b43b06b078ad519", "message": "Prevent silent overflow in packDateTimeWithZone", "committedDate": "2020-06-08T10:21:03Z", "type": "forcePushed"}]}