{"pr_number": 4615, "pr_title": "Add 340 release notes", "pr_createdAt": "2020-07-29T04:04:10Z", "pr_url": "https://github.com/trinodb/trino/pull/4615", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyMTMwNg==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r462121306", "bodyText": "Add\nGeneral\n* Expose information about query type in query Event Listener. ({issue}`4592`)", "author": "kokosing", "createdAt": "2020-07-29T08:16:24Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,28 @@\n+# Release 339 (XX Jul 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyMjU1Nw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r462122557", "bodyText": "Should we mention that this only affects textfiles that spans across several splits?", "author": "kokosing", "createdAt": "2020-07-29T08:18:23Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,28 @@\n+# Release 339 (XX Jul 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NDA3MQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r462144071", "bodyText": "like\n... when querying a table with large files and with `skip.header.line.count` property set to 1.\n\n?", "author": "findepi", "createdAt": "2020-07-29T08:53:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyMjU1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg2NTQ2Nw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r466865467", "bodyText": "\ud83d\udc4d", "author": "kokosing", "createdAt": "2020-08-07T07:18:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyMjU1Nw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk0MTUwNA==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r464941504", "bodyText": "I would change it to:\nReduce cluster load by ...", "author": "sopel39", "createdAt": "2020-08-04T10:03:02Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,46 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce CPU load by cancelling query stages from which data is no longer required. ({issue}`4290`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY3OTI3OA==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r465679278", "bodyText": "Please add:\nSecurity\n* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472)", "author": "kokosing", "createdAt": "2020-08-05T12:08:43Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,50 @@\n+# Release 340 (XX Aug 2020)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg2NDg3MQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r466864871", "bodyText": "This is quite vague. What was improved? What kind of improvements user might expect? Shorter latency, lower memory footprint? What does it mean short query?\nFYI @sopel39", "author": "kokosing", "createdAt": "2020-08-07T07:16:49Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,60 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg2NTY5NQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r466865695", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Allow creation of transactional tables. Note: inserts to transactional tables\n          \n          \n            \n            * Allow `CREATE TABLE` for transactional tables. Note: inserts to transactional tables", "author": "kokosing", "createdAt": "2020-08-07T07:18:52Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,60 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzMDIxMw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467230213", "bodyText": "The original is fine. It's explaining a concept, not specific SQL syntax.", "author": "electrum", "createdAt": "2020-08-07T19:29:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg2NTY5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg4MjM1OQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r466882359", "bodyText": "Please add:\n* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)", "author": "kokosing", "createdAt": "2020-08-07T07:54:32Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,60 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg5MTI3Mg==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r466891272", "bodyText": "Please add:\n * Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)", "author": "kokosing", "createdAt": "2020-08-07T08:13:06Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,60 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNTM1OA==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467235358", "bodyText": "This should be\n* Improve query performance for queries containing {func}`starts_with`. ({issue}`4669`)", "author": "electrum", "createdAt": "2020-08-07T19:42:14Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNTU0Nw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467235547", "bodyText": "Security Changes", "author": "electrum", "createdAt": "2020-08-07T19:42:44Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNTk3MA==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467235970", "bodyText": "Let's make the second sentence\n\nNote that writing to transactional tables is not yet supported.", "author": "electrum", "createdAt": "2020-08-07T19:43:52Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNjU4NQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467236585", "bodyText": "* Add `hive.metastore.glue.max-error-retries` configuration property for the\n  number of retries performed when accessing the Glue metastore. ({issue}`4611`)", "author": "electrum", "createdAt": "2020-08-07T19:45:18Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNzMwOQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467237309", "bodyText": "* Support using Java KeyStore files for Thrift metastore TLS configuration. ({issue}`4432`)", "author": "electrum", "createdAt": "2020-08-07T19:47:02Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)\n+* Add support for Java Key Store (extending existing PEM support) to Thrift Hive meta store TLS configuration. ({issue}`4432`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNzY2Nw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467237667", "bodyText": "* Fix query failure when S3 data location contains a `_$folder$` marker object. ({issue}`4552`)", "author": "electrum", "createdAt": "2020-08-07T19:47:55Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)\n+* Add support for Java Key Store (extending existing PEM support) to Thrift Hive meta store TLS configuration. ({issue}`4432`)\n+* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)\n+* Fix query failure when S3 data location contains `_$folder$` Hadoop s3n marker object. ({issue}`4552`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNzg2OQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467237869", "bodyText": "Remove redundant \"Phoenix\" word", "author": "electrum", "createdAt": "2020-08-07T19:48:25Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)\n+* Add support for Java Key Store (extending existing PEM support) to Thrift Hive meta store TLS configuration. ({issue}`4432`)\n+* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)\n+* Fix query failure when S3 data location contains `_$folder$` Hadoop s3n marker object. ({issue}`4552`)\n+* Fix type coercion failure when the schema evolved without type changes. ({issue}`3967`)\n+\n+## Kafka Connector Changes\n+\n+* Add insert support for Raw data format. ({issue}`4417`)\n+* Add insert support for JSON. ({issue}`4477`)\n+* Remove unused ``kafka.connect-timeout`` configuration properties. ({issue}`4664`)\n+\n+## MongoDB Connector Changes\n+\n+* Add `mongodb.max-connection-idle-time` properties to limit the maximum idle time of a pooled connection. ({issue}`4483`)\n+\n+## Phoenix Connector Changes\n+\n+* Add table level property to specify data block encoding when creating Phoenix tables. ({issue}`4617`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNzk1Mw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467237953", "bodyText": "maybe say \"Fix query failure\"?", "author": "electrum", "createdAt": "2020-08-07T19:48:41Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)\n+* Add support for Java Key Store (extending existing PEM support) to Thrift Hive meta store TLS configuration. ({issue}`4432`)\n+* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)\n+* Fix query failure when S3 data location contains `_$folder$` Hadoop s3n marker object. ({issue}`4552`)\n+* Fix type coercion failure when the schema evolved without type changes. ({issue}`3967`)\n+\n+## Kafka Connector Changes\n+\n+* Add insert support for Raw data format. ({issue}`4417`)\n+* Add insert support for JSON. ({issue}`4477`)\n+* Remove unused ``kafka.connect-timeout`` configuration properties. ({issue}`4664`)\n+\n+## MongoDB Connector Changes\n+\n+* Add `mongodb.max-connection-idle-time` properties to limit the maximum idle time of a pooled connection. ({issue}`4483`)\n+\n+## Phoenix Connector Changes\n+\n+* Add table level property to specify data block encoding when creating Phoenix tables. ({issue}`4617`)\n+* Fix `NullPointerException` when listing schemas. ({issue}`4560`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzODE4NQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467238185", "bodyText": "* Push down {func}`count` aggregations over constant expressions.\n  For example, `SELECT count(1)`. ({issue}`4362`)", "author": "electrum", "createdAt": "2020-08-07T19:49:15Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)\n+* Add support for Java Key Store (extending existing PEM support) to Thrift Hive meta store TLS configuration. ({issue}`4432`)\n+* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)\n+* Fix query failure when S3 data location contains `_$folder$` Hadoop s3n marker object. ({issue}`4552`)\n+* Fix type coercion failure when the schema evolved without type changes. ({issue}`3967`)\n+\n+## Kafka Connector Changes\n+\n+* Add insert support for Raw data format. ({issue}`4417`)\n+* Add insert support for JSON. ({issue}`4477`)\n+* Remove unused ``kafka.connect-timeout`` configuration properties. ({issue}`4664`)\n+\n+## MongoDB Connector Changes\n+\n+* Add `mongodb.max-connection-idle-time` properties to limit the maximum idle time of a pooled connection. ({issue}`4483`)\n+\n+## Phoenix Connector Changes\n+\n+* Add table level property to specify data block encoding when creating Phoenix tables. ({issue}`4617`)\n+* Fix `NullPointerException` when listing schemas. ({issue}`4560`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Push down `count()` aggregation over constant expression (e.g. `count(1)`). ({issue}`4362`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1MTk4MQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467251981", "bodyText": "\"Improve cluster throughput\"?", "author": "findepi", "createdAt": "2020-08-07T20:23:24Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NDUzMQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467254531", "bodyText": "Shouldn;'t this say what is being fixed? like \"Fix unprivileged access to table's schema via CREATE TABLE LIKE\"?", "author": "findepi", "createdAt": "2020-08-07T20:29:44Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NTIwNQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467255205", "bodyText": "or before \"1900-01-01\" ?\nor maybe even \"Fix handling of dates before 1582-10-15\" , \"Fix handling of timestamps before 1900-01-01\" (two bullets)?", "author": "findepi", "createdAt": "2020-08-07T20:31:17Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NjIwNg==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467256206", "bodyText": "i don't understand this. eg how did it evolve?", "author": "findepi", "createdAt": "2020-08-07T20:33:46Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,64 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Improve dynamic partition pruning for short queries. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing ``starts_with`` predicates. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security\n+\n+* Verify access to referenced table in `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Improve performance when querying tables with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note: inserts to transactional tables\n+  are still not supported. ({issue}`4516`)\n+* Add feature toggle (`hive.metastore.glue.max-error-retries`) for configuring number of retries in Glue client. ({issue}`4611`)\n+* Add support for Java Key Store (extending existing PEM support) to Thrift Hive meta store TLS configuration. ({issue}`4432`)\n+* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)\n+* Fix query failure when S3 data location contains `_$folder$` Hadoop s3n marker object. ({issue}`4552`)\n+* Fix type coercion failure when the schema evolved without type changes. ({issue}`3967`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI2MDY0NQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467260645", "bodyText": "I had the same question", "author": "electrum", "createdAt": "2020-08-07T20:45:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NjIwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI2NDMzMA==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467264330", "bodyText": "Looking at the PR, this happens when the type of the column changed (e.g., from row(b bigint, c varchar) to row(b bigint, c varchar, f int), but the type of the field being reference didn't: b is still bigint.", "author": "martint", "createdAt": "2020-08-07T20:54:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NjIwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5MzMzNA==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467493334", "bodyText": "How about \"Fix failure when referencing nested fields of a ROW type when table and partition metadata differs\"? It's a bit more accurate, without going into low-level details.", "author": "martint", "createdAt": "2020-08-08T18:49:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NjIwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5ODE5Nw==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467498197", "bodyText": "Sounds good to me.", "author": "kokosing", "createdAt": "2020-08-08T19:49:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI1NjIwNg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5OTg1NQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467499855", "bodyText": "Remove this since we're disabling HTTP/2", "author": "electrum", "createdAt": "2020-08-08T20:09:08Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,75 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add experimental support for recursive queries. ({issue}`4250`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add {func}`luhn_check`. ({issue}`4011`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Include remote host in error info for page transport errors. ({issue}`4511`)\n+* Enable HTTP/2 by default for internal communication. This can be disabled using the", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzUwMDAzNQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467500035", "bodyText": "Single backtick", "author": "electrum", "createdAt": "2020-08-08T20:11:29Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,75 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add experimental support for recursive queries. ({issue}`4250`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add {func}`luhn_check`. ({issue}`4011`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Include remote host in error info for page transport errors. ({issue}`4511`)\n+* Enable HTTP/2 by default for internal communication. This can be disabled using the\n+  `internal-communication.http2.enabled` configuration property. ({issue}`4696`)\n+* Improve minimum latency for dynamic partition pruning. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing {func}`starts_with`. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security Changes\n+\n+* Fix unprivileged access to table's schema via `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)\n+* Fix handling of dates before 1582-10-15. ({issue}`4563`)\n+* Fix handling of timestamps before 1900-01-01. ({issue}`4563`)  \n+\n+## Elasticsearch Connector Changes\n+\n+* Fix failure when index mapping is missing. ({issue}`4535`)\n+\n+## Hive Connector Changes\n+\n+* Allow creating a table with `external_location` when schema's location is not valid. ({issue}`4069`)\n+* Add read support for tables that were created as non-transactional and converted to be\n+  transactional later. ({issue}`2293`)\n+* Allow creation of transactional tables. Note that writing to transactional tables \n+  is not yet supported. ({issue}`4516`)\n+* Add `hive.metastore.glue.max-error-retries` configuration property for the\n+  number of retries performed when accessing the Glue metastore. ({issue}`4611`)\n+* Support using Java KeyStore files for Thrift metastore TLS configuration. ({issue}`4432`)\n+* Expose hit rate statistics for Hive metastore cache via JMX. ({issue}`4458`)\n+* Improve performance when querying a table with large files and with `skip.header.line.count` property set to 1. ({issue}`4513`)\n+* Improve performance of reading JSON tables. ({issue}`4705`)\n+* Fix query failure when S3 data location contains a `_$folder$` marker object. ({issue}`4552`)\n+* Fix type coercion failure when the schema evolved without type changes. ({issue}`3967`)\n+\n+## Kafka Connector Changes\n+\n+* Add insert support for Raw data format. ({issue}`4417`)\n+* Add insert support for JSON. ({issue}`4477`)\n+* Remove unused ``kafka.connect-timeout`` configuration properties. ({issue}`4664`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5OTk1MQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467499951", "bodyText": "Is this redundant with the two items below?", "author": "dain", "createdAt": "2020-08-08T20:10:15Z", "path": "presto-docs/src/main/sphinx/release/release-340.md", "diffHunk": "@@ -0,0 +1,75 @@\n+# Release 340 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for query parameters in `LIMIT`, `OFFSET` and `FETCH FIRST` clauses. ({issue}`4529`, {issue}`4601`)\n+* Add experimental support for recursive queries. ({issue}`4250`)\n+* Add {func}`bitwise_left_shift`, {func}`bitwise_right_shift` and {func}`bitwise_right_shift_arithmetic`. ({issue}`772`)\n+* Add {func}`luhn_check`. ({issue}`4011`)\n+* Add `IF EXISTS `and `IF NOT EXISTS` syntax to `ALTER TABLE`. ({issue}`4651`)\n+* Include remote host in error info for page transport errors. ({issue}`4511`)\n+* Enable HTTP/2 by default for internal communication. This can be disabled using the\n+  `internal-communication.http2.enabled` configuration property. ({issue}`4696`)\n+* Improve minimum latency for dynamic partition pruning. ({issue}`4388`}\n+* Reduce cluster load by cancelling query stages from which data is no longer required. ({issue}`4290`)\n+* Reduce query memory usage by improving retained size estimation for `VARCHAR` and `CHAR` types. ({issue}`4123`)\n+* Improve query performance for queries containing {func}`starts_with`. ({issue}`4669`)\n+* Improve performance of queries that use `DECIMAL` data type. ({issue}`4730`)\n+* Fix failure when `GROUP BY` clause contains duplicate expressions. ({issue}`4609`)\n+* Fix potential hang during query planning ({issue}`4635`).\n+\n+## Security Changes\n+\n+* Fix unprivileged access to table's schema via `CREATE TABLE LIKE`. ({issue}`4472`)\n+\n+## JDBC Driver Changes\n+\n+* Fix handling of dates and timestamps before the 20th century. ({issue}`4563`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzUwMDQ2MQ==", "url": "https://github.com/trinodb/trino/pull/4615#discussion_r467500461", "bodyText": "Yes, forgot to remove the old one.", "author": "martint", "createdAt": "2020-08-08T20:16:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5OTk1MQ=="}], "type": "inlineReview"}, {"oid": "8c22ae3219c60ef6681b1e9d2dc40ea9a4b06e31", "url": "https://github.com/trinodb/trino/commit/8c22ae3219c60ef6681b1e9d2dc40ea9a4b06e31", "message": "Add 340 release notes", "committedDate": "2020-08-08T20:29:37Z", "type": "commit"}, {"oid": "8c22ae3219c60ef6681b1e9d2dc40ea9a4b06e31", "url": "https://github.com/trinodb/trino/commit/8c22ae3219c60ef6681b1e9d2dc40ea9a4b06e31", "message": "Add 340 release notes", "committedDate": "2020-08-08T20:29:37Z", "type": "forcePushed"}]}