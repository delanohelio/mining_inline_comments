{"pr_number": 5109, "pr_title": "Move benchmark driver doc into README", "pr_createdAt": "2020-09-08T23:13:18Z", "pr_url": "https://github.com/trinodb/trino/pull/5109", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1MTgxOA==", "url": "https://github.com/trinodb/trino/pull/5109#discussion_r485251818", "bodyText": "This definitely needs to be changed to be a valid URL.", "author": "mosabua", "createdAt": "2020-09-08T23:35:02Z", "path": "presto-benchmark-driver/README.md", "diffHunk": "@@ -0,0 +1,100 @@\n+Benchmark Driver\n+================\n+\n+The benchmark driver can be used to measure the performance of queries\n+in a Presto cluster. We use it to continuously measure the performance\n+of the master branch.\n+\n+Download :maven_download:[benchmark-driver]{.title-ref}, rename it to", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1MTk5MQ==", "url": "https://github.com/trinodb/trino/pull/5109#discussion_r485251991", "bodyText": "We might need to change this table to be more markdownish as well", "author": "mosabua", "createdAt": "2020-09-08T23:35:36Z", "path": "presto-benchmark-driver/README.md", "diffHunk": "@@ -0,0 +1,100 @@\n+Benchmark Driver\n+================\n+\n+The benchmark driver can be used to measure the performance of queries\n+in a Presto cluster. We use it to continuously measure the performance\n+of the master branch.\n+\n+Download :maven_download:[benchmark-driver]{.title-ref}, rename it to\n+`presto-benchmark-driver`, then make it executable with `chmod +x`.\n+\n+Suites\n+------\n+\n+Create a `suite.json` file:\n+\n+``` {.json}\n+{\n+    \"file_formats\": {\n+        \"query\": [\"single_.*\", \"tpch_.*\"],\n+        \"schema\": [ \"tpch_sf(?<scale>.*)_(?<format>.*)_(?<compression>.*?)\" ],\n+        \"session\": {}\n+    },\n+    \"legacy_orc\": {\n+        \"query\": [\"single_.*\", \"tpch_.*\"],\n+        \"schema\": [ \"tpch_sf(?<scale>.*)_(?<format>orc)_(?<compression>.*?)\" ],\n+        \"session\": {\n+            \"hive.optimized_reader_enabled\": \"false\"\n+        }\n+    }\n+}\n+```\n+\n+This example contains two suites `file_formats` and `legacy_orc`. The\n+`file_formats` suite runs queries with names matching the regular\n+expression `single_.*` or `tpch_.*` in all schemas matching the regular\n+expression `tpch_sf.*_.*_.*?`. The `legacy_orc` suite adds a session\n+property to disable the optimized ORC reader and only runs in the\n+`tpch_sf.*_orc_.*?` schema.\n+\n+Queries\n+-------\n+\n+The SQL files are contained in a directory named `sql` and must have the\n+`.sql` file extension. The name of the query is the name of the file\n+without the extension.\n+\n+Output\n+------\n+\n+The benchmark driver measures the wall time, total CPU time used by all\n+Presto processes and the CPU time used by the query. For each timing,\n+the driver reports median, mean and standard deviation of the query\n+runs. The difference between process and query CPU times is the query\n+overhead, which is normally from garbage collections. The following is\n+the output from the `file_formats` suite above:\n+\n+``` {.none}", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwNTI5MA==", "url": "https://github.com/trinodb/trino/pull/5109#discussion_r489805290", "bodyText": "This needs to point to Central for download..", "author": "mosabua", "createdAt": "2020-09-16T23:18:38Z", "path": "presto-benchmark-driver/README.md", "diffHunk": "@@ -0,0 +1,99 @@\n+# Benchmark Driver\n+\n+The benchmark driver can be used to measure the performance of queries\n+in a Presto cluster. We use it to continuously measure the performance\n+of the master branch.\n+\n+ Download the [Maven benchmark driver plugin][maven_download] for the same ", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwNTcxOA==", "url": "https://github.com/trinodb/trino/pull/5109#discussion_r489805718", "bodyText": "https://repo.maven.apache.org/maven2/io/prestosql/presto-benchmark-driver/", "author": "mosabua", "createdAt": "2020-09-16T23:19:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwNTI5MA=="}], "type": "inlineReview"}, {"oid": "0cf434b62576aad3f59a93cd3ca89b9023ab2195", "url": "https://github.com/trinodb/trino/commit/0cf434b62576aad3f59a93cd3ca89b9023ab2195", "message": "Move benchmark driver doc into README", "committedDate": "2020-09-17T16:08:46Z", "type": "commit"}, {"oid": "0cf434b62576aad3f59a93cd3ca89b9023ab2195", "url": "https://github.com/trinodb/trino/commit/0cf434b62576aad3f59a93cd3ca89b9023ab2195", "message": "Move benchmark driver doc into README", "committedDate": "2020-09-17T16:08:46Z", "type": "forcePushed"}, {"oid": "de6344cf3ef05945ccae2d3ea8eede414d52b1a7", "url": "https://github.com/trinodb/trino/commit/de6344cf3ef05945ccae2d3ea8eede414d52b1a7", "message": "Merge branch 'master' into benchmark-driver-readme", "committedDate": "2020-10-01T17:40:01Z", "type": "commit"}]}