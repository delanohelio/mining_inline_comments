{"pr_number": 4976, "pr_title": "Add 341 release notes", "pr_createdAt": "2020-08-26T01:21:18Z", "pr_url": "https://github.com/trinodb/trino/pull/4976", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwNDEyOQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477504129", "bodyText": "link to docs if there are any - if not ideally add minimal doc before release", "author": "mosabua", "createdAt": "2020-08-26T18:31:33Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE1MDU1Ng==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485150556", "bodyText": "We don't have any iceberg docs yet", "author": "martint", "createdAt": "2020-09-08T19:34:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwNDEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwODU4Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477508587", "bodyText": "`NULL`", "author": "mosabua", "createdAt": "2020-08-26T18:39:42Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NjY5Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482676697", "bodyText": "I might say:\n``ROW``, ``MAP`` and ``ARRAY``\n\ninstead of structural", "author": "dain", "createdAt": "2020-09-03T03:10:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwODU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwODg4Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477508882", "bodyText": "types ?", "author": "mosabua", "createdAt": "2020-08-26T18:40:14Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwOTE3MQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477509171", "bodyText": "\"long timestamp type\" -> timestamp with precision higher than .. ?", "author": "findepi", "createdAt": "2020-08-26T18:40:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwODg4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3Njk2NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482676964", "bodyText": "\"timestamp with a precision greater than 6\"?", "author": "dain", "createdAt": "2020-09-03T03:11:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwODg4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMDEwMA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477510100", "bodyText": "Did the docs for that get removed as well?", "author": "mosabua", "createdAt": "2020-08-26T18:42:35Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NzMwMQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482677301", "bodyText": "Yes, no references in the code base, other than the \"defunct\" declaration", "author": "dain", "createdAt": "2020-09-03T03:13:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMDEwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjUyMw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477512523", "bodyText": "Link to docs. I think there was a JMX doc PR around it.", "author": "mosabua", "createdAt": "2020-08-26T18:46:45Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjgwMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477512802", "bodyText": "Add link to doc (and merge pending PR if necessary)", "author": "mosabua", "createdAt": "2020-08-26T18:47:16Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3Mzk0OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482673949", "bodyText": "This PR just missed my update of my note in the issue.  Believe we will want:\n* Add :doc:`/security/salesforce` password authentication. ({issue}`4372`)\n\nbut I'm not sure hot that link will render exactly, so might need adjustment", "author": "dain", "createdAt": "2020-09-03T02:59:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjgwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzExOTU3OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483119579", "bodyText": "What's the equivalent of that syntax in markdown?", "author": "martint", "createdAt": "2020-09-03T16:48:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjgwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjk4Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477512983", "bodyText": "how? Link to docs..", "author": "mosabua", "createdAt": "2020-08-26T18:47:34Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3ODA5NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482678094", "bodyText": "This should be something like\nAdd support for interpolating :doc:`/security/secrets` into access-control.properties", "author": "dain", "createdAt": "2020-09-03T03:16:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjk4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMzI0MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477513240", "bodyText": "what does that do for the user?", "author": "mosabua", "createdAt": "2020-08-26T18:48:02Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3OTUzNw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482679537", "bodyText": "@mosabua I think it is just a completeness thing.  That method in the JDBC driver was not implemented and now it is", "author": "dain", "createdAt": "2020-09-03T03:22:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMzI0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNDU3Ng==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477514576", "bodyText": "timestamp", "author": "mosabua", "createdAt": "2020-08-26T18:50:33Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNTQxMA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477515410", "bodyText": "Move to documentation and link", "author": "mosabua", "createdAt": "2020-08-26T18:51:59Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp ", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY4MTE5Ng==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482681196", "bodyText": "I just merged the doc changes.  The link is connector/hive but I think it is good to have the info here also", "author": "dain", "createdAt": "2020-09-03T03:29:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNTQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzMwMDc2MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483300760", "bodyText": "I don't know how to link to that using the markdown sphinx syntax. @electrum?", "author": "martint", "createdAt": "2020-09-03T23:13:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNTQxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzMwNDE4OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483304189", "bodyText": "Figured it out.", "author": "martint", "createdAt": "2020-09-03T23:25:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNTQxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNjI1OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477516259", "bodyText": "after a minor table compaction.", "author": "mosabua", "createdAt": "2020-08-26T18:53:36Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor compaction. ({issue}`4622`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNjM1Ng==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477516356", "bodyText": "timestamp", "author": "mosabua", "createdAt": "2020-08-26T18:53:47Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor compaction. ({issue}`4622`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY4MTU0Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482681543", "bodyText": "We we need this given we are saying Add Iceberg connector above", "author": "dain", "createdAt": "2020-09-03T03:30:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNjM1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzNjc0MQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484336741", "bodyText": "I think we do not need this, as we are saying \"Add Iceberg connector\" above", "author": "findepi", "createdAt": "2020-09-07T10:15:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxNjM1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUzMTI1Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477531252", "bodyText": "Prometheus Connector Changes", "author": "mosabua", "createdAt": "2020-08-26T19:14:42Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor compaction. ({issue}`4622`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change the type of the `timestamp` column for tables in the `history` schema to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change the type of the `timestamp` column in the `http_request_log` table to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown:\n+  `count`,  `min`, `max`, `sum` and `avg`. ({issue}`4138`)\n+  \n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long \n+ pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. (:issue:`4947`)\n+ \n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries` \n+  config property. ({issue}`4723`)  \n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Changes", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzcyMDEyMA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477720120", "bodyText": "Probably, the related issue & PR is\n#2269\n#4772", "author": "ebyhr", "createdAt": "2020-08-27T00:00:42Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3OTcyMQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482679721", "bodyText": "Ya, the issue #2269 would be a good link", "author": "dain", "createdAt": "2020-09-03T03:23:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzcyMDEyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzc0NTc3Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r477745777", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Resilience to momentary JDBC connection authentication issues with Oracle. (:issue:`4947`)\n          \n          \n            \n            * Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)", "author": "ebyhr", "createdAt": "2020-08-27T00:14:36Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,138 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor compaction. ({issue}`4622`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change the type of the `timestamp` column for tables in the `history` schema to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change the type of the `timestamp` column in the `http_request_log` table to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown:\n+  `count`,  `min`, `max`, `sum` and `avg`. ({issue}`4138`)\n+  \n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long \n+ pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. (:issue:`4947`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NDU3OA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482674578", "bodyText": "I'd put this next to the TIME item", "author": "dain", "createdAt": "2020-09-03T03:02:32Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NDg2Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482674862", "bodyText": "I don't think this is user visible", "author": "dain", "createdAt": "2020-09-03T03:03:44Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MDE3MQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482690171", "bodyText": "Correct. There are two user-facing follow ups this allows us to do. Exposing physical data read in the CLI (WIP) and exposing the physical data read in all the other language clients (to be started).", "author": "hashhar", "createdAt": "2020-09-03T04:03:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NDg2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NTIzMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482675232", "bodyText": "I don't thin this is user visible", "author": "dain", "createdAt": "2020-09-03T03:05:03Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzNjQ4NQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485136485", "bodyText": "It's part of query stats JSON. Is that considered user visible?", "author": "sopel39", "createdAt": "2020-09-08T19:07:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NTIzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE0MjQ1OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485142459", "bodyText": "The query stats JSON is an implementation detail, not meant for general user consumption.", "author": "martint", "createdAt": "2020-09-08T19:19:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NTIzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NjA4NQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482676085", "bodyText": "\"Improve latency of lazy dynamic filters in some cases\"?  Or maybe just drop", "author": "dain", "createdAt": "2020-09-03T03:08:33Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) ", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIxODUzMA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483218530", "bodyText": "Or \"Improve latency when dynamic filtering is in use\" ?", "author": "martint", "createdAt": "2020-09-03T19:53:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NjA4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzNzQ3MQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485137471", "bodyText": "Let's drop it. It's too vague.", "author": "sopel39", "createdAt": "2020-09-08T19:09:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3NjA4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY3OTEyMA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482679120", "bodyText": "May say something like\n* Add user mapping configuration to preserve, lower case or upper case user names", "author": "dain", "createdAt": "2020-09-03T03:20:40Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Allow to lowercase/uppercase matched user name in user mapping. ({issue}`4736`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY4MjYyNQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482682625", "bodyText": "@martint this should be updated to include the changes from mills to micros", "author": "dain", "createdAt": "2020-09-03T03:34:35Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Allow to lowercase/uppercase matched user name in user mapping. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor compaction. ({issue}`4622`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change the type of the `timestamp` column for tables in the `history` schema to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change the type of the `timestamp` column in the `http_request_log` table to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown:\n+  `count`,  `min`, `max`, `sum` and `avg`. ({issue}`4138`)\n+  \n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long \n+ pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+ \n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries` \n+  config property. ({issue}`4723`)  \n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Changes\n+\n+* Change the type of the `timestamp` column to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Improve performance of aggregation queries with predicates (the `WHERE` clause) by computing both filtering and\n+  aggregations within PostgreSQL database where possible. ({issue}`4111`)\n+* Fix handling of PostgreSQL arrays when `unsupported-type-handling` is set to `CONVERT_TO_VARCHAR`. ({issue}`4981`)\n+\n+## Raptor Connector Changes\n+\n+* Change timestamp internal storage to match Presto new semantics. Tables containing timestamp data written by a client not running in UTC \n+  will see timestamps adjusted to UTC. ({issue}`4799`)\n+* Remove the `storage.shard-day-boundary-time-zone` configuration property, which was used to work around legacy timestamp semantics in \n+  Presto. ({issue}`4799`)\n+\n+## Redis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## SPI Changes\n+\n+* The `TIMESTAMP` type is encoded as a number of fractional seconds from `1970-01-01 00:00:00`, where every day is defined to contain ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTI5NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482691294", "bodyText": "This is less about performance than about cost. We used to fetch 128 partitions per API call to Glue. We now fetch 1000. The query planning performance difference with and without patch was ~<5s (out of around 3m planning time, so... negligible).\nThis does lower cost and help avoid running into rate-limits. Not sure how that should be conveyed in release notes.", "author": "hashhar", "createdAt": "2020-09-03T04:08:40Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Allow to lowercase/uppercase matched user name in user mapping. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNDQ5Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485214492", "bodyText": "@hashhar how about\n* Decrease the number of requests to the Glue metastore when fetching partitions.\n  This helps avoid hitting rate limits and decreases service costs. ({issue}`4938`)", "author": "electrum", "createdAt": "2020-09-08T21:47:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTI5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIyNjI2NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485226264", "bodyText": "Although, not hitting a rate-limits does help performance.", "author": "dain", "createdAt": "2020-09-08T22:18:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTI5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTY5MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482691690", "bodyText": "match new Presto semantics or maybe match Presto's new semantics ?", "author": "hashhar", "createdAt": "2020-09-03T04:10:14Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying long timestamp type. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session \n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Allow to configure refresh period for system level access control with environment variables. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Allow to lowercase/uppercase matched user name in user mapping. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`) \n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp \n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for \n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time \n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor compaction. ({issue}`4622`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change the type of the `timestamp` column for tables in the `history` schema to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change the type of the `timestamp` column in the `http_request_log` table to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown:\n+  `count`,  `min`, `max`, `sum` and `avg`. ({issue}`4138`)\n+  \n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long \n+ pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+ \n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries` \n+  config property. ({issue}`4723`)  \n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Changes\n+\n+* Change the type of the `timestamp` column to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Improve performance of aggregation queries with predicates (the `WHERE` clause) by computing both filtering and\n+  aggregations within PostgreSQL database where possible. ({issue}`4111`)\n+* Fix handling of PostgreSQL arrays when `unsupported-type-handling` is set to `CONVERT_TO_VARCHAR`. ({issue}`4981`)\n+\n+## Raptor Connector Changes\n+\n+* Change timestamp internal storage to match Presto new semantics. Tables containing timestamp data written by a client not running in UTC ", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjkyNjI3Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r482926277", "bodyText": "missing dot", "author": "losipiuk", "createdAt": "2020-09-03T12:05:24Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,143 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Expose physical input bytes read statistics. ({issue}`4600`}\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency of how fast lazy dynamic filters are collected. ({issue}`4924`) \n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of NULL values in structural types for old Presto clients ({issue}`4778`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIyMjY5NQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483222695", "bodyText": "Add:\n - Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)", "author": "kokosing", "createdAt": "2020-09-03T20:02:24Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,156 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Add support for interpolating secrets into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary configuration properties `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC configuration property `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIyMzA3Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483223077", "bodyText": "I am not familiar with the word interpolating in this context. Is it used typically for that?", "author": "kokosing", "createdAt": "2020-09-03T20:03:15Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,156 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds`. ({issue}`4344`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add `optimizer_rule_stats` system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+\n+## Security Changes\n+\n+* Add Salesforce password authentication. ({issue}`4372`)\n+* Add support for interpolating secrets into access-control.properties. ({issue}`4854`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIyNTUzMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r483225532", "bodyText": "Yes, it comes from the \"string interpolation\" concept in many programming languages: https://en.wikipedia.org/wiki/String_interpolation", "author": "martint", "createdAt": "2020-09-03T20:08:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIyMzA3Nw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA4MzE2Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484083163", "bodyText": "Would be good to explain why. For example, if previous version had correctness issues due to this, etc.", "author": "findepi", "createdAt": "2020-09-06T15:27:59Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA4NjU5Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485086592", "bodyText": "@electrum", "author": "martint", "createdAt": "2020-09-08T17:33:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA4MzE2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxMjgxNQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485212815", "bodyText": "This is complicated to explain succinctly. The bucketing hash output is dependent on the Hive JVM timezone. I'm not sure how to talk about this without getting into technical specifics.", "author": "electrum", "createdAt": "2020-09-08T21:43:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA4MzE2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxMzc1MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485213750", "bodyText": "* Remove support for bucketing on timestamp. The definition of the hash function for timestamp\n  incorrectly depends on the storage time zone and can result in incorrect results. ({issue}`4759`)", "author": "electrum", "createdAt": "2020-09-08T21:45:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA4MzE2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyNTcyOA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484325728", "bodyText": "\"Reduce\"?", "author": "findepi", "createdAt": "2020-09-07T09:55:21Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyNTc3MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484325770", "bodyText": "reminder", "author": "findepi", "createdAt": "2020-09-07T09:55:24Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyNjU5NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484326594", "bodyText": "37 may be a good link\n(the 4799 is the right link in connector specific sections)", "author": "findepi", "createdAt": "2020-09-07T09:56:47Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyNjgwNA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484326804", "bodyText": "37 may be a good link", "author": "findepi", "createdAt": "2020-09-07T09:57:09Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyNzg3Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484327873", "bodyText": "join queries -> certain join queries?\nif i understand, this was rather an edge case?", "author": "findepi", "createdAt": "2020-09-07T09:58:59Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA4NzI3NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485087274", "bodyText": "Yes, it's an edge case", "author": "martint", "createdAt": "2020-09-08T17:35:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyNzg3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyODQyMQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484328421", "bodyText": "We no longer keep fixes first?", "author": "findepi", "createdAt": "2020-09-07T09:59:51Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE1MjAwNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485152006", "bodyText": "We've been highlighting new features and improvements first in the last few releases.", "author": "martint", "createdAt": "2020-09-08T19:37:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyODQyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyOTI4Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484329283", "bodyText": "DeepArchive -> S3 DeepArchive ?", "author": "findepi", "createdAt": "2020-09-07T10:01:25Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyOTcwOA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484329708", "bodyText": "Can we say what's the user visible impact of the change, in case user does not fully appreciate what the staging directory is?", "author": "findepi", "createdAt": "2020-09-07T10:02:11Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA4ODY3NQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485088675", "bodyText": "@kokosing", "author": "martint", "createdAt": "2020-09-08T17:37:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyOTcwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwODY1MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485208650", "bodyText": "* Use a temporary staging directory for temporary files when writing to sorted bucketed tables.\n  This allows using a more efficient file system for temporary files. ({issue}`3434`)", "author": "electrum", "createdAt": "2020-09-08T21:34:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyOTcwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxMjAyNQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485212025", "bodyText": "in case user does not fully appreciate what the staging directory is?\n\nMaybe we should explain what staging is in the docs first? Then we could reference that here. Do we need that? If user does not care (or know) about staging then I guess they might just ignore it.", "author": "kokosing", "createdAt": "2020-09-08T21:41:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMyOTcwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMDU1NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484330554", "bodyText": "The bullet for Parquet and RCBinary nicely tells when to set it.\nCan we do the same here (& hive.rst) ?", "author": "findepi", "createdAt": "2020-09-07T10:03:45Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA4ODg4Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485088883", "bodyText": "@dain", "author": "martint", "createdAt": "2020-09-08T17:38:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMDU1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE1ODYzNA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485158634", "bodyText": "Generally you don't set it.  The default value is the right value for most cases (JVM default time zone)", "author": "dain", "createdAt": "2020-09-08T19:50:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMDU1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMDg3Ng==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484330876", "bodyText": "format specific properties\n->\nformat specific properties: hive.orc.time-zone, hive.parquet.time-zone, hive.rcfile.time-zone.", "author": "findepi", "createdAt": "2020-09-07T10:04:23Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMDk4OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484330989", "bodyText": "s3 -> S3 ?", "author": "findepi", "createdAt": "2020-09-07T10:04:34Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMTUzMQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484331531", "bodyText": "RC text too?", "author": "findepi", "createdAt": "2020-09-07T10:05:33Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA5MDIxMQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485090211", "bodyText": "@dain", "author": "martint", "createdAt": "2020-09-08T17:40:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMTUzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE2OTk0Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485169947", "bodyText": "No.  RC text is our custom version and it properly implemented this", "author": "dain", "createdAt": "2020-09-08T20:12:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMTUzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMTcwMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484331702", "bodyText": "a ORC -> an ORC", "author": "findepi", "createdAt": "2020-09-07T10:05:53Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzMjQxMQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484332411", "bodyText": "we decided that the fact Rubix is used is an implementation detail and user should not be concerned, just the same way as we treat Airlift.\nRubix caching -> Storage Caching\nThis is how we call it @ https://prestosql.io/docs/current/connector/hive-caching.html", "author": "findepi", "createdAt": "2020-09-07T10:07:14Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzNzQwMA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484337400", "bodyText": "Here & elsehwere -- I think we have always written Presto types as `lowercase`, haven't we?", "author": "findepi", "createdAt": "2020-09-07T10:16:38Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA5MDg0NA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485090844", "bodyText": "Not really. We've been inconsistent about it.", "author": "martint", "createdAt": "2020-09-08T17:41:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzNzQwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODA2Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484338062", "bodyText": "Worth mentioning the default value of 20m", "author": "findepi", "createdAt": "2020-09-07T10:17:52Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. ({issue}`4779`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODI0Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484338247", "bodyText": "globalization -> internationalization ?", "author": "findepi", "createdAt": "2020-09-07T10:18:19Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODUyOQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484338529", "bodyText": "pushdown predicates -> push predicates down ?", "author": "findepi", "createdAt": "2020-09-07T10:18:50Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly pushdown predicates for queries where number of conjuncts exceeded 1000. Previously query", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM0MTI1Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484341257", "bodyText": "is \"fractional seconds\" a valid term?", "author": "findepi", "createdAt": "2020-09-07T10:24:08Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly pushdown predicates for queries where number of conjuncts exceeded 1000. Previously query\n+  would fail in such case. ({issue}`4918`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries`\n+  config property. ({issue}`4723`)\n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Connector Changes\n+\n+* Change the type of the `timestamp` column to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Improve performance of aggregation queries with predicates (the `WHERE` clause) by computing both filtering and\n+  aggregations within PostgreSQL database where possible. ({issue}`4111`)\n+* Fix handling of PostgreSQL arrays when `unsupported-type-handling` is set to `CONVERT_TO_VARCHAR`. ({issue}`4981`)\n+\n+## Raptor Connector Changes\n+\n+* Change timestamp internal storage to match new Presto semantics. Tables containing timestamp data written by a client not running in UTC\n+  will see timestamps adjusted to UTC. ({issue}`4799`)\n+* Remove the `storage.shard-day-boundary-time-zone` configuration property, which was used to work around legacy timestamp semantics in\n+  Presto. ({issue}`4799`)\n+\n+## Redis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## SPI Changes\n+\n+* The `TIMESTAMP` type is encoded as a number of fractional seconds from `1970-01-01 00:00:00`, where every day is defined to contain", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA5MjQ1OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485092459", "bodyText": "Yes (vs \"whole seconds\"). What feels weird about it?", "author": "martint", "createdAt": "2020-09-08T17:44:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM0MTI1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM0MjA1OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r484342059", "bodyText": "day is defined to contain exactly 86400 seconds\n\nThis has always been so, so can be omitted here.\nif you want to recap on the semantics, you must mention also the calendar in use (the proleptic Gregorian calendar).", "author": "findepi", "createdAt": "2020-09-07T10:25:41Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,164 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Improve latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`4799`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`4799`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with the format specific properties. ({issue}`4799`)\n+* Allow to optionally use cluster role in s3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading a ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if Rubix caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+\n+## Iceberg Connector Changes\n+\n+* Skip stripes and row group based on Timestamp statistics for ORC files. ({issue}`1147`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. ({issue}`4779`)\n+* Add support for database globalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly pushdown predicates for queries where number of conjuncts exceeded 1000. Previously query\n+  would fail in such case. ({issue}`4918`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries`\n+  config property. ({issue}`4723`)\n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Connector Changes\n+\n+* Change the type of the `timestamp` column to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Improve performance of aggregation queries with predicates (the `WHERE` clause) by computing both filtering and\n+  aggregations within PostgreSQL database where possible. ({issue}`4111`)\n+* Fix handling of PostgreSQL arrays when `unsupported-type-handling` is set to `CONVERT_TO_VARCHAR`. ({issue}`4981`)\n+\n+## Raptor Connector Changes\n+\n+* Change timestamp internal storage to match new Presto semantics. Tables containing timestamp data written by a client not running in UTC\n+  will see timestamps adjusted to UTC. ({issue}`4799`)\n+* Remove the `storage.shard-day-boundary-time-zone` configuration property, which was used to work around legacy timestamp semantics in\n+  Presto. ({issue}`4799`)\n+\n+## Redis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## SPI Changes\n+\n+* The `TIMESTAMP` type is encoded as a number of fractional seconds from `1970-01-01 00:00:00`, where every day is defined to contain\n+  exactly 86400 seconds. This value is no longer adjusted to the session time zone. Timestamps with precision less than or equal to 3", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5Mzk0MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485193940", "bodyText": "reverse is rendered differently to to other function links for some reason:", "author": "losipiuk", "createdAt": "2020-09-08T21:01:34Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5NTM0MQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485195341", "bodyText": "Yes, that's because I had to link to it as a regular reference. There are multiple versions of reverse and a {func} link ends up pointing at the wrong one.", "author": "martint", "createdAt": "2020-09-08T21:04:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5Mzk0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5NTA2OA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485195068", "bodyText": "Should we abbreviate \"statistics\" in this context. I think it is fine in config param/function/table name. But i would keep whole word in a description sentence.", "author": "losipiuk", "createdAt": "2020-09-08T21:04:05Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters stats. ({issue}`4440`)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5NTkxOQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485195919", "bodyText": "Fixed", "author": "martint", "createdAt": "2020-09-08T21:05:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5NTA2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTIyOA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485199228", "bodyText": "This is strange to have it between other \"Fix\" items. Move it above is better since it's a behaviorial change.", "author": "electrum", "createdAt": "2020-09-08T21:13:13Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0ODExNA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485248114", "bodyText": "Well, it's technically a fix, even though it's not phrase that way. It fixes incorrect timestamp semantics.", "author": "martint", "createdAt": "2020-09-08T23:22:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTIyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTQyNQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485199425", "bodyText": "Let's reorder these:\n\nReport ...\nImprove ...\nRemove ...", "author": "electrum", "createdAt": "2020-09-08T21:13:40Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTY5Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485199692", "bodyText": "Move this above other fix items", "author": "electrum", "createdAt": "2020-09-08T21:14:15Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTg3Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485199872", "bodyText": "Use function link\n{func}`extract`", "author": "electrum", "createdAt": "2020-09-08T21:14:38Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTk1Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485199952", "bodyText": "Single backtick", "author": "electrum", "createdAt": "2020-09-08T21:14:48Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwMDQ2Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485200462", "bodyText": "* Fix issue where the `query_max_scan_physical_bytes` session property was ignored if\n  the `query.max-scan-physical-bytes` configuration property was not defined. ({issue}`5009`)", "author": "electrum", "createdAt": "2020-09-08T21:15:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE5OTk1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwMTQwNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485201406", "bodyText": "The grammar is bad and I don't understand what this means. I think it's trying to say\n* Correctly compute sample ratio when `TABLESAMPLE` is used with a fractional percentage. ({issue}`5074`)", "author": "electrum", "createdAt": "2020-09-08T21:17:52Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwMjE0MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485202140", "bodyText": "* Fail queries with a proper error message when `TABLESAMPLE` is used with a non-numeric sample ratio. ({issue}`5074`)", "author": "electrum", "createdAt": "2020-09-08T21:19:28Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwMzUyMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485203522", "bodyText": "* Add support for interpolating [secrets](/security/secrets) into `access-control.properties`. ({issue}`4854`)", "author": "electrum", "createdAt": "2020-09-08T21:22:31Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNDgyNA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485204824", "bodyText": "* Add {doc}`/security/user-mapping` support for uppercasing or lowercasing usernames. ({issue}`4736`)", "author": "electrum", "createdAt": "2020-09-08T21:25:26Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNTAxNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485205016", "bodyText": "* Fix display of physical input read time in detailed query view. ({issue}`4962`)", "author": "electrum", "createdAt": "2020-09-08T21:25:49Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNTMwOA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485205308", "bodyText": "* Add support for hourly partitioned tables. ({issue}`4968`)", "author": "electrum", "createdAt": "2020-09-08T21:26:34Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNTcyNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485205726", "bodyText": "* Redact the value of `bigquery.credentials-key` in the server log. ({issue}`4968`)", "author": "electrum", "createdAt": "2020-09-08T21:27:31Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNjAyMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485206022", "bodyText": "group -> groups", "author": "electrum", "createdAt": "2020-09-08T21:28:12Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwNjk0OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485206949", "bodyText": "* Skip S3 objects with the `DeepArchive` storage class (in addition to the `Glacier`\n  storage class) when `hive.s3.skip-glacier-objects` is enabled. ({issue}`5002`)", "author": "electrum", "createdAt": "2020-09-08T21:30:15Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwOTI2MA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485209260", "bodyText": "* Fix metastore cache invalidation for `GRANT` and `REVOKE`. ({issue}`4768`)", "author": "electrum", "createdAt": "2020-09-08T21:35:33Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwOTUzMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485209532", "bodyText": "Please wrap to 80-100 characters", "author": "electrum", "createdAt": "2020-09-08T21:36:09Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIwOTk3Mg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485209972", "bodyText": "This wrapping is weird. It's better to balance the text rather than having a few characters on the last line.", "author": "electrum", "createdAt": "2020-09-08T21:37:10Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxMTYyNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485211626", "bodyText": "* Allow using the cluster default role with S3 security mapping. ({issue}`4931`)", "author": "electrum", "createdAt": "2020-09-08T21:40:44Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNTc5OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485215799", "bodyText": "* Match the existing user and group of the table or partition when creating new files on HDFS. ({issue}`4414`)", "author": "electrum", "createdAt": "2020-09-08T21:50:22Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNjIzNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485216236", "bodyText": "SequenceFile is one word", "author": "electrum", "createdAt": "2020-09-08T21:51:27Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNjQ0OA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485216448", "bodyText": "* Fix query failure when reading an ORC ACID table with a filter after the table underwent a minor table compaction. ({issue}`4622`)", "author": "electrum", "createdAt": "2020-09-08T21:52:00Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNjY1Mw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485216653", "bodyText": "* Fix query failure when storage caching is enabled and cached data is evicted during query execution. ({issue}`3580`)", "author": "electrum", "createdAt": "2020-09-08T21:52:33Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNzQwNQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485217405", "bodyText": "Move this to be next to the other related one\n* Fix incorrect query results when reading an ORC ACID table that has deleted rows and underwent a minor compaction. ({issue}`4623`)", "author": "electrum", "createdAt": "2020-09-08T21:54:38Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNzgyNg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485217826", "bodyText": "* Improve performance of aggregation queries by pushing the aggregation computation into the MySQL database.", "author": "electrum", "createdAt": "2020-09-08T21:55:38Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxNzk4Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485217987", "bodyText": "config -> configuration", "author": "electrum", "createdAt": "2020-09-08T21:56:01Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxODMwMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485218302", "bodyText": "* Add resilience to momentary connection authentication issues. ({issue}`4947`)", "author": "electrum", "createdAt": "2020-09-08T21:56:49Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. It defaults to 20 minutes. ({issue}`4779`)\n+* Add support for database internationalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxODc5OQ==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485218799", "bodyText": "* Allowing forcing the mapping of certain types to ``varchar``. This can be enabled by\n  setting the ``jdbc-types-mapped-to-varchar`` configuration property to a comma-separated\n  list of type names. ({issue}`4955`)", "author": "electrum", "createdAt": "2020-09-08T21:58:05Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. It defaults to 20 minutes. ({issue}`4779`)\n+* Add support for database internationalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIzOTAxNw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485239017", "bodyText": "* Prevent query failure for pushdown of predicates involving a large number of conjuncts. ({issue}`4918`)", "author": "electrum", "createdAt": "2020-09-08T22:53:58Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. It defaults to 20 minutes. ({issue}`4779`)\n+* Add support for database internationalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly push predicates down for queries where number of conjuncts exceeded 1000. Previously query", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIzOTEzOA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485239138", "bodyText": "config -> configuration", "author": "electrum", "createdAt": "2020-09-08T22:54:19Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. It defaults to 20 minutes. ({issue}`4779`)\n+* Add support for database internationalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly push predicates down for queries where number of conjuncts exceeded 1000. Previously query\n+  would fail in such case. ({issue}`4918`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries`\n+  config property. ({issue}`4723`)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDEyMw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485240123", "bodyText": "* Improve performance of aggregation queries with predicates by pushing the computation\n  of both the filtering and aggregations into the PostgreSQL server where possible. ({issue}`4111`)", "author": "electrum", "createdAt": "2020-09-08T22:57:19Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. It defaults to 20 minutes. ({issue}`4779`)\n+* Add support for database internationalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly push predicates down for queries where number of conjuncts exceeded 1000. Previously query\n+  would fail in such case. ({issue}`4918`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries`\n+  config property. ({issue}`4723`)\n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Connector Changes\n+\n+* Change the type of the `timestamp` column to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Improve performance of aggregation queries with predicates (the `WHERE` clause) by computing both filtering and", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY3Nw==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485240677", "bodyText": "This is out of date with the new microsecond changes. Any tables containing timestamps need to be rewritten entirely. It's actually a different PR number, since the microsecond PR would cause such tables to be completely different.", "author": "electrum", "createdAt": "2020-09-08T22:59:09Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.\n+* Add {func}`human_readable_seconds` function. ({issue}`4344`)\n+* Add [`reverse()`](function_reverse_varbinary) function for `VARBINARY`. ({issue}`4741`)\n+* Add support for {func}`extract` for `timestamp(p) with time zone` with values of `p` other than 3. ({issue}`4867`)\n+* Add support for correlated subqueries in recursive queries. ({issue}`4877`)\n+* Add [](optimizer_rule_stats) system table. ({issue}`4659`)\n+* Remove support for political time zones in `TIME WITH TIME ZONE` type. ({issue}`191`)\n+* Report dynamic filters statistics. ({issue}`4440`)\n+* Improve query scalability when new nodes are added to cluster. ({issue}`4294`)\n+* Reduce latency when dynamic filtering is in use. ({issue}`4924`)\n+* Improve error message when JSON parsing fails. ({issue}`4616`)\n+* Remove deprecated `reorder_joins` session property. ({issue}`5027`)\n+* Remove the `deprecated.legacy-timestamp` configuration property and the `legacy_timestamp` session property. ({issue}`4799`)\n+* Fix serialization of `NULL` values in `ROW`, `MAP` and `ARRAY` types for old Presto clients. ({issue}`4778`)\n+* Fix failure when aggregation query contains duplicate expressions. ({issue}`4872`)\n+* Fix compiler failure when querying timestamps with a precision greater than 6. ({issue}`4824`)\n+* Change timestamp operations to match the SQL specification. The value of a `TIMESTAMP` type is not affected by the session\n+  time zone. ({issue}`37`)\n+* Fix parsing failure of timestamps due to daylight saving changes. ({issue}`37`)\n+* Preserve precision when applying `AT TIME ZONE` to values of type `TIMESTAMP`. ({issue}`4866`)\n+* Fix failure when calling `EXTRACT` with `TIMEZONE_HOUR` and `TIMEZONE_MINUTE` for `TIMESTAMP WITH TIME ZONE` type. ({issue}`4867`)\n+* Fix query deadlock for connectors that wait for dynamic filters. ({issue}`4946`)\n+* Fix failure when `TIME` or `TIMESTAMP` subtraction returns a negative value. ({issue}`4847`)\n+* Fix failure when duplicate expressions appear in `DISTINCT` clause. ({issue}`4787`)\n+* Fix failure for certain join queries during spilling or when available memory is low. ({issue}`4994`)\n+* Fix issue where ``query_max_scan_physical_bytes`` session property was ignored if\n+  ``query.max-scan-physical-bytes`` config property was not defined. ({issue}`5009`)\n+* Fix incorrect sampling ratio when `TABLESAMPLE` is used with percentage fraction. ({issue}`5074`)\n+* Correct rejecting queries using `TABLESAMPLE` with ratio being not a number. ({issue}`5074`)\n+* Fail with an explicit error rather than `OutOfMemoryError` for certain operations. ({issue}`4890`)\n+\n+## Security Changes\n+\n+* Add [Salesforce password authentication](/security/salesforce). ({issue}`4372`)\n+* Add support for interpolating [secrets](/security/secrets) into access-control.properties. ({issue}`4854`)\n+* Only request HTTPS client certificate when certificate authentication is enabled. ({issue}`4804`)\n+* Add user mapping configuration to preserve lower case or upper case user names. ({issue}`4736`)\n+\n+## Web UI\n+\n+* Fix displaying physical input read time in detailed query view. ({issue}`4962`)\n+\n+## JDBC Driver Changes\n+\n+* Implement `ResultSet.getStatement()`. ({issue}`4957`)\n+\n+## BigQuery Connector Changes\n+\n+* Add support for HOURLY partitioning of tables. ({issue}`4968`)\n+* Redact value of `bigquery.credentials-key` from logs. ({issue}`4968`)\n+\n+## Cassandra Connector Changes\n+\n+* Map Cassandra `TIMESTAMP` type to Presto `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`2269`)\n+\n+## Hive Connector Changes\n+\n+* Skip stripes and row group based on timestamp statistics for ORC files. ({issue}`1147`)\n+* Skip S3 DeepArchive objects when `skip-glacier-objects` is set. ({issue}`5002`)\n+* Use temporary staging directory for write operation to sorted bucketed table. ({issue}`3434`)\n+* Invalidate cached information on `GRANT` and `REVOKE`. ({issue}`4768`)\n+* Add Parquet and RCBinary [configuration properties](hive_configuration_properties) `hive.parquet.time-zone` and `hive.rcfile.time-zone` to adjust binary timestamp\n+  values to a specific time zone. For Hive 3.1+, this should be set to UTC. The default value is the JVM default time zone, for\n+  backwards compatibility with earlier versions of Hive. ({issue}`4799`)\n+* Add ORC [configuration property](hive_configuration_properties) `hive.orc.time-zone` to set the default time zone for legacy ORC files that did not declare a time\n+  zone. ({issue}`4799`)\n+* Replace the `hive.time-zone` configuration property with format specific properties: `hive.orc.time-zone`, \n+  `hive.parquet.time-zone`, `hive.rcfile.time-zone`. ({issue}`4799`)\n+* Allow to optionally use cluster role in S3 mapping. ({issue}`4931`)\n+* Remove support for bucketing on timestamp. ({issue}`4759`)\n+* Improve performance of partition fetching from Glue. ({issue}`4938`)\n+* Set user and group for new files on HDFS when writing to a table, to match table's (or partition's) user and group. ({issue}`4414`)\n+* Fix invalid timestamp values for nested data in Text, Avro, Sequence File, JSON and CSV formats. ({issue}`4799`)\n+* Fix query failure when reading an ORC ACID table with a filter, after the table underwent a minor table compaction. ({issue}`4622`)\n+* Fix issue where queries could fail if storage caching was used and cached data was evicted during query execution. ({issue}`3580`)\n+* Fix incorrect results when filtering on columns of `TIMESTAMP` type. ({issue}`5083`)\n+* Fix incorrect query results when reading an ORC ACID table after the table had rows deleted underwent a minor compaction. ({issue}`4623`)\n+\n+## JMX Connector Changes\n+\n+* Change `timestamp` column type in history tables to `TIMESTAMP WITH TIME ZONE`. ({issue}`4753`)\n+\n+## Kafka Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kinesis Connector Changes\n+\n+* Preserve time zone when parsing `TIMESTAMP WITH TIME ZONE` values. ({issue}`4799`)\n+\n+## Kudu Connector Changes\n+\n+* Fix delete when applied on table having primary key of decimal type. ({issue}`4683`)\n+\n+## Local File Connector Changes\n+\n+* Change `timestamp` column type to `TIMESTAMP WITH TIME ZONE`. ({issue}`4752`)\n+\n+## MySQL Connector Changes\n+\n+* Improve performance of aggregation queries by computing aggregations within MySQL database.\n+  Currently, the following aggregate functions are eligible for pushdown: `count`,  `min`, `max`,\n+  `sum` and `avg`. ({issue}`4138`)\n+\n+## Oracle Connector Changes\n+\n+* Add `oracle.connection-pool.inactive-timeout` config property to specify how long\n+  pooled connection can be inactive before it is closed. It defaults to 20 minutes. ({issue}`4779`)\n+* Add support for database internationalization. ({issue}`4775`)\n+* Resilience to momentary JDBC connection authentication issues with Oracle. ({issue}`4947`)\n+* Add possibility to force mapping of certain types to ``varchar``. This can be enabled\n+  by setting ``jdbc-types-mapped-to-varchar`` to comma-separated list of type names. ({issue}`4955`)\n+* Properly push predicates down for queries where number of conjuncts exceeded 1000. Previously query\n+  would fail in such case. ({issue}`4918`)\n+\n+## Phoenix Connector Changes\n+\n+* Fix overwriting of former value when insert is applied without specifying that column. ({issue}`4670`)\n+\n+## Pinot Connector Changes\n+\n+* Add support for `REAL` and `INTEGER` types. ({issue}`4725`)\n+* Add support for functions in pass-through queries. ({issue}`4801`)\n+* Enforce a limit on the number of rows fetched from Pinot. This can be configured via the `pinot.max-rows-per-split-for-segment-queries`\n+  config property. ({issue}`4723`)\n+* Fix incorrect results for `count(*)` queries. ({issue}`4802`)\n+* Fix incorrect results for queries involving {func}`avg` over columns of type `long`, `int`, or `float`. ({issue}`4802`)\n+* Fix incorrect results when columns in pass-through query do not match selected columns. ({issue}`4802`)\n+\n+## Prometheus Connector Changes\n+\n+* Change the type of the `timestamp` column to `TIMESTAMP(3) WITH TIME ZONE` type. ({issue}`4799`)\n+\n+## PostgreSQL Connector Changes\n+\n+* Improve performance of aggregation queries with predicates (the `WHERE` clause) by computing both filtering and\n+  aggregations within PostgreSQL database where possible. ({issue}`4111`)\n+* Fix handling of PostgreSQL arrays when `unsupported-type-handling` is set to `CONVERT_TO_VARCHAR`. ({issue}`4981`)\n+\n+## Raptor Connector Changes\n+\n+* Change timestamp internal storage to match new Presto semantics. Tables containing timestamp data written by a client not running in UTC", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1MzcwMg==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485253702", "bodyText": "What's the suggestion? Remove it?", "author": "martint", "createdAt": "2020-09-08T23:41:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1NTEwOA==", "url": "https://github.com/trinodb/trino/pull/4976#discussion_r485255108", "bodyText": "We can link now\n* Add {doc}`/connector/iceberg`.", "author": "electrum", "createdAt": "2020-09-08T23:46:05Z", "path": "presto-docs/src/main/sphinx/release/release-341.md", "diffHunk": "@@ -0,0 +1,163 @@\n+# Release 341 (XX Aug 2020)\n+\n+## General Changes\n+\n+* Add support for variable-precision `TIME` type. ({issue}`4381`)\n+* Add support for variable precision `TIME WITH TIME ZONE` type. ({issue}`4905`)\n+* Add Iceberg connector.", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "3271fb9cc23cd3d447f212e345bd49c5971ae4d4", "url": "https://github.com/trinodb/trino/commit/3271fb9cc23cd3d447f212e345bd49c5971ae4d4", "message": "Add 341 release notes", "committedDate": "2020-09-08T23:57:41Z", "type": "commit"}, {"oid": "3271fb9cc23cd3d447f212e345bd49c5971ae4d4", "url": "https://github.com/trinodb/trino/commit/3271fb9cc23cd3d447f212e345bd49c5971ae4d4", "message": "Add 341 release notes", "committedDate": "2020-09-08T23:57:41Z", "type": "forcePushed"}]}