{"pr_number": 3644, "pr_title": "Document support for insecure LDAP connection", "pr_createdAt": "2020-05-06T11:15:11Z", "pr_url": "https://github.com/trinodb/trino/pull/3644", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNjY3MA==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421036670", "bodyText": "Remove ODBC driver since there is no open source ODBC driver. Make the JDBC driver mention a link.", "author": "mosabua", "createdAt": "2020-05-06T19:24:56Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -2,12 +2,11 @@\n LDAP Authentication\n ===================\n \n-Presto can be configured to enable frontend LDAP authentication over\n-HTTPS for clients, such as the :ref:`cli_ldap`, or the JDBC and ODBC\n-drivers. At present, only simple LDAP authentication mechanism involving\n-username and password is supported. The Presto client sends a username\n-and password to the coordinator, and the coordinator validates these\n-credentials using an external LDAP service.\n+Presto can be configured to enable frontend LDAP authentication for clients,\n+such as the :ref:`cli_ldap`, or the JDBC and ODBC drivers. At present, only", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTI3MjYxMw==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421272613", "bodyText": "Let\u2019s leave this alone for now. Changing the text here for ODBC is out of scope for unsecured LDAP.", "author": "electrum", "createdAt": "2020-05-07T06:41:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNjY3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNjg5MQ==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421036891", "bodyText": "Also remove \"At present,\"", "author": "mosabua", "createdAt": "2020-05-06T19:25:21Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -2,12 +2,11 @@\n LDAP Authentication\n ===================\n \n-Presto can be configured to enable frontend LDAP authentication over\n-HTTPS for clients, such as the :ref:`cli_ldap`, or the JDBC and ODBC\n-drivers. At present, only simple LDAP authentication mechanism involving\n-username and password is supported. The Presto client sends a username\n-and password to the coordinator, and the coordinator validates these\n-credentials using an external LDAP service.\n+Presto can be configured to enable frontend LDAP authentication for clients,\n+such as the :ref:`cli_ldap`, or the JDBC and ODBC drivers. At present, only", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNzYxNQ==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421037615", "bodyText": "The URL to the LDAP server. The URL scheme must be ...", "author": "mosabua", "createdAt": "2020-05-06T19:26:43Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -96,7 +89,10 @@ Password authentication needs to be configured to use LDAP. Create an\n Property                                                Description\n ======================================================= ======================================================\n ``ldap.url``                                            The url to the LDAP server. The url scheme must be", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzOTgwNg==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421039806", "bodyText": "This property should be renamed... insecure does NOT mean the same as \"not secured\" .. https://www.merriam-webster.com/dictionary/insecure. At least the description should change.", "author": "mosabua", "createdAt": "2020-05-06T19:30:33Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -96,7 +89,10 @@ Password authentication needs to be configured to use LDAP. Create an\n Property                                                Description\n ======================================================= ======================================================\n ``ldap.url``                                            The url to the LDAP server. The url scheme must be\n-                                                        ``ldaps://`` since Presto allows only Secure LDAP.\n+                                                        ``ldap://`` or ``ldaps://``. Connecting to the LDAP\n+                                                        server without SSL enabled requires\n+                                                        ``ldap.allow-insecure=true``.\n+``ldap.allow-insecure``                                 Allow insecure connection to the LDAP server.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA0MTUyMg==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421041522", "bodyText": "Maybe something like \"Allow using an LDAP connection that is not secured with TLS.\"", "author": "mosabua", "createdAt": "2020-05-06T19:33:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzOTgwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyMzEwMA==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421623100", "bodyText": "I'm not an expert in this area but it's pretty popular naming convention, eg. chrome has allow-insecure-localhost flag.", "author": "lukasz-walkiewicz", "createdAt": "2020-05-07T16:08:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzOTgwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYzMjE4MA==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421632180", "bodyText": "popular does not make it correct. I would try to avoid using insecure, since it is simply wrong.", "author": "mosabua", "createdAt": "2020-05-07T16:23:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzOTgwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAyNTg3NA==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r423025874", "bodyText": "@electrum @kokosing wdyt?", "author": "lukasz-walkiewicz", "createdAt": "2020-05-11T13:08:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzOTgwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTI3MjMzOA==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r421272338", "bodyText": "Revert this change. The HTTPS is referring to the requirement on the Presto coordinator, not the backend connection to LDAP.", "author": "electrum", "createdAt": "2020-05-07T06:40:51Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -2,12 +2,11 @@\n LDAP Authentication\n ===================\n \n-Presto can be configured to enable frontend LDAP authentication over", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzg0MTY4Nw==", "url": "https://github.com/trinodb/trino/pull/3644#discussion_r483841687", "bodyText": "This section is now empty and should be removed", "author": "dain", "createdAt": "2020-09-04T20:59:36Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -21,12 +21,6 @@ Presto Server Configuration\n Environment Configuration", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9889d6f85cad60b611db6ce2482b00c4ca8f4040", "url": "https://github.com/trinodb/trino/commit/9889d6f85cad60b611db6ce2482b00c4ca8f4040", "message": "Document support for insecure LDAP connection", "committedDate": "2020-09-17T10:54:06Z", "type": "commit"}, {"oid": "2d9ac25e20ca6fa7448faaf3d56ef0bd7a6ff4f0", "url": "https://github.com/trinodb/trino/commit/2d9ac25e20ca6fa7448faaf3d56ef0bd7a6ff4f0", "message": "Remove empty section", "committedDate": "2020-09-17T10:58:46Z", "type": "commit"}, {"oid": "c883a88ffc66f6909b9345ea8167b5171d93f09b", "url": "https://github.com/trinodb/trino/commit/c883a88ffc66f6909b9345ea8167b5171d93f09b", "message": "Update https over http forwarding property name", "committedDate": "2020-09-17T10:59:44Z", "type": "commit"}, {"oid": "c883a88ffc66f6909b9345ea8167b5171d93f09b", "url": "https://github.com/trinodb/trino/commit/c883a88ffc66f6909b9345ea8167b5171d93f09b", "message": "Update https over http forwarding property name", "committedDate": "2020-09-17T10:59:44Z", "type": "forcePushed"}]}