{"pr_number": 6268, "pr_title": "Add server SSL debug sectn; edit debug for Presto", "pr_createdAt": "2020-12-09T13:16:38Z", "pr_url": "https://github.com/trinodb/trino/pull/6268", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ4NDA4Nw==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539484087", "bodyText": "Title case should be same as in rest of doc. Overall we should change all docs in prestosql but that has to be done in one sweep.", "author": "mosabua", "createdAt": "2020-12-09T17:04:04Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -310,11 +310,23 @@ Java Keystore File Verification\n Verify the password for a keystore file and view its contents using\n :ref:`troubleshooting_keystore`.\n \n+SSL debugging for the server", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMTI5MA==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539631290", "bodyText": "The title is \"SSL debugging for the server\", but this is actually about debugging issues with the Presto server talking to the LDAP server. SSL errors are just one type of thing you might need to debug.", "author": "electrum", "createdAt": "2020-12-09T20:39:47Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -310,11 +310,23 @@ Java Keystore File Verification\n Verify the password for a keystore file and view its contents using\n :ref:`troubleshooting_keystore`.\n \n+SSL debugging for the server\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+To add debugging log messages from the Presto server about TLS/SSL connection\n+errors, add the following line to the ``logging.properties`` file in the\n+server's ``etc`` directory:\n+\n+.. code-block:: text\n+\n+    io.prestosql.plugin.password=DEBUG", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzODg0NA==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539638844", "bodyText": "(The requesting party asked to add instructions on SSL debugging.)\nLet's see, how about instead \"Debug Presto to LDAP Server Issues\"", "author": "Ordinant", "createdAt": "2020-12-09T20:52:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMTI5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0NzU3Nw==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539647577", "bodyText": "New commit pushed.", "author": "Ordinant", "createdAt": "2020-12-09T21:06:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMTI5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0NzkyMA==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539647920", "bodyText": "That sounds good. Let's remove/generify the TLS/SSL part.\nI also dislike repeating the part about logging.properties. How about we make that a link\nIf you need to debug issues with Presto communicating with the LDAP server,\nyou can change the :ref:`log level <log-levels>` for the LDAP authenticator:\n\nYou'll need to add an anchor above the \"Log Levels\" section in deployment.rst:\n.. _log_levels:\n\nLog Levels\n^^^^^^^^^^", "author": "electrum", "createdAt": "2020-12-09T21:07:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMTI5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0ODkwNg==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539648906", "bodyText": "Coming up.", "author": "Ordinant", "createdAt": "2020-12-09T21:08:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMTI5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1NTI1Nw==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539655257", "bodyText": "Et voila.", "author": "Ordinant", "createdAt": "2020-12-09T21:19:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYzMTI5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0ODQ5Ng==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539648496", "bodyText": "Use none to be consistent", "author": "electrum", "createdAt": "2020-12-09T21:08:08Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -310,11 +310,23 @@ Java Keystore File Verification\n Verify the password for a keystore file and view its contents using\n :ref:`troubleshooting_keystore`.\n \n+SSL debugging for the server\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+To add debugging log messages from the Presto server about TLS/SSL connection\n+errors, add the following line to the ``logging.properties`` file in the\n+server's ``etc`` directory:\n+\n+.. code-block:: text", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0ODYwNw==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539648607", "bodyText": "JAR should be uppercase", "author": "electrum", "createdAt": "2020-12-09T21:08:21Z", "path": "presto-docs/src/main/sphinx/security/ldap.rst", "diffHunk": "@@ -310,11 +310,23 @@ Java Keystore File Verification\n Verify the password for a keystore file and view its contents using\n :ref:`troubleshooting_keystore`.\n \n+SSL debugging for the server\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+To add debugging log messages from the Presto server about TLS/SSL connection\n+errors, add the following line to the ``logging.properties`` file in the\n+server's ``etc`` directory:\n+\n+.. code-block:: text\n+\n+    io.prestosql.plugin.password=DEBUG\n+\n SSL Debugging for Presto CLI\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-If you encounter any SSL related errors when running Presto CLI, you can run CLI using ``-Djavax.net.debug=ssl``\n-parameter for debugging. You should use the Presto CLI executable jar to enable this. E.g.:\n+If you encounter any SSL related errors when running the Presto CLI, you can run\n+the CLI using the ``-Djavax.net.debug=ssl`` parameter for debugging. Use the\n+Presto CLI executable Jar to enable this. For example:", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDgzNg==", "url": "https://github.com/trinodb/trino/pull/6268#discussion_r539660836", "bodyText": "Et volia, redux.", "author": "Ordinant", "createdAt": "2020-12-09T21:27:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY0ODYwNw=="}], "type": "inlineReview"}, {"oid": "bad44dc3496376fb571c8983f9ecacf120459774", "url": "https://github.com/trinodb/trino/commit/bad44dc3496376fb571c8983f9ecacf120459774", "message": "Add server SSL debug sectn; edit debug for Presto", "committedDate": "2020-12-09T21:27:32Z", "type": "commit"}]}