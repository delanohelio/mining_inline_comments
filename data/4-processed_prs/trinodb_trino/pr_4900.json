{"pr_number": 4900, "pr_title": "Various fixes/cleanups", "pr_createdAt": "2020-08-20T15:59:00Z", "pr_url": "https://github.com/trinodb/trino/pull/4900", "timeline": [{"oid": "227950b15f929562c43066233dbafe434917bd7e", "url": "https://github.com/trinodb/trino/commit/227950b15f929562c43066233dbafe434917bd7e", "message": "Postpone check if HDFS is used with caching\n\nHaving check in DefaultRubixHdfsInitializer constructor make it not\npossible to override default binding of RubixHdfsInitializer with a\ndifferent one, which does not need this kind of a check.\nThe binding for DefaultRubixHdfsInitializer is created by Guice no\nmatter if default binding is overriden or not.", "committedDate": "2020-08-20T15:56:30Z", "type": "commit"}, {"oid": "aef1f78ea60fc0a7b8a935893411de9a30f519bf", "url": "https://github.com/trinodb/trino/commit/aef1f78ea60fc0a7b8a935893411de9a30f519bf", "message": "Bump tempto to 181", "committedDate": "2020-08-20T15:56:30Z", "type": "commit"}, {"oid": "dc1bdbfdc5d1e5b0132c2a130d33ad179e0992af", "url": "https://github.com/trinodb/trino/commit/dc1bdbfdc5d1e5b0132c2a130d33ad179e0992af", "message": "Extract CachingTestUtils", "committedDate": "2020-08-20T15:57:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDUwMjcyMQ==", "url": "https://github.com/trinodb/trino/pull/4900#discussion_r474502721", "bodyText": "maybe we should have explicit config field for it?", "author": "sopel39", "createdAt": "2020-08-21T08:09:05Z", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixInitializer.java", "diffHunk": "@@ -209,6 +211,19 @@ public void disableRubix(Configuration configuration)\n         setCacheKey(configuration, \"rubix_disabled\");\n     }\n \n+    public enum ConfigurationOwner {\n+        PRESTO,\n+        RUBIX,\n+    }\n+\n+    public static ConfigurationOwner getConfigurationOwner(Configuration configuration)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDUwMzY4Mg==", "url": "https://github.com/trinodb/trino/pull/4900#discussion_r474503682", "bodyText": "alternatively we could extend extension point with ConfigurationOwner, but I'm fine with this too", "author": "sopel39", "createdAt": "2020-08-21T08:10:10Z", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixInitializer.java", "diffHunk": "@@ -209,6 +211,19 @@ public void disableRubix(Configuration configuration)\n         setCacheKey(configuration, \"rubix_disabled\");\n     }\n \n+    public enum ConfigurationOwner {\n+        PRESTO,\n+        RUBIX,\n+    }\n+\n+    public static ConfigurationOwner getConfigurationOwner(Configuration configuration)", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDU0ODMwMQ==", "url": "https://github.com/trinodb/trino/pull/4900#discussion_r474548301", "bodyText": "Yeah - I think it will be cleaner. I will change the code.", "author": "losipiuk", "createdAt": "2020-08-21T08:59:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDUwMzY4Mg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "69007bc5f87035e4504d1da61a134cb6b1ab282f", "url": "https://github.com/trinodb/trino/commit/69007bc5f87035e4504d1da61a134cb6b1ab282f", "message": "Mark that filesystem is owned by Rubix in Hadoop Configuration", "committedDate": "2020-08-21T11:09:17Z", "type": "commit"}, {"oid": "69007bc5f87035e4504d1da61a134cb6b1ab282f", "url": "https://github.com/trinodb/trino/commit/69007bc5f87035e4504d1da61a134cb6b1ab282f", "message": "Mark that filesystem is owned by Rubix in Hadoop Configuration", "committedDate": "2020-08-21T11:09:17Z", "type": "forcePushed"}]}