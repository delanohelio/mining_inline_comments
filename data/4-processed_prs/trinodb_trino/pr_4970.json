{"pr_number": 4970, "pr_title": "Improve error reporting when verification fails", "pr_createdAt": "2020-08-25T11:54:53Z", "pr_url": "https://github.com/trinodb/trino/pull/4970", "timeline": [{"oid": "66c1ea0de847e9ce1df0aa64550b90d8b5512cef", "url": "https://github.com/trinodb/trino/commit/66c1ea0de847e9ce1df0aa64550b90d8b5512cef", "message": "Improve error reporting when verification fails", "committedDate": "2020-08-25T11:54:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcyMDI5NA==", "url": "https://github.com/trinodb/trino/pull/4970#discussion_r476720294", "bodyText": "I find the original to be more readable. Spreading a not-overly-long check onto 5 lines is excessive. Also, this makes the diff harder to read.", "author": "electrum", "createdAt": "2020-08-25T20:33:32Z", "path": "presto-base-jdbc/src/main/java/io/prestosql/plugin/jdbc/BaseJdbcClient.java", "diffHunk": "@@ -294,7 +294,11 @@ protected boolean filterSchema(String schemaName)\n                 }\n                 if (columnMapping.isEmpty()) {\n                     UnsupportedTypeHandling unsupportedTypeHandling = getUnsupportedTypeHandling(session);\n-                    verify(unsupportedTypeHandling == IGNORE, \"Unsupported type handling is set to %s, but toPrestoType() returned empty\", unsupportedTypeHandling);", "originalCommit": "66c1ea0de847e9ce1df0aa64550b90d8b5512cef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjczNjc2NA==", "url": "https://github.com/trinodb/trino/pull/4970#discussion_r476736764", "bodyText": "it was over our overall line limit.\ni can always push something slightly over the limit (nothing prevents me) in the interest of readability, but would that mean our limit is actually few characters higher than it is?\ni don't wan to be overly principled about line length in general, but l feel breaking is justified here.", "author": "findepi", "createdAt": "2020-08-25T21:05:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcyMDI5NA=="}], "type": "inlineReview"}]}