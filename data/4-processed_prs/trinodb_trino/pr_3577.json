{"pr_number": 3577, "pr_title": "Small late materialization fixes", "pr_createdAt": "2020-04-29T09:40:52Z", "pr_url": "https://github.com/trinodb/trino/pull/3577", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY4Mjg0Nw==", "url": "https://github.com/trinodb/trino/pull/3577#discussion_r419682847", "bodyText": "Maybe add a comment on why this is important, so future readers know why this is here.", "author": "dain", "createdAt": "2020-05-04T19:42:46Z", "path": "presto-main/src/main/java/io/prestosql/operator/StreamingAggregationOperator.java", "diffHunk": "@@ -299,7 +299,7 @@ private void processInput(Page page)\n                     startPosition = nextGroupStart;\n                 }\n                 else {\n-                    currentGroup = page.getRegion(page.getPositionCount() - 1, 1);\n+                    currentGroup = page.getRegion(page.getPositionCount() - 1, 1).getLoadedPage();", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1385b8780d22d0d8ebc91eb2d0a5cec4e7467e9a", "url": "https://github.com/trinodb/trino/commit/1385b8780d22d0d8ebc91eb2d0a5cec4e7467e9a", "message": "Remove extra empty line", "committedDate": "2020-05-11T12:49:23Z", "type": "commit"}, {"oid": "68e8280800c2b6f8a9bb31d640a89c8dd01b25ea", "url": "https://github.com/trinodb/trino/commit/68e8280800c2b6f8a9bb31d640a89c8dd01b25ea", "message": "Fix handling of EmptySplit", "committedDate": "2020-05-11T12:49:23Z", "type": "commit"}, {"oid": "d4d871ed40b8a94e011ad32aac782098bb2064ed", "url": "https://github.com/trinodb/trino/commit/d4d871ed40b8a94e011ad32aac782098bb2064ed", "message": "Ensure current group is materialized before fetching next page", "committedDate": "2020-05-11T12:53:10Z", "type": "commit"}, {"oid": "d4d871ed40b8a94e011ad32aac782098bb2064ed", "url": "https://github.com/trinodb/trino/commit/d4d871ed40b8a94e011ad32aac782098bb2064ed", "message": "Ensure current group is materialized before fetching next page", "committedDate": "2020-05-11T12:53:10Z", "type": "forcePushed"}]}