{"pr_number": 4534, "pr_title": "Make POMs structure and dependencies order consistent", "pr_createdAt": "2020-07-22T10:29:54Z", "pr_url": "https://github.com/trinodb/trino/pull/4534", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4OTYwMg==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459289602", "bodyText": "Does this produce understandable, actinable error messages?", "author": "losipiuk", "createdAt": "2020-07-23T08:25:35Z", "path": "pom.xml", "diffHunk": "@@ -1299,6 +1297,15 @@\n                     <artifactId>maven-enforcer-plugin</artifactId>\n                     <configuration>\n                         <rules>\n+                            <compound implementation=\"com.github.ferstl.maven.pomenforcers.CompoundPedanticEnforcer\">", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MjAyOQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459292029", "bodyText": "Yes it does. It shows you the expected order and actual order with a diff. It's a really nice tool.", "author": "wendigo", "createdAt": "2020-07-23T08:29:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4OTYwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5NDY3Mw==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459294673", "bodyText": "###################################################\n# COMPOUND: One does not simply write a POM file! #\n###################################################\n\nPlease fix these problems:\n\nPOM_SECTION_ORDER: One does not simply write a POM file!\n========================================================\n\nYour POM has to be organized this way:\n\nActual Order           | Required Order\n-----------------------------------------------\n  modelVersion         |   modelVersion\n  parent               |   parent\n  groupId              |   groupId\n  artifactId           |   artifactId\n  version              |   version\n- packaging            |\n  name                 |   name\n  description          |   description\n                       | + packaging\n  url                  |   url\n  inceptionYear        |   inceptionYear\n  licenses             |   licenses\n  scm                  |   scm\n  properties           |   properties\n  modules              |   modules\n  dependencyManagement |   dependencyManagement\n  build                |   build\n  profiles             |   profiles", "author": "wendigo", "createdAt": "2020-07-23T08:34:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4OTYwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4OTk4OQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459289989", "bodyText": "this change should be in different commit", "author": "losipiuk", "createdAt": "2020-07-23T08:26:18Z", "path": "pom.xml", "diffHunk": "@@ -11,12 +11,10 @@\n     <groupId>io.prestosql</groupId>\n     <artifactId>presto-root</artifactId>\n     <version>340-SNAPSHOT</version>\n-    <packaging>pom</packaging>\n-\n     <name>presto-root</name>\n     <description>Presto</description>\n+    <packaging>pom</packaging>", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY1MzkzNQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459653935", "bodyText": "Please preserve these comments", "author": "electrum", "createdAt": "2020-07-23T18:42:38Z", "path": "presto-accumulo/pom.xml", "diffHunk": "@@ -252,27 +115,94 @@\n         </dependency>\n \n         <dependency>\n-            <groupId>org.apache.zookeeper</groupId>\n-            <artifactId>zookeeper</artifactId>\n+            <groupId>log4j</groupId>\n+            <artifactId>log4j</artifactId>\n+            <version>${dep.log4j.version}</version>\n         </dependency>\n \n         <dependency>\n-            <groupId>javax.inject</groupId>\n-            <artifactId>javax.inject</artifactId>\n+            <groupId>org.apache.accumulo</groupId>\n+            <artifactId>accumulo-core</artifactId>\n+            <version>${dep.accumulo.version}</version>\n+            <exclusions>\n+                <exclusion>\n+                    <groupId>org.apache.hadoop</groupId>\n+                    <artifactId>hadoop-client</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>org.apache.htrace</groupId>\n+                    <artifactId>htrace-core</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>com.beust</groupId>\n+                    <artifactId>jcommander</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>commons-beanutils</groupId>\n+                    <artifactId>commons-beanutils-core</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>org.codehaus.plexus</groupId>\n+                    <artifactId>plexus-utils</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>org.codehaus.plexus</groupId>\n+                    <artifactId>plexus-utils</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>com.google.protobuf</groupId>\n+                    <artifactId>protobuf-java</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>commons-logging</groupId>\n+                    <artifactId>commons-logging</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>jline</groupId>\n+                    <artifactId>jline</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>commons-cli</groupId>\n+                    <artifactId>commons-cli</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>org.apache.maven.scm</groupId>\n+                    <artifactId>maven-scm-api</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>org.apache.maven.scm</groupId>\n+                    <artifactId>maven-scm-provider-svnexe</artifactId>\n+                </exclusion>\n+                <exclusion>\n+                    <groupId>log4j</groupId>\n+                    <artifactId>log4j</artifactId>\n+                </exclusion>\n+            </exclusions>\n         </dependency>\n \n         <dependency>\n-            <groupId>com.fasterxml.jackson.core</groupId>\n-            <artifactId>jackson-databind</artifactId>\n+            <groupId>org.apache.commons</groupId>\n+            <artifactId>commons-lang3</artifactId>\n+            <version>3.4</version>\n         </dependency>\n \n         <dependency>\n-            <groupId>log4j</groupId>\n-            <artifactId>log4j</artifactId>\n-            <version>${dep.log4j.version}</version>\n+            <groupId>org.apache.curator</groupId>\n+            <artifactId>curator-client</artifactId>\n+            <version>${dep.curator.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.curator</groupId>\n+            <artifactId>curator-framework</artifactId>\n+            <version>${dep.curator.version}</version>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.zookeeper</groupId>\n+            <artifactId>zookeeper</artifactId>\n         </dependency>\n \n-        <!-- used by tests but also needed transitively -->", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY4NTQwOA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459685408", "bodyText": "I've restored section comments.", "author": "wendigo", "createdAt": "2020-07-23T19:41:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY1MzkzNQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkwNTMwMw==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459905303", "bodyText": "This one is gone", "author": "losipiuk", "createdAt": "2020-07-24T07:58:06Z", "path": "presto-bigquery/pom.xml", "diffHunk": "@@ -134,37 +133,36 @@\n             </exclusions>\n         </dependency>\n \n+        <dependency>\n+            <groupId>com.google.inject</groupId>\n+            <artifactId>guice</artifactId>\n+        </dependency>\n+\n         <dependency>\n             <groupId>com.google.protobuf</groupId>\n             <artifactId>protobuf-java</artifactId>\n         </dependency>\n \n         <dependency>\n-            <groupId>com.google.guava</groupId>\n-            <artifactId>guava</artifactId>\n+            <groupId>io.grpc</groupId>\n+            <artifactId>grpc-api</artifactId>\n         </dependency>\n \n         <dependency>\n-            <groupId>com.google.inject</groupId>\n-            <artifactId>guice</artifactId>\n+            <groupId>javax.inject</groupId>\n+            <artifactId>javax.inject</artifactId>\n         </dependency>\n \n         <dependency>\n             <groupId>javax.validation</groupId>\n             <artifactId>validation-api</artifactId>\n         </dependency>\n \n-        <dependency>\n-            <groupId>javax.inject</groupId>\n-            <artifactId>javax.inject</artifactId>\n-        </dependency>\n-\n         <dependency>\n             <groupId>org.apache.avro</groupId>\n             <artifactId>avro</artifactId>\n         </dependency>\n \n-        <!-- Presto SPI -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkwNjg3MA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459906870", "bodyText": "gone? I personnally would not cry after removing those for testing thingies", "author": "losipiuk", "createdAt": "2020-07-24T08:01:29Z", "path": "presto-accumulo/pom.xml", "diffHunk": "@@ -310,7 +241,6 @@\n             <scope>provided</scope>\n         </dependency>\n \n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkwNzU0NA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459907544", "bodyText": "gone?", "author": "losipiuk", "createdAt": "2020-07-24T08:03:10Z", "path": "presto-atop/pom.xml", "diffHunk": "@@ -53,39 +49,43 @@\n         </dependency>\n \n         <dependency>\n-            <groupId>com.google.inject</groupId>\n-            <artifactId>guice</artifactId>\n+            <groupId>com.google.code.findbugs</groupId>\n+            <artifactId>jsr305</artifactId>\n+            <optional>true</optional>\n         </dependency>\n \n         <dependency>\n-            <groupId>javax.annotation</groupId>\n-            <artifactId>javax.annotation-api</artifactId>\n+            <groupId>com.google.guava</groupId>\n+            <artifactId>guava</artifactId>\n         </dependency>\n \n         <dependency>\n-            <groupId>javax.validation</groupId>\n-            <artifactId>validation-api</artifactId>\n+            <groupId>com.google.inject</groupId>\n+            <artifactId>guice</artifactId>\n         </dependency>\n \n         <dependency>\n-            <groupId>com.google.code.findbugs</groupId>\n-            <artifactId>jsr305</artifactId>\n-            <optional>true</optional>\n+            <groupId>javax.annotation</groupId>\n+            <artifactId>javax.annotation-api</artifactId>\n         </dependency>\n \n         <dependency>\n             <groupId>javax.inject</groupId>\n             <artifactId>javax.inject</artifactId>\n         </dependency>\n \n+        <dependency>\n+            <groupId>javax.validation</groupId>\n+            <artifactId>validation-api</artifactId>\n+        </dependency>\n+\n         <!-- used by tests but also needed transitively -->\n         <dependency>\n             <groupId>io.airlift</groupId>\n             <artifactId>log-manager</artifactId>\n             <scope>runtime</scope>\n         </dependency>\n \n-        <!-- Presto SPI -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkwODYxMg==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459908612", "bodyText": "gone?", "author": "losipiuk", "createdAt": "2020-07-24T08:05:31Z", "path": "presto-base-jdbc/pom.xml", "diffHunk": "@@ -73,115 +95,92 @@\n         </dependency>\n \n         <dependency>\n-            <groupId>javax.validation</groupId>\n-            <artifactId>validation-api</artifactId>\n+            <groupId>javax.inject</groupId>\n+            <artifactId>javax.inject</artifactId>\n         </dependency>\n \n         <dependency>\n-            <groupId>com.google.code.findbugs</groupId>\n-            <artifactId>jsr305</artifactId>\n-            <optional>true</optional>\n+            <groupId>javax.validation</groupId>\n+            <artifactId>validation-api</artifactId>\n         </dependency>\n \n         <dependency>\n             <groupId>joda-time</groupId>\n             <artifactId>joda-time</artifactId>\n         </dependency>\n \n-        <dependency>\n-            <groupId>javax.inject</groupId>\n-            <artifactId>javax.inject</artifactId>\n-        </dependency>\n-\n         <dependency>\n             <groupId>org.weakref</groupId>\n             <artifactId>jmxutils</artifactId>\n         </dependency>\n \n-        <!-- used by tests but also needed transitively -->\n-        <dependency>\n-            <groupId>com.fasterxml.jackson.core</groupId>\n-            <artifactId>jackson-databind</artifactId>\n-            <scope>runtime</scope>\n-        </dependency>\n-\n         <!-- used by tests but also needed transitively -->\n         <dependency>\n             <groupId>io.airlift</groupId>\n             <artifactId>json</artifactId>\n             <scope>runtime</scope>\n         </dependency>\n \n-        <!-- Presto SPI -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkwOTY5Mg==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459909692", "bodyText": "gone?", "author": "losipiuk", "createdAt": "2020-07-24T08:08:16Z", "path": "presto-cli/pom.xml", "diffHunk": "@@ -94,38 +114,17 @@\n             <scope>runtime</scope>\n         </dependency>\n \n-        <dependency>\n-            <groupId>io.airlift</groupId>\n-            <artifactId>json</artifactId>\n-        </dependency>\n-\n-        <dependency>\n-            <groupId>net.sf.opencsv</groupId>\n-            <artifactId>opencsv</artifactId>\n-        </dependency>\n-\n         <dependency>\n             <groupId>com.squareup.okhttp3</groupId>\n-            <artifactId>okhttp</artifactId>\n-        </dependency>\n-\n-        <dependency>\n-            <groupId>com.fasterxml.jackson.core</groupId>\n-            <artifactId>jackson-core</artifactId>\n+            <artifactId>mockwebserver</artifactId>\n+            <scope>test</scope>\n         </dependency>\n \n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkwOTg2Ng==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459909866", "bodyText": "gone?", "author": "losipiuk", "createdAt": "2020-07-24T08:08:37Z", "path": "presto-client/pom.xml", "diffHunk": "@@ -68,7 +68,6 @@\n             <artifactId>okhttp-urlconnection</artifactId>\n         </dependency>\n \n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMDM0Mw==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459910343", "bodyText": "gone?", "author": "losipiuk", "createdAt": "2020-07-24T08:09:39Z", "path": "presto-druid/pom.xml", "diffHunk": "@@ -33,12 +38,10 @@\n         </dependency>\n \n         <dependency>\n-            <groupId>com.fasterxml.jackson.core</groupId>\n-            <artifactId>jackson-databind</artifactId>\n-            <scope>compile</scope>\n+            <groupId>javax.inject</groupId>\n+            <artifactId>javax.inject</artifactId>\n         </dependency>\n \n-        <!-- Druid JDBC Connector -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMDQzOQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459910439", "bodyText": "gone? Also typically it is Presto SPI", "author": "losipiuk", "createdAt": "2020-07-24T08:09:53Z", "path": "presto-druid/pom.xml", "diffHunk": "@@ -52,12 +55,6 @@\n             </exclusions>\n         </dependency>\n \n-        <dependency>\n-            <groupId>javax.inject</groupId>\n-            <artifactId>javax.inject</artifactId>\n-        </dependency>\n-\n-        <!-- SPI -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMDQ4Mw==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459910483", "bodyText": "gone?", "author": "losipiuk", "createdAt": "2020-07-24T08:09:57Z", "path": "presto-druid/pom.xml", "diffHunk": "@@ -82,13 +79,6 @@\n             <scope>provided</scope>\n         </dependency>\n \n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMTcyOA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459911728", "bodyText": "this was previously by presto-spi", "author": "losipiuk", "createdAt": "2020-07-24T08:12:39Z", "path": "presto-hive/pom.xml", "diffHunk": "@@ -241,20 +246,26 @@\n             <scope>provided</scope>\n         </dependency>\n \n+        <dependency>\n+            <groupId>org.jetbrains</groupId>\n+            <artifactId>annotations</artifactId>\n+            <scope>provided</scope>\n+        </dependency>\n+\n         <dependency>\n             <groupId>org.openjdk.jol</groupId>\n             <artifactId>jol-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n \n-        <!-- for testing -->\n+        <!-- for benchmark -->\n         <dependency>\n             <groupId>io.prestosql</groupId>\n-            <artifactId>presto-spi</artifactId>\n-            <type>test-jar</type>\n+            <artifactId>presto-benchmark</artifactId>\n             <scope>test</scope>\n         </dependency>\n \n+        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3MzIyMw==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459973223", "bodyText": "This looks fine for me:\n<!-- used by tests but also needed transitively -->\n        <dependency>\n            <groupId>io.airlift</groupId>\n            <artifactId>log-manager</artifactId>\n            <scope>runtime</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>javax.xml.bind</groupId>\n            <artifactId>jaxb-api</artifactId>\n            <scope>runtime</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.xerial.snappy</groupId>\n            <artifactId>snappy-java</artifactId>\n            <scope>runtime</scope>\n        </dependency>\n\n        <!-- Presto SPI -->\n        <dependency>\n            <groupId>io.prestosql</groupId>\n            <artifactId>presto-spi</artifactId>\n            <scope>provided</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>io.airlift</groupId>\n            <artifactId>slice</artifactId>\n            <scope>provided</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>com.fasterxml.jackson.core</groupId>\n            <artifactId>jackson-annotations</artifactId>\n            <scope>provided</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.jetbrains</groupId>\n            <artifactId>annotations</artifactId>\n            <scope>provided</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.openjdk.jol</groupId>\n            <artifactId>jol-core</artifactId>\n            <scope>provided</scope>\n        </dependency>\n\n        <!-- for benchmark -->\n        <dependency>\n            <groupId>io.prestosql</groupId>\n            <artifactId>presto-benchmark</artifactId>\n            <scope>test</scope>\n        </dependency>\n\n        <!-- for testing -->\n        <dependency>\n            <groupId>io.prestosql</groupId>\n            <artifactId>presto-client</artifactId>\n            <scope>test</scope>\n        </dependency>", "author": "wendigo", "createdAt": "2020-07-24T10:27:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMTcyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMjY2NQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459912665", "bodyText": "This was before testng previoulsy", "author": "losipiuk", "createdAt": "2020-07-24T08:14:36Z", "path": "presto-hive-hadoop2/pom.xml", "diffHunk": "@@ -67,39 +67,39 @@\n \n         <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3MzYxMQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459973611", "bodyText": "I guess because testng was the first test-scoped dependency. I understand this comment means \"here starts test scoped dependencies\"", "author": "wendigo", "createdAt": "2020-07-24T10:28:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMjY2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMzAxNQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459913015", "bodyText": "this was previosly by testng", "author": "losipiuk", "createdAt": "2020-07-24T08:15:17Z", "path": "presto-iceberg/pom.xml", "diffHunk": "@@ -200,14 +200,9 @@\n \n         <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3NTkwOA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459975908", "bodyText": "I guess this comment concerns the whole section, not a single dependency.", "author": "wendigo", "createdAt": "2020-07-24T10:34:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkxMzAxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3MjkyNA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459972924", "bodyText": "Add <!-- used by tests but also needed transitively --> here too.\nWe have no control of order and we can end up with extra dependency between the two.", "author": "losipiuk", "createdAt": "2020-07-24T10:27:04Z", "path": "presto-memory/pom.xml", "diffHunk": "@@ -48,19 +43,37 @@\n             <optional>true</optional>\n         </dependency>\n \n+        <dependency>\n+            <groupId>com.google.guava</groupId>\n+            <artifactId>guava</artifactId>\n+        </dependency>\n+\n         <dependency>\n             <groupId>com.google.inject</groupId>\n             <artifactId>guice</artifactId>\n         </dependency>\n \n+        <dependency>\n+            <groupId>javax.inject</groupId>\n+            <artifactId>javax.inject</artifactId>\n+        </dependency>\n+\n         <dependency>\n             <groupId>javax.validation</groupId>\n             <artifactId>validation-api</artifactId>\n         </dependency>\n \n+        <!-- used by tests but also needed transitively -->\n         <dependency>\n-            <groupId>javax.inject</groupId>\n-            <artifactId>javax.inject</artifactId>\n+            <groupId>io.airlift</groupId>\n+            <artifactId>log</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+\n+        <dependency>", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3NDkxNQ==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459974915", "bodyText": "removed?", "author": "losipiuk", "createdAt": "2020-07-24T10:31:54Z", "path": "presto-rcfile/pom.xml", "diffHunk": "@@ -67,22 +67,9 @@\n         </dependency>\n \n         <dependency>\n-            <groupId>io.airlift</groupId>\n-            <artifactId>aircompressor</artifactId>\n-            <optional>true</optional>\n-        </dependency>\n-\n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3NTM2OA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459975368", "bodyText": "removed?", "author": "losipiuk", "createdAt": "2020-07-24T10:33:05Z", "path": "presto-server-rpm/pom.xml", "diffHunk": "@@ -19,40 +19,39 @@\n     </properties>\n \n     <dependencies>\n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk3NTU3OA==", "url": "https://github.com/trinodb/trino/pull/4534#discussion_r459975578", "bodyText": "removed?", "author": "losipiuk", "createdAt": "2020-07-24T10:33:36Z", "path": "presto-spi/pom.xml", "diffHunk": "@@ -23,25 +23,24 @@\n         </dependency>\n \n         <dependency>\n-            <groupId>com.google.code.findbugs</groupId>\n-            <artifactId>jsr305</artifactId>\n-            <optional>true</optional>\n+            <groupId>com.fasterxml.jackson.core</groupId>\n+            <artifactId>jackson-annotations</artifactId>\n         </dependency>\n \n         <dependency>\n-            <groupId>com.fasterxml.jackson.core</groupId>\n-            <artifactId>jackson-annotations</artifactId>\n+            <groupId>com.google.code.findbugs</groupId>\n+            <artifactId>jsr305</artifactId>\n+            <optional>true</optional>\n         </dependency>\n \n         <dependency>\n             <groupId>org.openjdk.jol</groupId>\n             <artifactId>jol-core</artifactId>\n         </dependency>\n \n-        <!-- for testing -->", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9f060449e4809efb0b3c27c94f3a442d37c25fe2", "url": "https://github.com/trinodb/trino/commit/9f060449e4809efb0b3c27c94f3a442d37c25fe2", "message": "Sort dependencies in POMs", "committedDate": "2020-07-24T10:37:14Z", "type": "commit"}, {"oid": "5c513cbb9c6ea1913a6795d7f9ca7f640deae08f", "url": "https://github.com/trinodb/trino/commit/5c513cbb9c6ea1913a6795d7f9ca7f640deae08f", "message": "Sort modules in parent pom", "committedDate": "2020-07-24T10:37:14Z", "type": "commit"}, {"oid": "e363e208fa2871b62b643c4852fd415293db9f1f", "url": "https://github.com/trinodb/trino/commit/e363e208fa2871b62b643c4852fd415293db9f1f", "message": "Sort dependencyManagent in parent pom", "committedDate": "2020-07-24T10:37:14Z", "type": "commit"}, {"oid": "86a96e7b760d0b847376cf5d03b67a9b57250619", "url": "https://github.com/trinodb/trino/commit/86a96e7b760d0b847376cf5d03b67a9b57250619", "message": "Fix parent pom structure", "committedDate": "2020-07-24T10:37:14Z", "type": "commit"}, {"oid": "b91ab07473116232df74b85c0d78f223557610be", "url": "https://github.com/trinodb/trino/commit/b91ab07473116232df74b85c0d78f223557610be", "message": "Enforce proper order of dependencies in pom files", "committedDate": "2020-07-24T10:37:14Z", "type": "commit"}, {"oid": "b91ab07473116232df74b85c0d78f223557610be", "url": "https://github.com/trinodb/trino/commit/b91ab07473116232df74b85c0d78f223557610be", "message": "Enforce proper order of dependencies in pom files", "committedDate": "2020-07-24T10:37:14Z", "type": "forcePushed"}]}