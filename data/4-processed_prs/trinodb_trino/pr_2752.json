{"pr_number": 2752, "pr_title": "Ensure hive table exists when running Hive procedures", "pr_createdAt": "2020-02-07T07:24:29Z", "pr_url": "https://github.com/trinodb/trino/pull/2752", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjM1MDk4Mg==", "url": "https://github.com/trinodb/trino/pull/2752#discussion_r376350982", "bodyText": "inline inside the format string", "author": "findepi", "createdAt": "2020-02-07T11:46:53Z", "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/TestHiveIntegrationSmokeTest.java", "diffHunk": "@@ -1204,6 +1204,15 @@ private void testCreateEmptyBucketedPartition(HiveStorageFormat storageFormat)\n         assertFalse(getQueryRunner().tableExists(getSession(), tableName));\n     }\n \n+    @Test\n+    public void testCreateEmptyPartitionOnNonExistingTable()\n+    {\n+        String tableName = \"non_existing_table\";", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjM1MTA1NQ==", "url": "https://github.com/trinodb/trino/pull/2752#discussion_r376351055", "bodyText": "inline non_existing_table  inside the format string, the same way you did in the expected message", "author": "findepi", "createdAt": "2020-02-07T11:47:05Z", "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/TestHiveIntegrationSmokeTest.java", "diffHunk": "@@ -4904,6 +4913,9 @@ public void testInvalidDropStats()\n         assertQueryFails(\n                 format(\"CALL system.drop_stats('%s', '%s', ARRAY[ARRAY['WRONG', 'KEY']])\", TPCH_SCHEMA, partitionedTableName),\n                 \"Partition '.*' not found\");\n+        assertQueryFails(\n+                format(\"CALL system.drop_stats('%s', '%s', ARRAY[ARRAY['WRONG', 'KEY']])\", TPCH_SCHEMA, \"non_existing_table\"),", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "c29d97335ca2401482b5bab550990a3c94b4697d", "url": "https://github.com/trinodb/trino/commit/c29d97335ca2401482b5bab550990a3c94b4697d", "message": "Ensure table exists when running Hive procedures", "committedDate": "2020-02-07T18:05:33Z", "type": "commit"}, {"oid": "c29d97335ca2401482b5bab550990a3c94b4697d", "url": "https://github.com/trinodb/trino/commit/c29d97335ca2401482b5bab550990a3c94b4697d", "message": "Ensure table exists when running Hive procedures", "committedDate": "2020-02-07T18:05:33Z", "type": "forcePushed"}]}