{"pr_number": 3840, "pr_title": "Add hive.cache.ttl and hive.cache.disk-usage-percentage configs", "pr_createdAt": "2020-05-24T14:11:26Z", "pr_url": "https://github.com/trinodb/trino/pull/3840", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY2Njc3MQ==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r429666771", "bodyText": "undo. We don't want to depend on snapshot versions", "author": "sopel39", "createdAt": "2020-05-24T19:21:39Z", "path": "pom.xml", "diffHunk": "@@ -53,7 +53,7 @@\n         <dep.tempto.version>175</dep.tempto.version>\n         <dep.gcs.version>2.0.0</dep.gcs.version>\n         <dep.errorprone.version>2.3.4</dep.errorprone.version>\n-        <rubix.version>0.3.9</rubix.version>\n+        <rubix.version>0.3.10-SNAPSHOT</rubix.version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcwMTE2MQ==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r429701161", "bodyText": "I'll update to 0.3.10 on merge and release of qubole/rubix#389", "author": "raunaqmorarka", "createdAt": "2020-05-25T01:44:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY2Njc3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAyNzAzMQ==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434027031", "bodyText": "Updated to 0.3.10", "author": "raunaqmorarka", "createdAt": "2020-06-02T16:51:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY2Njc3MQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQzODcwNA==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434438704", "bodyText": "Could you also add tests for validation rules.\nAs here: https://github.com/prestosql/presto/blob/2fad53f05f32707abc54b6b384921365f1e87966/presto-oracle/src/test/java/io/prestosql/plugin/oracle/TestOracleConfig.java#L59", "author": "losipiuk", "createdAt": "2020-06-03T09:37:27Z", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixConfig.java", "diffHunk": "@@ -86,6 +94,35 @@ public RubixConfig setCacheLocation(String location)\n         return this;\n     }\n \n+    @MinDuration(\"0s\")", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDYwMTc3Mg==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434601772", "bodyText": "Done", "author": "raunaqmorarka", "createdAt": "2020-06-03T14:16:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQzODcwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUxMjAzNA==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434512034", "bodyText": "make this a separate commit", "author": "sopel39", "createdAt": "2020-06-03T11:57:33Z", "path": "pom.xml", "diffHunk": "@@ -53,7 +53,7 @@\n         <dep.tempto.version>175</dep.tempto.version>\n         <dep.gcs.version>2.0.0</dep.gcs.version>\n         <dep.errorprone.version>2.3.4</dep.errorprone.version>\n-        <rubix.version>0.3.9</rubix.version>\n+        <rubix.version>0.3.10</rubix.version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDU5NzA3OA==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434597078", "bodyText": "If I create another commit for this then the commit without this will not compile. We used some constants and methods from new release jar which were not there in the last one.", "author": "raunaqmorarka", "createdAt": "2020-06-03T14:10:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUxMjAzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDYwMzM2Ng==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434603366", "bodyText": "You could make version update commit the first one.", "author": "sopel39", "createdAt": "2020-06-03T14:18:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUxMjAzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDYwOTEyNQ==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434609125", "bodyText": "Done", "author": "raunaqmorarka", "createdAt": "2020-06-03T14:26:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUxMjAzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUxNDA1MQ==", "url": "https://github.com/trinodb/trino/pull/3840#discussion_r434514051", "bodyText": "tag it with @NotNull", "author": "sopel39", "createdAt": "2020-06-03T12:01:12Z", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixConfig.java", "diffHunk": "@@ -86,6 +94,35 @@ public RubixConfig setCacheLocation(String location)\n         return this;\n     }\n \n+    @MinDuration(\"0s\")\n+    public Duration getCacheTtl()\n+    {\n+        return cacheTtl;\n+    }\n+\n+    @Config(\"hive.cache.ttl\")\n+    @ConfigDescription(\"Time files will be kept in cache prior to eviction\")", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "96258a5f1828fd929cc48a95db7e44a0bcb9ad60", "url": "https://github.com/trinodb/trino/commit/96258a5f1828fd929cc48a95db7e44a0bcb9ad60", "message": "Update rubix to 0.3.10", "committedDate": "2020-06-04T06:12:53Z", "type": "commit"}, {"oid": "e47847ec0879c350ac8e0c131354bea110563bb1", "url": "https://github.com/trinodb/trino/commit/e47847ec0879c350ac8e0c131354bea110563bb1", "message": "Add hive.cache.ttl and hive.cache.disk-usage-percentage configs", "committedDate": "2020-06-04T06:12:54Z", "type": "commit"}, {"oid": "e47847ec0879c350ac8e0c131354bea110563bb1", "url": "https://github.com/trinodb/trino/commit/e47847ec0879c350ac8e0c131354bea110563bb1", "message": "Add hive.cache.ttl and hive.cache.disk-usage-percentage configs", "committedDate": "2020-06-04T06:12:54Z", "type": "forcePushed"}]}