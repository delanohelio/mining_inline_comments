{"pr_number": 4446, "pr_title": "add tpcds test suite", "pr_createdAt": "2020-07-14T10:30:48Z", "pr_url": "https://github.com/trinodb/trino/pull/4446", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyMTA2OQ==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r455021069", "bodyText": "I don't think we should run this suite for all envronments (hdp3, and cdh5). It is time expensive.", "author": "kokosing", "createdAt": "2020-07-15T12:42:43Z", "path": ".github/workflows/ci.yml", "diffHunk": "@@ -186,7 +186,7 @@ jobs:\n           - suite-1\n           - suite-2\n           - suite-3\n-          # suite-4 does not exist\n+          - suite-4", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTY0OTAwNg==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r455649006", "bodyText": "the suite-4 took 7 minute for each of the configurations.... Still there isn't much added value for running it 3 times.\n... but it failed.\ncould it be the queries were not updated when we changed the char/varchar coercion rules?", "author": "findepi", "createdAt": "2020-07-16T09:23:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyMTA2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjI5NTgwMg==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r456295802", "bodyText": "q85 seems to failing since fbc313e .\nq72 seems to be failing since much before\ntest results fixed in #4419", "author": "yashaswaj", "createdAt": "2020-07-17T08:24:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyMTA2OQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3MzU4OQ==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r461473589", "bodyText": "Do you need trailing spaces here? If not please remove them.", "author": "kokosing", "createdAt": "2020-07-28T10:15:26Z", "path": "presto-product-tests/src/main/resources/sql-tests/testcases/tpcds/q85.result", "diffHunk": "@@ -1,7 +1,7 @@\n--- delimiter: |; types: CHAR|DOUBLE|DECIMAL|DECIMAL\n-Gift exchange                                                                                       |76.00000000000|464.36|8.62|\n-Not the product that                                                                                |70.00000000000|876.67|46.67|\n-Parts missing                                                                                       |7.00000000000|129.42|38.65|\n-reason 23                                                                                           |47.00000000000|734.61|6.17|\n-reason 25                                                                                           |5.00000000000|48.94|53.15|\n-reason 28                                                                                           |8.00000000000|306.20|37.06|\n+-- delimiter: |; types: VARCHAR|DOUBLE|DECIMAL|DECIMAL\n+Gift exchange       |76.00000000000|464.36|8.62|", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM3MzcyNw==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r462373727", "bodyText": "These are needed", "author": "yashaswaj", "createdAt": "2020-07-29T15:08:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3MzU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3MzcyOQ==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r461473729", "bodyText": "Add TODO  for q72 with the link to the issue when this is tracked", "author": "kokosing", "createdAt": "2020-07-28T10:15:45Z", "path": "presto-product-tests/bin/product-tests-suite-4.sh", "diffHunk": "@@ -0,0 +1,17 @@\n+#!/usr/bin/env bash\n+\n+set -xeuo pipefail\n+\n+DISTRO_SKIP_GROUP=\"${DISTRO_SKIP_GROUP:-}\"\n+DISTRO_SKIP_TEST=\"${DISTRO_SKIP_TEST:-}\"\n+\n+suite_exit_code=0\n+\n+presto-product-tests-launcher/bin/run-launcher test run \\\n+    --environment multinode \\\n+    -- -g tpcds -x \"${DISTRO_SKIP_GROUP}\" -e sql_tests.testcases.tpcds.q72,\"${DISTRO_SKIP_TEST}\" \\", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3Mzk5OA==", "url": "https://github.com/trinodb/trino/pull/4446#discussion_r461473998", "bodyText": "this is very focused test suite. Maybe let's call it product-tests-suite-tpcds?", "author": "kokosing", "createdAt": "2020-07-28T10:16:19Z", "path": "presto-product-tests/bin/product-tests-suite-4.sh", "diffHunk": "@@ -0,0 +1,17 @@\n+#!/usr/bin/env bash", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2ba7e8d97484621126e1125755a2978df4b1ca9f", "url": "https://github.com/trinodb/trino/commit/2ba7e8d97484621126e1125755a2978df4b1ca9f", "message": "Add execution of TPCDS product tests", "committedDate": "2020-07-29T15:07:14Z", "type": "commit"}, {"oid": "2ba7e8d97484621126e1125755a2978df4b1ca9f", "url": "https://github.com/trinodb/trino/commit/2ba7e8d97484621126e1125755a2978df4b1ca9f", "message": "Add execution of TPCDS product tests", "committedDate": "2020-07-29T15:07:14Z", "type": "forcePushed"}]}