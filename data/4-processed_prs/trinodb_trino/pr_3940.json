{"pr_number": 3940, "pr_title": "Make partition_values optional in drop_stats", "pr_createdAt": "2020-06-06T16:10:42Z", "pr_url": "https://github.com/trinodb/trino/pull/3940", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMTQxMg==", "url": "https://github.com/trinodb/trino/pull/3940#discussion_r436501412", "bodyText": "consider leaving test with NULL to assert change is backward compatible.", "author": "losipiuk", "createdAt": "2020-06-08T07:24:20Z", "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/TestHiveIntegrationSmokeTest.java", "diffHunk": "@@ -6049,8 +6049,8 @@ public void testDropStatsPartitionedTable()\n                         \"('p_bigint', null, 0.0, 0.0, null, null, null), \" +\n                         \"(null, null, null, null, 0.0, null, null)\");\n \n-        // Drop stats for the entire table (partition_values = NULL)\n-        assertUpdate(format(\"CALL system.drop_stats('%s', '%s', NULL)\", TPCH_SCHEMA, tableName));\n+        // Drop stats for the entire table\n+        assertUpdate(format(\"CALL system.drop_stats('%s', '%s')\", TPCH_SCHEMA, tableName));", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY1NzA1NQ==", "url": "https://github.com/trinodb/trino/pull/3940#discussion_r436657055", "bodyText": "I could, but i don't think it is worth it, especially that it was not documented :)", "author": "findepi", "createdAt": "2020-06-08T12:31:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMTQxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY2MjY3Mg==", "url": "https://github.com/trinodb/trino/pull/3940#discussion_r436662672", "bodyText": "It is here: https://github.com/prestosql/presto/pull/3940/files#diff-dc25bafb3bcbf06b1786a0453ba14515R969-R970.", "author": "aalbu", "createdAt": "2020-06-08T12:41:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMTQxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI1MTEwNg==", "url": "https://github.com/trinodb/trino/pull/3940#discussion_r437251106", "bodyText": "indeed, thanks.", "author": "findepi", "createdAt": "2020-06-09T09:02:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMTQxMg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "a24270a211b16346c1a69b16e8c36a4e48a2c2aa", "url": "https://github.com/trinodb/trino/commit/a24270a211b16346c1a69b16e8c36a4e48a2c2aa", "message": "Make partition_values optional in drop_stats", "committedDate": "2020-06-09T09:02:23Z", "type": "commit"}, {"oid": "a24270a211b16346c1a69b16e8c36a4e48a2c2aa", "url": "https://github.com/trinodb/trino/commit/a24270a211b16346c1a69b16e8c36a4e48a2c2aa", "message": "Make partition_values optional in drop_stats", "committedDate": "2020-06-09T09:02:23Z", "type": "forcePushed"}]}