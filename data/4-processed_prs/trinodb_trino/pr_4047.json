{"pr_number": 4047, "pr_title": "Wait for Rubix to start up in tests", "pr_createdAt": "2020-06-16T13:32:05Z", "pr_url": "https://github.com/trinodb/trino/pull/4047", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg1MzgwNQ==", "url": "https://github.com/trinodb/trino/pull/4047#discussion_r440853805", "bodyText": "how many retries will it do. What is the delay?", "author": "losipiuk", "createdAt": "2020-06-16T13:34:51Z", "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/rubix/TestRubixCaching.java", "diffHunk": "@@ -183,6 +183,10 @@ private void initializeRubix(RubixConfig rubixConfig, List<Node> nodes)\n                 Optional.empty());\n         rubixConfigInitializer = new RubixConfigurationInitializer(rubixInitializer);\n         rubixInitializer.initializeRubix();\n+        retry().run(\"wait for rubix to startup\", () -> {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg1NzY4NA==", "url": "https://github.com/trinodb/trino/pull/4047#discussion_r440857684", "bodyText": "see io.prestosql.plugin.hive.util.RetryDriver#RetryDriver() for defaults. By default there should be 10 attempts separated with 1s", "author": "sopel39", "createdAt": "2020-06-16T13:40:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg1MzgwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg3ODA4Mw==", "url": "https://github.com/trinodb/trino/pull/4047#discussion_r440878083", "bodyText": "show work for this.", "author": "losipiuk", "createdAt": "2020-06-16T14:05:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg1MzgwNQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "51825acec50dbb0d48b060d953b09035f526480d", "url": "https://github.com/trinodb/trino/commit/51825acec50dbb0d48b060d953b09035f526480d", "message": "Wait for Rubix to start up in tests", "committedDate": "2020-06-17T07:36:58Z", "type": "commit"}, {"oid": "51825acec50dbb0d48b060d953b09035f526480d", "url": "https://github.com/trinodb/trino/commit/51825acec50dbb0d48b060d953b09035f526480d", "message": "Wait for Rubix to start up in tests", "committedDate": "2020-06-17T07:36:58Z", "type": "forcePushed"}]}