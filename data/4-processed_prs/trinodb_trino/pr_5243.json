{"pr_number": 5243, "pr_title": "Propagate replicated dynamic filters by single task", "pr_createdAt": "2020-09-21T14:30:15Z", "pr_url": "https://github.com/trinodb/trino/pull/5243", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEyNTgwOA==", "url": "https://github.com/trinodb/trino/pull/5243#discussion_r493125808", "bodyText": "can we use getTaskId() here?  If so, we can drop that parameter", "author": "dain", "createdAt": "2020-09-23T01:30:04Z", "path": "presto-main/src/main/java/io/prestosql/sql/planner/LocalExecutionPlanner.java", "diffHunk": "@@ -2295,6 +2341,16 @@ public PhysicalOperation visitSemiJoin(SemiJoinNode node, LocalExecutionPlanCont\n             return new PhysicalOperation(operator, outputMappings, context, probeSource);\n         }\n \n+        private Set<DynamicFilterId> getCoordinatorDynamicFilters(Set<DynamicFilterId> dynamicFilters, PlanNode node, LocalExecutionPlanContext context)\n+        {\n+            if (isBuildSideReplicated(node) && context.getTaskId().getId() > 0) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEzMzg5MQ==", "url": "https://github.com/trinodb/trino/pull/5243#discussion_r493133891", "bodyText": "I would actually say == 0 and maybe add a comment that we only collect DF on the first task.... something really clear what is going on", "author": "dain", "createdAt": "2020-09-23T01:42:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzEyNTgwOA=="}], "type": "inlineReview"}, {"oid": "1ed4488a6cf28c5d6f522fbfbe6baec82ca2c025", "url": "https://github.com/trinodb/trino/commit/1ed4488a6cf28c5d6f522fbfbe6baec82ca2c025", "message": "Propagate replicated dynamic filters by single task", "committedDate": "2020-09-23T11:14:05Z", "type": "commit"}, {"oid": "1ed4488a6cf28c5d6f522fbfbe6baec82ca2c025", "url": "https://github.com/trinodb/trino/commit/1ed4488a6cf28c5d6f522fbfbe6baec82ca2c025", "message": "Propagate replicated dynamic filters by single task", "committedDate": "2020-09-23T11:14:05Z", "type": "forcePushed"}]}