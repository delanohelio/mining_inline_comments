{"pr_number": 3225, "pr_title": "Minor fixes for RPM build, test and documentation", "pr_createdAt": "2020-03-24T13:07:48Z", "pr_url": "https://github.com/trinodb/trino/pull/3225", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE1MTAwMg==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397151002", "bodyText": "I guess this should be modified in the root pom.xml", "author": "kokosing", "createdAt": "2020-03-24T13:28:40Z", "path": "presto-server-rpm/pom.xml", "diffHunk": "@@ -81,8 +81,9 @@\n             </plugin>\n \n             <plugin>\n-                <groupId>ca.vanzyl.maven.plugins</groupId>\n+                <groupId>ca.vanzyl.provisio.maven.plugins</groupId>\n                 <artifactId>provisio-maven-plugin</artifactId>\n+                <version>1.0.8</version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE5MTY5Mw==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397191693", "bodyText": "Moved to property in root pom.xml", "author": "ppalucha", "createdAt": "2020-03-24T14:24:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE1MTAwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE1MjA5OA==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397152098", "bodyText": "is Java 11 >= Java 1.8? If so then we could Presto requires at least Java 1.8 update 161. Notice that running Presto with Java 1.8 is not recommended. We could also mention that.", "author": "kokosing", "createdAt": "2020-03-24T13:30:17Z", "path": "presto-server-rpm/src/main/rpm/preinstall", "diffHunk": "@@ -64,10 +64,9 @@ if [ \"$java_found\" = false ]; then\n +======================================================================+\n |      Error: Required Java version could not be found                 |\n +----------------------------------------------------------------------+\n-| Please download the latest Oracle JDK/JRE from the Java web site     |\n-|       > http://www.oracle.com/technetwork/java/javase/downloads <    |\n+| Please download the latest OpenJDK or Oracle JDK/JRE.                |\n |                                                                      |\n-| Presto requires Java 1.8 update 161 (8u161)                          |\n+| Presto requires Java 1.8 update 161 (8u161) or Java 11.              |", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE5MTQ2OQ==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397191469", "bodyText": "Rephrased message.", "author": "ppalucha", "createdAt": "2020-03-24T14:23:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE1MjA5OA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDQwMg==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397764402", "bodyText": "No need to specify this version in module if it is already defined in root pom.", "author": "kokosing", "createdAt": "2020-03-25T10:53:37Z", "path": "presto-server-rpm/pom.xml", "diffHunk": "@@ -83,7 +83,7 @@\n             <plugin>\n                 <groupId>ca.vanzyl.provisio.maven.plugins</groupId>\n                 <artifactId>provisio-maven-plugin</artifactId>\n-                <version>1.0.8</version>\n+                <version>${dep.provisio.version}</version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTczOQ==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397849739", "bodyText": "Moved to pluginManagement", "author": "ppalucha", "createdAt": "2020-03-25T13:25:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDQwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDQ2NA==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397764464", "bodyText": "inline property", "author": "kokosing", "createdAt": "2020-03-25T10:53:44Z", "path": "pom.xml", "diffHunk": "@@ -1332,7 +1333,7 @@\n             <plugin>\n                 <groupId>ca.vanzyl.provisio.maven.plugins</groupId>\n                 <artifactId>provisio-maven-plugin</artifactId>\n-                <version>1.0.8</version>\n+                <version>${dep.provisio.version}</version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTk0MQ==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397849941", "bodyText": "Done (moved to pluginManagement)", "author": "ppalucha", "createdAt": "2020-03-25T13:25:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDQ2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDU1Nw==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397764557", "bodyText": "please squash this commit with the first commit", "author": "kokosing", "createdAt": "2020-03-25T10:53:54Z", "path": "pom.xml", "diffHunk": "@@ -53,6 +53,7 @@\n         <dep.tempto.version>174</dep.tempto.version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTI1Nw==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397849257", "bodyText": "Squashed", "author": "ppalucha", "createdAt": "2020-03-25T13:24:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDU1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDc4MA==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397764780", "bodyText": "please squash this commit with the first commit", "author": "kokosing", "createdAt": "2020-03-25T10:54:12Z", "path": "pom.xml", "diffHunk": "@@ -1330,9 +1330,9 @@\n             </plugin>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTE3Mg==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r397849172", "bodyText": "Squashed", "author": "ppalucha", "createdAt": "2020-03-25T13:24:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDc4MA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE0MzY5Nw==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r398143697", "bodyText": "Latest version is 1.0.9, let's try that", "author": "electrum", "createdAt": "2020-03-25T20:21:11Z", "path": "pom.xml", "diffHunk": "@@ -1318,6 +1318,12 @@\n                         <preparationGoals>clean verify -DskipTests</preparationGoals>\n                     </configuration>\n                 </plugin>\n+\n+                <plugin>\n+                    <groupId>ca.vanzyl.provisio.maven.plugins</groupId>\n+                    <artifactId>provisio-maven-plugin</artifactId>\n+                    <version>1.0.8</version>", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3Njk1OQ==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r398376959", "bodyText": "Changed to 1.0.9", "author": "ppalucha", "createdAt": "2020-03-26T07:59:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE0MzY5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE0NTU3OQ==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r398145579", "bodyText": "How about\n| Presto requires at least Java 1.8 update 161 (8u161), but Java 11    |\n| is strongly recommend (and will be required in the future).          |", "author": "electrum", "createdAt": "2020-03-25T20:24:23Z", "path": "presto-server-rpm/src/main/rpm/preinstall", "diffHunk": "@@ -64,10 +64,10 @@ if [ \"$java_found\" = false ]; then\n +======================================================================+\n |      Error: Required Java version could not be found                 |\n +----------------------------------------------------------------------+\n-| Please download the latest Oracle JDK/JRE from the Java web site     |\n-|       > http://www.oracle.com/technetwork/java/javase/downloads <    |\n+| Please download the latest OpenJDK or Oracle JDK/JRE.                |\n |                                                                      |\n-| Presto requires Java 1.8 update 161 (8u161)                          |\n+| Presto requires at least Java 1.8 update 161 (8u161), preferably     |", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3Njg2NA==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r398376864", "bodyText": "Updated", "author": "ppalucha", "createdAt": "2020-03-26T07:59:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE0NTU3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE1MDI5MQ==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r398150291", "bodyText": "Saying \"latest\" is misleading here, since that would be Java 14. Let's change this to\n| Please install JDK 11. On RHEL/CentOS, use java-11-openjdk-devel.    |\n|                                                                      |\n| You can also download an OpenJDK 11 build, such as Zulu Community:   |\n|       >>> https://www.azul.com/downloads/zulu-community/ <<<         |", "author": "electrum", "createdAt": "2020-03-25T20:32:40Z", "path": "presto-server-rpm/src/main/rpm/preinstall", "diffHunk": "@@ -64,10 +64,10 @@ if [ \"$java_found\" = false ]; then\n +======================================================================+\n |      Error: Required Java version could not be found                 |\n +----------------------------------------------------------------------+\n-| Please download the latest Oracle JDK/JRE from the Java web site     |\n-|       > http://www.oracle.com/technetwork/java/javase/downloads <    |\n+| Please download the latest OpenJDK or Oracle JDK/JRE.                |", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3Njc1MA==", "url": "https://github.com/trinodb/trino/pull/3225#discussion_r398376750", "bodyText": "Updated", "author": "ppalucha", "createdAt": "2020-03-26T07:59:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE1MDI5MQ=="}], "type": "inlineReview"}, {"oid": "1d1790dc9dd32faf977211b4ba7b7de62e7e602e", "url": "https://github.com/trinodb/trino/commit/1d1790dc9dd32faf977211b4ba7b7de62e7e602e", "message": "Fix 'build.plugins.plugin.version missing' warning for provisio plugin", "committedDate": "2020-03-26T07:58:28Z", "type": "commit"}, {"oid": "bde517521951aaa2bd77ccbaed1119f65da9fbbc", "url": "https://github.com/trinodb/trino/commit/bde517521951aaa2bd77ccbaed1119f65da9fbbc", "message": "Remove unused throws Exception clauses", "committedDate": "2020-03-26T07:58:37Z", "type": "commit"}, {"oid": "e6844c529919d46153fd26064ab9e502873eebcd", "url": "https://github.com/trinodb/trino/commit/e6844c529919d46153fd26064ab9e502873eebcd", "message": "Fix names of packages in install/remove commands", "committedDate": "2020-03-26T07:58:37Z", "type": "commit"}, {"oid": "2c6ea5ae26ae84aaaafe2532eacdd87bf94ff7ce", "url": "https://github.com/trinodb/trino/commit/2c6ea5ae26ae84aaaafe2532eacdd87bf94ff7ce", "message": "Update comments and messages to include JDK 11 support", "committedDate": "2020-03-26T07:58:37Z", "type": "commit"}, {"oid": "2c6ea5ae26ae84aaaafe2532eacdd87bf94ff7ce", "url": "https://github.com/trinodb/trino/commit/2c6ea5ae26ae84aaaafe2532eacdd87bf94ff7ce", "message": "Update comments and messages to include JDK 11 support", "committedDate": "2020-03-26T07:58:37Z", "type": "forcePushed"}]}