{"pr_number": 351, "pr_title": "SLIM-2491 invocation counter", "pr_createdAt": "2020-06-11T12:29:48Z", "pr_url": "https://github.com/OSGP/open-smart-grid-platform/pull/351", "timeline": [{"oid": "8458fe5d12746c8dc8bb1db0213a9a034041388a", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/8458fe5d12746c8dc8bb1db0213a9a034041388a", "message": "SLIM-2491 easycla 2", "committedDate": "2020-06-11T12:28:34Z", "type": "commit"}, {"oid": "0410936eb33556756a9831798fb217e5018c6c33", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/0410936eb33556756a9831798fb217e5018c6c33", "message": "SLIM-2491 change to long", "committedDate": "2020-06-15T14:18:40Z", "type": "commit"}, {"oid": "592365dfe61b41b643a4e26bdaa29ddcdf1d9fab", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/592365dfe61b41b643a4e26bdaa29ddcdf1d9fab", "message": "SLIM-2491 code cleanup", "committedDate": "2020-06-16T07:10:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYzNjk2Nw==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/351#discussion_r440636967", "bodyText": "because the API can only handle an Integer. Gerbert/Paul/myself decided to keep it like this, all will be changed to a Long, except for this. A bug report was sent to the jDLMS library maintainers to update to a Long.\nI explicitly stated we are using an UnsignedInteger here according to the spec.", "author": "coendamen", "createdAt": "2020-06-16T07:20:01Z", "path": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/main/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/factories/Hls5Connector.java", "diffHunk": "@@ -141,9 +141,12 @@ private void configureIvData(final TcpConnectionBuilder tcpConnectionBuilder, fi\n             manufacturerId = device.getManufacturerId();\n         }\n         tcpConnectionBuilder.setSystemTitle(manufacturerId, device.getDeviceId());\n-        tcpConnectionBuilder.setFrameCounter(device.getInvocationCounter());\n-        LOGGER.debug(\"Framecounter for device {} set to {}\", device.getDeviceIdentification(),\n-                device.getInvocationCounter());\n+\n+        UnsignedInteger frameCounter = UnsignedInteger.valueOf(device.getInvocationCounter());", "originalCommit": "592365dfe61b41b643a4e26bdaa29ddcdf1d9fab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "749697703de10c9df4c4f0d8f67c8b67c47c3020", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/749697703de10c9df4c4f0d8f67c8b67c47c3020", "message": "SLIM-2491 updated cucumber tests", "committedDate": "2020-06-16T08:49:30Z", "type": "commit"}]}