{"pr_number": 4084, "pr_title": "[risk=no] Don't render the sidebar tab content unless active", "pr_createdAt": "2020-09-29T19:15:02Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4084", "timeline": [{"oid": "1065c1c9986cb1297f063ed8aff1cfdcefa6f74c", "url": "https://github.com/all-of-us/workbench/commit/1065c1c9986cb1297f063ed8aff1cfdcefa6f74c", "message": "sidebar no render", "committedDate": "2020-09-29T18:58:37Z", "type": "commit"}, {"oid": "fded6ee7d3f5a951db78fce41a410ffc1bd2743e", "url": "https://github.com/all-of-us/workbench/commit/fded6ee7d3f5a951db78fce41a410ffc1bd2743e", "message": "Open the sidebar", "committedDate": "2020-09-30T00:40:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4MTkwOQ==", "url": "https://github.com/all-of-us/workbench/pull/4084#discussion_r497181909", "bodyText": "@dolbeew please take another look tomorrow. I'm not sure whether I'm fixing a testing idiosyncrasy or if this was a real issue", "author": "calbach", "createdAt": "2020-09-30T00:41:14Z", "path": "e2e/app/component/help-sidebar.ts", "diffHunk": "@@ -16,14 +16,23 @@ enum SectionSelectors {\n   ModifiersForm = '//*[@id=\"modifiers-form\"]',\n   SelectionList = '//*[@id=\"selection-list\"]',\n }\n+enum TabSelectors {\n+  Criteria = '//*[@data-test-id=\"help-sidebar-icon-criteria\"]'\n+}\n \n export default class HelpSidebar extends Container {\n \n   constructor(page: Page, xpath: string = defaultXpath) {\n     super(page, xpath);\n   }\n \n+  async clickTabIcon(xpath: string): Promise<void> {\n+    const icon = await this.page.waitForXPath(xpath, {visible: true});\n+    await icon.click();\n+  }\n+\n   async getPhysicalMeasurementParticipantResult(filterSign: FilterSign, filterValue: number): Promise<string> {\n+    await this.clickTabIcon(TabSelectors.Criteria);", "originalCommit": "fded6ee7d3f5a951db78fce41a410ffc1bd2743e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU4ODUxNA==", "url": "https://github.com/all-of-us/workbench/pull/4084#discussion_r497588514", "bodyText": "The sidebar is supposed to be open already here after clicking the link in the tree, so clicking the criteria icon shouldn't be necessary. Not sure why it's not working, taking a look locally now.", "author": "dolbeew", "createdAt": "2020-09-30T15:10:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4MTkwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzYzNjM1NQ==", "url": "https://github.com/all-of-us/workbench/pull/4084#discussion_r497636355", "bodyText": "Ok, I see the issue now. If the sidebar is closed, it won't open when the\n icon is clicked now that the inactive sidebar content isn't rendered.\nIt's an easy fix, but I can't suggest changes to unchanged files. Okay if I push a commit?", "author": "dolbeew", "createdAt": "2020-09-30T16:16:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4MTkwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY0MzkzNA==", "url": "https://github.com/all-of-us/workbench/pull/4084#discussion_r497643934", "bodyText": "Yep - go for it", "author": "calbach", "createdAt": "2020-09-30T16:28:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4MTkwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY0NzU0MA==", "url": "https://github.com/all-of-us/workbench/pull/4084#discussion_r497647540", "bodyText": "Done. Also reverted the previous commit since the test should pass now.", "author": "dolbeew", "createdAt": "2020-09-30T16:33:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4MTkwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY4MzMwMA==", "url": "https://github.com/all-of-us/workbench/pull/4084#discussion_r497683300", "bodyText": "Passing - thanks!", "author": "calbach", "createdAt": "2020-09-30T17:30:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4MTkwOQ=="}], "type": "inlineReview"}, {"oid": "cc69a37c01d52eb68c4ef907f830dba03a517415", "url": "https://github.com/all-of-us/workbench/commit/cc69a37c01d52eb68c4ef907f830dba03a517415", "message": "fix attributes icon in cb tree", "committedDate": "2020-09-30T16:31:42Z", "type": "commit"}]}