{"pr_number": 3809, "pr_title": "[risk=no][RW-5132] Disable multiple clicks of Confirm for Create/Edit Workspace", "pr_createdAt": "2020-07-20T18:54:32Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3809", "timeline": [{"oid": "27d7b08c1c2d885bcb59024c544b449ab0b95a89", "url": "https://github.com/all-of-us/workbench/commit/27d7b08c1c2d885bcb59024c544b449ab0b95a89", "message": "Disable Workspace Save button when 'loading' is true", "committedDate": "2020-07-20T18:41:42Z", "type": "commit"}, {"oid": "522cebb5f073a8074a3b8113d3c44307bd8dc3e0", "url": "https://github.com/all-of-us/workbench/commit/522cebb5f073a8074a3b8113d3c44307bd8dc3e0", "message": "opportunistic destructuring", "committedDate": "2020-07-20T18:51:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYyNjYyOQ==", "url": "https://github.com/all-of-us/workbench/pull/3809#discussion_r457626629", "bodyText": "none of these changes are necessary to the PR.  I can revert if you don't like them.", "author": "jmthibault79", "createdAt": "2020-07-20T19:00:32Z", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -934,13 +934,29 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n     render() {\n       const {enableBillingUpgrade} = serverConfigStore.getValue();\n       const {\n-        populationChecked,", "originalCommit": "522cebb5f073a8074a3b8113d3c44307bd8dc3e0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYyNjg4OQ==", "url": "https://github.com/all-of-us/workbench/pull/3809#discussion_r457626889", "bodyText": "Here begins the actual fix.  \"disabled if errors or loading\"", "author": "jmthibault79", "createdAt": "2020-07-20T19:00:59Z", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -1374,12 +1389,18 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n               <div>You can also make changes to your answers after you create your workspace.</div>\n             </ModalBody>\n             <ModalFooter>\n-              <Button type='secondary' style={{marginRight: '1rem'}}", "originalCommit": "522cebb5f073a8074a3b8113d3c44307bd8dc3e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY1NDUyMg==", "url": "https://github.com/all-of-us/workbench/pull/3809#discussion_r457654522", "bodyText": "Nice. It would be handy to have a reusable pattern for this kind of control.", "author": "jaycarlton", "createdAt": "2020-07-20T19:53:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYyNjg4OQ=="}], "type": "inlineReview"}, {"oid": "38324dc8c69917cba3d5c733de8ef24ca2de42a1", "url": "https://github.com/all-of-us/workbench/commit/38324dc8c69917cba3d5c733de8ef24ca2de42a1", "message": "also disable if error", "committedDate": "2020-07-20T19:03:44Z", "type": "commit"}, {"oid": "8242bb001ca7343d20fbd414b338c3b6c1e437c9", "url": "https://github.com/all-of-us/workbench/commit/8242bb001ca7343d20fbd414b338c3b6c1e437c9", "message": "unit test", "committedDate": "2020-07-20T19:14:51Z", "type": "commit"}, {"oid": "cc8215f15173ad5ffa2987f87be89d8e4451206f", "url": "https://github.com/all-of-us/workbench/commit/cc8215f15173ad5ffa2987f87be89d8e4451206f", "message": "better UT", "committedDate": "2020-07-20T19:21:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzODU0OQ==", "url": "https://github.com/all-of-us/workbench/pull/3809#discussion_r457638549", "bodyText": "confirmed that this test fails with the previous version of the code", "author": "jmthibault79", "createdAt": "2020-07-20T19:22:47Z", "path": "ui/src/app/pages/workspace/workspace-edit.spec.tsx", "diffHunk": "@@ -216,6 +216,29 @@ describe('WorkspaceEdit', () => {\n     expect(navigate).toHaveBeenCalledTimes(1);\n   });\n \n+  // regression test for RW-5132\n+  it('prevents multiple Workspace creations via the same confirmation dialog', async() => {", "originalCommit": "cc8215f15173ad5ffa2987f87be89d8e4451206f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}