{"pr_number": 3422, "pr_title": "[RW-4718][risk=no] Attach required/optional/publicly displayed tags to registration pages", "pr_createdAt": "2020-04-16T20:57:29Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3422", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTk0NDg4MA==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r409944880", "bodyText": "nit: Can we extract it as a style object", "author": "NehaBroad", "createdAt": "2020-04-17T01:44:06Z", "path": "ui/src/app/pages/login/account-creation/account-creation-institution.tsx", "diffHunk": "@@ -338,22 +335,27 @@ export class AccountCreationInstitution extends React.Component<Props, State> {\n           <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n             Please complete Step 1 of 3\n           </div>\n-          <div style={{...styles.text, fontSize: 14, marginTop: '0.7rem'}}>\n+          <div style={{\n+            ...styles.text,\n+            fontSize: 14,\n+            marginTop: '0.7rem',\n+            padding: '0.5rem',", "originalCommit": "5f25f5123715dac43ef3e05fef31bf3a9574aba4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTk0NTA1MQ==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r409945051", "bodyText": "we can use it as styles.boldText", "author": "NehaBroad", "createdAt": "2020-04-17T01:44:44Z", "path": "ui/src/app/pages/login/account-creation/account-creation-institution.tsx", "diffHunk": "@@ -401,12 +403,12 @@ export class AccountCreationInstitution extends React.Component<Props, State> {\n             </TextInputWithLabel>\n             {this.displayEmailErrorMessageIfNeeded()}\n             <div style={{marginTop: '.5rem'}}>\n-              <label style={{...styles.boldText, marginTop: '1rem'}}>\n-                Which of the following best describes your role?\n-                <i style={{...styles.publiclyDisplayedText, marginLeft: '0.2rem'}}>\n-                  Publicly displayed\n-                </i>\n-              </label>\n+              <FlexRow style={{alignItems: 'center', margin: '.5rem 0'}}>\n+                <label style={{...styles.boldText}}>", "originalCommit": "5f25f5123715dac43ef3e05fef31bf3a9574aba4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwMTg0MA==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413001840", "bodyText": "nit: can style be style={styles.asideText}", "author": "NehaBroad", "createdAt": "2020-04-22T13:52:12Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -436,33 +439,38 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     const errors = this.validate();\n \n     return <div id='account-creation'\n-                style={{paddingTop: '1.5rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n+                style={{paddingTop: '1.5rem', paddingRight: '3rem', paddingLeft: '1rem'}}>\n       <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n       <FlexRow>\n-        <FlexColumn style={{marginTop: '0.5rem', marginRight: '2rem'}}>\n+        <FlexColumn style={{marginRight: '2rem'}}>\n           <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n             Please complete Step {requireInstitutionalVerification ? '2 of 3' : '1 of 2'}\n           </div>\n-          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.3rem'}}>\n             All fields required unless indicated as optional</div>\n-          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>} style={{marginTop: '1.25rem'}}>\n             <div>\n               <FlexRow>\n                 <FlexColumn>\n-                  <div style={{...styles.asideText, marginBottom: '0.3rem'}}>\n+                  <div style={{...styles.asideText}}>", "originalCommit": "96877c2ac2e2ffa71ee7a3a8d9a5bfb787408a2d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwMjIwOA==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413002208", "bodyText": "nit: style={inputStyles.iconArea}?", "author": "NehaBroad", "createdAt": "2020-04-22T13:52:37Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -436,33 +439,38 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     const errors = this.validate();\n \n     return <div id='account-creation'\n-                style={{paddingTop: '1.5rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n+                style={{paddingTop: '1.5rem', paddingRight: '3rem', paddingLeft: '1rem'}}>\n       <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n       <FlexRow>\n-        <FlexColumn style={{marginTop: '0.5rem', marginRight: '2rem'}}>\n+        <FlexColumn style={{marginRight: '2rem'}}>\n           <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n             Please complete Step {requireInstitutionalVerification ? '2 of 3' : '1 of 2'}\n           </div>\n-          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.3rem'}}>\n             All fields required unless indicated as optional</div>\n-          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>} style={{marginTop: '1.25rem'}}>\n             <div>\n               <FlexRow>\n                 <FlexColumn>\n-                  <div style={{...styles.asideText, marginBottom: '0.3rem'}}>\n+                  <div style={{...styles.asideText}}>\n                     We create a 'username'@{gsuiteDomain} Google account which you will use to\n-                    login to the Workbench. This is separate account and not related to any personal\n-                    or professional Google accounts you may have.</div>\n-                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n-                                      placeholder='New Username' invalid={\n-                                        this.state.usernameConflictError || this.usernameInvalidError()}\n-                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n-                                    onChange={v => this.usernameChanged(v)}>\n-                  <div style={{...inputStyles.iconArea}}>\n-                    <ValidationIcon validSuccess={this.isUsernameValid()}/>\n-                  </div>\n-                  <i style={{...styles.asideText, marginLeft: 4}}>@{gsuiteDomain}</i>\n-                </TextInputWithLabel>\n+                    login to the Workbench. This is a separate account and not related to any\n+                    personal or professional Google accounts you may have.</div>\n+                  <TextInputWithLabel\n+                      value={username}\n+                      inputId='username'\n+                      inputName='username'\n+                      placeholder='New Username'\n+                      invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n+                      containerStyle={{width: '26rem', marginTop: '1.25rem'}}\n+                      labelText={usernameLabelText}\n+                      onChange={v => this.usernameChanged(v)}\n+                  >\n+                    <div style={{...inputStyles.iconArea}}>", "originalCommit": "96877c2ac2e2ffa71ee7a3a8d9a5bfb787408a2d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwMzIxNQ==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413003215", "bodyText": "can the listStylePositon move inside asideList ?", "author": "NehaBroad", "createdAt": "2020-04-22T13:53:51Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -566,15 +585,41 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n               </FlexRow>\n             </FlexColumn>\n           </Section>\n-          <Section sectionHeaderStyles={{borderBottom: null}} header={<React.Fragment>\n-            <div>Please describe your research background, experience, and research interests</div>\n-            <div style={styles.asideText}>This information will be posted publicly on the <i>All of Us</i> Research Hub website\n-              to inform program participants. <span  style={{marginLeft: 2,\n-                fontSize: 12}}>(2000 character limit)</span>\n-              <i style={{...styles.publiclyDisplayedText, marginLeft: 2}}>\n-                Publicly displayed\n-              </i></div>\n-          </React.Fragment>}>\n+          <Section\n+            header={<React.Fragment>\n+              <FlexRow style={{alignItems: 'flex-start'}}>\n+                <div style={{width: '70%'}}>Your research background, experience, and research interests</div>\n+                <PubliclyDisplayed style={{marginLeft: '1.2rem'}}/>\n+              </FlexRow>\n+              <div\n+                style={{...styles.asideText, marginTop: '.125px'}}>\n+                  This information will be posted publicly on the <i>All of Us</i> Research Hub website to inform program participants.\n+                  <span style={{marginLeft: 2, fontSize: 12}}>(2000 character limit)</span>\n+              </div>\n+              <div style={{marginTop: '.5rem'}}>\n+                <FlexRow style={{color: colors.accent, alignItems: 'center'}}>\n+                  <div\n+                      style={{cursor: 'pointer', fontSize: 14}}\n+                      onClick={() => this.setState(\n+                        (previousState) => ({showMostInterestedInKnowingBlurb: !previousState.showMostInterestedInKnowingBlurb})\n+                      )}\n+                  >\n+                    <i>All of Us</i> participants are most interested in knowing:\n+                  </div>\n+                  <ClrIcon shape='angle' style={{\n+                    transform: this.state.showMostInterestedInKnowingBlurb ? 'rotate(180deg)' : 'rotate(90deg)'\n+                  }}/>\n+                </FlexRow>\n+                {this.state.showMostInterestedInKnowingBlurb &&\n+                  <ul style={{...styles.asideList, listStylePosition: 'outside', marginLeft: '0.75rem'}}>", "originalCommit": "96877c2ac2e2ffa71ee7a3a8d9a5bfb787408a2d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwNDEwMQ==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413004101", "bodyText": "Question as i have not tried this, do we need style asideList both at ul and li level?", "author": "NehaBroad", "createdAt": "2020-04-22T13:54:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwMzIxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA1MjE0OQ==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413052149", "bodyText": "We don't - we are using asideText on the lis.", "author": "als364", "createdAt": "2020-04-22T14:51:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwMzIxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4MDI2MA==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413080260", "bodyText": "More of a lou question and Not part of this story (we can discuss this in UI meeting) but should the background color be consistent with Publicly displayed icon i.e colors.accent with 0.75", "author": "NehaBroad", "createdAt": "2020-04-22T15:24:36Z", "path": "ui/src/app/pages/profile/demographic-survey.tsx", "diffHunk": "@@ -112,21 +117,28 @@ export class DemographicSurvey extends React.Component<Props, State> {\n \n     const errors = this.validateDemographicSurvey(demographicSurvey);\n \n-    return <div style={{marginTop: '1rem', paddingLeft: '3rem', width: '26rem'}}>\n+    return <div style={{marginTop: '1rem', paddingLeft: '3rem', width: '32rem'}}>\n       <TextColumn>\n         <div style={{fontSize: 28, fontWeight: 400, marginBottom: '.8rem'}}>Optional Demographics Survey</div>\n-        <div style={{fontSize: 16, marginBottom: '.5rem'}}>\n-          Please complete Step {requireInstitutionalVerification ? '3 of 3' : '2 of 2'}\n-        </div>\n-        <div>\n+        {this.props.showStepCount &&\n+          <div style={{fontSize: 16, marginBottom: '.5rem'}}>\n+            Please complete Step {requireInstitutionalVerification ? '3 of 3' : '2 of 2'}\n+          </div>\n+        }\n+        <div style={{\n+          backgroundColor: colorWithWhiteness(colors.accent, .85),", "originalCommit": "7b9c4021ff7ef99455dad0a771c217fc8f640a99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4ODMzMA==", "url": "https://github.com/all-of-us/workbench/pull/3422#discussion_r413088330", "bodyText": "Yeah, it probably should given the background image issue", "author": "als364", "createdAt": "2020-04-22T15:34:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4MDI2MA=="}], "type": "inlineReview"}, {"oid": "792af8804c9556f6a7854b5d48c46331bc0d48a5", "url": "https://github.com/all-of-us/workbench/commit/792af8804c9556f6a7854b5d48c46331bc0d48a5", "message": "first pass.", "committedDate": "2020-04-22T18:09:45Z", "type": "commit"}, {"oid": "3e4772f02ce0b1ac68b6a6968cf091999f37116b", "url": "https://github.com/all-of-us/workbench/commit/3e4772f02ce0b1ac68b6a6968cf091999f37116b", "message": "account creation folder", "committedDate": "2020-04-22T18:09:45Z", "type": "commit"}, {"oid": "e87a02ea6499a4dcdfd293073a795f871e87b727", "url": "https://github.com/all-of-us/workbench/commit/e87a02ea6499a4dcdfd293073a795f871e87b727", "message": "add publicly displayed flag", "committedDate": "2020-04-22T18:09:45Z", "type": "commit"}, {"oid": "2c0c6987662eba1b4358323c660d38ec6635414a", "url": "https://github.com/all-of-us/workbench/commit/2c0c6987662eba1b4358323c660d38ec6635414a", "message": "lint", "committedDate": "2020-04-22T18:09:45Z", "type": "commit"}, {"oid": "30702085d4543d4519e6d519f086fa7379515c22", "url": "https://github.com/all-of-us/workbench/commit/30702085d4543d4519e6d519f086fa7379515c22", "message": "review feedback", "committedDate": "2020-04-22T18:09:45Z", "type": "commit"}, {"oid": "7625b88fc8f4f1a50314b70e930772bfefff3c05", "url": "https://github.com/all-of-us/workbench/commit/7625b88fc8f4f1a50314b70e930772bfefff3c05", "message": "well this is an obscure property", "committedDate": "2020-04-22T18:09:45Z", "type": "commit"}, {"oid": "b5e2a1854aed07906ce5aeeea2369d4368535a1c", "url": "https://github.com/all-of-us/workbench/commit/b5e2a1854aed07906ce5aeeea2369d4368535a1c", "message": "argh", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "5bc5e82250a12a3a77e8a3ec5c466e16a2d232c9", "url": "https://github.com/all-of-us/workbench/commit/5bc5e82250a12a3a77e8a3ec5c466e16a2d232c9", "message": "spacing", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "79a0ee00bc59539756b4e42e6a84c24dbb378b66", "url": "https://github.com/all-of-us/workbench/commit/79a0ee00bc59539756b4e42e6a84c24dbb378b66", "message": "double argh", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "eec4a1675e2ae8efc2d4b7ebc34dda4e94baf0a0", "url": "https://github.com/all-of-us/workbench/commit/eec4a1675e2ae8efc2d4b7ebc34dda4e94baf0a0", "message": "darken publicly displayed flag", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "dbc89d7b5a47590dd344880ce72ce01c69feff05", "url": "https://github.com/all-of-us/workbench/commit/dbc89d7b5a47590dd344880ce72ce01c69feff05", "message": "style nits", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "e9d647747a428ac93dd37112d24ebdc127c38324", "url": "https://github.com/all-of-us/workbench/commit/e9d647747a428ac93dd37112d24ebdc127c38324", "message": "fix demographic survey margin", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "d63a29a998e441ced0ff04ba0b1c48b29f38b5a6", "url": "https://github.com/all-of-us/workbench/commit/d63a29a998e441ced0ff04ba0b1c48b29f38b5a6", "message": "fixed last bits of style problems", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "5b52568948a95ec746fbea4aab05e1b046a39f47", "url": "https://github.com/all-of-us/workbench/commit/5b52568948a95ec746fbea4aab05e1b046a39f47", "message": "lighten one final thing", "committedDate": "2020-04-22T18:09:46Z", "type": "commit"}, {"oid": "5b52568948a95ec746fbea4aab05e1b046a39f47", "url": "https://github.com/all-of-us/workbench/commit/5b52568948a95ec746fbea4aab05e1b046a39f47", "message": "lighten one final thing", "committedDate": "2020-04-22T18:09:46Z", "type": "forcePushed"}, {"oid": "82e4dc004b6e9f1fc975e84afec1a1859262b3cd", "url": "https://github.com/all-of-us/workbench/commit/82e4dc004b6e9f1fc975e84afec1a1859262b3cd", "message": "how do I continuously commit typos", "committedDate": "2020-04-22T18:10:09Z", "type": "commit"}]}