{"pr_number": 4391, "pr_title": "[RW-5968][risk=no] Add notes on running genomics tools on unsorted vcf input", "pr_createdAt": "2020-12-10T16:59:15Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4391", "timeline": [{"oid": "530bf045f1495262e5ca905640ae3b85462b5664", "url": "https://github.com/all-of-us/workbench/commit/530bf045f1495262e5ca905640ae3b85462b5664", "message": "add notes on running genomics tools on unsorted vcf input", "committedDate": "2020-12-10T16:57:49Z", "type": "commit"}, {"oid": "c84d3fee9982c71435fc813b2f17a1b9e2a6bbb0", "url": "https://github.com/all-of-us/workbench/commit/c84d3fee9982c71435fc813b2f17a1b9e2a6bbb0", "message": "Update unsorted_vcf.md", "committedDate": "2020-12-10T16:59:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwOTkzNQ==", "url": "https://github.com/all-of-us/workbench/pull/4391#discussion_r540409935", "bodyText": "One thing to understand here is whether we are just pushing the sorting burden to later in the flow. Presumably --make-bed is actually sorting the variants, and therefore needs to do the same work as we would if we had just sorted the input VCF.", "author": "calbach", "createdAt": "2020-12-10T18:43:26Z", "path": "api/genomics/docs/unsorted_vcf.md", "diffHunk": "@@ -0,0 +1,31 @@\n+## Answering some questions on how our tools interact with unsorted VCF files\n+\n+### Does Plink require a VCF file to be sorted?\n+No, but another flag `--make-bed` needs to be added to the binary file creation step.", "originalCommit": "c84d3fee9982c71435fc813b2f17a1b9e2a6bbb0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTU1MTkxOQ==", "url": "https://github.com/all-of-us/workbench/pull/4391#discussion_r551551919", "bodyText": "I couldn't find documentation that explicitly stated this but that's almost certainly the case.", "author": "ericsong", "createdAt": "2021-01-04T20:30:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwOTkzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQxMDAyNA==", "url": "https://github.com/all-of-us/workbench/pull/4391#discussion_r540410024", "bodyText": "What happens if you don't use --make-bed ? Does it error out?\n(also, nice flag name)", "author": "calbach", "createdAt": "2020-12-10T18:43:38Z", "path": "api/genomics/docs/unsorted_vcf.md", "diffHunk": "@@ -0,0 +1,31 @@\n+## Answering some questions on how our tools interact with unsorted VCF files\n+\n+### Does Plink require a VCF file to be sorted?\n+No, but another flag `--make-bed` needs to be added to the binary file creation step.\n+`plink --vcf-half-call m --const-fid 0 --vcf unsorted.vcf --out cohort --make-bed` ->  \n+`plink --vcf-half-call m --const-fid 0 --vcf unsorted.vcf --out cohort --make-bed`", "originalCommit": "c84d3fee9982c71435fc813b2f17a1b9e2a6bbb0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTU1MTUxMA==", "url": "https://github.com/all-of-us/workbench/pull/4391#discussion_r551551510", "bodyText": "yeah. it will fail without the flag", "author": "ericsong", "createdAt": "2021-01-04T20:29:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQxMDAyNA=="}], "type": "inlineReview"}]}