{"pr_number": 4003, "pr_title": "[RW-5388][risk=no] Puppeteer enable failed test for Export to Notebook", "pr_createdAt": "2020-09-14T20:03:08Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4003", "timeline": [{"oid": "63615963b9ed4c3c166b26fcc09fac5277cea4ac", "url": "https://github.com/all-of-us/workbench/commit/63615963b9ed4c3c166b26fcc09fac5277cea4ac", "message": "enable test", "committedDate": "2020-09-14T19:19:10Z", "type": "commit"}, {"oid": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf", "url": "https://github.com/all-of-us/workbench/commit/3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf", "message": "test working", "committedDate": "2020-09-14T20:01:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5NDEwNg==", "url": "https://github.com/all-of-us/workbench/pull/4003#discussion_r488194106", "bodyText": "typo", "author": "jmthibault79", "createdAt": "2020-09-14T20:15:15Z", "path": "e2e/tests/datasets/export-py-notebook.spec.ts", "diffHunk": "@@ -110,14 +103,22 @@ describe('Create Dataset', () => {\n     const notebookName = makeRandomName('test-notebook');\n     await exportModal.fillInModal(notebookName);\n \n-    // Verify notebook created successfully.\n-    await dataPage.openAnalysisPage();\n-    const cardExists = await resourceCard.cardExists(notebookName, ResourceCard.Notebook);\n-    expect(cardExists).toBe(true);\n+    // Verify notebook created successfully. Not going to start the Jupyter notebook.\n+    const notebookPreviewPage = new NotebookPreviewPage(page);\n+    await notebookPreviewPage.waitForLoad();\n+    const currentPageUrl = page.url();\n+    expect(currentPageUrl).toContain(`notebooks/preview/${notebookName}.ipynb`);\n+\n+    // Navigate to Workpace Notebooks page.\n+    const analysiPage = await notebookPreviewPage.goAnalysisPage();", "originalCommit": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5NDU1OA==", "url": "https://github.com/all-of-us/workbench/pull/4003#discussion_r488194558", "bodyText": "typo", "author": "jmthibault79", "createdAt": "2020-09-14T20:16:09Z", "path": "e2e/tests/datasets/export-py-notebook.spec.ts", "diffHunk": "@@ -54,11 +52,7 @@ describe('Create Dataset', () => {\n     expect(code).toContain('import os');\n \n     // Navigate to Workpace Notebooks page.\n-    const notebooksLink = await Link.findByName(page, {name: 'Notebooks'});\n-    await notebooksLink.clickAndWait();\n-\n-    const analysiPage = new WorkspaceAnalysisPage(page);\n-    await analysiPage.waitForLoad();\n+    const analysiPage = await notebookPreviewPage.goAnalysisPage();", "originalCommit": "3f4f849335a21ee26cfc1ec4baabb5161a8d8bcf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIwMjgyNA==", "url": "https://github.com/all-of-us/workbench/pull/4003#discussion_r488202824", "bodyText": "Fixed typo.", "author": "aweng98", "createdAt": "2020-09-14T20:32:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODE5NDU1OA=="}], "type": "inlineReview"}, {"oid": "445a10242c1678a9b5d9382d58f83133eda8c884", "url": "https://github.com/all-of-us/workbench/commit/445a10242c1678a9b5d9382d58f83133eda8c884", "message": "fix typo", "committedDate": "2020-09-14T20:31:42Z", "type": "commit"}]}