{"pr_number": 4206, "pr_title": "[risk=low][RW-5561] Fix for Copy Notebook from Analysis page", "pr_createdAt": "2020-10-23T21:15:17Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4206", "timeline": [{"oid": "9bcdbe8f6b8a1e22d330325c1b8dae349536bbb4", "url": "https://github.com/all-of-us/workbench/commit/9bcdbe8f6b8a1e22d330325c1b8dae349536bbb4", "message": "fix copy notebook modal cdr display", "committedDate": "2020-10-24T19:58:02Z", "type": "commit"}, {"oid": "0721c43e2c82a5f585d2fb40df16105b1be9cb02", "url": "https://github.com/all-of-us/workbench/commit/0721c43e2c82a5f585d2fb40df16105b1be9cb02", "message": "Make some WorkspaceResource fields required", "committedDate": "2020-10-24T19:58:08Z", "type": "commit"}, {"oid": "56eada85b79fe60f64fffadb8be395638ff202b5", "url": "https://github.com/all-of-us/workbench/commit/56eada85b79fe60f64fffadb8be395638ff202b5", "message": "test fix", "committedDate": "2020-10-24T20:25:37Z", "type": "commit"}, {"oid": "56eada85b79fe60f64fffadb8be395638ff202b5", "url": "https://github.com/all-of-us/workbench/commit/56eada85b79fe60f64fffadb8be395638ff202b5", "message": "test fix", "committedDate": "2020-10-24T20:25:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTUxMjg0OQ==", "url": "https://github.com/all-of-us/workbench/pull/4206#discussion_r511512849", "bodyText": "This line is what corrects the problem - all the rest is stronger typing and signature changes.", "author": "jmthibault79", "createdAt": "2020-10-24T20:48:38Z", "path": "ui/src/app/utils/resourceActions.ts", "diffHunk": "@@ -32,36 +33,36 @@ export function toDisplay(resourceType: ResourceType): string {\n \n export interface ConvertToResourcesArgs {\n   list:  FileDetail[] | Cohort[] | CohortReview[] | ConceptSet[] | DataSet[];\n-  workspaceNamespace: string;\n-  workspaceId: string;\n-  accessLevel: WorkspaceAccessLevel;\n   resourceType: ResourceType;\n+  workspace: WorkspaceData;\n }\n \n export function convertToResources(args: ConvertToResourcesArgs): WorkspaceResource[] {\n   const resourceList = [];\n   for (const resource of args.list) {\n-    resourceList.push(convertToResource(resource, args.workspaceNamespace, args.workspaceId,\n-      args.accessLevel, args.resourceType));\n+    resourceList.push(convertToResource(resource, args.resourceType, args.workspace));\n   }\n   return resourceList;\n }\n \n-export function convertToResource(resource: FileDetail | Cohort | CohortReview | ConceptSet\n-  | DataSet, workspaceNamespace: string, workspaceId: string,\n-  accessLevel: WorkspaceAccessLevel,\n-  resourceType: ResourceType): WorkspaceResource {\n+export function convertToResource(\n+  resource: FileDetail | Cohort | CohortReview | ConceptSet | DataSet,\n+  resourceType: ResourceType,\n+  workspace: WorkspaceData): WorkspaceResource {\n+  const {namespace, id, accessLevel, cdrVersionId, billingStatus} = workspace;\n   let modifiedTime: string;\n   if (!resource.lastModifiedTime) {\n     modifiedTime = new Date().toDateString();\n   } else {\n     modifiedTime = new Date(resource.lastModifiedTime).toString();\n   }\n   const newResource: WorkspaceResource = {\n-    workspaceNamespace: workspaceNamespace,\n-    workspaceFirecloudName: workspaceId,\n+    workspaceNamespace: namespace,\n+    workspaceFirecloudName: id,\n     permission: WorkspaceAccessLevel[accessLevel],\n-    modifiedTime: modifiedTime\n+    modifiedTime,\n+    cdrVersionId,", "originalCommit": "56eada85b79fe60f64fffadb8be395638ff202b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "01da75645b3b385f2eb05f6cfa7200a197b0ee77", "url": "https://github.com/all-of-us/workbench/commit/01da75645b3b385f2eb05f6cfa7200a197b0ee77", "message": "test fix", "committedDate": "2020-10-24T20:58:17Z", "type": "commit"}]}