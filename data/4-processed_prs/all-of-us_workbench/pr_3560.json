{"pr_number": 3560, "pr_title": "[no ticket][risk=no] Handy bash Ops snippets", "pr_createdAt": "2020-05-08T14:15:00Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3560", "timeline": [{"oid": "0955b23d161dcac105a61c411f27a58adb33e90e", "url": "https://github.com/all-of-us/workbench/commit/0955b23d161dcac105a61c411f27a58adb33e90e", "message": "docs", "committedDate": "2020-05-08T14:13:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMxOTY0NQ==", "url": "https://github.com/all-of-us/workbench/pull/3560#discussion_r422319645", "bodyText": "Looks like this uses the default project you have set in your local gcloud config.  I have found default projects to be cumbersome when working in many different projects (like we do) and I often find myself doing the wrong thing.\nSo my preference is to avoid them.  Do you have a good system for working with them?", "author": "jmthibault79", "createdAt": "2020-05-08T19:07:19Z", "path": "ops/bash/create-dashboard.sh", "diffHunk": "@@ -0,0 +1,7 @@\n+#!/bin/bash\n+\n+curl -X POST \"https://monitoring.googleapis.com/v1/projects/$(gcloud config get-value project)/dashboards\" \\", "originalCommit": "0955b23d161dcac105a61c411f27a58adb33e90e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzQyMQ==", "url": "https://github.com/all-of-us/workbench/pull/3560#discussion_r422407421", "bodyText": "+1 - this should be avoided. The biggest risk is that you set this to prod, forget, start working on something entirely unrelated and implicitly start mutating production", "author": "calbach", "createdAt": "2020-05-08T22:40:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMxOTY0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAwMzQ4MQ==", "url": "https://github.com/all-of-us/workbench/pull/3560#discussion_r423003481", "bodyText": "Fair enough, though no worse than the Cloud Console. In almost all cases, the target name will include a project identifier, but I agree it's not a spectacular practice when test and production share the same account.", "author": "jaycarlton", "createdAt": "2020-05-11T12:28:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMxOTY0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyMjI1Mw==", "url": "https://github.com/all-of-us/workbench/pull/3560#discussion_r422322253", "bodyText": "also jq", "author": "jmthibault79", "createdAt": "2020-05-08T19:12:34Z", "path": "ops/bash/README.md", "diffHunk": "@@ -0,0 +1,11 @@\n+# Bash Ops Snippets\n+This directory has a smattering of bash goodies for working with GCP and Stackdriver Monitoring\n+especially.\n+\n+## Prerequisites\n+* `bash`\n+* `gcloud`\n+* `curl`", "originalCommit": "0955b23d161dcac105a61c411f27a58adb33e90e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "530c3cf59e824b3870d4e6971236e0fcdaf1380b", "url": "https://github.com/all-of-us/workbench/commit/530c3cf59e824b3870d4e6971236e0fcdaf1380b", "message": "Merge branch 'master' into jaycarlton/bashSnippets", "committedDate": "2020-05-12T22:26:59Z", "type": "commit"}, {"oid": "b784b4feb2da65f4c6e9aaa927d2d2fb8898a1a3", "url": "https://github.com/all-of-us/workbench/commit/b784b4feb2da65f4c6e9aaa927d2d2fb8898a1a3", "message": "fixes", "committedDate": "2020-05-12T22:41:36Z", "type": "commit"}, {"oid": "a8c5bf8bf48f9362bbe9e63ee530027944f5568b", "url": "https://github.com/all-of-us/workbench/commit/a8c5bf8bf48f9362bbe9e63ee530027944f5568b", "message": "Merge branch 'master' into jaycarlton/bashSnippets", "committedDate": "2020-05-13T15:01:42Z", "type": "commit"}, {"oid": "370ea651a5819d83b64822b9f3690fe2bc4394b4", "url": "https://github.com/all-of-us/workbench/commit/370ea651a5819d83b64822b9f3690fe2bc4394b4", "message": "remove the default project usage", "committedDate": "2020-05-13T15:22:15Z", "type": "commit"}]}