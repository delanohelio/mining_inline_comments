{"pr_number": 3551, "pr_title": "[RW-4913][risk=no] Improve reliability of 2FA redirects", "pr_createdAt": "2020-05-07T14:11:07Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3551", "timeline": [{"oid": "935af58977842083c4128b7ee1eca67625f694ba", "url": "https://github.com/all-of-us/workbench/commit/935af58977842083c4128b7ee1eca67625f694ba", "message": "Remove the /u/2/ from the 2FA redirect URL.", "committedDate": "2020-05-07T13:53:44Z", "type": "commit"}, {"oid": "e935e37e60ead9126fdf756282241343666d60d1", "url": "https://github.com/all-of-us/workbench/commit/e935e37e60ead9126fdf756282241343666d60d1", "message": "Switch to explicit Account Chooser approach and add unit test.", "committedDate": "2020-05-07T15:59:17Z", "type": "commit"}, {"oid": "153b94255feb05d70df2a5ead0255655e7416294", "url": "https://github.com/all-of-us/workbench/commit/153b94255feb05d70df2a5ead0255655e7416294", "message": "Update to latest URL and add a unit test.", "committedDate": "2020-05-09T01:42:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0MDg0Mw==", "url": "https://github.com/all-of-us/workbench/pull/3551#discussion_r422440843", "bodyText": "Side note: this seems like a pretty clunky way to get the stubbed profile into the profile store, but I didn't see any obviously better pattern. Open to suggestions.", "author": "gjuggler", "createdAt": "2020-05-09T02:05:29Z", "path": "ui/src/app/pages/homepage/registration-dashboard.spec.tsx", "diffHunk": "@@ -15,8 +17,13 @@ describe('RegistrationDashboard', () => {\n     (<RegistrationDashboard {...props}/>);\n   };\n \n-  beforeEach(() => {\n+  beforeEach(async() => {\n     registerApiClient(ProfileApi, new ProfileApiStub());\n+    userProfileStore.next({", "originalCommit": "153b94255feb05d70df2a5ead0255655e7416294", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjUzNjYzNg==", "url": "https://github.com/all-of-us/workbench/pull/3551#discussion_r422536636", "bodyText": "Looks like that's the standard pattern, agreed it's a bit clunky.", "author": "calbach", "createdAt": "2020-05-09T19:32:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ0MDg0Mw=="}], "type": "inlineReview"}]}