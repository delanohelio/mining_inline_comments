{"pr_number": 4143, "pr_title": "[no ticket][risk=no] Puppeteer fix a flaky test", "pr_createdAt": "2020-10-09T18:29:30Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4143", "timeline": [{"oid": "54dd25940818f2c3c6424c58458dbd819b2bd082", "url": "https://github.com/all-of-us/workbench/commit/54dd25940818f2c3c6424c58458dbd819b2bd082", "message": "modal waitForLoad change", "committedDate": "2020-10-09T18:23:44Z", "type": "commit"}, {"oid": "360254cdfa6cecf5cb1bddeb7e6b7ed4050979b9", "url": "https://github.com/all-of-us/workbench/commit/360254cdfa6cecf5cb1bddeb7e6b7ed4050979b9", "message": "throw err", "committedDate": "2020-10-09T18:24:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY4MDUxMQ==", "url": "https://github.com/all-of-us/workbench/pull/4143#discussion_r503680511", "bodyText": "This appears to ahve created a circular dependency, resulting in an error importing Modal from ConceptSetSaveModal. moving waitWhileLoading into waits-utils may be the easiest path forward.\nLonger term, I suggest removing any dependency from utils -> Page, or components -> Page. This seems like it will just cause more of these issues going forwards.", "author": "calbach", "createdAt": "2020-10-13T05:45:52Z", "path": "e2e/app/component/modal.ts", "diffHunk": "@@ -8,6 +8,7 @@ import {savePageToFile, takeScreenshot} from 'utils/save-file-utils';\n import {LinkText} from 'app/text-labels';\n import {getPropValue} from 'utils/element-utils';\n import * as fp from 'lodash/fp';\n+import {waitWhileLoading} from 'utils/test-utils';", "originalCommit": "360254cdfa6cecf5cb1bddeb7e6b7ed4050979b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA2NTYwNg==", "url": "https://github.com/all-of-us/workbench/pull/4143#discussion_r504065606", "bodyText": "Fixed in #4151", "author": "jmthibault79", "createdAt": "2020-10-13T15:51:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY4MDUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEwNjgyMA==", "url": "https://github.com/all-of-us/workbench/pull/4143#discussion_r504106820", "bodyText": "Sorry. I should have seen it. Thank you @jmthibault79", "author": "aweng98", "createdAt": "2020-10-13T16:44:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY4MDUxMQ=="}], "type": "inlineReview"}]}