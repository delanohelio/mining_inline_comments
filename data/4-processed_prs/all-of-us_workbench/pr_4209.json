{"pr_number": 4209, "pr_title": "[noTicket] Fix :Update/Save Survey Concept Set using the new criteria search", "pr_createdAt": "2020-10-26T18:56:43Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4209", "timeline": [{"oid": "d46dac99e7909a3c719e155a18e766a784b1a03e", "url": "https://github.com/all-of-us/workbench/commit/d46dac99e7909a3c719e155a18e766a784b1a03e", "message": "Save survey", "committedDate": "2020-10-26T18:53:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIzNDI5OA==", "url": "https://github.com/all-of-us/workbench/pull/4209#discussion_r512234298", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                <div style={{marginLeft: '2rem'}} data-test-id='concept-set-domain'>\n          \n          \n            \n                                <div style={{marginLeft: '2rem', textTransform: 'capitalize'}} data-test-id='concept-set-domain'>", "author": "dolbeew", "createdAt": "2020-10-26T20:03:57Z", "path": "ui/src/app/pages/data/concept/concept-set-details.tsx", "diffHunk": "@@ -339,8 +348,7 @@ export const ConceptSetDetails = fp.flow(withUrlParams(), withCurrentWorkspace()\n                       Participant Count: {!!conceptSet.participantCount ? conceptSet.participantCount.toLocaleString() : ''}\n                     </div>\n                     <div style={{marginLeft: '2rem'}} data-test-id='concept-set-domain'>", "originalCommit": "d46dac99e7909a3c719e155a18e766a784b1a03e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI1MzkwMA==", "url": "https://github.com/all-of-us/workbench/pull/4209#discussion_r512253900", "bodyText": "Done and updated screenshot", "author": "NehaBroad", "createdAt": "2020-10-26T20:39:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIzNDI5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIzNjk3Mw==", "url": "https://github.com/all-of-us/workbench/pull/4209#discussion_r512236973", "bodyText": "Can you add a space on either side of '-' and capitalize the survey name?\nSeems that fp.capitalize only affects the first word of a string, might be better to use textTransform: 'capitalize' on the div.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          ? fp.capitalize(conceptSet.domain.toString() + '-' + conceptSet.survey) :\n          \n          \n            \n                          fp.capitalize(conceptSet.domain.toString()) ;\n          \n          \n            \n                          ? conceptSet.domain.toString() + ' - ' + conceptSet.survey\n          \n          \n            \n                          : conceptSet.domain.toString() ;", "author": "dolbeew", "createdAt": "2020-10-26T20:09:08Z", "path": "ui/src/app/pages/data/concept/concept-set-details.tsx", "diffHunk": "@@ -264,6 +264,15 @@ export const ConceptSetDetails = fp.flow(withUrlParams(), withCurrentWorkspace()\n       navigateByUrl('workspaces/' + workspace.namespace + '/' + workspace.id + '/data/concepts' + queryParams);\n     }\n \n+    get displayDomainName() {\n+      const {conceptSet} = this.state;\n+      return conceptSet.domain === Domain.PHYSICALMEASUREMENT\n+          ? 'Physical Measurements' :\n+          conceptSet.domain === Domain.SURVEY\n+              ? fp.capitalize(conceptSet.domain.toString() + '-' + conceptSet.survey) :\n+              fp.capitalize(conceptSet.domain.toString()) ;", "originalCommit": "d46dac99e7909a3c719e155a18e766a784b1a03e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI1Mzk2Mg==", "url": "https://github.com/all-of-us/workbench/pull/4209#discussion_r512253962", "bodyText": "Done and updated screenshot", "author": "NehaBroad", "createdAt": "2020-10-26T20:40:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIzNjk3Mw=="}], "type": "inlineReview"}, {"oid": "f3f2adae09d82d24c1efea87ad0944a9665b80e6", "url": "https://github.com/all-of-us/workbench/commit/f3f2adae09d82d24c1efea87ad0944a9665b80e6", "message": "PR Comment: Use textTransform", "committedDate": "2020-10-26T20:39:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI2MzQ0Mw==", "url": "https://github.com/all-of-us/workbench/pull/4209#discussion_r512263443", "bodyText": "Sorry, I must have had my local changes different from the suggestions I made. I think we need both to get the survey name display to match other domains.\n\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          ? conceptSet.domain.toString() + ' - ' + conceptSet.survey : conceptSet.domain.toString() ;\n          \n          \n            \n                        ? fp.capitalize(conceptSet.domain.toString() + ' - ' + conceptSet.survey) :\n          \n          \n            \n                        fp.capitalize(conceptSet.domain.toString()) ;", "author": "dolbeew", "createdAt": "2020-10-26T20:57:31Z", "path": "ui/src/app/pages/data/concept/concept-set-details.tsx", "diffHunk": "@@ -264,6 +264,14 @@ export const ConceptSetDetails = fp.flow(withUrlParams(), withCurrentWorkspace()\n       navigateByUrl('workspaces/' + workspace.namespace + '/' + workspace.id + '/data/concepts' + queryParams);\n     }\n \n+    get displayDomainName() {\n+      const {conceptSet} = this.state;\n+      return conceptSet.domain === Domain.PHYSICALMEASUREMENT\n+          ? 'Physical Measurements' :\n+          conceptSet.domain === Domain.SURVEY\n+              ? conceptSet.domain.toString() + ' - ' + conceptSet.survey : conceptSet.domain.toString() ;", "originalCommit": "f3f2adae09d82d24c1efea87ad0944a9665b80e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM0OTA1MA==", "url": "https://github.com/all-of-us/workbench/pull/4209#discussion_r512349050", "bodyText": "capitalize is only changing the case of the first letter of first word, i am using\nfp.startCase(fp.toLower(conceptSet.domain.toString())) + ' - ' + fp.startCase(fp.toLower(conceptSet.survey.toString()))\nnow and have updated the screen shot to match what you have.\nAlso the reason i have to separate out for domain as well as survey is because otherwise i was loosing '-'", "author": "NehaBroad", "createdAt": "2020-10-27T00:37:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI2MzQ0Mw=="}], "type": "inlineReview"}, {"oid": "8dfca1603c8878fd9e27758b1cfc128bbbbb3724", "url": "https://github.com/all-of-us/workbench/commit/8dfca1603c8878fd9e27758b1cfc128bbbbb3724", "message": "PR Comments", "committedDate": "2020-10-27T00:41:08Z", "type": "commit"}, {"oid": "30f91c24f51cd6ceaeacb0d6980e03a6f52b12f1", "url": "https://github.com/all-of-us/workbench/commit/30f91c24f51cd6ceaeacb0d6980e03a6f52b12f1", "message": "Easier to read", "committedDate": "2020-10-27T02:09:58Z", "type": "commit"}]}