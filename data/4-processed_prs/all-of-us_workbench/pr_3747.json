{"pr_number": 3747, "pr_title": "[RW-5162][risk=no] creating new criteria generation script and adding in ICD9 codes", "pr_createdAt": "2020-07-06T19:43:40Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3747", "timeline": [{"oid": "8b07c38aa27c338f2299ec60a863c88f506106ed", "url": "https://github.com/all-of-us/workbench/commit/8b07c38aa27c338f2299ec60a863c88f506106ed", "message": "creating new criteria table and adding new counts for ICD9 codes", "committedDate": "2020-07-02T18:38:26Z", "type": "commit"}, {"oid": "b678ccfaf7f265d6e7782d256e321965fcac50c1", "url": "https://github.com/all-of-us/workbench/commit/b678ccfaf7f265d6e7782d256e321965fcac50c1", "message": "reverting docker-compose", "committedDate": "2020-07-02T19:33:51Z", "type": "commit"}, {"oid": "8602507366a1534e0b379aa8dcf724584ef93216", "url": "https://github.com/all-of-us/workbench/commit/8602507366a1534e0b379aa8dcf724584ef93216", "message": "fixing a few bugs, adding lots of comments", "committedDate": "2020-07-06T19:39:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ0NDY0NQ==", "url": "https://github.com/all-of-us/workbench/pull/3747#discussion_r450444645", "bodyText": "Are replacing generate-cb-criteria-tables.sh with this file? If so should we delete generate-cb-criteria-tables.sh?", "author": "freemabd", "createdAt": "2020-07-06T19:50:00Z", "path": "api/db-cdr/generate-cdr/make-bq-criteria-tables.sh", "diffHunk": "@@ -0,0 +1,550 @@\n+#!/bin/bash", "originalCommit": "8602507366a1534e0b379aa8dcf724584ef93216", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ0NjE2Mg==", "url": "https://github.com/all-of-us/workbench/pull/3747#discussion_r450446162", "bodyText": "It will eventually replace it. It is a slow re-write. Once this new file is complete, we can drop the old one", "author": "jscherdin", "createdAt": "2020-07-06T19:53:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ0NDY0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ0Nzc3MQ==", "url": "https://github.com/all-of-us/workbench/pull/3747#discussion_r450447771", "bodyText": "Ok, if it's a slow rewrite should we revert this change in case we have to regenerate tables in prod or synth?", "author": "freemabd", "createdAt": "2020-07-06T19:56:47Z", "path": "api/libproject/devstart.rb", "diffHunk": "@@ -1007,7 +1007,7 @@ def generate_cb_criteria_tables(cmd_name, *args)\n   op.parse.validate\n \n   common = Common.new\n-  common.run_inline %W{docker-compose run --rm db-make-bq-tables ./generate-cdr/generate-cb-criteria-tables.sh #{op.opts.bq_project} #{op.opts.bq_dataset} #{op.opts.data_browser} #{op.opts.dry_run}}\n+  common.run_inline %W{docker-compose run --rm db-make-bq-tables ./generate-cdr/make-bq-criteria-tables.sh #{op.opts.bq_project} #{op.opts.bq_dataset} #{op.opts.data_browser} #{op.opts.dry_run}}", "originalCommit": "8602507366a1534e0b379aa8dcf724584ef93216", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ0ODk1NQ==", "url": "https://github.com/all-of-us/workbench/pull/3747#discussion_r450448955", "bodyText": "yeah. I will make that change", "author": "jscherdin", "createdAt": "2020-07-06T19:59:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ0Nzc3MQ=="}], "type": "inlineReview"}, {"oid": "a5f0981bd3268167f9cbe4b7854bab5c030abc3a", "url": "https://github.com/all-of-us/workbench/commit/a5f0981bd3268167f9cbe4b7854bab5c030abc3a", "message": "reverting change to devstart", "committedDate": "2020-07-06T19:59:58Z", "type": "commit"}]}