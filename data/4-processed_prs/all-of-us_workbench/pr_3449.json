{"pr_number": 3449, "pr_title": "[RW-4722][Risk=no] Remove default selections from workspace-edit page", "pr_createdAt": "2020-04-22T14:30:23Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3449", "timeline": [{"oid": "5feca743154e6d68c25b1c131f6447a144621950", "url": "https://github.com/all-of-us/workbench/commit/5feca743154e6d68c25b1c131f6447a144621950", "message": "[RW-4722][Risk=no] Remove default selections from workspace-edit page", "committedDate": "2020-04-22T14:29:43Z", "type": "commit"}, {"oid": "1fa17d0320799f71a519d695a95969e2e54b8e18", "url": "https://github.com/all-of-us/workbench/commit/1fa17d0320799f71a519d695a95969e2e54b8e18", "message": "Fix tests", "committedDate": "2020-04-22T15:18:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4NzM3NQ==", "url": "https://github.com/all-of-us/workbench/pull/3449#discussion_r413087375", "bodyText": "There was weird spacing here, because it was including all the whitespace at the start of each line. This fixes that.", "author": "s-rubenstein", "createdAt": "2020-04-22T15:33:02Z", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -504,9 +504,8 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n       if (rp.label === 'Other') {\n         children = <TextArea value={this.state.workspace.researchPurpose.otherDisseminateResearchFindings}\n                              onChange={v => this.updateOtherDisseminateResearch(v)}\n-                             placeholder='Specify the name of the forum (journal, scientific\n-                             conference, blog etc.) through which you will disseminate your\n-                             findings, if available.'\n+                             placeholder={'Specify the name of the forum (journal, scientific conference, blog etc.)' +", "originalCommit": "1fa17d0320799f71a519d695a95969e2e54b8e18", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4ODA0OQ==", "url": "https://github.com/all-of-us/workbench/pull/3449#discussion_r413088049", "bodyText": "I noticed previously that this error would show up if other wasn't selected, if isSpecificPopulationValid was false (e.g., nothing was yet selected). This fixes that.", "author": "s-rubenstein", "createdAt": "2020-04-22T15:33:49Z", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -604,9 +603,12 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n \n     get isOtherSpecificPopulationValid() {\n       const researchPurpose = this.state.workspace.researchPurpose;\n-      return this.isSpecificPopulationValid && (\n-          !fp.includes(SpecificPopulationEnum.OTHER, researchPurpose.populationDetails) ||\n-          (researchPurpose.otherPopulationDetails && researchPurpose.otherPopulationDetails.length <= 100));\n+      // Avoids null pointers. We don't want to show this error message if nothing is selected yet.", "originalCommit": "1fa17d0320799f71a519d695a95969e2e54b8e18", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE3NTM4Mw==", "url": "https://github.com/all-of-us/workbench/pull/3449#discussion_r413175383", "bodyText": "thanks for this fix!", "author": "NehaBroad", "createdAt": "2020-04-22T17:27:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4ODA0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4ODY5NQ==", "url": "https://github.com/all-of-us/workbench/pull/3449#discussion_r413088695", "bodyText": "We had inconsistent numbering here, so I removed the number symbols where it wasn't consistent.", "author": "s-rubenstein", "createdAt": "2020-04-22T15:34:36Z", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -1173,21 +1181,23 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n                   You must select a billing account</div>}\n                 {errors.primaryPurpose && <div> You must choose at least one primary research\n                   purpose (Question 1)</div>}\n+                {errors.diseaseOfFocus && <div> You must specify a disease of focus and it should be at most 80 characters</div>}\n                 {errors.otherPrimaryPurpose && <div> Other primary purpose should be of at most 500 characters</div>}\n                 {errors.anticipatedFindings && <div> Answer for <i>What are the anticipated findings\n-                  from the study? (Question # 2.1)</i> cannot be empty</div>}", "originalCommit": "1fa17d0320799f71a519d695a95969e2e54b8e18", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA4OTEyMA==", "url": "https://github.com/all-of-us/workbench/pull/3449#discussion_r413089120", "bodyText": "Added (Question 3) and (Question 4) per Karthik's request, to have consistency with labeling there.", "author": "s-rubenstein", "createdAt": "2020-04-22T15:35:08Z", "path": "ui/src/app/pages/workspace/workspace-edit.tsx", "diffHunk": "@@ -1173,21 +1181,23 @@ export const WorkspaceEdit = fp.flow(withRouteConfigData(), withCurrentWorkspace\n                   You must select a billing account</div>}\n                 {errors.primaryPurpose && <div> You must choose at least one primary research\n                   purpose (Question 1)</div>}\n+                {errors.diseaseOfFocus && <div> You must specify a disease of focus and it should be at most 80 characters</div>}\n                 {errors.otherPrimaryPurpose && <div> Other primary purpose should be of at most 500 characters</div>}\n                 {errors.anticipatedFindings && <div> Answer for <i>What are the anticipated findings\n-                  from the study? (Question # 2.1)</i> cannot be empty</div>}\n+                  from the study? (Question 2.1)</i> cannot be empty</div>}\n                 {errors.scientificApproach && <div> Answer for <i>What are the scientific\n-                  approaches you plan to use for your study (Question # 2.2)</i> cannot be empty</div>}\n+                  approaches you plan to use for your study (Question 2.2)</i> cannot be empty</div>}\n                 {errors.intendedStudy && <div> Answer for<i>What are the specific scientific question(s) you intend to study\n-                  (Question # 2.3)</i> cannot be empty</div>}\n-                {errors.specificPopulation && <div> You must specify a population of study</div>}\n-                {errors.diseaseOfFocus && <div> You must specify a disease of focus and it should be at most 80 characters</div>}\n-                {errors.researchOutcoming && <div> You must specify the outcome of the research</div>}\n-                {errors.disseminate && <div> You must specific how you plan to disseminate your research findings</div>}\n+                  (Question 2.3)</i> cannot be empty</div>}\n+                {errors.disseminate && <div> You must specific how you plan to disseminate your research findings (Question 3)</div>}", "originalCommit": "1fa17d0320799f71a519d695a95969e2e54b8e18", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c8866d0606acfb8d203c348264cbe90aaeec810b", "url": "https://github.com/all-of-us/workbench/commit/c8866d0606acfb8d203c348264cbe90aaeec810b", "message": "Fix state variables", "committedDate": "2020-04-22T15:36:40Z", "type": "commit"}, {"oid": "cc1d0d77cc40d5259d0bc06281270debe23f91c0", "url": "https://github.com/all-of-us/workbench/commit/cc1d0d77cc40d5259d0bc06281270debe23f91c0", "message": "Update error messages", "committedDate": "2020-04-22T15:56:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE3NTE0NQ==", "url": "https://github.com/all-of-us/workbench/pull/3449#discussion_r413175145", "bodyText": "can we keep this and change true to false? just to be sure that neither yes nor NO is selected by default?", "author": "NehaBroad", "createdAt": "2020-04-22T17:27:16Z", "path": "ui/src/app/pages/workspace/workspace-edit.spec.tsx", "diffHunk": "@@ -78,9 +78,6 @@ describe('WorkspaceEdit', () => {\n     // Ensure the 'drug development' checkbox is not checked when creating.\n     expect(wrapper.find('[data-test-id=\"researchPurpose-checkbox\"]').first().prop('checked'))\n       .toEqual(false);\n-\n-    expect(wrapper.find('[data-test-id=\"specific-population-no\"]').first().prop('checked'))\n-      .toEqual(true);", "originalCommit": "cc1d0d77cc40d5259d0bc06281270debe23f91c0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d5721293a36975c69911a89f6608853532f2f86c", "url": "https://github.com/all-of-us/workbench/commit/d5721293a36975c69911a89f6608853532f2f86c", "message": "Add back check", "committedDate": "2020-04-22T18:58:58Z", "type": "commit"}]}