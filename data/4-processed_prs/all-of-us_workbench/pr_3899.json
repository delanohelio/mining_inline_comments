{"pr_number": 3899, "pr_title": "[risk=no][no ticket] Trim whitespace from Institution Display Name and Other Text", "pr_createdAt": "2020-08-20T15:07:14Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3899", "timeline": [{"oid": "0a064f0d3858fc061266ba04591e8e98697286f5", "url": "https://github.com/all-of-us/workbench/commit/0a064f0d3858fc061266ba04591e8e98697286f5", "message": "Trim whitespace on blur", "committedDate": "2020-08-20T14:53:24Z", "type": "commit"}, {"oid": "e616fb3ef614e60326b237276e491de75a290b0e", "url": "https://github.com/all-of-us/workbench/commit/e616fb3ef614e60326b237276e491de75a290b0e", "message": "copypasta", "committedDate": "2020-08-20T15:04:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA1NzkzOA==", "url": "https://github.com/all-of-us/workbench/pull/3899#discussion_r474057938", "bodyText": "Attempting to trim for onChange immediately removes all trailing spaces, making it impossible to type one.\nonBlur fixes it in both cases: the user immediately hits Save or moves on to a different input component.", "author": "jmthibault79", "createdAt": "2020-08-20T15:10:12Z", "path": "ui/src/app/pages/admin/admin-institution-edit.tsx", "diffHunk": "@@ -330,6 +330,7 @@ export class AdminInstitutionEditImpl extends React.Component<UrlParamsProps, In\n                 inputStyle={{width: '16rem', marginTop: '0.3rem'}}\n                 labelText='Institution Name'\n                 onChange={v => this.setState(fp.set(['institution', 'displayName'], v))}", "originalCommit": "e616fb3ef614e60326b237276e491de75a290b0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "931a35b0e8b9f997bb8d69542491f4445222a475", "url": "https://github.com/all-of-us/workbench/commit/931a35b0e8b9f997bb8d69542491f4445222a475", "message": "also trim before sorting", "committedDate": "2020-08-20T15:26:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA3MTE5MQ==", "url": "https://github.com/all-of-us/workbench/pull/3899#discussion_r474071191", "bodyText": "To prevent new-user confusion.\nI chose NOT to trim for the sorting function on the Inst Admin page, to make the problem visible to admins.", "author": "jmthibault79", "createdAt": "2020-08-20T15:29:39Z", "path": "ui/src/app/pages/login/account-creation/account-creation-institution.tsx", "diffHunk": "@@ -110,7 +110,7 @@ export class AccountCreationInstitution extends React.Component<Props, State> {\n       const details = await institutionApi().getPublicInstitutionDetails();\n       this.setState({\n         loadingInstitutions: false,\n-        institutions: fp.sortBy( institution => institution.displayName, details.institutions)\n+        institutions: fp.sortBy( institution => institution.displayName.trim(), details.institutions)", "originalCommit": "931a35b0e8b9f997bb8d69542491f4445222a475", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}