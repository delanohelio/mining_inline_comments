{"pr_number": 3257, "pr_title": "[RW-4569][risk=no] Add user-facing error message when user creation fails", "pr_createdAt": "2020-03-16T20:29:32Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3257", "timeline": [{"oid": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794", "url": "https://github.com/all-of-us/workbench/commit/66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794", "message": "Add user-facing error message when user creation fails.", "committedDate": "2020-03-16T18:53:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzA1Ng==", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393297056", "bodyText": "Will this handle all errors? It looks like it just tests the one?", "author": "s-rubenstein", "createdAt": "2020-03-16T20:40:32Z", "path": "ui/src/app/pages/login/account-creation/account-creation-survey.spec.tsx", "diffHunk": "@@ -58,3 +69,28 @@ it('should load existing profile data', async() => {\n   // Ethnicity\n   expect(wrapper.find('[data-test-id=\"dropdown-ethnicity\"]').prop('value')).toEqual(Ethnicity.HISPANIC);\n });\n+\n+it('should handle error when creating an account', async() => {", "originalCommit": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMwMDQ0Mg==", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393300442", "bodyText": "Yes, the code handles any type of error. This test demonstrates the end-to-end flow and validates that the error message is templated into the modal dialog. I don't think explicit tests for different error codes would be worth the redundancy.", "author": "gjuggler", "createdAt": "2020-03-16T20:46:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzA1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzNjkwOQ==", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393336909", "bodyText": "Sorry, yes, I understood the feature, I was just nitpicking the text on the test. This seems fine then.", "author": "s-rubenstein", "createdAt": "2020-03-16T22:09:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzA1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzM5Mw==", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393297393", "bodyText": "nit: remove console log", "author": "s-rubenstein", "createdAt": "2020-03-16T20:41:12Z", "path": "ui/src/app/pages/login/account-creation/account-creation-survey.tsx", "diffHunk": "@@ -73,6 +76,7 @@ export class AccountCreationSurvey extends React.Component<AccountCreationSurvey\n   createAccount(): void {\n     const {invitationKey, termsOfServiceVersion, onComplete} = this.props;\n     this.setState({creatingAccount: true});\n+    console.log('creating account...', invitationKey);", "originalCommit": "66c53bb1d9dfbeaf3feae1d1dd32869d75a6e794", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMwNTcwOA==", "url": "https://github.com/all-of-us/workbench/pull/3257#discussion_r393305708", "bodyText": "Done", "author": "gjuggler", "createdAt": "2020-03-16T20:56:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5NzM5Mw=="}], "type": "inlineReview"}, {"oid": "f61d2c91213b6d4a6aab2df60f521363d0cb76fa", "url": "https://github.com/all-of-us/workbench/commit/f61d2c91213b6d4a6aab2df60f521363d0cb76fa", "message": "Remove console.log", "committedDate": "2020-03-16T20:54:34Z", "type": "commit"}]}