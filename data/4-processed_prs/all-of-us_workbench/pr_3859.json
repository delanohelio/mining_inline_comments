{"pr_number": 3859, "pr_title": "[no ticket][risk=no] Puppeteer code refactoring", "pr_createdAt": "2020-08-05T16:39:20Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3859", "timeline": [{"oid": "002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "url": "https://github.com/all-of-us/workbench/commit/002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "message": "fixes", "committedDate": "2020-08-05T16:34:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg1OTYzNQ==", "url": "https://github.com/all-of-us/workbench/pull/3859#discussion_r465859635", "bodyText": "Removing unused functions: getProperty, getAttribute and exists.", "author": "aweng98", "createdAt": "2020-08-05T16:40:28Z", "path": "e2e/app/page/base-page.ts", "diffHunk": "@@ -50,44 +50,5 @@ export default abstract class BasePage {\n     return indx !== -1;\n   }\n \n-  /**\n-   * <pre>\n-   * Get the value of a particular property for a particular element\n-   * </pre>\n-   * @param {ElementHandle} element - The web element to get the property value for\n-   * @param {string} property - The property to look for\n-   * @returns {string} value - The property value\n-   */\n-  async getProperty(element: ElementHandle, property: string): Promise<string> {", "originalCommit": "002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg1OTk3Mg==", "url": "https://github.com/all-of-us/workbench/pull/3859#discussion_r465859972", "bodyText": "simplify code.", "author": "aweng98", "createdAt": "2020-08-05T16:40:59Z", "path": "e2e/app/page/google-login.ts", "diffHunk": "@@ -87,8 +87,7 @@ export default class GoogleLoginPage {\n    * Click Next button to submit login credential.\n    */\n   async submit() : Promise<void> {\n-    const button = await this.page.waitForXPath(FieldSelector.SubmitButton, {visible: true});\n-    await (Button.asBaseElement(this.page, button)).clickAndWait();\n+    return (new Button(this.page, FieldSelector.SubmitButton)).clickAndWait();", "originalCommit": "002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg2MDgwOQ==", "url": "https://github.com/all-of-us/workbench/pull/3859#discussion_r465860809", "bodyText": "Add checks in Home page for:\n\nSee All Workspaces link\nA workspace card or Create your first workspace message if no workspace exists.", "author": "aweng98", "createdAt": "2020-08-05T16:42:21Z", "path": "e2e/app/page/home-page.ts", "diffHunk": "@@ -24,6 +24,13 @@ export default class HomePage extends AuthenticatedPage {\n     try {\n       await Promise.all([\n         waitForDocumentTitle(this.page, PageTitle),\n+        // Look for \"See All Workspacess\" link.\n+        this.getSeeAllWorkspacesLink().then( (element) => element.asElementHandle()),\n+        // Look for either a workspace card or msg.\n+        Promise.race([\n+          this.page.waitForXPath('//*[@data-test-id=\"workspace-card\"]', {visible: true}),\n+          this.page.waitForXPath('//text()[contains(., \"Create your first workspace\")]', {visible: true}),\n+        ]),", "originalCommit": "002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg2MTQ2Nw==", "url": "https://github.com/all-of-us/workbench/pull/3859#discussion_r465861467", "bodyText": "tests is working again.", "author": "aweng98", "createdAt": "2020-08-05T16:43:17Z", "path": "e2e/tests/cohorts/cohorts-create.spec.ts", "diffHunk": "@@ -10,8 +10,7 @@ import DataResourceCard from 'app/component/data-resource-card';\n import Button from 'app/element/button';\n \n \n-// TODO(RW-5345): Fix and re-enable.", "originalCommit": "002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg2MTU4NA==", "url": "https://github.com/all-of-us/workbench/pull/3859#discussion_r465861584", "bodyText": "tests is working again.", "author": "aweng98", "createdAt": "2020-08-05T16:43:28Z", "path": "e2e/tests/conceptsets/conceptset-edit.spec.ts", "diffHunk": "@@ -12,8 +12,7 @@ import Link from 'app/element/link';\n import {getPropValue} from 'utils/element-utils';\n \n \n-// TODO(RW-5345): Fix and re-enable.\n-xdescribe('Editing and Copying Concept Sets', () => {", "originalCommit": "002583cb53f6b1fe5d5b742791ca9e9ab1744d14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}