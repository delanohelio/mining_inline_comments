{"pr_number": 3004, "pr_title": "[RW-4281][RW-4280][Risk=no] Update Account Creation", "pr_createdAt": "2020-01-15T18:55:38Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3004", "timeline": [{"oid": "50b73c62024ddc946b8329ce138840579f70ded8", "url": "https://github.com/all-of-us/workbench/commit/50b73c62024ddc946b8329ce138840579f70ded8", "message": "Remove extra background images and update UX for account creation", "committedDate": "2020-01-15T18:52:47Z", "type": "commit"}, {"oid": "bad802c3719f464822ead0b251ab1d0332f379cc", "url": "https://github.com/all-of-us/workbench/commit/bad802c3719f464822ead0b251ab1d0332f379cc", "message": "Add tooltip and domain", "committedDate": "2020-01-15T19:08:11Z", "type": "commit"}, {"oid": "bc06741d4fbc99dfda3ebf03a4acc93422917cf1", "url": "https://github.com/all-of-us/workbench/commit/bc06741d4fbc99dfda3ebf03a4acc93422917cf1", "message": "fix linting", "committedDate": "2020-01-15T19:11:32Z", "type": "commit"}, {"oid": "c344367d6bc3ee18a2da569ec984c829e68a7129", "url": "https://github.com/all-of-us/workbench/commit/c344367d6bc3ee18a2da569ec984c829e68a7129", "message": "Fix tests", "committedDate": "2020-01-15T19:21:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2NjQxOA==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367066418", "bodyText": "It'll be nice to have consistent class and const name. Also since it contains login page technically its not account creation", "author": "NehaBroad", "createdAt": "2020-01-15T19:33:51Z", "path": "ui/src/app/pages/login/account-creation-images.tsx", "diffHunk": "@@ -0,0 +1,15 @@\n+export interface PageImages {\n+  backgroundImgSrc: string;\n+  smallerBackgroundImgSrc: string;\n+}\n+\n+export const pageImages = {", "originalCommit": "c344367d6bc3ee18a2da569ec984c829e68a7129", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Nzk2NA==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367067964", "bodyText": "Can we use  tag here?", "author": "NehaBroad", "createdAt": "2020-01-15T19:37:03Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -76,33 +77,88 @@ export interface AccountCreationState {\n }\n \n const styles = {\n-  sectionLabel: {\n-    height: '22px',\n+  asideContainer: {\n+    backgroundColor: colorWithWhiteness(colors.primary, 0.85),\n+    borderRadius: 8,\n+    height: '17rem',\n+    width: '18rem',\n+    padding: '0.5rem'\n+  },\n+  asideHeader: {\n     color: colors.primary,\n-    fontFamily: 'Montserrat',\n-    fontSize: '16px',\n     fontWeight: 600,\n-    lineHeight: '22px',\n-    paddingBottom: '1.5rem'\n+    fontSize: 16,\n+  },\n+  asideText: {\n+    fontSize: 14,\n+    fontWeight: 400,\n+    color: colors.primary,\n+  },\n+  multiInputSpacing: {\n+    marginLeft: '2rem'\n+  },\n+  publiclyDisplayedText: {\n+    fontSize: 12,\n+    fontWeight: 400\n+  },\n+  sectionHeader: {\n+    width: '26rem',\n+    borderBottom: `1px solid ${colors.primary}`,\n+    color: colors.primary,\n+    fontWeight: 600,\n+    fontSize: 18,\n+    marginBottom: '1rem',\n   },\n-  section: {\n+  sectionInput: {\n     width: '12rem',\n     height: '1.5rem'\n+  },\n+  text: {\n+    fontSize: 14,\n+    color: colors.primary,\n+    lineHeight: '22px',\n   }\n };\n \n const nameLength = 80;\n \n export const Section = (props) => {\n   return <FormSection\n-      style={{display: 'flex', flexDirection: 'column', paddingTop: '1rem', ...props.style}}>\n-    <label style={styles.sectionLabel}>\n+      style={{display: 'flex', flexDirection: 'column', ...props.style}}>", "originalCommit": "c344367d6bc3ee18a2da569ec984c829e68a7129", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA3NDY0NA==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367074644", "bodyText": "I don't think we can make it a FlexColumn, because its a FormSection not a div. I can abstract that to a style object though", "author": "s-rubenstein", "createdAt": "2020-01-15T19:51:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Nzk2NA=="}], "type": "inlineReview"}, {"oid": "c1d9dbc29807ae52810a337c55f2d21a57a1f021", "url": "https://github.com/all-of-us/workbench/commit/c1d9dbc29807ae52810a337c55f2d21a57a1f021", "message": "PR Feedback", "committedDate": "2020-01-15T19:53:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyNjgzMw==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367226833", "bodyText": "Nit: can this be moved out its difficult to read the labelText html", "author": "NehaBroad", "createdAt": "2020-01-16T04:34:27Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -396,173 +452,197 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={\n+                                        <div>New Username", "originalCommit": "c1d9dbc29807ae52810a337c55f2d21a57a1f021", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyNzM0Mg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367227342", "bodyText": "nit: indent", "author": "NehaBroad", "createdAt": "2020-01-16T04:36:47Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -396,173 +452,197 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={\n+                                        <div>New Username\n+                                          <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+                                            (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+                                            periods (.) (minimum of 3 characters and maximum of 64\n+                                            characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+                                            contain more than one period (.) in a row.</div>}\n+                                                          style={{marginLeft: '0.5rem'}}>\n+                                            <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+                                          </TooltipTrigger>\n+                                        </div>}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid\n+                </Error>}\n+                <MultiSelectWithLabel placeholder={'You can select more than one'} options={AccountCreationOptions.degree}\n+                                      containerStyle={styles.multiInputSpacing} value={this.state.profile.degrees}\n+                                      labelText='Your degree'\n+                                      onChange={(e) => this.updateProfileObject('degrees', e.value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header={<React.Fragment>\n+            <div>Your institutional mailing address</div>\n+            <div style={styles.asideText}>We use your address if we need to send correspondence about the program;\n+              your information will not be shared or displayed publicly</div>\n+          </React.Fragment>}>\n+            <FlexColumn style={{lineHeight: '1rem'}}>\n+              <FlexRow>\n+                <TextInputWithLabel dataTestId='streetAddress' inputName='streetAddress'\n+                                    placeholder='Street Address' value={streetAddress1} labelText='Street Address 1'\n+                                    onChange={value => this.updateAddress('streetAddress1', value)}/>\n+                <TextInputWithLabel dataTestId='streetAddress2' inputName='streetAddress2' placeholder='Street Address 2'\n+                                    value={streetAddress2} labelText='Street Address 2'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('streetAddress2', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+              <TextInputWithLabel dataTestId='city' inputName='city' placeholder='City' value={city} labelText='City'", "originalCommit": "c1d9dbc29807ae52810a337c55f2d21a57a1f021", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyODEwMg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367228102", "bodyText": "Hmm i think this (institutionalAffiliations && institutionalAffiliations.length > 0?..:..) be taken out in a function with a parameter as the property to return the 0th  parameter value if true else ''", "author": "NehaBroad", "createdAt": "2020-01-16T04:41:36Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -396,173 +452,197 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={\n+                                        <div>New Username\n+                                          <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+                                            (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+                                            periods (.) (minimum of 3 characters and maximum of 64\n+                                            characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+                                            contain more than one period (.) in a row.</div>}\n+                                                          style={{marginLeft: '0.5rem'}}>\n+                                            <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+                                          </TooltipTrigger>\n+                                        </div>}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid\n+                </Error>}\n+                <MultiSelectWithLabel placeholder={'You can select more than one'} options={AccountCreationOptions.degree}\n+                                      containerStyle={styles.multiInputSpacing} value={this.state.profile.degrees}\n+                                      labelText='Your degree'\n+                                      onChange={(e) => this.updateProfileObject('degrees', e.value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header={<React.Fragment>\n+            <div>Your institutional mailing address</div>\n+            <div style={styles.asideText}>We use your address if we need to send correspondence about the program;\n+              your information will not be shared or displayed publicly</div>\n+          </React.Fragment>}>\n+            <FlexColumn style={{lineHeight: '1rem'}}>\n+              <FlexRow>\n+                <TextInputWithLabel dataTestId='streetAddress' inputName='streetAddress'\n+                                    placeholder='Street Address' value={streetAddress1} labelText='Street Address 1'\n+                                    onChange={value => this.updateAddress('streetAddress1', value)}/>\n+                <TextInputWithLabel dataTestId='streetAddress2' inputName='streetAddress2' placeholder='Street Address 2'\n+                                    value={streetAddress2} labelText='Street Address 2'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('streetAddress2', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+              <TextInputWithLabel dataTestId='city' inputName='city' placeholder='City' value={city} labelText='City'\n+                                  onChange={value => this.updateAddress('city', value)}/>\n+              <TextInputWithLabel dataTestId='state' inputName='state' placeholder='State' value={state} labelText='State'\n+                                  containerStyle={styles.multiInputSpacing}\n+                                  onChange={value => this.updateAddress('state', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+                <TextInputWithLabel dataTestId='zip' inputName='zip' placeholder='Zip Code'\n+                                    value={zipCode} labelText='Zip Code'\n+                                    onChange={value => this.updateAddress('zipCode', value)}/>\n+                <TextInputWithLabel dataTestId='country' inputName='country' placeholder='Country' value={country}\n+                                    labelText='Country' containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('country', value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header='Institutional Affiliation'>\n+            <label style={{color: colors.primary, fontSize: 16}}>\n+              Are you affiliated with an Academic Research Institution?\n+            </label>\n+            <div style={{paddingTop: '0.5rem'}}>\n+              <RadioButton data-test-id='show-institution-yes'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: true}); }}\n+                           checked={this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{paddingRight: '3rem', color: colors.primary}}>\n+                Yes\n+              </label>\n+              <RadioButton data-test-id='show-institution-no'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: false}); }}\n+                           checked={!this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{color: colors.primary}}>No</label>\n             </div>\n+          </Section>\n+          {this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <TextInput data-test-id='institutionname' style={{width: '16rem', marginBottom: '0.5rem',\n+              marginTop: '0.5rem'}}\n+              value={institutionalAffiliations && institutionalAffiliations.length > 0 ?\n+                  institutionalAffiliations[0].institution : ''}\n+              placeholder='Institution Name'\n+              onChange={value => this.updateInstitutionAffiliation('institution', value)}\n+                       ></TextInput>\n+            <Dropdown data-test-id='institutionRole' value={institutionalAffiliations &&\n+            institutionalAffiliations.length > 0 ?\n+                institutionalAffiliations[0].role : ''}\n+                      onChange={e => this.updateInstitutionAffiliation('role', e.value)}\n+                      placeholder='Which of the following describes your role'\n+                      style={{width: '16rem'}} options={AccountCreationOptions.roles}/>\n+          </FlexColumn>}\n+          {!this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <Dropdown data-test-id='affiliation'\n+                      style={{width: '18rem', marginBottom: '0.5rem', marginTop: '0.5rem'}}\n+                      value={institutionalAffiliations && institutionalAffiliations.length > 0 ?\n+                          institutionalAffiliations[0].nonAcademicAffiliation : ''}", "originalCommit": "c1d9dbc29807ae52810a337c55f2d21a57a1f021", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ3MDI4Ng==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367470286", "bodyText": "I didn't actually touch this code, I think it is an indentation change? I can change it if you'd like?", "author": "s-rubenstein", "createdAt": "2020-01-16T15:07:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyODEwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIyODM5NQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367228395", "bodyText": "do we need this?", "author": "NehaBroad", "createdAt": "2020-01-16T04:43:28Z", "path": "ui/src/app/pages/login/sign-in.tsx", "diffHunk": "@@ -145,11 +135,12 @@ export const SignInReact = withWindowSize()(\n     onKeyVerified(invitationKey: string) {\n       this.setState({\n         invitationKey: invitationKey,\n-        currentStep: 'accountCreation'\n+        currentStep: {stepName: 'accountCreation'}\n       });\n     }\n \n     setProfile(profile, currentStep) {\n+      console.log(currentStep);", "originalCommit": "c1d9dbc29807ae52810a337c55f2d21a57a1f021", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c13cc44e32545cf3152e0e8c9a82aa1142dda4b4", "url": "https://github.com/all-of-us/workbench/commit/c13cc44e32545cf3152e0e8c9a82aa1142dda4b4", "message": "PR feedback", "committedDate": "2020-01-16T15:09:04Z", "type": "commit"}, {"oid": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "url": "https://github.com/all-of-us/workbench/commit/6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "message": "PR feedback", "committedDate": "2020-01-16T15:34:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUwMjczMw==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367502733", "bodyText": "Why does this need a magic-number width instead of 100% or something?", "author": "als364", "createdAt": "2020-01-16T16:00:39Z", "path": "ui/src/app/pages/login/account-creation/account-creation-survey.tsx", "diffHunk": "@@ -127,7 +128,7 @@ export class AccountCreationSurvey extends React.Component<AccountCreationSurvey\n \n   render() {\n     const {profile: {demographicSurvey}} = this.state;\n-    return <div style={{marginTop: '1rem', paddingLeft: '3rem'}}>\n+    return <div style={{marginTop: '1rem', paddingLeft: '3rem', width: '26rem'}}>", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMTM4Mg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367611382", "bodyText": "I was going off of the model of input widths dictating most of the page width here. For the previous page, because there needs to be content on the left and right, it was important to set some fixed width, so the content doesn't fall in a weird way.\nIn many ways, this is all relative to input sizing.", "author": "s-rubenstein", "createdAt": "2020-01-16T19:38:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUwMjczMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxNDY5Mg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367514692", "bodyText": "Should this be configured per-environment?", "author": "als364", "createdAt": "2020-01-16T16:20:33Z", "path": "ui/src/app/pages/login/account-creation/account-creation.spec.tsx", "diffHunk": "@@ -20,6 +21,7 @@ const component = () => {\n };\n \n beforeEach(() => {\n+  serverConfigStore.next({gsuiteDomain: 'researchallofus.org'});", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMTU1NQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367611555", "bodyText": "This is a test. So it is just for the sake of the tests here. It is configured per env in live code.", "author": "s-rubenstein", "createdAt": "2020-01-16T19:38:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxNDY5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxOTUxMw==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367519513", "bodyText": "Why the absolute height and width?", "author": "als364", "createdAt": "2020-01-16T16:28:24Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -76,33 +77,88 @@ export interface AccountCreationState {\n }\n \n const styles = {\n-  sectionLabel: {\n-    height: '22px',\n+  asideContainer: {\n+    backgroundColor: colorWithWhiteness(colors.primary, 0.85),\n+    borderRadius: 8,\n+    height: '17rem',", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMjEzNQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367612135", "bodyText": "This is a container for text, so it all is relative to text sizing here. This page is going to be a lot more on absolute height and width I think, because of the nature of it being a pretty heavy weight form. (This one is probably the most changeable to percentages, but in general I wanted to stick with the theme of the page.)", "author": "s-rubenstein", "createdAt": "2020-01-16T19:39:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxOTUxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxOTY1OQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367519659", "bodyText": "another absolute height", "author": "als364", "createdAt": "2020-01-16T16:28:37Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -76,33 +77,88 @@ export interface AccountCreationState {\n }\n \n const styles = {\n-  sectionLabel: {\n-    height: '22px',\n+  asideContainer: {\n+    backgroundColor: colorWithWhiteness(colors.primary, 0.85),\n+    borderRadius: 8,\n+    height: '17rem',\n+    width: '18rem',\n+    padding: '0.5rem'\n+  },\n+  asideHeader: {\n     color: colors.primary,\n-    fontFamily: 'Montserrat',\n-    fontSize: '16px',\n     fontWeight: 600,\n-    lineHeight: '22px',\n-    paddingBottom: '1.5rem'\n+    fontSize: 16,\n+  },\n+  asideText: {\n+    fontSize: 14,\n+    fontWeight: 400,\n+    color: colors.primary,\n   },\n-  section: {\n+  multiInputSpacing: {\n+    marginLeft: '2rem'\n+  },\n+  publiclyDisplayedText: {\n+    fontSize: 12,\n+    fontWeight: 400\n+  },\n+  sectionHeader: {\n+    width: '26rem',", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMjMxMg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367612312", "bodyText": "This is absolute based on the inputs, essentially 2x input + 2rem padding.", "author": "s-rubenstein", "createdAt": "2020-01-16T19:40:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUxOTY1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMDE5Mw==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367520193", "bodyText": "empty string should be falsey so you shouldn't need the second half of the &&", "author": "als364", "createdAt": "2020-01-16T16:29:29Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -376,11 +432,17 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n       institution, nonAcademicAffiliation, role}, validationCheck);\n     this.setState({errors: errors}, () => {\n       if (!this.state.errors) {\n-        this.props.setProfile(this.state.profile, 'accountCreationSurvey');\n+        this.props.setProfile(this.state.profile, {stepName: 'accountCreationSurvey'});\n       }\n     });\n   }\n \n+  getInstitutionalAffiliationPropertyOrEmptyString(property: string) {\n+    const {institutionalAffiliations} = this.state.profile;\n+    return institutionalAffiliations &&", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMjkzNg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367612936", "bodyText": "Empty string is falsy, but [] is truthy. This is an array not a string.", "author": "s-rubenstein", "createdAt": "2020-01-16T19:41:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMDE5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMzMxMQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367523311", "bodyText": "Why do we do this instead of a *Required and starring required fields, which is a much more widely used indicator of what is required and what is not?", "author": "als364", "createdAt": "2020-01-16T16:34:31Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMzgwMg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367613802", "bodyText": "I haven't done validation on these pages yet (I have a follow up subtask on that) but I think we are trying to set the default as required on this page, because fields are far more likely to be required. Lou might have a better sense on design implications though, I can ask.", "author": "s-rubenstein", "createdAt": "2020-01-16T19:43:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMzMxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYyNDE4MA==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367624180", "bodyText": "From Lou:\nYes - I originally had * and response was \u201cI don\u2019t see them\u201d\nSo I made them red and response was \u201cAll I see are the *\u201d\nSo we decided that we state \u201cAll fields required unless\nindicated as optional\u201d\nOther than the Optional Demo Survey, only field optional\nis the professional URL I believe", "author": "s-rubenstein", "createdAt": "2020-01-16T20:07:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMzMxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzY1MzE4Mw==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367653183", "bodyText": "\u00af\\_(\u30c4)_/\u00af", "author": "als364", "createdAt": "2020-01-16T21:14:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyMzMxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyNDkwNw==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367524907", "bodyText": "nit: should we stick the actual {username} is not a valid username in here instead?", "author": "als364", "createdAt": "2020-01-16T16:37:19Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMzkwMg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367613902", "bodyText": "Sure! Will change", "author": "s-rubenstein", "createdAt": "2020-01-16T19:43:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyNDkwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyNTM0MA==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367525340", "bodyText": "Wording is odd here - maybe Contact email is invalid?", "author": "als364", "createdAt": "2020-01-16T16:38:03Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMzk4Mg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367613982", "bodyText": "Will update", "author": "s-rubenstein", "createdAt": "2020-01-16T19:43:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUyNTM0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU3ODkxNg==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367578916", "bodyText": "While trying this on my local i cannot see any required field error on Clicking the next button", "author": "NehaBroad", "createdAt": "2020-01-16T18:27:40Z", "path": "ui/src/app/pages/login/account-creation/account-creation.tsx", "diffHunk": "@@ -390,179 +452,198 @@ export class AccountCreation extends React.Component<AccountCreationProps, Accou\n         address: {\n           streetAddress1, streetAddress2, city, state, zipCode, country\n         },\n-        institutionalAffiliations\n       },\n     } = this.state;\n+    const usernameLabelText =\n+      <div>New Username\n+        <TooltipTrigger side='top' content={<div>Usernames can contain only letters\n+          (a-z), numbers (0-9), dashes (-), underscores (_), apostrophes ('), and\n+          periods (.) (minimum of 3 characters and maximum of 64\n+          characters).<br/>Usernames cannot begin or end with a period (.) and may not\n+          contain more than one period (.) in a row.</div>}\n+                        style={{marginLeft: '0.5rem'}}>\n+          <InfoIcon style={{'height': '16px', 'paddingLeft': '2px'}}/>\n+        </TooltipTrigger>\n+      </div>;\n+\n     return <div id='account-creation'\n                 style={{paddingTop: environment.enableAccountPages ? '1.5rem' :\n                       '3rem', paddingRight: '3rem', paddingLeft: '3rem'}}>\n-      <Header>Create your account</Header>\n-      {environment.enableAccountPages && <div style={{marginTop: '0.5rem'}}>\n-        <label style={{color: colors.primary, fontSize: 16}}>\n-          Please complete Step 1 of 2\n-        </label>\n-        {this.state.errors && <div className='error-messages'>\n-          <ValidationError>\n-            {summarizeErrors(this.state.errors)}\n-          </ValidationError>\n-        </div>}\n-        <Section header='Create an All of Us username'>\n-          <div>\n-            <TextInput id='username' name='username' placeholder='New Username'\n-                       value={username}\n-                       onChange={v => this.usernameChanged(v)}\n-                       invalid={this.state.usernameConflictError || this.usernameInvalidError()}\n-                       style={{...styles.section, marginRight: '0.5rem'}}/>\n-            <div style={inputStyles.iconArea}>\n-              <ValidationIcon validSuccess={this.usernameValid}/>\n-            </div>\n-            <TooltipTrigger content={<div>Usernames can contain only letters (a-z),\n-              numbers (0-9), dashes (-), underscores (_), apostrophes ('), and periods (.)\n-              (minimum of 3 characters and maximum of 64 characters).<br/>Usernames cannot\n-              begin or end with a period (.) and may not contain more than one period (.) in a row.\n-            </div>}>\n-              <InfoIcon style={{'height': '22px', 'paddingLeft': '2px'}}/>\n-            </TooltipTrigger>\n-            {this.state.usernameConflictError &&\n-            <div style={{height: '1.5rem'}}>\n-              <Error id='usernameConflictError'>\n-                Username is already taken.\n-              </Error></div>}\n-            {this.usernameInvalidError() &&\n-            <div style={{height: '1.5rem'}}><Error id='usernameError'>\n-              Username is not a valid username.\n-            </Error></div>}\n+      <div style={{fontSize: 28, fontWeight: 400, color: colors.primary}}>Create your account</div>\n+      {environment.enableAccountPages && <FlexRow>\n+        <FlexColumn style={{marginTop: '0.5rem'}}>\n+          <div style={{...styles.text, fontSize: 16, marginTop: '1rem'}}>\n+            Please complete Step 1 of 2\n           </div>\n-        </Section>\n-        <Section header='About you'>\n-          <FlexColumn>\n-            <div style={{paddingBottom: '1rem'}}>\n-              <TextInput id='givenName' name='givenName' autoFocus\n-                         placeholder='First Name'\n-                         value={givenName}\n-                         invalid={givenName.length > nameLength}\n-                         style={{...styles.section, marginRight: '2rem'}}\n-                         onChange={value => this.updateProfileObject('givenName', value)}/>\n-              {givenName.length > nameLength &&\n-              <ErrorMessage id='givenNameError'>\n-                First Name must be {nameLength} characters or less.\n-              </ErrorMessage>}\n-              <TextInput id='familyName' name='familyName' placeholder='Last Name'\n-                         value={familyName}\n-                         invalid={familyName.length > nameLength}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('familyName', v)}/>\n-              {familyName.length > nameLength &&\n-              <ErrorMessage id='familyNameError'>\n-                Last Name must be {nameLength} character or less.\n-              </ErrorMessage>}\n+          <div style={{...styles.text, fontSize: 12, marginTop: '0.7rem'}}>All fields required unless indicated as optional</div>\n+          <Section header={<div>Create an <i>All of Us</i> username</div>}>\n+            <div>\n+              <FlexRow>\n+                  <TextInputWithLabel value={username} inputId='username' inputName='username'\n+                                      placeholder='New Username' invalid={\n+                                        this.state.usernameConflictError || this.usernameInvalidError()}\n+                                      containerStyle={{width: '26rem'}} labelText={usernameLabelText}\n+                                    onChange={v => this.usernameChanged(v)}>\n+                  <div style={{...inputStyles.iconArea}}>\n+                    <ValidationIcon validSuccess={this.usernameValid}/>\n+                  </div>\n+                  <i style={{...styles.asideText, marginLeft: 4}}>@{serverConfigStore.getValue().gsuiteDomain}</i>\n+                </TextInputWithLabel>\n+\n+              </FlexRow>\n+              {this.state.usernameConflictError &&\n+              <div style={{height: '1.5rem'}}>\n+                <Error id='usernameConflictError'>\n+                  Username is already taken.\n+                </Error></div>}\n+              {this.usernameInvalidError() &&\n+              <div style={{height: '1.5rem'}}><Error id='usernameError'>\n+                Username is not a valid username.\n+              </Error></div>}\n             </div>\n-            <div style={{display: 'flex', alignItems: 'center'}}>\n-              <TextInput id='contactEmail' name='contactEmail'\n-                         placeholder='Email Address'\n-                         value={contactEmail}\n-                         style={styles.section}\n-                         onChange={v => this.updateProfileObject('contactEmail', v)}/>\n-              {this.state.invalidEmail &&\n-              <Error id='invalidEmailError'>\n-                Contact Email Id is invalid\n-              </Error>}\n-              <MultiSelect placeholder='Degree' options={AccountCreationOptions.degree}\n-                           style={{...styles.section, marginLeft: '2rem', overflowY: 'none'}}\n-                           value={this.state.profile.degrees}\n-                           onChange={(e) =>\n-                             this.updateProfileObject('degrees', e.value)}/>\n+          </Section>\n+          <Section header={<div>About you <i style={styles.publiclyDisplayedText}>Publicly displayed</i></div>}>\n+            <FlexColumn>\n+              <FlexRow style={{paddingBottom: '1rem'}}>\n+                <TextInputWithLabel value={givenName} inputId='givenName' inputName='givenName' placeholder='First Name'\n+                                    invalid={givenName.length > nameLength} labelText='First Name'\n+                                    onChange={value => this.updateProfileObject('givenName', value)} />\n+                {givenName.length > nameLength &&\n+                <ErrorMessage id='givenNameError'>\n+                  First Name must be {nameLength} characters or less.\n+                </ErrorMessage>}\n+                <TextInputWithLabel value={familyName} inputId='familyName' inputName='familyName' placeholder='Last Name'\n+                                    invalid={familyName.length > nameLength} containerStyle={styles.multiInputSpacing}\n+                                    onChange={v => this.updateProfileObject('familyName', v)}\n+                                    labelText='Last Name'/>\n+                {familyName.length > nameLength &&\n+                <ErrorMessage id='familyNameError'>\n+                  Last Name must be {nameLength} character or less.\n+                </ErrorMessage>}\n+              </FlexRow>\n+              <FlexRow style={{alignItems: 'center'}}>\n+                <TextInputWithLabel value={contactEmail} inputId='contactEmail' inputName='contactEmail'\n+                                    placeholder='Email Address'\n+                                    invalid={this.state.invalidEmail} labelText='Email Address'\n+                                    onChange={v => this.updateProfileObject('contactEmail', v)}/>\n+                {this.state.invalidEmail &&\n+                <Error id='invalidEmailError'>\n+                  Contact Email Id is invalid\n+                </Error>}\n+                <MultiSelectWithLabel placeholder={'You can select more than one'} options={AccountCreationOptions.degree}\n+                                      containerStyle={styles.multiInputSpacing} value={this.state.profile.degrees}\n+                                      labelText='Your degree'\n+                                      onChange={(e) => this.updateProfileObject('degrees', e.value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header={<React.Fragment>\n+            <div>Your institutional mailing address</div>\n+            <div style={styles.asideText}>We use your address if we need to send correspondence about the program;\n+              your information will not be shared or displayed publicly</div>\n+          </React.Fragment>}>\n+            <FlexColumn style={{lineHeight: '1rem'}}>\n+              <FlexRow>\n+                <TextInputWithLabel dataTestId='streetAddress' inputName='streetAddress'\n+                                    placeholder='Street Address' value={streetAddress1} labelText='Street Address 1'\n+                                    onChange={value => this.updateAddress('streetAddress1', value)}/>\n+                <TextInputWithLabel dataTestId='streetAddress2' inputName='streetAddress2' placeholder='Street Address 2'\n+                                    value={streetAddress2} labelText='Street Address 2'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('streetAddress2', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+                <TextInputWithLabel dataTestId='city' inputName='city' placeholder='City' value={city} labelText='City'\n+                                    onChange={value => this.updateAddress('city', value)}/>\n+                <TextInputWithLabel dataTestId='state' inputName='state' placeholder='State' value={state} labelText='State'\n+                                    containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('state', value)}/>\n+              </FlexRow>\n+              <FlexRow style={{marginTop: '0.75rem'}}>\n+                <TextInputWithLabel dataTestId='zip' inputName='zip' placeholder='Zip Code'\n+                                    value={zipCode} labelText='Zip Code'\n+                                    onChange={value => this.updateAddress('zipCode', value)}/>\n+                <TextInputWithLabel dataTestId='country' inputName='country' placeholder='Country' value={country}\n+                                    labelText='Country' containerStyle={styles.multiInputSpacing}\n+                                    onChange={value => this.updateAddress('country', value)}/>\n+              </FlexRow>\n+            </FlexColumn>\n+          </Section>\n+          <Section header='Institutional Affiliation'>\n+            <label style={{color: colors.primary, fontSize: 16}}>\n+              Are you affiliated with an Academic Research Institution?\n+            </label>\n+            <div style={{paddingTop: '0.5rem'}}>\n+              <RadioButton data-test-id='show-institution-yes'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: true}); }}\n+                           checked={this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{paddingRight: '3rem', color: colors.primary}}>\n+                Yes\n+              </label>\n+              <RadioButton data-test-id='show-institution-no'\n+                           onChange={() => {this.clearInstitutionAffiliation();\n+                             this.setState({showInstitution: false}); }}\n+                           checked={!this.state.showInstitution} style={{marginRight: '0.5rem'}}/>\n+              <label style={{color: colors.primary}}>No</label>\n             </div>\n+          </Section>\n+          {this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <TextInput data-test-id='institutionname' style={{width: '16rem', marginBottom: '0.5rem',\n+              marginTop: '0.5rem'}}\n+              value={this.getInstitutionalAffiliationPropertyOrEmptyString('institution')}\n+              placeholder='Institution Name'\n+              onChange={value => this.updateInstitutionAffiliation('institution', value)}\n+                       />\n+            <Dropdown data-test-id='institutionRole'\n+                      value={this.getInstitutionalAffiliationPropertyOrEmptyString('role')}\n+                      onChange={e => this.updateInstitutionAffiliation('role', e.value)}\n+                      placeholder='Which of the following describes your role'\n+                      style={{width: '16rem'}} options={AccountCreationOptions.roles}/>\n+          </FlexColumn>}\n+          {!this.state.showInstitution &&\n+          <FlexColumn style={{justifyContent: 'space-between'}}>\n+            <Dropdown data-test-id='affiliation'\n+                      style={{width: '18rem', marginBottom: '0.5rem', marginTop: '0.5rem'}}\n+                      value={this.getInstitutionalAffiliationPropertyOrEmptyString('nonAcademicAffiliation')}\n+                      options={AccountCreationOptions.nonAcademicAffiliations}\n+                      onChange={e => this.updateNonAcademicAffiliationRoles(e.value)}\n+                      placeholder='Which of the following better describes your affiliation?'/>\n+            {this.state.showNonAcademicAffiliationRole &&\n+            <Dropdown data-test-id='affiliationrole' placeholder='Which of the following describes your role'\n+                      options={this.state.rolesOptions}\n+                      value={this.getInstitutionalAffiliationPropertyOrEmptyString('role')}\n+                      onChange={e => this.selectNonAcademicAffiliationRoles(e.value)}\n+                      style={{width: '18rem'}}/>}\n+            {this.state.showNonAcademicAffiliationOther &&\n+            <TextInput value={this.getInstitutionalAffiliationPropertyOrEmptyString('other')}\n+                       onChange={value => this.updateInstitutionAffiliation('other', value)}\n+                       style={{marginTop: '1rem', width: '18rem'}}/>}\n+          </FlexColumn>}\n+          <FormSection style={{paddingBottom: '1rem'}}>\n+            <Button disabled={this.state.usernameCheckInProgress || this.isUsernameValidationError}\n+                    style={{'height': '2rem', 'width': '10rem'}}\n+                    onClick={() => this.validateAccountCreation()}>", "originalCommit": "6e925da182ab7ea8ee7e1b7ccd19e318f19e5745", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxNDMxOQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367614319", "bodyText": "Yes, I haven't super handled validation yet. I am planning on following up on that, but there should be no tooltip yet. I think the error shows up at the top of the page right now?", "author": "s-rubenstein", "createdAt": "2020-01-16T19:44:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU3ODkxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYyMzU2Ng==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367623566", "bodyText": "I do not see any errors on the top of my page as well", "author": "NehaBroad", "createdAt": "2020-01-16T20:05:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU3ODkxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzY0MTM4OQ==", "url": "https://github.com/all-of-us/workbench/pull/3004#discussion_r367641389", "bodyText": "Ah, yeah, I don't know if there's required field validation yet, thinking about it. I want to add that with this https://precisionmedicineinitiative.atlassian.net/secure/RapidBoard.jspa?rapidView=30&projectKey=RW&modal=detail&selectedIssue=RW-4283 for a full validation overhaul.", "author": "s-rubenstein", "createdAt": "2020-01-16T20:46:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU3ODkxNg=="}], "type": "inlineReview"}, {"oid": "db1fba553bf56f28b0528aed7dabbbf1ea470344", "url": "https://github.com/all-of-us/workbench/commit/db1fba553bf56f28b0528aed7dabbbf1ea470344", "message": "PR feedback", "committedDate": "2020-01-16T19:49:06Z", "type": "commit"}, {"oid": "f60740d163c0d9b1c44c10b2074e0fb1c58d430d", "url": "https://github.com/all-of-us/workbench/commit/f60740d163c0d9b1c44c10b2074e0fb1c58d430d", "message": "Now with validation", "committedDate": "2020-01-17T19:05:29Z", "type": "commit"}]}