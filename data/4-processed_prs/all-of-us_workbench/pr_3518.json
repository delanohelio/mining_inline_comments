{"pr_number": 3518, "pr_title": "[RW-4856][risk=no] Hide beta access banner when the module is turned off", "pr_createdAt": "2020-05-01T13:21:29Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3518", "timeline": [{"oid": "84acba07eceea18342ae6bf2001e0312becd62e8", "url": "https://github.com/all-of-us/workbench/commit/84acba07eceea18342ae6bf2001e0312becd62e8", "message": "Suppress beta access warning if the access module is turned off.", "committedDate": "2020-05-01T13:14:46Z", "type": "commit"}, {"oid": "16570cd0a7e94977c911336de23159ff197a960b", "url": "https://github.com/all-of-us/workbench/commit/16570cd0a7e94977c911336de23159ff197a960b", "message": "Fix dashboard tests.", "committedDate": "2020-05-01T13:19:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU0MTM0OQ==", "url": "https://github.com/all-of-us/workbench/pull/3518#discussion_r418541349", "bodyText": "nice", "author": "jmthibault79", "createdAt": "2020-05-01T13:30:34Z", "path": "ui/src/app/pages/homepage/registration-dashboard.spec.tsx", "diffHunk": "@@ -70,11 +70,25 @@ describe('RegistrationDashboard', () => {\n   });\n \n   it('should display a warning when beta access has not been granted', () => {\n+    serverConfigStore.next({...serverConfigStore.getValue(), enableBetaAccess: true});\n     props.betaAccessGranted = false;\n     const wrapper = component();\n     expect(wrapper.find('[data-test-id=\"beta-access-warning\"]').length).toBe(1);\n   });\n \n+  it('should clear warning when user has been granted beta access', () => {\n+    serverConfigStore.next({...serverConfigStore.getValue(), enableBetaAccess: true});\n+    props.betaAccessGranted = true;\n+    const wrapper = component();\n+    expect(wrapper.find('[data-test-id=\"beta-access-warning\"]').length).toBe(0);\n+  });\n+\n+  it('should not display a warning when enableBetaAccess is false', () => {", "originalCommit": "16570cd0a7e94977c911336de23159ff197a960b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}