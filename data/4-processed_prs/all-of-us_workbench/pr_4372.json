{"pr_number": 4372, "pr_title": "[noTicket][risk=low]Data dictionary entry for Fitbit", "pr_createdAt": "2020-12-07T22:23:45Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4372", "timeline": [{"oid": "f2ac7e9f4b8b16cbf8d40efe48fc50f4feab82ed", "url": "https://github.com/all-of-us/workbench/commit/f2ac7e9f4b8b16cbf8d40efe48fc50f4feab82ed", "message": "Fitbit data dictionary", "committedDate": "2020-12-07T22:21:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ1MTIxNA==", "url": "https://github.com/all-of-us/workbench/pull/4372#discussion_r538451214", "bodyText": "The name of this file is misspelled. Should be SyntheticDatasetV3_20200712.yaml", "author": "freemabd", "createdAt": "2020-12-08T14:45:26Z", "path": "api/tools/src/main/resources/data_dictionary_exports/SynthetucDataset_v3_20200712.yaml", "diffHunk": "@@ -0,0 +1,7920 @@\n+meta_data:", "originalCommit": "f2ac7e9f4b8b16cbf8d40efe48fc50f4feab82ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ2MTQzNQ==", "url": "https://github.com/all-of-us/workbench/pull/4372#discussion_r538461435", "bodyText": "How do I know which environment this file is for? In Preprod All of Us Dataset v4 points to R2019Q4R4 and in Prod All of Us Dataset v4 points to R2020Q4R2.  These are 2 different data dictionaries? This seems problematic", "author": "freemabd", "createdAt": "2020-12-08T14:54:41Z", "path": "api/tools/src/main/resources/data_dictionary_exports/AllofUsDatasetV4_20201207.yaml", "diffHunk": "@@ -0,0 +1,7920 @@\n+meta_data:", "originalCommit": "f2ac7e9f4b8b16cbf8d40efe48fc50f4feab82ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODUyMjU2Nw==", "url": "https://github.com/all-of-us/workbench/pull/4372#discussion_r538522567", "bodyText": "yeah.. IIRC this was because we didn't want to create an entry for every environment, CDR tuple so we needed a way for a single DD entry to refer to multiple CDRs. cdr_version_id didn't work since it's not the same across environments and I believe bigquery_dataset didn't work because multiple CDRs could refer to the same one in an environment.\nThe implementation for this feature was rushed out for a release and we never intended to keep this pattern of committing files to manage our data dictionaries. Maybe it's time we revisit and redesign the data ingestion portion. I'd love to be involved if we decide to do so.", "author": "ericsong", "createdAt": "2020-12-08T15:49:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ2MTQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODU5MzY2Mg==", "url": "https://github.com/all-of-us/workbench/pull/4372#discussion_r538593662", "bodyText": "I'd love to be involved if we decide to do so.\n\nSo this redesign feels like it should be part of our CDR indices build. This data dictionary is CDR driven and we have a different cloud mysql database that we build for all the data tools that is specific to a CDR. This really shouldn't exist outside of that context.", "author": "freemabd", "createdAt": "2020-12-08T16:51:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ2MTQzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODUyOTE1OQ==", "url": "https://github.com/all-of-us/workbench/pull/4372#discussion_r538529159", "bodyText": "I think this created_time needs to be updated. The data dictionary will only load new entries if the created_date is newer than the version it currently knows.", "author": "ericsong", "createdAt": "2020-12-08T15:55:01Z", "path": "api/tools/src/main/resources/data_dictionary_exports/AllofUsDatasetV4_20201207.yaml", "diffHunk": "@@ -0,0 +1,7920 @@\n+meta_data:\n+  -\n+    id: '1dsvJV8B7EXQj5EWa2XG-KAhs-l7FsQnyJSSFMstLF2U'\n+    name: 'All of Us Registered Tier CDR Data Dictionary'\n+    version: 3034\n+    created_time: 2020-12-07 14:17:00", "originalCommit": "f2ac7e9f4b8b16cbf8d40efe48fc50f4feab82ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODU0OTE3NQ==", "url": "https://github.com/all-of-us/workbench/pull/4372#discussion_r538549175", "bodyText": "done", "author": "NehaBroad", "createdAt": "2020-12-08T16:12:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODUyOTE1OQ=="}], "type": "inlineReview"}, {"oid": "faa2e77303e091e0267d636cbad189ff650bffda", "url": "https://github.com/all-of-us/workbench/commit/faa2e77303e091e0267d636cbad189ff650bffda", "message": "Update creation date", "committedDate": "2020-12-08T16:12:16Z", "type": "commit"}, {"oid": "6060d7d7c04384e385b96782a6aca236a82c6ae3", "url": "https://github.com/all-of-us/workbench/commit/6060d7d7c04384e385b96782a6aca236a82c6ae3", "message": "Rename file", "committedDate": "2020-12-08T19:01:17Z", "type": "commit"}]}