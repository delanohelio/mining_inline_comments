{"pr_number": 3957, "pr_title": "[risk=no][RW-5542] Correct issue with minimizeChrome", "pr_createdAt": "2020-09-02T20:06:52Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3957", "timeline": [{"oid": "2d320b2db54770c47f8ef17c8ea29a98274bdde8", "url": "https://github.com/all-of-us/workbench/commit/2d320b2db54770c47f8ef17c8ea29a98274bdde8", "message": "Correct issue with minimizeChrome", "committedDate": "2020-09-02T19:52:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQwNzIxOQ==", "url": "https://github.com/all-of-us/workbench/pull/3957#discussion_r482407219", "bodyText": "After the full React conversion, would this check be removed, or no? May be worth specifying.", "author": "calbach", "createdAt": "2020-09-02T20:19:36Z", "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -94,8 +98,11 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n             this.setSidebarState(false);\n           }\n         }));\n-    this.subscriptions.push(routeConfigDataStore.subscribe(({minimizeChrome}) => {\n-      this.displayNavBar = !minimizeChrome;\n+    this.subscriptions.push(routeConfigDataStore.subscribe((data) => {\n+      // ROUTER MIGRATION: Prevent dueling route configs during react transition - only apply minimizeChrome if there is route data", "originalCommit": "2d320b2db54770c47f8ef17c8ea29a98274bdde8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQ0NDYyOQ==", "url": "https://github.com/all-of-us/workbench/pull/3957#discussion_r482444629", "bodyText": "I removed the \"ROUTER CONVERSION\" portion of the comment. After thinking it through some more, this entire component will no longer exist. It will either need to be ported over to react or removed in favor of another strategy - thanks!", "author": "petesantos", "createdAt": "2020-09-02T20:47:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQwNzIxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQxODU1NA==", "url": "https://github.com/all-of-us/workbench/pull/3957#discussion_r482418554", "bodyText": "I don't fully follow - if this is a React route, is there guaranteed to be either no routeConfigData event, or just an empty object?", "author": "calbach", "createdAt": "2020-09-02T20:28:07Z", "path": "ui/src/app/pages/workspace/workspace-wrapper/component.ts", "diffHunk": "@@ -94,8 +98,11 @@ export class WorkspaceWrapperComponent implements OnInit, OnDestroy {\n             this.setSidebarState(false);\n           }\n         }));\n-    this.subscriptions.push(routeConfigDataStore.subscribe(({minimizeChrome}) => {\n-      this.displayNavBar = !minimizeChrome;\n+    this.subscriptions.push(routeConfigDataStore.subscribe((data) => {", "originalCommit": "2d320b2db54770c47f8ef17c8ea29a98274bdde8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQ0NzkwOQ==", "url": "https://github.com/all-of-us/workbench/pull/3957#discussion_r482447909", "bodyText": "All routes under/that utilize this component will be guaranteed to have an empty data object. You will get an error in Angular if no data object is specified in the route config.", "author": "petesantos", "createdAt": "2020-09-02T20:50:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjQxODU1NA=="}], "type": "inlineReview"}]}