{"pr_number": 3175, "pr_title": "[RW-4347][RISK=NO] Data use policy when uploading data into notebook VM", "pr_createdAt": "2020-02-23T15:18:55Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3175", "timeline": [{"oid": "3c2e9146de881c84d7cc2a71f4e25ef8b3e328cc", "url": "https://github.com/all-of-us/workbench/commit/3c2e9146de881c84d7cc2a71f4e25ef8b3e328cc", "message": "aou upload policy notebook", "committedDate": "2020-02-23T15:17:59Z", "type": "commit"}, {"oid": "63ee803b9046bfa1c76e1c0425ccb107c986812c", "url": "https://github.com/all-of-us/workbench/commit/63ee803b9046bfa1c76e1c0425ccb107c986812c", "message": "new line at the EOF", "committedDate": "2020-02-23T15:33:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTYxNg==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383061616", "bodyText": "nit: remove spaces surrounding the string confirm( \"...\" )  -> confirm(\"...\")", "author": "calbach", "createdAt": "2020-02-24T01:35:09Z", "path": "api/cluster-resources/aou-upload-policy-extension.js", "diffHunk": "@@ -0,0 +1,22 @@\n+// Workbench \"Upload policy\" extension, to show the policy before letting user upload any file\n+\n+define([\n+  'base/js/namespace'\n+], (Jupyter) => {\n+\n+  const load_upload_extension = () => {\n+  // This will open a dialog box when the user clicks Upload.\n+  // File will be uploaded only if the user clicks OK else it will just close the dialog box and do nothing.\n+\n+  $(\"#notebook_list_info input\").click(function() {\n+    return confirm( \"It is All of Us data use policy to not upload data or files containing \" +", "originalCommit": "63ee803b9046bfa1c76e1c0425ccb107c986812c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTY4NQ==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383061685", "bodyText": "uploaded", "author": "calbach", "createdAt": "2020-02-24T01:35:48Z", "path": "api/cluster-resources/aou-upload-policy-extension.js", "diffHunk": "@@ -0,0 +1,22 @@\n+// Workbench \"Upload policy\" extension, to show the policy before letting user upload any file\n+\n+define([\n+  'base/js/namespace'\n+], (Jupyter) => {\n+\n+  const load_upload_extension = () => {\n+  // This will open a dialog box when the user clicks Upload.\n+  // File will be uploaded only if the user clicks OK else it will just close the dialog box and do nothing.\n+\n+  $(\"#notebook_list_info input\").click(function() {\n+    return confirm( \"It is All of Us data use policy to not upload data or files containing \" +\n+        \"personally identifiable information (PII). Any external data, files, or software that \" +\n+        \"is upload into the Workspace should be exclusively for the research purpose that was \" +", "originalCommit": "63ee803b9046bfa1c76e1c0425ccb107c986812c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTc2Ng==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383061766", "bodyText": "Italicize All of Us if possible. Not sure whether HTML is supported here", "author": "calbach", "createdAt": "2020-02-24T01:36:37Z", "path": "api/cluster-resources/aou-upload-policy-extension.js", "diffHunk": "@@ -0,0 +1,22 @@\n+// Workbench \"Upload policy\" extension, to show the policy before letting user upload any file\n+\n+define([\n+  'base/js/namespace'\n+], (Jupyter) => {\n+\n+  const load_upload_extension = () => {\n+  // This will open a dialog box when the user clicks Upload.\n+  // File will be uploaded only if the user clicks OK else it will just close the dialog box and do nothing.\n+\n+  $(\"#notebook_list_info input\").click(function() {\n+    return confirm( \"It is All of Us data use policy to not upload data or files containing \" +", "originalCommit": "63ee803b9046bfa1c76e1c0425ccb107c986812c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMyOTEyNA==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383329124", "bodyText": "I did try that however HTML isnt supported in confirm box its a plain string. Should i replace confirm with customized one?", "author": "NehaBroad", "createdAt": "2020-02-24T15:23:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTc2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTg0Mg==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383061842", "bodyText": "I don't think this line is necessary - did you observe otherwise?", "author": "calbach", "createdAt": "2020-02-24T01:37:36Z", "path": "api/cluster-resources/initialize_notebook_cluster.sh", "diffHunk": "@@ -18,6 +18,9 @@ jupyter kernelspec uninstall -f pyspark3\n # snippet insertion, see README.md for more details.\n jupyter nbextension enable snippets_menu/main\n \n+# Section represents the jupyter page to which the extension will be applied to\n+jupyter nbextension enable aou-upload-policy-extension/main --section=tree", "originalCommit": "63ee803b9046bfa1c76e1c0425ccb107c986812c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMwNTQ4Mg==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383305482", "bodyText": "you mean the section? yes, if i just pass the script it gets loaded only for the jupyter notebook page. In order for it to be loaded/enabled on the jupyter tree section (where it list files etc) it needs to mention the section https://nbgrader.readthedocs.io/en/stable/user_guide/installation.html", "author": "NehaBroad", "createdAt": "2020-02-24T14:44:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MTg0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA2MjA2Ng==", "url": "https://github.com/all-of-us/workbench/pull/3175#discussion_r383062066", "bodyText": "Please specify which locations in the application this is guarding. I assume it's just for the file browser upload button.", "author": "calbach", "createdAt": "2020-02-24T01:40:24Z", "path": "api/cluster-resources/aou-upload-policy-extension.js", "diffHunk": "@@ -0,0 +1,22 @@\n+// Workbench \"Upload policy\" extension, to show the policy before letting user upload any file\n+\n+define([\n+  'base/js/namespace'\n+], (Jupyter) => {\n+\n+  const load_upload_extension = () => {\n+  // This will open a dialog box when the user clicks Upload.", "originalCommit": "63ee803b9046bfa1c76e1c0425ccb107c986812c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2dae46cbfd1b9a8c99f50b98bcd217f3e2d7f481", "url": "https://github.com/all-of-us/workbench/commit/2dae46cbfd1b9a8c99f50b98bcd217f3e2d7f481", "message": "PR Comments space and updated comments", "committedDate": "2020-02-24T15:16:50Z", "type": "commit"}, {"oid": "8b6cbc9bde649c22344ebc31635793db0fbfb0b6", "url": "https://github.com/all-of-us/workbench/commit/8b6cbc9bde649c22344ebc31635793db0fbfb0b6", "message": "Delete aou-upload-policy-extension.js\n\nStatic file will be generated automatically", "committedDate": "2020-02-24T15:27:04Z", "type": "commit"}]}