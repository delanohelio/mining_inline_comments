{"pr_number": 3937, "pr_title": "[no ticket][risk=no] Puppeteer circleci config change", "pr_createdAt": "2020-08-28T16:37:49Z", "pr_url": "https://github.com/all-of-us/workbench/pull/3937", "timeline": [{"oid": "610126eb9137510a5d2bf1f530bd4a1091654b0d", "url": "https://github.com/all-of-us/workbench/commit/610126eb9137510a5d2bf1f530bd4a1091654b0d", "message": "add new parameter: parallel_num", "committedDate": "2020-08-28T16:35:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQxNzMyMw==", "url": "https://github.com/all-of-us/workbench/pull/3937#discussion_r479417323", "bodyText": "Up parallelism from 3 to 4 in order to reduce e2e test duration time ~15 minutes.", "author": "aweng98", "createdAt": "2020-08-28T16:40:22Z", "path": ".circleci/config.yml", "diffHunk": "@@ -647,6 +650,7 @@ workflows:\n             - ui-unit-test\n       # On master branch merges, run Puppeteer tests after ui and api deployed to \"test\" env successfully.\n       - puppeteer-e2e-test:\n+          parallel_num: 4", "originalCommit": "610126eb9137510a5d2bf1f530bd4a1091654b0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQxNzczMw==", "url": "https://github.com/all-of-us/workbench/pull/3937#discussion_r479417733", "bodyText": "Only one e2e test is running in nightly job so parallelism: 1 makes sense.", "author": "aweng98", "createdAt": "2020-08-28T16:41:09Z", "path": ".circleci/config.yml", "diffHunk": "@@ -704,6 +709,7 @@ workflows:\n     jobs:\n       - api-bigquery-test\n       - puppeteer-e2e-test:\n+          parallel_num: 1", "originalCommit": "610126eb9137510a5d2bf1f530bd4a1091654b0d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQzNTQ5NA==", "url": "https://github.com/all-of-us/workbench/pull/3937#discussion_r479435494", "bodyText": "I would probably run it with the same parallelism here - is there a reason to make it slower?", "author": "calbach", "createdAt": "2020-08-28T17:16:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQxNzczMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ0NDYxMA==", "url": "https://github.com/all-of-us/workbench/pull/3937#discussion_r479444610", "bodyText": "registration.spec.ts is the only test that runs nightly. More machines to run one test is actually failing the job from jest error because there isn't any test to run on other machines.", "author": "aweng98", "createdAt": "2020-08-28T17:34:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQxNzczMw=="}], "type": "inlineReview"}]}