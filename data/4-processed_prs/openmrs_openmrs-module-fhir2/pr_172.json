{"pr_number": 172, "pr_title": "FM2-151: Update DiagnosticReport DAO and Service", "pr_createdAt": "2020-05-13T20:40:52Z", "pr_url": "https://github.com/openmrs/openmrs-module-fhir2/pull/172", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4Njg0NQ==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/172#discussion_r425086845", "bodyText": "Do you want to use newObs/obs as the argument name here?\nIt will align better with the exception being thrown hence more readable", "author": "jecihjoy", "createdAt": "2020-05-14T12:09:59Z", "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirDiagnosticReportDaoImpl.java", "diffHunk": "@@ -9,40 +9,24 @@\n  */\n package org.openmrs.module.fhir2.api.dao.impl;\n \n-import static org.hibernate.criterion.Restrictions.eq;\n-\n import lombok.AccessLevel;\n import lombok.Setter;\n-import org.hibernate.SessionFactory;\n import org.openmrs.Obs;\n import org.openmrs.api.db.DAOException;\n import org.openmrs.module.fhir2.api.dao.FhirDiagnosticReportDao;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.beans.factory.annotation.Qualifier;\n import org.springframework.stereotype.Component;\n \n @Component\n @Setter(AccessLevel.PACKAGE)\n-public class FhirDiagnosticReportDaoImpl implements FhirDiagnosticReportDao {\n-\t\n-\t@Autowired\n-\t@Qualifier(\"sessionFactory\")\n-\tSessionFactory sessionFactory;\n+public class FhirDiagnosticReportDaoImpl extends BaseFhirDao<Obs> implements FhirDiagnosticReportDao {\n \t\n \t@Override\n-\tpublic Obs getObsGroupByUuid(String uuid) {\n-\t\treturn (Obs) sessionFactory.getCurrentSession().createCriteria(Obs.class).createAlias(\"groupMembers\", \"group\")\n-\t\t        .add(eq(\"uuid\", uuid)).uniqueResult();\n-\t}\n-\t\n-\t@Override\n-\tpublic Obs saveObsGroup(Obs obs) throws DAOException {\n-\t\tif (!obs.isObsGrouping()) {\n+\tpublic Obs createOrUpdate(Obs newEntry) throws DAOException {", "originalCommit": "b8a610c105cd83d19296568146aeaae0dba9a31e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE3NDczOQ==", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/172#discussion_r425174739", "bodyText": "Done", "author": "varung-31", "createdAt": "2020-05-14T14:20:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4Njg0NQ=="}], "type": "inlineReview"}, {"oid": "afccaea34c4515a5f5b3e3325523ff98802c2e1a", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/afccaea34c4515a5f5b3e3325523ff98802c2e1a", "message": "FM2-151: Update DiagnosticReport DAO and Service", "committedDate": "2020-05-14T14:17:54Z", "type": "commit"}, {"oid": "afccaea34c4515a5f5b3e3325523ff98802c2e1a", "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/afccaea34c4515a5f5b3e3325523ff98802c2e1a", "message": "FM2-151: Update DiagnosticReport DAO and Service", "committedDate": "2020-05-14T14:17:54Z", "type": "forcePushed"}]}