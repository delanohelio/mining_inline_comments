{"pr_number": 599, "pr_title": "Fixed TestSSLEngine", "pr_createdAt": "2020-07-13T18:11:09Z", "pr_url": "https://github.com/dogtagpki/jss/pull/599", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzODM0MA==", "url": "https://github.com/dogtagpki/jss/pull/599#discussion_r453838340", "bodyText": "this still is the secondProtocol right?", "author": "SilleBille", "createdAt": "2020-07-13T18:13:44Z", "path": "org/mozilla/jss/tests/TestSSLEngine.java", "diffHunk": "@@ -66,13 +77,16 @@ public static void testBasics(SSLContext ctx) throws Exception {\n \n         // Tests {get,set}EnabledProtocols()\n         String[] protocols = ssle.getSupportedProtocols();\n-        assert protocols.length >= 2;\n-        String secondProtocol = protocols[1];\n-        String[] oneProtocols = new String[]{ secondProtocol };\n+\n+        // Fedora returns at least 2 supported protocols\n+        // in FIPS mode, but RHEL returns only 1.\n+        assert protocols.length >= 1;\n+        String firstProtocol = protocols[1];", "originalCommit": "0721fe53ef1190cfd1b20354001594cf937cc8f4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MTM0OA==", "url": "https://github.com/dogtagpki/jss/pull/599#discussion_r453841348", "bodyText": "Fixed. It should be the first protocol.", "author": "edewata", "createdAt": "2020-07-13T18:18:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzODM0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MDg5MA==", "url": "https://github.com/dogtagpki/jss/pull/599#discussion_r453840890", "bodyText": "protocols[0] maybe?", "author": "ladycfu", "createdAt": "2020-07-13T18:18:03Z", "path": "org/mozilla/jss/tests/TestSSLEngine.java", "diffHunk": "@@ -66,13 +77,16 @@ public static void testBasics(SSLContext ctx) throws Exception {\n \n         // Tests {get,set}EnabledProtocols()\n         String[] protocols = ssle.getSupportedProtocols();\n-        assert protocols.length >= 2;\n-        String secondProtocol = protocols[1];\n-        String[] oneProtocols = new String[]{ secondProtocol };\n+\n+        // Fedora returns at least 2 supported protocols\n+        // in FIPS mode, but RHEL returns only 1.\n+        assert protocols.length >= 1;\n+        String firstProtocol = protocols[1];", "originalCommit": "0721fe53ef1190cfd1b20354001594cf937cc8f4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MzI0OQ==", "url": "https://github.com/dogtagpki/jss/pull/599#discussion_r453843249", "bodyText": "Yes, fixed.", "author": "edewata", "createdAt": "2020-07-13T18:22:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MDg5MA=="}], "type": "inlineReview"}, {"oid": "43d501633d09bedfe17bd381d638445dcc44ee70", "url": "https://github.com/dogtagpki/jss/commit/43d501633d09bedfe17bd381d638445dcc44ee70", "message": "Fixed TestSSLEngine\n\nThe SSLEngine.getSupportedProtocols() on Fedora returns at least\n2 protocols in FIPS mode, but on RHEL it returns only 1. The\nTestSSLEngine has been changed such that it works with 1 protocol.", "committedDate": "2020-07-13T18:18:09Z", "type": "commit"}, {"oid": "43d501633d09bedfe17bd381d638445dcc44ee70", "url": "https://github.com/dogtagpki/jss/commit/43d501633d09bedfe17bd381d638445dcc44ee70", "message": "Fixed TestSSLEngine\n\nThe SSLEngine.getSupportedProtocols() on Fedora returns at least\n2 protocols in FIPS mode, but on RHEL it returns only 1. The\nTestSSLEngine has been changed such that it works with 1 protocol.", "committedDate": "2020-07-13T18:18:09Z", "type": "forcePushed"}]}