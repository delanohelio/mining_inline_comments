{"pr_number": 446, "pr_title": "Document known NSS incompatibilities", "pr_createdAt": "2020-03-25T18:31:58Z", "pr_url": "https://github.com/dogtagpki/jss/pull/446", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODExNzQ5NA==", "url": "https://github.com/dogtagpki/jss/pull/446#discussion_r398117494", "bodyText": "Should we specify the Conflicts with those NSS versions in jss.spec?", "author": "edewata", "createdAt": "2020-03-25T19:33:44Z", "path": "docs/nss.md", "diffHunk": "@@ -0,0 +1,21 @@\n+# NSS\n+\n+## Incompatible NSS/JSS Pairings\n+\n+The minimum NSS version required by JSS is v3.30.\n+\n+### JSS v4.6.3\n+\n+JSS v4.6.3 doesn't support NSS versions between v3.47 and v3.50, inclusive.", "originalCommit": "96126be39166fa482bda80406d7829b61d1f412c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE0NjQwNA==", "url": "https://github.com/dogtagpki/jss/pull/446#discussion_r398146404", "bodyText": "I guess we could've for that version. :-) But for this version, we've fixed the incompatibilities. And it only was incompatible if you tried building (tests would've built) or if you tried using CMAC or KBKDF. They're not popular -- we're the only ones that use them (and these versions of NSS are really new) -- so \"meh\"? :-) I could push an update to Fedora if you'd like though.", "author": "cipherboy", "createdAt": "2020-03-25T20:25:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODExNzQ5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE1MTA0Nw==", "url": "https://github.com/dogtagpki/jss/pull/446#discussion_r398151047", "bodyText": "If it's only a build issue it's probably not necessary since we control Fedora builds (unless someone accidentally builds with the wrong NSS version). If it's a potential runtime issue (i.e. user installs the wrong JSS/NSS combinantion) we might want to add the Conflicts.", "author": "edewata", "createdAt": "2020-03-25T20:34:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODExNzQ5NA=="}], "type": "inlineReview"}, {"oid": "a178392bd5be16003444da4d49db51b091051b39", "url": "https://github.com/dogtagpki/jss/commit/a178392bd5be16003444da4d49db51b091051b39", "message": "Throw NPE in PK11PrivKey.getPublicKey()\n\nIn NSS < v3.44, getPublicKey() will return null, resulting in a\nRuntimException about an unknown key type during a call to\nPK11ECPrivateKey.getParams(). This isn't strictly true; the\nreason is that the native code doesn't handle NSS returning NULL\nfrom SECKEY_ConvertToPublicKey(...). This only happens when NSS is\nan old enough version.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-04-06T15:04:57Z", "type": "commit"}, {"oid": "c04eb0ab4767cb667fe26630443415215d94f098", "url": "https://github.com/dogtagpki/jss/commit/c04eb0ab4767cb667fe26630443415215d94f098", "message": "Bump minimum required NSS version to 3.44\n\nDue to a bug in NSS not fixed until v3.44, bump the minimum required NSS\nversion to v3.44.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-04-06T15:04:57Z", "type": "commit"}, {"oid": "6941318921384f5e9215a9676d137210cb1499b1", "url": "https://github.com/dogtagpki/jss/commit/6941318921384f5e9215a9676d137210cb1499b1", "message": "Document known NSS incompatibilities\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-04-06T15:04:58Z", "type": "commit"}, {"oid": "6941318921384f5e9215a9676d137210cb1499b1", "url": "https://github.com/dogtagpki/jss/commit/6941318921384f5e9215a9676d137210cb1499b1", "message": "Document known NSS incompatibilities\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>", "committedDate": "2020-04-06T15:04:58Z", "type": "forcePushed"}]}