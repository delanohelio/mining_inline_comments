{"pr_number": 9951, "pr_title": "Document the varchar data type.", "pr_createdAt": "2020-05-14T12:29:19Z", "pr_url": "https://github.com/crate/crate/pull/9951", "timeline": [{"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897", "url": "https://github.com/crate/crate/commit/54e8b4a4eb2322049679e892f903e7ed8c9e9897", "message": "Document the varchar data type.", "committedDate": "2020-05-14T12:34:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwMzA2Mg==", "url": "https://github.com/crate/crate/pull/9951#discussion_r425103062", "bodyText": "pg documentation says the following about this behaviour: . (This somewhat bizarre exception is required by the SQL standard.)", "author": "kovrus", "createdAt": "2020-05-14T12:38:41Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,110 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default\n+the :ref:`plain <plain-analyzer>` analyzer is used. See\n+:ref:`sql_ddl_index_fulltext`.\n+\n+.. _data-type-varchar:\n+\n+``character varying(n)``, ``varchar(n)``\n+----------------------------------------\n+\n+The ``character varying(n)`` or ``varchar(n)`` character data types represent\n+variable length strings. All unicode characters are allowed.\n+\n+The mandatory length specification ``n`` is an unsigned, positive `integer\n+<numeric types_>`_ that defines the maximum length, in characters, of the\n+values that have to be stored ot cast. The minimum length is ``1``. The\n+maximum length is defined by the upper `integer <numeric types_>`_ range.\n+\n+An attempt to store a longer string into a column of these types will result\n+in an error.\n+\n+::\n+\n+    cr> CREATE TABLE users (id varchar(2), name varchar));\n+    CREATE OK, 1 row affected (... sec)\n+\n+::\n+\n+    cr> INSERT INTO users (id, name) VALUES ('1361', 'john doe')\n+    SQLActionException[value too long for type character varying(2)]\n+\n+Unless the excess characters are all spaces, in which case the string will", "originalCommit": "54e8b4a4eb2322049679e892f903e7ed8c9e9897", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTExNDQwOQ==", "url": "https://github.com/crate/crate/pull/9951#discussion_r425114409", "bodyText": "The length is optional, no?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The mandatory length specification ``n`` is an unsigned, positive `integer\n          \n          \n            \n            The mandatory length specification ``n`` is a positive `integer\n          \n      \n    \n    \n  \n\nWe are probably going to use an Integer to represent it, so it won't be unsigned.", "author": "mfussenegger", "createdAt": "2020-05-14T12:57:19Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,110 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default\n+the :ref:`plain <plain-analyzer>` analyzer is used. See\n+:ref:`sql_ddl_index_fulltext`.\n+\n+.. _data-type-varchar:\n+\n+``character varying(n)``, ``varchar(n)``\n+----------------------------------------\n+\n+The ``character varying(n)`` or ``varchar(n)`` character data types represent\n+variable length strings. All unicode characters are allowed.\n+\n+The mandatory length specification ``n`` is an unsigned, positive `integer", "originalCommit": "54e8b4a4eb2322049679e892f903e7ed8c9e9897", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "81a7c6f969910369c5a740bf99a71a911d231e14", "url": "https://github.com/crate/crate/commit/81a7c6f969910369c5a740bf99a71a911d231e14", "message": "fixup! Document the varchar data type.", "committedDate": "2020-06-03T14:40:32Z", "type": "forcePushed"}, {"oid": "90b7506ff7ab44137b117307bfc2bda8ce0f6a3b", "url": "https://github.com/crate/crate/commit/90b7506ff7ab44137b117307bfc2bda8ce0f6a3b", "message": "fixup! Document the varchar data type.", "committedDate": "2020-06-03T15:01:56Z", "type": "forcePushed"}, {"oid": "94e6d12311a56112b3a894f04f42d1d5683dc1b0", "url": "https://github.com/crate/crate/commit/94e6d12311a56112b3a894f04f42d1d5683dc1b0", "message": "fixup! Document the varchar data type.", "committedDate": "2020-06-04T09:42:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzMzc3OQ==", "url": "https://github.com/crate/crate/pull/9951#discussion_r435133779", "bodyText": "If the excess characters are all spaces, the string literal will be truncated\nto the specified length.", "author": "infoverload", "createdAt": "2020-06-04T09:55:25Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,116 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default\n+the :ref:`plain <plain-analyzer>` analyzer is used. See\n+:ref:`sql_ddl_index_fulltext`.\n+\n+.. _data-type-varchar:\n+\n+``character varying(n)``, ``varchar(n)``\n+----------------------------------------\n+\n+The ``character varying(n)`` or ``varchar(n)`` character data types represent\n+variable length strings. All unicode characters are allowed.\n+\n+The optional length specification ``n`` is a positive `integer <numeric\n+types_>`_ that defines the maximum length, in characters, of the values\n+that have to be stored or cast. The minimum length is ``1``. The maximum\n+length is defined by the upper `integer <numeric types_>`_ range.\n+\n+An attempt to store a string literal that exceeds the specified length\n+of the character data type results in an error.\n+\n+::\n+\n+    cr> CREATE TABLE users (id varchar, name varchar(6));\n+    CREATE OK, 1 row affected (... sec)\n+\n+::\n+\n+    cr> INSERT INTO users (id, name) VALUES ('1361', 'john doe')\n+    SQLActionException[SQLParseException: 'john doe' is too long for the text type of length: 6]\n+\n+Unless the excess characters are all spaces, in this case the string literal\n+will be truncated to the specified length.", "originalCommit": "94e6d12311a56112b3a894f04f42d1d5683dc1b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzNDI5Mg==", "url": "https://github.com/crate/crate/pull/9951#discussion_r435134292", "bodyText": "These are general purpose character data types available in CrateDB.", "author": "infoverload", "createdAt": "2020-06-04T09:56:20Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,116 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.", "originalCommit": "94e6d12311a56112b3a894f04f42d1d5683dc1b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzNTU1OQ==", "url": "https://github.com/crate/crate/pull/9951#discussion_r435135559", "bodyText": "I think we can remove \"Columns of below listed character data types can also be analyzed.\"", "author": "infoverload", "createdAt": "2020-06-04T09:58:23Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,116 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default", "originalCommit": "94e6d12311a56112b3a894f04f42d1d5683dc1b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTE0MjY4Mg==", "url": "https://github.com/crate/crate/pull/9951#discussion_r435142682", "bodyText": "it was not correct actually, changed it now and pushed the fixup.", "author": "kovrus", "createdAt": "2020-06-04T10:10:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzNTU1OQ=="}], "type": "inlineReview"}, {"oid": "276293c27fbc399c754b5fe27e185ff9908d2506", "url": "https://github.com/crate/crate/commit/276293c27fbc399c754b5fe27e185ff9908d2506", "message": "Document the varchar data type.", "committedDate": "2020-06-04T11:38:17Z", "type": "commit"}, {"oid": "276293c27fbc399c754b5fe27e185ff9908d2506", "url": "https://github.com/crate/crate/commit/276293c27fbc399c754b5fe27e185ff9908d2506", "message": "Document the varchar data type.", "committedDate": "2020-06-04T11:38:17Z", "type": "forcePushed"}]}