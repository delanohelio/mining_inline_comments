{"pr_number": 9685, "pr_title": "Add documentation for the `discovery.type` setting", "pr_createdAt": "2020-02-18T10:32:30Z", "pr_url": "https://github.com/crate/crate/pull/9685", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MTYwMw==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380591603", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              | *Allowed Values:*   ``zen | single-node``\n          \n          \n            \n              | *Allowed Values:*  ``zen | single-node``", "author": "norosa", "createdAt": "2020-02-18T10:40:50Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -356,6 +356,27 @@ new master node is elected.\n    explicitly list the names or IP addresses of the master-eligible nodes whose\n    votes should be counted in the very first election.\n \n+.. _conf_discovery_type:\n+\n+**discovery.type**\n+  | *Default:* ``zen``\n+  | *Runtime:* ``no``\n+  | *Allowed Values:*   ``zen | single-node``", "originalCommit": "de877412c8b9165e59f08d73bb132815ae3448c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MTg3MQ==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380591871", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              cluster. This may be usefull mainly for testing purposes which requires the\n          \n          \n            \n              clusters. This may be useful for testing setups that require the", "author": "norosa", "createdAt": "2020-02-18T10:41:16Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -356,6 +356,27 @@ new master node is elected.\n    explicitly list the names or IP addresses of the master-eligible nodes whose\n    votes should be counted in the very first election.\n \n+.. _conf_discovery_type:\n+\n+**discovery.type**\n+  | *Default:* ``zen``\n+  | *Runtime:* ``no``\n+  | *Allowed Values:*   ``zen | single-node``\n+\n+  Specifies whether CrateDB should form a multiple-node cluster. By default,\n+  CrateDB discovers other nodes when forming a cluster and allows other nodes to\n+  join the cluster later. If ``discovery.type`` is set to ``single-node``,\n+  CrateDB forms a single-node cluster and the node won't join any other\n+  cluster. This may be usefull mainly for testing purposes which requires the", "originalCommit": "de877412c8b9165e59f08d73bb132815ae3448c5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MjQwNg==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380592406", "bodyText": "probably need to re-wrap after applying this", "author": "norosa", "createdAt": "2020-02-18T10:42:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MTg3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MTEyOQ==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380591129", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              cluster. This may be usefull mainly for testing purposes which requires the\n          \n          \n            \n              cluster. This can be useful for testing. It is not recommend to use this for production setups. The ``single-node`` mode also skips bootstrap checks.\n          \n      \n    \n    \n  \n\nMaybe with cross-reference to the bootstrap checks docs", "author": "mfussenegger", "createdAt": "2020-02-18T10:39:55Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -356,6 +356,27 @@ new master node is elected.\n    explicitly list the names or IP addresses of the master-eligible nodes whose\n    votes should be counted in the very first election.\n \n+.. _conf_discovery_type:\n+\n+**discovery.type**\n+  | *Default:* ``zen``\n+  | *Runtime:* ``no``\n+  | *Allowed Values:*   ``zen | single-node``\n+\n+  Specifies whether CrateDB should form a multiple-node cluster. By default,\n+  CrateDB discovers other nodes when forming a cluster and allows other nodes to\n+  join the cluster later. If ``discovery.type`` is set to ``single-node``,\n+  CrateDB forms a single-node cluster and the node won't join any other\n+  cluster. This may be usefull mainly for testing purposes which requires the", "originalCommit": "de877412c8b9165e59f08d73bb132815ae3448c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MjUzMA==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380592530", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            .. note::\n          \n          \n            \n            .. NOTE::", "author": "norosa", "createdAt": "2020-02-18T10:42:30Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -356,6 +356,27 @@ new master node is elected.\n    explicitly list the names or IP addresses of the master-eligible nodes whose\n    votes should be counted in the very first election.\n \n+.. _conf_discovery_type:\n+\n+**discovery.type**\n+  | *Default:* ``zen``\n+  | *Runtime:* ``no``\n+  | *Allowed Values:*   ``zen | single-node``\n+\n+  Specifies whether CrateDB should form a multiple-node cluster. By default,\n+  CrateDB discovers other nodes when forming a cluster and allows other nodes to\n+  join the cluster later. If ``discovery.type`` is set to ``single-node``,\n+  CrateDB forms a single-node cluster and the node won't join any other\n+  cluster. This may be usefull mainly for testing purposes which requires the\n+  node to be bound on external interfaces.\n+\n+.. note::", "originalCommit": "de877412c8b9165e59f08d73bb132815ae3448c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5MjYwOQ==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380592609", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               If a node was started once using ``single-node`` it will never join any\n          \n          \n            \n               If a node was started once using ``single-node``, it will never join any", "author": "norosa", "createdAt": "2020-02-18T10:42:39Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -356,6 +356,27 @@ new master node is elected.\n    explicitly list the names or IP addresses of the master-eligible nodes whose\n    votes should be counted in the very first election.\n \n+.. _conf_discovery_type:\n+\n+**discovery.type**\n+  | *Default:* ``zen``\n+  | *Runtime:* ``no``\n+  | *Allowed Values:*   ``zen | single-node``\n+\n+  Specifies whether CrateDB should form a multiple-node cluster. By default,\n+  CrateDB discovers other nodes when forming a cluster and allows other nodes to\n+  join the cluster later. If ``discovery.type`` is set to ``single-node``,\n+  CrateDB forms a single-node cluster and the node won't join any other\n+  cluster. This may be usefull mainly for testing purposes which requires the\n+  node to be bound on external interfaces.\n+\n+.. note::\n+\n+   If a node was started once using ``single-node`` it will never join any", "originalCommit": "de877412c8b9165e59f08d73bb132815ae3448c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU5Mjg2OQ==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380592869", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               CLI tool, but be aware that this may result in data loss.\n          \n          \n            \n               CLI tool. However, be aware this may result in data loss.", "author": "norosa", "createdAt": "2020-02-18T10:43:07Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -356,6 +356,27 @@ new master node is elected.\n    explicitly list the names or IP addresses of the master-eligible nodes whose\n    votes should be counted in the very first election.\n \n+.. _conf_discovery_type:\n+\n+**discovery.type**\n+  | *Default:* ``zen``\n+  | *Runtime:* ``no``\n+  | *Allowed Values:*   ``zen | single-node``\n+\n+  Specifies whether CrateDB should form a multiple-node cluster. By default,\n+  CrateDB discovers other nodes when forming a cluster and allows other nodes to\n+  join the cluster later. If ``discovery.type`` is set to ``single-node``,\n+  CrateDB forms a single-node cluster and the node won't join any other\n+  cluster. This may be usefull mainly for testing purposes which requires the\n+  node to be bound on external interfaces.\n+\n+.. note::\n+\n+   If a node was started once using ``single-node`` it will never join any\n+   cluster even if the configuration is changed. It is possible to force the\n+   node to forget its current cluster state by using the :ref:`cli-crate-node`\n+   CLI tool, but be aware that this may result in data loss.", "originalCommit": "de877412c8b9165e59f08d73bb132815ae3448c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYyNDkwMw==", "url": "https://github.com/crate/crate/pull/9685#discussion_r380624903", "bodyText": "minor: delete this line\nthe standard way to separate the links at the bottom is with two empty lines", "author": "norosa", "createdAt": "2020-02-18T11:51:20Z", "path": "docs/config/cluster.rst", "diffHunk": "@@ -1156,3 +1177,7 @@ Metadata gateway\n   because you only want the cluster state to be recovered once all nodes are\n   started. However, the value must be bigger than the half of the expected\n   number of nodes in the cluster.\n+", "originalCommit": "0fc7d2bc999922cadf64dac175f61d6b1cbb2c71", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4c493460309b883072acd9a4e21e729bab46e846", "url": "https://github.com/crate/crate/commit/4c493460309b883072acd9a4e21e729bab46e846", "message": "Add documentation for the `discovery.type` setting\n\nDocumentation was missing although we refer to it inside our\nguides on how to setup a single-node cluster.", "committedDate": "2020-02-18T12:34:23Z", "type": "commit"}, {"oid": "4c493460309b883072acd9a4e21e729bab46e846", "url": "https://github.com/crate/crate/commit/4c493460309b883072acd9a4e21e729bab46e846", "message": "Add documentation for the `discovery.type` setting\n\nDocumentation was missing although we refer to it inside our\nguides on how to setup a single-node cluster.", "committedDate": "2020-02-18T12:34:23Z", "type": "forcePushed"}]}