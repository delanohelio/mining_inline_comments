{"pr_number": 10778, "pr_title": "Added dense_rank window function", "pr_createdAt": "2020-11-17T15:18:35Z", "pr_url": "https://github.com/crate/crate/pull/10778", "timeline": [{"oid": "c4146a199d0cbf4d3279986adba5ee9f9f8415f9", "url": "https://github.com/crate/crate/commit/c4146a199d0cbf4d3279986adba5ee9f9f8415f9", "message": "Added dense_rank window function", "committedDate": "2020-11-17T15:27:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI3OTc4Nw==", "url": "https://github.com/crate/crate/pull/10778#discussion_r525279787", "bodyText": "Looks like this could be final ?", "author": "mfussenegger", "createdAt": "2020-11-17T16:02:17Z", "path": "enterprise/functions/src/main/java/io/crate/window/RankFunctions.java", "diffHunk": "@@ -28,20 +28,28 @@\n import io.crate.types.DataTypes;\n \n import java.util.List;\n+import java.util.function.IntUnaryOperator;\n \n \n public class RankFunctions implements WindowFunction {\n \n     private static final String RANK_NAME = \"rank\";\n+    private static final String DENSE_RANK_NAME = \"dense_rank\";\n \n     private final Signature signature;\n     private final Signature boundSignature;\n-    private int seenLastUpperBound;\n+    private int seenLastUpperBound = -1;\n     private int rank;\n+    private IntUnaryOperator rankIncrementor;", "originalCommit": "5a04c891d352ede5d225442ca0e3d0844ba46690", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM0NzM4MQ==", "url": "https://github.com/crate/crate/pull/10778#discussion_r525347381", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            .. note::\n          \n          \n            \n            .. NOTE::", "author": "norosa", "createdAt": "2020-11-17T17:26:34Z", "path": "docs/general/builtins/window-functions.rst", "diffHunk": "@@ -658,6 +658,59 @@ Example::\n     +-----------------+---------------+--------+-------------+\n     SELECT 6 rows in set (... sec)\n \n+\n+.. _window-function-dense_rank:\n+\n+``dense_rank()``\n+----------------\n+\n+.. note::", "originalCommit": "d7ecbed7f32f67b96165dc15a3d688b26b74aa07", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8d429a72b68bcc3e726e7e9c73dace1c8bef0186", "url": "https://github.com/crate/crate/commit/8d429a72b68bcc3e726e7e9c73dace1c8bef0186", "message": "Added dense_rank window function", "committedDate": "2020-11-17T22:25:35Z", "type": "forcePushed"}, {"oid": "2a9f07de63a88bab343838c74a1b7315beb55650", "url": "https://github.com/crate/crate/commit/2a9f07de63a88bab343838c74a1b7315beb55650", "message": "Added dense_rank window function", "committedDate": "2020-11-17T22:27:00Z", "type": "forcePushed"}, {"oid": "2dc9826d2e1bff1e225bd5d4255d024cb16c2541", "url": "https://github.com/crate/crate/commit/2dc9826d2e1bff1e225bd5d4255d024cb16c2541", "message": "Added dense_rank window function", "committedDate": "2020-11-18T07:58:33Z", "type": "commit"}, {"oid": "2dc9826d2e1bff1e225bd5d4255d024cb16c2541", "url": "https://github.com/crate/crate/commit/2dc9826d2e1bff1e225bd5d4255d024cb16c2541", "message": "Added dense_rank window function", "committedDate": "2020-11-18T07:58:33Z", "type": "forcePushed"}]}