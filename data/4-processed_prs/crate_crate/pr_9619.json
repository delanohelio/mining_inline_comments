{"pr_number": 9619, "pr_title": "Added system columns to output expression", "pr_createdAt": "2020-02-03T15:09:52Z", "pr_url": "https://github.com/crate/crate/pull/9619", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE1OTAwMw==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374159003", "bodyText": "Good idea, to mentioned it explicitly. It would also possible to put the information in the description like we did on returning for insert https://github.com/crate/crate/pull/9615/files#diff-e3fc8f9cdc5c6f2d07f3c38d2e7d5045R49 What is your opinion @mechanomi ?", "author": "mkleen", "createdAt": "2020-02-03T15:14:53Z", "path": "docs/sql/statements/update.rst", "diffHunk": "@@ -63,7 +63,7 @@ Parameters\n :output_expression:\n     An expression to be computed and returned by the UPDATE command after each\n     row is updated. The expression can use any column names of the table or\n-    ``*`` to return all columns.\n+    ``*`` to return all columns. Also system columns can be returned.", "originalCommit": "969cf37f6622718ba19f94b2a3b2fccb146d7a72", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE4MjMxOA==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374182318", "bodyText": "yup, agreed\nthe \"also\" implies that returning system columns is optional. but my understanding is that * will return all columns including system columns. is the case? if so, I would probably phrase along those lines", "author": "norosa", "createdAt": "2020-02-03T15:52:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE1OTAwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE4OTExNw==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374189117", "bodyText": "* returns indeed also the system columns, and @joemoe  is right. It is mentioned nowhere so far here.", "author": "mkleen", "createdAt": "2020-02-03T16:03:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE1OTAwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI3NDY3OA==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374274678", "bodyText": "* doesn't resolve to system columns per default:\ncr> update tbl set x = x + 1 returning *;\n+---+\n| x |\n+---+\n| 2 |\n+---+\nUPDATE 1 row in set (0.068 sec)\n\nThey have to be included explicitly:\ncr> update tbl set x = x + 1 returning *, _id, _seq_no;\n+---+----------------------+---------+\n| x | _id                  | _seq_no |\n+---+----------------------+---------+\n| 3 | qJtfDHAB5yNd4FVQW2sZ |       2 |\n+---+----------------------+---------+\nUPDATE 1 row in set (0.012 sec)\n\nWe should keep it that way to mirror the behavior of SELECT *", "author": "mfussenegger", "createdAt": "2020-02-03T18:47:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE1OTAwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxNzg3MA==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374517870", "bodyText": "Thanks @mfussenegger for pointing this out correctly, i was wrong here. So then the addition to the documentation in the output expression section from @joemoe makes total sense to me. Is there any  other opinion here ?", "author": "mkleen", "createdAt": "2020-02-04T07:53:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE1OTAwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2MDc5Mg==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374560792", "bodyText": "Can I get an ack on that?", "author": "joemoe", "createdAt": "2020-02-04T09:33:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE1OTAwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2NTczNw==", "url": "https://github.com/crate/crate/pull/9619#discussion_r374565737", "bodyText": "Currently the doc build broke\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                ``*`` to return all columns. Also :ref:`_sql_administration_system_columns`\n          \n          \n            \n                ``*`` to return all columns. Also :ref:`system columns\n          \n          \n            \n                <sql_administration_system_columns>`", "author": "mkleen", "createdAt": "2020-02-04T09:43:36Z", "path": "docs/sql/statements/update.rst", "diffHunk": "@@ -63,7 +63,8 @@ Parameters\n :output_expression:\n     An expression to be computed and returned by the UPDATE command after each\n     row is updated. The expression can use any column names of the table or\n-    ``*`` to return all columns.\n+    ``*`` to return all columns. Also :ref:`_sql_administration_system_columns`", "originalCommit": "efa4f15730bd300a558d70a742af56a314cd7125", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f3e2db397637b3a1c0178f2b9719f02cb4c473ac", "url": "https://github.com/crate/crate/commit/f3e2db397637b3a1c0178f2b9719f02cb4c473ac", "message": "Docs: Add that system columns can be used as part of RETURNING", "committedDate": "2020-02-11T15:32:05Z", "type": "commit"}, {"oid": "f3e2db397637b3a1c0178f2b9719f02cb4c473ac", "url": "https://github.com/crate/crate/commit/f3e2db397637b3a1c0178f2b9719f02cb4c473ac", "message": "Docs: Add that system columns can be used as part of RETURNING", "committedDate": "2020-02-11T15:32:05Z", "type": "forcePushed"}, {"oid": "852bc96882cf4e84c52d3ec312b09018205f8425", "url": "https://github.com/crate/crate/commit/852bc96882cf4e84c52d3ec312b09018205f8425", "message": "Merge branch 'master' into joe/returning-update-system-columns", "committedDate": "2020-02-11T16:05:43Z", "type": "commit"}]}