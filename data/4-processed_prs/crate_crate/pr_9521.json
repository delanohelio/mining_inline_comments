{"pr_number": 9521, "pr_title": "Replaced unnest function for sample tables in the docs with VALUES", "pr_createdAt": "2020-01-16T14:34:56Z", "pr_url": "https://github.com/crate/crate/pull/9521", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1MjI5Mw==", "url": "https://github.com/crate/crate/pull/9521#discussion_r367452293", "bodyText": "The FROM and WINDOW have been indented too much, can you de-indent them to match the level of SELECT above.", "author": "autophagy", "createdAt": "2020-01-16T14:37:34Z", "path": "docs/general/builtins/window-functions.rst", "diffHunk": "@@ -318,10 +318,8 @@ then it can only add clauses from the referenced window, but not overwrite them.\n    cr> SELECT\n    ...   x,\n    ...   LAST_VALUE(x) OVER (w ORDER BY x)\n-   ... FROM unnest(\n-   ...      [1, 2, 3, 4],\n-   ...      [1, 1, 2, 2]) as t(x, y)\n-   ... WINDOW w AS (PARTITION BY y)\n+   ...   FROM (VALUES (1, 1), (2, 1), (3, 2), (4, 2)) as t(x, y)\n+   ...   WINDOW w AS (PARTITION BY y)", "originalCommit": "facd364a872f8e8302c46ad84691db8711784224", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1MzE5MQ==", "url": "https://github.com/crate/crate/pull/9521#discussion_r367453191", "bodyText": "Not a required change, but just a suggestion. Maybe FROM (VALUES (1, 1), (2, 1), (3, 2), (4, 2)) as t(x, y) could be written as\nFROM (VALUES \n     (1, 1), \n     (2, 1), \n     (3, 2), \n     (4, 2) ) as t(x, y)\n\nto be a little clearer.", "author": "autophagy", "createdAt": "2020-01-16T14:39:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1MjI5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1Mzk0Mg==", "url": "https://github.com/crate/crate/pull/9521#discussion_r367453942", "bodyText": "Similarly, do you think it'd be more readable here if each row in the VALUES expression was on a new line?", "author": "autophagy", "createdAt": "2020-01-16T14:40:29Z", "path": "docs/general/builtins/window-functions.rst", "diffHunk": "@@ -514,11 +512,8 @@ Example::\n    ...   budget,\n    ...   LAG(budget) OVER(\n    ...      PARTITION BY dept_id) prev_budget\n-   ... FROM unnest(\n-   ...   [1, 1, 2, 2, 2],\n-   ...   [2017, 2018, 2017, 2018, 2019],\n-   ...   [45000, 35000, 15000, 65000, 12000]\n-   ... ) as t (dept_id, year, budget);\n+   ... FROM (VALUES(1, 2017, 45000), (1, 2018, 35000), (2, 2017, 15000), (2, 2018, 65000), (2, 2019, 12000))", "originalCommit": "facd364a872f8e8302c46ad84691db8711784224", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1NDA1Nw==", "url": "https://github.com/crate/crate/pull/9521#discussion_r367454057", "bodyText": "Same comment here.", "author": "autophagy", "createdAt": "2020-01-16T14:40:41Z", "path": "docs/general/builtins/window-functions.rst", "diffHunk": "@@ -569,11 +564,8 @@ Example::\n    ...   budget,\n    ...   LEAD(budget) OVER(\n    ...      PARTITION BY dept_id) next_budget\n-   ... FROM unnest(\n-   ...   [1, 1, 2, 2, 2],\n-   ...   [2017, 2018, 2017, 2018, 2019],\n-   ...   [45000, 35000, 15000, 65000, 12000]\n-   ... ) as t (dept_id, year, budget);\n+   ... FROM (VALUES(1, 2017, 45000), (1, 2018, 35000), (2, 2017, 15000), (2, 2018, 65000), (2, 2019, 12000))", "originalCommit": "facd364a872f8e8302c46ad84691db8711784224", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "06037f09b0057f6ef2bfbae7a2153422852267fb", "url": "https://github.com/crate/crate/commit/06037f09b0057f6ef2bfbae7a2153422852267fb", "message": "Replaced 'unnest' function for building sample tables in the docs with VALUES", "committedDate": "2020-01-16T17:08:35Z", "type": "forcePushed"}, {"oid": "010314e395c2085b3941edadb261da6d2e4ce4aa", "url": "https://github.com/crate/crate/commit/010314e395c2085b3941edadb261da6d2e4ce4aa", "message": "Replaced 'unnest' function for building sample tables in the docs with VALUES", "committedDate": "2020-01-17T09:47:40Z", "type": "commit"}, {"oid": "010314e395c2085b3941edadb261da6d2e4ce4aa", "url": "https://github.com/crate/crate/commit/010314e395c2085b3941edadb261da6d2e4ce4aa", "message": "Replaced 'unnest' function for building sample tables in the docs with VALUES", "committedDate": "2020-01-17T09:47:40Z", "type": "forcePushed"}]}