{"pr_number": 9577, "pr_title": "Add ceiling alias for ceil scalar function", "pr_createdAt": "2020-01-28T14:49:22Z", "pr_url": "https://github.com/crate/crate/pull/9577", "timeline": [{"oid": "76205e588f5f4e74a96ce0e5990c09740a0e1a09", "url": "https://github.com/crate/crate/commit/76205e588f5f4e74a96ce0e5990c09740a0e1a09", "message": "Add ceiling alias for ceil scalar function\n\n`ceiling` is listed as numeric function by PostgreSQL JDBC\n`getNumericFunctions` implementation.", "committedDate": "2020-01-28T15:21:42Z", "type": "commit"}, {"oid": "76205e588f5f4e74a96ce0e5990c09740a0e1a09", "url": "https://github.com/crate/crate/commit/76205e588f5f4e74a96ce0e5990c09740a0e1a09", "message": "Add ceiling alias for ceil scalar function\n\n`ceiling` is listed as numeric function by PostgreSQL JDBC\n`getNumericFunctions` implementation.", "committedDate": "2020-01-28T15:21:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkxNTc2MA==", "url": "https://github.com/crate/crate/pull/9577#discussion_r371915760", "bodyText": "lgtm\nJust a minor note, maybe we can use BaseFunctionResolver to remove a bit of code like the getSignature method override and the first condition in the getForTypes method", "author": "kovrus", "createdAt": "2020-01-28T16:33:06Z", "path": "sql/src/main/java/io/crate/expression/scalar/arithmetic/CeilFunction.java", "diffHunk": "@@ -35,29 +35,40 @@\n \n public final class CeilFunction {\n \n-    public static final String NAME = \"ceil\";\n+    public static final String CEIL = \"ceil\";\n+    public static final String CEILING = \"ceiling\";\n \n     public static void register(ScalarFunctionModule module) {\n-        module.register(NAME, new FunctionResolver() {\n-            @Nullable\n-            @Override\n-            public List<DataType> getSignature(List<? extends FuncArg> funcArgs) {\n-                return FuncParams.SINGLE_NUMERIC.match(funcArgs);\n-            }\n+        module.register(CEIL, new CeilFunctionResolver(CEIL));\n+        module.register(CEILING, new CeilFunctionResolver(CEILING));\n+    }\n+\n+    private static class CeilFunctionResolver implements FunctionResolver {", "originalCommit": "76205e588f5f4e74a96ce0e5990c09740a0e1a09", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTk5MzQyNg==", "url": "https://github.com/crate/crate/pull/9577#discussion_r371993426", "bodyText": "Yep I was considering it, but felt like it would go too far within the same commit. I might follow up later.", "author": "mfussenegger", "createdAt": "2020-01-28T18:56:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkxNTc2MA=="}], "type": "inlineReview"}, {"oid": "369899063f9c556bf4562db006c6d8658802bf28", "url": "https://github.com/crate/crate/commit/369899063f9c556bf4562db006c6d8658802bf28", "message": "Merge branch 'master' into j/ceiling", "committedDate": "2020-01-28T18:56:54Z", "type": "commit"}]}