{"pr_number": 10432, "pr_title": "Release 4.2.4", "pr_createdAt": "2020-08-26T08:31:13Z", "pr_url": "https://github.com/crate/crate/pull/10432", "timeline": [{"oid": "0afdb98d71f83a877469e59cb1c5c93156fe4101", "url": "https://github.com/crate/crate/commit/0afdb98d71f83a877469e59cb1c5c93156fe4101", "message": "Release 4.2.4", "committedDate": "2020-08-26T08:32:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEzMjk4OQ==", "url": "https://github.com/crate/crate/pull/10432#discussion_r477132989", "bodyText": "Looks like the following fix on master was not backported:\n\n\nFixed exposure of the full qualified name of a sub-script column in\ninformation_schema.tables.partitioned_by and\npg_catalog.pg_attribute.attname to use the CrateDB SQL compatible identifier.\n\n\nCould you check whether that was intentional?", "author": "mfussenegger", "createdAt": "2020-08-26T08:38:36Z", "path": "docs/appendices/release-notes/4.2.4.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+.. _version_4.2.4:\n+\n+=============\n+Version 4.2.4\n+=============\n+\n+Released on 2020-08-26.\n+\n+.. NOTE::\n+\n+    If upgrading a cluster, you must be running CrateDB 4.0.2 or higher before\n+    you upgrade to 4.2.4.\n+\n+    We recommend that you upgrade to the latest 4.1 release before moving to\n+    4.2.4.\n+\n+    A rolling upgrade from 4.1.7+ to 4.2.4 is supported.\n+\n+    Before upgrading, you should `back up your data`_.\n+\n+.. _back up your data: https://crate.io/a/backing-up-and-restoring-crate/\n+\n+\n+\n+.. rubric:: Table of Contents\n+\n+.. contents::\n+   :local:\n+\n+\n+See the :ref:`version_4.2.0` release notes for a full list of changes in the\n+4.2 series.\n+\n+\n+Fixes\n+=====\n+\n+- Fixed an issue that could lead to a ``IndexOutOfBoundsException`` when using\n+  virtual tables and joins.\n+\n+- Fixed an issue that declared the rule optimizer settings as global. The\n+  settings are now session local.\n+\n+- Fixed an issue that prevented the ``MATCH`` predicate from working in mixed\n+  clusters running 4.1.8 and 4.2.\n+\n+- Fixed an issue that prevented user defined functions in a custom schema from\n+  working if used in a generated column expression.\n+\n+- Fixed an issue that allowed users to use a function in a generated column\n+  that didn't fully match the given arguments, leading to a subsequent runtime\n+  failure when trying to access tables.\n+", "originalCommit": "0afdb98d71f83a877469e59cb1c5c93156fe4101", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE0MTI5Nw==", "url": "https://github.com/crate/crate/pull/10432#discussion_r477141297", "bodyText": "I couldn't find any information on the original pr #10413 if this was intentional. Shall I backport it and add it to the 4.2.4 release ?", "author": "mkleen", "createdAt": "2020-08-26T08:51:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEzMjk4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE0NTc4NA==", "url": "https://github.com/crate/crate/pull/10432#discussion_r477145784", "bodyText": "I don't see a reason why it shouldn't be backported, so yes please do so.", "author": "mfussenegger", "createdAt": "2020-08-26T08:59:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEzMjk4OQ=="}], "type": "inlineReview"}, {"oid": "08954a631f3d122db94e533bfbeab6714d6a0413", "url": "https://github.com/crate/crate/commit/08954a631f3d122db94e533bfbeab6714d6a0413", "message": "Release 4.2.4", "committedDate": "2020-08-26T13:06:56Z", "type": "commit"}, {"oid": "08954a631f3d122db94e533bfbeab6714d6a0413", "url": "https://github.com/crate/crate/commit/08954a631f3d122db94e533bfbeab6714d6a0413", "message": "Release 4.2.4", "committedDate": "2020-08-26T13:06:56Z", "type": "forcePushed"}]}