{"pr_number": 10310, "pr_title": "Update, expand, and re-organize Editions page", "pr_createdAt": "2020-08-04T14:37:18Z", "pr_url": "https://github.com/crate/crate/pull/10310", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwODU4OQ==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465108589", "bodyText": "We usually don't include documentation changes in the release notes.\nNot sure if we want to start doing that. The documentation is not strictly bound to a single release but to the release series, the changes will be reflected as soon as the PR is merged.", "author": "mfussenegger", "createdAt": "2020-08-04T14:49:07Z", "path": "docs/appendices/release-notes/unreleased.rst", "diffHunk": "@@ -65,3 +65,5 @@ Fixes\n - Fixed an issue that caused primary key lookups to return an empty result\n   instead of the row identified by the primary key values, if the primary key\n   consists of multiple columns and if one of them is of type ``BOOLEAN``.\n+\n+- Updated the :ref:`editions` documentation", "originalCommit": "55306d9a5442313ac912a4804c3597aa947c734e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEyNzAxNw==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465127017", "bodyText": "Ah okay, I did not know since it's my first PR here.  Will remove it.\nWould it help to specify this in the PR checklist?\n\"Added an entry in CHANGES.txt for user facing changes (except for documentation changes)\"", "author": "infoverload", "createdAt": "2020-08-04T15:14:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwODU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwOTQyMw==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465109423", "bodyText": "This was intentionally just called \"CrateDB\". There is some discussion whether this should be called \"CrateDB Enterprise Edition\"\ncc: @joemoe", "author": "mfussenegger", "createdAt": "2020-08-04T14:50:14Z", "path": "docs/editions.rst", "diffHunk": "@@ -28,40 +28,60 @@ limitations.\n \n .. _standard-edition:\n \n-CrateDB\n-=======\n+CrateDB Standard Edition", "originalCommit": "55306d9a5442313ac912a4804c3597aa947c734e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE1OTYxOA==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465159618", "bodyText": "At the moment it is CrateDB.\nMight change, but that's how it is at the moment.", "author": "joemoe", "createdAt": "2020-08-04T16:01:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwOTQyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMDU2NQ==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465110565", "bodyText": "\"standard edition\" usage here also depends on the outcome of my prior comment.", "author": "mfussenegger", "createdAt": "2020-08-04T14:51:52Z", "path": "docs/editions.rst", "diffHunk": "@@ -28,40 +28,60 @@ limitations.\n \n .. _standard-edition:\n \n-CrateDB\n-=======\n+CrateDB Standard Edition\n+========================\n+\n+Take note of the following items when using the standard edition of CrateDB. \n \n .. _enterprise-features:\n \n Enterprise features\n -------------------\n \n-- :ref:`administration_user_management`: manage multiple database users\n-- :ref:`administration-privileges`: configure user privileges\n-- :ref:`admin_auth`: manage your database with authentication, and\n-  more\n-- System information functions: :ref:`CURRENT_USER <current_user>`,\n-  :ref:`USER <user>`, :ref:`SESSION_USER <session_user>`\n-- :ref:`Support for JavaScript in UDF <udf_lang_js>`: write user-defined\n-  functions in JavaScript\n-- :ref:`jmx_monitoring`: monitor your query stats with JMX\n-- :ref:`aggregation-hll-distinct`: distinct count aggregation using the\n-  `HyperLoglog++`_ algorithm\n-- :ref:`window-function-firstvalue`: ``first_value`` window function\n-- :ref:`window-function-lastvalue`: ``last_value`` window function\n-- :ref:`window-function-lag`: ``lag`` window function\n-- :ref:`window-function-lead`: ``lead`` window function\n-- :ref:`window-function-nthvalue`: ``nth_value`` window function\n-- `The CrateDB admin UI`_: `shards browser`_, `monitoring overview`_,\n-  `privileges browser`_\n+- :ref:`administration_user_management` for multiple database users\n+- Configure user :ref:`privileges <administration-privileges>`\n+- Manage your database with :ref:`authentication <admin_auth>` and more\n+- Write :ref:`user-defined functions in JavaScript <udf_lang_js>`\n+- Take advantage of these features in the `CrateDB admin UI`_:\n+\n+  - `shards browser`_\n+\n+  - `monitoring overview`_ \n+\n+  - `privileges browser`_\n+\n+- Unlock the following :ref:`system information functions <scalar-sysinfo>`:\n+\n+  - :ref:`CURRENT_USER <current_user>`\n+\n+  - :ref:`USER <user>`\n+\n+  - :ref:`SESSION_USER <session_user>`\n+\n+- :ref:`Monitor <jmx_monitoring>` your query stats with JMX\n+- Access to the :ref:`aggregation-hll-distinct` :ref:`aggregate function \n+  <aggregate-functions>`\n+- Access to the following :ref:`window functions <window-functions>`:\n+\n+  - :ref:`window-function-firstvalue`\n+\n+  - :ref:`window-function-lastvalue`\n+\n+  - :ref:`window-function-lag`\n+\n+  - :ref:`window-function-lead`\n+\n+  - :ref:`window-function-nthvalue`\n+\n \n .. _node-limitations:\n \n Node limitation\n ---------------\n \n-To make full use of CrateDB, you must `acquire an Enterprise License`_. Unless and\n-until you do that, CrateDB is limited to running on no more than three nodes.\n+To make full use of CrateDB, you must `acquire an Enterprise License`_. The\n+standard edition of CrateDB is limited to running on no more than three nodes", "originalCommit": "55306d9a5442313ac912a4804c3597aa947c734e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMTQxOQ==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465111419", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n          \n          \n            \n            - replace ``<TAG>`` with the Git tag that corresponds to\n          \n      \n    \n    \n  \n\nTags can be checked out directly, no need to lookup the associated hash value", "author": "mfussenegger", "createdAt": "2020-08-04T14:53:04Z", "path": "docs/editions.rst", "diffHunk": "@@ -94,31 +115,59 @@ CrateDB Community Edition\n The CrateDB *Community Edition* (CrateDB CE) does not include any\n :ref:`enterprise-features` but can be run on as many nodes as you wish.\n \n-CrateDB CE must be built from source, like so:\n+.. NOTE::\n+\n+   CrateDB requires a `Java virtual machine`_ to run.\n+\n+   Starting with CrateDB 4.2, a JVM is bundled with the tarball and no\n+   extra installation is necessary.\n+\n+   Versions starting from 3.0 to 4.1 require a `Java 11`_ installation. We\n+   recommend using `Oracle's Java`_ on macOS and OpenJDK_ on Linux Systems.\n+\n+   Earlier versions required Java 8.\n+\n+CrateDB CE must be built from source:\n \n .. code-block:: console\n \n    sh$ git clone https://github.com/crate/crate\n    sh$ cd crate\n-   sh$ git submodule update --init\n    sh$ git checkout <TAG>\n    sh$ ./gradlew clean communityEditionDistTar\n \n-Here, replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n-the `release`_ you wish to use.\n+The steps above:\n+\n+- clone the CrateDB Git repository and navigate into the directory\n \n-When the ``gradlew`` command successfully completes, the relevant CrateDB CE\n+- replace ``<TAG>`` with the commit hash of the Git tag that corresponds to", "originalCommit": "55306d9a5442313ac912a4804c3597aa947c734e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMzM4Nw==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465113387", "bodyText": "Maybe re-add this as optional step after the git checkout <tag> command if a version earlier than 4.0 is checked out, in which case this would still be necessary.\nNot sure how often that happens though - also good for me to remove it altogether", "author": "mfussenegger", "createdAt": "2020-08-04T14:55:45Z", "path": "docs/editions.rst", "diffHunk": "@@ -94,31 +115,59 @@ CrateDB Community Edition\n The CrateDB *Community Edition* (CrateDB CE) does not include any\n :ref:`enterprise-features` but can be run on as many nodes as you wish.\n \n-CrateDB CE must be built from source, like so:\n+.. NOTE::\n+\n+   CrateDB requires a `Java virtual machine`_ to run.\n+\n+   Starting with CrateDB 4.2, a JVM is bundled with the tarball and no\n+   extra installation is necessary.\n+\n+   Versions starting from 3.0 to 4.1 require a `Java 11`_ installation. We\n+   recommend using `Oracle's Java`_ on macOS and OpenJDK_ on Linux Systems.\n+\n+   Earlier versions required Java 8.\n+\n+CrateDB CE must be built from source:\n \n .. code-block:: console\n \n    sh$ git clone https://github.com/crate/crate\n    sh$ cd crate\n-   sh$ git submodule update --init", "originalCommit": "55306d9a5442313ac912a4804c3597aa947c734e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEzMjk5MA==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465132990", "bodyText": "Hmmmm, in that case, I am thinking that it might be useful to include it as a note.\nThis is based on me noticing that we talk about the installation requirements of older versions here: https://crate.io/docs/crate/tutorials/en/latest/install-run/basic.html\nBut then again, we are still keeping different versions of the docs:\nhttps://crate.io/docs/crate/reference/en/3.3/editions/community.html\nIs that sufficient? I'm also not entirely sure.", "author": "infoverload", "createdAt": "2020-08-04T15:22:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMzM4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE1NjEzNw==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465156137", "bodyText": "Ah good point.  The docs in this repo are versioned, the docs in the tutorials or how-to repo aren't.\nSo +1 for removing the submodule hint completely", "author": "mfussenegger", "createdAt": "2020-08-04T15:56:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMzM4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExNDU4MQ==", "url": "https://github.com/crate/crate/pull/10310#discussion_r465114581", "bodyText": "Not sure if the details about the gradle tasks generation are necessary to mention. That's kind of describing gradle internals. For users the more important piece is that is ends up generating the tarball", "author": "mfussenegger", "createdAt": "2020-08-04T14:57:13Z", "path": "docs/editions.rst", "diffHunk": "@@ -94,31 +115,59 @@ CrateDB Community Edition\n The CrateDB *Community Edition* (CrateDB CE) does not include any\n :ref:`enterprise-features` but can be run on as many nodes as you wish.\n \n-CrateDB CE must be built from source, like so:\n+.. NOTE::\n+\n+   CrateDB requires a `Java virtual machine`_ to run.\n+\n+   Starting with CrateDB 4.2, a JVM is bundled with the tarball and no\n+   extra installation is necessary.\n+\n+   Versions starting from 3.0 to 4.1 require a `Java 11`_ installation. We\n+   recommend using `Oracle's Java`_ on macOS and OpenJDK_ on Linux Systems.\n+\n+   Earlier versions required Java 8.\n+\n+CrateDB CE must be built from source:\n \n .. code-block:: console\n \n    sh$ git clone https://github.com/crate/crate\n    sh$ cd crate\n-   sh$ git submodule update --init\n    sh$ git checkout <TAG>\n    sh$ ./gradlew clean communityEditionDistTar\n \n-Here, replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n-the `release`_ you wish to use.\n+The steps above:\n+\n+- clone the CrateDB Git repository and navigate into the directory\n \n-When the ``gradlew`` command successfully completes, the relevant CrateDB CE\n+- replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n+  the `release`_ you wish to use or just the version number of the release\n+\n+- execute the `Gradle Wrapper`_ script included in the repository to clean up\n+  any old build files and to invoke a `distribution plugin`_ that will generate\n+  Gradle tasks to build the Community Edition tar archive ", "originalCommit": "55306d9a5442313ac912a4804c3597aa947c734e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6ed3d6ab11fb72141a8499e0b14e9450423e8814", "url": "https://github.com/crate/crate/commit/6ed3d6ab11fb72141a8499e0b14e9450423e8814", "message": "update and clean up Editions page", "committedDate": "2020-08-12T15:38:07Z", "type": "forcePushed"}, {"oid": "d060ad28fca8d02b5c73a14438443e372274d2f8", "url": "https://github.com/crate/crate/commit/d060ad28fca8d02b5c73a14438443e372274d2f8", "message": "update and clean up Editions page", "committedDate": "2020-08-13T07:43:23Z", "type": "forcePushed"}, {"oid": "8fff025d96946e0e4df8a262ab12ad891388aa7e", "url": "https://github.com/crate/crate/commit/8fff025d96946e0e4df8a262ab12ad891388aa7e", "message": "update and clean up Editions page", "committedDate": "2020-08-14T08:58:36Z", "type": "commit"}, {"oid": "8fff025d96946e0e4df8a262ab12ad891388aa7e", "url": "https://github.com/crate/crate/commit/8fff025d96946e0e4df8a262ab12ad891388aa7e", "message": "update and clean up Editions page", "committedDate": "2020-08-14T08:58:36Z", "type": "forcePushed"}]}