{"pr_number": 9721, "pr_title": "Remove ExplainLeaf & integrate SymbolPrinter logic into Symbol", "pr_createdAt": "2020-03-03T13:29:27Z", "pr_url": "https://github.com/crate/crate/pull/9721", "timeline": [{"oid": "b9b2a61ba63d47c25a65938fc387c6864ac33f06", "url": "https://github.com/crate/crate/commit/b9b2a61ba63d47c25a65938fc387c6864ac33f06", "message": "Remove ExplainLeaf & integrate SymbolPrinter logic into Symbol\n\nSome symbols delegated `toString` to `representation()` of\n`ExplainLeaf`, some to `SymbolPrinter`, some had their custom\n`toString`.\n\nIn some places we then used the `representation()` of `ExplainLeaf`, in\nother places we used `SymbolPrinter`.\n\nTo make the formatting of symbols consistent, this adds a\n`toString(style)` to `Symbol` and removes both `ExplainLeaf` and\n`SymbolPrinter`.", "committedDate": "2020-03-03T13:19:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzAzMDU2MQ==", "url": "https://github.com/crate/crate/pull/9721#discussion_r387030561", "bodyText": "lgtm! nice inlining of the print logic", "author": "kovrus", "createdAt": "2020-03-03T13:50:37Z", "path": "sql/src/main/java/io/crate/expression/symbol/Symbol.java", "diffHunk": "@@ -64,10 +64,12 @@ public Symbol cast(DataType<?> targetType, boolean tryCast) {\n     }\n \n     @Override\n-    public String toString() {\n-        return representation();\n+    public final String toString() {\n+        return toString(Style.UNQUALIFIED);\n     }\n \n+    public abstract String toString(Style style);", "originalCommit": "b9b2a61ba63d47c25a65938fc387c6864ac33f06", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}