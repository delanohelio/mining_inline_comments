{"pr_number": 9527, "pr_title": "Improve documentation regarding analyzers types", "pr_createdAt": "2020-01-17T08:47:48Z", "pr_url": "https://github.com/crate/crate/pull/9527", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367825974", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Creates one single token without any further analysis from the field-contents.\n          \n          \n            \n            This is the same as the `keyword`_ analyzer.", "author": "seut", "createdAt": "2020-01-17T08:53:21Z", "path": "docs/general/ddl/analyzers.rst", "diffHunk": "@@ -110,6 +110,15 @@ This is the same as the `standard-analyzer`_ analyzer.\n \n Uses the :ref:`lowercase-tokenizer` tokenizer.\n \n+.. _plain-analyzer:\n+\n+``plain``\n+----------\n+\n+``type='plain'``\n+\n+Creates one single token without any further analysis from the field-contents.", "originalCommit": "d8338c1226d203c87a1b80ded87aefbdaa521b61", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNzAwMw==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367827003", "bodyText": "plain is a special CrateDB analyzer alias, I'm not sure if we allow to extend from it when creating custom analyzer.\nCan you please verify that and note it here if not extendable (note to extend from keyword_ analyzer instead)?", "author": "seut", "createdAt": "2020-01-17T08:55:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzMDE3OQ==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367830179", "bodyText": "Good point, thank you, will clarify that.", "author": "mkleen", "createdAt": "2020-01-17T09:04:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1OTkwMg==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367959902", "bodyText": "I am actually not quite sure if it would be better to drop the plain analyzer completely and simply reference for plain to the keyword analyzer.", "author": "mkleen", "createdAt": "2020-01-17T14:24:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODM5ODEzNw==", "url": "https://github.com/crate/crate/pull/9527#discussion_r368398137", "bodyText": "@mechanomi what is your opinion here ?", "author": "mkleen", "createdAt": "2020-01-20T07:24:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQ3OTMxNA==", "url": "https://github.com/crate/crate/pull/9527#discussion_r368479314", "bodyText": "I think it makes sense to keep it in, and explain that it's an alias", "author": "norosa", "createdAt": "2020-01-20T10:41:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQ3OTk1Nw==", "url": "https://github.com/crate/crate/pull/9527#discussion_r368479957", "bodyText": "\ud83d\udc4d", "author": "mkleen", "createdAt": "2020-01-20T10:42:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTk3NA=="}], "type": "inlineReview"}, {"oid": "9722886b88166e3cadae6870926cf451f2a0a5c2", "url": "https://github.com/crate/crate/commit/9722886b88166e3cadae6870926cf451f2a0a5c2", "message": "Reference plain analyzer from other pages", "committedDate": "2020-01-17T15:16:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5MDg2Mg==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367990862", "bodyText": "you can break lines inside of the ref blocks which will produce a slightly better looking paragraph word-wrap", "author": "norosa", "createdAt": "2020-01-17T15:23:35Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -95,7 +95,9 @@ characters are allowed. Example::\n     ... );\n     CREATE OK, 1 row affected (... sec)\n \n-Columns of type text can also be analyzed. See :ref:`sql_ddl_index_fulltext`.\n+Columns of type text can also be analyzed. By default the\n+:ref:`plain <plain-analyzer>` analyzer is used. See :ref:`sql_ddl_index_fulltext`", "originalCommit": "9722886b88166e3cadae6870926cf451f2a0a5c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5MTEwNA==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367991104", "bodyText": "extraneous line?", "author": "norosa", "createdAt": "2020-01-17T15:24:04Z", "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -761,7 +763,9 @@ the schema of the table. Once a column is added, it shows up in the\n ``information_schema.columns`` table and its type and attributes are fixed.\n They will have the type that was guessed by their inserted/updated value and\n they will always be ``not_indexed`` which means they are analyzed with the\n-``plain`` analyzer, which means as-is.\n+:ref:`plain <plain-analyzer>`, which means as-is.\n+\n+", "originalCommit": "9722886b88166e3cadae6870926cf451f2a0a5c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5MjAwNQ==", "url": "https://github.com/crate/crate/pull/9527#discussion_r367992005", "bodyText": "you could rework this line and the next two into a single para and combine the first two sentences to make it more direct\nsomething like:\n\nThe plain analyzer is an alias for the keyword_ analyzer and cannot be extended. You must extend the keyword_ analyzer instead.", "author": "norosa", "createdAt": "2020-01-17T15:25:52Z", "path": "docs/general/ddl/analyzers.rst", "diffHunk": "@@ -110,6 +110,17 @@ This is the same as the `standard-analyzer`_ analyzer.\n \n Uses the :ref:`lowercase-tokenizer` tokenizer.\n \n+.. _plain-analyzer:\n+\n+``plain``\n+----------\n+\n+``type='plain'``\n+\n+This is the same as the `keyword`_ analyzer.", "originalCommit": "9722886b88166e3cadae6870926cf451f2a0a5c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODM5NzAyNA==", "url": "https://github.com/crate/crate/pull/9527#discussion_r368397024", "bodyText": "\ud83d\udc4d", "author": "mkleen", "createdAt": "2020-01-20T07:19:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5MjAwNQ=="}], "type": "inlineReview"}, {"oid": "c6bd495f76416a13306bc641409965ed3572dd24", "url": "https://github.com/crate/crate/commit/c6bd495f76416a13306bc641409965ed3572dd24", "message": "Add plain analyzer to fulltext analyzers", "committedDate": "2020-01-20T10:52:30Z", "type": "commit"}, {"oid": "c6bd495f76416a13306bc641409965ed3572dd24", "url": "https://github.com/crate/crate/commit/c6bd495f76416a13306bc641409965ed3572dd24", "message": "Add plain analyzer to fulltext analyzers", "committedDate": "2020-01-20T10:52:30Z", "type": "forcePushed"}]}