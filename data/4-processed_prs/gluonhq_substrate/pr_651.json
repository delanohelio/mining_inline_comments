{"pr_number": 651, "pr_title": "Wait for a minute before we release the client plugins", "pr_createdAt": "2020-06-04T20:03:08Z", "pr_url": "https://github.com/gluonhq/substrate/pull/651", "timeline": [{"oid": "91d863e9d1a8e63bc9da337a9179d65fe1123a21", "url": "https://github.com/gluonhq/substrate/commit/91d863e9d1a8e63bc9da337a9179d65fe1123a21", "message": "Wait for a minute before we release the client plugins", "committedDate": "2020-06-04T19:59:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMzk3Ng==", "url": "https://github.com/gluonhq/substrate/pull/651#discussion_r435533976", "bodyText": "add a return carriage?", "author": "jperedadnr", "createdAt": "2020-06-04T20:36:42Z", "path": ".github/scripts/release-plugins.sh", "diffHunk": "@@ -1,5 +1,14 @@\n #!/usr/bin/env bash\n \n+echo \"Wait for a minute for Maven Central to sync and make the artifact available to client plugins\"\n+counter=1\n+while [ $counter -le 60 ]\n+do\n+  printf \".\"\n+  sleep 1s\n+((counter++))\n+done", "originalCommit": "91d863e9d1a8e63bc9da337a9179d65fe1123a21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcwMjYyNg==", "url": "https://github.com/gluonhq/substrate/pull/651#discussion_r435702626", "bodyText": "There is absolutely no need to print progress, since this is run on a CI environment. Just print a message right before the sleep and then sleep 60s instead of using the counter.", "author": "tiainen", "createdAt": "2020-06-05T05:48:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMzk3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5MDI0Mg==", "url": "https://github.com/gluonhq/substrate/pull/651#discussion_r435790242", "bodyText": "Even on a CI, it is weird to wait for 60s without any feedback. Instead of printing '.', we could also print the time elapsed.", "author": "abhinayagarwal", "createdAt": "2020-06-05T09:07:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMzk3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg1NDA1OA==", "url": "https://github.com/gluonhq/substrate/pull/651#discussion_r435854058", "bodyText": "That's why I suggested to \"print a message right before\". Something like:\n\nSleeping 60 seconds to allow Maven Central to do their thing.\n\nOn another note, why did you choose 60 seconds? AFAIK the sync can take up to 10 minutes. Perhaps it's time to just abandon trying to release both substrate and the client plugins from a single script.", "author": "tiainen", "createdAt": "2020-06-05T11:14:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMzk3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg1NzM5OQ==", "url": "https://github.com/gluonhq/substrate/pull/651#discussion_r435857399", "bodyText": "I presumed 60seconds should be good enough and it takes time for builds in Travis for client plugins to start as well. I restarted the failed builds immediately after they failed and they passed without any issue.\nbq. Perhaps it's time to just abandon trying to release both substrate and the client plugins from a single script.\nThis change was introduced recently to ease the requirement of releasing Substrate and plugins together.", "author": "abhinayagarwal", "createdAt": "2020-06-05T11:22:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMzk3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg2MjExNA==", "url": "https://github.com/gluonhq/substrate/pull/651#discussion_r435862114", "bodyText": "Oops, now I see that I overlooked the echo command that you already added.\nAnyway, if you believe these dots are useful, you can have them. I'm not the one that is going to look at live CI output \ud83d\ude04.", "author": "tiainen", "createdAt": "2020-06-05T11:34:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMzk3Ng=="}], "type": "inlineReview"}]}