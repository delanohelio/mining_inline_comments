{"pr_number": 4573, "pr_title": "GEODE-7651:  Provide docker target for geode-assembly", "pr_createdAt": "2020-01-08T01:04:13Z", "pr_url": "https://github.com/apache/geode/pull/4573", "timeline": [{"oid": "bc66070ae59c5009c4cc7003147c53847aaf5c0c", "url": "https://github.com/apache/geode/commit/bc66070ae59c5009c4cc7003147c53847aaf5c0c", "message": "Build geode into docker image from source build\n\nCo-authored-by: Aaron Lindsey <alindsey@pivotal.io>\nCo-authored-by: Michael Oleske <moleske@pivotal.io>", "committedDate": "2020-01-08T00:49:11Z", "type": "commit"}, {"oid": "9b71f4ded6474655497e2a60530b675dd2a61f36", "url": "https://github.com/apache/geode/commit/9b71f4ded6474655497e2a60530b675dd2a61f36", "message": "Add Environment variables\n\nCo-authored-by: Aaron Lindsey <alindsey@pivotal.io>\nCo-authored-by: Michael Oleske <moleske@pivotal.io>", "committedDate": "2020-01-08T00:49:11Z", "type": "commit"}, {"oid": "6d425be1d06c12148a27745fc1b7020db9fa3f83", "url": "https://github.com/apache/geode/commit/6d425be1d06c12148a27745fc1b7020db9fa3f83", "message": "License header\n\nAuthored-by: Michael Oleske <moleske@pivotal.io>", "committedDate": "2020-01-08T00:49:11Z", "type": "commit"}, {"oid": "714d756e053afb96c0609e350a75f4b8d0b68922", "url": "https://github.com/apache/geode/commit/714d756e053afb96c0609e350a75f4b8d0b68922", "message": "GEODE-7651: Use openjdk 11 instead of bionic\n\nAuthored-by: Michael Oleske <moleske@pivotal.io>", "committedDate": "2020-01-08T00:49:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDMzNTYwNg==", "url": "https://github.com/apache/geode/pull/4573#discussion_r364335606", "bodyText": "The docker task should probably depend on whatever task generates the build/install/apache-geode directory (maybe installDist?) But that could also be a separate PR.", "author": "aaronlindsey", "createdAt": "2020-01-08T16:52:56Z", "path": "geode-assembly/build.gradle", "diffHunk": "@@ -670,3 +671,8 @@ task dumpInstalledJars(dependsOn: installDist) {\n     }\n   }\n }\n+\n+docker {", "originalCommit": "714d756e053afb96c0609e350a75f4b8d0b68922", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDM0NjM4OQ==", "url": "https://github.com/apache/geode/pull/4573#discussion_r364346389", "bodyText": "Should definitely have a 'dependsOn installDist", "author": "rhoughton-pivot", "createdAt": "2020-01-08T17:16:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDMzNTYwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDM0NTE0MA==", "url": "https://github.com/apache/geode/pull/4573#discussion_r364345140", "bodyText": "Hurray for alphabetizing!", "author": "rhoughton-pivot", "createdAt": "2020-01-08T17:13:24Z", "path": "build.gradle", "diffHunk": "@@ -23,14 +23,15 @@ buildscript {\n   }\n \n   dependencies {\n-    classpath \"com.netflix.nebula:nebula-project-plugin:6.0.2\"\n-    classpath \"com.netflix.nebula:gradle-lint-plugin:11.4.4\"\n-    classpath \"org.ajoberstar.grgit:grgit-gradle:3.1.1\"\n-    classpath \"org.nosphere.apache:creadur-rat-gradle:0.4.0\"\n-    classpath 'org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.7'\n-    classpath \"com.diffplug.spotless:spotless-plugin-gradle:3.21.1\"\n+    classpath 'com.diffplug.spotless:spotless-plugin-gradle:3.21.1'\n     classpath 'com.github.ben-manes:gradle-versions-plugin:0.21.0'\n+    classpath 'com.netflix.nebula:gradle-lint-plugin:11.4.4'", "originalCommit": "714d756e053afb96c0609e350a75f4b8d0b68922", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ2MzQzOQ==", "url": "https://github.com/apache/geode/pull/4573#discussion_r364463439", "bodyText": "I thought we were standardizing on AdoptOpenJDK?", "author": "pivotal-jbarrett", "createdAt": "2020-01-08T21:57:43Z", "path": "geode-assembly/Dockerfile", "diffHunk": "@@ -0,0 +1,20 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+FROM openjdk:11", "originalCommit": "714d756e053afb96c0609e350a75f4b8d0b68922", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3NTU0Ng==", "url": "https://github.com/apache/geode/pull/4573#discussion_r364475546", "bodyText": "All the references in the other Dockerfiles in Geode all use openjdk, so it seemed out to make this one different.  Might worth having a discussion outside of this PR and then open a new PR switching this to adoptopenjdk", "author": "moleske", "createdAt": "2020-01-08T22:30:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ2MzQzOQ=="}], "type": "inlineReview"}, {"oid": "ed9ebbc42aaba9d1f0b0418ef0d4d52dd1f4285d", "url": "https://github.com/apache/geode/commit/ed9ebbc42aaba9d1f0b0418ef0d4d52dd1f4285d", "message": "GEODE-7651: Docker depends on installDist\n\nCo-authored-by: Sean Goller <sgoller@pivotal.io>\nCo-authored-by: Michael Oleske <moleske@pivotal.io>", "committedDate": "2020-01-08T22:26:16Z", "type": "commit"}, {"oid": "c52ac8ec26093f8619128d0e753e0172a8105e98", "url": "https://github.com/apache/geode/commit/c52ac8ec26093f8619128d0e753e0172a8105e98", "message": "GEODE-7651: Variablize docker image name\n\nCo-authored-by: Sean Goller <sgoller@pivotal.io>\nCo-authored-by: Michael Oleske <moleske@pivotal.io>", "committedDate": "2020-01-08T23:09:07Z", "type": "commit"}]}