{"pr_number": 4840, "pr_title": "GEODE-7851: update docs on Pulse Authentication", "pr_createdAt": "2020-03-23T19:14:13Z", "pr_url": "https://github.com/apache/geode/pull/4840", "timeline": [{"oid": "b7036132cf5c9449c95811de360e7aff410d4af0", "url": "https://github.com/apache/geode/commit/b7036132cf5c9449c95811de360e7aff410d4af0", "message": "GEODE-7851: update docs on Pulse Authentication", "committedDate": "2020-03-23T19:13:14Z", "type": "commit"}, {"oid": "d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657", "url": "https://github.com/apache/geode/commit/d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657", "message": "add test to test the the documentation correctness", "committedDate": "2020-03-23T21:35:00Z", "type": "commit"}, {"oid": "e1949a40c35f9df5aae6bf54baa96a44623d2e69", "url": "https://github.com/apache/geode/commit/e1949a40c35f9df5aae6bf54baa96a44623d2e69", "message": "GEODE-7889: Fix CloseConnectionTest\n\n- Use await().untilAsserted() to allow connections to settle\r\n- Use setup and tear down methods\r\n- Do not extend CacheTestCase as it is an empty abstract with a deprecated super", "committedDate": "2020-03-24T06:42:18Z", "type": "commit"}, {"oid": "ceb76f0754264b7d80eb2f6da80b1c0a335f4b6a", "url": "https://github.com/apache/geode/commit/ceb76f0754264b7d80eb2f6da80b1c0a335f4b6a", "message": "Merge branch 'pulseDoc' of https://github.com/jinmeiliao/geode into jinmeiliao-pulseDoc", "committedDate": "2020-03-24T16:29:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM1ODMyNw==", "url": "https://github.com/apache/geode/pull/4840#discussion_r397358327", "bodyText": "Are these authorities correct? I would have guessed that they would have to something CLUSTER:READ.\nIf ROLE_USER is valid here, okay. But if not, then consider giving John and Bob real authorities. And perhaps give each a different set of authorities.", "author": "demery-pivotal", "createdAt": "2020-03-24T18:04:48Z", "path": "geode-docs/tools_modules/pulse/pulse-auth.html.md.erb", "diffHunk": "@@ -50,3 +50,95 @@ When the `http` SSL component is enabled, all HTTP services become\n SSL-enabled and you must configure your client applications\n accordingly. For SSL-enabled Pulse, you will need to configure your\n browsers with proper certificates.\n+\n+# Configuring Pulse to Use Geode Security Manager for Authentication/Authorization\n+\n+**Embedded Mode (Jetty)**\n+\n+You don't need to do anything for this setup. Pulse will automatically be configured by Geode to send the credentials entered in Pulse login page to the Security Manager for authentication and authorization.\n+\n+**Non-Embedded (Standalone Web Server) Mode (Tomcat)**\n+\n+You need to configure the Pulse web app to use a geode specific security profile by activating the geode profile at startup with the system property:\n+\n+``` pre\n+-Dspring.profiles.active=pulse.authentication.gemfire\n+```\n+\n+# Configuring Pulse to use Custom Security Profile\n+\n+This would only work if you are NOT using a security manager to in your cluster. The custom security profile only controls who can access Pulse web page. You will need to create a xml file named `pulse-authentication-custom.xml` that defines the credentials and roles of the users of Pulse.\n+\n+**Example pulse-authentication-custom.xml for Spring simple in-memory User Details Service**\n+\n+``` pre\n+<beans:beans >\n+  <authentication-manager>\n+    <authentication-provider>\n+      <user-service id=\"userDetailsService\">\n+        <user name=\"john\" password=\"johnspassword\" authorities=\"ROLE_USER \" />", "originalCommit": "d71b6aecdbd8e326c52b6b0b4c4b8297dcf17657", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fc12af9d9c2f82e2a1a7636efe4f56537847a4f0", "url": "https://github.com/apache/geode/commit/fc12af9d9c2f82e2a1a7636efe4f56537847a4f0", "message": "GEODE-7851: edit doc source for format", "committedDate": "2020-03-24T19:00:14Z", "type": "commit"}, {"oid": "82c08e5e8d6db5e1d609aed30dd73236aa1bc220", "url": "https://github.com/apache/geode/commit/82c08e5e8d6db5e1d609aed30dd73236aa1bc220", "message": "review comments", "committedDate": "2020-03-24T22:47:19Z", "type": "commit"}]}