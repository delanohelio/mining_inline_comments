{"pr_number": 5458, "pr_title": "GEODE-8321 - Use Liberica JDK for testing - Part 1.", "pr_createdAt": "2020-08-14T06:58:11Z", "pr_url": "https://github.com/apache/geode/pull/5458", "timeline": [{"oid": "2579603aa291198c0cedc2fe28b9ca1a90d1927c", "url": "https://github.com/apache/geode/commit/2579603aa291198c0cedc2fe28b9ca1a90d1927c", "message": "First pass at switching to liberica jdk. (#5312)\n\nAuthored-by: Sean Goller <sgoller@pivotal.io>", "committedDate": "2020-08-14T16:37:30Z", "type": "commit"}, {"oid": "2579603aa291198c0cedc2fe28b9ca1a90d1927c", "url": "https://github.com/apache/geode/commit/2579603aa291198c0cedc2fe28b9ca1a90d1927c", "message": "First pass at switching to liberica jdk. (#5312)\n\nAuthored-by: Sean Goller <sgoller@pivotal.io>", "committedDate": "2020-08-14T16:37:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA2MDg5Mw==", "url": "https://github.com/apache/geode/pull/5458#discussion_r471060893", "bodyText": "what is the reason this line is needed?", "author": "onichols-pivotal", "createdAt": "2020-08-16T03:45:18Z", "path": "ci/images/test-container/Dockerfile", "diffHunk": "@@ -48,6 +50,10 @@ RUN  apt-get update \\\n   && apt-get install -y --no-install-recommends \\\n     openjdk-8-jdk \\\n     openjdk-11-jdk \\\n+    java-common \\\n+    bellsoft-java11 \\\n+    bellsoft-java8 \\\n+  && update-java-alternatives -s java-1.8.0-openjdk-amd64 \\", "originalCommit": "2579603aa291198c0cedc2fe28b9ca1a90d1927c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA2MTAyMg==", "url": "https://github.com/apache/geode/pull/5458#discussion_r471061022", "bodyText": "does this imply that docker stuff works under OpenJDK but not under Bellsoft JDK?", "author": "onichols-pivotal", "createdAt": "2020-08-16T03:47:08Z", "path": "ci/scripts/execute_tests.sh", "diffHunk": "@@ -69,13 +69,17 @@ fi\n \n case $ARTIFACT_SLUG in\n   windows*)\n+    echo \"Making environment adjustments for windows.\"\n     JAVA_BUILD_PATH=C:/java${JAVA_BUILD_VERSION}\n     JAVA_TEST_PATH=C:/java${JAVA_TEST_VERSION}\n+    GRADLE_SKIP_TASK_OPTIONS=\"${GRADLE_SKIP_TASK_OPTIONS} -x docker\"", "originalCommit": "2579603aa291198c0cedc2fe28b9ca1a90d1927c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTcyNjQ3Mg==", "url": "https://github.com/apache/geode/pull/5458#discussion_r471726472", "bodyText": "Why open jdk and bellsoft on the same image?", "author": "pivotal-jbarrett", "createdAt": "2020-08-17T19:25:24Z", "path": "ci/images/google-geode-builder/scripts/setup.sh", "diffHunk": "@@ -57,7 +59,9 @@ DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends \\\n cp -R /etc/alternatives /etc/keep-alternatives\n apt-get install -y --no-install-recommends \\\n     openjdk-8-jdk \\", "originalCommit": "2579603aa291198c0cedc2fe28b9ca1a90d1927c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc4NjM3Ng==", "url": "https://github.com/apache/geode/pull/5458#discussion_r471786376", "bodyText": "Last time we were bit by trying to move the entire mountain at once, and missing a few places (for example, PRs for support branches use this too, even other pipelines like examples, plus there's a lag time for images to rebuild, etc).\nTo avoid disruption, the plan this time is to get both JDKs in the image, then transition everything over and verify it's working, then finally remove the unneeded JDK.", "author": "onichols-pivotal", "createdAt": "2020-08-17T21:31:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTcyNjQ3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTcyNjY3Nw==", "url": "https://github.com/apache/geode/pull/5458#discussion_r471726677", "bodyText": "Why both open jdk and bellsoft?", "author": "pivotal-jbarrett", "createdAt": "2020-08-17T19:25:49Z", "path": "ci/images/test-container/Dockerfile", "diffHunk": "@@ -48,6 +50,10 @@ RUN  apt-get update \\\n   && apt-get install -y --no-install-recommends \\\n     openjdk-8-jdk \\\n     openjdk-11-jdk \\", "originalCommit": "2579603aa291198c0cedc2fe28b9ca1a90d1927c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}