{"pr_number": 5053, "pr_title": "GEODE-8072: check the null and stop the on-going query function when \u2026", "pr_createdAt": "2020-05-05T16:45:19Z", "pr_url": "https://github.com/apache/geode/pull/5053", "timeline": [{"oid": "d15076e641a94030027e3a124a113beb195ed8bf", "url": "https://github.com/apache/geode/commit/d15076e641a94030027e3a124a113beb195ed8bf", "message": "GEODE-8072: check the null and stop the on-going query function when cache is closing", "committedDate": "2020-05-05T16:43:21Z", "type": "commit"}, {"oid": "ad366c70505a3336dd2b45b775f1eaaeece2d223", "url": "https://github.com/apache/geode/commit/ad366c70505a3336dd2b45b775f1eaaeece2d223", "message": "refine the fix", "committedDate": "2020-05-05T20:42:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMDI0Mg==", "url": "https://github.com/apache/geode/pull/5053#discussion_r420430242", "bodyText": "How about check if (region.isDestroyed()) here?\nAnd then throw FunctionException that region is destroyed?", "author": "pivotal-eshu", "createdAt": "2020-05-05T21:55:41Z", "path": "geode-core/src/main/java/org/apache/geode/internal/cache/execute/InternalFunctionExecutionServiceImpl.java", "diffHunk": "@@ -116,6 +117,11 @@ public Execution onRegion(Region region) {\n       throw new FunctionException(\"Region instance passed is null\");\n     }\n \n+    if (region.getAttributes() == null) {", "originalCommit": "ad366c70505a3336dd2b45b775f1eaaeece2d223", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzNzgzNw==", "url": "https://github.com/apache/geode/pull/5053#discussion_r420437837", "bodyText": "fixed", "author": "gesterzhou", "createdAt": "2020-05-05T22:13:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMDI0Mg=="}], "type": "inlineReview"}, {"oid": "50ad00d204a3ec6c4f9ce63a485a4396541216a9", "url": "https://github.com/apache/geode/commit/50ad00d204a3ec6c4f9ce63a485a4396541216a9", "message": "fix based on review comments", "committedDate": "2020-05-05T22:12:44Z", "type": "commit"}]}