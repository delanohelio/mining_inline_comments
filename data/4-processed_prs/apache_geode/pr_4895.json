{"pr_number": 4895, "pr_title": "GEODE-7156: add docs for security-auth-token-enabled-components", "pr_createdAt": "2020-04-01T18:57:54Z", "pr_url": "https://github.com/apache/geode/pull/4895", "timeline": [{"oid": "4049b71446f9a72a134fb63c1d99d76acbb37bac", "url": "https://github.com/apache/geode/commit/4049b71446f9a72a134fb63c1d99d76acbb37bac", "message": "GEODE-7156: add docs for security-auth-token-enabled-components", "committedDate": "2020-04-01T18:56:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3ODUwNQ==", "url": "https://github.com/apache/geode/pull/4895#discussion_r401878505", "bodyText": "change \"bear\" to \"bearer\"", "author": "dschneider-pivotal", "createdAt": "2020-04-01T20:07:59Z", "path": "geode-docs/configuring/running/cluster-management-service.html.md.erb", "diffHunk": "@@ -73,3 +73,19 @@ This produces a browsable description of the cluster management service API:\n \n The cluster management service is available to Java clients via a Java API. To enable the cluster management service Java API, include `geode-management.jar` in your client classpath.\n See the [Cluster Management Service Java Client topic on the Geode Wiki](https://cwiki.apache.org/confluence/display/GEODE/Cluster+Management+Service#ClusterManagementService-JavaClient) for more details.\n+\n+## <a id='cms-security'>Authentication and Authorization</a>\n+\n+The cluster management service REST API is secured by the <code class=\"ph codeph\">security-manager</code> of your cluster. If a security-manager is specified, by default, you will\n+need to pass in a username/password pair in order to invoke the rest api.\n+\n+```\n+curl --user username:password http://example.com/management/regions\n+```\n+\n+When <code class=\"ph codeph\">security-auth-token-enabled-components</code> is set to \"all\" or \"management\", you will\n+need to pass in a valid bear token in your request header in order to invoke the rest api.", "originalCommit": "4049b71446f9a72a134fb63c1d99d76acbb37bac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4MjkxMA==", "url": "https://github.com/apache/geode/pull/4895#discussion_r401882910", "bodyText": "Why did you change \"security-client-accessor\" to \"security-auth-token\"? I don't see the latter in the product but the client-accessor one exists", "author": "dschneider-pivotal", "createdAt": "2020-04-01T20:16:14Z", "path": "geode-docs/reference/topics/gemfire_properties.html.md.erb", "diffHunk": "@@ -512,12 +512,23 @@ Any security-related (properties that begin with <code class=\"ph codeph\">securit\n <td><em>not set</em></td>\n </tr>\n <tr>\n-<td>security-client-accessor</td>\n+<td>security-auth-token</td>", "originalCommit": "4049b71446f9a72a134fb63c1d99d76acbb37bac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4NDI4Ng==", "url": "https://github.com/apache/geode/pull/4895#discussion_r401884286", "bodyText": "instead of \"what rest end point\" I think \"what components\" is better.", "author": "dschneider-pivotal", "createdAt": "2020-04-01T20:18:39Z", "path": "geode-docs/reference/topics/gemfire_properties.html.md.erb", "diffHunk": "@@ -512,12 +512,23 @@ Any security-related (properties that begin with <code class=\"ph codeph\">securit\n <td><em>not set</em></td>\n </tr>\n <tr>\n-<td>security-client-accessor</td>\n+<td>security-auth-token</td>\n <td><b>Deprecated.</b> Used for authorization. Static creation method returning an <code class=\"ph codeph\">AccessControl</code> object, which determines authorization of client-server cache operations. This specifies the callback that should be invoked in the pre-operation phase, which is when the request for the operation is received from the client.</td>\n <td>S, L</td>\n <td><em>not set</em></td>\n </tr>\n <tr>\n+<td>security-auth-token-enabled-components</td>\n+<td>A comma delimited list of component names which works in conjunction with the <code class=\"ph codeph\">security-manager</code> property. if security manager is enabled, this property will determine what rest end point will use token based authentication instead of basic (username/password) authentication.", "originalCommit": "4049b71446f9a72a134fb63c1d99d76acbb37bac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d70e81e53b4854504c51d3c932ff8b59c1ebd1a4", "url": "https://github.com/apache/geode/commit/d70e81e53b4854504c51d3c932ff8b59c1ebd1a4", "message": "review changes", "committedDate": "2020-04-01T21:31:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk0MjIzNg==", "url": "https://github.com/apache/geode/pull/4895#discussion_r401942236", "bodyText": "do literal quotes work here or do you need to use &quot;", "author": "dschneider-pivotal", "createdAt": "2020-04-01T22:16:32Z", "path": "geode-docs/reference/topics/gemfire_properties.html.md.erb", "diffHunk": "@@ -518,6 +518,17 @@ Any security-related (properties that begin with <code class=\"ph codeph\">securit\n <td><em>not set</em></td>\n </tr>\n <tr>\n+<td>security-auth-token-enabled-components</td>\n+<td>A comma delimited list of component names which works in conjunction with the <code class=\"ph codeph\">security-manager</code> property. if security manager is enabled, this property will determine what components will use token based authentication instead of basic (username/password) authentication.\n+<p>Valid values are: \"all\", \"management\", \"pulse\"</p>", "originalCommit": "d70e81e53b4854504c51d3c932ff8b59c1ebd1a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk0MzQ0OQ==", "url": "https://github.com/apache/geode/pull/4895#discussion_r401943449", "bodyText": "they show up correctly in the generated docs", "author": "jinmeiliao", "createdAt": "2020-04-01T22:19:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk0MjIzNg=="}], "type": "inlineReview"}]}