{"pr_number": 4988, "pr_title": "GEODE-7851: Add slf4j implementation to Pulse", "pr_createdAt": "2020-04-23T00:46:50Z", "pr_url": "https://github.com/apache/geode/pull/4988", "timeline": [{"oid": "bdae5829839ba2f80d177c559cf11d6005b9b46c", "url": "https://github.com/apache/geode/commit/bdae5829839ba2f80d177c559cf11d6005b9b46c", "message": "GEODE-7851: Add slf4j implementation to Pulse\n\nPulse was not logging because its war file had no slf4j implementation.\nThis commit adds the log4j2 implementation to the war file.\n\nAuthored-by: Dale Emery <demery@pivotal.io>", "committedDate": "2020-04-23T00:45:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk4MzY3NQ==", "url": "https://github.com/apache/geode/pull/4988#discussion_r413983675", "bodyText": "Why are we including the slf4j above and excluding it below. If impl is runtime only then all its deps will also be runtime only. We should just collapse this into a single include.", "author": "pivotal-jbarrett", "createdAt": "2020-04-23T17:24:03Z", "path": "geode-pulse/build.gradle", "diffHunk": "@@ -95,6 +94,9 @@ dependencies {\n \n   // added only to ensure common version with other geode modules\n   runtimeOnly('org.slf4j:slf4j-api')\n+  runtimeOnly('org.apache.logging.log4j:log4j-slf4j-impl') {\n+    exclude module: 'slf4j-api'", "originalCommit": "bdae5829839ba2f80d177c559cf11d6005b9b46c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDAwNjMyNQ==", "url": "https://github.com/apache/geode/pull/4988#discussion_r414006325", "bodyText": "I believe by declaring runtimeOnly('org.slf4j:slf4j-api') explicitly will use the version we chose specifically, if we only do runtimeOnly('org.apache.logging.log4j:log4j-slf4j-impl'), then the version will depend on whatever version log4j-slf4j-impl uses.\ndoing this:\nruntimeOnly('org.slf4j:slf4j-api')\nruntimeOnly('org.apache.logging.log4j:log4j-slf4j-impl')\nwill end up using the versions we declare for both jars.\nIf I understand how gradle dependency works.", "author": "jinmeiliao", "createdAt": "2020-04-23T17:57:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk4MzY3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDAxMDA3NQ==", "url": "https://github.com/apache/geode/pull/4988#discussion_r414010075", "bodyText": "I'll declare both dependencies explicitly and remove the exclusion.", "author": "demery-pivotal", "createdAt": "2020-04-23T18:02:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk4MzY3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDAxMDQ0Ng==", "url": "https://github.com/apache/geode/pull/4988#discussion_r414010446", "bodyText": "Our BOM binds the version regardless of how it is imported. You can verify versions with \u2018dependencies\u2019 target. https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html", "author": "pivotal-jbarrett", "createdAt": "2020-04-23T18:03:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk4MzY3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDAxNjg0Mw==", "url": "https://github.com/apache/geode/pull/4988#discussion_r414016843", "bodyText": "With or without the explicit dependency on slf4j-api, the scan shows that we get version 2.13.1. So I'll leave it out.", "author": "demery-pivotal", "createdAt": "2020-04-23T18:13:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk4MzY3NQ=="}], "type": "inlineReview"}, {"oid": "f17b8724b1dd0047fbf1715dbdf75b41c6f3c002", "url": "https://github.com/apache/geode/commit/f17b8724b1dd0047fbf1715dbdf75b41c6f3c002", "message": "Add test; simplify dependency declaration", "committedDate": "2020-04-23T18:26:30Z", "type": "commit"}]}