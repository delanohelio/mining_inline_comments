{"pr_number": 1203, "pr_title": "Excavator: Format Java files", "pr_createdAt": "2020-01-31T19:04:19Z", "pr_url": "https://github.com/palantir/gradle-baseline/pull/1203", "timeline": [{"oid": "6b6a956d1fb8e828c0f7cf903cb12b3a55013097", "url": "https://github.com/palantir/gradle-baseline/commit/6b6a956d1fb8e828c0f7cf903cb12b3a55013097", "message": "Excavator: Format Java files", "committedDate": "2020-02-01T13:13:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA1NDAyNg==", "url": "https://github.com/palantir/gradle-baseline/pull/1203#discussion_r374054026", "bodyText": "hmm - is splitting the cast really desirable here?", "author": "iamdanfox", "createdAt": "2020-02-03T11:34:18Z", "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineErrorProne.java", "diffHunk": "@@ -145,15 +145,15 @@ private static void applyToJavaProject(Project project) {\n                 }));\n \n         project.getPluginManager().withPlugin(\"java-gradle-plugin\", appliedPlugin -> {\n-            project.getTasks().withType(JavaCompile.class).configureEach(javaCompile ->\n-                    ((ExtensionAware) javaCompile.getOptions())\n-                            .getExtensions()\n-                            .configure(ErrorProneOptions.class, errorProneOptions -> {\n-                                errorProneOptions.check(\"Slf4jLogsafeArgs\", CheckSeverity.OFF);\n-                                errorProneOptions.check(\"PreferSafeLoggableExceptions\", CheckSeverity.OFF);\n-                                errorProneOptions.check(\"PreferSafeLoggingPreconditions\", CheckSeverity.OFF);\n-                                errorProneOptions.check(\"PreconditionsConstantMessage\", CheckSeverity.OFF);\n-                            }));\n+            project.getTasks().withType(JavaCompile.class).configureEach(javaCompile -> ((ExtensionAware)\n+                            javaCompile.getOptions())", "originalCommit": "6b6a956d1fb8e828c0f7cf903cb12b3a55013097", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTgwNzU5Mw==", "url": "https://github.com/palantir/gradle-baseline/pull/1203#discussion_r375807593", "bodyText": "not ideal... i think i know why this is happening, the code that tries to inline a \"reasonable prefix\" when deciding whether to partially inline the lambda body or not, only looks at text up to the next break (which is after the cast), and since that fits, it happily accepts that inlining.\nMaking that logic take into account the whole first expression is an option, but might end up causing some worse formattings too down the line, i.e. if the expression inside the cast were more complicated / spans a few lines, I can see how I'd prefer this to the alternative, which would introduce not one but two indentations for the cast body.\ne.g.\nproject.getTasks().withType(JavaCompile.class).configureEach(javaCompile ->\n        ((ExtensionAware) some\n                        .complicated()\n                        .expression())\n                .getExtensions()\n                ...)", "author": "dansanduleac", "createdAt": "2020-02-06T12:32:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA1NDAyNg=="}], "type": "inlineReview"}, {"oid": "67731fd3227b526ad6c2db1b13dcb004270ae76c", "url": "https://github.com/palantir/gradle-baseline/commit/67731fd3227b526ad6c2db1b13dcb004270ae76c", "message": "Excavator: Format Java files", "committedDate": "2020-02-03T22:07:47Z", "type": "forcePushed"}, {"oid": "da02dd444b67d21479131127e2ab7ccd2890f1a2", "url": "https://github.com/palantir/gradle-baseline/commit/da02dd444b67d21479131127e2ab7ccd2890f1a2", "message": "Excavator: Format Java files", "committedDate": "2020-02-04T03:06:41Z", "type": "forcePushed"}, {"oid": "497e3c35325e2a950ff6abbb45490b5810fb12fb", "url": "https://github.com/palantir/gradle-baseline/commit/497e3c35325e2a950ff6abbb45490b5810fb12fb", "message": "Excavator: Format Java files", "committedDate": "2020-02-04T07:34:14Z", "type": "forcePushed"}, {"oid": "7812b34bb2ad0592da231b4739bc4c46d5643cd3", "url": "https://github.com/palantir/gradle-baseline/commit/7812b34bb2ad0592da231b4739bc4c46d5643cd3", "message": "Excavator: Format Java files", "committedDate": "2020-02-04T16:40:25Z", "type": "forcePushed"}, {"oid": "cb372338899dd14f1f7281f6e510b3a7367ff34e", "url": "https://github.com/palantir/gradle-baseline/commit/cb372338899dd14f1f7281f6e510b3a7367ff34e", "message": "Excavator: Format Java files", "committedDate": "2020-02-04T21:21:56Z", "type": "forcePushed"}, {"oid": "e5d469b3bda4e2a485ba75259c66e95f52ec356c", "url": "https://github.com/palantir/gradle-baseline/commit/e5d469b3bda4e2a485ba75259c66e95f52ec356c", "message": "Excavator: Format Java files", "committedDate": "2020-02-05T17:18:57Z", "type": "forcePushed"}, {"oid": "1e7c391159c8ce180eb1a8a21aefa3d26c037c2c", "url": "https://github.com/palantir/gradle-baseline/commit/1e7c391159c8ce180eb1a8a21aefa3d26c037c2c", "message": "Excavator: Format Java files", "committedDate": "2020-02-05T22:26:44Z", "type": "forcePushed"}, {"oid": "e68776ff8078a40870886cc77a608ff200434d13", "url": "https://github.com/palantir/gradle-baseline/commit/e68776ff8078a40870886cc77a608ff200434d13", "message": "Excavator: Format Java files", "committedDate": "2020-02-06T03:42:42Z", "type": "forcePushed"}, {"oid": "23357dd9df4ceec89713e6c9b284e15080a970ea", "url": "https://github.com/palantir/gradle-baseline/commit/23357dd9df4ceec89713e6c9b284e15080a970ea", "message": "Excavator: Format Java files", "committedDate": "2020-02-07T04:56:28Z", "type": "commit"}, {"oid": "23357dd9df4ceec89713e6c9b284e15080a970ea", "url": "https://github.com/palantir/gradle-baseline/commit/23357dd9df4ceec89713e6c9b284e15080a970ea", "message": "Excavator: Format Java files", "committedDate": "2020-02-07T04:56:28Z", "type": "forcePushed"}]}