{"pr_number": 1546, "pr_title": "checkstyle 8.36 -> 8.37 (and keep it up to date using excavator)", "pr_createdAt": "2020-11-16T16:54:25Z", "pr_url": "https://github.com/palantir/gradle-baseline/pull/1546", "timeline": [{"oid": "6cc8fbe096cbcd8ebcd87052cd5eedab8cc004d6", "url": "https://github.com/palantir/gradle-baseline/commit/6cc8fbe096cbcd8ebcd87052cd5eedab8cc004d6", "message": "Excavator should keep checkstyle up to date", "committedDate": "2020-11-16T16:49:58Z", "type": "commit"}, {"oid": "5ce44d5db0c936d65c626ee5da284c8ed1f55623", "url": "https://github.com/palantir/gradle-baseline/commit/5ce44d5db0c936d65c626ee5da284c8ed1f55623", "message": "Update to 8.37, --write-locks", "committedDate": "2020-11-16T16:50:24Z", "type": "commit"}, {"oid": "b82435f1eb2acbd62c3c97b90ea00267e6b88c22", "url": "https://github.com/palantir/gradle-baseline/commit/b82435f1eb2acbd62c3c97b90ea00267e6b88c22", "message": "Add generated changelog entries", "committedDate": "2020-11-16T16:50:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQyMzU2Ng==", "url": "https://github.com/palantir/gradle-baseline/pull/1546#discussion_r524423566", "bodyText": "an alternative approach here is to generate the resource just-in-time as a dependency of the ./gradlew idea task... no super strong opinions, i just kinda like that this one is reasonably bulletproof", "author": "iamdanfox", "createdAt": "2020-11-16T17:00:09Z", "path": "gradle-baseline-java/build.gradle", "diffHunk": "@@ -131,3 +131,21 @@ project.ext.'gradle.publish.secret' = System.env[\"GRADLE_SECRET\"]\n tasks.withType(Test) {\n     systemProperty 'recreate', System.getProperty('recreate', 'false')\n }\n+\n+configurations {\n+    checkstyleVersion\n+}\n+\n+dependencies {\n+    checkstyleVersion 'com.puppycrawl.tools:checkstyle'\n+}\n+\n+task writeCheckstyleVersion() {\n+    doLast {\n+        file('src/main/resources/checkstyle.version').text = getVersion('com.puppycrawl.tools', 'checkstyle', configurations.checkstyleVersion)\n+    }\n+}\n+\n+if (gradle.startParameter.isWriteDependencyLocks()) {\n+    gradle.startParameter.taskNames += 'writeCheckstyleVersion'\n+}", "originalCommit": "b82435f1eb2acbd62c3c97b90ea00267e6b88c22", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ2Njk1Nw==", "url": "https://github.com/palantir/gradle-baseline/pull/1546#discussion_r524466957", "bodyText": "Also no strong opinion but I like doing this as part of \"--write-locks\" as people already expect their version numbers to change through this run.", "author": "fawind", "createdAt": "2020-11-16T18:01:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQyMzU2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ2ODQxMg==", "url": "https://github.com/palantir/gradle-baseline/pull/1546#discussion_r524468412", "bodyText": "yeah, in general I hate it when i open intellij and something crucial is missing because it failed to generate somehow.  this seemed more idiot dan-proof", "author": "iamdanfox", "createdAt": "2020-11-16T18:03:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQyMzU2Ng=="}], "type": "inlineReview"}, {"oid": "a8a59c916e8b38a2c00cb24278424ad8ecabf8b1", "url": "https://github.com/palantir/gradle-baseline/commit/a8a59c916e8b38a2c00cb24278424ad8ecabf8b1", "message": "how do java resources work", "committedDate": "2020-11-16T18:00:18Z", "type": "commit"}, {"oid": "3ecbab3c961a9e8ea29188db9b47426885929b9f", "url": "https://github.com/palantir/gradle-baseline/commit/3ecbab3c961a9e8ea29188db9b47426885929b9f", "message": "slash prefix", "committedDate": "2020-11-16T19:07:49Z", "type": "commit"}]}