{"pr_number": 2266, "pr_title": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "pr_createdAt": "2020-11-19T04:05:41Z", "pr_url": "https://github.com/zkoss/zk/pull/2266", "timeline": [{"oid": "137b01a7c5279d2b2d07b54599906550c423d30a", "url": "https://github.com/zkoss/zk/commit/137b01a7c5279d2b2d07b54599906550c423d30a", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-19T07:35:55Z", "type": "forcePushed"}, {"oid": "a68dc8b697298ddc930ba397eb83c886d478b9b2", "url": "https://github.com/zkoss/zk/commit/a68dc8b697298ddc930ba397eb83c886d478b9b2", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-20T03:23:22Z", "type": "forcePushed"}, {"oid": "1a9e139d7ed1a9b516b54ceb719187248415f079", "url": "https://github.com/zkoss/zk/commit/1a9e139d7ed1a9b516b54ceb719187248415f079", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-23T08:55:34Z", "type": "forcePushed"}, {"oid": "c47a5f9e27f180fa3740f6ef42ed3dbe092226e9", "url": "https://github.com/zkoss/zk/commit/c47a5f9e27f180fa3740f6ef42ed3dbe092226e9", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-23T09:01:59Z", "type": "forcePushed"}, {"oid": "9ace5cf7dffd917bd6bc681367d25acb0561a558", "url": "https://github.com/zkoss/zk/commit/9ace5cf7dffd917bd6bc681367d25acb0561a558", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-23T09:26:59Z", "type": "forcePushed"}, {"oid": "8756b5d06c16cba79804bf94a4a4d5f71cc694e4", "url": "https://github.com/zkoss/zk/commit/8756b5d06c16cba79804bf94a4a4d5f71cc694e4", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-23T09:50:44Z", "type": "forcePushed"}, {"oid": "b385f1cd31315df4328cb200696abe2282e5e8c9", "url": "https://github.com/zkoss/zk/commit/b385f1cd31315df4328cb200696abe2282e5e8c9", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-24T04:43:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDIxNTg3Mg==", "url": "https://github.com/zkoss/zk/pull/2266#discussion_r530215872", "bodyText": "zk.touchEnabled", "author": "scribetw", "createdAt": "2020-11-25T09:15:35Z", "path": "zk/src/archive/web/js/zk/zk.wpd", "diffHunk": "@@ -53,19 +53,20 @@ window.$eval=function(s){return eval(s);};\n \t<script src=\"ext/fetch.js\"/>\n \t<script src=\"au.js\" jsdoc=\"true\"/>\n \t<script src=\"flex.js\"/>\n-\t<script><![CDATA[\n-\t\tzk.touchEnabled = zk.mobile && !zk.tabletUIDisabled;\n-\t]]></script>\n-\t<script>if (zk.touchEnabled) {</script>\n+\t<script>if (zk.mobile || navigator.maxTouchPoints > 0) {</script>", "originalCommit": "b385f1cd31315df4328cb200696abe2282e5e8c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDIxNzkyMw==", "url": "https://github.com/zkoss/zk/pull/2266#discussion_r530217923", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tzk.touchEnabled = zk.mobile && !zk.tabletUIDisabled;\n          \n          \n            \n            \tif (zk.touchEnabled) {\n          \n          \n            \n            \tzk.tabletUIEnabled = zk.mobile && zk.tabletUIEnabled;\n          \n          \n            \n            \tif (zk.tabletUIEnabled) {", "author": "scribetw", "createdAt": "2020-11-25T09:18:36Z", "path": "zk/src/archive/web/js/zk/zk.wpd", "diffHunk": "@@ -53,19 +53,20 @@ window.$eval=function(s){return eval(s);};\n \t<script src=\"ext/fetch.js\"/>\n \t<script src=\"au.js\" jsdoc=\"true\"/>\n \t<script src=\"flex.js\"/>\n-\t<script><![CDATA[\n-\t\tzk.touchEnabled = zk.mobile && !zk.tabletUIDisabled;\n-\t]]></script>\n-\t<script>if (zk.touchEnabled) {</script>\n+\t<script>if (zk.mobile || navigator.maxTouchPoints > 0) {</script>\n \t\t<script src=\"zswipe.js\" jsdoc=\"true\"/>\n \t\t<script src=\"domtouch.js\"/>\n-\t<script>\n+\t<script><![CDATA[\n+\t}\n+\tzk.touchEnabled = zk.mobile && !zk.tabletUIDisabled;\n+\tif (zk.touchEnabled) {", "originalCommit": "b385f1cd31315df4328cb200696abe2282e5e8c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0ed237cc7a954e0b46a8d5bad6c763f0daebd1cd", "url": "https://github.com/zkoss/zk/commit/0ed237cc7a954e0b46a8d5bad6c763f0daebd1cd", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-26T03:39:54Z", "type": "commit"}, {"oid": "0ed237cc7a954e0b46a8d5bad6c763f0daebd1cd", "url": "https://github.com/zkoss/zk/commit/0ed237cc7a954e0b46a8d5bad6c763f0daebd1cd", "message": "ZK-4301: ZK doesn't listen for touch events on desktop browsers", "committedDate": "2020-11-26T03:39:54Z", "type": "forcePushed"}]}