{"pr_number": 562, "pr_title": " Get all DB2 tests passing with DB2 on Z", "pr_createdAt": "2020-03-31T05:38:01Z", "pr_url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/562", "timeline": [{"oid": "bec5f330ac3dc9fdae058ea1e4a530bdc19240bd", "url": "https://github.com/eclipse-vertx/vertx-sql-client/commit/bec5f330ac3dc9fdae058ea1e4a530bdc19240bd", "message": "Do not show object values in default Tuple#toString", "committedDate": "2020-03-30T21:55:07Z", "type": "commit"}, {"oid": "e940942bd62bff1b4b0a625ec730435401f7177f", "url": "https://github.com/eclipse-vertx/vertx-sql-client/commit/e940942bd62bff1b4b0a625ec730435401f7177f", "message": "Get all DB2 tests passing with DB2 on Z", "committedDate": "2020-03-31T05:34:43Z", "type": "commit"}, {"oid": "6131097107fc3e90d66ff0d297a9ef704c603ead", "url": "https://github.com/eclipse-vertx/vertx-sql-client/commit/6131097107fc3e90d66ff0d297a9ef704c603ead", "message": "Enable DB2BinaryDataTypeEncodeTest testDouble", "committedDate": "2020-03-31T15:00:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA2ODA3MQ==", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/562#discussion_r401068071", "bodyText": "Why fail the test for Z instead of wrapping it with\nif (!rule.isZOS()) {\nsuper.testDelayedCommit(ctx);\n}", "author": "gjwatts", "createdAt": "2020-03-31T16:56:13Z", "path": "vertx-db2-client/src/test/java/io/vertx/db2client/tck/DB2TransactionTest.java", "diffHunk": "@@ -62,5 +65,11 @@ protected void cleanTestTable(TestContext ctx) {\n   protected String statement(String... parts) {\n     return String.join(\"?\", parts);\n   }\n+  \n+  @Test\n+  public void testDelayedCommit(TestContext ctx) {\n+    assumeFalse(\"DB2 on Z holds write locks on inserted columns with isolation level = 2\", rule.isZOS());", "originalCommit": "6131097107fc3e90d66ff0d297a9ef704c603ead", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTExNDAyNA==", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/562#discussion_r401114024", "bodyText": "Here I am using assumeFalse which is slightly different than assertFalse. The assumeFalse method will simply bail out of the test if the assumption is not met, which shows up as a SKIP in the JUnit reports. So it's effectively the same thing as wrapping the test in the if statement you suggested, except the test will show up as SKIPPED instead of PASSED in the report.", "author": "aguibert", "createdAt": "2020-03-31T18:10:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA2ODA3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA2ODU1MQ==", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/562#discussion_r401068551", "bodyText": "Why fail the test for Z instead of wrapping it with\nif (!rule.isZOS()) {\ntestJoin(ctx, \"FULL OUTER JOIN\");\n}", "author": "gjwatts", "createdAt": "2020-03-31T16:56:55Z", "path": "vertx-db2-client/src/test/java/io/vertx/db2client/TableJoinTest.java", "diffHunk": "@@ -76,6 +79,7 @@ public void testRightOuterJoin(TestContext ctx) {\n \n \t@Test\n \tpublic void testFullOuterJoin(TestContext ctx) {\n+\t    assumeFalse(\"DB2 on Z does not support operations within ON clause for FULL OUTER JOIN\", rule.isZOS());", "originalCommit": "6131097107fc3e90d66ff0d297a9ef704c603ead", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}