{"pr_number": 4781, "pr_title": "Issue 4777:  System test for ByteStream truncation.", "pr_createdAt": "2020-05-11T10:39:50Z", "pr_url": "https://github.com/pravega/pravega/pull/4781", "timeline": [{"oid": "6a34b4635f8bf2f8bc8a0866da19ab425791b2a7", "url": "https://github.com/pravega/pravega/commit/6a34b4635f8bf2f8bc8a0866da19ab425791b2a7", "message": "Initial version of the ByteStreamm truncation.\n\nSigned-off-by: Sandeep <sandeep.shridhar@emc.com>", "committedDate": "2020-04-28T07:34:08Z", "type": "commit"}, {"oid": "056ec6e9d7a9bcfc383d749887cf226fd24a6b8e", "url": "https://github.com/pravega/pravega/commit/056ec6e9d7a9bcfc383d749887cf226fd24a6b8e", "message": "Add junit tests.\n\nSigned-off-by: Sandeep <sandeep.shridhar@emc.com>", "committedDate": "2020-04-29T09:29:30Z", "type": "commit"}, {"oid": "56c41026fbefad7b585630738f4ef09356b69db0", "url": "https://github.com/pravega/pravega/commit/56c41026fbefad7b585630738f4ef09356b69db0", "message": "Merge branch 'master' into issue-4680-bytestreamtruncation", "committedDate": "2020-04-30T03:41:57Z", "type": "commit"}, {"oid": "ecb970ad8cfa76618663eae8ed9a0c959611b231", "url": "https://github.com/pravega/pravega/commit/ecb970ad8cfa76618663eae8ed9a0c959611b231", "message": "Merge branch 'master' into issue-4680-bytestreamtruncation", "committedDate": "2020-05-01T02:13:53Z", "type": "commit"}, {"oid": "926e710d3b6c31e21597afb0526acaed59724c14", "url": "https://github.com/pravega/pravega/commit/926e710d3b6c31e21597afb0526acaed59724c14", "message": "Merge branch 'master' into issue-4680-bytestreamtruncation", "committedDate": "2020-05-05T01:42:17Z", "type": "commit"}, {"oid": "cad803d44260245ca6f74fff340655686220020e", "url": "https://github.com/pravega/pravega/commit/cad803d44260245ca6f74fff340655686220020e", "message": "Merge branch 'master' into issue-4680-bytestreamtruncation", "committedDate": "2020-05-05T21:33:19Z", "type": "commit"}, {"oid": "34de8d758c3fccd077138f21c54ca775ed6984a7", "url": "https://github.com/pravega/pravega/commit/34de8d758c3fccd077138f21c54ca775ed6984a7", "message": "Merge branch 'master' into issue-4680-bytestreamtruncation", "committedDate": "2020-05-07T22:11:02Z", "type": "commit"}, {"oid": "c0bff9b4c5aaa6698854d667f020b9ef06966a9e", "url": "https://github.com/pravega/pravega/commit/c0bff9b4c5aaa6698854d667f020b9ef06966a9e", "message": "System test for byte stream truncation.\n\nSigned-off-by: Sandeep <sandeep.shridhar@emc.com>", "committedDate": "2020-05-11T09:47:40Z", "type": "commit"}, {"oid": "55b46315305c4f8a6a1a126dcf2cbddf9de95781", "url": "https://github.com/pravega/pravega/commit/55b46315305c4f8a6a1a126dcf2cbddf9de95781", "message": "Merge branch 'master' into issue-4777-test", "committedDate": "2020-05-11T14:14:25Z", "type": "commit"}, {"oid": "5c8550053c0c91fa547bf94e8dd5c632e35f9b2c", "url": "https://github.com/pravega/pravega/commit/5c8550053c0c91fa547bf94e8dd5c632e35f9b2c", "message": "Merge branch 'master' into issue-4777-test", "committedDate": "2020-05-11T15:12:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMTkwNQ==", "url": "https://github.com/pravega/pravega/pull/4781#discussion_r424501905", "bodyText": "Nit: can we format these 3 lines properly please?", "author": "andreipaduroiu", "createdAt": "2020-05-13T14:53:11Z", "path": "test/system/src/test/java/io/pravega/test/system/ByteClientTest.java", "diffHunk": "@@ -182,5 +186,76 @@ public void byteClientTest() throws IOException {\n         log.debug(\"Data correctly written/read from Stream: byte client test passed.\");\n     }\n \n-    // End utils region\n+    /**\n+     * This test verifies the correctness of truncation in a ByteStream using {@link ByteStreamReader} and {@link ByteStreamWriter}.\n+     */\n+    @Test\n+    public void byteClientTruncationTest() throws IOException {\n+        log.info(\"byteClientTruncationTest:: with security enabled: {}\", Utils.AUTH_ENABLED);\n+\n+        assertTrue(\"Creating stream\", streamManager.createStream(SCOPE, STREAM_TRUNCATION, config));\n+\n+        @Cleanup\n+        ConnectionFactory connectionFactory = new ConnectionFactoryImpl(Utils.buildClientConfig(controllerURI));\n+        ControllerImpl controller = new ControllerImpl(ControllerImplConfig.builder()\n+                                                                           .clientConfig(Utils.buildClientConfig(controllerURI)).build(),", "originalCommit": "5c8550053c0c91fa547bf94e8dd5c632e35f9b2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUyNjYwNQ==", "url": "https://github.com/pravega/pravega/pull/4781#discussion_r424526605", "bodyText": "fixed it.", "author": "shrids", "createdAt": "2020-05-13T15:25:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMTkwNQ=="}], "type": "inlineReview"}, {"oid": "bf5611380577668044d7e1c34fb4856b2ce451ce", "url": "https://github.com/pravega/pravega/commit/bf5611380577668044d7e1c34fb4856b2ce451ce", "message": "CR Changes: Fix formatting.\n\nSigned-off-by: Sandeep <sandeep.shridhar@emc.com>", "committedDate": "2020-05-13T15:24:27Z", "type": "commit"}]}