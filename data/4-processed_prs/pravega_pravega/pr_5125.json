{"pr_number": 5125, "pr_title": "Issue 5124: publish :segmentstore:storage:testJar artifact", "pr_createdAt": "2020-08-31T00:10:13Z", "pr_url": "https://github.com/pravega/pravega/pull/5125", "timeline": [{"oid": "017f4b15c13e8ea29926a123033eb04569071104", "url": "https://github.com/pravega/pravega/commit/017f4b15c13e8ea29926a123033eb04569071104", "message": "publish :segmentstore:storage:testJar artifact\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-08-30T23:48:33Z", "type": "commit"}, {"oid": "00aabf8a0e0f46f64d2173917577e794e7a2f9d2", "url": "https://github.com/pravega/pravega/commit/00aabf8a0e0f46f64d2173917577e794e7a2f9d2", "message": "test both ways - source as well as test to ensure the publishing filter condition works properly\njar -> continues to publish as before\ntest -> publishes after this change\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-08-31T03:10:24Z", "type": "commit"}, {"oid": "945ea7c8664c43bea3431b8ba32feb9ae8f7bcf3", "url": "https://github.com/pravega/pravega/commit/945ea7c8664c43bea3431b8ba32feb9ae8f7bcf3", "message": "add tests as filter criteria\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-08-31T03:49:30Z", "type": "commit"}, {"oid": "2db1b79ff60b47787589271f389c559af8b58631", "url": "https://github.com/pravega/pravega/commit/2db1b79ff60b47787589271f389c559af8b58631", "message": "include testJar in artifacts\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-08-31T08:20:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIyODk1Mw==", "url": "https://github.com/pravega/pravega/pull/5125#discussion_r480228953", "bodyText": "This is not required but it is intentional in this listing.", "author": "ravibeta", "createdAt": "2020-08-31T16:00:39Z", "path": "build.gradle", "diffHunk": "@@ -1008,6 +1008,7 @@ task publishAllJars() {\n     dependsOn ':shared:security'\n     dependsOn ':shared:protocol:publish'\n     dependsOn ':segmentstore:contracts:publish'\n+    dependsOn ':segmentstore:storage:testJar'", "originalCommit": "2db1b79ff60b47787589271f389c559af8b58631", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "46051610779198dfa1a6a817bfac3f2fcfaf9972", "url": "https://github.com/pravega/pravega/commit/46051610779198dfa1a6a817bfac3f2fcfaf9972", "message": "simple fix\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-08-31T18:29:58Z", "type": "commit"}, {"oid": "4f40c690d1a213ef33df52a1f4b7c2ba38cc5add", "url": "https://github.com/pravega/pravega/commit/4f40c690d1a213ef33df52a1f4b7c2ba38cc5add", "message": "This reverts commit 46051610779198dfa1a6a817bfac3f2fcfaf9972.\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-08-31T19:10:56Z", "type": "commit"}, {"oid": "ea37ccadcdca0fbcfa4e43b927c5265d4c260794", "url": "https://github.com/pravega/pravega/commit/ea37ccadcdca0fbcfa4e43b927c5265d4c260794", "message": "Merge branch 'master' into issue-5124-use-maven-plugin", "committedDate": "2020-09-02T17:06:35Z", "type": "commit"}, {"oid": "c6ff7a5c6df19470eb782dc487678f53c91df952", "url": "https://github.com/pravega/pravega/commit/c6ff7a5c6df19470eb782dc487678f53c91df952", "message": "add pom\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-09-07T17:55:46Z", "type": "commit"}, {"oid": "8d7c527202e6b65f7ade6ad4300323246d9859e7", "url": "https://github.com/pravega/pravega/commit/8d7c527202e6b65f7ade6ad4300323246d9859e7", "message": "Merge branch 'master' into issue-5124-use-maven-plugin", "committedDate": "2020-09-07T18:38:15Z", "type": "commit"}, {"oid": "b8f47d989c693cc86b6a1f1b50164deb9aabec9b", "url": "https://github.com/pravega/pravega/commit/b8f47d989c693cc86b6a1f1b50164deb9aabec9b", "message": "fix indentation\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-09-07T18:00:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAyMzIxNQ==", "url": "https://github.com/pravega/pravega/pull/5125#discussion_r485023215", "bodyText": "Isn't this going to publish ALL test JARs, instead of just the one we want?", "author": "andreipaduroiu", "createdAt": "2020-09-08T15:47:54Z", "path": "gradle/maven.gradle", "diffHunk": "@@ -9,6 +9,15 @@\n  *\n  */\n plugins.withId('maven') {\n+    task sourcesJar(type: Jar, dependsOn: classes) {\n+         classifier = 'sources'\n+         from sourceSets.main.allSource\n+    }\n+    artifacts{", "originalCommit": "b8f47d989c693cc86b6a1f1b50164deb9aabec9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAzMjY0OA==", "url": "https://github.com/pravega/pravega/pull/5125#discussion_r485032648", "bodyText": "Yes Andrei that is intentional and it is not visible unless users click on 'view all' as on this page: https://repo1.maven.org/maven2/io/pravega/pravega-test-testcommon/0.7.1\nbut you are right we need this jar right away and it is blocking bindings.", "author": "ravibeta", "createdAt": "2020-09-08T16:01:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAyMzIxNQ=="}], "type": "inlineReview"}, {"oid": "78d270a4edefef700b009d024c2cf0f439d9712b", "url": "https://github.com/pravega/pravega/commit/78d270a4edefef700b009d024c2cf0f439d9712b", "message": "publish only segmentstore:storage:testJar and not other test jars\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>", "committedDate": "2020-09-08T16:50:44Z", "type": "commit"}, {"oid": "47dbe0ac8fbd21da167696f05485d7dbe7e76ed4", "url": "https://github.com/pravega/pravega/commit/47dbe0ac8fbd21da167696f05485d7dbe7e76ed4", "message": "Merge branch 'master' into issue-5124-use-maven-plugin", "committedDate": "2020-09-08T17:28:28Z", "type": "commit"}, {"oid": "fff19db95bfb0b08c90e3c95f239782c9d13d959", "url": "https://github.com/pravega/pravega/commit/fff19db95bfb0b08c90e3c95f239782c9d13d959", "message": "Merge branch 'master' into issue-5124-use-maven-plugin", "committedDate": "2020-09-09T15:15:57Z", "type": "commit"}]}