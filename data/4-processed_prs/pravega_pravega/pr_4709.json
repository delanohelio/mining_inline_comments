{"pr_number": 4709, "pr_title": "Issue 4706: Fix SegmentStoreMetrics", "pr_createdAt": "2020-04-18T20:20:07Z", "pr_url": "https://github.com/pravega/pravega/pull/4709", "timeline": [{"oid": "08601afd11463bf700a6d0af3f33dcb53f935e09", "url": "https://github.com/pravega/pravega/commit/08601afd11463bf700a6d0af3f33dcb53f935e09", "message": "Update K8 client APIs to use their 5.0.0 counterparts.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>", "committedDate": "2020-02-21T00:13:24Z", "type": "commit"}, {"oid": "25a165d0293c34ee8703fff764e55cf8fda413dd", "url": "https://github.com/pravega/pravega/commit/25a165d0293c34ee8703fff764e55cf8fda413dd", "message": "Merge pull request #1 from co-jo/issue-4464-update-kubernetes-client-version\n\nIssue 4464 update kubernetes client version", "committedDate": "2020-02-21T18:42:03Z", "type": "commit"}, {"oid": "8cc2dd2be26feed2953258ff055c1657aeb57019", "url": "https://github.com/pravega/pravega/commit/8cc2dd2be26feed2953258ff055c1657aeb57019", "message": "Run system tests using alternative flag value.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>", "committedDate": "2020-02-23T04:43:09Z", "type": "commit"}, {"oid": "c3fcbd2e627f9fc0a0f6bad7e42667db4439e092", "url": "https://github.com/pravega/pravega/commit/c3fcbd2e627f9fc0a0f6bad7e42667db4439e092", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-03-10T22:21:32Z", "type": "commit"}, {"oid": "f5f808cc42831892aeb8e7824c22d499a1f9fa03", "url": "https://github.com/pravega/pravega/commit/f5f808cc42831892aeb8e7824c22d499a1f9fa03", "message": "Merge branch 'master' of https://github.com/pravega/pravega", "committedDate": "2020-03-18T18:44:10Z", "type": "commit"}, {"oid": "7901435dc1127bed1c46845bbaf8024477e2078f", "url": "https://github.com/pravega/pravega/commit/7901435dc1127bed1c46845bbaf8024477e2078f", "message": "Merge branch 'master' of https://github.com/pravega/pravega\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>", "committedDate": "2020-04-02T18:49:59Z", "type": "commit"}, {"oid": "aa090cad1d88812f2a88e9debacdb04df585adbf", "url": "https://github.com/pravega/pravega/commit/aa090cad1d88812f2a88e9debacdb04df585adbf", "message": "Merge branch 'master' of https://github.com/pravega/pravega", "committedDate": "2020-04-18T20:15:50Z", "type": "commit"}, {"oid": "2262f877e361c3a78765219f84568440edb1a0e1", "url": "https://github.com/pravega/pravega/commit/2262f877e361c3a78765219f84568440edb1a0e1", "message": "Make sure to freeze newly introduced Gauges on OperationProcessor close.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>", "committedDate": "2020-04-18T20:18:23Z", "type": "commit"}, {"oid": "48e0f35f2146d643623148670919d1b29b62ed0d", "url": "https://github.com/pravega/pravega/commit/48e0f35f2146d643623148670919d1b29b62ed0d", "message": "Merge branch 'master' into issue-4706-fix-segment-store-metrics", "committedDate": "2020-04-21T16:55:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMyNzIwOA==", "url": "https://github.com/pravega/pravega/pull/4709#discussion_r412327208", "bodyText": "This is not thread safe. Use Collections.synchronizedSet", "author": "andreipaduroiu", "createdAt": "2020-04-21T16:56:22Z", "path": "segmentstore/server/src/main/java/io/pravega/segmentstore/server/SegmentStoreMetrics.java", "diffHunk": "@@ -144,6 +146,7 @@ private void report() {\n         private final OpStatsLogger processOperationsBatchSize;\n         private final int containerId;\n         private final String[] containerTag;\n+        private Set<String> throttlers = new HashSet<>();", "originalCommit": "48e0f35f2146d643623148670919d1b29b62ed0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "084da13c178a36aa8befa93cb883be0aac7759f0", "url": "https://github.com/pravega/pravega/commit/084da13c178a36aa8befa93cb883be0aac7759f0", "message": "Use thread-safe set.\n\nSigned-off-by: co-jo <colin.hryniowski@unb.ca>", "committedDate": "2020-04-21T19:11:57Z", "type": "commit"}]}