{"pr_number": 5032, "pr_title": "Issues 3373, 4003, 2985: Remove javadoc and compile warnings", "pr_createdAt": "2020-08-05T11:24:54Z", "pr_url": "https://github.com/pravega/pravega/pull/5032", "timeline": [{"oid": "d8820c5a0cdb194ed332318a912443f894565f6e", "url": "https://github.com/pravega/pravega/commit/d8820c5a0cdb194ed332318a912443f894565f6e", "message": "Removed warnings related to ConcurrentSet deprecation\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "28d9515731b75965a184c5257464fa08751599d3", "url": "https://github.com/pravega/pravega/commit/28d9515731b75965a184c5257464fa08751599d3", "message": "Removing more warnings.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "ced64f9e687147777e5b57556b1eee2c40550640", "url": "https://github.com/pravega/pravega/commit/ced64f9e687147777e5b57556b1eee2c40550640", "message": "Fix test and javadocs.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "499de027e110d706090d905f672341cf0f1122c8", "url": "https://github.com/pravega/pravega/commit/499de027e110d706090d905f672341cf0f1122c8", "message": "Fixing javadocs.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "66a819ab5b83b16ef714a98f48841f1a478ddeb1", "url": "https://github.com/pravega/pravega/commit/66a819ab5b83b16ef714a98f48841f1a478ddeb1", "message": "Fixing javadocs.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "1859343461de6cdd0032ffc03a6a4fb154b35a34", "url": "https://github.com/pravega/pravega/commit/1859343461de6cdd0032ffc03a6a4fb154b35a34", "message": "Fixing javadocs.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "b8d90409c12ab55bb94f961b93291afa61dab2d7", "url": "https://github.com/pravega/pravega/commit/b8d90409c12ab55bb94f961b93291afa61dab2d7", "message": "Fixing javadocs.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "7048885c0f5445e22e8e2050f5aa497e6e72a0af", "url": "https://github.com/pravega/pravega/commit/7048885c0f5445e22e8e2050f5aa497e6e72a0af", "message": "Fixing javadocs and checkstyle.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "99ce794533ab9dd275f04f3aa0a6053f66a4007f", "url": "https://github.com/pravega/pravega/commit/99ce794533ab9dd275f04f3aa0a6053f66a4007f", "message": "Fixed test.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "commit"}, {"oid": "99ce794533ab9dd275f04f3aa0a6053f66a4007f", "url": "https://github.com/pravega/pravega/commit/99ce794533ab9dd275f04f3aa0a6053f66a4007f", "message": "Fixed test.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-06T18:54:39Z", "type": "forcePushed"}, {"oid": "04fc66b689ba14d5cdc83d54d59d90385e180b2f", "url": "https://github.com/pravega/pravega/commit/04fc66b689ba14d5cdc83d54d59d90385e180b2f", "message": "Fixed test.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-07T08:03:29Z", "type": "commit"}, {"oid": "3488163f7d4164a4409b1192f32fa824bccc8c77", "url": "https://github.com/pravega/pravega/commit/3488163f7d4164a4409b1192f32fa824bccc8c77", "message": "Fixed test.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-07T08:50:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzgzNDczMQ==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467834731", "bodyText": "As I understand the reason for this change is that io.netty.util.internal.ConcurrentSet is deprecated ?", "author": "shrids", "createdAt": "2020-08-10T11:14:14Z", "path": "test/system/src/test/java/io/pravega/test/system/AbstractReadWriteTest.java", "diffHunk": "@@ -92,8 +92,8 @@\n         final CompletableFuture<Void> newWritersComplete = new CompletableFuture<>();\n         final CompletableFuture<Void> readersComplete = new CompletableFuture<>();\n         final List<CompletableFuture<Void>> txnStatusFutureList = synchronizedList(new ArrayList<>());\n-        final ConcurrentSet<UUID> committingTxn = new ConcurrentSet<>();\n-        final ConcurrentSet<UUID> abortedTxn = new ConcurrentSet<>();\n+        final ConcurrentSkipListSet<UUID> committingTxn = new ConcurrentSkipListSet<>();", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg0MTY1MA==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467841650", "bodyText": "Yes, correct.", "author": "RaulGracia", "createdAt": "2020-08-10T11:29:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzgzNDczMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3MzAxOQ==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467973019", "bodyText": "Why do you need @param and @return for fields?", "author": "andreipaduroiu", "createdAt": "2020-08-10T15:10:44Z", "path": "client/src/main/java/io/pravega/client/ClientConfig.java", "diffHunk": "@@ -42,31 +42,46 @@\n \n \n     /** controllerURI The controller rpc URI. This can be of 2 types\n-     1. tcp://ip1:port1,ip2:port2,...\n-        This is used if the controller endpoints are static and can be directly accessed.\n-     2. pravega://ip1:port1,ip2:port2,...\n-        This is used to autodiscovery the controller endpoints from an initial controller list.\n+     * 1. tcp://ip1:port1,ip2:port2,...\n+     *    This is used if the controller endpoints are static and can be directly accessed.\n+     * 2. pravega://ip1:port1,ip2:port2,...\n+     *   This is used to autodiscovery the controller endpoints from an initial controller list.\n+     *\n+     * @param controllerURI The controller RPC URI.\n+     * @return The controller RPC URI.\n     */\n     private final URI controllerURI;\n \n     /**\n      * Credentials to be passed on to the Pravega controller for authentication and authorization.\n+     *\n+     * @param credentials Pravega controller credentials for authentication and authorization.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3MzUzMA==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467973530", "bodyText": "Is this because of Lombok? Isn't there a setting in Lombok to sort this out?", "author": "andreipaduroiu", "createdAt": "2020-08-10T15:11:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3MzAxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk4MDIzMg==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467980232", "bodyText": "Yes and this seems to be the only workaround available at this point. Please look at this comment: #3373 (comment)", "author": "RaulGracia", "createdAt": "2020-08-10T15:21:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3MzAxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NDQ4Nw==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467974487", "bodyText": "This should be link, not code.", "author": "andreipaduroiu", "createdAt": "2020-08-10T15:12:52Z", "path": "client/src/main/java/io/pravega/client/tables/KeyValueTable.java", "diffHunk": "@@ -142,7 +142,7 @@\n      * into this {@link KeyValueTable}. All changes are performed atomically (either all or none will be accepted).\n      *\n      * @param keyFamily The Key Family for the all provided Table Entries.\n-     * @param entries   An {@link Iterable} of {@link Map.Entry} instances to insert or update.\n+     * @param entries   An {@link Iterable} of {@code Map.Entry} instances to insert or update.", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk4MTY1Mg==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467981652", "bodyText": "The problem is that using @link here throws a warning (the same as in the other point in which this change is done). I suspect that is related to the visibility of that inner class.", "author": "RaulGracia", "createdAt": "2020-08-10T15:23:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NDQ4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA2OTAwMg==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r468069002", "bodyText": "That is a public nested interface in the JDK. It's not a private class.", "author": "andreipaduroiu", "createdAt": "2020-08-10T17:38:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NDQ4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMzNzI0OQ==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r469337249", "bodyText": "Fixed by adding the complete name to the class.", "author": "RaulGracia", "createdAt": "2020-08-12T15:16:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NDQ4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NTE4MQ==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467975181", "bodyText": "These should all be @link.", "author": "andreipaduroiu", "createdAt": "2020-08-10T15:13:59Z", "path": "common/src/main/java/io/pravega/common/util/AbstractBufferView.java", "diffHunk": "@@ -79,7 +79,7 @@ public boolean equals(BufferView other) {\n     protected static abstract class AbstractReader implements BufferView.Reader {\n         /**\n          * {@inheritDoc}\n-         * Default implementation for {@link Reader#readInt()}. Derived classes should make every effort to override this\n+         * Default implementation for {@code Reader#readInt()}. Derived classes should make every effort to override this", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk4MjM0Ng==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r467982346", "bodyText": "The problem is that using @link here throws a warning. I will investigate a bit more what alternatives we have here.", "author": "RaulGracia", "createdAt": "2020-08-10T15:24:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NTE4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA2OTE1NQ==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r468069155", "bodyText": "What does the warning say?", "author": "andreipaduroiu", "createdAt": "2020-08-10T17:38:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NTE4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA2OTQwNA==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r468069404", "bodyText": "Reader is the parent interface of this class and readInt is a method on it.", "author": "andreipaduroiu", "createdAt": "2020-08-10T17:39:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NTE4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwMjAxMw==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r469302013", "bodyText": "pravega/common/build/delombok/io/pravega/common/util/AbstractBufferView.java:86: warning - Tag @link: reference not found: Reader#readInt()\n\nI have also tried to use @see, but it seems that cannot be used in inline documentation (another warning).", "author": "RaulGracia", "createdAt": "2020-08-12T14:28:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NTE4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNjU2MQ==", "url": "https://github.com/pravega/pravega/pull/5032#discussion_r469306561", "bodyText": "Found the issue, it should be written as: {@link BufferView.Reader#readInt()}", "author": "RaulGracia", "createdAt": "2020-08-12T14:35:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk3NTE4MQ=="}], "type": "inlineReview"}, {"oid": "7507d5bcf12c16ad4261d7647e9e959d89fb1f3d", "url": "https://github.com/pravega/pravega/commit/7507d5bcf12c16ad4261d7647e9e959d89fb1f3d", "message": "Use @link and fix class and method references.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-12T15:00:27Z", "type": "commit"}, {"oid": "7507d5bcf12c16ad4261d7647e9e959d89fb1f3d", "url": "https://github.com/pravega/pravega/commit/7507d5bcf12c16ad4261d7647e9e959d89fb1f3d", "message": "Use @link and fix class and method references.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>", "committedDate": "2020-08-12T15:00:27Z", "type": "forcePushed"}, {"oid": "04419506ab7d4c597c3600c67c5ba6fd031b8d8a", "url": "https://github.com/pravega/pravega/commit/04419506ab7d4c597c3600c67c5ba6fd031b8d8a", "message": "Merge branch 'master' into remove-build-warnings", "committedDate": "2020-08-12T15:02:44Z", "type": "commit"}]}