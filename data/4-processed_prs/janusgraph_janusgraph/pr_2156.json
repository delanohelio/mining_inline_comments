{"pr_number": 2156, "pr_title": "Replace EmptyGraph with AnonymousTraversalSource if possible", "pr_createdAt": "2020-07-05T12:20:46Z", "pr_url": "https://github.com/JanusGraph/janusgraph/pull/2156", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAzOTAyMg==", "url": "https://github.com/JanusGraph/janusgraph/pull/2156#discussion_r450039022", "bodyText": "Please don't use the AnonymousTraversalSource directly. The idea was to create it with just traversal() which requires to statically import AnonymousTraversalSource. See this section in the TinkerPop reference docs where it's shown for the different languages or in the upgrade docs where it was explained when it was introduced in TinkerPop.", "author": "FlorianHockmann", "createdAt": "2020-07-06T07:41:18Z", "path": "docs/connecting/java.md", "diffHunk": "@@ -67,8 +67,7 @@ To get started with JanusGraph in Java:\n 4.  Create a `GraphTraversalSource` which is the basis for all Gremlin traversals:\n \n     ```java\n-    Graph graph = EmptyGraph.instance();\n-    GraphTraversalSource g = graph.traversal().withRemote(\"conf/remote-graph.properties\");\n+    GraphTraversalSource g = AnonymousTraversalSource.traversal().withRemote(\"conf/remote-graph.properties\");", "originalCommit": "1b79e0929ca549e1668e0d77c680aa17c80468f6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY0MDIwOQ==", "url": "https://github.com/JanusGraph/janusgraph/pull/2156#discussion_r450640209", "bodyText": "I basically update all use cases again for this one. Do you like to check it again?", "author": "farodin91", "createdAt": "2020-07-07T06:35:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAzOTAyMg=="}], "type": "inlineReview"}, {"oid": "74cc5ee33014b167a282b0fad87b323c7426e759", "url": "https://github.com/JanusGraph/janusgraph/commit/74cc5ee33014b167a282b0fad87b323c7426e759", "message": "Replace EmptyGraph with AnonymousTraversalSource if possible\n\nFixes #1563\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-07-07T06:32:19Z", "type": "forcePushed"}, {"oid": "2fee8feb91eeaa432167fe9f2b307aad54d19694", "url": "https://github.com/JanusGraph/janusgraph/commit/2fee8feb91eeaa432167fe9f2b307aad54d19694", "message": "Replace EmptyGraph with AnonymousTraversalSource if possible\n\nFixes #1563\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-07-07T06:34:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY2MzYyMQ==", "url": "https://github.com/JanusGraph/janusgraph/pull/2156#discussion_r450663621", "bodyText": "Still with AnonymousTraversalSource.traversal() here", "author": "FlorianHockmann", "createdAt": "2020-07-07T07:28:56Z", "path": "docs/basics/multi-node.md", "diffHunk": "@@ -145,9 +145,7 @@ local reference to a remote graph:\n ```groovy\n gremlin> cluster = Cluster.open('conf/remote-objects.yaml')\n ==>localhost/127.0.0.1:8182\n-gremlin> graph = EmptyGraph.instance()\n-==>emptygraph[empty]\n-gremlin> g = graph.traversal().withRemote(DriverRemoteConnection.using(cluster, \"graph1_traversal\"))\n+gremlin> g = AnonymousTraversalSource.traversal().withRemote(DriverRemoteConnection.using(cluster, \"graph1_traversal\"))", "originalCommit": "2fee8feb91eeaa432167fe9f2b307aad54d19694", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDkwNzY0Mw==", "url": "https://github.com/JanusGraph/janusgraph/pull/2156#discussion_r450907643", "bodyText": "In this case i wasn\u2019t sure how write it correctly.", "author": "farodin91", "createdAt": "2020-07-07T14:28:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY2MzYyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTM0Mzg0Ng==", "url": "https://github.com/JanusGraph/janusgraph/pull/2156#discussion_r451343846", "bodyText": "What do you mean? Did you try it out in the console? The console already has the static imports. So it just works:\ngremlin> cluster = Cluster.open('conf/remote-objects.yaml')\n==>localhost/127.0.0.1:8182\ngremlin> g = traversal().withRemote(DriverRemoteConnection.using(cluster, \"graph1_traversal\"))\n==>graphtraversalsource[emptygraph[empty], standard]", "author": "FlorianHockmann", "createdAt": "2020-07-08T07:39:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY2MzYyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEyMTA4Mg==", "url": "https://github.com/JanusGraph/janusgraph/pull/2156#discussion_r454121082", "bodyText": "Do you like to review it again?", "author": "farodin91", "createdAt": "2020-07-14T06:01:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY2MzYyMQ=="}], "type": "inlineReview"}, {"oid": "2948cc542a4e39aece3143921cce65227de25cae", "url": "https://github.com/JanusGraph/janusgraph/commit/2948cc542a4e39aece3143921cce65227de25cae", "message": "Replace EmptyGraph with AnonymousTraversalSource if possible\n\nFixes #1563\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-07-10T10:42:43Z", "type": "commit"}, {"oid": "2948cc542a4e39aece3143921cce65227de25cae", "url": "https://github.com/JanusGraph/janusgraph/commit/2948cc542a4e39aece3143921cce65227de25cae", "message": "Replace EmptyGraph with AnonymousTraversalSource if possible\n\nFixes #1563\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-07-10T10:42:43Z", "type": "forcePushed"}]}