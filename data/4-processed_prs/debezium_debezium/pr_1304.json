{"pr_number": 1304, "pr_title": "DBZ-1723 Retrying upon connection loss for Postgres", "pr_createdAt": "2020-03-03T16:28:04Z", "pr_url": "https://github.com/debezium/debezium/pull/1304", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387497236", "bodyText": "Wouldn't it be better to match against the Throwables that the JDBC driver exposes? I'm assuming that connection failures can happen with different root causes?", "author": "hashhar", "createdAt": "2020-03-04T07:53:24Z", "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/PostgresErrorHandler.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright Debezium Authors.\n+ *\n+ * Licensed under the Apache Software License version 2.0, available at http://www.apache.org/licenses/LICENSE-2.0\n+ */\n+package io.debezium.connector.postgresql;\n+\n+import java.net.SocketException;\n+\n+import io.debezium.connector.base.ChangeEventQueue;\n+import io.debezium.pipeline.ErrorHandler;\n+import io.debezium.util.Throwables;\n+\n+/**\n+ * Error handler for Postgres.\n+ *\n+ * @author Gunnar Morling\n+ */\n+public class PostgresErrorHandler extends ErrorHandler {\n+\n+    public PostgresErrorHandler(String logicalName, ChangeEventQueue<?> queue, Runnable onThrowable) {\n+        super(PostgresConnector.class, logicalName, queue, onThrowable);\n+    }\n+\n+    @Override\n+    protected boolean isRetriable(Throwable throwable) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUxNDQxMg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387514412", "bodyText": "I'm not quite sure I'm following. This connector-specific handler receives the raised exception and can act on it as required, by examining the root exception or the one raised. Could you elaborate what you have in mind?", "author": "gunnarmorling", "createdAt": "2020-03-04T08:34:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1MDMyMQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387550321", "bodyText": "@gunnarmorling I think @hashhar want sot restart on any SqlException", "author": "jpechane", "createdAt": "2020-03-04T09:42:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4MDU1MA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387580550", "bodyText": "Ah, I see. I'm not so sure, I'd rather start with a specific set, we always can expand. Let's say there's an authorization failure (wrong password etc.), restarting doesn't make sense.", "author": "gunnarmorling", "createdAt": "2020-03-04T10:35:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYwMzkxOA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387603918", "bodyText": "Any SqlException is too extreme. But I'm thinking something like org.postgresql.util.PSQLException: Database connection failed when writing to copy. If PostgreSQL exposes specific exceptions for specific errors then that'll be useful. Not sure if the JDBC driver exposes those.", "author": "hashhar", "createdAt": "2020-03-04T11:21:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYwNDM4MA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387604380", "bodyText": "But I agree with your point too. Start with specific ones and if in future a common parent is found then adjust accordingly.", "author": "hashhar", "createdAt": "2020-03-04T11:22:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIzMTU5NQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r388231595", "bodyText": "Looking for the PSQLException with that message as suggested now.", "author": "gunnarmorling", "createdAt": "2020-03-05T11:20:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5NzIzNg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0MzEyOQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387543129", "bodyText": "commit and commitRecord are called asynchrnously by Connect worker. Should not we introduce a barrier that would skip those two methods in case of stop()/start() sequence being in progress?", "author": "jpechane", "createdAt": "2020-03-04T09:29:58Z", "path": "debezium-core/src/main/java/io/debezium/connector/common/BaseSourceTask.java", "diffHunk": "@@ -86,6 +90,23 @@ public final void start(Map<String, String> props) {\n      */\n     protected abstract ChangeEventSourceCoordinator start(Configuration config);\n \n+    @Override\n+    public final List<SourceRecord> poll() throws InterruptedException {\n+        try {\n+            return doPoll();\n+        }\n+        catch (RetriableException e) {\n+            stop();\n+            start(config);\n+            throw e;\n+        }\n+    }\n+\n+    /**\n+     * Returns the next batch of source records, if any are available.\n+     */\n+    public abstract List<SourceRecord> doPoll() throws InterruptedException;\n+\n     @Override\n     public void commitRecord(SourceRecord record) throws InterruptedException {\n         Map<String, ?> currentOffset = record.sourceOffset();", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4MDk2Mg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387580962", "bodyText": "Are you sure, is this not happening from within the polling loop?", "author": "gunnarmorling", "createdAt": "2020-03-04T10:36:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0MzEyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4Mzc0MA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387583740", "bodyText": "@gunnarmorling It is also indirectly called from org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter which runs in its own executor thread", "author": "jpechane", "createdAt": "2020-03-04T10:41:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0MzEyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIzNjAxMw==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r388236013", "bodyText": "Changed to use a reentrant read write lock to ensure exclusivity of critical sections now:\n\nstart / stop / commit are all exclusive\npoll obtains a readlock to check whether we already restarted after a retry", "author": "gunnarmorling", "createdAt": "2020-03-05T11:30:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU0MzEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1MjAyOA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387552028", "bodyText": "Is this a robust solution? Let's suppose a temorary spike in postgres dropping the connectio. In this case the reconnect may fail (and I'd expect it to fail) and then we are back in the square one.", "author": "jpechane", "createdAt": "2020-03-04T09:45:35Z", "path": "debezium-core/src/main/java/io/debezium/connector/common/BaseSourceTask.java", "diffHunk": "@@ -86,6 +90,23 @@ public final void start(Map<String, String> props) {\n      */\n     protected abstract ChangeEventSourceCoordinator start(Configuration config);\n \n+    @Override\n+    public final List<SourceRecord> poll() throws InterruptedException {\n+        try {\n+            return doPoll();\n+        }\n+        catch (RetriableException e) {\n+            stop();", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4MTU5NQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387581595", "bodyText": "Kafka Connect keeps retrying (for a configurable number of times, with back-off), so I'd expect it to work. At some point when connecting succeeds after retrying, things will be back to working state. What scenario are you envisioning specifically?", "author": "gunnarmorling", "createdAt": "2020-03-04T10:37:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1MjAyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NzAzOQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387587039", "bodyText": "@gunnarmorling Are you really sure that for tasks this is configurable with number and backoff? To me the connect code looks like - if the exception is RetriableException then retry indefinitely and as fast as possible - see org.apache.kafka.connect.runtime.WorkerSourceTask.poll().\nAlso do not forget then when eithr stop or start genertaes the eception it might be non-retryeable. As in case of spike the first excepttion can be Borken Pipe and the attempt to re-establish connection will be for example SocketTimeoutException.", "author": "jpechane", "createdAt": "2020-03-04T10:47:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1MjAyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE0MDcwMg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r388140702", "bodyText": "I had been looking at this: https://cwiki.apache.org/confluence/display/KAFKA/KIP-298%3A+Error+Handling+in+Connect\nIt discusses two options:\n\nerrors.retry.timeout\nerrors.retry.delay.max.ms\n\nBut indeed it seems they're not applied to retrying the polling loop, but only for conversion and sending errors :(\nSo it seems the retry \"feature\" of KC is pretty much useless four our purposes.", "author": "gunnarmorling", "createdAt": "2020-03-05T08:29:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1MjAyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIzNTQ3OA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r388235478", "bodyText": "Ok, backoff implemented internally now via ElapsedTimeStrategy (still need to make the values configurable).", "author": "gunnarmorling", "createdAt": "2020-03-05T11:28:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU1MjAyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NDI2NA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387584264", "bodyText": "I think there are more exceptions that can be retriable.\nE.g. the exception mentioned in the comments on https://issues.redhat.com/browse/DBZ-1325 does not contain \"Broken pipe\" as cause.", "author": "WouterBancken", "createdAt": "2020-03-04T10:42:33Z", "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/PostgresErrorHandler.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Copyright Debezium Authors.\n+ *\n+ * Licensed under the Apache Software License version 2.0, available at http://www.apache.org/licenses/LICENSE-2.0\n+ */\n+package io.debezium.connector.postgresql;\n+\n+import java.net.SocketException;\n+\n+import io.debezium.connector.base.ChangeEventQueue;\n+import io.debezium.pipeline.ErrorHandler;\n+import io.debezium.util.Throwables;\n+\n+/**\n+ * Error handler for Postgres.\n+ *\n+ * @author Gunnar Morling\n+ */\n+public class PostgresErrorHandler extends ErrorHandler {\n+\n+    public PostgresErrorHandler(String logicalName, ChangeEventQueue<?> queue, Runnable onThrowable) {\n+        super(PostgresConnector.class, logicalName, queue, onThrowable);\n+    }\n+\n+    @Override\n+    protected boolean isRetriable(Throwable throwable) {\n+        Throwable rootCause = Throwables.getRootCause(throwable);\n+\n+        if (rootCause instanceof SocketException && rootCause.getMessage().contains(\"Broken pipe\")) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NDcyMg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387584722", "bodyText": "Yes, good point. I'll add this one. I'd like to stay on the conservative end initially (we always can expand), but this one should be there.", "author": "gunnarmorling", "createdAt": "2020-03-04T10:43:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NDI2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4ODY2NQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r387588665", "bodyText": "@gunnarmorling Maybe going to the root cause is too specific?\nCaused by: org.postgresql.util.PSQLException: Database connection failed when writing to copy looks like a pretty safe default", "author": "jpechane", "createdAt": "2020-03-04T10:50:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NDI2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIzMTE3MA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r388231170", "bodyText": "Reworked as per the suggestion.", "author": "gunnarmorling", "createdAt": "2020-03-05T11:19:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4NDI2NA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM5OTUxMA==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389399510", "bodyText": "Boolean param usually is a code smell. In my PR I kept handling logic in error handler - in here it looks like it leaked out if it in here.", "author": "tomek0021", "createdAt": "2020-03-08T19:49:50Z", "path": "debezium-core/src/main/java/io/debezium/connector/base/ChangeEventQueue.java", "diffHunk": "@@ -162,13 +163,18 @@ public void enqueue(T record) throws InterruptedException {\n         }\n     }\n \n-    public void producerFailure(final Throwable producerFailure) {\n-        this.producerFailure = producerFailure;\n+    public void producerFailure(final Throwable producerFailure, boolean retriable) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTcyMTYyMg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389721622", "bodyText": "That's a great point. Moved this logic to the error handler class.", "author": "gunnarmorling", "createdAt": "2020-03-09T14:23:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM5OTUxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY0MzA3Ng==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389643076", "bodyText": "Should not e start using DebeziumException?", "author": "jpechane", "createdAt": "2020-03-09T12:58:18Z", "path": "debezium-core/src/main/java/io/debezium/connector/base/ChangeEventQueue.java", "diffHunk": "@@ -62,7 +63,7 @@\n     private final Metronome metronome;\n     private final Supplier<PreviousContext> loggingContextSupplier;\n \n-    private volatile Throwable producerFailure;\n+    private volatile ConnectException producerFailure;", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY5MDAzNQ==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389690035", "bodyText": "We'd still have to throw it as KC's RetriableException in the end, so I don't think there's much point in changing this atm.", "author": "gunnarmorling", "createdAt": "2020-03-09T13:51:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY0MzA3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc0NzMyMw==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389747323", "bodyText": "Does this mean that during stopping a Connect Worker without stopping the connector first will mean that all queued records will not get flushed and will be retried when the connector restarts?", "author": "hashhar", "createdAt": "2020-03-09T15:00:17Z", "path": "debezium-core/src/main/java/io/debezium/connector/common/BaseSourceTask.java", "diffHunk": "@@ -107,8 +139,20 @@ public void commitRecord(SourceRecord record) throws InterruptedException {\n \n     @Override\n     public void commit() throws InterruptedException {\n-        if (coordinator != null && lastOffset != null) {\n-            coordinator.commitOffset(lastOffset);\n+        boolean locked = stateLock.tryLock();\n+\n+        if (locked) {\n+            try {\n+                if (coordinator != null && lastOffset != null) {\n+                    coordinator.commitOffset(lastOffset);\n+                }\n+            }\n+            finally {\n+                stateLock.unlock();\n+            }\n+        }\n+        else {\n+            LOGGER.warn(\"Couldn't commit processed log positions with the source database due to a concurrent connector shutdown or restart\");", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc1MzQ2Mg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389753462", "bodyText": "Nevermind, got it. You reload the offsets from the in-memory state at restart to avoid repeated flushes.", "author": "hashhar", "createdAt": "2020-03-09T15:09:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc0NzMyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc0OTY0Mg==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r389749642", "bodyText": "Am I missing something here since the doPoll() method below throws InterruptedException but not RetriableException?", "author": "hashhar", "createdAt": "2020-03-09T15:03:39Z", "path": "debezium-core/src/main/java/io/debezium/connector/common/BaseSourceTask.java", "diffHunk": "@@ -102,16 +113,58 @@ public final void start(Map<String, String> props) {\n \n     @Override\n     public final List<SourceRecord> poll() throws InterruptedException {\n-        return doPoll();\n+        boolean started = startIfNeededAndPossible();\n+\n+        // in backoff period after a retriable exception\n+        if (!started) {\n+            return Collections.emptyList();\n+        }\n+\n+        try {\n+            return doPoll();\n+        }\n+        catch (RetriableException e) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ1Mjc5Ng==", "url": "https://github.com/debezium/debezium/pull/1304#discussion_r390452796", "bodyText": "RetriableException is a runtime exception, so it doesn't have to be declared explicitly in method sigs.", "author": "gunnarmorling", "createdAt": "2020-03-10T16:38:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc0OTY0Mg=="}], "type": "inlineReview"}, {"oid": "b0641ebaa3ec9e2f2e1478b92cad769d7472bca4", "url": "https://github.com/debezium/debezium/commit/b0641ebaa3ec9e2f2e1478b92cad769d7472bca4", "message": "DBZ-1723 Encapsulating common poll() and stop() logic in BaseSourceTask", "committedDate": "2020-03-11T09:29:20Z", "type": "commit"}, {"oid": "8a2cf524f9caad81724f176891e6bf1463226f68", "url": "https://github.com/debezium/debezium/commit/8a2cf524f9caad81724f176891e6bf1463226f68", "message": "DBZ-1723 Centralizing stopping() logic in BaseSourceTask", "committedDate": "2020-03-11T09:31:53Z", "type": "commit"}, {"oid": "07e79e45fa6c7495e9e35d0c11f88b24b7f36765", "url": "https://github.com/debezium/debezium/commit/07e79e45fa6c7495e9e35d0c11f88b24b7f36765", "message": "DBZ-1723 Simplifying shutdown handling;\n\ndoStop() is already called from stop(), no need to do it again via the error handler.", "committedDate": "2020-03-11T09:36:00Z", "type": "commit"}, {"oid": "db8fd29dd0394c1f54dbf7b03a68221fc33b36b3", "url": "https://github.com/debezium/debezium/commit/db8fd29dd0394c1f54dbf7b03a68221fc33b36b3", "message": "DBZ-1723 Infrastructure for enabling restarts after retriable errors", "committedDate": "2020-03-11T09:36:00Z", "type": "commit"}, {"oid": "4daa4300d6eb116d4ddc70858797f2e82aea25aa", "url": "https://github.com/debezium/debezium/commit/4daa4300d6eb116d4ddc70858797f2e82aea25aa", "message": "DBZ-1723 Restarting after connection losses in Postgres", "committedDate": "2020-03-11T09:36:00Z", "type": "commit"}, {"oid": "b7b772580793decdcc2c315bb81c0a34c1798685", "url": "https://github.com/debezium/debezium/commit/b7b772580793decdcc2c315bb81c0a34c1798685", "message": "DBZ-1723 Encapsulating retriable determination in error handler", "committedDate": "2020-03-11T09:36:00Z", "type": "commit"}, {"oid": "b7b772580793decdcc2c315bb81c0a34c1798685", "url": "https://github.com/debezium/debezium/commit/b7b772580793decdcc2c315bb81c0a34c1798685", "message": "DBZ-1723 Encapsulating retriable determination in error handler", "committedDate": "2020-03-11T09:36:00Z", "type": "forcePushed"}, {"oid": "22355976f8d7b08387f3e838b3fdfde2caa403e7", "url": "https://github.com/debezium/debezium/commit/22355976f8d7b08387f3e838b3fdfde2caa403e7", "message": "DBZ-1723 Formatting", "committedDate": "2020-03-11T11:15:13Z", "type": "commit"}]}