{"pr_number": 1808, "pr_title": "DBZ-137 Add doc section about database connection adapter", "pr_createdAt": "2020-09-14T14:05:10Z", "pr_url": "https://github.com/debezium/debezium/pull/1808", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "c2bdbdc4f8c46122a2b14c5ef20dd34cc5871d60", "url": "https://github.com/debezium/debezium/commit/c2bdbdc4f8c46122a2b14c5ef20dd34cc5871d60", "message": "DBZ-137 Add doc section about database connection adapter", "committedDate": "2020-09-14T16:51:02Z", "type": "commit"}, {"oid": "c2bdbdc4f8c46122a2b14c5ef20dd34cc5871d60", "url": "https://github.com/debezium/debezium/commit/c2bdbdc4f8c46122a2b14c5ef20dd34cc5871d60", "message": "DBZ-137 Add doc section about database connection adapter", "committedDate": "2020-09-14T16:51:02Z", "type": "forcePushed"}, {"oid": "f0ca123528645450d8a3d49288458e94de5b1221", "url": "https://github.com/debezium/debezium/commit/f0ca123528645450d8a3d49288458e94de5b1221", "message": "DBZ-137 Add commit_scn and log miner metrics", "committedDate": "2020-09-14T18:37:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQzOTgzOA==", "url": "https://github.com/debezium/debezium/pull/1808#discussion_r488439838", "bodyText": "Worth a mention in the section below (where the contents of source is described) that this is only present for LogMiner?", "author": "gunnarmorling", "createdAt": "2020-09-15T07:16:36Z", "path": "documentation/modules/ROOT/pages/connectors/oracle.adoc", "diffHunk": "@@ -708,6 +714,7 @@ Let's look at what a _create_ event value might look like for our `customers` ta\n             \"ts_ms\": 1520085154000,\n             \"txId\": \"6.28.807\",\n             \"scn\": 2122185,\n+            \"commit_scn\": 2122185,", "originalCommit": "f0ca123528645450d8a3d49288458e94de5b1221", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0MDA5Mg==", "url": "https://github.com/debezium/debezium/pull/1808#discussion_r488440092", "bodyText": "I think it's \"LogMiner\" (i.e. no whitespace), here and elsewhere.", "author": "gunnarmorling", "createdAt": "2020-09-15T07:17:02Z", "path": "documentation/modules/ROOT/pages/connectors/oracle.adoc", "diffHunk": "@@ -1127,6 +1136,40 @@ The following shows an example JSON request for registering an instance of the {\n }\n ----\n \n+[[selecting-the-adapter]]\n+== Selecting the adapter\n+\n+{prodname} provides multiple ways to ingest change events from Oracle.\n+By default {prodname} uses the XStream API but this isn't always applicable for every installation.\n+\n+The following example configuration illustrates that by adding the `database.connection.adapter`, the connector can be toggled to use the Log Miner implementation.", "originalCommit": "f0ca123528645450d8a3d49288458e94de5b1221", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0MDQyNQ==", "url": "https://github.com/debezium/debezium/pull/1808#discussion_r488440425", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            We do encourage the use of the Log Miner implementation but we do not yet recommend its use in production as its still under active development.\n          \n          \n            \n            We do encourage the use of the LogMiner implementation for testing purposes and providing us with your feedback, but we do not yet recommend its use in production as its still under active development.", "author": "gunnarmorling", "createdAt": "2020-09-15T07:17:41Z", "path": "documentation/modules/ROOT/pages/connectors/oracle.adoc", "diffHunk": "@@ -1127,6 +1136,40 @@ The following shows an example JSON request for registering an instance of the {\n }\n ----\n \n+[[selecting-the-adapter]]\n+== Selecting the adapter\n+\n+{prodname} provides multiple ways to ingest change events from Oracle.\n+By default {prodname} uses the XStream API but this isn't always applicable for every installation.\n+\n+The following example configuration illustrates that by adding the `database.connection.adapter`, the connector can be toggled to use the Log Miner implementation.\n+\n+[source,json,indent=0]\n+----\n+{\n+    \"name\": \"inventory-connector\",\n+    \"config\": {\n+        \"connector.class\" : \"io.debezium.connector.oracle.OracleConnector\",\n+        \"tasks.max\" : \"1\",\n+        \"database.server.name\" : \"server1\",\n+        \"database.hostname\" : \"<oracle ip>\",\n+        \"database.port\" : \"1521\",\n+        \"database.user\" : \"c##xstrm\",\n+        \"database.password\" : \"xs\",\n+        \"database.dbname\" : \"ORCLCDB\",\n+        \"database.pdb.name\" : \"ORCLPDB1\",\n+        \"database.out.server.name\" : \"dbzxout\",\n+        \"database.history.kafka.bootstrap.servers\" : \"kafka:9092\",\n+        \"database.history.kafka.topic\": \"schema-changes.inventory\"\n+        \"database.connection.adapter\": \"logminer\"\n+    }\n+}\n+----\n+\n+[NOTE]\n+====\n+We do encourage the use of the Log Miner implementation but we do not yet recommend its use in production as its still under active development.", "originalCommit": "f0ca123528645450d8a3d49288458e94de5b1221", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0MDU2MQ==", "url": "https://github.com/debezium/debezium/pull/1808#discussion_r488440561", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ==== Log Miner Metrics\n          \n          \n            \n            ==== LogMiner Metrics", "author": "gunnarmorling", "createdAt": "2020-09-15T07:17:53Z", "path": "documentation/modules/ROOT/pages/connectors/oracle.adoc", "diffHunk": "@@ -1155,6 +1198,69 @@ The *MBean* is `debezium.oracle:type=connector-metrics,context=streaming,server=\n \n include::{partialsdir}/modules/all-connectors/ref-connector-monitoring-streaming-metrics.adoc[leveloffset=+1]\n \n+[[oracle-monitoring-streaming-logminer]]\n+==== Log Miner Metrics", "originalCommit": "f0ca123528645450d8a3d49288458e94de5b1221", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0Mzc1Mg==", "url": "https://github.com/debezium/debezium/pull/1808#discussion_r488443752", "bodyText": "This actually this should just be done as an Oracle-specific extension of the streaming metrics instead of being its own context (similar to what we do for MySQL). Could you log a follow-up Jira issue for this (it's down right now)?", "author": "gunnarmorling", "createdAt": "2020-09-15T07:23:44Z", "path": "documentation/modules/ROOT/pages/connectors/oracle.adoc", "diffHunk": "@@ -1155,6 +1198,69 @@ The *MBean* is `debezium.oracle:type=connector-metrics,context=streaming,server=\n \n include::{partialsdir}/modules/all-connectors/ref-connector-monitoring-streaming-metrics.adoc[leveloffset=+1]\n \n+[[oracle-monitoring-streaming-logminer]]\n+==== Log Miner Metrics\n+\n+The *MBean* is `debezium.oracle:type=connector-metrics,context=log-miner,server=_<database.server.name>_`.", "originalCommit": "f0ca123528645450d8a3d49288458e94de5b1221", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODY5MDE4Nw==", "url": "https://github.com/debezium/debezium/pull/1808#discussion_r488690187", "bodyText": "Logged as DBZ-2537", "author": "Naros", "createdAt": "2020-09-15T13:58:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0Mzc1Mg=="}], "type": "inlineReview"}, {"oid": "60f5a309fae17830174be8b54cc64a7980553e42", "url": "https://github.com/debezium/debezium/commit/60f5a309fae17830174be8b54cc64a7980553e42", "message": "DBZ-137 Suggested documentation updates", "committedDate": "2020-09-15T13:58:52Z", "type": "commit"}]}