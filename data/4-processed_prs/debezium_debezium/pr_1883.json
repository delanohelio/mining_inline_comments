{"pr_number": 1883, "pr_title": "DBZ-2650 Migrated release related jobs from JJB to JobDSL", "pr_createdAt": "2020-10-12T23:24:21Z", "pr_url": "https://github.com/debezium/debezium/pull/1883", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzU4ODUxMg==", "url": "https://github.com/debezium/debezium/pull/1883#discussion_r503588512", "bodyText": "this needs to be moved into the pipeline as pipeline job in job DSL does not have publisher", "author": "jcechace", "createdAt": "2020-10-12T23:47:32Z", "path": "jenkins-jobs/job-dsl/release_debezium_stage_prod.groovy", "diffHunk": "@@ -0,0 +1,41 @@\n+pipelineJob('release-debezium-stage-prod') {\n+    displayName('Debezium Stage Product Artifacts')\n+    description('Uploads product artifacts into stage location')\n+\n+    properties {\n+        githubProjectUrl('https://github.com/debezium/debezium')\n+    }\n+\n+    logRotator {\n+        numToKeep(5)\n+    }\n+\n+    parameters {\n+        stringParam('BUILD_VERSION', '', 'Maven artifact id of the product binaries')\n+        stringParam('BUILD_VERSION_INCUBATOR', '', 'Maven artifact id of the product binaries in incubator')\n+        stringParam('PRODUCT_VERSION', '', 'Product version')\n+        stringParam('USERNAME', '', 'Username to log to staging host')\n+        stringParam('PASSWORD', 'master', 'Password to log to staging host')\n+        stringParam('CONNECTORS', 'mysql postgres mongodb sqlserver', 'The list of released connectors')\n+        stringParam('CONNECTORS_INCUBATOR', 'db2', 'The list of released incubating connectors')\n+        stringParam('STAGE_FILES', 'false', 'When checked the uploaded artifacts are staged')\n+        stringParam('SOURCE_MAVEN_REPO', 'debezium-prod-repo', 'Maven repository URL with product artifacts')\n+            credentialsParam('TARGET_HOST') {\n+            type('org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl')\n+            required()\n+            defaultValue('debezium-staging-url')\n+            description('Staging host')\n+        }\n+        stringParam('ARTIFACT_DIR', '/mnt/rcm-guest/staging/amq', 'Staging directory')\n+    }\n+\n+    definition {\n+        cps {\n+            script(readFileFromWorkspace('jenkins-jobs/pipelines/prod-release-pipeline.groovy'))\n+        }\n+    }\n+\n+    publishers {", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQ5Njg5OQ==", "url": "https://github.com/debezium/debezium/pull/1883#discussion_r516496899", "bodyText": "Refers to renamed job", "author": "jpechane", "createdAt": "2020-11-03T08:37:23Z", "path": "jenkins-jobs/job-dsl/release_debezium_nightly_image.groovy", "diffHunk": "@@ -0,0 +1,34 @@\n+// Job definition to test PostgreSQL connector against different PostgreSQL versions\n+\n+freeStyleJob('release-debezium-nightly-image') {\n+\n+    displayName('Debezium Nightly Image')\n+    description('Triggers a Docker Hub build for a Connect image nightly tag')\n+    label('Slave')\n+\n+    properties {\n+        githubProjectUrl('https://github.com/debezium/debezium')\n+    }\n+\n+    logRotator {\n+        daysToKeep(7)\n+    }\n+\n+    wrappers {\n+        timeout {\n+            noActivity(5)\n+        }\n+    }\n+\n+    triggers {\n+        upstream('debezium-deploy-snapshots')", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc1NDMwNw==", "url": "https://github.com/debezium/debezium/pull/1883#discussion_r516754307", "bodyText": "Needs larger timeout", "author": "jpechane", "createdAt": "2020-11-03T15:30:09Z", "path": "jenkins-jobs/job-dsl/tools_source_clear.groovy", "diffHunk": "@@ -0,0 +1,51 @@\n+// Job definition to test PostgreSQL connector against different PostgreSQL versions\n+\n+freeStyleJob('tools-debezium-source-clear') {\n+\n+    displayName('Vulnerability scan')\n+    description('Executes SourceClear vulnerability scan of Debezium sources and binaries')\n+    label('Slave')\n+\n+    properties {\n+        githubProjectUrl('https://github.com/debezium/debezium')\n+    }\n+\n+    logRotator {\n+        daysToKeep(7)\n+    }\n+\n+    wrappers {\n+        timeout {\n+            noActivity(90)", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc2OTEzMQ==", "url": "https://github.com/debezium/debezium/pull/1883#discussion_r516769131", "bodyText": "Should be password, not string", "author": "jpechane", "createdAt": "2020-11-03T15:49:54Z", "path": "jenkins-jobs/job-dsl/release_debezium_stage_prod.groovy", "diffHunk": "@@ -0,0 +1,32 @@\n+pipelineJob('release-debezium-stage-prod') {\n+    displayName('Debezium Stage Product Artifacts')\n+    description('Uploads product artifacts into stage location')\n+\n+    properties {\n+        githubProjectUrl('https://github.com/debezium/debezium')\n+    }\n+\n+    logRotator {\n+        numToKeep(5)\n+    }\n+\n+    parameters {\n+        stringParam('BUILD_VERSION', '', 'Maven artifact id of the product binaries')\n+        stringParam('BUILD_VERSION_INCUBATOR', '', 'Maven artifact id of the product binaries in incubator')\n+        stringParam('PRODUCT_VERSION', '', 'Product version')\n+        stringParam('USERNAME', '', 'Username to log to staging host')\n+        stringParam('PASSWORD', 'master', 'Password to log to staging host')", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjc2OTY0NA==", "url": "https://github.com/debezium/debezium/pull/1883#discussion_r516769644", "bodyText": "Should be checkbox", "author": "jpechane", "createdAt": "2020-11-03T15:50:34Z", "path": "jenkins-jobs/job-dsl/release_debezium_stage_prod.groovy", "diffHunk": "@@ -0,0 +1,32 @@\n+pipelineJob('release-debezium-stage-prod') {\n+    displayName('Debezium Stage Product Artifacts')\n+    description('Uploads product artifacts into stage location')\n+\n+    properties {\n+        githubProjectUrl('https://github.com/debezium/debezium')\n+    }\n+\n+    logRotator {\n+        numToKeep(5)\n+    }\n+\n+    parameters {\n+        stringParam('BUILD_VERSION', '', 'Maven artifact id of the product binaries')\n+        stringParam('BUILD_VERSION_INCUBATOR', '', 'Maven artifact id of the product binaries in incubator')\n+        stringParam('PRODUCT_VERSION', '', 'Product version')\n+        stringParam('USERNAME', '', 'Username to log to staging host')\n+        stringParam('PASSWORD', 'master', 'Password to log to staging host')\n+        stringParam('CONNECTORS', 'mysql postgres mongodb sqlserver', 'The list of released connectors')\n+        stringParam('CONNECTORS_INCUBATOR', 'db2', 'The list of released incubating connectors')\n+        stringParam('STAGE_FILES', 'false', 'When checked the uploaded artifacts are staged')", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "127ea3068fffa1d60489e7e428604d553321da45", "url": "https://github.com/debezium/debezium/commit/127ea3068fffa1d60489e7e428604d553321da45", "message": "DBZ-2650 Migrated release related jobs from JJB to JobDSL", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "09670a2a87a8bb56bc9c54da04713a668f039d8b", "url": "https://github.com/debezium/debezium/commit/09670a2a87a8bb56bc9c54da04713a668f039d8b", "message": "DBZ-2650 migrating remaining jobs and cleanup", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "9c49aeedf0c3a66ea7cc2d7f7cefc5d5b411a343", "url": "https://github.com/debezium/debezium/commit/9c49aeedf0c3a66ea7cc2d7f7cefc5d5b411a343", "message": "DBZ-2650 Added Jenkinsdashboard definition", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "43e21e081ce3dd6a4d74f4fed481943e9a8da8b0", "url": "https://github.com/debezium/debezium/commit/43e21e081ce3dd6a4d74f4fed481943e9a8da8b0", "message": "DBZ-2650 Extended time for source clear job", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "7428d54915f59d452705fd585dd7928b1fc424be", "url": "https://github.com/debezium/debezium/commit/7428d54915f59d452705fd585dd7928b1fc424be", "message": "DBZ-2650 Fixed parameter types in prod release job", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "742320070f34f9b052da34524c5a6e6ddee7115c", "url": "https://github.com/debezium/debezium/commit/742320070f34f9b052da34524c5a6e6ddee7115c", "message": "DBZ-2650 Fixed build status in release pipeline's result email", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "d9521c97f1304afdf11fc9677c3326bbf6c66ad2", "url": "https://github.com/debezium/debezium/commit/d9521c97f1304afdf11fc9677c3326bbf6c66ad2", "message": "DBZ-2650 Correcting upstream job name in nightly image job", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "09dbe1a5ba0901e81a1774fbcaa26dc22bb53517", "url": "https://github.com/debezium/debezium/commit/09dbe1a5ba0901e81a1774fbcaa26dc22bb53517", "message": "DBZ-2650 Fixed job name in strimzi prepare job's result remail", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "be0fe26ce61235d294c854ade0f541d67e20cc7a", "url": "https://github.com/debezium/debezium/commit/be0fe26ce61235d294c854ade0f541d67e20cc7a", "message": "DBZ-2650 syncing release pipeline with master", "committedDate": "2020-11-05T13:49:51Z", "type": "commit"}, {"oid": "be0fe26ce61235d294c854ade0f541d67e20cc7a", "url": "https://github.com/debezium/debezium/commit/be0fe26ce61235d294c854ade0f541d67e20cc7a", "message": "DBZ-2650 syncing release pipeline with master", "committedDate": "2020-11-05T13:49:51Z", "type": "forcePushed"}]}