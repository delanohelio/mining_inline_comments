{"pr_number": 1976, "pr_title": "DBZ-2743 Unqouted IP address as part of username", "pr_createdAt": "2020-11-25T13:24:55Z", "pr_url": "https://github.com/debezium/debezium/pull/1976", "timeline": [{"oid": "28f6ea5c4dab6839fe965bb862e178d62a35ac55", "url": "https://github.com/debezium/debezium/commit/28f6ea5c4dab6839fe965bb862e178d62a35ac55", "message": "DBZ-2743 Unqouted IP address as part of username", "committedDate": "2020-11-25T13:24:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MDc0Ng==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532440746", "bodyText": "IP_ADDRESS | IP6_ADDRESS ?", "author": "rk3rn3r", "createdAt": "2020-11-30T09:07:26Z", "path": "debezium-ddl-parser/src/main/antlr4/io/debezium/ddl/parser/mysql/generated/MySqlLexer.g4", "diffHunk": "@@ -1220,6 +1220,11 @@ STRING_USER_NAME:                    (\n                                      (\n                                        SQUOTA_STRING | DQUOTA_STRING \n                                        | BQUOTA_STRING | ID_LITERAL\n+                                       | IP_ADDRESS", "originalCommit": "28f6ea5c4dab6839fe965bb862e178d62a35ac55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYyNzg4Mw==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532627883", "bodyText": "Does MySQL support that?", "author": "gunnarmorling", "createdAt": "2020-11-30T14:16:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MDc0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjY5MDEzNA==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532690134", "bodyText": "yep. and #1977 has already lexer code for that. Maybe we close this one in favor of #1977?", "author": "rk3rn3r", "createdAt": "2020-11-30T15:39:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MDc0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk2MzYzNg==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r535963636", "bodyText": "In fact I was hoping we could go for this one, as it's much less complex.  Keep in mind we don't really have any interest in processing these statements, essentially it's good enough if the parser doesn't choke on them.", "author": "gunnarmorling", "createdAt": "2020-12-04T09:37:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MDc0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MTEyNg==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532441126", "bodyText": "Should we add IPv6 address pattern as well?", "author": "rk3rn3r", "createdAt": "2020-11-30T09:08:05Z", "path": "debezium-ddl-parser/src/main/antlr4/io/debezium/ddl/parser/mysql/generated/MySqlLexer.g4", "diffHunk": "@@ -1220,6 +1220,11 @@ STRING_USER_NAME:                    (\n                                      (\n                                        SQUOTA_STRING | DQUOTA_STRING \n                                        | BQUOTA_STRING | ID_LITERAL\n+                                       | IP_ADDRESS\n+                                     );\n+IP_ADDRESS:                          (\n+                                       [0-9]+ '.' [0-9.]+\n+                                       | [0-9A-F:]+ ':' [0-9A-F:]+", "originalCommit": "28f6ea5c4dab6839fe965bb862e178d62a35ac55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzMzQzNQ==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532633435", "bodyText": "I think that's this very line, no?\n@jpechane, I'm confused though by th \":\" within the first character class, is this intended? And wouldn't the second one match a trainling \":\", too? Worth adding a test for sure.", "author": "gunnarmorling", "createdAt": "2020-11-30T14:24:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MTEyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzMzg4Nw==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532633887", "bodyText": "Ah, and I guess this is not tolerant towards upper/lower-caseing?", "author": "gunnarmorling", "createdAt": "2020-11-30T14:24:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MTEyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzNDk2Ng==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532634966", "bodyText": "I.e. I'd roughly have expected something like this: [0-9A-Fa-f] (':' [0-9A-Fa-f])*.", "author": "gunnarmorling", "createdAt": "2020-11-30T14:26:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ0MTEyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzMTgxOA==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r532631818", "bodyText": "Isn't it always four numbers? I know it doesn't matter too much, but I think I'd give it simply as that: [0-9] '.' [0-9] '.' [0-9] '.' [0-9].", "author": "gunnarmorling", "createdAt": "2020-11-30T14:21:48Z", "path": "debezium-ddl-parser/src/main/antlr4/io/debezium/ddl/parser/mysql/generated/MySqlLexer.g4", "diffHunk": "@@ -1220,6 +1220,11 @@ STRING_USER_NAME:                    (\n                                      (\n                                        SQUOTA_STRING | DQUOTA_STRING \n                                        | BQUOTA_STRING | ID_LITERAL\n+                                       | IP_ADDRESS\n+                                     );\n+IP_ADDRESS:                          (\n+                                       [0-9]+ '.' [0-9.]+", "originalCommit": "28f6ea5c4dab6839fe965bb862e178d62a35ac55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b44d7440df3d8202c418ec11e5cc1ab3e7daf78c", "url": "https://github.com/debezium/debezium/commit/b44d7440df3d8202c418ec11e5cc1ab3e7daf78c", "message": "DBZ-2743 Simplify IP address matchers", "committedDate": "2020-12-08T13:52:28Z", "type": "commit"}, {"oid": "b44d7440df3d8202c418ec11e5cc1ab3e7daf78c", "url": "https://github.com/debezium/debezium/commit/b44d7440df3d8202c418ec11e5cc1ab3e7daf78c", "message": "DBZ-2743 Simplify IP address matchers", "committedDate": "2020-12-08T13:52:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTExNTcwOA==", "url": "https://github.com/debezium/debezium/pull/1976#discussion_r539115708", "bodyText": "I don't think that's correct, you wouldn't have a \":\" at the last group, right? A test would tell :)", "author": "gunnarmorling", "createdAt": "2020-12-09T08:47:21Z", "path": "debezium-ddl-parser/src/main/antlr4/io/debezium/ddl/parser/mysql/generated/MySqlLexer.g4", "diffHunk": "@@ -1220,6 +1220,11 @@ STRING_USER_NAME:                    (\n                                      (\n                                        SQUOTA_STRING | DQUOTA_STRING \n                                        | BQUOTA_STRING | ID_LITERAL\n+                                       | IP_ADDRESS\n+                                     );\n+IP_ADDRESS:                          (\n+                                       [0-9]+ '.' [0-9]+ '.' [0-9]+ '.' [0-9]+\n+                                       | [0-9A-Fa-f:]+", "originalCommit": "b44d7440df3d8202c418ec11e5cc1ab3e7daf78c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "125e33da3ad15305131e9a4981a8fd5e4c3b86ef", "url": "https://github.com/debezium/debezium/commit/125e33da3ad15305131e9a4981a8fd5e4c3b86ef", "message": "DBZ-2743 Test for IPv6 address", "committedDate": "2020-12-09T09:32:28Z", "type": "commit"}]}