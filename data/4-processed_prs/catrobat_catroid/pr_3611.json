{"pr_number": 3611, "pr_title": "CATROID-577 \"Get image from ___ and use as current look\" brick", "pr_createdAt": "2020-05-18T22:48:26Z", "pr_url": "https://github.com/Catrobat/Catroid/pull/3611", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "ffa93d0678ce1ca1a5cf0847808f676042dff709", "url": "https://github.com/Catrobat/Catroid/commit/ffa93d0678ce1ca1a5cf0847808f676042dff709", "message": "Refactored web implementation", "committedDate": "2020-06-03T23:14:38Z", "type": "commit"}, {"oid": "2005f0f0f1b12a2f9fc6fcb3f1906e10403e540a", "url": "https://github.com/Catrobat/Catroid/commit/2005f0f0f1b12a2f9fc6fcb3f1906e10403e540a", "message": "CATROID-599 Stage resumes when leaving and returning to the app from dialog", "committedDate": "2020-06-03T23:15:45Z", "type": "commit"}, {"oid": "135caef9bdfa0712049a15f78c347edf25dbb319", "url": "https://github.com/Catrobat/Catroid/commit/135caef9bdfa0712049a15f78c347edf25dbb319", "message": "Fixed errors in toast message implementation", "committedDate": "2020-06-03T23:16:05Z", "type": "commit"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk0MzUwNQ==", "url": "https://github.com/Catrobat/Catroid/pull/3611#discussion_r435943505", "bodyText": "The BackgroundRequestBrick will only be shown for Background Sprites. So its not possible to set the background from another Script. Is this specified like this? Because I tried and it would work to set the background from other scripts.", "author": "DinosaurierRex", "createdAt": "2020-06-05T14:02:31Z", "path": "catroid/src/main/java/org/catrobat/catroid/ui/fragment/CategoryBricksFactory.java", "diffHunk": "@@ -478,6 +480,16 @@\n \t\t\tlooksBrickList.add(new FlashBrick());\n \t\t}\n \n+\t\tif (BuildConfig.FEATURE_WEBREQUEST_BRICK_ENABLED) {\n+\t\t\tif (!isBackgroundSprite) {\n+\t\t\t\tlooksBrickList.add(new LookRequestBrick(context.getString(R.string.brick_look_request_default_value)));\n+\t\t\t} else if (ProjectManager.getInstance().getCurrentProject().getXmlHeader().islandscapeMode()) {\n+\t\t\t\tlooksBrickList.add(new BackgroundRequestBrick(context.getString(R.string.brick_background_request_default_value_landscape)));\n+\t\t\t} else {\n+\t\t\t\tlooksBrickList.add(new BackgroundRequestBrick(context.getString(R.string.brick_background_request_default_value_portrait)));\n+\t\t\t}", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk1MTMxNg==", "url": "https://github.com/Catrobat/Catroid/pull/3611#discussion_r435951316", "bodyText": "Yes, that's by design. The brick is only supposed to be visible for background sprites.", "author": "lweitzendorf", "createdAt": "2020-06-05T14:15:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk0MzUwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk0NTU3OQ==", "url": "https://github.com/Catrobat/Catroid/pull/3611#discussion_r435945579", "bodyText": "Could you please think of better namings here. This is not clean code like and hard to follow what its doing.", "author": "DinosaurierRex", "createdAt": "2020-06-05T14:05:56Z", "path": "catroid/src/main/java/org/catrobat/catroid/utils/Utils.java", "diffHunk": "@@ -195,6 +198,27 @@ public static String generateRemixUrlsStringForMergedProgram(XmlHeader headerOfF\n \t\treturn extractedUrls;\n \t}\n \n+\tpublic static String getFileNameFromURL(String url) {\n+\t\tint extension = url.lastIndexOf('.');\n+\t\tint path = Math.max(url.substring(0, extension).lastIndexOf('/'), 0) + 1;\n+\t\tint param1 = url.indexOf('&', extension);\n+\t\tint param2 = url.indexOf('?', extension);\n+\t\tint param = (param2 >= 0 && param2 < param1) || (param1 == -1) ? param2 : param1;\n+\t\treturn param >= 0 ? url.substring(path, param) : url.substring(path);", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "c21a084b38a2318f7dab09ef3347163e74209b78", "url": "https://github.com/Catrobat/Catroid/commit/c21a084b38a2318f7dab09ef3347163e74209b78", "message": "CATROID-577 \"Get image from ___ and use as current look\" brick\n\nAdded new bricks to retrieve image from URL and set as look or background.", "committedDate": "2020-06-05T16:15:29Z", "type": "commit"}, {"oid": "c21a084b38a2318f7dab09ef3347163e74209b78", "url": "https://github.com/Catrobat/Catroid/commit/c21a084b38a2318f7dab09ef3347163e74209b78", "message": "CATROID-577 \"Get image from ___ and use as current look\" brick\n\nAdded new bricks to retrieve image from URL and set as look or background.", "committedDate": "2020-06-05T16:15:29Z", "type": "forcePushed"}]}