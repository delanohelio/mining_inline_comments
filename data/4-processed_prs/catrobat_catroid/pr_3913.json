{"pr_number": 3913, "pr_title": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "pr_createdAt": "2020-12-29T11:45:50Z", "pr_url": "https://github.com/Catrobat/Catroid/pull/3913", "timeline": [{"oid": "9ffd17649ae373c83f9d8556a8a19b83dc218b5e", "url": "https://github.com/Catrobat/Catroid/commit/9ffd17649ae373c83f9d8556a8a19b83dc218b5e", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2020-12-29T11:59:39Z", "type": "forcePushed"}, {"oid": "a3eb68064d593cd54490501380e1288d8bd79ae3", "url": "https://github.com/Catrobat/Catroid/commit/a3eb68064d593cd54490501380e1288d8bd79ae3", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2020-12-30T18:12:05Z", "type": "forcePushed"}, {"oid": "04a7fe9f5c4ad2fb0317c4429359a035c35a8724", "url": "https://github.com/Catrobat/Catroid/commit/04a7fe9f5c4ad2fb0317c4429359a035c35a8724", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2021-01-26T10:43:07Z", "type": "forcePushed"}, {"oid": "347ebeb53a84efc1da16c44e39656dd690e34120", "url": "https://github.com/Catrobat/Catroid/commit/347ebeb53a84efc1da16c44e39656dd690e34120", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2021-02-17T10:44:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTY4OTIwOA==", "url": "https://github.com/Catrobat/Catroid/pull/3913#discussion_r579689208", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        arrayOf(\"DeleteNotANumberEntry\", listOf(Formula(Double.NaN)), mutableListOf(1, 2), listOf(2)),\n          \n          \n            \n                        arrayOf(\"DeleteNotANumberEntry\", listOf(Formula(Double.NaN)), mutableListOf(1, 2), listOf(1, 2)),\n          \n      \n    \n    \n  \n\nThe removal is actually a bug, an incorrect behavior of the implementation. The correct behavior should be that the item is not removed (note: it is correctly implemented in Scratch and in Catty). Please correct the bug (preferred) or remove this line, and also in the CLT, here:", "author": "wslany", "createdAt": "2021-02-20T18:11:47Z", "path": "catroid/src/test/java/org/catrobat/catroid/test/content/actions/DeleteItemOfUserListActionTest.kt", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Catroid: An on-device visual programming system for Android devices\n+ * Copyright (C) 2010-2021 The Catrobat Team\n+ * (<http://developer.catrobat.org/credits>)\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as\n+ * published by the Free Software Foundation, either version 3 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * An additional term exception under section 7 of the GNU Affero\n+ * General Public License, version 3, is available at\n+ * http://developer.catrobat.org/license_additional_term\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.catrobat.catroid.test.content.actions\n+\n+import org.catrobat.catroid.content.ActionFactory\n+import org.catrobat.catroid.content.actions.DeleteItemOfUserListAction\n+import org.catrobat.catroid.formulaeditor.Formula\n+import org.catrobat.catroid.formulaeditor.UserList\n+import org.junit.Assert\n+import org.junit.Before\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+import org.junit.runners.Parameterized\n+\n+@RunWith(Parameterized::class)\n+class DeleteItemOfUserListActionTest(\n+    private val testName: String,\n+    private val listIndexToDelete: List<Formula>,\n+    private var initList: List<Any>,\n+    private var expectedList: List<Any>\n+) {\n+\n+    private lateinit var userList: UserList\n+    private lateinit var actionFactory: ActionFactory\n+    private lateinit var deleteaction: DeleteItemOfUserListAction\n+\n+    companion object {\n+        @JvmStatic\n+        @Parameterized.Parameters(name = \"{0}\")\n+        fun parameters() = listOf(\n+            arrayOf(\"DeleteFirstEntry\", listOf(Formula(1)), mutableListOf(1, 2, 3), listOf(2, 3)),\n+            arrayOf(\"DeleteMiddleEntry\", listOf(Formula(2)), mutableListOf(1, 2, 3), listOf(1, 3)),\n+            arrayOf(\"DeleteMultipleEntries\", listOf(Formula(1), Formula(2)), mutableListOf(1, 2, 3), listOf(2)),\n+            arrayOf(\"DeleteAllEntries\", listOf(Formula(1), Formula(1)), mutableListOf(\"First\", 2), emptyList<Any>()),\n+            arrayOf(\"DeleteInvalidEntries\", listOf(Formula(3), Formula(0), Formula(-1)), mutableListOf(1, 2), listOf(1, 2)),\n+            arrayOf(\"DeleteNotANumberEntry\", listOf(Formula(Double.NaN)), mutableListOf(1, 2), listOf(2)),", "originalCommit": "347ebeb53a84efc1da16c44e39656dd690e34120", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDkzNzY5Mw==", "url": "https://github.com/Catrobat/Catroid/pull/3913#discussion_r580937693", "bodyText": "The Bug is now fixed and the CLT is accordingly modified.", "author": "hofcle78", "createdAt": "2021-02-23T10:52:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTY4OTIwOA=="}], "type": "inlineReview"}, {"oid": "da2b5e22c772d49e80693bc191885d0b1d0c8a89", "url": "https://github.com/Catrobat/Catroid/commit/da2b5e22c772d49e80693bc191885d0b1d0c8a89", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2021-02-23T07:30:55Z", "type": "forcePushed"}, {"oid": "b5661b359b45506fd788cc4940c8a6c150cfbbb7", "url": "https://github.com/Catrobat/Catroid/commit/b5661b359b45506fd788cc4940c8a6c150cfbbb7", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2021-02-23T08:44:09Z", "type": "forcePushed"}, {"oid": "8a80e3e8e567829ed8d0e0d6b8b9336eaa486a84", "url": "https://github.com/Catrobat/Catroid/commit/8a80e3e8e567829ed8d0e0d6b8b9336eaa486a84", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2021-02-23T09:27:02Z", "type": "commit"}, {"oid": "8a80e3e8e567829ed8d0e0d6b8b9336eaa486a84", "url": "https://github.com/Catrobat/Catroid/commit/8a80e3e8e567829ed8d0e0d6b8b9336eaa486a84", "message": "CATROID-570 Refactor DeleteItemOfUserListActionTest to Kotlin", "committedDate": "2021-02-23T09:27:02Z", "type": "forcePushed"}]}