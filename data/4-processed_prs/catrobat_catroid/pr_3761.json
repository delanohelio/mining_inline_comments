{"pr_number": 3761, "pr_title": "CATROID-195 Play drum X for Y beats", "pr_createdAt": "2020-08-21T15:00:59Z", "pr_url": "https://github.com/Catrobat/Catroid/pull/3761", "timeline": [{"oid": "a45c02e97f64e351171eb70ad8f5e5dff068f497", "url": "https://github.com/Catrobat/Catroid/commit/a45c02e97f64e351171eb70ad8f5e5dff068f497", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-21T18:54:59Z", "type": "forcePushed"}, {"oid": "b6aecc014b799979e061777bd85f8da436d258cc", "url": "https://github.com/Catrobat/Catroid/commit/b6aecc014b799979e061777bd85f8da436d258cc", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-21T19:03:51Z", "type": "forcePushed"}, {"oid": "9144c95ba0027b4ace828f98e5c7aa2689fc662e", "url": "https://github.com/Catrobat/Catroid/commit/9144c95ba0027b4ace828f98e5c7aa2689fc662e", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-21T20:10:22Z", "type": "forcePushed"}, {"oid": "abd943d5c95bbd91d5616d8a9b85faadfb4483b6", "url": "https://github.com/Catrobat/Catroid/commit/abd943d5c95bbd91d5616d8a9b85faadfb4483b6", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-24T12:23:23Z", "type": "forcePushed"}, {"oid": "bbd5f87238070cc1d2c41fac90096f7c053330af", "url": "https://github.com/Catrobat/Catroid/commit/bbd5f87238070cc1d2c41fac90096f7c053330af", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-26T14:14:18Z", "type": "forcePushed"}, {"oid": "a3b0cfcbe76a4be139f94dfa34ed7ffba14b4351", "url": "https://github.com/Catrobat/Catroid/commit/a3b0cfcbe76a4be139f94dfa34ed7ffba14b4351", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-26T14:29:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3Mjc0OA==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r477472748", "bodyText": "these variables should be private right?", "author": "ndrnour", "createdAt": "2020-08-26T17:35:52Z", "path": "catroid/src/main/java/org/catrobat/catroid/content/actions/PlayDrumForBeatsAction.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Catroid: An on-device visual programming system for Android devices\n+ * Copyright (C) 2010-2018 The Catrobat Team\n+ * (<http://developer.catrobat.org/credits>)\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as\n+ * published by the Free Software Foundation, either version 3 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * An additional term exception under section 7 of the GNU Affero\n+ * General Public License, version 3, is available at\n+ * http://developer.catrobat.org/license_additional_term\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.catrobat.catroid.content.actions;\n+\n+import android.util.Log;\n+\n+import com.badlogic.gdx.scenes.scene2d.actions.TemporalAction;\n+\n+import org.catrobat.catroid.content.Sprite;\n+import org.catrobat.catroid.content.bricks.brickspinner.PickableDrum;\n+import org.catrobat.catroid.formulaeditor.Formula;\n+import org.catrobat.catroid.formulaeditor.InterpretationException;\n+import org.catrobat.catroid.pocketmusic.mididriver.MidiSoundManager;\n+import org.catrobat.catroid.pocketmusic.note.Drum;\n+\n+public class PlayDrumForBeatsAction extends TemporalAction {\n+\n+\tSprite sprite;\n+\tPickableDrum selectedDrum;\n+\tFormula beats;", "originalCommit": "a3b0cfcbe76a4be139f94dfa34ed7ffba14b4351", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3Mzg5MA==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r477473890", "bodyText": "no need for serialVersionUID it's already declared in the parent class BrickBaseType.java.\nplease just remove it", "author": "ndrnour", "createdAt": "2020-08-26T17:37:49Z", "path": "catroid/src/main/java/org/catrobat/catroid/content/bricks/PlayDrumForBeatsBrick.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*\n+ * Catroid: An on-device visual programming system for Android devices\n+ * Copyright (C) 2010-2018 The Catrobat Team\n+ * (<http://developer.catrobat.org/credits>)\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as\n+ * published by the Free Software Foundation, either version 3 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * An additional term exception under section 7 of the GNU Affero\n+ * General Public License, version 3, is available at\n+ * http://developer.catrobat.org/license_additional_term\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.catrobat.catroid.content.bricks;\n+\n+import android.content.Context;\n+import android.view.View;\n+\n+import org.catrobat.catroid.R;\n+import org.catrobat.catroid.common.Nameable;\n+import org.catrobat.catroid.content.Sprite;\n+import org.catrobat.catroid.content.actions.ScriptSequenceAction;\n+import org.catrobat.catroid.content.bricks.brickspinner.BrickSpinner;\n+import org.catrobat.catroid.content.bricks.brickspinner.PickableDrum;\n+import org.catrobat.catroid.formulaeditor.Formula;\n+import org.catrobat.catroid.utils.Utils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import androidx.annotation.Nullable;\n+\n+public class PlayDrumForBeatsBrick extends FormulaBrick implements BrickSpinner.OnItemSelectedListener<PickableDrum> {\n+\n+\tprivate static final long serialVersionUID = 1L;", "originalCommit": "a3b0cfcbe76a4be139f94dfa34ed7ffba14b4351", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3NDQ4NQ==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r477474485", "bodyText": "please change it to private", "author": "ndrnour", "createdAt": "2020-08-26T17:38:52Z", "path": "catroid/src/main/java/org/catrobat/catroid/content/bricks/PlayDrumForBeatsBrick.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*\n+ * Catroid: An on-device visual programming system for Android devices\n+ * Copyright (C) 2010-2018 The Catrobat Team\n+ * (<http://developer.catrobat.org/credits>)\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as\n+ * published by the Free Software Foundation, either version 3 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * An additional term exception under section 7 of the GNU Affero\n+ * General Public License, version 3, is available at\n+ * http://developer.catrobat.org/license_additional_term\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.catrobat.catroid.content.bricks;\n+\n+import android.content.Context;\n+import android.view.View;\n+\n+import org.catrobat.catroid.R;\n+import org.catrobat.catroid.common.Nameable;\n+import org.catrobat.catroid.content.Sprite;\n+import org.catrobat.catroid.content.actions.ScriptSequenceAction;\n+import org.catrobat.catroid.content.bricks.brickspinner.BrickSpinner;\n+import org.catrobat.catroid.content.bricks.brickspinner.PickableDrum;\n+import org.catrobat.catroid.formulaeditor.Formula;\n+import org.catrobat.catroid.utils.Utils;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import androidx.annotation.Nullable;\n+\n+public class PlayDrumForBeatsBrick extends FormulaBrick implements BrickSpinner.OnItemSelectedListener<PickableDrum> {\n+\n+\tprivate static final long serialVersionUID = 1L;\n+\n+\tpublic PickableDrum drumSelection = Utils.getPickableDrums().get(0);", "originalCommit": "a3b0cfcbe76a4be139f94dfa34ed7ffba14b4351", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ3NjE4Mg==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r477476182", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tList drums = new ArrayList<PickableDrum>();\n          \n          \n            \n            \t\tList<PickableDrum> drums = new ArrayList<>();", "author": "ndrnour", "createdAt": "2020-08-26T17:41:48Z", "path": "catroid/src/main/java/org/catrobat/catroid/utils/Utils.java", "diffHunk": "@@ -594,4 +595,58 @@ public static int getBit(int number, int index) {\n \n \t\treturn instruments;\n \t}\n+\n+\tpublic static List<PickableDrum> getPickableDrums() {\n+\t\tList drums = new ArrayList<PickableDrum>();", "originalCommit": "a3b0cfcbe76a4be139f94dfa34ed7ffba14b4351", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9837a5dfb9574f2e084358129e8b9aac8d894834", "url": "https://github.com/Catrobat/Catroid/commit/9837a5dfb9574f2e084358129e8b9aac8d894834", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-26T18:01:31Z", "type": "forcePushed"}, {"oid": "e04d3606e6f162c67f89fe0ee5b30cae8efd2d55", "url": "https://github.com/Catrobat/Catroid/commit/e04d3606e6f162c67f89fe0ee5b30cae8efd2d55", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-08-26T18:11:56Z", "type": "forcePushed"}, {"oid": "f618f292e5ae57521f2d51b33f3d704f0c4b010c", "url": "https://github.com/Catrobat/Catroid/commit/f618f292e5ae57521f2d51b33f3d704f0c4b010c", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-09-10T01:51:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA2NjI4Mw==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r486066283", "bodyText": "All these English names of the instruments (down to line 693) should be in strings.xml so that they can be translated via CrowdIn on https://translate.catrobat.org/ by our translators.", "author": "wslany", "createdAt": "2020-09-10T05:06:21Z", "path": "catroid/src/main/java/org/catrobat/catroid/utils/Utils.java", "diffHunk": "@@ -639,4 +640,58 @@ public void onReceive(Context context, Intent intent) {\n \t\t\t}\n \t\t}, null, Activity.RESULT_OK, null, null);\n \t}\n+\n+\tpublic static List<PickableDrum> getPickableDrums() {\n+\t\tList<PickableDrum> drums = new ArrayList<PickableDrum>();\n+\n+\t\tdrums.add(new PickableDrum(\"Acoustic Bass Drum\", 35));", "originalCommit": "f618f292e5ae57521f2d51b33f3d704f0c4b010c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA3MTA0MA==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r486071040", "bodyText": "Same as discussed with @m-herold for normal instruments: please restrict it to the set from Scratch, in the same order.", "author": "wslany", "createdAt": "2020-09-10T05:18:12Z", "path": "catroid/src/main/java/org/catrobat/catroid/pocketmusic/note/Drum.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/*\n+ * Catroid: An on-device visual programming system for Android devices\n+ * Copyright (C) 2010-2018 The Catrobat Team\n+ * (<http://developer.catrobat.org/credits>)\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as\n+ * published by the Free Software Foundation, either version 3 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * An additional term exception under section 7 of the GNU Affero\n+ * General Public License, version 3, is available at\n+ * http://developer.catrobat.org/license_additional_term\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.catrobat.catroid.pocketmusic.note;\n+\n+public enum Drum {\n+\tACOUSTIC_BASS_DRUM(35),", "originalCommit": "f618f292e5ae57521f2d51b33f3d704f0c4b010c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA3MzkxMQ==", "url": "https://github.com/Catrobat/Catroid/pull/3761#discussion_r486073911", "bodyText": "Same as discussed with @m-herold for normal instruments: please make a token based serialization, something like:\n<brick type=\"SetInstrumentBrick\">\n  <commentedOut>false</commentedOut>\n  <drumSelection>TRIANGLE</instrumentSelection>\n</brick>\n\nand so on.", "author": "wslany", "createdAt": "2020-09-10T05:28:16Z", "path": "catroid/src/main/java/org/catrobat/catroid/io/XstreamSerializer.java", "diffHunk": "@@ -460,6 +461,7 @@ private void prepareXstream(Class projectClass, Class sceneClass) {\n \t\txstream.alias(\"brick\", SetBackgroundAndWaitBrick.class);\n \t\txstream.alias(\"brick\", SetBackgroundByIndexAndWaitBrick.class);\n \t\txstream.alias(\"brick\", SetInstrumentBrick.class);\n+\t\txstream.alias(\"brick\", PlayDrumForBeatsBrick.class);", "originalCommit": "f618f292e5ae57521f2d51b33f3d704f0c4b010c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "06795f801d53b9b1c9658e48967147a0e235db7b", "url": "https://github.com/Catrobat/Catroid/commit/06795f801d53b9b1c9658e48967147a0e235db7b", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-09-10T13:01:50Z", "type": "forcePushed"}, {"oid": "d606b329fac36378b1edc157590b455de3e09208", "url": "https://github.com/Catrobat/Catroid/commit/d606b329fac36378b1edc157590b455de3e09208", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-09-10T13:52:27Z", "type": "forcePushed"}, {"oid": "2dae8362bd2475a86a3e42e039f55cfb6eb7cbc7", "url": "https://github.com/Catrobat/Catroid/commit/2dae8362bd2475a86a3e42e039f55cfb6eb7cbc7", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-09-10T14:21:58Z", "type": "forcePushed"}, {"oid": "5bfa93f6edeb198d19965c70fb06fd53accad573", "url": "https://github.com/Catrobat/Catroid/commit/5bfa93f6edeb198d19965c70fb06fd53accad573", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-09-10T14:37:09Z", "type": "forcePushed"}, {"oid": "686b3ee0b6f9812d7acd706d948d8f59a4395e3e", "url": "https://github.com/Catrobat/Catroid/commit/686b3ee0b6f9812d7acd706d948d8f59a4395e3e", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-09-14T10:26:34Z", "type": "forcePushed"}, {"oid": "24121822803fffd570fb9cfd9e981f232aa336c3", "url": "https://github.com/Catrobat/Catroid/commit/24121822803fffd570fb9cfd9e981f232aa336c3", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-10-07T13:49:49Z", "type": "forcePushed"}, {"oid": "a9b78febb1149a778c56691ba7cdf9fa240ca5a8", "url": "https://github.com/Catrobat/Catroid/commit/a9b78febb1149a778c56691ba7cdf9fa240ca5a8", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-10-07T13:53:39Z", "type": "forcePushed"}, {"oid": "fa009e273e4247e0baf9a2238f41b62a5746f6a2", "url": "https://github.com/Catrobat/Catroid/commit/fa009e273e4247e0baf9a2238f41b62a5746f6a2", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-10-26T11:05:26Z", "type": "forcePushed"}, {"oid": "1cc8dd4a5667e06f48737cd3257c5ae61dee0954", "url": "https://github.com/Catrobat/Catroid/commit/1cc8dd4a5667e06f48737cd3257c5ae61dee0954", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-10-26T11:44:29Z", "type": "forcePushed"}, {"oid": "5667222be923e1f3b3a6b4f05625f85b97e8ce3b", "url": "https://github.com/Catrobat/Catroid/commit/5667222be923e1f3b3a6b4f05625f85b97e8ce3b", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-12-06T01:34:42Z", "type": "forcePushed"}, {"oid": "94cc668086f032407f56e9e430c539e289e6b01a", "url": "https://github.com/Catrobat/Catroid/commit/94cc668086f032407f56e9e430c539e289e6b01a", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-12-06T01:57:06Z", "type": "commit"}, {"oid": "94cc668086f032407f56e9e430c539e289e6b01a", "url": "https://github.com/Catrobat/Catroid/commit/94cc668086f032407f56e9e430c539e289e6b01a", "message": "CATROID-195 Play drum X for Y beats", "committedDate": "2020-12-06T01:57:06Z", "type": "forcePushed"}, {"oid": "83f486aad49358ea80f907c1ec825b8e2918cc6e", "url": "https://github.com/Catrobat/Catroid/commit/83f486aad49358ea80f907c1ec825b8e2918cc6e", "message": "Fix to normal English word capitalization rules", "committedDate": "2020-12-09T20:47:25Z", "type": "commit"}]}