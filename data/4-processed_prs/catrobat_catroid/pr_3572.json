{"pr_number": 3572, "pr_title": "CATROID-214 Add input to user defined bricks", "pr_createdAt": "2020-04-07T07:22:27Z", "pr_url": "https://github.com/Catrobat/Catroid/pull/3572", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE2Njc2Mg==", "url": "https://github.com/Catrobat/Catroid/pull/3572#discussion_r411166762", "bodyText": "Correction of intendation", "author": "BeinhAlex", "createdAt": "2020-04-20T07:50:08Z", "path": "catroid/src/main/res/layout/brick_user_brick.xml", "diffHunk": "@@ -0,0 +1,54 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<!--\n+  ~ Catroid: An on-device visual programming system for Android devices\n+  ~ Copyright (C) 2010-2018 The Catrobat Team\n+  ~ (<http://developer.catrobat.org/credits>)\n+  ~\n+  ~ This program is free software: you can redistribute it and/or modify\n+  ~ it under the terms of the GNU Affero General Public License as\n+  ~ published by the Free Software Foundation, either version 3 of the\n+  ~ License, or (at your option) any later version.\n+  ~\n+  ~ An additional term exception under section 7 of the GNU Affero\n+  ~ General Public License, version 3, is available at\n+  ~ http://developer.catrobat.org/license_additional_term\n+  ~\n+  ~ This program is distributed in the hope that it will be useful,\n+  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+  ~ GNU Affero General Public License for more details.\n+  ~\n+  ~ You should have received a copy of the GNU Affero General Public License\n+  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+  -->\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"wrap_content\"\n+    android:gravity=\"center_vertical\"\n+    android:orientation=\"horizontal\">\n+\n+    <CheckBox\n+        android:id=\"@+id/brick_checkbox\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:gravity=\"center_vertical\"\n+        android:visibility=\"gone\" />\n+\n+    <ScrollView\n+        android:id=\"@+id/user_brick_scrollbar\"\n+        android:layout_marginTop=\"10dp\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"@dimen/brick_height_medium\"\n+        android:layout_marginBottom=\"10dp\">\n+            <org.catrobat.catroid.ui.BrickLayout", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE4NDk2NA==", "url": "https://github.com/Catrobat/Catroid/pull/3572#discussion_r411184964", "bodyText": "Format change", "author": "BeinhAlex", "createdAt": "2020-04-20T08:19:56Z", "path": "catroid/src/main/java/org/catrobat/catroid/ui/BrickLayout.java", "diffHunk": "@@ -178,7 +179,13 @@ protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n \t\t\tlineLength = lineLengthWithHorizontalSpacing + childWidth;\n \t\t\tlineLengthWithHorizontalSpacing = lineLength + horizontalSpacing;\n \n-\t\t\tboolean newLine = (layoutParams.newLine && totalLengthOfContent - combinedLengthOfPreviousLines > sizeWidth);\n+\t\t\tboolean newLine;\n+\t\t\tif (userBrick) {\n+\t\t\t\tnewLine = lineLengthWithHorizontalSpacing > sizeWidth;\n+\t\t\t} else {\n+\t\t\t\tnewLine =\n+\t\t\t\t\t\t(layoutParams.newLine && totalLengthOfContent - combinedLengthOfPreviousLines > sizeWidth);", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE4NTgwNw==", "url": "https://github.com/Catrobat/Catroid/pull/3572#discussion_r411185807", "bodyText": "Format Change", "author": "BeinhAlex", "createdAt": "2020-04-20T08:21:10Z", "path": "catroid/src/main/java/org/catrobat/catroid/ui/fragment/AddInputToUserBrickFragment.java", "diffHunk": "@@ -0,0 +1,218 @@\n+/*\n+ * Catroid: An on-device visual programming system for Android devices\n+ * Copyright (C) 2010-2018 The Catrobat Team\n+ * (<http://developer.catrobat.org/credits>)\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as\n+ * published by the Free Software Foundation, either version 3 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * An additional term exception under section 7 of the GNU Affero\n+ * General Public License, version 3, is available at\n+ * http://developer.catrobat.org/license_additional_term\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package org.catrobat.catroid.ui.fragment;\n+\n+import android.app.Activity;\n+import android.content.Context;\n+import android.os.Bundle;\n+import android.text.Editable;\n+import android.text.TextWatcher;\n+import android.view.LayoutInflater;\n+import android.view.Menu;\n+import android.view.MenuInflater;\n+import android.view.MenuItem;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.view.WindowManager;\n+import android.view.inputmethod.InputMethodManager;\n+import android.widget.LinearLayout;\n+import android.widget.TextView;\n+\n+import com.google.android.material.textfield.TextInputEditText;\n+import com.google.android.material.textfield.TextInputLayout;\n+\n+import org.catrobat.catroid.R;\n+import org.catrobat.catroid.common.Nameable;\n+import org.catrobat.catroid.content.bricks.UserDefinedBrick;\n+import org.catrobat.catroid.content.bricks.brickspinner.StringOption;\n+import org.jetbrains.annotations.NotNull;\n+\n+import androidx.annotation.NonNull;\n+import androidx.appcompat.app.ActionBar;\n+import androidx.appcompat.app.AppCompatActivity;\n+import androidx.fragment.app.Fragment;\n+import androidx.fragment.app.FragmentManager;\n+\n+public class AddInputToUserBrickFragment extends Fragment {\n+\n+\tpublic static final String TAG = AddInputToUserBrickFragment.class.getSimpleName();\n+\n+\tprivate AppCompatActivity activity;\n+\tprivate TextInputEditText addInputUserBrickEditText;\n+\tprivate TextInputLayout addInputUserBrickTextLayout;\n+\n+\tprivate MenuItem nextItem;\n+\n+\tprivate UserDefinedBrick userDefinedBrick;\n+\tprivate TextView userBrickTextView;\n+\n+\t@Override\n+\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+\t\tView view = inflater.inflate(R.layout.fragment_add_input_to_user_brick, container, false);\n+\n+\t\taddInputUserBrickEditText = view.findViewById(R.id.input_user_brick_edit_field);\n+\t\taddInputUserBrickTextLayout = view.findViewById(R.id.input_user_brick_text_layout);\n+\t\tLinearLayout userBrickSpace = view.findViewById(R.id.user_brick_space);\n+\n+\t\tBundle arguments = getArguments();\n+\t\tif (arguments != null) {\n+\t\t\tuserDefinedBrick =", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE5Nzg3NQ==", "url": "https://github.com/Catrobat/Catroid/pull/3572#discussion_r411197875", "bodyText": "Reuse existing menu", "author": "BeinhAlex", "createdAt": "2020-04-20T08:39:10Z", "path": "catroid/src/main/res/menu/menu_user_brick.xml", "diffHunk": "@@ -0,0 +1,32 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE5ODY4OA==", "url": "https://github.com/Catrobat/Catroid/pull/3572#discussion_r411198688", "bodyText": "Please remove multiple spaces", "author": "BeinhAlex", "createdAt": "2020-04-20T08:40:28Z", "path": "catroid/src/main/res/values/strings.xml", "diffHunk": "@@ -1052,12 +1052,18 @@\n     <string name=\"category_assertions\">Testing</string>\n     <!--  -->\n \n+", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "5fafc0dd99f65ac0adae2a16e17f3eeac5a0970f", "url": "https://github.com/Catrobat/Catroid/commit/5fafc0dd99f65ac0adae2a16e17f3eeac5a0970f", "message": "CATROID-214 Add input to user defined bricks", "committedDate": "2020-04-20T11:37:13Z", "type": "commit"}, {"oid": "5fafc0dd99f65ac0adae2a16e17f3eeac5a0970f", "url": "https://github.com/Catrobat/Catroid/commit/5fafc0dd99f65ac0adae2a16e17f3eeac5a0970f", "message": "CATROID-214 Add input to user defined bricks", "committedDate": "2020-04-20T11:37:13Z", "type": "forcePushed"}]}