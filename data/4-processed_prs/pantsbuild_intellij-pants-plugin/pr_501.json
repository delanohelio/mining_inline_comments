{"pr_number": 501, "pr_title": "Support for Idea 201.6073.9", "pr_createdAt": "2020-03-05T15:46:59Z", "pr_url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/501", "timeline": [{"oid": "482e34b702e48dd0c7242a3fd5c0b6c1f7ce14f5", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/482e34b702e48dd0c7242a3fd5c0b6c1f7ce14f5", "message": "Add open processor", "committedDate": "2020-03-10T13:37:21Z", "type": "forcePushed"}, {"oid": "6935491a76a969fbd6643a7a424332f6721ad723", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/6935491a76a969fbd6643a7a424332f6721ad723", "message": "Add open processor", "committedDate": "2020-03-11T08:24:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5OTI5Mw==", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/501#discussion_r391599293", "bodyText": "Maybe let's rename it if it's not always \"later\"", "author": "tpasternak", "createdAt": "2020-03-12T12:52:35Z", "path": "common/com/twitter/intellij/pants/util/PantsUtil.java", "diffHunk": "@@ -979,4 +980,15 @@ public static void invalidatePluginCaches() {\n   public static List<String> parseCmdParameters(Optional<String> cmdArgsLine) {\n     return cmdArgsLine.map(ParametersListUtil::parse).orElse(ContainerUtil.newArrayList());\n   }\n+\n+  public static void invokeLater(Runnable task) {", "originalCommit": "b56948f9072a7470b4bdd06a9f0465684e4cdc24", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjE1MTcxOQ==", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/501#discussion_r392151719", "bodyText": "Renamed to invokeLaterIfNeeded to maintain compatibility with the underlying idea method", "author": "mzarnowski", "createdAt": "2020-03-13T10:41:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5OTI5Mw=="}], "type": "inlineReview"}, {"oid": "e97000140549c28a63f790ccde47b73e246c7d74", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/e97000140549c28a63f790ccde47b73e246c7d74", "message": "Store file path in pants junit configuration", "committedDate": "2020-03-13T10:32:25Z", "type": "commit"}, {"oid": "f84997ba929e7bb596c552d72ecfcfb77a43e6c6", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/f84997ba929e7bb596c552d72ecfcfb77a43e6c6", "message": "Set modules sdk explicitly", "committedDate": "2020-03-13T10:32:25Z", "type": "commit"}, {"oid": "d86147f62a65e00edadd1517d7fd023bd7c52308", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/d86147f62a65e00edadd1517d7fd023bd7c52308", "message": "Migrate application component", "committedDate": "2020-03-13T10:32:25Z", "type": "commit"}, {"oid": "75c208c0645da3ed4eded3fb10cc81bc7a5caa2a", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/75c208c0645da3ed4eded3fb10cc81bc7a5caa2a", "message": "Add open processor", "committedDate": "2020-03-13T10:37:36Z", "type": "commit"}, {"oid": "e2bcdb2662410b5d172e45a96ac6450654d8a0b4", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/e2bcdb2662410b5d172e45a96ac6450654d8a0b4", "message": "Remove globs from BUILD files", "committedDate": "2020-03-13T10:37:36Z", "type": "commit"}, {"oid": "7132365d35cb62967e95d588b7775c23f1fb23ba", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/7132365d35cb62967e95d588b7775c23f1fb23ba", "message": "Close editors in tests after use", "committedDate": "2020-03-13T10:37:36Z", "type": "commit"}, {"oid": "6109102b1af5132e113e179bad955b3581acaf0d", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/6109102b1af5132e113e179bad955b3581acaf0d", "message": "Run task directly in unit test mode\n\nInvoking the task later on EDT prevents the exception from being\npropagated and therefore one cannot verify it was thrown in a test", "committedDate": "2020-03-13T10:39:05Z", "type": "commit"}, {"oid": "96b60aa510e714209680fe7e36d0e125ee4706bf", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/96b60aa510e714209680fe7e36d0e125ee4706bf", "message": "Rename invokeLater to match the idea method", "committedDate": "2020-03-13T10:40:56Z", "type": "forcePushed"}, {"oid": "259952501a4ee077a23ad21e026b177ad8bb6a98", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/259952501a4ee077a23ad21e026b177ad8bb6a98", "message": "Test opening pants projects", "committedDate": "2020-03-13T12:55:59Z", "type": "commit"}, {"oid": "c7bbb57b600954d83fc2dbd28fe2a339b9ae6231", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/c7bbb57b600954d83fc2dbd28fe2a339b9ae6231", "message": "Fix deprecation", "committedDate": "2020-03-13T12:56:07Z", "type": "commit"}, {"oid": "b565e4608e4ff352713f4600da093c282dc5d08f", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/b565e4608e4ff352713f4600da093c282dc5d08f", "message": "Rename invokeLater to match the idea method", "committedDate": "2020-03-13T12:56:55Z", "type": "commit"}, {"oid": "b565e4608e4ff352713f4600da093c282dc5d08f", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/b565e4608e4ff352713f4600da093c282dc5d08f", "message": "Rename invokeLater to match the idea method", "committedDate": "2020-03-13T12:56:55Z", "type": "forcePushed"}, {"oid": "20e4f99b282a3b08834ad7a99d02366837935590", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/20e4f99b282a3b08834ad7a99d02366837935590", "message": "Fix the 'until' version restriction restriction", "committedDate": "2020-03-13T15:51:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjMyMDc0NQ==", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/501#discussion_r392320745", "bodyText": "Can we register actions in plugin.xml?", "author": "tpasternak", "createdAt": "2020-03-13T16:01:57Z", "path": "src/com/twitter/intellij/pants/components/impl/PantsActionConfigurationCustomizer.java", "diffHunk": "@@ -0,0 +1,53 @@\n+// Copyright 2020 Pants project contributors (see CONTRIBUTORS.md).\n+// Licensed under the Apache License, Version 2.0 (see LICENSE).\n+\n+package com.twitter.intellij.pants.components.impl;\n+\n+import com.intellij.openapi.actionSystem.ActionManager;\n+import com.intellij.openapi.actionSystem.AnAction;\n+import com.intellij.openapi.actionSystem.IdeActions;\n+import com.intellij.openapi.actionSystem.impl.ActionConfigurationCustomizer;\n+import com.twitter.intellij.pants.compiler.actions.PantsCompileAllTargetsAction;\n+import com.twitter.intellij.pants.compiler.actions.PantsCompileAllTargetsInModuleAction;\n+import com.twitter.intellij.pants.compiler.actions.PantsRebuildAction;\n+import com.twitter.intellij.pants.ui.PantsOverrideAction;\n+import com.twitter.intellij.pants.util.PantsConstants;\n+import icons.PantsIcons;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.Optional;\n+\n+final class PantsActionConfigurationCustomizer implements ActionConfigurationCustomizer {\n+  private static final String PANTS_REBUILD_ACTION_NAME = IdeActions.ACTION_COMPILE_PROJECT + \"Pants\";\n+  private static final String PANTS_COMPILE_MODULE_ACTION_NAME = IdeActions.ACTION_MAKE_MODULE + \"Pants\";\n+  private static final String PANTS_COMPILE_PROJECT_ACTION_NAME = PantsConstants.ACTION_MAKE_PROJECT_ID + \"Pants\";\n+\n+  @Override\n+  public void customize(@NotNull ActionManager manager) {\n+    //  Registers the rebuild action to Pants rebuild action.\n+    //  Registers Make module action to 'Make all targets in module' action.\n+    //  Disables compile action\n+\n+    AnAction pantsCompileAllTargetAction = new PantsOverrideAction(\n+      PantsConstants.ACTION_MAKE_PROJECT_DESCRIPTION,\n+      new PantsCompileAllTargetsAction(),\n+      manager.getAction(PantsConstants.ACTION_MAKE_PROJECT_ID),\n+      PantsIcons.Icon\n+    );\n+\n+    AnAction pantsMakeModuleAction = new PantsOverrideAction(\n+      new PantsCompileAllTargetsInModuleAction(Optional.empty()),\n+      manager.getAction(PANTS_COMPILE_MODULE_ACTION_NAME)\n+    );\n+\n+    AnAction pantsRebuildAction = new PantsOverrideAction(\n+      PantsConstants.REBUILD_PROJECT_DESCRIPTION,\n+      new PantsRebuildAction(),\n+      manager.getAction(PANTS_REBUILD_ACTION_NAME)\n+    );\n+\n+    manager.registerAction(PANTS_COMPILE_PROJECT_ACTION_NAME, pantsCompileAllTargetAction);\n+    manager.registerAction(PANTS_COMPILE_MODULE_ACTION_NAME, pantsMakeModuleAction);\n+    manager.registerAction(PANTS_REBUILD_ACTION_NAME, pantsRebuildAction);", "originalCommit": "20e4f99b282a3b08834ad7a99d02366837935590", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjMyMTA5OA==", "url": "https://github.com/pantsbuild/intellij-pants-plugin/pull/501#discussion_r392321098", "bodyText": "Nvm, it was moved from the other place, it's not a part of this PR", "author": "tpasternak", "createdAt": "2020-03-13T16:02:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjMyMDc0NQ=="}], "type": "inlineReview"}, {"oid": "27ef6019ba906d7db026c4a284056ed1846229f3", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/27ef6019ba906d7db026c4a284056ed1846229f3", "message": "Use the directory of pants executable as a project root", "committedDate": "2020-03-17T10:01:00Z", "type": "commit"}, {"oid": "8de02a383d6a693210a56a80dd4c181a2269e3db", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/8de02a383d6a693210a56a80dd4c181a2269e3db", "message": "Treat every directory as pants project if it has pants root", "committedDate": "2020-03-18T07:32:02Z", "type": "commit"}, {"oid": "aac78a23a7c16fef22a18beb5599fab4db4b929c", "url": "https://github.com/pantsbuild/intellij-pants-plugin/commit/aac78a23a7c16fef22a18beb5599fab4db4b929c", "message": "Restore \"Import Project\" action to welcome screen", "committedDate": "2020-03-18T07:53:28Z", "type": "commit"}]}