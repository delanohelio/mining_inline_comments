{"pr_number": 3857, "pr_title": "\"[E] to enable building\" hint while building is paused", "pr_createdAt": "2020-12-08T05:49:53Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/3857", "timeline": [{"oid": "39e967202bfdd9bb5bea9bc5d26917ae0ea23519", "url": "https://github.com/Anuken/Mindustry/commit/39e967202bfdd9bb5bea9bc5d26917ae0ea23519", "message": "Show building hints while building is paused", "committedDate": "2020-12-08T05:34:58Z", "type": "commit"}, {"oid": "2335c3566fc58368f52265316fd0bb59ef1c3df8", "url": "https://github.com/Anuken/Mindustry/commit/2335c3566fc58368f52265316fd0bb59ef1c3df8", "message": "Add hint: [E] to enable building", "committedDate": "2021-01-20T18:55:57Z", "type": "commit"}, {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad", "url": "https://github.com/Anuken/Mindustry/commit/ab7947ac5407d035069939ec41efe3787c83e0ad", "message": "Remove .left()", "committedDate": "2021-01-20T19:49:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA==", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561328320", "bodyText": "You should probably initialize this table with t.color.a = 0 so it starts out hidden.", "author": "Anuken", "createdAt": "2021-01-20T21:47:09Z", "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -68,14 +68,28 @@ public void buildUI(Group group){\n             t.touchable(() -> t.color.a < 0.1f ? Touchable.disabled : Touchable.childrenOnly);\n             t.table(Styles.black6, b -> {\n                 b.defaults().left();\n-                b.label(() -> Core.bundle.format(!isBuilding ?  \"resumebuilding\" : \"pausebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n+                b.label(() -> Core.bundle.format(isBuilding ? \"pausebuilding\" : \"resumebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"cancelbuilding\", Core.keybinds.get(Binding.clear_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"selectschematic\", Core.keybinds.get(Binding.schematic_select).key.toString())).style(Styles.outlineLabel);\n             }).margin(10f);\n         });\n \n+        //build enable hint\n+        group.fill(t -> {\n+            t.bottom();", "originalCommit": "ab7947ac5407d035069939ec41efe3787c83e0ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMzOTA4Nw==", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561339087", "bodyText": "Then shouldn't that also be applied to the other building hint table above?", "author": "joshuaptfan", "createdAt": "2021-01-20T22:07:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTM5NDM4MQ==", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561394381", "bodyText": "The difference is that this one starts out visible, while the other hints box does not.", "author": "Anuken", "createdAt": "2021-01-20T23:52:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTQ2MTE0NQ==", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561461145", "bodyText": "Testing without t.color.a = 0, that line doesn't seem to be necessary. Tested these scenarios:\n\nStarting fresh custom game with auto-pause off: build enable hint not visible as expected, appears when pressing E.\nResuming saved game with building disabled: build enable hint visible as expected, disappears when pressing E.\nResuming saved game with building enabled: build enable hint not visible as expected, appears when pressing E.\nChanging auto-pause setting during game: some anomalous behavior, like having to press E twice to get hint to appear.\n\nisBuilding starts out true, which means the build enable hint is invisible at the start of the game.", "author": "joshuaptfan", "createdAt": "2021-01-21T01:47:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTQ3NTM4Nw==", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561475387", "bodyText": "Fixed inconsistencies by replacing !buildWasAutoPaused with !Core.settings.getBool(\"buildautopause\"). Now the build enable hint always reflects the state of isBuilding accurately, when auto-pause is disabled.", "author": "joshuaptfan", "createdAt": "2021-01-21T02:08:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}], "type": "inlineReview"}, {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad", "url": "https://github.com/Anuken/Mindustry/commit/ab7947ac5407d035069939ec41efe3787c83e0ad", "message": "Remove .left()", "committedDate": "2021-01-20T19:49:27Z", "type": "forcePushed"}, {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad", "url": "https://github.com/Anuken/Mindustry/commit/ab7947ac5407d035069939ec41efe3787c83e0ad", "message": "Remove .left()", "committedDate": "2021-01-20T19:49:27Z", "type": "forcePushed"}, {"oid": "5ddfa127050528ed307bf60896df49a897d57b35", "url": "https://github.com/Anuken/Mindustry/commit/5ddfa127050528ed307bf60896df49a897d57b35", "message": "Fix build enable hint display inconsistencies when changing build auto-pause setting", "committedDate": "2021-01-21T02:06:40Z", "type": "commit"}, {"oid": "ddf200064454285aeb6566a46aac24e597cc50ce", "url": "https://github.com/Anuken/Mindustry/commit/ddf200064454285aeb6566a46aac24e597cc50ce", "message": "Combine building hint tables", "committedDate": "2021-01-25T08:47:16Z", "type": "commit"}, {"oid": "53794a499909dd31a47787006d5e4d110993b6d1", "url": "https://github.com/Anuken/Mindustry/commit/53794a499909dd31a47787006d5e4d110993b6d1", "message": "Fix indentation", "committedDate": "2021-01-25T09:23:54Z", "type": "commit"}]}