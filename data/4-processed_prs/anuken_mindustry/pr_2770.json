{"pr_number": 2770, "pr_title": "Autotiler docs and cleanup", "pr_createdAt": "2020-09-30T13:32:19Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/2770", "timeline": [{"oid": "1c04653ffdc30beca2122feca7480a48e1979266", "url": "https://github.com/Anuken/Mindustry/commit/1c04653ffdc30beca2122feca7480a48e1979266", "message": "Autotiler cleanup and documentation", "committedDate": "2020-09-30T13:29:57Z", "type": "commit"}, {"oid": "fbb317aa112f261f19c964e20d218253c2dc30d0", "url": "https://github.com/Anuken/Mindustry/commit/fbb317aa112f261f19c964e20d218253c2dc30d0", "message": "Update contributors", "committedDate": "2020-09-30T13:30:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUxNzc1NA==", "url": "https://github.com/Anuken/Mindustry/pull/2770#discussion_r497517754", "bodyText": "I don't understand why people think switch is somehow less messy. This is more lines of code, and you need a break statement after every case. It's not any better than an if-chain.", "author": "Anuken", "createdAt": "2020-09-30T13:40:26Z", "path": "core/src/mindustry/world/blocks/Autotiler.java", "diffHunk": "@@ -112,24 +144,47 @@ default TextureRegion botHalf(TextureRegion input){\n         return blendresult;\n     }\n \n+    /**\n+     * Transforms the autotiler setting the connection and the y-scale\n+     *\n+     * @param num The number to use to transform the array\n+     * @param bits The blending value array\n+     */\n     default void transformCase(int num, int[] bits){\n-        if(num == 0){\n-            bits[0] = 3;\n-        }else if(num == 1){\n-            bits[0] = 4;\n-        }else if(num == 2){\n-            bits[0] = 2;\n-        }else if(num == 3){\n-            bits[0] = 2;\n-            bits[2] = -1;\n-        }else if(num == 4){\n-            bits[0] = 1;\n-            bits[2] = -1;\n-        }else if(num == 5){\n-            bits[0] = 1;\n+        switch (num){", "originalCommit": "fbb317aa112f261f19c964e20d218253c2dc30d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUyMTEzNw==", "url": "https://github.com/Anuken/Mindustry/pull/2770#discussion_r497521137", "bodyText": "Really, it just matters as how its implemented throughout the code, and, after checking, this is how its used a lot of the time, so I'll revert it. (its just a matter of style \ud83d\udc4d )", "author": "LeoDog896", "createdAt": "2020-09-30T13:45:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUxNzc1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUxODU5NQ==", "url": "https://github.com/Anuken/Mindustry/pull/2770#discussion_r497518595", "bodyText": "Never use SCREAMING_SNAKE_CASE, see the guidelines for why.", "author": "Anuken", "createdAt": "2020-09-30T13:41:36Z", "path": "core/src/mindustry/world/blocks/Autotiler.java", "diffHunk": "@@ -14,27 +14,53 @@\n //TODO documentation\n public interface Autotiler{\n \n-    //holds some static temporary variables, required due to some RoboVM bugs\n+    /**\n+     * Holds some static temporary variables, required due to some RoboVM bugs\n+     */\n     class AutotilerHolder{\n         static final int[] blendresult = new int[5];\n         static final BuildPlan[] directionals = new BuildPlan[4];\n     }\n \n-    /** slices a texture region:\n-     * mode == 0 -> no slice\n-     * mode == 1 -> bottom\n-     * mode == 2 -> top */\n-    default TextureRegion sliced(TextureRegion input, int mode){\n-        return mode == 0 ? input : mode == 1 ? botHalf(input) : topHalf(input);\n+    /**\n+     * The mode to slice a texture at.\n+     */\n+    enum SliceMode{\n+        NO_SLICE,", "originalCommit": "fbb317aa112f261f19c964e20d218253c2dc30d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUyMTI5Ng==", "url": "https://github.com/Anuken/Mindustry/pull/2770#discussion_r497521296", "bodyText": "Ok, ill fix that now", "author": "LeoDog896", "createdAt": "2020-09-30T13:45:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUxODU5NQ=="}], "type": "inlineReview"}, {"oid": "2b04ebb14d8f4de81dc35f0f72a7a80fb1022313", "url": "https://github.com/Anuken/Mindustry/commit/2b04ebb14d8f4de81dc35f0f72a7a80fb1022313", "message": "Enum follows camelCase rules", "committedDate": "2020-09-30T13:46:33Z", "type": "commit"}, {"oid": "6db2376835b5b6d6e1d36c7df71469a4b5ad2548", "url": "https://github.com/Anuken/Mindustry/commit/6db2376835b5b6d6e1d36c7df71469a4b5ad2548", "message": "Revert to if-statement", "committedDate": "2020-09-30T13:47:03Z", "type": "commit"}]}