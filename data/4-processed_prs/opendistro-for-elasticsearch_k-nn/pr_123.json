{"pr_number": 123, "pr_title": "Build separate artifacts for library using CPack", "pr_createdAt": "2020-05-20T05:55:51Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/123", "timeline": [{"oid": "4d0495b37d13b1ce0cbddbdd25e08828e50776f2", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/4d0495b37d13b1ce0cbddbdd25e08828e50776f2", "message": "refactored directory structure", "committedDate": "2020-05-14T22:30:46Z", "type": "commit"}, {"oid": "4b094d6f0ab762ff05e279c6b3114c2b3f2ad8ae", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/4b094d6f0ab762ff05e279c6b3114c2b3f2ad8ae", "message": "fixed install so only jni lib is installed", "committedDate": "2020-05-14T23:18:37Z", "type": "commit"}, {"oid": "c63c6f175cbcdb0a7b2995efec5a4eadae93463e", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/c63c6f175cbcdb0a7b2995efec5a4eadae93463e", "message": "made adjustments to cpack logic", "committedDate": "2020-05-18T20:52:46Z", "type": "commit"}, {"oid": "6e012967bbea7b02a4c33ddba6be2ee55172b3eb", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/6e012967bbea7b02a4c33ddba6be2ee55172b3eb", "message": "updated for building artifacts", "committedDate": "2020-05-19T22:59:32Z", "type": "commit"}, {"oid": "036886677e0c4622db205d30c452b419bd1a5a52", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/036886677e0c4622db205d30c452b419bd1a5a52", "message": "cleaned up cpack logic", "committedDate": "2020-05-20T04:52:36Z", "type": "commit"}, {"oid": "92e1e5a6817fb7a6405efdd500af019e7c055cbb", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/92e1e5a6817fb7a6405efdd500af019e7c055cbb", "message": "added information about building knnlib artifacts", "committedDate": "2020-05-20T04:53:12Z", "type": "commit"}, {"oid": "c4aded2dcf75dc452d3773708c253c8056a9df5a", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/c4aded2dcf75dc452d3773708c253c8056a9df5a", "message": "Merge branch 'master' of https://github.com/opendistro-for-elasticsearch/k-NN into lib-rpm", "committedDate": "2020-05-20T04:53:31Z", "type": "commit"}, {"oid": "4a804294a6fd8248e63cbb6881ae345f9bc4cd8f", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/4a804294a6fd8248e63cbb6881ae345f9bc4cd8f", "message": "added _CPack* to gitignore", "committedDate": "2020-05-20T16:22:30Z", "type": "commit"}, {"oid": "b4ff99e7cccfcfaec588ee7fdfef1ab745e21f6c", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/b4ff99e7cccfcfaec588ee7fdfef1ab745e21f6c", "message": "change naming of artifacts", "committedDate": "2020-05-20T21:23:09Z", "type": "commit"}, {"oid": "c1603f4ca96755f16c03e116c35b6c82c3f8a125", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/c1603f4ca96755f16c03e116c35b6c82c3f8a125", "message": "added packages to gitignore", "committedDate": "2020-05-21T19:24:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTA2NTAzMA==", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/123#discussion_r429065030", "bodyText": "Minor: Should we specify to just copy the library? Making sure nothing else is copied", "author": "vamshin", "createdAt": "2020-05-22T06:27:40Z", "path": "build.gradle", "diffHunk": "@@ -148,16 +148,23 @@ task buildJniLib(type:Exec) {\n     commandLine 'make'\n }\n \n-test {\n+task makeJniLib(type: Copy) {\n     dependsOn buildJniLib\n+    from \"$buildDir/jni/release\"\n+    include \"*\"", "originalCommit": "c1603f4ca96755f16c03e116c35b6c82c3f8a125", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM1MzU5OQ==", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/123#discussion_r429353599", "bodyText": "Because the library extension is dependent on Operating System, I used wildcard here. Because only the library is placed in jni/release in the current build process, I believe this operation is okay.", "author": "jmazanec15", "createdAt": "2020-05-22T16:51:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTA2NTAzMA=="}], "type": "inlineReview"}, {"oid": "3a7cc1d47d24ffbf1dccecd2474c610335873cd6", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/3a7cc1d47d24ffbf1dccecd2474c610335873cd6", "message": "Merge branch 'master' of https://github.com/opendistro-for-elasticsearch/k-NN into lib-rpm", "committedDate": "2020-05-22T23:52:12Z", "type": "commit"}]}