{"pr_number": 747, "pr_title": "Enhance Gateway logging", "pr_createdAt": "2020-07-15T18:45:38Z", "pr_url": "https://github.com/zowe/api-layer/pull/747", "timeline": [{"oid": "87ea62dc8a970f09c90fdf6440166ba9189af8e1", "url": "https://github.com/zowe/api-layer/commit/87ea62dc8a970f09c90fdf6440166ba9189af8e1", "message": "Determine which information is necessary to reconstructing affiliated request retries\n\nSigned-off-by: Timothy Gerstel <tgerstel@rocketsoftware.com>", "committedDate": "2020-06-16T07:47:53Z", "type": "commit"}, {"oid": "992810ee4b78714cff054ff8a823673810e039ac", "url": "https://github.com/zowe/api-layer/commit/992810ee4b78714cff054ff8a823673810e039ac", "message": "Merge branch 'master' of https://github.com/zowe/api-layer into gateway/retrylogging", "committedDate": "2020-06-16T07:48:43Z", "type": "commit"}, {"oid": "3093b793322b6fed77ae065f0d6d81c957107874", "url": "https://github.com/zowe/api-layer/commit/3093b793322b6fed77ae065f0d6d81c957107874", "message": "Merge branch 'master' of https://github.com/zowe/api-layer into gateway/retrylogging", "committedDate": "2020-07-14T14:30:40Z", "type": "commit"}, {"oid": "eb08cdfabd12e3de76d107838241bf480ba7442e", "url": "https://github.com/zowe/api-layer/commit/eb08cdfabd12e3de76d107838241bf480ba7442e", "message": "Ehance logs on parts where retry is occuring\n\nSigned-off-by: Timothy Gerstel <tgerstel@rocketsoftware.com>", "committedDate": "2020-07-15T18:43:14Z", "type": "commit"}, {"oid": "6cfce8edba039aac1f116a2e30f3ed90b711ded2", "url": "https://github.com/zowe/api-layer/commit/6cfce8edba039aac1f116a2e30f3ed90b711ded2", "message": "Remove unused var\n\nSigned-off-by: Timothy Gerstel <tgerstel@rocketsoftware.com>", "committedDate": "2020-07-15T20:10:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA0MDAzNg==", "url": "https://github.com/zowe/api-layer/pull/747#discussion_r460040036", "bodyText": "Hi Tim, when i try to run your PR, i do not see the messages you added in log. Can you see them? Is there another setup that needs to be done for this to start working?", "author": "jandadav", "createdAt": "2020-07-24T13:06:34Z", "path": "gateway-service/src/main/java/org/zowe/apiml/gateway/filters/post/DebugHeaderFilter.java", "diffHunk": "@@ -49,7 +49,9 @@ public boolean shouldFilter() {\n     @Override\n     public Object run() {\n         String debug = convertToPrettyPrintString(Debug.getRoutingDebug());\n-        log.debug(\"Filter Debug Info = \\n{}\", debug);\n+        String reqInfo = RequestContext.getCurrentContext().getFilterExecutionSummary().toString();\n+        log.debug(\"Filter Execution Summary: \" + reqInfo);\n+        log.debug(\"RoutingDebug: \" + debug);", "originalCommit": "6cfce8edba039aac1f116a2e30f3ed90b711ded2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg5NDgxOQ==", "url": "https://github.com/zowe/api-layer/pull/747#discussion_r460894819", "bodyText": "I am able to see this debug messages, perhaps it is due to the verbosity level I have set? I have set: \"spring.profiles.include=dev\" in my gateway config", "author": "timgerstel", "createdAt": "2020-07-27T13:37:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA0MDAzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUxNDM1OQ==", "url": "https://github.com/zowe/api-layer/pull/747#discussion_r461514359", "bodyText": "a user in Zowe would enable debug like this: https://docs.zowe.org/stable/troubleshoot/troubleshoot-apiml.html#enable-api-ml-debug-mode", "author": "jandadav", "createdAt": "2020-07-28T11:38:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA0MDAzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUxNDgzMQ==", "url": "https://github.com/zowe/api-layer/pull/747#discussion_r461514831", "bodyText": "which results in setting spring.profiles.include=debug.", "author": "jandadav", "createdAt": "2020-07-28T11:39:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA0MDAzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUzMTQyMQ==", "url": "https://github.com/zowe/api-layer/pull/747#discussion_r461531421", "bodyText": "I retested and i must have made an error. I see the logs now. I sincerely apologize.", "author": "jandadav", "createdAt": "2020-07-28T12:12:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA0MDAzNg=="}], "type": "inlineReview"}, {"oid": "309ce1adf1b89a0152cb9774ed2ad63f1e06d114", "url": "https://github.com/zowe/api-layer/commit/309ce1adf1b89a0152cb9774ed2ad63f1e06d114", "message": "Merge branch 'master' into gateway/retrylogging", "committedDate": "2020-07-28T12:13:30Z", "type": "commit"}]}