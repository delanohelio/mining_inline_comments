{"pr_number": 741, "pr_title": "Storing password into char arrays instead of String", "pr_createdAt": "2020-07-10T13:45:19Z", "pr_url": "https://github.com/zowe/api-layer/pull/741", "timeline": [{"oid": "f659f972c1b7a40b5cb07f093888ee0db2b9695b", "url": "https://github.com/zowe/api-layer/commit/f659f972c1b7a40b5cb07f093888ee0db2b9695b", "message": "storing password into char arrays instant of String - mitigate storage sensitive information in memory (Veracode suggestion)\n\nSigned-off-by: Pavel Jare\u0161 <pavel.jares@broadcom.com>", "committedDate": "2020-07-10T13:20:39Z", "type": "commit"}, {"oid": "b2a1bbb41e451ea6addb816d4dcd9a341752b496", "url": "https://github.com/zowe/api-layer/commit/b2a1bbb41e451ea6addb816d4dcd9a341752b496", "message": "Merge branch 'master' into protectors/veracodeStorePasswordInCharArray", "committedDate": "2020-07-10T14:36:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxMTYwMQ==", "url": "https://github.com/zowe/api-layer/pull/741#discussion_r453511601", "bodyText": "Isn't this defeating the purpose of this PR?", "author": "jandadav", "createdAt": "2020-07-13T09:18:59Z", "path": "apiml-common/src/main/java/org/zowe/apiml/product/web/HttpConfig.java", "diffHunk": "@@ -137,14 +137,14 @@ public void init() {\n     public SslContextFactory jettySslContextFactory() {\n         SslContextFactory sslContextFactory = new SslContextFactory(SecurityUtils.replaceFourSlashes(keyStore));\n         sslContextFactory.setProtocol(protocol);\n-        sslContextFactory.setKeyStorePassword(keyStorePassword);\n+        sslContextFactory.setKeyStorePassword(keyStorePassword == null ? null : String.valueOf(keyStorePassword));", "originalCommit": "b2a1bbb41e451ea6addb816d4dcd9a341752b496", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxMjEyMg==", "url": "https://github.com/zowe/api-layer/pull/741#discussion_r453512122", "bodyText": "Isn't this defeating the purpose of this PR?", "author": "jandadav", "createdAt": "2020-07-13T09:19:46Z", "path": "common-service-core/src/test/java/org/zowe/apiml/tomcat/TomcatServerFactory.java", "diffHunk": "@@ -79,12 +79,16 @@ private Connector createHttpsConnector(HttpsConfig httpsConfig) {\n         httpsConnector.setSecure(true);\n         httpsConnector.setScheme(\"https\");\n         httpsConnector.setAttribute(\"clientAuth\",\n-                Boolean.toString(httpsConfig.isClientAuth() && httpsConfig.isVerifySslCertificatesOfServices()));\n+            Boolean.toString(httpsConfig.isClientAuth() && httpsConfig.isVerifySslCertificatesOfServices()));\n         httpsConnector.setAttribute(\"keystoreFile\", httpsConfig.getKeyStore());\n-        httpsConnector.setAttribute(\"keystorePass\", httpsConfig.getKeyStorePassword());\n+        httpsConnector.setAttribute(\"keystorePass\",\n+            httpsConfig.getKeyStorePassword() == null ? null : String.valueOf(httpsConfig.getKeyStorePassword())", "originalCommit": "b2a1bbb41e451ea6addb816d4dcd9a341752b496", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxMjU5MA==", "url": "https://github.com/zowe/api-layer/pull/741#discussion_r453512590", "bodyText": "Isn't this defeating the purpose of this PR?", "author": "jandadav", "createdAt": "2020-07-13T09:20:30Z", "path": "common-service-core/src/main/java/org/zowe/apiml/security/HttpsFactory.java", "diffHunk": "@@ -241,11 +237,13 @@ private void setSystemProperty(String key, String value) {\n \n     public void setSystemSslProperties() {\n         setSystemProperty(\"javax.net.ssl.keyStore\", SecurityUtils.replaceFourSlashes(config.getKeyStore()));\n-        setSystemProperty(\"javax.net.ssl.keyStorePassword\", config.getKeyStorePassword());\n+        setSystemProperty(\"javax.net.ssl.keyStorePassword\",\n+            config.getKeyStorePassword() == null ? null : String.valueOf(config.getKeyStorePassword()));", "originalCommit": "b2a1bbb41e451ea6addb816d4dcd9a341752b496", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxODczMw==", "url": "https://github.com/zowe/api-layer/pull/741#discussion_r453518733", "bodyText": "Yes, this is problematic part of this issue, everywhere where is a password stored in String is problematic (including authorization header in server request, etc.).\nIt will be great from point of view security, remove this system property at all. But the purpose of this issue is just mitigated using String. My aim in this issue is a shared library to API SDK.", "author": "pj892031", "createdAt": "2020-07-13T09:30:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzUxMjU5MA=="}], "type": "inlineReview"}, {"oid": "e537f71d1652d71865bd8c3a22fd70b497d538d1", "url": "https://github.com/zowe/api-layer/commit/e537f71d1652d71865bd8c3a22fd70b497d538d1", "message": "Merge branch 'master' into protectors/veracodeStorePasswordInCharArray", "committedDate": "2020-07-14T07:37:30Z", "type": "commit"}]}