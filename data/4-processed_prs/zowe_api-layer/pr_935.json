{"pr_number": 935, "pr_title": "Zaas client enhancements", "pr_createdAt": "2020-11-19T22:27:35Z", "pr_url": "https://github.com/zowe/api-layer/pull/935", "timeline": [{"oid": "8946b2a37a3fa30beab49184ed0729492764a620", "url": "https://github.com/zowe/api-layer/commit/8946b2a37a3fa30beab49184ed0729492764a620", "message": "Move get jwt from request to apiml security common\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-18T20:54:57Z", "type": "commit"}, {"oid": "eb7ccf8dde79d584bec5c942b0719b745300d1be", "url": "https://github.com/zowe/api-layer/commit/eb7ccf8dde79d584bec5c942b0719b745300d1be", "message": "Add apiml security common dependency to zaas client\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-18T21:11:54Z", "type": "commit"}, {"oid": "22a71190326a3ef019f13dbc1efa93b55f97807a", "url": "https://github.com/zowe/api-layer/commit/22a71190326a3ef019f13dbc1efa93b55f97807a", "message": "Implement get jwt from request in query\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-18T22:08:47Z", "type": "commit"}, {"oid": "1e0d3a23933e241890f153667d8995b8d82f7746", "url": "https://github.com/zowe/api-layer/commit/1e0d3a23933e241890f153667d8995b8d82f7746", "message": "Add unit tests\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-19T16:32:56Z", "type": "commit"}, {"oid": "c432b1323f9741f199b461062b03d89b80bb632e", "url": "https://github.com/zowe/api-layer/commit/c432b1323f9741f199b461062b03d89b80bb632e", "message": "Merge branch 'master' of github.com:zowe/api-layer into carsoncook/gh897/zaasEnhancements", "committedDate": "2020-11-19T16:47:39Z", "type": "commit"}, {"oid": "57c9b0e7d26e79d09ed2c32b0bbcba4a1c7060f3", "url": "https://github.com/zowe/api-layer/commit/57c9b0e7d26e79d09ed2c32b0bbcba4a1c7060f3", "message": "Move TokenUtils to common service to avoid login filters\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-19T17:31:59Z", "type": "commit"}, {"oid": "205ca64925cbb9b579969bef3e19521c646c49fd", "url": "https://github.com/zowe/api-layer/commit/205ca64925cbb9b579969bef3e19521c646c49fd", "message": "Improve error responses\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-19T21:07:48Z", "type": "commit"}, {"oid": "94ed48a7952d35a7b37f5a9262dd53f5c45a5866", "url": "https://github.com/zowe/api-layer/commit/94ed48a7952d35a7b37f5a9262dd53f5c45a5866", "message": "Mock static function for zaas unit tests\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-19T22:08:40Z", "type": "commit"}, {"oid": "16007eb3c5b76cd5589adda0236ab17da34705dd", "url": "https://github.com/zowe/api-layer/commit/16007eb3c5b76cd5589adda0236ab17da34705dd", "message": "Improve error message for invalid token\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-19T22:11:54Z", "type": "commit"}, {"oid": "a546e0688a269c0125f9d1f33c0ddf9b97f738bd", "url": "https://github.com/zowe/api-layer/commit/a546e0688a269c0125f9d1f33c0ddf9b97f738bd", "message": "Add documentation:\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-19T22:19:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUxODMwMQ==", "url": "https://github.com/zowe/api-layer/pull/935#discussion_r527518301", "bodyText": "I am sorry that this is not written somewhere, but it's something relevant. A bit of history: We used to publish a library that was security-client-spring which offered shared spring security classes, and basically all of zaas client's functionality. It was dependend on other libraries from our project. The outcome was that it was not easy for consumers to include because 1) it dragged a lot of dependencies and 2) our use of component scan made it difficult to even build. And that's why zaas-client was created. To provide a simple client with minimal dependencies for extenders to consume without need to worry about depending on anything from api-layer. In the light of this fact, the inclusion of apiml-common goes against that principle. I totally get the desire to use shared code, but if we want to isolate this module, I think it's ok to accept some degree of code duplication.", "author": "jandadav", "createdAt": "2020-11-20T08:23:46Z", "path": "zaas-client/build.gradle", "diffHunk": "@@ -1,13 +1,18 @@\n dependencies {\n+    implementation project(':apiml-common')", "originalCommit": "235d5fecac2befafa8fab84199585519d5570391", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODkyNTY5Nw==", "url": "https://github.com/zowe/api-layer/pull/935#discussion_r528925697", "bodyText": "Makes sense, thanks for catching this. I removed the dependency in zaas-client and added the duplication of taking the token from the request.", "author": "CarsonCook", "createdAt": "2020-11-23T18:54:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUxODMwMQ=="}], "type": "inlineReview"}, {"oid": "c1a9a69094be52cfe2542e1a7ef3240fb5b61521", "url": "https://github.com/zowe/api-layer/commit/c1a9a69094be52cfe2542e1a7ef3240fb5b61521", "message": "Merge branch 'master' of github.com:zowe/api-layer into carsoncook/gh897/zaasEnhancements", "committedDate": "2020-11-23T13:18:44Z", "type": "commit"}, {"oid": "5cac5b03c9dec027e1263e8e893c592e25e09f78", "url": "https://github.com/zowe/api-layer/commit/5cac5b03c9dec027e1263e8e893c592e25e09f78", "message": "Fix code smells\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-23T13:34:55Z", "type": "commit"}, {"oid": "d8afb27ab81f9e2a3ab496a76a44c1150fad2e50", "url": "https://github.com/zowe/api-layer/commit/d8afb27ab81f9e2a3ab496a76a44c1150fad2e50", "message": "Remove zaas depedency on apiml-common\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-23T14:59:42Z", "type": "commit"}, {"oid": "43e5f3c32dc6b6d79d4868947b4d0b277489b8d2", "url": "https://github.com/zowe/api-layer/commit/43e5f3c32dc6b6d79d4868947b4d0b277489b8d2", "message": "Remove DC secure off flags\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-23T15:26:29Z", "type": "commit"}, {"oid": "43e5f3c32dc6b6d79d4868947b4d0b277489b8d2", "url": "https://github.com/zowe/api-layer/commit/43e5f3c32dc6b6d79d4868947b4d0b277489b8d2", "message": "Remove DC secure off flags\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-23T15:26:29Z", "type": "forcePushed"}, {"oid": "ddc1521b051fd8b22fa20c09a7668e16c95fcde7", "url": "https://github.com/zowe/api-layer/commit/ddc1521b051fd8b22fa20c09a7668e16c95fcde7", "message": "Fix code smell\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-23T16:21:07Z", "type": "commit"}, {"oid": "e8f747d6007ca6b2104195e9f536b18d9c6a710c", "url": "https://github.com/zowe/api-layer/commit/e8f747d6007ca6b2104195e9f536b18d9c6a710c", "message": "Remove problem dependency\n\nSigned-off-by: Carson Cook <carson.cook@ibm.com>", "committedDate": "2020-11-23T18:42:00Z", "type": "commit"}, {"oid": "d1d5ef53bcd40e6fcf96f5823ac7e8803a15289b", "url": "https://github.com/zowe/api-layer/commit/d1d5ef53bcd40e6fcf96f5823ac7e8803a15289b", "message": "Merge branch 'master' into carsoncook/gh897/zaasEnhancements", "committedDate": "2020-11-24T13:25:00Z", "type": "commit"}]}