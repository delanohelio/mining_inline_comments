{"pr_number": 2418, "pr_title": "Feature: added fst serialization", "pr_createdAt": "2020-03-17T15:15:03Z", "pr_url": "https://github.com/seata/seata/pull/2418", "timeline": [{"oid": "14f3162ae706b4a3267c5186c87509d411033ad1", "url": "https://github.com/seata/seata/commit/14f3162ae706b4a3267c5186c87509d411033ad1", "message": "added fst serialization", "committedDate": "2020-03-17T15:10:04Z", "type": "commit"}, {"oid": "41bcb22c62c617ecb46785b11d417855210de698", "url": "https://github.com/seata/seata/commit/41bcb22c62c617ecb46785b11d417855210de698", "message": "supplement", "committedDate": "2020-03-17T15:12:34Z", "type": "commit"}, {"oid": "026198bffbe82d39a144695299ec5da3335ab6a7", "url": "https://github.com/seata/seata/commit/026198bffbe82d39a144695299ec5da3335ab6a7", "message": "modify author", "committedDate": "2020-03-17T15:14:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgyNzU0OQ==", "url": "https://github.com/seata/seata/pull/2418#discussion_r393827549", "bodyText": "Kryo\uff1f", "author": "slievrly", "createdAt": "2020-03-17T16:55:15Z", "path": "serializer/seata-serializer-fst/src/test/java/io/seata/serializer/fst/KryoSerializerTest.java", "diffHunk": "@@ -0,0 +1,85 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.serializer.fst;\n+\n+import io.seata.core.exception.TransactionExceptionCode;\n+import io.seata.core.model.BranchStatus;\n+import io.seata.core.model.BranchType;\n+import io.seata.core.protocol.ResultCode;\n+import io.seata.core.protocol.transaction.BranchCommitRequest;\n+import io.seata.core.protocol.transaction.BranchCommitResponse;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+/**\n+ * @author funkye\n+ */\n+public class KryoSerializerTest {", "originalCommit": "026198bffbe82d39a144695299ec5da3335ab6a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDA1NjQxOA==", "url": "https://github.com/seata/seata/pull/2418#discussion_r394056418", "bodyText": "Kryo\uff1f\n\nalready edited", "author": "a364176773", "createdAt": "2020-03-18T01:18:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgyNzU0OQ=="}], "type": "inlineReview"}, {"oid": "9f206b623dfe6c1aaf3582ee40bd2dc5ffac296f", "url": "https://github.com/seata/seata/commit/9f206b623dfe6c1aaf3582ee40bd2dc5ffac296f", "message": "modify class name", "committedDate": "2020-03-18T01:06:57Z", "type": "commit"}, {"oid": "ace26a9a02f214d6218dffd5aad343224ff61fd7", "url": "https://github.com/seata/seata/commit/ace26a9a02f214d6218dffd5aad343224ff61fd7", "message": "load Serializer FST", "committedDate": "2020-03-18T03:55:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI4OTg3Mw==", "url": "https://github.com/seata/seata/pull/2418#discussion_r394289873", "bodyText": "default is compile\uff1f", "author": "slievrly", "createdAt": "2020-03-18T11:52:02Z", "path": "serializer/seata-serializer-fst/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~  Copyright 1999-2019 Seata.io Group.\n+  ~\n+  ~  Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~  you may not use this file except in compliance with the License.\n+  ~  You may obtain a copy of the License at\n+  ~\n+  ~       http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~  Unless required by applicable law or agreed to in writing, software\n+  ~  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~  See the License for the specific language governing permissions and\n+  ~  limitations under the License.\n+  -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>seata-serializer</artifactId>\n+        <groupId>io.seata</groupId>\n+        <version>${revision}</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>seata-serializer-fst</artifactId>\n+    <dependencies>\n+        <dependency>\n+            <groupId>de.ruedigermoeller</groupId>\n+            <artifactId>fst</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.seata</groupId>\n+            <artifactId>seata-core</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>", "originalCommit": "ace26a9a02f214d6218dffd5aad343224ff61fd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc0MDE5MA==", "url": "https://github.com/seata/seata/pull/2418#discussion_r394740190", "bodyText": "default is compile\uff1f\n\nhave deleted", "author": "a364176773", "createdAt": "2020-03-19T01:35:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI4OTg3Mw=="}], "type": "inlineReview"}, {"oid": "5524985c7e165f978b8b12f019cbb7c4793edb19", "url": "https://github.com/seata/seata/commit/5524985c7e165f978b8b12f019cbb7c4793edb19", "message": "Remove the default scope type", "committedDate": "2020-03-18T12:36:42Z", "type": "commit"}, {"oid": "712995aae0853c3bc096d6566d4f7fc36c507af9", "url": "https://github.com/seata/seata/commit/712995aae0853c3bc096d6566d4f7fc36c507af9", "message": "modify name", "committedDate": "2020-03-18T12:55:34Z", "type": "commit"}, {"oid": "8d35efda7002ebea30a4c20a5dac09f1464b1376", "url": "https://github.com/seata/seata/commit/8d35efda7002ebea30a4c20a5dac09f1464b1376", "message": "Merge branch 'develop' into serialize_fst", "committedDate": "2020-03-19T01:23:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDczNzUxMw==", "url": "https://github.com/seata/seata/pull/2418#discussion_r394737513", "bodyText": "Math.pow(2, 3) = 8", "author": "jsbxyyx", "createdAt": "2020-03-19T01:25:07Z", "path": "core/src/main/java/io/seata/core/serializer/SerializerType.java", "diffHunk": "@@ -42,6 +42,13 @@\n      * Math.pow(2, 2)\n      */\n     KRYO((byte)0x4),\n+\n+    /**\n+     * The fst.\n+     * <p>\n+     * Math.pow(2, 3)\n+     */\n+    FST((byte)0x6),", "originalCommit": "712995aae0853c3bc096d6566d4f7fc36c507af9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDczOTgzNQ==", "url": "https://github.com/seata/seata/pull/2418#discussion_r394739835", "bodyText": "Math.pow(2, 3) = 8\n\nalready edited PTAL", "author": "a364176773", "createdAt": "2020-03-19T01:34:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDczNzUxMw=="}], "type": "inlineReview"}, {"oid": "7105e766aef3888a5dba0fe66fe967b88b61fe38", "url": "https://github.com/seata/seata/commit/7105e766aef3888a5dba0fe66fe967b88b61fe38", "message": "modify SerializerType", "committedDate": "2020-03-19T01:33:42Z", "type": "commit"}, {"oid": "dbb0d1a988878a6430f3b85a280c9aab226c427f", "url": "https://github.com/seata/seata/commit/dbb0d1a988878a6430f3b85a280c9aab226c427f", "message": "Merge branch 'develop' into serialize_fst", "committedDate": "2020-03-20T01:27:03Z", "type": "commit"}, {"oid": "cd4a7670af24bd909a58a6ed5435a46f7974d0ac", "url": "https://github.com/seata/seata/commit/cd4a7670af24bd909a58a6ed5435a46f7974d0ac", "message": "Merge branch 'develop' into serialize_fst", "committedDate": "2020-03-20T13:32:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0NzE5MA==", "url": "https://github.com/seata/seata/pull/2418#discussion_r395647190", "bodyText": "static ? need register class?", "author": "jsbxyyx", "createdAt": "2020-03-20T13:48:02Z", "path": "serializer/seata-serializer-fst/src/main/java/io.seata.serializer.fst/FstSerializer.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.serializer.fst;\n+\n+import org.nustaq.serialization.FSTConfiguration;\n+\n+import io.seata.common.loader.LoadLevel;\n+import io.seata.core.serializer.Serializer;\n+\n+/**\n+ * @author funkye\n+ */\n+@LoadLevel(name = \"FST\")\n+public class FstSerializer implements Serializer {\n+\n+    private final FSTConfiguration conf = FSTConfiguration.createDefaultConfiguration();", "originalCommit": "cd4a7670af24bd909a58a6ed5435a46f7974d0ac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}