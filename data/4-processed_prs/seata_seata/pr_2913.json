{"pr_number": 2913, "pr_title": "feature: The data source proxy mode can be selected as AT or XA", "pr_createdAt": "2020-07-21T10:06:08Z", "pr_url": "https://github.com/seata/seata/pull/2913", "timeline": [{"oid": "7104333b1d4fce42738a8b73d6df01b8b98bb148", "url": "https://github.com/seata/seata/commit/7104333b1d4fce42738a8b73d6df01b8b98bb148", "message": "feature: The data source proxy mode can be selected as AT or XA", "committedDate": "2020-07-21T07:48:42Z", "type": "commit"}, {"oid": "59d422019ecf6b1028b1b2220c688e7d412b9729", "url": "https://github.com/seata/seata/commit/59d422019ecf6b1028b1b2220c688e7d412b9729", "message": "RootContext.getBranchType()\u65b9\u6cd5\u5728\u542f\u7528XA\u6a21\u5f0f\u65f6\uff0c\u9ed8\u8ba4\u83b7\u53d6\u5230\u7684\u662fXA\u3002", "committedDate": "2020-07-21T09:45:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2NzI3MA==", "url": "https://github.com/seata/seata/pull/2913#discussion_r458067270", "bodyText": "dataSourceProxyMode set to constant and add default values", "author": "a364176773", "createdAt": "2020-07-21T12:45:45Z", "path": "core/src/main/java/io/seata/core/context/RootContext.java", "diffHunk": "@@ -37,6 +38,8 @@ private RootContext() {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(RootContext.class);\n \n+    private static final String DATA_SOURCE_PROXY_MODE = ConfigurationFactory.getInstance().getConfig(\"dataSourceProxyMode\");", "originalCommit": "59d422019ecf6b1028b1b2220c688e7d412b9729", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE2NTE5MA==", "url": "https://github.com/seata/seata/pull/2913#discussion_r458165190", "bodyText": "done", "author": "wangliang181230", "createdAt": "2020-07-21T14:59:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2NzI3MA=="}], "type": "inlineReview"}, {"oid": "6e904a47589beaa0b05f91581210b99706ddc5b9", "url": "https://github.com/seata/seata/commit/6e904a47589beaa0b05f91581210b99706ddc5b9", "message": "\u914d\u7f6e\u53ca\u914d\u7f6e\u9ed8\u8ba4\u503c\uff0c\u4f7f\u7528\u5e38\u91cf\u3002", "committedDate": "2020-07-21T13:49:47Z", "type": "commit"}, {"oid": "9435e7a6931e127140e98528eba3c602c3996a2e", "url": "https://github.com/seata/seata/commit/9435e7a6931e127140e98528eba3c602c3996a2e", "message": "springboot\u9879\u76ee\u4e2d\uff0c\u6dfb\u52a0`seata.dataSourceProxyMode`\u914d\u7f6e\u7684\u63cf\u8ff0\u53ca\u53ef\u9009\u503c\u63d0\u793a\u3002", "committedDate": "2020-07-21T15:12:28Z", "type": "commit"}, {"oid": "4a9c4ddb482bdd2e1ba2c9e39c93dd6c8de45bca", "url": "https://github.com/seata/seata/commit/4a9c4ddb482bdd2e1ba2c9e39c93dd6c8de45bca", "message": "\u987a\u4fbf\u4fee\u590d\u4e00\u4e2a\u5c0fBUG\u3002", "committedDate": "2020-07-21T15:14:15Z", "type": "commit"}, {"oid": "dc0d082509f49f30966268f551e40cde632c8992", "url": "https://github.com/seata/seata/commit/dc0d082509f49f30966268f551e40cde632c8992", "message": "Revert \"\u987a\u4fbf\u4fee\u590d\u4e00\u4e2a\u5c0fBUG\u3002\"\n\nThis reverts commit 4a9c4ddb", "committedDate": "2020-07-21T15:44:07Z", "type": "commit"}, {"oid": "eb418f1d857e2a47c0d997c96f7b33f9d6d6a4c1", "url": "https://github.com/seata/seata/commit/eb418f1d857e2a47c0d997c96f7b33f9d6d6a4c1", "message": "Merge branch 'develop' into feature-XA-AT-switch", "committedDate": "2020-07-22T02:23:26Z", "type": "commit"}, {"oid": "75e882a80b0515214efcc19ba843095861af012d", "url": "https://github.com/seata/seata/commit/75e882a80b0515214efcc19ba843095861af012d", "message": "Merge branch 'develop' into feature-XA-AT-switch", "committedDate": "2020-07-22T10:01:40Z", "type": "commit"}, {"oid": "467b60a96b906b58c5d2f74fd31aa93c05a2c247", "url": "https://github.com/seata/seata/commit/467b60a96b906b58c5d2f74fd31aa93c05a2c247", "message": "Merge branch 'develop' into feature-XA-AT-switch", "committedDate": "2020-07-22T10:11:31Z", "type": "commit"}, {"oid": "39f2c0087c7c93e0d1551389e490277055c2fe55", "url": "https://github.com/seata/seata/commit/39f2c0087c7c93e0d1551389e490277055c2fe55", "message": "Merge branch 'develop' into feature-XA-AT-switch", "committedDate": "2020-07-23T01:45:00Z", "type": "commit"}, {"oid": "35fc190511dc24f5c75eab192fc74bfb5450aa01", "url": "https://github.com/seata/seata/commit/35fc190511dc24f5c75eab192fc74bfb5450aa01", "message": "Merge branch 'develop' into feature-XA-AT-switch", "committedDate": "2020-07-24T06:44:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4NzY2Mw==", "url": "https://github.com/seata/seata/pull/2913#discussion_r460587663", "bodyText": "\u662f\u5426\u53ef\u4ee5\u4e0d\u589e\u52a0\u914d\u7f6e\uff1f\u6bd4\u5982\uff0c\u76f4\u63a5\u53bb\u8bc6\u522b\u5f53\u524d\u914d\u7f6e\u7684\u4e8b\u52a1\u6a21\u5f0f\uff08AT\u3001TCC\u3001Saga\u3001XA\uff09\u6765\u8d77\u5230\u8fd9\u4e2a\u65b0\u589e\u914d\u7f6e\u7684\u4f5c\u7528\uff1f\u6bd5\u7adf\u914d\u7f6e\u8d8a\u591a\uff0c\u7ed9\u7528\u6237\u7684\u8ba4\u77e5\u8d1f\u62c5\u4e5f\u8d8a\u91cd\u3002", "author": "sharajava", "createdAt": "2020-07-26T23:36:33Z", "path": "script/client/spring/application.yml", "diffHunk": "@@ -3,6 +3,7 @@ seata:\n   application-id: applicationName\n   tx-service-group: my_test_tx_group\n   enable-auto-data-source-proxy: true\n+  data-source-proxy-mode: AT", "originalCommit": "35fc190511dc24f5c75eab192fc74bfb5450aa01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4OTQzOA==", "url": "https://github.com/seata/seata/pull/2913#discussion_r460589438", "bodyText": "\u5168\u5c40\u4e8b\u52a1\u53d1\u8d77\u65b9\u81f3\u5c11\u8981\u914d\u7f6e\u4e00\u4e2a\u5427\uff0c\u540e\u9762\u7684\u5fae\u670d\u52a1\u53ef\u4ee5\u6839\u636e\u524d\u9762\u7684\u4ee3\u7406\u6a21\u5f0f\u4f7f\u7528\u76f8\u540c\u7684\u4ee3\u7406\u6a21\u5f0f\u3002", "author": "wangliang181230", "createdAt": "2020-07-26T23:53:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4NzY2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4OTU1Nw==", "url": "https://github.com/seata/seata/pull/2913#discussion_r460589557", "bodyText": "\u6bd5\u7adfAT\u548cXA\u90fd\u662f\u6570\u636e\u6e90\u4ee3\u7406\uff0c\u53d1\u8d77\u65b9\u65e0\u6cd5\u4ece\u4e0a\u4e0b\u6587\u5224\u65ad\u4f7f\u7528\u54ea\u79cd\u7c7b\u578b\u3002", "author": "wangliang181230", "createdAt": "2020-07-26T23:54:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4NzY2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYwNDExMw==", "url": "https://github.com/seata/seata/pull/2913#discussion_r460604113", "bodyText": "\u4e0d\u8fc7\uff0c\u5fae\u670d\u52a1\u63d0\u4f9b\u7aef\u4e0eTM\u7aef\u7684\u4ee3\u7406\u6a21\u5f0f\u4e00\u81f4\uff0c\u4e5f\u5b58\u5728\u95ee\u9898\uff0c\u63d0\u4f9b\u7aef\u7684\u6570\u636e\u6e90\u53ef\u80fd\u5e76\u4e0d\u652f\u6301XA\u534f\u8bae\u3002", "author": "wangliang181230", "createdAt": "2020-07-27T01:31:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4NzY2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYxNzA4MQ==", "url": "https://github.com/seata/seata/pull/2913#discussion_r460617081", "bodyText": "\u7ecf\u8ba8\u8bba\uff0c\u76ee\u524d\u7701\u7565\u8be5\u914d\u7f6e\u8fd8\u9700\u8981\u91cd\u6784\u6bd4\u8f83\u591a\u7684\u4ee3\u7801\uff0c\u8fd9\u4e2a\u5c06\u5728\u540e\u9762\u4ee5\u3010\u7b80\u5316\u914d\u7f6e\u3011\u4e3a\u4e3b\u9898\u53bb\u8003\u8651\u53ca\u4f18\u5316\u3002\n\u53e6\u5916\uff0c\u5173\u4e8eTM\u7aef\u7684\u4ee3\u7406\u6a21\u5f0f\u662f\u5426\u9700\u8981\u4f20\u9012\u5230\u4e0b\u4e00\u7ea7\u5fae\u670d\u52a1\u63d0\u4f9b\u65b9\u7684\u529f\u80fd\uff0c\u4e5f\u5f85\u8ba8\u8bba\uff0c\u5982\u6709\u9700\u8981\u540e\u7eed\u518d\u63d0PR\u8fdb\u884c\u4f18\u5316\u3002\n\u5f53\u524dPR\u4ec5\u63d0\u4f9b\u53ef\u914d\u7f6e\u9009\u62e9XA\u4ee3\u7406\u7684\u529f\u80fd\u3002", "author": "wangliang181230", "createdAt": "2020-07-27T02:35:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4NzY2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYxOTE1OQ==", "url": "https://github.com/seata/seata/pull/2913#discussion_r460619159", "bodyText": "it's ok to me.", "author": "sharajava", "createdAt": "2020-07-27T02:45:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU4NzY2Mw=="}], "type": "inlineReview"}, {"oid": "fe5e2be26449374ed1430a04921034e224ae2766", "url": "https://github.com/seata/seata/commit/fe5e2be26449374ed1430a04921034e224ae2766", "message": "Merge branch 'develop' into feature-XA-AT-switch", "committedDate": "2020-07-28T14:39:17Z", "type": "commit"}]}