{"pr_number": 2543, "pr_title": "bugfix: ApplicationKeeper ShutdownHook signal invalid.", "pr_createdAt": "2020-04-13T03:34:15Z", "pr_url": "https://github.com/seata/seata/pull/2543", "timeline": [{"oid": "7251f1b4551181e6341471cfcbd1e4dd1d48d239", "url": "https://github.com/seata/seata/commit/7251f1b4551181e6341471cfcbd1e4dd1d48d239", "message": "bugfix:#2542 \n\nchange method keep use Condition.await", "committedDate": "2020-04-13T03:29:13Z", "type": "commit"}, {"oid": "3474e92cfe6b96cbd007691f20192199aa5c5087", "url": "https://github.com/seata/seata/commit/3474e92cfe6b96cbd007691f20192199aa5c5087", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-13T12:03:04Z", "type": "commit"}, {"oid": "f11a19d9e6fa35d6d63a4c20c6ac34b9b9398313", "url": "https://github.com/seata/seata/commit/f11a19d9e6fa35d6d63a4c20c6ac34b9b9398313", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-14T02:08:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg0ODQ5Mg==", "url": "https://github.com/seata/seata/pull/2543#discussion_r407848492", "bodyText": "use log print out.", "author": "slievrly", "createdAt": "2020-04-14T03:43:33Z", "path": "test/src/test/java/io/seata/common/ApplicationKeeper.java", "diffHunk": "@@ -68,13 +68,14 @@ public void run() {\n      * Keep.\n      */\n     public void keep() {\n-        synchronized (LOCK) {\n-            try {\n-                LOGGER.info(\"Application is keep running ... \");\n-                LOCK.wait();\n-            } catch (InterruptedException e) {\n-                LOGGER.error(\"interrupted error\", e);\n-            }\n+        LOCK.lock();\n+        try {\n+            LOGGER.info(\"Application is keep running ... \");\n+            STOP.await();\n+        } catch (InterruptedException e) {\n+            e.printStackTrace();", "originalCommit": "f11a19d9e6fa35d6d63a4c20c6ac34b9b9398313", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "33fa1fb26a5e7100522279b035b84bd966aa3a4b", "url": "https://github.com/seata/seata/commit/33fa1fb26a5e7100522279b035b84bd966aa3a4b", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-14T08:36:08Z", "type": "commit"}, {"oid": "c6d1896f57aacb704952a5bc91cbdb8bc0397994", "url": "https://github.com/seata/seata/commit/c6d1896f57aacb704952a5bc91cbdb8bc0397994", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-16T01:13:31Z", "type": "commit"}, {"oid": "9ea451a5b4b656f2e07a9f74dcb5fae2629843cc", "url": "https://github.com/seata/seata/commit/9ea451a5b4b656f2e07a9f74dcb5fae2629843cc", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-16T11:47:57Z", "type": "commit"}, {"oid": "c2a8078621aaf977af20f9d06768832d1d01e253", "url": "https://github.com/seata/seata/commit/c2a8078621aaf977af20f9d06768832d1d01e253", "message": "Use logger  to log exception\n\nUse logger  to log exception", "committedDate": "2020-04-17T06:28:14Z", "type": "commit"}, {"oid": "1e346f6c8057f13430a7469366a87f3c17a05c3d", "url": "https://github.com/seata/seata/commit/1e346f6c8057f13430a7469366a87f3c17a05c3d", "message": "update log msg\n\nupdate log msg", "committedDate": "2020-04-17T06:30:50Z", "type": "commit"}, {"oid": "1ccd607d232e563ac78ed098ae0fe24b6bbefd0f", "url": "https://github.com/seata/seata/commit/1ccd607d232e563ac78ed098ae0fe24b6bbefd0f", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-17T06:31:43Z", "type": "commit"}, {"oid": "567085119ecbe07632e1286a581601d21e9fba04", "url": "https://github.com/seata/seata/commit/567085119ecbe07632e1286a581601d21e9fba04", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-17T07:41:42Z", "type": "commit"}, {"oid": "e3f35dc75b0b0098a8ad7bb941f3eb7fd0b77fb2", "url": "https://github.com/seata/seata/commit/e3f35dc75b0b0098a8ad7bb941f3eb7fd0b77fb2", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-22T01:50:36Z", "type": "commit"}, {"oid": "4824b7590b1154e4698ad9ccfa8d888d156fba2a", "url": "https://github.com/seata/seata/commit/4824b7590b1154e4698ad9ccfa8d888d156fba2a", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-22T06:11:37Z", "type": "commit"}, {"oid": "b3746475c8974e2e96ab7733967d5877b13bdec9", "url": "https://github.com/seata/seata/commit/b3746475c8974e2e96ab7733967d5877b13bdec9", "message": "Merge branch 'develop' into develop", "committedDate": "2020-04-23T01:31:35Z", "type": "commit"}]}