{"pr_number": 3411, "pr_title": "feature: add config support for seata server thread pool", "pr_createdAt": "2020-12-25T07:30:25Z", "pr_url": "https://github.com/seata/seata/pull/3411", "timeline": [{"oid": "f7d060ffdfdca99ef828f0afb39d06a3fae35a47", "url": "https://github.com/seata/seata/commit/f7d060ffdfdca99ef828f0afb39d06a3fae35a47", "message": "feature: add config support for thread pool", "committedDate": "2020-12-25T06:44:41Z", "type": "commit"}, {"oid": "1f2496f2e34bd403db56e91f8d0a975f280e8aa4", "url": "https://github.com/seata/seata/commit/1f2496f2e34bd403db56e91f8d0a975f280e8aa4", "message": "feature: add config support for seata server thread pool", "committedDate": "2020-12-25T07:10:58Z", "type": "commit"}, {"oid": "58a60a125ee3326c5bee65d8b2072e8efe04568a", "url": "https://github.com/seata/seata/commit/58a60a125ee3326c5bee65d8b2072e8efe04568a", "message": "feature: add config support for seata server thread pool", "committedDate": "2020-12-25T07:50:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MzEyMQ==", "url": "https://github.com/seata/seata/pull/3411#discussion_r549063121", "bodyText": "move to line 13\uff1f", "author": "slievrly", "createdAt": "2020-12-27T04:23:03Z", "path": "server/src/main/resources/file.conf", "diffHunk": "@@ -1,4 +1,15 @@\n ## transaction log store, only used in seata-server", "originalCommit": "58a60a125ee3326c5bee65d8b2072e8efe04568a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI3MDMwMA==", "url": "https://github.com/seata/seata/pull/3411#discussion_r549270300", "bodyText": "As these parameters are for server thread pool instead of store, so we'd better put them out of the store section.\n\u8fd9\u4e9b\u53c2\u6570\u662f\u8bbe\u7f6e\u7ebf\u7a0b\u6c60\u7684\uff0c\u6700\u597d\u8fd8\u662f\u653e\u5230server\u7684\u6bb5\u843d\uff0c\u6216\u8005\u5220\u9664\u8fd9\u4e00\u6bb5\uff0c\u91c7\u7528\u9ed8\u8ba4\u8bbe\u7f6e\u4e5f\u662f\u53ef\u4ee5\u7684\u3002", "author": "lvxianzheng", "createdAt": "2020-12-28T09:03:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MzEyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk2NjIxMA==", "url": "https://github.com/seata/seata/pull/3411#discussion_r549966210", "bodyText": "I have some question about this pr.\n1.The configuration ofNetty we already had the prefix name \"transport.xxx.xxx\", how about change to transport.xxx.xxx instead of server.xxx.xxx\n2.How about move this configuration in the NettyServerConfig.java ?\n3.We do not show the configuration of Netty in file.conf. How about remove it and add to\nfile.conf.example\nscript/server/file.conf\nscript/server/file.properties\nscript/server/file.yml", "author": "l81893521", "createdAt": "2020-12-30T07:02:27Z", "path": "server/src/main/resources/file.conf", "diffHunk": "@@ -1,4 +1,15 @@\n ## transaction log store, only used in seata-server\n+server {", "originalCommit": "58a60a125ee3326c5bee65d8b2072e8efe04568a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk3MDY3MQ==", "url": "https://github.com/seata/seata/pull/3411#discussion_r549970671", "bodyText": "+1", "author": "a364176773", "createdAt": "2020-12-30T07:08:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk2NjIxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk3OTE0MA==", "url": "https://github.com/seata/seata/pull/3411#discussion_r549979140", "bodyText": "1 and 2:\nI think the thread pool configurations are related to the server itself instead of transport.\nSo the server.xxx.xxx is more better than transport.\nIf the configuration is set for client and server communication, it is better using transport.xxx.xxx\n\nIn fact, I can remove the default value in file.conf.\nI put the default value into the file.conf, because it is the responsibility to reminder we can change the value for performance problems.", "author": "lvxianzheng", "createdAt": "2020-12-30T07:20:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk2NjIxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MjU4NA==", "url": "https://github.com/seata/seata/pull/3411#discussion_r550372584", "bodyText": "Thanks for you replay. For now we already put the config of client in the NettyServerConfig and the server in the NettyServerConfig, and they begin with 'transport.xxx.xxx'. How do you think move the config of server to the NettyServerConfig and let it begin with 'transport.xxx.xxx'. May be you are right and I hope can keep in touch with after this. But for now I think the consistency is more important than the correctness.", "author": "l81893521", "createdAt": "2020-12-31T01:34:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk2NjIxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQzMjc0OA==", "url": "https://github.com/seata/seata/pull/3411#discussion_r550432748", "bodyText": "Now I put the configure into NettyServerConfig and change the name from server.xxx.xxx to transport.xxx.xxx", "author": "lvxianzheng", "createdAt": "2020-12-31T08:55:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTk2NjIxMA=="}], "type": "inlineReview"}, {"oid": "824d8e7663578cb0a576530d907f376d81b442f3", "url": "https://github.com/seata/seata/commit/824d8e7663578cb0a576530d907f376d81b442f3", "message": "feature: add config support for seata server thread pool", "committedDate": "2020-12-31T01:58:10Z", "type": "commit"}, {"oid": "0fbadc6360ba825ee4e03f6765c803e52b1f21eb", "url": "https://github.com/seata/seata/commit/0fbadc6360ba825ee4e03f6765c803e52b1f21eb", "message": "feature: add config support for seata server thread pool", "committedDate": "2020-12-31T08:50:03Z", "type": "commit"}, {"oid": "5de3153b85f305a2646a6a8b3ec35acf9a75aca9", "url": "https://github.com/seata/seata/commit/5de3153b85f305a2646a6a8b3ec35acf9a75aca9", "message": "Merge branch 'develop' into develop", "committedDate": "2020-12-31T11:38:38Z", "type": "commit"}]}