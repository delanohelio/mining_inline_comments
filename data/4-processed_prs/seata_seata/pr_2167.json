{"pr_number": 2167, "pr_title": "bugfix: saga concurrent asynchronous execution with duplicate primary key xid. ", "pr_createdAt": "2020-01-10T10:36:12Z", "pr_url": "https://github.com/seata/seata/pull/2167", "timeline": [{"oid": "e8624dc1b692c383f8a044e78288aae68ca460c8", "url": "https://github.com/seata/seata/commit/e8624dc1b692c383f8a044e78288aae68ca460c8", "message": "bugfix: saga concurrent asynchronous execution with duplicate primary key xid. #2165", "committedDate": "2020-01-10T10:34:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUwNDMwNw==", "url": "https://github.com/seata/seata/pull/2167#discussion_r365504307", "bodyText": "Please clean up after thread execution", "author": "zjinlei", "createdAt": "2020-01-11T06:44:23Z", "path": "saga/seata-saga-tm/src/main/java/io/seata/saga/tm/DefaultSagaTransactionalTemplate.java", "diffHunk": "@@ -84,6 +85,7 @@ public void rollbackTransaction(GlobalTransaction tx, Throwable ex)\n \n     @Override\n     public GlobalTransaction beginTransaction(TransactionInfo txInfo) throws TransactionalExecutor.ExecutionException {\n+        RootContext.unbind();", "originalCommit": "e8624dc1b692c383f8a044e78288aae68ca460c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4221f5bd4833b112a75253f406a11a7e7f95a137", "url": "https://github.com/seata/seata/commit/4221f5bd4833b112a75253f406a11a7e7f95a137", "message": "Merge remote-tracking branch 'upstream/develop' into fix_saga_duplicate_primary_key_xid", "committedDate": "2020-01-13T03:30:27Z", "type": "commit"}, {"oid": "fb61109d2aa0ac549f7a0a002a376fd911a38f3b", "url": "https://github.com/seata/seata/commit/fb61109d2aa0ac549f7a0a002a376fd911a38f3b", "message": "bugfix: saga concurrent asynchronous execution with duplicate primary key xid. #2165", "committedDate": "2020-01-13T10:03:23Z", "type": "commit"}, {"oid": "9241100d8abb4a5ef9e9da17ff5d33cc7dcdedcf", "url": "https://github.com/seata/seata/commit/9241100d8abb4a5ef9e9da17ff5d33cc7dcdedcf", "message": "fix unit test of testCompensationStateMachineAsyncConcurrently", "committedDate": "2020-01-13T11:31:20Z", "type": "commit"}, {"oid": "e5aae1ec07b8246e8d8e73b934d691cc826213cc", "url": "https://github.com/seata/seata/commit/e5aae1ec07b8246e8d8e73b934d691cc826213cc", "message": "fix unit test of concurrent execution", "committedDate": "2020-01-13T11:39:21Z", "type": "commit"}, {"oid": "ccd2b18d8fd29a2de17c731ac1252b2cd4801ba1", "url": "https://github.com/seata/seata/commit/ccd2b18d8fd29a2de17c731ac1252b2cd4801ba1", "message": "fix unit test of concurrent execution", "committedDate": "2020-01-13T11:42:52Z", "type": "commit"}, {"oid": "20d91fd1c338b0e9fc9a7b4d513b2ba974dc9c1b", "url": "https://github.com/seata/seata/commit/20d91fd1c338b0e9fc9a7b4d513b2ba974dc9c1b", "message": "Merge branch 'develop' into fix_saga_duplicate_primary_key_xid", "committedDate": "2020-01-13T15:15:18Z", "type": "commit"}, {"oid": "81d2d08f10dc01547b05ae529311b10497c91543", "url": "https://github.com/seata/seata/commit/81d2d08f10dc01547b05ae529311b10497c91543", "message": "Merge branch 'develop' into fix_saga_duplicate_primary_key_xid", "committedDate": "2020-01-15T03:17:25Z", "type": "commit"}, {"oid": "19bdf5bb9ccd31aa6f08377d7aafd5189c55bd70", "url": "https://github.com/seata/seata/commit/19bdf5bb9ccd31aa6f08377d7aafd5189c55bd70", "message": "Merge branch 'develop' into fix_saga_duplicate_primary_key_xid", "committedDate": "2020-01-16T11:33:06Z", "type": "commit"}]}