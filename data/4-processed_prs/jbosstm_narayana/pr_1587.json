{"pr_number": 1587, "pr_title": "Get 4.17 branch working", "pr_createdAt": "2020-04-03T14:33:06Z", "pr_url": "https://github.com/jbosstm/narayana/pull/1587", "timeline": [{"oid": "eb76e81a73b0a41849796ce255dbeae8eb3aa683", "url": "https://github.com/jbosstm/narayana/commit/eb76e81a73b0a41849796ce255dbeae8eb3aa683", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server", "committedDate": "2020-04-03T16:08:42Z", "type": "forcePushed"}, {"oid": "3402115b96a15520e70543d064dfb5d7c910913f", "url": "https://github.com/jbosstm/narayana/commit/3402115b96a15520e70543d064dfb5d7c910913f", "message": "Fix javadoc errors when compiling with JDK 1.8", "committedDate": "2020-04-07T11:33:56Z", "type": "commit"}, {"oid": "50443fabc4bb7cf0092230a7e9e1b3e814d6d816", "url": "https://github.com/jbosstm/narayana/commit/50443fabc4bb7cf0092230a7e9e1b3e814d6d816", "message": "4.17 use -Dhttps.protocols=TLSv1.2", "committedDate": "2020-04-07T13:41:53Z", "type": "commit"}, {"oid": "dbe988b50bcac96ed9a09fd5dde5f405a674e709", "url": "https://github.com/jbosstm/narayana/commit/dbe988b50bcac96ed9a09fd5dde5f405a674e709", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server", "committedDate": "2020-04-14T12:57:36Z", "type": "forcePushed"}, {"oid": "abc82f43926b892ab2501ddccdbc4d3816f9cbf1", "url": "https://github.com/jbosstm/narayana/commit/abc82f43926b892ab2501ddccdbc4d3816f9cbf1", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server", "committedDate": "2020-04-14T12:59:19Z", "type": "forcePushed"}, {"oid": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "url": "https://github.com/jbosstm/narayana/commit/4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server", "committedDate": "2020-04-14T13:43:20Z", "type": "commit"}, {"oid": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "url": "https://github.com/jbosstm/narayana/commit/4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server", "committedDate": "2020-04-14T13:43:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NjIxNA==", "url": "https://github.com/jbosstm/narayana/pull/1587#discussion_r408156214", "bodyText": "I forgot to delete this line.", "author": "mmusgrov", "createdAt": "2020-04-14T13:56:31Z", "path": "scripts/hudson/narayana.sh", "diffHunk": "@@ -316,6 +316,17 @@ function qa_tests {\n   [ $ok1 = 0 -a $ok2 = 0 ] || fatal \"some qa tests failed\"\n }\n \n+# when building on JDK 7 we get the error\n+#   \"Sonatype no longer supports TLSv1.1 and below (effective, June 18th, 2018).\n+# There are two fixes: upgrade the JDK or use -Dhttps.protocols=TLSv1.2 when starting java\n+JAVA_VER=$(java -version 2>&1 | sed -n ';s/.* version \"\\(.*\\)\\.\\(.*\\)\\..*\"/\\1\\2/p;')\n+if [ \"$JAVA_VER\" -lt 18 ]; then\n+  echo \"JDK version < 18 - setting -Dhttps.protocols=TLSv1.2\"\n+  AS_XARGS=\"-Dhttps.protocols=TLSv1.2\"\n+else\n+  AS_XARGS=\"-Dhttps.protocols=TLSv1.2\"", "originalCommit": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE2MzIwMw==", "url": "https://github.com/jbosstm/narayana/pull/1587#discussion_r408163203", "bodyText": "Thanks Mike, I have pushed a change to remove the else clause and the line", "author": "tomjenkinson", "createdAt": "2020-04-14T14:05:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NjIxNA=="}], "type": "inlineReview"}, {"oid": "600c0bada125eba58ea678de99c9b7486d14b204", "url": "https://github.com/jbosstm/narayana/commit/600c0bada125eba58ea678de99c9b7486d14b204", "message": "Do not set https.protocol for JDK version 18 or later", "committedDate": "2020-04-14T14:04:35Z", "type": "commit"}, {"oid": "71abb1cdff9360d53a0638ea7d09bf6f332f4d8c", "url": "https://github.com/jbosstm/narayana/commit/71abb1cdff9360d53a0638ea7d09bf6f332f4d8c", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build", "committedDate": "2020-04-14T16:01:12Z", "type": "forcePushed"}, {"oid": "7130b1908f0c00b52fadea8559bb4c19a6dd1882", "url": "https://github.com/jbosstm/narayana/commit/7130b1908f0c00b52fadea8559bb4c19a6dd1882", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build", "committedDate": "2020-04-15T08:12:37Z", "type": "forcePushed"}, {"oid": "02467301b7541b91d0cd7c092e4cc502ddebc341", "url": "https://github.com/jbosstm/narayana/commit/02467301b7541b91d0cd7c092e4cc502ddebc341", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build", "committedDate": "2020-04-15T09:26:17Z", "type": "forcePushed"}, {"oid": "afb8939f38ac38289af4a507bdd9b8bef79d96d8", "url": "https://github.com/jbosstm/narayana/commit/afb8939f38ac38289af4a507bdd9b8bef79d96d8", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build", "committedDate": "2020-04-15T09:41:18Z", "type": "forcePushed"}, {"oid": "7d9497ef91af715a434fb7d598a359ef8e120498", "url": "https://github.com/jbosstm/narayana/commit/7d9497ef91af715a434fb7d598a359ef8e120498", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build", "committedDate": "2020-04-15T09:50:41Z", "type": "commit"}, {"oid": "0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "url": "https://github.com/jbosstm/narayana/commit/0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "message": "CI SCRIPT: Properly override the version of XTS being used", "committedDate": "2020-04-15T09:51:11Z", "type": "commit"}, {"oid": "0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "url": "https://github.com/jbosstm/narayana/commit/0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "message": "CI SCRIPT: Properly override the version of XTS being used", "committedDate": "2020-04-15T09:51:11Z", "type": "forcePushed"}, {"oid": "8cc82f1bfabc96cd529384b49f777b8de5f8301e", "url": "https://github.com/jbosstm/narayana/commit/8cc82f1bfabc96cd529384b49f777b8de5f8301e", "message": "CI SCRIPT: Update the version of the help plugin in JBoss to work with updated Maven", "committedDate": "2020-04-15T11:24:19Z", "type": "commit"}, {"oid": "8cc82f1bfabc96cd529384b49f777b8de5f8301e", "url": "https://github.com/jbosstm/narayana/commit/8cc82f1bfabc96cd529384b49f777b8de5f8301e", "message": "CI SCRIPT: Update the version of the help plugin in JBoss to work with updated Maven", "committedDate": "2020-04-15T11:24:19Z", "type": "forcePushed"}]}