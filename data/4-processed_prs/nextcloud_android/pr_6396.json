{"pr_number": 6396, "pr_title": "Edit label for public share", "pr_createdAt": "2020-07-01T07:01:24Z", "pr_url": "https://github.com/nextcloud/android/pull/6396", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE4MDQzNw==", "url": "https://github.com/nextcloud/android/pull/6396#discussion_r448180437", "bodyText": "should be done via a view binding :)", "author": "AndyScherzinger", "createdAt": "2020-07-01T07:49:08Z", "path": "src/main/java/com/owncloud/android/ui/dialog/RenamePublicShareDialogFragment.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/*\n+ * Nextcloud Android client application\n+ *\n+ * @author Tobias Kaminsky\n+ * Copyright (C) 2020 Tobias Kaminsky\n+ * Copyright (C) 2020 Nextcloud GmbH.\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program. If not, see <https://www.gnu.org/licenses/>.\n+ */\n+\n+package com.owncloud.android.ui.dialog;\n+\n+import android.app.Dialog;\n+import android.content.DialogInterface;\n+import android.graphics.PorterDuff;\n+import android.os.Bundle;\n+import android.text.TextUtils;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.Window;\n+import android.view.WindowManager.LayoutParams;\n+import android.widget.EditText;\n+import android.widget.TextView;\n+\n+import com.owncloud.android.R;\n+import com.owncloud.android.lib.resources.shares.OCShare;\n+import com.owncloud.android.ui.activity.ComponentsGetter;\n+import com.owncloud.android.utils.DisplayUtils;\n+import com.owncloud.android.utils.ThemeUtils;\n+\n+import androidx.annotation.NonNull;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+\n+/**\n+ * Dialog to rename a public share\n+ */\n+public class RenamePublicShareDialogFragment\n+    extends DialogFragment implements DialogInterface.OnClickListener {\n+\n+    private static final String ARG_PUBLIC_SHARE = \"PUBLIC_SHARE\";\n+\n+    public static final String RENAME_PUBLIC_SHARE_FRAGMENT = \"RENAME_PUBLIC_SHARE_FRAGMENT\";\n+\n+    private OCShare publicShare;\n+\n+    public static RenamePublicShareDialogFragment newInstance(OCShare share) {\n+        RenamePublicShareDialogFragment frag = new RenamePublicShareDialogFragment();\n+        Bundle args = new Bundle();\n+        args.putParcelable(ARG_PUBLIC_SHARE, share);\n+        frag.setArguments(args);\n+        return frag;\n+\n+    }\n+\n+    @Override\n+    public void onStart() {\n+        super.onStart();\n+\n+        int color = ThemeUtils.primaryAccentColor(getContext());\n+\n+        AlertDialog alertDialog = (AlertDialog) getDialog();\n+\n+        if (alertDialog != null) {\n+            alertDialog.getButton(AlertDialog.BUTTON_POSITIVE).setTextColor(color);\n+            alertDialog.getButton(AlertDialog.BUTTON_NEGATIVE).setTextColor(color);\n+        }\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(Bundle savedInstanceState) {\n+        int accentColor = ThemeUtils.primaryAccentColor(getContext());\n+        publicShare = requireArguments().getParcelable(ARG_PUBLIC_SHARE);\n+\n+        // Inflate the layout for the dialog\n+        LayoutInflater inflater = requireActivity().getLayoutInflater();\n+        View v = inflater.inflate(R.layout.edit_box_dialog, null);", "originalCommit": "e2b0adb7da74110376690841b8a112093a1991ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI1ODEzOQ==", "url": "https://github.com/nextcloud/android/pull/6396#discussion_r448258139", "bodyText": "Done. By accident I first refactored RenameFileDialogFragment \ud83d\ude48\ud83e\udd23", "author": "tobiasKaminsky", "createdAt": "2020-07-01T10:05:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE4MDQzNw=="}], "type": "inlineReview"}, {"oid": "e92649343e8285a46817bd6c2477e8732df9de00", "url": "https://github.com/nextcloud/android/commit/e92649343e8285a46817bd6c2477e8732df9de00", "message": "Edit label for public share\nsplit up between public share and user shares\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-01T10:06:38Z", "type": "forcePushed"}, {"oid": "4bb0a3c1764672ab9e321815d82fe2803070c6f9", "url": "https://github.com/nextcloud/android/commit/4bb0a3c1764672ab9e321815d82fe2803070c6f9", "message": "Edit label for public share\nsplit up between public share and user shares\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-01T10:07:26Z", "type": "commit"}, {"oid": "4bb0a3c1764672ab9e321815d82fe2803070c6f9", "url": "https://github.com/nextcloud/android/commit/4bb0a3c1764672ab9e321815d82fe2803070c6f9", "message": "Edit label for public share\nsplit up between public share and user shares\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-01T10:07:26Z", "type": "forcePushed"}]}