{"pr_number": 5593, "pr_title": "Synced folder dialog: fix summary click event intercepting parent", "pr_createdAt": "2020-03-06T08:47:14Z", "pr_url": "https://github.com/nextcloud/android/pull/5593", "timeline": [{"oid": "0c1384d24d1bdff89fa392d1f5656491453f89fc", "url": "https://github.com/nextcloud/android/commit/0c1384d24d1bdff89fa392d1f5656491453f89fc", "message": "Synced folder dialog: remove folder path expand action\n\nSigned-off-by: Alice Gaudon <alice@gaudon.pro>", "committedDate": "2020-03-26T13:31:07Z", "type": "forcePushed"}, {"oid": "596a350d3ea8b5502abf49f0ac4d6f9006e473b6", "url": "https://github.com/nextcloud/android/commit/596a350d3ea8b5502abf49f0ac4d6f9006e473b6", "message": "Synced folder dialog: remove local and remote folder icons\n\nSigned-off-by: Alice Gaudon <alice@gaudon.pro>", "committedDate": "2020-03-26T16:33:04Z", "type": "forcePushed"}, {"oid": "4a4ad20e66cfc2795033f01bd96363b34d1f3403", "url": "https://github.com/nextcloud/android/commit/4a4ad20e66cfc2795033f01bd96363b34d1f3403", "message": "Synced folder dialog: remove folder path expand action\n\nSigned-off-by: Alice Gaudon <alice@gaudon.pro>", "committedDate": "2020-06-30T05:53:13Z", "type": "commit"}, {"oid": "e5f56152b06b9b15389367d787adccce677b43e0", "url": "https://github.com/nextcloud/android/commit/e5f56152b06b9b15389367d787adccce677b43e0", "message": "Synced folder dialog: use display name instead of full path for local folder\n\nSigned-off-by: Alice Gaudon <alice@gaudon.pro>", "committedDate": "2020-06-30T05:53:13Z", "type": "commit"}, {"oid": "7af28a1c36f2e9e23b039cf194b2ff1a994142db", "url": "https://github.com/nextcloud/android/commit/7af28a1c36f2e9e23b039cf194b2ff1a994142db", "message": "Synced folder dialog: remove local and remote folder icons\n\nSigned-off-by: Alice Gaudon <alice@gaudon.pro>", "committedDate": "2020-06-30T05:53:13Z", "type": "commit"}, {"oid": "7af28a1c36f2e9e23b039cf194b2ff1a994142db", "url": "https://github.com/nextcloud/android/commit/7af28a1c36f2e9e23b039cf194b2ff1a994142db", "message": "Synced folder dialog: remove local and remote folder icons\n\nSigned-off-by: Alice Gaudon <alice@gaudon.pro>", "committedDate": "2020-06-30T05:53:13Z", "type": "forcePushed"}, {"oid": "726e4ca7b43b45407250f9250aea5eab388004ec", "url": "https://github.com/nextcloud/android/commit/726e4ca7b43b45407250f9250aea5eab388004ec", "message": "remove unused ressources\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-06-30T08:52:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUyNDAyNA==", "url": "https://github.com/nextcloud/android/pull/5593#discussion_r447524024", "bodyText": "Codacy found an issue: Avoid instantiating new objects inside loops", "author": "nextcloud-android-bot", "createdAt": "2020-06-30T08:55:40Z", "path": "src/main/java/com/owncloud/android/ui/dialog/LocalStoragePathPickerDialogFragment.java", "diffHunk": "@@ -139,48 +138,27 @@ public void onClick(DialogInterface dialog, int which) {\n     private List<StoragePathItem> getPathList() {\n         List<StoragePathItem> storagePathItems = new ArrayList<>();\n \n-        addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_image_grey600,\n-                                                          getString(R.string.storage_pictures),\n-                                                          Environment.getExternalStoragePublicDirectory(\n-                                                              Environment.DIRECTORY_PICTURES).getAbsolutePath()));\n-        addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_camera, getString(R.string.storage_camera),\n-                                                          Environment.getExternalStoragePublicDirectory(\n-                                                              Environment.DIRECTORY_DCIM).getAbsolutePath()));\n-        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {\n-            addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_document_grey600,\n-                                                              getString(R.string.storage_documents),\n-                                                              Environment.getExternalStoragePublicDirectory(\n-                                                                  Environment.DIRECTORY_DOCUMENTS).getAbsolutePath()));\n+        for (FileStorageUtils.StandardDirectory standardDirectory : FileStorageUtils.StandardDirectory.getStandardDirectories()) {\n+            addIfExists(storagePathItems, standardDirectory.getIcon(), getString(standardDirectory.getDisplayName()),\n+                Environment.getExternalStoragePublicDirectory(standardDirectory.getName()).getAbsolutePath());\n         }\n-        addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_download_grey600,\n-                                                          getString(R.string.storage_downloads),\n-                                                          Environment.getExternalStoragePublicDirectory(\n-                                                              Environment.DIRECTORY_DOWNLOADS).getAbsolutePath()));\n-        addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_movie_grey600,\n-                                                          getString(R.string.storage_movies),\n-                                                          Environment.getExternalStoragePublicDirectory(\n-                                                              Environment.DIRECTORY_MOVIES).getAbsolutePath()));\n-        addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_music_grey600,\n-                                                          getString(R.string.storage_music),\n-                                                          Environment.getExternalStoragePublicDirectory(\n-                                                              Environment.DIRECTORY_MUSIC).getAbsolutePath()));\n \n         String sdCard = getString(R.string.storage_internal_storage);\n         for (String dir : FileStorageUtils.getStorageDirectories(requireActivity())) {\n             if (internalStoragePaths.contains(dir)) {\n-                addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_sd_grey600, sdCard, dir));\n+                addIfExists(storagePathItems, R.drawable.ic_sd_grey600, sdCard, dir);\n             } else {\n-                addIfExists(storagePathItems, new StoragePathItem(R.drawable.ic_sd_grey600, new File(dir).getName(), dir));\n+                addIfExists(storagePathItems, R.drawable.ic_sd_grey600, new File(dir).getName(), dir);", "originalCommit": "726e4ca7b43b45407250f9250aea5eab388004ec", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}