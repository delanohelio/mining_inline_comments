{"pr_number": 6042, "pr_title": "New design (UI) - Favorite and \"downloaded\" icons alignment", "pr_createdAt": "2020-05-11T08:42:38Z", "pr_url": "https://github.com/nextcloud/android/pull/6042", "timeline": [{"oid": "013f7d2fcad0d113ce3118feb906d5680c99e067", "url": "https://github.com/nextcloud/android/commit/013f7d2fcad0d113ce3118feb906d5680c99e067", "message": "Aligned the files icons\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>", "committedDate": "2020-05-11T08:29:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYxMDYwNA==", "url": "https://github.com/nextcloud/android/pull/6042#discussion_r423610604", "bodyText": "Here you use a fixed with, but then use wrap_content for height.\nThis could, in theory, lead to a too high image, or?\nMaybe it is better to re-use the old \"@dimen/list_item_local_file_indicator_layout_height\" ?", "author": "tobiasKaminsky", "createdAt": "2020-05-12T09:55:12Z", "path": "src/main/res/layout/list_item.xml", "diffHunk": "@@ -22,65 +22,73 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"@dimen/standard_list_item_size\"\n     android:background=\"@drawable/list_selector\"\n+    android:baselineAligned=\"false\"\n     android:descendantFocusability=\"blocksDescendants\"\n     android:foreground=\"?android:attr/selectableItemBackground\"\n-    android:baselineAligned=\"false\"\n     android:orientation=\"horizontal\">\n \n-    <RelativeLayout\n+    <androidx.constraintlayout.widget.ConstraintLayout\n         android:layout_width=\"@dimen/standard_list_item_size\"\n         android:layout_height=\"@dimen/standard_list_item_size\"\n-        android:paddingStart=\"@dimen/zero\"\n-        android:paddingTop=\"@dimen/standard_padding\"\n-        android:paddingEnd=\"@dimen/standard_quarter_padding\"\n-        android:paddingBottom=\"@dimen/standard_padding\">\n+        android:layout_marginStart=\"@dimen/zero\"\n+        android:layout_marginEnd=\"@dimen/standard_quarter_padding\"\n+        android:layout_marginBottom=\"@dimen/standard_padding\">\n+\n+        <ImageView\n+            android:id=\"@+id/thumbnail\"\n+            android:layout_width=\"@dimen/file_icon_size\"\n+            android:layout_height=\"@dimen/file_icon_size\"\n+            android:contentDescription=\"@null\"\n+            android:src=\"@drawable/folder\"\n+            app:layout_constraintBottom_toBottomOf=\"parent\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n \n-        <FrameLayout\n+        <RelativeLayout\n             android:id=\"@+id/shimmer_view_container\"\n             android:layout_width=\"wrap_content\"\n             android:layout_height=\"wrap_content\"\n             android:layout_centerInParent=\"true\"\n-            android:layout_marginStart=\"@dimen/standard_half_margin\">\n+            app:layout_constraintBottom_toBottomOf=\"parent\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\">\n \n             <com.elyeproj.loaderviewlibrary.LoaderImageView\n                 android:id=\"@+id/thumbnail_shimmer\"\n-                android:layout_width=\"@dimen/file_icon_size\"\n-                android:layout_height=\"@dimen/file_icon_size\"\n+                android:layout_width=\"wrap_content\"\n+                android:layout_height=\"wrap_content\"\n                 android:layout_marginStart=\"@dimen/standard_half_margin\"\n                 android:visibility=\"gone\"\n                 app:corners=\"8\" />\n \n-            <ImageView\n-                android:id=\"@+id/thumbnail\"\n-                android:layout_width=\"@dimen/file_icon_size\"\n-                android:layout_height=\"@dimen/file_icon_size\"\n-                android:layout_marginStart=\"@dimen/standard_half_margin\"\n-                android:contentDescription=\"@null\"\n-                android:src=\"@drawable/folder\"/>\n-        </FrameLayout>\n-\n-        <ImageView\n-            android:id=\"@+id/favorite_action\"\n-            android:layout_width=\"@dimen/list_item_favorite_action_layout_width\"\n-            android:layout_height=\"@dimen/list_item_favorite_action_layout_height\"\n-            android:layout_alignParentTop=\"true\"\n-            android:layout_alignParentEnd=\"true\"\n-            android:layout_marginEnd=\"@dimen/standard_quarter_margin\"\n-            android:contentDescription=\"@string/favorite\"\n-            android:src=\"@drawable/favorite\" />\n+        </RelativeLayout>\n \n         <ImageView\n             android:id=\"@+id/localFileIndicator\"\n             android:layout_width=\"@dimen/list_item_local_file_indicator_layout_width\"", "originalCommit": "013f7d2fcad0d113ce3118feb906d5680c99e067", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYxNDAyOA==", "url": "https://github.com/nextcloud/android/pull/6042#discussion_r423614028", "bodyText": "In theory, it's not necessary to define a fixed height because the ratio defined by the SVG will always be respected. In addition, this SVG is square-shaped.\nBut, but, to keep the code uniformity, I'm going to set the height with a dimen ;)", "author": "Kilian-Perisset", "createdAt": "2020-05-12T10:01:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYxMDYwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYxNTU1NQ==", "url": "https://github.com/nextcloud/android/pull/6042#discussion_r423615555", "bodyText": "Note that I mistook the name of the commit, it's definitely the height that I edited :-)", "author": "Kilian-Perisset", "createdAt": "2020-05-12T10:03:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYxMDYwNA=="}], "type": "inlineReview"}, {"oid": "bb805f681b6c71aaeb91a8f64681573f02b04c19", "url": "https://github.com/nextcloud/android/commit/bb805f681b6c71aaeb91a8f64681573f02b04c19", "message": "Implemented a fixed width for local file indicator\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>", "committedDate": "2020-05-12T10:01:44Z", "type": "commit"}]}