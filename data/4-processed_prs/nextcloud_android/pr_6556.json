{"pr_number": 6556, "pr_title": "TrashbinActivity: viewbindings tests", "pr_createdAt": "2020-07-27T11:33:08Z", "pr_url": "https://github.com/nextcloud/android/pull/6556", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg4Njc0NA==", "url": "https://github.com/nextcloud/android/pull/6556#discussion_r460886744", "bodyText": "shouldn't the parameter be named trashbinPresenter  and the assignment be done using this? (just for naming convention purposes of course)", "author": "AndyScherzinger", "createdAt": "2020-07-27T13:24:50Z", "path": "src/main/java/com/owncloud/android/ui/trashbin/TrashbinActivity.java", "diffHunk": "@@ -301,29 +263,32 @@ public void removeAllFiles() {\n     @Override\n     public void showSnackbarError(int message, TrashbinFile file) {\n         if (active) {\n-            swipeListRefreshLayout.setRefreshing(false);\n-            Snackbar.make(recyclerView, String.format(getString(message), file.getFileName()), Snackbar.LENGTH_LONG)\n+            binding.swipeContainingList.setRefreshing(false);\n+            Snackbar.make(binding.list,\n+                          String.format(getString(message), file.getFileName()), Snackbar.LENGTH_LONG)\n                 .show();\n         }\n     }\n \n     @Override\n     public void showError(int message) {\n         if (active) {\n-            swipeListRefreshLayout.setRefreshing(false);\n-\n-            if (emptyContentMessage != null) {\n-                emptyContentHeadline.setText(R.string.common_error);\n-                emptyContentIcon.setImageDrawable(ResourcesCompat.getDrawable(getResources(),\n-                                                                              R.drawable.ic_list_empty_error,\n-                                                                              null));\n-                emptyContentMessage.setText(message);\n-\n-                emptyContentMessage.setVisibility(View.VISIBLE);\n-                emptyContentIcon.setVisibility(View.VISIBLE);\n-                emptyListView.setVisibility(View.VISIBLE);\n-                emptyListProgress.setVisibility(View.GONE);\n-            }\n+            binding.swipeContainingList.setRefreshing(false);\n+\n+            binding.emptyList.emptyListViewHeadline.setText(R.string.common_error);\n+            binding.emptyList.emptyListIcon.setImageDrawable(ResourcesCompat.getDrawable(getResources(),\n+                                                                                         R.drawable.ic_list_empty_error,\n+                                                                                         null));\n+            binding.emptyList.emptyListViewText.setText(message);\n+            binding.emptyList.emptyListViewText.setVisibility(View.VISIBLE);\n+            binding.emptyList.emptyListIcon.setVisibility(View.VISIBLE);\n+            binding.emptyList.emptyListView.setVisibility(View.VISIBLE);\n+            binding.emptyList.emptyListProgress.setVisibility(View.GONE);\n         }\n     }\n+\n+    @VisibleForTesting\n+    public void setTrashbinPresenter(TrashbinPresenter presenter) {", "originalCommit": "310d9fd0f8de1ac1ad72cc8466344197663b0296", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a6bf3c6f0f9b50baf947f111d5d0a5e17a0d4234", "url": "https://github.com/nextcloud/android/commit/a6bf3c6f0f9b50baf947f111d5d0a5e17a0d4234", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-29T09:46:02Z", "type": "forcePushed"}, {"oid": "7b3d9825ab9eb48401ba4c17af2fdcc2d849f6fd", "url": "https://github.com/nextcloud/android/commit/7b3d9825ab9eb48401ba4c17af2fdcc2d849f6fd", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-29T12:47:53Z", "type": "forcePushed"}, {"oid": "defdb11b280f7c4e15eafeb1fae5948bf96b2504", "url": "https://github.com/nextcloud/android/commit/defdb11b280f7c4e15eafeb1fae5948bf96b2504", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-08-03T12:45:20Z", "type": "forcePushed"}, {"oid": "f9e55b640be754a77330fb485c726f26200b554e", "url": "https://github.com/nextcloud/android/commit/f9e55b640be754a77330fb485c726f26200b554e", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-08-03T12:55:56Z", "type": "forcePushed"}, {"oid": "f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "url": "https://github.com/nextcloud/android/commit/f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-08-03T18:05:31Z", "type": "commit"}, {"oid": "f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "url": "https://github.com/nextcloud/android/commit/f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-08-03T18:05:31Z", "type": "forcePushed"}, {"oid": "c9d3641136ecc1307c65f1ada6d4b409a3140cf3", "url": "https://github.com/nextcloud/android/commit/c9d3641136ecc1307c65f1ada6d4b409a3140cf3", "message": "Update screenshot due to new toolbar height\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-08-03T18:27:24Z", "type": "commit"}]}