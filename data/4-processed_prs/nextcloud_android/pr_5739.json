{"pr_number": 5739, "pr_title": "Dark Mode Improvements II", "pr_createdAt": "2020-03-25T09:59:13Z", "pr_url": "https://github.com/nextcloud/android/pull/5739", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MzQ3Mg==", "url": "https://github.com/nextcloud/android/pull/5739#discussion_r397743472", "bodyText": "if I understand it correctly then we simply don't need to tint the ChooserToggle (as in always-white)", "author": "AndyScherzinger", "createdAt": "2020-03-25T10:18:18Z", "path": "src/main/java/com/owncloud/android/ui/activity/DrawerActivity.java", "diffHunk": "@@ -302,7 +302,7 @@ private void setupDrawerHeader() {\n         mAccountEndAccountAvatar = (ImageView) findNavigationViewChildById(R.id.drawer_account_end);\n \n         mAccountChooserToggle = (ImageView) findNavigationViewChildById(R.id.drawer_account_chooser_toggle);\n-        mAccountChooserToggle.setColorFilter(ThemeUtils.fontColor(this, true));\n+        mAccountChooserToggle.setColorFilter(ThemeUtils.fontColor(this, !ThemeUtils.darkTheme(getApplicationContext())));", "originalCommit": "f868b5a3c3871794f03cea25fd4892da88466a1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY0NDEzMw==", "url": "https://github.com/nextcloud/android/pull/5739#discussion_r399644133", "bodyText": "I can see you've reverted this in 92c56ac but for info, I had it there because in my testing the toggle was always black. I presume that must have been operator error on my behalf.", "author": "dan0xii", "createdAt": "2020-03-28T10:02:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MzQ3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY2NDUzOQ==", "url": "https://github.com/nextcloud/android/pull/5739#discussion_r399664539", "bodyText": "Hmm, then let me have another look. The toogle should always be white, so if that isn't working yet than I'll take care of it", "author": "AndyScherzinger", "createdAt": "2020-03-28T13:48:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MzQ3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY2NDc4NA==", "url": "https://github.com/nextcloud/android/pull/5739#discussion_r399664784", "bodyText": "Just checked and ic_down is #FFFFFF and this was the only code that tinted the icon so we should be fine now with simply having the tinting removed :)", "author": "AndyScherzinger", "createdAt": "2020-03-28T13:51:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MzQ3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MzgzMw==", "url": "https://github.com/nextcloud/android/pull/5739#discussion_r397743833", "bodyText": "let's not use short-codes but rather #222222", "author": "AndyScherzinger", "createdAt": "2020-03-25T10:18:51Z", "path": "src/main/res/values-night/colors.xml", "diffHunk": "@@ -22,6 +22,7 @@\n \n     <color name=\"text_color\">#ffffff</color>\n     <color name=\"text_color_inverse\">#000000</color>\n+    <color name=\"list_divider_background\">#222</color>", "originalCommit": "f868b5a3c3871794f03cea25fd4892da88466a1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY0NDM0OQ==", "url": "https://github.com/nextcloud/android/pull/5739#discussion_r399644349", "bodyText": "Resolved in 04d5bb6.", "author": "dan0xii", "createdAt": "2020-03-28T10:04:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MzgzMw=="}], "type": "inlineReview"}, {"oid": "92c56acbd02cf0fd25ded14dadaf6750a64b2649", "url": "https://github.com/nextcloud/android/commit/92c56acbd02cf0fd25ded14dadaf6750a64b2649", "message": "don't tint drawer menu toggle\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-03-27T15:55:45Z", "type": "forcePushed"}, {"oid": "a858ae3bb914c8f011be7cb52a8b099cd082d05c", "url": "https://github.com/nextcloud/android/commit/a858ae3bb914c8f011be7cb52a8b099cd082d05c", "message": "proper toolbar theming ignoring dark/light theme for toolbar colors\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-03-30T14:10:36Z", "type": "forcePushed"}, {"oid": "e2de1ac1e8b1acae656e0dc8f56a8b2a1b2eef93", "url": "https://github.com/nextcloud/android/commit/e2de1ac1e8b1acae656e0dc8f56a8b2a1b2eef93", "message": "Tinted checkboxes in ConflictsResolveDialog\nActivity icons have a 'night mode' background circle.\nSigned-off-by: Daniel Bailey <daniel.bailey@grappleIT.co.uk>", "committedDate": "2020-04-04T11:41:59Z", "type": "forcePushed"}, {"oid": "4b464e1f54b6b5e4d3a04280a18077e5a93e9b27", "url": "https://github.com/nextcloud/android/commit/4b464e1f54b6b5e4d3a04280a18077e5a93e9b27", "message": "Dark Mode Improvements (2)\n\n* Fix list divider in upload file dialog\n* The drawer account chooser toggle reacts to dark server themes\n* ic_people in the file list changes depending on device dark mode\n\nSigned-off-by: Daniel Bailey <daniel.bailey@grappleIT.co.uk>", "committedDate": "2020-04-28T10:18:05Z", "type": "commit"}, {"oid": "4b083e9e3402a9f4e83ba9e2e1ae03d707375f86", "url": "https://github.com/nextcloud/android/commit/4b083e9e3402a9f4e83ba9e2e1ae03d707375f86", "message": "raise margin for bottom sheet menu item divider\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:06Z", "type": "commit"}, {"oid": "1adc7654a194acffb0f5f24a7f4edd8578f9b62c", "url": "https://github.com/nextcloud/android/commit/1adc7654a194acffb0f5f24a7f4edd8578f9b62c", "message": "use proper rtl values\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:07Z", "type": "commit"}, {"oid": "841cedd3071acd817693e498aa5d550d588e261c", "url": "https://github.com/nextcloud/android/commit/841cedd3071acd817693e498aa5d550d588e261c", "message": "don't tint drawer menu toggle\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:08Z", "type": "commit"}, {"oid": "9396b2b43e4a0d24397e8ffb75949b94975b89eb", "url": "https://github.com/nextcloud/android/commit/9396b2b43e4a0d24397e8ffb75949b94975b89eb", "message": "dark theme favorite icon\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:09Z", "type": "commit"}, {"oid": "f3fbdab05aa0ea2b5f3cd67ed92c06171916ea48", "url": "https://github.com/nextcloud/android/commit/f3fbdab05aa0ea2b5f3cd67ed92c06171916ea48", "message": "change dark theme background to #121212\nsee https://material.io/design/color/dark-theme.html#properties\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:10Z", "type": "commit"}, {"oid": "8128c3f9f2ef8fbf3a1e229727f7d6424f742307", "url": "https://github.com/nextcloud/android/commit/8128c3f9f2ef8fbf3a1e229727f7d6424f742307", "message": "unify divider colors\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:11Z", "type": "commit"}, {"oid": "76a093e63f8c92784139d64bd024da1a8f1453e1", "url": "https://github.com/nextcloud/android/commit/76a093e63f8c92784139d64bd024da1a8f1453e1", "message": "properly theme SwipeRefreshLayout\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:12Z", "type": "commit"}, {"oid": "27e6c7b205ba8a5ecdd37d67c70574ce9e10478e", "url": "https://github.com/nextcloud/android/commit/27e6c7b205ba8a5ecdd37d67c70574ce9e10478e", "message": "proper toolbar theming ignoring dark/light theme for toolbar colors\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:14Z", "type": "commit"}, {"oid": "3d033ff9b9f68ee77d42bc9d38d076bbc3f45cc3", "url": "https://github.com/nextcloud/android/commit/3d033ff9b9f68ee77d42bc9d38d076bbc3f45cc3", "message": "set secondary action button in notifications to grey\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:15Z", "type": "commit"}, {"oid": "f97dc2d101f4b8dda373a24e0e2a2294723b1bdf", "url": "https://github.com/nextcloud/android/commit/f97dc2d101f4b8dda373a24e0e2a2294723b1bdf", "message": "Tinted checkboxes in ConflictsResolveDialog\nActivity icons have a 'night mode' background circle.\nSigned-off-by: Daniel Bailey <daniel.bailey@grappleIT.co.uk>", "committedDate": "2020-04-28T10:18:16Z", "type": "commit"}, {"oid": "922f84a44376345361c4b86240c4ac19952027c7", "url": "https://github.com/nextcloud/android/commit/922f84a44376345361c4b86240c4ac19952027c7", "message": "revert background image for notifications\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:17Z", "type": "commit"}, {"oid": "922f84a44376345361c4b86240c4ac19952027c7", "url": "https://github.com/nextcloud/android/commit/922f84a44376345361c4b86240c4ac19952027c7", "message": "revert background image for notifications\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>", "committedDate": "2020-04-28T10:18:17Z", "type": "forcePushed"}]}