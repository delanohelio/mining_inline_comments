{"pr_number": 1895, "pr_title": "Add nessie to spark3/spark2 runtime jar", "pr_createdAt": "2020-12-09T13:33:25Z", "pr_url": "https://github.com/apache/iceberg/pull/1895", "timeline": [{"oid": "92618f022e14da135cb72a1323927aba1cdf4636", "url": "https://github.com/apache/iceberg/commit/92618f022e14da135cb72a1323927aba1cdf4636", "message": "add nessie to spark3/spark2 runtime jar", "committedDate": "2020-12-08T15:07:40Z", "type": "commit"}, {"oid": "498fd0de882e674d4c6c12e4d4978dc773c5b7bf", "url": "https://github.com/apache/iceberg/commit/498fd0de882e674d4c6c12e4d4978dc773c5b7bf", "message": "add license and notice info for nessie and jersey", "committedDate": "2020-12-10T11:06:27Z", "type": "commit"}, {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "url": "https://github.com/apache/iceberg/commit/fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "message": "minor fixes and simplification", "committedDate": "2020-12-11T11:52:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyMTM3MA==", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542921370", "bodyText": "I don't think that we typically need the copyright part, or acknowledgement that there is ASF software. Since this is boilerplate and the relevant information is in LICENSE, we can probably omit it.", "author": "rdblue", "createdAt": "2020-12-14T23:28:25Z", "path": "spark3-runtime/NOTICE", "diffHunk": "@@ -495,3 +495,128 @@ file:\n |   * HOMEPAGE:\n |     * http://www.opensource.apple.com/source/configd/configd-453.19/dnsinfo/dnsinfo.h\n \n+--------------------------------------------------------------------------------\n+\n+This binary artifact includes Project Nessie with the following in its NOTICE\n+file:\n+\n+| Dremio\n+| Copyright 2015-2017 Dremio Corporation\n+|\n+| This product includes software developed at\n+| The Apache Software Foundation (http://www.apache.org/).", "originalCommit": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyMTUzNw==", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542921537", "bodyText": "We need to include a copy of the license text here.", "author": "rdblue", "createdAt": "2020-12-14T23:28:51Z", "path": "spark3-runtime/LICENSE", "diffHunk": "@@ -579,3 +579,19 @@ License text:\n | NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n | SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n \n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains code from Project Nessie.\n+\n+Copyright: 2020 Dremio Corporation.\n+Home page: https://projectnessie.org/\n+License: http://www.apache.org/licenses/LICENSE-2.0\n+\n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains Eclipse Jersey bindings for jackson.\n+\n+Copyright: 201,2020 Oracle and/or its affiliates.\n+Home page: https://github.com/eclipse-ee4j/jersey\n+License: http://www.eclipse.org/legal/epl-2.0", "originalCommit": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyNDcxNQ==", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542924715", "bodyText": "EPL 2.0 is listed under Category B, \"weak\" copyleft licenses. The relevant sections from that page are:\n\nSoftware under the following licenses may be included in binary form within an Apache product if the inclusion is appropriately labeled (see above)\n\n\nBy including only the object/binary form, there is less exposed surface area of the third-party work from which a work might be derived; this addresses the second guiding principle of this policy.\n\nAnd here's the part about labelling:\n\nAPPROPRIATELY LABELLED CONDITION\nIn all Category B cases our users should not be surprised at their inclusion in our products. By attaching an appropriate and prominent label to the distribution users are less likely to be unaware of restrictions significantly different from those of the Apache License. An appropriate and prominent label is a label the user will read while learning about the distribution - for example in a README, and it should identify the third-party product, its licensing, and a url to the its homepage. Please also ensure to comply with any attribution/notice requirements in the specific license in question.\n\nI think that means we will need a \"prominent label\" that a user will read while learning about the distribution. I would add one as a new section to the project's README, as well as on the releases page. We should also link to it from anywhere we recommend downloading a runtime Jar on the site. We should also add any notes needed to comply with EPL's requirements.\nIs it possible to remove this dependency? That might be easier.", "author": "rdblue", "createdAt": "2020-12-14T23:36:11Z", "path": "spark3-runtime/LICENSE", "diffHunk": "@@ -579,3 +579,19 @@ License text:\n | NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n | SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n \n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains code from Project Nessie.\n+\n+Copyright: 2020 Dremio Corporation.\n+Home page: https://projectnessie.org/\n+License: http://www.apache.org/licenses/LICENSE-2.0\n+\n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains Eclipse Jersey bindings for jackson.", "originalCommit": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyODgxNg==", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542928816", "bodyText": "Somehow I apparently didn't post and lost the comments that I thought I had added to this ticket. @rymurr we should look at how other tools handle this. Jersey is used by most Apache projects and most of it is already packaged by tools like Spark, Hive, etc. The only thing we're actually doing here is adding the extension for jackson encoding/decoding for Jersey.\n@rdblue we're also exploring avoiding jersey entirely as Hive 2.x has a nasty old version of it that is causing us headaches.", "author": "jacques-n", "createdAt": "2020-12-14T23:45:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyNDcxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzMyNjI0MA==", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r543326240", "bodyText": "FWIW Spark distributes LICENSE-binary and NOTICE-binary with a footnote for any non-apache licenses.\nHopefully I can remove jersey entirely and skip EPL completely", "author": "rymurr", "createdAt": "2020-12-15T13:07:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyNDcxNQ=="}], "type": "inlineReview"}, {"oid": "3749d1358b6d2c4b9b10cb7a45504ff997ab26de", "url": "https://github.com/apache/iceberg/commit/3749d1358b6d2c4b9b10cb7a45504ff997ab26de", "message": "remove jax-rs dependency and clean up licence/notice", "committedDate": "2020-12-31T11:18:30Z", "type": "commit"}]}