{"pr_number": 1997, "pr_title": "AWS: cleanup AwsProperties styles", "pr_createdAt": "2020-12-28T17:17:44Z", "pr_url": "https://github.com/apache/iceberg/pull/1997", "timeline": [{"oid": "89bc21ba76169df766593ac5f5798967b5301775", "url": "https://github.com/apache/iceberg/commit/89bc21ba76169df766593ac5f5798967b5301775", "message": "AWS: cleanup AwsProperties styles", "committedDate": "2020-12-28T17:11:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ1ODIxNA==", "url": "https://github.com/apache/iceberg/pull/1997#discussion_r549458214", "bodyText": "Unrelated to this change:\n\n\nDid we consider using SdkAsyncHttpClient such as NettyNioAsyncHttpClient for non blocking IO.\n\n\nShould we have different HTTP clients across different services to avoid contention for the shared connection pool and also have flexibility to configure the http client settings based on the service?\n\n\nShould we use async service clients like S3AsyncClient etc", "author": "abhishekkhanna1", "createdAt": "2020-12-28T19:16:31Z", "path": "aws/src/main/java/org/apache/iceberg/aws/AwsClientFactories.java", "diffHunk": "@@ -30,12 +29,6 @@\n \n public class AwsClientFactories {\n \n-  /**\n-   * The implementation class of {@link AwsClientFactory} to customize AWS client configurations.\n-   * If set, all AWS clients will be configured by the specified class before initialization.\n-   */\n-  public static final String CLIENT_FACTORY_CONFIG_KEY = \"client.factory\";\n-\n   private static final SdkHttpClient HTTP_CLIENT_DEFAULT = UrlConnectionHttpClient.create();", "originalCommit": "89bc21ba76169df766593ac5f5798967b5301775", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ2NjAxMQ==", "url": "https://github.com/apache/iceberg/pull/1997#discussion_r549466011", "bodyText": "Yes we considered about using Netty async implementation and async AWS client, especially for s3. There was some discussion about that in #1767, and some people mentioned that Netty implementation has some unresolved bug. Since the existing solution using java future is good enough, we just chose that route.\nI will do some testing to see if it can improve S3 FileIO performance, and if it works I will raise another PR. The API for client factory can always be updated for async clients.", "author": "jackye1995", "createdAt": "2020-12-28T19:44:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ1ODIxNA=="}], "type": "inlineReview"}]}