{"pr_number": 1864, "pr_title": "#1855 : When we fail to parse a \"CALL\" command provide a better error message", "pr_createdAt": "2020-12-02T19:08:30Z", "pr_url": "https://github.com/apache/iceberg/pull/1864", "timeline": [{"oid": "10b17cd16e92caa2343eaa660f4f85c3cb88407f", "url": "https://github.com/apache/iceberg/commit/10b17cd16e92caa2343eaa660f4f85c3cb88407f", "message": "When we fail to parse a \"CALL\" command provide a better error message\n\nPreviously we would always delegate to the Spark parser, even when a\nCALL request could not be parsed. This leads to confusing errors which\nwould state that \"CALL\" was not a good first token. This change has us\nonly using the custom parser for \"CALL\" commands and delegating for\neverything else.", "committedDate": "2020-12-02T19:14:22Z", "type": "commit"}, {"oid": "10b17cd16e92caa2343eaa660f4f85c3cb88407f", "url": "https://github.com/apache/iceberg/commit/10b17cd16e92caa2343eaa660f4f85c3cb88407f", "message": "When we fail to parse a \"CALL\" command provide a better error message\n\nPreviously we would always delegate to the Spark parser, even when a\nCALL request could not be parsed. This leads to confusing errors which\nwould state that \"CALL\" was not a good first token. This change has us\nonly using the custom parser for \"CALL\" commands and delegating for\neverything else.", "committedDate": "2020-12-02T19:14:22Z", "type": "forcePushed"}, {"oid": "76dfb5e04e55baaec20d2234db92392c76334238", "url": "https://github.com/apache/iceberg/commit/76dfb5e04e55baaec20d2234db92392c76334238", "message": "Java 8 Compatibility", "committedDate": "2020-12-02T20:33:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQ3Mzk2MQ==", "url": "https://github.com/apache/iceberg/pull/1864#discussion_r534473961", "bodyText": "Can you revert this whitespace-only change?", "author": "rdblue", "createdAt": "2020-12-02T20:53:19Z", "path": "spark3-extensions/src/main/scala/org/apache/spark/sql/catalyst/parser/extensions/IcebergSparkSqlExtensionsParser.scala", "diffHunk": "@@ -163,9 +163,9 @@ case object IcebergSqlExtensionsPostProcessor extends IcebergSqlExtensionsBaseLi\n   }\n \n   private def replaceTokenByIdentifier(\n-      ctx: ParserRuleContext,\n-      stripMargins: Int)(\n-      f: CommonToken => CommonToken = identity): Unit = {\n+                                        ctx: ParserRuleContext,\n+                                        stripMargins: Int)(\n+                                        f: CommonToken => CommonToken = identity): Unit = {", "originalCommit": "76dfb5e04e55baaec20d2234db92392c76334238", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQ3NDkwMA==", "url": "https://github.com/apache/iceberg/pull/1864#discussion_r534474900", "bodyText": "Woops, not sure when that snuck in", "author": "RussellSpitzer", "createdAt": "2020-12-02T20:54:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQ3Mzk2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQ4MTg4Mw==", "url": "https://github.com/apache/iceberg/pull/1864#discussion_r534481883", "bodyText": "Fixed!", "author": "RussellSpitzer", "createdAt": "2020-12-02T21:07:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQ3Mzk2MQ=="}], "type": "inlineReview"}, {"oid": "0a8c12072cf6fa269196958f2992c47e1d797962", "url": "https://github.com/apache/iceberg/commit/0a8c12072cf6fa269196958f2992c47e1d797962", "message": "Fix WhiteSpace Change", "committedDate": "2020-12-02T21:06:37Z", "type": "commit"}]}