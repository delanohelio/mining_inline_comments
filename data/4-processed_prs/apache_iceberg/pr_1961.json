{"pr_number": 1961, "pr_title": "Spark: Add WRITE ORDERED BY command to set table order", "pr_createdAt": "2020-12-19T02:04:25Z", "pr_url": "https://github.com/apache/iceberg/pull/1961", "timeline": [{"oid": "75974a63ca10bfc5c261c5645346122682b0915f", "url": "https://github.com/apache/iceberg/commit/75974a63ca10bfc5c261c5645346122682b0915f", "message": "SPARK: Add WRITE ORDERED BY command to set table order.", "committedDate": "2020-12-19T02:03:34Z", "type": "commit"}, {"oid": "fbacfb592189830e74cc6b979ff29e8c08ec5aa6", "url": "https://github.com/apache/iceberg/commit/fbacfb592189830e74cc6b979ff29e8c08ec5aa6", "message": "Update simpleString methods.", "committedDate": "2020-12-19T22:41:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwODgwMg==", "url": "https://github.com/apache/iceberg/pull/1961#discussion_r546608802", "bodyText": "+1 on supporting expressions with and without parentheses.", "author": "aokolnychyi", "createdAt": "2020-12-21T09:50:46Z", "path": "spark3-extensions/src/main/antlr/org.apache.spark.sql.catalyst.parser.extensions/IcebergSqlExtensions.g4", "diffHunk": "@@ -69,13 +69,23 @@ statement\n     : CALL multipartIdentifier '(' (callArgument (',' callArgument)*)? ')'                  #call\n     | ALTER TABLE multipartIdentifier ADD PARTITION FIELD transform (AS name=identifier)?   #addPartitionField\n     | ALTER TABLE multipartIdentifier DROP PARTITION FIELD transform                        #dropPartitionField\n+    | ALTER TABLE multipartIdentifier WRITE ORDERED BY order                                #setTableOrder\n     ;\n \n callArgument\n     : expression                    #positionalArgument\n     | identifier '=>' expression    #namedArgument\n     ;\n \n+order\n+    : fields+=orderField (',' fields+=orderField)*", "originalCommit": "fbacfb592189830e74cc6b979ff29e8c08ec5aa6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}