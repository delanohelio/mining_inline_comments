{"pr_number": 8320, "pr_title": "Remove Docker bridge mode for jpa-mssql and jpa-mariadb tests", "pr_createdAt": "2020-04-01T06:21:37Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8320", "timeline": [{"oid": "809c960564bb43b42d70aa9bdf01adc1ecbc262d", "url": "https://github.com/quarkusio/quarkus/commit/809c960564bb43b42d70aa9bdf01adc1ecbc262d", "message": "Remove bridge mode for jpa-mssql and jpa-mariadb tests", "committedDate": "2020-04-01T06:08:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw==", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401566617", "bodyText": "So we assume that mysqladmin will need to be installed to run this test?", "author": "geoand", "createdAt": "2020-04-01T12:11:26Z", "path": "integration-tests/jpa-mariadb/pom.xml", "diffHunk": "@@ -198,15 +195,10 @@\n                                         <!-- Speed things up a bit by not actually flushing writes to disk -->\n                                         <tmpfs>/var/lib/mysql</tmpfs>\n                                         <wait>\n-                                            <!-- good docs found at: http://dmp.fabric8.io/#build-healthcheck -->\n-                                            <tcp>\n-                                                <mode>direct</mode>\n-                                                <ports>\n-                                                    <port>3306</port>\n-                                                </ports>\n-                                            </tcp>\n-                                            <!-- Unfortunately booting MariaDB is slow, needs to set a generous timeout: -->\n-                                            <time>40000</time>\n+                                            <time>20000</time>\n+                                            <exec>\n+                                                <postStart>mysqladmin ping -h localhost -u hibernate_orm_test -phibernate_orm_test</postStart>", "originalCommit": "809c960564bb43b42d70aa9bdf01adc1ecbc262d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NzM3MQ==", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401567371", "bodyText": "jpa-mariadb uses the same approach as jpa-mysql\nhttps://github.com/quarkusio/quarkus/blob/master/integration-tests/jpa-mysql/pom.xml#L201", "author": "rsvoboda", "createdAt": "2020-04-01T12:12:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NzQ0OQ==", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401567449", "bodyText": "I see we already do that for jpa-mysql, so I guess it's OK :)", "author": "geoand", "createdAt": "2020-04-01T12:13:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTYxOQ==", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401571619", "bodyText": "I don't have mysqladmin on my path and it works for me.\nexec command runs inside the container.\nlooking at https://dmp.fabric8.io/#start-wait", "author": "rsvoboda", "createdAt": "2020-04-01T12:20:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MjgyMA==", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401572820", "bodyText": "Oh, that's cool. Thanks for checking that out!", "author": "geoand", "createdAt": "2020-04-01T12:22:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}], "type": "inlineReview"}]}