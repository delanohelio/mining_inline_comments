{"pr_number": 10842, "pr_title": "Remove invalid module from cron job", "pr_createdAt": "2020-07-20T05:22:33Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10842", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjA1MA==", "url": "https://github.com/quarkusio/quarkus/pull/10842#discussion_r457142050", "bodyText": "Hum. I didn't see that but I really don't like the fact that we exclude these modules. We are supposed to support native everywhere.\n@loicmathieu what's the reason of this?", "author": "gsmet", "createdAt": "2020-07-20T07:46:55Z", "path": ".github/workflows/native-cron-build.yml", "diffHunk": "@@ -54,7 +54,7 @@ jobs:\n         run: mvn -B install -DskipTests -DskipITs -Dformat.skip\n \n       - name: Run integration tests in native\n-        run: mvn -B --settings .github/mvn-settings.xml verify -f integration-tests/pom.xml --fail-at-end -Dno-format -Ddocker -Dnative -Dquarkus.native.container-build=true -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-native-image:20.1.0-java${{ matrix.java }} -Dtest-postgresql -Dtest-elasticsearch -Dtest-mysql -Dtest-db2 -Dtest-amazon-services -Dtest-vault -Dtest-neo4j -Dtest-keycloak -Dtest-kafka -Dtest-mssql -Dtest-mariadb -Dmariadb.url=\"jdbc:mariadb://localhost:3308/hibernate_orm_test\" -pl '!io.quarkus:quarkus-integration-test-google-cloud-functions-http,!io.quarkus:quarkus-integration-test-google-cloud-functions,!integration-tests/funqy-google-cloud-function'\n+        run: mvn -B --settings .github/mvn-settings.xml verify -f integration-tests/pom.xml --fail-at-end -Dno-format -Ddocker -Dnative -Dquarkus.native.container-build=true -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-native-image:20.1.0-java${{ matrix.java }} -Dtest-postgresql -Dtest-elasticsearch -Dtest-mysql -Dtest-db2 -Dtest-amazon-services -Dtest-vault -Dtest-neo4j -Dtest-keycloak -Dtest-kafka -Dtest-mssql -Dtest-mariadb -Dmariadb.url=\"jdbc:mariadb://localhost:3308/hibernate_orm_test\" -pl '!io.quarkus:quarkus-integration-test-google-cloud-functions-http,!io.quarkus:quarkus-integration-test-google-cloud-functions'", "originalCommit": "35f0de33b19fe85af76bb703a4484b097c37d902", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0NTk3Nw==", "url": "https://github.com/quarkusio/quarkus/pull/10842#discussion_r457145977", "bodyText": "Google Cloud Functions only runs inside the Google Cloud Function Java runtime which is a Jetty server.\nThat's why it didn't runs in native.", "author": "loicmathieu", "createdAt": "2020-07-20T07:52:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjA1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0ODUzMw==", "url": "https://github.com/quarkusio/quarkus/pull/10842#discussion_r457148533", "bodyText": "For me, there is no point of running a Function in native, this will no longuer be a function as we will need to include a runtime (wich one ?), create a bridge from the function API to this runtime, find a way to listen to the function event (PubSub, Storage, ...).\nSo we will end up re-implementing the function runtime provided by Google ...", "author": "loicmathieu", "createdAt": "2020-07-20T07:56:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjA1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE1MzI3Mw==", "url": "https://github.com/quarkusio/quarkus/pull/10842#discussion_r457153273", "bodyText": "If so couldn't we configure it in the pom of these modules instead (if configuration is needed but I suppose it will just build fine and won't build a native image)? I mean it's really no biggie to build these projects, it's really not something that will take time compared to building the other native images. And preferable to having to maintain this list IMHO.", "author": "gsmet", "createdAt": "2020-07-20T08:02:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjA1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE1NTgwNQ==", "url": "https://github.com/quarkusio/quarkus/pull/10842#discussion_r457155805", "bodyText": "Azure functions didn't run on native neither ...", "author": "loicmathieu", "createdAt": "2020-07-20T08:06:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjA1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE1OTkzMA==", "url": "https://github.com/quarkusio/quarkus/pull/10842#discussion_r457159930", "bodyText": "Google Cloud Functions only works in Java 11. Native build is Java 8 that's why we exlude the ITs from the build.\nSame is done on the standard CI, the Google Cloud Functions ITs are also excluded there.", "author": "loicmathieu", "createdAt": "2020-07-20T08:12:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE0MjA1MA=="}], "type": "inlineReview"}, {"oid": "11dc2e50f4ba3761404f2910a384a231611df58d", "url": "https://github.com/quarkusio/quarkus/commit/11dc2e50f4ba3761404f2910a384a231611df58d", "message": "Remove invalid module from cron job\n\nFixes: #6717", "committedDate": "2020-07-20T08:07:18Z", "type": "commit"}, {"oid": "11dc2e50f4ba3761404f2910a384a231611df58d", "url": "https://github.com/quarkusio/quarkus/commit/11dc2e50f4ba3761404f2910a384a231611df58d", "message": "Remove invalid module from cron job\n\nFixes: #6717", "committedDate": "2020-07-20T08:07:18Z", "type": "forcePushed"}]}