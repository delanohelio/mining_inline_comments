{"pr_number": 11005, "pr_title": "Updating the OpenAPI Guide with latest SmallRye features", "pr_createdAt": "2020-07-27T18:47:14Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11005", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5ODExNw==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461098117", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This way you do not need to a JAX-RS `Application` class, and you can name the API different per environment.\n          \n          \n            \n            This way, you do not need to have a JAX-RS `Application` class, and you can name the API different per environment.", "author": "machi1990", "createdAt": "2020-07-27T18:50:16Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -302,6 +302,27 @@ public class ExampleApiApplication extends Application {\n }\n ----\n \n+Another option, that is a feature provided by SmallRye and not part of the specification, is to use configuration to add this global API information.\n+This way you do not need to a JAX-RS `Application` class, and you can name the API different per environment.", "originalCommit": "f680fe2dc5fb6828a20f70e1369f10ba1f9a9933", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5OTA3NA==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461099074", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * METHOD - Use the method name.\n          \n          \n            \n            * `METHOD` - Use the method name.", "author": "machi1990", "createdAt": "2020-07-27T18:51:57Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -385,6 +406,36 @@ Alternative paths are:\n Live reload of static OpenAPI document is supported during development. A modification to your OpenAPI document will be picked up on fly by Quarkus.\n ====\n \n+== Changing the openapi version\n+\n+By default, when the document is generated, the openapi version used will be `3.0.3`. If you use a static file as mentioned above, the version in the file \n+will be used. You can also define the version in SmallRye using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.openapi=3.0.2\n+----\n+\n+This might be useful if your API go through a Gateway that needs a certain version.\n+\n+== Auto-generation of OperationId\n+\n+The https://swagger.io/docs/specification/paths-and-operations/[Operation Id] can be set using the `@Operation` annotation, and is in many cases useful when using a tool to generate a client stub from the schema. \n+The Operation Id is typically used for the method name in the client stub. In SmallRye, you can auto-generate this Operation Id by using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.operationIdStrategy=METHOD\n+----\n+\n+Now you do not need to use the `@Operation` annotation. While generating the document, the method name will be used for the Operation Id.\n+\n+The strategies available for generating the Operation Id is:\n+\n+* METHOD - Use the method name.", "originalCommit": "f680fe2dc5fb6828a20f70e1369f10ba1f9a9933", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5OTE3MQ==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461099171", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * CLASS_METHOD - Use the class name (without the package) plus the method.\n          \n          \n            \n            * `CLASS_METHOD` - Use the class name (without the package) plus the method.", "author": "machi1990", "createdAt": "2020-07-27T18:52:09Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -385,6 +406,36 @@ Alternative paths are:\n Live reload of static OpenAPI document is supported during development. A modification to your OpenAPI document will be picked up on fly by Quarkus.\n ====\n \n+== Changing the openapi version\n+\n+By default, when the document is generated, the openapi version used will be `3.0.3`. If you use a static file as mentioned above, the version in the file \n+will be used. You can also define the version in SmallRye using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.openapi=3.0.2\n+----\n+\n+This might be useful if your API go through a Gateway that needs a certain version.\n+\n+== Auto-generation of OperationId\n+\n+The https://swagger.io/docs/specification/paths-and-operations/[Operation Id] can be set using the `@Operation` annotation, and is in many cases useful when using a tool to generate a client stub from the schema. \n+The Operation Id is typically used for the method name in the client stub. In SmallRye, you can auto-generate this Operation Id by using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.operationIdStrategy=METHOD\n+----\n+\n+Now you do not need to use the `@Operation` annotation. While generating the document, the method name will be used for the Operation Id.\n+\n+The strategies available for generating the Operation Id is:\n+\n+* METHOD - Use the method name.\n+* CLASS_METHOD - Use the class name (without the package) plus the method.", "originalCommit": "f680fe2dc5fb6828a20f70e1369f10ba1f9a9933", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5OTM3Mw==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461099373", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * PACKAGE_CLASS_METHOD - Use the class name plus the method name.\n          \n          \n            \n            * `PACKAGE_CLASS_METHOD` - Use the class name plus the method name.", "author": "machi1990", "createdAt": "2020-07-27T18:52:32Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -385,6 +406,36 @@ Alternative paths are:\n Live reload of static OpenAPI document is supported during development. A modification to your OpenAPI document will be picked up on fly by Quarkus.\n ====\n \n+== Changing the openapi version\n+\n+By default, when the document is generated, the openapi version used will be `3.0.3`. If you use a static file as mentioned above, the version in the file \n+will be used. You can also define the version in SmallRye using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.openapi=3.0.2\n+----\n+\n+This might be useful if your API go through a Gateway that needs a certain version.\n+\n+== Auto-generation of OperationId\n+\n+The https://swagger.io/docs/specification/paths-and-operations/[Operation Id] can be set using the `@Operation` annotation, and is in many cases useful when using a tool to generate a client stub from the schema. \n+The Operation Id is typically used for the method name in the client stub. In SmallRye, you can auto-generate this Operation Id by using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.operationIdStrategy=METHOD\n+----\n+\n+Now you do not need to use the `@Operation` annotation. While generating the document, the method name will be used for the Operation Id.\n+\n+The strategies available for generating the Operation Id is:\n+\n+* METHOD - Use the method name.\n+* CLASS_METHOD - Use the class name (without the package) plus the method.\n+* PACKAGE_CLASS_METHOD - Use the class name plus the method name.", "originalCommit": "f680fe2dc5fb6828a20f70e1369f10ba1f9a9933", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMDUxNw==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461100517", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The strategies available for generating the Operation Id is:\n          \n          \n            \n            The strategies available for generating the Operation Id are:", "author": "machi1990", "createdAt": "2020-07-27T18:54:35Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -385,6 +406,36 @@ Alternative paths are:\n Live reload of static OpenAPI document is supported during development. A modification to your OpenAPI document will be picked up on fly by Quarkus.\n ====\n \n+== Changing the openapi version\n+\n+By default, when the document is generated, the openapi version used will be `3.0.3`. If you use a static file as mentioned above, the version in the file \n+will be used. You can also define the version in SmallRye using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.openapi=3.0.2\n+----\n+\n+This might be useful if your API go through a Gateway that needs a certain version.\n+\n+== Auto-generation of OperationId\n+\n+The https://swagger.io/docs/specification/paths-and-operations/[Operation Id] can be set using the `@Operation` annotation, and is in many cases useful when using a tool to generate a client stub from the schema. \n+The Operation Id is typically used for the method name in the client stub. In SmallRye, you can auto-generate this Operation Id by using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.operationIdStrategy=METHOD\n+----\n+\n+Now you do not need to use the `@Operation` annotation. While generating the document, the method name will be used for the Operation Id.\n+\n+The strategies available for generating the Operation Id is:", "originalCommit": "f680fe2dc5fb6828a20f70e1369f10ba1f9a9933", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMTA2MA==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461101060", "bodyText": "Also wondering if this should be a table, just like Database kind to JDBC driver mapping in the datasource.adoc guide", "author": "machi1990", "createdAt": "2020-07-27T18:55:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMDUxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM0ODYwNg==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461348606", "bodyText": "Agree. Made it a table", "author": "phillip-kruger", "createdAt": "2020-07-28T06:31:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMDUxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3ODAxMQ==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461378011", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This way, you do not need to have a JAX-RS `Application` class, and you can name the API different per environment.\n          \n          \n            \n            This way, you do not need to have a JAX-RS `Application` class, and you can name the API differently per environment.", "author": "gsmet", "createdAt": "2020-07-28T07:35:00Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -302,6 +302,27 @@ public class ExampleApiApplication extends Application {\n }\n ----\n \n+Another option, that is a feature provided by SmallRye and not part of the specification, is to use configuration to add this global API information.\n+This way, you do not need to have a JAX-RS `Application` class, and you can name the API different per environment.", "originalCommit": "9363208e4e4ec2aa0b39077d012991ad296a6fdc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3ODE4Mg==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461378182", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Example, add the following to your `application.properties`:\n          \n          \n            \n            For example, add the following to your `application.properties`:", "author": "gsmet", "createdAt": "2020-07-28T07:35:22Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -302,6 +302,27 @@ public class ExampleApiApplication extends Application {\n }\n ----\n \n+Another option, that is a feature provided by SmallRye and not part of the specification, is to use configuration to add this global API information.\n+This way, you do not need to have a JAX-RS `Application` class, and you can name the API different per environment.\n+\n+Example, add the following to your `application.properties`:", "originalCommit": "9363208e4e4ec2aa0b39077d012991ad296a6fdc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3ODM2Ng==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461378366", "bodyText": "Should it be OpenAPI? And below too?", "author": "gsmet", "createdAt": "2020-07-28T07:35:43Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -385,6 +406,44 @@ Alternative paths are:\n Live reload of static OpenAPI document is supported during development. A modification to your OpenAPI document will be picked up on fly by Quarkus.\n ====\n \n+== Changing the openapi version", "originalCommit": "9363208e4e4ec2aa0b39077d012991ad296a6fdc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3ODgxNQ==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461378815", "bodyText": "Sorry for the nitpicking but you write OperationId in the title and then Operation Id here and twice below. Which one is it? Better be consistent.", "author": "gsmet", "createdAt": "2020-07-28T07:36:38Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -385,6 +406,44 @@ Alternative paths are:\n Live reload of static OpenAPI document is supported during development. A modification to your OpenAPI document will be picked up on fly by Quarkus.\n ====\n \n+== Changing the openapi version\n+\n+By default, when the document is generated, the openapi version used will be `3.0.3`. If you use a static file as mentioned above, the version in the file \n+will be used. You can also define the version in SmallRye using the following configuration:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.openapi=3.0.2\n+----\n+\n+This might be useful if your API go through a Gateway that needs a certain version.\n+\n+== Auto-generation of OperationId\n+\n+The https://swagger.io/docs/specification/paths-and-operations/[Operation Id] can be set using the `@Operation` annotation, and is in many cases useful when using a tool to generate a client stub from the schema. ", "originalCommit": "9363208e4e4ec2aa0b39077d012991ad296a6fdc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NDYzNw==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461444637", "bodyText": "should be 'similar'", "author": "Postremus", "createdAt": "2020-07-28T09:25:24Z", "path": "docs/src/main/asciidoc/openapi-swaggerui.adoc", "diffHunk": "@@ -302,6 +302,27 @@ public class ExampleApiApplication extends Application {\n }\n ----\n \n+Another option, that is a feature provided by SmallRye and not part of the specification, is to use configuration to add this global API information.\n+This way, you do not need to have a JAX-RS `Application` class, and you can name the API differently per environment.\n+\n+For example, add the following to your `application.properties`:\n+\n+[source, properties]\n+----\n+mp.openapi.extensions.smallrye.info.title=Example API\n+%dev.mp.openapi.extensions.smallrye.info.title=Example API (development)\n+%test.mp.openapi.extensions.smallrye.info.title=Example API (test)\n+mp.openapi.extensions.smallrye.info.version=1.0.1\n+mp.openapi.extensions.smallrye.info.description=Just an example service\n+mp.openapi.extensions.smallrye.info.termsOfService=Your terms here\n+mp.openapi.extensions.smallrye.info.contact.email=techsupport@example.com\n+mp.openapi.extensions.smallrye.info.contact.name=Example API Support\n+mp.openapi.extensions.smallrye.info.contact.url=http://exampleurl.com/contact\n+mp.openapi.extensions.smallrye.info.license.name=Apache 2.0\n+mp.openapi.extensions.smallrye.info.license.url=http://www.apache.org/licenses/LICENSE-2.0.html\n+----\n+\n+This will give you simular information as the `@OpenAPIDefinition` example above.", "originalCommit": "821bfeacee3bbe8282e92dc62f5af87fa1629962", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5OTMwNw==", "url": "https://github.com/quarkusio/quarkus/pull/11005#discussion_r461499307", "bodyText": "Good catch!", "author": "gsmet", "createdAt": "2020-07-28T11:07:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NDYzNw=="}], "type": "inlineReview"}, {"oid": "63812a2c1e63cbd616149ec98678788a58681650", "url": "https://github.com/quarkusio/quarkus/commit/63812a2c1e63cbd616149ec98678788a58681650", "message": "Updating the OpenAPI Guide with latest SmallRye features\n\nSigned-off-by: Phillip Kruger <phillip.kruger@gmail.com>", "committedDate": "2020-07-28T09:30:42Z", "type": "commit"}]}