{"pr_number": 11302, "pr_title": "Vertx - fix default value for VertxConfiguration#maxWorkerExecuteTime", "pr_createdAt": "2020-08-10T13:02:10Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11302", "timeline": [{"oid": "ee11be2a138f98f032caef7102519ea874df4c0b", "url": "https://github.com/quarkusio/quarkus/commit/ee11be2a138f98f032caef7102519ea874df4c0b", "message": "Vertx - fix default value for VertxConfiguration#maxWorkerExecuteTime\n\n- see also\nhttps://vertx.io/docs/apidocs/io/vertx/core/VertxOptions.html#DEFAULT_MAX_WORKER_EXECUTE_TIME\n- also add some info how to pass the duration value", "committedDate": "2020-08-10T13:09:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467891879", "bodyText": "There's a note added automatically to the generated documentation with this information, no need to add it here.", "author": "gsmet", "createdAt": "2020-08-10T13:11:32Z", "path": "extensions/vertx-core/runtime/src/main/java/io/quarkus/vertx/core/runtime/config/VertxConfiguration.java", "diffHunk": "@@ -32,12 +32,20 @@\n     /**\n      * The maximum amount of time the event loop can be blocked.\n      * Default is 2s.\n+     * <p>\n+     * The value is parsed via the {@link Duration#parse()} method.\n+     * If the value consists only of digits the converter treats the value as seconds.\n+     * If the value starts with digits the {@code PT} prefix is implicitly prepended to the value.", "originalCommit": "ee11be2a138f98f032caef7102519ea874df4c0b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MjI1NA==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467892254", "bodyText": "And maybe I would push these default values to defaultValue instead.", "author": "gsmet", "createdAt": "2020-08-10T13:12:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MzcyNg==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467893726", "bodyText": "Well, in the all-config page this info is at the bottom (read invisible) and the link \"on the type\" points to the Duration javadoc...", "author": "mkouba", "createdAt": "2020-08-10T13:14:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5NzU3MA==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467897570", "bodyText": "And maybe I would push these default values to defaultValue instead.\n\nThese are Vertx defaults. I'm not quite sure what our strategy is but it seems quite reasonable to keep the Vertx defaults...", "author": "mkouba", "createdAt": "2020-08-10T13:20:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5OTEyMQ==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467899121", "bodyText": "I agree we should keep the defaults, at least if the current values are OK for us. Now we have two options: either have them in defaultValue and be sure the doc is consistent or have the doc out of sync when Vert.x defaults are changed.\nAs for the duration, there is a small (?) that points to the note. If it's not sufficient, let's tweak the doc output. We don't want to copy this text everywhere we have a duration.", "author": "gsmet", "createdAt": "2020-08-10T13:22:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzkwOTA5Ng==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467909096", "bodyText": "have the doc out of sync when Vert.x defaults are changed.\n\nThis is probably what happen the last time ;-). None of the solutions is ideal but we should probably use our own defaults for now.\n\nAs for the duration, there is a small (?) that points to the note. If it's not sufficient, let's tweak the doc output.\n\nIt's not that small but somewhat hidden by the javadoc link (one would not expect two links side by side...).", "author": "mkouba", "createdAt": "2020-08-10T13:38:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzkxNDc0OA==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467914748", "bodyText": "(one would not expect two links side by side...).\n\nI don't see why not? Maybe we should add a tooltip on the (?) icon? Or maybe we should just drop the Javadoc link as I don't think it brings anything useful.", "author": "gsmet", "createdAt": "2020-08-10T13:46:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzkxNjU5NQ==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r467916595", "bodyText": "I don't see why not?\n\nWell, usually if there is a link followed by an icon it represents a \"single item\". It's like a menu item which is usually text + icon.\n\nOr maybe we should just drop the Javadoc link\n\n+1", "author": "mkouba", "createdAt": "2020-08-10T13:49:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzg5MTg3OQ=="}], "type": "inlineReview"}, {"oid": "ae60417a393b3874464cdbc4a4cc52d0fbd0125c", "url": "https://github.com/quarkusio/quarkus/commit/ae60417a393b3874464cdbc4a4cc52d0fbd0125c", "message": "Vertx - fix default value for VertxConfiguration#maxWorkerExecuteTime\n\n- see also\nhttps://vertx.io/docs/apidocs/io/vertx/core/VertxOptions.html#DEFAULT_MAX_WORKER_EXECUTE_TIME", "committedDate": "2020-08-10T13:46:23Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY3NDcxOA==", "url": "https://github.com/quarkusio/quarkus/pull/11302#discussion_r468674718", "bodyText": "The nice thing is that you can drop the default from the javadoc now. That's why I asked :).", "author": "gsmet", "createdAt": "2020-08-11T15:35:33Z", "path": "extensions/vertx-core/runtime/src/main/java/io/quarkus/vertx/core/runtime/config/VertxConfiguration.java", "diffHunk": "@@ -33,8 +32,8 @@\n      * The maximum amount of time the event loop can be blocked.\n      * Default is 2s.\n      */\n-    @ConfigItem\n-    public Optional<Duration> maxEventLoopExecuteTime;\n+    @ConfigItem(defaultValue = \"2\")", "originalCommit": "ae60417a393b3874464cdbc4a4cc52d0fbd0125c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2800fec22e6699cbc2c2da760b6d6bccb08a5427", "url": "https://github.com/quarkusio/quarkus/commit/2800fec22e6699cbc2c2da760b6d6bccb08a5427", "message": "Vertx - fix default value for VertxConfiguration#maxWorkerExecuteTime\n\n- see also\nhttps://vertx.io/docs/apidocs/io/vertx/core/VertxOptions.html#DEFAULT_MAX_WORKER_EXECUTE_TIME", "committedDate": "2020-08-12T07:48:37Z", "type": "commit"}, {"oid": "2800fec22e6699cbc2c2da760b6d6bccb08a5427", "url": "https://github.com/quarkusio/quarkus/commit/2800fec22e6699cbc2c2da760b6d6bccb08a5427", "message": "Vertx - fix default value for VertxConfiguration#maxWorkerExecuteTime\n\n- see also\nhttps://vertx.io/docs/apidocs/io/vertx/core/VertxOptions.html#DEFAULT_MAX_WORKER_EXECUTE_TIME", "committedDate": "2020-08-12T07:48:37Z", "type": "forcePushed"}]}