{"pr_number": 10293, "pr_title": "Gcp HTTP functions improvements", "pr_createdAt": "2020-06-26T07:29:25Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10293", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExMzk4OA==", "url": "https://github.com/quarkusio/quarkus/pull/10293#discussion_r446113988", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The result of the previous command is a single JAR file inside the `target/deployment` repository that contains classes and dependencies of the project.\n          \n          \n            \n            The result of the previous command is a single JAR file inside the `target/deployment` directory that contains the classes and the dependencies of the project.", "author": "gsmet", "createdAt": "2020-06-26T10:56:37Z", "path": "docs/src/main/asciidoc/gcp-functions-http.adoc", "diffHunk": "@@ -140,33 +142,18 @@ public class GreetingRoutes {\n \n == Build and Deploy to Google Cloud\n \n-To build your application, you first need to define a packaging of type `uber-jar` via your `application.properties`.\n-\n-[source]\n-----\n-quarkus.package.uber-jar=true\n-----\n+NOTE: Quarkus forces a packaging of type `uber-jar` for your function as Google Cloud Function deployment requires a single JAR.\n \n Package your application using the standard `mvn clean package` command.\n-The result of the previous command is a single JAR file inside the `target` repository that contains classes and dependencies of the project.\n-\n-To deploy your JAR to Google Cloud, you need to pass a directory with only this JAR inside it, to the `gcloud` utility.\n-\n-So first, create a `deployment` directory and copy the generated artifact inside it.\n-\n-[source]\n-----\n-mkdir deployment\n-cp target/google-cloud-functions-http-1.0-SNAPSHOT-runner.jar deployment/\n-----\n+The result of the previous command is a single JAR file inside the `target/deployment` repository that contains classes and dependencies of the project.", "originalCommit": "5da0f92149e16cf289e005b4d99452436e98e1d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExNDE4MA==", "url": "https://github.com/quarkusio/quarkus/pull/10293#discussion_r446114180", "bodyText": "just to be sure, it's normal it's a \\ and not a /?", "author": "gsmet", "createdAt": "2020-06-26T10:57:05Z", "path": "docs/src/main/asciidoc/gcp-functions-http.adoc", "diffHunk": "@@ -140,33 +142,18 @@ public class GreetingRoutes {\n \n == Build and Deploy to Google Cloud\n \n-To build your application, you first need to define a packaging of type `uber-jar` via your `application.properties`.\n-\n-[source]\n-----\n-quarkus.package.uber-jar=true\n-----\n+NOTE: Quarkus forces a packaging of type `uber-jar` for your function as Google Cloud Function deployment requires a single JAR.\n \n Package your application using the standard `mvn clean package` command.\n-The result of the previous command is a single JAR file inside the `target` repository that contains classes and dependencies of the project.\n-\n-To deploy your JAR to Google Cloud, you need to pass a directory with only this JAR inside it, to the `gcloud` utility.\n-\n-So first, create a `deployment` directory and copy the generated artifact inside it.\n-\n-[source]\n-----\n-mkdir deployment\n-cp target/google-cloud-functions-http-1.0-SNAPSHOT-runner.jar deployment/\n-----\n+The result of the previous command is a single JAR file inside the `target/deployment` repository that contains classes and dependencies of the project.\n \n Then you will be able to use `gcloud` to deploy your function to Google Cloud.\n \n [source]\n ----\n gcloud beta functions deploy quarkus-example-http \\\n   --entry-point=io.quarkus.gcp.functions.http.QuarkusHttpFunction \\\n-  --runtime=java11 --trigger-http --source=deployment\n+  --runtime=java11 --trigger-http --source=target\\deployment", "originalCommit": "5da0f92149e16cf289e005b4d99452436e98e1d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjEzMTc1MA==", "url": "https://github.com/quarkusio/quarkus/pull/10293#discussion_r446131750", "bodyText": "No, I'll change it", "author": "loicmathieu", "createdAt": "2020-06-26T11:39:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExNDE4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE3NTkxMA==", "url": "https://github.com/quarkusio/quarkus/pull/10293#discussion_r446175910", "bodyText": "done", "author": "loicmathieu", "createdAt": "2020-06-26T13:14:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExNDE4MA=="}], "type": "inlineReview"}, {"oid": "b14c11fbdb05c6964a697990e846b33c55378cc4", "url": "https://github.com/quarkusio/quarkus/commit/b14c11fbdb05c6964a697990e846b33c55378cc4", "message": "Set the extension experimental", "committedDate": "2020-06-26T12:47:33Z", "type": "commit"}, {"oid": "d7452a0689e3b933ec022e289257e277b5ba0b8e", "url": "https://github.com/quarkusio/quarkus/commit/d7452a0689e3b933ec022e289257e277b5ba0b8e", "message": "Add a test\n\nIt uses Quarkus Vert.x instead of a function invoker so it is not testing the Functon infrastructure.", "committedDate": "2020-06-26T12:47:33Z", "type": "commit"}, {"oid": "66a349a79e1921c8a18b69a45f35258bf3c84f5b", "url": "https://github.com/quarkusio/quarkus/commit/66a349a79e1921c8a18b69a45f35258bf3c84f5b", "message": "Packaging improvement", "committedDate": "2020-06-26T12:48:21Z", "type": "commit"}, {"oid": "66a349a79e1921c8a18b69a45f35258bf3c84f5b", "url": "https://github.com/quarkusio/quarkus/commit/66a349a79e1921c8a18b69a45f35258bf3c84f5b", "message": "Packaging improvement", "committedDate": "2020-06-26T12:48:21Z", "type": "forcePushed"}]}