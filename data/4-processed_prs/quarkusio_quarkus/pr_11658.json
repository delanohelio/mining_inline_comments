{"pr_number": 11658, "pr_title": "Allow Vert.x compressed responses", "pr_createdAt": "2020-08-27T01:51:57Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11658", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzk0OTkxNg==", "url": "https://github.com/quarkusio/quarkus/pull/11658#discussion_r477949916", "bodyText": "Is that a typo? Should it instead say \"... not to compress the response.\"", "author": "jaikiran", "createdAt": "2020-08-27T02:26:04Z", "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/HttpConfiguration.java", "diffHunk": "@@ -203,6 +203,19 @@\n     @ConfigItem\n     public Map<String, SameSiteCookieConfig> sameSiteCookie;\n \n+    /**\n+     * If responses should be compressed.\n+     *\n+     * Note that this will attempt to compress all responses, to avoid compressing\n+     * already compressed content (such as images) you need to set the following header:\n+     * \n+     * Content-Encoding: identity\n+     * \n+     * Which will tell vert.x not to encode the response.", "originalCommit": "8e63015d2d2415f31ea4d8cd8be21f3ea90e1473", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzk1NzA1Mw==", "url": "https://github.com/quarkusio/quarkus/pull/11658#discussion_r477957053", "bodyText": "Fixed", "author": "stuartwdouglas", "createdAt": "2020-08-27T02:31:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Nzk0OTkxNg=="}], "type": "inlineReview"}, {"oid": "040bf356d7728c94f2b4a22cd15216fc029dfe88", "url": "https://github.com/quarkusio/quarkus/commit/040bf356d7728c94f2b4a22cd15216fc029dfe88", "message": "Allow Vert.x compressed responses\n\nThe allows Vert.x to serve gzip or\ndeflate encoded responses.", "committedDate": "2020-08-27T02:30:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI5ODU5Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11658#discussion_r478298597", "bodyText": "Open question but is it user friendly enough? Could we maybe have rules based on content types?", "author": "gsmet", "createdAt": "2020-08-27T09:55:15Z", "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/HttpConfiguration.java", "diffHunk": "@@ -203,6 +203,19 @@\n     @ConfigItem\n     public Map<String, SameSiteCookieConfig> sameSiteCookie;\n \n+    /**\n+     * If responses should be compressed.\n+     *\n+     * Note that this will attempt to compress all responses, to avoid compressing\n+     * already compressed content (such as images) you need to set the following header:\n+     * \n+     * Content-Encoding: identity\n+     * \n+     * Which will tell vert.x not to compress the response.\n+     */\n+    @ConfigItem\n+    public boolean enableCompression;", "originalCommit": "040bf356d7728c94f2b4a22cd15216fc029dfe88", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc3NTI3OA==", "url": "https://github.com/quarkusio/quarkus/pull/11658#discussion_r478775278", "bodyText": "AFAIK this is all that Vert.x provides under the hood. We could provide additional config to install a handler I guess.", "author": "stuartwdouglas", "createdAt": "2020-08-28T01:04:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI5ODU5Nw=="}], "type": "inlineReview"}, {"oid": "b1dbf7c9a416dd20e401bb73a5c251fe624e3ca6", "url": "https://github.com/quarkusio/quarkus/commit/b1dbf7c9a416dd20e401bb73a5c251fe624e3ca6", "message": "Allow Vert.x compressed responses\n\nThe allows Vert.x to serve gzip or\ndeflate encoded responses.", "committedDate": "2020-08-30T16:33:09Z", "type": "commit"}, {"oid": "b1dbf7c9a416dd20e401bb73a5c251fe624e3ca6", "url": "https://github.com/quarkusio/quarkus/commit/b1dbf7c9a416dd20e401bb73a5c251fe624e3ca6", "message": "Allow Vert.x compressed responses\n\nThe allows Vert.x to serve gzip or\ndeflate encoded responses.", "committedDate": "2020-08-30T16:33:09Z", "type": "forcePushed"}]}