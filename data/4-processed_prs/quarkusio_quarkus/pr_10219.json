{"pr_number": 10219, "pr_title": "Make sure that Flyway resources are only processed once", "pr_createdAt": "2020-06-24T11:01:14Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10219", "timeline": [{"oid": "33b7c30da6239fb3c4407532c8bdecd8e5c7cebb", "url": "https://github.com/quarkusio/quarkus/commit/33b7c30da6239fb3c4407532c8bdecd8e5c7cebb", "message": "Make sure that Flyway resources are only processed once\n\nFixes: #10215", "committedDate": "2020-06-24T10:58:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MDgzNw==", "url": "https://github.com/quarkusio/quarkus/pull/10219#discussion_r444840837", "bodyText": "nice one @geoand", "author": "sirAlexander", "createdAt": "2020-06-24T11:56:26Z", "path": "extensions/flyway/deployment/src/main/java/io/quarkus/flyway/FlywayProcessor.java", "diffHunk": "@@ -196,9 +195,9 @@ ServiceStartBuildItem createBeansAndStartActions(FlywayRecorder recorder,\n         return migrationLocations;\n     }\n \n-    private List<String> discoverApplicationMigrations(Collection<String> locations) throws IOException, URISyntaxException {\n+    private Set<String> discoverApplicationMigrations(Collection<String> locations) throws IOException, URISyntaxException {\n         try {\n-            List<String> applicationMigrationResources = new ArrayList<>();\n+            Set<String> applicationMigrationResources = new HashSet<>();", "originalCommit": "33b7c30da6239fb3c4407532c8bdecd8e5c7cebb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MjA5NA==", "url": "https://github.com/quarkusio/quarkus/pull/10219#discussion_r444842094", "bodyText": "Yeah, because we do resource discovery at build time we need this to avoid duplicated being passed to Flyway", "author": "geoand", "createdAt": "2020-06-24T11:59:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MDgzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg1OTM2OQ==", "url": "https://github.com/quarkusio/quarkus/pull/10219#discussion_r444859369", "bodyText": "Will this fix make it into 1.5.3?", "author": "sirAlexander", "createdAt": "2020-06-24T12:32:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MDgzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg2MDQ3MA==", "url": "https://github.com/quarkusio/quarkus/pull/10219#discussion_r444860470", "bodyText": "There won't be a 1.5.3 most likely. It should hopefully be in the upcoming 1.6.0.CR1.\ncc @gsmet", "author": "geoand", "createdAt": "2020-06-24T12:34:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MDgzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkzNzcyOQ==", "url": "https://github.com/quarkusio/quarkus/pull/10219#discussion_r444937729", "bodyText": "any ETA on 1.6.0.CR1.", "author": "sirAlexander", "createdAt": "2020-06-24T14:31:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MDgzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkzOTk3Ng==", "url": "https://github.com/quarkusio/quarkus/pull/10219#discussion_r444939976", "bodyText": "Should be in a few days", "author": "geoand", "createdAt": "2020-06-24T14:33:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDg0MDgzNw=="}], "type": "inlineReview"}]}