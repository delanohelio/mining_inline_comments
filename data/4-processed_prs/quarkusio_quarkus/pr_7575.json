{"pr_number": 7575, "pr_title": "Document the fact that Panache stream methods should be closed", "pr_createdAt": "2020-03-04T16:02:25Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/7575", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgzMjA5Mg==", "url": "https://github.com/quarkusio/quarkus/pull/7575#discussion_r387832092", "bodyText": "Better use a try with resources IMHO.", "author": "gsmet", "createdAt": "2020-03-04T17:50:38Z", "path": "docs/src/main/asciidoc/hibernate-orm-panache.adoc", "diffHunk": "@@ -209,9 +209,12 @@ List<String> namesButEmmanuels = persons\n     .map(p -> p.name.toLowerCase() )\n     .filter( n -> ! \"emmanuel\".equals(n) )\n     .collect(Collectors.toList());\n+persons.close(); // close the stream to release I/O resources", "originalCommit": "4a587648915507ff2cce8c2a6315b22c129efd4d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzg0ODE4OA==", "url": "https://github.com/quarkusio/quarkus/pull/7575#discussion_r387848188", "bodyText": "Yes,  I agree,  was too lazy to refactor the code ... will do it tomorrow", "author": "loicmathieu", "createdAt": "2020-03-04T18:20:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgzMjA5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgzMjQ1OA==", "url": "https://github.com/quarkusio/quarkus/pull/7575#discussion_r387832458", "bodyText": "Can you add backticks around the two ResultSet occurrences?", "author": "gsmet", "createdAt": "2020-03-04T17:51:18Z", "path": "docs/src/main/asciidoc/hibernate-orm-panache.adoc", "diffHunk": "@@ -209,9 +209,12 @@ List<String> namesButEmmanuels = persons\n     .map(p -> p.name.toLowerCase() )\n     .filter( n -> ! \"emmanuel\".equals(n) )\n     .collect(Collectors.toList());\n+persons.close(); // close the stream to release I/O resources\n ----\n \n-NOTE: The `stream` methods require a transaction to work.\n+NOTE: The `stream` methods require a transaction to work. +\n+As they perform I/O operations, they should be closed via the `close()` method or via a try-with-resource to close the underlying ResultSet.\n+If not, you will see warnings from Agroal that will close the underlying ResultSet for you.", "originalCommit": "4a587648915507ff2cce8c2a6315b22c129efd4d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f4aef28a513d60e8824082b99f1cbe8d37af06c3", "url": "https://github.com/quarkusio/quarkus/commit/f4aef28a513d60e8824082b99f1cbe8d37af06c3", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492", "committedDate": "2020-03-05T08:44:41Z", "type": "forcePushed"}, {"oid": "9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "url": "https://github.com/quarkusio/quarkus/commit/9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492", "committedDate": "2020-03-05T10:08:20Z", "type": "commit"}, {"oid": "9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "url": "https://github.com/quarkusio/quarkus/commit/9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492", "committedDate": "2020-03-05T10:08:20Z", "type": "forcePushed"}]}