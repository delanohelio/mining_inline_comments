{"pr_number": 11343, "pr_title": "Document domain socket support for Postgres and MySQL reactive clients", "pr_createdAt": "2020-08-12T11:00:47Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11343", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTIwMTMzMg==", "url": "https://github.com/quarkusio/quarkus/pull/11343#discussion_r469201332", "bodyText": "Can you drop the YAML part? We don't have it in the other guides and we definitely don't want to have that everywhere (except if one day, we have a nice tab feature allowing to display both nicely).", "author": "gsmet", "createdAt": "2020-08-12T11:52:18Z", "path": "docs/src/main/asciidoc/reactive-sql-clients.adoc", "diffHunk": "@@ -523,6 +523,66 @@ return SqlClientHelper.inTransactionUni(client, tx -> tx\n         .onItem().ignore().andContinueWithNull());\n ----\n \n+== UNIX Domain Socket connections\n+\n+The PostgreSQL and MariaDB/MySQL clients can be configured to connect to the server through a UNIX domain socket.\n+\n+First make sure that https://quarkus.io/guides/vertx#native-transport[native transport support] is enabled.\n+\n+Then configure the database connection url.\n+This step depends on the database type.\n+\n+=== PostgreSQL\n+\n+PostgresSQL domain socket path have the following form: `<directory>/.s.PGSQL.<port>`\n+\n+The database connection url must be configured so that:\n+\n+* the `host` is the `directory` in the socket path\n+* the `port` is the `port` in the socket path\n+\n+Consider the following socket path: `/var/run/postgresql/.s.PGSQL.5432`.\n+\n+In `application.properties` add:\n+\n+[source,properties]\n+----\n+quarkus.datasource.reactive.url=postgresql://:5432/quarkus_test?host=/var/run/postgresql\n+----\n+\n+Or in `application.yml`:\n+\n+[source,yaml]\n+----\n+quarkus:\n+  datasource:\n+    reactive:\n+      url: postgresql://:5432/quarkus_test?host=/var/run/postgresql\n+----", "originalCommit": "b9e483563a0853515291d006a9b69ceb3b46dc48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTIyMzIyMQ==", "url": "https://github.com/quarkusio/quarkus/pull/11343#discussion_r469223221", "bodyText": "Done", "author": "tsegismont", "createdAt": "2020-08-12T12:30:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTIwMTMzMg=="}], "type": "inlineReview"}, {"oid": "cd5a5c9c5914f9d66e41323b219b820b6951397d", "url": "https://github.com/quarkusio/quarkus/commit/cd5a5c9c5914f9d66e41323b219b820b6951397d", "message": "Document domain socket support for Postgres and MySQL reactive clients\n\nFixes #10583", "committedDate": "2020-08-12T12:29:35Z", "type": "forcePushed"}, {"oid": "ee2588bd293250dd2ac0c4e468755ae685fb52d7", "url": "https://github.com/quarkusio/quarkus/commit/ee2588bd293250dd2ac0c4e468755ae685fb52d7", "message": "Document domain socket support for Postgres and MySQL reactive clients\n\nFixes #10583", "committedDate": "2020-08-12T12:31:37Z", "type": "commit"}, {"oid": "ee2588bd293250dd2ac0c4e468755ae685fb52d7", "url": "https://github.com/quarkusio/quarkus/commit/ee2588bd293250dd2ac0c4e468755ae685fb52d7", "message": "Document domain socket support for Postgres and MySQL reactive clients\n\nFixes #10583", "committedDate": "2020-08-12T12:31:37Z", "type": "forcePushed"}]}