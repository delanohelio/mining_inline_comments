{"pr_number": 8433, "pr_title": "Pass args for command-mode application to dev-mode.", "pr_createdAt": "2020-04-07T07:02:40Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8433", "timeline": [{"oid": "f7bd18fffe9ce727c92012c1bdf838345f207a6d", "url": "https://github.com/quarkusio/quarkus/commit/f7bd18fffe9ce727c92012c1bdf838345f207a6d", "message": "Pass args for command-mode application to dev-mode.\n\n- Integrations for Maven and Gradle\n- Documentation", "committedDate": "2020-04-07T19:37:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE3NjQ1OQ==", "url": "https://github.com/quarkusio/quarkus/pull/8433#discussion_r405176459", "bodyText": "This does not really deal with escaping, but I guess we can handle that later.", "author": "stuartwdouglas", "createdAt": "2020-04-07T23:41:52Z", "path": "devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java", "diffHunk": "@@ -640,7 +643,8 @@ void prepare() throws Exception {\n             }\n             args.add(\"-jar\");\n             args.add(tempFile.getAbsolutePath());\n-\n+            if (argsString != null)\n+                args.addAll(Arrays.asList(argsString.split(\" \")));", "originalCommit": "f7bd18fffe9ce727c92012c1bdf838345f207a6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI5ODA4Nw==", "url": "https://github.com/quarkusio/quarkus/pull/8433#discussion_r405298087", "bodyText": "I have dug up the correct way to escape from the JavaExecMojo.\nShould be properly escaped now.", "author": "38leinaD", "createdAt": "2020-04-08T06:57:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE3NjQ1OQ=="}], "type": "inlineReview"}, {"oid": "f0b112683c33ff9f37f1bc2dec8c9bbd46d1520f", "url": "https://github.com/quarkusio/quarkus/commit/f0b112683c33ff9f37f1bc2dec8c9bbd46d1520f", "message": "Pass args for command-mode application to dev-mode.\n\n- Integrations for Maven and Gradle\n- Documentation", "committedDate": "2020-04-08T06:56:05Z", "type": "forcePushed"}, {"oid": "6d7b7a32573b57cf7ab34b4318a283ee5c0e4de0", "url": "https://github.com/quarkusio/quarkus/commit/6d7b7a32573b57cf7ab34b4318a283ee5c0e4de0", "message": "Pass args for command-mode application to dev-mode.\n\n- Integrations for Maven and Gradle\n- Documentation", "committedDate": "2020-04-08T16:41:46Z", "type": "commit"}, {"oid": "6d7b7a32573b57cf7ab34b4318a283ee5c0e4de0", "url": "https://github.com/quarkusio/quarkus/commit/6d7b7a32573b57cf7ab34b4318a283ee5c0e4de0", "message": "Pass args for command-mode application to dev-mode.\n\n- Integrations for Maven and Gradle\n- Documentation", "committedDate": "2020-04-08T16:41:46Z", "type": "forcePushed"}, {"oid": "4a9495b95e290a285ca77ef1141ab480222362e0", "url": "https://github.com/quarkusio/quarkus/commit/4a9495b95e290a285ca77ef1141ab480222362e0", "message": "Add a config class to avoid a warning for -Dquarkus.args=...", "committedDate": "2020-04-10T12:19:47Z", "type": "commit"}, {"oid": "4a9495b95e290a285ca77ef1141ab480222362e0", "url": "https://github.com/quarkusio/quarkus/commit/4a9495b95e290a285ca77ef1141ab480222362e0", "message": "Add a config class to avoid a warning for -Dquarkus.args=...", "committedDate": "2020-04-10T12:19:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MDAwMQ==", "url": "https://github.com/quarkusio/quarkus/pull/8433#discussion_r406980001", "bodyText": "is this really the right thing to do ?\nmaybe we should rename it to something different at maven level so there is no collision ?\nhaving args as just a string seems counter to how we otherwise treat args in rest of quarkus (as a String[] or eventually a List). ?", "author": "maxandersen", "createdAt": "2020-04-10T23:18:06Z", "path": "core/runtime/src/main/java/io/quarkus/runtime/CommandLineRuntimeConfig.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package io.quarkus.runtime;\n+\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigPhase;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+/**\n+ * This configuration class is here to avoid warnings when using {@code -Dquarkus.args=...}.", "originalCommit": "4a9495b95e290a285ca77ef1141ab480222362e0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzAzNDA3NA==", "url": "https://github.com/quarkusio/quarkus/pull/8433#discussion_r407034074", "bodyText": "We do that a lot.\nAs for string vs list, see the comment, I can't be more explicit.\nAs for all the other knobs we introduced to avoid the warnings, they are not supposed to be used. That's what we decided a long time ago rather than having an ignore list (which we had at some point).\nWe could introduce a special converter to split the things in the same way Maven is doing things but I don't think it's worth it. And we would probably have to copy Maven code to be exactly on par.\nBTW, I think we need that PR for 1.4 so blocking the PR just for that seems counterproductive.", "author": "gsmet", "createdAt": "2020-04-11T08:11:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MDAwMQ=="}], "type": "inlineReview"}]}