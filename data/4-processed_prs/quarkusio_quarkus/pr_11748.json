{"pr_number": 11748, "pr_title": "When using Secrets, config functionality should be auto enabled", "pr_createdAt": "2020-08-31T13:07:50Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11748", "timeline": [{"oid": "9bad2c9b09d5f5aad27f8162143b1124d556dbc3", "url": "https://github.com/quarkusio/quarkus/commit/9bad2c9b09d5f5aad27f8162143b1124d556dbc3", "message": "Merge pull request #11482 from vietk/bugfix/jaxrs-support-openapi-annotation\n\nFix for Constructor injection when using OpenApi annotations in JAX-Rs resource", "committedDate": "2020-08-21T12:00:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIyNDYzNg==", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481224636", "bodyText": "enabling secrets, then config maps are enabled\n\nI believe I've modified the configMap to not load the configMap if quarkus.kubernetes-config.enabled=false. What do you think?", "author": "ketoketo", "createdAt": "2020-09-01T15:19:08Z", "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProvider.java", "diffHunk": "@@ -38,10 +41,10 @@ public KubernetesConfigSourceProvider(KubernetesConfigSourceConfig config, Kuber\n         }\n \n         List<ConfigSource> result = new ArrayList<>();\n-        if (config.configMaps.isPresent()) {\n+        if (config.enabled && config.configMaps.isPresent()) {", "originalCommit": "ad4a2c0a06f3c488c194118cfd54529233e63dbe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIyNzU2Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481227567", "bodyText": "I'll take a closer look tomorrow", "author": "geoand", "createdAt": "2020-09-01T15:23:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIyNDYzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM5MjY1NA==", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481392654", "bodyText": "Ah right, I hadn't seen this!", "author": "geoand", "createdAt": "2020-09-01T19:51:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIyNDYzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM5NDk1Mg==", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481394952", "bodyText": "Minor nitpick: Please avoid using start imports", "author": "geoand", "createdAt": "2020-09-01T19:55:45Z", "path": "extensions/kubernetes-config/runtime/src/test/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProviderTest.java", "diffHunk": "@@ -13,10 +14,7 @@\n import org.junit.jupiter.api.Test;\n import org.mockito.Mockito;\n \n-import io.fabric8.kubernetes.api.model.ConfigMap;\n-import io.fabric8.kubernetes.api.model.ConfigMapBuilder;\n-import io.fabric8.kubernetes.api.model.ConfigMapList;\n-import io.fabric8.kubernetes.api.model.DoneableConfigMap;\n+import io.fabric8.kubernetes.api.model.*;", "originalCommit": "ad4a2c0a06f3c488c194118cfd54529233e63dbe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTUzODAwMQ==", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481538001", "bodyText": "Fixed it", "author": "ketoketo", "createdAt": "2020-09-02T01:44:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM5NDk1Mg=="}], "type": "inlineReview"}, {"oid": "f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "url": "https://github.com/quarkusio/quarkus/commit/f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "message": "Fix to read secrets when secrets.enabled is true\n\nfix integration test\n\nfix log\n\nfix import", "committedDate": "2020-09-01T22:51:08Z", "type": "commit"}, {"oid": "f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "url": "https://github.com/quarkusio/quarkus/commit/f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "message": "Fix to read secrets when secrets.enabled is true\n\nfix integration test\n\nfix log\n\nfix import", "committedDate": "2020-09-01T22:51:08Z", "type": "forcePushed"}]}