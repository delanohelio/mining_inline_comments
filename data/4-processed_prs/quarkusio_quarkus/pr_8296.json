{"pr_number": 8296, "pr_title": "ArC - select alternatives through the MicroProfile Config", "pr_createdAt": "2020-03-31T10:05:07Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8296", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwMzExNw==", "url": "https://github.com/quarkusio/quarkus/pull/8296#discussion_r401203117", "bodyText": "How does this work for producer methods? You talk about them in the paragraph above but this section only mentions classes.", "author": "stuartwdouglas", "createdAt": "2020-03-31T20:43:42Z", "path": "docs/src/main/asciidoc/cdi-reference.adoc", "diffHunk": "@@ -408,6 +426,33 @@ public class CustomTracerConfiguration {\n `@DefaultBean` allows extensions (or any other code for that matter) to provide defaults while backing off if beans of that type are supplied in any\n way Quarkus supports.\n \n+=== Declaring Selected Alternatives\n+\n+In CDI, an alternative bean may be selected either globally for an application by means of `@Priority`, or for a bean archive using a `beans.xml` descriptor.\n+Quarkus has a simplified bean discovery and the content of `beans.xml` is ignored.\n+\n+The disadvantage of `@Priority` is that it has `@Target({ TYPE, PARAMETER })` and so it cannot be used for producer methods and fields.\n+To address this problem and to simplify the code Quarkus provides the `io.quarkus.arc.AlternativePriority` annotation.\n+It's basically a shortcut for `@Alternative` plus `@Priority`.\n+Additionaly, it can be used for producers.\n+\n+However, it is also possible to select alternatives for an application using the unified configuration.\n+The `quarkus.arc.selected-alternatives` property accepts a list of string values.", "originalCommit": "1ece8b927061560ad134b43f10d798c35600c4d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQzNjg5OA==", "url": "https://github.com/quarkusio/quarkus/pull/8296#discussion_r401436898", "bodyText": "You should state the declaring class for producers - it's the same as in beans.xml. I'll update the docs.", "author": "mkouba", "createdAt": "2020-04-01T08:20:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwMzExNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTQ0MjM3Nw==", "url": "https://github.com/quarkusio/quarkus/pull/8296#discussion_r401442377", "bodyText": "Is it better now?", "author": "mkouba", "createdAt": "2020-04-01T08:30:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwMzExNw=="}], "type": "inlineReview"}, {"oid": "8d5d32a8453544a8026d28c3ed724c917f01d5d7", "url": "https://github.com/quarkusio/quarkus/commit/8d5d32a8453544a8026d28c3ed724c917f01d5d7", "message": "Declaring selected alternatives - add some docs", "committedDate": "2020-04-01T08:29:12Z", "type": "forcePushed"}, {"oid": "2db27a30a5a526c9cfd6d774bdb0f69d1df26992", "url": "https://github.com/quarkusio/quarkus/commit/2db27a30a5a526c9cfd6d774bdb0f69d1df26992", "message": "ArC - select alternatives though the MicroProfile Config\n\n- resolves #8135", "committedDate": "2020-04-01T11:25:26Z", "type": "commit"}, {"oid": "7fae1004f840c6e7b1589eb085d080387bd34ff2", "url": "https://github.com/quarkusio/quarkus/commit/7fae1004f840c6e7b1589eb085d080387bd34ff2", "message": "Declaring selected alternatives - add some docs", "committedDate": "2020-04-01T11:31:44Z", "type": "commit"}, {"oid": "7fae1004f840c6e7b1589eb085d080387bd34ff2", "url": "https://github.com/quarkusio/quarkus/commit/7fae1004f840c6e7b1589eb085d080387bd34ff2", "message": "Declaring selected alternatives - add some docs", "committedDate": "2020-04-01T11:31:44Z", "type": "forcePushed"}]}