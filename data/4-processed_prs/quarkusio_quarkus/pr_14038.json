{"pr_number": 14038, "pr_title": "Improve error message for missing wrong/named parameters", "pr_createdAt": "2020-12-23T20:21:56Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/14038", "timeline": [{"oid": "7894ecd86fdd4581d3f4735b863bfd97a935f284", "url": "https://github.com/quarkusio/quarkus/commit/7894ecd86fdd4581d3f4735b863bfd97a935f284", "message": "Better error message for missing/wrong named parameters, include Repository name in error message", "committedDate": "2020-12-23T20:45:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2ODc5Nw==", "url": "https://github.com/quarkusio/quarkus/pull/14038#discussion_r548468797", "bodyText": "I don't think we need the comment TBH - that comment is best left on the issue (as you have already done)", "author": "geoand", "createdAt": "2020-12-24T09:39:13Z", "path": "extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/CustomQueryMethodsAdder.java", "diffHunk": "@@ -150,6 +153,19 @@ public void add(ClassCreator classCreator, FieldDescriptor entityClassFieldDescr\n             try (MethodCreator methodCreator = classCreator.getMethodCreator(method.name(), methodReturnTypeDotName.toString(),\n                     methodParameterTypesStr)) {\n \n+                Set<String> usedNamedParameters = extractNamedParameters(queryString);\n+                if (!usedNamedParameters.isEmpty()) {\n+                    Set<String> missingParameters = new LinkedHashSet<>(usedNamedParameters);\n+                    missingParameters.removeAll(namedParameterToIndex.keySet());\n+                    if (!missingParameters.isEmpty()) {\n+                        // better error message than \"Could not locate ordinal parameter [1], expecting one of []\"", "originalCommit": "7894ecd86fdd4581d3f4735b863bfd97a935f284", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUxMzU3Mw==", "url": "https://github.com/quarkusio/quarkus/pull/14038#discussion_r548513573", "bodyText": "Yes, you're right. I removed it.", "author": "renegrob", "createdAt": "2020-12-24T12:17:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2ODc5Nw=="}], "type": "inlineReview"}, {"oid": "45ec95a770ed0fba75800d5ae8aaa1ddd49d161c", "url": "https://github.com/quarkusio/quarkus/commit/45ec95a770ed0fba75800d5ae8aaa1ddd49d161c", "message": "Better error message for missing/wrong named parameters, include Repository name in error message", "committedDate": "2020-12-24T12:16:24Z", "type": "commit"}, {"oid": "45ec95a770ed0fba75800d5ae8aaa1ddd49d161c", "url": "https://github.com/quarkusio/quarkus/commit/45ec95a770ed0fba75800d5ae8aaa1ddd49d161c", "message": "Better error message for missing/wrong named parameters, include Repository name in error message", "committedDate": "2020-12-24T12:16:24Z", "type": "forcePushed"}]}