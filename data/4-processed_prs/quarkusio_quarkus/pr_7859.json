{"pr_number": 7859, "pr_title": "Add a section in the documentation about placeholder usage", "pr_createdAt": "2020-03-13T21:59:38Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/7859", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NTUxOA==", "url": "https://github.com/quarkusio/quarkus/pull/7859#discussion_r392555518", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            will result on the value of the `callable.url` property to be at compilation time\n          \n          \n            \n            will result on the value of the `callable.url` property to be set at build time", "author": "gastaldi", "createdAt": "2020-03-14T04:24:24Z", "path": "docs/src/main/asciidoc/config.adoc", "diffHunk": "@@ -442,6 +442,52 @@ The proper way to check the active profile programmatically is to use the `getAc\n Using `@ConfigProperty(\"quarkus.profile\")` will *not* work properly.\n ====\n \n+=== Using placeholders\n+\n+Quarkus supports the use of placeholders in the application.properties file. This allows the replacement of the used string by the value on compilation time.\n+\n+The placeholder can be used by enclosing the key inside `${}`.\n+\n+For example having the following property:\n+\n+[source,properties]\n+----\n+remote.host=google.com\n+----\n+having another property defined as\n+\n+[source,properties]\n+----\n+callable.url=http://${remote.host}/\n+----\n+\n+will result on the value of the `callable.url` property to be at compilation time", "originalCommit": "39fc45e1a5db65c067e96d419decef23d6dc15be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NTYyMQ==", "url": "https://github.com/quarkusio/quarkus/pull/7859#discussion_r392555621", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            remote.host=google.com\n          \n          \n            \n            remote.host=quarkus.io\n          \n      \n    \n    \n  \n\nNo big deal, just a \"eat our own dog food\" thing \ud83d\ude04", "author": "gastaldi", "createdAt": "2020-03-14T04:26:18Z", "path": "docs/src/main/asciidoc/config.adoc", "diffHunk": "@@ -442,6 +442,52 @@ The proper way to check the active profile programmatically is to use the `getAc\n Using `@ConfigProperty(\"quarkus.profile\")` will *not* work properly.\n ====\n \n+=== Using placeholders\n+\n+Quarkus supports the use of placeholders in the application.properties file. This allows the replacement of the used string by the value on compilation time.\n+\n+The placeholder can be used by enclosing the key inside `${}`.\n+\n+For example having the following property:\n+\n+[source,properties]\n+----\n+remote.host=google.com", "originalCommit": "39fc45e1a5db65c067e96d419decef23d6dc15be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwOTIxNA==", "url": "https://github.com/quarkusio/quarkus/pull/7859#discussion_r392609214", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Quarkus supports the use of placeholders in the application.properties file. This allows the replacement of the used string by the value on compilation time.\n          \n          \n            \n            Quarkus supports the use of placeholders in the `application.properties` file on build time.", "author": "gastaldi", "createdAt": "2020-03-14T18:34:18Z", "path": "docs/src/main/asciidoc/config.adoc", "diffHunk": "@@ -442,6 +442,76 @@ The proper way to check the active profile programmatically is to use the `getAc\n Using `@ConfigProperty(\"quarkus.profile\")` will *not* work properly.\n ====\n \n+=== Using placeholders\n+\n+Quarkus supports the use of placeholders in the application.properties file. This allows the replacement of the used string by the value on compilation time.", "originalCommit": "3a4895eec35f38255f8adc106cfc88346c541408", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYxMDE0MA==", "url": "https://github.com/quarkusio/quarkus/pull/7859#discussion_r392610140", "bodyText": "Actually, this didn't work for me. To get the effect that is described, I had to do:\napplication.host=${HOST:${remote.host}}\n\nWhich also means that something like this would even work:\napplication.host=${HOST:${remote.host:localhost}}\n\nWould you like to give it a shot and update if you see the same effect?", "author": "geoand", "createdAt": "2020-03-14T18:46:53Z", "path": "docs/src/main/asciidoc/config.adoc", "diffHunk": "@@ -488,6 +488,30 @@ quarkus.datasource.url=jdbc:mysql://${application.server}:3306/mydatabase?useSSL\n \n It does result in one more line in this example but the value of `application.server` can be reused in other properties, diminishing the possibility of typos and providing more flexibility in properties definitions.\n \n+=== Combining placeholders and environment variables\n+\n+Quarkus also supports the combination of both placeholders and environment variables.\n+\n+Let's assume you have following property defined in `application.properties`\n+[source,properties]\n+----\n+remote.host=quarkus.io\n+----\n+\n+You can combine environment variables and placeholders by having a property defined as follow\n+[source,properties]\n+----\n+application.host=${HOST:remote.host}\n+----\n+\n+This will expand the HOST environment variable and use the value of the property `remote.host` as the default value if `HOST` is not set.", "originalCommit": "3a4895eec35f38255f8adc106cfc88346c541408", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f194799a84dab13b0b338863c25e673cb7ed8f9b", "url": "https://github.com/quarkusio/quarkus/commit/f194799a84dab13b0b338863c25e673cb7ed8f9b", "message": "Placeholders section - Unnecessary lines removed", "committedDate": "2020-03-17T18:28:30Z", "type": "commit"}]}