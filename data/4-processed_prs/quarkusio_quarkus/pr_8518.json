{"pr_number": 8518, "pr_title": "Update to vertx 3.9.0", "pr_createdAt": "2020-04-10T10:04:20Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8518", "timeline": [{"oid": "8c0ae303b342b287a60de9581660d431b8bbb56e", "url": "https://github.com/quarkusio/quarkus/commit/8c0ae303b342b287a60de9581660d431b8bbb56e", "message": "Fix cookie issue", "committedDate": "2020-04-16T02:32:47Z", "type": "forcePushed"}, {"oid": "ea4be3a79dabdfd7fccedd02a54e3fc21248462b", "url": "https://github.com/quarkusio/quarkus/commit/ea4be3a79dabdfd7fccedd02a54e3fc21248462b", "message": "Fix cookie issue", "committedDate": "2020-04-16T03:58:35Z", "type": "forcePushed"}, {"oid": "e2e6c2a2369610fe8fd8366c4d60db59406921dd", "url": "https://github.com/quarkusio/quarkus/commit/e2e6c2a2369610fe8fd8366c4d60db59406921dd", "message": "Declare new (optional) dependency from the Reactive PG Client\n\nThe upstream dependency is marked as optional, which fails the native build.", "committedDate": "2020-04-21T06:40:11Z", "type": "forcePushed"}, {"oid": "ad91573c44b04d37e121011ba47ebab6a4d03dae", "url": "https://github.com/quarkusio/quarkus/commit/ad91573c44b04d37e121011ba47ebab6a4d03dae", "message": "Fix some corner cases in QuarkusClassLoader", "committedDate": "2020-04-21T08:10:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjEzOTc4MQ==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412139781", "bodyText": "The version should be parameterized.", "author": "gsmet", "createdAt": "2020-04-21T12:27:44Z", "path": "bom/runtime/pom.xml", "diffHunk": "@@ -2446,6 +2446,12 @@\n                 <artifactId>smallrye-mutiny-vertx-pg-client</artifactId>\n                 <version>${mutiny-client.version}</version>\n             </dependency>\n+            <dependency>\n+                <!-- Used by the Reactive PG Client -->\n+                <groupId>com.ongres.scram</groupId>\n+                <artifactId>client</artifactId>\n+                <version>2.1</version>", "originalCommit": "ad91573c44b04d37e121011ba47ebab6a4d03dae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0Njk3Mg==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412146972", "bodyText": "oops missed it.", "author": "cescoffier", "createdAt": "2020-04-21T12:38:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjEzOTc4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE2Mjc0Ng==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412162746", "bodyText": "Done.", "author": "cescoffier", "createdAt": "2020-04-21T13:00:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjEzOTc4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0MDE5NQ==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412140195", "bodyText": "We also need the Quarkus version here. People won't know in which version we introduced the change.", "author": "gsmet", "createdAt": "2020-04-21T12:28:20Z", "path": "docs/src/main/asciidoc/reactive-sql-clients.adoc", "diffHunk": "@@ -184,14 +184,21 @@ It returns a `Uni` and thus can be composed to execute queries sequentially:\n \n [source,java]\n ----\n- client.query(\"DROP TABLE IF EXISTS fruits\")\n-    .flatMap(r -> client.query(\"CREATE TABLE fruits (id SERIAL PRIMARY KEY, name TEXT NOT NULL)\"))\n-    .flatMap(r -> client.query(\"INSERT INTO fruits (name) VALUES ('Orange')\"))\n-    .flatMap(r -> client.query(\"INSERT INTO fruits (name) VALUES ('Pear')\"))\n-    .flatMap(r -> client.query(\"INSERT INTO fruits (name) VALUES ('Apple')\"))\n+ client.query(\"DROP TABLE IF EXISTS fruits\").execute()\n+    .flatMap(r -> client.query(\"CREATE TABLE fruits (id SERIAL PRIMARY KEY, name TEXT NOT NULL)\").execute())\n+    .flatMap(r -> client.query(\"INSERT INTO fruits (name) VALUES ('Orange')\").execute())\n+    .flatMap(r -> client.query(\"INSERT INTO fruits (name) VALUES ('Pear')\").execute())\n+    .flatMap(r -> client.query(\"INSERT INTO fruits (name) VALUES ('Apple')\").execute())\n     .await().indefinitely();\n ----\n \n+[IMPORTANT]\n+.Breaking Change\n+====\n+Vert.x 3.9 introduces a breaking change regarding the `query` methods.", "originalCommit": "ad91573c44b04d37e121011ba47ebab6a4d03dae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0Njg4MA==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412146880", "bodyText": "Yes, but I didn't know the version until today.", "author": "cescoffier", "createdAt": "2020-04-21T12:37:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0MDE5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0NzE4MA==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412147180", "bodyText": "Note that I need to add a few lines to the breaking changes document", "author": "cescoffier", "createdAt": "2020-04-21T12:38:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0MDE5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE2MjY0MQ==", "url": "https://github.com/quarkusio/quarkus/pull/8518#discussion_r412162641", "bodyText": "Done.", "author": "cescoffier", "createdAt": "2020-04-21T12:59:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE0MDE5NQ=="}], "type": "inlineReview"}, {"oid": "65d2c885570cc91dfa861d5fc7ad381deb825ae4", "url": "https://github.com/quarkusio/quarkus/commit/65d2c885570cc91dfa861d5fc7ad381deb825ae4", "message": "Fix some corner cases in QuarkusClassLoader", "committedDate": "2020-04-21T12:59:16Z", "type": "forcePushed"}, {"oid": "713f3280b910b44be59384470c2b262fca8544ed", "url": "https://github.com/quarkusio/quarkus/commit/713f3280b910b44be59384470c2b262fca8544ed", "message": "Update Vert.x and Netty versions\n\nUpdate Vert.x version to 3.9.0\nUpdate Netty version to 4.1.48.Final (aligned with the version used by Vert.x)\nUpdate Axle / Mutiny Vert.x client to 0.0.15 (version using Vert.x 3.9.0)", "committedDate": "2020-04-22T13:22:45Z", "type": "commit"}, {"oid": "ea2ae2f9d4a64f06cfd364fca3adc0ce8e8f238e", "url": "https://github.com/quarkusio/quarkus/commit/ea2ae2f9d4a64f06cfd364fca3adc0ce8e8f238e", "message": "Vert.x 3.9 comes with a breaking change around the SQL clients\n\nThis commit used the new API. The old API does not work anymore (compilation issue)", "committedDate": "2020-04-22T13:22:48Z", "type": "commit"}, {"oid": "25fb5aafcc9f6cb758dc7768762f2328522c0973", "url": "https://github.com/quarkusio/quarkus/commit/25fb5aafcc9f6cb758dc7768762f2328522c0973", "message": "Update documentation to reflect the breaking change from Vert.x SQL Client 3.9.0", "committedDate": "2020-04-22T13:22:48Z", "type": "commit"}, {"oid": "9702995bf17ccfb5f71f7e2f25d79277e9fe305e", "url": "https://github.com/quarkusio/quarkus/commit/9702995bf17ccfb5f71f7e2f25d79277e9fe305e", "message": "Fix netty substitution\n\nDo not delete the field, but replace all the usages.", "committedDate": "2020-04-22T13:22:48Z", "type": "commit"}, {"oid": "325be7dafbe41a0600fdc890526337b6e266d8c8", "url": "https://github.com/quarkusio/quarkus/commit/325be7dafbe41a0600fdc890526337b6e266d8c8", "message": "Vert.x Web BodyHandler does not allow processing GET methods anymore", "committedDate": "2020-04-22T13:22:48Z", "type": "commit"}, {"oid": "530441a3c58f00c9a68bdedc5510507c6fed3971", "url": "https://github.com/quarkusio/quarkus/commit/530441a3c58f00c9a68bdedc5510507c6fed3971", "message": "Declare new (optional) dependency from the Reactive PG Client\n\nThe upstream dependency is marked as optional, which fails the native build.", "committedDate": "2020-04-22T13:22:49Z", "type": "commit"}, {"oid": "ae19472cc5c166d49a4a105597780de4366d89c0", "url": "https://github.com/quarkusio/quarkus/commit/ae19472cc5c166d49a4a105597780de4366d89c0", "message": "Fix some corner cases in QuarkusClassLoader", "committedDate": "2020-04-22T13:22:49Z", "type": "commit"}, {"oid": "ae19472cc5c166d49a4a105597780de4366d89c0", "url": "https://github.com/quarkusio/quarkus/commit/ae19472cc5c166d49a4a105597780de4366d89c0", "message": "Fix some corner cases in QuarkusClassLoader", "committedDate": "2020-04-22T13:22:49Z", "type": "forcePushed"}]}