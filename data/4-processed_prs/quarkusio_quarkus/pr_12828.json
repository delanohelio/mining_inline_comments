{"pr_number": 12828, "pr_title": "Use buildtool build command in Dockerfile documentation", "pr_createdAt": "2020-10-20T14:02:22Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/12828", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODUzNTUwNA==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508535504", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      package-fast-jar: build -Dquarkus.package.type=fast-jat\n          \n          \n            \n                      package-fast-jar: build -Dquarkus.package.type=fast-jar", "author": "ia3andy", "createdAt": "2020-10-20T14:03:45Z", "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/gradle/codestart.yml", "diffHunk": "@@ -20,7 +20,8 @@ language:\n         cmd:\n           dev: quarkusDev\n           package: build\n-          package-uberjar: build --Dquarkus.package.type=uber-jar\n+          package-uber-jar: build -Dquarkus.package.type=uber-jar\n+          package-fast-jar: build -Dquarkus.package.type=fast-jat", "originalCommit": "2fabd242e7c9f65f4d75691e9b7893e286bacefa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5NTc2NQ==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508595765", "bodyText": "right, nice catch! I fixed it.", "author": "glefloch", "createdAt": "2020-10-20T15:14:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODUzNTUwNA=="}], "type": "inlineReview"}, {"oid": "9096045a31392ccf9f7b037aa203e0cfd34956c7", "url": "https://github.com/quarkusio/quarkus/commit/9096045a31392ccf9f7b037aa203e0cfd34956c7", "message": "Use buildtool build command in Dockerfile documentation", "committedDate": "2020-10-20T15:13:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1ODg4MQ==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508658881", "bodyText": "Why this check was removed?", "author": "gastaldi", "createdAt": "2020-10-20T16:11:39Z", "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/QuarkusCodestartGenerationTest.java", "diffHunk": "@@ -519,13 +519,11 @@ private void checkNoExample(Path projectDir) {\n     private void checkDockerfiles(Path projectDir) {\n         assertThat(projectDir.resolve(\".dockerignore\")).exists();\n         assertThat(projectDir.resolve(\"src/main/docker/Dockerfile.jvm\")).exists()\n-                .satisfies(checkContains(\"mvn package\"))", "originalCommit": "9096045a31392ccf9f7b037aa203e0cfd34956c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY2MDIzNQ==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508660235", "bodyText": "Good catch!", "author": "ia3andy", "createdAt": "2020-10-20T16:13:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1ODg4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY2MDgyMA==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508660820", "bodyText": "ah because it depends on the buildtool now :)", "author": "ia3andy", "createdAt": "2020-10-20T16:13:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1ODg4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY2NDQxNw==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508664417", "bodyText": "In this case, the checkDockerfiles should have an extra parameter for the expected build tool command. I think it's nice to still have that check", "author": "gastaldi", "createdAt": "2020-10-20T16:17:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1ODg4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY2NjY0Mw==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508666643", "bodyText": "+1 yeah I guess it should be fairly easy", "author": "ia3andy", "createdAt": "2020-10-20T16:20:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1ODg4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY5ODgzOA==", "url": "https://github.com/quarkusio/quarkus/pull/12828#discussion_r508698838", "bodyText": "Yes you are right, I will add checks depending on the buildtool", "author": "glefloch", "createdAt": "2020-10-20T17:10:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY1ODg4MQ=="}], "type": "inlineReview"}, {"oid": "a0fcba85d3308eddec2871c65667d703a499f69f", "url": "https://github.com/quarkusio/quarkus/commit/a0fcba85d3308eddec2871c65667d703a499f69f", "message": "Use buildtool build command in Dockerfile documentation", "committedDate": "2020-10-20T18:13:38Z", "type": "commit"}, {"oid": "a0fcba85d3308eddec2871c65667d703a499f69f", "url": "https://github.com/quarkusio/quarkus/commit/a0fcba85d3308eddec2871c65667d703a499f69f", "message": "Use buildtool build command in Dockerfile documentation", "committedDate": "2020-10-20T18:13:38Z", "type": "forcePushed"}]}