{"pr_number": 8515, "pr_title": "MongoDB documentation improvements", "pr_createdAt": "2020-04-10T07:54:43Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8515", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY1MDIyOA==", "url": "https://github.com/quarkusio/quarkus/pull/8515#discussion_r406650228", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            As MongoDB with Panache allow writing simplified queries, it is sometimes handy to log the generated native queries for debugging purpose.\n          \n          \n            \n            As MongoDB with Panache allows writing simplified queries, it is sometimes handy to log the generated native queries for debugging purpose.", "author": "geoand", "createdAt": "2020-04-10T07:59:45Z", "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -637,6 +637,17 @@ TIP: Using `@BsonProperty` is not needed to define custom column mappings, as th\n \n TIP: You can have your projection class extends from another class. In this case, the parent class also needs to have use `@ProjectionFor` annotation.\n \n+== Query debugging\n+\n+As MongoDB with Panache allow writing simplified queries, it is sometimes handy to log the generated native queries for debugging purpose.", "originalCommit": "11956d4cbcbf6ba99e617998c0c5477f0e26f60d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY1MDY1OA==", "url": "https://github.com/quarkusio/quarkus/pull/8515#discussion_r406650658", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Using multiple MongoDB clients allow to implements multi-tenancy for MongoDB by allowing to connect to multiple MongoDB clusters. +\n          \n          \n            \n            The use of multiple MongoDB clients enables multi-tenancy for MongoDB by allowing to connect to multiple MongoDB clusters. +", "author": "geoand", "createdAt": "2020-04-10T08:01:01Z", "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -236,6 +236,14 @@ Notice there's an extra bit in the key (the `users` and `inventory` segments).\n The syntax is as follows: `quarkus.mongodb.[optional name.][mongo connection property]`.\n If the name is omitted, it configures the default client.\n \n+[NOTE]\n+====\n+Using multiple MongoDB clients allow to implements multi-tenancy for MongoDB by allowing to connect to multiple MongoDB clusters. +", "originalCommit": "11956d4cbcbf6ba99e617998c0c5477f0e26f60d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY1MTI2Nw==", "url": "https://github.com/quarkusio/quarkus/pull/8515#discussion_r406651267", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            you can use the same client as a client is able to access all databases on the same cluster\n          \n          \n            \n            multiple clients are **not** necessary as a single client is able to access all databases in the same cluster", "author": "geoand", "createdAt": "2020-04-10T08:02:57Z", "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -236,6 +236,14 @@ Notice there's an extra bit in the key (the `users` and `inventory` segments).\n The syntax is as follows: `quarkus.mongodb.[optional name.][mongo connection property]`.\n If the name is omitted, it configures the default client.\n \n+[NOTE]\n+====\n+Using multiple MongoDB clients allow to implements multi-tenancy for MongoDB by allowing to connect to multiple MongoDB clusters. +\n+If you want to connect to multiple databases inside the same cluster,\n+you can use the same client as a client is able to access all databases on the same cluster", "originalCommit": "11956d4cbcbf6ba99e617998c0c5477f0e26f60d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY1MjkwNQ==", "url": "https://github.com/quarkusio/quarkus/pull/8515#discussion_r406652905", "bodyText": "the remedy is to add the @RegisterForReflection annotation to your MyVariable class.", "author": "geoand", "createdAt": "2020-04-10T08:07:55Z", "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -598,6 +606,13 @@ Currently, Quarkus doesn't support the `mongodb+srv` protocol in native mode.\n link:https://docs.mongodb.com/manual/core/security-client-side-encryption/[Client-Side Field Level Encryption] is also not supported in native mode.\n ====\n \n+[TIP]\n+====\n+If you encounter the following error when running your application in native mode: +\n+`Failed to encode 'MyObject'. Encoding 'myVariable' errored with: Can't find a codec for class org.acme.MyVariable.` +\n+This means that the `org.acme.MyVariable` class is not known to GraalVM, to fix this you can add the `@RegisterForReflection` annotation to your `MyVariable` class.", "originalCommit": "11956d4cbcbf6ba99e617998c0c5477f0e26f60d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2ab610c3b428d95615d9f06f952be998a8bc7be8", "url": "https://github.com/quarkusio/quarkus/commit/2ab610c3b428d95615d9f06f952be998a8bc7be8", "message": "MongoDB documentation improvements", "committedDate": "2020-04-10T08:47:30Z", "type": "commit"}, {"oid": "2ab610c3b428d95615d9f06f952be998a8bc7be8", "url": "https://github.com/quarkusio/quarkus/commit/2ab610c3b428d95615d9f06f952be998a8bc7be8", "message": "MongoDB documentation improvements", "committedDate": "2020-04-10T08:47:30Z", "type": "forcePushed"}]}