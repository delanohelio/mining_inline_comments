{"pr_number": 8727, "pr_title": "Added docker image push integration test", "pr_createdAt": "2020-04-21T15:29:37Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8727", "timeline": [{"oid": "8c0e5431ceef6b42c9735e06328311c7e6042234", "url": "https://github.com/quarkusio/quarkus/commit/8c0e5431ceef6b42c9735e06328311c7e6042234", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-21T18:37:57Z", "type": "forcePushed"}, {"oid": "508f4bf99b17ee96acb3ab961e194b69da8ba61d", "url": "https://github.com/quarkusio/quarkus/commit/508f4bf99b17ee96acb3ab961e194b69da8ba61d", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-21T19:47:18Z", "type": "forcePushed"}, {"oid": "3281fd6146084e33380bf9e877d9caf98aa8f536", "url": "https://github.com/quarkusio/quarkus/commit/3281fd6146084e33380bf9e877d9caf98aa8f536", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-22T10:07:02Z", "type": "forcePushed"}, {"oid": "31ecdc23899b6d42cd0ff2bbbb2aad166ab1a3f5", "url": "https://github.com/quarkusio/quarkus/commit/31ecdc23899b6d42cd0ff2bbbb2aad166ab1a3f5", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-22T10:20:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkyOTU1Mg==", "url": "https://github.com/quarkusio/quarkus/pull/8727#discussion_r412929552", "bodyText": "I added the following but this is causing errors as well\nRun apt-get clean\nE: Could not open lock file /var/cache/apt/archives/lock - open (13: Permission denied)\nE: Unable to lock directory /var/cache/apt/archives/\nE: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/\nW: Problem unlinking the file /var/cache/apt/pkgcache.bin - RemoveCaches (13: Permission denied)\nW: Problem unlinking the file /var/cache/apt/srcpkgcache.bin - RemoveCaches (13: Permission denied)\n##[error]Process completed with exit code 100.", "author": "cemnura", "createdAt": "2020-04-22T12:16:29Z", "path": ".github/workflows/ci-actions.yml", "diffHunk": "@@ -157,6 +157,10 @@ jobs:\n           docker run --rm --publish 127.0.0.1:3306:3306 --name build-mysql -e MYSQL_USER=$DB_USER -e MYSQL_PASSWORD=$DB_PASSWORD -e MYSQL_DATABASE=$DB_NAME -e MYSQL_RANDOM_ROOT_PASSWORD=true -e MYSQL_DATABASE=hibernate_orm_test -d mysql:5 --skip-ssl\n       - uses: actions/checkout@v2\n \n+      - name: apt clean\n+        shell: bash\n+        run: apt-get clean", "originalCommit": "31ecdc23899b6d42cd0ff2bbbb2aad166ab1a3f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAwNjk3OA==", "url": "https://github.com/quarkusio/quarkus/pull/8727#discussion_r413006978", "bodyText": "Did you try with sudo?", "author": "geoand", "createdAt": "2020-04-22T13:58:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkyOTU1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA2MjA2Nw==", "url": "https://github.com/quarkusio/quarkus/pull/8727#discussion_r413062067", "bodyText": "No I did not let me give it a shot.", "author": "cemnura", "createdAt": "2020-04-22T15:02:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkyOTU1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE2MTE2MQ==", "url": "https://github.com/quarkusio/quarkus/pull/8727#discussion_r413161161", "bodyText": "I was able to pass the previous error. Some CI pipelines failed and some succeeded.\nCheck the CI result:\nhttps://github.com/cemnura/quarkus/actions/runs/84857147\n020-04-22T16:11:04.3382964Z The output of the Quarkus build can be found at /home/runner/work/quarkus/quarkus/integration-tests/container-image/quarkus-standard-way/target/quarkus-prod-mode-test2089507702421412883/build-result\n2020-04-22T16:11:04.3916470Z [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 447.227 s <<< FAILURE! - in io.quarkus.it.container.image.ContainerImagePushTest\n2020-04-22T16:11:04.3924641Z [ERROR] io.quarkus.it.container.image.ContainerImagePushTest  Time elapsed: 447.224 s  <<< ERROR!\n2020-04-22T16:11:04.3928741Z java.lang.RuntimeException: \n2020-04-22T16:11:04.3930364Z java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n2020-04-22T16:11:04.3932279Z \t[error]: Build step io.quarkus.container.image.jib.deployment.JibProcessor#buildFromJar threw an exception: java.lang.RuntimeException: Unable to create container image\n2020-04-22T16:11:04.3935978Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.containerize(JibProcessor.java:130)\n2020-04-22T16:11:04.3937693Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.buildFromJar(JibProcessor.java:84)\n2020-04-22T16:11:04.3939269Z \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2020-04-22T16:11:04.3941094Z \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2020-04-22T16:11:04.3942520Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2020-04-22T16:11:04.3942741Z \tat java.lang.reflect.Method.invoke(Method.java:498)\n2020-04-22T16:11:04.3944716Z \tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:931)\n2020-04-22T16:11:04.3944947Z \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n2020-04-22T16:11:04.3945189Z \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n2020-04-22T16:11:04.3948529Z \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2027)\n2020-04-22T16:11:04.3948790Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1551)\n2020-04-22T16:11:04.3949018Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1442)\n2020-04-22T16:11:04.3949214Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.3949436Z \tat org.jboss.threads.JBossThread.run(JBossThread.java:479)\n2020-04-22T16:11:04.3949639Z Caused by: java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.3955615Z \tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:552)\n2020-04-22T16:11:04.3955892Z \tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:533)\n2020-04-22T16:11:04.3956120Z \tat com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:82)\n2020-04-22T16:11:04.3956342Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.realizeFutures(StepsRunner.java:94)\n2020-04-22T16:11:04.3956576Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.lambda$pushImages$11(StepsRunner.java:387)\n2020-04-22T16:11:04.3956801Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n2020-04-22T16:11:04.3957031Z \tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\n2020-04-22T16:11:04.3957273Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n2020-04-22T16:11:04.3957501Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2020-04-22T16:11:04.3957724Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2020-04-22T16:11:04.3957940Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.3969161Z Caused by: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.3969353Z \n2020-04-22T16:11:04.3969548Z \tat io.quarkus.test.QuarkusProdModeTest.beforeAll(QuarkusProdModeTest.java:376)\n2020-04-22T16:11:04.3969812Z \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$7(ClassBasedTestDescriptor.java:359)\n2020-04-22T16:11:04.3970027Z \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n2020-04-22T16:11:04.3970283Z \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:359)\n2020-04-22T16:11:04.3970497Z \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:189)\n2020-04-22T16:11:04.3970972Z \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:78)\n2020-04-22T16:11:04.3971203Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:132)\n2020-04-22T16:11:04.3971426Z \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n2020-04-22T16:11:04.3971713Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n2020-04-22T16:11:04.3971957Z \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n2020-04-22T16:11:04.3972165Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n2020-04-22T16:11:04.3972409Z \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n2020-04-22T16:11:04.3972618Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n2020-04-22T16:11:04.3972931Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n2020-04-22T16:11:04.3973150Z \tat java.util.ArrayList.forEach(ArrayList.java:1257)\n2020-04-22T16:11:04.3973365Z \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n2020-04-22T16:11:04.3973627Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n2020-04-22T16:11:04.3973836Z \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n2020-04-22T16:11:04.3974076Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n2020-04-22T16:11:04.3974274Z \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n2020-04-22T16:11:04.3974494Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n2020-04-22T16:11:04.3974726Z \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n2020-04-22T16:11:04.3974950Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n2020-04-22T16:11:04.3975193Z \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n2020-04-22T16:11:04.3995454Z \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n2020-04-22T16:11:04.3995801Z \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n2020-04-22T16:11:04.3996019Z \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n2020-04-22T16:11:04.3996248Z \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n2020-04-22T16:11:04.3996479Z \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n2020-04-22T16:11:04.3996710Z \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n2020-04-22T16:11:04.3996933Z \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n2020-04-22T16:11:04.3997154Z \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n2020-04-22T16:11:04.3997366Z \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:142)\n2020-04-22T16:11:04.3997600Z \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:117)\n2020-04-22T16:11:04.3997828Z \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\n2020-04-22T16:11:04.3998050Z \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\n2020-04-22T16:11:04.3998416Z \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\n2020-04-22T16:11:04.3998627Z \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\n2020-04-22T16:11:04.3998859Z Caused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n2020-04-22T16:11:04.3999202Z \t[error]: Build step io.quarkus.container.image.jib.deployment.JibProcessor#buildFromJar threw an exception: java.lang.RuntimeException: Unable to create container image\n2020-04-22T16:11:04.3999426Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.containerize(JibProcessor.java:130)\n2020-04-22T16:11:04.3999642Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.buildFromJar(JibProcessor.java:84)\n2020-04-22T16:11:04.3999860Z \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2020-04-22T16:11:04.4000052Z \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2020-04-22T16:11:04.4000293Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2020-04-22T16:11:04.4000495Z \tat java.lang.reflect.Method.invoke(Method.java:498)\n2020-04-22T16:11:04.4000721Z \tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:931)\n2020-04-22T16:11:04.4001161Z \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n2020-04-22T16:11:04.4001739Z \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n2020-04-22T16:11:04.4002315Z \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2027)\n2020-04-22T16:11:04.4002531Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1551)\n2020-04-22T16:11:04.4002697Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1442)\n2020-04-22T16:11:04.4003096Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.4003214Z \tat org.jboss.threads.JBossThread.run(JBossThread.java:479)\n2020-04-22T16:11:04.4003370Z Caused by: java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.4003493Z \tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:552)\n2020-04-22T16:11:04.4003900Z \tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:533)\n2020-04-22T16:11:04.4037860Z \tat com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:82)\n2020-04-22T16:11:04.4038267Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.realizeFutures(StepsRunner.java:94)\n2020-04-22T16:11:04.4038784Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.lambda$pushImages$11(StepsRunner.java:387)\n2020-04-22T16:11:04.4039941Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n2020-04-22T16:11:04.4040230Z \tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\n2020-04-22T16:11:04.4042600Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n2020-04-22T16:11:04.4042744Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2020-04-22T16:11:04.4042883Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2020-04-22T16:11:04.4043021Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.4043125Z Caused by: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.4043204Z \n2020-04-22T16:11:04.4043305Z \tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:247)\n2020-04-22T16:11:04.4043446Z \tat io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:87)\n2020-04-22T16:11:04.4043584Z \tat io.quarkus.test.QuarkusProdModeTest.beforeAll(QuarkusProdModeTest.java:343)\n2020-04-22T16:11:04.4043702Z \t... 37 more\n2020-04-22T16:11:04.4043825Z Caused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n2020-04-22T16:11:04.4044158Z \t[error]: Build step io.quarkus.container.image.jib.deployment.JibProcessor#buildFromJar threw an exception: java.lang.RuntimeException: Unable to create container image\n2020-04-22T16:11:04.4044316Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.containerize(JibProcessor.java:130)\n2020-04-22T16:11:04.4044524Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.buildFromJar(JibProcessor.java:84)\n2020-04-22T16:11:04.4044651Z \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2020-04-22T16:11:04.4044777Z \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2020-04-22T16:11:04.4044908Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2020-04-22T16:11:04.4045014Z \tat java.lang.reflect.Method.invoke(Method.java:498)\n2020-04-22T16:11:04.4045137Z \tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:931)\n2020-04-22T16:11:04.4045262Z \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n2020-04-22T16:11:04.4045397Z \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n2020-04-22T16:11:04.4045519Z \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2027)\n2020-04-22T16:11:04.4045664Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1551)\n2020-04-22T16:11:04.4045801Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1442)\n2020-04-22T16:11:04.4045927Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.4046046Z \tat org.jboss.threads.JBossThread.run(JBossThread.java:479)\n2020-04-22T16:11:04.4046163Z Caused by: java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.4046294Z \tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:552)\n2020-04-22T16:11:04.4046424Z \tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:533)\n2020-04-22T16:11:04.4046555Z \tat com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:82)\n2020-04-22T16:11:04.4046686Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.realizeFutures(StepsRunner.java:94)\n2020-04-22T16:11:04.4046811Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.lambda$pushImages$11(StepsRunner.java:387)\n2020-04-22T16:11:04.4047130Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n2020-04-22T16:11:04.4047273Z \tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\n2020-04-22T16:11:04.4047413Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n2020-04-22T16:11:04.4047546Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2020-04-22T16:11:04.4047658Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2020-04-22T16:11:04.4047783Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.4047902Z Caused by: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.4047962Z \n2020-04-22T16:11:04.4048072Z \tat io.quarkus.builder.Execution.run(Execution.java:115)\n2020-04-22T16:11:04.4048201Z \tat io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\n2020-04-22T16:11:04.4048325Z \tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:147)\n2020-04-22T16:11:04.4048454Z \tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:245)\n2020-04-22T16:11:04.4048555Z \t... 39 more\n2020-04-22T16:11:04.4048675Z Caused by: java.lang.RuntimeException: Unable to create container image\n2020-04-22T16:11:04.4048812Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.containerize(JibProcessor.java:130)\n2020-04-22T16:11:04.4048943Z \tat io.quarkus.container.image.jib.deployment.JibProcessor.buildFromJar(JibProcessor.java:84)\n2020-04-22T16:11:04.4049119Z \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2020-04-22T16:11:04.4083729Z \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2020-04-22T16:11:04.4085022Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2020-04-22T16:11:04.4085434Z \tat java.lang.reflect.Method.invoke(Method.java:498)\n2020-04-22T16:11:04.4085562Z \tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:931)\n2020-04-22T16:11:04.4085737Z \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n2020-04-22T16:11:04.4085856Z \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n2020-04-22T16:11:04.4085997Z \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2027)\n2020-04-22T16:11:04.4086136Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1551)\n2020-04-22T16:11:04.4086279Z \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1442)\n2020-04-22T16:11:04.4086404Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.4086504Z \tat org.jboss.threads.JBossThread.run(JBossThread.java:479)\n2020-04-22T16:11:04.4086636Z Caused by: java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: Java heap space\n2020-04-22T16:11:04.4086776Z \tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:552)\n2020-04-22T16:11:04.4086904Z \tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:533)\n2020-04-22T16:11:04.4087033Z \tat com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:82)\n2020-04-22T16:11:04.4087150Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.realizeFutures(StepsRunner.java:94)\n2020-04-22T16:11:04.4087285Z \tat com.google.cloud.tools.jib.builder.steps.StepsRunner.lambda$pushImages$11(StepsRunner.java:387)\n2020-04-22T16:11:04.4087439Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n2020-04-22T16:11:04.4087580Z \tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:57)\n2020-04-22T16:11:04.4087718Z \tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n2020-04-22T16:11:04.4087854Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2020-04-22T16:11:04.4087969Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2020-04-22T16:11:04.4088092Z \tat java.lang.Thread.run(Thread.java:748)\n2020-04-22T16:11:04.4088206Z Caused by: java.lang.OutOfMemoryError: Java heap space\n\nWould it be nice to open a docker registry as a service such as\n\n  \n    \n      quarkus/.github/workflows/ci-actions.yml\n    \n    \n        Lines 104 to 113\n      in\n      c20c800\n    \n    \n    \n    \n\n        \n          \n           services: \n        \n\n        \n          \n             keycloak: \n        \n\n        \n          \n               image: quay.io/keycloak/keycloak:9.0.2 \n        \n\n        \n          \n               env: \n        \n\n        \n          \n                 KEYCLOAK_USER: admin \n        \n\n        \n          \n                 KEYCLOAK_PASSWORD: admin \n        \n\n        \n          \n                 JAVA_OPTS: \"-server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Dkeycloak.profile.feature.upload_scripts=enabled\" \n        \n\n        \n          \n               ports: \n        \n\n        \n          \n                 - 127.0.0.1:8180:8080 \n        \n\n        \n          \n                 - 127.0.0.1:8543:8443", "author": "cemnura", "createdAt": "2020-04-22T17:07:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjkyOTU1Mg=="}], "type": "inlineReview"}, {"oid": "5dbe4d99db86ad825eac406b8018fa1ed6179f27", "url": "https://github.com/quarkusio/quarkus/commit/5dbe4d99db86ad825eac406b8018fa1ed6179f27", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-22T15:03:23Z", "type": "forcePushed"}, {"oid": "b55bbcc5e5e82482a1cbe4cde48f88b30dbd1f73", "url": "https://github.com/quarkusio/quarkus/commit/b55bbcc5e5e82482a1cbe4cde48f88b30dbd1f73", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-23T16:01:33Z", "type": "forcePushed"}, {"oid": "5f1d063ec85a59e879acb6a753c18e95deb69f4b", "url": "https://github.com/quarkusio/quarkus/commit/5f1d063ec85a59e879acb6a753c18e95deb69f4b", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-25T22:42:28Z", "type": "forcePushed"}, {"oid": "bb143a93764b1e3c8ab504e7cfa933c9d6d1b04d", "url": "https://github.com/quarkusio/quarkus/commit/bb143a93764b1e3c8ab504e7cfa933c9d6d1b04d", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-27T22:46:25Z", "type": "forcePushed"}, {"oid": "f1d7241763cbf3604b4b69eb89909fe542fa1982", "url": "https://github.com/quarkusio/quarkus/commit/f1d7241763cbf3604b4b69eb89909fe542fa1982", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-28T18:05:07Z", "type": "commit"}, {"oid": "f1d7241763cbf3604b4b69eb89909fe542fa1982", "url": "https://github.com/quarkusio/quarkus/commit/f1d7241763cbf3604b4b69eb89909fe542fa1982", "message": "Added docker image push integration test\n\nSigned-off-by: Cem Nura <cem.nura@gmail.com>", "committedDate": "2020-04-28T18:05:07Z", "type": "forcePushed"}]}