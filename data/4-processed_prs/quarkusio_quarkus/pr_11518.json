{"pr_number": 11518, "pr_title": "Add .env Profile Doc", "pr_createdAt": "2020-08-21T10:26:07Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11518", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODA1Mw==", "url": "https://github.com/quarkusio/quarkus/pull/11518#discussion_r474628053", "bodyText": "FWIW, @mejlholm reported that a %dev. prefix (instead of _DEV_) is also working.\n/cc @radcortez", "author": "famod", "createdAt": "2020-08-21T11:01:49Z", "path": "docs/src/main/asciidoc/config.adoc", "diffHunk": "@@ -453,6 +455,14 @@ quarkus.http.port=9090\n \n The Quarkus HTTP port will be 9090, unless the `dev` profile is active, in which case it will be 8181.\n \n+To use profiles in `.env` file, you can follow a `_{PROFILE}_CONFIG_KEY=value` pattern. A equivalent of the above example in `.env` file would be:\n+\n+[source,.env]\n+----\n+QUARKUS_HTTP_PORT=9090\n+_DEV_QUARKUS_HTTP_PORT=8181", "originalCommit": "81fe2724be54433b8e9dbce533b2e5d3d432bfdd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYzMTY4Mg==", "url": "https://github.com/quarkusio/quarkus/pull/11518#discussion_r474631682", "bodyText": "That's weird, I tried these combinations 2 days ago, but non of them worked:\n%test.APP_ENV=lowercase_dot_test\n%dev.APP_ENV=lowercase_dot_dev\n%TEST.APP_ENV=uppercase_dot_test\n%DEV.APP_ENV=uppercase_dot_dev\n%test_APP_ENV=lowercase_underline_test\n%dev_APP_ENV=lowercase_underline_dev\n%TEST_APP_ENV=uppercase_underline_test\n%DEV_APP_ENV=uppercase_underline_dev\n%testAPP_ENV=lowercase_test\n%devAPP_ENV=lowercase_dev\n%TESTAPP_ENV=uppercase_test\n%DEVAPP_ENV=uppercase_dev\n\nBut I'll take a look at the discussion, thanks! \ud83d\ude4f", "author": "yaim", "createdAt": "2020-08-21T11:11:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODA1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc1OTk4Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11518#discussion_r474759987", "bodyText": "We are dealing with environment variables and the implementation is not necessary the same across runtimes:\n\nEnvironment variable names used by the utilities in the Shell and Utilities volume of IEEE Std 1003.1-2001 consist solely of uppercase letters, digits, and the '_' (underscore) from the characters defined in Portable Character Set and do not begin with a digit. Other characters may be permitted by an implementation; applications shall tolerate the presence of such names. Uppercase and lowercase letters shall retain their unique identities and shall not be folded together. The name space of environment variable names containing lowercase letters is reserved for applications. Applications can define any environment variables with names from this name space without modifying the behavior of the standard utilities.\n\nTo be safe, I believe we should recommend to use the _ since it is portable and % may not be.", "author": "radcortez", "createdAt": "2020-08-21T15:11:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODA1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDg2ODc3NA==", "url": "https://github.com/quarkusio/quarkus/pull/11518#discussion_r474868774", "bodyText": "@famod, I double checked and %dev style not working for me.", "author": "yaim", "createdAt": "2020-08-21T18:49:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODA1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDkwMjI1Mw==", "url": "https://github.com/quarkusio/quarkus/pull/11518#discussion_r474902253", "bodyText": "I also concluded afterwards that my conclusions were wrong, they worked for my reproducer project, but not for the real project i was working on. I didn't get around to post that in time (sorry).\nI can however verify that _DEV_ works.", "author": "mejlholm", "createdAt": "2020-08-21T19:40:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyODA1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDkwODIzMQ==", "url": "https://github.com/quarkusio/quarkus/pull/11518#discussion_r474908231", "bodyText": "Nitty picking, but there is missing a . at the end of the line.\nAlternatively change it to this:\nNOTE: Environment variables without a configuration profile defined in .env file will overwrite all its related profiles in application.properties, e.g. %test.application.value is overwritten by application_value in .env file.", "author": "mejlholm", "createdAt": "2020-08-21T19:48:09Z", "path": "docs/src/main/asciidoc/config.adoc", "diffHunk": "@@ -435,6 +435,8 @@ _will also_ be taken into account.\n \n NOTE: Environment variables names are following the conversion rules of link:https://github.com/eclipse/microprofile-config/blob/master/spec/src/main/asciidoc/configsources.asciidoc#default-configsources[Eclipse MicroProfile]\n \n+NOTE: Environment variables without a configuration profile defined in `.env` file will overwrite all its related profiles in `application.properties`", "originalCommit": "cb9f19f11b479538d1e170c8f9e5ab9ff3d8eaa5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3d1c0f2bee0ea861d3125de385bee024ddcb3e01", "url": "https://github.com/quarkusio/quarkus/commit/3d1c0f2bee0ea861d3125de385bee024ddcb3e01", "message": "Add Example of .env File With Profile", "committedDate": "2020-08-21T19:59:12Z", "type": "forcePushed"}, {"oid": "569487315dce801c972cd5b95048623191ecf447", "url": "https://github.com/quarkusio/quarkus/commit/569487315dce801c972cd5b95048623191ecf447", "message": "Extend Guide on .env Profiles\n\n- Note .env Priority to application.properties\n- Add Example of .env File With Profile", "committedDate": "2020-08-22T08:19:14Z", "type": "commit"}, {"oid": "569487315dce801c972cd5b95048623191ecf447", "url": "https://github.com/quarkusio/quarkus/commit/569487315dce801c972cd5b95048623191ecf447", "message": "Extend Guide on .env Profiles\n\n- Note .env Priority to application.properties\n- Add Example of .env File With Profile", "committedDate": "2020-08-22T08:19:14Z", "type": "forcePushed"}]}