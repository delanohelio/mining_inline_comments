{"pr_number": 7288, "pr_title": "Introduce built-in number operations in Qute extension", "pr_createdAt": "2020-02-19T18:31:20Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/7288", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQzNjEwMg==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r382436102", "bodyText": "Map is not a collection so we should probably extract the relevant methods in MapTemplateExtensions.", "author": "mkouba", "createdAt": "2020-02-21T07:42:11Z", "path": "extensions/qute/runtime/src/main/java/io/quarkus/qute/runtime/extensions/CollectionTemplateExtensions.java", "diffHunk": "@@ -9,7 +9,7 @@\n import io.quarkus.qute.TemplateExtension;\n \n @TemplateExtension\n-public class BuiltinTemplateExtensions {\n+public class CollectionTemplateExtensions {", "originalCommit": "7aeffdd97b8fd1e2daa57b63170dfa8eb08d4f5e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQzNjMwNQ==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r382436305", "bodyText": "Maybe we should use a more generic name, ie. NumberTemplateExtensions?", "author": "mkouba", "createdAt": "2020-02-21T07:42:52Z", "path": "extensions/qute/runtime/src/main/java/io/quarkus/qute/runtime/extensions/IntegerTemplateExtensions.java", "diffHunk": "@@ -0,0 +1,12 @@\n+package io.quarkus.qute.runtime.extensions;\n+\n+import io.quarkus.qute.TemplateExtension;\n+\n+@TemplateExtension\n+public class IntegerTemplateExtensions {", "originalCommit": "7aeffdd97b8fd1e2daa57b63170dfa8eb08d4f5e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYwNjYwMw==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r382606603", "bodyText": "Is it legal to use line breaks in source code callouts? I thought that you always need to use + here...", "author": "mkouba", "createdAt": "2020-02-21T14:22:37Z", "path": "docs/src/main/asciidoc/qute.adoc", "diffHunk": "@@ -69,13 +71,16 @@ public class HelloResource {\n     }\n }\n ----\n-<1> If there is no `@ResourcePath` qualifier provided, the field name is used to locate the template. In this particular case, we're injecting a template with path `templates/hello.txt`.\n-<2> `Template.data()` returns a new template instance that can be customized before the actual rendering is triggered. In this case, we put the name value under the key `name`. The data map is accessible during rendering. \n+<1> If there is no `@ResourcePath` qualifier provided, the field name is used to locate the template.\n+In this particular case, we're injecting a template with path `templates/hello.txt`.", "originalCommit": "0bea895b5651ff06b4ef3d94e9a63fc558e6db5b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYwOTAzMQ==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r382609031", "bodyText": "Hm, not sure why this part was changed, maybe IntelliJ did it when I saved the doc", "author": "gastaldi", "createdAt": "2020-02-21T14:26:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYwNjYwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2Mjk4MQ==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r383262981", "bodyText": "The brackets are optional and I'd say that map.keySet is more readable. The same applies to all snippets.", "author": "mkouba", "createdAt": "2020-02-24T13:26:52Z", "path": "docs/src/main/asciidoc/qute.adoc", "diffHunk": "@@ -171,6 +171,37 @@ public class ItemResource {\n <2> Make the `Item` object accessible in the template.\n <3> A static template extension method can be used to add \"computed properties\" to a data class. The class of the first parameter is used to match the base object and the method name is used to match the property name.\n \n+== Built-in Template Extension methods\n+\n+Quarkus provides a set of built-in extension methods.\n+\n+=== Map extension methods:\n+\n+* `keys()` or `keySet()`: Returns a Set view of the keys contained in a map\n+** `{#for key in map.keySet()}`", "originalCommit": "41c05e79d448773decb8aa7f7cc948e94b6ea1c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2NDQ5NQ==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r383264495", "bodyText": "I think that we should move this section to the reference guide instead: https://github.com/quarkusio/quarkus/blob/master/docs/src/main/asciidoc/qute-reference.adoc", "author": "mkouba", "createdAt": "2020-02-24T13:29:51Z", "path": "docs/src/main/asciidoc/qute.adoc", "diffHunk": "@@ -171,6 +171,37 @@ public class ItemResource {\n <2> Make the `Item` object accessible in the template.\n <3> A static template extension method can be used to add \"computed properties\" to a data class. The class of the first parameter is used to match the base object and the method name is used to match the property name.\n \n+== Built-in Template Extension methods", "originalCommit": "41c05e79d448773decb8aa7f7cc948e94b6ea1c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzYxNjY5NA==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r383616694", "bodyText": "The Built in template methods work only if you use the qute extension in Quarkus, they are not available if you use Qute standalone, that's why I kept it in qute.adoc, but I am fine to move it if you think it's better", "author": "gastaldi", "createdAt": "2020-02-25T01:49:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2NDQ5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY5NjA1MA==", "url": "https://github.com/quarkusio/quarkus/pull/7288#discussion_r383696050", "bodyText": "qute.adoc is a simple quickstart guide, qute-reference.adoc is a reference guide that contains both the core/standalone and quarkus-specific features.", "author": "mkouba", "createdAt": "2020-02-25T07:20:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2NDQ5NQ=="}], "type": "inlineReview"}, {"oid": "9e942b739a7eba96c3ce37443677279954318e07", "url": "https://github.com/quarkusio/quarkus/commit/9e942b739a7eba96c3ce37443677279954318e07", "message": "Introduce built-in number operations in Qute extension\n\nFixes #7283", "committedDate": "2020-02-25T12:59:25Z", "type": "commit"}]}