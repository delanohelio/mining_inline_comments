{"pr_number": 10556, "pr_title": " Dev mode: fixed discovery of local dependencies inherited from parents", "pr_createdAt": "2020-07-08T08:58:56Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10556", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjM4NQ==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451416385", "bodyText": "Can you please explain the rationale around the removal of these assertions?", "author": "geoand", "createdAt": "2020-07-08T09:41:13Z", "path": "independent-projects/bootstrap/maven-resolver/src/test/java/io/quarkus/bootstrap/workspace/test/LocalWorkspaceDiscoveryTest.java", "diffHunk": "@@ -128,8 +127,6 @@ public void loadIndependentProjectInTheWorkspaceTree() throws Exception {\n         final Map<AppArtifactKey, LocalProject> projects = project.getWorkspace().getProjects();\n         assertEquals(6, projects.size());\n         assertTrue(projects.containsKey(new AppArtifactKey(MvnProjectBuilder.DEFAULT_GROUP_ID, \"independent\")));\n-\n-        assertLocalDeps(project, \"root-module-not-direct-child\", \"root-no-parent-module\", \"root-module-with-parent\");", "originalCommit": "8b4873a078690ef85650d500c6ed6dba7f05750d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxODY4Nw==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451418687", "bodyText": "I removed LocalProject.getSelfWithLocalDeps() method because it did not return a complete set of dependencies and was only used in DevMojo.", "author": "aloubyansky", "createdAt": "2020-07-08T09:45:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjM4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxOTI5OQ==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451419299", "bodyText": "Gotcha, thanks", "author": "geoand", "createdAt": "2020-07-08T09:46:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjM4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451420958", "bodyText": "Should we also be asserting the response of /hello-0?", "author": "geoand", "createdAt": "2020-07-08T09:49:12Z", "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "diffHunk": "@@ -814,4 +814,10 @@ public void testResourcesFromClasspath() throws MavenInvocationException, IOExce\n         // test that we don't get multiple instances of a resource when loading from the ClassLoader\n         assertThat(DevModeTestUtils.getHttpResponse(\"/cp/resourcesCount\")).isEqualTo(\"1\");\n     }\n+\n+    @Test\n+    public void testThatDependencyInParentIsEvaluated() throws IOException, MavenInvocationException {\n+        testDir = initProject(\"projects/multimodule-parent-dep\");\n+        runAndCheck();", "originalCommit": "8b4873a078690ef85650d500c6ed6dba7f05750d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyODEzOA==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451428138", "bodyText": "We could. I don't see anything special about it though. @famod wdyt?", "author": "aloubyansky", "createdAt": "2020-07-08T10:01:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQzODg4Mg==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451438882", "bodyText": "It was special before this fix. After this fix both paths should behave the same.\nI don't think /hello-0 would ever break individually in the future (/hello would then break as well, I suppose).\nLong story short: I 'd leave it this way.", "author": "famod", "createdAt": "2020-07-08T10:22:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQzOTI1NQ==", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451439255", "bodyText": "OK, thanks", "author": "geoand", "createdAt": "2020-07-08T10:22:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA=="}], "type": "inlineReview"}, {"oid": "2fb1bd509dbe8ea396bd8b7e071a9b7fcfb33b2f", "url": "https://github.com/quarkusio/quarkus/commit/2fb1bd509dbe8ea396bd8b7e071a9b7fcfb33b2f", "message": "Dev mode: fixed discovery of local dependencies inherited from parents", "committedDate": "2020-07-08T22:40:07Z", "type": "forcePushed"}, {"oid": "0df409cad3d94c710f823481c285e4d1577f21d6", "url": "https://github.com/quarkusio/quarkus/commit/0df409cad3d94c710f823481c285e4d1577f21d6", "message": "Dev mode: fixed discovery of local dependencies inherited from parents", "committedDate": "2020-07-09T04:36:23Z", "type": "forcePushed"}, {"oid": "2df79f81ddc6e317f6b5de1ab81f6df1a4d665f4", "url": "https://github.com/quarkusio/quarkus/commit/2df79f81ddc6e317f6b5de1ab81f6df1a4d665f4", "message": "DevMojoIT test for #10484", "committedDate": "2020-07-09T15:23:26Z", "type": "commit"}, {"oid": "b58301dcccf6732cd92db6bbe60317359c990258", "url": "https://github.com/quarkusio/quarkus/commit/b58301dcccf6732cd92db6bbe60317359c990258", "message": "Dev mode: fixed discovery of local dependencies inherited from parents", "committedDate": "2020-07-09T15:23:26Z", "type": "commit"}, {"oid": "b58301dcccf6732cd92db6bbe60317359c990258", "url": "https://github.com/quarkusio/quarkus/commit/b58301dcccf6732cd92db6bbe60317359c990258", "message": "Dev mode: fixed discovery of local dependencies inherited from parents", "committedDate": "2020-07-09T15:23:26Z", "type": "forcePushed"}]}