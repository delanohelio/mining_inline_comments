{"pr_number": 10442, "pr_title": "Deprecate RecorderContext#classProxy method", "pr_createdAt": "2020-07-03T02:00:33Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/10442", "timeline": [{"oid": "7846cf292f778af7cf292ce76ead692ccdb51cae", "url": "https://github.com/quarkusio/quarkus/commit/7846cf292f778af7cf292ce76ead692ccdb51cae", "message": "Deprecate RecorderContext#classProxy method", "committedDate": "2020-07-03T01:39:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM0MjI3Mw==", "url": "https://github.com/quarkusio/quarkus/pull/10442#discussion_r449342273", "bodyText": "I would just throw the CNFE, I don't think wrapping it adds anything", "author": "stuartwdouglas", "createdAt": "2020-07-03T02:10:34Z", "path": "extensions/qute/deployment/src/main/java/io/quarkus/qute/deployment/MessageBundleProcessor.java", "diffHunk": "@@ -236,11 +237,17 @@ AdditionalBeanBuildItem beans() {\n     void initBundleContext(RecorderContext context, MessageBundleRecorder recorder,\n             List<MessageBundleMethodBuildItem> messageBundleMethods,\n             List<MessageBundleBuildItem> bundles,\n-            BuildProducer<SyntheticBeanBuildItem> syntheticBeans) {\n+            BuildProducer<SyntheticBeanBuildItem> syntheticBeans) throws BuildException {\n \n         Map<String, Map<String, Class<?>>> bundleInterfaces = new HashMap<>();\n         for (MessageBundleBuildItem bundle : bundles) {\n-            Class<?> bundleClass = context.classProxy(bundle.getDefaultBundleInterface().toString());\n+            final Class<?> bundleClass;\n+            try {\n+                bundleClass = Class.forName(bundle.getDefaultBundleInterface().toString(), true,\n+                        Thread.currentThread().getContextClassLoader());\n+            } catch (ClassNotFoundException e) {\n+                throw new BuildException(e, Collections.emptyList());", "originalCommit": "b6921e6693faea92d939dcabb09539f589382379", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM0MjkyNg==", "url": "https://github.com/quarkusio/quarkus/pull/10442#discussion_r449342926", "bodyText": "Sounds fine. I'll update it accordingly.", "author": "jaikiran", "createdAt": "2020-07-03T02:13:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM0MjI3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM0NDY0Nw==", "url": "https://github.com/quarkusio/quarkus/pull/10442#discussion_r449344647", "bodyText": "Done. PR updated.", "author": "jaikiran", "createdAt": "2020-07-03T02:21:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM0MjI3Mw=="}], "type": "inlineReview"}, {"oid": "4e1f7faedd5e46eaa0763171c37428c1604eb118", "url": "https://github.com/quarkusio/quarkus/commit/4e1f7faedd5e46eaa0763171c37428c1604eb118", "message": "Remove usage of deprecated RecorderContext#classProxy from smallrye-health", "committedDate": "2020-07-03T02:17:03Z", "type": "commit"}, {"oid": "c12e3df56a78680a680ba8303ad5f14827c6e1ad", "url": "https://github.com/quarkusio/quarkus/commit/c12e3df56a78680a680ba8303ad5f14827c6e1ad", "message": "Remove deprecated RecorderContext#classProxy usage from Qute", "committedDate": "2020-07-03T02:19:16Z", "type": "commit"}, {"oid": "c12e3df56a78680a680ba8303ad5f14827c6e1ad", "url": "https://github.com/quarkusio/quarkus/commit/c12e3df56a78680a680ba8303ad5f14827c6e1ad", "message": "Remove deprecated RecorderContext#classProxy usage from Qute", "committedDate": "2020-07-03T02:19:16Z", "type": "forcePushed"}]}