{"pr_number": 9604, "pr_title": "Fixes #9339 document log workaround in IDEs", "pr_createdAt": "2020-05-26T12:45:24Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/9604", "timeline": [{"oid": "9d2a30019b21d34dd98f91aa21c7f377ed9a635a", "url": "https://github.com/quarkusio/quarkus/commit/9d2a30019b21d34dd98f91aa21c7f377ed9a635a", "message": "Fixes #9339 document log workaround in IDEs", "committedDate": "2020-05-26T12:40:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ2MTUyMw==", "url": "https://github.com/quarkusio/quarkus/pull/9604#discussion_r430461523", "bodyText": "I am not an IntelliJ user but the Maven integration should automatically pick up systemPropertyVariables from the surefire config in pom.xml.", "author": "famod", "createdAt": "2020-05-26T14:35:50Z", "path": "docs/src/main/asciidoc/logging.adoc", "diffHunk": "@@ -249,6 +247,33 @@ test {\n \tsystemProperty \"java.util.logging.manager\", \"org.jboss.logmanager.LogManager\"\n }\n ----\n+== Running `@QuarkusTest` from an IDE\n+\n+Most IDEs offer the possibility to run a selected class as JUnit test directly, in which case the above workaround will not be applied. You will need to apply it in the settings of your chosen IDE.\n+\n+=== Eclipse separate JRE definition\n+\n+Copy your current \"Installed JRE\" definition into a new one, where you will add the workaround as a new VM argument \n+`-Djava.util.logging.manager=org.jboss.logmanager.LogManager`. Use this JRE definition as your Quarkus project targeted runtime and the workaround will be applied to any \"Run as JUnit\" configuration.\n+\n+=== VSCode \"run with\" configuration\n+\n+The `settings.json` placed in the root of your project directory or in the workspace will need the workaround in your test configuration:\n+[source, json]\n+----\n+\"java.test.config\": [\n+    {\n+        \"name\": \"quarkusConfiguration\",\n+        \"vmargs\": [ \"-Djava.util.logging.manager=org.jboss.logmanager.LogManager ...\" ],\n+        ...\n+    },\n+  ...\n+]\n+----\n+\n+=== IntelliJ JUnit template\n+\n+In the same screen where you edit your run configuration you can edit the JUnit template to add the workaround Java VM argument `-Djava.util.logging.manager=org.jboss.logmanager.LogManager`.", "originalCommit": "9d2a30019b21d34dd98f91aa21c7f377ed9a635a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ2OTY4Mw==", "url": "https://github.com/quarkusio/quarkus/pull/9604#discussion_r430469683", "bodyText": "I took that from the issue discussion, as I'm not an IntelliJ user either. Just Eclipse and VSCode are tested.", "author": "sorin-costea", "createdAt": "2020-05-26T14:46:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ2MTUyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDUzMDU0Nw==", "url": "https://github.com/quarkusio/quarkus/pull/9604#discussion_r430530547", "bodyText": "I can confirm surefire systemPropertyVariables get picked-up by https://github.com/JetBrains/intellij-community/blob/master/plugins/maven/src/main/java/org/jetbrains/idea/maven/execution/MavenJUnitPatcher.java#L162 , so it should work out of the box.", "author": "rquinio", "createdAt": "2020-05-26T16:05:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ2MTUyMw=="}], "type": "inlineReview"}, {"oid": "581dafc7a34b39771221fbc2d4aff3202a249ce5", "url": "https://github.com/quarkusio/quarkus/commit/581dafc7a34b39771221fbc2d4aff3202a249ce5", "message": "updated IntelliJ section", "committedDate": "2020-05-26T16:26:30Z", "type": "commit"}]}