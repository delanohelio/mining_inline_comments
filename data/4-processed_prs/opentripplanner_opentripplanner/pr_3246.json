{"pr_number": 3246, "pr_title": "doc: Improve the build config documentation in the MigrationGuide.", "pr_createdAt": "2020-11-13T11:16:34Z", "pr_url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246", "timeline": [{"oid": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "message": "doc: Improve the build config documentation in the MigrationGuide.", "committedDate": "2020-11-13T11:11:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2NTk5NA==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r522965994", "bodyText": "The word \"link\" together with stops or stations is usually used to refer to connecting them to the street network or to each other. I never fully understood which behavior was added to the existing (experimental) stop clustering logic - was it creating walk links, or just grouping them into stations? Either way, the word \"link\" should be replaced with \"cluster\" or some other word describing what specifically was done automatically.", "author": "abyrd", "createdAt": "2020-11-13T13:58:29Z", "path": "docs/OTP2-MigrationGuide.md", "diffHunk": "@@ -25,22 +25,50 @@ you want into a single instance of OTP2.\n \n ## Build config\n \n+New parameters:\n+\n+ - `transitServiceStart` Limit the import of transit services to the given *start* date. Default: `-P1Y`\n+ - `transitServiceEnd` Limit the import of transit services to the given *end* date. *Inclusive*. Default: `P3Y`\n+\n+\n These properties changed names from:\n \n  - `htmlAnnotations` to `dataImportReport`\n  - `maxHtmlAnnotationsPerFile` to `maxDataImportIssuesPerFile`\n  - `boardTimes` to `routingDefaults.boardSlackByMode`\n  - `alightTimes` to `routingDefaults.alightSlackByMode`\n  \n-These parameters is no longer supported:\n-\n- - `stopClusterMode` - TODO OTP2 Why? Old options: `proximity`, `parentStation`\n+These parameters are no longer supported:\n+\n+ - `stopClusterMode` OTP2 link stops and stations based on the GTFS/NeTEx input. There is no", "originalCommit": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzAzODU4NQ==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r523038585", "bodyText": "I rewrote this, to avoid the discussion on what these parameters really did - I am not 100% sure. Instead I focused on how OTP2 works.", "author": "t2gran", "createdAt": "2020-11-13T15:51:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2NTk5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2Nzg2MQ==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r522967861", "bodyText": "I think concepts like \"there is no such thing in the street graph\" will not be easily understood by the average person configuring OTP2. Again here I think we should say what exactly it means that they are \"linked\" based on the input. Later in the same paragraph transfers are mentioned; could we replace \"links\" with \"creates transfers between\"?", "author": "abyrd", "createdAt": "2020-11-13T14:01:41Z", "path": "docs/OTP2-MigrationGuide.md", "diffHunk": "@@ -25,22 +25,50 @@ you want into a single instance of OTP2.\n \n ## Build config\n \n+New parameters:\n+\n+ - `transitServiceStart` Limit the import of transit services to the given *start* date. Default: `-P1Y`\n+ - `transitServiceEnd` Limit the import of transit services to the given *end* date. *Inclusive*. Default: `P3Y`\n+\n+\n These properties changed names from:\n \n  - `htmlAnnotations` to `dataImportReport`\n  - `maxHtmlAnnotationsPerFile` to `maxDataImportIssuesPerFile`\n  - `boardTimes` to `routingDefaults.boardSlackByMode`\n  - `alightTimes` to `routingDefaults.alightSlackByMode`\n  \n-These parameters is no longer supported:\n-\n- - `stopClusterMode` - TODO OTP2 Why? Old options: `proximity`, `parentStation`\n+These parameters are no longer supported:\n+\n+ - `stopClusterMode` OTP2 link stops and stations based on the GTFS/NeTEx input. There is no\n+         automatic linking any more. If this is needed, feel free to port the OTP1 logic into \n+         a Sandbox feature. The OTP1 options are: `proximity`, `parentStation`.\n+ - `parentStopLinking` OTP2 link stops and stations based on the GTFS/NeTEx input, but there is no ", "originalCommit": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2ODYzOA==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r522968638", "bodyText": "It could be good to mention the units.", "author": "abyrd", "createdAt": "2020-11-13T14:03:04Z", "path": "docs/OTP2-MigrationGuide.md", "diffHunk": "@@ -25,22 +25,50 @@ you want into a single instance of OTP2.\n \n ## Build config\n \n+New parameters:\n+\n+ - `transitServiceStart` Limit the import of transit services to the given *start* date. Default: `-P1Y`\n+ - `transitServiceEnd` Limit the import of transit services to the given *end* date. *Inclusive*. Default: `P3Y`\n+\n+\n These properties changed names from:\n \n  - `htmlAnnotations` to `dataImportReport`\n  - `maxHtmlAnnotationsPerFile` to `maxDataImportIssuesPerFile`\n  - `boardTimes` to `routingDefaults.boardSlackByMode`\n  - `alightTimes` to `routingDefaults.alightSlackByMode`\n  \n-These parameters is no longer supported:\n-\n- - `stopClusterMode` - TODO OTP2 Why? Old options: `proximity`, `parentStation`\n+These parameters are no longer supported:\n+\n+ - `stopClusterMode` OTP2 link stops and stations based on the GTFS/NeTEx input. There is no\n+         automatic linking any more. If this is needed, feel free to port the OTP1 logic into \n+         a Sandbox feature. The OTP1 options are: `proximity`, `parentStation`.\n+ - `parentStopLinking` OTP2 link stops and stations based on the GTFS/NeTEx input, but there is no \n+         such thing in the street graph, only stops exist in the street graph. When OTP2 generate\n+         transfers based on the street graph generated from OSM data. If no OSM data is provided,\n+         then we would like to use \"line-of-sight\" transfers. See issue \n+         [#3204](https://github.com/opentripplanner/OpenTripPlanner/issues/3204).  \n+ - `stationTransfers` This functionality is not ported to OTP2. If needed it should be a sandbox\n+         feature. \n \n  \n ## Router config\n+Se the [Router Configuration](Configuration.md#router-configuration) for a description of the \n+new and continued routing parameters.\n+\n+New parameters:\n+\n+ - `streetRoutingTimeout` Maximum time limit for street route queries. Replace the old `timeout`.", "originalCommit": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzAzMjEyNQ==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r523032125", "bodyText": "This is the migration guide, not the documentation of the feature - people should look at the configuration.md. I have tried to give a small hint, but left out most of the documentation, so it is possible to get a \"bird-view\" of the changes.", "author": "t2gran", "createdAt": "2020-11-13T15:41:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2ODYzOA=="}], "type": "inlineReview"}, {"oid": "5699ba1bf25eb3e62b11d35dbae95d0f328f7b6a", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/5699ba1bf25eb3e62b11d35dbae95d0f328f7b6a", "message": "doc: Review: Improve the build config documentation in the MigrationGuide.", "committedDate": "2020-11-13T15:49:40Z", "type": "commit"}, {"oid": "c8597ca71dd34702a7fed20070400edc8c37be62", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/c8597ca71dd34702a7fed20070400edc8c37be62", "message": "Update OTP2-MigrationGuide.md\n\ndoc: Review, fix some typos and language.", "committedDate": "2020-11-17T09:58:42Z", "type": "commit"}]}