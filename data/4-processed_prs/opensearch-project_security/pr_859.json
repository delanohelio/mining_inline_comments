{"pr_number": 859, "pr_title": "Added async search response index to system index list", "pr_createdAt": "2020-11-30T08:43:46Z", "pr_url": "https://github.com/opensearch-project/security/pull/859", "timeline": [{"oid": "abb240015361f6bc597a65a63b287b09f5cb583e", "url": "https://github.com/opensearch-project/security/commit/abb240015361f6bc597a65a63b287b09f5cb583e", "message": "Added async search response index to system index list", "committedDate": "2020-11-30T08:07:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTY1MTQwNQ==", "url": "https://github.com/opensearch-project/security/pull/859#discussion_r535651405", "bodyText": "Please update elasticsearch.yml.example file as well.\nhttps://github.com/opendistro-for-elasticsearch/security/blob/master/securityconfig/elasticsearch.yml.example#L225", "author": "hardik-k-shah", "createdAt": "2020-12-03T21:39:29Z", "path": "tools/install_demo_configuration.sh", "diffHunk": "@@ -373,7 +373,7 @@ echo \"opendistro_security.enable_snapshot_restore_privilege: true\" | $SUDO_CMD t\n echo \"opendistro_security.check_snapshot_restore_write_privileges: true\" | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.restapi.roles_enabled: [\"all_access\", \"security_rest_api_access\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.system_indices.enabled: true' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n-echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results*\", \".opendistro-anomaly-detector*\", \".opendistro-anomaly-checkpoints\", \".opendistro-anomaly-detection-state\", \".opendistro-reports-*\", \".opendistro-notifications-*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n+echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results*\", \".opendistro-anomaly-detector*\", \".opendistro-anomaly-checkpoints\", \".opendistro-anomaly-detection-state\", \".opendistro-reports-*\", \".opendistro-notifications-*\", \".async-search-response\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null", "originalCommit": "abb240015361f6bc597a65a63b287b09f5cb583e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk2OTA1OA==", "url": "https://github.com/opensearch-project/security/pull/859#discussion_r561969058", "bodyText": "Updated.", "author": "anshul291995", "createdAt": "2021-01-21T15:26:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTY1MTQwNQ=="}], "type": "inlineReview"}, {"oid": "fbf3814b7c61769f1f66eceb5d95f079496342cc", "url": "https://github.com/opensearch-project/security/commit/fbf3814b7c61769f1f66eceb5d95f079496342cc", "message": "Added async search response index to system index", "committedDate": "2020-12-31T07:07:11Z", "type": "commit"}, {"oid": "01769ff63c5f2905038c39466583409173dddb2b", "url": "https://github.com/opensearch-project/security/commit/01769ff63c5f2905038c39466583409173dddb2b", "message": "Added default roles for async search", "committedDate": "2021-01-19T12:12:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTEzMjI1OQ==", "url": "https://github.com/opensearch-project/security/pull/859#discussion_r561132259", "bodyText": "QQ for stored asynchronous-search results:\nWhere these results are stored and who will have permission to store/write those results?", "author": "hardik-k-shah", "createdAt": "2021-01-20T17:08:46Z", "path": "securityconfig/roles.yml", "diffHunk": "@@ -93,3 +93,20 @@ reports_full_access:\n     - 'cluster:admin/opendistro/reports/instance/list'\n     - 'cluster:admin/opendistro/reports/instance/get'\n     - 'cluster:admin/opendistro/reports/menu/download'\n+", "originalCommit": "01769ff63c5f2905038c39466583409173dddb2b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTEzMzczMg==", "url": "https://github.com/opensearch-project/security/pull/859#discussion_r561133732", "bodyText": "I believe that it will be store into system index .opendistro_asynchronous_search_response\nIs there any APIs user can use to store the results? and what permission is needed to use that APIs?", "author": "hardik-k-shah", "createdAt": "2021-01-20T17:11:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTEzMjI1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk2Nzk3NA==", "url": "https://github.com/opensearch-project/security/pull/859#discussion_r561967974", "bodyText": "Yes Hardik, results are stored in system index .opendistro_asynchronous_search_response. The async search APIs deals with this index. Users can't directly access the index.", "author": "anshul291995", "createdAt": "2021-01-21T15:24:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTEzMjI1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk2ODgyOQ==", "url": "https://github.com/opensearch-project/security/pull/859#discussion_r561968829", "bodyText": "https://github.com/opendistro-for-elasticsearch/asynchronous-search/tree/master/src/main/java/com/amazon/opendistroforelasticsearch/search/asynchronous/rest - these are the APIs", "author": "anshul291995", "createdAt": "2021-01-21T15:25:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTEzMjI1OQ=="}], "type": "inlineReview"}, {"oid": "3724ffd3c73c2d600f9064d13c2d99f7a1d9208d", "url": "https://github.com/opensearch-project/security/commit/3724ffd3c73c2d600f9064d13c2d99f7a1d9208d", "message": "Merge conflicts", "committedDate": "2021-01-21T05:45:10Z", "type": "commit"}, {"oid": "377c8b1c029f7c31eb9ed820ba574c2528ba386e", "url": "https://github.com/opensearch-project/security/commit/377c8b1c029f7c31eb9ed820ba574c2528ba386e", "message": "Added * to index name", "committedDate": "2021-01-21T15:30:42Z", "type": "commit"}]}