{"pr_number": 891, "pr_title": "Replace InjectedUser with User during serialization", "pr_createdAt": "2020-12-14T06:58:26Z", "pr_url": "https://github.com/opensearch-project/security/pull/891", "timeline": [{"oid": "5cc146be068a6beaf33057aa723461fae6e7f790", "url": "https://github.com/opensearch-project/security/commit/5cc146be068a6beaf33057aa723461fae6e7f790", "message": "Replace InjectedUser with User during serialization", "committedDate": "2020-12-14T06:55:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE3MDk1OQ==", "url": "https://github.com/opensearch-project/security/pull/891#discussion_r546170959", "bodyText": "What is this function used for ?", "author": "sujithvm", "createdAt": "2020-12-19T01:30:46Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/auth/UserInjector.java", "diffHunk": "@@ -66,13 +67,23 @@\n \n     }\n \n-    public static class InjectedUser extends User {\n+    static class InjectedUser extends User {\n         private transient TransportAddress transportAddress;\n \n         public InjectedUser(String name) {\n             super(name);\n         }\n \n+        private Object writeReplace() throws ObjectStreamException {", "originalCommit": "5cc146be068a6beaf33057aa723461fae6e7f790", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE3MzE1Mg==", "url": "https://github.com/opensearch-project/security/pull/891#discussion_r546173152", "bodyText": "It is used by Java serializer to substitute object for a different object. See Serializable.", "author": "vrozov", "createdAt": "2020-12-19T01:47:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE3MDk1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NTA0NTk3MQ==", "url": "https://github.com/opensearch-project/security/pull/891#discussion_r565045971", "bodyText": "@vrozov I understand this change has been merged. But out of curiosity, why was this class defined as a public? You removed \"public\" because it doesn't need to be public or being public could cause any side effect?", "author": "cliu123", "createdAt": "2021-01-27T05:54:38Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/auth/UserInjector.java", "diffHunk": "@@ -66,13 +67,23 @@\n \n     }\n \n-    public static class InjectedUser extends User {\n+    static class InjectedUser extends User {", "originalCommit": "5cc146be068a6beaf33057aa723461fae6e7f790", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}