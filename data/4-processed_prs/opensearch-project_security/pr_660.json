{"pr_number": 660, "pr_title": "Using onelogin util helper instead of DocumentBuilderFactory", "pr_createdAt": "2020-08-24T21:27:16Z", "pr_url": "https://github.com/opensearch-project/security/pull/660", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY4Nzk0NQ==", "url": "https://github.com/opensearch-project/security/pull/660#discussion_r476687945", "bodyText": "Should we use \"Util.loadXML(...)\" method instead ?\nhttps://github.com/onelogin/java-saml/blob/master/core/src/main/java/com/onelogin/saml2/util/Util.java#L162", "author": "dinusX", "createdAt": "2020-08-25T19:31:00Z", "path": "src/main/java/com/amazon/dlic/auth/http/saml/HTTPSamlAuthenticator.java", "diffHunk": "@@ -426,17 +425,9 @@ private String getSamlRequestQueryStringSignature(String samlRequestQueryString)\n         }\n     }\n \n-    private static DocumentBuilderFactory getDocumentBuildFactory() {\n-        DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n-        documentBuilderFactory.setNamespaceAware(true);\n-        return documentBuilderFactory;\n-    }\n-\n     private static Element getMetadataDOM(final String xmlString) throws IOException, SAXException, ParserConfigurationException {\n-        DocumentBuilder builder = null;\n         try {\n-            builder = documentBuilderFactory.newDocumentBuilder();\n-            Document doc = builder.parse(new InputSource(new StringReader(xmlString)));\n+            Document doc = Util.convertStringToDocument(xmlString);", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcxODI3OA==", "url": "https://github.com/opensearch-project/security/pull/660#discussion_r476718278", "bodyText": "Yes, looks like Util.loadXML method is better in this case.", "author": "debjanibnrj", "createdAt": "2020-08-25T20:29:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY4Nzk0NQ=="}], "type": "inlineReview"}, {"oid": "a80807f4f0fd023fbb3369f50d78c59ea246c1b6", "url": "https://github.com/opensearch-project/security/commit/a80807f4f0fd023fbb3369f50d78c59ea246c1b6", "message": "Adding onelogin loadXML util helper to prevent XXE attacks", "committedDate": "2020-08-25T20:34:57Z", "type": "commit"}, {"oid": "a80807f4f0fd023fbb3369f50d78c59ea246c1b6", "url": "https://github.com/opensearch-project/security/commit/a80807f4f0fd023fbb3369f50d78c59ea246c1b6", "message": "Adding onelogin loadXML util helper to prevent XXE attacks", "committedDate": "2020-08-25T20:34:57Z", "type": "forcePushed"}]}