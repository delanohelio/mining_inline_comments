{"pr_number": 776, "pr_title": "Demo Config : Adding AD Indices to system index and creating pre-defined roles", "pr_createdAt": "2020-10-19T18:49:02Z", "pr_url": "https://github.com/opensearch-project/security/pull/776", "timeline": [{"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a", "url": "https://github.com/opensearch-project/security/commit/1f3bfacf3f23720e60e210a6c0628ce7dd8b425a", "message": "Adding AD Indices to system index and creating pre-defined roles", "committedDate": "2020-10-19T18:44:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508105769", "bodyText": ".opendistro-anomaly-results -> .opendistro-anomaly-results* ?\n.opendistro-anomaly-detector* -> .opendistro-anomaly-detectors ?", "author": "ylwu-amzn", "createdAt": "2020-10-19T22:45:47Z", "path": "tools/install_demo_configuration.sh", "diffHunk": "@@ -373,7 +373,7 @@ echo \"opendistro_security.enable_snapshot_restore_privilege: true\" | $SUDO_CMD t\n echo \"opendistro_security.check_snapshot_restore_write_privileges: true\" | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.restapi.roles_enabled: [\"all_access\", \"security_rest_api_access\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.system_indices.enabled: true' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n-echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n+echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results\", \".opendistro-anomaly-detector*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null", "originalCommit": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODExNjMzNA==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508116334", "bodyText": "Sure for results its makes sense as we have other history indices.\nfor .opendistro-anomaly-detector* it includes both  .opendistro-anomaly-detector-jobs and .opendistro-anomaly-detectors", "author": "saratvemulapalli", "createdAt": "2020-10-19T23:17:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyMTg0OA==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508121848", "bodyText": "Got it, make sense. Do we need to add the other two indices?\n.opendistro-anomaly-checkpoints\n.opendistro-anomaly-detection-state", "author": "ylwu-amzn", "createdAt": "2020-10-19T23:35:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ=="}], "type": "inlineReview"}, {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61", "url": "https://github.com/opensearch-project/security/commit/4dbb68b4521c93528ef2457a343b97c9eb540d61", "message": "Adding all result indices to sytem index", "committedDate": "2020-10-19T23:20:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508678471", "bodyText": "ad -> anomaly", "author": "vrozov", "createdAt": "2020-10-20T16:38:30Z", "path": "securityconfig/roles.yml", "diffHunk": "@@ -38,3 +38,25 @@ alerting_full_access:\n         - 'indices_monitor'\n         - 'indices:admin/aliases/get'\n         - 'indices:admin/mappings/get'\n+\n+# Allow users to read Anomaly Detection detectors and results\n+ad_read_access:", "originalCommit": "4dbb68b4521c93528ef2457a343b97c9eb540d61", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODgyODU1MQ==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508828551", "bodyText": "yeah we internally use ad as anomaly detection, do you recommend expanding it?", "author": "saratvemulapalli", "createdAt": "2020-10-20T20:46:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgyOTE0NQ==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r509829145", "bodyText": "yes, 'ad' is too short and may mean not only anomaly detection.", "author": "vrozov", "createdAt": "2020-10-22T01:38:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQzNTc1Nw==", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r510435757", "bodyText": "Sure will rename it do anomaly.", "author": "saratvemulapalli", "createdAt": "2020-10-22T20:25:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ=="}], "type": "inlineReview"}, {"oid": "2e2f95da972b532cf7d8f3a8e72a65a7134c6451", "url": "https://github.com/opensearch-project/security/commit/2e2f95da972b532cf7d8f3a8e72a65a7134c6451", "message": "Addressing comments and adding new API permission", "committedDate": "2020-10-23T21:46:54Z", "type": "commit"}]}