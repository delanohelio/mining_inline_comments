{"pr_number": 902, "pr_title": "Optimize by avoid creating wildcard matchers for every request ", "pr_createdAt": "2020-12-18T00:41:49Z", "pr_url": "https://github.com/opensearch-project/security/pull/902", "timeline": [{"oid": "6e80ad455f7674f2383d5c7fe711e3d6d1791331", "url": "https://github.com/opensearch-project/security/commit/6e80ad455f7674f2383d5c7fe711e3d6d1791331", "message": "Optimize by avoiding creating wildcard matchers for every request for constant resources users, backend roles, hosts", "committedDate": "2020-12-18T00:25:55Z", "type": "commit"}, {"oid": "db89e48a600d0f056ec8398107563de40a06acf8", "url": "https://github.com/opensearch-project/security/commit/db89e48a600d0f056ec8398107563de40a06acf8", "message": "Use hash set instead of tree set as we are not taking any advantage of ordering", "committedDate": "2020-12-18T01:08:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjEyOTg5MQ==", "url": "https://github.com/opensearch-project/security/pull/902#discussion_r546129891", "bodyText": "nit: not sure if Collection is the best option here. If it is always List, should we use List instead?", "author": "vrozov", "createdAt": "2020-12-18T22:55:40Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/securityconf/ConfigModelV6.java", "diffHunk": "@@ -1100,47 +1100,52 @@ public TenantHolder(SecurityDynamicConfiguration<RoleV6> roles) {\n     private class RoleMappingHolder {\n \n         private ListMultimap<String, String> users;\n-        private ListMultimap<Set<String>, String> abars;\n+        private ListMultimap<Collection<WildcardMatcher>, String> abars;", "originalCommit": "db89e48a600d0f056ec8398107563de40a06acf8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjEzMTEwMA==", "url": "https://github.com/opensearch-project/security/pull/902#discussion_r546131100", "bodyText": "Not for this PR, but using Collection/List/Set of WildcardMatcher as key does not sound right to me. IMO, this requires more analysis and likely a follow up PR.", "author": "vrozov", "createdAt": "2020-12-18T22:57:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjEyOTg5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjEzNzgxOA==", "url": "https://github.com/opensearch-project/security/pull/902#discussion_r546137818", "bodyText": "Created a follow-up issue https://github.com/opendistro-for-elasticsearch/security/issues/906", "author": "sujithvm", "createdAt": "2020-12-18T23:06:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjEyOTg5MQ=="}], "type": "inlineReview"}, {"oid": "c0a38b2edcdc3f36b7902c902480db6bbc0f1c34", "url": "https://github.com/opensearch-project/security/commit/c0a38b2edcdc3f36b7902c902480db6bbc0f1c34", "message": "Convert collection to list", "committedDate": "2020-12-18T22:58:37Z", "type": "commit"}]}