{"pr_number": 3331, "pr_title": "Add itemlore command", "pr_createdAt": "2020-05-25T06:42:36Z", "pr_url": "https://github.com/EssentialsX/Essentials/pull/3331", "timeline": [{"oid": "2d31210166b861dbf7d04df5c833fdbd3ebc7669", "url": "https://github.com/EssentialsX/Essentials/commit/2d31210166b861dbf7d04df5c833fdbd3ebc7669", "message": "Add itemlore command", "committedDate": "2020-05-25T06:41:37Z", "type": "commit"}, {"oid": "75d938b2f09b41c6bb9be6b19955ee8da225dbb1", "url": "https://github.com/EssentialsX/Essentials/commit/75d938b2f09b41c6bb9be6b19955ee8da225dbb1", "message": "Add set option", "committedDate": "2020-06-08T17:45:26Z", "type": "commit"}, {"oid": "81ef1ccbde65a8948f583d6a9a42435709c213f7", "url": "https://github.com/EssentialsX/Essentials/commit/81ef1ccbde65a8948f583d6a9a42435709c213f7", "message": "It's english, yo", "committedDate": "2020-06-08T19:27:14Z", "type": "commit"}, {"oid": "6bd2bda3e29251d7c38b2ea0152ff1b89b5cef41", "url": "https://github.com/EssentialsX/Essentials/commit/6bd2bda3e29251d7c38b2ea0152ff1b89b5cef41", "message": "Actually change the item meta on set", "committedDate": "2020-06-12T01:33:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyMjk3Nw==", "url": "https://github.com/EssentialsX/Essentials/pull/3331#discussion_r440022977", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        user.sendMessage(tl(\"itemloreInvalidItem\"));\n          \n          \n            \n                        return;\n          \n          \n            \n                        throw new Exception(tl(\"itemloreInvalidItem\"));\n          \n      \n    \n    \n  \n\nThis is probably better, to remain consistent with the way you are handling errors in other parts of this command.", "author": "pop4959", "createdAt": "2020-06-15T08:48:25Z", "path": "Essentials/src/com/earth2me/essentials/commands/Commanditemlore.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package com.earth2me.essentials.commands;\n+\n+import com.earth2me.essentials.User;\n+import com.earth2me.essentials.utils.FormatUtil;\n+import com.earth2me.essentials.utils.NumberUtil;\n+import com.google.common.collect.Lists;\n+import org.bukkit.Server;\n+import org.bukkit.inventory.ItemStack;\n+import org.bukkit.inventory.meta.ItemMeta;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+\n+import static com.earth2me.essentials.I18n.tl;\n+\n+public class Commanditemlore extends EssentialsCommand {\n+\n+    public Commanditemlore() {\n+        super(\"itemlore\");\n+    }\n+\n+    @Override\n+    protected void run(Server server, User user, String commandLabel, String[] args) throws Exception {\n+        ItemStack item = user.getBase().getItemInHand();\n+        if (item.getType().name().contains(\"AIR\")) {\n+            user.sendMessage(tl(\"itemloreInvalidItem\"));\n+            return;", "originalCommit": "6bd2bda3e29251d7c38b2ea0152ff1b89b5cef41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "67d48ca007c6d72b3538941c7b9efd90784c5cd2", "url": "https://github.com/EssentialsX/Essentials/commit/67d48ca007c6d72b3538941c7b9efd90784c5cd2", "message": "Update Essentials/src/com/earth2me/essentials/commands/Commanditemlore.java\n\nCo-authored-by: pop4959 <pop4959@gmail.com>", "committedDate": "2020-06-15T14:41:47Z", "type": "commit"}, {"oid": "2cac7538f50c86ee35c51689523d527f3d31eee7", "url": "https://github.com/EssentialsX/Essentials/commit/2cac7538f50c86ee35c51689523d527f3d31eee7", "message": "Merge branch '2.x' into feature/itemlore", "committedDate": "2020-06-17T02:47:40Z", "type": "commit"}, {"oid": "36ea1f2642a055176fd24f236383ce1e65cb80fb", "url": "https://github.com/EssentialsX/Essentials/commit/36ea1f2642a055176fd24f236383ce1e65cb80fb", "message": "Add support for new translation usage/desc", "committedDate": "2020-06-17T02:49:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU5Nzk4OA==", "url": "https://github.com/EssentialsX/Essentials/pull/3331#discussion_r448597988", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            itemloreNoLine=\\u00a74Your selected item does not have lore text on line \\u00a7c{0}\\u00a74.\n          \n          \n            \n            itemloreNoLine=\\u00a74Your held item does not have lore text on line \\u00a7c{0}\\u00a74.", "author": "mdcfe", "createdAt": "2020-07-01T20:26:08Z", "path": "Essentials/src/messages.properties", "diffHunk": "@@ -324,6 +324,14 @@ itemCannotBeSold=\\u00a74That item cannot be sold to the server.\n itemCommandDescription=Spawn an item.\n itemCommandUsage=/<command> <item|numeric> [amount [itemmeta...]]\n itemId=\\u00a76ID\\:\\u00a7c {0}\n+itemloreClear=\\u00a76You have cleared this item''s lore.\n+itemloreCommandDescription=Edit the lore of an item.\n+itemloreCommandUsage=/<command> <add/set/clear> [text/line] [text]\n+itemloreInvalidItem=\\u00a74You need to hold an item to edit its lore.\n+itemloreNoLine=\\u00a74Your selected item does not have lore text on line \\u00a7c{0}\\u00a74.", "originalCommit": "36ea1f2642a055176fd24f236383ce1e65cb80fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU5ODU5Nw==", "url": "https://github.com/EssentialsX/Essentials/pull/3331#discussion_r448598597", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                aliases: [ilore, eilore, eitemlore]\n          \n          \n            \n                aliases: [lore, elore, ilore, eilore, eitemlore]\n          \n      \n    \n    \n  \n\n/lore seems like a reasonable alias - whereas /name for /itemname might be ambiguous, /lore seems to be more obviously related to items.", "author": "mdcfe", "createdAt": "2020-07-01T20:27:29Z", "path": "Essentials/src/plugin.yml", "diffHunk": "@@ -216,6 +216,10 @@ commands:\n     description: Searches for an item.\n     usage: /<command> <item>\n     aliases: [dura,edura,durability,edurability,eitemdb,itemno,eitemno]\n+  itemlore:\n+    description: Edit the lore of an item.\n+    usage: /<command> <add/set/clear> [text/line] [text]\n+    aliases: [ilore, eilore, eitemlore]", "originalCommit": "36ea1f2642a055176fd24f236383ce1e65cb80fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "af5972b4b567a8534d980789f3e366b6b8d5c252", "url": "https://github.com/EssentialsX/Essentials/commit/af5972b4b567a8534d980789f3e366b6b8d5c252", "message": "Apply suggestions from code review\n\nCo-authored-by: MD <1917406+md678685@users.noreply.github.com>", "committedDate": "2020-07-01T20:30:41Z", "type": "commit"}]}