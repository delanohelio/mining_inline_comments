{"pr_number": 3703, "pr_title": "Add option to prevent replying from vanished players", "pr_createdAt": "2020-10-03T18:13:38Z", "pr_url": "https://github.com/EssentialsX/Essentials/pull/3703", "timeline": [{"oid": "e17678db3577495ee4dad2b356e6d862c685c485", "url": "https://github.com/EssentialsX/Essentials/commit/e17678db3577495ee4dad2b356e6d862c685c485", "message": "Add option to prevent replying from vanished players", "committedDate": "2020-10-03T18:13:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE2OTg3Mw==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499169873", "bodyText": "I believe it should be false by default\nWhile it is changing behavior that some may not like, I think that it would be better that you won't be able to reply to vanished players (because of the whole vanished concept)", "author": "l1ttleO", "createdAt": "2020-10-03T18:16:31Z", "path": "Essentials/src/config.yml", "diffHunk": "@@ -563,6 +563,11 @@ last-message-reply-recipient: true\n # Default is 180 (3 minutes)\n last-message-reply-recipient-timeout: 180\n \n+# Changes the default /reply functionality.\n+# If true, /reply will not check if the person you're replying to has vanished.\n+# If false, players will not be able to /reply to players who they can no longer see due to vanish.\n+last-message-reply-vanished: true", "originalCommit": "e17678db3577495ee4dad2b356e6d862c685c485", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MDY2Nw==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499170667", "bodyText": "up to @md678685 but I'm pretty sure keeping current behavior is the goal", "author": "JRoy", "createdAt": "2020-10-03T18:26:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE2OTg3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ0Mjk2Mw==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499442963", "bodyText": "IMO this should be false for new configs but true for existing ones (default in Settings) - that way, new installs will have the new behaviour without changing behaviour on current servers.", "author": "mdcfe", "createdAt": "2020-10-05T08:56:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE2OTg3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MDAwMw==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499170003", "bodyText": "Doesn't seem to follow other code, where @Override and declarations are on the same line", "author": "l1ttleO", "createdAt": "2020-10-03T18:18:32Z", "path": "Essentials/src/com/earth2me/essentials/Console.java", "diffHunk": "@@ -74,4 +75,9 @@ public CommandSender getCommandSender() {\n     @Override public void setReplyRecipient(IMessageRecipient recipient) {\n         this.messageRecipient.setReplyRecipient(recipient);\n     }\n+\n+    @Override\n+    public boolean isHiddenFrom(Player player) {\n+        return false;", "originalCommit": "e17678db3577495ee4dad2b356e6d862c685c485", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MDYzMg==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499170632", "bodyText": "it's shitty codestyle from 1950, if we do a codestyle update again this will be addressed", "author": "JRoy", "createdAt": "2020-10-03T18:26:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MDAwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MTI5MQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499171291", "bodyText": "This is addressed in #3701 - doesn't matter too much what you do here, since it will get rebased or replaced soon enough", "author": "mdcfe", "createdAt": "2020-10-03T18:34:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MDAwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MDE4Nw==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r499170187", "bodyText": "I believe it should be false by default\nWhile it is changing behavior that some may not like, I think that it would be better that you won't be able to reply to vanished players (because of the whole vanished concept)", "author": "l1ttleO", "createdAt": "2020-10-03T18:21:04Z", "path": "Essentials/src/com/earth2me/essentials/Settings.java", "diffHunk": "@@ -1321,6 +1321,11 @@ public int getMaxUserCacheCount() {\n         return config.getBoolean(\"last-message-reply-recipient\", false);\n     }\n \n+    @Override\n+    public boolean isReplyToVanished() {\n+        return config.getBoolean(\"last-message-reply-vanished\", true);", "originalCommit": "e17678db3577495ee4dad2b356e6d862c685c485", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "166101f5dbd4924a3bcb5918b34b0b9709b4856a", "url": "https://github.com/EssentialsX/Essentials/commit/166101f5dbd4924a3bcb5918b34b0b9709b4856a", "message": "Merge branch '2.x' into feature/vanish-reply\n\n# Conflicts:\n#\tEssentials/src/com/earth2me/essentials/Settings.java\n#\tEssentials/src/com/earth2me/essentials/User.java", "committedDate": "2020-10-05T06:27:16Z", "type": "commit"}, {"oid": "302dee6f6eb9770fa1f73d4fd4cf3651b3f9c1d6", "url": "https://github.com/EssentialsX/Essentials/commit/302dee6f6eb9770fa1f73d4fd4cf3651b3f9c1d6", "message": "Change defaults", "committedDate": "2020-10-05T12:19:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY0MzIyNQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3703#discussion_r519643225", "bodyText": "Why change this default?\nEdit: I think you changed this instead of last-message-reply-vanished", "author": "mdcfe", "createdAt": "2020-11-09T08:54:27Z", "path": "Essentials/src/config.yml", "diffHunk": "@@ -555,14 +555,19 @@ max-tempban-time: -1\n # Changes the default /reply functionality. This can be changed on a per-player basis using /rtoggle.\n # If true, /r goes to the person you messaged last, otherwise the first person that messaged you.\n # If false, /r goes to the last person that messaged you.\n-last-message-reply-recipient: true\n+last-message-reply-recipient: false", "originalCommit": "302dee6f6eb9770fa1f73d4fd4cf3651b3f9c1d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "dcd7e0a86996a6d53bf73e99f3221dcfc90f48ce", "url": "https://github.com/EssentialsX/Essentials/commit/dcd7e0a86996a6d53bf73e99f3221dcfc90f48ce", "message": "Fix defaults", "committedDate": "2020-11-09T12:16:22Z", "type": "commit"}]}