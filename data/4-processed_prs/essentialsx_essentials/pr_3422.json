{"pr_number": 3422, "pr_title": "Fix RGB support in prefixes/suffixes", "pr_createdAt": "2020-06-28T15:08:14Z", "pr_url": "https://github.com/EssentialsX/Essentials/pull/3422", "timeline": [{"oid": "5609cb0ed58a3523f6e3138ccd0de8ef744d7d02", "url": "https://github.com/EssentialsX/Essentials/commit/5609cb0ed58a3523f6e3138ccd0de8ef744d7d02", "message": "Fix rbg support around prefixes/suffixes", "committedDate": "2020-06-28T15:06:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MzM4MA==", "url": "https://github.com/EssentialsX/Essentials/pull/3422#discussion_r446663380", "bodyText": "wat", "author": "mdcfe", "createdAt": "2020-06-28T15:19:14Z", "path": "Essentials/src/com/earth2me/essentials/User.java", "diffHunk": "@@ -358,14 +358,19 @@ public String getNick(final boolean longnick, final boolean withPrefix, final bo\n         if (ess.getSettings().addPrefixSuffix()) {\n             //These two extra toggles are not documented, because they are mostly redundant #EasterEgg\n             if (withPrefix || !ess.getSettings().disablePrefix()) {\n-                final String ptext = ess.getPermissionsHandler().getPrefix(base).replace('&', '\u00a7');\n+                final String ptext = FormatUtil.replaceFormat(ess.getPermissionsHandler().getPrefix(base));\n                 prefix.insert(0, ptext);\n                 suffix = \"\u00a7r\";\n             }\n             if (withSuffix || !ess.getSettings().disableSuffix()) {\n-                final String stext = ess.getPermissionsHandler().getSuffix(base).replace('&', '\u00a7');\n+                final String stext = FormatUtil.replaceFormat(ess.getPermissionsHandler().getSuffix(base));\n                 suffix = stext + \"\u00a7r\";\n-                suffix = suffix.replace(\"\u00a7f\u00a7f\", \"\u00a7f\").replace(\"\u00a7f\u00a7r\", \"\u00a7r\").replace(\"\u00a7r\u00a7r\", \"\u00a7r\");\n+                // :YEP: WHAT ARE THEY DOING?\n+                // :YEP: STILL. LEGACY CODE.\n+                // :YEP: BUT WHY?\n+                // :YEP: I CAN'T BELIEVE THIS!\n+                // Code from 1542 BC #EasterEgg", "originalCommit": "5609cb0ed58a3523f6e3138ccd0de8ef744d7d02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MzY0Mw==", "url": "https://github.com/EssentialsX/Essentials/pull/3422#discussion_r446663643", "bodyText": ":YEP: I CAN'T BELEIVE THIS", "author": "JRoy", "createdAt": "2020-06-28T15:21:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MzM4MA=="}], "type": "inlineReview"}]}