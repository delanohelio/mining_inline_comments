{"pr_number": 3172, "pr_title": "Added ProjectileCollideEvent and entity and projectile event values", "pr_createdAt": "2020-07-19T15:29:31Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/3172", "timeline": [{"oid": "cadd4de7b7ae89ca2211ec7ed127d8f61da58b7d", "url": "https://github.com/SkriptLang/Skript/commit/cadd4de7b7ae89ca2211ec7ed127d8f61da58b7d", "message": "Added ProjectileCollideEvent and entity and projectile event values", "committedDate": "2020-07-19T15:28:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDc4NA==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456924784", "bodyText": "Are these method checks necessary? If they are, you can just ignore this.", "author": "APickledWalrus", "createdAt": "2020-07-19T15:55:28Z", "path": "src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java", "diffHunk": "@@ -464,6 +466,25 @@ public Entity get(final ProjectileLaunchEvent e) {\n \t\t\t\treturn e.getEntity();\n \t\t\t}\n \t\t}, 0, \"Use 'projectile' and/or 'shooter' in shoot events\", ProjectileLaunchEvent.class);\n+\t\t//ProjectileCollideEvent\n+\t\tif (Skript.classExists(\"com.destroystokyo.paper.event.entity.ProjectileCollideEvent\")) {\n+\t\t\tif (Skript.methodExists(ProjectileCollideEvent.class, \"getEntity\"))", "originalCommit": "cadd4de7b7ae89ca2211ec7ed127d8f61da58b7d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYzNTM1NQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458635355", "bodyText": "These method checks are not necessary, they've been there since paper implemented this event. https://github.com/PaperMC/Paper/blob/ver/1.11.2/Spigot-API-Patches/0042-Add-ProjectileCollideEvent.patch", "author": "Wealthyturtle", "createdAt": "2020-07-22T08:46:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDc4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3MTk1NQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458771955", "bodyText": "Removed", "author": "DeltaRays", "createdAt": "2020-07-22T12:59:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDc4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDk1NQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456924955", "bodyText": "More of a stylistic change, but you can put the check and registration on separate lines? Helps with readability and avoiding long lines \ud83d\ude03", "author": "APickledWalrus", "createdAt": "2020-07-19T15:57:22Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -338,6 +339,12 @@\n \t\t\t\t\t\t\"\\tevent-projectile is arrow\",\n \t\t\t\t\t\t\"\\tdelete event-projectile\")\n \t\t\t\t.since(\"1.0\");\n+\t\t\n+\t\tif(Skript.classExists(\"com.destroystokyo.paper.event.entity.ProjectileCollideEvent\")) Skript.registerEvent(\"Projectile Collide\", SimpleEvent.class, ProjectileCollideEvent.class, \"projectile collide\")", "originalCommit": "cadd4de7b7ae89ca2211ec7ed127d8f61da58b7d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzMTY3Ng==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456931676", "bodyText": "Done \ud83d\udc4d", "author": "DeltaRays", "createdAt": "2020-07-19T17:05:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDk1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYzNTczMQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458635731", "bodyText": "Not done?", "author": "Wealthyturtle", "createdAt": "2020-07-22T08:46:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDk1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc2OTkyOA==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458769928", "bodyText": "The more I use git the less I understand it", "author": "DeltaRays", "createdAt": "2020-07-22T12:55:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNDk1NQ=="}], "type": "inlineReview"}, {"oid": "f964fede814d22a71f50560157f13b36c1e95f7e", "url": "https://github.com/SkriptLang/Skript/commit/f964fede814d22a71f50560157f13b36c1e95f7e", "message": "Formatted SimpleEvents", "committedDate": "2020-07-19T17:05:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzMjMzMQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456932331", "bodyText": "Looks like your IDE reformatted the file. Are you able to revert this change?", "author": "APickledWalrus", "createdAt": "2020-07-19T17:12:09Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -1,18 +1,18 @@\n /**", "originalCommit": "f964fede814d22a71f50560157f13b36c1e95f7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzNzE3MQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456937171", "bodyText": "I actually formatted it on purpose, is there an issue with that?", "author": "DeltaRays", "createdAt": "2020-07-19T18:01:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzMjMzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzNzMxNQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456937315", "bodyText": "Overall, no, but it's a bit out of the scope of this specific PR, so it might be better to do in a separate one.", "author": "APickledWalrus", "createdAt": "2020-07-19T18:03:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzMjMzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk0MzMwNg==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r456943306", "bodyText": "Okay", "author": "DeltaRays", "createdAt": "2020-07-19T19:04:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzMjMzMQ=="}], "type": "inlineReview"}, {"oid": "49bcc12cb0752143bddb96e281f0fdf9bb681a43", "url": "https://github.com/SkriptLang/Skript/commit/49bcc12cb0752143bddb96e281f0fdf9bb681a43", "message": "Revert \"Formatted SimpleEvents\"\n\nThis reverts commit f964fede814d22a71f50560157f13b36c1e95f7e.", "committedDate": "2020-07-19T19:05:23Z", "type": "commit"}, {"oid": "2357a1f43088e17e5ff9b935feb265bc20888f40", "url": "https://github.com/SkriptLang/Skript/commit/2357a1f43088e17e5ff9b935feb265bc20888f40", "message": "Merge branch 'master' into ProjectileCollideEvent", "committedDate": "2020-07-20T10:38:43Z", "type": "commit"}, {"oid": "eaf0ed99f6ba61c6df14d8279ba6d804dcb472de", "url": "https://github.com/SkriptLang/Skript/commit/eaf0ed99f6ba61c6df14d8279ba6d804dcb472de", "message": "Merge branch 'master' into ProjectileCollideEvent", "committedDate": "2020-07-20T21:50:52Z", "type": "commit"}, {"oid": "496307ac94099d25652dfde719389bb47d1d8142", "url": "https://github.com/SkriptLang/Skript/commit/496307ac94099d25652dfde719389bb47d1d8142", "message": "Merge branch 'master' into ProjectileCollideEvent", "committedDate": "2020-07-22T07:50:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYzMTczMw==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458631733", "bodyText": "You don't need this import", "author": "Wealthyturtle", "createdAt": "2020-07-22T08:40:27Z", "path": "src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java", "diffHunk": "@@ -118,13 +118,15 @@\n import org.bukkit.potion.PotionEffectType;\n import org.eclipse.jdt.annotation.Nullable;\n \n+import com.destroystokyo.paper.event.entity.ProjectileCollideEvent;\n import com.destroystokyo.paper.event.player.PlayerArmorChangeEvent;\n \n import ch.njol.skript.Skript;\n import ch.njol.skript.aliases.Aliases;\n import ch.njol.skript.aliases.ItemType;\n import ch.njol.skript.command.CommandEvent;\n import ch.njol.skript.events.EvtMoveOn;\n+import ch.njol.skript.lang.util.SimpleEvent;", "originalCommit": "496307ac94099d25652dfde719389bb47d1d8142", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3MjAyNA==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458772024", "bodyText": "Removed", "author": "DeltaRays", "createdAt": "2020-07-22T12:59:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYzMTczMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYzNjU0Ng==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458636546", "bodyText": "Also missing a .requiredPlugins(\"Paper\")", "author": "Wealthyturtle", "createdAt": "2020-07-22T08:48:14Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -337,6 +338,12 @@\n \t\t\t\t\t\t\"\\tevent-projectile is arrow\",\n \t\t\t\t\t\t\"\\tdelete event-projectile\")\n \t\t\t\t.since(\"1.0\");\n+\t\t\n+\t\tif(Skript.classExists(\"com.destroystokyo.paper.event.entity.ProjectileCollideEvent\")) Skript.registerEvent(\"Projectile Collide\", SimpleEvent.class, ProjectileCollideEvent.class, \"projectile collide\")\n+\t\t\t.description(\"Called when a projectile collides with an entity\")\n+\t\t\t.examples(\"on projectile collide:\",\n+\t\t\t\t\"\\tteleport shooter of event-projectile to event-entity\")\n+\t\t\t.since(\"INSERT VERSION\");", "originalCommit": "496307ac94099d25652dfde719389bb47d1d8142", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3MjA5Mw==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458772093", "bodyText": "Added it", "author": "DeltaRays", "createdAt": "2020-07-22T12:59:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYzNjU0Ng=="}], "type": "inlineReview"}, {"oid": "87f2f1f18a8aefaaf9e3077fa91c929b10906204", "url": "https://github.com/SkriptLang/Skript/commit/87f2f1f18a8aefaaf9e3077fa91c929b10906204", "message": "Removed the import and added requiredPlugins(\"Paper\")", "committedDate": "2020-07-22T12:56:26Z", "type": "commit"}, {"oid": "02610b7c28ae90025bd3c837aefbde86e0284a65", "url": "https://github.com/SkriptLang/Skript/commit/02610b7c28ae90025bd3c837aefbde86e0284a65", "message": "Removed unnecessary conditions", "committedDate": "2020-07-22T12:58:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc4MDYzOQ==", "url": "https://github.com/SkriptLang/Skript/pull/3172#discussion_r458780639", "bodyText": "Just another full stop at this description and I think that's about it.", "author": "Wealthyturtle", "createdAt": "2020-07-22T13:13:10Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -337,6 +338,14 @@\n \t\t\t\t\t\t\"\\tevent-projectile is arrow\",\n \t\t\t\t\t\t\"\\tdelete event-projectile\")\n \t\t\t\t.since(\"1.0\");\n+\t\t\n+\t\tif(Skript.classExists(\"com.destroystokyo.paper.event.entity.ProjectileCollideEvent\"))\n+\t\t\tSkript.registerEvent(\"Projectile Collide\", SimpleEvent.class, ProjectileCollideEvent.class, \"projectile collide\")\n+\t\t\t.description(\"Called when a projectile collides with an entity\")", "originalCommit": "02610b7c28ae90025bd3c837aefbde86e0284a65", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1de38fe3c45c27dcfdc1f17784281c3534858e0e", "url": "https://github.com/SkriptLang/Skript/commit/1de38fe3c45c27dcfdc1f17784281c3534858e0e", "message": "Added a dot at the end of the description", "committedDate": "2020-07-22T13:44:29Z", "type": "commit"}, {"oid": "37cab4d1f78fa9ee43da7d19cbb4ca926f474d00", "url": "https://github.com/SkriptLang/Skript/commit/37cab4d1f78fa9ee43da7d19cbb4ca926f474d00", "message": "Merge branch 'master' into ProjectileCollideEvent", "committedDate": "2020-07-22T19:12:06Z", "type": "commit"}, {"oid": "fc23e33e5cf960773cd268b479ce877ee268dc7d", "url": "https://github.com/SkriptLang/Skript/commit/fc23e33e5cf960773cd268b479ce877ee268dc7d", "message": "Merge branch 'master' into ProjectileCollideEvent", "committedDate": "2020-07-23T07:33:02Z", "type": "commit"}, {"oid": "c827adefc1bafb33e245852fdba8924ac736a1e7", "url": "https://github.com/SkriptLang/Skript/commit/c827adefc1bafb33e245852fdba8924ac736a1e7", "message": "Merge branch 'master' into ProjectileCollideEvent", "committedDate": "2020-07-24T07:32:12Z", "type": "commit"}]}