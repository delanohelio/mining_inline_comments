{"pr_number": 3091, "pr_title": "Addition of functionalities about redstone", "pr_createdAt": "2020-07-01T10:03:18Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/3091", "timeline": [{"oid": "3bbee010c3a031cf54cec988be936a1279a2e207", "url": "https://github.com/SkriptLang/Skript/commit/3bbee010c3a031cf54cec988be936a1279a2e207", "message": "ExprBlockPower - Expression for recovering redstone power from a block.", "committedDate": "2020-07-01T09:35:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI5MjAxOA==", "url": "https://github.com/SkriptLang/Skript/pull/3091#discussion_r448292018", "bodyText": "You are missing docs here. This should include the name (name of the expression), description (describe what this expression does), examples (a few examples showing how this works) and version (\"INSERT VERSION\" <-- that should be used, we replace this later during release)", "author": "ShaneBeee", "createdAt": "2020-07-01T11:14:06Z", "path": "src/main/java/ch/njol/skript/expressions/ExprBlockPower.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+", "originalCommit": "3bbee010c3a031cf54cec988be936a1279a2e207", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODMxOTYwNw==", "url": "https://github.com/SkriptLang/Skript/pull/3091#discussion_r448319607", "bodyText": "to prevent problems, you should user Number here and in the generic but otherwise the PR looks good", "author": "Pikachu920", "createdAt": "2020-07-01T12:11:18Z", "path": "src/main/java/ch/njol/skript/expressions/ExprBlockPower.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+\n+public class ExprBlockPower extends SimplePropertyExpression<Block, Integer> {\n+\t\n+\tstatic {\n+\t\tregister(ExprBlockPower.class, Integer.class, \"power\", \"block\");\n+\t}\n+\t\n+\t@Override\n+\tpublic Integer convert(Block b) {\n+\t\treturn b.getBlockPower();\n+\t}\n+\t\n+\t@Override\n+\tpublic Class<? extends Integer> getReturnType() {\n+\t\treturn Integer.class;", "originalCommit": "3bbee010c3a031cf54cec988be936a1279a2e207", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0OTk5Ng==", "url": "https://github.com/SkriptLang/Skript/pull/3091#discussion_r448349996", "bodyText": "You can make it take multiple blocks just by making the type plural (so, \"blocks\") in the property expression, Skript handles the rest.\nAlso, the name might be too generic, I'd rather use redstone power since other expressions that use the word power may have conflicts.", "author": "FranKusmiruk", "createdAt": "2020-07-01T13:07:43Z", "path": "src/main/java/ch/njol/skript/expressions/ExprBlockPower.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+\n+public class ExprBlockPower extends SimplePropertyExpression<Block, Integer> {\n+\t\n+\tstatic {\n+\t\tregister(ExprBlockPower.class, Integer.class, \"power\", \"block\");", "originalCommit": "3bbee010c3a031cf54cec988be936a1279a2e207", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a3176740adf4a0108b87273a4440f8a7894cc705", "url": "https://github.com/SkriptLang/Skript/commit/a3176740adf4a0108b87273a4440f8a7894cc705", "message": "ExprRedstoneBlockPower - Code review changes", "committedDate": "2020-07-01T13:30:11Z", "type": "commit"}, {"oid": "c321587155d901d1e156aa7f748f189c9e8c402b", "url": "https://github.com/SkriptLang/Skript/commit/c321587155d901d1e156aa7f748f189c9e8c402b", "message": "CondIsBlockRedstonePowered - Condition to check if a block is powered by redstone", "committedDate": "2020-07-01T14:15:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQyODU4Nw==", "url": "https://github.com/SkriptLang/Skript/pull/3091#discussion_r448428587", "bodyText": "Use Number here as well.", "author": "Wealthyturtle", "createdAt": "2020-07-01T15:05:21Z", "path": "src/main/java/ch/njol/skript/expressions/ExprRedstoneBlockPower.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+\n+@Name(\"Redstone Block Power\")\n+@Description(\"Power of a redstone block\")\n+@Examples({\"if redstone power of targeted block is 15:\",\n+\t\"\\tsend \\\"This block is very powerful!\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprRedstoneBlockPower extends SimplePropertyExpression<Block, Number> {\n+\t\n+\tstatic {\n+\t\tregister(ExprRedstoneBlockPower.class, Number.class, \"redstone power\", \"blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic Integer convert(Block b) {", "originalCommit": "c321587155d901d1e156aa7f748f189c9e8c402b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQzNzIwMw==", "url": "https://github.com/SkriptLang/Skript/pull/3091#discussion_r448437203", "bodyText": "Oops, I forgot it. Thanks!", "author": "Romitou", "createdAt": "2020-07-01T15:18:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQyODU4Nw=="}], "type": "inlineReview"}, {"oid": "4f6bbd1f2a30f898228633b2c8919981bccad4d4", "url": "https://github.com/SkriptLang/Skript/commit/4f6bbd1f2a30f898228633b2c8919981bccad4d4", "message": "ExprRedstoneBlockPower - Code review change", "committedDate": "2020-07-01T15:18:02Z", "type": "commit"}, {"oid": "3e390e4d44e6b1831aaedc41089cd76d4c61a4e5", "url": "https://github.com/SkriptLang/Skript/commit/3e390e4d44e6b1831aaedc41089cd76d4c61a4e5", "message": "Merge branch 'master' into master", "committedDate": "2020-07-02T20:53:22Z", "type": "commit"}]}