{"pr_number": 4886, "pr_title": "FISH-141 Support Additional Fields with LogRecord when using JsonLogFormatter", "pr_createdAt": "2020-09-14T13:37:12Z", "pr_url": "https://github.com/payara/Payara/pull/4886", "timeline": [{"oid": "d2c2bfb8250bc1ddd6dd893d9a65690cad207d38", "url": "https://github.com/payara/Payara/commit/d2c2bfb8250bc1ddd6dd893d9a65690cad207d38", "message": "FISH-141 Add logging of Map parameter to JSON log formatter", "committedDate": "2020-09-14T11:51:08Z", "type": "commit"}, {"oid": "fdbd3c80304921b6f3c65960efd75adece8e7b24", "url": "https://github.com/payara/Payara/commit/fdbd3c80304921b6f3c65960efd75adece8e7b24", "message": "FISH-141 Add test and fix copyright\n\nSigned-off-by: Andrew Pielage <andrew.pielage@payara.fish>", "committedDate": "2020-09-14T11:55:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTYzNTQzNA==", "url": "https://github.com/payara/Payara/pull/4886#discussion_r489635434", "bodyText": "Why not support all parameters as JsonArray and have the Map be a JsonObject within it? If done like this any key within the map will eventually override an existing property.", "author": "svendiedrichsen", "createdAt": "2020-09-16T18:25:10Z", "path": "nucleus/core/logging/src/main/java/fish/payara/enterprise/server/logging/JSONLogFormatter.java", "diffHunk": "@@ -379,6 +378,30 @@ private String jsonLogFormat(LogRecord record) {\n                         .append(eventObject.toString()), level);\n             }\n \n+            Object[] parameters = record.getParameters();\n+            if (parameters != null) {\n+                for (Object parameter : parameters) {\n+                    if (parameter instanceof Map) {", "originalCommit": "fdbd3c80304921b6f3c65960efd75adece8e7b24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}