{"pr_number": 4652, "pr_title": "Convert notification actions to a custom preference", "pr_createdAt": "2020-10-26T08:29:19Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/4652", "timeline": [{"oid": "f8b0fc5ffce68bbe20b73db5c2b2bdc8ad0a5554", "url": "https://github.com/TeamNewPipe/NewPipe/commit/f8b0fc5ffce68bbe20b73db5c2b2bdc8ad0a5554", "message": "Convert notification actions to a custom preference", "committedDate": "2020-10-26T08:28:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4MTA5Mg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512181092", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <org.schabi.newpipe.settings.custom.NotificationActionsPreference></org.schabi.newpipe.settings.custom.NotificationActionsPreference>\n          \n          \n            \n                    <org.schabi.newpipe.settings.custom.NotificationActionsPreference />", "author": "Stypox", "createdAt": "2020-10-26T18:30:56Z", "path": "app/src/main/res/xml/notification_settings.xml", "diffHunk": "@@ -0,0 +1,21 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+        android:title=\"@string/settings_category_notification_title\">\n+\n+    <PreferenceCategory>\n+        <SwitchPreferenceCompat\n+                android:defaultValue=\"false\"\n+                android:key=\"@string/scale_to_square_image_in_notifications_key\"\n+                android:summary=\"@string/notification_scale_to_square_image_summary\"\n+                android:title=\"@string/notification_scale_to_square_image_title\"\n+                app:iconSpaceReserved=\"false\" />\n+\n+    </PreferenceCategory>\n+\n+    <PreferenceCategory>\n+        <org.schabi.newpipe.settings.custom.NotificationActionsPreference></org.schabi.newpipe.settings.custom.NotificationActionsPreference>", "originalCommit": "f8b0fc5ffce68bbe20b73db5c2b2bdc8ad0a5554", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4MjgzMg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512182832", "bodyText": "Why change package?", "author": "Stypox", "createdAt": "2020-10-26T18:33:46Z", "path": "app/src/main/java/org/schabi/newpipe/settings/custom/NotificationActionsPreference.java", "diffHunk": "@@ -1,10 +1,10 @@\n-package org.schabi.newpipe.settings;\n+package org.schabi.newpipe.settings.custom;", "originalCommit": "f8b0fc5ffce68bbe20b73db5c2b2bdc8ad0a5554", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ1NTM3OQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512455379", "bodyText": "There is DurationListPreference in that package which is a custom preference.\nSince this is also a custom preference i put it in there.", "author": "XiangRongLin", "createdAt": "2020-10-27T07:03:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4MjgzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk1MDE1Mg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512950152", "bodyText": "Ok, good", "author": "Stypox", "createdAt": "2020-10-27T18:57:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4MjgzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4NDg1OA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512184858", "bodyText": "I think you should remove the ScrollView above here, since it is already integrated in the PreferenceFragment and it creates strange issues with scroll bars. Also be sure to use wrap_content on the root layout's height, otherwise the view can be scrolled more than needed.", "author": "Stypox", "createdAt": "2020-10-26T18:36:56Z", "path": "app/src/main/res/layout/settings_notification.xml", "diffHunk": "@@ -8,71 +8,11 @@\n         android:layout_width=\"match_parent\"", "originalCommit": "f8b0fc5ffce68bbe20b73db5c2b2bdc8ad0a5554", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4NzI1NA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512187254", "bodyText": "Maybe remove PreferenceCategories or put everything in a single one: now there is some strange spacing above and below the normal preference, so try to play around with this until the layout looks good", "author": "Stypox", "createdAt": "2020-10-26T18:40:35Z", "path": "app/src/main/res/xml/notification_settings.xml", "diffHunk": "@@ -0,0 +1,21 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+        android:title=\"@string/settings_category_notification_title\">\n+\n+    <PreferenceCategory>\n+        <SwitchPreferenceCompat\n+                android:defaultValue=\"false\"\n+                android:key=\"@string/scale_to_square_image_in_notifications_key\"\n+                android:summary=\"@string/notification_scale_to_square_image_summary\"\n+                android:title=\"@string/notification_scale_to_square_image_title\"\n+                app:iconSpaceReserved=\"false\" />\n+\n+    </PreferenceCategory>", "originalCommit": "f8b0fc5ffce68bbe20b73db5c2b2bdc8ad0a5554", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ2NDA3Mg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4652#discussion_r512464072", "bodyText": "The reason for the strange spacing was that i forgot to set the layout of PreferenceCategory. I just had in my mind that in the other settings the PreferenceCategory created a visual seperation, which was needed since i removed the divider.", "author": "XiangRongLin", "createdAt": "2020-10-27T07:25:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4NzI1NA=="}], "type": "inlineReview"}, {"oid": "764d08872f87b4cee1075ef7513a76121efa14b1", "url": "https://github.com/TeamNewPipe/NewPipe/commit/764d08872f87b4cee1075ef7513a76121efa14b1", "message": "Apply Stypox's suggestions\n\nsquash me", "committedDate": "2020-10-27T07:28:16Z", "type": "commit"}]}