{"pr_number": 5230, "pr_title": "Update prettytime.", "pr_createdAt": "2020-12-20T05:08:03Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/5230", "timeline": [{"oid": "fab41b20139b3a016aea5211a5f7f850336e9446", "url": "https://github.com/TeamNewPipe/NewPipe/commit/fab41b20139b3a016aea5211a5f7f850336e9446", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2020-12-22T13:01:47Z", "type": "forcePushed"}, {"oid": "5d56d2b734314538b93a8f4457cf049352cdc490", "url": "https://github.com/TeamNewPipe/NewPipe/commit/5d56d2b734314538b93a8f4457cf049352cdc490", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2020-12-24T23:10:55Z", "type": "forcePushed"}, {"oid": "5f40c854248d96a66983cc7f205483be01bd5462", "url": "https://github.com/TeamNewPipe/NewPipe/commit/5f40c854248d96a66983cc7f205483be01bd5462", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-02T03:52:41Z", "type": "forcePushed"}, {"oid": "8ae427756b1ac1abe5619738e2ec6144e2b24948", "url": "https://github.com/TeamNewPipe/NewPipe/commit/8ae427756b1ac1abe5619738e2ec6144e2b24948", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-11T11:11:25Z", "type": "forcePushed"}, {"oid": "347d8a33d6ee78b2c2f1d46d2009f9fa8b293ab3", "url": "https://github.com/TeamNewPipe/NewPipe/commit/347d8a33d6ee78b2c2f1d46d2009f9fa8b293ab3", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-14T03:03:11Z", "type": "forcePushed"}, {"oid": "3e918b27e1e435c6645c26fc7782fa63fabd46b4", "url": "https://github.com/TeamNewPipe/NewPipe/commit/3e918b27e1e435c6645c26fc7782fa63fabd46b4", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-16T06:38:43Z", "type": "forcePushed"}, {"oid": "c04d5039f98ac20eddb59ae5d6615e7b4f94d604", "url": "https://github.com/TeamNewPipe/NewPipe/commit/c04d5039f98ac20eddb59ae5d6615e7b4f94d604", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-16T11:23:23Z", "type": "forcePushed"}, {"oid": "061c4bb3409eeefe7ca192f68260068b6949cde5", "url": "https://github.com/TeamNewPipe/NewPipe/commit/061c4bb3409eeefe7ca192f68260068b6949cde5", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-16T13:24:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NjQ0Mw==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r558886443", "bodyText": "The bug that you tried to fix with this was resolved by prettytime?", "author": "XiangRongLin", "createdAt": "2021-01-16T13:39:40Z", "path": "app/src/main/java/org/schabi/newpipe/ktx/OffsetDateTime.kt", "diffHunk": "@@ -1,29 +0,0 @@\n-package org.schabi.newpipe.ktx\n-\n-import java.time.OffsetDateTime\n-import java.time.ZoneOffset\n-import java.time.temporal.ChronoField\n-import java.util.Calendar\n-import java.util.Date\n-import java.util.GregorianCalendar\n-import java.util.TimeZone\n-\n-// This method is a modified version of GregorianCalendar.from(ZonedDateTime).\n-// Math.addExact() and Math.multiplyExact() are desugared even though lint displays a warning.\n-@SuppressWarnings(\"NewApi\")\n-fun OffsetDateTime.toCalendar(): Calendar {", "originalCommit": "061c4bb3409eeefe7ca192f68260068b6949cde5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTA3NjkyMQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r559076921", "bodyText": "I added a formatUnrounded method to PrettyTime that accepts an OffsetDateTime.", "author": "Isira-Seneviratne", "createdAt": "2021-01-17T04:36:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NjQ0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NzY1Nw==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r558887657", "bodyText": "Could you add some reasoning behind the \"why\" of this change. Maybe add it to the commit message too\nI assume it's because of that tests with Calendar, that is weird.", "author": "XiangRongLin", "createdAt": "2021-01-16T13:42:57Z", "path": "app/src/main/java/org/schabi/newpipe/local/feed/FeedFragment.kt", "diffHunk": "@@ -63,7 +63,7 @@ class FeedFragment : BaseListFragment<FeedState, Unit>() {\n \n     private var groupId = FeedGroupEntity.GROUP_ALL_ID\n     private var groupName = \"\"\n-    private var oldestSubscriptionUpdate: Calendar? = null\n+    private var oldestSubscriptionUpdate: OffsetDateTime? = null", "originalCommit": "061c4bb3409eeefe7ca192f68260068b6949cde5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTA3NjkzOA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r559076938", "bodyText": "Same as above.", "author": "Isira-Seneviratne", "createdAt": "2021-01-17T04:36:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NzY1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTEyNTgzNg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r559125836", "bodyText": "But why was the change made of adding that method?", "author": "XiangRongLin", "createdAt": "2021-01-17T10:00:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NzY1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTI2NTg0NQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r559265845", "bodyText": "Previously, PrettyTime had no support for java.time: ocpsoft/prettytime#109", "author": "Isira-Seneviratne", "createdAt": "2021-01-18T00:43:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NzY1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTMxODQ2Ng==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5230#discussion_r559318466", "bodyText": "Then please add that information to the commit message", "author": "XiangRongLin", "createdAt": "2021-01-18T05:03:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODg4NzY1Nw=="}], "type": "inlineReview"}, {"oid": "da8b8118c80dba8c1827b81bf7124e86925b84e7", "url": "https://github.com/TeamNewPipe/NewPipe/commit/da8b8118c80dba8c1827b81bf7124e86925b84e7", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-17T01:36:21Z", "type": "forcePushed"}, {"oid": "47f2b7a96a393047c26e13810befc8b41dcfce7f", "url": "https://github.com/TeamNewPipe/NewPipe/commit/47f2b7a96a393047c26e13810befc8b41dcfce7f", "message": "Use PrettyTime's formatUnrounded(OffsetDateTime) method.", "committedDate": "2021-01-18T00:49:02Z", "type": "forcePushed"}, {"oid": "46ce1bec66157bd238cb00ee447b513a2736b245", "url": "https://github.com/TeamNewPipe/NewPipe/commit/46ce1bec66157bd238cb00ee447b513a2736b245", "message": "Use PrettyTime's new formatUnrounded(OffsetDateTime) method.\n\nAlso change the types of the relevant variables from Calendar to OffsetDateTime.", "committedDate": "2021-01-19T02:14:54Z", "type": "forcePushed"}, {"oid": "872eac3a795e206093af104b647e896e35b85963", "url": "https://github.com/TeamNewPipe/NewPipe/commit/872eac3a795e206093af104b647e896e35b85963", "message": "Use PrettyTime's new formatUnrounded(OffsetDateTime) method.\n\nAlso change the types of the relevant variables from Calendar to OffsetDateTime.", "committedDate": "2021-01-22T02:11:42Z", "type": "forcePushed"}, {"oid": "8cf4ba25f57813609042b6c9ac175fe7b30f4536", "url": "https://github.com/TeamNewPipe/NewPipe/commit/8cf4ba25f57813609042b6c9ac175fe7b30f4536", "message": "Update prettytime to 5.0.0.Final.", "committedDate": "2021-03-18T01:08:12Z", "type": "commit"}, {"oid": "74e20a8c52c90693f76037ad547606ec232a66f9", "url": "https://github.com/TeamNewPipe/NewPipe/commit/74e20a8c52c90693f76037ad547606ec232a66f9", "message": "Use PrettyTime's new formatUnrounded(OffsetDateTime) method.\n\nAlso change the types of the relevant variables from Calendar to OffsetDateTime.", "committedDate": "2021-03-18T01:08:12Z", "type": "commit"}, {"oid": "74e20a8c52c90693f76037ad547606ec232a66f9", "url": "https://github.com/TeamNewPipe/NewPipe/commit/74e20a8c52c90693f76037ad547606ec232a66f9", "message": "Use PrettyTime's new formatUnrounded(OffsetDateTime) method.\n\nAlso change the types of the relevant variables from Calendar to OffsetDateTime.", "committedDate": "2021-03-18T01:08:12Z", "type": "forcePushed"}]}