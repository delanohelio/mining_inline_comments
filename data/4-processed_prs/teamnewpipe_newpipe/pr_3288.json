{"pr_number": 3288, "pr_title": "Save and restore playback parameters into/from preferences", "pr_createdAt": "2020-03-28T12:40:45Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/3288", "timeline": [{"oid": "8f514bb1cb403cfbf06a2f935d78a2b618a56123", "url": "https://github.com/TeamNewPipe/NewPipe/commit/8f514bb1cb403cfbf06a2f935d78a2b618a56123", "message": "Save and restore playback parameters into/from preferences\n\nPlayback parameters are speed, pitch and skip silence.\nRemove parameters being passed on as intent to the player, since the parameters can be restored from the preferences instead.", "committedDate": "2020-03-29T08:17:22Z", "type": "forcePushed"}, {"oid": "6bfa6be22d2663d41ede7e404fbe5d5f6f3e38cf", "url": "https://github.com/TeamNewPipe/NewPipe/commit/6bfa6be22d2663d41ede7e404fbe5d5f6f3e38cf", "message": "Save and restore playback parameters into/from preferences\n\nPlayback parameters are speed, pitch and skip silence.\nRemove parameters being passed on as intent to the player, since the parameters can be restored from the preferences instead.", "committedDate": "2020-03-29T08:25:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc2NTIyMQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3288#discussion_r399765221", "bodyText": "Could be final.", "author": "wb9688", "createdAt": "2020-03-29T08:35:03Z", "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -272,11 +266,12 @@ public void handleIntent(Intent intent) {\n             return;\n         }\n \n+        PlaybackParameters savedParameters = retrievePlaybackParametersFromPreferences();", "originalCommit": "6bfa6be22d2663d41ede7e404fbe5d5f6f3e38cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc2NTI1MQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3288#discussion_r399765251", "bodyText": "Could also all be final.", "author": "wb9688", "createdAt": "2020-03-29T08:35:19Z", "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -312,6 +307,19 @@ public void handleIntent(Intent intent) {\n                 /*playOnInit=*/!intent.getBooleanExtra(START_PAUSED, false), isMuted);\n     }\n \n+    private PlaybackParameters retrievePlaybackParametersFromPreferences() {\n+        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);\n+\n+        float speed = preferences\n+            .getFloat(context.getString(R.string.playback_speed_key), getPlaybackSpeed());\n+        float pitch = preferences.getFloat(context.getString(R.string.playback_pitch_key),\n+            getPlaybackPitch());\n+        boolean skipSilence = preferences\n+            .getBoolean(context.getString(R.string.playback_skip_silence_key),\n+                getPlaybackSkipSilence());", "originalCommit": "6bfa6be22d2663d41ede7e404fbe5d5f6f3e38cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc2OTA3Mg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3288#discussion_r399769072", "bodyText": "Couldn't this be final as well?", "author": "wb9688", "createdAt": "2020-03-29T09:12:17Z", "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -312,6 +307,19 @@ public void handleIntent(Intent intent) {\n                 /*playOnInit=*/!intent.getBooleanExtra(START_PAUSED, false), isMuted);\n     }\n \n+    private PlaybackParameters retrievePlaybackParametersFromPreferences() {\n+        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);", "originalCommit": "10147e0e7782aa60d1d6de74ee9f1b0860fedb68", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1e4f1d0ff05bdade6751d9087914dcfda47c681d", "url": "https://github.com/TeamNewPipe/NewPipe/commit/1e4f1d0ff05bdade6751d9087914dcfda47c681d", "message": "Save and restore playback parameters into/from preferences\n\nPlayback parameters are speed, pitch and skip silence.\nRemove parameters being passed on as intent to the player, since the parameters can be restored from the preferences instead.", "committedDate": "2020-03-29T09:10:08Z", "type": "forcePushed"}, {"oid": "3855e488cb78959dbf6327ff187fda8867e42b43", "url": "https://github.com/TeamNewPipe/NewPipe/commit/3855e488cb78959dbf6327ff187fda8867e42b43", "message": "Save and restore playback parameters into/from preferences\n\nPlayback parameters are speed, pitch and skip silence.\nRemove parameters being passed on as intent to the player, since the parameters can be restored from the preferences instead.\n\n# Conflicts:\n#\tapp/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "committedDate": "2020-04-05T15:46:49Z", "type": "commit"}, {"oid": "3855e488cb78959dbf6327ff187fda8867e42b43", "url": "https://github.com/TeamNewPipe/NewPipe/commit/3855e488cb78959dbf6327ff187fda8867e42b43", "message": "Save and restore playback parameters into/from preferences\n\nPlayback parameters are speed, pitch and skip silence.\nRemove parameters being passed on as intent to the player, since the parameters can be restored from the preferences instead.\n\n# Conflicts:\n#\tapp/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "committedDate": "2020-04-05T15:46:49Z", "type": "forcePushed"}]}