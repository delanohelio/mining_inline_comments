{"pr_number": 4948, "pr_title": "Fix crash on startup when there is no internet connection", "pr_createdAt": "2020-11-21T11:03:55Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/4948", "timeline": [{"oid": "8dc4e6dc2ad692d4ba56f88513f652c5f110a454", "url": "https://github.com/TeamNewPipe/NewPipe/commit/8dc4e6dc2ad692d4ba56f88513f652c5f110a454", "message": "Fix crash on startup without internet: Cbservable callable returning null\n\nUse Maybe instead", "committedDate": "2020-11-21T11:02:03Z", "type": "commit"}, {"oid": "17866c29aea4b17771faf2d81671bd2de2d9bdca", "url": "https://github.com/TeamNewPipe/NewPipe/commit/17866c29aea4b17771faf2d81671bd2de2d9bdca", "message": "Refactor CheckForNewAppVersion", "committedDate": "2020-11-21T11:02:08Z", "type": "commit"}, {"oid": "17866c29aea4b17771faf2d81671bd2de2d9bdca", "url": "https://github.com/TeamNewPipe/NewPipe/commit/17866c29aea4b17771faf2d81671bd2de2d9bdca", "message": "Refactor CheckForNewAppVersion", "committedDate": "2020-11-21T11:02:08Z", "type": "forcePushed"}, {"oid": "fd4c37e9b38c1f75f6e91d6e9cc1137890223c6c", "url": "https://github.com/TeamNewPipe/NewPipe/commit/fd4c37e9b38c1f75f6e91d6e9cc1137890223c6c", "message": "Fix crash on startup caused by no implementation of onError() method", "committedDate": "2020-11-22T10:46:24Z", "type": "commit"}, {"oid": "6f5e99be6fa382ef40ddec3529f7fcf86e0ca0c8", "url": "https://github.com/TeamNewPipe/NewPipe/commit/6f5e99be6fa382ef40ddec3529f7fcf86e0ca0c8", "message": "Handle CheckForNewAppVersion exceptions in one place", "committedDate": "2020-11-22T12:27:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzMDg4MQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4948#discussion_r528330881", "bodyText": "i just thought about checking whether there was really a network problem by calling ExceptionUtils.isNetworkRelated(e)", "author": "TobiGr", "createdAt": "2020-11-22T12:47:50Z", "path": "app/src/main/java/org/schabi/newpipe/CheckForNewAppVersion.java", "diffHunk": "@@ -218,15 +208,14 @@ public static Disposable checkNewVersion(@NonNull final App app) {\n                             } catch (final JsonParserException e) {\n                                 // connectivity problems, do not alarm user and fail silently\n                                 if (DEBUG) {\n-                                    Log.w(TAG, Log.getStackTraceString(e));\n+                                    Log.w(TAG, \"Could not get NewPipe API: invalid json\", e);\n                                 }\n                             }\n                         },\n-                        throwable -> {\n+                        e -> {\n                             // connectivity problems, do not alarm user and fail silently\n                             if (DEBUG) {\n-                                Log.i(TAG, \"Could not get NewPipe API: network problem\");\n-                                Log.i(TAG, Log.getStackTraceString(throwable));\n+                                Log.w(TAG, \"Could not get NewPipe API: network problem\", e);", "originalCommit": "6f5e99be6fa382ef40ddec3529f7fcf86e0ca0c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzMTkxNw==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4948#discussion_r528331917", "bodyText": "What else can it be? And even if the error was different, I don't think it would be an issue, since the whole stacktrace would be printed out anyway", "author": "Stypox", "createdAt": "2020-11-22T12:56:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzMDg4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzMjEwMg==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4948#discussion_r528332102", "bodyText": "ok", "author": "TobiGr", "createdAt": "2020-11-22T12:58:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzMDg4MQ=="}], "type": "inlineReview"}]}