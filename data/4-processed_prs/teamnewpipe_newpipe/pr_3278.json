{"pr_number": 3278, "pr_title": "Fix url parsing from shared content", "pr_createdAt": "2020-03-27T02:41:44Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/3278", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY0ODQxNA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3278#discussion_r399648414", "bodyText": "Hm. This needs some license in this case. Seems to be Apache 2.0.\nDid you change anything or did you just copied the patterns to get the private stuff?", "author": "TobiGr", "createdAt": "2020-03-28T10:52:40Z", "path": "app/src/main/java/org/schabi/newpipe/util/UrlFinder.kt", "diffHunk": "@@ -0,0 +1,85 @@\n+package org.schabi.newpipe.util\n+\n+import java.util.regex.Pattern\n+\n+class UrlFinder {\n+    companion object {\n+        /**\n+         * @return the first url found in the input, null otherwise.\n+         */\n+        @JvmStatic\n+        fun firstUrlFromInput(input: String?): String? {\n+            if (input.isNullOrEmpty()) {\n+                return null\n+            }\n+\n+            val matcher = WEB_URL_WITH_PROTOCOL.matcher(input)\n+\n+            if (matcher.find()) {\n+                return matcher.group()\n+            }\n+\n+            return null\n+        }\n+\n+        /*\n+         * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n+         * Patterns below are copied from PatternsCompat", "originalCommit": "eb5769b77f3d867f922d0d91663953171c5d8194", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY4NTczMQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3278#discussion_r399685731", "bodyText": "Done. I chose to move all the changes into another file, I think it's ok now?", "author": "mauriciocolli", "createdAt": "2020-03-28T17:11:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY0ODQxNA=="}], "type": "inlineReview"}, {"oid": "f133bbf499afd15629be62a887ec3f2ad1ad01d6", "url": "https://github.com/TeamNewPipe/NewPipe/commit/f133bbf499afd15629be62a887ec3f2ad1ad01d6", "message": "Introduce a proper way to find urls in a string input", "committedDate": "2020-03-28T17:06:09Z", "type": "commit"}, {"oid": "4dc28989c884c599648a22a7692ab43e8d9cb0b1", "url": "https://github.com/TeamNewPipe/NewPipe/commit/4dc28989c884c599648a22a7692ab43e8d9cb0b1", "message": "Fix bug when searching for urls from shared content", "committedDate": "2020-03-28T17:06:11Z", "type": "commit"}, {"oid": "4dc28989c884c599648a22a7692ab43e8d9cb0b1", "url": "https://github.com/TeamNewPipe/NewPipe/commit/4dc28989c884c599648a22a7692ab43e8d9cb0b1", "message": "Fix bug when searching for urls from shared content", "committedDate": "2020-03-28T17:06:11Z", "type": "forcePushed"}]}