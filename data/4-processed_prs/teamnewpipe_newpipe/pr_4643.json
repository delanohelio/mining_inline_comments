{"pr_number": 4643, "pr_title": "Add option to not colorize notification", "pr_createdAt": "2020-10-25T11:43:12Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/4643", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5MDg0OQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4643#discussion_r511590849", "bodyText": "Let's keep consistency\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"colorize_notification_key\" translatable=\"false\">colorize_notification_key</string>\n          \n          \n            \n                <string name=\"notification_colorize_key\" translatable=\"false\">notification_colorize_key</string>", "author": "Stypox", "createdAt": "2020-10-25T12:31:40Z", "path": "app/src/main/res/values/settings_keys.xml", "diffHunk": "@@ -132,6 +132,8 @@\n     <string name=\"notification_slot_compact_1_key\" translatable=\"false\">notification_slot_compact_1_key</string>\n     <string name=\"notification_slot_compact_2_key\" translatable=\"false\">notification_slot_compact_2_key</string>\n \n+    <string name=\"colorize_notification_key\" translatable=\"false\">colorize_notification_key</string>", "originalCommit": "720d105b31a093837702cf3b1eedcc0dd96c9865", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5MTIzOA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4643#discussion_r511591238", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"colorize_notification_title\">Colorize notifications</string>\n          \n          \n            \n                <string name=\"colorize_notification_summary\">Use Androids feature to set the color of the notification according to the main color of the thumbnail</string>\n          \n          \n            \n                <string name=\"notification_colorize_title\">Colorize notification</string>\n          \n          \n            \n                <string name=\"notification_colorize_summary\">Have Android cusomize the notification's color according to the main color in the thumbnail (note that this is not available on all devices)</string>\n          \n      \n    \n    \n  \n\nAlso maybe add a note about the fact that some Android versions and UIs never colorize the notification.", "author": "Stypox", "createdAt": "2020-10-25T12:34:58Z", "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -71,6 +71,8 @@\n     <string name=\"notification_action_shuffle\">Shuffle</string>\n     <string name=\"notification_action_buffering\">Buffering</string>\n     <string name=\"notification_action_nothing\">Nothing</string>\n+    <string name=\"colorize_notification_title\">Colorize notifications</string>\n+    <string name=\"colorize_notification_summary\">Use Androids feature to set the color of the notification according to the main color of the thumbnail</string>", "originalCommit": "720d105b31a093837702cf3b1eedcc0dd96c9865", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5NTA5MA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4643#discussion_r511595090", "bodyText": "Oh, maybe this setting should also be hidden on API <21, since on pre-Lollipop we are sure notifications won't be colorized (I can't find the exact Android version where colorized notifications were added, so I'm assuming Lollipop, if you can find more precise information then use that one)", "author": "Stypox", "createdAt": "2020-10-25T13:08:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5MTIzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5MjU3Ng==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4643#discussion_r511592576", "bodyText": "While you are at it, could you change the default color before media starts to play to a darker gray? dark_background_color should do\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            .setColor(ContextCompat.getColor(player.context, R.color.gray))\n          \n          \n            \n                            .setColor(ContextCompat.getColor(player.context, R.color.dark_background_color))", "author": "Stypox", "createdAt": "2020-10-25T12:45:51Z", "path": "app/src/main/java/org/schabi/newpipe/player/NotificationUtil.java", "diffHunk": "@@ -121,6 +121,9 @@ synchronized void createNotificationIfNeededAndUpdate(final VideoPlayerImpl play\n                 .setShowWhen(false)\n                 .setSmallIcon(R.drawable.ic_newpipe_triangle_white)\n                 .setColor(ContextCompat.getColor(player.context, R.color.gray))", "originalCommit": "720d105b31a093837702cf3b1eedcc0dd96c9865", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4ecff0eaa312d2daff975b4de48f741bf00baf2d", "url": "https://github.com/TeamNewPipe/NewPipe/commit/4ecff0eaa312d2daff975b4de48f741bf00baf2d", "message": "Add option to not colorize notification", "committedDate": "2020-11-01T17:05:47Z", "type": "forcePushed"}, {"oid": "47182d93c4ef290176026072ae80c81934123976", "url": "https://github.com/TeamNewPipe/NewPipe/commit/47182d93c4ef290176026072ae80c81934123976", "message": "Add option to not colorize notification", "committedDate": "2020-11-01T17:13:41Z", "type": "forcePushed"}, {"oid": "974f8f692c13ad123b87f45a1673bc0030d34864", "url": "https://github.com/TeamNewPipe/NewPipe/commit/974f8f692c13ad123b87f45a1673bc0030d34864", "message": "Add option to not colorize notification", "committedDate": "2020-11-01T21:13:00Z", "type": "commit"}, {"oid": "974f8f692c13ad123b87f45a1673bc0030d34864", "url": "https://github.com/TeamNewPipe/NewPipe/commit/974f8f692c13ad123b87f45a1673bc0030d34864", "message": "Add option to not colorize notification", "committedDate": "2020-11-01T21:13:00Z", "type": "forcePushed"}]}