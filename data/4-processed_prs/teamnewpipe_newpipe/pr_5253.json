{"pr_number": 5253, "pr_title": "Use view binding in VideoPlayer.", "pr_createdAt": "2020-12-23T01:49:56Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/5253", "timeline": [{"oid": "064c9659ff9897579c265894f5115cc07dffde7f", "url": "https://github.com/TeamNewPipe/NewPipe/commit/064c9659ff9897579c265894f5115cc07dffde7f", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl.", "committedDate": "2021-01-02T03:55:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDQyOTE0OA==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5253#discussion_r554429148", "bodyText": "Why did you keep these three variables?", "author": "Stypox", "createdAt": "2021-01-09T13:46:10Z", "path": "app/src/main/java/org/schabi/newpipe/player/VideoPlayer.java", "diffHunk": "@@ -178,54 +153,37 @@ private static boolean containsCaseInsensitive(final List<String> list, final St\n         return false;\n     }\n \n-    public void setup(final View view) {\n-        initViews(view);\n-        setup();\n+    public void setup(@NonNull final PlayerBinding binding) {\n+        initViews(binding);\n+        if (simpleExoPlayer == null) {\n+            initPlayer(true);\n+        }\n+        initListeners();\n     }\n \n-    public void initViews(final View view) {\n-        this.rootView = view;\n-        this.surfaceView = view.findViewById(R.id.surfaceView);\n-        this.surfaceForeground = view.findViewById(R.id.surfaceForeground);\n-        this.loadingPanel = view.findViewById(R.id.loading_panel);\n-        this.endScreen = view.findViewById(R.id.endScreen);\n-        this.controlAnimationView = view.findViewById(R.id.controlAnimationView);\n-        this.controlsRoot = view.findViewById(R.id.playbackControlRoot);\n-        this.currentDisplaySeek = view.findViewById(R.id.currentDisplaySeek);\n-        this.playerTopShadow = view.findViewById(R.id.playerTopShadow);\n-        this.playerBottomShadow = view.findViewById(R.id.playerBottomShadow);\n-        this.playbackSeekBar = view.findViewById(R.id.playbackSeekBar);\n-        this.playbackCurrentTime = view.findViewById(R.id.playbackCurrentTime);\n-        this.playbackEndTime = view.findViewById(R.id.playbackEndTime);\n-        this.playbackLiveSync = view.findViewById(R.id.playbackLiveSync);\n-        this.playbackSpeedTextView = view.findViewById(R.id.playbackSpeed);\n-        this.bottomControlsRoot = view.findViewById(R.id.bottomControls);\n-        this.topControlsRoot = view.findViewById(R.id.topControls);\n-        this.qualityTextView = view.findViewById(R.id.qualityTextView);\n-\n-        this.subtitleView = view.findViewById(R.id.subtitleView);\n+    public void initViews(@NonNull final PlayerBinding binding) {\n+        playerBinding = binding;\n+        playbackSeekBar = (SeekBar) binding.playbackSeekBar;\n+        qualityTextView = (TextView) binding.qualityTextView;\n+        playbackSpeed = (TextView) binding.playbackSpeed;", "originalCommit": "064c9659ff9897579c265894f5115cc07dffde7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDk3NTY0MQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5253#discussion_r554975641", "bodyText": "I was getting compilation errors as those three views were being stored as View variables for some reason.", "author": "Isira-Seneviratne", "createdAt": "2021-01-11T11:15:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDQyOTE0OA=="}], "type": "inlineReview"}, {"oid": "a6db02f678bbf02a550e6c13460e322422aead9e", "url": "https://github.com/TeamNewPipe/NewPipe/commit/a6db02f678bbf02a550e6c13460e322422aead9e", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl.", "committedDate": "2021-01-11T11:18:18Z", "type": "forcePushed"}, {"oid": "f2ea8cc046ad2e0b2a958392520a1145d580fb96", "url": "https://github.com/TeamNewPipe/NewPipe/commit/f2ea8cc046ad2e0b2a958392520a1145d580fb96", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl.", "committedDate": "2021-01-13T19:41:24Z", "type": "forcePushed"}, {"oid": "0c86a4e608f7f07c686643b8b2f8c17d2763f59a", "url": "https://github.com/TeamNewPipe/NewPipe/commit/0c86a4e608f7f07c686643b8b2f8c17d2763f59a", "message": "Use view binding (PlayerBinding) in VideoPlayer.", "committedDate": "2021-01-13T19:43:56Z", "type": "commit"}, {"oid": "fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "url": "https://github.com/TeamNewPipe/NewPipe/commit/fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl.", "committedDate": "2021-01-13T19:44:00Z", "type": "commit"}, {"oid": "fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "url": "https://github.com/TeamNewPipe/NewPipe/commit/fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl.", "committedDate": "2021-01-13T19:44:00Z", "type": "forcePushed"}]}