{"pr_number": 8624, "pr_title": "Add mapping between APIs and Servcie catalog entries", "pr_createdAt": "2020-06-02T04:28:51Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8624", "timeline": [{"oid": "2ec0ea97b9d7e2435c24f7d82456c511f47a4b1b", "url": "https://github.com/wso2/carbon-apimgt/commit/2ec0ea97b9d7e2435c24f7d82456c511f47a4b1b", "message": "Add initial impl for mapping between API and reg_entry", "committedDate": "2020-06-01T06:33:14Z", "type": "commit"}, {"oid": "8ff311428f65ae03c476dba0c89c2cc521f32802", "url": "https://github.com/wso2/carbon-apimgt/commit/8ff311428f65ae03c476dba0c89c2cc521f32802", "message": "Add endpoint registry entry, API mapping table", "committedDate": "2020-06-02T04:27:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzYyMTIxNA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8624#discussion_r433621214", "bodyText": "Going forward, production endpoint and sandbox endpoint can be attached to two different registry entries. So we cannot add this unique constraint, as there can be two rows with the same combination of the same entry is used for both endpoints.", "author": "fazlan-nazeem", "createdAt": "2020-06-02T05:02:27Z", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1863,4 +1863,12 @@ CREATE TABLE IF NOT EXISTS ENDPOINT_REG_ENTRY (\n   FOREIGN KEY (REG_ID) REFERENCES ENDPOINT_REG (ID) ON DELETE CASCADE\n );\n \n+CREATE TABLE IF NOT EXISTS AM_API_ENDPOINT_REG_ENTRY_MAPPING (\n+    API_ID INTEGER NOT NULL,\n+    REG_NAME VARCHAR(255) NOT NULL,\n+    ENTRY_NAME VARCHAR(255) NOT NULL,\n+    ENTRY_VERSION VARCHAR(30),\n+    UNIQUE (API_ID, REG_NAME, ENTRY_NAME, ENTRY_VERSION),", "originalCommit": "8ff311428f65ae03c476dba0c89c2cc521f32802", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzYyMzA3Mg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8624#discussion_r433623072", "bodyText": "Yes, will introduce the support for adding separate entries for production and sandbox endpoints in next PR.", "author": "vithu30", "createdAt": "2020-06-02T05:10:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzYyMTIxNA=="}], "type": "inlineReview"}]}