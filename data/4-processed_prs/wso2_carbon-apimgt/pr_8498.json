{"pr_number": 8498, "pr_title": "Blacklist Policies", "pr_createdAt": "2020-05-13T09:47:22Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8498", "timeline": [{"oid": "daef08b0fdd3b312e8e45243e0e2e0f30e083fa1", "url": "https://github.com/wso2/carbon-apimgt/commit/daef08b0fdd3b312e8e45243e0e2e0f30e083fa1", "message": "Blacklist policies List, Delete and Add Form", "committedDate": "2020-05-13T09:41:31Z", "type": "commit"}, {"oid": "8bec8a1db33676be126d472310c12941e53c4703", "url": "https://github.com/wso2/carbon-apimgt/commit/8bec8a1db33676be126d472310c12941e53c4703", "message": "Blacklist policies Add functionality", "committedDate": "2020-05-13T09:41:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMyMTA3MQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8498#discussion_r424321071", "bodyText": "Can we rename it to meaningful key instead of a?", "author": "Krishanx92", "createdAt": "2020-05-13T10:02:10Z", "path": "features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/admin_new/source/src/app/components/Throttling/Blacklist/List.jsx", "diffHunk": "@@ -0,0 +1,207 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useState } from 'react';\n+import { useIntl, FormattedMessage } from 'react-intl';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import Typography from '@material-ui/core/Typography';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import ListBase from 'AppComponents/AdminPages/Addons/ListBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import AddEdit from 'AppComponents/Throttling/Blacklist/AddEdit';\n+import Delete from 'AppComponents/Throttling/Blacklist/Delete';\n+import API from 'AppData/api';\n+\n+/**\n+ * Render a list\n+ * @returns {JSX} Header AppBar components.\n+ */\n+export default function ListBlacklistThrottlingPolicies() {\n+    const intl = useIntl();\n+    const restApi = new API();\n+    let blacklistPolicyList;\n+    const [\n+        blacklistPoliciesList,\n+        setBlacklistPoliciesList,\n+    ] = useState([]);\n+\n+    // const [state, setState] = React.useState({\n+    //     checkedA: true,\n+    //     checkedB: true,\n+    // });\n+\n+    // const handleChange = (event) => {\n+    //     setState({ ...state, [event.target.name]: event.target.checked });\n+    // };\n+\n+    const addButtonProps = {\n+        triggerButtonText: intl.formatMessage({\n+            id: 'Throttling.Blacklist.Policy.List.addButtonProps.triggerButtonText',\n+            defaultMessage: 'Add Policy',\n+        }),\n+        /* This title is what as the title of the popup dialog box */\n+        title: intl.formatMessage({\n+            id: 'Throttling.Blacklist.Policy.List.addButtonProps.title',\n+            defaultMessage: 'Select Item to Blacklist ',\n+        }),\n+    };\n+    const searchProps = {\n+        searchPlaceholder: intl.formatMessage({\n+            id: 'Throttling.Blacklist.Policy.List.search.default',\n+            defaultMessage: 'Search by Blacklist Policy name',\n+        }),\n+        active: true,\n+    };\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+            + 'learn/rate-limiting/blacklisting-whitelisting/#blacklisting-requests'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Throttling.Blacklist.Policy.List.help.link.one'\n+                                    defaultMessage='Blacklisting requests'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Throttling.Blacklist.Policy.search.default',\n+            defaultMessage: 'Blacklist Policies',\n+        }),\n+        EditTitle: intl.formatMessage({\n+            id: 'Throttling.Blacklist.Policy.search.default',\n+            defaultMessage: 'Blacklist Policies',\n+        }),\n+    };\n+\n+    const columProps = [\n+        {\n+            name: 'conditionId',\n+            label: intl.formatMessage({\n+                id: 'Admin.Throttling.Blacklist.Throttling.policy.table.header.condition.id',\n+                defaultMessage: 'Condition ID',\n+            }),\n+            options: {\n+                filter: true,\n+                sort: true,\n+            },\n+        },\n+        {\n+            name: 'conditionType',\n+            label: intl.formatMessage({\n+                id: 'Admin.Throttling.Blacklist.Throttling.policy.table.header.condition.type',\n+                defaultMessage: 'Condition Type',\n+            }),\n+            options: {\n+                filter: true,\n+                sort: false,\n+            },\n+        },\n+        // TODO : Condition Status\n+    ];\n+\n+    const emptyBoxProps = {\n+        content: (\n+            <Typography variant='body2' color='textSecondary' component='p'>\n+                <FormattedMessage\n+                    id='Throttling.Blacklist.Policy.List.empty.content.blacklist.policies and abuse by'\n+                    defaultMessage={'By blacklisting requests, you can protect servers from common attacks'\n+                    + ' users.'}\n+                />\n+            </Typography>),\n+        title: (\n+            <Typography gutterBottom variant='h5' component='h2'>\n+                <FormattedMessage\n+                    id='Throttling.Blacklist.Policy.List.empty.title.blacklist.policies'\n+                    defaultMessage='Blacklist Policies'\n+                />\n+\n+            </Typography>),\n+    };\n+\n+    /**\n+ * Mock API call\n+ * @returns {Promise}.\n+ */\n+    function apiCall() {\n+        let policyList;\n+        let a = 0;", "originalCommit": "8bec8a1db33676be126d472310c12941e53c4703", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMzNDQ3NQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8498#discussion_r424334475", "bodyText": "fixed", "author": "kavishkafernando", "createdAt": "2020-05-13T10:26:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMyMTA3MQ=="}], "type": "inlineReview"}, {"oid": "f49e818fe7ebda0092e17572318e1ff5035dc7fa", "url": "https://github.com/wso2/carbon-apimgt/commit/f49e818fe7ebda0092e17572318e1ff5035dc7fa", "message": "change variable name", "committedDate": "2020-05-13T10:26:09Z", "type": "commit"}, {"oid": "e430370f82b1911232ba3bfb95a898b70a9d12c2", "url": "https://github.com/wso2/carbon-apimgt/commit/e430370f82b1911232ba3bfb95a898b70a9d12c2", "message": "remove timeout", "committedDate": "2020-05-13T11:02:08Z", "type": "commit"}]}