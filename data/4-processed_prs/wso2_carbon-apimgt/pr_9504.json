{"pr_number": 9504, "pr_title": "Fix permission list not updating issue in subscription policies", "pr_createdAt": "2020-12-14T07:48:36Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/9504", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0MzMyOQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9504#discussion_r543143329", "bodyText": "roles: (result.body.permissions === null)\n? 'Internal/everyone' : result.body.permissions.roles && result.body.permissions.roles.join(','),\n@menakaj please validate the above fix", "author": "isharac", "createdAt": "2020-12-15T08:31:55Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Throttling/Subscription/AddEdit.jsx", "diffHunk": "@@ -239,8 +239,10 @@ function AddEdit(props) {\n                     customAttributes: setCustomAttributes(result.body.customAttributes),\n                     stopOnQuotaReach: result.body.stopOnQuotaReach,\n                     permissions: {\n-                        roles: 'Internal/everyone',\n-                        permissionStatus: 'ALLOW',\n+                        permissionStatus: (result.body.permissions === null)\n+                            ? 'ALLOW' : result.body.permissions.permissionType,\n+                        roles: (result.body.permissions === null)\n+                            ? 'Internal/everyone' : result.body.permissions.roles.join(','),", "originalCommit": "8ef7e18046a72a4217dae4a3ded4760dab08ae94", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE3MzkyOQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9504#discussion_r543173929", "bodyText": "Fixed in 7abe8cd", "author": "menakaj", "createdAt": "2020-12-15T09:17:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0MzMyOQ=="}], "type": "inlineReview"}, {"oid": "41d91fc9a10a0b1b25286335dc16b2fa4d45e227", "url": "https://github.com/wso2/carbon-apimgt/commit/41d91fc9a10a0b1b25286335dc16b2fa4d45e227", "message": "Fix permission list not updating issue in subscription policies", "committedDate": "2020-12-15T09:19:14Z", "type": "commit"}, {"oid": "f8a45e91e490677dc0f0d8ccd2e56549c12c338f", "url": "https://github.com/wso2/carbon-apimgt/commit/f8a45e91e490677dc0f0d8ccd2e56549c12c338f", "message": "Fix eslint issue", "committedDate": "2020-12-15T09:19:20Z", "type": "commit"}, {"oid": "7abe8cde75057bd6e9e0aa4efb898c33342bb041", "url": "https://github.com/wso2/carbon-apimgt/commit/7abe8cde75057bd6e9e0aa4efb898c33342bb041", "message": "Add null check to the permissions.roles", "committedDate": "2020-12-15T09:19:20Z", "type": "commit"}]}