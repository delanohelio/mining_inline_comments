{"pr_number": 8214, "pr_title": "Improvements for API resources defining UI", "pr_createdAt": "2020-02-18T11:44:13Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8214", "timeline": [{"oid": "f1189095395aae8bdcd6f2b2a538396ac44853a4", "url": "https://github.com/wso2/carbon-apimgt/commit/f1189095395aae8bdcd6f2b2a538396ac44853a4", "message": "mandated https when mutual ssl enabled-react", "committedDate": "2020-02-17T05:41:36Z", "type": "commit"}, {"oid": "79ab8bf59c43b0ad8a2c14617a9dc13c27674c26", "url": "https://github.com/wso2/carbon-apimgt/commit/79ab8bf59c43b0ad8a2c14617a9dc13c27674c26", "message": "Fixed linting errors", "committedDate": "2020-02-17T05:41:36Z", "type": "commit"}, {"oid": "88b5a6cbac29a4da402018f7801067ddc1981450", "url": "https://github.com/wso2/carbon-apimgt/commit/88b5a6cbac29a4da402018f7801067ddc1981450", "message": "fixed single line import-review suggestion", "committedDate": "2020-02-17T08:07:55Z", "type": "commit"}, {"oid": "4e33f812c789f1724e0a018bbbb7a7d7ff8dd275", "url": "https://github.com/wso2/carbon-apimgt/commit/4e33f812c789f1724e0a018bbbb7a7d7ff8dd275", "message": "modified label of operation scope selection", "committedDate": "2020-02-17T09:38:23Z", "type": "commit"}, {"oid": "af6d03f0eba1e3a289baa801621aaa1289c1b1dc", "url": "https://github.com/wso2/carbon-apimgt/commit/af6d03f0eba1e3a289baa801621aaa1289c1b1dc", "message": "added conditional rendering to operation scope dropdown", "committedDate": "2020-02-17T11:21:02Z", "type": "commit"}, {"oid": "b7c7c94364f0697f453dc3d86300be7b02dcef36", "url": "https://github.com/wso2/carbon-apimgt/commit/b7c7c94364f0697f453dc3d86300be7b02dcef36", "message": "add parameter button highlight", "committedDate": "2020-02-18T11:11:07Z", "type": "commit"}, {"oid": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6", "url": "https://github.com/wso2/carbon-apimgt/commit/37e1cca66d7558c35939db9ac3ca39f9a42b26d6", "message": "improvements for API resources defining UI", "committedDate": "2020-02-18T11:35:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYzNjU1Nw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8214#discussion_r380636557", "bodyText": "Add localization for all rendering texts. Follow the wiki https://github.com/wso2/carbon-apimgt/wiki/How-internationalization-(i18n)-works-in-API-Manager-React-Apps", "author": "menakaj", "createdAt": "2020-02-18T12:18:24Z", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "diffHunk": "@@ -152,58 +152,60 @@ rate limiting per operation\n             <Grid item md={6} />\n             <Grid item md={1} />\n             <Grid item md={5}>\n-                <TextField\n-                    id='operation_scope'\n-                    select\n-                    disabled={disableUpdate}\n-                    fullWidth\n-                    label='Operation scope'\n-                    value={getOperationScopes(operation, spec)[0]}\n-                    onChange={({ target: { value } }) => operationsDispatcher({\n-                        action: 'scopes',\n-                        data: { target, verb, value: [value] },\n-                    })}\n-                    helperText='Select a scope to control permissions to this operation'\n-                    margin='dense'\n-                    variant='outlined'\n-                >\n-                    <MenuItem\n-                        value=''\n-                        dense\n+                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n+                    <TextField\n+                        id='operation_scope'\n+                        select\n+                        disabled={disableUpdate}\n+                        fullWidth\n+                        label={api.scopes.length !== 0 ? 'Operation scope' : 'No scope available'}", "originalCommit": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYzNjcwOQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8214#discussion_r380636709", "bodyText": "Add localization", "author": "menakaj", "createdAt": "2020-02-18T12:18:45Z", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "diffHunk": "@@ -152,58 +152,60 @@ rate limiting per operation\n             <Grid item md={6} />\n             <Grid item md={1} />\n             <Grid item md={5}>\n-                <TextField\n-                    id='operation_scope'\n-                    select\n-                    disabled={disableUpdate}\n-                    fullWidth\n-                    label='Operation scope'\n-                    value={getOperationScopes(operation, spec)[0]}\n-                    onChange={({ target: { value } }) => operationsDispatcher({\n-                        action: 'scopes',\n-                        data: { target, verb, value: [value] },\n-                    })}\n-                    helperText='Select a scope to control permissions to this operation'\n-                    margin='dense'\n-                    variant='outlined'\n-                >\n-                    <MenuItem\n-                        value=''\n-                        dense\n+                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n+                    <TextField\n+                        id='operation_scope'\n+                        select\n+                        disabled={disableUpdate}\n+                        fullWidth\n+                        label={api.scopes.length !== 0 ? 'Operation scope' : 'No scope available'}\n+                        value={getOperationScopes(operation, spec)[0]}\n+                        onChange={({ target: { value } }) => operationsDispatcher({\n+                            action: 'scopes',\n+                            data: { target, verb, value: [value] },\n+                        })}\n+                        helperText='Select a scope to control permissions to this operation'", "originalCommit": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYzNjk3MQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8214#discussion_r380636971", "bodyText": "Add Localization", "author": "menakaj", "createdAt": "2020-02-18T12:19:14Z", "path": "features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx", "diffHunk": "@@ -152,58 +152,60 @@ rate limiting per operation\n             <Grid item md={6} />\n             <Grid item md={1} />\n             <Grid item md={5}>\n-                <TextField\n-                    id='operation_scope'\n-                    select\n-                    disabled={disableUpdate}\n-                    fullWidth\n-                    label='Operation scope'\n-                    value={getOperationScopes(operation, spec)[0]}\n-                    onChange={({ target: { value } }) => operationsDispatcher({\n-                        action: 'scopes',\n-                        data: { target, verb, value: [value] },\n-                    })}\n-                    helperText='Select a scope to control permissions to this operation'\n-                    margin='dense'\n-                    variant='outlined'\n-                >\n-                    <MenuItem\n-                        value=''\n-                        dense\n+                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n+                    <TextField\n+                        id='operation_scope'\n+                        select\n+                        disabled={disableUpdate}\n+                        fullWidth\n+                        label={api.scopes.length !== 0 ? 'Operation scope' : 'No scope available'}\n+                        value={getOperationScopes(operation, spec)[0]}\n+                        onChange={({ target: { value } }) => operationsDispatcher({\n+                            action: 'scopes',\n+                            data: { target, verb, value: [value] },\n+                        })}\n+                        helperText='Select a scope to control permissions to this operation'\n+                        margin='dense'\n+                        variant='outlined'\n                     >\n+                        <MenuItem\n+                            value=''\n+                            dense\n+                        >\n                         None\n-                    </MenuItem>\n-                    {api.scopes.length !== 0\n-                        ? api.scopes.map((scope) => (\n-                            <MenuItem\n-                                key={scope.name}\n-                                value={scope.name}\n-                                dense\n-                            >\n-                                {scope.name}\n-                            </MenuItem>\n-                        )) : (\n-                            <Link to={`/apis/${api.id}/scopes/create`} target='_blank'>\n+                        </MenuItem>\n+                        {api.scopes.length !== 0\n+                            ? api.scopes.map((scope) => (\n                                 <MenuItem\n-                                    key='Create New Scope'\n-                                    value='Create New Scope'\n+                                    key={scope.name}\n+                                    value={scope.name}\n                                     dense\n                                 >\n-                                Create New Scope\n+                                    {scope.name}\n                                 </MenuItem>\n-                            </Link>\n-                        )}\n-                </TextField>\n+                            )) : (\n+                                <Link to={`/apis/${api.id}/scopes/create`} target='_blank'>\n+                                    <MenuItem\n+                                        key='Create New Scope'\n+                                        value='Create New Scope'\n+                                        dense\n+                                    >\n+                                Create New Scope", "originalCommit": "37e1cca66d7558c35939db9ac3ca39f9a42b26d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eeb0c85b49eac20bf8c8fe2717531aab51e810f0", "url": "https://github.com/wso2/carbon-apimgt/commit/eeb0c85b49eac20bf8c8fe2717531aab51e810f0", "message": "added i18n to OperationGovernance section", "committedDate": "2020-02-19T09:37:13Z", "type": "commit"}]}