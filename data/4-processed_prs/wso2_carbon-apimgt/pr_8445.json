{"pr_number": 8445, "pr_title": "Add Endpoint registry tables for H2", "pr_createdAt": "2020-04-30T07:38:01Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8445", "timeline": [{"oid": "ca2e2fb859708892718ede5dcfb37067e7a807cd", "url": "https://github.com/wso2/carbon-apimgt/commit/ca2e2fb859708892718ede5dcfb37067e7a807cd", "message": "Add Endpoint registry tables for H2", "committedDate": "2020-04-30T08:45:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1Mzc0OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417853749", "bodyText": "-- End of API-MGT Tables -- comment should come to the end. also, add a new line to the end of the file", "author": "fazlan-nazeem", "createdAt": "2020-04-30T08:47:32Z", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1804,3 +1804,33 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     PRIMARY KEY(USER_ID)\n );\n -- End of API-MGT Tables --\n+", "originalCommit": "ca2e2fb859708892718ede5dcfb37067e7a807cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1NzgwMA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417857800", "bodyText": "done", "author": "ChamodDamitha", "createdAt": "2020-04-30T08:54:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1Mzc0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1NDI2MQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417854261", "bodyText": "shall we rename to ENDPOINT_REG_ENTRY. to avoid confusion with our registry  tables", "author": "fazlan-nazeem", "createdAt": "2020-04-30T08:48:27Z", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1804,3 +1804,33 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     PRIMARY KEY(USER_ID)\n );\n -- End of API-MGT Tables --\n+\n+-- Create Endpoint Registry Tables --\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG (\n+  ID INTEGER AUTO_INCREMENT NOT NULL,\n+  UUID VARCHAR(255) NOT NULL,\n+  REG_NAME VARCHAR(255),\n+  REG_TYPE VARCHAR(20),\n+  MODE VARCHAR(20),\n+  TENANT_ID INTEGER DEFAULT -1,\n+  REG_OWNER VARCHAR(255),\n+  READ_ROLE VARCHAR(20),\n+  WRITE_ROLE VARCHAR(20),\n+  UNIQUE (UUID),\n+  PRIMARY KEY(ID)\n+);\n+\n+CREATE TABLE IF NOT EXISTS REG_ENTRY (", "originalCommit": "ca2e2fb859708892718ede5dcfb37067e7a807cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1ODEyMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417858123", "bodyText": "done", "author": "ChamodDamitha", "createdAt": "2020-04-30T08:54:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg1NDI2MQ=="}], "type": "inlineReview"}, {"oid": "f48812b70614651446036b27d6e4b80f13dbd27a", "url": "https://github.com/wso2/carbon-apimgt/commit/f48812b70614651446036b27d6e4b80f13dbd27a", "message": "Add Endpoint registry tables for H2", "committedDate": "2020-04-30T08:49:22Z", "type": "forcePushed"}, {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656", "url": "https://github.com/wso2/carbon-apimgt/commit/e638e78dabde1622bf7bbfd5a7e1459721ae1656", "message": "Add Endpoint registry tables for H2", "committedDate": "2020-04-30T08:53:43Z", "type": "commit"}, {"oid": "e638e78dabde1622bf7bbfd5a7e1459721ae1656", "url": "https://github.com/wso2/carbon-apimgt/commit/e638e78dabde1622bf7bbfd5a7e1459721ae1656", "message": "Add Endpoint registry tables for H2", "committedDate": "2020-04-30T08:53:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg2NDc5OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417864799", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              API_DEFINITION BLOB,\n          \n          \n            \n              ENDPOINT_DEFINITION BLOB,", "author": "fazlan-nazeem", "createdAt": "2020-04-30T09:06:01Z", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1803,4 +1803,35 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     USER_NAME VARCHAR(255) NOT NULL,\n     PRIMARY KEY(USER_ID)\n );\n+\n+-- Create Endpoint Registry Tables --\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG (\n+  ID INTEGER AUTO_INCREMENT NOT NULL,\n+  UUID VARCHAR(255) NOT NULL,\n+  REG_NAME VARCHAR(255),\n+  REG_TYPE VARCHAR(20),\n+  MODE VARCHAR(20),\n+  TENANT_ID INTEGER DEFAULT -1,\n+  REG_OWNER VARCHAR(255),\n+  READ_ROLE VARCHAR(20),\n+  WRITE_ROLE VARCHAR(20),\n+  UNIQUE (UUID),\n+  PRIMARY KEY(ID)\n+);\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG_ENTRY (\n+  UUID VARCHAR(255) NOT NULL,\n+  ENTRY_NAME VARCHAR(255),\n+  SERVICE_URL VARCHAR(2048),\n+  DEFINITION_TYPE VARCHAR(20),\n+  DEFINITION_URL VARCHAR(2048),\n+  METADATA BLOB,\n+  SERVICE_TYPE VARCHAR(20),\n+  API_DEFINITION BLOB,", "originalCommit": "e638e78dabde1622bf7bbfd5a7e1459721ae1656", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg2NzU4OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8445#discussion_r417867589", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              TENANT_ID INTEGER DEFAULT -1,\n          \n          \n            \n              TENANT_ID INTEGER NOT NULL,", "author": "fazlan-nazeem", "createdAt": "2020-04-30T09:10:40Z", "path": "features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql", "diffHunk": "@@ -1803,4 +1803,35 @@ CREATE TABLE IF NOT EXISTS AM_USER (\n     USER_NAME VARCHAR(255) NOT NULL,\n     PRIMARY KEY(USER_ID)\n );\n+\n+-- Create Endpoint Registry Tables --\n+\n+CREATE TABLE IF NOT EXISTS ENDPOINT_REG (\n+  ID INTEGER AUTO_INCREMENT NOT NULL,\n+  UUID VARCHAR(255) NOT NULL,\n+  REG_NAME VARCHAR(255),\n+  REG_TYPE VARCHAR(20),\n+  MODE VARCHAR(20),\n+  TENANT_ID INTEGER DEFAULT -1,", "originalCommit": "e638e78dabde1622bf7bbfd5a7e1459721ae1656", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9cdf2ec5299ecb4cca14985d631729f5a5a14c54", "url": "https://github.com/wso2/carbon-apimgt/commit/9cdf2ec5299ecb4cca14985d631729f5a5a14c54", "message": "Update features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql\n\nCo-Authored-By: Fazlan Nazeem <fazlann@wso2.com>", "committedDate": "2020-04-30T09:17:33Z", "type": "commit"}, {"oid": "4e51556fd23bbd99830543de3912829de4a97148", "url": "https://github.com/wso2/carbon-apimgt/commit/4e51556fd23bbd99830543de3912829de4a97148", "message": "Update features/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/sql/h2.sql\n\nCo-Authored-By: Fazlan Nazeem <fazlann@wso2.com>", "committedDate": "2020-04-30T09:18:09Z", "type": "commit"}]}