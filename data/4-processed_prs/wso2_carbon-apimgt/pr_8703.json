{"pr_number": 8703, "pr_title": "Approval / Reject UI for workflow pending requests in admin dashboard", "pr_createdAt": "2020-06-10T20:29:18Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8703", "timeline": [{"oid": "4a962ba9796a8f37cffe58be3faabd579cd0b8e5", "url": "https://github.com/wso2/carbon-apimgt/commit/4a962ba9796a8f37cffe58be3faabd579cd0b8e5", "message": "Added workflowExecutors for ApprovalWorkflowExecutor and two rest APIs.", "committedDate": "2020-04-30T13:46:25Z", "type": "commit"}, {"oid": "3dfc973fab0f5ed7aacb4455608bab0e95bd749d", "url": "https://github.com/wso2/carbon-apimgt/commit/3dfc973fab0f5ed7aacb4455608bab0e95bd749d", "message": "Reformatted workflowExecutors for ApprovalWorkflowExecutor and two rest APIs", "committedDate": "2020-04-30T13:46:25Z", "type": "commit"}, {"oid": "c289f8b8e4da3633c47e5538b4454713a577bc30", "url": "https://github.com/wso2/carbon-apimgt/commit/c289f8b8e4da3633c47e5538b4454713a577bc30", "message": "Added database changes to the sql files", "committedDate": "2020-04-30T13:46:25Z", "type": "commit"}, {"oid": "2540ac54343366961eb912ea4c712a43a6b210e8", "url": "https://github.com/wso2/carbon-apimgt/commit/2540ac54343366961eb912ea4c712a43a6b210e8", "message": "Added workflowExecutors for ApprovalWorkflowExecutor and two rest APIs.", "committedDate": "2020-04-30T13:46:25Z", "type": "commit"}, {"oid": "01d00804549826db34192db57858ef5c6750d600", "url": "https://github.com/wso2/carbon-apimgt/commit/01d00804549826db34192db57858ef5c6750d600", "message": "Changes in the workflow executors", "committedDate": "2020-04-30T13:46:26Z", "type": "commit"}, {"oid": "d1f5c6995cf9d322c8f7b2621e246b6ddcc5b071", "url": "https://github.com/wso2/carbon-apimgt/commit/d1f5c6995cf9d322c8f7b2621e246b6ddcc5b071", "message": "Changes in add workflow entry ApiMgtDAO.java", "committedDate": "2020-04-30T13:46:27Z", "type": "commit"}, {"oid": "b3eedd94476a015c149657d832466f531f7c1844", "url": "https://github.com/wso2/carbon-apimgt/commit/b3eedd94476a015c149657d832466f531f7c1844", "message": "Reformatted the approval workflow executor and rest APIs", "committedDate": "2020-04-30T13:46:27Z", "type": "commit"}, {"oid": "f03a928c3dec8de467cac06014248fba50f60114", "url": "https://github.com/wso2/carbon-apimgt/commit/f03a928c3dec8de467cac06014248fba50f60114", "message": "Changed the licence header in Approval Workflow Executor tests", "committedDate": "2020-04-30T13:46:27Z", "type": "commit"}, {"oid": "f23f8ca2232215e6147e9528ef47ac862dbe6500", "url": "https://github.com/wso2/carbon-apimgt/commit/f23f8ca2232215e6147e9528ef47ac862dbe6500", "message": "Change the licence header of Workflow.java", "committedDate": "2020-04-30T13:46:27Z", "type": "commit"}, {"oid": "c2f0630b3746347d79af1fb694f53dda75ecc766", "url": "https://github.com/wso2/carbon-apimgt/commit/c2f0630b3746347d79af1fb694f53dda75ecc766", "message": "Reformtted the previous commits and removed unwanted files", "committedDate": "2020-04-30T13:46:28Z", "type": "commit"}, {"oid": "734944008602fa2c5e8f175c05f4913eeb250fb1", "url": "https://github.com/wso2/carbon-apimgt/commit/734944008602fa2c5e8f175c05f4913eeb250fb1", "message": "Changed the admin-api.yaml and beans.xml in org.wso2.carbon.apimgt.rest.api.admin", "committedDate": "2020-04-30T13:46:28Z", "type": "commit"}, {"oid": "2924473cc81368ac674a2968fea53be524720cc5", "url": "https://github.com/wso2/carbon-apimgt/commit/2924473cc81368ac674a2968fea53be524720cc5", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp", "committedDate": "2020-05-04T06:48:28Z", "type": "commit"}, {"oid": "fa10ad6c286419d78be9ce8602bbb2d512808baf", "url": "https://github.com/wso2/carbon-apimgt/commit/fa10ad6c286419d78be9ce8602bbb2d512808baf", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp", "committedDate": "2020-05-06T05:56:42Z", "type": "commit"}, {"oid": "42b7d928c7524d63a8537a1706a4b1ea3b814576", "url": "https://github.com/wso2/carbon-apimgt/commit/42b7d928c7524d63a8537a1706a4b1ea3b814576", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp", "committedDate": "2020-05-14T07:06:06Z", "type": "commit"}, {"oid": "234bf006e2faafacae0741a6c4b451c5971c636f", "url": "https://github.com/wso2/carbon-apimgt/commit/234bf006e2faafacae0741a6c4b451c5971c636f", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp\n\n\u0001 Conflicts:\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java", "committedDate": "2020-05-18T09:59:32Z", "type": "commit"}, {"oid": "14c4cf2323cd2a04bd9216026d861821c9fa8255", "url": "https://github.com/wso2/carbon-apimgt/commit/14c4cf2323cd2a04bd9216026d861821c9fa8255", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp", "committedDate": "2020-05-19T10:43:41Z", "type": "commit"}, {"oid": "6c32e041d9f8ba5faa887e736ba14a6446bb90df", "url": "https://github.com/wso2/carbon-apimgt/commit/6c32e041d9f8ba5faa887e736ba14a6446bb90df", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp", "committedDate": "2020-05-21T06:43:53Z", "type": "commit"}, {"oid": "fb169b8eccbfa4f98398de636ed68091ad9ad93b", "url": "https://github.com/wso2/carbon-apimgt/commit/fb169b8eccbfa4f98398de636ed68091ad9ad93b", "message": "Added UI for approve and reject in Admin dashboard for Approval Workflow Executor", "committedDate": "2020-06-01T10:12:41Z", "type": "commit"}, {"oid": "7c88f7a965d909e5a1235731ddf062937dd7a257", "url": "https://github.com/wso2/carbon-apimgt/commit/7c88f7a965d909e5a1235731ddf062937dd7a257", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp\n\n\u0001 Conflicts:\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.api/src/main/java/org/wso2/carbon/apimgt/api/APIAdmin.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/APIAdminImpl.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/dao/ApiMgtDAO.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/workflow/APIStateChangeApprovalWorkflowExecutor.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/workflow/ApplicationCreationApprovalWorkflowExecutor.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/workflow/ApplicationRegistrationApprovalWorkflowExecutor.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/workflow/SubscriptionCreationApprovalWorkflowExecutor.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/workflow/UserSignUpApprovalWorkflowExecutor.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.impl/src/main/resources/workflowextensions/default-workflow-extensions.xml\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/gen/java/org/wso2/carbon/apimgt/rest/api/admin/WorkflowsApi.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/gen/java/org/wso2/carbon/apimgt/rest/api/admin/WorkflowsApiService.java\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.rest.api.admin/src/main/resources/admin-api.yaml\n\u0001\tcomponents/apimgt/org.wso2.carbon.apimgt.rest.api.util/src/main/resources/admin-api.json\n\u0001\tfeatures/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Base/RouteMenuMapping.jsx\n\u0001\tfeatures/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/data/api.js\n\u0001\tfeatures/apimgt/org.wso2.carbon.apimgt.core.feature/src/main/resources/workflowextensions/default-workflow-extensions.xml", "committedDate": "2020-06-04T17:47:38Z", "type": "commit"}, {"oid": "9d8a57c0f68e28eb7003552e54bb2c492c153f62", "url": "https://github.com/wso2/carbon-apimgt/commit/9d8a57c0f68e28eb7003552e54bb2c492c153f62", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp\n\n\u0001 Conflicts:\n\u0001\tfeatures/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Base/RouteMenuMapping.jsx\n\u0001\tfeatures/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/data/api.js", "committedDate": "2020-06-10T11:57:23Z", "type": "commit"}, {"oid": "c49c70d5403458e1467ee877a5393aa48394a210", "url": "https://github.com/wso2/carbon-apimgt/commit/c49c70d5403458e1467ee877a5393aa48394a210", "message": "Merge branch 'admin_portal_revamp' of https://github.com/wso2/carbon-apimgt into admin_portal_revamp\n\n\u0001 Conflicts:\n\u0001\tfeatures/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Base/RouteMenuMapping.jsx", "committedDate": "2020-06-10T15:53:30Z", "type": "commit"}, {"oid": "6ad1c7af2407b742d75e746cbce5102d8a24d2a0", "url": "https://github.com/wso2/carbon-apimgt/commit/6ad1c7af2407b742d75e746cbce5102d8a24d2a0", "message": "Added UI for Approval/reject process of workflow pending request", "committedDate": "2020-06-10T20:02:17Z", "type": "commit"}, {"oid": "67b514fc170d35ba00c054e3faaa6d59c37baa01", "url": "https://github.com/wso2/carbon-apimgt/commit/67b514fc170d35ba00c054e3faaa6d59c37baa01", "message": "WorkflowsApiServiceImpl changes", "committedDate": "2020-06-10T20:08:24Z", "type": "commit"}, {"oid": "e4c0ed6111997681e15279f913058e7574954851", "url": "https://github.com/wso2/carbon-apimgt/commit/e4c0ed6111997681e15279f913058e7574954851", "message": "Removed some unwanted files", "committedDate": "2020-06-10T20:44:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMDUzNw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438530537", "bodyText": "Why we have disabled this rule ??", "author": "tmkasun", "createdAt": "2020-06-11T04:04:41Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMjAxOA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439232018", "bodyText": "it is disabled because to avoid \"Prop spreading is forbidden\" issue. I have created certain  props and const and pass them into ContentBase", "author": "SahanHerath", "createdAt": "2020-06-12T06:31:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMDUzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMDY3Mg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438530672", "bodyText": "Should use theme.spacing", "author": "tmkasun", "createdAt": "2020-06-11T04:05:15Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMDk2OA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438530968", "bodyText": "Better to use box component for positioning things\n<Box mt={5} mr={2} >\n.\n.\n.\n</Box>", "author": "tmkasun", "createdAt": "2020-06-11T04:06:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMDY3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMDc0Mg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438530742", "bodyText": "Why we have custom border styling here ?", "author": "tmkasun", "createdAt": "2020-06-11T04:05:33Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTI4Mw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438531283", "bodyText": "use object destructuring", "author": "tmkasun", "createdAt": "2020-06-11T04:07:58Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTM3Nw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438531377", "bodyText": "Don't catch errors for just re-throwing it as-is", "author": "tmkasun", "createdAt": "2020-06-11T04:08:17Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTQyNw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438531427", "bodyText": "log the error\nconsole.error", "author": "tmkasun", "createdAt": "2020-06-11T04:08:31Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTc1OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438531759", "bodyText": "Docs\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch", "author": "tmkasun", "createdAt": "2020-06-11T04:09:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTQyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMzcwOA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439233708", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:36:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTQyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMTk3OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438531979", "bodyText": "Initialize default values when we declare the variable", "author": "tmkasun", "createdAt": "2020-06-11T04:10:37Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzgyMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438533823", "bodyText": "why we need to initialize the variable with an empty string??", "author": "tmkasun", "createdAt": "2020-06-11T04:18:46Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMzg0OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439233849", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:36:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzgyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzk2MA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438533960", "bodyText": "This should be chained as next then", "author": "tmkasun", "createdAt": "2020-06-11T04:19:22Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMzkwMA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439233900", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:36:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzk2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNDI0MQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438534241", "bodyText": "why do we need to declare a variable for this small span ?", "author": "tmkasun", "createdAt": "2020-06-11T04:20:42Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.action}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'currentState',\n+            label: 'Current State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.currentState}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'apiProvider',\n+            label: 'Created by',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    const { createdTime } = dataRow;\n+                    dayjs.extend(relativeTime);\n+                    const time = dayjs(createdTime).fromNow();\n+                    dayjs.extend(localizedFormat);\n+                    const format = dayjs(createdTime).format('LLL');\n+                    return (\n+                        <div>\n+                            {properties.apiProvider}\n+                            <br />\n+                            <Tooltip title={format}>\n+                                <Typography color='textSecondary'>\n+                                    {time}\n+                                </Typography>\n+                            </Tooltip>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'action',\n+            label: 'Actions',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { referenceId } = dataRow;\n+                    return (\n+                        <div>\n+                            <Box component='span' m={1}>\n+                                <Button\n+                                    className={classes.approveButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'APPROVED')}\n+                                >\n+                                    <CheckIcon />\n+                                    Approve\n+                                </Button>\n+                                &nbsp;&nbsp;\n+                                <Button\n+                                    className={classes.rejectButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'REJECTED')}\n+                                >\n+                                    <ClearIcon />\n+                                    Reject\n+                                </Button>\n+                            </Box>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+    ];\n+\n+    const addButtonProps = {};\n+    const addButtonOverride = null;\n+    const noDataMessage = (\n+        <FormattedMessage\n+            id='AdminPages.Addons.ListBase.nodata.message'\n+            defaultMessage='No items yet'\n+        />\n+    );\n+\n+    const EditComponent = (() => <span />);", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNDQ2NA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438534464", "bodyText": "Please fix this in here and all the other repeating places", "author": "tmkasun", "createdAt": "2020-06-11T04:21:42Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/ApplicationCreation.jsx", "diffHunk": "@@ -0,0 +1,453 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+        textDecoration: 'none',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_APPLICATION_CREATION')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzMzk3Mw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439233973", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:37:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNDQ2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzM1Mw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438533353", "bodyText": "Shall we remove this extra line?", "author": "kavishkafernando", "createdAt": "2020-06-11T04:16:38Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Base/RouteMenuMapping.jsx", "diffHunk": "@@ -49,6 +49,12 @@ import PolicyIcon from '@material-ui/icons/Policy';\n import ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\n import BlockIcon from '@material-ui/icons/Block';\n import AssignmentIcon from '@material-ui/icons/Assignment';\n+import ApplicationCreation from 'AppComponents/Workflow/ApplicationCreation';\n+import SubscriptionCreation from 'AppComponents/Workflow/SubscriptionCreation';\n+import RegistrationCreation from 'AppComponents/Workflow/RegistrationCreation';\n+import APIStateChange from 'AppComponents/Workflow/APIStateChange';\n+import UserCreation from 'AppComponents/Workflow/UserCreation';\n+", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzY0OA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438533648", "bodyText": "why are we using custom border colours?", "author": "kavishkafernando", "createdAt": "2020-06-11T04:18:00Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzkxMQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438533911", "bodyText": "we can make promisedupdateWorkflow a const right?\nconst promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);", "author": "kavishkafernando", "createdAt": "2020-06-11T04:19:09Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNDIxNg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439234216", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:37:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzMzkxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNDA2Ng==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438534066", "bodyText": "Add internationalisation.", "author": "kavishkafernando", "createdAt": "2020-06-11T04:19:55Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNDI2MQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438534261", "bodyText": "Change doc links to workflow links. These are still microgateway links", "author": "kavishkafernando", "createdAt": "2020-06-11T04:20:47Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTExMg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438535112", "bodyText": "Add Internationalisation to the labels of coloumn props", "author": "kavishkafernando", "createdAt": "2020-06-11T04:24:36Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNDk2Mg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439234962", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:39:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTExMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTE0Ng==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438535146", "bodyText": "Add Internationalisation to the labels of coloumn props", "author": "kavishkafernando", "createdAt": "2020-06-11T04:24:46Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTAzNQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235035", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:40:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTE0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTE4MA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438535180", "bodyText": "Add Internationalisation to the labels of coloumn props", "author": "kavishkafernando", "createdAt": "2020-06-11T04:24:53Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTA5OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235099", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:40:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTE4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTI2NA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438535264", "bodyText": "Add Internationalisation to the labels of coloumn props. Add to all places with static values.", "author": "kavishkafernando", "createdAt": "2020-06-11T04:25:16Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.action}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'currentState',\n+            label: 'Current State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.currentState}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'apiProvider',\n+            label: 'Created by',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTE4Ng==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235186", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:40:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzNTI2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzODM0OA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438538348", "bodyText": "remove extra line", "author": "kavishkafernando", "createdAt": "2020-06-11T04:38:33Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.action}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'currentState',\n+            label: 'Current State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.currentState}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'apiProvider',\n+            label: 'Created by',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    const { createdTime } = dataRow;\n+                    dayjs.extend(relativeTime);\n+                    const time = dayjs(createdTime).fromNow();\n+                    dayjs.extend(localizedFormat);\n+                    const format = dayjs(createdTime).format('LLL');\n+                    return (\n+                        <div>\n+                            {properties.apiProvider}\n+                            <br />\n+                            <Tooltip title={format}>\n+                                <Typography color='textSecondary'>\n+                                    {time}\n+                                </Typography>\n+                            </Tooltip>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'action',\n+            label: 'Actions',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { referenceId } = dataRow;\n+                    return (\n+                        <div>\n+                            <Box component='span' m={1}>\n+                                <Button\n+                                    className={classes.approveButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'APPROVED')}\n+                                >\n+                                    <CheckIcon />\n+                                    Approve\n+                                </Button>\n+                                &nbsp;&nbsp;\n+                                <Button\n+                                    className={classes.rejectButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'REJECTED')}\n+                                >\n+                                    <ClearIcon />\n+                                    Reject\n+                                </Button>\n+                            </Box>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+    ];\n+\n+    const addButtonProps = {};\n+    const addButtonOverride = null;\n+    const noDataMessage = (\n+        <FormattedMessage\n+            id='AdminPages.Addons.ListBase.nodata.message'\n+            defaultMessage='No items yet'\n+        />\n+    );\n+\n+    const EditComponent = (() => <span />);\n+\n+    const searchActive = true;\n+    const searchPlaceholder = intl.formatMessage({\n+        id: 'Workflow.apistatechange.search.default',\n+        defaultMessage: 'Search by workflow request description',\n+    });\n+\n+    const filterData = (event) => {\n+        setSearchText(event.target.value);\n+    };\n+\n+\n+    const columns = [\n+        ...columProps,\n+    ];\n+\n+    const options = {\n+        filterType: 'checkbox',\n+        selectableRows: 'none',\n+        filter: false,\n+        search: false,\n+        print: false,\n+        download: false,\n+        viewColumns: false,\n+        customToolbar: null,\n+        responsive: 'stacked',\n+        searchText,\n+    };\n+    if (data && data.length === 0) {\n+        return (\n+            <ContentBase\n+                {...pageProps}\n+                pageStyle='small'\n+            >\n+                <Card className={classes.root}>\n+                    <CardActionArea>\n+                        <CardContent>\n+                            <Typography gutterBottom variant='h5' component='h2'>\n+                                <FormattedMessage\n+                                    id='Workflow.APIStateChange.List.empty.title.apistatechange'\n+                                    defaultMessage='API State Change'\n+                                />\n+\n+                            </Typography>\n+                            <Typography variant='body2' color='textSecondary' component='p'>\n+                                <FormattedMessage\n+                                    id='Workflow.APIStateChange.List.empty.content.apistatechange'\n+                                    defaultMessage={'There are no workflow pending requests for API state change.'\n+                                    + 'It is possible to approve or reject workflow pending requests of '\n+                                    + 'API state change. Workflow Approval Executor need to be enabled to '\n+                                    + 'introduce this approve reject process into system'}\n+                                />\n+                            </Typography>\n+                        </CardContent>\n+                    </CardActionArea>\n+                    <CardActions>\n+                        {addButtonOverride || (\n+                            <EditComponent updateList={fetchData} {...addButtonProps} />\n+                        )}\n+                    </CardActions>\n+                </Card>\n+            </ContentBase>\n+        );\n+    }\n+    if (!data) {\n+        return (\n+            <ContentBase pageStyle='paperLess'>\n+                <InlineProgress />\n+            </ContentBase>\n+\n+        );\n+    }\n+    return (\n+", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTM3Nw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235377", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:41:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzODM0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUzODQwMg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438538402", "bodyText": "remove extra line", "author": "kavishkafernando", "createdAt": "2020-06-11T04:38:47Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.action}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'currentState',\n+            label: 'Current State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.currentState}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'apiProvider',\n+            label: 'Created by',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    const { createdTime } = dataRow;\n+                    dayjs.extend(relativeTime);\n+                    const time = dayjs(createdTime).fromNow();\n+                    dayjs.extend(localizedFormat);\n+                    const format = dayjs(createdTime).format('LLL');\n+                    return (\n+                        <div>\n+                            {properties.apiProvider}\n+                            <br />\n+                            <Tooltip title={format}>\n+                                <Typography color='textSecondary'>\n+                                    {time}\n+                                </Typography>\n+                            </Tooltip>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'action',\n+            label: 'Actions',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { referenceId } = dataRow;\n+                    return (\n+                        <div>\n+                            <Box component='span' m={1}>\n+                                <Button\n+                                    className={classes.approveButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'APPROVED')}\n+                                >\n+                                    <CheckIcon />\n+                                    Approve\n+                                </Button>\n+                                &nbsp;&nbsp;\n+                                <Button\n+                                    className={classes.rejectButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'REJECTED')}\n+                                >\n+                                    <ClearIcon />\n+                                    Reject\n+                                </Button>\n+                            </Box>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+    ];\n+\n+    const addButtonProps = {};\n+    const addButtonOverride = null;\n+    const noDataMessage = (\n+        <FormattedMessage\n+            id='AdminPages.Addons.ListBase.nodata.message'\n+            defaultMessage='No items yet'\n+        />\n+    );\n+\n+    const EditComponent = (() => <span />);\n+\n+    const searchActive = true;\n+    const searchPlaceholder = intl.formatMessage({\n+        id: 'Workflow.apistatechange.search.default',\n+        defaultMessage: 'Search by workflow request description',\n+    });\n+\n+    const filterData = (event) => {\n+        setSearchText(event.target.value);\n+    };\n+\n+\n+    const columns = [\n+        ...columProps,\n+    ];\n+\n+    const options = {\n+        filterType: 'checkbox',\n+        selectableRows: 'none',\n+        filter: false,\n+        search: false,\n+        print: false,\n+        download: false,\n+        viewColumns: false,\n+        customToolbar: null,\n+        responsive: 'stacked',\n+        searchText,\n+    };\n+    if (data && data.length === 0) {\n+        return (\n+            <ContentBase\n+                {...pageProps}\n+                pageStyle='small'\n+            >\n+                <Card className={classes.root}>\n+                    <CardActionArea>\n+                        <CardContent>\n+                            <Typography gutterBottom variant='h5' component='h2'>\n+                                <FormattedMessage\n+                                    id='Workflow.APIStateChange.List.empty.title.apistatechange'\n+                                    defaultMessage='API State Change'\n+                                />\n+\n+                            </Typography>\n+                            <Typography variant='body2' color='textSecondary' component='p'>\n+                                <FormattedMessage\n+                                    id='Workflow.APIStateChange.List.empty.content.apistatechange'\n+                                    defaultMessage={'There are no workflow pending requests for API state change.'\n+                                    + 'It is possible to approve or reject workflow pending requests of '\n+                                    + 'API state change. Workflow Approval Executor need to be enabled to '\n+                                    + 'introduce this approve reject process into system'}\n+                                />\n+                            </Typography>\n+                        </CardContent>\n+                    </CardActionArea>\n+                    <CardActions>\n+                        {addButtonOverride || (\n+                            <EditComponent updateList={fetchData} {...addButtonProps} />\n+                        )}\n+                    </CardActions>\n+                </Card>\n+            </ContentBase>\n+        );\n+    }\n+    if (!data) {\n+        return (\n+            <ContentBase pageStyle='paperLess'>\n+                <InlineProgress />\n+            </ContentBase>\n+\n+        );\n+    }\n+    return (\n+\n+        <>\n+            <ContentBase {...pageProps}>\n+                {(searchActive || addButtonProps) && (\n+                    <AppBar className={classes.searchBar} position='static' color='default' elevation={0}>\n+                        <Toolbar>\n+                            <Grid container spacing={2} alignItems='center'>\n+", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MTkxOQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438541919", "bodyText": "extra line", "author": "kavishkafernando", "createdAt": "2020-06-11T04:53:46Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTQ3Ng==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235476", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:41:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MTkxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MjExMg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438542112", "bodyText": "You can remove these comments", "author": "kavishkafernando", "createdAt": "2020-06-11T04:54:46Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTUzNw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235537", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:41:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MjExMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MjIwMQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438542201", "bodyText": "Add Internationalisation to the labels of coloumn props", "author": "kavishkafernando", "createdAt": "2020-06-11T04:55:06Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.action}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'currentState',\n+            label: 'Current State',", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIzNTYzMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r439235633", "bodyText": "fixed with 54dd617", "author": "SahanHerath", "createdAt": "2020-06-12T06:41:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MjIwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MjMwOQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8703#discussion_r438542309", "bodyText": "extra line", "author": "kavishkafernando", "createdAt": "2020-06-11T04:55:33Z", "path": "features/apimgt/org.wso2.carbon.apimgt.admin.feature/src/main/resources/admin/source/src/app/components/Workflow/APIStateChange.jsx", "diffHunk": "@@ -0,0 +1,471 @@\n+/* eslint-disable react/jsx-props-no-spreading */\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import React, { useEffect, useState } from 'react';\n+import { FormattedMessage, useIntl } from 'react-intl';\n+import AppBar from '@material-ui/core/AppBar';\n+import Toolbar from '@material-ui/core/Toolbar';\n+import Typography from '@material-ui/core/Typography';\n+import Grid from '@material-ui/core/Grid';\n+import TextField from '@material-ui/core/TextField';\n+import Tooltip from '@material-ui/core/Tooltip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { makeStyles } from '@material-ui/core/styles';\n+import SearchIcon from '@material-ui/icons/Search';\n+import RefreshIcon from '@material-ui/icons/Refresh';\n+import Card from '@material-ui/core/Card';\n+import CardActionArea from '@material-ui/core/CardActionArea';\n+import CardActions from '@material-ui/core/CardActions';\n+import CardContent from '@material-ui/core/CardContent';\n+import MUIDataTable from 'mui-datatables';\n+import ContentBase from 'AppComponents/AdminPages/Addons/ContentBase';\n+import InlineProgress from 'AppComponents/AdminPages/Addons/InlineProgress';\n+import Alert from 'AppComponents/Shared/Alert';\n+import List from '@material-ui/core/List';\n+import ListItem from '@material-ui/core/ListItem';\n+import ListItemIcon from '@material-ui/core/ListItemIcon';\n+import ListItemText from '@material-ui/core/ListItemText';\n+import HelpBase from 'AppComponents/AdminPages/Addons/HelpBase';\n+import DescriptionIcon from '@material-ui/icons/Description';\n+import Link from '@material-ui/core/Link';\n+import Configurations from 'Config';\n+import API from 'AppData/api';\n+import Button from '@material-ui/core/Button';\n+import * as dayjs from 'dayjs';\n+import relativeTime from 'dayjs/plugin/relativeTime';\n+import localizedFormat from 'dayjs/plugin/localizedFormat';\n+import CheckIcon from '@material-ui/icons/Check';\n+import ClearIcon from '@material-ui/icons/Clear';\n+import Box from '@material-ui/core/Box';\n+\n+const useStyles = makeStyles((theme) => ({\n+    searchBar: {\n+        borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n+    },\n+    searchInput: {\n+        fontSize: theme.typography.fontSize,\n+    },\n+    block: {\n+        display: 'block',\n+    },\n+    contentWrapper: {\n+        margin: '40px 16px',\n+    },\n+    button: {\n+        borderColor: 'rgba(255, 255, 255, 0.7)',\n+    },\n+    approveButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.success.light,\n+    },\n+    rejectButton: {\n+        textDecoration: 'none',\n+        backgroundColor: theme.palette.error.light,\n+    },\n+}));\n+\n+/**\n+ * Render a list\n+ * @param {JSON} props props passed from parent\n+ * @returns {JSX} Header AppBar components.\n+ */\n+function ListLabels() {\n+    const intl = useIntl();\n+    const [data, setData] = useState(null);\n+    const restApi = new API();\n+\n+    /**\n+     * API call to get Detected Data\n+     * @returns {Promise}.\n+     */\n+    function apiCall() {\n+        return restApi\n+            .workflowsGet('AM_API_STATE')\n+            .then((result) => {\n+                const workflowlist = result.body.list;\n+                return (workflowlist);\n+            })\n+            .catch((error) => {\n+                throw (error);\n+            });\n+    }\n+\n+    const fetchData = () => {\n+    // Fetch data from backend\n+        setData(null);\n+        const promiseAPICall = apiCall();\n+        promiseAPICall.then((LocalData) => {\n+            setData(LocalData);\n+        })\n+            .catch((e) => {\n+                Alert.error(e);\n+            });\n+    };\n+\n+    useEffect(() => {\n+        fetchData();\n+    }, []);\n+\n+\n+    const updateStatus = (referenceId, value) => {\n+        const body = {};\n+        body.status = value;\n+        body.attributes = {};\n+        body.description = 'Approve workflow request.';\n+\n+        let promisedupdateWorkflow = '';\n+        promisedupdateWorkflow = restApi.updateWorkflow(referenceId, body);\n+        return promisedupdateWorkflow\n+            .then(() => {\n+                return (\n+                    <FormattedMessage\n+                        id='Workflow.ApplicationCreation.update.success'\n+                        defaultMessage='workflow status is updated successfully'\n+                    />\n+                );\n+            })\n+            .catch((error) => {\n+                const { response } = error;\n+                if (response.body) {\n+                    response.body.description = 'Unable to complete API state change approve/reject process';\n+                    throw (response.body.description);\n+                }\n+                return null;\n+            })\n+            .finally(() => {\n+                fetchData();\n+            });\n+    };\n+\n+    const pageProps = {\n+        help: (\n+            <HelpBase>\n+                <List component='nav' aria-label='main mailbox folders'>\n+                    <ListItem button>\n+                        <ListItemIcon>\n+                            <DescriptionIcon />\n+                        </ListItemIcon>\n+                        <Link\n+                            target='_blank'\n+                            href={Configurations.app.docUrl\n+                        + 'learn/api-microgateway/grouping-apis-with-labels/#grouping-apis-with-microgateway-labels'}\n+                        >\n+                            <ListItemText primary={(\n+                                <FormattedMessage\n+                                    id='Workflow.APIStatechange.help.link.one'\n+                                    defaultMessage='Create a API State change workflow request'\n+                                />\n+                            )}\n+                            />\n+\n+                        </Link>\n+                    </ListItem>\n+                </List>\n+            </HelpBase>),\n+        /*\n+        pageStyle='half' center part of the screen.\n+        pageStyle='full' = Take the full content area.\n+        pageStyle='paperLess' = Avoid from displaying background paper. ( For dashbord we need this )\n+        */\n+        pageStyle: 'half',\n+        title: intl.formatMessage({\n+            id: 'Workflow.APIStateChange.title.apistatechange',\n+            defaultMessage: 'API State Change - Approval Tasks',\n+        }),\n+    };\n+\n+    const classes = useStyles();\n+    const [searchText, setSearchText] = useState('');\n+\n+    const columProps = [\n+        {\n+            name: 'description',\n+            label: 'Description',\n+            options: {\n+                sort: false,\n+                display: false,\n+            },\n+        },\n+        {\n+            name: 'api',\n+            label: 'API',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.apiName}\n+                            -\n+                            {properties.apiVersion}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'requestState',\n+            label: 'Request State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.action}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'currentState',\n+            label: 'Current State',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    return (\n+                        <div>\n+                            {properties.currentState}\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'apiProvider',\n+            label: 'Created by',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { properties } = dataRow;\n+                    const { createdTime } = dataRow;\n+                    dayjs.extend(relativeTime);\n+                    const time = dayjs(createdTime).fromNow();\n+                    dayjs.extend(localizedFormat);\n+                    const format = dayjs(createdTime).format('LLL');\n+                    return (\n+                        <div>\n+                            {properties.apiProvider}\n+                            <br />\n+                            <Tooltip title={format}>\n+                                <Typography color='textSecondary'>\n+                                    {time}\n+                                </Typography>\n+                            </Tooltip>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+        {\n+            name: 'action',\n+            label: 'Actions',\n+            options: {\n+                sort: false,\n+                customBodyRender: (value, tableMeta) => {\n+                    const dataRow = data[tableMeta.rowIndex];\n+                    const { referenceId } = dataRow;\n+                    return (\n+                        <div>\n+                            <Box component='span' m={1}>\n+                                <Button\n+                                    className={classes.approveButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'APPROVED')}\n+                                >\n+                                    <CheckIcon />\n+                                    Approve\n+                                </Button>\n+                                &nbsp;&nbsp;\n+                                <Button\n+                                    className={classes.rejectButton}\n+                                    variant='contained'\n+                                    size='small'\n+                                    onClick={() => updateStatus(referenceId, 'REJECTED')}\n+                                >\n+                                    <ClearIcon />\n+                                    Reject\n+                                </Button>\n+                            </Box>\n+                        </div>\n+                    );\n+                },\n+            },\n+        },\n+    ];\n+\n+    const addButtonProps = {};\n+    const addButtonOverride = null;\n+    const noDataMessage = (\n+        <FormattedMessage\n+            id='AdminPages.Addons.ListBase.nodata.message'\n+            defaultMessage='No items yet'\n+        />\n+    );\n+\n+    const EditComponent = (() => <span />);\n+\n+    const searchActive = true;\n+    const searchPlaceholder = intl.formatMessage({\n+        id: 'Workflow.apistatechange.search.default',\n+        defaultMessage: 'Search by workflow request description',\n+    });\n+\n+    const filterData = (event) => {\n+        setSearchText(event.target.value);\n+    };\n+\n+", "originalCommit": "e4c0ed6111997681e15279f913058e7574954851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}