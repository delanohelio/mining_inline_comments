{"pr_number": 912, "pr_title": "third-party build: update targets to allow extension registry overrides by a third-party build system", "pr_createdAt": "2020-06-16T00:14:20Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/912", "timeline": [{"oid": "2d293c8abcacb09499203780f6335368a4b41051", "url": "https://github.com/envoyproxy/envoy-mobile/commit/2d293c8abcacb09499203780f6335368a4b41051", "message": "third-party build: update targets to allow configuration and extension registry overrides by a third-party build system\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-16T00:08:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUxNTA4OA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/912#discussion_r440515088", "bodyText": "right now I have created just a single extension registry, but my other idea was to perhaps have three extension registries:\n\nextensions declared in envoy\nextensions declared in envoy-mobile\nextensions declared in envoy-mobile private\n\nThis way if a consumer is not interested in overriding 1, and 2, they don't need to.", "author": "junr03", "createdAt": "2020-06-16T00:16:04Z", "path": "WORKSPACE", "diffHunk": "@@ -13,6 +13,16 @@ local_repository(\n     path = \"envoy_build_config\",\n )\n \n+local_repository(\n+    name = \"envoy_mobile_bootstrap_config\",\n+    path = \"envoy_mobile_bootstrap_config\",\n+)\n+\n+local_repository(\n+    name = \"extension_registry\",", "originalCommit": "2d293c8abcacb09499203780f6335368a4b41051", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTIwOQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/912#discussion_r441215209", "bodyText": "I think is a special case that can be omitted - the only reason envoy-mobile declare an extension is if its integral to the project, right?\n\n\nand 3. seem like they can be combined.", "author": "goaway", "createdAt": "2020-06-17T00:33:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUxNTA4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0MzcwNw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/912#discussion_r441843707", "bodyText": "yep, for simplicity, I am going to leave just the one override point then.", "author": "junr03", "createdAt": "2020-06-17T21:26:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUxNTA4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUxNzE3OA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/912#discussion_r440517178", "bodyText": "Is this deliberate?", "author": "rebello95", "createdAt": "2020-06-16T00:23:25Z", "path": "envoy_mobile_bootstrap_config/config_template.cc", "diffHunk": "@@ -77,6 +77,7 @@ const char* config_template = R\"(\n               inline_string: |\n )\"\n #include \"certificates.inc\"\n+", "originalCommit": "2d293c8abcacb09499203780f6335368a4b41051", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3ae78fca15e6fc12da535ffa0d7545959ae1a59b", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3ae78fca15e6fc12da535ffa0d7545959ae1a59b", "message": "comments\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-16T16:25:30Z", "type": "commit"}, {"oid": "40bf7d792b81ded9929ae533d8dcb09f44a7ebc1", "url": "https://github.com/envoyproxy/envoy-mobile/commit/40bf7d792b81ded9929ae533d8dcb09f44a7ebc1", "message": "update + docs\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-17T22:13:01Z", "type": "commit"}, {"oid": "ef7d1de7fa0aa4aaee9071b515ba858a822de21d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/ef7d1de7fa0aa4aaee9071b515ba858a822de21d", "message": "fmt\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-17T22:20:40Z", "type": "commit"}, {"oid": "d0306b7ce0c1ee9ed794f6335fb3f2f3764983c4", "url": "https://github.com/envoyproxy/envoy-mobile/commit/d0306b7ce0c1ee9ed794f6335fb3f2f3764983c4", "message": "fmt\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-17T22:28:02Z", "type": "commit"}, {"oid": "8b9e60fb6cb4b7a6c443e4c149b2ede0685b09f9", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8b9e60fb6cb4b7a6c443e4c149b2ede0685b09f9", "message": "remove config\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-22T17:36:37Z", "type": "commit"}, {"oid": "c37d9299bfda5238ae12d20de4d1e862636954e4", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c37d9299bfda5238ae12d20de4d1e862636954e4", "message": "Merge branch 'master' into extension-build-system\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-22T17:37:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQwNzIyOQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/912#discussion_r444407229", "bodyText": "would \"extension_regsitry\" be clearer?", "author": "goaway", "createdAt": "2020-06-23T17:57:44Z", "path": "envoy_build_config/BUILD", "diffHunk": "@@ -1 +1,26 @@\n+load(\"@envoy//bazel:envoy_build_system.bzl\", \"envoy_cc_library\", \"envoy_package\")\n+\n licenses([\"notice\"])  # Apache 2\n+\n+envoy_package()\n+\n+envoy_cc_library(\n+    name = \"static_registry\",", "originalCommit": "c37d9299bfda5238ae12d20de4d1e862636954e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQwNzQ2OQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/912#discussion_r444407469", "bodyText": "(not rhetorical)", "author": "goaway", "createdAt": "2020-06-23T17:58:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQwNzIyOQ=="}], "type": "inlineReview"}, {"oid": "1bef815b22d4a83e9adf779007c46c8a84123518", "url": "https://github.com/envoyproxy/envoy-mobile/commit/1bef815b22d4a83e9adf779007c46c8a84123518", "message": "name\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-23T18:04:25Z", "type": "commit"}, {"oid": "1edec1677ae65d956dd82a2f14d2106061b5987f", "url": "https://github.com/envoyproxy/envoy-mobile/commit/1edec1677ae65d956dd82a2f14d2106061b5987f", "message": "fmt\n\nSigned-off-by: Jose Nino <jnino@lyft.com>", "committedDate": "2020-06-23T19:53:51Z", "type": "commit"}]}