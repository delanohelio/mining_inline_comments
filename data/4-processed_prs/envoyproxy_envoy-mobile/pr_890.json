{"pr_number": 890, "pr_title": "android: update to use androidx and fixate sdk version to be 29", "pr_createdAt": "2020-06-07T18:33:52Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/890", "timeline": [{"oid": "069ffd3fc8116327e9f0d2ef85eed644abfc0ca5", "url": "https://github.com/envoyproxy/envoy-mobile/commit/069ffd3fc8116327e9f0d2ef85eed644abfc0ca5", "message": "ci: add envoy mobile path configurability\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-06-10T19:53:53Z", "type": "forcePushed"}, {"oid": "f784472fff4eae688575d698762eaf9e420e3168", "url": "https://github.com/envoyproxy/envoy-mobile/commit/f784472fff4eae688575d698762eaf9e420e3168", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-06-07T18:55:41Z", "type": "forcePushed"}, {"oid": "8803b9ea7aa9dabf047c3c63ac30edfeabbe7988", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8803b9ea7aa9dabf047c3c63ac30edfeabbe7988", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-06-18T16:07:46Z", "type": "forcePushed"}, {"oid": "edf2901471edf6ef7ffc00639a9c67a4e92e83cb", "url": "https://github.com/envoyproxy/envoy-mobile/commit/edf2901471edf6ef7ffc00639a9c67a4e92e83cb", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-06-29T19:50:48Z", "type": "forcePushed"}, {"oid": "1f03df42f88b1b6f69d5464bfc609be04c94e04d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/1f03df42f88b1b6f69d5464bfc609be04c94e04d", "message": "Workaround for example builds\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-06-30T20:31:48Z", "type": "forcePushed"}, {"oid": "527038684953650305ba50ae05b00f125b422deb", "url": "https://github.com/envoyproxy/envoy-mobile/commit/527038684953650305ba50ae05b00f125b422deb", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-09T21:29:59Z", "type": "forcePushed"}, {"oid": "9a2809aa263232d4ae61faefcfe7d13b84d048ea", "url": "https://github.com/envoyproxy/envoy-mobile/commit/9a2809aa263232d4ae61faefcfe7d13b84d048ea", "message": "Workaround for example builds\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-10T23:15:23Z", "type": "commit"}, {"oid": "c78d825479df75b30c3d5edb45482b6cdbe9b350", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c78d825479df75b30c3d5edb45482b6cdbe9b350", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-10T23:15:23Z", "type": "commit"}, {"oid": "c78d825479df75b30c3d5edb45482b6cdbe9b350", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c78d825479df75b30c3d5edb45482b6cdbe9b350", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-10T23:15:23Z", "type": "forcePushed"}, {"oid": "4d63c89044759aa04fed245f9c5f5a790b94bcc2", "url": "https://github.com/envoyproxy/envoy-mobile/commit/4d63c89044759aa04fed245f9c5f5a790b94bcc2", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-10T23:15:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEyOTY4Mw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453129683", "bodyText": "I recommend using the latest Android X releases listed under the \"stable\" column here: https://developer.android.com/jetpack/androidx/versions\nThe 1.0.0 versions are also super (like around September 2018 or something).", "author": "alexjlockwood", "createdAt": "2020-07-11T00:20:36Z", "path": "bazel/envoy_mobile_dependencies.bzl", "diffHunk": "@@ -22,7 +22,7 @@ def kotlin_dependencies():\n         artifacts = [\n             # Kotlin\n             \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.11\",\n-\n+            \"androidx.recyclerview:recyclerview:1.0.0\",", "originalCommit": "4d63c89044759aa04fed245f9c5f5a790b94bcc2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "780835eb63421e5e494baff3054fa230fb0570ab", "url": "https://github.com/envoyproxy/envoy-mobile/commit/780835eb63421e5e494baff3054fa230fb0570ab", "message": "1.1\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-11T00:21:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkyOTM1Nw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453929357", "bodyText": "Revert?", "author": "rebello95", "createdAt": "2020-07-13T20:59:33Z", "path": "WORKSPACE", "diffHunk": "@@ -37,8 +37,8 @@ envoy_mobile_dependencies()\n load(\"@envoy_mobile//bazel:envoy_mobile_toolchains.bzl\", \"envoy_mobile_toolchains\")\n envoy_mobile_toolchains()\n \n-# Fixing to API 24. Need to lower to API 21: https://github.com/lyft/envoy-mobile/issues/936\n # Note: proguard is failing for API 30+\n-android_sdk_repository(name = \"androidsdk\", api_level = 24)\n+android_sdk_repository(name = \"androidsdk\", api_level = 29)", "originalCommit": "780835eb63421e5e494baff3054fa230fb0570ab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDMzMw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453930333", "bodyText": "Ah I guess you still have it set for the NDK", "author": "rebello95", "createdAt": "2020-07-13T21:01:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkyOTM1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk1MzkyMg==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453953922", "bodyText": "The NDK is more important than the SDK here. We should be safe with this change", "author": "buildbreaker", "createdAt": "2020-07-13T21:48:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkyOTM1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453930243", "bodyText": "If this is only used in the example app, can it be removed from these dependencies?", "author": "goaway", "createdAt": "2020-07-13T21:01:09Z", "path": "bazel/envoy_mobile_dependencies.bzl", "diffHunk": "@@ -22,7 +22,7 @@ def kotlin_dependencies():\n         artifacts = [\n             # Kotlin\n             \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.11\",\n-\n+            \"androidx.recyclerview:recyclerview:1.1.0\",", "originalCommit": "780835eb63421e5e494baff3054fa230fb0570ab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk1NDIzMA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453954230", "bodyText": "I can pull it to be a parameter if that helps but we'll have to declare it", "author": "buildbreaker", "createdAt": "2020-07-13T21:48:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk2MDAyMg==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453960022", "bodyText": "I guess my vague misgiving is that it adds a new external dependency to the build (which could break), which isn't strictly necessary to build the library.\nThat said, if it's maintained by Google, it's probably fairly safe.\nYou could move this into the BUILD file of the example app though, couldn't you?", "author": "goaway", "createdAt": "2020-07-13T21:57:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk2MDY1Mg==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453960652", "bodyText": "(Or to a function that only gets called when building those targets.)", "author": "goaway", "createdAt": "2020-07-13T21:58:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk2OTM1Mg==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453969352", "bodyText": "We spoke offline. I do agree that we should keep this as minimal as possible. @goaway is fine with making the change to clean this up as a follow up PR", "author": "buildbreaker", "createdAt": "2020-07-13T22:10:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk3MDg5OA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453970898", "bodyText": "#950", "author": "buildbreaker", "createdAt": "2020-07-13T22:13:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw=="}], "type": "inlineReview"}, {"oid": "5edfb08cea00b9ac34b20c1a1c12f90c686d8a19", "url": "https://github.com/envoyproxy/envoy-mobile/commit/5edfb08cea00b9ac34b20c1a1c12f90c686d8a19", "message": "mistake\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>", "committedDate": "2020-07-14T17:35:30Z", "type": "commit"}]}