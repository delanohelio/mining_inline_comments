{"pr_number": 977, "pr_title": "stats: clean up default inclusion list", "pr_createdAt": "2020-07-28T01:39:20Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/977", "timeline": [{"oid": "2f6674162ead72cbc630dbf84283f6c02b98a21d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/2f6674162ead72cbc630dbf84283f6c02b98a21d", "message": "stats: clean up default inclusion list\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-07-28T01:37:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg4Njc2Ng==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/977#discussion_r461886766", "bodyText": "should total and completed be kept as exact?", "author": "junr03", "createdAt": "2020-07-28T21:20:53Z", "path": "library/common/config_template.cc", "diffHunk": "@@ -233,33 +209,10 @@ stats_flush_interval: {{ stats_flush_interval_seconds }}s\n             regex: '^http.hcm.decompressor.*'\n         - safe_regex:\n             google_re2: {}\n-            regex: 'http.hcm.downstream_rq_[1|2|3|4|5]xx'\n-        - exact: 'http.hcm.downstream_rq_total'\n-        - exact: 'http.hcm.downstream_rq_completed'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_[1|2|3|4|5]xx'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_retry'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_retry_limit_exceeded'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_retry_overflow'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_retry_success'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_time'\n-        - safe_regex:\n-            google_re2: {}\n-            regex: 'vhost.api.vcluster\\.[\\w]+?\\.upstream_rq_timeout'\n+            regex: '^http.hcm.downstream_rq_(?:[12345]xx|total|completed)'", "originalCommit": "2f6674162ead72cbc630dbf84283f6c02b98a21d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg4ODkzNA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/977#discussion_r461888934", "bodyText": "It'll still be cheaper to check the shared prefix once via the single regex.", "author": "goaway", "createdAt": "2020-07-28T21:25:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg4Njc2Ng=="}], "type": "inlineReview"}]}