{"pr_number": 1041, "pr_title": "iOS example apps: improve header rendering", "pr_createdAt": "2020-08-18T09:56:21Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/1041", "timeline": [{"oid": "6af739d5a734703697de618136513c52074d164b", "url": "https://github.com/envoyproxy/envoy-mobile/commit/6af739d5a734703697de618136513c52074d164b", "message": "iOS example apps: improve header rendering\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-18T09:50:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MjIzMw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041#discussion_r472352233", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    var headerMessage = \"\"\n          \n          \n            \n                    headers.allHeaders().forEach { name, value in\n          \n          \n            \n                      if kFilteredHeaders.contains(name) {\n          \n          \n            \n                        headerMessage += \"\\(name): \\(value.joined(separator: \", \"))\\n\"\n          \n          \n            \n                      }\n          \n          \n            \n                    }\n          \n          \n            \n                    let headerMessage = headers.allHeaders()\n          \n          \n            \n                      .filter { kFilteredHeaders.contains($0.key) }\n          \n          \n            \n                      .map { \"\\($0.key): \\($0.value.joined(separator: \", \"))\" }\n          \n          \n            \n                      .joined(separator: \"\\n\")", "author": "rebello95", "createdAt": "2020-08-18T17:09:57Z", "path": "examples/swift/hello_world/ViewController.swift", "diffHunk": "@@ -59,14 +60,22 @@ final class ViewController: UITableViewController {\n       .newStreamPrototype()\n       .setOnResponseHeaders { [weak self] headers, _ in\n         let statusCode = headers.httpStatus ?? -1\n-        var message = \"received headers with status \\(statusCode)\"\n+        let message = \"received headers with status \\(statusCode)\"\n+\n+        var headerMessage = \"\"\n+        headers.allHeaders().forEach { name, value in\n+          if kFilteredHeaders.contains(name) {\n+            headerMessage += \"\\(name): \\(value.joined(separator: \", \"))\\n\"\n+          }\n+        }", "originalCommit": "6af739d5a734703697de618136513c52074d164b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MzMzMw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041#discussion_r472353333", "bodyText": "This keeps the value immutable and is a bit more idiomatic", "author": "rebello95", "createdAt": "2020-08-18T17:11:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MjIzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM4MzQwMw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041#discussion_r472383403", "bodyText": "Nice, thanks.", "author": "goaway", "createdAt": "2020-08-18T18:02:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MjIzMw=="}], "type": "inlineReview"}, {"oid": "d7c61198178ed93f0de21368ed03f68e210225b6", "url": "https://github.com/envoyproxy/envoy-mobile/commit/d7c61198178ed93f0de21368ed03f68e210225b6", "message": "update format; update for comments\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-18T18:14:58Z", "type": "commit"}]}