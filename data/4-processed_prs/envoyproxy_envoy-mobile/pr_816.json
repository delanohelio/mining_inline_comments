{"pr_number": 816, "pr_title": "build: Enable opt for Swift compiles", "pr_createdAt": "2020-04-27T17:11:06Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/816", "timeline": [{"oid": "4adc297b222fb48cbb4ff306dee766639d159cfa", "url": "https://github.com/envoyproxy/envoy-mobile/commit/4adc297b222fb48cbb4ff306dee766639d159cfa", "message": "build: Enable opt for Swift compiles\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-04-27T21:20:36Z", "type": "commit"}, {"oid": "4adc297b222fb48cbb4ff306dee766639d159cfa", "url": "https://github.com/envoyproxy/envoy-mobile/commit/4adc297b222fb48cbb4ff306dee766639d159cfa", "message": "build: Enable opt for Swift compiles\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-04-27T21:20:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0MzE2MQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/816#discussion_r416843161", "bodyText": "we can't set --compilation_mode=opt because of size issues\n\nis this for c++ code that it causes a problem? Is it because opt does flags other than -Os?", "author": "kastiglione", "createdAt": "2020-04-28T18:46:46Z", "path": ".bazelrc", "diffHunk": "@@ -41,6 +42,9 @@ build:release-ios --apple_bitcode=embedded\n build:release-ios --config=ios\n build:release-ios --config=release-common\n build:release-ios --copt=-fembed-bitcode\n+# This is a workaround because we can't set --compilation_mode=opt because of size issues\n+# this forces -O to be passed at least to Swift compiles", "originalCommit": "4adc297b222fb48cbb4ff306dee766639d159cfa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0NDk1NA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/816#discussion_r416844954", "bodyText": "not sure, but the resulting binary is too large for zip", "author": "keith", "createdAt": "2020-04-28T18:49:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjg0MzE2MQ=="}], "type": "inlineReview"}]}