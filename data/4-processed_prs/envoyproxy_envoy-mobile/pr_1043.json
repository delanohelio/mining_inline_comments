{"pr_number": 1043, "pr_title": "jni: extract utility library", "pr_createdAt": "2020-08-18T11:04:18Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/1043", "timeline": [{"oid": "d05b9978b2392d29aa525e4d60e0709d5366a409", "url": "https://github.com/envoyproxy/envoy-mobile/commit/d05b9978b2392d29aa525e4d60e0709d5366a409", "message": "jni: extract utility library\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-18T11:03:54Z", "type": "commit"}, {"oid": "3049bf1e6601d697e08e68f480b0ce47d209e186", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3049bf1e6601d697e08e68f480b0ce47d209e186", "message": "fixes\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-20T10:33:01Z", "type": "commit"}, {"oid": "ed0049161b0cbe7284eadef10ab84dcac0b34ecc", "url": "https://github.com/envoyproxy/envoy-mobile/commit/ed0049161b0cbe7284eadef10ab84dcac0b34ecc", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>", "committedDate": "2020-08-20T10:33:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg2NjUyNA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1043#discussion_r473866524", "bodyText": "Just acknowledging that these all need docstrings, but the implementations are reviewable.", "author": "goaway", "createdAt": "2020-08-20T10:35:37Z", "path": "library/common/jni/jni_utility.h", "diffHunk": "@@ -0,0 +1,25 @@\n+#include <jni.h>\n+\n+#include \"library/common/types/c_types.h\"\n+\n+// NOLINT(namespace-envoy)\n+\n+void set_vm(JavaVM* vm);\n+\n+JavaVM* get_vm();\n+\n+JNIEnv* get_env();\n+\n+void jvm_detach_thread();\n+\n+void jni_delete_global_ref(void* context);\n+\n+void jni_delete_const_global_ref(const void* context);\n+\n+int unbox_integer(JNIEnv* env, jobject boxedInteger);\n+\n+envoy_data array_to_native_data(JNIEnv* env, jbyteArray j_data);\n+\n+envoy_data buffer_to_native_data(JNIEnv* env, jobject j_data);\n+\n+envoy_headers to_native_headers(JNIEnv* env, jobjectArray headers);", "originalCommit": "ed0049161b0cbe7284eadef10ab84dcac0b34ecc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}