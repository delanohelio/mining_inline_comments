{"pr_number": 815, "pr_title": "bazel: Update swift_static_framework to use swiftinterfaces", "pr_createdAt": "2020-04-27T17:05:58Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/815", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk5OTAwOA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#discussion_r415999008", "bodyText": "Can you add a docstring for private_deps?", "author": "rebello95", "createdAt": "2020-04-27T17:17:18Z", "path": "bazel/swift_static_framework.bzl", "diffHunk": "@@ -163,37 +166,28 @@ def swift_static_framework(\n         name,\n         module_name = None,\n         srcs = [],\n-        deps = [],\n-        objc_includes = [],\n+        private_deps = [],\n         copts = [],\n-        swiftc_inputs = [],\n         visibility = []):\n     \"\"\"Create a static library, and static framework target for a swift module\n \n     Args:\n         name: The name of the module, the framework's name will be this name\n             appending Framework so you can depend on this from other modules\n         srcs: Custom source paths for the swift files\n-        objc_includes: Header files for any objective-c dependencies (required for linking)", "originalCommit": "53ea7a507d7834e25978aa9ad421ba88bed8a13f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9bc007803db86094e9a6a8b571583a1d6ae0e81b", "url": "https://github.com/envoyproxy/envoy-mobile/commit/9bc007803db86094e9a6a8b571583a1d6ae0e81b", "message": "Fixups\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-04-27T21:20:15Z", "type": "forcePushed"}, {"oid": "8e0a0c6e3be75f64d50b080a826431cc75552a4b", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8e0a0c6e3be75f64d50b080a826431cc75552a4b", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-07T20:27:55Z", "type": "forcePushed"}, {"oid": "6a799d1d58fd362d9be5654fe663eddbe1550027", "url": "https://github.com/envoyproxy/envoy-mobile/commit/6a799d1d58fd362d9be5654fe663eddbe1550027", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-12T19:39:38Z", "type": "forcePushed"}, {"oid": "41cece6e6bac944ec9cb56dc2f509a4307d92ec0", "url": "https://github.com/envoyproxy/envoy-mobile/commit/41cece6e6bac944ec9cb56dc2f509a4307d92ec0", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-18T22:06:39Z", "type": "forcePushed"}, {"oid": "7f573e4d08ac8e60e9d93efa0ddef01968fd64b7", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7f573e4d08ac8e60e9d93efa0ddef01968fd64b7", "message": "bazel: Update swift_static_framework to use swiftinterfaces\n\nThis is an in between to https://github.com/lyft/envoy-mobile/pull/797\nwhich starts building the archive with swiftinterface files, but does\nit with our existing swift_static_framework rule because of issues\nlinked on that PR.\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-28T22:18:40Z", "type": "commit"}, {"oid": "7dcefbfb7079c81d37456fa37526b0c45dbce25a", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7dcefbfb7079c81d37456fa37526b0c45dbce25a", "message": "Fixups\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-28T22:18:40Z", "type": "commit"}, {"oid": "0f5a65aa9145f3baae1dbc92d10caa965ead3771", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0f5a65aa9145f3baae1dbc92d10caa965ead3771", "message": "fix imports\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-28T22:18:40Z", "type": "commit"}, {"oid": "0d88782eac62aee5e480ca123f19a35be171b957", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0d88782eac62aee5e480ca123f19a35be171b957", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-28T22:18:40Z", "type": "commit"}, {"oid": "0d88782eac62aee5e480ca123f19a35be171b957", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0d88782eac62aee5e480ca123f19a35be171b957", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>", "committedDate": "2020-05-28T22:18:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4NDE2OQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#discussion_r432184169", "bodyText": "Out of curiosity, any reason not to use @_implementationOnly here for consistency?", "author": "rebello95", "createdAt": "2020-05-28T23:49:15Z", "path": "library/swift/test/EnvoyClientBuilderTests.swift", "diffHunk": "@@ -1,4 +1,5 @@\n @testable import Envoy\n+import EnvoyEngine", "originalCommit": "0d88782eac62aee5e480ca123f19a35be171b957", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4NTE2OA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#discussion_r432185168", "bodyText": "It doesn't really matter for tests since no one consumes their output swiftmodule, and the annoyance is that if you do it once in a single target you have to do it for all imports, so then everyone has to know about it.", "author": "keith", "createdAt": "2020-05-28T23:52:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4NDE2OQ=="}], "type": "inlineReview"}]}