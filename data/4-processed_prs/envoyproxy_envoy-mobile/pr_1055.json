{"pr_number": 1055, "pr_title": "docs: update doc to reflect recent api changes", "pr_createdAt": "2020-08-27T20:49:32Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/1055", "timeline": [{"oid": "7c27d31d05b45b573ab59d29242c55f281208388", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7c27d31d05b45b573ab59d29242c55f281208388", "message": "docs: update doc to reflect recent api changes\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-27T20:57:58Z", "type": "commit"}, {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "url": "https://github.com/envoyproxy/envoy-mobile/commit/ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-27T20:58:28Z", "type": "commit"}, {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "url": "https://github.com/envoyproxy/envoy-mobile/commit/ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-27T20:58:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0MDQ1NA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478740454", "bodyText": "Formatting issues, it's required that the ------ be the same length as the thing it's trying to contain", "author": "buildbreaker", "createdAt": "2020-08-27T22:58:26Z", "path": "docs/root/api/starting_envoy.rst", "diffHunk": "@@ -7,32 +7,34 @@ Starting Envoy\n ``StreamClient``\n ----------------\n \n-Starting an instance of Envoy Mobile for performing requests is done by creating a ``StreamClient``.\n+Starting an instance of Envoy Mobile is done by building the ``Engine`` instance with ``EngineBuilder``. Requests are performed by the ``StatsClient`` provided by ``Engine``.\n \n-To do so, create a ``StreamClientBuilder`` and call ``build()`` (see below).\n+To obtain a ``StatsClient``, call ``streamClient()`` on the ``Engine`` instance (see below).\n \n-After the client is created, it should be stored and used to start network requests/streams.\n+After the stream client is obtain, it should be stored and used to start network requests/streams.\n \n **Kotlin example**::\n \n-  val streamClient = AndroidStreamClientBuilder(getApplication())\n+  val streamClient = AndroidEngineBuilder(getApplication())\n     .addLogLevel(LogLevel.WARN)\n     ...\n     .build()\n+    .streamClient()\n \n **Swift example**::\n \n-  let streamClient = try StreamClientBuilder()\n+  let streamClient = try EngineBuilder()\n     .addLogLevel(.warn)\n     ...\n     .build()\n+    .streamClient()\n \n -----------------------\n-``StreamClientBuilder``\n+``EngineBuilder``\n -----------------------", "originalCommit": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0MDYyOQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478740629", "bodyText": "Same here", "author": "buildbreaker", "createdAt": "2020-08-27T22:59:02Z", "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=========================", "originalCommit": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0MDc2Nw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478740767", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ----------------\n          \n          \n            \n            ``StatsClient``\n          \n          \n            \n            ----------------\n          \n          \n            \n            ---------------\n          \n          \n            \n            ``StatsClient``\n          \n          \n            \n            ---------------\n          \n      \n    \n    \n  \n\nLooks like it's one character off", "author": "buildbreaker", "createdAt": "2020-08-27T22:59:27Z", "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=========================\n+\n+----------------\n+``StatsClient``\n+----------------", "originalCommit": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c469f784569dbc609935f5d055a4917a93307982", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c469f784569dbc609935f5d055a4917a93307982", "message": "format\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-27T23:17:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0OTE3NQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478749175", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              statsClient.counter(Element(\"foo\"), Element\"bar\"))\n          \n          \n            \n              statsClient.counter(Element(\"foo\"), Element(\"bar\"))", "author": "buildbreaker", "createdAt": "2020-08-27T23:26:06Z", "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=====\n+\n+---------------\n+``StatsClient``\n+---------------\n+\n+To use Envoy Mobile's stats function, obtain an instance of ``StatsClient`` from ``Engine`` (refer to :ref:`api_starting_envoy` for building an engine instance), and store the stats client to create ``Counter`` instances.\n+\n+**Kotlin example**::\n+\n+  statsClient.counter(Element(\"foo\"), Element\"bar\"))", "originalCommit": "c469f784569dbc609935f5d055a4917a93307982", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0OTM3OQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478749379", "bodyText": "Could we have examples on this as well?", "author": "buildbreaker", "createdAt": "2020-08-27T23:26:49Z", "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=====\n+\n+---------------\n+``StatsClient``\n+---------------\n+\n+To use Envoy Mobile's stats function, obtain an instance of ``StatsClient`` from ``Engine`` (refer to :ref:`api_starting_envoy` for building an engine instance), and store the stats client to create ``Counter`` instances.\n+\n+**Kotlin example**::\n+\n+  statsClient.counter(Element(\"foo\"), Element\"bar\"))\n+\n+**Swift example**::\n+\n+  statsClient.counter(elements: [\"foo\", \"bar\"])\n+\n+The ``counter`` method from stats client takes a variable number of elements and returns a ``Counter`` instance, the elements are used to for a dot(.) delimited string. For the example code above, the formed string is ``foo.bar``, this string serves as the identifier of the counter.\n+\n+Store the counter instance, and call the ``increment`` method to increment the counter wherever it applies.", "originalCommit": "c469f784569dbc609935f5d055a4917a93307982", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "83d623b5886c39c7bde0266ed72d90e98aee71b3", "url": "https://github.com/envoyproxy/envoy-mobile/commit/83d623b5886c39c7bde0266ed72d90e98aee71b3", "message": "example\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-28T00:53:14Z", "type": "commit"}, {"oid": "0af5117bb2ce223091d5a74cf285d36ef98e469e", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0af5117bb2ce223091d5a74cf285d36ef98e469e", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-28T00:53:39Z", "type": "commit"}, {"oid": "0af5117bb2ce223091d5a74cf285d36ef98e469e", "url": "https://github.com/envoyproxy/envoy-mobile/commit/0af5117bb2ce223091d5a74cf285d36ef98e469e", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-28T00:53:39Z", "type": "forcePushed"}, {"oid": "cb210cb761164f886512eca0568f1e0bf9f9ea8c", "url": "https://github.com/envoyproxy/envoy-mobile/commit/cb210cb761164f886512eca0568f1e0bf9f9ea8c", "message": "Update stats.rst\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-28T17:11:34Z", "type": "commit"}, {"oid": "cb210cb761164f886512eca0568f1e0bf9f9ea8c", "url": "https://github.com/envoyproxy/envoy-mobile/commit/cb210cb761164f886512eca0568f1e0bf9f9ea8c", "message": "Update stats.rst\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>", "committedDate": "2020-08-28T17:11:34Z", "type": "forcePushed"}]}