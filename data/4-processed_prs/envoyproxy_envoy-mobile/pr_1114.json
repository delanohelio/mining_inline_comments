{"pr_number": 1114, "pr_title": "Implement isEqual method", "pr_createdAt": "2020-09-18T22:36:12Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/1114", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMjkxOA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491222918", "bodyText": "Trailing space \ud83d\ude03", "author": "rebello95", "createdAt": "2020-09-18T22:37:48Z", "path": "library/swift/test/BUILD", "diffHunk": "@@ -77,3 +77,10 @@ envoy_mobile_swift_test(\n         \"CounterTests.swift\",\n     ],\n )\n+\n+envoy_mobile_swift_test(\n+    name = \"element_tests\",\n+    srcs = [\n+        \"ElementTests.swift\",\n+    ],\n+)", "originalCommit": "5794cbeacd9272d0b0da70746a4d1915e3d558de", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzk4NA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223984", "bodyText": "it wasn't here previously so I though that it was not needed \ud83e\udd14", "author": "Augustyniak", "createdAt": "2020-09-18T22:42:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMjkxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyNDIzMQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491224231", "bodyText": "I was referring to this ^ (not showing up on the main GitHub screen for some reason, only when you view files)", "author": "rebello95", "createdAt": "2020-09-18T22:43:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMjkxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzAyNw==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223027", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if let object = object as? Element {\n          \n          \n            \n                  return self.value == object.value\n          \n          \n            \n                } else {\n          \n          \n            \n                  return false\n          \n          \n            \n                }\n          \n          \n            \n                return (object as? Element)?.value == self.value", "author": "rebello95", "createdAt": "2020-09-18T22:38:12Z", "path": "library/swift/src/stats/Element.swift", "diffHunk": "@@ -14,4 +14,12 @@ public final class Element: NSObject, ExpressibleByStringLiteral {\n     }\n     self.value = value\n   }\n+\n+  public override func isEqual(_ object: Any?) -> Bool {\n+    if let object = object as? Element {\n+      return self.value == object.value\n+    } else {\n+      return false\n+    }", "originalCommit": "5794cbeacd9272d0b0da70746a4d1915e3d558de", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzA2OA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223068", "bodyText": "Should we explicitly do an isEqual check here too?", "author": "rebello95", "createdAt": "2020-09-18T22:38:24Z", "path": "library/swift/test/ElementTests.swift", "diffHunk": "@@ -0,0 +1,14 @@\n+import Envoy\n+import XCTest\n+\n+final class ElementTests: XCTestCase {\n+    func testElementNotEqualToObjectOfUnrelatedType() {\n+        let element = Element(\"foo\")\n+        XCTAssertFalse(element.isEqual(\"bar\"))\n+    }\n+\n+    func testElementsEquality() {\n+      XCTAssertEqual(Element(\"foo\"), Element(\"foo\"))\n+      XCTAssertNotEqual(Element(\"foo\"), Element(\"bar\"))", "originalCommit": "5794cbeacd9272d0b0da70746a4d1915e3d558de", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzkyNg==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223926", "bodyText": "maybe lets add 2 additional assertions - they would use isEqual method. WDYT?", "author": "Augustyniak", "createdAt": "2020-09-18T22:41:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzA2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyNDI2MQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491224261", "bodyText": "sure", "author": "rebello95", "createdAt": "2020-09-18T22:43:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzA2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzEzMQ==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223131", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                func testElementsEquality() {\n          \n          \n            \n                func testElementsAreEqualIfStringValuesAreEqual() {", "author": "rebello95", "createdAt": "2020-09-18T22:38:37Z", "path": "library/swift/test/ElementTests.swift", "diffHunk": "@@ -0,0 +1,14 @@\n+import Envoy\n+import XCTest\n+\n+final class ElementTests: XCTestCase {\n+    func testElementNotEqualToObjectOfUnrelatedType() {\n+        let element = Element(\"foo\")\n+        XCTAssertFalse(element.isEqual(\"bar\"))\n+    }\n+\n+    func testElementsEquality() {", "originalCommit": "5794cbeacd9272d0b0da70746a4d1915e3d558de", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2c2c623c5d34e51531148a3178f4db5daf18e29d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/2c2c623c5d34e51531148a3178f4db5daf18e29d", "message": "code review comments", "committedDate": "2020-09-18T22:55:55Z", "type": "forcePushed"}, {"oid": "a1e241d6a4ffe4933ddd826626d1387db18e5ac1", "url": "https://github.com/envoyproxy/envoy-mobile/commit/a1e241d6a4ffe4933ddd826626d1387db18e5ac1", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-18T22:57:02Z", "type": "forcePushed"}, {"oid": "cb2ebdac50a1a137be0cb7d522b02dfc0276fa4f", "url": "https://github.com/envoyproxy/envoy-mobile/commit/cb2ebdac50a1a137be0cb7d522b02dfc0276fa4f", "message": "Implement isEqual method\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-18T23:16:40Z", "type": "commit"}, {"oid": "8673cf479964ae5ec362d1774ba111a13d12787d", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8673cf479964ae5ec362d1774ba111a13d12787d", "message": "Update library/swift/src/stats/Element.swift\n\nCo-authored-by: Michael Rebello <me@michaelrebello.com>\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-18T23:16:40Z", "type": "commit"}, {"oid": "7dd043f4128b31ed1eab213ef6858cd19b19d825", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7dd043f4128b31ed1eab213ef6858cd19b19d825", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-18T23:16:40Z", "type": "commit"}, {"oid": "7dd043f4128b31ed1eab213ef6858cd19b19d825", "url": "https://github.com/envoyproxy/envoy-mobile/commit/7dd043f4128b31ed1eab213ef6858cd19b19d825", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-18T23:16:40Z", "type": "forcePushed"}, {"oid": "6214dc37693985b391de7a6e79d7e7f8ba758b7e", "url": "https://github.com/envoyproxy/envoy-mobile/commit/6214dc37693985b391de7a6e79d7e7f8ba758b7e", "message": "config: rename decompressor name from \"basic\" to \"gzip\" (#1115)\n\nThis filter is configured exclusively with gzip decompression. If we were to add more in the future (i.e., brotli), this would be a good way to differentiate.\r\n\r\nThis change is especially useful since it'll transform `x-envoy-decompressor-basic-uncompressed-bytes` to use \"gzip\" instead of \"basic\" in the trailers it adds to responses.\r\n\r\nSigned-off-by: Michael Rebello <me@michaelrebello.com>\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-19T00:55:49Z", "type": "commit"}, {"oid": "c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "message": "android: fix release builds (#1112)\n\nThis adds an argument to counteract build failures we're seeing on Linux Android release builds, believed to be caused in part by https://github.com/envoyproxy/envoy/pull/12569/files#diff-f55b2f358053ad76fb5ac3f776f78ef8R27.\r\n\r\nVerified fix with release build: https://github.com/lyft/envoy-mobile/pull/1112/checks?check_run_id=1135915527\r\n\r\nI'm also bumping the release in this PR so we can re-tag with a version of the Android binary successfully.\r\n\r\nSigned-off-by: Michael Rebello <me@michaelrebello.com>\r\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-19T00:55:49Z", "type": "commit"}, {"oid": "c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "message": "android: fix release builds (#1112)\n\nThis adds an argument to counteract build failures we're seeing on Linux Android release builds, believed to be caused in part by https://github.com/envoyproxy/envoy/pull/12569/files#diff-f55b2f358053ad76fb5ac3f776f78ef8R27.\r\n\r\nVerified fix with release build: https://github.com/lyft/envoy-mobile/pull/1112/checks?check_run_id=1135915527\r\n\r\nI'm also bumping the release in this PR so we can re-tag with a version of the Android binary successfully.\r\n\r\nSigned-off-by: Michael Rebello <me@michaelrebello.com>\r\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>", "committedDate": "2020-09-19T00:55:49Z", "type": "forcePushed"}, {"oid": "da4a22cede382eec45221ed124625d15a0faae38", "url": "https://github.com/envoyproxy/envoy-mobile/commit/da4a22cede382eec45221ed124625d15a0faae38", "message": "Merge branch 'main' into custom-implementation-of-is-equal", "committedDate": "2020-09-19T00:56:58Z", "type": "commit"}]}