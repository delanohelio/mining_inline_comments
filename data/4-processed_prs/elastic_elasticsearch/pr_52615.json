{"pr_number": 52615, "pr_title": "Fix testResyncAfterPrimaryPromotion", "pr_createdAt": "2020-02-21T02:38:20Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/52615", "timeline": [{"oid": "ef52fdc7953f418f3a865fb89eae7c6601fff71d", "url": "https://github.com/elastic/elasticsearch/commit/ef52fdc7953f418f3a865fb89eae7c6601fff71d", "message": "Fix testResyncAfterPrimaryPromotion", "committedDate": "2020-02-21T02:34:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM2OTc0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/52615#discussion_r382369749", "bodyText": "I spent some time to separate these two expectations, but it was more complicated than I thought. I think it's fine to assert like this.", "author": "dnhatn", "createdAt": "2020-02-21T02:41:41Z", "path": "server/src/test/java/org/elasticsearch/index/replication/RecoveryDuringReplicationTests.java", "diffHunk": "@@ -378,7 +377,7 @@ public void testResyncAfterPrimaryPromotion() throws Exception {\n                     assertThat(source.source.utf8ToString(), is(\"{ \\\"f\\\": \\\"normal\\\"}\"));\n                 }\n             }\n-            assertThat(translogOperations, is(initialDocs + extraDocs));", "originalCommit": "ef52fdc7953f418f3a865fb89eae7c6601fff71d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}