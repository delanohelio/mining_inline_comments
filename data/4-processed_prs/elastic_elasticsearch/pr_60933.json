{"pr_number": 60933, "pr_title": "Add the ScriptService to the field parser config", "pr_createdAt": "2020-08-10T20:32:23Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60933", "timeline": [{"oid": "186875c61f6362db4f754c523c4f98b8f0ddd1cb", "url": "https://github.com/elastic/elasticsearch/commit/186875c61f6362db4f754c523c4f98b8f0ddd1cb", "message": "Add the ScriptService to the field parser config\n\nThis makes parsing runtime fields much simpler.", "committedDate": "2020-08-10T20:03:32Z", "type": "commit"}, {"oid": "956f354f6942d1c86458e28bb27cd479efb946a9", "url": "https://github.com/elastic/elasticsearch/commit/956f354f6942d1c86458e28bb27cd479efb946a9", "message": "Plumb ScriptService to another spot", "committedDate": "2020-08-10T20:37:09Z", "type": "commit"}, {"oid": "f40ee9e4954123610dfb6972e8910d391e3f2bab", "url": "https://github.com/elastic/elasticsearch/commit/f40ee9e4954123610dfb6972e8910d391e3f2bab", "message": "Words", "committedDate": "2020-08-10T20:40:58Z", "type": "commit"}, {"oid": "87a889e1da5c6ba0d1c007de0b0dc6507b351a36", "url": "https://github.com/elastic/elasticsearch/commit/87a889e1da5c6ba0d1c007de0b0dc6507b351a36", "message": "Iter", "committedDate": "2020-08-10T20:46:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODE4OTk4Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60933#discussion_r468189987", "bodyText": "s/needs/needed by/", "author": "romseygeek", "createdAt": "2020-08-10T21:15:08Z", "path": "server/src/main/java/org/elasticsearch/index/mapper/Mapper.java", "diffHunk": "@@ -146,14 +150,21 @@ public DateFormatter getDateFormatter() {\n \n             protected Function<String, SimilarityProvider> similarityLookupService() { return similarityLookupService; }\n \n+            /**\n+             * The {@linkplain ScriptService} to compile scripts needs by the {@linkplain Mapper}.", "originalCommit": "87a889e1da5c6ba0d1c007de0b0dc6507b351a36", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d97bdd591977f526a93ea2c212af6af4e4389627", "url": "https://github.com/elastic/elasticsearch/commit/d97bdd591977f526a93ea2c212af6af4e4389627", "message": "Grammar is hard", "committedDate": "2020-08-10T21:34:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQ4NTY5Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60933#discussion_r470485697", "bodyText": "I was wondering if it would be possible to have some other way of testing this besides a yaml test, a single node test would also be good I think", "author": "javanna", "createdAt": "2020-08-14T08:31:32Z", "path": "x-pack/plugin/src/test/resources/rest-api-spec/test/runtime_fields/10_keyword.yml", "diffHunk": "@@ -162,3 +162,22 @@ setup:\n                 query: Monday\n                 analyzer: standard\n   - match: {hits.total.value: 0}\n+\n+---\n+\"dynamic mapping update\":\n+  - do:\n+      bulk:\n+        index: sensor\n+        refresh: true\n+        body: |\n+          {\"index\":{}}\n+          {\"animal\": \"cow\"}\n+  - do:\n+      search:\n+        index: sensor\n+        body:\n+          query:\n+            match:\n+              animal: cow\n+  - match: {hits.total.value: 1}\n+  - match: {hits.hits.0._source.animal: cow}", "originalCommit": "d97bdd591977f526a93ea2c212af6af4e4389627", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}