{"pr_number": 63609, "pr_title": "Add the missing apikey.* fields to the logfile audit layout for docker builds", "pr_createdAt": "2020-10-13T13:51:22Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/63609", "timeline": [{"oid": "0b16a7d9a97be39d62a31e727b9eadc1de40c87c", "url": "https://github.com/elastic/elasticsearch/commit/0b16a7d9a97be39d62a31e727b9eadc1de40c87c", "message": "log4j2 fix", "committedDate": "2020-10-13T13:40:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2OTk4OA==", "url": "https://github.com/elastic/elasticsearch/pull/63609#discussion_r503969988", "bodyText": "This is only a reordering to keep the field names that share a prefix together.", "author": "albertzaharovits", "createdAt": "2020-10-13T13:52:27Z", "path": "x-pack/plugin/core/src/main/config/log4j2.properties", "diffHunk": "@@ -11,17 +11,17 @@ appender.audit_rolling.layout.pattern = {\\\n                 %varsNotEmpty{, \"host.ip\":\"%enc{%map{host.ip}}{JSON}\"}\\\n                 %varsNotEmpty{, \"event.type\":\"%enc{%map{event.type}}{JSON}\"}\\\n                 %varsNotEmpty{, \"event.action\":\"%enc{%map{event.action}}{JSON}\"}\\\n+                %varsNotEmpty{, \"authentication.type\":\"%enc{%map{authentication.type}}{JSON}\"}\\\n                 %varsNotEmpty{, \"user.name\":\"%enc{%map{user.name}}{JSON}\"}\\\n                 %varsNotEmpty{, \"user.run_by.name\":\"%enc{%map{user.run_by.name}}{JSON}\"}\\\n                 %varsNotEmpty{, \"user.run_as.name\":\"%enc{%map{user.run_as.name}}{JSON}\"}\\\n                 %varsNotEmpty{, \"user.realm\":\"%enc{%map{user.realm}}{JSON}\"}\\\n                 %varsNotEmpty{, \"user.run_by.realm\":\"%enc{%map{user.run_by.realm}}{JSON}\"}\\\n                 %varsNotEmpty{, \"user.run_as.realm\":\"%enc{%map{user.run_as.realm}}{JSON}\"}\\\n+                %varsNotEmpty{, \"user.roles\":%map{user.roles}}\\\n                 %varsNotEmpty{, \"apikey.id\":\"%enc{%map{apikey.id}}{JSON}\"}\\\n                 %varsNotEmpty{, \"apikey.name\":\"%enc{%map{apikey.name}}{JSON}\"}\\\n-                %varsNotEmpty{, \"user.roles\":%map{user.roles}}\\\n                 %varsNotEmpty{, \"origin.type\":\"%enc{%map{origin.type}}{JSON}\"}\\\n-                %varsNotEmpty{, \"authentication.type\":\"%enc{%map{authentication.type}}{JSON}\"}\\\n                 %varsNotEmpty{, \"origin.address\":\"%enc{%map{origin.address}}{JSON}\"}\\", "originalCommit": "0b16a7d9a97be39d62a31e727b9eadc1de40c87c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}