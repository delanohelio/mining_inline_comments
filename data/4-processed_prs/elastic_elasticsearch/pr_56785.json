{"pr_number": 56785, "pr_title": "[DOCS] Add search pagination docs", "pr_createdAt": "2020-05-14T17:43:36Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56785", "timeline": [{"oid": "08951c088d7583889fcfc321cfcd8a141329caa7", "url": "https://github.com/elastic/elasticsearch/commit/08951c088d7583889fcfc321cfcd8a141329caa7", "message": "[DOCS] Add search pagination docs\n\nReworks the `from / size` content to `Paginate search results`.\n\nMoves those docs from the request body search API page (slated for\ndeletion) to the `Run a search` tutorial docs.\n\nAlso adds some notes to the `from` and `size` param docs.", "committedDate": "2020-05-14T17:39:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ1NDM1Mg==", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425454352", "bodyText": "If you're trying to get away from the \"hits\" terminology, maybe \"the top ten matching documents\". We use \"search results\" as a collective term, so that reads a little odd to me.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            By default, the search API returns documents for only the top 10 search\n          \n          \n            \n            results, starting with the first, most relevant document.\n          \n          \n            \n            By default, the search API returns the top 10 matching documents, \n          \n          \n            \n            starting with the most-relevant document.", "author": "debadair", "createdAt": "2020-05-14T21:57:55Z", "path": "docs/reference/search/request/from-size.asciidoc", "diffHunk": "@@ -1,29 +1,45 @@\n-[[request-body-search-from-size]]\n-==== From / Size\n+[discrete]\n+[[paginate-search-results]]\n+=== Paginate search results\n \n-Pagination of results can be done by using the `from` and `size`\n-parameters. The `from` parameter defines the offset from the first\n-result you want to fetch. The `size` parameter allows you to configure\n-the maximum amount of hits to be returned.\n+By default, the search API returns documents for only the top 10 search\n+results, starting with the first, most relevant document.", "originalCommit": "08951c088d7583889fcfc321cfcd8a141329caa7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc3NjU0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425776549", "bodyText": "I meant to comment on this!\nI think \"search result\" tends to be a more intuitive term than \"hit\" -- but I don't see us getting rid of either in the near term. It's sort of a similar synonym situation with \"token\" and \"term.\"\nHowever, I also know that \"search results\" can be a more loaded term while \"hit\" can be more narrowly defined.\nThat said, I don't have a strong preference. If you lean toward one or the other, please let me know. There could be other impacts I haven't considered. I can update the changes here to use \"hit/hits\" if wanted.", "author": "jrodewig", "createdAt": "2020-05-15T12:46:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ1NDM1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ2ODU1OQ==", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425468559", "bodyText": "\"Offset from the first result you want to fetch\" doesn't make sense. It's an offset from the beginning of the result set. The Definitive Guide  called it \"the number of initial results you want to skip\". That seems a little convoluted--it's really just the document you want to start with.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To paginate a larger set of search results, you can use the search API's `size`\n          \n          \n            \n            and `from` parameters. The `from` parameter is a zero-indexed offset from\n          \n          \n            \n            the first result you want to fetch. The `size` parameter sets the maximum\n          \n          \n            \n            number of results to return.\n          \n          \n            \n            To paginate through a larger set of results, you can use the search API's `size`\n          \n          \n            \n            and `from` parameters. The `size` parameter is the number of matching documents to return. The `from` parameter is a zero-indexed offset from the beginning of the complete result set that indicates the document you want to start with.", "author": "debadair", "createdAt": "2020-05-14T22:35:49Z", "path": "docs/reference/search/request/from-size.asciidoc", "diffHunk": "@@ -1,29 +1,45 @@\n-[[request-body-search-from-size]]\n-==== From / Size\n+[discrete]\n+[[paginate-search-results]]\n+=== Paginate search results\n \n-Pagination of results can be done by using the `from` and `size`\n-parameters. The `from` parameter defines the offset from the first\n-result you want to fetch. The `size` parameter allows you to configure\n-the maximum amount of hits to be returned.\n+By default, the search API returns documents for only the top 10 search\n+results, starting with the first, most relevant document.\n \n-Though `from` and `size` can be set as request parameters, they can also\n-be set within the search body. `from` defaults to `0`, and `size`\n-defaults to `10`.\n+To paginate a larger set of search results, you can use the search API's `size`\n+and `from` parameters. The `from` parameter is a zero-indexed offset from\n+the first result you want to fetch. The `size` parameter sets the maximum\n+number of results to return.", "originalCommit": "08951c088d7583889fcfc321cfcd8a141329caa7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MDczNA==", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425470734", "bodyText": "I think the point here is that by default, you can page through a maximum of 10,000 documents. I'd say that, and then xref the settings, but probably not as a note. Instead,\nI'd pull some of the cautionary info about deep paging into an important note from the definitive guide.", "author": "debadair", "createdAt": "2020-05-14T22:42:23Z", "path": "docs/reference/search/request/from-size.asciidoc", "diffHunk": "@@ -1,29 +1,45 @@\n-[[request-body-search-from-size]]\n-==== From / Size\n+[discrete]\n+[[paginate-search-results]]\n+=== Paginate search results\n \n-Pagination of results can be done by using the `from` and `size`\n-parameters. The `from` parameter defines the offset from the first\n-result you want to fetch. The `size` parameter allows you to configure\n-the maximum amount of hits to be returned.\n+By default, the search API returns documents for only the top 10 search\n+results, starting with the first, most relevant document.\n \n-Though `from` and `size` can be set as request parameters, they can also\n-be set within the search body. `from` defaults to `0`, and `size`\n-defaults to `10`.\n+To paginate a larger set of search results, you can use the search API's `size`\n+and `from` parameters. The `from` parameter is a zero-indexed offset from\n+the first result you want to fetch. The `size` parameter sets the maximum\n+number of results to return.\n+\n+[IMPORTANT]\n+====\n+The combined document count, including offset and and returned documents, for\n+the `from` and `size` parameters cannot exceed the\n+<<index-max-result-window,`index.max_result_window`>> index setting, which\n+defaults to 10,000 documents.\n+====", "originalCommit": "08951c088d7583889fcfc321cfcd8a141329caa7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MTM3MA==", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425471370", "bodyText": "Some combo of only being able to page through 10k docs by default and the warning about deep paging would need to go replace these admonitions, as well.", "author": "debadair", "createdAt": "2020-05-14T22:44:28Z", "path": "docs/reference/search/search.asciidoc", "diffHunk": "@@ -87,6 +87,14 @@ both parameters are specified, only the query parameter is used.\n include::{docdir}/rest-api/common-parms.asciidoc[tag=from]\n +\n --\n+[IMPORTANT]", "originalCommit": "08951c088d7583889fcfc321cfcd8a141329caa7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "89d0d53081b92638518372acefb6684ea25bbf12", "url": "https://github.com/elastic/elasticsearch/commit/89d0d53081b92638518372acefb6684ea25bbf12", "message": "Update docs/reference/search/request/from-size.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>", "committedDate": "2020-05-15T12:07:19Z", "type": "commit"}, {"oid": "70c1d65f06856c185739364d21316a89d4c0dd0b", "url": "https://github.com/elastic/elasticsearch/commit/70c1d65f06856c185739364d21316a89d4c0dd0b", "message": "Update docs/reference/search/request/from-size.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>", "committedDate": "2020-05-15T12:07:35Z", "type": "commit"}, {"oid": "a1d3c9f3feea679293b2c62158e597b0bbc6426c", "url": "https://github.com/elastic/elasticsearch/commit/a1d3c9f3feea679293b2c62158e597b0bbc6426c", "message": "review feedback", "committedDate": "2020-05-15T12:25:01Z", "type": "commit"}, {"oid": "f2800ccf2a21ce3eecfc6bd6ba4c43fa674f9a94", "url": "https://github.com/elastic/elasticsearch/commit/f2800ccf2a21ce3eecfc6bd6ba4c43fa674f9a94", "message": "rewords", "committedDate": "2020-05-15T18:37:06Z", "type": "commit"}]}