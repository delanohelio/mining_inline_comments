{"pr_number": 56230, "pr_title": "Retry failed replication due to transient errors", "pr_createdAt": "2020-05-05T16:36:08Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56230", "timeline": [{"oid": "66c6582ce4d6eb0cd6429bfd867d8b1139d05c9d", "url": "https://github.com/elastic/elasticsearch/commit/66c6582ce4d6eb0cd6429bfd867d8b1139d05c9d", "message": "Retry failed replication due to transient errors (#55633)\n\nCurrently a failed replication action will fail an entire replica. This\nincludes when replication fails due to potentially short lived transient\nissues such as network distruptions or circuit breaking errors.\n\nThis commit implements retries using the retryable action.", "committedDate": "2020-05-05T16:34:26Z", "type": "commit"}, {"oid": "81946fce6ce03578781a4ab39c706bf808215a00", "url": "https://github.com/elastic/elasticsearch/commit/81946fce6ce03578781a4ab39c706bf808215a00", "message": "Merge remote-tracking branch 'upstream/7.x' into backport_replication_retries", "committedDate": "2020-06-17T15:09:45Z", "type": "commit"}, {"oid": "2520d69c9582d6b0fbb3a43d10170b2a48ba89e2", "url": "https://github.com/elastic/elasticsearch/commit/2520d69c9582d6b0fbb3a43d10170b2a48ba89e2", "message": "0", "committedDate": "2020-06-17T15:13:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyNzEyOA==", "url": "https://github.com/elastic/elasticsearch/pull/56230#discussion_r441627128", "bodyText": "I have adjusted this to 0 to disable retries until back pressure is implemented.", "author": "tbrooks8", "createdAt": "2020-06-17T15:17:19Z", "path": "server/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java", "diffHunk": "@@ -96,6 +98,21 @@\n             Response extends ReplicationResponse\n         > extends TransportAction<Request, Response> {\n \n+    /**\n+     * The timeout for retrying replication requests.\n+     */\n+    public static final Setting<TimeValue> REPLICATION_RETRY_TIMEOUT =\n+        Setting.timeSetting(\"indices.replication.retry_timeout\", TimeValue.timeValueSeconds(0), Setting.Property.Dynamic,", "originalCommit": "2520d69c9582d6b0fbb3a43d10170b2a48ba89e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}