{"pr_number": 58116, "pr_title": "Unify dependency licenses task configuration", "pr_createdAt": "2020-06-15T14:33:16Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/58116", "timeline": [{"oid": "772ddf6c1b872391c40a353e9e7bf4e389c61d98", "url": "https://github.com/elastic/elasticsearch/commit/772ddf6c1b872391c40a353e9e7bf4e389c61d98", "message": "Unify dependency licenses task configuration\n\n- Remove duplicate dependency configuration\n- Use task avoidance api accross the build", "committedDate": "2020-06-15T14:30:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDIyMDgzMw==", "url": "https://github.com/elastic/elasticsearch/pull/58116#discussion_r440220833", "bodyText": "This can be removed safely as it mimics the default task / plugin behaviour", "author": "breskeby", "createdAt": "2020-06-15T14:34:15Z", "path": "client/rest-high-level/build.gradle", "diffHunk": "@@ -65,14 +65,6 @@ processTestResources {\n   from(project(':client:rest-high-level').file('src/test/resources'))\n }\n \n-dependencyLicenses {\n-  // Don't check licenses for dependency that are part of the elasticsearch project\n-  // But any other dependency should have its license/notice/sha1\n-  dependencies = project.configurations.runtime.fileCollection {\n-    it.group.startsWith('org.elasticsearch') == false\n-  }\n-}", "originalCommit": "772ddf6c1b872391c40a353e9e7bf4e389c61d98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDI5OA==", "url": "https://github.com/elastic/elasticsearch/pull/58116#discussion_r440390298", "bodyText": "Is this necessary at all? We shouldn't need to exclude any ES internal dependencies?", "author": "rjernst", "createdAt": "2020-06-15T19:14:09Z", "path": "x-pack/plugin/search-business-rules/build.gradle", "diffHunk": "@@ -21,7 +21,7 @@ dependencies {\n }\n \n // copied from CCR\n-dependencyLicenses {\n+tasks.named(\"dependencyLicenses\").configure {\n   ignoreSha 'x-pack-core'", "originalCommit": "772ddf6c1b872391c40a353e9e7bf4e389c61d98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM1ODQzMw==", "url": "https://github.com/elastic/elasticsearch/pull/58116#discussion_r441358433", "bodyText": "Since we ignore all org.elasticsearch*artifacts it shouldn't I guess. will remove the unrequired es related configs too", "author": "breskeby", "createdAt": "2020-06-17T08:04:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDI5OA=="}], "type": "inlineReview"}, {"oid": "e4e74c70f1a02305091e1a9221c6f262c5573d95", "url": "https://github.com/elastic/elasticsearch/commit/e4e74c70f1a02305091e1a9221c6f262c5573d95", "message": "Remove redundant licensesCheck config", "committedDate": "2020-06-17T08:39:06Z", "type": "commit"}]}