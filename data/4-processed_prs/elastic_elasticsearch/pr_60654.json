{"pr_number": 60654, "pr_title": "[DOCS] Include reference to AWS VPC endpoints in s3 repository docs. ", "pr_createdAt": "2020-08-04T14:42:20Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60654", "timeline": [{"oid": "d6b5765d1dab5bc9fc61b2d79ba5d65bee012c3b", "url": "https://github.com/elastic/elasticsearch/commit/d6b5765d1dab5bc9fc61b2d79ba5d65bee012c3b", "message": "[DOCS] Include reference to AWS VPC endpoints in s3 repository docs.", "committedDate": "2020-08-04T14:37:43Z", "type": "commit"}, {"oid": "e27fc7eeec170cb4f83732fc7c3b1f354fc98063", "url": "https://github.com/elastic/elasticsearch/commit/e27fc7eeec170cb4f83732fc7c3b1f354fc98063", "message": "Add VPC endpoint as the recommended way of connecting to s3.", "committedDate": "2020-08-05T14:22:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTc4NTAyMA==", "url": "https://github.com/elastic/elasticsearch/pull/60654#discussion_r465785020", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            limitations. A recommended alternative is creating a https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html[VPC endpoint]\n          \n          \n            \n            limitations. Instead we recommend creating a https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html[VPC endpoint]", "author": "DaveCTurner", "createdAt": "2020-08-05T14:50:52Z", "path": "docs/plugins/repository-s3.asciidoc", "diffHunk": "@@ -440,10 +440,13 @@ create the bucket then the repository registration will fail.\n \n AWS instances resolve S3 endpoints to a public IP. If the Elasticsearch\n instances reside in a private subnet in an AWS VPC then all traffic to S3 will\n-go through that VPC's NAT instance. If your VPC's NAT instance is a smaller\n-instance size (e.g. a t1.micro) or is handling a high volume of network traffic\n+go through the VPC's NAT instance. If your VPC's NAT instance is a smaller\n+instance size (e.g. a t2.micro) or is handling a high volume of network traffic\n your bandwidth to S3 may be limited by that NAT instance's networking bandwidth\n-limitations.\n+limitations. A recommended alternative is creating a https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html[VPC endpoint]", "originalCommit": "e27fc7eeec170cb4f83732fc7c3b1f354fc98063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTc4NTYwMw==", "url": "https://github.com/elastic/elasticsearch/pull/60654#discussion_r465785603", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            AWS VPC. This should elminate any limitations imposed by the VPC's NAT instance \n          \n          \n            \n            AWS VPC. This will eliminate any limitations imposed by the network bandwidth of your VPC's NAT instance.", "author": "DaveCTurner", "createdAt": "2020-08-05T14:51:42Z", "path": "docs/plugins/repository-s3.asciidoc", "diffHunk": "@@ -440,10 +440,13 @@ create the bucket then the repository registration will fail.\n \n AWS instances resolve S3 endpoints to a public IP. If the Elasticsearch\n instances reside in a private subnet in an AWS VPC then all traffic to S3 will\n-go through that VPC's NAT instance. If your VPC's NAT instance is a smaller\n-instance size (e.g. a t1.micro) or is handling a high volume of network traffic\n+go through the VPC's NAT instance. If your VPC's NAT instance is a smaller\n+instance size (e.g. a t2.micro) or is handling a high volume of network traffic\n your bandwidth to S3 may be limited by that NAT instance's networking bandwidth\n-limitations.\n+limitations. A recommended alternative is creating a https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html[VPC endpoint]\n+that enables connecting to S3 in instances that reside in a private subnet in an\n+AWS VPC. This should elminate any limitations imposed by the VPC's NAT instance ", "originalCommit": "e27fc7eeec170cb4f83732fc7c3b1f354fc98063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTc4NTY3NA==", "url": "https://github.com/elastic/elasticsearch/pull/60654#discussion_r465785674", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            network bandwith limitations.", "author": "DaveCTurner", "createdAt": "2020-08-05T14:51:48Z", "path": "docs/plugins/repository-s3.asciidoc", "diffHunk": "@@ -440,10 +440,13 @@ create the bucket then the repository registration will fail.\n \n AWS instances resolve S3 endpoints to a public IP. If the Elasticsearch\n instances reside in a private subnet in an AWS VPC then all traffic to S3 will\n-go through that VPC's NAT instance. If your VPC's NAT instance is a smaller\n-instance size (e.g. a t1.micro) or is handling a high volume of network traffic\n+go through the VPC's NAT instance. If your VPC's NAT instance is a smaller\n+instance size (e.g. a t2.micro) or is handling a high volume of network traffic\n your bandwidth to S3 may be limited by that NAT instance's networking bandwidth\n-limitations.\n+limitations. A recommended alternative is creating a https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html[VPC endpoint]\n+that enables connecting to S3 in instances that reside in a private subnet in an\n+AWS VPC. This should elminate any limitations imposed by the VPC's NAT instance \n+network bandwith limitations.", "originalCommit": "e27fc7eeec170cb4f83732fc7c3b1f354fc98063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "53fbdb13564d296a09e38c7c14b36a9be3567637", "url": "https://github.com/elastic/elasticsearch/commit/53fbdb13564d296a09e38c7c14b36a9be3567637", "message": "Update docs/plugins/repository-s3.asciidoc\n\nCo-authored-by: David Turner <david.turner@elastic.co>", "committedDate": "2020-08-05T14:54:31Z", "type": "commit"}, {"oid": "74c6a341fe9a6f5f924a6f274221651f3f67a7c1", "url": "https://github.com/elastic/elasticsearch/commit/74c6a341fe9a6f5f924a6f274221651f3f67a7c1", "message": "Update docs/plugins/repository-s3.asciidoc\n\nCo-authored-by: David Turner <david.turner@elastic.co>", "committedDate": "2020-08-05T14:54:49Z", "type": "commit"}, {"oid": "6ab59a39d1548f9ef92a33c80bc9c5618af44b1a", "url": "https://github.com/elastic/elasticsearch/commit/6ab59a39d1548f9ef92a33c80bc9c5618af44b1a", "message": "Update docs/plugins/repository-s3.asciidoc\n\nCo-authored-by: David Turner <david.turner@elastic.co>", "committedDate": "2020-08-05T14:55:03Z", "type": "commit"}]}