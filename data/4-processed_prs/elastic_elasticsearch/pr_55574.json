{"pr_number": 55574, "pr_title": "Clarify async search response flags", "pr_createdAt": "2020-04-22T10:01:08Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/55574", "timeline": [{"oid": "7a28709be569ddf9918b816c3157ec11ccf012e5", "url": "https://github.com/elastic/elasticsearch/commit/7a28709be569ddf9918b816c3157ec11ccf012e5", "message": "Clarify async search response flags\n\nRelates to #55572", "committedDate": "2020-04-22T09:59:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2Nzg4OA==", "url": "https://github.com/elastic/elasticsearch/pull/55574#discussion_r412867888", "bodyText": "should we add completed or failed ?", "author": "jimczi", "createdAt": "2020-04-22T10:35:20Z", "path": "docs/reference/search/async-search.asciidoc", "diffHunk": "@@ -80,12 +80,20 @@ results are returned as part of the <<search-api-response-body,`response`>> obje\n // TESTRESPONSE[s/\"relation\" : \"gte\"/\"relation\": $body.response.hits.total.relation/]\n // TESTRESPONSE[s/\"hits\" : \\[ \\]\\n\\s\\s\\s\\s\\}/\"hits\" : \\[\\]},\"aggregations\":  $body.response.aggregations/]\n \n-<1> Identifier of the async search that can be used to monitor its progress, retrieve its results, and/or delete it.\n-<2> Whether the returned search results are partial or final\n+<1> Identifier of the async search that can be used to monitor its progress,\n+retrieve its results, and/or delete it.\n+<2> Whether the returned search results are coming from all the shards that\n+the query was expected to hit\n <3> Whether the search is still being executed or it has completed", "originalCommit": "7a28709be569ddf9918b816c3157ec11ccf012e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg3MDY2OA==", "url": "https://github.com/elastic/elasticsearch/pull/55574#discussion_r412870668", "bodyText": "Something like \"whether all the shards that the query targets either completed or failed\". ?", "author": "javanna", "createdAt": "2020-04-22T10:39:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2Nzg4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg3MTk5MQ==", "url": "https://github.com/elastic/elasticsearch/pull/55574#discussion_r412871991", "bodyText": "I was more thinking of fatal failures so no mention of shards imo.", "author": "jimczi", "createdAt": "2020-04-22T10:41:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2Nzg4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg4MjAyMw==", "url": "https://github.com/elastic/elasticsearch/pull/55574#discussion_r412882023", "bodyText": "I rephrased it, I think this makes the naming of this parameter quite off though :) it could rather be failed", "author": "javanna", "createdAt": "2020-04-22T10:58:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2Nzg4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTAxNDU2MQ==", "url": "https://github.com/elastic/elasticsearch/pull/55574#discussion_r415014561", "bodyText": "reading again this explanation, I am no longer sure that I like it. It is perfectly fine to have partial responses while the query is running. The only case where is_partial set to true indicates that something has failed is when the query is no longer running (is_running set to false). I will rephrase, also I believe we should remove is_partial based on the conclusions I came to in #55572 .", "author": "javanna", "createdAt": "2020-04-25T08:32:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg2Nzg4OA=="}], "type": "inlineReview"}, {"oid": "984c8fb97f2cab058351c633dd475db07bc884f8", "url": "https://github.com/elastic/elasticsearch/commit/984c8fb97f2cab058351c633dd475db07bc884f8", "message": "review", "committedDate": "2020-04-22T10:56:54Z", "type": "commit"}, {"oid": "b0dd9462e12062d1dbf54ffe2d56c794517e4dac", "url": "https://github.com/elastic/elasticsearch/commit/b0dd9462e12062d1dbf54ffe2d56c794517e4dac", "message": "Merge branch 'master' into docs/async_search_is_running", "committedDate": "2020-04-28T09:29:56Z", "type": "commit"}, {"oid": "d93fa5b380a5efc6731e809e9efb38be473a128b", "url": "https://github.com/elastic/elasticsearch/commit/d93fa5b380a5efc6731e809e9efb38be473a128b", "message": "iter", "committedDate": "2020-04-28T09:37:18Z", "type": "commit"}]}