{"pr_number": 56436, "pr_title": "[DOCS] Relocate request body param docs to search API docs", "pr_createdAt": "2020-05-08T15:19:23Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56436", "timeline": [{"oid": "8be80556d024a03ad7a94224ff8784824e37024d", "url": "https://github.com/elastic/elasticsearch/commit/8be80556d024a03ad7a94224ff8784824e37024d", "message": "[DOCS] Relocate request body param docs to search API docs\n\nMoves documentation for the following request body parameters to the\nsearch API reference docs:\n\n* `explain`\n* `query`\n* `seq_no_primary_term`\n* `version`\n\nRemoves documentation for these parameters from the Request body search\npage[0].\n\n[0]: https://www.elastic.co/guide/en/elasticsearch/reference/master/search-request-body.html", "committedDate": "2020-05-08T15:09:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ4MjgzNg==", "url": "https://github.com/elastic/elasticsearch/pull/56436#discussion_r433482836", "bodyText": "I was just getting up to speed on the search docs improvements, they look great so far! One small comment: I wonder if we could pull these 'tips' into an overall note that says something like 'several options can be provided both as query parameters and in the request body. If the option is specified in both places, only the query parameter is used.'", "author": "jtibshirani", "createdAt": "2020-06-01T20:51:46Z", "path": "docs/reference/search/search.asciidoc", "diffHunk": "@@ -146,8 +154,17 @@ level settings.\n include::{docdir}/rest-api/common-parms.asciidoc[tag=search_type]\n \n `seq_no_primary_term`::\n-  (Optional, boolean) If `true`, returns sequence number and primary term of the\n-  last modification of each hit.\n++\n+--\n+(Optional, boolean) If `true`, returns sequence number and primary term of the\n+last modification of each hit. See <<optimistic-concurrency-control>>.\n+\n+[IMPORTANT]\n+====", "originalCommit": "8be80556d024a03ad7a94224ff8784824e37024d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ5MDUzNQ==", "url": "https://github.com/elastic/elasticsearch/pull/56436#discussion_r433490535", "bodyText": "++ Thanks for commenting @jtibshirani.\nThese notes are adding some unneeded bloat. I like the idea of adding a general note to the parameters section.\nWe can also add a footnote at the param level that links out without getting in the way too much. That way if users skip the note while searching for a particular param, they'll still get an indicator.\n\nI'll work on this.", "author": "jrodewig", "createdAt": "2020-06-01T21:06:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ4MjgzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUwODc4OA==", "url": "https://github.com/elastic/elasticsearch/pull/56436#discussion_r433508788", "bodyText": "Related PR: #57491", "author": "jrodewig", "createdAt": "2020-06-01T21:48:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ4MjgzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUyNTA2NA==", "url": "https://github.com/elastic/elasticsearch/pull/56436#discussion_r433525064", "bodyText": "Would there be a reference + footnote for each parameter section? For me even this might be too much -- it seems very unusual (and in fact would be a bad practice) to pass the same parameter in two places. I'm not even sure why we have so much overlap in the API between query and request parameters. Maybe it's best to not emphasize it and just think of the 'IMPORTANT: ...' note you added as helpful debugging information when you accidentally specify the parameter in two places.", "author": "jtibshirani", "createdAt": "2020-06-01T22:34:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ4MjgzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg0MjAwMA==", "url": "https://github.com/elastic/elasticsearch/pull/56436#discussion_r433842000", "bodyText": "Thanks for the feedback @jtibshirani. My only concern would be people accidentally skipping the IMPORTANT note, but you're right -- ideally users shouldn't be specifying both in any case. Also agree that removing some of the overlap in the API would be best in the long term, but that's a separate issue from the docs.\nI'll revise #57491 to only use an important note and ditch the footnote plan. Thanks again for your feedback!", "author": "jrodewig", "createdAt": "2020-06-02T12:37:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ4MjgzNg=="}], "type": "inlineReview"}]}