{"pr_number": 57834, "pr_title": "[DOCS] Fix obsolete Slack setup info", "pr_createdAt": "2020-06-08T18:31:52Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57834", "timeline": [{"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449", "url": "https://github.com/elastic/elasticsearch/commit/b77bcce419d82e15613ad035d15bc482dd6f7449", "message": "Update slack.asciidoc\n\nSlack no longer recommends the legacy \"integrations\" setup (https://api.slack.com/legacy/custom-integrations/incoming-webhooks).  Updated documentation to reference https://api.slack.com/messaging/webhooks instead.  \r\n\r\nRemoved screenshots from our documentation related to Slack setup.  We should avoid these screenshots (and simply point to Slack documentation) for Slack may change the instructions/their UI in the future.\r\n\r\nAlso, added a short note on the use case of notifying multiple Slack channels.", "committedDate": "2020-06-08T18:30:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MjczMA==", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r436962730", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n          \n          \n            \n            You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature]", "author": "lcawl", "createdAt": "2020-06-08T19:53:35Z", "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -181,20 +181,8 @@ aggregation and the Slack action:\n You configure the accounts {watcher} can use to communicate with Slack in the\n `xpack.notification.slack` namespace in `elasticsearch.yml`.\n \n-You need a https://api.slack.com/incoming-webhooks[Slack webhook URL] to \n-configure a Slack account. To create a webhook\n-URL, set up an an _Incoming Webhook Integration_ through the Slack console:\n-\n-. Log in to http://slack.com[slack.com] as a team administrator.\n-. Go to https://my.slack.com/services/new/incoming-webhook.\n-. Select a default channel for the integration.\n-+\n-image::images/slack-add-webhook-integration.jpg[]\n-. Click *Add Incoming Webhook Integration*.\n-. Copy the generated webhook URL so you can paste it into your Slack account\n-  configuration in `elasticsearch.yml`.\n-+\n-image::images/slack-copy-webhook-url.jpg[]\n+You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] ", "originalCommit": "b77bcce419d82e15613ad035d15bc482dd6f7449", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ee724046a50b286e4040a4009e4df834c32bed14", "url": "https://github.com/elastic/elasticsearch/commit/ee724046a50b286e4040a4009e4df834c32bed14", "message": "Update x-pack/docs/en/watcher/actions/slack.asciidoc\n\nCo-authored-by: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-11-24T16:15:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTcwMTAyMA==", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r529701020", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.\n          \n          \n            \n            You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in {es}.", "author": "jrodewig", "createdAt": "2020-11-24T16:15:52Z", "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -181,20 +181,8 @@ aggregation and the Slack action:\n You configure the accounts {watcher} can use to communicate with Slack in the\n `xpack.notification.slack` namespace in `elasticsearch.yml`.\n \n-You need a https://api.slack.com/incoming-webhooks[Slack webhook URL] to \n-configure a Slack account. To create a webhook\n-URL, set up an an _Incoming Webhook Integration_ through the Slack console:\n-\n-. Log in to http://slack.com[slack.com] as a team administrator.\n-. Go to https://my.slack.com/services/new/incoming-webhook.\n-. Select a default channel for the integration.\n-+\n-image::images/slack-add-webhook-integration.jpg[]\n-. Click *Add Incoming Webhook Integration*.\n-. Copy the generated webhook URL so you can paste it into your Slack account\n-  configuration in `elasticsearch.yml`.\n-+\n-image::images/slack-copy-webhook-url.jpg[]\n+You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n+to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.", "originalCommit": "b77bcce419d82e15613ad035d15bc482dd6f7449", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTcwMTIyNQ==", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r529701225", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To notify multiple channels, create a webhook URL for each channel in Slack \n          \n          \n            \n            and multiple Slack accounts in Elasticsearch (one for each webhook URL).\n          \n          \n            \n            To notify multiple channels, create a webhook URL for each channel in Slack \n          \n          \n            \n            and multiple Slack accounts in {es} (one for each webhook URL).", "author": "jrodewig", "createdAt": "2020-11-24T16:16:01Z", "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -231,6 +219,9 @@ xpack.notification.slack:\n           mrkdwn_in: \"pretext, text\"\n --------------------------------------------------\n \n+To notify multiple channels, create a webhook URL for each channel in Slack \n+and multiple Slack accounts in Elasticsearch (one for each webhook URL).", "originalCommit": "b77bcce419d82e15613ad035d15bc482dd6f7449", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTcwMTY4Mw==", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r529701683", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.\n          \n          \n            \n            You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in {es}.", "author": "jrodewig", "createdAt": "2020-11-24T16:16:25Z", "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -181,20 +181,8 @@ aggregation and the Slack action:\n You configure the accounts {watcher} can use to communicate with Slack in the\n `xpack.notification.slack` namespace in `elasticsearch.yml`.\n \n-You need a https://api.slack.com/incoming-webhooks[Slack webhook URL] to \n-configure a Slack account. To create a webhook\n-URL, set up an an _Incoming Webhook Integration_ through the Slack console:\n-\n-. Log in to http://slack.com[slack.com] as a team administrator.\n-. Go to https://my.slack.com/services/new/incoming-webhook.\n-. Select a default channel for the integration.\n-+\n-image::images/slack-add-webhook-integration.jpg[]\n-. Click *Add Incoming Webhook Integration*.\n-. Copy the generated webhook URL so you can paste it into your Slack account\n-  configuration in `elasticsearch.yml`.\n-+\n-image::images/slack-copy-webhook-url.jpg[]\n+You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature] \n+to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.", "originalCommit": "ee724046a50b286e4040a4009e4df834c32bed14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5ab0a0e485e27560bc5d57c31242c07a29c293a7", "url": "https://github.com/elastic/elasticsearch/commit/5ab0a0e485e27560bc5d57c31242c07a29c293a7", "message": "Apply suggestions from code review", "committedDate": "2020-11-24T16:16:35Z", "type": "commit"}, {"oid": "f0d8ce4380186eb6dc9f47ebb841e198cdc52dab", "url": "https://github.com/elastic/elasticsearch/commit/f0d8ce4380186eb6dc9f47ebb841e198cdc52dab", "message": "Merge branch 'master' into ppf2-improve-slack-setup-2", "committedDate": "2020-11-24T16:27:53Z", "type": "commit"}]}