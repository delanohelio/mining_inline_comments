{"pr_number": 54198, "pr_title": "Async search: rename REST parameters", "pr_createdAt": "2020-03-25T15:43:34Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/54198", "timeline": [{"oid": "b55fb334ef736282713b010fa5511a07734791af", "url": "https://github.com/elastic/elasticsearch/commit/b55fb334ef736282713b010fa5511a07734791af", "message": "Async search: rename REST parameters\n\nThis commit renames wait_for_completion to wait_for_completion_timeout in submit async search and get async search.\nAlso it renames clean_on_completion to keep_on_completion and turns around its behaviour.\n\nCloses #54069", "committedDate": "2020-03-25T15:36:03Z", "type": "commit"}, {"oid": "af51c146c3d618c4ca1327e2bc8045e6b3afa5a1", "url": "https://github.com/elastic/elasticsearch/commit/af51c146c3d618c4ca1327e2bc8045e6b3afa5a1", "message": "docs", "committedDate": "2020-03-25T15:43:27Z", "type": "commit"}, {"oid": "db3ad9b9a71ef8cb628c7f8cdbb6e17b3f0d89de", "url": "https://github.com/elastic/elasticsearch/commit/db3ad9b9a71ef8cb628c7f8cdbb6e17b3f0d89de", "message": "fix test", "committedDate": "2020-03-25T15:45:20Z", "type": "commit"}, {"oid": "900bc67f8ae61020222a7860b25b84db4839b454", "url": "https://github.com/elastic/elasticsearch/commit/900bc67f8ae61020222a7860b25b84db4839b454", "message": "fix hlrc", "committedDate": "2020-03-25T16:13:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM4NjMxMg==", "url": "https://github.com/elastic/elasticsearch/pull/54198#discussion_r398386312", "bodyText": "The default is set to 1s currently.", "author": "jimczi", "createdAt": "2020-03-26T08:19:02Z", "path": "docs/reference/search/async-search.asciidoc", "diffHunk": "@@ -193,11 +193,12 @@ first.\n <6> Partial aggregations results, coming from the shards that have already\n completed the execution of the query.\n \n-The `wait_for_completion` parameter, which defaults to `1`, can also be provided\n-when calling the Get Async Search API, in order to wait for the search to be\n-completed up until the provided timeout. Final results will be returned if\n-available before the timeout expires, otherwise the currently available results\n-will be returned once the timeout expires.\n+The `wait_for_completion_timeout` parameter can also be provided when calling\n+the Get Async Search API, in order to wait for the search to be completed up\n+until the provided timeout. Final results will be returned if available before\n+the timeout expires, otherwise the currently available results will be\n+returned once the timeout expires. By default no timeout is set meaning that", "originalCommit": "900bc67f8ae61020222a7860b25b84db4839b454", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM5MTcxMg==", "url": "https://github.com/elastic/elasticsearch/pull/54198#discussion_r398391712", "bodyText": "for get? Am I misreading the default in the request?", "author": "javanna", "createdAt": "2020-03-26T08:28:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM4NjMxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM5Mzg2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/54198#discussion_r398393863", "bodyText": "ah right only the submit has the default, sorry.", "author": "jimczi", "createdAt": "2020-03-26T08:32:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM4NjMxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM4NjUyMQ==", "url": "https://github.com/elastic/elasticsearch/pull/54198#discussion_r398386521", "bodyText": "the default is still 1s ?", "author": "jimczi", "createdAt": "2020-03-26T08:19:28Z", "path": "x-pack/plugin/src/test/resources/rest-api-spec/api/async_search.get.json", "diffHunk": "@@ -21,15 +21,13 @@\n       ]\n     },\n     \"params\":{\n-      \"wait_for_completion\":{\n+      \"wait_for_completion_timeout\":{\n         \"type\":\"time\",\n-        \"description\":\"Specify the time that the request should block waiting for the final response\",\n-        \"default\": \"1s\"\n+        \"description\":\"Specify the time that the request should block waiting for the final response\"", "originalCommit": "900bc67f8ae61020222a7860b25b84db4839b454", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM5Mzk1MA==", "url": "https://github.com/elastic/elasticsearch/pull/54198#discussion_r398393950", "bodyText": "same as above", "author": "jimczi", "createdAt": "2020-03-26T08:32:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM4NjUyMQ=="}], "type": "inlineReview"}]}