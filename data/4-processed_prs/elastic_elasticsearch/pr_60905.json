{"pr_number": 60905, "pr_title": "Minor network docs fixes", "pr_createdAt": "2020-08-10T14:16:01Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60905", "timeline": [{"oid": "3f9d69059aef2a1aed5a46fdda5b38c3bfaef8ea", "url": "https://github.com/elastic/elasticsearch/commit/3f9d69059aef2a1aed5a46fdda5b38c3bfaef8ea", "message": "Minor network docs fixes\n\nFollowup to #60216, fixing the formatting of\n`transport.tcp.reuse_address` and clarifying some wording around the\ndistinction between the transport and HTTP layers.", "committedDate": "2020-08-10T14:14:09Z", "type": "commit"}, {"oid": "beb298e94a5ffc5a65e4ee6e89dc861d23beef9e", "url": "https://github.com/elastic/elasticsearch/commit/beb298e94a5ffc5a65e4ee6e89dc861d23beef9e", "message": "More than one of them", "committedDate": "2020-08-10T14:22:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk2OTY0Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60905#discussion_r467969647", "bodyText": "I'm not sure I like the \"layer\" naming (neither no I like that we refer to modules). Can we just avoid these terms and sub-sectioning altogether and talk directly about what is being configured where? For example, \"Clients should typically communicate with Elasticsearch via <<modules-http,HTTP>>, while Elasticsearch nodes are internally using an internal protocol for inter-node communication, ...  Both HTTP and the internal protocol inherit the above settings, but can also be separately configured.", "author": "ywelsch", "createdAt": "2020-08-10T15:05:53Z", "path": "docs/reference/modules/network.asciidoc", "diffHunk": "@@ -163,18 +163,18 @@ The size of the TCP receive buffer (specified with <<size-units,size units>>).\n By default not explicitly set.\n \n [discrete]\n-=== Transport and HTTP protocols\n+=== HTTP and transport network layers\n \n-An Elasticsearch node exposes two network protocols which inherit the above\n-settings, but may be further configured independently:\n+An {es} node has two network layers which inherit the above settings:\n \n-TCP Transport::\n+HTTP network layer::\n \n-Used for communication between nodes in the cluster, by the Java\n-{javaclient}/transport-client.html[Transport client].\n-See <<modules-transport>>.\n+The <<modules-http,HTTP network layer>> exposes the JSON-over-HTTP interface\n+used by clients.\n \n-HTTP::\n+Transport network layer::", "originalCommit": "beb298e94a5ffc5a65e4ee6e89dc861d23beef9e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODAwNjM0OA==", "url": "https://github.com/elastic/elasticsearch/pull/60905#discussion_r468006348", "bodyText": "We need some kind of noun but I've tried to avoid it as much as possible in 919c84e. The fact that there are these two modules/layers/interfaces/whatever which are both subsidiary to the network thing we're discussing here is not well-understood and yet quite important for getting how it all fits together. I'd rather keep some formatting that makes it clear that there's these two separate things, although I've weakened it to a bulleted list.", "author": "DaveCTurner", "createdAt": "2020-08-10T15:51:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk2OTY0Nw=="}], "type": "inlineReview"}, {"oid": "919c84e39a1b62739f4ee55111d3c90b7cf4fb64", "url": "https://github.com/elastic/elasticsearch/commit/919c84e39a1b62739f4ee55111d3c90b7cf4fb64", "message": "Not an ogre, no layers here", "committedDate": "2020-08-10T15:46:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgyNjg3Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60905#discussion_r469826877", "bodyText": "perhaps: both methods of communication", "author": "ywelsch", "createdAt": "2020-08-13T09:38:42Z", "path": "docs/reference/modules/network.asciidoc", "diffHunk": "@@ -163,18 +163,19 @@ The size of the TCP receive buffer (specified with <<size-units,size units>>).\n By default not explicitly set.\n \n [discrete]\n-=== Transport and HTTP protocols\n+=== HTTP and transport network communication\n \n-An Elasticsearch node exposes two network protocols which inherit the above\n-settings, but may be further configured independently:\n+Each {es} node uses the network for two different kinds of communication:\n \n-TCP Transport::\n+* it exposes an <<modules-http,HTTP interface>> for use by clients.\n \n-Used for communication between nodes in the cluster, by the Java\n-{javaclient}/transport-client.html[Transport client].\n-See <<modules-transport>>.\n+* it exposes a <<modules-transport,transport interface>> for communication\n+between nodes within a cluster, for communication with a\n+<<modules-remote-clusters,remote cluster>>, and for the\n+{javaclient}/transport-client.html[Java Transport client] to communicate with a\n+cluster.\n \n-HTTP::\n-\n-Exposes the JSON-over-HTTP interface used by all clients.\n-See <<modules-http>>.\n\\ No newline at end of file\n+The network settings described above apply to both kinds of communication, and", "originalCommit": "919c84e39a1b62739f4ee55111d3c90b7cf4fb64", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgyNzQzOA==", "url": "https://github.com/elastic/elasticsearch/pull/60905#discussion_r469827438", "bodyText": "s/kinds/methods?", "author": "ywelsch", "createdAt": "2020-08-13T09:39:44Z", "path": "docs/reference/modules/network.asciidoc", "diffHunk": "@@ -163,18 +163,19 @@ The size of the TCP receive buffer (specified with <<size-units,size units>>).\n By default not explicitly set.\n \n [discrete]\n-=== Transport and HTTP protocols\n+=== HTTP and transport network communication\n \n-An Elasticsearch node exposes two network protocols which inherit the above\n-settings, but may be further configured independently:\n+Each {es} node uses the network for two different kinds of communication:", "originalCommit": "919c84e39a1b62739f4ee55111d3c90b7cf4fb64", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2e878faa86ce0ddbfd9a4d88997cdf2ce39bc799", "url": "https://github.com/elastic/elasticsearch/commit/2e878faa86ce0ddbfd9a4d88997cdf2ce39bc799", "message": "Merge branch '7.x' into 2020-08-10-network-docs-tweaks", "committedDate": "2020-08-13T11:52:50Z", "type": "commit"}, {"oid": "b25742a39a38c74a07b41cafb214d349722974b2", "url": "https://github.com/elastic/elasticsearch/commit/b25742a39a38c74a07b41cafb214d349722974b2", "message": "s/kind/method/g", "committedDate": "2020-08-13T11:53:29Z", "type": "commit"}]}