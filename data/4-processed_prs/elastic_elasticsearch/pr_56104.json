{"pr_number": 56104, "pr_title": "Add `visibility` the to rest-spec-api", "pr_createdAt": "2020-05-04T10:16:17Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56104", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyMzQzNQ==", "url": "https://github.com/elastic/elasticsearch/pull/56104#discussion_r419623435", "bodyText": "These APIs (the index template V2 stuff) is no longer behind a feature flag, see: #56123", "author": "dakrone", "createdAt": "2020-05-04T18:01:46Z", "path": "rest-api-spec/src/main/resources/rest-api-spec/api/indices.put_index_template.json", "diffHunk": "@@ -5,6 +5,8 @@\n       \"description\":\"Creates or updates an index template.\"\n     },\n     \"stability\":\"stable\",\n+    \"visibility\":\"feature_flag\",\n+    \"feature_flag\":\"es.itv2_feature_enabled\",", "originalCommit": "49cb189baa519d83b6b01133c82d70054fc53120", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTczMzY3OA==", "url": "https://github.com/elastic/elasticsearch/pull/56104#discussion_r465733678", "bodyText": "Updated, thanks @dakrone", "author": "Mpdreamz", "createdAt": "2020-08-05T13:39:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyMzQzNQ=="}], "type": "inlineReview"}, {"oid": "8d09e4247874875396913acf56da55a76224f002", "url": "https://github.com/elastic/elasticsearch/commit/8d09e4247874875396913acf56da55a76224f002", "message": "add `visibility` to rest-spec-api\n\nThis documents API intended exposure to the outside world.\n\n* `private`, API is not exposed on clients\n* `feature_flag` API is exposed on clients but clients can emit\ndocumentation on the fact its not available OOTB.\n* `public`, the API is publicly available in distributions.\n\n`visibility` does not replace `stability` as that only documents the\nstate of development for the API. An `experimental` API can be `public`\nand `stable` API's can be behind a `feature_flag`. There are currently\nno restrictions on this.", "committedDate": "2020-08-05T13:07:22Z", "type": "forcePushed"}, {"oid": "fac3f1d886a7225585628c1d69f8d27339a7d78f", "url": "https://github.com/elastic/elasticsearch/commit/fac3f1d886a7225585628c1d69f8d27339a7d78f", "message": "update spec", "committedDate": "2020-12-07T13:29:53Z", "type": "forcePushed"}, {"oid": "dd3e52e23f0a8f56af874c522c3adabb6d424612", "url": "https://github.com/elastic/elasticsearch/commit/dd3e52e23f0a8f56af874c522c3adabb6d424612", "message": "missed a test specification json not declaring visibility", "committedDate": "2020-12-08T12:33:45Z", "type": "forcePushed"}, {"oid": "b441fec151991cd90a8840a4de00f168f115afb9", "url": "https://github.com/elastic/elasticsearch/commit/b441fec151991cd90a8840a4de00f168f115afb9", "message": "update indice.promote_data_stream", "committedDate": "2020-12-10T13:29:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI2NTk2Nw==", "url": "https://github.com/elastic/elasticsearch/pull/56104#discussion_r540265967", "bodyText": "Nitpick:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  \"description\":\"The update transform definition\",\n          \n          \n            \n                  \"description\": \"The update transform definition\",", "author": "picandocodigo", "createdAt": "2020-12-10T15:33:51Z", "path": "x-pack/plugin/src/test/resources/rest-api-spec/api/data_frame_transform_deprecated.update_transform.json", "diffHunk": "@@ -38,7 +39,7 @@\n       }\n     },\n     \"body\":{\n-      \"description\" :\"The update transform definition\",\n+      \"description\":\"The update transform definition\",", "originalCommit": "b441fec151991cd90a8840a4de00f168f115afb9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d273c3186d022408d161c3740a6b4919eb732e3d", "url": "https://github.com/elastic/elasticsearch/commit/d273c3186d022408d161c3740a6b4919eb732e3d", "message": "add `visibility` to rest-spec-api\n\nThis documents API intended exposure to the outside world.\n\n* `private`, API is not exposed on clients\n* `feature_flag` API is exposed on clients but clients can emit\ndocumentation on the fact its not available OOTB.\n* `public`, the API is publicly available in distributions.\n\n`visibility` does not replace `stability` as that only documents the\nstate of development for the API. An `experimental` API can be `public`\nand `stable` API's can be behind a `feature_flag`. There are currently\nno restrictions on this.", "committedDate": "2020-12-14T10:30:01Z", "type": "commit"}, {"oid": "01102b230ac8e543745558e796d63e55b984e40e", "url": "https://github.com/elastic/elasticsearch/commit/01102b230ac8e543745558e796d63e55b984e40e", "message": "add visibility to new API's'", "committedDate": "2020-12-14T10:30:02Z", "type": "commit"}, {"oid": "e204acb5f54d65bde73076c882b8c6a059be2f44", "url": "https://github.com/elastic/elasticsearch/commit/e204acb5f54d65bde73076c882b8c6a059be2f44", "message": "update xpack specs visibilty", "committedDate": "2020-12-14T10:30:44Z", "type": "commit"}, {"oid": "cae0f4332a9bd7c20421f5634b46858142948c58", "url": "https://github.com/elastic/elasticsearch/commit/cae0f4332a9bd7c20421f5634b46858142948c58", "message": "update spec", "committedDate": "2020-12-14T10:30:44Z", "type": "commit"}, {"oid": "7efe23b09045a7423375a4e321b3a802acc2ced9", "url": "https://github.com/elastic/elasticsearch/commit/7efe23b09045a7423375a4e321b3a802acc2ced9", "message": "fix checkstyle", "committedDate": "2020-12-14T10:30:44Z", "type": "commit"}, {"oid": "71997eb5d17d19a4c1934efebacefb3358703a34", "url": "https://github.com/elastic/elasticsearch/commit/71997eb5d17d19a4c1934efebacefb3358703a34", "message": "schema now also validates feature_flag property is set, before only the parser validated this", "committedDate": "2020-12-14T10:30:45Z", "type": "commit"}, {"oid": "e36c0bd40c524dbd0afd6dc3b4050d7282472a6a", "url": "https://github.com/elastic/elasticsearch/commit/e36c0bd40c524dbd0afd6dc3b4050d7282472a6a", "message": "missed a test specification json not declaring visibility", "committedDate": "2020-12-14T10:30:45Z", "type": "commit"}, {"oid": "8c8ab07b0e5156b65d9274dfc9b1d31d552981f7", "url": "https://github.com/elastic/elasticsearch/commit/8c8ab07b0e5156b65d9274dfc9b1d31d552981f7", "message": "update indice.promote_data_stream", "committedDate": "2020-12-14T10:30:45Z", "type": "commit"}, {"oid": "8c8ab07b0e5156b65d9274dfc9b1d31d552981f7", "url": "https://github.com/elastic/elasticsearch/commit/8c8ab07b0e5156b65d9274dfc9b1d31d552981f7", "message": "update indice.promote_data_stream", "committedDate": "2020-12-14T10:30:45Z", "type": "forcePushed"}]}