{"pr_number": 58579, "pr_title": "[DOCS] Add simulate ref", "pr_createdAt": "2020-06-25T22:21:54Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/58579", "timeline": [{"oid": "8cbe636bbc39ba2c7334eff42d5b0b80b72e8ef7", "url": "https://github.com/elastic/elasticsearch/commit/8cbe636bbc39ba2c7334eff42d5b0b80b72e8ef7", "message": "[DOCS] Add simulate ref pages", "committedDate": "2020-06-25T23:13:55Z", "type": "forcePushed"}, {"oid": "43c2e56f8fc24ede49025f8dfdd6319e13456e5d", "url": "https://github.com/elastic/elasticsearch/commit/43c2e56f8fc24ede49025f8dfdd6319e13456e5d", "message": "[DOCS] Add simulate ref pages", "committedDate": "2020-06-25T23:58:26Z", "type": "forcePushed"}, {"oid": "c19895ca1d94d8255b9bce275af1c6c3c3a5431d", "url": "https://github.com/elastic/elasticsearch/commit/c19895ca1d94d8255b9bce275af1c6c3c3a5431d", "message": "[DOCS] Add simulate ref pages", "committedDate": "2020-06-29T22:54:15Z", "type": "commit"}, {"oid": "658d1ff5a6d92689202c191cd579e6d1bf67d233", "url": "https://github.com/elastic/elasticsearch/commit/658d1ff5a6d92689202c191cd579e6d1bf67d233", "message": "fix", "committedDate": "2020-06-29T22:54:16Z", "type": "forcePushed"}, {"oid": "78de93a8eb8ced82c64bb2a06d75248bad5933d5", "url": "https://github.com/elastic/elasticsearch/commit/78de93a8eb8ced82c64bb2a06d75248bad5933d5", "message": "Add links & experimental tags", "committedDate": "2020-06-30T21:51:54Z", "type": "commit"}, {"oid": "0c2f83689c9b66e998f010054fed6a05ced47fe4", "url": "https://github.com/elastic/elasticsearch/commit/0c2f83689c9b66e998f010054fed6a05ced47fe4", "message": "Test fix", "committedDate": "2020-06-30T21:51:54Z", "type": "commit"}, {"oid": "0c2f83689c9b66e998f010054fed6a05ced47fe4", "url": "https://github.com/elastic/elasticsearch/commit/0c2f83689c9b66e998f010054fed6a05ced47fe4", "message": "Test fix", "committedDate": "2020-06-30T21:51:54Z", "type": "forcePushed"}, {"oid": "8740e3d8358b032829a5833ee69be136d7670d7f", "url": "https://github.com/elastic/elasticsearch/commit/8740e3d8358b032829a5833ee69be136d7670d7f", "message": "Fixed response", "committedDate": "2020-06-30T23:32:02Z", "type": "commit"}, {"oid": "049424f8e4985b561032e047c7f15cf41eae1465", "url": "https://github.com/elastic/elasticsearch/commit/049424f8e4985b561032e047c7f15cf41eae1465", "message": "Fixed simulate index response", "committedDate": "2020-06-30T23:35:21Z", "type": "commit"}, {"oid": "0ea11155b0439d3ddc1d212127ef987e4878f295", "url": "https://github.com/elastic/elasticsearch/commit/0ea11155b0439d3ddc1d212127ef987e4878f295", "message": "Fixed callouts", "committedDate": "2020-06-30T23:55:45Z", "type": "commit"}, {"oid": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "url": "https://github.com/elastic/elasticsearch/commit/2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "message": "Fix simulate index", "committedDate": "2020-07-01T00:40:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODMzNTM3Nw==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448335377", "bodyText": "Nit: I think we can typically drop the first article from definitions.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            (Required, string)\n          \n          \n            \n            The name of the index to simulate. \n          \n          \n            \n            (Required, string)\n          \n          \n            \n            Name of the index to simulate.", "author": "jrodewig", "createdAt": "2020-07-01T12:41:18Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. ", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0MDcyOQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448340729", "bodyText": "I see this is in the spec, but I couldn't get this parameter to work. If it is a valid parameter,\nI'd be curious about why it's included or how it's used (is it stored somewhere, etc.?).\nReproduction using the template set up earlier:\nPOST /_index_template/_simulate_index/myindex-1?cause=foo\n\nReturns:\n{\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"request [/_index_template/_simulate_index/myindex-1] contains unrecognized parameter: [cause]\"\n      }\n    ],\n    \"type\" : \"illegal_argument_exception\",\n    \"reason\" : \"request [/_index_template/_simulate_index/myindex-1] contains unrecognized parameter: [cause]\"\n  },\n  \"status\" : 400\n}", "author": "jrodewig", "createdAt": "2020-07-01T12:51:26Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. ", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY2OTQyOQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448669429", "bodyText": "Yeah, that seems like a bug. I'll remove it and open an issue.", "author": "debadair", "createdAt": "2020-07-01T23:36:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0MDcyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0MTY2MA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448341660", "bodyText": "This role is needed to get the collapsible section to display correctly.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            [[simulate-index-api-response-body]]\n          \n          \n            \n            ==== {api-response-body-title}\n          \n          \n            \n            \n          \n          \n            \n            [role=\"child_attributes\"]\n          \n          \n            \n            [[simulate-index-api-response-body]]\n          \n          \n            \n            ==== {api-response-body-title}", "author": "jrodewig", "createdAt": "2020-07-01T12:52:58Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0NDEwNQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448344105", "bodyText": "I think the order returned is:\n\nSettings\nMappings\nAliases\n\nIt might also be worth nothing that if empty, settings and aliases return an empty object. If mappings is empty, the mappings property is not returned at all.", "author": "jrodewig", "createdAt": "2020-07-01T12:57:17Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to the index. \n++\n+.Properties of `template`\n+[%collapsible%open]\n+====\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=aliases]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=mappings]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=settings]", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0NDI1OQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448344259", "bodyText": "There is an overlapping array property that isn't documented.", "author": "jrodewig", "createdAt": "2020-07-01T12:57:35Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to the index. \n++\n+.Properties of `template`\n+[%collapsible%open]\n+====\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=aliases]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=mappings]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=settings]\n+====\n+", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0NTQxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448345415", "bodyText": "This index name does not match the example. With data streams around the corner, maybe we can update to not use a time-based example? That would help this from looking outdated too quickly.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following example shows the settings that would be applied to `logdata-2019-02-01` by \n          \n          \n            \n            The following example shows the settings that would be applied to the `logdata-2020-02-02` index by", "author": "jrodewig", "createdAt": "2020-07-01T12:59:39Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to the index. \n++\n+.Properties of `template`\n+[%collapsible%open]\n+====\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=aliases]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=mappings]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=settings]\n+====\n+\n+[[simulate-index-api-example]]\n+==== {api-examples-title}\n+\n+The following example shows the settings that would be applied to `logdata-2019-02-01` by ", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0NzcwOQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448347709", "bodyText": "Rewords. Also fixes the index name to match the example.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <1> Creating a component template (ct1) setting the number of shards to two\n          \n          \n            \n            <2> Creating another component template (ct2) setting the number of replicas to zero with mappings\n          \n          \n            \n            <3> Creating an index template called \"final\" template using ct1 and ct2\n          \n          \n            \n            <4> Show the settings that would be applied to the `logdata-2019-02-01`index\n          \n          \n            \n            <1> Creates a component template (`ct1`) that sets the number of shards to two\n          \n          \n            \n            <2> Creates another component template (`ct2`) that sets the number of replicas to zero with mappings\n          \n          \n            \n            <3> Creates an index template called `final-template` using the `ct1` and `ct2` component templates\n          \n          \n            \n            <4> Show the settings that would be applied to the `logdata-2020-02-02`index", "author": "jrodewig", "createdAt": "2020-07-01T13:03:36Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to the index. \n++\n+.Properties of `template`\n+[%collapsible%open]\n+====\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=aliases]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=mappings]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=settings]\n+====\n+\n+[[simulate-index-api-example]]\n+==== {api-examples-title}\n+\n+The following example shows the settings that would be applied to `logdata-2019-02-01` by \n+an existing template.\n+\n+[source,console]\n+--------------------------------------------------\n+PUT /_component_template/ct1                             <1>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_shards\": 2\n+    }\n+  }\n+}\n+\n+PUT /_component_template/ct2                             <2>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_replicas\": 0\n+    },\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT /_index_template/final-template                      <3>\n+{\n+  \"index_patterns\": [\"logdata-*\"],\n+  \"composed_of\": [\"ct1\", \"ct2\"],\n+  \"priority\": 5\n+}\n+\n+POST /_index_template/_simulate_index/logdata-2020-02-02 <4>\n+--------------------------------------------------\n+<1> Creating a component template (ct1) setting the number of shards to two\n+<2> Creating another component template (ct2) setting the number of replicas to zero with mappings\n+<3> Creating an index template called \"final\" template using ct1 and ct2\n+<4> Show the settings that would be applied to the `logdata-2019-02-01`index", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0ODE2Nw==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448348167", "bodyText": "Technically, the template isn't specified here. I reworded, but you could say something like \"template matching the index name.\"\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The response shows the index settings, mappings, and aliases applied by the specified template:\n          \n          \n            \n            The response shows the index settings, mappings, and aliases applied by the `final-template` template:", "author": "jrodewig", "createdAt": "2020-07-01T13:04:26Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to the index. \n++\n+.Properties of `template`\n+[%collapsible%open]\n+====\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=aliases]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=mappings]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=settings]\n+====\n+\n+[[simulate-index-api-example]]\n+==== {api-examples-title}\n+\n+The following example shows the settings that would be applied to `logdata-2019-02-01` by \n+an existing template.\n+\n+[source,console]\n+--------------------------------------------------\n+PUT /_component_template/ct1                             <1>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_shards\": 2\n+    }\n+  }\n+}\n+\n+PUT /_component_template/ct2                             <2>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_replicas\": 0\n+    },\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT /_index_template/final-template                      <3>\n+{\n+  \"index_patterns\": [\"logdata-*\"],\n+  \"composed_of\": [\"ct1\", \"ct2\"],\n+  \"priority\": 5\n+}\n+\n+POST /_index_template/_simulate_index/logdata-2020-02-02 <4>\n+--------------------------------------------------\n+<1> Creating a component template (ct1) setting the number of shards to two\n+<2> Creating another component template (ct2) setting the number of replicas to zero with mappings\n+<3> Creating an index template called \"final\" template using ct1 and ct2\n+<4> Show the settings that would be applied to the `logdata-2019-02-01`index\n+\n+The response shows the index settings, mappings, and aliases applied by the specified template:", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0ODYxMg==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448348612", "bodyText": "I'm not sure these callouts are needed. If you keep them, I'd remove the first article (The).", "author": "jrodewig", "createdAt": "2020-07-01T13:05:12Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to the index. \n++\n+.Properties of `template`\n+[%collapsible%open]\n+====\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=aliases]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=mappings]\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=settings]\n+====\n+\n+[[simulate-index-api-example]]\n+==== {api-examples-title}\n+\n+The following example shows the settings that would be applied to `logdata-2019-02-01` by \n+an existing template.\n+\n+[source,console]\n+--------------------------------------------------\n+PUT /_component_template/ct1                             <1>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_shards\": 2\n+    }\n+  }\n+}\n+\n+PUT /_component_template/ct2                             <2>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_replicas\": 0\n+    },\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT /_index_template/final-template                      <3>\n+{\n+  \"index_patterns\": [\"logdata-*\"],\n+  \"composed_of\": [\"ct1\", \"ct2\"],\n+  \"priority\": 5\n+}\n+\n+POST /_index_template/_simulate_index/logdata-2020-02-02 <4>\n+--------------------------------------------------\n+<1> Creating a component template (ct1) setting the number of shards to two\n+<2> Creating another component template (ct2) setting the number of replicas to zero with mappings\n+<3> Creating an index template called \"final\" template using ct1 and ct2\n+<4> Show the settings that would be applied to the `logdata-2019-02-01`index\n+\n+The response shows the index settings, mappings, and aliases applied by the specified template:\n+\n+[source,console-result]\n+---------------------------------------------------------\n+{\n+  \"template\" : {\n+    \"settings\" : {\n+      \"index\" : {\n+        \"number_of_shards\" : \"2\",\n+        \"number_of_replicas\" : \"0\" <1>\n+      }\n+    },\n+    \"mappings\" : {\n+      \"properties\" : {\n+        \"@timestamp\" : {\n+          \"type\" : \"date\"          <2>\n+        }\n+      }\n+    },\n+    \"aliases\" : { }\n+  },\n+  \"overlapping\" : [ ]\n+}\n+---------------------------------------------------------\n+<1> The number of replicas from the simulated template body\n+<2> The `@timestamp` field inherited from the \"ct2\" component template", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM0OTc4OQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448349789", "bodyText": "Not a big deal, but you could probably simplify this setup to just include the index template.\nSeems like a lot of setup that isn't ever surfaced to the user.", "author": "jrodewig", "createdAt": "2020-07-01T13:07:22Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1MTcwNQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448351705", "bodyText": "As before, I'd drop the first article from these defs.\nI also wonder if arbitrary template configuration really gets at the intended use here:\nIf you want to simulate an index template before creating it,...\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The name of the index template to simulate.\n          \n          \n            \n            To simulate an arbitrary template configuration, \n          \n          \n            \n            omit this parameter and specify the template configuration in the request body.\n          \n          \n            \n            Name of the index template to simulate.\n          \n          \n            \n            +\n          \n          \n            \n            To simulate an arbitrary template configuration, \n          \n          \n            \n            omit this parameter and specify the template configuration in the request body.", "author": "jrodewig", "createdAt": "2020-07-01T13:10:41Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1MTkxMg==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448351912", "bodyText": "This doesn't look like a valid param for this API either.", "author": "jrodewig", "createdAt": "2020-07-01T13:11:02Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. ", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1MjY0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448352646", "bodyText": "I think this is plural?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            only used if no existing template matches the same index pattern. \n          \n          \n            \n            only used if no existing templates match the same index patterns.", "author": "jrodewig", "createdAt": "2020-07-01T13:12:12Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. ", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1Mjk2MQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448352961", "bodyText": "Nit: passive voice\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If `false`, the template with the highest priority is used for the simulation.\n          \n          \n            \n            If `false`, the simulation uses the template with the highest priority.", "author": "jrodewig", "createdAt": "2020-07-01T13:12:42Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1MzI2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448353263", "bodyText": "I believe a semicolon is required here.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note that the template is not permanently added or updated in either case, \n          \n          \n            \n            Note that the template is not permanently added or updated in either case;", "author": "jrodewig", "createdAt": "2020-07-01T13:13:09Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, ", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1Mzk3Mw==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448353973", "bodyText": "Nit: I tend to stick phrases like for an example in the front of the sentence.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            specified, meaning that the last component template specified has the highest precedence. See \n          \n          \n            \n            <<multiple-component-templates,Composing multiple component templates>> for an example.\n          \n          \n            \n            specified, meaning that the last component template specified has the highest precedence. \n          \n          \n            \n            For an example, see \n          \n          \n            \n            <<multiple-component-templates,Composing multiple component templates>>.", "author": "jrodewig", "createdAt": "2020-07-01T13:14:22Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NDI5NA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448354294", "bodyText": "Just in case someone doesn't know * is used as the wildcard char.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Array of wildcard expressions\n          \n          \n            \n            Array of wildcard (`*`) expressions", "author": "jrodewig", "createdAt": "2020-07-01T13:14:54Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NTE2MA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448355160", "bodyText": "I may be missing something, but I think we can simply say this defaults to 0.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            the highest priority is chosen. If no priority is specified the template is treated as though it is\n          \n          \n            \n            of priority 0 (lowest priority).\n          \n          \n            \n            the highest priority is chosen. Defaults to `0` (lowest priority).", "author": "jrodewig", "createdAt": "2020-07-01T13:16:11Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NTQ2MQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448355461", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This is the template to be applied, may optionally include a `mappings`,\n          \n          \n            \n            `settings`, or `aliases` configuration.\n          \n          \n            \n            Template to be apply. This template may include `mappings`,\n          \n          \n            \n            `settings`, and `aliases` configurations.", "author": "jrodewig", "createdAt": "2020-07-01T13:16:44Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NjE1NQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448356155", "bodyText": "It may be good to include some examples here or mention that the data is arbitrary.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `_meta`::\n          \n          \n            \n            (Optional, object)\n          \n          \n            \n            Optional user metadata about the index template. May have any contents.\n          \n          \n            \n            This map is not automatically generated by {es}.\n          \n          \n            \n            `_meta`::\n          \n          \n            \n            (Optional, object)\n          \n          \n            \n            Metadata about the index template.\n          \n          \n            \n            This metadata is not used or automatically generated by {es}.", "author": "jrodewig", "createdAt": "2020-07-01T13:17:50Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NjY3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448356671", "bodyText": "When I tested, overlapping came after template. I'd reorder to match the response.", "author": "jrodewig", "createdAt": "2020-07-01T13:18:42Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.\n+\n+[[simulate-template-api-response-body]]\n+==== {api-response-body-title}\n+\n+`overlapping`::", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1Njk5OQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448356999", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `template`::\n          \n          \n            \n            `template`::\n          \n          \n            \n            (object)", "author": "jrodewig", "createdAt": "2020-07-01T13:19:16Z", "path": "docs/reference/indices/simulate-index.asciidoc", "diffHunk": "@@ -0,0 +1,148 @@\n+[[indices-simulate-index]]\n+=== Simulate index API\n+++++\n+<titleabbrev>Simulate index</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied to the specified index from an \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"myindex*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate_index/myindex-1\n+--------------------------------------------------\n+\n+[[simulate-index-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate_index/<index>`\n+\n+\n+[[simulate-index-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index>`::\n+(Required, string)\n+The name of the index to simulate. \n+\n+[[simulate-index-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for running the simulation. \n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-index-api-response-body]]\n+==== {api-response-body-title}\n+\n+`template`::", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NzE4MA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448357180", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `template`::\n          \n          \n            \n            `template`::\n          \n          \n            \n            (object)", "author": "jrodewig", "createdAt": "2020-07-01T13:19:33Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.\n+\n+[[simulate-template-api-response-body]]\n+==== {api-response-body-title}\n+\n+`overlapping`::\n+(array) Any templates that were superseded by the specified template.\n++\n+.Properties of `overlapping`\n+[%collapsible%open]\n+====\n+`name`::\n+(string) The name of the superseded template.\n+\n+`index_patterns`:: \n+(array) The index patterns that the superseded template applies to.\n+====\n+\n+`template`::", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1NzQ0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448357449", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [[simulate-template-api-response-body]]\n          \n          \n            \n            [role=\"child_attributes\"]\n          \n          \n            \n            [[simulate-template-api-response-body]]", "author": "jrodewig", "createdAt": "2020-07-01T13:20:00Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.\n+\n+[[simulate-template-api-response-body]]", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1Nzc4OA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448357788", "bodyText": "I would include a collapsible section that documents the properties of the template object, similar to the simulate index API.", "author": "jrodewig", "createdAt": "2020-07-01T13:20:31Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.\n+\n+[[simulate-template-api-response-body]]\n+==== {api-response-body-title}\n+\n+`overlapping`::\n+(array) Any templates that were superseded by the specified template.\n++\n+.Properties of `overlapping`\n+[%collapsible%open]\n+====\n+`name`::\n+(string) The name of the superseded template.\n+\n+`index_patterns`:: \n+(array) The index patterns that the superseded template applies to.\n+====\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to matching indices. \n+", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1ODE2OA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448358168", "bodyText": "See edits in simulate index API.", "author": "jrodewig", "createdAt": "2020-07-01T13:21:06Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.\n+\n+[[simulate-template-api-response-body]]\n+==== {api-response-body-title}\n+\n+`overlapping`::\n+(array) Any templates that were superseded by the specified template.\n++\n+.Properties of `overlapping`\n+[%collapsible%open]\n+====\n+`name`::\n+(string) The name of the superseded template.\n+\n+`index_patterns`:: \n+(array) The index patterns that the superseded template applies to.\n+====\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to matching indices. \n+\n+[[simulate-template-api-example]]\n+==== {api-examples-title}\n+\n+[[simulate-existing-template-ex]]\n+===== Simulating an existing template\n+\n+The following example creates and simulates a composed template:\n+\n+[source,console]\n+--------------------------------------------------\n+PUT /_component_template/ct1                   <1>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_shards\": 2\n+    }\n+  }\n+}\n+\n+PUT /_component_template/ct2                    <2>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_replicas\": 0\n+    },\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT /_index_template/final-template            <3>\n+{\n+  \"index_patterns\": [\"logdata-*\"],\n+  \"composed_of\": [\"ct1\", \"ct2\"],\n+  \"priority\": 5\n+}\n+\n+POST /_index_template/_simulate/final-template <4>\n+--------------------------------------------------\n+<1> Creating a component template (ct1) setting the number of shards to two\n+<2> Creating another component template (ct2) setting the number of replicas to zero with mappings\n+<3> Creating an index template called \"final\" template using ct1 and ct2\n+<4> Simulate the settings composed using the \"final-template\" index template", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM1ODMxMA==", "url": "https://github.com/elastic/elasticsearch/pull/58579#discussion_r448358310", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The response shows the index settings, mappings, and aliases applied by the final-template:\n          \n          \n            \n            The response shows the index settings, mappings, and aliases applied by the `final-template` template:", "author": "jrodewig", "createdAt": "2020-07-01T13:21:19Z", "path": "docs/reference/indices/simulate-template.asciidoc", "diffHunk": "@@ -0,0 +1,308 @@\n+[[indices-simulate-template]]\n+=== Simulate index template API\n+++++\n+<titleabbrev>Simulate template</titleabbrev>\n+++++\n+\n+experimental[]\n+\n+Returns the index settings that would be applied by a particular \n+<<indices-templates, index template>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/component_template1\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _component_template/other_component_template\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"properties\": {\n+        \"ip_address\": {\n+          \"type\": \"ip\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+POST /_index_template/_simulate/template_1\n+--------------------------------------------------\n+\n+[[simulate-template-api-request]]\n+==== {api-request-title}\n+\n+`POST /_index_template/_simulate/<index-template>`\n+\n+\n+[[simulate-template-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<index-template>`::\n+(Optional, string)\n+The name of the index template to simulate.\n+To simulate an arbitrary template configuration, \n+omit this parameter and specify the template configuration in the request body.\n+\n+[[simulate-template-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`cause`::\n+(Optional, string) The reason for using the specified template for the simulation. \n+\n+`create`::\n+(Optional, boolean) If `true`, the template passed in the body is \n+only used if no existing template matches the same index pattern. \n+If `false`, the template with the highest priority is used for the simulation.\n+Note that the template is not permanently added or updated in either case, \n+it is only used for the simulation.\n+Defaults to `false`.\n+\n+include::{es-ref-dir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n+\n+[[simulate-template-api-request-body]]\n+==== {api-request-body-title}\n+\n+`composed_of`::\n+(Optional, array of strings)\n+An ordered list of component template names. Component templates are merged in the order\n+specified, meaning that the last component template specified has the highest precedence. See \n+<<multiple-component-templates,Composing multiple component templates>> for an example.\n+\n+`index_patterns`::\n+(Required, array of strings)\n+Array of wildcard expressions\n+used to match the names of indices during creation.\n+\n+`priority`::\n+(Optional, integer)\n+Priority to determine index template precedence when a new index is created. The index template with\n+the highest priority is chosen. If no priority is specified the template is treated as though it is\n+of priority 0 (lowest priority).\n+This number is not automatically generated by {es}.\n+\n+`template`::\n+(Optional, object)\n+This is the template to be applied, may optionally include a `mappings`,\n+`settings`, or `aliases` configuration.\n+\n+`version`::\n+(Optional, integer)\n+Version number used to manage index templates externally.\n+This number is not automatically generated by {es}.\n+\n+`_meta`::\n+(Optional, object)\n+Optional user metadata about the index template. May have any contents.\n+This map is not automatically generated by {es}.\n+\n+[[simulate-template-api-response-body]]\n+==== {api-response-body-title}\n+\n+`overlapping`::\n+(array) Any templates that were superseded by the specified template.\n++\n+.Properties of `overlapping`\n+[%collapsible%open]\n+====\n+`name`::\n+(string) The name of the superseded template.\n+\n+`index_patterns`:: \n+(array) The index patterns that the superseded template applies to.\n+====\n+\n+`template`::\n+The template settings, mappings, and aliases that would be applied to matching indices. \n+\n+[[simulate-template-api-example]]\n+==== {api-examples-title}\n+\n+[[simulate-existing-template-ex]]\n+===== Simulating an existing template\n+\n+The following example creates and simulates a composed template:\n+\n+[source,console]\n+--------------------------------------------------\n+PUT /_component_template/ct1                   <1>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_shards\": 2\n+    }\n+  }\n+}\n+\n+PUT /_component_template/ct2                    <2>\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index.number_of_replicas\": 0\n+    },\n+    \"mappings\": {\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        }\n+      }\n+    }\n+  }\n+}\n+\n+PUT /_index_template/final-template            <3>\n+{\n+  \"index_patterns\": [\"logdata-*\"],\n+  \"composed_of\": [\"ct1\", \"ct2\"],\n+  \"priority\": 5\n+}\n+\n+POST /_index_template/_simulate/final-template <4>\n+--------------------------------------------------\n+<1> Creating a component template (ct1) setting the number of shards to two\n+<2> Creating another component template (ct2) setting the number of replicas to zero with mappings\n+<3> Creating an index template called \"final\" template using ct1 and ct2\n+<4> Simulate the settings composed using the \"final-template\" index template\n+\n+The response shows the index settings, mappings, and aliases applied by the final-template:", "originalCommit": "2103ff86c2c30bf7e04fd9fa7834edc3a7f4db58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1c8b6e2b49e24734514b912161b82f02fdc80159", "url": "https://github.com/elastic/elasticsearch/commit/1c8b6e2b49e24734514b912161b82f02fdc80159", "message": "Apply suggestions from code review\n\nCo-authored-by: James Rodewig <james.rodewig@elastic.co>", "committedDate": "2020-07-01T23:03:40Z", "type": "commit"}, {"oid": "a1b5a9441b83f6a1f527396b03dcb4679b4e1eb8", "url": "https://github.com/elastic/elasticsearch/commit/a1b5a9441b83f6a1f527396b03dcb4679b4e1eb8", "message": "[DOCS] Incorporate review feedback.", "committedDate": "2020-07-02T21:03:22Z", "type": "commit"}, {"oid": "a1b5a9441b83f6a1f527396b03dcb4679b4e1eb8", "url": "https://github.com/elastic/elasticsearch/commit/a1b5a9441b83f6a1f527396b03dcb4679b4e1eb8", "message": "[DOCS] Incorporate review feedback.", "committedDate": "2020-07-02T21:03:22Z", "type": "forcePushed"}, {"oid": "9fa0924221693527752548695b8543587cae7454", "url": "https://github.com/elastic/elasticsearch/commit/9fa0924221693527752548695b8543587cae7454", "message": "Merge branch 'master' into add-simulate-ref", "committedDate": "2020-07-02T21:12:20Z", "type": "commit"}, {"oid": "e45f8c6557d6358a225bfa26327cb8688861ea49", "url": "https://github.com/elastic/elasticsearch/commit/e45f8c6557d6358a225bfa26327cb8688861ea49", "message": "Fixed response", "committedDate": "2020-07-03T01:32:30Z", "type": "commit"}]}