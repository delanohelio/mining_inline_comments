{"pr_number": 54915, "pr_title": "Improve guidance on removing default mappings.", "pr_createdAt": "2020-04-07T18:28:04Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/54915", "timeline": [{"oid": "9df51513b683964a148dbac0c79d29b3890765a1", "url": "https://github.com/elastic/elasticsearch/commit/9df51513b683964a148dbac0c79d29b3890765a1", "message": "Improve guidance on removing default mappings.\n\nIn 7.x, an index template will fail to apply if it contains a `_default_`\nmapping. Several users have expressed confusion over the fact that loading the\ntemplate doesn't show any default mappings. This docs change clarifies that in\norder to see all mappings in the template, you must pass `include_type_name`.", "committedDate": "2020-04-07T18:27:55Z", "type": "commit"}, {"oid": "9df51513b683964a148dbac0c79d29b3890765a1", "url": "https://github.com/elastic/elasticsearch/commit/9df51513b683964a148dbac0c79d29b3890765a1", "message": "Improve guidance on removing default mappings.\n\nIn 7.x, an index template will fail to apply if it contains a `_default_`\nmapping. Several users have expressed confusion over the fact that loading the\ntemplate doesn't show any default mappings. This docs change clarifies that in\norder to see all mappings in the template, you must pass `include_type_name`.", "committedDate": "2020-04-07T18:27:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzOTk3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/54915#discussion_r405039971", "bodyText": "should the get templates API be capitalized Get Templates API and maybe hyperlink to the specific docs?", "author": "talevy", "createdAt": "2020-04-07T18:55:44Z", "path": "docs/reference/migration/migrate_7_0/mappings.asciidoc", "diffHunk": "@@ -31,6 +31,20 @@ of `_id`.\n The `_default_` mapping has been deprecated in 6.0 and is now no longer allowed\n in 7.0. Trying to configure a `_default_` mapping on 7.x indices will result in\n an error.\n+\n+If an index template contains a `_default_` mapping, it will fail to create new\n+indices. To resolve this issue, the `_default_` mapping should be removed from\n+the template. Note that in 7.x, the get templates API does not show the", "originalCommit": "9df51513b683964a148dbac0c79d29b3890765a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0MTEwNg==", "url": "https://github.com/elastic/elasticsearch/pull/54915#discussion_r405041106", "bodyText": "\ud83d\udc4d", "author": "jtibshirani", "createdAt": "2020-04-07T18:57:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzOTk3MQ=="}], "type": "inlineReview"}, {"oid": "bc8c38c9cc1851d5bb74c44a23441b97d55bd8da", "url": "https://github.com/elastic/elasticsearch/commit/bc8c38c9cc1851d5bb74c44a23441b97d55bd8da", "message": "Fix failing tests.", "committedDate": "2020-04-07T20:20:54Z", "type": "commit"}, {"oid": "bbded890d132af49c3009a3feba584b83a1ab31e", "url": "https://github.com/elastic/elasticsearch/commit/bbded890d132af49c3009a3feba584b83a1ab31e", "message": "Link to the get templates API.", "committedDate": "2020-04-07T20:23:47Z", "type": "commit"}]}