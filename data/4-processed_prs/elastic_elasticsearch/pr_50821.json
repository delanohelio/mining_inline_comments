{"pr_number": 50821, "pr_title": "Add documentation for keystore startup prompting", "pr_createdAt": "2020-01-09T21:06:58Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/50821", "timeline": [{"oid": "e88a0d27f498c52ba185bdfc33edd8d2ece036e9", "url": "https://github.com/elastic/elasticsearch/commit/e88a0d27f498c52ba185bdfc33edd8d2ece036e9", "message": "Add documentation for keystore startup prompting\n\nWhen a keystore is password-protected, Elasticsearch will prompt at\nstartup. This commit adds documentation for this prompt for the archive,\nsystemd, and Docker cases.", "committedDate": "2020-01-09T21:04:03Z", "type": "commit"}, {"oid": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "url": "https://github.com/elastic/elasticsearch/commit/c8a5723d0c198279a5fd1ce989af091fc122ea4e", "message": "Add language description to code block", "committedDate": "2020-01-09T22:16:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNTY1OQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365025659", "bodyText": "Slight variation to avoid future tense and to make it clear it's not a one-time prompt:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Once the keystore is password-protected, Elasticsearch will prompt for a password at startup.\n          \n          \n            \n            When the keystore is password-protected, {es} prompts you to supply the password each time it starts.", "author": "lcawl", "createdAt": "2020-01-10T00:33:10Z", "path": "docs/reference/setup/secure-settings.asciidoc", "diffHunk": "@@ -35,6 +35,8 @@ You will be prompted to enter the keystore password and the file `elasticsearch.\n \n NOTE: If you don't specify the `-p` flag or if you enter an empty password, the {es} keystore will be obfuscated but not password protected.\n \n+Once the keystore is password-protected, Elasticsearch will prompt for a password at startup.", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MjY1MA==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365082650", "bodyText": "\"prompt\" is only applicable for the archive distribution though, should we right this in a more generic way to reflect what happens with docker/systemd?", "author": "jkakavas", "createdAt": "2020-01-10T05:56:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNTY1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTMzMzI4MQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365333281", "bodyText": "Good suggestions!", "author": "williamrandolph", "createdAt": "2020-01-10T16:58:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNTY1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNzAxOA==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365027018", "bodyText": "Since it's a link within the same book, it's simpler to code it like this:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {ref}/secure-settings.html[secure settings] for more details.\n          \n          \n            \n            <<secure-settings>> for more details.", "author": "lcawl", "createdAt": "2020-01-10T00:38:36Z", "path": "docs/reference/setup/install/zip-windows-start.asciidoc", "diffHunk": "@@ -7,5 +7,9 @@ Elasticsearch can be started from the command line as follows:\n .\\bin\\elasticsearch.bat\n --------------------------------------------\n \n+If you have configured secure settings and password-protected the {es}\n+keystore, you will be prompted to enter the keystore's password. See\n+{ref}/secure-settings.html[secure settings] for more details.", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTMyMjY1OA==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365322658", "bodyText": "I know our docs are divided into books, but what determines that boundary? Is it the top-level sections in the sidebar?", "author": "williamrandolph", "createdAt": "2020-01-10T16:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNzAxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTM2NzY3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365367672", "bodyText": "Each of the items on https://www.elastic.co/guide/index.html is considered a book.  The elasticsearch repo is a little tricky, since there are multiple \"books\" that are generated from that repo, so you can't always assume that another page in the same repo is in the same book.  The concepts of \"books\" might go away, however, so it's not worth worrying too much about.", "author": "lcawl", "createdAt": "2020-01-10T18:24:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNzAxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyNzU0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365027549", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {ref}/secure-settings.html[secure settings] for more details.\n          \n          \n            \n            <<secure-settings>> for more details.", "author": "lcawl", "createdAt": "2020-01-10T00:40:56Z", "path": "docs/reference/setup/install/targz-start.asciidoc", "diffHunk": "@@ -7,6 +7,10 @@ Elasticsearch can be started from the command line as follows:\n ./bin/elasticsearch\n --------------------------------------------\n \n+If you have configured secure settings and password-protected the {es}\n+keystore, you will be prompted to enter the keystore's password. See\n+{ref}/secure-settings.html[secure settings] for more details.", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyODIxNA==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365028214", "bodyText": "... before the program enters daemon mode.\n\nIs there a reason for this qualifier?  If not, I'd omit it and use the same wording as in the other pages.", "author": "lcawl", "createdAt": "2020-01-10T00:44:09Z", "path": "docs/reference/setup/install/targz-daemon.asciidoc", "diffHunk": "@@ -8,6 +8,10 @@ the process ID in a file using the `-p` option:\n ./bin/elasticsearch -d -p pid\n --------------------------------------------\n \n+If you have configured secure settings and password-protected the {es}\n+keystore, you will be prompted to enter the keystore's password before\n+the program enters daemon mode.", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTMyNDk5NQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365324995", "bodyText": "You're right. It's not really necessary. I only put it in because at one point there was another way of doing things for daemon-mode \u2014 but no one needs to know about that.", "author": "williamrandolph", "createdAt": "2020-01-10T16:40:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyODIxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyOTU3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365029576", "bodyText": "... you will need to provide .. the keystore password using a local file ...\n\nDo we need to provide a tip about protecting that local file since it contains the password?", "author": "lcawl", "createdAt": "2020-01-10T00:50:12Z", "path": "docs/reference/setup/install/systemd.asciidoc", "diffHunk": "@@ -21,6 +21,17 @@ These commands provide no feedback as to whether Elasticsearch was started\n successfully or not. Instead, this information will be written in the log\n files located in `/var/log/elasticsearch/`.\n \n+If you have password-protected your {es} keystore, you will need to provide\n+`systemd` with the keystore password using a local file and systemd environment", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MTcyNQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365081725", "bodyText": "++ At least mention that this should be a temporary file that only needs to exist when systemctl start is executed and can safely be removed afterwards", "author": "jkakavas", "createdAt": "2020-01-10T05:51:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAyOTU3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAzMDA0MQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365030041", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you want to use {ref}/secure-settings.html[secure settings] and password-protect\n          \n          \n            \n            If you want to use <<secure-settings,secure settings>> and password-protect", "author": "lcawl", "createdAt": "2020-01-10T00:52:26Z", "path": "docs/reference/setup/install/docker.asciidoc", "diffHunk": "@@ -360,6 +360,23 @@ IMPORTANT: The container **runs {es} as user `elasticsearch` using\n uid:gid `1000:0`**. Bind mounted host directories and files must be accessible by this user,\n and the data and log directories must be writable by this user.\n \n+[[docker-keystore-bind-mount]]\n+===== Mounting an {es} keystore\n+\n+If you want to use {ref}/secure-settings.html[secure settings] and password-protect", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTAzMDI0NA==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365030244", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            the keystore that stores them, you will need to use the `elasticsearch-keystore` utility\n          \n          \n            \n            the keystore that stores them, you must use the `elasticsearch-keystore` utility", "author": "lcawl", "createdAt": "2020-01-10T00:53:16Z", "path": "docs/reference/setup/install/docker.asciidoc", "diffHunk": "@@ -360,6 +360,23 @@ IMPORTANT: The container **runs {es} as user `elasticsearch` using\n uid:gid `1000:0`**. Bind mounted host directories and files must be accessible by this user,\n and the data and log directories must be writable by this user.\n \n+[[docker-keystore-bind-mount]]\n+===== Mounting an {es} keystore\n+\n+If you want to use {ref}/secure-settings.html[secure settings] and password-protect\n+the keystore that stores them, you will need to use the `elasticsearch-keystore` utility", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MTQwMg==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365081402", "bodyText": "Would it be worth mentioning that the alternative ( if they do not bind mount an existing password protected keystore ) will be that ES will auto generate a keystore where the values will be obfuscated but not encrypted?", "author": "jkakavas", "createdAt": "2020-01-10T05:49:24Z", "path": "docs/reference/setup/install/docker.asciidoc", "diffHunk": "@@ -360,6 +360,23 @@ IMPORTANT: The container **runs {es} as user `elasticsearch` using\n uid:gid `1000:0`**. Bind mounted host directories and files must be accessible by this user,\n and the data and log directories must be writable by this user.\n \n+[[docker-keystore-bind-mount]]", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTMzNDM0NA==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365334344", "bodyText": "I've added a few sentences to try to make this point.", "author": "williamrandolph", "createdAt": "2020-01-10T17:00:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MTQwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MjIxMQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365082211", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you have configured secure settings and password-protected the {es}\n          \n          \n            \n            If you have password-protected the {es}\n          \n      \n    \n    \n  \n\nWe have to decrypt the keystore regardless of what entries it stores.", "author": "jkakavas", "createdAt": "2020-01-10T05:54:00Z", "path": "docs/reference/setup/install/targz-daemon.asciidoc", "diffHunk": "@@ -8,6 +8,10 @@ the process ID in a file using the `-p` option:\n ./bin/elasticsearch -d -p pid\n --------------------------------------------\n \n+If you have configured secure settings and password-protected the {es}", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MjI1Mw==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365082253", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you have configured secure settings and password-protected the {es}\n          \n          \n            \n            If you have password-protected the {es}\n          \n      \n    \n    \n  \n\nWe have to decrypt the keystore regardless of what entries it stores.", "author": "jkakavas", "createdAt": "2020-01-10T05:54:14Z", "path": "docs/reference/setup/install/targz-start.asciidoc", "diffHunk": "@@ -7,6 +7,10 @@ Elasticsearch can be started from the command line as follows:\n ./bin/elasticsearch\n --------------------------------------------\n \n+If you have configured secure settings and password-protected the {es}", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTA4MjI5Mw==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365082293", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you have configured secure settings and password-protected the {es}\n          \n          \n            \n            If you have password-protected the {es}", "author": "jkakavas", "createdAt": "2020-01-10T05:54:28Z", "path": "docs/reference/setup/install/zip-windows-start.asciidoc", "diffHunk": "@@ -7,5 +7,9 @@ Elasticsearch can be started from the command line as follows:\n .\\bin\\elasticsearch.bat\n --------------------------------------------\n \n+If you have configured secure settings and password-protected the {es}", "originalCommit": "c8a5723d0c198279a5fd1ce989af091fc122ea4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cc3dd4c63e8645a7714c2942055c5602c73f64b2", "url": "https://github.com/elastic/elasticsearch/commit/cc3dd4c63e8645a7714c2942055c5602c73f64b2", "message": "Respond to PR feedback", "committedDate": "2020-01-10T16:54:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTcyNzAzNw==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365727037", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            by password-protected the keystore that stores them, you must use the `elasticsearch-keystore`\n          \n          \n            \n            by password-protecting the keystore that stores them, you must use the `elasticsearch-keystore`", "author": "pugnascotia", "createdAt": "2020-01-13T10:17:30Z", "path": "docs/reference/setup/install/docker.asciidoc", "diffHunk": "@@ -360,6 +360,24 @@ IMPORTANT: The container **runs {es} as user `elasticsearch` using\n uid:gid `1000:0`**. Bind mounted host directories and files must be accessible by this user,\n and the data and log directories must be writable by this user.\n \n+[[docker-keystore-bind-mount]]\n+===== Mounting an {es} keystore\n+\n+By default, {es} will auto-generate a keystore file for secure settings. This file\n+is obfuscated but not encrypted. If you want to encrypt your <<secure-settings,secure settings>>\n+by password-protected the keystore that stores them, you must use the `elasticsearch-keystore`", "originalCommit": "cc3dd4c63e8645a7714c2942055c5602c73f64b2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTcyNzI3Mw==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365727273", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            value `KEYSTORE_VALUE` to the value of your password. For example, a `docker run`\n          \n          \n            \n            value `KEYSTORE_PASSWORD` to the value of your password. For example, a `docker run`", "author": "pugnascotia", "createdAt": "2020-01-13T10:18:02Z", "path": "docs/reference/setup/install/docker.asciidoc", "diffHunk": "@@ -360,6 +360,24 @@ IMPORTANT: The container **runs {es} as user `elasticsearch` using\n uid:gid `1000:0`**. Bind mounted host directories and files must be accessible by this user,\n and the data and log directories must be writable by this user.\n \n+[[docker-keystore-bind-mount]]\n+===== Mounting an {es} keystore\n+\n+By default, {es} will auto-generate a keystore file for secure settings. This file\n+is obfuscated but not encrypted. If you want to encrypt your <<secure-settings,secure settings>>\n+by password-protected the keystore that stores them, you must use the `elasticsearch-keystore`\n+utility to create a password-protected keystore and bind-mount it to the container\n+as `/usr/share/elasticsearch/config/elasticsearch.keystore`. In order to provide\n+the Docker container with the password at startup, set the Docker environment\n+value `KEYSTORE_VALUE` to the value of your password. For example, a `docker run`", "originalCommit": "cc3dd4c63e8645a7714c2942055c5602c73f64b2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5046a1b54650d4264dbf7e1dd447b9a8a13b37d4", "url": "https://github.com/elastic/elasticsearch/commit/5046a1b54650d4264dbf7e1dd447b9a8a13b37d4", "message": "Fix grammar errors", "committedDate": "2020-01-13T14:44:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg1MTMxOQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365851319", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            by password-protecting the keystore that stores them, you must use the `elasticsearch-keystore`\n          \n          \n            \n            with a password, you must use the `elasticsearch-keystore`\n          \n      \n    \n    \n  \n\nnit: it just felt we said \"password-protect\" too many times in a row :)", "author": "jkakavas", "createdAt": "2020-01-13T15:02:49Z", "path": "docs/reference/setup/install/docker.asciidoc", "diffHunk": "@@ -360,6 +360,24 @@ IMPORTANT: The container **runs {es} as user `elasticsearch` using\n uid:gid `1000:0`**. Bind mounted host directories and files must be accessible by this user,\n and the data and log directories must be writable by this user.\n \n+[[docker-keystore-bind-mount]]\n+===== Mounting an {es} keystore\n+\n+By default, {es} will auto-generate a keystore file for secure settings. This file\n+is obfuscated but not encrypted. If you want to encrypt your <<secure-settings,secure settings>>\n+by password-protecting the keystore that stores them, you must use the `elasticsearch-keystore`", "originalCommit": "5046a1b54650d4264dbf7e1dd447b9a8a13b37d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg1Mzc0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r365853749", "bodyText": "Truth.", "author": "williamrandolph", "createdAt": "2020-01-13T15:07:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg1MTMxOQ=="}], "type": "inlineReview"}, {"oid": "5af8fa753ae90e257993908e8857fbd1c9750491", "url": "https://github.com/elastic/elasticsearch/commit/5af8fa753ae90e257993908e8857fbd1c9750491", "message": "Stylistic nit", "committedDate": "2020-01-13T15:08:23Z", "type": "commit"}, {"oid": "5f6f51d2842b0dc4a0246eaacbc70b427a0be432", "url": "https://github.com/elastic/elasticsearch/commit/5f6f51d2842b0dc4a0246eaacbc70b427a0be432", "message": "Merging upstream feature branch into PR branch", "committedDate": "2020-01-14T19:02:53Z", "type": "commit"}, {"oid": "380fcce4603aac4a4b591a85fc6a6d3ade3583cb", "url": "https://github.com/elastic/elasticsearch/commit/380fcce4603aac4a4b591a85fc6a6d3ade3583cb", "message": "[DOCS] Update keystore command", "committedDate": "2020-01-14T19:10:29Z", "type": "commit"}, {"oid": "06f4836b2777b13bc1771830ba54ac306d747ff6", "url": "https://github.com/elastic/elasticsearch/commit/06f4836b2777b13bc1771830ba54ac306d747ff6", "message": "[DOCS] Clarifies -f behaviour", "committedDate": "2020-01-14T19:10:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjUzNTEyNg==", "url": "https://github.com/elastic/elasticsearch/pull/50821#discussion_r366535126", "bodyText": "This is a typo in master.  I'll fix it there too\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `remove <setting>:: Removes a setting from the keystore.\n          \n          \n            \n            `remove <setting>`:: Removes a setting from the keystore.", "author": "lcawl", "createdAt": "2020-01-14T19:39:55Z", "path": "docs/reference/commands/keystore.asciidoc", "diffHunk": "@@ -38,15 +41,34 @@ keystore, see the setting reference.\n === Parameters\n \n `add <setting>`:: Adds settings to the keystore. By default, you are prompted\n-for the value of the setting.\n+for the value of the setting. If the keystore is password protected, you are\n+also prompted to enter the password. If the setting already exists in the\n+keystore, you must confirm that you want to overwrite the current value. If the\n+keystore does not exist, you must confirm that you want to create a keystore. To\n+avoid these two confirmation prompts, use the `-f` parameter.\n \n `add-file <setting> <path>`:: Adds a file to the keystore.\n \n `create`:: Creates the keystore.\n \n+`-f`:: When used with the `add` parameter, the command no longer prompts you\n+before overwriting existing entries in the keystore. Also, if you haven't\n+created a keystore yet, it creates a keystore that is obfuscated but not\n+password protected.\n+\n `-h, --help`:: Returns all of the command parameters.\n \n-`list`:: Lists the settings in the keystore.\n+`list`:: Lists the settings in the keystore. If the keystore is password\n+protected, you are prompted to enter the password.\n+\n+`-p`:: When used with the `create` parameter, the command prompts you to enter a\n+keystore password. If you don't specify the `-p` flag or if you enter an empty\n+password, the keystore is obfuscated but not password protected.\n+\n+`passwd`:: Changes or sets the keystore password. If the keystore is password\n+protected, you are prompted to enter the current password and the new one. You\n+can optionally use an empty string to remove the password. If the keystore is\n+not password protected, you can use this command to set a password.\n \n `remove <setting>:: Removes a setting from the keystore.", "originalCommit": "06f4836b2777b13bc1771830ba54ac306d747ff6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1a74d7cd210cc0ebf43451236535fd18b5e625c6", "url": "https://github.com/elastic/elasticsearch/commit/1a74d7cd210cc0ebf43451236535fd18b5e625c6", "message": "Fix quotation typo\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-01-14T19:51:50Z", "type": "commit"}]}