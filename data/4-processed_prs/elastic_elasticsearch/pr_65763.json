{"pr_number": 65763, "pr_title": "Fix id field mapper stored configuration issue.", "pr_createdAt": "2020-12-02T16:57:29Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/65763", "timeline": [{"oid": "0834e378c81862fba6a18af3b14cf8f904baf505", "url": "https://github.com/elastic/elasticsearch/commit/0834e378c81862fba6a18af3b14cf8f904baf505", "message": "Fix id field mapper stored configuration issue.", "committedDate": "2020-12-02T16:55:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDk4OTA4NQ==", "url": "https://github.com/elastic/elasticsearch/pull/65763#discussion_r534989085", "bodyText": "I think we want to remove the earlier setStored call rather than this one?  We only index the ID field in nested documents to ensure that they get deleted when their parent doc is deleted, we never load it from stored fields.", "author": "romseygeek", "createdAt": "2020-12-03T09:20:10Z", "path": "server/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java", "diffHunk": "@@ -91,7 +91,6 @@\n             NESTED_FIELD_TYPE.setIndexOptions(IndexOptions.DOCS);\n             NESTED_FIELD_TYPE.setStored(true);\n             NESTED_FIELD_TYPE.setOmitNorms(true);\n-            NESTED_FIELD_TYPE.setStored(false);", "originalCommit": "0834e378c81862fba6a18af3b14cf8f904baf505", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDk5OTc2OA==", "url": "https://github.com/elastic/elasticsearch/pull/65763#discussion_r534999768", "bodyText": "Make sense, I have disabled id store field for nested docs.", "author": "howardhuanghua", "createdAt": "2020-12-03T09:28:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDk4OTA4NQ=="}], "type": "inlineReview"}, {"oid": "09cde721699eac4719d90cc7e9bddc14075205d8", "url": "https://github.com/elastic/elasticsearch/commit/09cde721699eac4719d90cc7e9bddc14075205d8", "message": "disable store field for nested id field", "committedDate": "2020-12-03T09:26:07Z", "type": "commit"}]}