{"pr_number": 64938, "pr_title": "Remove Dead Code and Duplication from Metadata", "pr_createdAt": "2020-11-11T15:27:19Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/64938", "timeline": [{"oid": "ee6c60c1517d883579cd87a7a9e4bffbeda51654", "url": "https://github.com/elastic/elasticsearch/commit/ee6c60c1517d883579cd87a7a9e4bffbeda51654", "message": "Remove Dead Code and Duplication from Metadata\n\nJust some random spots I found while researching other things.", "committedDate": "2020-11-11T15:23:39Z", "type": "commit"}, {"oid": "7877661f30669a95c6fe602045e56fc1709e6e94", "url": "https://github.com/elastic/elasticsearch/commit/7877661f30669a95c6fe602045e56fc1709e6e94", "message": "Merge branch 'master' into drier-metadata", "committedDate": "2020-11-11T15:55:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjY2MA==", "url": "https://github.com/elastic/elasticsearch/pull/64938#discussion_r546716660", "bodyText": "Should we not also remove the if (!doneXXXX) from the two blocks below in the same go?", "author": "henningandersen", "createdAt": "2020-12-21T13:51:46Z", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java", "diffHunk": "@@ -82,13 +81,8 @@ protected void doMasterOperation(final GetIndexRequest request, String[] concret\n             switch (feature) {\n             case MAPPINGS:\n                     if (!doneMappings) {\n-                        try {\n-                            mappingsResult = state.metadata().findMappings(concreteIndices, indicesService.getFieldFilter());\n-                            doneMappings = true;\n-                        } catch (IOException e) {\n-                            listener.onFailure(e);\n-                            return;\n-                        }\n+                        mappingsResult = state.metadata().findMappings(concreteIndices, indicesService.getFieldFilter());", "originalCommit": "7877661f30669a95c6fe602045e56fc1709e6e94", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg4MTAwMA==", "url": "https://github.com/elastic/elasticsearch/pull/64938#discussion_r548881000", "bodyText": "I don't think I can remove those with the strange way these requests work (reading features from an array we could have duplicate entries)?", "author": "original-brownbear", "createdAt": "2020-12-25T14:47:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjY2MA=="}], "type": "inlineReview"}, {"oid": "bb74bd36c2ce1dc2a33aa149e2bac4eab1c9eef6", "url": "https://github.com/elastic/elasticsearch/commit/bb74bd36c2ce1dc2a33aa149e2bac4eab1c9eef6", "message": "Merge remote-tracking branch 'elastic/master' into drier-metadata", "committedDate": "2020-12-25T09:45:43Z", "type": "commit"}]}