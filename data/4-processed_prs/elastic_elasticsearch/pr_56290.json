{"pr_number": 56290, "pr_title": "Add xpack setting deprecations to deprecation API", "pr_createdAt": "2020-05-06T16:09:53Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56290", "timeline": [{"oid": "ec83658b6ae6fa2d683902652e8277dba1f420d5", "url": "https://github.com/elastic/elasticsearch/commit/ec83658b6ae6fa2d683902652e8277dba1f420d5", "message": "Add xpack setting deprecations to deprecation API\n\nThe deprecated settings showed up in the deprecation log file by\ndefault, but I did not add them to the deprecation API. This commit\nfixes that. Now if you use one of the deprecated basic feature\nenablement settings, calling _monitoring/deprecations will inform you of\nthat fact.", "committedDate": "2020-05-06T16:03:14Z", "type": "commit"}, {"oid": "68068c39855b39f74b4eaaa42fc6f49ad91a6c94", "url": "https://github.com/elastic/elasticsearch/commit/68068c39855b39f74b4eaaa42fc6f49ad91a6c94", "message": "Remove incorrectly backported settings documents\n\nIt seems that I backported these docs to the wrong place in #56061,\nin #55980, and in #56167. I hope they're in the right place now.", "committedDate": "2020-05-06T18:28:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNjE1MA==", "url": "https://github.com/elastic/elasticsearch/pull/56290#discussion_r421036150", "bodyText": "The short description has to be a one liner. The following change should render correctly.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            .In {es} 7.8.0, the following settings no longer have any effect, and\n          \n          \n            \n            have been deprecated:\n          \n          \n            \n            \n          \n          \n            \n            * `xpack.enrich.enabled`\n          \n          \n            \n            * `xpack.flattened.enabled`\n          \n          \n            \n            * `xpack.ilm.enabled`\n          \n          \n            \n            * `xpack.monitoring.enabled`\n          \n          \n            \n            * `xpack.rollup.enabled`\n          \n          \n            \n            * `xpack.slm.enabled`\n          \n          \n            \n            * `xpack.sql.enabled`\n          \n          \n            \n            * `xpack.transform.enabled`\n          \n          \n            \n            * `xpack.vectors.enabled`\n          \n          \n            \n            \n          \n          \n            \n            [%collapsible]\n          \n          \n            \n            ====\n          \n          \n            \n            *Details* +\n          \n          \n            \n            Previously, these settings could be set to `false` in order to disable the\n          \n          \n            \n            feature's APIs in a cluster. As of 7.8.0, these basic license features are\n          \n          \n            \n            always enabled for the {default-dist}.\n          \n          \n            \n            .Several {xpack} settings no longer have any effect and are deprecated. \n          \n          \n            \n            \n          \n          \n            \n            [%collapsible]\n          \n          \n            \n            ====\n          \n          \n            \n            *Details* +\n          \n          \n            \n            Basic {xpack} license features are always enabled for the {default-dist} \n          \n          \n            \n            and the following settings no longer have any effect: \n          \n          \n            \n            \n          \n          \n            \n            * `xpack.enrich.enabled`\n          \n          \n            \n            * `xpack.flattened.enabled`\n          \n          \n            \n            * `xpack.ilm.enabled`\n          \n          \n            \n            * `xpack.monitoring.enabled`\n          \n          \n            \n            * `xpack.rollup.enabled`\n          \n          \n            \n            * `xpack.slm.enabled`\n          \n          \n            \n            * `xpack.sql.enabled`\n          \n          \n            \n            * `xpack.transform.enabled`\n          \n          \n            \n            * `xpack.vectors.enabled`\n          \n          \n            \n            \n          \n          \n            \n            Previously, they could be set to `false` to disable the feature's APIs in a cluster.", "author": "debadair", "createdAt": "2020-05-06T19:24:05Z", "path": "docs/reference/migration/migrate_7_8.asciidoc", "diffHunk": "@@ -92,6 +92,35 @@ To avoid deprecation warnings, discontinue use of the `node.local_storage`\n setting.\n ====\n \n+[[deprecate-basic-license-feature-enabled]]\n+\n+.In {es} 7.8.0, the following settings no longer have any effect, and\n+have been deprecated:\n+\n+* `xpack.enrich.enabled`\n+* `xpack.flattened.enabled`\n+* `xpack.ilm.enabled`\n+* `xpack.monitoring.enabled`\n+* `xpack.rollup.enabled`\n+* `xpack.slm.enabled`\n+* `xpack.sql.enabled`\n+* `xpack.transform.enabled`\n+* `xpack.vectors.enabled`\n+\n+[%collapsible]\n+====\n+*Details* +\n+Previously, these settings could be set to `false` in order to disable the\n+feature's APIs in a cluster. As of 7.8.0, these basic license features are\n+always enabled for the {default-dist}.", "originalCommit": "68068c39855b39f74b4eaaa42fc6f49ad91a6c94", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "87da460d6ce9dd8e0f51e2b68cc58eaf23c58a79", "url": "https://github.com/elastic/elasticsearch/commit/87da460d6ce9dd8e0f51e2b68cc58eaf23c58a79", "message": "Update docs/reference/migration/migrate_7_8.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>", "committedDate": "2020-05-07T13:36:51Z", "type": "commit"}]}