{"pr_number": 50652, "pr_title": "Switch to the most recent Kibana configuration format and SAML/OIDC endpoints.", "pr_createdAt": "2020-01-06T13:06:04Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/50652", "timeline": [{"oid": "9dc5765548365b942adb776ee8d6250003233bb0", "url": "https://github.com/elastic/elasticsearch/commit/9dc5765548365b942adb776ee8d6250003233bb0", "message": "Switch to the most recent Kibana configuration format and SAML/OIDC endpoints.", "committedDate": "2020-03-27T10:41:00Z", "type": "commit"}, {"oid": "9dc5765548365b942adb776ee8d6250003233bb0", "url": "https://github.com/elastic/elasticsearch/commit/9dc5765548365b942adb776ee8d6250003233bb0", "message": "Switch to the most recent Kibana configuration format and SAML/OIDC endpoints.", "committedDate": "2020-03-27T10:41:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyODQyMQ==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401228421", "bodyText": "Minor edit, removing future tense:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If {kib} is configured in this way, then users will be presented with the choice\n          \n          \n            \n            If {kib} is configured in this way, users are presented with a choice", "author": "lcawl", "createdAt": "2020-03-31T21:33:15Z", "path": "x-pack/docs/en/security/authentication/saml-guide.asciidoc", "diffHunk": "@@ -782,17 +775,19 @@ example below:\n \n [source, yaml]\n ------------------------------------------------------------\n-xpack.security.authc.providers: [saml, basic]\n+xpack.security.authc.providers:\n+  saml.saml1:\n+    order: 0\n+    realm: \"saml1\"\n+  basic.basic1:\n+    order: 1\n ------------------------------------------------------------\n \n-The order is important - this will _initiate_ SAML authentication for\n-unauthenticated users, but will _accept_ basic authentication.\n-\n-If {kib} is configured in this way, then users who wish to login with a\n-username and password, can do so by directly accessing the `/login` page in\n-{kib}. This login will not use SAML credentials, and will rely on one of the\n-other security realms within {es}. Only users who have a username and password\n-for a configured {es} authentication realm will be able to login via this page.\n+If {kib} is configured in this way, then users will be presented with the choice", "originalCommit": "9dc5765548365b942adb776ee8d6250003233bb0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyODY2NA==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401228664", "bodyText": "Minor edit, splitting long sentence:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            at the Login Selector screen whether to use username and password, and rely on one\n          \n          \n            \n            at the Login Selector screen. They can provide a username and password, rely on one", "author": "lcawl", "createdAt": "2020-03-31T21:33:44Z", "path": "x-pack/docs/en/security/authentication/saml-guide.asciidoc", "diffHunk": "@@ -782,17 +775,19 @@ example below:\n \n [source, yaml]\n ------------------------------------------------------------\n-xpack.security.authc.providers: [saml, basic]\n+xpack.security.authc.providers:\n+  saml.saml1:\n+    order: 0\n+    realm: \"saml1\"\n+  basic.basic1:\n+    order: 1\n ------------------------------------------------------------\n \n-The order is important - this will _initiate_ SAML authentication for\n-unauthenticated users, but will _accept_ basic authentication.\n-\n-If {kib} is configured in this way, then users who wish to login with a\n-username and password, can do so by directly accessing the `/login` page in\n-{kib}. This login will not use SAML credentials, and will rely on one of the\n-other security realms within {es}. Only users who have a username and password\n-for a configured {es} authentication realm will be able to login via this page.\n+If {kib} is configured in this way, then users will be presented with the choice\n+at the Login Selector screen whether to use username and password, and rely on one", "originalCommit": "9dc5765548365b942adb776ee8d6250003233bb0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM2NDkxMQ==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401364911", "bodyText": "Thanks! I kept and before rely on since these \"other security realms\" are used only when username and password are provided, but let me know if there is a better way to express this (in this sentence we're describing just two options - either SAML or not-SAML).", "author": "azasypkin", "createdAt": "2020-04-01T05:33:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyODY2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4NzkyNA==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401887924", "bodyText": "Hmmm... maybe that will be more obvious if we change the order.  I'll provide a new suggestion.", "author": "lcawl", "createdAt": "2020-04-01T20:25:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyODY2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyOTM5MA==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401229390", "bodyText": "Minor edit, removing future tense:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            a username and password for a configured {es} authentication realm will be able to\n          \n          \n            \n            a username and password for a configured {es} authentication realm can", "author": "lcawl", "createdAt": "2020-03-31T21:35:15Z", "path": "x-pack/docs/en/security/authentication/saml-guide.asciidoc", "diffHunk": "@@ -782,17 +775,19 @@ example below:\n \n [source, yaml]\n ------------------------------------------------------------\n-xpack.security.authc.providers: [saml, basic]\n+xpack.security.authc.providers:\n+  saml.saml1:\n+    order: 0\n+    realm: \"saml1\"\n+  basic.basic1:\n+    order: 1\n ------------------------------------------------------------\n \n-The order is important - this will _initiate_ SAML authentication for\n-unauthenticated users, but will _accept_ basic authentication.\n-\n-If {kib} is configured in this way, then users who wish to login with a\n-username and password, can do so by directly accessing the `/login` page in\n-{kib}. This login will not use SAML credentials, and will rely on one of the\n-other security realms within {es}. Only users who have a username and password\n-for a configured {es} authentication realm will be able to login via this page.\n+If {kib} is configured in this way, then users will be presented with the choice\n+at the Login Selector screen whether to use username and password, and rely on one\n+of the  other security realms within {es}, or log in with SAML. Only users who have\n+a username and password for a configured {es} authentication realm will be able to", "originalCommit": "9dc5765548365b942adb776ee8d6250003233bb0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fcc26c19f6ea35f83e86febc1000ce3d548d7480", "url": "https://github.com/elastic/elasticsearch/commit/fcc26c19f6ea35f83e86febc1000ce3d548d7480", "message": "Merge branch 'master' into issue-xxx-rename-kibana-oidc-endpoint", "committedDate": "2020-04-01T05:17:27Z", "type": "commit"}, {"oid": "c785f8188d793785a888eef84caf4c823307652c", "url": "https://github.com/elastic/elasticsearch/commit/c785f8188d793785a888eef84caf4c823307652c", "message": "Review#1: handle review feedback.", "committedDate": "2020-04-01T05:33:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4ODg3Nw==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401888877", "bodyText": "Trying to make it clear that \"in this sentence we're describing just two options - either SAML or not-SAML\":\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            at the Login Selector UI. They can provide a username and password, and rely on one\n          \n          \n            \n            at the Login Selector UI. They log in with SAML or they provide a username and password and rely on one", "author": "lcawl", "createdAt": "2020-04-01T20:27:14Z", "path": "x-pack/docs/en/security/authentication/saml-guide.asciidoc", "diffHunk": "@@ -782,17 +775,19 @@ example below:\n \n [source, yaml]\n ------------------------------------------------------------\n-xpack.security.authc.providers: [saml, basic]\n+xpack.security.authc.providers:\n+  saml.saml1:\n+    order: 0\n+    realm: \"saml1\"\n+  basic.basic1:\n+    order: 1\n ------------------------------------------------------------\n \n-The order is important - this will _initiate_ SAML authentication for\n-unauthenticated users, but will _accept_ basic authentication.\n-\n-If {kib} is configured in this way, then users who wish to login with a\n-username and password, can do so by directly accessing the `/login` page in\n-{kib}. This login will not use SAML credentials, and will rely on one of the\n-other security realms within {es}. Only users who have a username and password\n-for a configured {es} authentication realm will be able to login via this page.\n+If {kib} is configured in this way, users are presented with a choice\n+at the Login Selector UI. They can provide a username and password, and rely on one", "originalCommit": "c785f8188d793785a888eef84caf4c823307652c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg5NDcyOA==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401894728", "bodyText": "Thanks! Committed your suggestions.", "author": "azasypkin", "createdAt": "2020-04-01T20:38:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4ODg3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg4OTQ4Nw==", "url": "https://github.com/elastic/elasticsearch/pull/50652#discussion_r401889487", "bodyText": "Finishing the edit to this sentence:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            of the  other security realms within {es}, or log in with SAML. Only users who have\n          \n          \n            \n            of the other security realms within {es}. Only users who have", "author": "lcawl", "createdAt": "2020-04-01T20:28:26Z", "path": "x-pack/docs/en/security/authentication/saml-guide.asciidoc", "diffHunk": "@@ -782,17 +775,19 @@ example below:\n \n [source, yaml]\n ------------------------------------------------------------\n-xpack.security.authc.providers: [saml, basic]\n+xpack.security.authc.providers:\n+  saml.saml1:\n+    order: 0\n+    realm: \"saml1\"\n+  basic.basic1:\n+    order: 1\n ------------------------------------------------------------\n \n-The order is important - this will _initiate_ SAML authentication for\n-unauthenticated users, but will _accept_ basic authentication.\n-\n-If {kib} is configured in this way, then users who wish to login with a\n-username and password, can do so by directly accessing the `/login` page in\n-{kib}. This login will not use SAML credentials, and will rely on one of the\n-other security realms within {es}. Only users who have a username and password\n-for a configured {es} authentication realm will be able to login via this page.\n+If {kib} is configured in this way, users are presented with a choice\n+at the Login Selector UI. They can provide a username and password, and rely on one\n+of the  other security realms within {es}, or log in with SAML. Only users who have", "originalCommit": "c785f8188d793785a888eef84caf4c823307652c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8a6fc5af16af28347f47ca0f923f64b70e39ed55", "url": "https://github.com/elastic/elasticsearch/commit/8a6fc5af16af28347f47ca0f923f64b70e39ed55", "message": "Review#2: include new suggestions.\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-04-01T20:37:10Z", "type": "commit"}, {"oid": "446f8a8ca51336a91ca1e7a27f27d0f9a047b98d", "url": "https://github.com/elastic/elasticsearch/commit/446f8a8ca51336a91ca1e7a27f27d0f9a047b98d", "message": "Merge branch 'master' into issue-xxx-rename-kibana-oidc-endpoint", "committedDate": "2020-04-01T20:55:40Z", "type": "commit"}]}