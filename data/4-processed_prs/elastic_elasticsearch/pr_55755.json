{"pr_number": 55755, "pr_title": "Initial documentation for index templates V2", "pr_createdAt": "2020-04-24T22:26:43Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/55755", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkxMjE3Mw==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414912173", "bodyText": "This xref is causing the build failure. You either need to change the anchor in index-templates.asciidoc to [[indices-templates]], or update this xref.\nI think I'd stick with the indices-templates anchor that was used for v1, as there are likely external links to the topic. I know the plural indices is weird, but that pattern is consistent through the rest of the index APIs.", "author": "debadair", "createdAt": "2020-04-24T23:12:03Z", "path": "docs/reference/indices/templates.asciidoc", "diffHunk": "@@ -1,9 +1,21 @@\n-[[indices-templates]]\n+[[indices-templates-v1]]\n === Put index template API\n ++++\n <titleabbrev>Put index template</titleabbrev>\n ++++\n \n+This documentation is about V1 (version 1) index templates, are deprecated and will be replaced by\n+V2 templates. For V2 templates please see the <<indices-templates-v1,V1 template documentation>>.\n+\n+[NOTE]\n+====\n+In {es} 7.8 the `prefer_v2_templates` querystring parameter was introduced to the index, update,\n+bulk, and create index APIs to allow configuring whether to favor V2 or V1 index templates. In 7.x\n+the default value for this parameter is `false` meaning that the V1 index templates take precedence.\n+In 8.x the default value for the parameter is `true` meaning that <<indices-templates,V2 index", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk1OTQzNg==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r415959436", "bodyText": "Sounds good, thanks for taking a look @debadair!", "author": "dakrone", "createdAt": "2020-04-27T16:24:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkxMjE3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkxNDY1OA==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414914658", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            V2 templates. For V2 templates please see the <<indices-templates-v1,V1 template documentation>>.\n          \n          \n            \n            V2 templates. For information about  V2 templates, see <<indices-templates>>.", "author": "debadair", "createdAt": "2020-04-24T23:20:10Z", "path": "docs/reference/indices/templates.asciidoc", "diffHunk": "@@ -1,9 +1,21 @@\n-[[indices-templates]]\n+[[indices-templates-v1]]\n === Put index template API\n ++++\n <titleabbrev>Put index template</titleabbrev>\n ++++\n \n+This documentation is about V1 (version 1) index templates, are deprecated and will be replaced by\n+V2 templates. For V2 templates please see the <<indices-templates-v1,V1 template documentation>>.", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkwNzMyNw==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r415907327", "bodyText": "Should we mention this in the index template (<<index-templates-v2,index templates>>) documentation? (as component templates on their own don't interact with indices in any way)", "author": "andreidan", "createdAt": "2020-04-27T15:22:44Z", "path": "docs/reference/indices/component-templates.asciidoc", "diffHunk": "@@ -0,0 +1,272 @@\n+[[component-templates]]\n+=== Component template API\n+++++\n+<titleabbrev>Component template</titleabbrev>\n+++++\n+\n+Component templates are building blocks that specify mappings, settings, or alias configuration, but\n+don't apply to a set of indices themselves. To be used a component template must be specified in the\n+`composed_of` of an <<index-templates,index template>>.\n+\n+[source,console]\n+--------------------------------------------------\n+PUT _component_template/template_1\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+//////////////////////////\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _component_template/template_*\n+--------------------------------------------------\n+// TEARDOWN\n+\n+//////////////////////////\n+\n+[[put-component-template-api-request]]\n+==== {api-request-title}\n+\n+`PUT /_component_template/<component-template>`\n+\n+\n+[[put-component-template-api-desc]]\n+==== {api-description-title}\n+\n+Use the PUT component template API to create or update a component template.\n+\n+// tag::component-template-def[]\n+Component templates define <<index-modules-settings,settings>>, <<mapping,mappings>>, and\n+<<indices-aliases,aliases>> that you can automatically apply when creating new indices. On their own\n+component templates are not matched or applied to an index, instead they are used in the\n+`composed_of` definition of an <<index-templates-v2,index template>> to make up the final index\n+configuration.\n+// end::component-template-def[]\n+\n+Component templates are only used during index creation.\n+Changes to component templates do not affect existing indices.\n+Settings and mappings specified in <<indices-create-index, create index>> API requests\n+override any settings or mappings specified in a component template.", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk1OTAwMQ==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r415959001", "bodyText": "I do have a mention of this at the top of the index template docs, but I can make it a bit clearer.", "author": "dakrone", "createdAt": "2020-04-27T16:23:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkwNzMyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkxMTc2Mg==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r415911762", "bodyText": "is a \"which\" missing here? ie. This documentation is about V1 (version 1) index templates, *which* are deprecated and will be replaced", "author": "andreidan", "createdAt": "2020-04-27T15:28:02Z", "path": "docs/reference/indices/templates.asciidoc", "diffHunk": "@@ -1,9 +1,21 @@\n-[[indices-templates]]\n+[[indices-templates-v1]]\n === Put index template API\n ++++\n <titleabbrev>Put index template</titleabbrev>\n ++++\n \n+This documentation is about V1 (version 1) index templates, are deprecated and will be replaced by", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk1Njk2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r415956963", "bodyText": "Yes it is missing a \"which\", thanks!", "author": "dakrone", "createdAt": "2020-04-27T16:21:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkxMTc2Mg=="}], "type": "inlineReview"}, {"oid": "d95568b535b46342f9dab537d89a340a51c2b783", "url": "https://github.com/elastic/elasticsearch/commit/d95568b535b46342f9dab537d89a340a51c2b783", "message": "Initial documentation for index templates V2\n\nThis commit adds the initial document for version two index templates. Since these are intended to\nbe used in favor of V1 index templates, this re-uses the anchors for index templates to point to the\nV2 APIs, renaming the V1 template docs' anchors (this was a suggestion from the docs team).\n\nThere is more documentation that can be written, but this is a start.\n\nRelates to #53101", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "b59d6373e8e85fc37b32632c8dd0838e458c695e", "url": "https://github.com/elastic/elasticsearch/commit/b59d6373e8e85fc37b32632c8dd0838e458c695e", "message": "Fix anchor reference", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "3196ed2c9a14903459a286497fb84e5f8a2a22f3", "url": "https://github.com/elastic/elasticsearch/commit/3196ed2c9a14903459a286497fb84e5f8a2a22f3", "message": "Add reference in indices.asciidoc", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "e758abad1e7464670bd58af313494d0e29246f3e", "url": "https://github.com/elastic/elasticsearch/commit/e758abad1e7464670bd58af313494d0e29246f3e", "message": "Try not to re-use header anchors", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "7b456d5f887fc1c03294bba9f3d634ed514014d9", "url": "https://github.com/elastic/elasticsearch/commit/7b456d5f887fc1c03294bba9f3d634ed514014d9", "message": "Fix anchor", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "7929b8973d70c9ae22541bd7a7be663b73be8fe2", "url": "https://github.com/elastic/elasticsearch/commit/7929b8973d70c9ae22541bd7a7be663b73be8fe2", "message": "Update docs/reference/indices/templates.asciidoc\n\nCo-Authored-By: debadair <debadair@elastic.co>", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "6df2bc48987a16b6c215d1795fedfca0242be49d", "url": "https://github.com/elastic/elasticsearch/commit/6df2bc48987a16b6c215d1795fedfca0242be49d", "message": "Add missing word \"which\"", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "6d1a9163af8e93ca2fcb47a90d54afd81f06fb44", "url": "https://github.com/elastic/elasticsearch/commit/6d1a9163af8e93ca2fcb47a90d54afd81f06fb44", "message": "Enhance wording about overridden settings", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "2545a4ce689f7e454409d995b046973624db79e8", "url": "https://github.com/elastic/elasticsearch/commit/2545a4ce689f7e454409d995b046973624db79e8", "message": "Include component templates in indices docs", "committedDate": "2020-04-27T16:42:07Z", "type": "commit"}, {"oid": "2545a4ce689f7e454409d995b046973624db79e8", "url": "https://github.com/elastic/elasticsearch/commit/2545a4ce689f7e454409d995b046973624db79e8", "message": "Include component templates in indices docs", "committedDate": "2020-04-27T16:42:07Z", "type": "forcePushed"}, {"oid": "5560ed5a234c5c0ead6620bccf325a1aad091c21", "url": "https://github.com/elastic/elasticsearch/commit/5560ed5a234c5c0ead6620bccf325a1aad091c21", "message": "Revert to old header so cross-team links still work", "committedDate": "2020-04-27T16:49:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkyMjU2NA==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414922564", "bodyText": "This change makes sense, but you might want/need to add an entry in redirects.asciidoc for index-templates if you go with indices-templates for the v2 topic.", "author": "debadair", "createdAt": "2020-04-24T23:47:44Z", "path": "docs/reference/indices.asciidoc", "diffHunk": "@@ -47,13 +47,18 @@ index settings, aliases, mappings, and index templates.\n * <<indices-analyze>>\n \n [float]\n-[[index-templates]]\n+[[index-template-apis]]", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkyMzY2NA==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414923664", "bodyText": "To be consistent with the other index APIs, this should be [[indices-component-template]]", "author": "debadair", "createdAt": "2020-04-24T23:51:30Z", "path": "docs/reference/indices/component-templates.asciidoc", "diffHunk": "@@ -0,0 +1,272 @@\n+[[component-templates]]", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkyNTg3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414925876", "bodyText": "If we want to preserve the existing URL, this should be [[indices-templates]].\nTo be consistent with the other index APIs, it really should be [[indices-index-template]].\nIf you do change it, add an entry to redirects.asciidoc.", "author": "debadair", "createdAt": "2020-04-24T23:59:31Z", "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -0,0 +1,413 @@\n+[[index-templates]]", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkyNzg2Mg==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414927862", "bodyText": "I don't think we need a v1 version of this tag.", "author": "debadair", "createdAt": "2020-04-25T00:07:03Z", "path": "docs/reference/indices/templates.asciidoc", "diffHunk": "@@ -42,24 +54,24 @@ DELETE _template/template_*\n \n //////////////////////////\n \n-[[put-index-template-api-request]]\n+[[put-index-template-v1-api-request]]\n ==== {api-request-title}\n \n `PUT /_template/<index-template>`\n \n \n-[[put-index-template-api-desc]]\n+[[put-index-template-v1-api-desc]]\n ==== {api-description-title}\n \n Use the PUT index template API\n to create or update an index template.\n \n-// tag::index-template-def[]\n+// tag::index-template-v1-def[]", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkzMzQyMw==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414933423", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Component templates are building blocks that specify mappings, settings, or alias configuration, but\n          \n          \n            \n            don't apply to a set of indices themselves. Index patterns can also optionally specify settings,\n          \n          \n            \n            mappings, and aliases, as well as a list of component templates that should be merged in a given\n          \n          \n            \n            order to generate the final index settings.\n          \n          \n            \n            Component templates are reusable building blocks that configure mappings, settings, and aliases.\n          \n          \n            \n            You use component templates to construct index templates, they aren't directly applied to a set of indices. \n          \n          \n            \n            Index templates can contain a collection of component templates, \n          \n          \n            \n            as well as directly specify settings, mappings, and aliases.", "author": "debadair", "createdAt": "2020-04-25T00:29:12Z", "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -0,0 +1,413 @@\n+[[index-templates]]\n+=== Index template API\n+++++\n+<titleabbrev>Index template</titleabbrev>\n+++++\n+\n+This documentation is about V2 (version 2) index templates. For V1 templates please see the\n+<<indices-templates-v1,V1 template documentation>>.\n+\n+[NOTE]\n+====\n+In {es} 7.8 the `prefer_v2_templates` querystring parameter was introduced to the index, update,\n+bulk, and create index APIs to allow configuring whether to favor V2 or V1 index templates. In 7.x\n+the default value for this parameter is `false` meaning that the <<indices-templates-v1,V1 index\n+templates>> take precedence. In 8.x the default value for the parameter is `true` meaning that V2\n+index templates take precedence (V1 templates may still match if no V2 template matches).\n+====\n+\n+An index template is a way to tell {es} how to configure an index when it is created. Templates are\n+configured prior to index creation and then when an index is created either manually or through\n+indexing a document, the template settings are used as a basis for creating the index.\n+\n+There are two types of templates, index templates and <<component-templates,component templates>>.\n+Component templates are building blocks that specify mappings, settings, or alias configuration, but\n+don't apply to a set of indices themselves. Index patterns can also optionally specify settings,\n+mappings, and aliases, as well as a list of component templates that should be merged in a given\n+order to generate the final index settings.", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkzNTAwOA==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414935008", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When an index is created and matches more than one index template, only the index template with the\n          \n          \n            \n            highest priority will be used.\n          \n          \n            \n            If a new index matches more than one index template, the index template with the highest priority is used.", "author": "debadair", "createdAt": "2020-04-25T00:35:45Z", "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -0,0 +1,413 @@\n+[[index-templates]]\n+=== Index template API\n+++++\n+<titleabbrev>Index template</titleabbrev>\n+++++\n+\n+This documentation is about V2 (version 2) index templates. For V1 templates please see the\n+<<indices-templates-v1,V1 template documentation>>.\n+\n+[NOTE]\n+====\n+In {es} 7.8 the `prefer_v2_templates` querystring parameter was introduced to the index, update,\n+bulk, and create index APIs to allow configuring whether to favor V2 or V1 index templates. In 7.x\n+the default value for this parameter is `false` meaning that the <<indices-templates-v1,V1 index\n+templates>> take precedence. In 8.x the default value for the parameter is `true` meaning that V2\n+index templates take precedence (V1 templates may still match if no V2 template matches).\n+====\n+\n+An index template is a way to tell {es} how to configure an index when it is created. Templates are\n+configured prior to index creation and then when an index is created either manually or through\n+indexing a document, the template settings are used as a basis for creating the index.\n+\n+There are two types of templates, index templates and <<component-templates,component templates>>.\n+Component templates are building blocks that specify mappings, settings, or alias configuration, but\n+don't apply to a set of indices themselves. Index patterns can also optionally specify settings,\n+mappings, and aliases, as well as a list of component templates that should be merged in a given\n+order to generate the final index settings.\n+\n+When an index is created and matches more than one index template, only the index template with the\n+highest priority will be used.", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkzNTk2NA==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414935964", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In the case where an index is created with explicit settings, the settings specified in the create\n          \n          \n            \n            index request always take precedence over any setting specified in the index and component\n          \n          \n            \n            templates.\n          \n          \n            \n            If an index is created with explicit settings and also matches an index template, \n          \n          \n            \n            the settings from the create index request take precedence over settings specified in the index template and its component templates.", "author": "debadair", "createdAt": "2020-04-25T00:39:30Z", "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -0,0 +1,413 @@\n+[[index-templates]]\n+=== Index template API\n+++++\n+<titleabbrev>Index template</titleabbrev>\n+++++\n+\n+This documentation is about V2 (version 2) index templates. For V1 templates please see the\n+<<indices-templates-v1,V1 template documentation>>.\n+\n+[NOTE]\n+====\n+In {es} 7.8 the `prefer_v2_templates` querystring parameter was introduced to the index, update,\n+bulk, and create index APIs to allow configuring whether to favor V2 or V1 index templates. In 7.x\n+the default value for this parameter is `false` meaning that the <<indices-templates-v1,V1 index\n+templates>> take precedence. In 8.x the default value for the parameter is `true` meaning that V2\n+index templates take precedence (V1 templates may still match if no V2 template matches).\n+====\n+\n+An index template is a way to tell {es} how to configure an index when it is created. Templates are\n+configured prior to index creation and then when an index is created either manually or through\n+indexing a document, the template settings are used as a basis for creating the index.\n+\n+There are two types of templates, index templates and <<component-templates,component templates>>.\n+Component templates are building blocks that specify mappings, settings, or alias configuration, but\n+don't apply to a set of indices themselves. Index patterns can also optionally specify settings,\n+mappings, and aliases, as well as a list of component templates that should be merged in a given\n+order to generate the final index settings.\n+\n+When an index is created and matches more than one index template, only the index template with the\n+highest priority will be used.\n+\n+In the case where an index is created with explicit settings, the settings specified in the create\n+index request always take precedence over any setting specified in the index and component\n+templates.", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkzNjM2MA==", "url": "https://github.com/elastic/elasticsearch/pull/55755#discussion_r414936360", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Use the PUT index template API to create or update an index template.\n          \n          \n            \n            Creates or updates an index template.", "author": "debadair", "createdAt": "2020-04-25T00:41:10Z", "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -0,0 +1,413 @@\n+[[index-templates]]\n+=== Index template API\n+++++\n+<titleabbrev>Index template</titleabbrev>\n+++++\n+\n+This documentation is about V2 (version 2) index templates. For V1 templates please see the\n+<<indices-templates-v1,V1 template documentation>>.\n+\n+[NOTE]\n+====\n+In {es} 7.8 the `prefer_v2_templates` querystring parameter was introduced to the index, update,\n+bulk, and create index APIs to allow configuring whether to favor V2 or V1 index templates. In 7.x\n+the default value for this parameter is `false` meaning that the <<indices-templates-v1,V1 index\n+templates>> take precedence. In 8.x the default value for the parameter is `true` meaning that V2\n+index templates take precedence (V1 templates may still match if no V2 template matches).\n+====\n+\n+An index template is a way to tell {es} how to configure an index when it is created. Templates are\n+configured prior to index creation and then when an index is created either manually or through\n+indexing a document, the template settings are used as a basis for creating the index.\n+\n+There are two types of templates, index templates and <<component-templates,component templates>>.\n+Component templates are building blocks that specify mappings, settings, or alias configuration, but\n+don't apply to a set of indices themselves. Index patterns can also optionally specify settings,\n+mappings, and aliases, as well as a list of component templates that should be merged in a given\n+order to generate the final index settings.\n+\n+When an index is created and matches more than one index template, only the index template with the\n+highest priority will be used.\n+\n+In the case where an index is created with explicit settings, the settings specified in the create\n+index request always take precedence over any setting specified in the index and component\n+templates.\n+\n+[source,console]\n+--------------------------------------------------\n+PUT _index_template/template_1\n+{\n+  \"index_patterns\": [\"te*\", \"bar*\"],\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1\n+    },\n+    \"mappings\": {\n+      \"_source\": {\n+        \"enabled\": false\n+      },\n+      \"properties\": {\n+        \"host_name\": {\n+          \"type\": \"keyword\"\n+        },\n+        \"created_at\": {\n+          \"type\": \"date\",\n+          \"format\": \"EEE MMM dd HH:mm:ss Z yyyy\"\n+        }\n+      }\n+    },\n+    \"aliases\": {\n+      \"mydata\": { }\n+    }\n+  },\n+  \"priority\": 10,\n+  \"composed_of\": [\"component_template1\", \"other_component_template\"],\n+  \"version\": 3,\n+  \"_meta\": {\n+    \"description\": \"my custom\"\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+//////////////////////////\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE _index_template/template_*\n+DELETE _component_template/*\n+--------------------------------------------------\n+// TEARDOWN\n+\n+//////////////////////////\n+\n+[[put-index-template-api-request]]\n+==== {api-request-title}\n+\n+`PUT /_index_template/<index-template>`\n+\n+\n+[[put-index-template-api-desc]]\n+==== {api-description-title}\n+\n+Use the PUT index template API to create or update an index template.", "originalCommit": "7eabb00a36c8a2c0b6a622772266535b7deb9382", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f11edd75d1cbbe5e7a858cd014d404cee0495830", "url": "https://github.com/elastic/elasticsearch/commit/f11edd75d1cbbe5e7a858cd014d404cee0495830", "message": "Apply suggestions from code review\n\nCo-Authored-By: debadair <debadair@elastic.co>", "committedDate": "2020-04-28T21:43:29Z", "type": "commit"}, {"oid": "3877f405e166eb3237d90ca1b1debb7a73ff8fe5", "url": "https://github.com/elastic/elasticsearch/commit/3877f405e166eb3237d90ca1b1debb7a73ff8fe5", "message": "Change some anchors around", "committedDate": "2020-04-28T21:44:08Z", "type": "commit"}, {"oid": "e63eb6e98a1acf910b5adc026a55188829819192", "url": "https://github.com/elastic/elasticsearch/commit/e63eb6e98a1acf910b5adc026a55188829819192", "message": "Revert to old tag name", "committedDate": "2020-04-28T21:44:52Z", "type": "commit"}]}