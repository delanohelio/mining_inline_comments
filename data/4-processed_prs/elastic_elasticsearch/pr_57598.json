{"pr_number": 57598, "pr_title": "Add index name to refresh mapping task", "pr_createdAt": "2020-06-03T13:09:55Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57598", "timeline": [{"oid": "b4f5892dcdae1fd44196a0fa1388574b23e1b540", "url": "https://github.com/elastic/elasticsearch/commit/b4f5892dcdae1fd44196a0fa1388574b23e1b540", "message": "Update MetadataMappingService.java\n\nrefresh mapping add index name", "committedDate": "2020-06-03T13:08:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk2OTE5Ng==", "url": "https://github.com/elastic/elasticsearch/pull/57598#discussion_r440969196", "bodyText": "Let's add only the index name to the task name. Also, we can just concatenate strings (i.e., \"refresh-mapping[\" + index + \"]\"); no need to use String.format.", "author": "dnhatn", "createdAt": "2020-06-16T16:05:21Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataMappingService.java", "diffHunk": "@@ -198,7 +198,7 @@ private boolean refreshIndexMapping(IndexService indexService, IndexMetadata.Bui\n      */\n     public void refreshMapping(final String index, final String indexUUID) {\n         final RefreshTask refreshTask = new RefreshTask(index, indexUUID);\n-        clusterService.submitStateUpdateTask(\"refresh-mapping\",\n+        clusterService.submitStateUpdateTask(String.format(\"refresh-mapping [%s/%s]\", index, indexUUID),", "originalCommit": "b4f5892dcdae1fd44196a0fa1388574b23e1b540", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "da0714a60f5cfc188b86fb9923b00490e5d31cb3", "url": "https://github.com/elastic/elasticsearch/commit/da0714a60f5cfc188b86fb9923b00490e5d31cb3", "message": "Update MetadataMappingService.java\n\nAdd index name to the refresh-mapping task name.", "committedDate": "2020-06-17T11:59:42Z", "type": "commit"}, {"oid": "f163661c3b79ff474130aeea774944fb0f7a0c1f", "url": "https://github.com/elastic/elasticsearch/commit/f163661c3b79ff474130aeea774944fb0f7a0c1f", "message": "Merge branch 'master' into refresh_mapping_index_name", "committedDate": "2020-06-17T13:56:40Z", "type": "commit"}]}