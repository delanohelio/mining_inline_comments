{"pr_number": 58749, "pr_title": "Prohibit custom _routing for index requests targetting a data stream", "pr_createdAt": "2020-06-30T13:40:20Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/58749", "timeline": [{"oid": "d2b918fdb9c90f6ac5cd5d670e2440e1baafb29d", "url": "https://github.com/elastic/elasticsearch/commit/d2b918fdb9c90f6ac5cd5d670e2440e1baafb29d", "message": "Prohibit custom _routing for index requests targetting a data stream", "committedDate": "2020-06-30T13:37:52Z", "type": "commit"}, {"oid": "0719393ba45d47cae6b4a30b2caf4c65e3348255", "url": "https://github.com/elastic/elasticsearch/commit/0719393ba45d47cae6b4a30b2caf4c65e3348255", "message": "Fix line length", "committedDate": "2020-06-30T13:55:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEzNjY4MA==", "url": "https://github.com/elastic/elasticsearch/pull/58749#discussion_r448136680", "bodyText": "This caused a lot of unrelated changes. Maybe not statically import getDefaultBackingIndexName() method?", "author": "martijnvg", "createdAt": "2020-07-01T06:13:19Z", "path": "server/src/internalClusterTest/java/org/elasticsearch/indices/DataStreamIT.java", "diffHunk": "@@ -115,23 +116,23 @@ public void testBasicScenario() throws Exception {\n         assertThat(getDataStreamResponse.getDataStreams().get(0).getTimeStampField().getFieldMapping(), equalTo(Map.of(\"type\", \"date\")));\n         assertThat(getDataStreamResponse.getDataStreams().get(0).getIndices().size(), equalTo(1));\n         assertThat(getDataStreamResponse.getDataStreams().get(0).getIndices().get(0).getName(),\n-            equalTo(DataStream.getDefaultBackingIndexName(\"metrics-bar\", 1)));", "originalCommit": "0719393ba45d47cae6b4a30b2caf4c65e3348255", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e659374805c9f92f8308ec4a2b85f6ef1de6e3f5", "url": "https://github.com/elastic/elasticsearch/commit/e659374805c9f92f8308ec4a2b85f6ef1de6e3f5", "message": "Remove static import", "committedDate": "2020-07-01T08:01:14Z", "type": "commit"}, {"oid": "552aa9c9d789f98b14e61c0353b7b4c9dfc5ee69", "url": "https://github.com/elastic/elasticsearch/commit/552aa9c9d789f98b14e61c0353b7b4c9dfc5ee69", "message": "Merge branch 'master' into data-stream-custom-routing-validation", "committedDate": "2020-07-01T08:03:31Z", "type": "commit"}]}