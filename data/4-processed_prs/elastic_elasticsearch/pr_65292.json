{"pr_number": 65292, "pr_title": "Simplify how source is passed to fetch subphases.", "pr_createdAt": "2020-11-20T01:57:24Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/65292", "timeline": [{"oid": "2f7aa945466aec3c8ad2a5277dc3f9a983363e33", "url": "https://github.com/elastic/elasticsearch/commit/2f7aa945466aec3c8ad2a5277dc3f9a983363e33", "message": "Add a test for an edge case we previously encountered.", "committedDate": "2020-11-20T01:31:48Z", "type": "commit"}, {"oid": "4da8764d3e0b42e3b584413eae516bb6d8101d21", "url": "https://github.com/elastic/elasticsearch/commit/4da8764d3e0b42e3b584413eae516bb6d8101d21", "message": "Simplify how source is passed to fetch subphases.", "committedDate": "2020-11-20T01:31:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM0NTkyNQ==", "url": "https://github.com/elastic/elasticsearch/pull/65292#discussion_r527345925", "bodyText": "This protects against reintroducing the bug in #31000. I should have added this test when fixing the bug originally, but better late than never!", "author": "jtibshirani", "createdAt": "2020-11-20T02:00:21Z", "path": "modules/lang-painless/src/yamlRestTest/resources/rest-api-spec/test/painless/80_script_score.yml", "diffHunk": "@@ -546,3 +546,46 @@\n   - match: {hits.hits.0.highlight.company.0: \"<em>ABC</em> company\"}\n   - match: {hits.hits.1.highlight.company.0: \"<em>ABC</em> <em>ABCD</em> company\"}\n   - match: {hits.hits.2.highlight.company.0: \"<em>ABCD</em> company\"}\n+\n+---\n+# This test guards against a subtle edge case in the fetch phase related to source-loading and", "originalCommit": "4da8764d3e0b42e3b584413eae516bb6d8101d21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f974efbf7e25f7b27872dfa003c45fc470cf5822", "url": "https://github.com/elastic/elasticsearch/commit/f974efbf7e25f7b27872dfa003c45fc470cf5822", "message": "Merge remote-tracking branch 'upstream/master' into share-search-lookup", "committedDate": "2020-11-20T18:19:57Z", "type": "commit"}, {"oid": "1ef263d3e6bcb13924e22cb65be850183f364bad", "url": "https://github.com/elastic/elasticsearch/commit/1ef263d3e6bcb13924e22cb65be850183f364bad", "message": "Correct the document ID passed to the script lookup.", "committedDate": "2020-11-20T18:31:21Z", "type": "commit"}]}