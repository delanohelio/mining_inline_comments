{"pr_number": 58240, "pr_title": "Delete auto-generated annotations when model snapshot is reverted", "pr_createdAt": "2020-06-17T11:04:41Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/58240", "timeline": [{"oid": "1c2d1fc9122ec9e7a50dd84197db0af8e6c9ed76", "url": "https://github.com/elastic/elasticsearch/commit/1c2d1fc9122ec9e7a50dd84197db0af8e6c9ed76", "message": "Remove auto-generated annotations after reverting snapshot", "committedDate": "2020-06-17T12:03:05Z", "type": "forcePushed"}, {"oid": "24a6a52dc1dea9a0bbcab25c33333037e749682c", "url": "https://github.com/elastic/elasticsearch/commit/24a6a52dc1dea9a0bbcab25c33333037e749682c", "message": "Remove auto-generated annotations after reverting snapshot", "committedDate": "2020-06-17T12:03:37Z", "type": "forcePushed"}, {"oid": "7e12825d2677e300bf4c65c5ac9b01df9f532e54", "url": "https://github.com/elastic/elasticsearch/commit/7e12825d2677e300bf4c65c5ac9b01df9f532e54", "message": "Remove auto-generated annotations after reverting snapshot", "committedDate": "2020-06-17T13:18:22Z", "type": "forcePushed"}, {"oid": "19922f568cffd99d6c49c5d202b6a7ef5762c0d8", "url": "https://github.com/elastic/elasticsearch/commit/19922f568cffd99d6c49c5d202b6a7ef5762c0d8", "message": "Remove auto-generated annotations after reverting snapshot", "committedDate": "2020-06-18T07:10:23Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjExNTAzNA==", "url": "https://github.com/elastic/elasticsearch/pull/58240#discussion_r442115034", "bodyText": "It would be best if the job ID was passed as an argument and the two test cases set it to different values.  This will be helpful if a completely different test fails because of a side effect of one of these two tests.  (A long time ago almost all our integration tests used the same names, like job and foo, but this was a nightmare when a test failed because a job called job or foo was left over from an earlier test not completing as expected, so we tried to change all the integration test job names to be unique to a particular test.)", "author": "droberts195", "createdAt": "2020-06-18T10:05:10Z", "path": "x-pack/plugin/ml/qa/native-multi-node-tests/src/test/java/org/elasticsearch/xpack/ml/integration/RevertModelSnapshotIT.java", "diffHunk": "@@ -50,7 +62,15 @@ public void tearDownData() throws Exception {\n         cleanUp();\n     }\n \n-    public void test() throws Exception {\n+    public void testRevertModelSnapshot() throws Exception {\n+        test(false);\n+    }\n+\n+    public void testRevertModelSnapshot_DeleteInterveningResults() throws Exception {\n+        test(true);\n+    }\n+\n+    private void test(boolean deleteInterveningResults) throws Exception {", "originalCommit": "19922f568cffd99d6c49c5d202b6a7ef5762c0d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE2NTI3OA==", "url": "https://github.com/elastic/elasticsearch/pull/58240#discussion_r442165278", "bodyText": "Done.", "author": "przemekwitek", "createdAt": "2020-06-18T11:45:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjExNTAzNA=="}], "type": "inlineReview"}, {"oid": "d5d3d0592740b0f56c7723794d89814c3de97f57", "url": "https://github.com/elastic/elasticsearch/commit/d5d3d0592740b0f56c7723794d89814c3de97f57", "message": "Remove auto-generated annotations after reverting snapshot", "committedDate": "2020-06-18T13:45:23Z", "type": "commit"}, {"oid": "e8918fc5a60a6bdc5296d4830c45c1e276cbb5c0", "url": "https://github.com/elastic/elasticsearch/commit/e8918fc5a60a6bdc5296d4830c45c1e276cbb5c0", "message": "Apply review comment", "committedDate": "2020-06-18T13:45:23Z", "type": "commit"}, {"oid": "e8918fc5a60a6bdc5296d4830c45c1e276cbb5c0", "url": "https://github.com/elastic/elasticsearch/commit/e8918fc5a60a6bdc5296d4830c45c1e276cbb5c0", "message": "Apply review comment", "committedDate": "2020-06-18T13:45:23Z", "type": "forcePushed"}]}