{"pr_number": 56447, "pr_title": "Always use archive base name as the pom artifact id", "pr_createdAt": "2020-05-08T17:08:43Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56447", "timeline": [{"oid": "e78027dee587685840ffaed415d8dd806801a266", "url": "https://github.com/elastic/elasticsearch/commit/e78027dee587685840ffaed415d8dd806801a266", "message": "Always use archive base name as the pom artifact id", "committedDate": "2020-05-08T16:45:58Z", "type": "commit"}, {"oid": "dadc67de07571d883bb5bc58d10503c292500475", "url": "https://github.com/elastic/elasticsearch/commit/dadc67de07571d883bb5bc58d10503c292500475", "message": "Set artifactId on publication and remove unnecessary overrides", "committedDate": "2020-05-08T17:45:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMxMjA0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/56447#discussion_r422312049", "bodyText": "it's unfortunate MavenPublication doesn't use Providers :/", "author": "rjernst", "createdAt": "2020-05-08T18:51:27Z", "path": "buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy", "diffHunk": "@@ -328,6 +328,11 @@ class BuildPlugin implements Plugin<Project> {\n                     }\n                 }\n                 generatePomTask.configure({ Task t -> t.dependsOn = ['generatePomFileForShadowPublication'] } as Action<Task>)\n+\n+                // have to defer this until archivesBaseName is set\n+                project.afterEvaluate {\n+                    publication.artifactId = project.convention.getPlugin(BasePluginConvention).archivesBaseName", "originalCommit": "dadc67de07571d883bb5bc58d10503c292500475", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMxMzA0MA==", "url": "https://github.com/elastic/elasticsearch/pull/56447#discussion_r422313040", "bodyText": "My thoughts exactly.", "author": "mark-vieira", "createdAt": "2020-05-08T18:53:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMxMjA0OQ=="}], "type": "inlineReview"}]}