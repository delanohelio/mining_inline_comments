{"pr_number": 55981, "pr_title": "Fix input snapshotting for test tasks", "pr_createdAt": "2020-04-29T21:21:07Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/55981", "timeline": [{"oid": "01e2190e4bcedde750e7077c9001c85093401546", "url": "https://github.com/elastic/elasticsearch/commit/01e2190e4bcedde750e7077c9001c85093401546", "message": "Fix input snapshotting for test tasks", "committedDate": "2020-04-29T21:19:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYyNjg2NQ==", "url": "https://github.com/elastic/elasticsearch/pull/55981#discussion_r417626865", "bodyText": "Oh, there is a bug here due to my previous PR, can you fix? heapdumpDir is a variable here that needs to be resolved, not a literal in the setting value.", "author": "rjernst", "createdAt": "2020-04-29T21:36:02Z", "path": "buildSrc/src/main/java/org/elasticsearch/gradle/ElasticsearchJavaPlugin.java", "diffHunk": "@@ -269,7 +276,7 @@ public static void configureTestTasks(Project project) {\n                 \"-XX:+HeapDumpOnOutOfMemoryError\"\n             );\n \n-            test.getJvmArgumentProviders().add(() -> List.of(\"-XX:HeapDumpPath=$heapdumpDir\"));\n+            test.getJvmArgumentProviders().add(new SimpleCommandLineArgumentProvider(\"-XX:HeapDumpPath=$heapdumpDir\"));", "originalCommit": "01e2190e4bcedde750e7077c9001c85093401546", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYyNzUyOA==", "url": "https://github.com/elastic/elasticsearch/pull/55981#discussion_r417627528", "bodyText": "Good catch! Fixed.", "author": "mark-vieira", "createdAt": "2020-04-29T21:37:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYyNjg2NQ=="}], "type": "inlineReview"}, {"oid": "c8be0501a9ad6c9a0aae01c8ce7b9c78b7650d2d", "url": "https://github.com/elastic/elasticsearch/commit/c8be0501a9ad6c9a0aae01c8ce7b9c78b7650d2d", "message": "Java doesn't do string interpolation", "committedDate": "2020-04-29T21:37:07Z", "type": "commit"}]}