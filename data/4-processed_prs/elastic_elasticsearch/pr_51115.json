{"pr_number": 51115, "pr_title": "[ML] DF Analytics _explain API should skip object fields", "pr_createdAt": "2020-01-16T16:48:49Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/51115", "timeline": [{"oid": "253387728d2a9d59a60e99158d4e7e3f4b1ad6b0", "url": "https://github.com/elastic/elasticsearch/commit/253387728d2a9d59a60e99158d4e7e3f4b1ad6b0", "message": "[ML] DF Analytics _explain API should skip object fields\n\nObject fields cannot be used as features. At the moment _explain\nAPI includes them and even worse it allows it does not error when\nan object field is excluded. This creates the expectation to the\nuser that all children fields will also be excluded while it's not\nthe case.\n\nThis commit omits object fields from the _explain API and also\nadds an error if an object field is included or excluded.", "committedDate": "2020-01-16T16:43:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUzMTkyMA==", "url": "https://github.com/elastic/elasticsearch/pull/51115#discussion_r367531920", "bodyText": "This was stated twice in this paragraph so I took the chance to clean it up here.", "author": "dimitris-athanasiou", "createdAt": "2020-01-16T16:49:14Z", "path": "docs/reference/ml/df-analytics/apis/explain-dfanalytics.asciidoc", "diffHunk": "@@ -45,9 +45,10 @@ The following explanations are provided:\n \n * which fields are included or not in the analysis and why,\n * how much memory is estimated to be required. The estimate can be used when \n-  deciding the appropriate value for `model_memory_limit` setting later on,\n+  deciding the appropriate value for `model_memory_limit` setting later on.\n \n-about either an existing {dfanalytics-job} or one that has not been created yet.", "originalCommit": "253387728d2a9d59a60e99158d4e7e3f4b1ad6b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgwNjA2Nw==", "url": "https://github.com/elastic/elasticsearch/pull/51115#discussion_r367806067", "bodyText": "static", "author": "przemekwitek", "createdAt": "2020-01-17T07:53:05Z", "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/dataframe/extractor/ExtractedFieldsDetector.java", "diffHunk": "@@ -394,4 +421,8 @@ private void addIncludedFields(ExtractedFields extractedFields, Set<FieldSelecti\n     private static boolean isBoolean(Set<String> types) {\n         return types.size() == 1 && types.contains(BooleanFieldMapper.CONTENT_TYPE);\n     }\n+\n+    private boolean isObject(Set<String> types) {", "originalCommit": "253387728d2a9d59a60e99158d4e7e3f4b1ad6b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "93dd9a227a1ac4cf221f476b96be78bc1a5c6745", "url": "https://github.com/elastic/elasticsearch/commit/93dd9a227a1ac4cf221f476b96be78bc1a5c6745", "message": "Merge branch 'master' into exclude-objects-from-dfa-explain-api", "committedDate": "2020-01-17T09:30:10Z", "type": "commit"}]}