{"pr_number": 52638, "pr_title": "Discourage from opting in for the `niofs` store.", "pr_createdAt": "2020-02-21T13:29:14Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/52638", "timeline": [{"oid": "0349d68d28d48286ae17157535eb305677cce3ad", "url": "https://github.com/elastic/elasticsearch/commit/0349d68d28d48286ae17157535eb305677cce3ad", "message": "Discourage from opting in for the `niofs` store.\n\nIndices open with the `niofs` store type load much more data on-heap than\nindices open with the `mmapfs` store type. This limitation is now documented\nand examples have been updated to show how to update settings to use the\n`mmapfs` store type rather than `niofs`.", "committedDate": "2020-02-21T13:23:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU5MzkwOQ==", "url": "https://github.com/elastic/elasticsearch/pull/52638#discussion_r382593909", "bodyText": "should this instead be fs (i.e. the default, which is hybridfs)?", "author": "ywelsch", "createdAt": "2020-02-21T13:57:46Z", "path": "docs/reference/index-modules/store.asciidoc", "diffHunk": "@@ -16,7 +20,7 @@ This can be overridden for all indices by adding this to the\n \n [source,yaml]\n ---------------------------------\n-index.store.type: niofs\n+index.store.type: mmapfs", "originalCommit": "0349d68d28d48286ae17157535eb305677cce3ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU5Nzk3MA==", "url": "https://github.com/elastic/elasticsearch/pull/52638#discussion_r382597970", "bodyText": "The above line says that \"[Defaults] can be overridden\" this way, so I thought that it might be confusing to use the default store type in this example?", "author": "jpountz", "createdAt": "2020-02-21T14:05:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU5MzkwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYwNDUyOA==", "url": "https://github.com/elastic/elasticsearch/pull/52638#discussion_r382604528", "bodyText": "Perhaps we can change the phrasing to:\n\nThe storage type can also be explicitly set for all indices by configuring the store type in the config/elasticsearch.yml file:\n\nand then use hybridfs as an example?", "author": "ywelsch", "createdAt": "2020-02-21T14:18:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU5MzkwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU5Mzk3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/52638#discussion_r382593976", "bodyText": "same here", "author": "ywelsch", "createdAt": "2020-02-21T13:57:53Z", "path": "docs/reference/index-modules/store.asciidoc", "diffHunk": "@@ -27,7 +31,7 @@ creation time:\n PUT /my_index\n {\n   \"settings\": {\n-    \"index.store.type\": \"niofs\"\n+    \"index.store.type\": \"mmapfs\"", "originalCommit": "0349d68d28d48286ae17157535eb305677cce3ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "547c82f2f79ffaedd371e1ca14eaabc95bb2fa85", "url": "https://github.com/elastic/elasticsearch/commit/547c82f2f79ffaedd371e1ca14eaabc95bb2fa85", "message": "Apply @ywelsch 's suggestions", "committedDate": "2020-02-21T14:22:24Z", "type": "commit"}]}