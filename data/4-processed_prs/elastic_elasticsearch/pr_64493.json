{"pr_number": 64493, "pr_title": "Make legacy template noop updates not change cluster state", "pr_createdAt": "2020-11-02T16:32:53Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/64493", "timeline": [{"oid": "afa77e5be9b5a53ab71daba3a7c7ce35c794f267", "url": "https://github.com/elastic/elasticsearch/commit/afa77e5be9b5a53ab71daba3a7c7ce35c794f267", "message": "Make legacy template noop updates not change cluster state\n\nWhen a legacy template does not change, there is no need to create and publish a new cluster state,\nrather the update should be a noop.\n\nRelates to #57851\nResolves #57662", "committedDate": "2020-11-02T16:30:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMTk2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/64493#discussion_r516101963", "bodyText": "This seems to be related to composable templates, the mentioned PR was abandoned though. Is this really fixed? Or was this muted by accident initially?", "author": "andreidan", "createdAt": "2020-11-02T16:38:38Z", "path": "server/src/test/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateServiceTests.java", "diffHunk": "@@ -727,7 +749,6 @@ public void testFindV2InvalidGlobalTemplate() {\n         }\n     }\n \n-    @AwaitsFix(bugUrl = \"https://github.com/elastic/elasticsearch/pull/57393\")", "originalCommit": "afa77e5be9b5a53ab71daba3a7c7ce35c794f267", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMzAxNw==", "url": "https://github.com/elastic/elasticsearch/pull/64493#discussion_r516103017", "bodyText": "It was fixed in the past with Julie's mappings merging, the test was just never unmuted (it's fixed now though)", "author": "dakrone", "createdAt": "2020-11-02T16:40:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMTk2Mw=="}], "type": "inlineReview"}, {"oid": "1020337f7ce50f215250f537a552965c89fa5635", "url": "https://github.com/elastic/elasticsearch/commit/1020337f7ce50f215250f537a552965c89fa5635", "message": "Fix IndexTemplateMetadata equals and hashCode methods", "committedDate": "2020-11-02T17:13:02Z", "type": "commit"}]}