{"pr_number": 63098, "pr_title": "[ML] adding `baseline` field to total_feature_importance objects", "pr_createdAt": "2020-09-30T19:17:41Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/63098", "timeline": [{"oid": "eabce987728878cc1564c67ff3073c268d9e5256", "url": "https://github.com/elastic/elasticsearch/commit/eabce987728878cc1564c67ff3073c268d9e5256", "message": "[ML] adding `baseline` field to total_feature_importance objects", "committedDate": "2020-09-30T19:15:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk5NTExMA==", "url": "https://github.com/elastic/elasticsearch/pull/63098#discussion_r497995110", "bodyText": "Just double-checking: does this line need version condition?", "author": "przemekwitek", "createdAt": "2020-10-01T05:41:53Z", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/metadata/TotalFeatureImportance.java", "diffHunk": "@@ -124,27 +125,31 @@ public int hashCode() {\n         private static ConstructingObjectParser<Importance, Void> createParser(boolean ignoreUnknownFields) {\n             ConstructingObjectParser<Importance, Void> parser = new ConstructingObjectParser<>(NAME,\n                 ignoreUnknownFields,\n-                a -> new Importance((double)a[0], (double)a[1], (double)a[2]));\n+                a -> new Importance((double)a[0], (double)a[1], (double)a[2], (Double)a[3]));\n             parser.declareDouble(ConstructingObjectParser.constructorArg(), MEAN_MAGNITUDE);\n             parser.declareDouble(ConstructingObjectParser.constructorArg(), MIN);\n             parser.declareDouble(ConstructingObjectParser.constructorArg(), MAX);\n+            parser.declareDouble(ConstructingObjectParser.optionalConstructorArg(), BASELINE);\n             return parser;\n         }\n \n         private final double meanMagnitude;\n         private final double min;\n         private final double max;\n+        private final Double baseline;\n \n-        public Importance(double meanMagnitude, double min, double max) {\n+        public Importance(double meanMagnitude, double min, double max, Double baseline) {\n             this.meanMagnitude = meanMagnitude;\n             this.min = min;\n             this.max = max;\n+            this.baseline = baseline;\n         }\n \n         public Importance(StreamInput in) throws IOException {\n             this.meanMagnitude = in.readDouble();\n             this.min = in.readDouble();\n             this.max = in.readDouble();\n+            this.baseline = in.readOptionalDouble();", "originalCommit": "eabce987728878cc1564c67ff3073c268d9e5256", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE3NTYxOQ==", "url": "https://github.com/elastic/elasticsearch/pull/63098#discussion_r498175619", "bodyText": "@przemekwitek thanks for double checking :D.\nNo, it doesn't. This feature is a 7.10 feature. Consequently this serialization object was only introduced in 7.10.", "author": "benwtrent", "createdAt": "2020-10-01T11:34:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk5NTExMA=="}], "type": "inlineReview"}]}