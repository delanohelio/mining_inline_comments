{"pr_number": 56538, "pr_title": "docs: [apm] link to master in n.x branches", "pr_createdAt": "2020-05-11T19:04:16Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56538", "timeline": [{"oid": "a1f833a191f1f001bdf81fce44f8dde29f4014aa", "url": "https://github.com/elastic/elasticsearch/commit/a1f833a191f1f001bdf81fce44f8dde29f4014aa", "message": "docs: [apm] link to master in n.x branches", "committedDate": "2020-05-11T18:52:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2MTA0NQ==", "url": "https://github.com/elastic/elasticsearch/pull/56538#discussion_r423261045", "bodyText": "Should we do something similar if {source_branch} == master?\nI feel like this will make it easier for contributors to use a single set of attributes that just work. That way we won't need to remember to use apm-server-ref-m in master but  apm-server-ref in all other branches.", "author": "jrodewig", "createdAt": "2020-05-11T19:14:50Z", "path": "docs/Versions.asciidoc", "diffHunk": "@@ -73,3 +73,11 @@ Shared attribute values are pulled from elastic/docs\n ///////\n \n include::{asciidoc-dir}/../../shared/attributes.asciidoc[]\n+\n+///////\n+APM does not build n.x documentation. Links from .x branches should point to master instead\n+///////\n+ifeval::[{source_branch} == 7.x]\n+:apm-server-ref:       {apm-server-ref-m}\n+:apm-overview-ref-v:   {apm-overview-ref-m}\n+endif::[]", "originalCommit": "a1f833a191f1f001bdf81fce44f8dde29f4014aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2MzM0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/56538#discussion_r423263349", "bodyText": "The way I set this up, no one should ever have to use apm-server-ref-m. All links, regardless of branch, should still use the apm-server-ref attribute. The -m will only be applied, programmatically, in 7.x. Any other links will still use the {branch} attribute to resolve.", "author": "bmorelli25", "createdAt": "2020-05-11T19:19:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2MTA0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2NDc3Nw==", "url": "https://github.com/elastic/elasticsearch/pull/56538#discussion_r423264777", "bodyText": "Gotcha. Thanks for explaining.", "author": "jrodewig", "createdAt": "2020-05-11T19:21:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2MTA0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2NzU0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/56538#discussion_r423267546", "bodyText": "Cool. In Kib, we originally had it set up like this, which I find a little easier to visualize, but much more difficult to maintain -- hence the attributes replacing attributes in this version.\nifeval::[{branch} == 7.x]\n:apm-server-ref:       https://www.elastic.co/guide/en/apm/server/master\n:apm-overview-ref-v:   https://www.elastic.co/guide/en/apm/get-started/master\nendif::[]", "author": "bmorelli25", "createdAt": "2020-05-11T19:27:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2MTA0NQ=="}], "type": "inlineReview"}, {"oid": "94ad4b2928b2f406c83e65915e1cc28111ea548b", "url": "https://github.com/elastic/elasticsearch/commit/94ad4b2928b2f406c83e65915e1cc28111ea548b", "message": "Fix", "committedDate": "2020-05-11T19:47:30Z", "type": "commit"}]}