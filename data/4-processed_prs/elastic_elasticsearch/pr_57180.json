{"pr_number": 57180, "pr_title": "[DOCS] Add token and HTTPS requirements for Kerberos", "pr_createdAt": "2020-05-26T20:44:47Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57180", "timeline": [{"oid": "1e82767e7b1e5d338db815f1f71878b616c0e989", "url": "https://github.com/elastic/elasticsearch/commit/1e82767e7b1e5d338db815f1f71878b616c0e989", "message": "[DOCS] Add token and HTTPS requirements for Kerberos", "committedDate": "2020-05-26T20:43:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxODk2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r430818963", "bodyText": "The steps below are required if you want to use Kerberos Authentication via Kibana (which most people will want, but maybe not all).\nI think we might want an introductory note here, but it's hard to say it refers to \"the two steps below, but not the subsequent section ...\".", "author": "tvernum", "createdAt": "2020-05-27T02:12:33Z", "path": "x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc", "diffHunk": "@@ -46,6 +46,28 @@ For more information on Java GSS, see\n https://docs.oracle.com/javase/10/security/kerberos-requirements1.htm[Java GSS Kerberos requirements]\n --\n ", "originalCommit": "1e82767e7b1e5d338db815f1f71878b616c0e989", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjEwMzc2Mg==", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r436103762", "bodyText": "Alternatively, we could have indented them both under a \"If you want to use Kerberos with Kibana:\" step, but I think your suggestions are just as clear. Thanks!", "author": "lcawl", "createdAt": "2020-06-05T18:48:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxODk2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxOTM4Ng==", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r430819386", "bodyText": "Maybe it's as simple as just having:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            more information, see <<tls-http>>.\n          \n          \n            \n            more information, see <<tls-http>>.\n          \n          \n            \n            \n          \n          \n            \n            This step is necessary to support Kerberos authentication via {kib}.\n          \n          \n            \n            It is not required for Kerberos authentication directly against the {es} Rest API.", "author": "tvernum", "createdAt": "2020-05-27T02:14:22Z", "path": "x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc", "diffHunk": "@@ -46,6 +46,28 @@ For more information on Java GSS, see\n https://docs.oracle.com/javase/10/security/kerberos-requirements1.htm[Java GSS Kerberos requirements]\n --\n \n+. Enable TLS for HTTP.\n++\n+--\n+If your {es} cluster is operating in production mode, you must configure the\n+HTTP interface to use SSL/TLS before you can enable Kerberos authentication. For\n+more information, see <<tls-http>>.", "originalCommit": "1e82767e7b1e5d338db815f1f71878b616c0e989", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxOTQ1OA==", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r430819458", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ------------------------------------------------------------\n          \n          \n            \n            ------------------------------------------------------------\n          \n          \n            \n            \n          \n          \n            \n            This step is necessary to support Kerberos authentication via {kib}.\n          \n          \n            \n            It is not required for Kerberos authentication directly against the {es} Rest API.", "author": "tvernum", "createdAt": "2020-05-27T02:14:40Z", "path": "x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc", "diffHunk": "@@ -46,6 +46,28 @@ For more information on Java GSS, see\n https://docs.oracle.com/javase/10/security/kerberos-requirements1.htm[Java GSS Kerberos requirements]\n --\n \n+. Enable TLS for HTTP.\n++\n+--\n+If your {es} cluster is operating in production mode, you must configure the\n+HTTP interface to use SSL/TLS before you can enable Kerberos authentication. For\n+more information, see <<tls-http>>.\n+--\n+\n+. Enable the token service\n++\n+--\n+The {es} Kerberos implementation makes use of the {es} token service. If you\n+configure TLS on the HTTP interface, this service is automatically enabled. It\n+can be explicitly configured by adding the following setting in your\n+`elasticsearch.yml` file:\n+\n+[source, yaml]\n+------------------------------------------------------------\n+xpack.security.authc.token.enabled: true\n+------------------------------------------------------------", "originalCommit": "1e82767e7b1e5d338db815f1f71878b616c0e989", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "13050238670f314b57e33f142ad937b64eede1b1", "url": "https://github.com/elastic/elasticsearch/commit/13050238670f314b57e33f142ad937b64eede1b1", "message": "Update x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc\n\nCo-authored-by: Tim Vernum <tim@adjective.org>", "committedDate": "2020-06-05T18:46:30Z", "type": "commit"}, {"oid": "3ea37245b66dcd503e07f500a100d1c9d4041da0", "url": "https://github.com/elastic/elasticsearch/commit/3ea37245b66dcd503e07f500a100d1c9d4041da0", "message": "Update x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc\n\nCo-authored-by: Tim Vernum <tim@adjective.org>", "committedDate": "2020-06-05T18:46:48Z", "type": "commit"}, {"oid": "f1a62abc6e9dfa6fe885a57137fbd2d4d65a8b16", "url": "https://github.com/elastic/elasticsearch/commit/f1a62abc6e9dfa6fe885a57137fbd2d4d65a8b16", "message": "Merge branch 'master' into kerberos-ssl", "committedDate": "2020-06-08T18:47:49Z", "type": "commit"}]}