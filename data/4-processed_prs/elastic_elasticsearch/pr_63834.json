{"pr_number": 63834, "pr_title": "Add release notes for 7.9.3", "pr_createdAt": "2020-10-16T16:35:38Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/63834", "timeline": [{"oid": "f32b340e11c78a800ffc471cad0a2860890f762f", "url": "https://github.com/elastic/elasticsearch/commit/f32b340e11c78a800ffc471cad0a2860890f762f", "message": "Add release notes for 7.9.3", "committedDate": "2020-10-16T16:33:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwMTM4NA==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r506601384", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * [ML][Transform] Filter null objects from field caps request {es-pull}62945[#62945]\n          \n          \n            \n            * Filter null objects from field caps request {es-pull}62945[#62945]", "author": "jrodewig", "createdAt": "2020-10-16T16:54:31Z", "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -1,3 +1,70 @@\n+[[release-notes-7.9.3]]\n+== {es} version 7.9.3\n+\n+coming[7.9.3]\n+\n+Also see <<breaking-changes-7.9,Breaking changes in 7.9>>.\n+\n+[[bug-7.9.3]]\n+[float]\n+=== Bug fixes\n+\n+Allocation::\n+* InternalClusterInfoService should not ignore hidden indices {es-pull}62995[#62995]\n+\n+Audit::\n+* Move RestRequestFilter to core {es-pull}63507[#63507]\n+\n+Authentication::\n+* Ensure domain_name setting for AD realm is present {es-pull}61983[#61983] (issue: {es-issue}61859[#61859])\n+\n+Authorization::\n+* Fix API key role descriptors rewrite bug for upgraded clusters {es-pull}62917[#62917] (issue: {es-issue}62911[#62911])\n+\n+CCR::\n+* Retry CCR shard follow task when no seed node left {es-pull}63225[#63225]\n+\n+Cluster Coordination::\n+* Uniquely associate term with update task during election {es-pull}62212[#62212] (issue: {es-issue}61437[#61437])\n+\n+EQL::\n+* Avoid filtering on tiebreakers {es-pull}63215[#63215] (issue: {es-issue}62781[#62781])\n+* Fix bug in sequences with any pattern {es-pull}63007[#63007] (issue: {es-issue}62967[#62967])\n+\n+Engine::\n+* Fix to actually throttle indexing on getting activated {es-pull}61768[#61768]\n+\n+Features/Data streams::\n+* Fix querying a data stream name in _index field. {es-pull}63170[#63170]\n+\n+Features/Ingest::\n+* Handle error conditions when simulating ingest pipelines with verbosity enabled {es-pull}63327[#63327] (issue: {es-issue}63199[#63199])\n+* Make for each processor resistant to field modification {es-pull}62791[#62791] (issue: {es-issue}62790[#62790])\n+\n+Machine Learning::\n+* Fix online updates with custom rules referencing filters {es-pull}63057[#63057] (issue: {es-issue}62948[#62948])\n+* Reset reindexing progress when DFA job resumes with incomplete r\u2026 {es-pull}62772[#62772]\n+\n+SQL::\n+* Fix exception when using CAST on inexact field {es-pull}62943[#62943] (issue: {es-issue}60178[#60178])\n+\n+Search::\n+* Async search should retry updates on version conflict {es-pull}63652[#63652] (issue: {es-issue}63213[#63213])\n+\n+Transform::\n+* Fix possible NPE if transform task has no node assigned {es-pull}62946[#62946] (issue: {es-issue}62847[#62847])\n+* [ML][Transform] Filter null objects from field caps request {es-pull}62945[#62945]", "originalCommit": "f32b340e11c78a800ffc471cad0a2860890f762f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwMTgzNQ==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r506601835", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Reset reindexing progress when DFA job resumes with incomplete r\u2026 {es-pull}62772[#62772]\n          \n          \n            \n            * Reset reindexing progress when DFA job resumes with incomplete reindexing {es-pull}62772[#62772]", "author": "jrodewig", "createdAt": "2020-10-16T16:55:17Z", "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -1,3 +1,70 @@\n+[[release-notes-7.9.3]]\n+== {es} version 7.9.3\n+\n+coming[7.9.3]\n+\n+Also see <<breaking-changes-7.9,Breaking changes in 7.9>>.\n+\n+[[bug-7.9.3]]\n+[float]\n+=== Bug fixes\n+\n+Allocation::\n+* InternalClusterInfoService should not ignore hidden indices {es-pull}62995[#62995]\n+\n+Audit::\n+* Move RestRequestFilter to core {es-pull}63507[#63507]\n+\n+Authentication::\n+* Ensure domain_name setting for AD realm is present {es-pull}61983[#61983] (issue: {es-issue}61859[#61859])\n+\n+Authorization::\n+* Fix API key role descriptors rewrite bug for upgraded clusters {es-pull}62917[#62917] (issue: {es-issue}62911[#62911])\n+\n+CCR::\n+* Retry CCR shard follow task when no seed node left {es-pull}63225[#63225]\n+\n+Cluster Coordination::\n+* Uniquely associate term with update task during election {es-pull}62212[#62212] (issue: {es-issue}61437[#61437])\n+\n+EQL::\n+* Avoid filtering on tiebreakers {es-pull}63215[#63215] (issue: {es-issue}62781[#62781])\n+* Fix bug in sequences with any pattern {es-pull}63007[#63007] (issue: {es-issue}62967[#62967])\n+\n+Engine::\n+* Fix to actually throttle indexing on getting activated {es-pull}61768[#61768]\n+\n+Features/Data streams::\n+* Fix querying a data stream name in _index field. {es-pull}63170[#63170]\n+\n+Features/Ingest::\n+* Handle error conditions when simulating ingest pipelines with verbosity enabled {es-pull}63327[#63327] (issue: {es-issue}63199[#63199])\n+* Make for each processor resistant to field modification {es-pull}62791[#62791] (issue: {es-issue}62790[#62790])\n+\n+Machine Learning::\n+* Fix online updates with custom rules referencing filters {es-pull}63057[#63057] (issue: {es-issue}62948[#62948])\n+* Reset reindexing progress when DFA job resumes with incomplete r\u2026 {es-pull}62772[#62772]", "originalCommit": "f32b340e11c78a800ffc471cad0a2860890f762f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwMjE3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r506602176", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Fix querying a data stream name in _index field. {es-pull}63170[#63170]\n          \n          \n            \n            * Fix querying a data stream name in index field {es-pull}63170[#63170]", "author": "jrodewig", "createdAt": "2020-10-16T16:55:55Z", "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -1,3 +1,70 @@\n+[[release-notes-7.9.3]]\n+== {es} version 7.9.3\n+\n+coming[7.9.3]\n+\n+Also see <<breaking-changes-7.9,Breaking changes in 7.9>>.\n+\n+[[bug-7.9.3]]\n+[float]\n+=== Bug fixes\n+\n+Allocation::\n+* InternalClusterInfoService should not ignore hidden indices {es-pull}62995[#62995]\n+\n+Audit::\n+* Move RestRequestFilter to core {es-pull}63507[#63507]\n+\n+Authentication::\n+* Ensure domain_name setting for AD realm is present {es-pull}61983[#61983] (issue: {es-issue}61859[#61859])\n+\n+Authorization::\n+* Fix API key role descriptors rewrite bug for upgraded clusters {es-pull}62917[#62917] (issue: {es-issue}62911[#62911])\n+\n+CCR::\n+* Retry CCR shard follow task when no seed node left {es-pull}63225[#63225]\n+\n+Cluster Coordination::\n+* Uniquely associate term with update task during election {es-pull}62212[#62212] (issue: {es-issue}61437[#61437])\n+\n+EQL::\n+* Avoid filtering on tiebreakers {es-pull}63215[#63215] (issue: {es-issue}62781[#62781])\n+* Fix bug in sequences with any pattern {es-pull}63007[#63007] (issue: {es-issue}62967[#62967])\n+\n+Engine::\n+* Fix to actually throttle indexing on getting activated {es-pull}61768[#61768]\n+\n+Features/Data streams::\n+* Fix querying a data stream name in _index field. {es-pull}63170[#63170]", "originalCommit": "f32b340e11c78a800ffc471cad0a2860890f762f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYwMjMzMw==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r506602333", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Switch bundled jdk back to Oracle JDK {es-pull}63288[#63288] (issue: {es-issue}62709[#62709])\n          \n          \n            \n            * Switch bundled JDK back to Oracle JDK {es-pull}63288[#63288] (issue: {es-issue}62709[#62709])", "author": "jrodewig", "createdAt": "2020-10-16T16:56:13Z", "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -1,3 +1,70 @@\n+[[release-notes-7.9.3]]\n+== {es} version 7.9.3\n+\n+coming[7.9.3]\n+\n+Also see <<breaking-changes-7.9,Breaking changes in 7.9>>.\n+\n+[[bug-7.9.3]]\n+[float]\n+=== Bug fixes\n+\n+Allocation::\n+* InternalClusterInfoService should not ignore hidden indices {es-pull}62995[#62995]\n+\n+Audit::\n+* Move RestRequestFilter to core {es-pull}63507[#63507]\n+\n+Authentication::\n+* Ensure domain_name setting for AD realm is present {es-pull}61983[#61983] (issue: {es-issue}61859[#61859])\n+\n+Authorization::\n+* Fix API key role descriptors rewrite bug for upgraded clusters {es-pull}62917[#62917] (issue: {es-issue}62911[#62911])\n+\n+CCR::\n+* Retry CCR shard follow task when no seed node left {es-pull}63225[#63225]\n+\n+Cluster Coordination::\n+* Uniquely associate term with update task during election {es-pull}62212[#62212] (issue: {es-issue}61437[#61437])\n+\n+EQL::\n+* Avoid filtering on tiebreakers {es-pull}63215[#63215] (issue: {es-issue}62781[#62781])\n+* Fix bug in sequences with any pattern {es-pull}63007[#63007] (issue: {es-issue}62967[#62967])\n+\n+Engine::\n+* Fix to actually throttle indexing on getting activated {es-pull}61768[#61768]\n+\n+Features/Data streams::\n+* Fix querying a data stream name in _index field. {es-pull}63170[#63170]\n+\n+Features/Ingest::\n+* Handle error conditions when simulating ingest pipelines with verbosity enabled {es-pull}63327[#63327] (issue: {es-issue}63199[#63199])\n+* Make for each processor resistant to field modification {es-pull}62791[#62791] (issue: {es-issue}62790[#62790])\n+\n+Machine Learning::\n+* Fix online updates with custom rules referencing filters {es-pull}63057[#63057] (issue: {es-issue}62948[#62948])\n+* Reset reindexing progress when DFA job resumes with incomplete r\u2026 {es-pull}62772[#62772]\n+\n+SQL::\n+* Fix exception when using CAST on inexact field {es-pull}62943[#62943] (issue: {es-issue}60178[#60178])\n+\n+Search::\n+* Async search should retry updates on version conflict {es-pull}63652[#63652] (issue: {es-issue}63213[#63213])\n+\n+Transform::\n+* Fix possible NPE if transform task has no node assigned {es-pull}62946[#62946] (issue: {es-issue}62847[#62847])\n+* [ML][Transform] Filter null objects from field caps request {es-pull}62945[#62945]\n+\n+\n+\n+[[upgrade-7.9.3]]\n+[float]\n+=== Upgrades\n+\n+Infra/Packaging::\n+* Switch bundled jdk back to Oracle JDK {es-pull}63288[#63288] (issue: {es-issue}62709[#62709])", "originalCommit": "f32b340e11c78a800ffc471cad0a2860890f762f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f8495e4173e388917c3f2bac653ad55814e25dcc", "url": "https://github.com/elastic/elasticsearch/commit/f8495e4173e388917c3f2bac653ad55814e25dcc", "message": "Add 7.9.3 xref", "committedDate": "2020-10-16T17:28:25Z", "type": "commit"}, {"oid": "64c86069bcb7bcc452781c2f3593374f77077b7b", "url": "https://github.com/elastic/elasticsearch/commit/64c86069bcb7bcc452781c2f3593374f77077b7b", "message": "Update docs/reference/release-notes/7.9.asciidoc\n\nCo-authored-by: James Rodewig <40268737+jrodewig@users.noreply.github.com>", "committedDate": "2020-10-16T17:32:48Z", "type": "commit"}, {"oid": "58406daeadde69bc9811fe5de0ecf10e707fdf3f", "url": "https://github.com/elastic/elasticsearch/commit/58406daeadde69bc9811fe5de0ecf10e707fdf3f", "message": "Update docs/reference/release-notes/7.9.asciidoc\n\nCo-authored-by: James Rodewig <40268737+jrodewig@users.noreply.github.com>", "committedDate": "2020-10-16T17:32:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjYyOTc3Nw==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r506629777", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Reset reindexing progress when DFA job resumes with incomplete reindexing {es-pull}62772[#62772]\n          \n          \n            \n            * Reset reindexing progress when data frame analytics job resumes with incomplete reindexing {es-pull}62772[#62772]", "author": "lcawl", "createdAt": "2020-10-16T17:44:30Z", "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -1,3 +1,70 @@\n+[[release-notes-7.9.3]]\n+== {es} version 7.9.3\n+\n+coming[7.9.3]\n+\n+Also see <<breaking-changes-7.9,Breaking changes in 7.9>>.\n+\n+[[bug-7.9.3]]\n+[float]\n+=== Bug fixes\n+\n+Allocation::\n+* InternalClusterInfoService should not ignore hidden indices {es-pull}62995[#62995]\n+\n+Audit::\n+* Move RestRequestFilter to core {es-pull}63507[#63507]\n+\n+Authentication::\n+* Ensure domain_name setting for AD realm is present {es-pull}61983[#61983] (issue: {es-issue}61859[#61859])\n+\n+Authorization::\n+* Fix API key role descriptors rewrite bug for upgraded clusters {es-pull}62917[#62917] (issue: {es-issue}62911[#62911])\n+\n+CCR::\n+* Retry CCR shard follow task when no seed node left {es-pull}63225[#63225]\n+\n+Cluster Coordination::\n+* Uniquely associate term with update task during election {es-pull}62212[#62212] (issue: {es-issue}61437[#61437])\n+\n+EQL::\n+* Avoid filtering on tiebreakers {es-pull}63215[#63215] (issue: {es-issue}62781[#62781])\n+* Fix bug in sequences with any pattern {es-pull}63007[#63007] (issue: {es-issue}62967[#62967])\n+\n+Engine::\n+* Fix to actually throttle indexing on getting activated {es-pull}61768[#61768]\n+\n+Features/Data streams::\n+* Fix querying a data stream name in _index field. {es-pull}63170[#63170]\n+\n+Features/Ingest::\n+* Handle error conditions when simulating ingest pipelines with verbosity enabled {es-pull}63327[#63327] (issue: {es-issue}63199[#63199])\n+* Make for each processor resistant to field modification {es-pull}62791[#62791] (issue: {es-issue}62790[#62790])\n+\n+Machine Learning::\n+* Fix online updates with custom rules referencing filters {es-pull}63057[#63057] (issue: {es-issue}62948[#62948])\n+* Reset reindexing progress when DFA job resumes with incomplete reindexing {es-pull}62772[#62772]", "originalCommit": "58406daeadde69bc9811fe5de0ecf10e707fdf3f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "651d76bebdf1736f95711289dd5c4c046a8088fd", "url": "https://github.com/elastic/elasticsearch/commit/651d76bebdf1736f95711289dd5c4c046a8088fd", "message": "Update docs/reference/release-notes/7.9.asciidoc", "committedDate": "2020-10-16T17:44:39Z", "type": "commit"}, {"oid": "106c36f0f4002949f46273cd44c5fbf2b32e7dae", "url": "https://github.com/elastic/elasticsearch/commit/106c36f0f4002949f46273cd44c5fbf2b32e7dae", "message": "Apply suggestions from code review", "committedDate": "2020-10-19T13:10:31Z", "type": "commit"}, {"oid": "7783863f300334c7a9a252011ae8d7b6b5a53492", "url": "https://github.com/elastic/elasticsearch/commit/7783863f300334c7a9a252011ae8d7b6b5a53492", "message": "Add highlights", "committedDate": "2020-10-21T18:37:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTU2NjA2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r509566063", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === Cross-cluster replication\n          \n          \n            \n            \n          \n          \n            \n            Fixed retries for {ccr}.\n          \n          \n            \n            === Fixed retries for {ccr}", "author": "jrodewig", "createdAt": "2020-10-21T18:40:06Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -37,6 +37,27 @@ Other versions:\n //\n // Description.\n \n+// tag::notable-highlights[]\n+[discrete]\n+=== Cross-cluster replication\n+\n+Fixed retries for {ccr}.", "originalCommit": "7783863f300334c7a9a252011ae8d7b6b5a53492", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTU2NjY1Mw==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r509566653", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === Engine\n          \n          \n            \n            \n          \n          \n            \n            Fix to actually activate throttle indexing.\n          \n          \n            \n            [discrete]\n          \n          \n            \n            === Fixed index throttling", "author": "jrodewig", "createdAt": "2020-10-21T18:40:47Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -37,6 +37,27 @@ Other versions:\n //\n // Description.\n \n+// tag::notable-highlights[]\n+[discrete]\n+=== Cross-cluster replication\n+\n+Fixed retries for {ccr}.\n+\n+{ccr-cap} now retries operations that failed due to a circuit breaker or a lost\n+remote cluster connection.\n+// end::notable-highlights[]\n+\n+// tag::notable-highlights[]\n+=== Engine\n+\n+Fix to actually activate throttle indexing.", "originalCommit": "7783863f300334c7a9a252011ae8d7b6b5a53492", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTU4NTU3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/63834#discussion_r509585572", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When indexing data into {es}, heap memory is used in lucene and {es} for buffering data. To keep the memory usage under\n          \n          \n            \n            control, {es} will move data to disk according to the <<indexing-buffer, indexing buffer settings>>. If moving\n          \n          \n            \n            data cannot keep up with the ongoing indexing, {es} will start throttling indexing. This throttling behavior was broken,\n          \n          \n            \n            so throttling was not activated, and it has been fixed.\n          \n          \n            \n            // end::notable-highlights[]\n          \n          \n            \n            When indexing data, {es} and Lucene use heap memory for buffering. To control\n          \n          \n            \n            memory usage, {es} moves data from the buffer to disk based on your\n          \n          \n            \n            {ref}/indexing-buffer.html[indexing buffer settings]. If ongoing indexing\n          \n          \n            \n            outpaces the relocation of data to disk, {es} will now throttle indexing. In\n          \n          \n            \n            previous {es} versions, this feature was broken and throttling was not\n          \n          \n            \n            activated.\n          \n          \n            \n            // end::notable-highlights[]", "author": "jrodewig", "createdAt": "2020-10-21T18:57:21Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -37,6 +37,27 @@ Other versions:\n //\n // Description.\n \n+// tag::notable-highlights[]\n+[discrete]\n+=== Cross-cluster replication\n+\n+Fixed retries for {ccr}.\n+\n+{ccr-cap} now retries operations that failed due to a circuit breaker or a lost\n+remote cluster connection.\n+// end::notable-highlights[]\n+\n+// tag::notable-highlights[]\n+=== Engine\n+\n+Fix to actually activate throttle indexing.\n+\n+When indexing data into {es}, heap memory is used in lucene and {es} for buffering data. To keep the memory usage under\n+control, {es} will move data to disk according to the <<indexing-buffer, indexing buffer settings>>. If moving\n+data cannot keep up with the ongoing indexing, {es} will start throttling indexing. This throttling behavior was broken,\n+so throttling was not activated, and it has been fixed.\n+// end::notable-highlights[]", "originalCommit": "7783863f300334c7a9a252011ae8d7b6b5a53492", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b8df26186c6edb3fe2f22e8f8f622a5b79f68432", "url": "https://github.com/elastic/elasticsearch/commit/b8df26186c6edb3fe2f22e8f8f622a5b79f68432", "message": "Address feedback", "committedDate": "2020-10-21T19:03:41Z", "type": "commit"}, {"oid": "9d5a37db82ed44cb79ca2450ffd75c9ad0549b7f", "url": "https://github.com/elastic/elasticsearch/commit/9d5a37db82ed44cb79ca2450ffd75c9ad0549b7f", "message": "Add required [discrete] attribute", "committedDate": "2020-10-21T19:04:46Z", "type": "commit"}]}