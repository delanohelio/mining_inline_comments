{"pr_number": 57500, "pr_title": "Add a reference on returning fields during a search.", "pr_createdAt": "2020-06-02T04:09:16Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57500", "timeline": [{"oid": "79fc6bdec535f97c9910a7542ae1558180824d6c", "url": "https://github.com/elastic/elasticsearch/commit/79fc6bdec535f97c9910a7542ae1558180824d6c", "message": "Add a reference on returning fields during a search.\n\nThis PR adds a section to the new 'run a search' reference that explains\nthe options for returning fields. Previously each option was only listed as a\nseparate request parameter and it was hard to know what was available.", "committedDate": "2020-06-02T04:11:33Z", "type": "commit"}, {"oid": "79fc6bdec535f97c9910a7542ae1558180824d6c", "url": "https://github.com/elastic/elasticsearch/commit/79fc6bdec535f97c9910a7542ae1558180824d6c", "message": "Add a reference on returning fields during a search.\n\nThis PR adds a section to the new 'run a search' reference that explains\nthe options for returning fields. Previously each option was only listed as a\nseparate request parameter and it was hard to know what was available.", "committedDate": "2020-06-02T04:11:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4OTYwNg==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433889606", "bodyText": "Nit: Try to avoid future or past tense.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <<alias, field aliases>>. Likewise, a field in the source will not contain\n          \n          \n            \n            values that were copied into it through `copy_to`.\n          \n          \n            \n            <<alias, field aliases>>. Likewise, a field in the source does not contain\n          \n          \n            \n            values copied using the <<copy-to,`copy_to`>> mapping parameter.", "author": "jrodewig", "createdAt": "2020-06-02T13:49:32Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:\n+\n+* The `_source` field does not include <<multi-fields, multi-fields>> or\n+<<alias, field aliases>>. Likewise, a field in the source will not contain\n+values that were copied into it through `copy_to`.", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5MjU4Ng==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433892586", "bodyText": "Although \"\u2018a number\" is singular, the phrase \"a number of ...\" always uses a plural verb. Had to look this one up. \ud83d\ude04\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            object must be loaded and parsed, even if only a small number of fields is needed.\n          \n          \n            \n            object must be loaded and parsed, even if only a small number of fields are needed.", "author": "jrodewig", "createdAt": "2020-06-02T13:53:26Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:\n+\n+* The `_source` field does not include <<multi-fields, multi-fields>> or\n+<<alias, field aliases>>. Likewise, a field in the source will not contain\n+values that were copied into it through `copy_to`.\n+* Since the `_source` is stored as a single field in Lucene, the whole source\n+object must be loaded and parsed, even if only a small number of fields is needed.", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE2ODM0OA==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r434168348", "bodyText": "That's good to know!", "author": "jtibshirani", "createdAt": "2020-06-02T20:52:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5MjU4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5MzA0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433893046", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            choice when returning a fairly small number of fields that support docvalues,\n          \n          \n            \n            choice when returning a fairly small number of fields that support doc values,", "author": "jrodewig", "createdAt": "2020-06-02T13:54:03Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:\n+\n+* The `_source` field does not include <<multi-fields, multi-fields>> or\n+<<alias, field aliases>>. Likewise, a field in the source will not contain\n+values that were copied into it through `copy_to`.\n+* Since the `_source` is stored as a single field in Lucene, the whole source\n+object must be loaded and parsed, even if only a small number of fields is needed.\n+\n+Elasticsearch supports some alternative methods for returning fields that help\n+avoid these downsides:\n+\n+* The <<request-body-search-docvalue-fields, docvalue fields>>\n+parameter allows for loading fields from their docvalues. This can be a good\n+choice when returning a fairly small number of fields that support docvalues,", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5NDg3MA==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433894870", "bodyText": "Nits:\n\nI'd use mapping parameter for consistency with the earlier text. Option is valid too tho.\nI reworded the second sentence to avoid passive voice.\n\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * It's also possible to store an individual field's values by using the\n          \n          \n            \n            <<mapping-store,`store`>> mapping option. These stored values can then be\n          \n          \n            \n            returned in a search through the\n          \n          \n            \n            <<request-body-search-stored-fields, `stored_fields`>> parameter.\n          \n          \n            \n            * It's also possible to store an individual field's values by using the\n          \n          \n            \n            <<mapping-store,`store`>> mapping parameter. You can use the \n          \n          \n            \n            search API's <<request-body-search-stored-fields, `stored_fields`>> parameter\n          \n          \n            \n            to return these stored values in a search response.", "author": "jrodewig", "createdAt": "2020-06-02T13:56:16Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:\n+\n+* The `_source` field does not include <<multi-fields, multi-fields>> or\n+<<alias, field aliases>>. Likewise, a field in the source will not contain\n+values that were copied into it through `copy_to`.\n+* Since the `_source` is stored as a single field in Lucene, the whole source\n+object must be loaded and parsed, even if only a small number of fields is needed.\n+\n+Elasticsearch supports some alternative methods for returning fields that help\n+avoid these downsides:\n+\n+* The <<request-body-search-docvalue-fields, docvalue fields>>\n+parameter allows for loading fields from their docvalues. This can be a good\n+choice when returning a fairly small number of fields that support docvalues,\n+such as keywords and dates.\n+* It's also possible to store an individual field's values by using the\n+<<mapping-store,`store`>> mapping option. These stored values can then be\n+returned in a search through the\n+<<request-body-search-stored-fields, `stored_fields`>> parameter.", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5NjY3Mw==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433896673", "bodyText": "Reworded the first sentence to be a bit less passive.\nOther nits:\n\nAdded a literal enclosure to the doc values param name.\nChanged docvalues to doc values for consistency with other places in the docs.\n\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * The <<request-body-search-docvalue-fields, docvalue fields>>\n          \n          \n            \n            parameter allows for loading fields from their docvalues. This can be a good\n          \n          \n            \n            * You can use the search API's\n          \n          \n            \n            <<request-body-search-docvalue-fields,`docvalue_fields`>> parameter to load\n          \n          \n            \n            fields from their doc values. This can be a good", "author": "jrodewig", "createdAt": "2020-06-02T13:58:46Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:\n+\n+* The `_source` field does not include <<multi-fields, multi-fields>> or\n+<<alias, field aliases>>. Likewise, a field in the source will not contain\n+values that were copied into it through `copy_to`.\n+* Since the `_source` is stored as a single field in Lucene, the whole source\n+object must be loaded and parsed, even if only a small number of fields is needed.\n+\n+Elasticsearch supports some alternative methods for returning fields that help\n+avoid these downsides:\n+\n+* The <<request-body-search-docvalue-fields, docvalue fields>>\n+parameter allows for loading fields from their docvalues. This can be a good", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5ODMyMQ==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433898321", "bodyText": "Nit: Just breaking this sentence up for easier reading. Fine as-is though.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <<mapping-source-field,`_source`>>, which is the entire JSON object that was\n          \n          \n            \n            <<mapping-source-field,`_source`>>. The `source` contains the entire JSON object", "author": "jrodewig", "createdAt": "2020-06-02T14:00:42Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5OTQxMg==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433899412", "bodyText": "Reword for easier reading. If you keep this as-is, I would add a comma to In this case,.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            provided when indexing the document. Often only certain fields are required in\n          \n          \n            \n            the response. In this case you can use\n          \n          \n            \n            <<request-body-search-source-filtering,source filtering>> to restrict what\n          \n          \n            \n            parts of the source are returned.\n          \n          \n            \n            If you only need certain fields in the search API's response, you can use\n          \n          \n            \n            <<request-body-search-source-filtering,source filtering>> to restrict what\n          \n          \n            \n            parts of the source are returned.", "author": "jrodewig", "createdAt": "2020-06-02T14:01:46Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkwMDc0MQ==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433900741", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Returning fields using the document source has some limitations:\n          \n          \n            \n            Returning fields using only the document source has some limitations:", "author": "jrodewig", "createdAt": "2020-06-02T14:03:09Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkwMTYxOQ==", "url": "https://github.com/elastic/elasticsearch/pull/57500#discussion_r433901619", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Elasticsearch supports some alternative methods for returning fields that help\n          \n          \n            \n            {es} supports some alternative methods for returning fields that can help you", "author": "jrodewig", "createdAt": "2020-06-02T14:04:02Z", "path": "docs/reference/search/search-fields.asciidoc", "diffHunk": "@@ -0,0 +1,30 @@\n+[discrete]\n+[[search-fields]]\n+=== Return fields in a search\n+\n+By default, each hit in the search response includes the document\n+<<mapping-source-field,`_source`>>, which is the entire JSON object that was\n+provided when indexing the document. Often only certain fields are required in\n+the response. In this case you can use\n+<<request-body-search-source-filtering,source filtering>> to restrict what\n+parts of the source are returned.\n+\n+Returning fields using the document source has some limitations:\n+\n+* The `_source` field does not include <<multi-fields, multi-fields>> or\n+<<alias, field aliases>>. Likewise, a field in the source will not contain\n+values that were copied into it through `copy_to`.\n+* Since the `_source` is stored as a single field in Lucene, the whole source\n+object must be loaded and parsed, even if only a small number of fields is needed.\n+\n+Elasticsearch supports some alternative methods for returning fields that help", "originalCommit": "79fc6bdec535f97c9910a7542ae1558180824d6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9bcae385035fa58cfee94d5f3f4feecee5693d7b", "url": "https://github.com/elastic/elasticsearch/commit/9bcae385035fa58cfee94d5f3f4feecee5693d7b", "message": "Reword text based on review feedback.", "committedDate": "2020-06-02T20:55:58Z", "type": "commit"}, {"oid": "374305a96392ba1d03d12c38a5039704a36116e3", "url": "https://github.com/elastic/elasticsearch/commit/374305a96392ba1d03d12c38a5039704a36116e3", "message": "Small tweak.", "committedDate": "2020-06-02T20:57:55Z", "type": "commit"}]}