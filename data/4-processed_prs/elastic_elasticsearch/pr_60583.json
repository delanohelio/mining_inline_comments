{"pr_number": 60583, "pr_title": "Update debugging instruction", "pr_createdAt": "2020-08-03T10:50:08Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60583", "timeline": [{"oid": "24719eac94dfd742c1ab004f6271d6b11bbf8213", "url": "https://github.com/elastic/elasticsearch/commit/24719eac94dfd742c1ab004f6271d6b11bbf8213", "message": "Update debugging instruction", "committedDate": "2020-08-03T10:48:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU2ODc5Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60583#discussion_r472568797", "bodyText": "I think the server=n and suspend=y need to stay? That is what we have with the --debug-jvm build flag. @mark-vieira can you confirm?", "author": "rjernst", "createdAt": "2020-08-19T00:38:30Z", "path": "TESTING.asciidoc", "diffHunk": "@@ -628,7 +628,7 @@ If you want to run Elasticsearch and be able to remotely attach the process\n for debugging purposes from your IDE, can start Elasticsearch using `ES_JAVA_OPTS`:\n \n ---------------------------------------------------------------------------\n-ES_JAVA_OPTS=\"-Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000,suspend=y\" ./bin/elasticsearch\n+ES_JAVA_OPTS=\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\" ./bin/elasticsearch", "originalCommit": "24719eac94dfd742c1ab004f6271d6b11bbf8213", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzEzMzA3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/60583#discussion_r473133072", "bodyText": "I'd be more apt to remove this section to be honest since above we describe using run --debug-jvm. If folks want to debug a Java application the only thing we should have to instruct them to is where to add the JVM arguments. They can then configure it with or without suspend, on whatever port they wish. If you have to be hand held through this process then you're probably not going to be using a debugger.\nSo for me either a) remove this section completely or b) remove the example arguments and simply tell folks to add to ES_JAVA_OPTS (or link to this documentation).", "author": "mark-vieira", "createdAt": "2020-08-19T15:51:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU2ODc5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI1ODExMA==", "url": "https://github.com/elastic/elasticsearch/pull/60583#discussion_r473258110", "bodyText": "I'm in favor of just removing this.\n@qabbasi Are you running this for development purposes (ie with the Elasticsearch build)? Are you interested in changing this PR to remove this section as @mark-vieira suggested?", "author": "rjernst", "createdAt": "2020-08-19T19:08:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU2ODc5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDU2Njc3MA==", "url": "https://github.com/elastic/elasticsearch/pull/60583#discussion_r474566770", "bodyText": "@rjernst yeah, i used the OPTS in order to debug a custom plugin. I can remove the section.", "author": "qaismyname", "createdAt": "2020-08-21T09:20:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU2ODc5Nw=="}], "type": "inlineReview"}, {"oid": "3b7eff76a9f97dee993057d694de25365236a70b", "url": "https://github.com/elastic/elasticsearch/commit/3b7eff76a9f97dee993057d694de25365236a70b", "message": "Update TESTING.asciidoc", "committedDate": "2020-08-21T09:21:55Z", "type": "commit"}]}