{"pr_number": 51879, "pr_title": "[ML] Add new categorization stats to model_size_stats", "pr_createdAt": "2020-02-04T17:28:26Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/51879", "timeline": [{"oid": "f755b5f96350f52ce85137904ff61ab048b48331", "url": "https://github.com/elastic/elasticsearch/commit/f755b5f96350f52ce85137904ff61ab048b48331", "message": "[ML] Add new categorization stats to model_size_stats\n\nThis change adds support for the following new model_size_stats\nfields:\n\n- categorized_doc_count\n- total_category_count\n- frequent_category_count\n- rare_category_count\n- categorization_status", "committedDate": "2020-02-04T17:24:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgyNDQzNg==", "url": "https://github.com/elastic/elasticsearch/pull/51879#discussion_r374824436", "bodyText": "since this is configured to be included by default, you will probably have to update the cat job yaml test", "author": "benwtrent", "createdAt": "2020-02-04T17:48:09Z", "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/cat/RestCatJobsAction.java", "diffHunk": "@@ -183,6 +183,31 @@ protected Table getTableWithHeader(RestRequest request) {\n             TableColumnAttributeBuilder.builder(\"number of bucket allocation failures\", false)\n                 .setAliases(\"mbaf\", \"modelBucketAllocationFailures\")\n                 .build());\n+        table.addCell(\"model.categorization_status\",\n+            TableColumnAttributeBuilder.builder(\"current categorization status\")", "originalCommit": "f755b5f96350f52ce85137904ff61ab048b48331", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgyODMwNQ==", "url": "https://github.com/elastic/elasticsearch/pull/51879#discussion_r374828305", "bodyText": "Hmm, since only a small proportion of jobs use categorization I should probably change this one so it's not included by default.", "author": "droberts195", "createdAt": "2020-02-04T17:55:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgyNDQzNg=="}], "type": "inlineReview"}, {"oid": "38ba8fda437a6781303bc4ae34cfc076228522c8", "url": "https://github.com/elastic/elasticsearch/commit/38ba8fda437a6781303bc4ae34cfc076228522c8", "message": "Fix tests", "committedDate": "2020-02-05T09:34:17Z", "type": "commit"}, {"oid": "2d2b0c4cf5550b3bc6a0ea8d5ed8bb6ad9486e34", "url": "https://github.com/elastic/elasticsearch/commit/2d2b0c4cf5550b3bc6a0ea8d5ed8bb6ad9486e34", "message": "Merge branch 'master' into categorizer_model_stats", "committedDate": "2020-02-05T09:34:45Z", "type": "commit"}, {"oid": "c7a75b718573c204612bb3eaf0a5b5d5cb5af69f", "url": "https://github.com/elastic/elasticsearch/commit/c7a75b718573c204612bb3eaf0a5b5d5cb5af69f", "message": "Fix _cat jobs output", "committedDate": "2020-02-05T11:44:39Z", "type": "commit"}, {"oid": "30e7971680f79003b8504806949fd063b3c197e6", "url": "https://github.com/elastic/elasticsearch/commit/30e7971680f79003b8504806949fd063b3c197e6", "message": "Changing categorization status \"poor\" to \"warn\"", "committedDate": "2020-02-06T13:58:12Z", "type": "commit"}, {"oid": "28f1187767f0be3f881a5afd6fe376ac8082794a", "url": "https://github.com/elastic/elasticsearch/commit/28f1187767f0be3f881a5afd6fe376ac8082794a", "message": "Merge branch 'master' into categorizer_model_stats", "committedDate": "2020-02-06T15:30:25Z", "type": "commit"}]}