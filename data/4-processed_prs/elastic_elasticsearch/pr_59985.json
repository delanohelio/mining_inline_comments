{"pr_number": 59985, "pr_title": "[DOCS] Fix shrink index API prereqs", "pr_createdAt": "2020-07-21T14:46:55Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/59985", "timeline": [{"oid": "6763bf6dbf5795d5c80157d8691314d91f40b08f", "url": "https://github.com/elastic/elasticsearch/commit/6763bf6dbf5795d5c80157d8691314d91f40b08f", "message": "[DOCS] Fix shrink index API prereqs\n\nAdds a recommendation for removing replica shards to the prereqs of the shrink index API docs.\nAlso clarifies some of the existing prereqs.", "committedDate": "2020-07-21T15:28:07Z", "type": "commit"}, {"oid": "6763bf6dbf5795d5c80157d8691314d91f40b08f", "url": "https://github.com/elastic/elasticsearch/commit/6763bf6dbf5795d5c80157d8691314d91f40b08f", "message": "[DOCS] Fix shrink index API prereqs\n\nAdds a recommendation for removing replica shards to the prereqs of the shrink index API docs.\nAlso clarifies some of the existing prereqs.", "committedDate": "2020-07-21T15:28:07Z", "type": "forcePushed"}, {"oid": "f63e1a02ea727b1ee934d6365fcbe8ed4302931f", "url": "https://github.com/elastic/elasticsearch/commit/f63e1a02ea727b1ee934d6365fcbe8ed4302931f", "message": "reword", "committedDate": "2020-07-21T17:17:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3OTYzNA==", "url": "https://github.com/elastic/elasticsearch/pull/59985#discussion_r458779634", "bodyText": "I believe that only the primary shards must reside on the same node. ES won't allocate a replica shard to a node containing its primary since that would serve no purpose.", "author": "danhermann", "createdAt": "2020-07-22T13:11:37Z", "path": "docs/reference/indices/shrink-index.asciidoc", "diffHunk": "@@ -28,28 +28,36 @@ POST /twitter/_shrink/shrunk-twitter-index\n Before you can shrink an index:\n \n * The index must be read-only.\n-* A copy of every shard in the index must reside on the same node.\n-* The <<cluster-health, cluster health>> status must be green.\n+* All primary and replica shards for the index must reside on the same node.", "originalCommit": "f63e1a02ea727b1ee934d6365fcbe8ed4302931f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1cc94d114e5eff7667849ee0cf2dfcd500591825", "url": "https://github.com/elastic/elasticsearch/commit/1cc94d114e5eff7667849ee0cf2dfcd500591825", "message": "address feedback", "committedDate": "2020-07-22T13:50:54Z", "type": "commit"}]}