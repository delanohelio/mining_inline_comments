{"pr_number": 65205, "pr_title": "Include date in data stream backing index names", "pr_createdAt": "2020-11-18T14:08:37Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/65205", "timeline": [{"oid": "0538bfd7cac8893e021b6f192163ff11ec2ae854", "url": "https://github.com/elastic/elasticsearch/commit/0538bfd7cac8893e021b6f192163ff11ec2ae854", "message": "wip on adding dates to backing index names", "committedDate": "2020-11-18T13:46:02Z", "type": "commit"}, {"oid": "5eeec96d52b5eea2ad27288bbcd81cee4ba639af", "url": "https://github.com/elastic/elasticsearch/commit/5eeec96d52b5eea2ad27288bbcd81cee4ba639af", "message": "fix remaining unit tests", "committedDate": "2020-11-18T13:46:02Z", "type": "commit"}, {"oid": "8d7ba94f7356279dd7ee516fb39a2bd5fd58f2a0", "url": "https://github.com/elastic/elasticsearch/commit/8d7ba94f7356279dd7ee516fb39a2bd5fd58f2a0", "message": "update tests after #65027", "committedDate": "2020-11-18T14:06:16Z", "type": "commit"}, {"oid": "7b3f5a3bc3740dca06638b49ba8beae55585e9e4", "url": "https://github.com/elastic/elasticsearch/commit/7b3f5a3bc3740dca06638b49ba8beae55585e9e4", "message": "fix 2 tests", "committedDate": "2020-11-19T18:00:48Z", "type": "commit"}, {"oid": "20d61e908f84540d7497b87b9ee4537792ea5d8e", "url": "https://github.com/elastic/elasticsearch/commit/20d61e908f84540d7497b87b9ee4537792ea5d8e", "message": "Update data stream docs", "committedDate": "2020-11-24T22:21:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ3MDc2NQ==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r530470765", "bodyText": "Now that a backing index's name contains its creation date, we probably don't need to point out the oldest backing index.", "author": "jrodewig", "createdAt": "2020-11-25T15:46:25Z", "path": "docs/reference/data-streams/change-mappings-and-settings.asciidoc", "diffHunk": "@@ -546,10 +546,8 @@ The following get data stream API request retrieves information about\n GET /_data_stream/my-data-stream\n ----\n \n-The API returns the following response. Note the `indices` property contains an\n-array of the stream's current backing indices. The first item in the array\n-contains information about the stream's oldest backing index,\n-`.ds-my-data-stream-000001`.\n+The response's `indices` property contains an array of the stream's current\n+backing indices.", "originalCommit": "20d61e908f84540d7497b87b9ee4537792ea5d8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg4OTc0Mg==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r532889742", "bodyText": "Now that we also have an API to migrate existing indices into data streams, there's no guarantee that all of a data stream's backing indices contain dates, so it's probably still useful to mention that the indices property contains an ordered list of backing indices.", "author": "danhermann", "createdAt": "2020-11-30T20:40:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ3MDc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5MjY3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r532892671", "bodyText": "Good point. I re-added this info with 18d9cc6.", "author": "jrodewig", "createdAt": "2020-11-30T20:46:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ3MDc2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ3MTYxMA==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r530471610", "bodyText": "Let me know if you feel <yyyy-MM-dd> isn't clear here. We could also go with <YYYY-MM-DD> or <yyyy-mm-dd>.", "author": "jrodewig", "createdAt": "2020-11-25T15:47:31Z", "path": "docs/reference/data-streams/data-streams.asciidoc", "diffHunk": "@@ -97,12 +97,13 @@ convention:\n \n [source,text]\n ----\n-.ds-<data-stream>-<generation>\n+.ds-<data-stream>-<yyyy-MM-dd>-<generation>\n ----\n \n-Backing indices with a higher generation contain more recent data. For example,\n-the `web-server-logs` data stream has a generation of `34`. The stream's most\n-recent backing index is named `.ds-web-server-logs-000034`.\n+`<yyyy-MM-dd>` is the backing index's creation date. Backing indices with a", "originalCommit": "20d61e908f84540d7497b87b9ee4537792ea5d8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5MDUyNw==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r532890527", "bodyText": "Whatever you think is best is fine with me. I used the mixed casing of <yyyy-MM-dd> reflexively because it matters in Java, but that probably doesn't apply to user documentation.", "author": "danhermann", "createdAt": "2020-11-30T20:42:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ3MTYxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5Mzk4NA==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r532893984", "bodyText": "I'll stick with the current capitalization as it also fits with our standard date formatting: https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html", "author": "jrodewig", "createdAt": "2020-11-30T20:48:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ3MTYxMA=="}], "type": "inlineReview"}, {"oid": "4d2969307f438132544a9ee9ccd0ea67a1c0076e", "url": "https://github.com/elastic/elasticsearch/commit/4d2969307f438132544a9ee9ccd0ea67a1c0076e", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-11-30T13:55:27Z", "type": "commit"}, {"oid": "68d0ebea616a788b1a0fa8e7540fcbd52e4dc6d6", "url": "https://github.com/elastic/elasticsearch/commit/68d0ebea616a788b1a0fa8e7540fcbd52e4dc6d6", "message": "fix test and checkstyle", "committedDate": "2020-11-30T17:37:40Z", "type": "commit"}, {"oid": "0b888ca4aa7ac3a42476f837d3ba47bee6d60fd9", "url": "https://github.com/elastic/elasticsearch/commit/0b888ca4aa7ac3a42476f837d3ba47bee6d60fd9", "message": "fix test", "committedDate": "2020-11-30T19:31:41Z", "type": "commit"}, {"oid": "3c274c4dca35d88a07055419497810cdd771cf39", "url": "https://github.com/elastic/elasticsearch/commit/3c274c4dca35d88a07055419497810cdd771cf39", "message": "fix more tests", "committedDate": "2020-11-30T20:37:35Z", "type": "commit"}, {"oid": "18d9cc6537516188587075cf676911bfdc6986ff", "url": "https://github.com/elastic/elasticsearch/commit/18d9cc6537516188587075cf676911bfdc6986ff", "message": "re-add info about ordered `indices` prop", "committedDate": "2020-11-30T20:45:21Z", "type": "commit"}, {"oid": "578d1cddcf630623ddcebd4666eae9cbbdea095c", "url": "https://github.com/elastic/elasticsearch/commit/578d1cddcf630623ddcebd4666eae9cbbdea095c", "message": "fix a few more tests", "committedDate": "2020-11-30T23:11:46Z", "type": "commit"}, {"oid": "84d29b2a2b55ab8a2f2d062fe1f1d40e354514d0", "url": "https://github.com/elastic/elasticsearch/commit/84d29b2a2b55ab8a2f2d062fe1f1d40e354514d0", "message": "and more tests", "committedDate": "2020-12-01T13:56:20Z", "type": "commit"}, {"oid": "9c4b00e77534ce3ef8bc06ed9b2b279873700e7b", "url": "https://github.com/elastic/elasticsearch/commit/9c4b00e77534ce3ef8bc06ed9b2b279873700e7b", "message": "more YAML test fixes", "committedDate": "2020-12-01T15:26:25Z", "type": "commit"}, {"oid": "d942951a0aa844dfa349a2da825119dedc8a2cfd", "url": "https://github.com/elastic/elasticsearch/commit/d942951a0aa844dfa349a2da825119dedc8a2cfd", "message": "Merge branch '65012_date_in_backing_index_names' of https://github.com/danhermann/elasticsearch into 65012_date_in_backing_index_names", "committedDate": "2020-12-01T15:26:59Z", "type": "commit"}, {"oid": "5d4e700d631aed5e0684fe1354904911e3a024da", "url": "https://github.com/elastic/elasticsearch/commit/5d4e700d631aed5e0684fe1354904911e3a024da", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-01T15:29:12Z", "type": "commit"}, {"oid": "f60cb75958841538ecba39727baafa632f408a46", "url": "https://github.com/elastic/elasticsearch/commit/f60cb75958841538ecba39727baafa632f408a46", "message": "change BWC version", "committedDate": "2020-12-01T15:48:49Z", "type": "commit"}, {"oid": "385e34273943a45acd88fb8a48371673390536cd", "url": "https://github.com/elastic/elasticsearch/commit/385e34273943a45acd88fb8a48371673390536cd", "message": "moar tests", "committedDate": "2020-12-01T16:56:03Z", "type": "commit"}, {"oid": "e1a2cef3b09ddf32ae9f16a710986210212111e0", "url": "https://github.com/elastic/elasticsearch/commit/e1a2cef3b09ddf32ae9f16a710986210212111e0", "message": "spotless", "committedDate": "2020-12-01T17:00:57Z", "type": "commit"}, {"oid": "e3219b293f093f80abb1e7fe8bae44f249acd97a", "url": "https://github.com/elastic/elasticsearch/commit/e3219b293f093f80abb1e7fe8bae44f249acd97a", "message": "spotless?", "committedDate": "2020-12-01T17:44:11Z", "type": "commit"}, {"oid": "cea4bc264e252f2aa6bc639038579f547ad9efbc", "url": "https://github.com/elastic/elasticsearch/commit/cea4bc264e252f2aa6bc639038579f547ad9efbc", "message": "Fix overlooked ds example", "committedDate": "2020-12-01T20:59:34Z", "type": "commit"}, {"oid": "afbabdd978031ac5d1cb7c738558d4208552da5d", "url": "https://github.com/elastic/elasticsearch/commit/afbabdd978031ac5d1cb7c738558d4208552da5d", "message": "Fix setup refs", "committedDate": "2020-12-01T21:22:40Z", "type": "commit"}, {"oid": "e33f42923ea599bf1362bdefaaa0fb4f9cc7015b", "url": "https://github.com/elastic/elasticsearch/commit/e33f42923ea599bf1362bdefaaa0fb4f9cc7015b", "message": "Add request body", "committedDate": "2020-12-01T21:24:38Z", "type": "commit"}, {"oid": "8f3d4294e43170cc18656de6a929c5ad201f82bd", "url": "https://github.com/elastic/elasticsearch/commit/8f3d4294e43170cc18656de6a929c5ad201f82bd", "message": "last doc fix", "committedDate": "2020-12-01T21:51:51Z", "type": "commit"}, {"oid": "be57429b07fa78135ae77b72014138960bac1362", "url": "https://github.com/elastic/elasticsearch/commit/be57429b07fa78135ae77b72014138960bac1362", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-08T17:59:36Z", "type": "commit"}, {"oid": "5229df930d3cdc13813764df89d782aaab3a7559", "url": "https://github.com/elastic/elasticsearch/commit/5229df930d3cdc13813764df89d782aaab3a7559", "message": "remove merge artifact", "committedDate": "2020-12-08T18:03:48Z", "type": "commit"}, {"oid": "5cf00fe97e555543f33327eca6a5e2bc9c614fc8", "url": "https://github.com/elastic/elasticsearch/commit/5cf00fe97e555543f33327eca6a5e2bc9c614fc8", "message": "fix unit test", "committedDate": "2020-12-08T20:15:03Z", "type": "commit"}, {"oid": "752206dff146ffaf227ca785e9a1d48a0dab38d4", "url": "https://github.com/elastic/elasticsearch/commit/752206dff146ffaf227ca785e9a1d48a0dab38d4", "message": "update javadoc, improve test assertions", "committedDate": "2020-12-08T20:45:01Z", "type": "commit"}, {"oid": "8982dfd53a42f4b392cbe17203b5b0c8c077f196", "url": "https://github.com/elastic/elasticsearch/commit/8982dfd53a42f4b392cbe17203b5b0c8c077f196", "message": "fix upgrade IT", "committedDate": "2020-12-08T21:18:27Z", "type": "commit"}, {"oid": "ad36a4436f278c5a02df44261c48187fc0607c40", "url": "https://github.com/elastic/elasticsearch/commit/ad36a4436f278c5a02df44261c48187fc0607c40", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-09T13:50:08Z", "type": "commit"}, {"oid": "d1edd8cec7a931c00d8de75ba06588f8e8b2d6cf", "url": "https://github.com/elastic/elasticsearch/commit/d1edd8cec7a931c00d8de75ba06588f8e8b2d6cf", "message": "another attempt at upgrade IT", "committedDate": "2020-12-09T14:42:58Z", "type": "commit"}, {"oid": "3220ab2d0db25a775b1d533812d1eec54826af32", "url": "https://github.com/elastic/elasticsearch/commit/3220ab2d0db25a775b1d533812d1eec54826af32", "message": "sigh", "committedDate": "2020-12-09T17:29:53Z", "type": "commit"}, {"oid": "d50b90e2b385a82420b8faf24ae69b3b8781eb3f", "url": "https://github.com/elastic/elasticsearch/commit/d50b90e2b385a82420b8faf24ae69b3b8781eb3f", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-09T17:30:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUzOTE3NA==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r539539174", "bodyText": "I'm not sure why the test fails on this line when the near-identical line below succeeds:\nhttps://github.com/elastic/elasticsearch/pull/65205/files#diff-bb60a4ca6d613aa0f52c15e7278930763876d350d28af32297f2dac488316798R112", "author": "danhermann", "createdAt": "2020-12-09T18:19:31Z", "path": "x-pack/plugin/src/test/resources/rest-api-spec/test/data_stream/10_basic.yml", "diffHunk": "@@ -50,29 +50,33 @@ setup:\n   - match: { data_streams.0.timestamp_field.name: '@timestamp' }\n   - match: { data_streams.0.generation: 1 }\n   - length: { data_streams.0.indices: 1 }\n-  - match: { data_streams.0.indices.0.index_name: '.ds-simple-data-stream1-000001' }\n+  - match: { data_streams.0.indices.0.index_name: '/\\.ds-simple-data-stream1-(\\d{4}-\\d{2}-\\d{2}-)?000001/' }\n   - match: { data_streams.0.status: 'GREEN' }\n   - match: { data_streams.0.template: 'my-template1' }\n   - match: { data_streams.0.hidden: false }\n   - match: { data_streams.1.name: simple-data-stream2 }\n   - match: { data_streams.1.timestamp_field.name: '@timestamp' }\n   - match: { data_streams.0.generation: 1 }\n   - length: { data_streams.1.indices: 1 }\n-  - match: { data_streams.1.indices.0.index_name: '.ds-simple-data-stream2-000001' }\n+  - match: { data_streams.1.indices.0.index_name: '/\\.ds-simple-data-stream2-(\\d{4}-\\d{2}-\\d{2}-)?000001/' }\n   - match: { data_streams.1.template: 'my-template2' }\n   - match: { data_streams.0.hidden: false }\n \n+  # save the backing index names for later use\n+  - set: { data_streams.0.indices.0.index_name: idx0name }\n+  - set: { data_streams.1.indices.0.index_name: idx1name }\n+\n   - do:\n       indices.get_mapping:\n-        index: .ds-simple-data-stream1-000001\n+        index: .ds-simple-data-stream1-*000001\n         expand_wildcards: hidden\n-  - match: { \\.ds-simple-data-stream1-000001.mappings.properties.@timestamp.type: 'date' }\n+  - match: { $idx0name.mappings.properties.@timestamp.type: 'date' }", "originalCommit": "d50b90e2b385a82420b8faf24ae69b3b8781eb3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMzODM0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r542338349", "bodyText": "iirc index: .ds-simple-data-stream1-*000001 doesn't work, because wildcard has to be at the end,\nthis index: $idx0name should work.", "author": "martijnvg", "createdAt": "2020-12-14T12:14:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUzOTE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM0MzU2Nw==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r542343567", "bodyText": "Making this change and then it fails with: no object found for [mappings] within object of class [class java.lang.String] at line 73. I think it can't select the right json field in the response body, because the $idx0name variable contains dots in its name.", "author": "martijnvg", "createdAt": "2020-12-14T12:24:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUzOTE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM0NzM4NQ==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r542347385", "bodyText": "I don't think variables like $idx0name can be used as field name, because it contains dot, which the yaml testing code interprets as a nested json field. I don't think there is escaping logic?", "author": "martijnvg", "createdAt": "2020-12-14T12:31:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUzOTE3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM3ODkyMQ==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r542378921", "bodyText": "I don't think variables like $idx0name can be used as field name, because it contains dot, which the yaml testing code interprets as a nested json field. I don't think there is escaping logic?\n\nUsing variables as part of a field name in match clauses appears to work in other places such as the link above. The only difference I saw between the linked example and what I tried here is that here the variable is at the beginning of the field name rather than somewhere in the middle. I don't know if that matters, but I don't think that it should matter.", "author": "danhermann", "createdAt": "2020-12-14T13:22:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUzOTE3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTU0MDcxOA==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r539540718", "bodyText": "I'm not sure why a test fails on this line when a very similar line below succeeds:\nhttps://github.com/elastic/elasticsearch/pull/65205/files#diff-bb60a4ca6d613aa0f52c15e7278930763876d350d28af32297f2dac488316798R57", "author": "danhermann", "createdAt": "2020-12-09T18:21:48Z", "path": "x-pack/plugin/src/test/resources/rest-api-spec/test/data_stream/10_data_stream_resolvability.yml", "diffHunk": "@@ -230,8 +243,8 @@\n       indices.get_settings:\n         index: \".ds-simple-data-stream1-*\"\n \n-  - is_false: \\.ds-simple-data-stream1-000001.settings.index.lifecycle\n-  - is_false: \\.ds-simple-data-stream1-000002.settings.index.lifecycle\n+  - is_false: ${idx0name}.settings.index.lifecycle", "originalCommit": "d50b90e2b385a82420b8faf24ae69b3b8781eb3f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eb4c22b9328ce071f0ea7280a2d96c2231e07f66", "url": "https://github.com/elastic/elasticsearch/commit/eb4c22b9328ce071f0ea7280a2d96c2231e07f66", "message": "change yyyy-MM-dd to yyyy.MM.dd", "committedDate": "2020-12-09T20:34:00Z", "type": "commit"}, {"oid": "e2c2aad80fea6c91563c80684e7891783f877321", "url": "https://github.com/elastic/elasticsearch/commit/e2c2aad80fea6c91563c80684e7891783f877321", "message": "fix more tests", "committedDate": "2020-12-09T21:06:15Z", "type": "commit"}, {"oid": "fc2bde70c732c33802c04963f39495809cd5c481", "url": "https://github.com/elastic/elasticsearch/commit/fc2bde70c732c33802c04963f39495809cd5c481", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-11T13:09:10Z", "type": "commit"}, {"oid": "784c6eac9721f3cb262b8d3c3f3306f71d71f71b", "url": "https://github.com/elastic/elasticsearch/commit/784c6eac9721f3cb262b8d3c3f3306f71d71f71b", "message": "[DOCS] Update SVG images", "committedDate": "2020-12-11T14:49:01Z", "type": "commit"}, {"oid": "8a2158127986553121f82837dede21ce35828f17", "url": "https://github.com/elastic/elasticsearch/commit/8a2158127986553121f82837dede21ce35828f17", "message": "fix tests", "committedDate": "2020-12-14T14:29:45Z", "type": "commit"}, {"oid": "f0c891630a96e9c018ca19d3e5d940288bf32567", "url": "https://github.com/elastic/elasticsearch/commit/f0c891630a96e9c018ca19d3e5d940288bf32567", "message": "Merge branch '65012_date_in_backing_index_names' of https://github.com/danhermann/elasticsearch into 65012_date_in_backing_index_names", "committedDate": "2020-12-14T14:29:56Z", "type": "commit"}, {"oid": "0da762ae70795ee82f2d39b5ecc6012a9c76fb22", "url": "https://github.com/elastic/elasticsearch/commit/0da762ae70795ee82f2d39b5ecc6012a9c76fb22", "message": "fix more tests", "committedDate": "2020-12-14T16:56:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjU1MDYxOQ==", "url": "https://github.com/elastic/elasticsearch/pull/65205#discussion_r542550619", "bodyText": "maybe use the getDefaultBackingIndexName(...) method that accepts a timestamp?", "author": "martijnvg", "createdAt": "2020-12-14T17:04:44Z", "path": "server/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java", "diffHunk": "@@ -215,8 +215,10 @@ public void testResolveAliases() {\n \n     public void testResolveDataStreams() {\n         String dataStreamName = \"foo_logs\";\n-        IndexMetadata firstBackingIndexMetadata = createBackingIndex(dataStreamName, 1).build();\n-        IndexMetadata secondBackingIndexMetadata = createBackingIndex(dataStreamName, 2).build();\n+        long epochMillis = randomLongBetween(1580536800000L, 1583042400000L);\n+        String dateString = DataStream.DATE_FORMATTER.formatMillis(epochMillis);", "originalCommit": "f0c891630a96e9c018ca19d3e5d940288bf32567", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0c2181d1775171f66f9442f6aebb83fc93f8b8a9", "url": "https://github.com/elastic/elasticsearch/commit/0c2181d1775171f66f9442f6aebb83fc93f8b8a9", "message": "moar tests", "committedDate": "2020-12-14T17:27:51Z", "type": "commit"}, {"oid": "a49143e8b1a39d23e44526103812449c3f2a29d3", "url": "https://github.com/elastic/elasticsearch/commit/a49143e8b1a39d23e44526103812449c3f2a29d3", "message": "and again...", "committedDate": "2020-12-14T18:11:15Z", "type": "commit"}, {"oid": "bda937d4df09680a23a85d4562e511fa06a34656", "url": "https://github.com/elastic/elasticsearch/commit/bda937d4df09680a23a85d4562e511fa06a34656", "message": "sad face", "committedDate": "2020-12-14T19:05:22Z", "type": "commit"}, {"oid": "3ff03ab2c3b0c69e74b389c8db3a670720b38edb", "url": "https://github.com/elastic/elasticsearch/commit/3ff03ab2c3b0c69e74b389c8db3a670720b38edb", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-14T19:05:40Z", "type": "commit"}, {"oid": "814d606252ae1edecd1954302a9dc0d54ed20365", "url": "https://github.com/elastic/elasticsearch/commit/814d606252ae1edecd1954302a9dc0d54ed20365", "message": "Merge branch 'master' into 65012_date_in_backing_index_names", "committedDate": "2020-12-14T21:57:13Z", "type": "commit"}]}