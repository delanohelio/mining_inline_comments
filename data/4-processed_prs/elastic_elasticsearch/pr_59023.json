{"pr_number": 59023, "pr_title": "[DOCS] Clarifies transform node settings", "pr_createdAt": "2020-07-03T16:28:10Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/59023", "timeline": [{"oid": "8f91c0483cb259d6fa303c6b75453c3440b2b89b", "url": "https://github.com/elastic/elasticsearch/commit/8f91c0483cb259d6fa303c6b75453c3440b2b89b", "message": "[DOCS] Clarifies transform node settings", "committedDate": "2020-07-03T16:26:23Z", "type": "commit"}, {"oid": "98f4749f2e40c371fcf4e2611469d368ec1df1b8", "url": "https://github.com/elastic/elasticsearch/commit/98f4749f2e40c371fcf4e2611469d368ec1df1b8", "message": "[DOCS] Clarifies transform setup", "committedDate": "2020-07-03T16:50:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1ODY5MQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r449658691", "bodyText": "and transform?\n\nIs this change correct? Or are all nodes truly transform nodes by default?", "author": "lcawl", "createdAt": "2020-07-03T16:51:32Z", "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -15,7 +15,7 @@ All nodes know about all the other nodes in the cluster and can forward client\n requests to the appropriate node.\n \n By default, a node is all of the following types: master-eligible, data, ingest,\n-and (if available) machine learning and transform.\n+and (if available) machine learning.", "originalCommit": "98f4749f2e40c371fcf4e2611469d368ec1df1b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2NzY5Mg==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450067692", "bodyText": "sounds good to me", "author": "hendrikmuhs", "createdAt": "2020-07-06T08:35:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1ODY5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3MzM5NA==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450673394", "bodyText": "sorry, did I got this wrong? It was right before, or maybe we should say:\n\"By default, a node is all of the following types: master-eligible, data, ingest,\nand (if available) machine learning. All data nodes are also transform nodes.\"", "author": "hendrikmuhs", "createdAt": "2020-07-07T07:48:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1ODY5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk1MDkyNQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450950925", "bodyText": "Thanks, I've made that change now too.", "author": "lcawl", "createdAt": "2020-07-07T15:25:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1ODY5MQ=="}], "type": "inlineReview"}, {"oid": "874c26169f2a42634fc411e3320cc5024578d505", "url": "https://github.com/elastic/elasticsearch/commit/874c26169f2a42634fc411e3320cc5024578d505", "message": "[DOCS] Fixes deprecation link", "committedDate": "2020-07-03T17:38:05Z", "type": "commit"}, {"oid": "315e9230839ad43132435788e59c93690801eef2", "url": "https://github.com/elastic/elasticsearch/commit/315e9230839ad43132435788e59c93690801eef2", "message": "[DOCS] Clarify node.roles is a list", "committedDate": "2020-07-03T17:48:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450079505", "bodyText": "This is a bit tricky: You do not need the transform role on coordinating node. What you need is transform plugin being enabled on coordinating nodes. We highly discourage clusters with mixed plugins, all nodes in a cluster should have the same plugins enabled.\nThat's why #54745 removes the ability to disable xpack plugins.\nThe old text was correct, but maybe its better to say: do not disable the transform plugin, but use the transform role to restrict where transforms are executed.", "author": "hendrikmuhs", "createdAt": "2020-07-06T08:55:51Z", "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -261,10 +261,10 @@ xpack.ml.enabled: true <1>\n \n {transform-cap} nodes run {transforms} and handle {transform} API requests.\n \n-If you want to use {transforms} in clients (including {kib}), it must also be\n-enabled on all coordinating nodes. You must also have at least one node with the\n-`transform` role. This is the default behavior. If you have the {oss-dist}, do\n-not use these settings. For more information, see <<transform-settings>>.\n+By default, data nodes are also transform nodes. If you want to use {transforms}\n+in clients (including {kib}), coordinating nodes must also have the\n+`transform` role. If you have the {oss-dist}, do not use these settings. For", "originalCommit": "315e9230839ad43132435788e59c93690801eef2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4MDk5Mw==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450080993", "bodyText": "I see that the doc says:\n xpack.transform.enabled\n    [7.8.0] Deprecated in 7.8.0. Basic License features should always be enabled\n    This deprecated setting no longer has any effect. \n\n\nThat means we can probably remove the statement about clients altogether.", "author": "hendrikmuhs", "createdAt": "2020-07-06T08:58:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI5MTI3NQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450291275", "bodyText": "Thanks, I've removed the \"If you want to use transforms in clients...\" sentence.", "author": "lcawl", "createdAt": "2020-07-06T15:12:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3MjIxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450672215", "bodyText": "Maybe you do already: In a separate PR we should follow up regarding ML and xpack.ml.enabled, if I get it right, this should be \"not effective\", too. /CC @droberts195", "author": "hendrikmuhs", "createdAt": "2020-07-07T07:45:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk1NDQxMQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450954411", "bodyText": "Isn't the ML node different since it's not associated with a basic license (and therefore not affected by #54745)? We made some adjustments to the ML node docs in #59024 and elastic/stack-docs#1239 but if more are required, I'm happy to make them.", "author": "lcawl", "createdAt": "2020-07-07T15:30:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA4MzIyOQ==", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r451083229", "bodyText": "\ud83e\udd26 you are right, only affects basic.", "author": "hendrikmuhs", "createdAt": "2020-07-07T19:09:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ=="}], "type": "inlineReview"}, {"oid": "a308919fece3a0c3e100b1fc0c4ff02894732153", "url": "https://github.com/elastic/elasticsearch/commit/a308919fece3a0c3e100b1fc0c4ff02894732153", "message": "[DOCS] Remove client details from transform node description", "committedDate": "2020-07-06T15:11:45Z", "type": "commit"}, {"oid": "e1c298bc5fc7486ce0e4115e69451ceaac403e70", "url": "https://github.com/elastic/elasticsearch/commit/e1c298bc5fc7486ce0e4115e69451ceaac403e70", "message": "[DOCS] Clarifies default node roles", "committedDate": "2020-07-07T15:25:27Z", "type": "commit"}]}