{"pr_number": 59176, "pr_title": "Separate ir tree generation from semantic checking", "pr_createdAt": "2020-07-07T17:03:47Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/59176", "timeline": [{"oid": "4a70d3fb81f22666dbb013aa8ed07604f999d2fe", "url": "https://github.com/elastic/elasticsearch/commit/4a70d3fb81f22666dbb013aa8ed07604f999d2fe", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-05-05T16:35:23Z", "type": "commit"}, {"oid": "3201a274cba9ecb9a3752162ad5e2b5a72b360e6", "url": "https://github.com/elastic/elasticsearch/commit/3201a274cba9ecb9a3752162ad5e2b5a72b360e6", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-05-05T16:35:31Z", "type": "commit"}, {"oid": "729c1dbe82bd49f9058761d57a548f6a622bd14e", "url": "https://github.com/elastic/elasticsearch/commit/729c1dbe82bd49f9058761d57a548f6a622bd14e", "message": "Merge branch 'master' into nodes5", "committedDate": "2020-05-06T16:53:29Z", "type": "commit"}, {"oid": "c50c2ce955a2742df50d7522510f51e8855f42ed", "url": "https://github.com/elastic/elasticsearch/commit/c50c2ce955a2742df50d7522510f51e8855f42ed", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-05-06T16:53:47Z", "type": "commit"}, {"oid": "4c25b66fba923701651e21ceaeac08834e90b5d5", "url": "https://github.com/elastic/elasticsearch/commit/4c25b66fba923701651e21ceaeac08834e90b5d5", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-05-06T16:54:07Z", "type": "commit"}, {"oid": "680a8b32d49ee9d9e8c349b6b98bf440ca0c0d07", "url": "https://github.com/elastic/elasticsearch/commit/680a8b32d49ee9d9e8c349b6b98bf440ca0c0d07", "message": "remove unnecessary test code from Walker", "committedDate": "2020-05-06T17:31:55Z", "type": "commit"}, {"oid": "394cf2fa4386f5443a9c1a2e75434dd03063117a", "url": "https://github.com/elastic/elasticsearch/commit/394cf2fa4386f5443a9c1a2e75434dd03063117a", "message": "fix imports", "committedDate": "2020-05-06T17:59:43Z", "type": "commit"}, {"oid": "6b429c66512befbd1fadb82285679b19378a8e84", "url": "https://github.com/elastic/elasticsearch/commit/6b429c66512befbd1fadb82285679b19378a8e84", "message": "remove more dead code", "committedDate": "2020-05-06T22:12:46Z", "type": "commit"}, {"oid": "a9753af0cbc6f6b52295afc4e5ba5e17e4c9799a", "url": "https://github.com/elastic/elasticsearch/commit/a9753af0cbc6f6b52295afc4e5ba5e17e4c9799a", "message": "Merge branch 'master' into nodes5", "committedDate": "2020-05-07T15:37:21Z", "type": "commit"}, {"oid": "77bb1df417baf81f2673d54fd28e89581152d4c8", "url": "https://github.com/elastic/elasticsearch/commit/77bb1df417baf81f2673d54fd28e89581152d4c8", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-05-07T15:37:27Z", "type": "commit"}, {"oid": "9106ae5756e688351f69a96ba2b53f0c71d88b09", "url": "https://github.com/elastic/elasticsearch/commit/9106ae5756e688351f69a96ba2b53f0c71d88b09", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-05-07T15:37:37Z", "type": "commit"}, {"oid": "9791782411ec75c7236a92a642cee803847f8bb5", "url": "https://github.com/elastic/elasticsearch/commit/9791782411ec75c7236a92a642cee803847f8bb5", "message": "Merge branch 'master' into nodes5", "committedDate": "2020-05-11T17:33:14Z", "type": "commit"}, {"oid": "a2bbf6bec4530d4bd680a45c602647ab3514ca55", "url": "https://github.com/elastic/elasticsearch/commit/a2bbf6bec4530d4bd680a45c602647ab3514ca55", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-05-11T17:33:31Z", "type": "commit"}, {"oid": "86fe756fc1f4760b336e42ffa922e9de1d9c61fe", "url": "https://github.com/elastic/elasticsearch/commit/86fe756fc1f4760b336e42ffa922e9de1d9c61fe", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-05-11T17:33:47Z", "type": "commit"}, {"oid": "9c67ee16ac9d5d8cb20be5ff5680e4c4472f4311", "url": "https://github.com/elastic/elasticsearch/commit/9c67ee16ac9d5d8cb20be5ff5680e4c4472f4311", "message": "fixed lexer spacing", "committedDate": "2020-05-13T18:48:20Z", "type": "commit"}, {"oid": "941d762d2da55dce4add0a69cb58791c11c54650", "url": "https://github.com/elastic/elasticsearch/commit/941d762d2da55dce4add0a69cb58791c11c54650", "message": "Merge branch 'master' into nodes5", "committedDate": "2020-05-13T20:09:01Z", "type": "commit"}, {"oid": "a378ad56d918b1d1bd40354d08423193008f7313", "url": "https://github.com/elastic/elasticsearch/commit/a378ad56d918b1d1bd40354d08423193008f7313", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-05-13T20:09:06Z", "type": "commit"}, {"oid": "1c2c1851fdd5d48b3a06b304f703364041c01e9a", "url": "https://github.com/elastic/elasticsearch/commit/1c2c1851fdd5d48b3a06b304f703364041c01e9a", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-05-13T20:09:13Z", "type": "commit"}, {"oid": "515427155b4920403075669d0b54532cc6c350ab", "url": "https://github.com/elastic/elasticsearch/commit/515427155b4920403075669d0b54532cc6c350ab", "message": "Merge branch 'master' into semantic0", "committedDate": "2020-05-14T17:30:59Z", "type": "commit"}, {"oid": "5405019217619fbfe3ab2328b0212b7086bdb97b", "url": "https://github.com/elastic/elasticsearch/commit/5405019217619fbfe3ab2328b0212b7086bdb97b", "message": "Merge branch 'semantic0' into semantic1", "committedDate": "2020-05-14T17:31:10Z", "type": "commit"}, {"oid": "ce4a9cf8504564ea84a9e05382f4cf1373e56556", "url": "https://github.com/elastic/elasticsearch/commit/ce4a9cf8504564ea84a9e05382f4cf1373e56556", "message": "Merge branch 'master' into semantic0", "committedDate": "2020-06-08T14:48:54Z", "type": "commit"}, {"oid": "f4dd1787ce97df3635d27094aca2e248d61d4afb", "url": "https://github.com/elastic/elasticsearch/commit/f4dd1787ce97df3635d27094aca2e248d61d4afb", "message": "Merge branch 'semantic0' into semantic1", "committedDate": "2020-06-08T14:49:13Z", "type": "commit"}, {"oid": "b8a7eae2b54ad2dce22bb06e903d896577bf9ee0", "url": "https://github.com/elastic/elasticsearch/commit/b8a7eae2b54ad2dce22bb06e903d896577bf9ee0", "message": "Merge branch 'master' into semantic1", "committedDate": "2020-06-10T15:29:53Z", "type": "commit"}, {"oid": "c0eb8a5308a23ee600d4d7fea096eca93a19524a", "url": "https://github.com/elastic/elasticsearch/commit/c0eb8a5308a23ee600d4d7fea096eca93a19524a", "message": "Merge branch 'master' into semantic1", "committedDate": "2020-06-12T15:40:07Z", "type": "commit"}, {"oid": "9b7e36686702931c842bf3cbaf88b7c2d6466d2d", "url": "https://github.com/elastic/elasticsearch/commit/9b7e36686702931c842bf3cbaf88b7c2d6466d2d", "message": "Merge branch 'semantic1' into semantic2", "committedDate": "2020-06-12T16:27:37Z", "type": "commit"}, {"oid": "e0acb3e74a79f35e6e9ecccdba0989ad7de8cda7", "url": "https://github.com/elastic/elasticsearch/commit/e0acb3e74a79f35e6e9ecccdba0989ad7de8cda7", "message": "Merge branch 'semantic2' into semantic3", "committedDate": "2020-06-12T16:27:53Z", "type": "commit"}, {"oid": "ae755a811e1cd3609f7b427b012e371cef807fe3", "url": "https://github.com/elastic/elasticsearch/commit/ae755a811e1cd3609f7b427b012e371cef807fe3", "message": "Merge branch 'master' into semantic1", "committedDate": "2020-06-15T17:07:52Z", "type": "commit"}, {"oid": "15ad272f43e83cb67ec804a22ae2efd5b739f742", "url": "https://github.com/elastic/elasticsearch/commit/15ad272f43e83cb67ec804a22ae2efd5b739f742", "message": "Merge branch 'semantic1' into semantic2", "committedDate": "2020-06-15T17:08:13Z", "type": "commit"}, {"oid": "5207d228095d48c32cc47ccba3049d36d10dba55", "url": "https://github.com/elastic/elasticsearch/commit/5207d228095d48c32cc47ccba3049d36d10dba55", "message": "Merge branch 'semantic2' into semantic3", "committedDate": "2020-06-15T17:45:01Z", "type": "commit"}, {"oid": "b090e91b12cf4e12b0da876079fe43a3a6d60f66", "url": "https://github.com/elastic/elasticsearch/commit/b090e91b12cf4e12b0da876079fe43a3a6d60f66", "message": "Merge branch 'master' into semantic1", "committedDate": "2020-06-18T15:06:38Z", "type": "commit"}, {"oid": "b35a06fd97652d82d9f1a1d66bdf2186f8a81a41", "url": "https://github.com/elastic/elasticsearch/commit/b35a06fd97652d82d9f1a1d66bdf2186f8a81a41", "message": "Merge branch 'semantic1' into semantic2", "committedDate": "2020-06-18T15:06:47Z", "type": "commit"}, {"oid": "ea0a33ce0d5f247bad06a653be9f22c5caa81591", "url": "https://github.com/elastic/elasticsearch/commit/ea0a33ce0d5f247bad06a653be9f22c5caa81591", "message": "Merge branch 'semantic2' into semantic3", "committedDate": "2020-06-18T15:06:57Z", "type": "commit"}, {"oid": "89f84a945c99621dd22339aec07814a6b4a6b066", "url": "https://github.com/elastic/elasticsearch/commit/89f84a945c99621dd22339aec07814a6b4a6b066", "message": "fix indentation in license header", "committedDate": "2020-06-18T15:10:56Z", "type": "commit"}, {"oid": "acce2f7e07e97173b5e7ddcb6404389fbcdde5e2", "url": "https://github.com/elastic/elasticsearch/commit/acce2f7e07e97173b5e7ddcb6404389fbcdde5e2", "message": "Merge branch 'master' into semantic3", "committedDate": "2020-06-18T16:55:03Z", "type": "commit"}, {"oid": "1fe0a3ca2939495888a10395b6d7abde239b8a25", "url": "https://github.com/elastic/elasticsearch/commit/1fe0a3ca2939495888a10395b6d7abde239b8a25", "message": "Merge branch 'semantic3' into semantic4", "committedDate": "2020-06-18T16:58:02Z", "type": "commit"}, {"oid": "439c6648feb2067036db2b041c8ed405c12a7bce", "url": "https://github.com/elastic/elasticsearch/commit/439c6648feb2067036db2b041c8ed405c12a7bce", "message": "Merge branch 'master' into semantic3", "committedDate": "2020-06-24T15:43:01Z", "type": "commit"}, {"oid": "486f779e525cbc646f85e0c99380262466c12574", "url": "https://github.com/elastic/elasticsearch/commit/486f779e525cbc646f85e0c99380262466c12574", "message": "Merge branch 'semantic3' into semantic4", "committedDate": "2020-06-24T15:43:19Z", "type": "commit"}, {"oid": "6f8c2d58c882d0b8f9296fe60302dc41df25f4c4", "url": "https://github.com/elastic/elasticsearch/commit/6f8c2d58c882d0b8f9296fe60302dc41df25f4c4", "message": "remove extraneous code", "committedDate": "2020-06-24T16:11:45Z", "type": "commit"}, {"oid": "3de00846a6baaac92bc663d54f23684957d26ce2", "url": "https://github.com/elastic/elasticsearch/commit/3de00846a6baaac92bc663d54f23684957d26ce2", "message": "Merge branch 'master' into semantic3", "committedDate": "2020-06-30T17:59:25Z", "type": "commit"}, {"oid": "591e8fbf28df972180a52b957f3c756cc25c99c1", "url": "https://github.com/elastic/elasticsearch/commit/591e8fbf28df972180a52b957f3c756cc25c99c1", "message": "Merge branch 'semantic3' into semantic4", "committedDate": "2020-06-30T17:59:35Z", "type": "commit"}, {"oid": "d11dbcd7a3d1ba91752962d3ac133cba2e050c8e", "url": "https://github.com/elastic/elasticsearch/commit/d11dbcd7a3d1ba91752962d3ac133cba2e050c8e", "message": "rename left/right to true/false for user conditional node", "committedDate": "2020-06-30T18:03:01Z", "type": "commit"}, {"oid": "d9e6809729672d2b0ad359344feba73d4250bd16", "url": "https://github.com/elastic/elasticsearch/commit/d9e6809729672d2b0ad359344feba73d4250bd16", "message": "Merge branch 'master' into semantic4", "committedDate": "2020-06-30T19:18:39Z", "type": "commit"}, {"oid": "ec8ddacd6059f1565a5da6b61898821a7c2f52b4", "url": "https://github.com/elastic/elasticsearch/commit/ec8ddacd6059f1565a5da6b61898821a7c2f52b4", "message": "Merge branch 'semantic4' into semantic5", "committedDate": "2020-06-30T19:29:39Z", "type": "commit"}, {"oid": "d843df9dba3fc04d180ee747ea36b1bb03bdcdfa", "url": "https://github.com/elastic/elasticsearch/commit/d843df9dba3fc04d180ee747ea36b1bb03bdcdfa", "message": "Merge branch 'master' into semantic4", "committedDate": "2020-07-01T14:55:21Z", "type": "commit"}, {"oid": "e45645ed4ee348ea9119183c906eb3833f47ad73", "url": "https://github.com/elastic/elasticsearch/commit/e45645ed4ee348ea9119183c906eb3833f47ad73", "message": "Merge branch 'master' into semantic4", "committedDate": "2020-07-01T17:42:56Z", "type": "commit"}, {"oid": "db96091b0d652056a25ee2681215f31bdf9655e0", "url": "https://github.com/elastic/elasticsearch/commit/db96091b0d652056a25ee2681215f31bdf9655e0", "message": "add visitor patterns for user and ir trees", "committedDate": "2020-07-01T20:32:43Z", "type": "commit"}, {"oid": "4c1902df61876b686f6a2c1899c78ee311a5e1a1", "url": "https://github.com/elastic/elasticsearch/commit/4c1902df61876b686f6a2c1899c78ee311a5e1a1", "message": "Merge branch 'master' into semantic05", "committedDate": "2020-07-01T20:45:02Z", "type": "commit"}, {"oid": "4b8742a0776b5a819fc369dc9d7889885e00c6a0", "url": "https://github.com/elastic/elasticsearch/commit/4b8742a0776b5a819fc369dc9d7889885e00c6a0", "message": "add base visitor classes", "committedDate": "2020-07-02T21:15:19Z", "type": "commit"}, {"oid": "f2d5006edbc63374240e15a57c647fd1fb05808e", "url": "https://github.com/elastic/elasticsearch/commit/f2d5006edbc63374240e15a57c647fd1fb05808e", "message": "Merge branch 'master' into semantic05", "committedDate": "2020-07-07T16:16:38Z", "type": "commit"}, {"oid": "cf0809cf2bfd7dab9182427897d3d1af77fe27cc", "url": "https://github.com/elastic/elasticsearch/commit/cf0809cf2bfd7dab9182427897d3d1af77fe27cc", "message": "Merge branch 'semantic05' into semantic5", "committedDate": "2020-07-07T16:46:25Z", "type": "commit"}, {"oid": "8f4f548fc806abeb4e3b54c5d498198b0ce4b6f3", "url": "https://github.com/elastic/elasticsearch/commit/8f4f548fc806abeb4e3b54c5d498198b0ce4b6f3", "message": "fix intellij default", "committedDate": "2020-07-07T16:53:27Z", "type": "commit"}, {"oid": "4db342843635c2138faad1b89ab80c66be59c512", "url": "https://github.com/elastic/elasticsearch/commit/4db342843635c2138faad1b89ab80c66be59c512", "message": "remove extraneous newline", "committedDate": "2020-07-07T16:58:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NTA2Ng==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r451195066", "bodyText": "How did this pass style checking?", "author": "stu-elastic", "createdAt": "2020-07-07T23:15:26Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/ir/ClassNode.java", "diffHunk": "@@ -24,8 +24,8 @@\n import org.elasticsearch.painless.MethodWriter;\n import org.elasticsearch.painless.ScriptClassInfo;\n import org.elasticsearch.painless.phase.IRTreeVisitor;\n-import org.elasticsearch.painless.symbol.WriteScope;", "originalCommit": "4db342843635c2138faad1b89ab80c66be59c512", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ2OTE0Nw==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r454469147", "bodyText": "I don't think we check order. I \"optimized\" imports for all the files in Intellij so hopefully it picks this up.", "author": "jdconrad", "createdAt": "2020-07-14T16:05:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NTA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NTgyNA==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r453785824", "bodyText": "Fix this ws issue.", "author": "stu-elastic", "createdAt": "2020-07-13T16:44:48Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/ir/InstanceofNode.java", "diffHunk": "@@ -22,50 +22,28 @@\n import org.elasticsearch.painless.ClassWriter;\n import org.elasticsearch.painless.MethodWriter;\n import org.elasticsearch.painless.lookup.PainlessLookupUtility;\n+import org.elasticsearch.painless.lookup.def;\n import org.elasticsearch.painless.phase.IRTreeVisitor;\n import org.elasticsearch.painless.symbol.WriteScope;\n-import org.objectweb.asm.Type;\n \n public class InstanceofNode extends UnaryNode {\n     \n     /* ---- begin node data ---- */\n-\n+    ", "originalCommit": "4db342843635c2138faad1b89ab80c66be59c512", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ3MTMzOA==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r454471338", "bodyText": "Fixed for consistency with all the other nodes based on existing blanks lines and sections delineated by comments.", "author": "jdconrad", "createdAt": "2020-07-14T16:08:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NTgyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NzI3Nw==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r453787277", "bodyText": "Note: Node now decorated with cast.", "author": "stu-elastic", "createdAt": "2020-07-13T16:47:13Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java", "diffHunk": "@@ -91,20 +79,12 @@ public PainlessCast cast(SemanticScope semanticScope) {\n         boolean isExplicitCast = semanticScope.getCondition(this, Explicit.class);\n         boolean isInternalCast = semanticScope.getCondition(this, Internal.class);\n \n-        return AnalyzerCaster.getLegalCast(getLocation(), valueType, targetType, isExplicitCast, isInternalCast);\n-    }\n+        PainlessCast painlessCast = AnalyzerCaster.getLegalCast(getLocation(), valueType, targetType, isExplicitCast, isInternalCast);\n \n-    static ExpressionNode cast(ExpressionNode expressionNode, PainlessCast painlessCast) {\n-        if (painlessCast == null) {\n-            return expressionNode;\n+        if (painlessCast != null) {\n+            semanticScope.putDecoration(this, new ExpressionPainlessCast(painlessCast));", "originalCommit": "4db342843635c2138faad1b89ab80c66be59c512", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ3MTU1MA==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r454471550", "bodyText": "Note for @stu-elastic", "author": "jdconrad", "createdAt": "2020-07-14T16:08:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NzI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5MDQxMg==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r453790412", "bodyText": "Rename to EBoolComparison or similar", "author": "stu-elastic", "createdAt": "2020-07-13T16:52:33Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java", "diffHunk": "@@ -21,9 +21,6 @@\n \n import org.elasticsearch.painless.Location;\n import org.elasticsearch.painless.Operation;\n-import org.elasticsearch.painless.ir.BooleanNode;\n-import org.elasticsearch.painless.ir.ClassNode;\n-import org.elasticsearch.painless.lookup.PainlessCast;\n import org.elasticsearch.painless.phase.UserTreeVisitor;\n import org.elasticsearch.painless.symbol.Decorations.Read;\n import org.elasticsearch.painless.symbol.Decorations.TargetType;", "originalCommit": "4db342843635c2138faad1b89ab80c66be59c512", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ3MDUxNA==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r454470514", "bodyText": "Changed.", "author": "jdconrad", "createdAt": "2020-07-14T16:07:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5MDQxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5MDU3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r453790571", "bodyText": "Rename to EBoolConst on similar.", "author": "stu-elastic", "createdAt": "2020-07-13T16:52:47Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java", "diffHunk": "@@ -20,10 +20,9 @@\n package org.elasticsearch.painless.node;", "originalCommit": "4db342843635c2138faad1b89ab80c66be59c512", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ3MDU2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r454470563", "bodyText": "Changed.", "author": "jdconrad", "createdAt": "2020-07-14T16:07:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5MDU3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NTYxNg==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r453795616", "bodyText": "Note: Moved to IR generation.", "author": "stu-elastic", "createdAt": "2020-07-13T17:01:02Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ERegex.java", "diffHunk": "@@ -105,87 +91,7 @@ Output analyze(ClassNode classNode, SemanticScope semanticScope) {\n         }\n \n         semanticScope.putDecoration(this, new ValueType(Pattern.class));\n-\n-        String name = semanticScope.getScriptScope().getNextSyntheticName(\"regex\");\n-\n-        FieldNode fieldNode = new FieldNode();\n-        fieldNode.setLocation(getLocation());\n-        fieldNode.setModifiers(Modifier.FINAL | Modifier.STATIC | Modifier.PRIVATE);\n-        fieldNode.setFieldType(Pattern.class);\n-        fieldNode.setName(name);\n-\n-        classNode.addFieldNode(fieldNode);\n-\n-        try {\n-            StatementExpressionNode statementExpressionNode = new StatementExpressionNode();\n-            statementExpressionNode.setLocation(getLocation());\n-\n-            BlockNode blockNode = classNode.getClinitBlockNode();\n-            blockNode.addStatementNode(statementExpressionNode);\n-\n-            MemberFieldStoreNode memberFieldStoreNode = new MemberFieldStoreNode();\n-            memberFieldStoreNode.setLocation(getLocation());\n-            memberFieldStoreNode.setExpressionType(void.class);\n-            memberFieldStoreNode.setFieldType(Pattern.class);\n-            memberFieldStoreNode.setName(name);\n-            memberFieldStoreNode.setStatic(true);\n-\n-            statementExpressionNode.setExpressionNode(memberFieldStoreNode);\n-\n-            CallNode callNode = new CallNode();\n-            callNode.setLocation(getLocation());\n-            callNode.setExpressionType(Pattern.class);\n-\n-            memberFieldStoreNode.setChildNode(callNode);\n-\n-            StaticNode staticNode = new StaticNode();\n-            staticNode.setLocation(getLocation());\n-            staticNode.setExpressionType(Pattern.class);\n-\n-            callNode.setLeftNode(staticNode);\n-\n-            CallSubNode callSubNode = new CallSubNode();\n-            callSubNode.setLocation(getLocation());\n-            callSubNode.setExpressionType(Pattern.class);\n-            callSubNode.setBox(Pattern.class);\n-            callSubNode.setMethod(new PainlessMethod(\n-                    Pattern.class.getMethod(\"compile\", String.class, int.class),\n-                    Pattern.class,\n-                    Pattern.class,\n-                    Arrays.asList(String.class, int.class),\n-                    null,\n-                    null,\n-                    null\n-                    )\n-            );\n-\n-            callNode.setRightNode(callSubNode);\n-\n-            ConstantNode constantNode = new ConstantNode();\n-            constantNode.setLocation(getLocation());\n-            constantNode.setExpressionType(String.class);\n-            constantNode.setConstant(pattern);\n-\n-            callSubNode.addArgumentNode(constantNode);\n-\n-            constantNode = new ConstantNode();\n-            constantNode.setLocation(getLocation());\n-            constantNode.setExpressionType(int.class);\n-            constantNode.setConstant(flags);\n-\n-            callSubNode.addArgumentNode(constantNode);\n-        } catch (Exception exception) {\n-            throw createError(new IllegalStateException(\"could not generate regex constant [\" + pattern + \"/\" + flags +\"] in clinit\"));\n-        }\n-\n-        MemberFieldLoadNode memberFieldLoadNode = new MemberFieldLoadNode();\n-        memberFieldLoadNode.setLocation(getLocation());\n-        memberFieldLoadNode.setExpressionType(Pattern.class);\n-        memberFieldLoadNode.setName(name);\n-        memberFieldLoadNode.setStatic(true);\n-        output.expressionNode = memberFieldLoadNode;\n-\n-        return output;\n+        semanticScope.putDecoration(this, new StandardConstant(flags));", "originalCommit": "4db342843635c2138faad1b89ab80c66be59c512", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ3MDcwMQ==", "url": "https://github.com/elastic/elasticsearch/pull/59176#discussion_r454470701", "bodyText": "Note for @stu-elastic", "author": "jdconrad", "createdAt": "2020-07-14T16:07:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NTYxNg=="}], "type": "inlineReview"}, {"oid": "739a9f8580c26b616bbb0d15d939fcd1fca32493", "url": "https://github.com/elastic/elasticsearch/commit/739a9f8580c26b616bbb0d15d939fcd1fca32493", "message": "Merge branch 'master' into semantic5", "committedDate": "2020-07-14T15:55:30Z", "type": "commit"}, {"oid": "523bf849fd51a846b2abbdbfe12637407582e3b1", "url": "https://github.com/elastic/elasticsearch/commit/523bf849fd51a846b2abbdbfe12637407582e3b1", "message": "response to pr comments", "committedDate": "2020-07-14T16:13:38Z", "type": "commit"}, {"oid": "cf1612a0e4471f742efd198a90c7f0248ab1a130", "url": "https://github.com/elastic/elasticsearch/commit/cf1612a0e4471f742efd198a90c7f0248ab1a130", "message": "Merge branch 'master' into semantic5", "committedDate": "2020-07-14T16:29:49Z", "type": "commit"}, {"oid": "8591d38eb78bb33df2c11fec64b5259912ca1d9c", "url": "https://github.com/elastic/elasticsearch/commit/8591d38eb78bb33df2c11fec64b5259912ca1d9c", "message": "Merge branch 'master' into semantic5", "committedDate": "2020-07-14T17:02:19Z", "type": "commit"}, {"oid": "75244e2d01b925e4c9471a4fdcb703487dd03261", "url": "https://github.com/elastic/elasticsearch/commit/75244e2d01b925e4c9471a4fdcb703487dd03261", "message": "Merge branch 'master' into semantic5", "committedDate": "2020-07-14T19:04:34Z", "type": "commit"}, {"oid": "eac1d61e41717df51b42edf65cbd1570a2a46663", "url": "https://github.com/elastic/elasticsearch/commit/eac1d61e41717df51b42edf65cbd1570a2a46663", "message": "remove statement, use read instead", "committedDate": "2020-03-27T23:55:26Z", "type": "commit"}, {"oid": "082e94b4a590591196625bad85750d2fcbc4f551", "url": "https://github.com/elastic/elasticsearch/commit/082e94b4a590591196625bad85750d2fcbc4f551", "message": "add tests for not a statement", "committedDate": "2020-03-30T16:27:34Z", "type": "commit"}, {"oid": "d6ca6a35cfeb2f5b8689b7258bb19eda858c03bf", "url": "https://github.com/elastic/elasticsearch/commit/d6ca6a35cfeb2f5b8689b7258bb19eda858c03bf", "message": "Merge branch 'master' into nodes0", "committedDate": "2020-03-30T16:51:01Z", "type": "commit"}, {"oid": "4459ee9a8029edd7c995865bd3202830def8097c", "url": "https://github.com/elastic/elasticsearch/commit/4459ee9a8029edd7c995865bd3202830def8097c", "message": "move isDefOptimized to output instead of as mutable state on the nodes", "committedDate": "2020-03-30T19:02:43Z", "type": "commit"}, {"oid": "1eb0a513f54a2abc3a4d90877d43297a246e7dac", "url": "https://github.com/elastic/elasticsearch/commit/1eb0a513f54a2abc3a4d90877d43297a246e7dac", "message": "Merge branch 'master' into nodes0", "committedDate": "2020-03-30T19:05:32Z", "type": "commit"}, {"oid": "372ec631791fceda73c22bb1dfbba176aeba7c1f", "url": "https://github.com/elastic/elasticsearch/commit/372ec631791fceda73c22bb1dfbba176aeba7c1f", "message": "Merge branch 'nodes0' into nodes1", "committedDate": "2020-03-30T19:05:58Z", "type": "commit"}, {"oid": "99c54f190497586547ab073b41a0c5d39d89b5fd", "url": "https://github.com/elastic/elasticsearch/commit/99c54f190497586547ab073b41a0c5d39d89b5fd", "message": "remove AStoreable and give individual nodes responsibility to check\nwrite", "committedDate": "2020-03-30T20:18:46Z", "type": "commit"}, {"oid": "2eceff4ba180840b185ae834b963c9b7ae1f58bc", "url": "https://github.com/elastic/elasticsearch/commit/2eceff4ba180840b185ae834b963c9b7ae1f58bc", "message": "clean up write messages and add tests", "committedDate": "2020-03-30T22:18:14Z", "type": "commit"}, {"oid": "78961f80bef311dfa557dd0288dec8a7a1564be6", "url": "https://github.com/elastic/elasticsearch/commit/78961f80bef311dfa557dd0288dec8a7a1564be6", "message": "elimate extraneous new array function reference ir node", "committedDate": "2020-03-30T22:57:27Z", "type": "commit"}, {"oid": "7a3a3870e6443c2cfa2cdf9a3e0920977daaaf82", "url": "https://github.com/elastic/elasticsearch/commit/7a3a3870e6443c2cfa2cdf9a3e0920977daaaf82", "message": "switch ir function ref nodes to different types", "committedDate": "2020-03-31T20:07:52Z", "type": "commit"}, {"oid": "791eca3b0d29f37c9d84fd196fb03618d33b8606", "url": "https://github.com/elastic/elasticsearch/commit/791eca3b0d29f37c9d84fd196fb03618d33b8606", "message": "remove ILambda in favor of ir tree calculating def method call recipe", "committedDate": "2020-03-31T20:45:25Z", "type": "commit"}, {"oid": "e77796275a7bf20572efb4dd1610e26ad0adefe1", "url": "https://github.com/elastic/elasticsearch/commit/e77796275a7bf20572efb4dd1610e26ad0adefe1", "message": "remove sub nodes from user tree", "committedDate": "2020-03-31T22:52:45Z", "type": "commit"}, {"oid": "0eba55c612cfbc1b967b0cd1e2e99fa01b53ec6e", "url": "https://github.com/elastic/elasticsearch/commit/0eba55c612cfbc1b967b0cd1e2e99fa01b53ec6e", "message": "remove PainlessCast from output as it's completely local", "committedDate": "2020-04-01T22:20:46Z", "type": "commit"}, {"oid": "8d0ac605207b4fd8fb38942de0e7831dd2dfce9e", "url": "https://github.com/elastic/elasticsearch/commit/8d0ac605207b4fd8fb38942de0e7831dd2dfce9e", "message": "partially removed type from lexer", "committedDate": "2020-04-02T23:59:28Z", "type": "commit"}, {"oid": "38c15bc41853f468504d1e6517aa78f8d528e4a6", "url": "https://github.com/elastic/elasticsearch/commit/38c15bc41853f468504d1e6517aa78f8d528e4a6", "message": "removed ambiguity in parsing related to casting versus binary", "committedDate": "2020-04-03T23:19:27Z", "type": "commit"}, {"oid": "3bfed8d6631a604e3da06aa734be4a50ee7c078b", "url": "https://github.com/elastic/elasticsearch/commit/3bfed8d6631a604e3da06aa734be4a50ee7c078b", "message": "handle negation in the user tree instead of relying on the walker", "committedDate": "2020-04-04T00:42:02Z", "type": "commit"}, {"oid": "f8235dfa22a5e02193bc45b12f35b18eb08df896", "url": "https://github.com/elastic/elasticsearch/commit/f8235dfa22a5e02193bc45b12f35b18eb08df896", "message": "lexer hack completely removed", "committedDate": "2020-04-06T20:57:57Z", "type": "commit"}, {"oid": "94b6c80f963c042dae95604d3c6b469fff10d9ac", "url": "https://github.com/elastic/elasticsearch/commit/94b6c80f963c042dae95604d3c6b469fff10d9ac", "message": "Merge branch 'master' into nodes0", "committedDate": "2020-04-08T17:03:44Z", "type": "commit"}, {"oid": "e7af841e35bcd8d4f845f54ffb082d3d201a51b4", "url": "https://github.com/elastic/elasticsearch/commit/e7af841e35bcd8d4f845f54ffb082d3d201a51b4", "message": "Merge branch 'nodes0' into nodes1", "committedDate": "2020-04-08T17:03:54Z", "type": "commit"}, {"oid": "97549c8d5b65a1c97a361a9fb8fa30bdab0ea6db", "url": "https://github.com/elastic/elasticsearch/commit/97549c8d5b65a1c97a361a9fb8fa30bdab0ea6db", "message": "Merge branch 'nodes1' into nodes2", "committedDate": "2020-04-08T17:24:14Z", "type": "commit"}, {"oid": "68cd9273b01b4d9a5b27546c3a61862dd7c424b4", "url": "https://github.com/elastic/elasticsearch/commit/68cd9273b01b4d9a5b27546c3a61862dd7c424b4", "message": "Merge branch 'nodes2' into nodes3", "committedDate": "2020-04-08T17:26:09Z", "type": "commit"}, {"oid": "112048c228d27db7920c45d54c504965bf273be5", "url": "https://github.com/elastic/elasticsearch/commit/112048c228d27db7920c45d54c504965bf273be5", "message": "Merge branch 'nodes3' into nodes4", "committedDate": "2020-04-08T17:29:05Z", "type": "commit"}, {"oid": "5669498608729c5633e15b53142b0126e9d2e2c7", "url": "https://github.com/elastic/elasticsearch/commit/5669498608729c5633e15b53142b0126e9d2e2c7", "message": "Merge branch 'nodes4' into nodes5", "committedDate": "2020-04-08T17:30:40Z", "type": "commit"}, {"oid": "56b43370baaac38d98593a92fe96fb063c5b0585", "url": "https://github.com/elastic/elasticsearch/commit/56b43370baaac38d98593a92fe96fb063c5b0585", "message": "add javadocs", "committedDate": "2020-04-08T19:23:30Z", "type": "commit"}, {"oid": "1f6bf2f30cb90de1e386f96326ea146435e73921", "url": "https://github.com/elastic/elasticsearch/commit/1f6bf2f30cb90de1e386f96326ea146435e73921", "message": "add guards for invalid static values", "committedDate": "2020-04-08T22:16:30Z", "type": "commit"}, {"oid": "50fc23b95ff6254430cbe5b1fe3382ebed451752", "url": "https://github.com/elastic/elasticsearch/commit/50fc23b95ff6254430cbe5b1fe3382ebed451752", "message": "add partial types tests and not a symbol tests", "committedDate": "2020-04-09T20:56:43Z", "type": "commit"}, {"oid": "1b61f58c3a9fbbd924eaa7647d96b9541d4e9919", "url": "https://github.com/elastic/elasticsearch/commit/1b61f58c3a9fbbd924eaa7647d96b9541d4e9919", "message": "add tests for valid static types", "committedDate": "2020-04-09T21:50:23Z", "type": "commit"}, {"oid": "07b1efe9f647668e41a4121ab987968d1ba7b425", "url": "https://github.com/elastic/elasticsearch/commit/07b1efe9f647668e41a4121ab987968d1ba7b425", "message": "add precedence node to handle final lexer hack removal path", "committedDate": "2020-04-09T23:33:29Z", "type": "commit"}, {"oid": "251ff50fcac2ded70f1026560cf7cb67d1e86c28", "url": "https://github.com/elastic/elasticsearch/commit/251ff50fcac2ded70f1026560cf7cb67d1e86c28", "message": "Merge branch 'master' into nodes1", "committedDate": "2020-04-10T15:30:43Z", "type": "commit"}, {"oid": "198fa475e180a169ca1911734d49096dbaf4a1f3", "url": "https://github.com/elastic/elasticsearch/commit/198fa475e180a169ca1911734d49096dbaf4a1f3", "message": "Merge branch 'nodes1' into nodes2", "committedDate": "2020-04-10T15:36:40Z", "type": "commit"}, {"oid": "dd82b5f86711cb8d99c686d9fa21ddb035e84880", "url": "https://github.com/elastic/elasticsearch/commit/dd82b5f86711cb8d99c686d9fa21ddb035e84880", "message": "Merge branch 'nodes2' into nodes3", "committedDate": "2020-04-10T15:40:21Z", "type": "commit"}, {"oid": "87cafb387bc0f8096d3b7929b1d5186c481fdb39", "url": "https://github.com/elastic/elasticsearch/commit/87cafb387bc0f8096d3b7929b1d5186c481fdb39", "message": "Merge branch 'nodes3' into nodes4", "committedDate": "2020-04-10T15:42:14Z", "type": "commit"}, {"oid": "c466828680319beea3cc0087cfbf0ba73e5010eb", "url": "https://github.com/elastic/elasticsearch/commit/c466828680319beea3cc0087cfbf0ba73e5010eb", "message": "Merge branch 'nodes4' into nodes5", "committedDate": "2020-04-10T15:44:06Z", "type": "commit"}, {"oid": "e60482addcf51170606e74a6c0870481b705f14e", "url": "https://github.com/elastic/elasticsearch/commit/e60482addcf51170606e74a6c0870481b705f14e", "message": "move prefix into nodes its actually used in", "committedDate": "2020-04-10T18:35:21Z", "type": "commit"}, {"oid": "8c902dad68b1317b13097a4818d45f9fc1bed7a5", "url": "https://github.com/elastic/elasticsearch/commit/8c902dad68b1317b13097a4818d45f9fc1bed7a5", "message": "Use block instead of list of statements for Lambda", "committedDate": "2020-04-14T20:28:16Z", "type": "commit"}, {"oid": "a79f9b33ca1b8333d0e0b471c8c337674ca6f3f4", "url": "https://github.com/elastic/elasticsearch/commit/a79f9b33ca1b8333d0e0b471c8c337674ca6f3f4", "message": "Merge branch 'master' into nodes1", "committedDate": "2020-04-14T23:12:20Z", "type": "commit"}, {"oid": "4c93293c2ada3933550f1b64fa303a8785b7b328", "url": "https://github.com/elastic/elasticsearch/commit/4c93293c2ada3933550f1b64fa303a8785b7b328", "message": "Merge branch 'nodes1' into nodes2", "committedDate": "2020-04-14T23:12:46Z", "type": "commit"}, {"oid": "14079081e7c0e4fb365a4a48abef0aa16f0a9692", "url": "https://github.com/elastic/elasticsearch/commit/14079081e7c0e4fb365a4a48abef0aa16f0a9692", "message": "add primitive types to remove binary recognition of cast", "committedDate": "2020-04-15T20:18:06Z", "type": "commit"}, {"oid": "7a349b32470df4fa11b472acae915c8a5a63b5a2", "url": "https://github.com/elastic/elasticsearch/commit/7a349b32470df4fa11b472acae915c8a5a63b5a2", "message": "remove unnecessary nodes from EDot", "committedDate": "2020-04-15T20:39:54Z", "type": "commit"}, {"oid": "68679c8c4249bc8af9b28b449b5695fa8816b0cf", "url": "https://github.com/elastic/elasticsearch/commit/68679c8c4249bc8af9b28b449b5695fa8816b0cf", "message": "remove precedence", "committedDate": "2020-04-15T20:58:15Z", "type": "commit"}, {"oid": "bb55509d9540c641e5f50e184bd4790153fbedea", "url": "https://github.com/elastic/elasticsearch/commit/bb55509d9540c641e5f50e184bd4790153fbedea", "message": "remove node creation in EUnary", "committedDate": "2020-04-16T22:03:44Z", "type": "commit"}, {"oid": "1de2751d9913ab8ebca868c727b759cbbb1c7b2a", "url": "https://github.com/elastic/elasticsearch/commit/1de2751d9913ab8ebca868c727b759cbbb1c7b2a", "message": "remove remaining node instantiations within the semantic pass", "committedDate": "2020-04-16T22:31:34Z", "type": "commit"}, {"oid": "e991a4ea8ad596fcb7eddece58a977cb8e353d7c", "url": "https://github.com/elastic/elasticsearch/commit/e991a4ea8ad596fcb7eddece58a977cb8e353d7c", "message": "partial first pass of cleaning up members of user tree nodes", "committedDate": "2020-04-16T23:58:30Z", "type": "commit"}, {"oid": "99b541f1f495fdfd0a0973e76395a00e17eb0091", "url": "https://github.com/elastic/elasticsearch/commit/99b541f1f495fdfd0a0973e76395a00e17eb0091", "message": "clean up more nodes members", "committedDate": "2020-04-17T19:48:27Z", "type": "commit"}, {"oid": "82476866eaff495a3b21e88f5807db838704ca97", "url": "https://github.com/elastic/elasticsearch/commit/82476866eaff495a3b21e88f5807db838704ca97", "message": "setup user nodes for external pass by making members private w/ getters", "committedDate": "2020-04-17T20:49:16Z", "type": "commit"}, {"oid": "85e1f8a498f19d824cb68ab5debfc3ba60177e8c", "url": "https://github.com/elastic/elasticsearch/commit/85e1f8a498f19d824cb68ab5debfc3ba60177e8c", "message": "name changes Scope to SemanticScope, ScriptRoot to ScriptScope", "committedDate": "2020-04-17T21:36:56Z", "type": "commit"}, {"oid": "2e37afe020fb8fc695b4f409dfe3e436db93c9a3", "url": "https://github.com/elastic/elasticsearch/commit/2e37afe020fb8fc695b4f409dfe3e436db93c9a3", "message": "fix typo", "committedDate": "2020-04-17T21:40:21Z", "type": "commit"}, {"oid": "d320ced583d94e5418ded9e5b71597c37c88d6dd", "url": "https://github.com/elastic/elasticsearch/commit/d320ced583d94e5418ded9e5b71597c37c88d6dd", "message": "move ScriptScope into SemanticScope", "committedDate": "2020-04-17T22:14:57Z", "type": "commit"}, {"oid": "b59eeea1b6c89921ca748f86ecafc76ba4bd627f", "url": "https://github.com/elastic/elasticsearch/commit/b59eeea1b6c89921ca748f86ecafc76ba4bd627f", "message": "remove EConstant", "committedDate": "2020-04-17T22:19:29Z", "type": "commit"}, {"oid": "c3f8c8c8cacccaa5defd6c8480b7e62b8a20b21a", "url": "https://github.com/elastic/elasticsearch/commit/c3f8c8c8cacccaa5defd6c8480b7e62b8a20b21a", "message": "remove DType nodes and remove SDeclaration from SCatch", "committedDate": "2020-04-17T23:03:16Z", "type": "commit"}, {"oid": "b4c096235d00f02c4d6fa2aad72cf05db45ced23", "url": "https://github.com/elastic/elasticsearch/commit/b4c096235d00f02c4d6fa2aad72cf05db45ced23", "message": "add decorators for semantic pass", "committedDate": "2020-04-18T00:38:57Z", "type": "commit"}, {"oid": "9ccfaeb99d980d7ab6c14b6927134f8077197f60", "url": "https://github.com/elastic/elasticsearch/commit/9ccfaeb99d980d7ab6c14b6927134f8077197f60", "message": "partially add decoration for output.actual", "committedDate": "2020-04-18T16:15:00Z", "type": "commit"}, {"oid": "0095dbcc4cd53ba80364ea0ca345aea81fd34bfe", "url": "https://github.com/elastic/elasticsearch/commit/0095dbcc4cd53ba80364ea0ca345aea81fd34bfe", "message": "finish converting output.actual to decorator value", "committedDate": "2020-04-18T17:42:39Z", "type": "commit"}, {"oid": "71e457d8dd55ca485bc6d247ac9133d8112133df", "url": "https://github.com/elastic/elasticsearch/commit/71e457d8dd55ca485bc6d247ac9133d8112133df", "message": "fix value type decorations", "committedDate": "2020-04-18T19:03:33Z", "type": "commit"}, {"oid": "e2a9866b8eede31d25c086351ac282d926d39c14", "url": "https://github.com/elastic/elasticsearch/commit/e2a9866b8eede31d25c086351ac282d926d39c14", "message": "rename scopetable to writescope", "committedDate": "2020-04-18T19:34:32Z", "type": "commit"}, {"oid": "d30f595bcdb4d29569ab4cc918630e07459ba9b9", "url": "https://github.com/elastic/elasticsearch/commit/d30f595bcdb4d29569ab4cc918630e07459ba9b9", "message": "add copy to decorator", "committedDate": "2020-04-18T19:48:51Z", "type": "commit"}, {"oid": "ec0411cc1891cbe54e8cc56d8f60c3e79068ef20", "url": "https://github.com/elastic/elasticsearch/commit/ec0411cc1891cbe54e8cc56d8f60c3e79068ef20", "message": "replace expression input with decoration", "committedDate": "2020-04-19T03:15:56Z", "type": "commit"}, {"oid": "36d32f3bbb8e8c32c6d89b8101535f6071502d54", "url": "https://github.com/elastic/elasticsearch/commit/36d32f3bbb8e8c32c6d89b8101535f6071502d54", "message": "change expression output static type to be a decoration", "committedDate": "2020-04-19T17:07:56Z", "type": "commit"}, {"oid": "7244c21ff11ae59e5f611d71ad9c6c2ea2d86ced", "url": "https://github.com/elastic/elasticsearch/commit/7244c21ff11ae59e5f611d71ad9c6c2ea2d86ced", "message": "remove expression output except node", "committedDate": "2020-04-19T17:36:23Z", "type": "commit"}, {"oid": "2ea3183844713a178d0003adf53a467432c3aa2e", "url": "https://github.com/elastic/elasticsearch/commit/2ea3183844713a178d0003adf53a467432c3aa2e", "message": "replace user statement input with decorations", "committedDate": "2020-04-19T17:58:19Z", "type": "commit"}, {"oid": "f974d8ff77ac9db1e735358fd9d786013ca62fcd", "url": "https://github.com/elastic/elasticsearch/commit/f974d8ff77ac9db1e735358fd9d786013ca62fcd", "message": "remove statement count from statement output", "committedDate": "2020-04-19T18:27:53Z", "type": "commit"}, {"oid": "fc463f80eb88ad4a85f8c500446ce1fd41376c40", "url": "https://github.com/elastic/elasticsearch/commit/fc463f80eb88ad4a85f8c500446ce1fd41376c40", "message": "switched statement output to decorations", "committedDate": "2020-04-19T19:52:42Z", "type": "commit"}, {"oid": "2c68562a1e9e126f6579654024ff9b89821162a9", "url": "https://github.com/elastic/elasticsearch/commit/2c68562a1e9e126f6579654024ff9b89821162a9", "message": "start to convert ir tree building to an external phase", "committedDate": "2020-04-19T20:54:34Z", "type": "commit"}, {"oid": "57baf7282a3126fd1b2324283c72ed4b4fd36a38", "url": "https://github.com/elastic/elasticsearch/commit/57baf7282a3126fd1b2324283c72ed4b4fd36a38", "message": "move all statement nodes to build ir tree", "committedDate": "2020-04-20T00:09:55Z", "type": "commit"}, {"oid": "3fc720dcc165911dafd1d73ce92883b9ad1407ed", "url": "https://github.com/elastic/elasticsearch/commit/3fc720dcc165911dafd1d73ce92883b9ad1407ed", "message": "completed transition of expression nodes to move ir building to separate\nphase", "committedDate": "2020-04-21T03:45:19Z", "type": "commit"}, {"oid": "99cf8bc1d8b291fd75ab9b4c92fea594c07da602", "url": "https://github.com/elastic/elasticsearch/commit/99cf8bc1d8b291fd75ab9b4c92fea594c07da602", "message": "fixed tests", "committedDate": "2020-04-21T05:39:21Z", "type": "commit"}, {"oid": "c8076bfa4366e371aaba802a038db3c56ce43074", "url": "https://github.com/elastic/elasticsearch/commit/c8076bfa4366e371aaba802a038db3c56ce43074", "message": "Merge branch 'master' into nodes2", "committedDate": "2020-04-21T14:51:10Z", "type": "commit"}, {"oid": "a4d34169a4724a4111cb30c9671e79798b64f3ef", "url": "https://github.com/elastic/elasticsearch/commit/a4d34169a4724a4111cb30c9671e79798b64f3ef", "message": "response to pr comments", "committedDate": "2020-04-21T16:38:42Z", "type": "commit"}, {"oid": "dafeaeb13af618684c04f0f5d38d509d4af92533", "url": "https://github.com/elastic/elasticsearch/commit/dafeaeb13af618684c04f0f5d38d509d4af92533", "message": "Merge branch 'master' into nodes2", "committedDate": "2020-04-21T17:31:42Z", "type": "commit"}, {"oid": "ee2e19f11c6d3781eb420fc9c94d8bb1342d76a4", "url": "https://github.com/elastic/elasticsearch/commit/ee2e19f11c6d3781eb420fc9c94d8bb1342d76a4", "message": "Merge branch 'nodes2' into nodes3", "committedDate": "2020-04-21T17:32:33Z", "type": "commit"}, {"oid": "9f2cdd1d6db22e474db4a1664b28942f32b6e8d6", "url": "https://github.com/elastic/elasticsearch/commit/9f2cdd1d6db22e474db4a1664b28942f32b6e8d6", "message": "Merge branch 'nodes3' into nodes4", "committedDate": "2020-04-21T17:38:07Z", "type": "commit"}, {"oid": "3250d9eeb0a9c1532353d79fb3daceb74f941686", "url": "https://github.com/elastic/elasticsearch/commit/3250d9eeb0a9c1532353d79fb3daceb74f941686", "message": "Merge branch 'nodes4' into nodes5", "committedDate": "2020-04-21T17:44:40Z", "type": "commit"}, {"oid": "d965f14ba797d115a5e499178807bbc288e7136b", "url": "https://github.com/elastic/elasticsearch/commit/d965f14ba797d115a5e499178807bbc288e7136b", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-04-21T17:47:09Z", "type": "commit"}, {"oid": "229f99c28164fe814514b26a412c191eae39de4c", "url": "https://github.com/elastic/elasticsearch/commit/229f99c28164fe814514b26a412c191eae39de4c", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-04-21T17:51:01Z", "type": "commit"}, {"oid": "b7216acce6e99edad979591605ac5efc2edb776b", "url": "https://github.com/elastic/elasticsearch/commit/b7216acce6e99edad979591605ac5efc2edb776b", "message": "Merge branch 'semantic0' into semantic1", "committedDate": "2020-04-21T17:52:46Z", "type": "commit"}, {"oid": "888c90bff8bbedb73e769dea43c2db4c7312f387", "url": "https://github.com/elastic/elasticsearch/commit/888c90bff8bbedb73e769dea43c2db4c7312f387", "message": "Merge branch 'semantic1' into semantic2", "committedDate": "2020-04-21T17:57:54Z", "type": "commit"}, {"oid": "8499779928eaabb98d618d9a31091f888d2ca38b", "url": "https://github.com/elastic/elasticsearch/commit/8499779928eaabb98d618d9a31091f888d2ca38b", "message": "Merge branch 'semantic2' into semantic3", "committedDate": "2020-04-21T18:00:16Z", "type": "commit"}, {"oid": "9dc9855f1053d088f1ba1687269e10fc87bea38c", "url": "https://github.com/elastic/elasticsearch/commit/9dc9855f1053d088f1ba1687269e10fc87bea38c", "message": "Merge branch 'semantic3' into semantic4", "committedDate": "2020-04-21T18:01:52Z", "type": "commit"}, {"oid": "831d34262872b5a68c6ddb19343c4b8cf47e3201", "url": "https://github.com/elastic/elasticsearch/commit/831d34262872b5a68c6ddb19343c4b8cf47e3201", "message": "Merge branch 'semantic4' into semantic5", "committedDate": "2020-04-21T18:03:56Z", "type": "commit"}, {"oid": "a1ff4a0a9d2141722bffeb4d8b6fef3fc5e7addb", "url": "https://github.com/elastic/elasticsearch/commit/a1ff4a0a9d2141722bffeb4d8b6fef3fc5e7addb", "message": "Merge branch 'master' into nodes3", "committedDate": "2020-04-24T14:26:04Z", "type": "commit"}, {"oid": "1531a1e5ae9574fe54a26a63651c26c64391d733", "url": "https://github.com/elastic/elasticsearch/commit/1531a1e5ae9574fe54a26a63651c26c64391d733", "message": "Merge branch 'nodes3' into nodes4", "committedDate": "2020-04-24T14:34:07Z", "type": "commit"}, {"oid": "b16f828448b6416194d7bbbe4bb7f77808b9b62f", "url": "https://github.com/elastic/elasticsearch/commit/b16f828448b6416194d7bbbe4bb7f77808b9b62f", "message": "Merge branch 'nodes4' into nodes5", "committedDate": "2020-04-24T14:34:42Z", "type": "commit"}, {"oid": "cd139e2bf3de1f018a0659466066d7f2744a3f33", "url": "https://github.com/elastic/elasticsearch/commit/cd139e2bf3de1f018a0659466066d7f2744a3f33", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-04-24T14:34:59Z", "type": "commit"}, {"oid": "ca1febb58a3fb9b59d904a85ba27cef7b4ffb58a", "url": "https://github.com/elastic/elasticsearch/commit/ca1febb58a3fb9b59d904a85ba27cef7b4ffb58a", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-04-24T14:35:15Z", "type": "commit"}, {"oid": "7fd5ec24b8e903d2738a13c6c45856354aaa2364", "url": "https://github.com/elastic/elasticsearch/commit/7fd5ec24b8e903d2738a13c6c45856354aaa2364", "message": "Merge branch 'semantic0' into semantic1", "committedDate": "2020-04-24T14:35:25Z", "type": "commit"}, {"oid": "69d9579a9de2797b04b0910fe18a36668777d778", "url": "https://github.com/elastic/elasticsearch/commit/69d9579a9de2797b04b0910fe18a36668777d778", "message": "Merge branch 'semantic1' into semantic2", "committedDate": "2020-04-24T14:35:35Z", "type": "commit"}, {"oid": "2a0635de911f98cd66f0f1ddb15bc25beda5b34a", "url": "https://github.com/elastic/elasticsearch/commit/2a0635de911f98cd66f0f1ddb15bc25beda5b34a", "message": "Merge branch 'semantic2' into semantic3", "committedDate": "2020-04-24T14:35:53Z", "type": "commit"}, {"oid": "edd3db7c4b6ee005dd814e3a5af8884962e2334b", "url": "https://github.com/elastic/elasticsearch/commit/edd3db7c4b6ee005dd814e3a5af8884962e2334b", "message": "Merge branch 'semantic3' into semantic4", "committedDate": "2020-04-24T14:36:04Z", "type": "commit"}, {"oid": "7428df991ac48815834122d254b9caa14988411b", "url": "https://github.com/elastic/elasticsearch/commit/7428df991ac48815834122d254b9caa14988411b", "message": "Merge branch 'semantic4' into semantic5", "committedDate": "2020-04-24T14:36:15Z", "type": "commit"}, {"oid": "64796ba9432bd5240d7bd1a9190503622d0af0ba", "url": "https://github.com/elastic/elasticsearch/commit/64796ba9432bd5240d7bd1a9190503622d0af0ba", "message": "Merge branch 'master' into nodes3", "committedDate": "2020-04-29T20:36:52Z", "type": "commit"}, {"oid": "35a029e05a0b237f0de461efc33cb94992739614", "url": "https://github.com/elastic/elasticsearch/commit/35a029e05a0b237f0de461efc33cb94992739614", "message": "response to pr comments", "committedDate": "2020-04-29T20:57:49Z", "type": "commit"}, {"oid": "948d6ecef2a5b02f15c90a96b35cbbaec9971720", "url": "https://github.com/elastic/elasticsearch/commit/948d6ecef2a5b02f15c90a96b35cbbaec9971720", "message": "Merge branch 'master' into nodes3", "committedDate": "2020-04-29T21:49:47Z", "type": "commit"}, {"oid": "5542b0f9fd649660bc36198b7d45161a8954794e", "url": "https://github.com/elastic/elasticsearch/commit/5542b0f9fd649660bc36198b7d45161a8954794e", "message": "Merge branch 'nodes3' into nodes4", "committedDate": "2020-04-29T21:49:54Z", "type": "commit"}, {"oid": "4c80224cbb7c20e50837862eafc0f8bc41f84cff", "url": "https://github.com/elastic/elasticsearch/commit/4c80224cbb7c20e50837862eafc0f8bc41f84cff", "message": "Merge branch 'master' into nodes4", "committedDate": "2020-05-04T15:56:39Z", "type": "commit"}, {"oid": "5cdb321bc0432297d5579d1029f165b5ef35d6d0", "url": "https://github.com/elastic/elasticsearch/commit/5cdb321bc0432297d5579d1029f165b5ef35d6d0", "message": "Merge branch 'master' into nodes4", "committedDate": "2020-05-04T21:52:47Z", "type": "commit"}, {"oid": "f3298b3c94c730f91247bb0f9a58a7123423f24b", "url": "https://github.com/elastic/elasticsearch/commit/f3298b3c94c730f91247bb0f9a58a7123423f24b", "message": "Merge branch 'nodes4' into nodes5", "committedDate": "2020-05-04T22:12:50Z", "type": "commit"}, {"oid": "c5153953dc331280025c2bfc5b8c145c140b5d0a", "url": "https://github.com/elastic/elasticsearch/commit/c5153953dc331280025c2bfc5b8c145c140b5d0a", "message": "remove unnecessary read/write checks", "committedDate": "2020-05-04T22:14:50Z", "type": "commit"}, {"oid": "c74a5c91176b02104639b491960ea9436c9fef0f", "url": "https://github.com/elastic/elasticsearch/commit/c74a5c91176b02104639b491960ea9436c9fef0f", "message": "Merge branch 'nodes5' into nodes6", "committedDate": "2020-05-04T23:42:15Z", "type": "commit"}, {"oid": "26f1d5cc262b982ea697077af5c13c40702c0c37", "url": "https://github.com/elastic/elasticsearch/commit/26f1d5cc262b982ea697077af5c13c40702c0c37", "message": "Merge branch 'nodes6' into semantic0", "committedDate": "2020-05-04T23:50:38Z", "type": "commit"}, {"oid": "cf023817db9f7b1e8d313a65dfb940f9fbd0e541", "url": "https://github.com/elastic/elasticsearch/commit/cf023817db9f7b1e8d313a65dfb940f9fbd0e541", "message": "Merge branch 'master' into nodes5", "committedDate": "2020-05-05T16:35:17Z", "type": "commit"}]}