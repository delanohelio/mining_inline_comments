{"pr_number": 63621, "pr_title": "Add indexing speed improvement to release highlights", "pr_createdAt": "2020-10-13T15:11:45Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/63621", "timeline": [{"oid": "b1375d1be4179d855a40e82b398e853fdcbae9da", "url": "https://github.com/elastic/elasticsearch/commit/b1375d1be4179d855a40e82b398e853fdcbae9da", "message": "Add indexing speed improvement to release highlights", "committedDate": "2020-10-13T15:09:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzMzc0Nw==", "url": "https://github.com/elastic/elasticsearch/pull/63621#discussion_r504033747", "bodyText": "is this too low level? (as it's not something the users can configure)", "author": "andreidan", "createdAt": "2020-10-13T15:12:08Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -25,6 +25,19 @@ Other versions:\n \n // tag::notable-highlights[]\n [discrete]\n+[[indexing-speed-improvement]]\n+===  Indexing speed improvement\n+\n+{es} 7.10 improves the indexing speed by 5-20%, depending on your workload.\n+We've reduced the amount of coordination needed to add entries to the\n+<<index-modules-translog,transaction log>>, enabling more concurrency, and\n+incresed the transaction log buffer size from `8KB` to `1MB`.", "originalCommit": "b1375d1be4179d855a40e82b398e853fdcbae9da", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUxNDUyNQ==", "url": "https://github.com/elastic/elasticsearch/pull/63621#discussion_r506514525", "bodyText": "I think this is still worth highlighting as it's a change users may notice or be interested in.", "author": "jrodewig", "createdAt": "2020-10-16T14:57:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzMzc0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUxNDExMg==", "url": "https://github.com/elastic/elasticsearch/pull/63621#discussion_r506514112", "bodyText": "I made some minor changes to improve the flow. However, the current text is\nfine as-is as long as the incresed typo is fixed.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {es} 7.10 improves the indexing speed by 5-20%, depending on your workload.\n          \n          \n            \n            We've reduced the amount of coordination needed to add entries to the\n          \n          \n            \n            <<index-modules-translog,transaction log>>, enabling more concurrency, and\n          \n          \n            \n            incresed the transaction log buffer size from `8KB` to `1MB`.\n          \n          \n            \n            \n          \n          \n            \n            The performance gains are lower in intensive analysis scenarios (ie. full-text\n          \n          \n            \n            search analysis).\n          \n          \n            \n            {es} 7.10 improves indexing speed by 5-20%. We've reduced the coordination\n          \n          \n            \n            needed to add entries to the <<index-modules-translog,transaction log>>. This\n          \n          \n            \n            reduction allows for more concurrency and increases the transaction log buffer\n          \n          \n            \n            size from `8KB` to `1MB`. However, performance gains are lower for\n          \n          \n            \n            full-text search and other analysis-intensive use cases.", "author": "jrodewig", "createdAt": "2020-10-16T14:57:15Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -25,6 +25,19 @@ Other versions:\n \n // tag::notable-highlights[]\n [discrete]\n+[[indexing-speed-improvement]]\n+===  Indexing speed improvement\n+\n+{es} 7.10 improves the indexing speed by 5-20%, depending on your workload.\n+We've reduced the amount of coordination needed to add entries to the\n+<<index-modules-translog,transaction log>>, enabling more concurrency, and\n+incresed the transaction log buffer size from `8KB` to `1MB`.\n+\n+The performance gains are lower in intensive analysis scenarios (ie. full-text\n+search analysis).", "originalCommit": "b1375d1be4179d855a40e82b398e853fdcbae9da", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY2ODkwOA==", "url": "https://github.com/elastic/elasticsearch/pull/63621#discussion_r507668908", "bodyText": "+1 to James' suggestion. I'd mention ingest pipelines too. Something along the lines of \"The heavier the indexing chain, the lower the gains, so indexing chains that involve many fields, ingest pipelines or full-text indexing will see lower gains.\"", "author": "jpountz", "createdAt": "2020-10-19T11:22:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUxNDExMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY2NjIwNg==", "url": "https://github.com/elastic/elasticsearch/pull/63621#discussion_r507666206", "bodyText": "Maybe say \"up to 20%\" without providing a lower bound. As you highlighted later, scenarios with full-text indexing or ingest might not notice a speedup.", "author": "jpountz", "createdAt": "2020-10-19T11:17:16Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -25,6 +25,19 @@ Other versions:\n \n // tag::notable-highlights[]\n [discrete]\n+[[indexing-speed-improvement]]\n+===  Indexing speed improvement\n+\n+{es} 7.10 improves the indexing speed by 5-20%, depending on your workload.", "originalCommit": "b1375d1be4179d855a40e82b398e853fdcbae9da", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY2NjQ0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/63621#discussion_r507666446", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            incresed the transaction log buffer size from `8KB` to `1MB`.\n          \n          \n            \n            increased the transaction log buffer size from `8KB` to `1MB`.", "author": "jpountz", "createdAt": "2020-10-19T11:17:44Z", "path": "docs/reference/release-notes/highlights.asciidoc", "diffHunk": "@@ -25,6 +25,19 @@ Other versions:\n \n // tag::notable-highlights[]\n [discrete]\n+[[indexing-speed-improvement]]\n+===  Indexing speed improvement\n+\n+{es} 7.10 improves the indexing speed by 5-20%, depending on your workload.\n+We've reduced the amount of coordination needed to add entries to the\n+<<index-modules-translog,transaction log>>, enabling more concurrency, and\n+incresed the transaction log buffer size from `8KB` to `1MB`.", "originalCommit": "b1375d1be4179d855a40e82b398e853fdcbae9da", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fcc5023c9bf2fa40da437c1007dba9c06b35d3a8", "url": "https://github.com/elastic/elasticsearch/commit/fcc5023c9bf2fa40da437c1007dba9c06b35d3a8", "message": "Update docs/reference/release-notes/highlights.asciidoc\n\nCo-authored-by: James Rodewig <40268737+jrodewig@users.noreply.github.com>", "committedDate": "2020-10-26T14:17:26Z", "type": "commit"}, {"oid": "96a16c6234622aeb9b9eab24f2a2742f5610f41a", "url": "https://github.com/elastic/elasticsearch/commit/96a16c6234622aeb9b9eab24f2a2742f5610f41a", "message": "Reword speed improvement to \"up to 20%\"", "committedDate": "2020-10-26T14:22:40Z", "type": "commit"}, {"oid": "cec50e262e180fa570ef106b88a3951c00326b57", "url": "https://github.com/elastic/elasticsearch/commit/cec50e262e180fa570ef106b88a3951c00326b57", "message": "Menion the ingest pipelines", "committedDate": "2020-10-26T14:31:36Z", "type": "commit"}, {"oid": "1bba87eff8e59c120114c33204ce0e4a9e823ca9", "url": "https://github.com/elastic/elasticsearch/commit/1bba87eff8e59c120114c33204ce0e4a9e823ca9", "message": "Merge branch '7.10' into indexing-speed-release-highlights", "committedDate": "2020-10-26T14:32:13Z", "type": "commit"}]}