{"pr_number": 61238, "pr_title": "Opt date valued script fields out of rate limit", "pr_createdAt": "2020-08-17T20:55:03Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/61238", "timeline": [{"oid": "d1d29c22c0b9b72ee4ccbd0fd1a7ab76714ea252", "url": "https://github.com/elastic/elasticsearch/commit/d1d29c22c0b9b72ee4ccbd0fd1a7ab76714ea252", "message": "Opt date valued script fields out of rate limit\n\nThis excuses script fields from the script compilation rate limiting.\nIt'd be fairly sad to prevent mapping updates because of the rate limit.\nAnd we don't expect folks to add a zillion fields. On the other hand,\nonce we allow these scripts on the `_search` request we might indeed\nwant them to be considered in the limit. But we don't support that yet\nand we can deal with that when we get there.", "committedDate": "2020-08-17T20:55:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc3MDU0NA==", "url": "https://github.com/elastic/elasticsearch/pull/61238#discussion_r471770544", "bodyText": "I've only done this to a single script field. If we like it I'd be happy to do it in a follow up.", "author": "nik9000", "createdAt": "2020-08-17T20:56:31Z", "path": "x-pack/plugin/runtime-fields/src/main/java/org/elasticsearch/xpack/runtimefields/DateScriptFieldScript.java", "diffHunk": "@@ -21,7 +21,7 @@\n import java.util.Map;\n \n public abstract class DateScriptFieldScript extends AbstractLongScriptFieldScript {\n-    public static final ScriptContext<Factory> CONTEXT = new ScriptContext<>(\"date_script_field\", Factory.class);\n+    public static final ScriptContext<Factory> CONTEXT = newContext(\"date\", Factory.class);", "originalCommit": "d1d29c22c0b9b72ee4ccbd0fd1a7ab76714ea252", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "52c77c87c9adc5c4e41b6fb2fc35bc99691f3edb", "url": "https://github.com/elastic/elasticsearch/commit/52c77c87c9adc5c4e41b6fb2fc35bc99691f3edb", "message": "Spotless", "committedDate": "2020-08-17T20:57:05Z", "type": "commit"}]}