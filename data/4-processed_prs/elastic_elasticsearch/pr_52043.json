{"pr_number": 52043, "pr_title": "Allow _rollup_search with read privilege", "pr_createdAt": "2020-02-07T13:06:51Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/52043", "timeline": [{"oid": "24c2a91bb3cf27f32fd5d1ca73e746d3b0fce5fe", "url": "https://github.com/elastic/elasticsearch/commit/24c2a91bb3cf27f32fd5d1ca73e746d3b0fce5fe", "message": "Initial attempt", "committedDate": "2020-02-07T12:56:23Z", "type": "commit"}, {"oid": "de3dc3bcda1d7861ec128bb91c39fd0ebd3156ec", "url": "https://github.com/elastic/elasticsearch/commit/de3dc3bcda1d7861ec128bb91c39fd0ebd3156ec", "message": "Fix broken IT tests", "committedDate": "2020-02-10T07:01:48Z", "type": "commit"}, {"oid": "73f77b69ddaa518f869662751ffcf4b09a5b8c03", "url": "https://github.com/elastic/elasticsearch/commit/73f77b69ddaa518f869662751ffcf4b09a5b8c03", "message": "Merge remote-tracking branch 'origin/master' into es-50245-rollup-search-permission", "committedDate": "2020-02-10T10:06:43Z", "type": "commit"}, {"oid": "64b2cab102b50101dd8ed6b66f7e4d6f34d36489", "url": "https://github.com/elastic/elasticsearch/commit/64b2cab102b50101dd8ed6b66f7e4d6f34d36489", "message": "Add unit test", "committedDate": "2020-02-11T01:24:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQxMDg3NA==", "url": "https://github.com/elastic/elasticsearch/pull/52043#discussion_r377410874", "bodyText": "Please let me know if there is a better way for this unit test.", "author": "ywangd", "createdAt": "2020-02-11T01:26:37Z", "path": "x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/rollup/action/RollupSearchActionTests.java", "diffHunk": "@@ -0,0 +1,20 @@\n+/*\n+ *\n+ *  * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ *  * or more contributor license agreements. Licensed under the Elastic License;\n+ *  * you may not use this file except in compliance with the Elastic License.\n+ *\n+ */\n+\n+package org.elasticsearch.xpack.core.rollup.action;\n+\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.xpack.core.security.authz.privilege.IndexPrivilege;\n+import org.elasticsearch.xpack.core.security.support.Automatons;\n+\n+public class RollupSearchActionTests extends ESTestCase {\n+\n+    public void testIndexReadPrivilegeCanPerformRollupSearchAction() {\n+        assertTrue(Automatons.predicate(IndexPrivilege.READ.getAutomaton()).test(RollupSearchAction.NAME));\n+    }", "originalCommit": "64b2cab102b50101dd8ed6b66f7e4d6f34d36489", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5eacbf7371a8691959766dc66a7d070b11adddc2", "url": "https://github.com/elastic/elasticsearch/commit/5eacbf7371a8691959766dc66a7d070b11adddc2", "message": "Revert accidental changes", "committedDate": "2020-02-11T01:27:23Z", "type": "commit"}, {"oid": "794fdac50b5252c3cb73ab9c97c0466bb127ae72", "url": "https://github.com/elastic/elasticsearch/commit/794fdac50b5252c3cb73ab9c97c0466bb127ae72", "message": "Merge remote-tracking branch 'origin/master' into es-50245-rollup-search-permission", "committedDate": "2020-02-11T02:14:30Z", "type": "commit"}, {"oid": "1bdd3f72525fe9ccc8445a6c9257eac2b6672dc4", "url": "https://github.com/elastic/elasticsearch/commit/1bdd3f72525fe9ccc8445a6c9257eac2b6672dc4", "message": "Merge remote-tracking branch 'origin/master' into es-50245-rollup-search-permission", "committedDate": "2020-03-03T08:42:54Z", "type": "commit"}]}