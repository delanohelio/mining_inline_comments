{"pr_number": 66766, "pr_title": "[DOCS] Add latest method to transform tutorial", "pr_createdAt": "2020-12-22T22:53:04Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/66766", "timeline": [{"oid": "597afd6c89019106d97c9726b5bafcaa325ae6de", "url": "https://github.com/elastic/elasticsearch/commit/597afd6c89019106d97c9726b5bafcaa325ae6de", "message": "[DOCS] Add latest method to transform example", "committedDate": "2020-12-22T22:47:27Z", "type": "commit"}, {"oid": "48d1fa642ddcd0022f389439600cf46898945464", "url": "https://github.com/elastic/elasticsearch/commit/48d1fa642ddcd0022f389439600cf46898945464", "message": "[DOCS] Add beta qualifier to transform example", "committedDate": "2021-01-05T01:04:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzI5NDI1NA==", "url": "https://github.com/elastic/elasticsearch/pull/66766#discussion_r553294254", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            you delete a  {transform}, its destination index and {kib} index patterns remain.\n          \n          \n            \n            you delete a {transform}, its destination index and {kib} index patterns remain.", "author": "przemekwitek", "createdAt": "2021-01-07T12:20:12Z", "path": "docs/reference/transform/ecommerce-tutorial.asciidoc", "diffHunk": "@@ -254,12 +253,46 @@ image::images/ecommerce-results.png[\"Exploring the new index in {kib}\"]\n \n --\n \n-TIP: If you do not want to keep the {transform}, you can delete it in\n-{kib} or use the\n-<<delete-transform,delete {transform} API>>. When\n-you delete a {transform}, its destination index and {kib} index\n-patterns remain.\n+. Optional: Create another {transform}, this time using the `latest` method.\n++\n+--\n+beta::[]\n+\n+This method populates the destination index with the latest documents for each\n+unique key value. For example, you might want to find the latest orders (sorted\n+by the `order_date` field) for each customer or for each country and region.\n+\n+.API example\n+[%collapsible]\n+====\n+[source,console]\n+--------------------------------------------------\n+POST _transform/_preview\n+{\n+  \"source\": {\n+    \"index\": \"kibana_sample_data_ecommerce\",\n+    \"query\": {\n+      \"bool\": {\n+        \"filter\": {\n+          \"term\": {\"currency\": \"EUR\"}\n+        }\n+      }\n+    }\n+  },\n+  \"latest\": {\n+    \"unique_key\": [\"geoip.country_iso_code\", \"geoip.region_name\"],\n+    \"sort\": \"order_date\"\n+  }\n+}\n+--------------------------------------------------\n+// TEST[skip:set up sample data]\n+====\n+--\n+\n+. If you do not want to keep a {transform}, you can delete it in\n+{kib} or use the <<delete-transform,delete {transform} API>>. By default, when\n+you delete a  {transform}, its destination index and {kib} index patterns remain.", "originalCommit": "48d1fa642ddcd0022f389439600cf46898945464", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3af432f3ecb7ca98254a3b2e0da6cc52ee97c8ec", "url": "https://github.com/elastic/elasticsearch/commit/3af432f3ecb7ca98254a3b2e0da6cc52ee97c8ec", "message": "Update docs/reference/transform/ecommerce-tutorial.asciidoc\n\nCo-authored-by: Przemys\u0142aw Witek <przemyslaw.witek@elastic.co>", "committedDate": "2021-01-15T20:38:43Z", "type": "commit"}, {"oid": "2d99870337dbcf6c50ebd9753146edf46d81e889", "url": "https://github.com/elastic/elasticsearch/commit/2d99870337dbcf6c50ebd9753146edf46d81e889", "message": "[DOCS] Add latest transform screenshot", "committedDate": "2021-01-15T21:13:09Z", "type": "commit"}]}