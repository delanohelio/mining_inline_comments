{"pr_number": 59575, "pr_title": "Remove unneeded rest params from Data Stream Stats", "pr_createdAt": "2020-07-14T21:56:57Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/59575", "timeline": [{"oid": "975c8da5b4d14374a9f8e4be26305abb70759684", "url": "https://github.com/elastic/elasticsearch/commit/975c8da5b4d14374a9f8e4be26305abb70759684", "message": "Remove unused indices options from data streams stats rest request", "committedDate": "2020-07-14T20:59:48Z", "type": "commit"}, {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c", "url": "https://github.com/elastic/elasticsearch/commit/f6b489cc170e3302937fd0d4a7e6a58b19a72e0c", "message": "Add a quick test to ensure closed indices do not impact stats", "committedDate": "2020-07-14T21:53:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw==", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454671627", "bodyText": "Out of curiosity, since we're trying to get stats from closed indices, should we have a disclaimer that the stats (like max timestamp for instance) could be wrong if indices are closed?", "author": "dakrone", "createdAt": "2020-07-14T22:02:21Z", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/datastream/DataStreamsStatsAction.java", "diffHunk": "@@ -76,7 +77,9 @@ public DataStreamsStatsAction() {\n \n     public static class Request extends BroadcastRequest<Request> {\n         public Request() {\n-            super((String[]) null);\n+            // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n+            // a data stream's backing indices are retrieved from its metadata\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));", "originalCommit": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MjU4Mw==", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454672583", "bodyText": "Probably. Not sure where best to capture that disclaimer. The docs? We'll probably want to state that anyway, since in the future we will probably only pull timestamp data from the latest index (maybe latest two indices) which could also technically lead to inaccurate timestamps.", "author": "jbaiera", "createdAt": "2020-07-14T22:04:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3OTExMA==", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454679110", "bodyText": "I think the docs is the best place for it", "author": "dakrone", "createdAt": "2020-07-14T22:21:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw=="}], "type": "inlineReview"}, {"oid": "928cc4b34903c1986c9f4cafd447a2b098a662fa", "url": "https://github.com/elastic/elasticsearch/commit/928cc4b34903c1986c9f4cafd447a2b098a662fa", "message": "precommit", "committedDate": "2020-07-14T22:28:19Z", "type": "commit"}, {"oid": "6bb5fe1e9baa0ce990f5d1d47dac286ec2afadd7", "url": "https://github.com/elastic/elasticsearch/commit/6bb5fe1e9baa0ce990f5d1d47dac286ec2afadd7", "message": "Merge branch 'master' into data-streams-stats-options", "committedDate": "2020-07-15T15:34:19Z", "type": "commit"}]}