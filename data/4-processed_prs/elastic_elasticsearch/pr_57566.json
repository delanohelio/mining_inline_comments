{"pr_number": 57566, "pr_title": "[DOCS] Release notes for 7.7.1 (bugfix release)", "pr_createdAt": "2020-06-02T21:55:31Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57566", "timeline": [{"oid": "10325f322e7c9f50e86c23742b921fe1808e19aa", "url": "https://github.com/elastic/elasticsearch/commit/10325f322e7c9f50e86c23742b921fe1808e19aa", "message": "Add release notes for 7.7.1", "committedDate": "2020-06-02T21:42:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNzExNg==", "url": "https://github.com/elastic/elasticsearch/pull/57566#discussion_r434527116", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * ILM add cluster update timeout on step retry {pull}54878[#54878]\n          \n          \n            \n            * ILM: Add cluster update timeout on step retry {pull}54878[#54878]", "author": "jrodewig", "createdAt": "2020-06-03T12:25:39Z", "path": "docs/reference/release-notes/7.7.asciidoc", "diffHunk": "@@ -1,21 +1,141 @@\n [[release-notes-7.7.1]]\n == {es} version 7.7.1\n \n-coming::[7.7.1]\n-\n Also see <<breaking-changes-7.7,Breaking changes in 7.7>>.\n \n-[discrete]\n+[[enhancement-7.7.1]]\n+[float]\n+=== Enhancements\n+\n+Authorization::\n+* Remove synthetic role names of API keys as they confuse users {pull}56005[#56005]\n+\n+Features/ILM+SLM::\n+* ILM add cluster update timeout on step retry {pull}54878[#54878]", "originalCommit": "10325f322e7c9f50e86c23742b921fe1808e19aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNzUxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/57566#discussion_r434527515", "bodyText": "This prefix is redundant as the heading is identical.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * SQL: change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])\n          \n          \n            \n            * Change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])", "author": "jrodewig", "createdAt": "2020-06-03T12:26:18Z", "path": "docs/reference/release-notes/7.7.asciidoc", "diffHunk": "@@ -1,21 +1,141 @@\n [[release-notes-7.7.1]]\n == {es} version 7.7.1\n \n-coming::[7.7.1]\n-\n Also see <<breaking-changes-7.7,Breaking changes in 7.7>>.\n \n-[discrete]\n+[[enhancement-7.7.1]]\n+[float]\n+=== Enhancements\n+\n+Authorization::\n+* Remove synthetic role names of API keys as they confuse users {pull}56005[#56005]\n+\n+Features/ILM+SLM::\n+* ILM add cluster update timeout on step retry {pull}54878[#54878]\n+\n+SQL::\n+* SQL: change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])", "originalCommit": "10325f322e7c9f50e86c23742b921fe1808e19aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNzU0MA==", "url": "https://github.com/elastic/elasticsearch/pull/57566#discussion_r434527540", "bodyText": "Changing this to sentence case for consistency.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * fix the problem of recovering twice when perform a full cluster restart(#55564) {pull}55780[#55780] (issue: {issue}55564[#55564])\n          \n          \n            \n            * Fix the problem of recovering twice when perform a full cluster restart(#55564) {pull}55780[#55780] (issue: {issue}55564[#55564])", "author": "jrodewig", "createdAt": "2020-06-03T12:26:22Z", "path": "docs/reference/release-notes/7.7.asciidoc", "diffHunk": "@@ -1,21 +1,141 @@\n [[release-notes-7.7.1]]\n == {es} version 7.7.1\n \n-coming::[7.7.1]\n-\n Also see <<breaking-changes-7.7,Breaking changes in 7.7>>.\n \n-[discrete]\n+[[enhancement-7.7.1]]\n+[float]\n+=== Enhancements\n+\n+Authorization::\n+* Remove synthetic role names of API keys as they confuse users {pull}56005[#56005]\n+\n+Features/ILM+SLM::\n+* ILM add cluster update timeout on step retry {pull}54878[#54878]\n+\n+SQL::\n+* SQL: change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])\n+\n [[bug-7.7.1]]\n+[float]\n === Bug fixes\n \n+Authentication::\n+* Expose idp.metadata.http.refresh for SAML realm {pull}56354[#56354]\n+* Fix concurrent refresh of tokens {pull}55114[#55114] (issue: {issue}54289[#54289])\n+\n+CCR::\n+* Retry follow task when remote connection queue full {pull}55314[#55314]\n+\n+Cluster Coordination::\n+* fix the problem of recovering twice when perform a full cluster restart(#55564) {pull}55780[#55780] (issue: {issue}55564[#55564])", "originalCommit": "10325f322e7c9f50e86c23742b921fe1808e19aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyOTI1Mg==", "url": "https://github.com/elastic/elasticsearch/pull/57566#discussion_r434529252", "bodyText": "Removes redundant prefixes.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * SQL: Fix unecessary evaluation for CASE/IIF {pull}57159[#57159] (issue: {issue}49672[#49672])\n          \n          \n            \n            * SQL: JDBC: fix access to the Manifest for non-entry JAR URLs {pull}56797[#56797] (issue: {issue}56759[#56759])\n          \n          \n            \n            * SQL: Fix JDBC url pattern in docs and error message {pull}56612[#56612] (issue: {issue}56476[#56476])\n          \n          \n            \n            * SQL: Fix serialization of JDBC prep statement date/time params {pull}56492[#56492] (issue: {issue}56084[#56084])\n          \n          \n            \n            * SQL: Fix issue with date range queries and timezone {pull}56115[#56115] (issue: {issue}56049[#56049])\n          \n          \n            \n            * SQL: SubSelect unresolved bugfix {pull}55956[#55956]\n          \n          \n            \n            * Fix unecessary evaluation for CASE/IIF {pull}57159[#57159] (issue: {issue}49672[#49672])\n          \n          \n            \n            * JDBC: fix access to the Manifest for non-entry JAR URLs {pull}56797[#56797] (issue: {issue}56759[#56759])\n          \n          \n            \n            * Fix JDBC url pattern in docs and error message {pull}56612[#56612] (issue: {issue}56476[#56476])\n          \n          \n            \n            * Fix serialization of JDBC prep statement date/time params {pull}56492[#56492] (issue: {issue}56084[#56084])\n          \n          \n            \n            * Fix issue with date range queries and timezone {pull}56115[#56115] (issue: {issue}56049[#56049])\n          \n          \n            \n            * SubSelect unresolved bugfix {pull}55956[#55956]", "author": "jrodewig", "createdAt": "2020-06-03T12:29:24Z", "path": "docs/reference/release-notes/7.7.asciidoc", "diffHunk": "@@ -1,21 +1,141 @@\n [[release-notes-7.7.1]]\n == {es} version 7.7.1\n \n-coming::[7.7.1]\n-\n Also see <<breaking-changes-7.7,Breaking changes in 7.7>>.\n \n-[discrete]\n+[[enhancement-7.7.1]]\n+[float]\n+=== Enhancements\n+\n+Authorization::\n+* Remove synthetic role names of API keys as they confuse users {pull}56005[#56005]\n+\n+Features/ILM+SLM::\n+* ILM add cluster update timeout on step retry {pull}54878[#54878]\n+\n+SQL::\n+* SQL: change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])\n+\n [[bug-7.7.1]]\n+[float]\n === Bug fixes\n \n+Authentication::\n+* Expose idp.metadata.http.refresh for SAML realm {pull}56354[#56354]\n+* Fix concurrent refresh of tokens {pull}55114[#55114] (issue: {issue}54289[#54289])\n+\n+CCR::\n+* Retry follow task when remote connection queue full {pull}55314[#55314]\n+\n+Cluster Coordination::\n+* fix the problem of recovering twice when perform a full cluster restart(#55564) {pull}55780[#55780] (issue: {issue}55564[#55564])\n+\n+Discovery-Plugins::\n+* Hide c.a.a.p.i.BasicProfileConfigFileLoader noise {pull}56346[#56346] (issues: {issue}20313[#20313], {issue}56333[#56333])\n+\n+Engine::\n+* Ensure no circular reference in translog tragic exception {pull}55959[#55959] (issue: {issue}55893[#55893])\n+* Update translog policy before the next safe commit {pull}54839[#54839] (issue: {issue}52223[#52223])\n+\n+Features/CAT APIs::\n+* Handle exceptions when building _cat/indices response {pull}56993[#56993] (issue: {issue}56816[#56816])\n+\n+Features/Features::\n+* 7.x only REST specification fixes {pull}56736[#56736] (issue: {issue}55984[#55984])\n+\n+Features/ILM+SLM::\n+* Fix Missing IgnoredUnavailable Flag in 7.x SLM Retention Task {pull}56616[#56616]\n+\n+Features/Indices APIs::\n+* Allow removing replicas setting on closed indices {pull}56680[#56680] (issues: {issue}56656[#56656], {issue}56675[#56675])\n+* Allow removing index.number_of_replicas setting {pull}56656[#56656] (issue: {issue}56501[#56501])\n+\n+Features/Ingest::\n+* Fix enrich coordinator to reject documents instead of deadlocking {pull}56247[#56247] (issue: {issue}55634[#55634])\n+* EnrichProcessorFactory should not throw NPE if missing metadata {pull}55977[#55977]\n+* Prevent stack overflow for numerous grok patterns. {pull}55899[#55899]\n+* Fix empty_value handling in CsvProcessor {pull}55649[#55649] (issue: {issue}55643[#55643])\n+\n+Features/Java High Level REST Client::\n+* Honor IndicesOptions in HLRC putMapping request {pull}57118[#57118] (issue: {issue}57045[#57045])\n+\n+Features/Monitoring::\n+* Fix incorrect log warning when exporting monitoring via HTTP without authentication {pull}56958[#56958] (issue: {issue}56810[#56810])\n+* Ensure that the monitoring export exceptions are logged. {pull}56237[#56237]\n+\n+Features/Watcher::\n+* Ensure that .watcher-history-11* template is in installed prior to use {pull}56734[#56734] (issue: {issue}56732[#56732])\n+* Fix smtp.ssl.trust setting for watcher email {pull}56090[#56090] (issues: {issue}45272[#45272], {issue}52153[#52153])\n+\n+Infra/Core::\n+* Prevent unexpected native controller output hanging the process {pull}56491[#56491] (issue: {issue}56366[#56366])\n+* Add method to check if object is generically writeable in stream {pull}54936[#54936] (issue: {issue}54708[#54708])\n+\n+Infra/Logging::\n+* SlowLoggers using single logger {pull}56708[#56708] (issue: {issue}56171[#56171])\n+\n Machine Learning::\n * Fix background persistence of categorizer state. {ml-pull}1137[#1137] (issue: {ml-issue}1136[#1136])\n * Fix classification job failures when number of classes in configuration differs from the number of classes present in the training data. {ml-pull}1144[#1144]\n * Fix underlying cause for \"Failed to calculate splitting significance\" log errors. {ml-pull}1157[#1157]\n * Fix possible root cause for \"Bad variance scale nan\" log errors. {ml-pull}1225[#1225]\n * Change data frame analytics instrumentation timestamp resolution to milliseconds. {ml-pull}1237[#1237]\n * Fix \"autodetect process stopped unexpectedly: Fatal error: 'terminate called after throwing an instance of 'std::bad_function_call'\". {ml-pull}1246[#1246] (issue: {ml-issue}1245[#1245])\n+* Fix monitoring if orphaned anomaly detector persistent tasks exist {pull}57235[#57235] (issue: {issue}51888[#51888])\n+* Fix delete_expired_data/nightly maintenance when many model snapshots need deleting {pull}57041[#57041] (issue: {issue}47103[#47103])\n+* Ensure class is represented when its cardinality is low {pull}56783[#56783]\n+* Use non-zero timeout when force stopping DF analytics {pull}56423[#56423]\n+* Reduce InferenceProcessor.Factory log spam by not parsing pipelines {pull}56020[#56020] (issue: {issue}55985[#55985])\n+* Audit when unassigned datafeeds are stopped {pull}55656[#55656] (issue: {issue}55521[#55521])\n+\n+Network::\n+* Fix use of password protected PKCS#8 keys for SSL {pull}55457[#55457] (issue: {issue}8[#8])\n+* Add support for more named curves {pull}55179[#55179] (issue: {issue}55031[#55031])\n+\n+Recovery::\n+* Fix trimUnsafeCommits for indices created before 6.2 {pull}57187[#57187] (issue: {issue}57091[#57091])\n+\n+SQL::\n+* SQL: Fix unecessary evaluation for CASE/IIF {pull}57159[#57159] (issue: {issue}49672[#49672])\n+* SQL: JDBC: fix access to the Manifest for non-entry JAR URLs {pull}56797[#56797] (issue: {issue}56759[#56759])\n+* SQL: Fix JDBC url pattern in docs and error message {pull}56612[#56612] (issue: {issue}56476[#56476])\n+* SQL: Fix serialization of JDBC prep statement date/time params {pull}56492[#56492] (issue: {issue}56084[#56084])\n+* SQL: Fix issue with date range queries and timezone {pull}56115[#56115] (issue: {issue}56049[#56049])\n+* SQL: SubSelect unresolved bugfix {pull}55956[#55956]", "originalCommit": "10325f322e7c9f50e86c23742b921fe1808e19aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyOTk4Mg==", "url": "https://github.com/elastic/elasticsearch/pull/57566#discussion_r434529982", "bodyText": "Removes redundant prefix.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * SQL: update the JLine dependency to 3.14.1 {pull}57111[#57111] (issue: {issue}57076[#57076])\n          \n          \n            \n            * Update the JLine dependency to 3.14.1 {pull}57111[#57111] (issue: {issue}57076[#57076])", "author": "jrodewig", "createdAt": "2020-06-03T12:30:37Z", "path": "docs/reference/release-notes/7.7.asciidoc", "diffHunk": "@@ -1,21 +1,141 @@\n [[release-notes-7.7.1]]\n == {es} version 7.7.1\n \n-coming::[7.7.1]\n-\n Also see <<breaking-changes-7.7,Breaking changes in 7.7>>.\n \n-[discrete]\n+[[enhancement-7.7.1]]\n+[float]\n+=== Enhancements\n+\n+Authorization::\n+* Remove synthetic role names of API keys as they confuse users {pull}56005[#56005]\n+\n+Features/ILM+SLM::\n+* ILM add cluster update timeout on step retry {pull}54878[#54878]\n+\n+SQL::\n+* SQL: change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])\n+\n [[bug-7.7.1]]\n+[float]\n === Bug fixes\n \n+Authentication::\n+* Expose idp.metadata.http.refresh for SAML realm {pull}56354[#56354]\n+* Fix concurrent refresh of tokens {pull}55114[#55114] (issue: {issue}54289[#54289])\n+\n+CCR::\n+* Retry follow task when remote connection queue full {pull}55314[#55314]\n+\n+Cluster Coordination::\n+* fix the problem of recovering twice when perform a full cluster restart(#55564) {pull}55780[#55780] (issue: {issue}55564[#55564])\n+\n+Discovery-Plugins::\n+* Hide c.a.a.p.i.BasicProfileConfigFileLoader noise {pull}56346[#56346] (issues: {issue}20313[#20313], {issue}56333[#56333])\n+\n+Engine::\n+* Ensure no circular reference in translog tragic exception {pull}55959[#55959] (issue: {issue}55893[#55893])\n+* Update translog policy before the next safe commit {pull}54839[#54839] (issue: {issue}52223[#52223])\n+\n+Features/CAT APIs::\n+* Handle exceptions when building _cat/indices response {pull}56993[#56993] (issue: {issue}56816[#56816])\n+\n+Features/Features::\n+* 7.x only REST specification fixes {pull}56736[#56736] (issue: {issue}55984[#55984])\n+\n+Features/ILM+SLM::\n+* Fix Missing IgnoredUnavailable Flag in 7.x SLM Retention Task {pull}56616[#56616]\n+\n+Features/Indices APIs::\n+* Allow removing replicas setting on closed indices {pull}56680[#56680] (issues: {issue}56656[#56656], {issue}56675[#56675])\n+* Allow removing index.number_of_replicas setting {pull}56656[#56656] (issue: {issue}56501[#56501])\n+\n+Features/Ingest::\n+* Fix enrich coordinator to reject documents instead of deadlocking {pull}56247[#56247] (issue: {issue}55634[#55634])\n+* EnrichProcessorFactory should not throw NPE if missing metadata {pull}55977[#55977]\n+* Prevent stack overflow for numerous grok patterns. {pull}55899[#55899]\n+* Fix empty_value handling in CsvProcessor {pull}55649[#55649] (issue: {issue}55643[#55643])\n+\n+Features/Java High Level REST Client::\n+* Honor IndicesOptions in HLRC putMapping request {pull}57118[#57118] (issue: {issue}57045[#57045])\n+\n+Features/Monitoring::\n+* Fix incorrect log warning when exporting monitoring via HTTP without authentication {pull}56958[#56958] (issue: {issue}56810[#56810])\n+* Ensure that the monitoring export exceptions are logged. {pull}56237[#56237]\n+\n+Features/Watcher::\n+* Ensure that .watcher-history-11* template is in installed prior to use {pull}56734[#56734] (issue: {issue}56732[#56732])\n+* Fix smtp.ssl.trust setting for watcher email {pull}56090[#56090] (issues: {issue}45272[#45272], {issue}52153[#52153])\n+\n+Infra/Core::\n+* Prevent unexpected native controller output hanging the process {pull}56491[#56491] (issue: {issue}56366[#56366])\n+* Add method to check if object is generically writeable in stream {pull}54936[#54936] (issue: {issue}54708[#54708])\n+\n+Infra/Logging::\n+* SlowLoggers using single logger {pull}56708[#56708] (issue: {issue}56171[#56171])\n+\n Machine Learning::\n * Fix background persistence of categorizer state. {ml-pull}1137[#1137] (issue: {ml-issue}1136[#1136])\n * Fix classification job failures when number of classes in configuration differs from the number of classes present in the training data. {ml-pull}1144[#1144]\n * Fix underlying cause for \"Failed to calculate splitting significance\" log errors. {ml-pull}1157[#1157]\n * Fix possible root cause for \"Bad variance scale nan\" log errors. {ml-pull}1225[#1225]\n * Change data frame analytics instrumentation timestamp resolution to milliseconds. {ml-pull}1237[#1237]\n * Fix \"autodetect process stopped unexpectedly: Fatal error: 'terminate called after throwing an instance of 'std::bad_function_call'\". {ml-pull}1246[#1246] (issue: {ml-issue}1245[#1245])\n+* Fix monitoring if orphaned anomaly detector persistent tasks exist {pull}57235[#57235] (issue: {issue}51888[#51888])\n+* Fix delete_expired_data/nightly maintenance when many model snapshots need deleting {pull}57041[#57041] (issue: {issue}47103[#47103])\n+* Ensure class is represented when its cardinality is low {pull}56783[#56783]\n+* Use non-zero timeout when force stopping DF analytics {pull}56423[#56423]\n+* Reduce InferenceProcessor.Factory log spam by not parsing pipelines {pull}56020[#56020] (issue: {issue}55985[#55985])\n+* Audit when unassigned datafeeds are stopped {pull}55656[#55656] (issue: {issue}55521[#55521])\n+\n+Network::\n+* Fix use of password protected PKCS#8 keys for SSL {pull}55457[#55457] (issue: {issue}8[#8])\n+* Add support for more named curves {pull}55179[#55179] (issue: {issue}55031[#55031])\n+\n+Recovery::\n+* Fix trimUnsafeCommits for indices created before 6.2 {pull}57187[#57187] (issue: {issue}57091[#57091])\n+\n+SQL::\n+* SQL: Fix unecessary evaluation for CASE/IIF {pull}57159[#57159] (issue: {issue}49672[#49672])\n+* SQL: JDBC: fix access to the Manifest for non-entry JAR URLs {pull}56797[#56797] (issue: {issue}56759[#56759])\n+* SQL: Fix JDBC url pattern in docs and error message {pull}56612[#56612] (issue: {issue}56476[#56476])\n+* SQL: Fix serialization of JDBC prep statement date/time params {pull}56492[#56492] (issue: {issue}56084[#56084])\n+* SQL: Fix issue with date range queries and timezone {pull}56115[#56115] (issue: {issue}56049[#56049])\n+* SQL: SubSelect unresolved bugfix {pull}55956[#55956]\n+\n+Search::\n+* Don't run sort optimization on size=0 {pull}57044[#57044] (issue: {issue}56923[#56923])\n+* Fix `bool` query behaviour on null value {pull}56817[#56817] (issue: {issue}56812[#56812])\n+* Fix validate query listener invocation bug {pull}56157[#56157]\n+* Async Search: correct shards counting {pull}55758[#55758]\n+* For constant_keyword, make sure exists query handles missing values. {pull}55757[#55757] (issue: {issue}53545[#53545])\n+* Fix (de)serialization of async search failures {pull}55688[#55688]\n+* Fix expiration time in async search response {pull}55435[#55435]\n+* Return true for can_match on idle search shards {pull}55428[#55428] (issues: {issue}27500[#27500], {issue}50043[#50043])\n+\n+Snapshot/Restore::\n+* Fix NPE in Partial Snapshot Without Global State {pull}55776[#55776] (issue: {issue}50234[#50234])\n+* Fix Path Style Access Setting Priority {pull}55439[#55439] (issue: {issue}55407[#55407])\n+\n+[[regression-7.7.1]]\n+[float]\n+=== Regressions\n+\n+Infra/Scripting::\n+* Change access pattern for GeoXXXValueSources {pull}54648[#54648]\n+\n+[[upgrade-7.7.1]]\n+[float]\n+=== Upgrades\n+\n+Infra/Core::\n+* Upgrade to Jackson 2.10.4 {pull}56188[#56188] (issue: {issue}56071[#56071])\n+\n+Infra/Packaging::\n+* Upgrade bundled jdk to 14.0.1 {pull}57233[#57233]\n+\n+SQL::\n+* SQL: update the JLine dependency to 3.14.1 {pull}57111[#57111] (issue: {issue}57076[#57076])", "originalCommit": "10325f322e7c9f50e86c23742b921fe1808e19aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUzMDU5Mg==", "url": "https://github.com/elastic/elasticsearch/pull/57566#discussion_r434530592", "bodyText": "This PR was closed, not merged. I've removed the version labels.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [[regression-7.7.1]]\n          \n          \n            \n            [float]\n          \n          \n            \n            === Regressions\n          \n          \n            \n            \n          \n          \n            \n            Infra/Scripting::\n          \n          \n            \n            * Change access pattern for GeoXXXValueSources {pull}54648[#54648]", "author": "jrodewig", "createdAt": "2020-06-03T12:31:42Z", "path": "docs/reference/release-notes/7.7.asciidoc", "diffHunk": "@@ -1,21 +1,141 @@\n [[release-notes-7.7.1]]\n == {es} version 7.7.1\n \n-coming::[7.7.1]\n-\n Also see <<breaking-changes-7.7,Breaking changes in 7.7>>.\n \n-[discrete]\n+[[enhancement-7.7.1]]\n+[float]\n+=== Enhancements\n+\n+Authorization::\n+* Remove synthetic role names of API keys as they confuse users {pull}56005[#56005]\n+\n+Features/ILM+SLM::\n+* ILM add cluster update timeout on step retry {pull}54878[#54878]\n+\n+SQL::\n+* SQL: change error message for comparison against fields in filtering {pull}57126[#57126] (issue: {issue}57005[#57005])\n+\n [[bug-7.7.1]]\n+[float]\n === Bug fixes\n \n+Authentication::\n+* Expose idp.metadata.http.refresh for SAML realm {pull}56354[#56354]\n+* Fix concurrent refresh of tokens {pull}55114[#55114] (issue: {issue}54289[#54289])\n+\n+CCR::\n+* Retry follow task when remote connection queue full {pull}55314[#55314]\n+\n+Cluster Coordination::\n+* fix the problem of recovering twice when perform a full cluster restart(#55564) {pull}55780[#55780] (issue: {issue}55564[#55564])\n+\n+Discovery-Plugins::\n+* Hide c.a.a.p.i.BasicProfileConfigFileLoader noise {pull}56346[#56346] (issues: {issue}20313[#20313], {issue}56333[#56333])\n+\n+Engine::\n+* Ensure no circular reference in translog tragic exception {pull}55959[#55959] (issue: {issue}55893[#55893])\n+* Update translog policy before the next safe commit {pull}54839[#54839] (issue: {issue}52223[#52223])\n+\n+Features/CAT APIs::\n+* Handle exceptions when building _cat/indices response {pull}56993[#56993] (issue: {issue}56816[#56816])\n+\n+Features/Features::\n+* 7.x only REST specification fixes {pull}56736[#56736] (issue: {issue}55984[#55984])\n+\n+Features/ILM+SLM::\n+* Fix Missing IgnoredUnavailable Flag in 7.x SLM Retention Task {pull}56616[#56616]\n+\n+Features/Indices APIs::\n+* Allow removing replicas setting on closed indices {pull}56680[#56680] (issues: {issue}56656[#56656], {issue}56675[#56675])\n+* Allow removing index.number_of_replicas setting {pull}56656[#56656] (issue: {issue}56501[#56501])\n+\n+Features/Ingest::\n+* Fix enrich coordinator to reject documents instead of deadlocking {pull}56247[#56247] (issue: {issue}55634[#55634])\n+* EnrichProcessorFactory should not throw NPE if missing metadata {pull}55977[#55977]\n+* Prevent stack overflow for numerous grok patterns. {pull}55899[#55899]\n+* Fix empty_value handling in CsvProcessor {pull}55649[#55649] (issue: {issue}55643[#55643])\n+\n+Features/Java High Level REST Client::\n+* Honor IndicesOptions in HLRC putMapping request {pull}57118[#57118] (issue: {issue}57045[#57045])\n+\n+Features/Monitoring::\n+* Fix incorrect log warning when exporting monitoring via HTTP without authentication {pull}56958[#56958] (issue: {issue}56810[#56810])\n+* Ensure that the monitoring export exceptions are logged. {pull}56237[#56237]\n+\n+Features/Watcher::\n+* Ensure that .watcher-history-11* template is in installed prior to use {pull}56734[#56734] (issue: {issue}56732[#56732])\n+* Fix smtp.ssl.trust setting for watcher email {pull}56090[#56090] (issues: {issue}45272[#45272], {issue}52153[#52153])\n+\n+Infra/Core::\n+* Prevent unexpected native controller output hanging the process {pull}56491[#56491] (issue: {issue}56366[#56366])\n+* Add method to check if object is generically writeable in stream {pull}54936[#54936] (issue: {issue}54708[#54708])\n+\n+Infra/Logging::\n+* SlowLoggers using single logger {pull}56708[#56708] (issue: {issue}56171[#56171])\n+\n Machine Learning::\n * Fix background persistence of categorizer state. {ml-pull}1137[#1137] (issue: {ml-issue}1136[#1136])\n * Fix classification job failures when number of classes in configuration differs from the number of classes present in the training data. {ml-pull}1144[#1144]\n * Fix underlying cause for \"Failed to calculate splitting significance\" log errors. {ml-pull}1157[#1157]\n * Fix possible root cause for \"Bad variance scale nan\" log errors. {ml-pull}1225[#1225]\n * Change data frame analytics instrumentation timestamp resolution to milliseconds. {ml-pull}1237[#1237]\n * Fix \"autodetect process stopped unexpectedly: Fatal error: 'terminate called after throwing an instance of 'std::bad_function_call'\". {ml-pull}1246[#1246] (issue: {ml-issue}1245[#1245])\n+* Fix monitoring if orphaned anomaly detector persistent tasks exist {pull}57235[#57235] (issue: {issue}51888[#51888])\n+* Fix delete_expired_data/nightly maintenance when many model snapshots need deleting {pull}57041[#57041] (issue: {issue}47103[#47103])\n+* Ensure class is represented when its cardinality is low {pull}56783[#56783]\n+* Use non-zero timeout when force stopping DF analytics {pull}56423[#56423]\n+* Reduce InferenceProcessor.Factory log spam by not parsing pipelines {pull}56020[#56020] (issue: {issue}55985[#55985])\n+* Audit when unassigned datafeeds are stopped {pull}55656[#55656] (issue: {issue}55521[#55521])\n+\n+Network::\n+* Fix use of password protected PKCS#8 keys for SSL {pull}55457[#55457] (issue: {issue}8[#8])\n+* Add support for more named curves {pull}55179[#55179] (issue: {issue}55031[#55031])\n+\n+Recovery::\n+* Fix trimUnsafeCommits for indices created before 6.2 {pull}57187[#57187] (issue: {issue}57091[#57091])\n+\n+SQL::\n+* SQL: Fix unecessary evaluation for CASE/IIF {pull}57159[#57159] (issue: {issue}49672[#49672])\n+* SQL: JDBC: fix access to the Manifest for non-entry JAR URLs {pull}56797[#56797] (issue: {issue}56759[#56759])\n+* SQL: Fix JDBC url pattern in docs and error message {pull}56612[#56612] (issue: {issue}56476[#56476])\n+* SQL: Fix serialization of JDBC prep statement date/time params {pull}56492[#56492] (issue: {issue}56084[#56084])\n+* SQL: Fix issue with date range queries and timezone {pull}56115[#56115] (issue: {issue}56049[#56049])\n+* SQL: SubSelect unresolved bugfix {pull}55956[#55956]\n+\n+Search::\n+* Don't run sort optimization on size=0 {pull}57044[#57044] (issue: {issue}56923[#56923])\n+* Fix `bool` query behaviour on null value {pull}56817[#56817] (issue: {issue}56812[#56812])\n+* Fix validate query listener invocation bug {pull}56157[#56157]\n+* Async Search: correct shards counting {pull}55758[#55758]\n+* For constant_keyword, make sure exists query handles missing values. {pull}55757[#55757] (issue: {issue}53545[#53545])\n+* Fix (de)serialization of async search failures {pull}55688[#55688]\n+* Fix expiration time in async search response {pull}55435[#55435]\n+* Return true for can_match on idle search shards {pull}55428[#55428] (issues: {issue}27500[#27500], {issue}50043[#50043])\n+\n+Snapshot/Restore::\n+* Fix NPE in Partial Snapshot Without Global State {pull}55776[#55776] (issue: {issue}50234[#50234])\n+* Fix Path Style Access Setting Priority {pull}55439[#55439] (issue: {issue}55407[#55407])\n+\n+[[regression-7.7.1]]\n+[float]\n+=== Regressions\n+\n+Infra/Scripting::\n+* Change access pattern for GeoXXXValueSources {pull}54648[#54648]\n+", "originalCommit": "10325f322e7c9f50e86c23742b921fe1808e19aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0c33f9f55bdf40bae1d1dceeacfdbed3fcf05235", "url": "https://github.com/elastic/elasticsearch/commit/0c33f9f55bdf40bae1d1dceeacfdbed3fcf05235", "message": "Apply suggestions from code review", "committedDate": "2020-06-03T12:39:48Z", "type": "commit"}]}