{"pr_number": 55862, "pr_title": "[DOCS] Add collapsible sections to 8.0 breaking changes [Part 2]", "pr_createdAt": "2020-04-28T14:27:31Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/55862", "timeline": [{"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138", "url": "https://github.com/elastic/elasticsearch/commit/03de18e53a3d72926b8e1a92d1c4f154b0403138", "message": "[DOCS] Add collapsible sections to 8.0 breaking changes [Part 2]", "committedDate": "2020-04-28T14:25:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODI2NA==", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419648264", "bodyText": "I'd be inclined to flip this around to lead with what you should do:\n\nUse POST /_cluster/voting_config_exclusions?node_ids=... and specify the nodes to exclude instead of using a node filter.  Submitting requests to the  /_cluster/voting_config_exclusions/{node_filter}` endpoint will throw an error.", "author": "debadair", "createdAt": "2020-05-04T18:43:08Z", "path": "docs/reference/migration/migrate_8_0/cluster.asciidoc", "diffHunk": "@@ -9,10 +9,17 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Change to API to add voting configuration exclusions\n-\n+.The voting configuration exclusions API endpoint has changed.\n+[%collapsible]\n+====\n+*Details* +\n The `POST /_cluster/voting_config_exclusions/{node_filter}` API has been\n removed in favour of `POST /_cluster/voting_config_exclusions?node_names=...`\n and `POST /_cluster/voting_config_exclusions?node_ids=...` which allow you to\n specify the names or IDs of the nodes to exclude.\n+\n+*Impact* +\n+To avoid errors, discontinue use of the `POST\n+/_cluster/voting_config_exclusions/{node_filter}` API endpoint.\n+Use `POST /_cluster/voting_config_exclusions?node_ids=...` instead.", "originalCommit": "03de18e53a3d72926b8e1a92d1c4f154b0403138", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1Mjg5Ng==", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419652896", "bodyText": "\"unset and discontinue use\" seems redundant. Again, I'd lead with the recommended action, something like:\n\nDiscontinue using the discovery.zen settings. Specifying these settings in elasticsearch.yml will result in an error on startup.", "author": "debadair", "createdAt": "2020-05-04T18:51:08Z", "path": "docs/reference/migration/migrate_8_0/discovery.asciidoc", "diffHunk": "@@ -37,3 +39,7 @@ are no longer supported. In particular, this includes:\n - `discovery.zen.master_election.wait_for_joins_timeout`\n - `discovery.zen.master_election.ignore_non_master_pings`\n - `discovery.zen.publish.max_pending_cluster_states`\n+\n+*Impact* +\n+To avoid errors, unset and discontinue use of any `discovery.zen.` settings.", "originalCommit": "03de18e53a3d72926b8e1a92d1c4f154b0403138", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1NDAxNA==", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419654014", "bodyText": "As above (if you go that route):\n\nUse a maximum of 10 completion contexts in a completion field. Specifying more than 10 completions context will throw an error.\n\nSame applies to the other impact sections.", "author": "debadair", "createdAt": "2020-05-04T18:53:05Z", "path": "docs/reference/migration/migrate_8_0/mappings.asciidoc", "diffHunk": "@@ -9,33 +9,56 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Limiting the number of completion contexts\n \n+.The maximum number of completion contexts per field is now 10.\n+[%collapsible]\n+====\n+*Details* +\n The number of completion contexts within a single completion field\n has been limited to 10.\n \n-[float]\n-==== Removal of types\n+*Impact* +\n+To avoid errors, use no more than 10 completion contexts within a single", "originalCommit": "03de18e53a3d72926b8e1a92d1c4f154b0403138", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "89fd9e2738a114b69d14283081ffb10a04c73298", "url": "https://github.com/elastic/elasticsearch/commit/89fd9e2738a114b69d14283081ffb10a04c73298", "message": "flip wording of impact", "committedDate": "2020-05-04T19:30:44Z", "type": "commit"}, {"oid": "5fb4229b29610ae46dda2039a83b3fc5836942f1", "url": "https://github.com/elastic/elasticsearch/commit/5fb4229b29610ae46dda2039a83b3fc5836942f1", "message": "typo", "committedDate": "2020-05-04T19:33:12Z", "type": "commit"}]}