{"pr_number": 52087, "pr_title": "Check dot-index rules after template application", "pr_createdAt": "2020-02-07T23:27:44Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/52087", "timeline": [{"oid": "787e00c2fe5b2b7af53962106a9adf1aeaa130f9", "url": "https://github.com/elastic/elasticsearch/commit/787e00c2fe5b2b7af53962106a9adf1aeaa130f9", "message": "Check dot-index rules after template application\n\nPreviously, the dot-index rules (namely, that indices with dot-prefixed\nnames should be either hidden indices or system indices) was done\nbefore* template application, and so only checked for the `index.hidden`\nsetting in the request, ignoring if that setting was set via a template.\n\nThis commit moves that check to a different method, which is applied\nafter templates have been resolved and applied to the index settings.", "committedDate": "2020-02-07T23:17:29Z", "type": "commit"}, {"oid": "3c6610a4866fcd373bd84d49f9fe75c47064a9d9", "url": "https://github.com/elastic/elasticsearch/commit/3c6610a4866fcd373bd84d49f9fe75c47064a9d9", "message": "Correct test name", "committedDate": "2020-02-07T23:30:08Z", "type": "commit"}, {"oid": "badfbb3340c7c6ecb82b75a72b6abb5d6bf200d4", "url": "https://github.com/elastic/elasticsearch/commit/badfbb3340c7c6ecb82b75a72b6abb5d6bf200d4", "message": "Line length", "committedDate": "2020-02-10T21:20:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyMzA2OQ==", "url": "https://github.com/elastic/elasticsearch/pull/52087#discussion_r377323069", "bodyText": "no longer needed?", "author": "rjernst", "createdAt": "2020-02-10T21:21:03Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java", "diffHunk": "@@ -705,7 +719,7 @@ private static IndexService validateActiveShardCountAndCreateIndexService(String\n \n     private void validate(CreateIndexClusterStateUpdateRequest request, ClusterState state) {\n         boolean isHidden = IndexMetaData.INDEX_HIDDEN_SETTING.get(request.settings());", "originalCommit": "3c6610a4866fcd373bd84d49f9fe75c47064a9d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyODg0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/52087#discussion_r377328849", "bodyText": "You're right, I missed that one. Just pushed a commit removing this line. Thanks!", "author": "gwbrown", "createdAt": "2020-02-10T21:32:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyMzA2OQ=="}], "type": "inlineReview"}, {"oid": "bf6226bac54f0ae17924bde5f89b6c22c6f5f30e", "url": "https://github.com/elastic/elasticsearch/commit/bf6226bac54f0ae17924bde5f89b6c22c6f5f30e", "message": "Remove unnecessary line per review", "committedDate": "2020-02-10T21:27:47Z", "type": "commit"}, {"oid": "d462741e57109e364fe6cb7e471fe5cf121b9738", "url": "https://github.com/elastic/elasticsearch/commit/d462741e57109e364fe6cb7e471fe5cf121b9738", "message": "Merge branch 'master' into hidden/fix-dot-index-validation", "committedDate": "2020-02-10T21:47:08Z", "type": "commit"}]}