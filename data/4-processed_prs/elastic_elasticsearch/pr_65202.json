{"pr_number": 65202, "pr_title": "Fix Allocation `include` Filter Docs", "pr_createdAt": "2020-11-18T13:53:54Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/65202", "timeline": [{"oid": "e31350a2cd813e1af37a06e1b56013e0fe712c59", "url": "https://github.com/elastic/elasticsearch/commit/e31350a2cd813e1af37a06e1b56013e0fe712c59", "message": "Fix Allocation `include` Docs\n\nFix documentation to match actual behavior of `include` type filters.\n\nCloses #65113", "committedDate": "2020-11-18T13:39:50Z", "type": "commit"}, {"oid": "8344bdb79103c58ec1529b92033bbec16bd98283", "url": "https://github.com/elastic/elasticsearch/commit/8344bdb79103c58ec1529b92033bbec16bd98283", "message": "fix", "committedDate": "2020-11-18T13:52:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE0Nzk3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/65202#discussion_r526147972", "bodyText": "Thanks @DaveCTurner makes sense about removing the second example. Maybe just replace this section by:\nIf you specify multiple filters the following conditions must be satisfied simultaneously by a node in order for shards to be relocated to it:\n\n* If any `require` type conditions are specified, all of them must be satisfied\n* If any `exclude` type conditions are specified, none of them may be satisfied\n* If any `include` type conditions are specified, at least one of them must be satisfied\n\n\nthen, make the example below use require as I did here and revert the addition I made to include to keep it short and sweet?", "author": "original-brownbear", "createdAt": "2020-11-18T14:52:13Z", "path": "docs/reference/index-modules/allocation/filtering.asciidoc", "diffHunk": "@@ -59,8 +59,21 @@ PUT test/_settings\n ------------------------\n // TEST[s/^/PUT test\\n/]\n \n-If you specify multiple filters, all conditions must be satisfied for shards to\n-be relocated. For example, to move the `test` index to `big` nodes in `rack1`,\n+If you specify multiple filters, all `require` type conditions and no `exclude` type conditions must be satisfied for shards to", "originalCommit": "8344bdb79103c58ec1529b92033bbec16bd98283", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE4MjE3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/65202#discussion_r526182172", "bodyText": "Sounds good to me (mod wrapping to 80 columns ofc)", "author": "DaveCTurner", "createdAt": "2020-11-18T15:34:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE0Nzk3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE4ODE3NA==", "url": "https://github.com/elastic/elasticsearch/pull/65202#discussion_r526188174", "bodyText": "Thanks, adjusted accordingly now :)", "author": "original-brownbear", "createdAt": "2020-11-18T15:41:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE0Nzk3Mg=="}], "type": "inlineReview"}, {"oid": "5cca1cb1b73029c654e0f635f6bf323a4526b9cf", "url": "https://github.com/elastic/elasticsearch/commit/5cca1cb1b73029c654e0f635f6bf323a4526b9cf", "message": "adjusted", "committedDate": "2020-11-18T14:52:33Z", "type": "commit"}, {"oid": "926c3fabeb5bca67e597a27a91f69d2b4585e668", "url": "https://github.com/elastic/elasticsearch/commit/926c3fabeb5bca67e597a27a91f69d2b4585e668", "message": "Merge remote-tracking branch 'elastic/master' into 65113", "committedDate": "2020-11-18T15:35:32Z", "type": "commit"}, {"oid": "ee8c2b26487d60f156c548a33ca78f7ae7e387a4", "url": "https://github.com/elastic/elasticsearch/commit/ee8c2b26487d60f156c548a33ca78f7ae7e387a4", "message": "wrap to 80 chars", "committedDate": "2020-11-18T15:39:59Z", "type": "commit"}]}