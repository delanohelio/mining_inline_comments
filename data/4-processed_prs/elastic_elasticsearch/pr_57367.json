{"pr_number": 57367, "pr_title": "[DOCS] Add clear scroll API reference docs", "pr_createdAt": "2020-05-29T16:17:04Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/57367", "timeline": [{"oid": "03be044735e7eca250856e1b516e7336db8827bb", "url": "https://github.com/elastic/elasticsearch/commit/03be044735e7eca250856e1b516e7336db8827bb", "message": "[DOCS] Add clear scroll API reference docs", "committedDate": "2020-05-29T16:14:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjcwODcxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/57367#discussion_r432708715", "bodyText": "@jrodewig  Can you please share how did you know that <scroll_id> is deprecated as a path param?", "author": "mayya-sharipova", "createdAt": "2020-05-29T20:02:51Z", "path": "docs/reference/search/clear-scroll-api.asciidoc", "diffHunk": "@@ -0,0 +1,86 @@\n+[[clear-scroll-api]]\n+=== Clear scroll API\n+++++\n+<titleabbrev>Clear scroll</titleabbrev>\n+++++\n+\n+Clears the search context and results for a\n+<<request-body-search-scroll,scrolling search>>.\n+\n+////\n+[source,console]\n+--------------------------------------------------\n+GET /_search?scroll=1m\n+{\n+  \"size\": 1,\n+  \"query\": {\n+    \"match_all\": {}\n+  }\n+}\n+--------------------------------------------------\n+// TEST[setup:twitter]\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+DELETE /_search/scroll\n+{\n+    \"scroll_id\" : \"DXF1ZXJ5QW5kRmV0Y2gBAAAAAAAAAD4WYm9laVYtZndUQlNsdDcwakFMNjU1QQ==\"\n+}\n+--------------------------------------------------\n+// TEST[continued]\n+// TEST[s/DXF1ZXJ5QW5kRmV0Y2gBAAAAAAAAAD4WYm9laVYtZndUQlNsdDcwakFMNjU1QQ==/$body._scroll_id/]\n+\n+[[clear-scroll-api-request]]\n+==== {api-request-title}\n+\n+`DELETE /_search/scroll/<scroll_id>`\n+deprecated:[7.0.0]\n+\n+`DELETE /_search/scroll`\n+\n+[[clear-scroll-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<scroll_id>`::\n+deprecated:[7.0.0]", "originalCommit": "03be044735e7eca250856e1b516e7336db8827bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjcyMTg0MA==", "url": "https://github.com/elastic/elasticsearch/pull/57367#discussion_r432721840", "bodyText": "Hi @mayya-sharipova. While the API doesn't return a deprecation warning, the JSON spec indicates that this path param is deprecated:\nhttps://github.com/elastic/elasticsearch/blame/master/rest-api-spec/src/main/resources/rest-api-spec/api/clear_scroll.json#L28\nIf that's not the case, I can update these docs and fix the JSON spec too. Thanks!", "author": "jrodewig", "createdAt": "2020-05-29T20:33:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjcwODcxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDYxODg3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/57367#discussion_r434618876", "bodyText": "Thanks @jrodewig. I have confirmed with the es clients team that we indeed deprecating scroll_id as a path param in DELETE API.", "author": "mayya-sharipova", "createdAt": "2020-06-03T14:39:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjcwODcxNQ=="}], "type": "inlineReview"}, {"oid": "d77e42fc78dd545c299b3faf9d21e1478d1701e3", "url": "https://github.com/elastic/elasticsearch/commit/d77e42fc78dd545c299b3faf9d21e1478d1701e3", "message": "Merge branch 'master' into docs__clear-scroll-api", "committedDate": "2020-06-02T19:33:21Z", "type": "commit"}]}