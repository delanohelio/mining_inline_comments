{"pr_number": 64015, "pr_title": "Adjust defaults for tiered data roles", "pr_createdAt": "2020-10-21T18:59:45Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/64015", "timeline": [{"oid": "5f1d97c4bbc427b424572d1ea0c09fb448175c99", "url": "https://github.com/elastic/elasticsearch/commit/5f1d97c4bbc427b424572d1ea0c09fb448175c99", "message": "Adjust defaults for tiered data roles\n\nThis commit adjusts the defaults for the tiered data roles so that they\nare enabled by default, or if the node has the legacy data role. This\nensures that the default experience is that the tiered data roles are\nenabled.\n\nTo fully specifiy the behavior for the tiered data roles then:\n - starting a new node with the defaults: enabled\n - starting a new node with node.roles configured: enabled if and only\n   if the tiered data roles are explicitly configured, independently\n   of the node having the data role\n - starting a new node with node.data enabled: enabled unless the\n   tiered data roles are explicitly disabled\n - starting a new node with node.data disabled: disabled unless the\n   tiered data roles are explicitly enabled", "committedDate": "2020-10-21T18:55:29Z", "type": "commit"}, {"oid": "eb133218a441e9af3c51a94f37ed8d9e4248f22c", "url": "https://github.com/elastic/elasticsearch/commit/eb133218a441e9af3c51a94f37ed8d9e4248f22c", "message": "Fix roles tests", "committedDate": "2020-10-21T19:35:39Z", "type": "commit"}, {"oid": "45e070d4bbb04fa5856e42777fc7c7d5256ec8aa", "url": "https://github.com/elastic/elasticsearch/commit/45e070d4bbb04fa5856e42777fc7c7d5256ec8aa", "message": "Fix imports", "committedDate": "2020-10-21T19:52:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDM4NDgzOA==", "url": "https://github.com/elastic/elasticsearch/pull/64015#discussion_r510384838", "bodyText": "probably outside the scope of this PR , but https://www.elastic.co/guide/en/elasticsearch/reference/master/cat-nodes.html needs to be updated with these abbreviations.", "author": "jakelandis", "createdAt": "2020-10-22T18:52:35Z", "path": "distribution/docker/src/test/resources/rest-api-spec/test/11_nodes.yml", "diffHunk": "@@ -7,7 +7,7 @@\n   - match:\n       $body: |\n         /  #ip                          heap.percent        ram.percent     cpu         load_1m                load_5m                load_15m               node.role           master          name\n-        ^  ((\\d{1,3}\\.){3}\\d{1,3}  \\s+  \\d+            \\s+  \\d*         \\s+ (-)?\\d* \\s+ ((-)?\\d*(\\.\\d+)?)? \\s+ ((-)?\\d*(\\.\\d+)?)?\\s+  ((-)?\\d*(\\.\\d+)?)? \\s+ (-|[dilmrt]{1,6}) \\s+ [-*x]     \\s+   (\\S+\\s?)+     \\n)+  $/\n+        ^  ((\\d{1,3}\\.){3}\\d{1,3}  \\s+  \\d+            \\s+  \\d*         \\s+ (-)?\\d* \\s+ ((-)?\\d*(\\.\\d+)?)? \\s+ ((-)?\\d*(\\.\\d+)?)?\\s+  ((-)?\\d*(\\.\\d+)?)? \\s+ (-|[cdhilmrstw]{1,10}) \\s+ [-*x]     \\s+   (\\S+\\s?)+     \\n)+  $/", "originalCommit": "45e070d4bbb04fa5856e42777fc7c7d5256ec8aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgyNDIyMw==", "url": "https://github.com/elastic/elasticsearch/pull/64015#discussion_r512824223", "bodyText": "Thanks, I pushed c27c877.", "author": "jasontedor", "createdAt": "2020-10-27T16:05:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDM4NDgzOA=="}], "type": "inlineReview"}, {"oid": "7ba29c374466c7c9820fdc67e5a5a6a9041f5533", "url": "https://github.com/elastic/elasticsearch/commit/7ba29c374466c7c9820fdc67e5a5a6a9041f5533", "message": "Fix tests", "committedDate": "2020-10-27T15:56:15Z", "type": "commit"}, {"oid": "c27c877c8c77f3469f8690c8a12f027497113bf3", "url": "https://github.com/elastic/elasticsearch/commit/c27c877c8c77f3469f8690c8a12f027497113bf3", "message": "Adjust docs", "committedDate": "2020-10-27T16:02:28Z", "type": "commit"}, {"oid": "6f9318dab9f7b3dbd6ed4403df0eae09d1789453", "url": "https://github.com/elastic/elasticsearch/commit/6f9318dab9f7b3dbd6ed4403df0eae09d1789453", "message": "Merge branch 'master' into tiered-data-role-defaults", "committedDate": "2020-10-27T16:05:39Z", "type": "commit"}]}