{"pr_number": 56288, "pr_title": "[DOCS] Docs changes for overridden delimiter in find_file_structure", "pr_createdAt": "2020-05-06T14:41:49Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56288", "timeline": [{"oid": "658fecc956829720d06ce68014da55efc7c18d07", "url": "https://github.com/elastic/elasticsearch/commit/658fecc956829720d06ce68014da55efc7c18d07", "message": "[DOCS] Docs changes for overridden delimiter in find_file_structure\n\nDocs for #55735", "committedDate": "2020-05-06T14:37:52Z", "type": "commit"}, {"oid": "0fa2fbdd93cffaa1fedb77a9ce1173350147b3a4", "url": "https://github.com/elastic/elasticsearch/commit/0fa2fbdd93cffaa1fedb77a9ce1173350147b3a4", "message": "[DOCS] Edits format and delimiter descriptions", "committedDate": "2020-05-06T19:12:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzMjAwNw==", "url": "https://github.com/elastic/elasticsearch/pull/56288#discussion_r421032007", "bodyText": "I had to scroll up to figure out what the \"structure finder\" was and I think it is intended to represent this entire tool/API.  Can we just use API instead (here and throughout this reference)?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            structure finder chooses the format.  In this default scenario, all rows must\n          \n          \n            \n            API chooses the format. In this default scenario, all rows must", "author": "lcawl", "createdAt": "2020-05-06T19:16:56Z", "path": "docs/reference/ml/anomaly-detection/apis/find-file-structure.asciidoc", "diffHunk": "@@ -78,19 +78,26 @@ chosen.\n `delimiter`::\n   (Optional, string) If you have set `format` to `delimited`, you can specify\n   the character used to delimit the values in each row. Only a single character\n-  is supported; the delimiter cannot have multiple characters. If this parameter\n-  is not specified, the structure finder considers the following possibilities:\n-  comma, tab, semi-colon, and pipe (`|`).\n+  is supported; the delimiter cannot have multiple characters. By default, the\n+  API considers the following possibilities: comma, tab, semi-colon, and pipe\n+  (`|`). In this default scenario, all rows must have the same number of fields\n+  for the delimited format to be detected. If you specify a delimiter, up to 10%\n+  of the rows can have a different number of columns than the first row.\n \n `explain`::\n   (Optional, boolean) If this parameter is set to `true`, the response includes\n   a field named `explanation`, which is an array of strings that indicate how\n   the structure finder produced its result. The default value is `false`.\n \n `format`::\n-  (Optional, string) The high level structure of the file. Valid values are\n-  `ndjson`, `xml`, `delimited`, and `semi_structured_text`. If this parameter is\n-  not specified, the structure finder chooses one.\n+(Optional, string) The high level structure of the file. Valid values are\n+`ndjson`, `xml`, `delimited`, and `semi_structured_text`. By default, the\n+structure finder chooses the format.  In this default scenario, all rows must", "originalCommit": "0fa2fbdd93cffaa1fedb77a9ce1173350147b3a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzMjk4MQ==", "url": "https://github.com/elastic/elasticsearch/pull/56288#discussion_r421032981", "bodyText": "Likewise, it seems like \"format determination\" is a phase in the tool's progress(?). Do we need to reference that level of detail or can we just refer to the tool/API at the high level?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            format determination tolerates up to 5% of rows that have a different number of\n          \n          \n            \n            the API tolerates up to 5% of rows that have a different number of", "author": "lcawl", "createdAt": "2020-05-06T19:18:41Z", "path": "docs/reference/ml/anomaly-detection/apis/find-file-structure.asciidoc", "diffHunk": "@@ -78,19 +78,26 @@ chosen.\n `delimiter`::\n   (Optional, string) If you have set `format` to `delimited`, you can specify\n   the character used to delimit the values in each row. Only a single character\n-  is supported; the delimiter cannot have multiple characters. If this parameter\n-  is not specified, the structure finder considers the following possibilities:\n-  comma, tab, semi-colon, and pipe (`|`).\n+  is supported; the delimiter cannot have multiple characters. By default, the\n+  API considers the following possibilities: comma, tab, semi-colon, and pipe\n+  (`|`). In this default scenario, all rows must have the same number of fields\n+  for the delimited format to be detected. If you specify a delimiter, up to 10%\n+  of the rows can have a different number of columns than the first row.\n \n `explain`::\n   (Optional, boolean) If this parameter is set to `true`, the response includes\n   a field named `explanation`, which is an array of strings that indicate how\n   the structure finder produced its result. The default value is `false`.\n \n `format`::\n-  (Optional, string) The high level structure of the file. Valid values are\n-  `ndjson`, `xml`, `delimited`, and `semi_structured_text`. If this parameter is\n-  not specified, the structure finder chooses one.\n+(Optional, string) The high level structure of the file. Valid values are\n+`ndjson`, `xml`, `delimited`, and `semi_structured_text`. By default, the\n+structure finder chooses the format.  In this default scenario, all rows must\n+have the same number of fields for a delimited format to be detected. If the\n+`format` is set to `delimited` and the `delimiter` is not set, however, the\n+format determination tolerates up to 5% of rows that have a different number of", "originalCommit": "0fa2fbdd93cffaa1fedb77a9ce1173350147b3a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzMzg2MA==", "url": "https://github.com/elastic/elasticsearch/pull/56288#discussion_r421033860", "bodyText": "Is it necessary to list the default delimiters again here?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            columns than the first row for each of the following possible delimiters:\n          \n          \n            \n            columns than the first row.", "author": "lcawl", "createdAt": "2020-05-06T19:20:13Z", "path": "docs/reference/ml/anomaly-detection/apis/find-file-structure.asciidoc", "diffHunk": "@@ -78,19 +78,26 @@ chosen.\n `delimiter`::\n   (Optional, string) If you have set `format` to `delimited`, you can specify\n   the character used to delimit the values in each row. Only a single character\n-  is supported; the delimiter cannot have multiple characters. If this parameter\n-  is not specified, the structure finder considers the following possibilities:\n-  comma, tab, semi-colon, and pipe (`|`).\n+  is supported; the delimiter cannot have multiple characters. By default, the\n+  API considers the following possibilities: comma, tab, semi-colon, and pipe\n+  (`|`). In this default scenario, all rows must have the same number of fields\n+  for the delimited format to be detected. If you specify a delimiter, up to 10%\n+  of the rows can have a different number of columns than the first row.\n \n `explain`::\n   (Optional, boolean) If this parameter is set to `true`, the response includes\n   a field named `explanation`, which is an array of strings that indicate how\n   the structure finder produced its result. The default value is `false`.\n \n `format`::\n-  (Optional, string) The high level structure of the file. Valid values are\n-  `ndjson`, `xml`, `delimited`, and `semi_structured_text`. If this parameter is\n-  not specified, the structure finder chooses one.\n+(Optional, string) The high level structure of the file. Valid values are\n+`ndjson`, `xml`, `delimited`, and `semi_structured_text`. By default, the\n+structure finder chooses the format.  In this default scenario, all rows must\n+have the same number of fields for a delimited format to be detected. If the\n+`format` is set to `delimited` and the `delimiter` is not set, however, the\n+format determination tolerates up to 5% of rows that have a different number of\n+columns than the first row for each of the following possible delimiters:", "originalCommit": "0fa2fbdd93cffaa1fedb77a9ce1173350147b3a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNDIzMA==", "url": "https://github.com/elastic/elasticsearch/pull/56288#discussion_r421034230", "bodyText": "If you accept my suggestion for the first half of this sentence, the remainder can be deleted:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            comma, tab, semi-colon, and pipe (`|`).", "author": "lcawl", "createdAt": "2020-05-06T19:20:53Z", "path": "docs/reference/ml/anomaly-detection/apis/find-file-structure.asciidoc", "diffHunk": "@@ -78,19 +78,26 @@ chosen.\n `delimiter`::\n   (Optional, string) If you have set `format` to `delimited`, you can specify\n   the character used to delimit the values in each row. Only a single character\n-  is supported; the delimiter cannot have multiple characters. If this parameter\n-  is not specified, the structure finder considers the following possibilities:\n-  comma, tab, semi-colon, and pipe (`|`).\n+  is supported; the delimiter cannot have multiple characters. By default, the\n+  API considers the following possibilities: comma, tab, semi-colon, and pipe\n+  (`|`). In this default scenario, all rows must have the same number of fields\n+  for the delimited format to be detected. If you specify a delimiter, up to 10%\n+  of the rows can have a different number of columns than the first row.\n \n `explain`::\n   (Optional, boolean) If this parameter is set to `true`, the response includes\n   a field named `explanation`, which is an array of strings that indicate how\n   the structure finder produced its result. The default value is `false`.\n \n `format`::\n-  (Optional, string) The high level structure of the file. Valid values are\n-  `ndjson`, `xml`, `delimited`, and `semi_structured_text`. If this parameter is\n-  not specified, the structure finder chooses one.\n+(Optional, string) The high level structure of the file. Valid values are\n+`ndjson`, `xml`, `delimited`, and `semi_structured_text`. By default, the\n+structure finder chooses the format.  In this default scenario, all rows must\n+have the same number of fields for a delimited format to be detected. If the\n+`format` is set to `delimited` and the `delimiter` is not set, however, the\n+format determination tolerates up to 5% of rows that have a different number of\n+columns than the first row for each of the following possible delimiters:\n+comma, tab, semi-colon, and pipe (`|`).", "originalCommit": "0fa2fbdd93cffaa1fedb77a9ce1173350147b3a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "50c1f7e7c8bc76d1bb7390fb19c342711677dd15", "url": "https://github.com/elastic/elasticsearch/commit/50c1f7e7c8bc76d1bb7390fb19c342711677dd15", "message": "Apply suggestions from code review\n\nCo-authored-by: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-05-07T10:14:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwNTI0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/56288#discussion_r424805246", "bodyText": "Removing duplicate \"the\"\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            the API tolerates up to 5% of rows that have a different number of\n          \n          \n            \n            API tolerates up to 5% of rows that have a different number of", "author": "lcawl", "createdAt": "2020-05-14T00:28:44Z", "path": "docs/reference/ml/anomaly-detection/apis/find-file-structure.asciidoc", "diffHunk": "@@ -78,19 +78,25 @@ chosen.\n `delimiter`::\n   (Optional, string) If you have set `format` to `delimited`, you can specify\n   the character used to delimit the values in each row. Only a single character\n-  is supported; the delimiter cannot have multiple characters. If this parameter\n-  is not specified, the structure finder considers the following possibilities:\n-  comma, tab, semi-colon, and pipe (`|`).\n+  is supported; the delimiter cannot have multiple characters. By default, the\n+  API considers the following possibilities: comma, tab, semi-colon, and pipe\n+  (`|`). In this default scenario, all rows must have the same number of fields\n+  for the delimited format to be detected. If you specify a delimiter, up to 10%\n+  of the rows can have a different number of columns than the first row.\n \n `explain`::\n   (Optional, boolean) If this parameter is set to `true`, the response includes\n   a field named `explanation`, which is an array of strings that indicate how\n   the structure finder produced its result. The default value is `false`.\n \n `format`::\n-  (Optional, string) The high level structure of the file. Valid values are\n-  `ndjson`, `xml`, `delimited`, and `semi_structured_text`. If this parameter is\n-  not specified, the structure finder chooses one.\n+(Optional, string) The high level structure of the file. Valid values are\n+`ndjson`, `xml`, `delimited`, and `semi_structured_text`. By default, the\n+API chooses the format. In this default scenario, all rows must\n+have the same number of fields for a delimited format to be detected. If the\n+`format` is set to `delimited` and the `delimiter` is not set, however, the\n+the API tolerates up to 5% of rows that have a different number of", "originalCommit": "50c1f7e7c8bc76d1bb7390fb19c342711677dd15", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "30e05d43b5c7e212f1247fe7584139be779d142f", "url": "https://github.com/elastic/elasticsearch/commit/30e05d43b5c7e212f1247fe7584139be779d142f", "message": "Update docs/reference/ml/anomaly-detection/apis/find-file-structure.asciidoc\n\nCo-authored-by: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-05-14T06:08:37Z", "type": "commit"}]}