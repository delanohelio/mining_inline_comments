{"pr_number": 63479, "pr_title": "Docs: sync breaking changes from release notes", "pr_createdAt": "2020-10-08T13:01:55Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/63479", "timeline": [{"oid": "6677159a55c7396f4aebc010fd6d84599a2b608f", "url": "https://github.com/elastic/elasticsearch/commit/6677159a55c7396f4aebc010fd6d84599a2b608f", "message": "Docs: sync breaking changes from release notes", "committedDate": "2020-10-08T12:58:39Z", "type": "commit"}, {"oid": "26283051131ce2d4c3576416980884af1978df39", "url": "https://github.com/elastic/elasticsearch/commit/26283051131ce2d4c3576416980884af1978df39", "message": "Reformat breaking changes", "committedDate": "2020-10-08T16:23:11Z", "type": "commit"}, {"oid": "d87f80cb926a0d11638d4544d628e51a140b573b", "url": "https://github.com/elastic/elasticsearch/commit/d87f80cb926a0d11638d4544d628e51a140b573b", "message": "Fix typo", "committedDate": "2020-10-08T16:25:01Z", "type": "commit"}, {"oid": "4f15fd1011ef42b84342ae3318541bdcdf8a9e45", "url": "https://github.com/elastic/elasticsearch/commit/4f15fd1011ef42b84342ae3318541bdcdf8a9e45", "message": "Fix heading", "committedDate": "2020-10-08T16:25:20Z", "type": "commit"}, {"oid": "ff9ab25a942a933bb0d30728aac9f0fa06378ca0", "url": "https://github.com/elastic/elasticsearch/commit/ff9ab25a942a933bb0d30728aac9f0fa06378ca0", "message": "Fix anchors and remove unneeded discrete tags", "committedDate": "2020-10-08T16:26:28Z", "type": "commit"}, {"oid": "6ea742c9030ceb0d32a00490212ec020478a99d6", "url": "https://github.com/elastic/elasticsearch/commit/6ea742c9030ceb0d32a00490212ec020478a99d6", "message": "Fix doc values section", "committedDate": "2020-10-08T16:30:16Z", "type": "commit"}, {"oid": "9d1a95e5d1f8d3b672f174111933fce064d110cd", "url": "https://github.com/elastic/elasticsearch/commit/9d1a95e5d1f8d3b672f174111933fce064d110cd", "message": "Fix mistakes", "committedDate": "2020-10-08T16:34:52Z", "type": "commit"}, {"oid": "ab5bd7e914eee99e91c4e08594951bb953ba3b1b", "url": "https://github.com/elastic/elasticsearch/commit/ab5bd7e914eee99e91c4e08594951bb953ba3b1b", "message": "Fix typo", "committedDate": "2020-10-08T16:40:21Z", "type": "commit"}, {"oid": "8a331074a0d6d08b65f86d50d1c5732d6e2b825e", "url": "https://github.com/elastic/elasticsearch/commit/8a331074a0d6d08b65f86d50d1c5732d6e2b825e", "message": "Reword", "committedDate": "2020-10-08T16:42:28Z", "type": "commit"}, {"oid": "336ffeb866657c0507a904dbb9a559d8c00432f6", "url": "https://github.com/elastic/elasticsearch/commit/336ffeb866657c0507a904dbb9a559d8c00432f6", "message": "Fix heading", "committedDate": "2020-10-08T16:43:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg1MTI2MQ==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501851261", "bodyText": "@javanna  Can you confirm this is the case? If Java users need to make a change to accommodate the new argument, I'd like to give them next steps here.", "author": "jrodewig", "createdAt": "2020-10-08T16:24:32Z", "path": "docs/reference/migration/migrate_7_10.asciidoc", "diffHunk": "@@ -18,54 +18,131 @@ See also <<release-highlights>> and <<es-release-notes>>.\n //tag::notable-breaking-changes[]\n \n [discrete]\n-[[breaking_710_search_changes]]\n-=== Search Changes\n+[[breaking_710_security_changes]]\n+=== Authentication changes\n \n [discrete]\n-==== Missing checks for `index.max_docvalue_fields_search`\n-The setting `index.max_docvalue_fields_search` limits the number of fields that\n-can be retrieved through `docvalue_fields` in a search. Previously we only\n-checked this limit when `docvalue_fields` appeared in the top-level search\n-request body. Now we also enforce the limit when loading doc value fields in\n-an `inner_hits` section or in a `top_hits` aggregation.\n+[[api-keys-require-name-property]]\n+.API keys now require a `name` property.\n+[%collapsible]\n+====\n+*Details* +\n+The `name` property is now required to create or grant an API key.\n \n-[discrete]\n-[[breaking_710_networking_changes]]\n-=== Networking Changes\n+[source,js]\n+----\n+{\n+    \"...\": \"...\",\n+    \"api_key\": {\n+      \"name\": \"key-1\"\n+    }\n+}\n+----\n+// NOTCONSOLE\n+\n+*Impact* +\n+To avoid errors, specify the `name` property when creating or granting API keys.\n+====\n \n [discrete]\n-==== *.tcp.keep_idle and *.tcp.keep_interval now bounded\n-The settings `{network,transport,http}.tcp.keep_idle` and\n-`{network,transport,http}.tcp.keep_interval` are now limited to a maximum\n-value of 300, which amounts to 5 minutes. This helps ensure that, if\n-explicitly configured, only reasonable values are set.\n+[[breaking_710_java_changes]]\n+==== Java changes\n \n-//end::notable-breaking-changes[]\n+[discrete]\n+==== Machine Learning: `allow_no_jobs` and `allow_no_datafeeds` deprecated in favor of `allow_no_match`\n+`allow_no_jobs` and `allow_no_datafeeds` API parameters are deprecated in favor\n+of `allow_no_match`. The old parameters are still accepted by the APIs but the\n+deprecation warning is emitted if the old parameter name is used in the request\n+body or as a request param.\n+High-level REST client classes will now send the new `allow_no_match` parameter.\n \n-.Repository Stats API is deprecated\n+[[supplier-searchlookup-arg]]\n+.The `MappedFieldType#fielddataBuilder` method now accepts a `Supplier<SearchLookup>` argument.\n [%collapsible]\n ====\n *Details* +\n-The Repository Stats API has been introduced in 7.8.0 as an experimental API\n-and was never released. This API is superseded by the <<repositories-metering-apis,Repositories Metering APIs>>\n-added in 7.10.0 which should be used instead. The Repository Stats API is\n-deprecated starting 7.10.0 and will be removed in 8.0.0.\n-\n+For future feature development, we added a `Supplier<SearchLookup>` argument to\n+the existing `MappedFieldType#fielddataBuilder` method.\n+ \n *Impact* +\n-Use the <<repositories-metering-apis,Repositories Metering APIs>>.\n+No action needed.", "originalCommit": "26283051131ce2d4c3576416980884af1978df39", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg4NzAyOQ==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501887029", "bodyText": "the change impacts plugin developers that plug in a custom field type, meaning that their impl most likely defines the fielddataBuilder method which has now a different signature. They will have to adapt the signature of the method they override, that's it. This is one of those breaking changes thats easily solvable thanks to the java compiler", "author": "javanna", "createdAt": "2020-10-08T17:23:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg1MTI2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMDk1NA==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501900954", "bodyText": "Thanks @javanna. I added some text to address. Let me know if I missed anything or left out an important detail.", "author": "jrodewig", "createdAt": "2020-10-08T17:45:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg1MTI2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg2MTkxOA==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501861918", "bodyText": "@lcawl Could you take a look at the content of this change and reformat?", "author": "jrodewig", "createdAt": "2020-10-08T16:41:37Z", "path": "docs/reference/migration/migrate_7_10.asciidoc", "diffHunk": "@@ -18,54 +18,131 @@ See also <<release-highlights>> and <<es-release-notes>>.\n //tag::notable-breaking-changes[]\n \n [discrete]\n-[[breaking_710_search_changes]]\n-=== Search Changes\n+[[breaking_710_security_changes]]\n+=== Authentication changes\n \n-[discrete]\n-==== Missing checks for `index.max_docvalue_fields_search`\n-The setting `index.max_docvalue_fields_search` limits the number of fields that\n-can be retrieved through `docvalue_fields` in a search. Previously we only\n-checked this limit when `docvalue_fields` appeared in the top-level search\n-request body. Now we also enforce the limit when loading doc value fields in\n-an `inner_hits` section or in a `top_hits` aggregation.\n+[[api-keys-require-name-property]]\n+.API keys now require a `name` property.\n+[%collapsible]\n+====\n+*Details* +\n+The `name` property is now required to create or grant an API key.\n \n-[discrete]\n-[[breaking_710_networking_changes]]\n-=== Networking Changes\n+[source,js]\n+----\n+{\n+    \"...\": \"...\",\n+    \"api_key\": {\n+      \"name\": \"key-1\"\n+    }\n+}\n+----\n+// NOTCONSOLE\n+\n+*Impact* +\n+To avoid errors, specify the `name` property when creating or granting API keys.\n+====\n \n [discrete]\n-==== *.tcp.keep_idle and *.tcp.keep_interval now bounded\n-The settings `{network,transport,http}.tcp.keep_idle` and\n-`{network,transport,http}.tcp.keep_interval` are now limited to a maximum\n-value of 300, which amounts to 5 minutes. This helps ensure that, if\n-explicitly configured, only reasonable values are set.\n+[[breaking_710_java_changes]]\n+==== Java changes\n \n-//end::notable-breaking-changes[]\n+[discrete]\n+==== Machine Learning: `allow_no_jobs` and `allow_no_datafeeds` deprecated in favor of `allow_no_match`\n+`allow_no_jobs` and `allow_no_datafeeds` API parameters are deprecated in favor\n+of `allow_no_match`. The old parameters are still accepted by the APIs but the\n+deprecation warning is emitted if the old parameter name is used in the request\n+body or as a request param.\n+High-level REST client classes will now send the new `allow_no_match` parameter.", "originalCommit": "ab5bd7e914eee99e91c4e08594951bb953ba3b1b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "53c7cfb6aacb5e34d8366773ea1275e2bc919a42", "url": "https://github.com/elastic/elasticsearch/commit/53c7cfb6aacb5e34d8366773ea1275e2bc919a42", "message": "Update java impact. Reword doc value fields.", "committedDate": "2020-10-08T17:40:29Z", "type": "commit"}, {"oid": "d5ee594239bc64738071fcf77f1c947075814b84", "url": "https://github.com/elastic/elasticsearch/commit/d5ee594239bc64738071fcf77f1c947075814b84", "message": "developing or maintaing", "committedDate": "2020-10-08T17:44:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMjU4OA==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501902588", "bodyText": "maybe we can be more precise and say \"if you implement a mapper plugin\" as not all plugins need to implement that method. But maybe it's too much, up to you :)", "author": "javanna", "createdAt": "2020-10-08T17:47:42Z", "path": "docs/reference/migration/migrate_7_10.asciidoc", "diffHunk": "@@ -18,54 +18,133 @@ See also <<release-highlights>> and <<es-release-notes>>.\n //tag::notable-breaking-changes[]\n \n [discrete]\n-[[breaking_710_search_changes]]\n-=== Search Changes\n+[[breaking_710_security_changes]]\n+=== Authentication changes\n \n-[discrete]\n-==== Missing checks for `index.max_docvalue_fields_search`\n-The setting `index.max_docvalue_fields_search` limits the number of fields that\n-can be retrieved through `docvalue_fields` in a search. Previously we only\n-checked this limit when `docvalue_fields` appeared in the top-level search\n-request body. Now we also enforce the limit when loading doc value fields in\n-an `inner_hits` section or in a `top_hits` aggregation.\n+[[api-keys-require-name-property]]\n+.API keys now require a `name` property.\n+[%collapsible]\n+====\n+*Details* +\n+The `name` property is now required to create or grant an API key.\n \n-[discrete]\n-[[breaking_710_networking_changes]]\n-=== Networking Changes\n+[source,js]\n+----\n+{\n+    \"...\": \"...\",\n+    \"api_key\": {\n+      \"name\": \"key-1\"\n+    }\n+}\n+----\n+// NOTCONSOLE\n+\n+*Impact* +\n+To avoid errors, specify the `name` property when creating or granting API keys.\n+====\n \n [discrete]\n-==== *.tcp.keep_idle and *.tcp.keep_interval now bounded\n-The settings `{network,transport,http}.tcp.keep_idle` and\n-`{network,transport,http}.tcp.keep_interval` are now limited to a maximum\n-value of 300, which amounts to 5 minutes. This helps ensure that, if\n-explicitly configured, only reasonable values are set.\n+[[breaking_710_java_changes]]\n+==== Java changes\n \n-//end::notable-breaking-changes[]\n+[discrete]\n+==== Machine Learning: `allow_no_jobs` and `allow_no_datafeeds` deprecated in favor of `allow_no_match`\n+`allow_no_jobs` and `allow_no_datafeeds` API parameters are deprecated in favor\n+of `allow_no_match`. The old parameters are still accepted by the APIs but the\n+deprecation warning is emitted if the old parameter name is used in the request\n+body or as a request param.\n+High-level REST client classes will now send the new `allow_no_match` parameter.\n \n-.Repository Stats API is deprecated\n+[[supplier-searchlookup-arg]]\n+.The `MappedFieldType#fielddataBuilder` method now accepts a `Supplier<SearchLookup>` argument.\n [%collapsible]\n ====\n *Details* +\n-The Repository Stats API has been introduced in 7.8.0 as an experimental API\n-and was never released. This API is superseded by the <<repositories-metering-apis,Repositories Metering APIs>>\n-added in 7.10.0 which should be used instead. The Repository Stats API is\n-deprecated starting 7.10.0 and will be removed in 8.0.0.\n-\n+To support future feature development, the existing\n+`MappedFieldType#fielddataBuilder` method now accepts a new\n+`Supplier<SearchLookup>` argument.\n+ \n *Impact* +\n-Use the <<repositories-metering-apis,Repositories Metering APIs>>.\n+If developing or maintaining an {es} plugin, update your implementation of the", "originalCommit": "d5ee594239bc64738071fcf77f1c947075814b84", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwNDQ4MQ==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501904481", "bodyText": "Thanks for the feedback! I updated to If you develop or maintain a mapper plugin,...", "author": "jrodewig", "createdAt": "2020-10-08T17:50:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMjU4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwNzMxMw==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r501907313", "bodyText": "thank you!", "author": "javanna", "createdAt": "2020-10-08T17:54:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkwMjU4OA=="}], "type": "inlineReview"}, {"oid": "b7843c1a1d75655325295693331e187dc16fa137", "url": "https://github.com/elastic/elasticsearch/commit/b7843c1a1d75655325295693331e187dc16fa137", "message": "clarify mapper plugin", "committedDate": "2020-10-08T17:50:13Z", "type": "commit"}, {"oid": "b08eeaeb655ea3b9bfc847a8159128c7c32f6490", "url": "https://github.com/elastic/elasticsearch/commit/b08eeaeb655ea3b9bfc847a8159128c7c32f6490", "message": "fix typo", "committedDate": "2020-10-08T18:06:58Z", "type": "commit"}, {"oid": "93ba8a5372d2bbae0151a4b61793d8156fe50386", "url": "https://github.com/elastic/elasticsearch/commit/93ba8a5372d2bbae0151a4b61793d8156fe50386", "message": "Add breaking change for REST API access to system indices", "committedDate": "2020-10-08T21:53:34Z", "type": "commit"}, {"oid": "ed6182c91e0a9f9bdab61a53ffcd8ca91ea9e75b", "url": "https://github.com/elastic/elasticsearch/commit/ed6182c91e0a9f9bdab61a53ffcd8ca91ea9e75b", "message": "Fix anchor", "committedDate": "2020-10-08T21:54:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjAzNDg3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r502034876", "bodyText": "CC @gwbrown", "author": "jrodewig", "createdAt": "2020-10-08T21:55:54Z", "path": "docs/reference/migration/migrate_7_10.asciidoc", "diffHunk": "@@ -18,54 +18,171 @@ See also <<release-highlights>> and <<es-release-notes>>.\n //tag::notable-breaking-changes[]\n \n [discrete]\n-[[breaking_710_search_changes]]\n-=== Search Changes\n+[[breaking_710_security_changes]]\n+=== Authentication changes\n \n-[discrete]\n-==== Missing checks for `index.max_docvalue_fields_search`\n-The setting `index.max_docvalue_fields_search` limits the number of fields that\n-can be retrieved through `docvalue_fields` in a search. Previously we only\n-checked this limit when `docvalue_fields` appeared in the top-level search\n-request body. Now we also enforce the limit when loading doc value fields in\n-an `inner_hits` section or in a `top_hits` aggregation.\n+[[api-keys-require-name-property]]\n+.API keys now require a `name` property.\n+[%collapsible]\n+====\n+*Details* +\n+The `name` property is now required to create or grant an API key.\n+\n+[source,js]\n+----\n+{\n+    \"...\": \"...\",\n+    \"api_key\": {\n+      \"name\": \"key-1\"\n+    }\n+}\n+----\n+// NOTCONSOLE\n+\n+*Impact* +\n+To avoid errors, specify the `name` property when creating or granting API keys.\n+====\n \n [discrete]\n-[[breaking_710_networking_changes]]\n-=== Networking Changes\n+[[breaking_710_indices_changes]]\n+==== Indices changes\n+\n+[[bc-deprecate-rest-api-access-to-system-indices]]\n+.REST API access to system indices is now deprecated.\n+[%collapsible]\n+====\n+*Details* +\n+We are deprecating REST API access to system indices. Most REST API requests\n+that attempt to access system indices will return the following deprecation\n+warning:\n+\n+[source,text]\n+----\n+this request accesses system indices: [.system_index_name], but in a future\n+major version, direct access to system indices will be prevented by default\n+----\n+\n+The following REST API endpoints access system indices as part of their\n+implementation and will not return the deprecation warning:\n+\n+* `GET _cluster/health`\n+* `GET {index}/_recovery`\n+* `GET _cluster/allocation/explain`\n+* `GET _cluster/state`\n+* `POST _cluster/reroute`\n+* `GET {index}/_stats`\n+* `GET {index}/_segments`\n+* `GET {index}/_shard_stores`\n+* `GET _cat/[indices,aliases,health,recovery,shards,segments]`\n+\n+*Impact* +\n+To avoid deprecation warnings, do not use unsupported REST APIs to access system\n+indices.\n+====", "originalCommit": "ed6182c91e0a9f9bdab61a53ffcd8ca91ea9e75b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "187fbc3cccfbcca6cd1c71fbdba731a59b77657c", "url": "https://github.com/elastic/elasticsearch/commit/187fbc3cccfbcca6cd1c71fbdba731a59b77657c", "message": "Remove unneeded word", "committedDate": "2020-10-09T23:46:28Z", "type": "commit"}, {"oid": "fac4241de3d007db7360ecf20142a8f2716c381e", "url": "https://github.com/elastic/elasticsearch/commit/fac4241de3d007db7360ecf20142a8f2716c381e", "message": "[DOCS] Reformatted ML breaking change", "committedDate": "2020-10-14T17:59:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5MDUyNw==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r504890527", "bodyText": "I think this should be a peer section to the Authentication section, not a child.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ==== Indices changes\n          \n          \n            \n            === Indices changes", "author": "lcawl", "createdAt": "2020-10-14T18:35:54Z", "path": "docs/reference/migration/migrate_7_10.asciidoc", "diffHunk": "@@ -18,54 +18,182 @@ See also <<release-highlights>> and <<es-release-notes>>.\n //tag::notable-breaking-changes[]\n \n [discrete]\n-[[breaking_710_search_changes]]\n-=== Search Changes\n+[[breaking_710_security_changes]]\n+=== Authentication changes\n \n-[discrete]\n-==== Missing checks for `index.max_docvalue_fields_search`\n-The setting `index.max_docvalue_fields_search` limits the number of fields that\n-can be retrieved through `docvalue_fields` in a search. Previously we only\n-checked this limit when `docvalue_fields` appeared in the top-level search\n-request body. Now we also enforce the limit when loading doc value fields in\n-an `inner_hits` section or in a `top_hits` aggregation.\n+[[api-keys-require-name-property]]\n+.API keys now require a `name` property.\n+[%collapsible]\n+====\n+*Details* +\n+The `name` property is now required to create or grant an API key.\n+\n+[source,js]\n+----\n+{\n+    \"...\": \"...\",\n+    \"api_key\": {\n+      \"name\": \"key-1\"\n+    }\n+}\n+----\n+// NOTCONSOLE\n+\n+*Impact* +\n+To avoid errors, specify the `name` property when creating or granting API keys.\n+====\n \n [discrete]\n-[[breaking_710_networking_changes]]\n-=== Networking Changes\n+[[breaking_710_indices_changes]]\n+==== Indices changes", "originalCommit": "fac4241de3d007db7360ecf20142a8f2716c381e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5MTAwNw==", "url": "https://github.com/elastic/elasticsearch/pull/63479#discussion_r504891007", "bodyText": "Likewise, I think this should be a peer section to the others.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ==== Java changes\n          \n          \n            \n            === Java changes", "author": "lcawl", "createdAt": "2020-10-14T18:36:47Z", "path": "docs/reference/migration/migrate_7_10.asciidoc", "diffHunk": "@@ -18,54 +18,182 @@ See also <<release-highlights>> and <<es-release-notes>>.\n //tag::notable-breaking-changes[]\n \n [discrete]\n-[[breaking_710_search_changes]]\n-=== Search Changes\n+[[breaking_710_security_changes]]\n+=== Authentication changes\n \n-[discrete]\n-==== Missing checks for `index.max_docvalue_fields_search`\n-The setting `index.max_docvalue_fields_search` limits the number of fields that\n-can be retrieved through `docvalue_fields` in a search. Previously we only\n-checked this limit when `docvalue_fields` appeared in the top-level search\n-request body. Now we also enforce the limit when loading doc value fields in\n-an `inner_hits` section or in a `top_hits` aggregation.\n+[[api-keys-require-name-property]]\n+.API keys now require a `name` property.\n+[%collapsible]\n+====\n+*Details* +\n+The `name` property is now required to create or grant an API key.\n+\n+[source,js]\n+----\n+{\n+    \"...\": \"...\",\n+    \"api_key\": {\n+      \"name\": \"key-1\"\n+    }\n+}\n+----\n+// NOTCONSOLE\n+\n+*Impact* +\n+To avoid errors, specify the `name` property when creating or granting API keys.\n+====\n \n [discrete]\n-[[breaking_710_networking_changes]]\n-=== Networking Changes\n+[[breaking_710_indices_changes]]\n+==== Indices changes\n+\n+[[bc-deprecate-rest-api-access-to-system-indices]]\n+.REST API access to system indices is deprecated.\n+[%collapsible]\n+====\n+*Details* +\n+We are deprecating REST API access to system indices. Most REST API requests\n+that attempt to access system indices will return the following deprecation\n+warning:\n+\n+[source,text]\n+----\n+this request accesses system indices: [.system_index_name], but in a future\n+major version, direct access to system indices will be prevented by default\n+----\n+\n+The following REST API endpoints access system indices as part of their\n+implementation and will not return the deprecation warning:\n+\n+* `GET _cluster/health`\n+* `GET {index}/_recovery`\n+* `GET _cluster/allocation/explain`\n+* `GET _cluster/state`\n+* `POST _cluster/reroute`\n+* `GET {index}/_stats`\n+* `GET {index}/_segments`\n+* `GET {index}/_shard_stores`\n+* `GET _cat/[indices,aliases,health,recovery,shards,segments]`\n+\n+*Impact* +\n+To avoid deprecation warnings, do not use unsupported REST APIs to access system\n+indices.\n+====\n+\n \n [discrete]\n-==== *.tcp.keep_idle and *.tcp.keep_interval now bounded\n-The settings `{network,transport,http}.tcp.keep_idle` and\n-`{network,transport,http}.tcp.keep_interval` are now limited to a maximum\n-value of 300, which amounts to 5 minutes. This helps ensure that, if\n-explicitly configured, only reasonable values are set.\n+[[breaking_710_java_changes]]\n+==== Java changes", "originalCommit": "fac4241de3d007db7360ecf20142a8f2716c381e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "917530ccb9880f22d435f0161ca53ed6ffaa91ca", "url": "https://github.com/elastic/elasticsearch/commit/917530ccb9880f22d435f0161ca53ed6ffaa91ca", "message": "Apply suggestions from code review\n\nCo-authored-by: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-10-14T18:41:40Z", "type": "commit"}]}