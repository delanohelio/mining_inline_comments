{"pr_number": 66139, "pr_title": "move rollup_index param out of RollupActionConfig", "pr_createdAt": "2020-12-09T22:44:19Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/66139", "timeline": [{"oid": "156fc648f9126503c1dfb0b9d60eb612153c19a4", "url": "https://github.com/elastic/elasticsearch/commit/156fc648f9126503c1dfb0b9d60eb612153c19a4", "message": "move rollup_index param out of RollupActionConfig\n\nThis commit moves the ownership of tracking the rollup_index from\nthe RollupActionConfig to the RollupAction.Request.\n\nThis is cleaner since the config should not be concerned with the\nsource and rollup indices.\n\nrelates #42720.", "committedDate": "2020-12-09T23:36:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTc2MDk5Mw==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r539760993", "bodyText": "figured I'd ping you @jrodewig because of this docs change :)\nalso, more generally, wasn't sure what the deal with the + is", "author": "talevy", "createdAt": "2020-12-10T00:53:40Z", "path": "docs/reference/rollup/apis/rollup-api.asciidoc", "diffHunk": "@@ -61,15 +60,15 @@ Index to roll up. Cannot be a <<data-streams,data stream>> or\n <<indices-aliases,index alias>>. Does not support <<multi-index,multi-target\n syntax>> or wildcards (`*`).\n \n-[role=\"child_attributes\"]\n-[[rollup-api-request-body]]\n-==== {api-request-body-title}\n-\n `rollup_index`::\n (Required, string)\n New index that stores the rollup results. Cannot be an existing index,\n a <<data-streams,data stream>>, or an <<indices-aliases,index alias>>.\n-+\n+\n+[role=\"child_attributes\"]\n+[[rollup-api-request-body]]\n+==== {api-request-body-title}\n+", "originalCommit": "156fc648f9126503c1dfb0b9d60eb612153c19a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE1OTkyMA==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r540159920", "bodyText": "Thanks for the ping @talevy. The + includes the other paragraph in the <rollup_index> def.\nI pushed 4d0fa5a to relocate the para and make some other minor fixes. However, this looks great overall!", "author": "jrodewig", "createdAt": "2020-12-10T13:16:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTc2MDk5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI3NTA2Mg==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r540275062", "bodyText": "awesome. appreciate the fixes \ud83d\udcaf !", "author": "talevy", "createdAt": "2020-12-10T15:44:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTc2MDk5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQyODE0Nw==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r542428147", "bodyText": "nit: Maybe this should be PUT /<index>/_rollup/<rollup-index>\nuse a - instead of _ for consistency with the rest of the docs (I was looking at roll-over docs)", "author": "csoulios", "createdAt": "2020-12-14T14:30:33Z", "path": "docs/reference/rollup/apis/rollup-api.asciidoc", "diffHunk": "@@ -44,7 +43,7 @@ POST /my-index-000001/_rollup\n [[rollup-api-request]]\n ==== {api-request-title}\n \n-`PUT /<index>/_rollup`\n+`PUT /<index>/_rollup/<rollup_index>`", "originalCommit": "eabff4308f1e837557e96cecd434c67c9d25c131", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQzMDcxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r542430715", "bodyText": "Good call. I've fixed this up with efd2db0.", "author": "jrodewig", "createdAt": "2020-12-14T14:34:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQyODE0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQyOTg5MQ==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r542429891", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            increase the size of your `<rollup_index>`.\n          \n          \n            \n            increase the size of your `<rollup-index>`.", "author": "jrodewig", "createdAt": "2020-12-14T14:32:54Z", "path": "docs/reference/rollup/apis/rollup-api.asciidoc", "diffHunk": "@@ -147,7 +146,7 @@ Array of <<keyword,keyword family>> and <<number,numeric>> fields to store. If\n you specify a `terms` object, this property is required.\n +\n TIP: Avoid storing high-cardinality fields. High-cardinality fields can greatly\n-increase the size of your `rollup_index`.\n+increase the size of your `<rollup_index>`.", "originalCommit": "eabff4308f1e837557e96cecd434c67c9d25c131", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQyOTkzMA==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r542429930", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `<rollup_index>`.\n          \n          \n            \n            `<rollup-index>`.", "author": "jrodewig", "createdAt": "2020-12-14T14:32:58Z", "path": "docs/reference/rollup/apis/rollup-api.asciidoc", "diffHunk": "@@ -105,7 +104,7 @@ Time interval used to group documents. For differences between\n TIP: Choose this value carefully. You won't be able to use a smaller interval\n later. For example, you can't aggregate daily rollups into hourly\n summaries. However, smaller time intervals can greatly increase the size of your\n-`rollup_index`.\n+`<rollup_index>`.", "originalCommit": "eabff4308f1e837557e96cecd434c67c9d25c131", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQyOTk1OQ==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r542429959", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `<rollup_index>`::\n          \n          \n            \n            `<rollup-index>`::", "author": "jrodewig", "createdAt": "2020-12-14T14:33:00Z", "path": "docs/reference/rollup/apis/rollup-api.asciidoc", "diffHunk": "@@ -61,11 +60,7 @@ Index to roll up. Cannot be a <<data-streams,data stream>> or\n <<indices-aliases,index alias>>. Does not support <<multi-index,multi-target\n syntax>> or wildcards (`*`).\n \n-[role=\"child_attributes\"]\n-[[rollup-api-request-body]]\n-==== {api-request-body-title}\n-\n-`rollup_index`::\n+`<rollup_index>`::", "originalCommit": "eabff4308f1e837557e96cecd434c67c9d25c131", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQyOTk4Ng==", "url": "https://github.com/elastic/elasticsearch/pull/66139#discussion_r542429986", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `PUT /<index>/_rollup/<rollup_index>`\n          \n          \n            \n            `PUT /<index>/_rollup/<rollup-index>`", "author": "jrodewig", "createdAt": "2020-12-14T14:33:01Z", "path": "docs/reference/rollup/apis/rollup-api.asciidoc", "diffHunk": "@@ -44,7 +43,7 @@ POST /my-index-000001/_rollup\n [[rollup-api-request]]\n ==== {api-request-title}\n \n-`PUT /<index>/_rollup`\n+`PUT /<index>/_rollup/<rollup_index>`", "originalCommit": "eabff4308f1e837557e96cecd434c67c9d25c131", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5d3a641bc679534534c45186f1a5481176f5cec4", "url": "https://github.com/elastic/elasticsearch/commit/5d3a641bc679534534c45186f1a5481176f5cec4", "message": "move rollup_index param out of RollupActionConfig\n\nThis commit moves the ownership of tracking the rollup_index from\nthe RollupActionConfig to the RollupAction.Request.\n\nThis is cleaner since the config should not be concerned with the\nsource and rollup indices.\n\nrelates #42720.", "committedDate": "2020-12-14T17:41:26Z", "type": "commit"}, {"oid": "a3f2f42b3e72a3874c1dc99513c292967a53c70c", "url": "https://github.com/elastic/elasticsearch/commit/a3f2f42b3e72a3874c1dc99513c292967a53c70c", "message": "[DOCS] Fix up request param", "committedDate": "2020-12-14T17:41:52Z", "type": "commit"}, {"oid": "e39650f01c631a3ea351db9d02f7397054b27f9d", "url": "https://github.com/elastic/elasticsearch/commit/e39650f01c631a3ea351db9d02f7397054b27f9d", "message": "Fix rollup index mentions", "committedDate": "2020-12-14T17:41:58Z", "type": "commit"}, {"oid": "6e228d8762d39696dd56d0439b4f97bc8bef6532", "url": "https://github.com/elastic/elasticsearch/commit/6e228d8762d39696dd56d0439b4f97bc8bef6532", "message": "Change `<rollup_index>` to `<rollup-index>`", "committedDate": "2020-12-14T17:42:04Z", "type": "commit"}, {"oid": "66e69402376cc4dbeff5eb7cf416ebd513cf0920", "url": "https://github.com/elastic/elasticsearch/commit/66e69402376cc4dbeff5eb7cf416ebd513cf0920", "message": "rename rollup_index param to rollup-index in code", "committedDate": "2020-12-14T17:42:14Z", "type": "commit"}, {"oid": "66e69402376cc4dbeff5eb7cf416ebd513cf0920", "url": "https://github.com/elastic/elasticsearch/commit/66e69402376cc4dbeff5eb7cf416ebd513cf0920", "message": "rename rollup_index param to rollup-index in code", "committedDate": "2020-12-14T17:42:14Z", "type": "forcePushed"}, {"oid": "aabd2bce289c0dcc129346814635a22467b2b7c0", "url": "https://github.com/elastic/elasticsearch/commit/aabd2bce289c0dcc129346814635a22467b2b7c0", "message": "Revert \"rename rollup_index param to rollup-index in code\"\n\nThis reverts commit 66e69402376cc4dbeff5eb7cf416ebd513cf0920.", "committedDate": "2020-12-14T17:47:21Z", "type": "commit"}]}