{"pr_number": 53103, "pr_title": "[DOCS] Makes the description clearer on how to use aggregations in an anomaly detection job", "pr_createdAt": "2020-03-04T13:04:22Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/53103", "timeline": [{"oid": "9e5f668720c1ed3b07f7b5c00036a3ab97db1be8", "url": "https://github.com/elastic/elasticsearch/commit/9e5f668720c1ed3b07f7b5c00036a3ab97db1be8", "message": "[DOCS] Makes clearer the description on how to use aggregations in an anomaly detection job.", "committedDate": "2020-03-04T13:03:05Z", "type": "commit"}, {"oid": "add3698a32e6af22dc2fe1fd59879e24879d1221", "url": "https://github.com/elastic/elasticsearch/commit/add3698a32e6af22dc2fe1fd59879e24879d1221", "message": "[DOCS] Moves the explanation at the top of the page.", "committedDate": "2020-03-04T13:32:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgyMzc1Mw==", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r387823753", "bodyText": "These seem like quite detailed requirements and I'd expect them to appear lower in the page where we're actually providing implementation examples. For example:\n\nThe aggregation you create... the field it operates on.\n\nI'd suggest putting this right near (or as a footnote on) the PUT _ml/datafeeds/datafeed-farequote example.\n\nThe job analyzes only the fields that you provide in the configuration.\n\nI'd suggest putting this right near (or as a footnote on) the PUT _ml/anomaly_detectors/farequote example.", "author": "lcawl", "createdAt": "2020-03-04T17:35:35Z", "path": "docs/reference/ml/anomaly-detection/aggregations.asciidoc", "diffHunk": "@@ -11,6 +11,11 @@ distributes these calculations across your cluster. You can then feed this\n aggregated data into the {ml-features} instead of raw results, which\n reduces the volume of data that must be considered while detecting anomalies.\n \n+The aggregation you create in a {dfeed} needs to have the same name as that of ", "originalCommit": "add3698a32e6af22dc2fe1fd59879e24879d1221", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2NTc3NA==", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r388365774", "bodyText": "Thanks! I moved the explanation to the implementation examples as suggested.", "author": "szabosteve", "createdAt": "2020-03-05T15:25:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgyMzc1Mw=="}], "type": "inlineReview"}, {"oid": "60599bb41c511f8029c1f6d8c92fd6a4a2834f69", "url": "https://github.com/elastic/elasticsearch/commit/60599bb41c511f8029c1f6d8c92fd6a4a2834f69", "message": "[DOCS] Moves the explanation to the examples.", "committedDate": "2020-03-05T09:40:48Z", "type": "commit"}, {"oid": "5f560e1a5f6218a5be38c2b865fec911a5925a08", "url": "https://github.com/elastic/elasticsearch/commit/5f560e1a5f6218a5be38c2b865fec911a5925a08", "message": "[DOCS] Adds callouts to ML aggregations example", "committedDate": "2020-03-05T21:46:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MDkzNw==", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r388590937", "bodyText": "Is this really mandatory?  The subsequent \"IMPORTANT\" note seems to imply it's optional.\n\nThe aggregation you create in a {dfeed} needs to have the same name as that of ...", "author": "lcawl", "createdAt": "2020-03-05T21:57:16Z", "path": "docs/reference/ml/anomaly-detection/aggregations.asciidoc", "diffHunk": "@@ -111,6 +116,11 @@ field is also `time`. The same is true for the aggregations with the names\n create the {dfeed}, synchronizing your aggregation and field names can simplify\n these configuration steps.\n \n+****\n+The aggregation you create in a {dfeed} needs to have the same name as that of ", "originalCommit": "60599bb41c511f8029c1f6d8c92fd6a4a2834f69", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc0MDY2MQ==", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r388740661", "bodyText": "@dimitris-athanasiou Can we have your input here, please?\nThe new piece says that the aggregation name should be the same as the field name, while the IMPORTANT note says \"if the aggregation name doesn't match the field name, there are limitations in the drill-down functionality within the {ml} page...\". Based on this sentence, matching names are not mandatory.", "author": "szabosteve", "createdAt": "2020-03-06T07:01:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MDkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODgzNzkyOA==", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r388837928", "bodyText": "It does not need to. For example, a user might set an aggregation that is then used by a pipeline aggregation. However, only the ones that have names that match the job configuration will be fed to the job.", "author": "dimitris-athanasiou", "createdAt": "2020-03-06T10:54:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MDkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIxMTgzNA==", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r389211834", "bodyText": "I've drafted alternative text for the \"IMPORTANT\" clause.  If that's still not quite correct, please just let us know, @dimitris-athanasiou. Thanks!", "author": "lcawl", "createdAt": "2020-03-07T01:15:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MDkzNw=="}], "type": "inlineReview"}, {"oid": "1cec7acfc637c56eee7fcd696efb7fb33d3f5ac4", "url": "https://github.com/elastic/elasticsearch/commit/1cec7acfc637c56eee7fcd696efb7fb33d3f5ac4", "message": "Merge pull request #3 from lcawl/footnotes\n\n[DOCS] Adds callouts to ML aggregations example", "committedDate": "2020-03-06T09:41:21Z", "type": "commit"}, {"oid": "f8dc0c32701e05591cc459dd1fec558e7705472d", "url": "https://github.com/elastic/elasticsearch/commit/f8dc0c32701e05591cc459dd1fec558e7705472d", "message": "[DOCS] Removes unnecessary text.", "committedDate": "2020-03-06T10:44:16Z", "type": "commit"}, {"oid": "e5e3266b24e7777cd0a7f933617bde84523776a4", "url": "https://github.com/elastic/elasticsearch/commit/e5e3266b24e7777cd0a7f933617bde84523776a4", "message": "[DOCS] Fixes format of callouts", "committedDate": "2020-03-06T17:26:59Z", "type": "commit"}, {"oid": "8cd6c9f77e1efc8f3f84e4beedf446b718430665", "url": "https://github.com/elastic/elasticsearch/commit/8cd6c9f77e1efc8f3f84e4beedf446b718430665", "message": "[DOCS] Clarifies aggregation name requirements", "committedDate": "2020-03-07T01:14:10Z", "type": "commit"}]}