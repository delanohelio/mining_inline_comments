{"pr_number": 54300, "pr_title": "[Transform] fixing naming in HLRC and _cat to match API content", "pr_createdAt": "2020-03-26T19:15:19Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/54300", "timeline": [{"oid": "19e5486808e192e69c407221e73f5ee9af2f88d6", "url": "https://github.com/elastic/elasticsearch/commit/19e5486808e192e69c407221e73f5ee9af2f88d6", "message": "[Transform] fixing naming in HLRC and _cat to match API content", "committedDate": "2020-03-26T19:23:19Z", "type": "commit"}, {"oid": "19e5486808e192e69c407221e73f5ee9af2f88d6", "url": "https://github.com/elastic/elasticsearch/commit/19e5486808e192e69c407221e73f5ee9af2f88d6", "message": "[Transform] fixing naming in HLRC and _cat to match API content", "committedDate": "2020-03-26T19:23:19Z", "type": "forcePushed"}, {"oid": "1694e3e0f88d3fa08c369ec7679dccd5ecd7a382", "url": "https://github.com/elastic/elasticsearch/commit/1694e3e0f88d3fa08c369ec7679dccd5ecd7a382", "message": "Merge branch 'master' into feature/transform-unify-stats-naming", "committedDate": "2020-03-26T19:45:15Z", "type": "commit"}, {"oid": "29986697b39b77e532f9e69f06875b287eb6b673", "url": "https://github.com/elastic/elasticsearch/commit/29986697b39b77e532f9e69f06875b287eb6b673", "message": "[DOCS] Updates cat transforms API", "committedDate": "2020-03-26T20:53:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NTk0Mg==", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r398885942", "bodyText": "processing_time_in_ms\n\nDoes this mean we need to add this property to the stats object in https://www.elastic.co/guide/en/elasticsearch/reference/master/get-transform-stats.html ?", "author": "lcawl", "createdAt": "2020-03-26T20:55:51Z", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");", "originalCommit": "29986697b39b77e532f9e69f06875b287eb6b673", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE5MDY1OQ==", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399190659", "bodyText": "Sorry, that's my fault. In #53770 I added processing_time_in_ms and processing_total.\nThe 2 are counterparts of the search and index one:\nThe amount of time processing results, in milliseconds.\nThe number of processing operations.\nThis is basically what happens between search and index and shows the time/load the transform task itself used.", "author": "hendrikmuhs", "createdAt": "2020-03-27T11:11:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1OTI2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399559263", "bodyText": "Thanks, I've created #54368 to add those.", "author": "lcawl", "createdAt": "2020-03-27T22:04:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NTk0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjY4NA==", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r398886684", "bodyText": "processing_total\n\nThis also doesn't appear in https://www.elastic.co/guide/en/elasticsearch/reference/master/get-transform-stats.html\nShould it?", "author": "lcawl", "createdAt": "2020-03-26T20:57:14Z", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");\n+    static ParseField INDEX_TOTAL = new ParseField(\"index_total\");\n+    static ParseField SEARCH_TOTAL = new ParseField(\"search_total\");\n+    static ParseField PROCESSING_TOTAL = new ParseField(\"processing_total\");", "originalCommit": "29986697b39b77e532f9e69f06875b287eb6b673", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE5NjQ1OA==", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399196458", "bodyText": "i think it should be in stats. I am not 100% sure it should be in the _cat API though. Right now processing times are so small that they are pretty insignificant.", "author": "benwtrent", "createdAt": "2020-03-27T11:22:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjY4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1OTM3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399559371", "bodyText": "Likewise this will be fixed in #54368", "author": "lcawl", "createdAt": "2020-03-27T22:04:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjY4NA=="}], "type": "inlineReview"}, {"oid": "6f8751ae94edb912a074064a3bea0cb621bdd40f", "url": "https://github.com/elastic/elasticsearch/commit/6f8751ae94edb912a074064a3bea0cb621bdd40f", "message": "Merge branch 'master' into feature/transform-unify-stats-naming", "committedDate": "2020-03-27T11:24:04Z", "type": "commit"}]}