{"pr_number": 50732, "pr_title": "[DOCS] Forms role and privilege requirements as bulleted lists in DFA API docs", "pr_createdAt": "2020-01-08T10:26:37Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/50732", "timeline": [{"oid": "79d2ccabbd9cd43962429073d6fbc5da09b14f01", "url": "https://github.com/elastic/elasticsearch/commit/79d2ccabbd9cd43962429073d6fbc5da09b14f01", "message": "[DOCS] Forms role and privilege requirements as bulleted lists in DFA API docs.", "committedDate": "2020-01-08T10:22:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NTcwNQ==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364575705", "bodyText": "I think it would be clearer to have a more complete phrase, without compromising the simplicity of the bulleted list. For example:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required build-in roles:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following built-in roles or equivalent privileges:\n          \n      \n    \n    \n  \n\nIf you accept this change, it would apply to all other updated files too.  And we can synch the formatting of the other ML APIs too (in a separate PR).", "author": "lcawl", "createdAt": "2020-01-09T06:26:29Z", "path": "docs/reference/ml/df-analytics/apis/delete-dfanalytics.asciidoc", "diffHunk": "@@ -21,8 +21,12 @@ experimental[]\n [[ml-delete-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. For more\n-information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:", "originalCommit": "79d2ccabbd9cd43962429073d6fbc5da09b14f01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyODg5Nw==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364628897", "bodyText": "@lcawl Thanks, I accepted the change and applied it to the rest of the files in the following manner:\nIf the API requires only built-in roles:\nIf the {es} {security-features} are enabled, you must have the following built-in roles or equivalent privileges:\n\n(bulleted list of built-in roles)\n\nIf the API requires only privileges:\nIf the {es} {security-features} are enabled, you must have the following privileges:\n\n(bulleted list of privileges)\n\nIf the API requires both build-in roles and privileges:\nIf the {es} {security-features} are enabled, you must have the following built-in roles and privileges:\n\n\n(bulleted list of build-in roles)\n\n\n(bulleted list of privileges)", "author": "szabosteve", "createdAt": "2020-01-09T09:16:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NTcwNQ=="}], "type": "inlineReview"}, {"oid": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "url": "https://github.com/elastic/elasticsearch/commit/9bd8691b4a9db5d0053939abe8d1d30533219bf1", "message": "Update docs/reference/ml/df-analytics/apis/delete-dfanalytics.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-01-09T08:55:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMDExMg==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364620112", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required build-in roles:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following built-in roles or equivalent privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:55:46Z", "path": "docs/reference/ml/df-analytics/apis/delete-inference-trained-model.asciidoc", "diffHunk": "@@ -22,8 +22,12 @@ experimental[]\n [[ml-delete-inference-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. For more \n-information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMDMzNQ==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364620335", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:56:19Z", "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -22,8 +22,11 @@ experimental[]\n [[ml-evaluate-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `monitor_ml` privilege to use this API. For more \n-information, see <<security-privileges>> and <<built-in-roles>>.\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMDc2Mg==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364620762", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:57:21Z", "path": "docs/reference/ml/df-analytics/apis/explain-dfanalytics.asciidoc", "diffHunk": "@@ -28,8 +28,11 @@ experimental[]\n [[ml-explain-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `monitor_ml` privilege to use this API. For more\n-information, see <<security-privileges>> and <<built-in-roles>>.\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMDg2Ng==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364620866", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:57:36Z", "path": "docs/reference/ml/df-analytics/apis/get-dfanalytics-stats.asciidoc", "diffHunk": "@@ -28,8 +28,11 @@ experimental[]\n [[ml-get-dfanalytics-stats-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `monitor_ml` privilege to use this API. For more \n-information, see <<security-privileges>> and <<built-in-roles>>.\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMDk4NQ==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364620985", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:57:52Z", "path": "docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc", "diffHunk": "@@ -27,8 +27,11 @@ experimental[]\n [[ml-get-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `monitor_ml` privilege to use this API. For more information, \n-see <<security-privileges>> and <<built-in-roles>>.\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMTEwOQ==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364621109", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:58:07Z", "path": "docs/reference/ml/df-analytics/apis/get-inference-trained-model-stats.asciidoc", "diffHunk": "@@ -29,8 +29,11 @@ experimental[]\n [[ml-get-inference-stats-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `monitor_ml` privilege to use this API. For more information, \n-see <<security-privileges>> and <<built-in-roles>>.\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMTIwMg==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364621202", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T08:58:23Z", "path": "docs/reference/ml/df-analytics/apis/get-inference-trained-model.asciidoc", "diffHunk": "@@ -29,8 +29,11 @@ experimental[]\n [[ml-get-inference-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `monitor_ml` privilege to use this API. For more information, \n-see <<security-privileges>> and <<built-in-roles>>.\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyMjU1Mw==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364622553", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If the {es} {security-features} are enabled, you must have the following built-in roles or equivalent privileges:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following privileges:", "author": "szabosteve", "createdAt": "2020-01-09T09:01:39Z", "path": "docs/reference/ml/df-analytics/apis/delete-dfanalytics.asciidoc", "diffHunk": "@@ -21,8 +21,12 @@ experimental[]\n [[ml-delete-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. For more\n-information, see <<security-privileges>> and <<built-in-roles>>.\n+If the {es} {security-features} are enabled, you must have the following built-in roles or equivalent privileges:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyNDMzMA==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364624330", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required build-in roles:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following built-in roles and privileges:", "author": "szabosteve", "createdAt": "2020-01-09T09:06:07Z", "path": "docs/reference/ml/df-analytics/apis/put-dfanalytics.asciidoc", "diffHunk": "@@ -20,10 +20,18 @@ experimental[]\n [[ml-put-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. You must \n-also have `read` and `view_index_metadata` privileges on the source index and \n-`read`, `create_index`, and `index` privileges on the destination index. For \n-more information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyNDM4NA==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364624384", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:", "author": "szabosteve", "createdAt": "2020-01-09T09:06:16Z", "path": "docs/reference/ml/df-analytics/apis/put-dfanalytics.asciidoc", "diffHunk": "@@ -20,10 +20,18 @@ experimental[]\n [[ml-put-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. You must \n-also have `read` and `view_index_metadata` privileges on the source index and \n-`read`, `create_index`, and `index` privileges on the destination index. For \n-more information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:\n+\n+* `machine_learning_admin`\n+* `kibana_user` (UI only)\n+\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyNDYwNw==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364624607", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required build-in roles:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following built-in roles and privileges:", "author": "szabosteve", "createdAt": "2020-01-09T09:06:47Z", "path": "docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "diffHunk": "@@ -20,10 +20,19 @@ experimental[]\n [[ml-start-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. You must \n-also have `read` and `view_index_metadata` privileges on the source index and \n-`read`, `create_index`, and `index` privileges on the destination index. For \n-more information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyNDY5Mw==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364624693", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required privileges which should be added to a custom role:", "author": "szabosteve", "createdAt": "2020-01-09T09:06:57Z", "path": "docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "diffHunk": "@@ -20,10 +20,19 @@ experimental[]\n [[ml-start-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. You must \n-also have `read` and `view_index_metadata` privileges on the source index and \n-`read`, `create_index`, and `index` privileges on the destination index. For \n-more information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:\n+\n+* `machine_learning_admin`\n+* `kibana_user` (UI only)\n+\n+Required privileges which should be added to a custom role:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYyNTA1Nw==", "url": "https://github.com/elastic/elasticsearch/pull/50732#discussion_r364625057", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Required build-in roles:\n          \n          \n            \n            If the {es} {security-features} are enabled, you must have the following built-in roles or equivalent privileges:", "author": "szabosteve", "createdAt": "2020-01-09T09:07:52Z", "path": "docs/reference/ml/df-analytics/apis/stop-dfanalytics.asciidoc", "diffHunk": "@@ -24,8 +24,13 @@ experimental[]\n [[ml-stop-dfanalytics-prereq]]\n ==== {api-prereq-title}\n \n-* You must have `machine_learning_admin` built-in role to use this API. For more \n-information, see <<security-privileges>> and <<built-in-roles>>.\n+Required build-in roles:", "originalCommit": "9bd8691b4a9db5d0053939abe8d1d30533219bf1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0c0455e10f0ed93649d2af055140494c03f28033", "url": "https://github.com/elastic/elasticsearch/commit/0c0455e10f0ed93649d2af055140494c03f28033", "message": "Update docs/reference/ml/df-analytics/apis/delete-inference-trained-model.asciidoc", "committedDate": "2020-01-09T09:08:53Z", "type": "commit"}, {"oid": "f7e29c955dc8ec04883afc7d3d8d87995407cce9", "url": "https://github.com/elastic/elasticsearch/commit/f7e29c955dc8ec04883afc7d3d8d87995407cce9", "message": "Update docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:09:08Z", "type": "commit"}, {"oid": "8644c415f379a9615de77588b8af9e2fa15668de", "url": "https://github.com/elastic/elasticsearch/commit/8644c415f379a9615de77588b8af9e2fa15668de", "message": "Update docs/reference/ml/df-analytics/apis/explain-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:09:30Z", "type": "commit"}, {"oid": "1007f8d323759ec9e18ce3d76de4d0d4c8bf703c", "url": "https://github.com/elastic/elasticsearch/commit/1007f8d323759ec9e18ce3d76de4d0d4c8bf703c", "message": "Update docs/reference/ml/df-analytics/apis/get-dfanalytics-stats.asciidoc", "committedDate": "2020-01-09T09:12:43Z", "type": "commit"}, {"oid": "e20e7c37a944f5409ab1e1040c2e6d2a8f101c73", "url": "https://github.com/elastic/elasticsearch/commit/e20e7c37a944f5409ab1e1040c2e6d2a8f101c73", "message": "Update docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:17:16Z", "type": "commit"}, {"oid": "df568c3b225437514a3958aab325cb45d2ab1273", "url": "https://github.com/elastic/elasticsearch/commit/df568c3b225437514a3958aab325cb45d2ab1273", "message": "Update docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:17:24Z", "type": "commit"}, {"oid": "1675660540f829e4c5f4c8d5fd4e3350344b2e3c", "url": "https://github.com/elastic/elasticsearch/commit/1675660540f829e4c5f4c8d5fd4e3350344b2e3c", "message": "Update docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:17:31Z", "type": "commit"}, {"oid": "6d0e50761da8cee40ee83f1001896d3a4e82b887", "url": "https://github.com/elastic/elasticsearch/commit/6d0e50761da8cee40ee83f1001896d3a4e82b887", "message": "Update docs/reference/ml/df-analytics/apis/stop-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:17:40Z", "type": "commit"}, {"oid": "8b66f947f26efa7574c116317e9e4f46226c6d44", "url": "https://github.com/elastic/elasticsearch/commit/8b66f947f26efa7574c116317e9e4f46226c6d44", "message": "Update docs/reference/ml/df-analytics/apis/put-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:27:37Z", "type": "commit"}, {"oid": "5569f6c791689e12d6089afa85c0c4c039bfece9", "url": "https://github.com/elastic/elasticsearch/commit/5569f6c791689e12d6089afa85c0c4c039bfece9", "message": "Update docs/reference/ml/df-analytics/apis/put-dfanalytics.asciidoc", "committedDate": "2020-01-09T09:27:45Z", "type": "commit"}]}