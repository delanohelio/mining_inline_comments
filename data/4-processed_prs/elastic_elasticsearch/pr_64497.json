{"pr_number": 64497, "pr_title": "[DOCS] Clarify elasticsearch module for Stack monitoring", "pr_createdAt": "2020-11-02T17:55:01Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/64497", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ==", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r516820969", "bodyText": "Is it weird that we link to the other module here? That seems like a confusing thing for users too. We should either add docs for the -xpack modules (and maybe we do and I can't find them) or not link at all?", "author": "chrisronline", "createdAt": "2020-11-03T17:02:20Z", "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -45,22 +45,22 @@ For more information, see <<monitoring-settings>> and <<cluster-update-settings>\n . {metricbeat-ref}/metricbeat-installation-configuration.html[Install {metricbeat}] on each\n {es} node in the production cluster.  Failure to install on each node may result in incomplete or missing results.\n \n-. Enable the {es} {xpack} module in {metricbeat} on each {es} node.\n+. Enable the {es} module in {metricbeat} on each {es} node.\n +\n --\n-For example, to enable the default configuration in the `modules.d` directory, \n-run the following command:\n+For example, to enable the default configuration for the {stack-monitor-features}\n+in the `modules.d` directory, run the following command:\n \n [\"source\",\"sh\",subs=\"attributes,callouts\"]\n ----------------------------------------------------------------------\n metricbeat modules enable elasticsearch-xpack\n ----------------------------------------------------------------------\n \n-Alternatively, you can use the {es} module, as described in the\n-{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module usage for {stack} monitoring]. \n+For more information, refer to \n+{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module]. ", "originalCommit": "07dcfeebff5ceed83c0fb77f80cb6a852ffa0eb9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMjA3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r516822071", "bodyText": "Yes, it seems like the -xpack modules aren't documented.  I'll follow up on whether that's in the plans and remove the link if not.", "author": "lcawl", "createdAt": "2020-11-03T17:04:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg2OTYzNw==", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r516869637", "bodyText": "TBH I can't remember the history of this content, but I think the -xpack modules were documented originally but caused confusion. Now the docs have a section that mentions monitoring here:\nhttps://www.elastic.co/guide/en/beats/metricbeat/current/metricbeat-module-elasticsearch.html#_usage_for_stack_monitoring_2\nThis suggests that you either enable xpack.enabled: true or enable the elasticsearch-xpack module. I think @ycombinator might know more.", "author": "dedemorton", "createdAt": "2020-11-03T18:22:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTg0MzcxMw==", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r559843713", "bodyText": "@chrisronline We re-added the \"Usage for Stack Monitoring\" section in the elasticsearch module docs (via elastic/beats#23286) since it didn't seem possible to have separate (duplicate) docs for the elasticsearch-xpack module. If you still think this link is more confusing than helpful and ought to be removed from these instructions, just let me know!", "author": "lcawl", "createdAt": "2021-01-19T00:11:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDIzNzYzNg==", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r560237636", "bodyText": "Sounds good to me!", "author": "chrisronline", "createdAt": "2021-01-19T14:56:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}], "type": "inlineReview"}, {"oid": "f57ebb7d1e5a17ae222afd5ab6f4bc0329a64bef", "url": "https://github.com/elastic/elasticsearch/commit/f57ebb7d1e5a17ae222afd5ab6f4bc0329a64bef", "message": "[DOCS] Clarify elasticsearch module for Stack monitoring", "committedDate": "2021-01-19T00:04:36Z", "type": "commit"}, {"oid": "f57ebb7d1e5a17ae222afd5ab6f4bc0329a64bef", "url": "https://github.com/elastic/elasticsearch/commit/f57ebb7d1e5a17ae222afd5ab6f4bc0329a64bef", "message": "[DOCS] Clarify elasticsearch module for Stack monitoring", "committedDate": "2021-01-19T00:04:36Z", "type": "forcePushed"}]}