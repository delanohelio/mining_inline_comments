{"pr_number": 65065, "pr_title": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}", "pr_createdAt": "2020-11-16T12:53:35Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/65065", "timeline": [{"oid": "50cf25a5ba26fdb5c15dff9b786fcabdf636fdbb", "url": "https://github.com/elastic/elasticsearch/commit/50cf25a5ba26fdb5c15dff9b786fcabdf636fdbb", "message": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}\n\nRelated to #49018", "committedDate": "2020-11-15T18:14:39Z", "type": "commit"}, {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "url": "https://github.com/elastic/elasticsearch/commit/d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "message": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}\n\nRelated to #49018", "committedDate": "2020-11-16T12:51:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjQ5Nw==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524292497", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === SAML sp metadata API\n          \n          \n            \n            === SAML service provider metadata API", "author": "jkakavas", "createdAt": "2020-11-16T14:08:11Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API", "originalCommit": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjU4NA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524292584", "bodyText": "or SP", "author": "jkakavas", "createdAt": "2020-11-16T14:08:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjQ5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNTk0MA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524415940", "bodyText": "Done", "author": "BigPandaToo", "createdAt": "2020-11-16T16:50:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjQ5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MzAwMg==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524293002", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Generate a SAML 2.0 Service Provider Metadata.\n          \n          \n            \n            Generate SAML metadata for a SAML 2.0 Service Provider.", "author": "jkakavas", "createdAt": "2020-11-16T14:08:58Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.", "originalCommit": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MzkxNw==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524293917", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `POST /_security/saml/metadata/<realmname>`\n          \n          \n            \n            `GET /_security/saml/metadata/<realmname>`", "author": "jkakavas", "createdAt": "2020-11-16T14:10:15Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`", "originalCommit": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNjA1MA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524416050", "bodyText": "Done", "author": "BigPandaToo", "createdAt": "2020-11-16T16:50:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MzkxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NDUyMg==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524294522", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            (string) An XML string that contains a SAML Service Providers metadata for the realm.\n          \n          \n            \n            (string) An XML string that contains a SAML Service Provider's metadata for the realm.", "author": "jkakavas", "createdAt": "2020-11-16T14:11:05Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.", "originalCommit": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NDc0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524294749", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following example generate Service Provider metadata for\n          \n          \n            \n            The following example generates Service Provider metadata for", "author": "jkakavas", "createdAt": "2020-11-16T14:11:23Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for", "originalCommit": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNjE5MQ==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524416191", "bodyText": "Done", "author": "BigPandaToo", "createdAt": "2020-11-16T16:50:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NDc0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NTk4OA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524295988", "bodyText": "// NOTCONSOLE: Marks this snippet as neither // CONSOLE nor // TESTRESPONSE, excluding it from the list of unconverted snippets. We should only use this for snippets that are JSON but are not responses or requests.\n\nWhy do we mark this as // NOTCONSOLE ?", "author": "jkakavas", "createdAt": "2020-11-16T14:13:19Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:\n+\n+[source,js]\n+--------------------------------------------------\n+{\n+    \"metadata\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\"?><md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"https://kibana.example.com/\"><md:SPSSODescriptor AuthnRequestsSigned=\"false\" WantAssertionsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"><md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://kibana.example.com/logout\"/><md:AssertionConsumerService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://kibana.example.com/api/security/v1/saml\" index=\"1\" isDefault=\"true\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+}\n+--------------------------------------------------\n+// NOTCONSOLE", "originalCommit": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNjkxNA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524416914", "bodyText": "Forgot to make it \"draft\"...", "author": "BigPandaToo", "createdAt": "2020-11-16T16:51:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NTk4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxODA4MQ==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524418081", "bodyText": "I think the problem was with [source,js] initially.", "author": "BigPandaToo", "createdAt": "2020-11-16T16:52:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NTk4OA=="}], "type": "inlineReview"}, {"oid": "b44b4a97d6fba93a9184e9b0c0c1acb018bb6ec5", "url": "https://github.com/elastic/elasticsearch/commit/b44b4a97d6fba93a9184e9b0c0c1acb018bb6ec5", "message": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}\n\nRelated to #49018", "committedDate": "2020-11-16T16:49:30Z", "type": "commit"}, {"oid": "3e03d5885f5c5172b0f428746d0d2d15b1bb698f", "url": "https://github.com/elastic/elasticsearch/commit/3e03d5885f5c5172b0f428746d0d2d15b1bb698f", "message": "This change adds realm name of the realm used to perform authentication to the responses of _security/oidc/authenticate and _security/oidc/authenticate APIs\n\nResolves #53161", "committedDate": "2020-11-16T18:27:08Z", "type": "commit"}, {"oid": "d9a7e2e5c9a097d0fa9970ae92493ca237728f33", "url": "https://github.com/elastic/elasticsearch/commit/d9a7e2e5c9a097d0fa9970ae92493ca237728f33", "message": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}\n\nRelated to #49018", "committedDate": "2020-11-16T19:05:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU0NDQ0Mw==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524544443", "bodyText": "Let's add an sp.logout in \n  \n    \n      elasticsearch/x-pack/docs/build.gradle\n    \n    \n         Line 58\n      in\n      d9905e6\n    \n    \n    \n    \n\n        \n          \n           setting 'xpack.security.authc.realms.saml.saml1.order', '4' \n        \n    \n  \n\n instead of removing it here", "author": "jkakavas", "createdAt": "2020-11-16T20:14:24Z", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -38,6 +38,6 @@ The API returns the following response:\n [source,console-result]\n --------------------------------------------------\n {\n-    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.example.com/\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:SingleLogoutService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\" Location=\\\"https://kibana.example.com/logout\\\"/><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.example.com/api/security/v1/saml\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.org\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.org/api/security/saml/callback\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"", "originalCommit": "d9a7e2e5c9a097d0fa9970ae92493ca237728f33", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU2NjE0Mw==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524566143", "bodyText": "Done", "author": "BigPandaToo", "createdAt": "2020-11-16T20:54:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU0NDQ0Mw=="}], "type": "inlineReview"}, {"oid": "f7df5ab2828b51d076a4eb501e9ff0e096ac47e8", "url": "https://github.com/elastic/elasticsearch/commit/f7df5ab2828b51d076a4eb501e9ff0e096ac47e8", "message": "[DOCS] Adds API to navigation tree", "committedDate": "2020-11-16T20:43:54Z", "type": "commit"}, {"oid": "64adf7fe0a5faa62db7116e038ae7a5f2dedbf41", "url": "https://github.com/elastic/elasticsearch/commit/64adf7fe0a5faa62db7116e038ae7a5f2dedbf41", "message": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}\n\nRelated to #49018", "committedDate": "2020-11-16T20:52:31Z", "type": "commit"}, {"oid": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca", "url": "https://github.com/elastic/elasticsearch/commit/7dfdb34a6798333fe7f94dff2ff1bdab648064ca", "message": "Merge branch 'SAML_API_doc' of github.com:BigPandaToo/elasticsearch into SAML_API_doc", "committedDate": "2020-11-16T20:53:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyMzIyNA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524923224", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            in Elasticsearch.\n          \n          \n            \n            in {es}.", "author": "jkakavas", "createdAt": "2020-11-17T07:02:53Z", "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML service provider metadata API\n+\n+Generate SAML metadata for a SAML 2.0 Service Provider.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`GET /_security/saml/metadata/<realm_name>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to\n+describe their capabilities and configuration using a metadata file. This API\n+generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.", "originalCommit": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyMzY5MQ==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524923691", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The API returns the following response:\n          \n          \n            \n            The API returns the following response containing the SAML metadata as an XML string:", "author": "jkakavas", "createdAt": "2020-11-17T07:04:20Z", "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML service provider metadata API\n+\n+Generate SAML metadata for a SAML 2.0 Service Provider.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`GET /_security/saml/metadata/<realm_name>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to\n+describe their capabilities and configuration using a metadata file. This API\n+generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-path-params]]\n+==== {api-path-parms-title}\n+\n+`<realm_name>`::\n+  (Required, string) The name of the SAML realm in {es}.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Provider's metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generates Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:", "originalCommit": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyNDI1Nw==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524924257", "bodyText": "nit: usually acs and logout endpoints are on the same domain\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              setting 'xpack.security.authc.realms.saml.saml1.sp.logout', 'https://kibana.example.com/logout'\n          \n          \n            \n              setting 'xpack.security.authc.realms.saml.saml1.sp.logout', 'https://kibana.org/logout'", "author": "jkakavas", "createdAt": "2020-11-17T07:05:44Z", "path": "x-pack/docs/build.gradle", "diffHunk": "@@ -56,6 +56,7 @@ testClusters.integTest {\n   setting 'xpack.security.authc.realms.pki.pki1.certificate_authorities', '[ \"testClient.crt\" ]'\n   setting 'xpack.security.authc.realms.pki.pki1.delegation.enabled', 'true'\n   setting 'xpack.security.authc.realms.saml.saml1.order', '4'\n+  setting 'xpack.security.authc.realms.saml.saml1.sp.logout', 'https://kibana.example.com/logout'", "originalCommit": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyNDQzMA==", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524924430", "bodyText": "if you change the logout endpoint string, you need the relevant change here", "author": "jkakavas", "createdAt": "2020-11-17T07:06:18Z", "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML service provider metadata API\n+\n+Generate SAML metadata for a SAML 2.0 Service Provider.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`GET /_security/saml/metadata/<realm_name>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to\n+describe their capabilities and configuration using a metadata file. This API\n+generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-path-params]]\n+==== {api-path-parms-title}\n+\n+`<realm_name>`::\n+  (Required, string) The name of the SAML realm in {es}.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Provider's metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generates Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:\n+\n+[source,console-result]\n+--------------------------------------------------\n+{\n+    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.org\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:SingleLogoutService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\" Location=\\\"https://kibana.example.com/logout\\\"/><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.org/api/security/saml/callback\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"", "originalCommit": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ed189b3f9465efe18fefda42b0f79f0a281f735e", "url": "https://github.com/elastic/elasticsearch/commit/ed189b3f9465efe18fefda42b0f79f0a281f735e", "message": "Adding doc for the new API introduced by #64517 - /_security/saml/metadata/{realm}\n\nRelated to #49018", "committedDate": "2020-11-17T09:33:01Z", "type": "commit"}]}