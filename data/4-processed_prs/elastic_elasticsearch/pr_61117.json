{"pr_number": 61117, "pr_title": "[DOCS] Reorg field data types page", "pr_createdAt": "2020-08-13T19:30:09Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/61117", "timeline": [{"oid": "300bca1cdba8888ac58e87fd79d19f7090dbd607", "url": "https://github.com/elastic/elasticsearch/commit/300bca1cdba8888ac58e87fd79d19f7090dbd607", "message": "[DOCS] Reorg field data types page", "committedDate": "2020-08-13T19:51:23Z", "type": "forcePushed"}, {"oid": "4083b9572ef9a0f2db7696aa7b7f615d7f7c1e01", "url": "https://github.com/elastic/elasticsearch/commit/4083b9572ef9a0f2db7696aa7b7f615d7f7c1e01", "message": "[DOCS] Reorg field data types page", "committedDate": "2020-08-13T21:39:37Z", "type": "forcePushed"}, {"oid": "f894947c375eae3e0bb7b065cb06989bff8afe02", "url": "https://github.com/elastic/elasticsearch/commit/f894947c375eae3e0bb7b065cb06989bff8afe02", "message": "[DOCS] Reorg field data types page", "committedDate": "2020-08-14T16:27:18Z", "type": "commit"}, {"oid": "f894947c375eae3e0bb7b065cb06989bff8afe02", "url": "https://github.com/elastic/elasticsearch/commit/f894947c375eae3e0bb7b065cb06989bff8afe02", "message": "[DOCS] Reorg field data types page", "committedDate": "2020-08-14T16:27:18Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI2MzA3OA==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r473263078", "bodyText": "Types in the same family behave similarly...\n\nWe could make this stronger + more precise. Perhaps we could say something like the following? \"Types in the same family are guaranteed to support the same search functionality, but may have different space usage or performance characteristics.\"\n\nFor example, the keyword family... In most cases, the type family is the same as the field type...\n\nI wonder if we should be clear about the fact there's only one type family right now. We could say \"Currently the only true type family is keyword, which consists of the keyword, constant_keyword, and wildcard field types. Other type families have only a single field type -- for example the boolean type family consists of one field type boolean.\"", "author": "jtibshirani", "createdAt": "2020-08-19T19:17:49Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,208 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n+\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family behave similarly", "originalCommit": "f894947c375eae3e0bb7b065cb06989bff8afe02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM0ODc4NQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r473348785", "bodyText": "Thanks for the suggestions. I've applied those in f5bf87a.", "author": "jrodewig", "createdAt": "2020-08-19T21:39:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI2MzA3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI3MDIxNw==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r473270217", "bodyText": "Small comment, but this feels a little out of place to me. Since this is the introduction for field types, we could keep it streamlined and not give suggestions on how to look up mapping information for document fields?", "author": "jtibshirani", "createdAt": "2020-08-19T19:31:18Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,208 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n+\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family behave similarly\n+and can be used interchangeably in your application. For example, the `keyword`\n+family consists of the `keyword`, `constant_keyword`, and `wildcard` field\n+types. In most cases, the type family is the same as the field type. For\n+example, the `boolean` type family consists of one field type: `boolean`.\n+\n+You can retrieve a field's type family using the <<search-field-caps,field", "originalCommit": "f894947c375eae3e0bb7b065cb06989bff8afe02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM0OTA4Nw==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r473349087", "bodyText": "Fair enough. I've removed this with f5bf87a.", "author": "jrodewig", "createdAt": "2020-08-19T21:39:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI3MDIxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzMzNjU3Mw==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r473336573", "bodyText": "For me this organization is a bit unclear. Some types like binary and boolean don't belong to an overall section. And the sections don't relate to a consistent concept -- some describe use cases like 'full text search' while others are broad type categories like 'dates'.\nIt's actually quite challenging to come up with a good grouping! I'll reach out to you through another channel with a brainstorming document.", "author": "jtibshirani", "createdAt": "2020-08-19T21:25:06Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,208 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n+\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family behave similarly\n+and can be used interchangeably in your application. For example, the `keyword`\n+family consists of the `keyword`, `constant_keyword`, and `wildcard` field\n+types. In most cases, the type family is the same as the field type. For\n+example, the `boolean` type family consists of one field type: `boolean`.\n+\n+You can retrieve a field's type family using the <<search-field-caps,field\n+capabilities API>>.\n+\n+The following sections organize the available field types based on their\n+intended use. Except where noted, the type family is the same as the field type.\n+\n+<<binary,`binary`>>::", "originalCommit": "f894947c375eae3e0bb7b065cb06989bff8afe02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM0OTMwMA==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r473349300", "bodyText": "Awesome! Thanks!", "author": "jrodewig", "createdAt": "2020-08-19T21:40:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzMzNjU3Mw=="}], "type": "inlineReview"}, {"oid": "f5bf87a871b0ca7d1ef6e02a51b48ac15f01bc3d", "url": "https://github.com/elastic/elasticsearch/commit/f5bf87a871b0ca7d1ef6e02a51b48ac15f01bc3d", "message": "Apply feedback from review", "committedDate": "2020-08-19T21:36:55Z", "type": "commit"}, {"oid": "c82f611012d817c426b792a22ff5bc60779ca961", "url": "https://github.com/elastic/elasticsearch/commit/c82f611012d817c426b792a22ff5bc60779ca961", "message": "Minor reword + grammar fixes", "committedDate": "2020-08-19T22:02:26Z", "type": "commit"}, {"oid": "e28b87c780f0c74bc15901dff283f63ead441de6", "url": "https://github.com/elastic/elasticsearch/commit/e28b87c780f0c74bc15901dff283f63ead441de6", "message": "Incorporate feedback", "committedDate": "2020-08-20T22:53:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgxNjg3Ng==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474816876", "bodyText": "This is out of scope for the current PR, but seeing this made me think that each 'field type family' should live on a single sub-page. We could have a short description of the family at the top, and then a subsection for each type. This would help users directly compare the different options, and could make wildcard more discoverable.\n@jrodewig @markharwood what would you think about this idea as a potential follow-up?", "author": "jtibshirani", "createdAt": "2020-08-21T16:57:53Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Core types\n+\n+<<binary>>::          `binary`\n+<<boolean>>::         `boolean`\n+keyword::             <<keyword,`keyword`>>,", "originalCommit": "e28b87c780f0c74bc15901dff283f63ead441de6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5MjYzNQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474992635", "bodyText": "\ud83d\udc4d  I like this idea. I've created #61441 to track.", "author": "jrodewig", "createdAt": "2020-08-21T22:15:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgxNjg3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgxNzYyOA==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474817628", "bodyText": "Small comment, we could remove the part 'for percentiles aggregations' because this works across a variety of aggregations?", "author": "jtibshirani", "createdAt": "2020-08-21T16:59:30Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Core types\n+\n+<<binary>>::          `binary`\n+<<boolean>>::         `boolean`\n+keyword::             <<keyword,`keyword`>>,\n+                      <<constant-keyword,`constant_keyword`>>, and\n+                      <<wildcard,`wildcard`>>\n+<<number,Numbers>>::  `long`, `integer`, `short`, `byte`, `double`, `float`,\n+                      `half_float`, `scaled_float`\n+Dates::               <<date,`date`>>, <<date_nanos,`date_nanos`>>\n+<<alias,Alias>>::     `alias`. Defines an alias to an existing field.\n \n-string::         <<text,`text`>>, <<keyword,`keyword`>> and <<wildcard,`wildcard`>>\n-<<number>>::     `long`, `integer`, `short`, `byte`, `double`, `float`, `half_float`, `scaled_float`\n-<<date>>::       `date`\n-<<date_nanos>>:: `date_nanos`\n-<<boolean>>::    `boolean`\n-<<binary>>::     `binary`\n-<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`, `date_range`, `ip_range`\n \n [discrete]\n-=== Complex data types\n-<<object>>::    `object` for single JSON objects\n-<<nested>>::    `nested` for arrays of JSON objects\n+[[object-types]]\n+==== Objects and relational types\n+\n+<<object>>::      `object` for single JSON objects\n+<<flattened>>::   `flattened`. Allows an entire JSON object to be indexed as a\n+                  single field.\n+<<nested>>::      `nested` for arrays of JSON objects\n+<<parent-join>>:: `join`. Defines parent/child relation for documents within the\n+                  same index\n+\n \n [discrete]\n-[[spatial_datatypes]]\n-=== Spatial data types\n+[[structured-data-types]]\n+==== Structured data types\n+\n+<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`,\n+                `date_range`, `ip_range`\n+<<ip>>::        `ip` for IPv4 and IPv6 addresses\n+{plugins}/mapper-murmur3.html[`mapper-murmur3`]:: `murmur3` to compute hashes of\n+values at index-time and store them in the index\n \n-<<geo-point>>::     `geo_point` for lat/lon points\n-<<geo-shape>>::     `geo_shape` for complex shapes like polygons\n-<<point>>::         `point` for arbitrary cartesian points.\n-<<shape>>::         `shape` for arbitrary cartesian geometries.\n \n [discrete]\n-=== Specialised data types\n+[[aggregated-data-types]]\n+==== Aggregated data types\n \n-<<ip>>::            `ip` for IPv4 and IPv6 addresses\n-<<completion-suggester,Completion data type>>::\n-                    `completion` to provide auto-complete suggestions\n+<<histogram>>:: `histogram` for pre-aggregated numerical values for percentiles", "originalCommit": "e28b87c780f0c74bc15901dff283f63ead441de6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgxODAyNA==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474818024", "bodyText": "I think this should only have one dash: [[text-search-types]]", "author": "jtibshirani", "createdAt": "2020-08-21T17:00:13Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Core types\n+\n+<<binary>>::          `binary`\n+<<boolean>>::         `boolean`\n+keyword::             <<keyword,`keyword`>>,\n+                      <<constant-keyword,`constant_keyword`>>, and\n+                      <<wildcard,`wildcard`>>\n+<<number,Numbers>>::  `long`, `integer`, `short`, `byte`, `double`, `float`,\n+                      `half_float`, `scaled_float`\n+Dates::               <<date,`date`>>, <<date_nanos,`date_nanos`>>\n+<<alias,Alias>>::     `alias`. Defines an alias to an existing field.\n \n-string::         <<text,`text`>>, <<keyword,`keyword`>> and <<wildcard,`wildcard`>>\n-<<number>>::     `long`, `integer`, `short`, `byte`, `double`, `float`, `half_float`, `scaled_float`\n-<<date>>::       `date`\n-<<date_nanos>>:: `date_nanos`\n-<<boolean>>::    `boolean`\n-<<binary>>::     `binary`\n-<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`, `date_range`, `ip_range`\n \n [discrete]\n-=== Complex data types\n-<<object>>::    `object` for single JSON objects\n-<<nested>>::    `nested` for arrays of JSON objects\n+[[object-types]]\n+==== Objects and relational types\n+\n+<<object>>::      `object` for single JSON objects\n+<<flattened>>::   `flattened`. Allows an entire JSON object to be indexed as a\n+                  single field.\n+<<nested>>::      `nested` for arrays of JSON objects\n+<<parent-join>>:: `join`. Defines parent/child relation for documents within the\n+                  same index\n+\n \n [discrete]\n-[[spatial_datatypes]]\n-=== Spatial data types\n+[[structured-data-types]]\n+==== Structured data types\n+\n+<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`,\n+                `date_range`, `ip_range`\n+<<ip>>::        `ip` for IPv4 and IPv6 addresses\n+{plugins}/mapper-murmur3.html[`mapper-murmur3`]:: `murmur3` to compute hashes of\n+values at index-time and store them in the index\n \n-<<geo-point>>::     `geo_point` for lat/lon points\n-<<geo-shape>>::     `geo_shape` for complex shapes like polygons\n-<<point>>::         `point` for arbitrary cartesian points.\n-<<shape>>::         `shape` for arbitrary cartesian geometries.\n \n [discrete]\n-=== Specialised data types\n+[[aggregated-data-types]]\n+==== Aggregated data types\n \n-<<ip>>::            `ip` for IPv4 and IPv6 addresses\n-<<completion-suggester,Completion data type>>::\n-                    `completion` to provide auto-complete suggestions\n+<<histogram>>:: `histogram` for pre-aggregated numerical values for percentiles\n+                aggregations.\n \n-<<token-count>>::   `token_count` to count the number of tokens in a string\n-{plugins}/mapper-murmur3.html[`mapper-murmur3`]:: `murmur3` to compute hashes of values at index-time and store them in the index\n-{plugins}/mapper-annotated-text.html[`mapper-annotated-text`]:: `annotated-text` to index text containing special markup (typically used for identifying named entities)\n \n-<<percolator>>::    Accepts queries from the query-dsl\n+[discrete]\n+[[text-search--types]]", "originalCommit": "e28b87c780f0c74bc15901dff283f63ead441de6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDkyMzU5NA==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474923594", "bodyText": "Good catch!", "author": "jrodewig", "createdAt": "2020-08-21T20:07:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgxODAyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgyMTQ5Nw==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474821497", "bodyText": "Small comment, I realize this was just copied over but we could say 'piece of text' instead of 'string' since we're 'string' can be confusing/ overloaded.", "author": "jtibshirani", "createdAt": "2020-08-21T17:07:41Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Core types\n+\n+<<binary>>::          `binary`\n+<<boolean>>::         `boolean`\n+keyword::             <<keyword,`keyword`>>,\n+                      <<constant-keyword,`constant_keyword`>>, and\n+                      <<wildcard,`wildcard`>>\n+<<number,Numbers>>::  `long`, `integer`, `short`, `byte`, `double`, `float`,\n+                      `half_float`, `scaled_float`\n+Dates::               <<date,`date`>>, <<date_nanos,`date_nanos`>>\n+<<alias,Alias>>::     `alias`. Defines an alias to an existing field.\n \n-string::         <<text,`text`>>, <<keyword,`keyword`>> and <<wildcard,`wildcard`>>\n-<<number>>::     `long`, `integer`, `short`, `byte`, `double`, `float`, `half_float`, `scaled_float`\n-<<date>>::       `date`\n-<<date_nanos>>:: `date_nanos`\n-<<boolean>>::    `boolean`\n-<<binary>>::     `binary`\n-<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`, `date_range`, `ip_range`\n \n [discrete]\n-=== Complex data types\n-<<object>>::    `object` for single JSON objects\n-<<nested>>::    `nested` for arrays of JSON objects\n+[[object-types]]\n+==== Objects and relational types\n+\n+<<object>>::      `object` for single JSON objects\n+<<flattened>>::   `flattened`. Allows an entire JSON object to be indexed as a\n+                  single field.\n+<<nested>>::      `nested` for arrays of JSON objects\n+<<parent-join>>:: `join`. Defines parent/child relation for documents within the\n+                  same index\n+\n \n [discrete]\n-[[spatial_datatypes]]\n-=== Spatial data types\n+[[structured-data-types]]\n+==== Structured data types\n+\n+<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`,\n+                `date_range`, `ip_range`\n+<<ip>>::        `ip` for IPv4 and IPv6 addresses\n+{plugins}/mapper-murmur3.html[`mapper-murmur3`]:: `murmur3` to compute hashes of\n+values at index-time and store them in the index\n \n-<<geo-point>>::     `geo_point` for lat/lon points\n-<<geo-shape>>::     `geo_shape` for complex shapes like polygons\n-<<point>>::         `point` for arbitrary cartesian points.\n-<<shape>>::         `shape` for arbitrary cartesian geometries.\n \n [discrete]\n-=== Specialised data types\n+[[aggregated-data-types]]\n+==== Aggregated data types\n \n-<<ip>>::            `ip` for IPv4 and IPv6 addresses\n-<<completion-suggester,Completion data type>>::\n-                    `completion` to provide auto-complete suggestions\n+<<histogram>>:: `histogram` for pre-aggregated numerical values for percentiles\n+                aggregations.\n \n-<<token-count>>::   `token_count` to count the number of tokens in a string\n-{plugins}/mapper-murmur3.html[`mapper-murmur3`]:: `murmur3` to compute hashes of values at index-time and store them in the index\n-{plugins}/mapper-annotated-text.html[`mapper-annotated-text`]:: `annotated-text` to index text containing special markup (typically used for identifying named entities)\n \n-<<percolator>>::    Accepts queries from the query-dsl\n+[discrete]\n+[[text-search--types]]\n+==== Text search types\n \n-<<parent-join>>::   Defines parent/child relation for documents within the same index\n+<<text,Text>>::   `text` for analyzed, unstructured content\n+{plugins}/mapper-annotated-text.html[`mapper-annotated-text`]:: `annotated-text` to index text containing special markup (typically used for identifying named entities)\n+<<completion-suggester,Completion>>:: `completion` to provide auto-complete suggestions\n+<<search-as-you-type>>:: `search_as_you_type`. A `text`-like field optimized for\n+queries to implement as-you-type completion\n+<<token-count>>::        `token_count` to count the number of tokens in a string", "originalCommit": "e28b87c780f0c74bc15901dff283f63ead441de6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDg0MzM3MQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474843371", "bodyText": "The grouping seems a lot more readable. Looking at the preview, I wonder if we could make it more compact/ less redundant by having headings be the field name itself when possible? The heading could also be a type family or natural grouping. An example:\n<<alias,`alias`>>:: Defines an alias to an existing field.\nkeyword:: The keyword family, including <<keyword, `keyword`>>, <<wildcard, `wildcard`>> ...\n<<number,Numbers>>:: Numeric types such as `long` and `double`.\n\nFor me this is easier to read and gives more consistency in terms of the description. We wouldn't have a mix of styles: binary has no description, alias uses a full sentence, object says \"object for single JSON objects\".", "author": "jtibshirani", "createdAt": "2020-08-21T17:53:23Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]", "originalCommit": "e28b87c780f0c74bc15901dff283f63ead441de6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDg0NDAxNg==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474844016", "bodyText": "Noting that @nik9000 suggested 'Common types' here. I don't feel strongly but think that works nicely too.", "author": "jtibshirani", "createdAt": "2020-08-21T17:54:26Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n-== Field data types\n+== Field data types [[_core_datatypes]]\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Core types", "originalCommit": "e28b87c780f0c74bc15901dff283f63ead441de6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDkyNDM0MQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474924341", "bodyText": "That works for me. I'll keep the anchor the same as we do have other Stack docs that point to it.", "author": "jrodewig", "createdAt": "2020-08-21T20:07:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDg0NDAxNg=="}], "type": "inlineReview"}, {"oid": "4ee637182714c0309b0bd67feb9816db16f568c1", "url": "https://github.com/elastic/elasticsearch/commit/4ee637182714c0309b0bd67feb9816db16f568c1", "message": "address feedback", "committedDate": "2020-08-21T20:35:14Z", "type": "commit"}, {"oid": "2293dad796671f57e94959548c3e50c27c48053e", "url": "https://github.com/elastic/elasticsearch/commit/2293dad796671f57e94959548c3e50c27c48053e", "message": "Reword", "committedDate": "2020-08-21T21:00:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk3MDM0NQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474970345", "bodyText": "Maybe \"Analyzed, unstructured text content\" is clearer.", "author": "jtibshirani", "createdAt": "2020-08-21T21:06:34Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n == Field data types\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n+\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Common types\n+\n+<<binary,`binary`>>::   Binary value encoded as a Base64 string.\n+<<boolean,`boolean`>>:: `true` and `false` values.\n+Keyword::               The keyword family, including <<keyword, `keyword`>>,\n+                        <<constant-keyword,`constant_keyword`>>, and\n+                        <<wildcard, `wildcard`>>.\n+<<number,Numbers>>::    Numeric types, such as `long` and `double`.\n+Dates::                 Date types, including <<date,`date`>> and \n+                        <<date_nanos,`date_nanos`>>.\n+<<alias,`alias`>>::     Defines an alias for an existing field.\n \n-string::         <<text,`text`>>, <<keyword,`keyword`>> and <<wildcard,`wildcard`>>\n-<<number>>::     `long`, `integer`, `short`, `byte`, `double`, `float`, `half_float`, `scaled_float`\n-<<date>>::       `date`\n-<<date_nanos>>:: `date_nanos`\n-<<boolean>>::    `boolean`\n-<<binary>>::     `binary`\n-<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`, `date_range`, `ip_range`\n \n [discrete]\n-=== Complex data types\n-<<object>>::    `object` for single JSON objects\n-<<nested>>::    `nested` for arrays of JSON objects\n+[[object-types]]\n+==== Objects and relational types\n+\n+<<object,`object`>>::         A single JSON object.\n+<<flattened,`flattened`>>::   An entire JSON object as a single field value.\n+<<nested,`nested`>>::         An array of JSON objects.\n+<<parent-join,`join`>>::      Defines a parent/child relationship for documents\n+                              in the same index.\n+\n \n [discrete]\n-[[spatial_datatypes]]\n-=== Spatial data types\n+[[structured-data-types]]\n+==== Structured data types\n+\n+<<range,Range>>::   Range types, such as `long_range`, `double_range`,\n+                    `date_range`, and `ip_range`.\n+<<ip,`ip`>>::       IPv4 and IPv6 addresses.\n+{plugins}/mapper-murmur3.html[`murmur3`]:: Compute and stores hashes of\n+values.\n \n-<<geo-point>>::     `geo_point` for lat/lon points\n-<<geo-shape>>::     `geo_shape` for complex shapes like polygons\n-<<point>>::         `point` for arbitrary cartesian points.\n-<<shape>>::         `shape` for arbitrary cartesian geometries.\n \n [discrete]\n-=== Specialised data types\n+[[aggregated-data-types]]\n+==== Aggregated data types\n \n-<<ip>>::            `ip` for IPv4 and IPv6 addresses\n-<<completion-suggester,Completion data type>>::\n-                    `completion` to provide auto-complete suggestions\n+<<histogram,`histogram`>>:: Pre-aggregated numerical values.\n \n-<<token-count>>::   `token_count` to count the number of tokens in a string\n-{plugins}/mapper-murmur3.html[`mapper-murmur3`]:: `murmur3` to compute hashes of values at index-time and store them in the index\n-{plugins}/mapper-annotated-text.html[`mapper-annotated-text`]:: `annotated-text` to index text containing special markup (typically used for identifying named entities)\n \n-<<percolator>>::    Accepts queries from the query-dsl\n+[discrete]\n+[[text-search-types]]\n+==== Text search types\n \n-<<parent-join>>::   Defines parent/child relation for documents within the same index\n+<<text,`text`>>:: Analyzed, unstructured content.", "originalCommit": "2293dad796671f57e94959548c3e50c27c48053e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5MzI0Nw==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474993247", "bodyText": "Good catch. Applied with 8cbd2db.", "author": "jrodewig", "createdAt": "2020-08-21T22:18:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk3MDM0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk3MDYxNw==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474970617", "bodyText": "Minor thought, maybe \"Aggregate data types\" reads slightly nicer.", "author": "jtibshirani", "createdAt": "2020-08-21T21:07:16Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n == Field data types\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n+\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Common types\n+\n+<<binary,`binary`>>::   Binary value encoded as a Base64 string.\n+<<boolean,`boolean`>>:: `true` and `false` values.\n+Keyword::               The keyword family, including <<keyword, `keyword`>>,\n+                        <<constant-keyword,`constant_keyword`>>, and\n+                        <<wildcard, `wildcard`>>.\n+<<number,Numbers>>::    Numeric types, such as `long` and `double`.\n+Dates::                 Date types, including <<date,`date`>> and \n+                        <<date_nanos,`date_nanos`>>.\n+<<alias,`alias`>>::     Defines an alias for an existing field.\n \n-string::         <<text,`text`>>, <<keyword,`keyword`>> and <<wildcard,`wildcard`>>\n-<<number>>::     `long`, `integer`, `short`, `byte`, `double`, `float`, `half_float`, `scaled_float`\n-<<date>>::       `date`\n-<<date_nanos>>:: `date_nanos`\n-<<boolean>>::    `boolean`\n-<<binary>>::     `binary`\n-<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`, `date_range`, `ip_range`\n \n [discrete]\n-=== Complex data types\n-<<object>>::    `object` for single JSON objects\n-<<nested>>::    `nested` for arrays of JSON objects\n+[[object-types]]\n+==== Objects and relational types\n+\n+<<object,`object`>>::         A single JSON object.\n+<<flattened,`flattened`>>::   An entire JSON object as a single field value.\n+<<nested,`nested`>>::         An array of JSON objects.\n+<<parent-join,`join`>>::      Defines a parent/child relationship for documents\n+                              in the same index.\n+\n \n [discrete]\n-[[spatial_datatypes]]\n-=== Spatial data types\n+[[structured-data-types]]\n+==== Structured data types\n+\n+<<range,Range>>::   Range types, such as `long_range`, `double_range`,\n+                    `date_range`, and `ip_range`.\n+<<ip,`ip`>>::       IPv4 and IPv6 addresses.\n+{plugins}/mapper-murmur3.html[`murmur3`]:: Compute and stores hashes of\n+values.\n \n-<<geo-point>>::     `geo_point` for lat/lon points\n-<<geo-shape>>::     `geo_shape` for complex shapes like polygons\n-<<point>>::         `point` for arbitrary cartesian points.\n-<<shape>>::         `shape` for arbitrary cartesian geometries.\n \n [discrete]\n-=== Specialised data types\n+[[aggregated-data-types]]\n+==== Aggregated data types", "originalCommit": "2293dad796671f57e94959548c3e50c27c48053e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk3MjQxMQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474972411", "bodyText": "I just noticed that the existing description of object + nested is quite confusing. Suggested update:\n\nobject: A JSON object.\nnested: A JSON object that preserves the relationship between its subfields.", "author": "jtibshirani", "createdAt": "2020-08-21T21:12:38Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,113 @@\n [[mapping-types]]\n == Field data types\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n+\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Common types\n+\n+<<binary,`binary`>>::   Binary value encoded as a Base64 string.\n+<<boolean,`boolean`>>:: `true` and `false` values.\n+Keyword::               The keyword family, including <<keyword, `keyword`>>,\n+                        <<constant-keyword,`constant_keyword`>>, and\n+                        <<wildcard, `wildcard`>>.\n+<<number,Numbers>>::    Numeric types, such as `long` and `double`.\n+Dates::                 Date types, including <<date,`date`>> and \n+                        <<date_nanos,`date_nanos`>>.\n+<<alias,`alias`>>::     Defines an alias for an existing field.\n \n-string::         <<text,`text`>>, <<keyword,`keyword`>> and <<wildcard,`wildcard`>>\n-<<number>>::     `long`, `integer`, `short`, `byte`, `double`, `float`, `half_float`, `scaled_float`\n-<<date>>::       `date`\n-<<date_nanos>>:: `date_nanos`\n-<<boolean>>::    `boolean`\n-<<binary>>::     `binary`\n-<<range>>::      `integer_range`, `float_range`, `long_range`, `double_range`, `date_range`, `ip_range`\n \n [discrete]\n-=== Complex data types\n-<<object>>::    `object` for single JSON objects\n-<<nested>>::    `nested` for arrays of JSON objects\n+[[object-types]]\n+==== Objects and relational types\n+\n+<<object,`object`>>::         A single JSON object.", "originalCommit": "2293dad796671f57e94959548c3e50c27c48053e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5MzMxMQ==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r474993311", "bodyText": "This is much clearer. Thanks for the suggestion.", "author": "jrodewig", "createdAt": "2020-08-21T22:18:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk3MjQxMQ=="}], "type": "inlineReview"}, {"oid": "8cbd2dbaa260e37da89bd2ab68dffa31a353a06b", "url": "https://github.com/elastic/elasticsearch/commit/8cbd2dbaa260e37da89bd2ab68dffa31a353a06b", "message": "iter", "committedDate": "2020-08-21T22:17:28Z", "type": "commit"}, {"oid": "e67259356242a88723f7ecddd9f732b7ece0caee", "url": "https://github.com/elastic/elasticsearch/commit/e67259356242a88723f7ecddd9f732b7ece0caee", "message": "Add quantifiers to numbers desc", "committedDate": "2020-08-24T13:35:57Z", "type": "commit"}, {"oid": "e50bcd5c4ccaf56fed36d1b3afb33c37791dbf7a", "url": "https://github.com/elastic/elasticsearch/commit/e50bcd5c4ccaf56fed36d1b3afb33c37791dbf7a", "message": "Update number desc", "committedDate": "2020-08-24T14:23:44Z", "type": "commit"}, {"oid": "85816ba8b98fb3bc67e19ecc27b8b1f709b9798f", "url": "https://github.com/elastic/elasticsearch/commit/85816ba8b98fb3bc67e19ecc27b8b1f709b9798f", "message": "Add missing comma", "committedDate": "2020-08-24T14:24:22Z", "type": "commit"}, {"oid": "0d8c12f4a02245ac5099867a7c1a247f7f91c442", "url": "https://github.com/elastic/elasticsearch/commit/0d8c12f4a02245ac5099867a7c1a247f7f91c442", "message": "reword", "committedDate": "2020-08-24T14:24:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgxNzk0Mg==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r475817942", "bodyText": "Sorry for nitpicking -- the 'amounts' part is really helpful, but the 'rather than IDs' part feels confusing, and as @markharwood mentioned there are actually some use cases for mapping ordered IDs as numbers. We could remove 'rather than IDs' (since we already have a warning/ tip about it in the numeric types docs)?", "author": "jtibshirani", "createdAt": "2020-08-24T18:38:19Z", "path": "docs/reference/mapping/types.asciidoc", "diffHunk": "@@ -1,72 +1,115 @@\n [[mapping-types]]\n == Field data types\n \n-Elasticsearch supports a number of different data types for the fields in a\n-document:\n+Each field has a _field data type_, or _field type_. This type indicates the\n+kind of data the field contains, such as strings or boolean values, and its\n+intended use. For example, you can index strings to both `text` and `keyword`\n+fields. However, `text` field values are <<analysis,analyzed>> for full-text\n+search while `keyword` strings are left as-is for filtering and sorting.\n+\n+Field types are grouped by _family_. Types in the same family support the same\n+search functionality but may have different space usage or performance\n+characteristics.\n+\n+Currently, the only type family is `keyword`, which consists of the `keyword`,\n+`constant_keyword`, and `wildcard` field types. Other type families have only a\n+single field type. For example, the `boolean` type family consists of one field\n+type: `boolean`.\n+\n \n [discrete]\n [[_core_datatypes]]\n-=== Core data types\n+==== Common types\n+\n+<<binary,`binary`>>::   Binary value encoded as a Base64 string.\n+<<boolean,`boolean`>>:: `true` and `false` values.\n+Keyword::               The keyword family, including <<keyword, `keyword`>>,\n+                        <<constant-keyword,`constant_keyword`>>, and\n+                        <<wildcard, `wildcard`>>.\n+<<number,Numbers>>::    Numeric types, such as `long` and `double`, used to", "originalCommit": "0d8c12f4a02245ac5099867a7c1a247f7f91c442", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgxOTU1MA==", "url": "https://github.com/elastic/elasticsearch/pull/61117#discussion_r475819550", "bodyText": "No problem. Removed with c4beb42. Thanks for raising.", "author": "jrodewig", "createdAt": "2020-08-24T18:41:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgxNzk0Mg=="}], "type": "inlineReview"}, {"oid": "c4beb426f13608f955c5d04b76625851e5125d92", "url": "https://github.com/elastic/elasticsearch/commit/c4beb426f13608f955c5d04b76625851e5125d92", "message": "Reword Numbers desc", "committedDate": "2020-08-24T18:40:43Z", "type": "commit"}, {"oid": "235791535c9ae2246cbbaa8ae08919e9b532a790", "url": "https://github.com/elastic/elasticsearch/commit/235791535c9ae2246cbbaa8ae08919e9b532a790", "message": "Merge branch 'master' into docs__reorg-mapping-types", "committedDate": "2020-08-26T17:18:46Z", "type": "commit"}]}