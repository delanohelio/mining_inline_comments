{"pr_number": 54762, "pr_title": "Add get autoscaling policy API", "pr_createdAt": "2020-04-04T14:42:24Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/54762", "timeline": [{"oid": "2d7ad7f1c61923465f48d739e4a35a44be8f8d37", "url": "https://github.com/elastic/elasticsearch/commit/2d7ad7f1c61923465f48d739e4a35a44be8f8d37", "message": "Add get autoscaling policy API\n\nThis commit adds the get autoscaling policy API.", "committedDate": "2020-04-04T14:38:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzUwMTU1Nw==", "url": "https://github.com/elastic/elasticsearch/pull/54762#discussion_r403501557", "bodyText": "I wonder if we need an array to prepare for listing all deciders? I guess we can state we will never add wildcard support and hence it is two different endpoints, i.e., this is OK?", "author": "henningandersen", "createdAt": "2020-04-04T18:32:59Z", "path": "docs/reference/autoscaling/apis/get-autoscaling-policy.asciidoc", "diffHunk": "@@ -0,0 +1,67 @@\n+[role=\"xpack\"]\n+[testenv=\"platinum\"]\n+[[autoscaling-get-autoscaling-policy]]\n+=== Get autoscaling policy API\n+++++\n+<titleabbrev>Get autoscaling policy</titleabbrev>\n+++++\n+\n+Get autoscaling policy.\n+\n+[[autoscaling-get-autoscaling-policy-request]]\n+==== {api-request-title}\n+\n+[source,console]\n+--------------------------------------------------\n+PUT /_autoscaling/policy/my_autoscaling_policy\n+{\n+  \"policy\": {\n+    \"deciders\": {\n+      \"always\": {\n+      }\n+    }\n+  }\n+}\n+--------------------------------------------------\n+// TESTSETUP\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_autoscaling/policy/<name>\n+--------------------------------------------------\n+// TEST[s/<name>/my_autoscaling_policy/]\n+\n+[[autoscaling-get-autoscaling-policy-prereqs]]\n+==== {api-prereq-title}\n+\n+* If the {es} {security-features} are enabled, you must have\n+`manage_autoscaling` cluster privileges. For more information, see\n+<<security-privileges>>.\n+\n+[[autoscaling-get-autoscaling-policy-desc]]\n+==== {api-description-title}\n+\n+This API gets an autoscaling policy with the provided name.\n+\n+[[autoscaling-get-autoscaling-policy-examples]]\n+==== {api-examples-title}\n+\n+This example gets an autoscaling policy named `my_autosaling_policy`.\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_autoscaling/policy/my_autoscaling_policy\n+--------------------------------------------------\n+// TEST\n+\n+The API returns the following result:\n+\n+[source,console-result]\n+--------------------------------------------------\n+{", "originalCommit": "2d7ad7f1c61923465f48d739e4a35a44be8f8d37", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzUxMjU4Mw==", "url": "https://github.com/elastic/elasticsearch/pull/54762#discussion_r403512583", "bodyText": "Yeah, I do not think that we should support wildcards, or getting multiple policies at once (comma-separated). In general, I think that it greatly complicates our APIs (e.g., what do we do if one policy exists, and another doesn't? we have faced these challenges with existing APIs and I think it's just complicated our APIs and their implementations with little benefit to our users).", "author": "jasontedor", "createdAt": "2020-04-04T20:21:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzUwMTU1Nw=="}], "type": "inlineReview"}, {"oid": "ac002fda1cc4badcf3b2d1413b7cdac6a43fdb66", "url": "https://github.com/elastic/elasticsearch/commit/ac002fda1cc4badcf3b2d1413b7cdac6a43fdb66", "message": "Fix test", "committedDate": "2020-04-04T20:28:21Z", "type": "commit"}]}