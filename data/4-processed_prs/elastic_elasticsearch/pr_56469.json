{"pr_number": 56469, "pr_title": "[DOCS] Correct watcher event data example", "pr_createdAt": "2020-05-08T21:15:43Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56469", "timeline": [{"oid": "4de8bcc5168cc6b16fdd6dfa818f587c2960ac95", "url": "https://github.com/elastic/elasticsearch/commit/4de8bcc5168cc6b16fdd6dfa818f587c2960ac95", "message": "[DOCS] Correct watcher event data example\n\n* Updates Logstash index patterns. Logstash indices now default to an\n  ILM-friendly index pattern.\n* Swaps `*.raw` fields for `*.keyword` fields. The Logstash template\n  uses `keyword` fields by default since 6.x.\n* Swaps instances of`ctx.payload.hits.total.value` with\n  `ctx.payload.hits.total`", "committedDate": "2020-05-08T21:13:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg1MTc3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/56469#discussion_r423851772", "bodyText": "With ILM there will be an alias by default named logstash. Rather then trying to query the concrete indices, I think the example should just use a single index logstash and the note below call out that logstash is an alias.\nIn general we should avoid examples that include both time based (e.g. {now}) and rollover based (e.g. -00001) in favor of the fronting alias. The time stamp on the index when combined with rollover changes meaning such that it is the time when the index was created, not necessarily reflective of the content of that index (the content is dependent on the rollover rules). It is a distinction difficult to describe and the alias should be the preferred access across multiple rolled over indices.", "author": "jakelandis", "createdAt": "2020-05-12T16:01:55Z", "path": "x-pack/docs/en/watcher/example-watches/example-watch-meetupdata.asciidoc", "diffHunk": "@@ -83,8 +83,8 @@ To set up the watch:\n     \"search\": {\n       \"request\": {\n         \"indices\": [\n-          \"<logstash-{now-1h}>\", <1>\n-          \"<logstash-{now}>\"", "originalCommit": "4de8bcc5168cc6b16fdd6dfa818f587c2960ac95", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg2OTQ5NQ==", "url": "https://github.com/elastic/elasticsearch/pull/56469#discussion_r423869495", "bodyText": "Thanks @jakelandis. I've updated this and the following snippet to use the logstash index alias with 2c1d2db.\nAlso added some more context around Logstash ILM defaults in the callout text.", "author": "jrodewig", "createdAt": "2020-05-12T16:27:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg1MTc3Mg=="}], "type": "inlineReview"}, {"oid": "2c1d2db588a4b8e65790f4797785fcf94d934206", "url": "https://github.com/elastic/elasticsearch/commit/2c1d2db588a4b8e65790f4797785fcf94d934206", "message": "use `logstash` index alias", "committedDate": "2020-05-12T16:25:35Z", "type": "commit"}, {"oid": "59aaa1ad126e91b5a8429a814b5c30227162d0b0", "url": "https://github.com/elastic/elasticsearch/commit/59aaa1ad126e91b5a8429a814b5c30227162d0b0", "message": "Merge branch 'master' into docs__correct-meetup-watcher-ex", "committedDate": "2020-05-12T17:38:50Z", "type": "commit"}]}