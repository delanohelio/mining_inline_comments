{"pr_number": 55527, "pr_title": "Docs: sync breaking changes in migration and rel notes", "pr_createdAt": "2020-04-21T12:05:48Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/55527", "timeline": [{"oid": "673df6b515b366ecd3705d8fb1eac1a20154cac0", "url": "https://github.com/elastic/elasticsearch/commit/673df6b515b366ecd3705d8fb1eac1a20154cac0", "message": "Sync breaking changes in migration and rel notes\n\nAdd those breaking changes present into the release notes but  missing\nfrom the migration notes.", "committedDate": "2020-04-21T12:02:23Z", "type": "commit"}, {"oid": "3179e73a3b654d19e88ec82b5a12647903eafcc7", "url": "https://github.com/elastic/elasticsearch/commit/3179e73a3b654d19e88ec82b5a12647903eafcc7", "message": "Merge branch '7.7' into doc/7.7_breaking_changes", "committedDate": "2020-04-21T12:30:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE3MDk3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/55527#discussion_r412170972", "bodyText": "Because this is now being reused in the Installation and Update Guide, any internal xrefs\nneed to be made into external links. This should fix the docs CI test.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            pre-7.7 default behaviour by adjusting your <<logging>>.\n          \n          \n            \n            pre-7.7 default behaviour by adjusting your {ref}/logging.html[logging].", "author": "jrodewig", "createdAt": "2020-04-21T13:11:20Z", "path": "docs/reference/migration/migrate_7_7.asciidoc", "diffHunk": "@@ -32,6 +27,21 @@ log noise. From 7.7 onwards the default log level for logger in this hierarchy\n is now `INFO`, in line with most other loggers. If needed, you can recover the\n pre-7.7 default behaviour by adjusting your <<logging>>.", "originalCommit": "3179e73a3b654d19e88ec82b5a12647903eafcc7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE3NjcxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/55527#discussion_r412176715", "bodyText": "Thank you!!\nI did spot the warning, but since it built (and linked) fine locally, I dismissed it as potential failure source (and was just trying to build --all to hopefully get more details).", "author": "bpintea", "createdAt": "2020-04-21T13:18:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE3MDk3Mg=="}], "type": "inlineReview"}, {"oid": "ed61c89dca53776bd5fe0c6594a205e082c2f9ef", "url": "https://github.com/elastic/elasticsearch/commit/ed61c89dca53776bd5fe0c6594a205e082c2f9ef", "message": "Update docs/reference/migration/migrate_7_7.asciidoc\n\nCo-Authored-By: James Rodewig <james.rodewig@elastic.co>", "committedDate": "2020-04-21T13:12:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE3MTk4OA==", "url": "https://github.com/elastic/elasticsearch/pull/55527#discussion_r412171988", "bodyText": "This is another internal xref that needs to be converted to an external link.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <<range-query-date-math-rounding>>.\n          \n          \n            \n            {ref}/query-dsl-range-query.html#range-query-date-math-rounding[Date math and rounding].", "author": "jrodewig", "createdAt": "2020-04-21T13:12:41Z", "path": "docs/reference/migration/migrate_7_7.asciidoc", "diffHunk": "@@ -88,6 +98,13 @@ for `gt` and `lte` boundaries, the same queries on `date_range` fields didn't\n do this. The behavior is now the same for both field types like documented in\n <<range-query-date-math-rounding>>.", "originalCommit": "3179e73a3b654d19e88ec82b5a12647903eafcc7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "537ee31828a1f8050ced09577b94c2c4cafa9187", "url": "https://github.com/elastic/elasticsearch/commit/537ee31828a1f8050ced09577b94c2c4cafa9187", "message": "Update docs/reference/migration/migrate_7_7.asciidoc\n\nCo-Authored-By: James Rodewig <james.rodewig@elastic.co>", "committedDate": "2020-04-21T13:17:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjE4MDIxNw==", "url": "https://github.com/elastic/elasticsearch/pull/55527#discussion_r412180217", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            So far misconfiguration of dynamic templates have been discovered when indexing\n          \n          \n            \n            a document with an unmapped field only. In 8.0 and later the dynamic mappings\n          \n          \n            \n            have stricter validation done at mapping update time and invalid updates - e.g.\n          \n          \n            \n            incorrect analyzer settings or unknown field types used - are failed. For\n          \n          \n            \n            indices created in 7.7 and later the update succeeds, but a warning is emitted.\n          \n          \n            \n            So far misconfiguration of dynamic templates have been discovered when indexing\n          \n          \n            \n            a document with an unmapped field only. In {es} 8.0 and later versions, dynamic mappings\n          \n          \n            \n            have stricter validation, done at mapping update time. Invalid updates, such as using\n          \n          \n            \n            incorrect analyzer settings or unknown field types, fail. For\n          \n          \n            \n            indices created in {es} 7.7 and later version, the update succeeds but emits a warning.", "author": "jrodewig", "createdAt": "2020-04-21T13:23:23Z", "path": "docs/reference/migration/migrate_7_7.asciidoc", "diffHunk": "@@ -30,7 +25,22 @@ loggers in the `org.elasticsearch.action.*` hierarchy emitted log messages at\n `DEBUG` level by default. This sometimes resulted in a good deal of unnecessary\n log noise. From 7.7 onwards the default log level for logger in this hierarchy\n is now `INFO`, in line with most other loggers. If needed, you can recover the\n-pre-7.7 default behaviour by adjusting your <<logging>>.\n+pre-7.7 default behaviour by adjusting your {ref}/logging.html[logging].\n+\n+[discrete]\n+[[breaking_77_mapping_changes]]\n+=== Mapping changes\n+\n+[discrete]\n+[[stricter-mapping-validation]]\n+==== Validation for dynamic templates\n+\n+So far misconfiguration of dynamic templates have been discovered when indexing\n+a document with an unmapped field only. In 8.0 and later the dynamic mappings\n+have stricter validation done at mapping update time and invalid updates - e.g.\n+incorrect analyzer settings or unknown field types used - are failed. For\n+indices created in 7.7 and later the update succeeds, but a warning is emitted.", "originalCommit": "537ee31828a1f8050ced09577b94c2c4cafa9187", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2fa8004ea01bf4763f8f112bc9c0c95ac8d8314a", "url": "https://github.com/elastic/elasticsearch/commit/2fa8004ea01bf4763f8f112bc9c0c95ac8d8314a", "message": "Update docs/reference/migration/migrate_7_7.asciidoc\n\nCo-Authored-By: James Rodewig <james.rodewig@elastic.co>", "committedDate": "2020-04-21T13:24:31Z", "type": "commit"}]}