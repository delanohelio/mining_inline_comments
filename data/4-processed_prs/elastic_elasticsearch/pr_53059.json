{"pr_number": 53059, "pr_title": "[DOCS] Reformat `stop` token filter", "pr_createdAt": "2020-03-03T15:37:44Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/53059", "timeline": [{"oid": "39bb7db7ef9bbefe57e679209046679fed9b94e2", "url": "https://github.com/elastic/elasticsearch/commit/39bb7db7ef9bbefe57e679209046679fed9b94e2", "message": "[DOCS] Reformat stop token filter\n\nMakes the following changes to the `stop` token filter docs:\n\n* Updates description\n* Adds a link to the related Lucene filter\n* Adds detailed analyze snippet\n* Updates custom analyzer and custom filter snippets\n* Adds a list of predefined stop words by language\n\nCo-authored-by: ScottieL <36999642+ScottieL@users.noreply.github.com>", "committedDate": "2020-03-03T15:35:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzExMDQzNg==", "url": "https://github.com/elastic/elasticsearch/pull/53059#discussion_r387110436", "bodyText": "s/thai/_thai_/", "author": "romseygeek", "createdAt": "2020-03-03T15:47:13Z", "path": "docs/reference/analysis/tokenfilters/stop-tokenfilter.asciidoc", "diffHunk": "@@ -4,79 +4,374 @@\n <titleabbrev>Stop</titleabbrev>\n ++++\n \n-A token filter of type `stop` that removes stop words from token\n-streams.\n+Removes https://en.wikipedia.org/wiki/Stop_words[stop words] from a token\n+stream.\n \n-The following are settings that can be set for a `stop` token filter\n-type:\n+When not customized, the filter removes the following English stop words by\n+default:\n+\n+`a`, `an`, `and`, `are`, `as`, `at`, `be`, `but`, `by`, `for`, `if`, `in`,\n+`into`, `is`, `it`, `no`, `not`, `of`, `on`, `or`, `such`, `that`, `the`,\n+`their`, `then`, `there`, `these`, `they`, `this`, `to`, `was`, `will`, `with`\n+\n+In addition to English, the `stop` filter supports predefined\n+<<analysis-stop-tokenfilter-stop-words-by-lang,stop word lists for several\n+languages>>. You can also specify your own stop words as an array or file.\n+\n+The `stop` filter uses Lucene's\n+{lucene-analysis-docs}/StopFilter.html[StopFilter].\n+\n+[[analysis-stop-tokenfilter-analyze-ex]]\n+==== Example\n+\n+The following analyze API request uses the `stop` filter to remove the stop words\n+`a` and `the` from `a quick fox jumps over the lazy dog`:\n+\n+[source,console]\n+----\n+GET /_analyze\n+{\n+  \"tokenizer\": \"standard\",\n+  \"filter\": [ \"stop\" ],\n+  \"text\": \"a quick fox jumps over the lazy dog\"\n+}\n+----\n+\n+The filter produces the following tokens:\n+\n+[source,text]\n+----\n+[ quick, fox, jumps, over, lazy, dog ]\n+----\n+\n+////\n+[source,console-result]\n+----\n+{\n+  \"tokens\": [\n+    {\n+      \"token\": \"quick\",\n+      \"start_offset\": 2,\n+      \"end_offset\": 7,\n+      \"type\": \"<ALPHANUM>\",\n+      \"position\": 1\n+    },\n+    {\n+      \"token\": \"fox\",\n+      \"start_offset\": 8,\n+      \"end_offset\": 11,\n+      \"type\": \"<ALPHANUM>\",\n+      \"position\": 2\n+    },\n+    {\n+      \"token\": \"jumps\",\n+      \"start_offset\": 12,\n+      \"end_offset\": 17,\n+      \"type\": \"<ALPHANUM>\",\n+      \"position\": 3\n+    },\n+    {\n+      \"token\": \"over\",\n+      \"start_offset\": 18,\n+      \"end_offset\": 22,\n+      \"type\": \"<ALPHANUM>\",\n+      \"position\": 4\n+    },\n+    {\n+      \"token\": \"lazy\",\n+      \"start_offset\": 27,\n+      \"end_offset\": 31,\n+      \"type\": \"<ALPHANUM>\",\n+      \"position\": 6\n+    },\n+    {\n+      \"token\": \"dog\",\n+      \"start_offset\": 32,\n+      \"end_offset\": 35,\n+      \"type\": \"<ALPHANUM>\",\n+      \"position\": 7\n+    }\n+  ]\n+}\n+----\n+////\n+\n+[[analysis-stop-tokenfilter-analyzer-ex]]\n+==== Add to an analyzer\n+\n+The following <<indices-create-index,create index API>> request uses the `stop`\n+filter to configure a new <<analysis-custom-analyzer,custom analyzer>>.\n+\n+[source,console]\n+----\n+PUT /my_index\n+{\n+  \"settings\": {\n+    \"analysis\": {\n+      \"analyzer\": {\n+        \"my_analyzer\": {\n+          \"tokenizer\": \"whitespace\",\n+          \"filter\": [ \"stop\" ]\n+        }\n+      }\n+    }\n+  }\n+}\n+----\n+\n+[[analysis-stop-tokenfilter-configure-parms]]\n+==== Configurable parameters\n \n-[horizontal]\n `stopwords`::\n++\n+--\n+(Optional, string or array of strings)\n+Language value, such as `_arabic_` or `thai`. Defaults to", "originalCommit": "39bb7db7ef9bbefe57e679209046679fed9b94e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzExNDg3NA==", "url": "https://github.com/elastic/elasticsearch/pull/53059#discussion_r387114874", "bodyText": "Good catch. Thanks!", "author": "jrodewig", "createdAt": "2020-03-03T15:53:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzExMDQzNg=="}], "type": "inlineReview"}, {"oid": "f566eef29edc366b2d3a7c2dc779f8431b452bb2", "url": "https://github.com/elastic/elasticsearch/commit/f566eef29edc366b2d3a7c2dc779f8431b452bb2", "message": "iter", "committedDate": "2020-03-03T15:54:30Z", "type": "commit"}]}