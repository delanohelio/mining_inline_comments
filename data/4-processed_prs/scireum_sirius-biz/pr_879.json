{"pr_number": 879, "pr_title": "Allows to provide multiple XSDs for validation in XML import jobs", "pr_createdAt": "2020-10-14T12:17:19Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/879", "timeline": [{"oid": "c9e907b1282573159c23c4d71f37774b33d4ca83", "url": "https://github.com/scireum/sirius-biz/commit/c9e907b1282573159c23c4d71f37774b33d4ca83", "message": "Outputs the technical value when fetching select string param\n\nWhen resolving a select string param inside of a job the technical value (key attribute) is much more helpful as translating it to the displayed label (value attribute) of the parameter.\n\nFixes: OX-6257", "committedDate": "2020-10-14T12:05:47Z", "type": "commit"}, {"oid": "306468d6d61d0286760d9d4e60f088f90552b653", "url": "https://github.com/scireum/sirius-biz/commit/306468d6d61d0286760d9d4e60f088f90552b653", "message": "Allows to provide multiple XSDs for validation in XML import jobs\n\nAlso skips validation entirely when a specific parameter value is selected.\nWe need to allow the user to switch between multiple schemas for formats that have variants.\nExample: ARGE XML also has a DGH variant with some of the required fields being missing or optional.\n\nFixes: OX-6257", "committedDate": "2020-10-14T12:16:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzMjQ4MQ==", "url": "https://github.com/scireum/sirius-biz/pull/879#discussion_r504632481", "bodyText": "create a map externally and offer it here as BiConsumer<String,String> here? this also permits to enforce a LinkedHashMap which guarantees order", "author": "andyHa", "createdAt": "2020-10-14T12:23:36Z", "path": "src/main/java/sirius/biz/jobs/batch/file/XMLImportJobFactory.java", "diffHunk": "@@ -42,12 +49,14 @@ public String getIcon() {\n     }\n \n     /**\n-     * Returns the path to the XSD file if the XML file should be validated, null otherwise.\n+     * Returns a map of paths to XSD files if the XML file should be validated, an empty map otherwise.\n+     * <p>\n+     * This allows to provide more than one XSD for validation when multiple variants of a data format are supported.\n      *\n-     * @return the path to the XSD file if the XML file should be validated, null otherwise\n+     * @return a map of paths to XSD files if the XML file should be validated, an empty map otherwise\n      */\n-    @Nullable\n-    protected String getXsdResourcePath() {\n-        return null;\n+    @Nonnull\n+    protected Map<String, String> getXsdResourcePaths() {", "originalCommit": "306468d6d61d0286760d9d4e60f088f90552b653", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "df96d6503fa98b386c8d8b37366b2588604daf6e", "url": "https://github.com/scireum/sirius-biz/commit/df96d6503fa98b386c8d8b37366b2588604daf6e", "message": "Simplifies xml schema param by making it optional\n\nBy this we dont need an explicit \"empty\" parameter as we can skip the validation when no value is selected.\n\nFixes: OX-6257", "committedDate": "2020-10-14T12:59:58Z", "type": "commit"}, {"oid": "fede95185f70486e50cd0d579e84896edabf660b", "url": "https://github.com/scireum/sirius-biz/commit/fede95185f70486e50cd0d579e84896edabf660b", "message": "Codestyle\n\nFixes: OX-6257", "committedDate": "2020-10-14T13:15:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY3NzUwNA==", "url": "https://github.com/scireum/sirius-biz/pull/879#discussion_r504677504", "bodyText": "Rename to fillXsdResourcePaths. Get* returning void smells a little.", "author": "mkeckmkeck", "createdAt": "2020-10-14T13:29:52Z", "path": "src/main/java/sirius/biz/jobs/batch/file/XMLImportJobFactory.java", "diffHunk": "@@ -42,12 +46,11 @@ public String getIcon() {\n     }\n \n     /**\n-     * Returns the path to the XSD file if the XML file should be validated, null otherwise.\n-     *\n-     * @return the path to the XSD file if the XML file should be validated, null otherwise\n+     * Adds xsd schema paths to the entryConsumer if the XML file should and can be validated.\n+     * <p>\n+     * This allows to provide more than one XSD for validation when multiple variants of a data format are supported.\n      */\n-    @Nullable\n-    protected String getXsdResourcePath() {\n-        return null;\n+    protected void getXsdResourcePaths(BiConsumer<String, String> entryConsumer) {", "originalCommit": "fede95185f70486e50cd0d579e84896edabf660b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fd66630064974cfa020ade2ee462327de4cb4237", "url": "https://github.com/scireum/sirius-biz/commit/fd66630064974cfa020ade2ee462327de4cb4237", "message": "Codestyle\n\nFixes: OX-6257", "committedDate": "2020-10-14T13:31:04Z", "type": "commit"}]}