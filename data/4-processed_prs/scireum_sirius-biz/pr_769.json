{"pr_number": 769, "pr_title": "Also deletes the physical contents when eventually deleting a blob.", "pr_createdAt": "2020-06-02T11:21:42Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/769", "timeline": [{"oid": "a70b696e64d69bc31f599114ea110e32aada968f", "url": "https://github.com/scireum/sirius-biz/commit/a70b696e64d69bc31f599114ea110e32aada968f", "message": "Also deletes the physical contents when eventually deleting a blob.", "committedDate": "2020-06-02T11:20:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgyODA4NQ==", "url": "https://github.com/scireum/sirius-biz/pull/769#discussion_r433828085", "bodyText": "Variable rausziehen bringts wahrscheinlich nicht? JIT optimiert das eh oder?", "author": "bwiedmann", "createdAt": "2020-06-02T12:12:02Z", "path": "src/main/java/sirius/biz/storage/layer2/jdbc/RemoveDeletedEntitiesLoop.java", "diffHunk": "@@ -60,6 +60,10 @@ private AtomicInteger deleteBlobs() {\n         AtomicInteger numBlobs = new AtomicInteger();\n         oma.select(SQLBlob.class).eq(SQLBlob.DELETED, true).limit(256).iterateAll(blob -> {\n             try {\n+                if (Strings.isFilled(blob.getPhysicalObjectKey())) {\n+                    blob.getStorageSpace().getPhysicalSpace().delete(blob.getPhysicalObjectKey());", "originalCommit": "a70b696e64d69bc31f599114ea110e32aada968f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA0NDMwOA==", "url": "https://github.com/scireum/sirius-biz/pull/769#discussion_r434044308", "bodyText": "im bestenfal wird er den getter inlinen, also yop, sollte passen", "author": "andyHa", "createdAt": "2020-06-02T17:20:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgyODA4NQ=="}], "type": "inlineReview"}]}