{"pr_number": 945, "pr_title": "Update to the new Tagliatelle engine.", "pr_createdAt": "2020-12-18T11:54:37Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/945", "timeline": [{"oid": "b1927cfe2af8b56dee856810f2c9efa7fa28742c", "url": "https://github.com/scireum/sirius-biz/commit/b1927cfe2af8b56dee856810f2c9efa7fa28742c", "message": "Ports sirius-biz to the new Tagliatelle.", "committedDate": "2020-12-18T11:52:58Z", "type": "commit"}, {"oid": "0c0ea59abcacbc992d3c6880c2177ef9796eb94a", "url": "https://github.com/scireum/sirius-biz/commit/0c0ea59abcacbc992d3c6880c2177ef9796eb94a", "message": "Removes unnecessary classes lists in @Register annotations.\n\nLoadInfoProvider has been made @AutoRegister recently.", "committedDate": "2020-12-18T11:53:43Z", "type": "commit"}, {"oid": "0c0ea59abcacbc992d3c6880c2177ef9796eb94a", "url": "https://github.com/scireum/sirius-biz/commit/0c0ea59abcacbc992d3c6880c2177ef9796eb94a", "message": "Removes unnecessary classes lists in @Register annotations.\n\nLoadInfoProvider has been made @AutoRegister recently.", "committedDate": "2020-12-18T11:53:43Z", "type": "forcePushed"}, {"oid": "4e77f426aa702d8b0060abe266e2c22fa113e78c", "url": "https://github.com/scireum/sirius-biz/commit/4e77f426aa702d8b0060abe266e2c22fa113e78c", "message": "Updates to the latest s3ninja (within the dev and test environment).", "committedDate": "2020-12-18T12:17:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc5NjA1Mw==", "url": "https://github.com/scireum/sirius-biz/pull/945#discussion_r545796053", "bodyText": "JavaDoc?", "author": "sabieber", "createdAt": "2020-12-18T12:19:57Z", "path": "src/main/java/sirius/biz/web/BizClassAliasProvider.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Made with all the love in the world\n+ * by scireum in Remshalden, Germany\n+ *\n+ * Copyright by scireum GmbH\n+ * http://www.scireum.de - info@scireum.de\n+ */\n+\n+package sirius.biz.web;\n+\n+import sirius.biz.codelists.CodeLists;\n+import sirius.biz.isenguard.Isenguard;\n+import sirius.biz.jobs.Jobs;\n+import sirius.biz.process.Processes;\n+import sirius.biz.storage.layer3.VirtualFileSystem;\n+import sirius.biz.tenants.Tenants;\n+import sirius.db.es.Elastic;\n+import sirius.db.jdbc.Databases;\n+import sirius.db.jdbc.OMA;\n+import sirius.db.mixing.EntityDescriptor;\n+import sirius.db.mixing.Mixing;\n+import sirius.db.mixing.annotations.Mixin;\n+import sirius.db.mongo.Mango;\n+import sirius.db.mongo.Mongo;\n+import sirius.db.redis.Redis;\n+import sirius.kernel.di.Injector;\n+import sirius.kernel.di.std.Part;\n+import sirius.kernel.di.std.Register;\n+import sirius.pasta.tagliatelle.ClassAliasProvider;\n+\n+import java.util.function.BiConsumer;\n+\n+@Register\n+public class BizClassAliasProvider implements ClassAliasProvider {", "originalCommit": "b1927cfe2af8b56dee856810f2c9efa7fa28742c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc5NjI2OQ==", "url": "https://github.com/scireum/sirius-biz/pull/945#discussion_r545796269", "bodyText": "JavaDoc?", "author": "sabieber", "createdAt": "2020-12-18T12:20:26Z", "path": "src/main/java/sirius/biz/web/BizLegacyGlobalsHandler.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Made with all the love in the world\n+ * by scireum in Remshalden, Germany\n+ *\n+ * Copyright by scireum GmbH\n+ * http://www.scireum.de - info@scireum.de\n+ */\n+\n+package sirius.biz.web;\n+\n+import sirius.kernel.di.std.Register;\n+import sirius.pasta.noodle.compiler.LegacyGlobalsHandler;\n+\n+@Register\n+public class BizLegacyGlobalsHandler extends LegacyGlobalsHandler {", "originalCommit": "b1927cfe2af8b56dee856810f2c9efa7fa28742c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTgxNTE4MA==", "url": "https://github.com/scireum/sirius-biz/pull/945#discussion_r545815180", "bodyText": "A macro would be nice for this", "author": "jmuscireum", "createdAt": "2020-12-18T12:58:54Z", "path": "src/main/resources/default/templates/biz/login-form.html.pasta", "diffHunk": "@@ -13,7 +13,7 @@\n                name=\"user\"\n                type=\"text\"\n                autofocus=\"autofocus\"\n-               value=\"@call.get('user').asString()\"\n+               value=\"@CallContext.getCurrent().get(WebContext.class).get('user').asString()\"", "originalCommit": "4e77f426aa702d8b0060abe266e2c22fa113e78c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTgzMTkyMQ==", "url": "https://github.com/scireum/sirius-biz/pull/945#discussion_r545831921", "bodyText": "yep, I'd still put that in another PR (a ScopeConfig macro would be nice as well) - still lets keep this concise..", "author": "andyHa", "createdAt": "2020-12-18T13:31:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTgxNTE4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTgxNjYxNg==", "url": "https://github.com/scireum/sirius-biz/pull/945#discussion_r545816616", "bodyText": "Isn't this what PartMacro is for?", "author": "jmuscireum", "createdAt": "2020-12-18T13:01:44Z", "path": "src/main/resources/default/taglib/w/jobs.html.pasta", "diffHunk": "@@ -1,11 +1,12 @@\n <i:arg type=\"String\" name=\"uri\" default=\"@call.getRequest().uri()\"/>\n <i:arg type=\"Object\" name=\"target\"/>\n \n-<i:if test=\"jobsService != null\">\n-    <i:local name=\"jobs\" value=\"@jobsService.getMatchingInteractiveJobs(uri, target)\"/>\n-    <i:if test=\"!jobs.isEmpty()\">\n+<i:local name=\"jobs\" value=\"Injector.context().getPart(Jobs.class)\" />", "originalCommit": "4e77f426aa702d8b0060abe266e2c22fa113e78c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTgzMTU0Nw==", "url": "https://github.com/scireum/sirius-biz/pull/945#discussion_r545831547", "bodyText": "nope PartMacro uses findPart which throws in case if a missing part. As the Jobs.class can be disabled via the framework config, we have to deal with this and use getPart here...", "author": "andyHa", "createdAt": "2020-12-18T13:30:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTgxNjYxNg=="}], "type": "inlineReview"}, {"oid": "9f9395ac9471b2b08b75aa1f6564a9b674776594", "url": "https://github.com/scireum/sirius-biz/commit/9f9395ac9471b2b08b75aa1f6564a9b674776594", "message": "Adds some missing JavaDocs.", "committedDate": "2020-12-18T13:32:33Z", "type": "commit"}]}