{"pr_number": 1854, "pr_title": "Add Configuring Database and File System State Persistence", "pr_createdAt": "2020-09-07T09:30:46Z", "pr_url": "https://github.com/wso2/docs-apim/pull/1854", "timeline": [{"oid": "9d56c3a9e95a308b2f4e680d4723c73667052b64", "url": "https://github.com/wso2/docs-apim/commit/9d56c3a9e95a308b2f4e680d4723c73667052b64", "message": "Add configuring db and file system state persisitence", "committedDate": "2020-09-07T09:20:33Z", "type": "commit"}, {"oid": "7ae19de9df6839d2b23c1b69f0f86daf9bd9f55a", "url": "https://github.com/wso2/docs-apim/commit/7ae19de9df6839d2b23c1b69f0f86daf9bd9f55a", "message": "Add link", "committedDate": "2020-09-07T09:28:03Z", "type": "commit"}, {"oid": "81c04237ff77de8d05a303fa18fc94f2acbfd878", "url": "https://github.com/wso2/docs-apim/commit/81c04237ff77de8d05a303fa18fc94f2acbfd878", "message": "Add file to nav", "committedDate": "2020-09-07T09:28:28Z", "type": "commit"}, {"oid": "e641cf8ee33f225ce1a2b0d9cc90bd1e7c60ca0b", "url": "https://github.com/wso2/docs-apim/commit/e641cf8ee33f225ce1a2b0d9cc90bd1e7c60ca0b", "message": "Reviewed and updated", "committedDate": "2020-09-08T05:05:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM1MzE3Mw==", "url": "https://github.com/wso2/docs-apim/pull/1854#discussion_r484353173", "bodyText": "Shall we remove \"for more information\" at the end as the user already knows that it will have detailed instructions as mentioned at the start.", "author": "Mariangela", "createdAt": "2020-09-07T10:47:34Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/configure-apim-analytics/active-passive.md", "diffHunk": "@@ -49,8 +49,7 @@ In order to configure a minimum HA cluster, the following prerequisites must be\n     `<APIM_ANALYTICS_HOME>/lib` directory of both nodes. \n   - In order to retrieve the state of the Siddhi Applications deployed in the system in case of a scenario where both the \n     nodes fail, state persistence must be enabled for both nodes by specifying the same datasource/file location. \n-    For detailed instructions, see <a target=\"_blank\" href=\"configuring-Database-and-File-System-State-Persistence\">\n-    Configuring Database and File System State Persistence</a> for more information.\n+    For detailed instructions, see [Configuring Database and File System State Persistence]({{base_path}}/install-and-setup/setup/distributed-deployment/configure-apim-analytics/configuring-database-and-file-system-state-persistence) for more information.", "originalCommit": "81c04237ff77de8d05a303fa18fc94f2acbfd878", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY0MzM4Mg==", "url": "https://github.com/wso2/docs-apim/pull/1854#discussion_r484643382", "bodyText": "Let's mention the meaning behind the abbreviation, at the start of the page.", "author": "Mariangela", "createdAt": "2020-09-08T04:29:13Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/configure-apim-analytics/configuring-database-and-file-system-state-persistence.md", "diffHunk": "@@ -0,0 +1,141 @@\n+# Configuring Database and File System State Persistence\n+\n+This section explains how to prevent the loss of data that can result from a system failure by persisting the state of WSO2 SI periodically either into a database system or into the file system.", "originalCommit": "81c04237ff77de8d05a303fa18fc94f2acbfd878", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY0MzY1Mw==", "url": "https://github.com/wso2/docs-apim/pull/1854#discussion_r484643653", "bodyText": "Capitalise content where needed.\njdbc > JDBC\njar > JAR", "author": "Mariangela", "createdAt": "2020-09-08T04:30:25Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/configure-apim-analytics/configuring-database-and-file-system-state-persistence.md", "diffHunk": "@@ -0,0 +1,141 @@\n+# Configuring Database and File System State Persistence\n+\n+This section explains how to prevent the loss of data that can result from a system failure by persisting the state of WSO2 SI periodically either into a database system or into the file system.\n+\n+### Prerequisites\n+\n+Before configuring RDBMS database persistence, the following prerequisites must be completed.\n+\n+-   One or more Siddhi Applications must be running in the WSO2 SI\n+    server.\n+-   A working RDBMS instance that can be used for data persistence must\n+    exist.\n+-   The requirements of the datasource must be already defined.\n+\n+-   Database persistence involves updating the databases connected to\n+    WSO2 Streaming Integrator with the latest information relating to the\n+    events that are being processed by WSO2 SI at a given time.\n+\n+### Configuring database system persistence\n+\n+The supported databases are H2, MySQL, Postgres, MSSQL and Oracle. The relevant jdbc driver jar should be downloaded and added to the `<SI_HOME>/lib` directory to prior to using database system persistence.", "originalCommit": "81c04237ff77de8d05a303fa18fc94f2acbfd878", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY0NTMwMA==", "url": "https://github.com/wso2/docs-apim/pull/1854#discussion_r484645300", "bodyText": "Remove the unnecessary space before a fullstop. This is there in some other places as well.", "author": "Mariangela", "createdAt": "2020-09-08T04:37:56Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/configure-apim-analytics/configuring-database-and-file-system-state-persistence.md", "diffHunk": "@@ -0,0 +1,141 @@\n+# Configuring Database and File System State Persistence\n+\n+This section explains how to prevent the loss of data that can result from a system failure by persisting the state of WSO2 SI periodically either into a database system or into the file system.\n+\n+### Prerequisites\n+\n+Before configuring RDBMS database persistence, the following prerequisites must be completed.\n+\n+-   One or more Siddhi Applications must be running in the WSO2 SI\n+    server.\n+-   A working RDBMS instance that can be used for data persistence must\n+    exist.\n+-   The requirements of the datasource must be already defined.\n+\n+-   Database persistence involves updating the databases connected to\n+    WSO2 Streaming Integrator with the latest information relating to the\n+    events that are being processed by WSO2 SI at a given time.\n+\n+### Configuring database system persistence\n+\n+The supported databases are H2, MySQL, Postgres, MSSQL and Oracle. The relevant jdbc driver jar should be downloaded and added to the `<SI_HOME>/lib` directory to prior to using database system persistence.\n+\n+To configure periodic data persistence, update the `<SI_HOME>/conf/server/deployment.yaml` file under `state.persistence` as follows:\n+\n+<table>\n+<thead>\n+<tr class=\"header\">\n+<th>Parameter</th>\n+<th>Purpose</th>\n+<th>Required Value</th>\n+</tr>\n+</thead>\n+<tbody>\n+<tr class=\"odd\">\n+<td><code>             enabled            </code></td>\n+<td>This enables data persistence.</td>\n+<td><code>             true            </code></td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>             intervalInMin                         </code></td>\n+<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>\n+<td>1</td>\n+</tr>\n+<tr class=\"odd\">\n+<td><code>             revisionsToKeep            </code></td>\n+<td>The number of revisions to keep in the system. When a new persist takes place, the old revisions are removed.</td>\n+<td>3</td>\n+</tr>\n+<tr class=\"even\">\n+<td><code>             persistenceStore                         </code></td>\n+<td>The persistence store .</td>", "originalCommit": "81c04237ff77de8d05a303fa18fc94f2acbfd878", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY1MTM3MA==", "url": "https://github.com/wso2/docs-apim/pull/1854#discussion_r484651370", "bodyText": "Let's omit random spaces in tables like this.", "author": "Mariangela", "createdAt": "2020-09-08T05:03:25Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/configure-apim-analytics/configuring-database-and-file-system-state-persistence.md", "diffHunk": "@@ -0,0 +1,141 @@\n+# Configuring Database and File System State Persistence\n+\n+This section explains how to prevent the loss of data that can result from a system failure by persisting the state of WSO2 SI periodically either into a database system or into the file system.\n+\n+### Prerequisites\n+\n+Before configuring RDBMS database persistence, the following prerequisites must be completed.\n+\n+-   One or more Siddhi Applications must be running in the WSO2 SI\n+    server.\n+-   A working RDBMS instance that can be used for data persistence must\n+    exist.\n+-   The requirements of the datasource must be already defined.\n+\n+-   Database persistence involves updating the databases connected to\n+    WSO2 Streaming Integrator with the latest information relating to the\n+    events that are being processed by WSO2 SI at a given time.\n+\n+### Configuring database system persistence\n+\n+The supported databases are H2, MySQL, Postgres, MSSQL and Oracle. The relevant jdbc driver jar should be downloaded and added to the `<SI_HOME>/lib` directory to prior to using database system persistence.\n+\n+To configure periodic data persistence, update the `<SI_HOME>/conf/server/deployment.yaml` file under `state.persistence` as follows:\n+\n+<table>\n+<thead>\n+<tr class=\"header\">\n+<th>Parameter</th>\n+<th>Purpose</th>\n+<th>Required Value</th>\n+</tr>\n+</thead>\n+<tbody>\n+<tr class=\"odd\">\n+<td><code>             enabled            </code></td>", "originalCommit": "81c04237ff77de8d05a303fa18fc94f2acbfd878", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3a1b4fd92edfe8836430e3c7bc33e977a0a1a5ce", "url": "https://github.com/wso2/docs-apim/commit/3a1b4fd92edfe8836430e3c7bc33e977a0a1a5ce", "message": "Fixed the formatting issue", "committedDate": "2020-09-08T05:07:06Z", "type": "commit"}, {"oid": "2ab44a47f168a5722eec18d73991bb898cd2a07c", "url": "https://github.com/wso2/docs-apim/commit/2ab44a47f168a5722eec18d73991bb898cd2a07c", "message": "Updated a sentence\n\nUpdated the sentence where the link had changed.", "committedDate": "2020-09-08T05:26:55Z", "type": "commit"}]}