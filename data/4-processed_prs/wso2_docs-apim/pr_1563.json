{"pr_number": 1563, "pr_title": "Adding document visibility feature to the docs", "pr_createdAt": "2020-07-23T09:50:00Z", "pr_url": "https://github.com/wso2/docs-apim/pull/1563", "timeline": [{"oid": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "url": "https://github.com/wso2/docs-apim/commit/99fb305b6dcf7556dc87749e3491ce3612c282e9", "message": "adding document visibility feature to the docs", "committedDate": "2020-07-23T09:40:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTI1OQ==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r460361259", "bodyText": "This doc can be moved under the API documentation section?", "author": "shaniR", "createdAt": "2020-07-25T04:04:48Z", "path": "en/docs/learn/design-api/advanced-topics/control-api-visibility-and-subscription-availability-in-developer-portal.md", "diffHunk": "@@ -1,4 +1,4 @@\n-# Control API Visibility and Subscription Availability in the Developer Portal\n+# Control API Visibility, Subscription Availability and API documentation visibility in the Developer Portal", "originalCommit": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk1MTcyNg==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r462951726", "bodyText": "Yes we can. I referred APIM 2.6.0 docs when creating this section and there the doc visibility was explained after Subscription availability section.\nhttps://docs.wso2.com/display/AM260/Key+Concepts#KeyConcepts-APIdocumentationvisibility\nShall I move the content to API Documentation section?", "author": "isuruh15", "createdAt": "2020-07-30T12:12:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTI1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg5NzczNg==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r465897736", "bodyText": "yes please.", "author": "shaniR", "createdAt": "2020-08-05T17:45:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTI1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY1MTk3MA==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r466651970", "bodyText": "fixed in 9234c7c", "author": "isuruh15", "createdAt": "2020-08-06T19:56:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTI1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTM3MQ==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r460361371", "bodyText": "unnecessary spaces before this line. Please check the same in the entire document.", "author": "shaniR", "createdAt": "2020-07-25T04:05:41Z", "path": "en/docs/learn/design-api/advanced-topics/control-api-visibility-and-subscription-availability-in-developer-portal.md", "diffHunk": "@@ -123,6 +123,48 @@ When using the REST API directly, the subscription availability options are avai\n     </tr>\n     </tbody>\n     </table>\n+    \n+    \n+## Control API Document Visibility in Developer Portal\n+\n+By default, any document associated with an API has the same visibility level of the API. That is, if the API is public, \n+its documentation is also visible to all users (registered and anonymous).", "originalCommit": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY2MDUwMg==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r466660502", "bodyText": "fixed in 5ac01b7", "author": "isuruh15", "createdAt": "2020-08-06T20:14:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTM3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTQzMA==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r460361430", "bodyText": "There should be a section \"Enabling document visibility in Developer Portal\", and the instructions should come under that.", "author": "shaniR", "createdAt": "2020-07-25T04:06:43Z", "path": "en/docs/learn/design-api/advanced-topics/control-api-visibility-and-subscription-availability-in-developer-portal.md", "diffHunk": "@@ -123,6 +123,48 @@ When using the REST API directly, the subscription availability options are avai\n     </tr>\n     </tbody>\n     </table>\n+    \n+    \n+## Control API Document Visibility in Developer Portal\n+\n+By default, any document associated with an API has the same visibility level of the API. That is, if the API is public, \n+its documentation is also visible to all users (registered and anonymous).\n+\n+!!! note", "originalCommit": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY1MTg5NA==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r466651894", "bodyText": "fixed in 9234c7c", "author": "isuruh15", "createdAt": "2020-08-06T19:56:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTQzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTU1MQ==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r460361551", "bodyText": "these visibility level names do not give the idea of the explained.", "author": "shaniR", "createdAt": "2020-07-25T04:08:39Z", "path": "en/docs/learn/design-api/advanced-topics/control-api-visibility-and-subscription-availability-in-developer-portal.md", "diffHunk": "@@ -123,6 +123,48 @@ When using the REST API directly, the subscription availability options are avai\n     </tr>\n     </tbody>\n     </table>\n+    \n+    \n+## Control API Document Visibility in Developer Portal\n+\n+By default, any document associated with an API has the same visibility level of the API. That is, if the API is public, \n+its documentation is also visible to all users (registered and anonymous).\n+\n+!!! note\n+    This feature has been disabled in the default setup.\n+     \n+To enable other visibility levels to the documentation, go to the  \n+`<API-M_HOME>/repository/conf/deployment.toml`, \n+add the following configuration.\n+\n+``` toml\n+[apim.publisher]\n+enable_api_doc_visibility = \"true\"\n+```\n+\n+Document visibility levels can be one of the following options:\n+\n+- **Same as API visibility:** visible to the same user roles who can see the API. For example, if the API's visibility is public, its documentation is visible to all users.", "originalCommit": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY1MTgwMQ==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r466651801", "bodyText": "Changed names in 9234c7c .", "author": "isuruh15", "createdAt": "2020-08-06T19:55:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTU1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTYzNA==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r460361634", "bodyText": "This should be the next step.", "author": "shaniR", "createdAt": "2020-07-25T04:09:32Z", "path": "en/docs/learn/design-api/advanced-topics/control-api-visibility-and-subscription-availability-in-developer-portal.md", "diffHunk": "@@ -123,6 +123,48 @@ When using the REST API directly, the subscription availability options are avai\n     </tr>\n     </tbody>\n     </table>\n+    \n+    \n+## Control API Document Visibility in Developer Portal\n+\n+By default, any document associated with an API has the same visibility level of the API. That is, if the API is public, \n+its documentation is also visible to all users (registered and anonymous).\n+\n+!!! note\n+    This feature has been disabled in the default setup.\n+     \n+To enable other visibility levels to the documentation, go to the  \n+`<API-M_HOME>/repository/conf/deployment.toml`, \n+add the following configuration.\n+\n+``` toml\n+[apim.publisher]\n+enable_api_doc_visibility = \"true\"\n+```\n+\n+Document visibility levels can be one of the following options:\n+\n+- **Same as API visibility:** visible to the same user roles who can see the API. For example, if the API's visibility is public, its documentation is visible to all users.\n+- **Owner Only:** visible to all registered users in the API's tenant domain.\n+- **Private:** visible only to the users who have permission to log in to the API Publisher web interface and create and/or publish APIs to the Developer Portal.\n+\n+\n+### Control API document visibility using the API Publisher\n+\n+1.  Sign in to the API Publisher as an API creator using the following URL: \n+\n+     `https://<localhost>:9443/publisher`\n+\n+2.  [Create a new API]({{base_path}}/learn/design-api/create-api/create-a-rest-api/) or edit an existing API.\n+\n+3.  In the **Documents** tab, Click **Add New Document**, to see a new drop-down list added to select visibility from. \n+Select the desired visibility level for the document.", "originalCommit": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY1MTMyOQ==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r466651329", "bodyText": "fixed in 9234c7c", "author": "isuruh15", "createdAt": "2020-08-06T19:54:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTYzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTY3MA==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r460361670", "bodyText": "What are the visibility levels for the publisher?", "author": "shaniR", "createdAt": "2020-07-25T04:09:56Z", "path": "en/docs/learn/design-api/advanced-topics/control-api-visibility-and-subscription-availability-in-developer-portal.md", "diffHunk": "@@ -123,6 +123,48 @@ When using the REST API directly, the subscription availability options are avai\n     </tr>\n     </tbody>\n     </table>\n+    \n+    \n+## Control API Document Visibility in Developer Portal\n+\n+By default, any document associated with an API has the same visibility level of the API. That is, if the API is public, \n+its documentation is also visible to all users (registered and anonymous).\n+\n+!!! note\n+    This feature has been disabled in the default setup.\n+     \n+To enable other visibility levels to the documentation, go to the  \n+`<API-M_HOME>/repository/conf/deployment.toml`, \n+add the following configuration.\n+\n+``` toml\n+[apim.publisher]\n+enable_api_doc_visibility = \"true\"\n+```\n+\n+Document visibility levels can be one of the following options:\n+\n+- **Same as API visibility:** visible to the same user roles who can see the API. For example, if the API's visibility is public, its documentation is visible to all users.\n+- **Owner Only:** visible to all registered users in the API's tenant domain.\n+- **Private:** visible only to the users who have permission to log in to the API Publisher web interface and create and/or publish APIs to the Developer Portal.\n+\n+\n+### Control API document visibility using the API Publisher\n+\n+1.  Sign in to the API Publisher as an API creator using the following URL: \n+\n+     `https://<localhost>:9443/publisher`\n+\n+2.  [Create a new API]({{base_path}}/learn/design-api/create-api/create-a-rest-api/) or edit an existing API.\n+\n+3.  In the **Documents** tab, Click **Add New Document**, to see a new drop-down list added to select visibility from. \n+Select the desired visibility level for the document.\n+     \n+     [ ![API document visibility selector]({{base_path}}/assets/img/learn/api-doc-visibility-selector.png) ](/{{base_path}}/assets/img/learn/api-doc-visibility-selector.png)\n+     [ ![API document visibility selector dropdown]({{base_path}}/assets/img/learn/api-doc-visibility-dropdown.png) ](/{{base_path}}/assets/img/learn/api-doc-visibility-dropdown.png)\n+\n+4.  Add the Document.", "originalCommit": "99fb305b6dcf7556dc87749e3491ce3612c282e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2NzM0Ng==", "url": "https://github.com/wso2/docs-apim/pull/1563#discussion_r462967346", "bodyText": "There's no visibility control in publisher. Every user who has access to Publisher portal can see all the documents.", "author": "isuruh15", "createdAt": "2020-07-30T12:42:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MTY3MA=="}], "type": "inlineReview"}, {"oid": "9234c7c349891cd3ca55581818e1bfe43ba75e9d", "url": "https://github.com/wso2/docs-apim/commit/9234c7c349891cd3ca55581818e1bfe43ba75e9d", "message": "Moved the content under API Documentation section", "committedDate": "2020-08-06T19:52:04Z", "type": "commit"}, {"oid": "5ac01b7fe6cc11dec1eede0a795854d602c79e4a", "url": "https://github.com/wso2/docs-apim/commit/5ac01b7fe6cc11dec1eede0a795854d602c79e4a", "message": "removing unnecessary spaces.", "committedDate": "2020-08-06T20:12:33Z", "type": "commit"}]}