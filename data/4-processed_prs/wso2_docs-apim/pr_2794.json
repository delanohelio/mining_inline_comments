{"pr_number": 2794, "pr_title": "Improve distributed diployment doc", "pr_createdAt": "2020-12-23T06:46:01Z", "pr_url": "https://github.com/wso2/docs-apim/pull/2794", "timeline": [{"oid": "ce047a51d921723ef95ea5867a3ab1af35839f45", "url": "https://github.com/wso2/docs-apim/commit/ce047a51d921723ef95ea5867a3ab1af35839f45", "message": "Improve distributed diployment doc", "committedDate": "2020-12-23T06:43:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc4Nzc2OQ==", "url": "https://github.com/wso2/docs-apim/pull/2794#discussion_r547787769", "bodyText": "Start with capital. Please fix this in other places as well.", "author": "tgtshanika", "createdAt": "2020-12-23T08:12:52Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/understanding-the-distributed-deployment-of-wso2-api-m.md", "diffHunk": "@@ -91,3 +91,238 @@ In the following diagram, the five components are set up in a distributed deploy\n [![Understanding the distributed deployment]({{base_path}}/assets/img/setup-and-install/db-connections-distributed-deployment.png)]({{base_path}}/assets/img/setup-and-install/db-connections-distributed-deployment.png)\n \n \n+??? \"Click here for more details on default communication ports among components.\"\n+    [![Communication ports among components]({{base_path}}/assets/img/setup-and-install/communication-among-port.png)]({{base_path}}/assets/img/setup-and-install/communication-among-port.png)\n+    **Open port among profiles**\n+    <table>\n+    <thead>\n+    <tr class=\"header\">\n+    <th>Client</th>\n+    <th>Server</th>\n+    <th>Port</th>\n+    <th>Description</th>\n+    </tr>\n+    </thead>\n+    <tbody>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Token validation, token, revoke, authorize endpoint, block condition, revoke tokens\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+        <td>\n+            Publishing analytics events\n+        </td>\n+     </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+            authenticate to Publishing analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>Traffic Manager</td>\n+    <td>9611</td>\n+        <td>\n+            Publishing throttling events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Traffic Managerr</td>\n+    <td>9711</td>\n+        <td>\n+            authenticate to Publisherlishing throttling events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Deploying throttling policy via admin portal\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9611</td>\n+        <td>\n+            Publishing events like block condition, token revocation\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9711</td>\n+        <td>\n+            authenticate to Publishing events", "originalCommit": "ce047a51d921723ef95ea5867a3ab1af35839f45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc5NzcwOQ==", "url": "https://github.com/wso2/docs-apim/pull/2794#discussion_r547797709", "bodyText": "Fixed with 8c01a94", "author": "Krishanx92", "createdAt": "2020-12-23T08:23:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc4Nzc2OQ=="}], "type": "inlineReview"}, {"oid": "8c01a94ac09eb016f84e0d7213401826fe556d83", "url": "https://github.com/wso2/docs-apim/commit/8c01a94ac09eb016f84e0d7213401826fe556d83", "message": "Fix comments", "committedDate": "2020-12-23T08:23:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgyNDA0NA==", "url": "https://github.com/wso2/docs-apim/pull/2794#discussion_r547824044", "bodyText": "WSS / WS - Shall we include web socket/ web socket secure in brackest", "author": "tgtshanika", "createdAt": "2020-12-23T08:55:11Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/understanding-the-distributed-deployment-of-wso2-api-m.md", "diffHunk": "@@ -91,3 +91,238 @@ In the following diagram, the five components are set up in a distributed deploy\n [![Understanding the distributed deployment]({{base_path}}/assets/img/setup-and-install/db-connections-distributed-deployment.png)]({{base_path}}/assets/img/setup-and-install/db-connections-distributed-deployment.png)\n \n \n+??? \"Click here for more details on default communication ports among components.\"\n+    [![Communication ports among components]({{base_path}}/assets/img/setup-and-install/communication-among-port.png)]({{base_path}}/assets/img/setup-and-install/communication-among-port.png)\n+    **Open port among profiles**\n+    <table>\n+    <thead>\n+    <tr class=\"header\">\n+    <th>Client</th>\n+    <th>Server</th>\n+    <th>Port</th>\n+    <th>Description</th>\n+    </tr>\n+    </thead>\n+    <tbody>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Token validation, token, revoke, authorize endpoint, block condition, revoke tokens\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+        <td>\n+            Publishing analytics events\n+        </td>\n+     </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+            Authenticate to publishing analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>Traffic Manager</td>\n+    <td>9611</td>\n+        <td>\n+            Publishing throttling events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Traffic Managerr</td>\n+    <td>9711</td>\n+        <td>\n+            Authenticate to publishing throttling events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Deploying throttling policy via admin portal\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9611</td>\n+        <td>\n+            Publishing events like block condition, token revocation\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9711</td>\n+        <td>\n+            Authenticate to publishing events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Gateway</td>\n+    <td>9443</td>\n+        <td>\n+           Deploy API artifacts\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+         <td>\n+            Publishing alert analytics events\n+         </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+            Authenticate to publishing alert analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Analytics Worker</td>\n+    <td>7444</td>\n+        <td>\n+            Fetch all the generated alerts\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Dev Portal</td>\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+         <td>\n+            Register auth app and generate app keys\n+         </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Dev Portal</td>\n+    <td>Gateway</td>\n+    <td>8243</td>\n+         <td>\n+            Token endpoint and revoke endpoint\n+         </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Dev Portal</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+    <td>\n+        Publishing alert analytics events\n+    </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Dev Portal</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+           Authenticate to publishing alert analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Analytics Dashboard</td>\n+    <td>Analytics Worker</td>\n+    <td>9444</td>\n+         <td>\n+            Deploy business rules\n+         </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Analytics Dashboard</td>\n+    <td>Publisher</td>\n+    <td>9443</td>\n+         <td>\n+            Use admin and Publisher rest APIs\n+         </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Analytics Dashboard</td>\n+    <td>Dev Portal</td>\n+    <td>9443</td>\n+         <td>\n+            Use Dev Portal portal rest APIs\n+         </td>\n+    </tr>\n+    </tbody>\n+    </table>\n+    **Open port for Load balancer/User**\n+    <table>\n+    <thead>\n+    <tr class=\"header\">\n+    <th>Server</th>\n+    <th>Port</th>\n+    <th>Description</th>\n+    </tr>\n+    </thead>\n+    <tbody>\n+    <tr class=\"odd\">\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Token endpoint and identity rest APIs/web apps\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>8243</td>\n+        <td>\n+            Gateway nio HTTPS\n+        </td>\n+     </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>8280</td>\n+        <td>\n+            Gateway nio HTTP\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>8099</td>\n+        <td>\n+            Gateway WS\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>9099</td>\n+        <td>\n+            Gateway WSS", "originalCommit": "8c01a94ac09eb016f84e0d7213401826fe556d83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg0MTYyMA==", "url": "https://github.com/wso2/docs-apim/pull/2794#discussion_r547841620", "bodyText": "Fixed 53f2b25", "author": "Krishanx92", "createdAt": "2020-12-23T09:15:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgyNDA0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgyNDQ2Mw==", "url": "https://github.com/wso2/docs-apim/pull/2794#discussion_r547824463", "bodyText": "REST", "author": "tgtshanika", "createdAt": "2020-12-23T08:55:34Z", "path": "en/docs/install-and-setup/setup/distributed-deployment/understanding-the-distributed-deployment-of-wso2-api-m.md", "diffHunk": "@@ -91,3 +91,238 @@ In the following diagram, the five components are set up in a distributed deploy\n [![Understanding the distributed deployment]({{base_path}}/assets/img/setup-and-install/db-connections-distributed-deployment.png)]({{base_path}}/assets/img/setup-and-install/db-connections-distributed-deployment.png)\n \n \n+??? \"Click here for more details on default communication ports among components.\"\n+    [![Communication ports among components]({{base_path}}/assets/img/setup-and-install/communication-among-port.png)]({{base_path}}/assets/img/setup-and-install/communication-among-port.png)\n+    **Open port among profiles**\n+    <table>\n+    <thead>\n+    <tr class=\"header\">\n+    <th>Client</th>\n+    <th>Server</th>\n+    <th>Port</th>\n+    <th>Description</th>\n+    </tr>\n+    </thead>\n+    <tbody>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Token validation, token, revoke, authorize endpoint, block condition, revoke tokens\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+        <td>\n+            Publishing analytics events\n+        </td>\n+     </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+            Authenticate to publishing analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Gateway</td>\n+    <td>Traffic Manager</td>\n+    <td>9611</td>\n+        <td>\n+            Publishing throttling events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Gateway</td>\n+    <td>Traffic Managerr</td>\n+    <td>9711</td>\n+        <td>\n+            Authenticate to publishing throttling events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Deploying throttling policy via admin portal\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9611</td>\n+        <td>\n+            Publishing events like block condition, token revocation\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Traffic Manager</td>\n+    <td>9711</td>\n+        <td>\n+            Authenticate to publishing events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Gateway</td>\n+    <td>9443</td>\n+        <td>\n+           Deploy API artifacts\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+         <td>\n+            Publishing alert analytics events\n+         </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Publisher</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+            Authenticate to publishing alert analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Publisher</td>\n+    <td>Analytics Worker</td>\n+    <td>7444</td>\n+        <td>\n+            Fetch all the generated alerts\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Dev Portal</td>\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+         <td>\n+            Register auth app and generate app keys\n+         </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Dev Portal</td>\n+    <td>Gateway</td>\n+    <td>8243</td>\n+         <td>\n+            Token endpoint and revoke endpoint\n+         </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Dev Portal</td>\n+    <td>Analytics Worker</td>\n+    <td>7612</td>\n+    <td>\n+        Publishing alert analytics events\n+    </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Dev Portal</td>\n+    <td>Analytics Worker</td>\n+    <td>7712</td>\n+        <td>\n+           Authenticate to publishing alert analytics events\n+        </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Analytics Dashboard</td>\n+    <td>Analytics Worker</td>\n+    <td>9444</td>\n+         <td>\n+            Deploy business rules\n+         </td>\n+    </tr>\n+    <tr class=\"even\">\n+    <td>Analytics Dashboard</td>\n+    <td>Publisher</td>\n+    <td>9443</td>\n+         <td>\n+            Use admin and Publisher rest APIs\n+         </td>\n+    </tr>\n+    <tr class=\"odd\">\n+    <td>Analytics Dashboard</td>\n+    <td>Dev Portal</td>\n+    <td>9443</td>\n+         <td>\n+            Use Dev Portal portal rest APIs\n+         </td>\n+    </tr>\n+    </tbody>\n+    </table>\n+    **Open port for Load balancer/User**\n+    <table>\n+    <thead>\n+    <tr class=\"header\">\n+    <th>Server</th>\n+    <th>Port</th>\n+    <th>Description</th>\n+    </tr>\n+    </thead>\n+    <tbody>\n+    <tr class=\"odd\">\n+    <td>Key Manager</td>\n+    <td>9443</td>\n+        <td>\n+            Token endpoint and identity rest APIs/web apps", "originalCommit": "8c01a94ac09eb016f84e0d7213401826fe556d83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg0MTc0MQ==", "url": "https://github.com/wso2/docs-apim/pull/2794#discussion_r547841741", "bodyText": "Fixed 53f2b25", "author": "Krishanx92", "createdAt": "2020-12-23T09:15:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgyNDQ2Mw=="}], "type": "inlineReview"}, {"oid": "53f2b25ff98ad62ce7f3f97ec7273e932e4825b0", "url": "https://github.com/wso2/docs-apim/commit/53f2b25ff98ad62ce7f3f97ec7273e932e4825b0", "message": "Fix comment", "committedDate": "2020-12-23T09:14:16Z", "type": "commit"}]}