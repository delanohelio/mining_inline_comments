{"pr_number": 1005, "pr_title": "Modifying documentation on Configuring Environment Specific Parameters", "pr_createdAt": "2020-04-09T05:39:11Z", "pr_url": "https://github.com/wso2/docs-apim/pull/1005", "timeline": [{"oid": "60791a266d1a7e8d6355b4176a1892b19b093b3a", "url": "https://github.com/wso2/docs-apim/commit/60791a266d1a7e8d6355b4176a1892b19b093b3a", "message": "Add new page for env specific details", "committedDate": "2020-04-09T05:24:18Z", "type": "commit"}, {"oid": "7066da2079facd9a6161783bf4a9526dfb26d93e", "url": "https://github.com/wso2/docs-apim/commit/7066da2079facd9a6161783bf4a9526dfb26d93e", "message": "Edit existing env specific details in pages", "committedDate": "2020-04-09T05:28:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTM0OQ==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r566559349", "bodyText": "Shall we change this to \"you can provide a\"?", "author": "hisanhunais", "createdAt": "2021-01-29T03:39:23Z", "path": "en/docs/learn/api-controller/advanced-topics/configuring-environment-specific-parameters.md", "diffHunk": "@@ -0,0 +1,82 @@\n+#  Configuring Environment Specific Parameters\n+\n+When there are multiple environments, to allow easily configuring environment-specific details, apictl supports an additional parameter file named `api_params.yaml`. It is recommended to store the parameter file with the API Project; however, it can be stored anywhere as required. \n+\n+After the file is placed in the project directory, the tool will auto-detect the parameters file upon running the `import-api` command and create an environment-based artifact for API Manager. If the `api_params.yaml` is not found in the project directory, the tool will lookup in the project\u2019s base path and the current working directory. \n+\n+The following is the structure of the parameter file.\n+\n+```go\n+environments:\n+    - name: <environment_name>\n+      endpoints:\n+          production:\n+              url: <production_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+          sandbox:\n+              url: <sandbox_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+      security:\n+        - enabled: <whether_security_is_enabled>\n+          type: <endpoint_authentication_type_basic_or_digest>\n+          username: <endpoint_username>\n+          password: <endpoint_password>\n+      gatewayEnvironments:\n+        - <gateway_environment_name>           \n+      certs:\n+        - hostName: <endpoint_url>\n+          alias: <certificate_alias>\n+          path: <certificate_file_path>\n+```\n+The following code snippet contains sample configuration of the parameter file.\n+\n+!!! example\n+    ```go\n+    environments:\n+        - name: dev\n+          endpoints:\n+            production:\n+              url: 'https://dev.wso2.com'\n+          security:\n+           - enabled: true\n+             type: basic\n+             username: admin\n+             password: admin\n+          certs:\n+            - hostName: 'https://dev.wso2.com'\n+              alias: Dev\n+              path: ~/.certs/dev.pem \n+          gatewayEnvironments:\n+            - Production and Sandbox    \n+        - name: test\n+          endpoints:\n+            production:\n+              url: 'https://test.wso2.com'\n+          security:\n+           - enabled: true\n+             type: digest\n+             username: admin\n+             password: admin\n+              config:\n+                retryTimeOut: $RETRY\n+            sandbox:\n+              url: 'https://test.sandbox.wso2.com'\n+    ```\n+Instead of the default `api_params.yaml`, you can a provide custom parameter file using `--params` flag. A sample command will be as follows.", "originalCommit": "7066da2079facd9a6161783bf4a9526dfb26d93e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTUzOTYzMA==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r571539630", "bodyText": "Fixed via 74cdaa1", "author": "wasuradananjith", "createdAt": "2021-02-07T04:57:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTM0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTU0MDQ1OQ==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r571540459", "bodyText": "Fixed via edd8ae4 for 3.2.0", "author": "wasuradananjith", "createdAt": "2021-02-07T05:07:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTM0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTU0NDMwMw==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r571544303", "bodyText": "Fixed via 5f5c672 for 3.1.0", "author": "wasuradananjith", "createdAt": "2021-02-07T05:18:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTM0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTU0NDcyMw==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r571544723", "bodyText": "Fixed via 0dde1cd for 3.0.0", "author": "wasuradananjith", "createdAt": "2021-02-07T05:23:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTM0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTgyOA==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r566559828", "bodyText": "In the middle of the second line, shall we change \"non\" to \"none\"?", "author": "hisanhunais", "createdAt": "2021-01-29T03:41:03Z", "path": "en/docs/learn/api-controller/advanced-topics/configuring-environment-specific-parameters.md", "diffHunk": "@@ -0,0 +1,82 @@\n+#  Configuring Environment Specific Parameters\n+\n+When there are multiple environments, to allow easily configuring environment-specific details, apictl supports an additional parameter file named `api_params.yaml`. It is recommended to store the parameter file with the API Project; however, it can be stored anywhere as required. \n+\n+After the file is placed in the project directory, the tool will auto-detect the parameters file upon running the `import-api` command and create an environment-based artifact for API Manager. If the `api_params.yaml` is not found in the project directory, the tool will lookup in the project\u2019s base path and the current working directory. \n+\n+The following is the structure of the parameter file.\n+\n+```go\n+environments:\n+    - name: <environment_name>\n+      endpoints:\n+          production:\n+              url: <production_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+          sandbox:\n+              url: <sandbox_endpoint_url>\n+              config:\n+                  retryTimeOut: <no_of_retries_before_suspension>\n+                  retryDelay: <retry_delay_in_ms>\n+                  factor: <suspension_factor>\n+      security:\n+        - enabled: <whether_security_is_enabled>\n+          type: <endpoint_authentication_type_basic_or_digest>\n+          username: <endpoint_username>\n+          password: <endpoint_password>\n+      gatewayEnvironments:\n+        - <gateway_environment_name>           \n+      certs:\n+        - hostName: <endpoint_url>\n+          alias: <certificate_alias>\n+          path: <certificate_file_path>\n+```\n+The following code snippet contains sample configuration of the parameter file.\n+\n+!!! example\n+    ```go\n+    environments:\n+        - name: dev\n+          endpoints:\n+            production:\n+              url: 'https://dev.wso2.com'\n+          security:\n+           - enabled: true\n+             type: basic\n+             username: admin\n+             password: admin\n+          certs:\n+            - hostName: 'https://dev.wso2.com'\n+              alias: Dev\n+              path: ~/.certs/dev.pem \n+          gatewayEnvironments:\n+            - Production and Sandbox    \n+        - name: test\n+          endpoints:\n+            production:\n+              url: 'https://test.wso2.com'\n+          security:\n+           - enabled: true\n+             type: digest\n+             username: admin\n+             password: admin\n+              config:\n+                retryTimeOut: $RETRY\n+            sandbox:\n+              url: 'https://test.sandbox.wso2.com'\n+    ```\n+Instead of the default `api_params.yaml`, you can a provide custom parameter file using `--params` flag. A sample command will be as follows.\n+\n+!!! example\n+    ```go\n+    apictl import-api -f dev/PhoneVerification_1.0.zip -e production --params /home/user/custom_params.yaml \n+    ```\n+\n+!!! info\n+    -   Production/Sandbox backends for each environment can be specified in the parameter file with additional configurations, such as timeouts.\n+    -   Under the security field, if the `enabled` attribute is `true`, you must specify the `username`, `password` and the `type` (can be either only `basic` or `digest`). If the `enabled` attribute is `false`, then non of the security parameters will be set. If the `enabled` attribute is not set (blank), then the security parameters in api.yaml file will be considered.", "originalCommit": "7066da2079facd9a6161783bf4a9526dfb26d93e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU2MTY1MA==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r566561650", "bodyText": "This is already fixed in the master branch via c049f02", "author": "wasuradananjith", "createdAt": "2021-01-29T03:48:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTgyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTU0MDQ0MQ==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r571540441", "bodyText": "Fixed via edd8ae4 for 3.2.0", "author": "wasuradananjith", "createdAt": "2021-02-07T05:07:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTgyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTU0NDI5Mw==", "url": "https://github.com/wso2/docs-apim/pull/1005#discussion_r571544293", "bodyText": "Fixed via 5f5c672 for 3.1.0", "author": "wasuradananjith", "createdAt": "2021-02-07T05:18:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjU1OTgyOA=="}], "type": "inlineReview"}]}