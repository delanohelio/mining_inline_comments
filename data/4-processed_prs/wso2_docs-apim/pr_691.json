{"pr_number": 691, "pr_title": "Reviewed and updated content for 3.1.0", "pr_createdAt": "2020-02-03T09:40:00Z", "pr_url": "https://github.com/wso2/docs-apim/pull/691", "timeline": [{"oid": "c1a0265df12bc16dff1fd11601317c6a67977eb0", "url": "https://github.com/wso2/docs-apim/commit/c1a0265df12bc16dff1fd11601317c6a67977eb0", "message": "reviewed and updated en/docs/WIP/configuring-api-security-audit.md", "committedDate": "2020-02-03T08:36:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAwNjIwMQ==", "url": "https://github.com/wso2/docs-apim/pull/691#discussion_r374006201", "bodyText": "We could make this \"Audit API\" since that term has been used elsewhere in the doc", "author": "sanjulamadurapperuma", "createdAt": "2020-02-03T09:49:08Z", "path": "en/docs/WIP/configuring-api-security-audit.md", "diffHunk": "@@ -1,82 +1,87 @@\n-## Securing APIs by auditing API Definitions\n+# Securing APIs by Auditing API Definitions\n \n-API Security has become an important concern in recent times as organizations are more cautious about exposing raw, sensitive data via APIs. Therefore it is important that APIs adhere to the OpenAPI Specification (OAS) to ensure API security.\n+API Security has become an important concern in recent times as organizations are more cautious about exposing raw, sensitive data via APIs. Therefore, it is important that APIs adhere to the OpenAPI Specification (OAS) to ensure API security.\n \n-WSO2 API-M has partnered with 42Crunch, the only enterprise API security platform, to bring in the ability to conduct a security audit on the OpenAPI Specification definition and to obtain an audit report.\n+WSO2 API-M has partnered with [42Crunch](https://42crunch.com/), the only enterprise API security platform, to bring in the ability to conduct a security audit on the OpenAPI Specification definition and to obtain an audit report.\n \n-## Enable the Audit API feature\n+## Step 1 - Enable Audit API\n \n-### Obtain API Token and Collection ID from 42Crunch\n+### Step 1.1 - Obtain API token and collection ID\n+\n+Follow the instructions below to obtain the API token and collection ID from 42Crunch:\n \n 1.  Navigate to the [42crunch platform](https://platform.42crunch.com) and register or sign in.\n \n-2.  Click on **Settings** on the user menu.\n+2.  Click **Settings**.\n+\n+     [![api token settings menu]({{base_path}}/assets/img/Learn/api-token-settings-menu.png)]({{base_path}}/assets/img/Learn/api-token-settings-menu.png)\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-settings-menu.png)\n+3.  Click **API Tokens** and click **Create New Token**.\n \n-3.  Click on the **API Tokens** tab and select **Create New Token**\n+     [![api token create button]({{base_path}}/assets/img/Learn/api-token-create-button.png)]({{base_path}}/assets/img/Learn/api-token-create-button.png)\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-create-button.png)\n+4.  Enter a name for the token and select **API Contract Security Audit** as the token access right. \n \n-4.  Enter a name for the token and select **API Contract Security Audit** under token access right. For the audit feature to work, only the **API Contract Security Audit** permission is required.\n+     When working with API Audit, you only need to select the **API Contract Security Audit** permission.\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-dialog-box.png)\n+     [![api token dialog box]({{base_path}}/assets/img/Learn/api-token-dialog-box.png)]({{base_path}}/assets/img/Learn/api-token-dialog-box.png)\n \n-5.  Click on the **Generate Token**.\n+5.  Click **Generate Token**.\n \n     !!! note \n-        The generated API Token can be viewed only once. Make sure to copy it and save it in a safe place for reference.\n+        The generated API Token can be viewed only once. Make sure to copy it and save it in a safe place for future reference.\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-copy-generated.png)\n+     [![API token copy generated]({{base_path}}/assets/img/Learn/api-token-copy-generated.png)]({{base_path}}/assets/img/Learn/api-token-copy-generated.png)\n \n-6.  Create a collection by clicking on **API Collections** from the left navigation bar or by clicking on **+ New Collection** at the bottom of the left navigation.\n+6.  Click either **API Collections** in the left navigation bar or click **+ New Collection** at the bottom of the left navigation to create a collection.\n \n-    !!! note\n-        A Collection in this context is a folder hosted on 42Crunch containing all the APIs that are to be audited.\n+     A Collection in this context is a folder hosted on 42Crunch containing all the APIs that are to be audited.\n \n-    ![]({{base_path}}/assets/img/Learn/collection-create-new.png)\n+     [![create new collection]({{base_path}}/assets/img/Learn/collection-create-new.png)]({{base_path}}/assets/img/Learn/collection-create-new.png)\n \n 7.  Copy the Collection ID from the URL of the browser as highlighted below and save it in a safe place for reference.\n \n-    ![]({{base_path}}/assets/img/Learn/collection-copy-id.png)\n+     [![copy collection id]({{base_path}}/assets/img/Learn/collection-copy-id.png)]({{base_path}}/assets/img/Learn/collection-copy-id.png)\n \n-### Configure WSO2 API-M with the retrieved properties\n+### Step 1.2 - Configure WSO2 API-M\n \n-The API Token and Collection ID properties have to be placed inside the configuration files inside WSO2 API-M. There are two ways to do so.\n+You need to add the API Token and Collection ID properties inside the configuration files in WSO2 API-M in order to configure WSO2 API-M with the retrieved properties. Use one of the following methods to carry out this process.\n \n-#### Enabling the feature for all tenants\n+#### Enable API security audit for all tenants", "originalCommit": "c1a0265df12bc16dff1fd11601317c6a67977eb0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAxMDU3NQ==", "url": "https://github.com/wso2/docs-apim/pull/691#discussion_r374010575", "bodyText": "Fixed in\n38cee29", "author": "Mariangela", "createdAt": "2020-02-03T09:57:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAwNjIwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAwNjQ1MQ==", "url": "https://github.com/wso2/docs-apim/pull/691#discussion_r374006451", "bodyText": "\"Audit API\" here as well", "author": "sanjulamadurapperuma", "createdAt": "2020-02-03T09:49:37Z", "path": "en/docs/WIP/configuring-api-security-audit.md", "diffHunk": "@@ -1,82 +1,87 @@\n-## Securing APIs by auditing API Definitions\n+# Securing APIs by Auditing API Definitions\n \n-API Security has become an important concern in recent times as organizations are more cautious about exposing raw, sensitive data via APIs. Therefore it is important that APIs adhere to the OpenAPI Specification (OAS) to ensure API security.\n+API Security has become an important concern in recent times as organizations are more cautious about exposing raw, sensitive data via APIs. Therefore, it is important that APIs adhere to the OpenAPI Specification (OAS) to ensure API security.\n \n-WSO2 API-M has partnered with 42Crunch, the only enterprise API security platform, to bring in the ability to conduct a security audit on the OpenAPI Specification definition and to obtain an audit report.\n+WSO2 API-M has partnered with [42Crunch](https://42crunch.com/), the only enterprise API security platform, to bring in the ability to conduct a security audit on the OpenAPI Specification definition and to obtain an audit report.\n \n-## Enable the Audit API feature\n+## Step 1 - Enable Audit API\n \n-### Obtain API Token and Collection ID from 42Crunch\n+### Step 1.1 - Obtain API token and collection ID\n+\n+Follow the instructions below to obtain the API token and collection ID from 42Crunch:\n \n 1.  Navigate to the [42crunch platform](https://platform.42crunch.com) and register or sign in.\n \n-2.  Click on **Settings** on the user menu.\n+2.  Click **Settings**.\n+\n+     [![api token settings menu]({{base_path}}/assets/img/Learn/api-token-settings-menu.png)]({{base_path}}/assets/img/Learn/api-token-settings-menu.png)\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-settings-menu.png)\n+3.  Click **API Tokens** and click **Create New Token**.\n \n-3.  Click on the **API Tokens** tab and select **Create New Token**\n+     [![api token create button]({{base_path}}/assets/img/Learn/api-token-create-button.png)]({{base_path}}/assets/img/Learn/api-token-create-button.png)\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-create-button.png)\n+4.  Enter a name for the token and select **API Contract Security Audit** as the token access right. \n \n-4.  Enter a name for the token and select **API Contract Security Audit** under token access right. For the audit feature to work, only the **API Contract Security Audit** permission is required.\n+     When working with API Audit, you only need to select the **API Contract Security Audit** permission.\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-dialog-box.png)\n+     [![api token dialog box]({{base_path}}/assets/img/Learn/api-token-dialog-box.png)]({{base_path}}/assets/img/Learn/api-token-dialog-box.png)\n \n-5.  Click on the **Generate Token**.\n+5.  Click **Generate Token**.\n \n     !!! note \n-        The generated API Token can be viewed only once. Make sure to copy it and save it in a safe place for reference.\n+        The generated API Token can be viewed only once. Make sure to copy it and save it in a safe place for future reference.\n \n-    ![]({{base_path}}/assets/img/Learn/api-token-copy-generated.png)\n+     [![API token copy generated]({{base_path}}/assets/img/Learn/api-token-copy-generated.png)]({{base_path}}/assets/img/Learn/api-token-copy-generated.png)\n \n-6.  Create a collection by clicking on **API Collections** from the left navigation bar or by clicking on **+ New Collection** at the bottom of the left navigation.\n+6.  Click either **API Collections** in the left navigation bar or click **+ New Collection** at the bottom of the left navigation to create a collection.\n \n-    !!! note\n-        A Collection in this context is a folder hosted on 42Crunch containing all the APIs that are to be audited.\n+     A Collection in this context is a folder hosted on 42Crunch containing all the APIs that are to be audited.\n \n-    ![]({{base_path}}/assets/img/Learn/collection-create-new.png)\n+     [![create new collection]({{base_path}}/assets/img/Learn/collection-create-new.png)]({{base_path}}/assets/img/Learn/collection-create-new.png)\n \n 7.  Copy the Collection ID from the URL of the browser as highlighted below and save it in a safe place for reference.\n \n-    ![]({{base_path}}/assets/img/Learn/collection-copy-id.png)\n+     [![copy collection id]({{base_path}}/assets/img/Learn/collection-copy-id.png)]({{base_path}}/assets/img/Learn/collection-copy-id.png)\n \n-### Configure WSO2 API-M with the retrieved properties\n+### Step 1.2 - Configure WSO2 API-M\n \n-The API Token and Collection ID properties have to be placed inside the configuration files inside WSO2 API-M. There are two ways to do so.\n+You need to add the API Token and Collection ID properties inside the configuration files in WSO2 API-M in order to configure WSO2 API-M with the retrieved properties. Use one of the following methods to carry out this process.\n \n-#### Enabling the feature for all tenants\n+#### Enable API security audit for all tenants\n \n-Navigate to the `<API-M_HOME>/repository/conf/deployment.toml` file. Add the following configuration to the file and save the changes.\n+1.  Navigate to the `<API-M_HOME>/repository/conf/deployment.toml` file. \n \n-``` bash tab=\"Format\"\n+2.  Add the following configuration to the file and save the changes.\n+\n+     ``` bash tab=\"Format\"\n     [security_audit]\n     api_token=\"{api-token}\"\n     collection_id=\"{collection-id}\"\n     global=true\n-```\n+     ```\n \n-``` bash tab=\"Example\"\n+     ``` bash tab=\"Example\"\n     [security_audit]\n     api_token=\"c21404ea-p13x-1swq-013a-pur90605uiwl\"\n     collection_id=\"a5213vyo-6tre-560u-p04h-p0inb98i0gt1\"\n     global=true\n-```\n+     ```\n \n-!!! tip\n-    Set **global** property to **false** to disable the feature for all other tenants except the super tenant.\n+    !!! tip\n+        Set the **global** property to **false** to disable the feature for all other tenants except the super tenant.\n \n-#### Enabling the feature for a single tenant\n+#### Enable API security audit for a single tenant", "originalCommit": "c1a0265df12bc16dff1fd11601317c6a67977eb0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAxMDYzMg==", "url": "https://github.com/wso2/docs-apim/pull/691#discussion_r374010632", "bodyText": "Fixed in 38cee29", "author": "Mariangela", "createdAt": "2020-02-03T09:57:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAwNjQ1MQ=="}], "type": "inlineReview"}, {"oid": "8bd859405559e886a4299a6db051929ea7b6baae", "url": "https://github.com/wso2/docs-apim/commit/8bd859405559e886a4299a6db051929ea7b6baae", "message": "Fixed the link to a broken image publish-to-multiple-external-api-stores.md", "committedDate": "2020-02-03T09:52:04Z", "type": "commit"}, {"oid": "38cee297b92e014c794b38f3e71091b8f9718df0", "url": "https://github.com/wso2/docs-apim/commit/38cee297b92e014c794b38f3e71091b8f9718df0", "message": "Updated based on PR review comments", "committedDate": "2020-02-03T09:55:58Z", "type": "commit"}, {"oid": "a635781cc10f71b9edddf7665526b6bf3c2bee5c", "url": "https://github.com/wso2/docs-apim/commit/a635781cc10f71b9edddf7665526b6bf3c2bee5c", "message": "images for create-and-publish-awslambda-api", "committedDate": "2020-02-04T02:42:52Z", "type": "commit"}, {"oid": "87c30c3d23ac5a068cb2214d2a4aef5acad9fcf0", "url": "https://github.com/wso2/docs-apim/commit/87c30c3d23ac5a068cb2214d2a4aef5acad9fcf0", "message": "Reviewed and updated create-and-publish-awslambda-api for 3.1.0", "committedDate": "2020-02-04T02:43:30Z", "type": "commit"}]}