{"pr_number": 1448, "pr_title": "rewrite edit api using swagger editor doc", "pr_createdAt": "2020-06-29T14:17:08Z", "pr_url": "https://github.com/wso2/docs-apim/pull/1448", "timeline": [{"oid": "289e7291aea80af7bba8fce2882c79246a266488", "url": "https://github.com/wso2/docs-apim/commit/289e7291aea80af7bba8fce2882c79246a266488", "message": "rewrite edit api using swagger editor doc", "committedDate": "2020-06-29T14:16:10Z", "type": "commit"}, {"oid": "b3f260172c7f6f863034239499e94864f5b199a2", "url": "https://github.com/wso2/docs-apim/commit/b3f260172c7f6f863034239499e94864f5b199a2", "message": "add instructions on how to point to a different trustore fix for https://github.com/wso2/docs-apim/issues/1329", "committedDate": "2020-07-05T15:32:56Z", "type": "commit"}, {"oid": "73a28f5d9172c3017226af1c7e4d5247be0a50e9", "url": "https://github.com/wso2/docs-apim/commit/73a28f5d9172c3017226af1c7e4d5247be0a50e9", "message": "Merge branch '3.1.0' of https://github.com/wso2/docs-apim into 3.1.0", "committedDate": "2020-07-05T15:39:42Z", "type": "commit"}, {"oid": "ab3032c9a71e8b62e14b17b33a94093f1035d89c", "url": "https://github.com/wso2/docs-apim/commit/ab3032c9a71e8b62e14b17b33a94093f1035d89c", "message": "fix issue in wording", "committedDate": "2020-07-05T15:42:44Z", "type": "commit"}, {"oid": "c0550d26d4daaf56e33e1e306e31242b5b964b80", "url": "https://github.com/wso2/docs-apim/commit/c0550d26d4daaf56e33e1e306e31242b5b964b80", "message": "add information related to realm_manager for clarification. Fix for https://github.com/wso2/docs-apim/issues/1269", "committedDate": "2020-07-05T15:55:11Z", "type": "commit"}, {"oid": "4d4958719cd4dabab9cad3e9ce2f65754448a39f", "url": "https://github.com/wso2/docs-apim/commit/4d4958719cd4dabab9cad3e9ce2f65754448a39f", "message": "add information related to the keystore types. Fix for https://github.com/wso2/docs-apim/issues/1330", "committedDate": "2020-07-05T22:31:26Z", "type": "commit"}, {"oid": "0f5cfca09a2eb9f0ff065d0f2c547dac4b8f631f", "url": "https://github.com/wso2/docs-apim/commit/0f5cfca09a2eb9f0ff065d0f2c547dac4b8f631f", "message": "add datasource mappings old configs to new config model. Fix for https://github.com/wso2/docs-apim/issues/1270", "committedDate": "2020-07-05T23:50:46Z", "type": "commit"}, {"oid": "aff521ec882fcdc8b5c31bc0ca48d806724652d1", "url": "https://github.com/wso2/docs-apim/commit/aff521ec882fcdc8b5c31bc0ca48d806724652d1", "message": "point to cleanup scripts directly from migration guide", "committedDate": "2020-07-06T00:05:58Z", "type": "commit"}, {"oid": "7fc23803d7b510ce858f53a0a8eb60a285f56db8", "url": "https://github.com/wso2/docs-apim/commit/7fc23803d7b510ce858f53a0a8eb60a285f56db8", "message": "address PR comments", "committedDate": "2020-07-07T07:59:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzMzE1MA==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452933150", "bodyText": "Shouldn't \u201c be \" instead.\nIt looks like it has picked up some formatting.\nThis comment is applicable to all other instances of this entry in this commit as well.", "author": "Mariangela", "createdAt": "2020-07-10T16:00:34Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -2003,7 +2003,14 @@ Follow the instructions below to move all the existing API Manager configuration\n         ```tab=\"Windows\"\n         ./ciphertool.bat -Dconfigure\n         ```\n-\n+    - If the truststore used in the previous setup was changed (for e.g. the name of the truststore file or the password was changed), copy the truststore to the `<API-M_3.1.0_HOME>/repository/resources/security` directory and update `<API-M_3.1configure the credentials in the.0_HOME>/repository/conf/deployment.toml` as follows.  \n+       ```toml\n+       [truststore]\n+       type= \u201cJKS\u201d\n+       file = \u201cmodified-client-truststore.jks\u201d\n+       password= \u201cmodified_password\u201d", "originalCommit": "b3f260172c7f6f863034239499e94864f5b199a2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzNDE1MQ==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452934151", "bodyText": "\"If you have used separate DB\" >> \"If you have used a separate DB\"\n\"need to update <API-M_3.0.0_HOME>/repository/conf/deployment.toml\" >> \"need to update the <API-M_3.0.0_HOME>/repository/conf/deployment.toml\"\n\nPlease apply the above changes to the other occurrences as well in this commit.", "author": "Mariangela", "createdAt": "2020-07-10T16:02:20Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -417,7 +417,7 @@ Follow the instructions below to move all the existing API Manager configuration\n     !!! note\n         It is recommended to use the default H2 database for the `WSO2_MB_STORE_DB` database in API-Manager. So do **not** migrate `WSO2_MB_STORE_DB` database from API-M 2.0.0 version to API-M 3.1.0 version, and use the **default H2** `WSO2_MB_STORE_DB` database available in API-M 3.1.0 version.\n \n-4.  Update `<API-M_3.1.0_HOME>/repository/conf/deployment.toml` file as follows, to point to the correct database for user management purposes.\n+4.  If you have used separate DB for user management in your previous setup and you have defined the `[database.user]` as mentioned in the above step, then you need to update `<API-M_3.1.0_HOME>/repository/conf/deployment.toml` file as follows, to point to the correct database for user management purposes. **Note** that the data_source name cannot be changed and it should be **WSO2USER_DB**.", "originalCommit": "c0550d26d4daaf56e33e1e306e31242b5b964b80", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzNTk2NA==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452935964", "bodyText": "the default keystore. >>>Shall we change \"the\" to \"The\" in all such sentences.\nIf only primary is configured, >>> Isn't it better to mention as to what in particular you are referring to when you say \"primary\" to give it more context.\n\nPlease note that this comment and the following comments are applicable for all the changes in this commit.", "author": "Mariangela", "createdAt": "2020-07-10T16:05:42Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -1974,6 +1974,14 @@ Follow the instructions below to move all the existing API Manager configuration\n \n 5.  Copy the keystores (i.e., `client-truststore.jks`, `wso2cabon.jks` and any other custom JKS) used in the previous version and replace the existing keystores in the `<API-M_3.1.0_HOME>/repository/resources/security` directory.\n \n+    **Note:** From API Manager 3.0.0 onwards, keystores could be configured as follows.\n+    \n+    ```toml\n+    - keystore.primary - the default keystore. If only primary is configured, the primary keystore will be used for internal and SSL related encryption and decryption tasks. ", "originalCommit": "4d4958719cd4dabab9cad3e9ce2f65754448a39f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzNjM3OQ==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452936379", "bodyText": "decrypton should be spelt as decryption", "author": "Mariangela", "createdAt": "2020-07-10T16:06:29Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -1974,6 +1974,14 @@ Follow the instructions below to move all the existing API Manager configuration\n \n 5.  Copy the keystores (i.e., `client-truststore.jks`, `wso2cabon.jks` and any other custom JKS) used in the previous version and replace the existing keystores in the `<API-M_3.1.0_HOME>/repository/resources/security` directory.\n \n+    **Note:** From API Manager 3.0.0 onwards, keystores could be configured as follows.\n+    \n+    ```toml\n+    - keystore.primary - the default keystore. If only primary is configured, the primary keystore will be used for internal and SSL related encryption and decryption tasks. \n+    - keystore.internal - the keystore used for internal encryption/decrypton", "originalCommit": "4d4958719cd4dabab9cad3e9ce2f65754448a39f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzNzA3OQ==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452937079", "bodyText": "Typos.\n\"confguration\" should be \"configuration\".\n\"confgurations\" should be \"configurations\".", "author": "Mariangela", "createdAt": "2020-07-10T16:07:51Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -333,7 +333,14 @@ Follow the instructions below to move all the existing API Manager configuration\n     !!! note\n         In API-M 3.1.0, a combined **SHARED_DB** has been introduced to keep both the user related data (`WSO2UM_DB`) and the registry data (`WSO2REG_DB`). If you have used separate DBs for user management and registry in the previous version, you need to configure WSO2REG_DB and WSO2UM_DB databases separately in API-M 3.1.0 to avoid any issues.\n \n-    **SHARED_DB** should point to the previous API-M version's `WSO2REG_DB`. This example shows to configure MySQL database configurations.\n+    - Datasource confgurations in the previous versions could be mapped to the new confguration model as follows. ", "originalCommit": "0f5cfca09a2eb9f0ff065d0f2c547dac4b8f631f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzNzU5NQ==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452937595", "bodyText": "Typos.\n\n\"prevous\" should be \"previous\"\n\"APIM-M\" should be \"API-M\"\n\"point to\" should be \"point to the\"", "author": "Mariangela", "createdAt": "2020-07-10T16:08:54Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -333,7 +333,14 @@ Follow the instructions below to move all the existing API Manager configuration\n     !!! note\n         In API-M 3.1.0, a combined **SHARED_DB** has been introduced to keep both the user related data (`WSO2UM_DB`) and the registry data (`WSO2REG_DB`). If you have used separate DBs for user management and registry in the previous version, you need to configure WSO2REG_DB and WSO2UM_DB databases separately in API-M 3.1.0 to avoid any issues.\n \n-    **SHARED_DB** should point to the previous API-M version's `WSO2REG_DB`. This example shows to configure MySQL database configurations.\n+    - Datasource confgurations in the previous versions could be mapped to the new confguration model as follows. \n+        \n+        - **SHARED_DB** should point to the previous API-M version's `WSO2REG_DB`.\n+        - **APIM_DB** should point to the previous API-M version's `WSO2AM_DB`.\n+        - **CONFIG** should point to prevous APIM-M version's `WSO2CONFIG_DB`.\n+        - **USER** should point to prevous APIM-M version's ` WSO2USER_DB`", "originalCommit": "0f5cfca09a2eb9f0ff065d0f2c547dac4b8f631f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkzODIxMg==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r452938212", "bodyText": "Consider changing to the following\n\"The following example shows how you can configure MySQL database configurations.\"", "author": "Mariangela", "createdAt": "2020-07-10T16:10:02Z", "path": "en/docs/install-and-setup/upgrading-wso2-api-manager/upgrading-from-200-to-310.md", "diffHunk": "@@ -333,7 +333,14 @@ Follow the instructions below to move all the existing API Manager configuration\n     !!! note\n         In API-M 3.1.0, a combined **SHARED_DB** has been introduced to keep both the user related data (`WSO2UM_DB`) and the registry data (`WSO2REG_DB`). If you have used separate DBs for user management and registry in the previous version, you need to configure WSO2REG_DB and WSO2UM_DB databases separately in API-M 3.1.0 to avoid any issues.\n \n-    **SHARED_DB** should point to the previous API-M version's `WSO2REG_DB`. This example shows to configure MySQL database configurations.\n+    - Datasource confgurations in the previous versions could be mapped to the new confguration model as follows. \n+        \n+        - **SHARED_DB** should point to the previous API-M version's `WSO2REG_DB`.\n+        - **APIM_DB** should point to the previous API-M version's `WSO2AM_DB`.\n+        - **CONFIG** should point to prevous APIM-M version's `WSO2CONFIG_DB`.\n+        - **USER** should point to prevous APIM-M version's ` WSO2USER_DB`\n+     \n+    This example shows to configure MySQL database configurations.  ", "originalCommit": "0f5cfca09a2eb9f0ff065d0f2c547dac4b8f631f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEzNTUzNQ==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r453135535", "bodyText": "As this is a rewrite shall we get the formatting in order by removing the extra ( . ) like this on and removing the unnecessary spaces before a ( . )", "author": "Mariangela", "createdAt": "2020-07-11T01:03:45Z", "path": "en/docs/learn/tutorials/edit-an-api-by-modifyng-the-api-definition.md", "diffHunk": "@@ -0,0 +1,213 @@\n+# Edit an API by modifying the API Definition\n+ \n+WSO2 API Manager has an integrated Swagger Editor, which is part of the Swagger project.\n+\n+[Swagger](http://swagger.io/) is a 100% open source, standard,\u00a0language-agnostic\u00a0specification and a complete framework for describing, producing, consuming, and visualizing RESTful APIs, without the need of a proxy or third-party services.\u00a0Swagger allows consumers to understand the capabilities of a remote service without accessing its source code, and interact with the service with a minimal amount of implementation logic. Swagger helps describe a service in the same way that interfaces describe lower-level programming code.\n+\n+The [Swagger Editor](https://github.com/swagger-api/swagger-editor) is a dependency-free collection of HTML, JavaScript, and CSS that dynamically generate documentation from a Swagger-compliant API.\u00a0Swagger-compliant APIs give you interactive documentation, client SDK generation, and more discoverability. The Swagger Editor has JSON code and its UI facilitates easier code indentation, keyword highlighting and shows syntax errors on the fly. You can add resource parameters, summaries and descriptions to your APIs using the Swagger Editor.\n+\n+API Manager supports [Open API 3.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md) and [Open API 2.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md) specifications and you can simply create, import, edit and consume the APIs defined in both specifications.\n+\n+In this tutorial, let's see how you can add interactive documentation to an API by directly editing the Swagger code via the API Publisher UI.\n+\n+!!! note\n+    This tutorial uses the `PizzaShack` API created in [Create a REST API]({{base_path}}/learn/design-api/create-api/create-a-rest-api/) section and Published in the [Publish an API]({{base_path}}/learn/design-api/publish-api/publish-an-api/) section.\n+ .", "originalCommit": "289e7291aea80af7bba8fce2882c79246a266488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEzNTc3MA==", "url": "https://github.com/wso2/docs-apim/pull/1448#discussion_r453135770", "bodyText": "The ** ** at the end of the sentence on lines 46 and 47 seems to be added by mistake as it is not bolding anything.", "author": "Mariangela", "createdAt": "2020-07-11T01:05:43Z", "path": "en/docs/learn/tutorials/edit-an-api-by-modifyng-the-api-definition.md", "diffHunk": "@@ -0,0 +1,213 @@\n+# Edit an API by modifying the API Definition\n+ \n+WSO2 API Manager has an integrated Swagger Editor, which is part of the Swagger project.\n+\n+[Swagger](http://swagger.io/) is a 100% open source, standard,\u00a0language-agnostic\u00a0specification and a complete framework for describing, producing, consuming, and visualizing RESTful APIs, without the need of a proxy or third-party services.\u00a0Swagger allows consumers to understand the capabilities of a remote service without accessing its source code, and interact with the service with a minimal amount of implementation logic. Swagger helps describe a service in the same way that interfaces describe lower-level programming code.\n+\n+The [Swagger Editor](https://github.com/swagger-api/swagger-editor) is a dependency-free collection of HTML, JavaScript, and CSS that dynamically generate documentation from a Swagger-compliant API.\u00a0Swagger-compliant APIs give you interactive documentation, client SDK generation, and more discoverability. The Swagger Editor has JSON code and its UI facilitates easier code indentation, keyword highlighting and shows syntax errors on the fly. You can add resource parameters, summaries and descriptions to your APIs using the Swagger Editor.\n+\n+API Manager supports [Open API 3.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md) and [Open API 2.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md) specifications and you can simply create, import, edit and consume the APIs defined in both specifications.\n+\n+In this tutorial, let's see how you can add interactive documentation to an API by directly editing the Swagger code via the API Publisher UI.\n+\n+!!! note\n+    This tutorial uses the `PizzaShack` API created in [Create a REST API]({{base_path}}/learn/design-api/create-api/create-a-rest-api/) section and Published in the [Publish an API]({{base_path}}/learn/design-api/publish-api/publish-an-api/) section.\n+ .\n+\n+\n+1.  Sign in to the\u00a0API Publisher and choose to design a new REST API. `https://<hostname>:9443/publisher`\n+\n+    ![create_a_rest_api]({{base_path}}/assets/img/learn/create-a-rest-api.jpg)\n+\n+\n+2.  Click **Design a New REST API** .\n+\n+3.  In the **Create an API** page,\u00a0give an API name, a context a version and the endpoint as follows and click **Create**. \n+\n+    <table><colgroup> <col/> <col/> <col/> </colgroup><tbody><tr><th colspan=\"2\" >Field</th><th >Sample value</th></tr><tr><td colspan=\"2\" class=\"confluenceTd\">Name</td><td class=\"confluenceTd\">PizzaShack</td></tr><tr><td colspan=\"2\" class=\"confluenceTd\">Version</td><td colspan=\"1\" class=\"confluenceTd\">1.0.0</td></tr><tr><td colspan=\"2\" class=\"confluenceTd\">Context</td><td class=\"confluenceTd\"><div class=\"content-wrapper\"><p><code>/pizzashack</code></p><div><div class=\"confluence-information-macro-body\"></div><div class=\"confluence-information-macro confluence-information-macro-tip\"><span class=\"aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon\"></span><div class=\"confluence-information-macro-body\"></div></div></div></div></td></tr><tr><td colspan=\"2\" class=\"confluenceTd\">Endpoint</td><td colspan=\"1\" class=\"confluenceTd\"><p><a class=\"external-link\" href=\"https://localhost:9443/am/sample/pizzashack/v1/api\" rel=\"nofollow\">https://localhost:9443/am/sample/pizzashack/v1/api/</a></p><p>The endpoint that you add is automatically added as the production and sandbox endpoints.</p></td></tr></tbody></table>\n+         \n+    ![create_an_API]({{base_path}}/assets/img/learn/tutorials/create-a-rest-api-pizzashack.png)\n+\n+    The **Overview** of the created API will be displayed. \n+\n+    ![create_a_rest_api]({{base_path}}/assets/img/learn/overviewpage-rest-api.jpg)\n+\n+\n+4. Click on **API definition** to view the API Definition in the swagger UI.\n+    The Swagger UI opens.\n+    ![]({{base_path}}/assets/img/learn/tutorials/rest-api-definition-pizzashack.png)\n+  \n+5. Add the following GET and PUT method for the API.\n+       1. Under the `paths` object, remove the `{}` and add the following code,\u00a0as shown in the screenshot below.\n+\n+        !!! tip\n+            In the code below, note that you have a resource defined with the URL pattern `/order/{orderId}` under the `paths` object. This is followed by the HTTP methods GET and PUT. For each HTTP method, the following parameters are defined.\n+            \n+            -   **responses:** An object to hold responses that can be used across operations. See the Swagger specification for details. **\n+            **", "originalCommit": "289e7291aea80af7bba8fce2882c79246a266488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8b9d186aa8ae093e3f333a329db007a0495251be", "url": "https://github.com/wso2/docs-apim/commit/8b9d186aa8ae093e3f333a329db007a0495251be", "message": "incorporating review comments", "committedDate": "2020-07-19T02:43:27Z", "type": "commit"}, {"oid": "44124cdd5d631d3cb02edfd20259f95292e6d721", "url": "https://github.com/wso2/docs-apim/commit/44124cdd5d631d3cb02edfd20259f95292e6d721", "message": "Merge pull request #1 from shaniR/shani_3.1.0\n\nincorporating review comments", "committedDate": "2020-07-19T02:44:41Z", "type": "commit"}, {"oid": "c190fe540c3458c75836f717db4de8a55244d227", "url": "https://github.com/wso2/docs-apim/commit/c190fe540c3458c75836f717db4de8a55244d227", "message": "update branch with 3.1.0 changes", "committedDate": "2020-07-19T02:48:48Z", "type": "commit"}, {"oid": "0e25f8259c56f57640b93459c30c1d52d977858d", "url": "https://github.com/wso2/docs-apim/commit/0e25f8259c56f57640b93459c30c1d52d977858d", "message": "Merge pull request #2 from shaniR/shani_3.1.0\n\nmerge changes from  origin", "committedDate": "2020-07-19T02:50:01Z", "type": "commit"}]}