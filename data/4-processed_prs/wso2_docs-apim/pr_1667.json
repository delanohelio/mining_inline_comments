{"pr_number": 1667, "pr_title": "Add ingress hostname config for Private Jet mode", "pr_createdAt": "2020-08-11T10:23:36Z", "pr_url": "https://github.com/wso2/docs-apim/pull/1667", "timeline": [{"oid": "4b3116e061e382071537285a4c08c5291f06acad", "url": "https://github.com/wso2/docs-apim/commit/4b3116e061e382071537285a4c08c5291f06acad", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch", "committedDate": "2020-08-12T05:09:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTAxODg2Ng==", "url": "https://github.com/wso2/docs-apim/pull/1667#discussion_r469018866", "bodyText": "There are extra space lines. Can we remove them?", "author": "shaniR", "createdAt": "2020-08-12T05:48:21Z", "path": "en/docs/learn/api-microgateway/deploy-apis-in-privatejet-mode.md", "diffHunk": "@@ -19,15 +19,33 @@ Follow the steps below to enable PrivateJet mode for Microgateways in API Manage\n     \n     i. First install the [Nginx-ingress controller](https://kubernetes.github.io/ingress-nginx/deploy/)\n     \n-    ii. Navigate to the `api-operator/controller-artifacts` directory and set the operatorMode to `ingress` in the **controler_conf.yaml** file.\n+    ii. Change operator mode to `ingress` and set ingress hostname to `\"internal.wso2.com\"`.\n+\n+      ```sh\n+      kubectl patch configmap controller-config -n wso2-system \\\n+          -p '{\"data\":{\"operatorMode\":\"ingress\"}}'\n+      kubectl patch configmap ingress-configs -n wso2-system \\\n+          -p '{\"data\":{\"ingressHostName\":\"internal.wso2.com\"}}'\n+      ```\n         \n+    !!! info \"More Info\"\n+\n+        You can find all configs related to ingress mode in the file **controler_conf.yaml**.\n+        Navigate to the directory `api-operator/controller-artifacts` to find the configuration file.\n+        You can set the `operatorMode`, `ingressHostName` and other configurations in the file.\n+        ```yaml\n         operatorMode: \"ingress\"\n-        \n-    iii. If you have already deployed the operator you have to update operatorMode to `ingress` and apply the changes using following command.\n-    \n+\n+        ingressHostName : \"internal.wso2.com\"\n+        ```\n+\n+        Finally apply the changes using apictl.\n+\n+        ```sh", "originalCommit": "4b3116e061e382071537285a4c08c5291f06acad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "febad6cd269da2811fc8d62ac7dd9d446d8515cf", "url": "https://github.com/wso2/docs-apim/commit/febad6cd269da2811fc8d62ac7dd9d446d8515cf", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch", "committedDate": "2020-08-12T06:01:06Z", "type": "commit"}, {"oid": "febad6cd269da2811fc8d62ac7dd9d446d8515cf", "url": "https://github.com/wso2/docs-apim/commit/febad6cd269da2811fc8d62ac7dd9d446d8515cf", "message": "Add ingress hostname config for Private Jet mode and apply configs using kubectl patch", "committedDate": "2020-08-12T06:01:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY3MDgzMA==", "url": "https://github.com/wso2/docs-apim/pull/1667#discussion_r468670830", "bodyText": "formatting issue ?", "author": "Shehanir", "createdAt": "2020-08-11T15:29:49Z", "path": "en/docs/learn/api-microgateway/deploy-apis-in-privatejet-mode.md", "diffHunk": "@@ -19,15 +19,32 @@ Follow the steps below to enable PrivateJet mode for Microgateways in API Manage\n     \n     i. First install the [Nginx-ingress controller](https://kubernetes.github.io/ingress-nginx/deploy/)\n     \n-    ii. Navigate to the `api-operator/controller-artifacts` directory and set the operatorMode to `ingress` in the **controler_conf.yaml** file.\n+    ii. Change operator mode to `ingress` and set ingress hostname to `\"internal.wso2.com\"`.\n+        ```sh", "originalCommit": "81b62b00002a03105e1aa8b3b127625d02067e52", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY3NDQ4NA==", "url": "https://github.com/wso2/docs-apim/pull/1667#discussion_r468674484", "bodyText": "formatting issue", "author": "Shehanir", "createdAt": "2020-08-11T15:35:13Z", "path": "en/docs/learn/api-microgateway/deploy-apis-in-privatejet-mode.md", "diffHunk": "@@ -19,15 +19,32 @@ Follow the steps below to enable PrivateJet mode for Microgateways in API Manage\n     \n     i. First install the [Nginx-ingress controller](https://kubernetes.github.io/ingress-nginx/deploy/)\n     \n-    ii. Navigate to the `api-operator/controller-artifacts` directory and set the operatorMode to `ingress` in the **controler_conf.yaml** file.\n+    ii. Change operator mode to `ingress` and set ingress hostname to `\"internal.wso2.com\"`.\n+        ```sh\n+        kubectl patch configmap controller-config -n wso2-system \\\n+            -p '{\"data\":{\"operatorMode\":\"ingress\"}}'\n+        kubectl patch configmap ingress-configs -n wso2-system \\\n+            -p '{\"data\":{\"ingressHostName\":\"internal.wso2.com\"}}'\n+        ```\n         \n+    !!! info \"More Info\"", "originalCommit": "81b62b00002a03105e1aa8b3b127625d02067e52", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}