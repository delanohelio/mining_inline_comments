{"pr_number": 1367, "pr_title": "feat(TBD-10087): AWS S3 - extend STS AssumeRole field support", "pr_createdAt": "2020-04-27T07:52:57Z", "pr_url": "https://github.com/Talend/tbd-studio-se/pull/1367", "timeline": [{"oid": "a29df853eb717cb25715f8b05ec97ca0fcd71208", "url": "https://github.com/Talend/tbd-studio-se/commit/a29df853eb717cb25715f8b05ec97ca0fcd71208", "message": "feat(TBD-10087): dependency change", "committedDate": "2020-04-27T00:54:42Z", "type": "commit"}, {"oid": "c768567382de385e7270862fe94f24ba80a797bb", "url": "https://github.com/Talend/tbd-studio-se/commit/c768567382de385e7270862fe94f24ba80a797bb", "message": "revert whitespace changes in hdp260 xml file", "committedDate": "2020-04-27T01:07:25Z", "type": "commit"}, {"oid": "dcd8e48b065822bbf23833a9c43c9aaaef6bfe47", "url": "https://github.com/Talend/tbd-studio-se/commit/dcd8e48b065822bbf23833a9c43c9aaaef6bfe47", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-04-27T01:16:30Z", "type": "commit"}, {"oid": "701753947df223f3b05d168d190e23868b64586a", "url": "https://github.com/Talend/tbd-studio-se/commit/701753947df223f3b05d168d190e23868b64586a", "message": "fixing cdh611", "committedDate": "2020-04-27T18:42:18Z", "type": "commit"}, {"oid": "60a70a580e342ae762df7d45a26f5a5f9c21944f", "url": "https://github.com/Talend/tbd-studio-se/commit/60a70a580e342ae762df7d45a26f5a5f9c21944f", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-04-27T18:46:51Z", "type": "commit"}, {"oid": "0bc4edb6eb725c5017742aeaf063826394afa8ed", "url": "https://github.com/Talend/tbd-studio-se/commit/0bc4edb6eb725c5017742aeaf063826394afa8ed", "message": "some additional fixes", "committedDate": "2020-05-03T22:48:10Z", "type": "commit"}, {"oid": "f739a775182318a4aea87b17437477eb79d8b4df", "url": "https://github.com/Talend/tbd-studio-se/commit/f739a775182318a4aea87b17437477eb79d8b4df", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-03T22:55:36Z", "type": "commit"}, {"oid": "c610595874ff1f2a1f2af4f72e76b083c974562f", "url": "https://github.com/Talend/tbd-studio-se/commit/c610595874ff1f2a1f2af4f72e76b083c974562f", "message": "reverting hdp260 template changes", "committedDate": "2020-05-03T23:00:23Z", "type": "commit"}, {"oid": "6fc0b85c41bc11cfd992fe498df9e82065961e0f", "url": "https://github.com/Talend/tbd-studio-se/commit/6fc0b85c41bc11cfd992fe498df9e82065961e0f", "message": "adding old version of lib", "committedDate": "2020-05-03T23:19:07Z", "type": "commit"}, {"oid": "b4da9d6bcb0069460c1ae78ccb377e9d3366c49f", "url": "https://github.com/Talend/tbd-studio-se/commit/b4da9d6bcb0069460c1ae78ccb377e9d3366c49f", "message": "reverting IntelliJ autoformat", "committedDate": "2020-05-04T01:15:11Z", "type": "commit"}, {"oid": "ccbf8647bcda27f1ecfcd62f8f0e06c80e593797", "url": "https://github.com/Talend/tbd-studio-se/commit/ccbf8647bcda27f1ecfcd62f8f0e06c80e593797", "message": "generating built-in dependencies file", "committedDate": "2020-05-04T02:37:42Z", "type": "commit"}, {"oid": "e90e0f1699a0e70716f75e3285b5d7d59a19a4b3", "url": "https://github.com/Talend/tbd-studio-se/commit/e90e0f1699a0e70716f75e3285b5d7d59a19a4b3", "message": "reverting hdp314 changes because it loads env jar isntead of specified", "committedDate": "2020-05-04T18:01:52Z", "type": "commit"}, {"oid": "2def7282e787a82d3ea1d53604d2636030c514fb", "url": "https://github.com/Talend/tbd-studio-se/commit/2def7282e787a82d3ea1d53604d2636030c514fb", "message": "reverting hdp314 changes because it loads env jar isntead of specified", "committedDate": "2020-05-04T18:05:18Z", "type": "commit"}, {"oid": "a40e7ab6ae251bfd8990ca2f53104e1bb6b8c699", "url": "https://github.com/Talend/tbd-studio-se/commit/a40e7ab6ae251bfd8990ca2f53104e1bb6b8c699", "message": "adding old version of dependency to hdp314", "committedDate": "2020-05-04T18:23:48Z", "type": "commit"}, {"oid": "623041997db77b331f4d6d7c014d09802342305a", "url": "https://github.com/Talend/tbd-studio-se/commit/623041997db77b331f4d6d7c014d09802342305a", "message": "changing package name", "committedDate": "2020-05-05T11:37:03Z", "type": "commit"}, {"oid": "6cdb8af07e37a3a919590df456e028d3e34cdd11", "url": "https://github.com/Talend/tbd-studio-se/commit/6cdb8af07e37a3a919590df456e028d3e34cdd11", "message": "re-generating dynamc cdh6 distributions", "committedDate": "2020-05-05T12:27:48Z", "type": "commit"}, {"oid": "0516f0e3f0632295a352a3c5ed37590dfb180bfb", "url": "https://github.com/Talend/tbd-studio-se/commit/0516f0e3f0632295a352a3c5ed37590dfb180bfb", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-06T01:50:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY0OTAwOQ==", "url": "https://github.com/Talend/tbd-studio-se/pull/1367#discussion_r420649009", "bodyText": "i see you've put this version everywhere, but why don't you use 1.1.0 since you build a new librarie ?", "author": "AlixMetivier", "createdAt": "2020-05-06T09:12:30Z", "path": "main/plugins/org.talend.hadoop.distribution.cdh5100/plugin.xml", "diffHunk": "@@ -538,6 +538,12 @@\n             mvn_uri=\"mvn:org.talend.libraries/aws-java-sdk-core-1.9.16/6.0.0\">\n         </libraryNeeded>\n \n+        <libraryNeeded\n+                context=\"plugin:org.talend.hadoop.distribution.cdh5100\"\n+                id=\"talend-bigdata-aws-1.0.0-20180116.jar\"", "originalCommit": "0516f0e3f0632295a352a3c5ed37590dfb180bfb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY4OTI2MQ==", "url": "https://github.com/Talend/tbd-studio-se/pull/1367#discussion_r420689261", "bodyText": "it's the idea of versioning. Things that've been working will still work with the old version in the same way. So it decreases regression.\nI removed dependency from component to add a support of versioning for each distribution so I put old version to each distribution that doesn't support new AWS STS features\n1.1.0 required AWS libs 1.11.700+ and hadoop-aws ~2.8.0+ and unfortunately, not all distributions (even hdp314!) support these library versions. Old version of this lib still works fine with aws 1.10.6 and old hadoop-aws libs.", "author": "amedvedenko", "createdAt": "2020-05-06T10:28:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY0OTAwOQ=="}], "type": "inlineReview"}, {"oid": "30341ddf16c8b15df0664c81aed903fae69ea82d", "url": "https://github.com/Talend/tbd-studio-se/commit/30341ddf16c8b15df0664c81aed903fae69ea82d", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-14T00:54:00Z", "type": "commit"}, {"oid": "533da8915c493aee67d887b7a3f99ac55e030852", "url": "https://github.com/Talend/tbd-studio-se/commit/533da8915c493aee67d887b7a3f99ac55e030852", "message": "Merge branch 'amedvedenko/fix/TBD-10087' of github.com:Talend/tbd-studio-se into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-14T01:09:39Z", "type": "commit"}, {"oid": "3b80806e56c661e44413f69e0b79421d5a966243", "url": "https://github.com/Talend/tbd-studio-se/commit/3b80806e56c661e44413f69e0b79421d5a966243", "message": "updating built-in dependency file", "committedDate": "2020-05-14T01:14:17Z", "type": "commit"}, {"oid": "079100e9b40f51d94c7732a0eb1b823c2e84ea94", "url": "https://github.com/Talend/tbd-studio-se/commit/079100e9b40f51d94c7732a0eb1b823c2e84ea94", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-20T23:36:32Z", "type": "commit"}, {"oid": "6bc4e8eb7c10c56afbefe5d7552e6f517b94edae", "url": "https://github.com/Talend/tbd-studio-se/commit/6bc4e8eb7c10c56afbefe5d7552e6f517b94edae", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-25T14:38:49Z", "type": "commit"}, {"oid": "6a47dbd3b68f95d4cea183e520266fb60672cf7f", "url": "https://github.com/Talend/tbd-studio-se/commit/6a47dbd3b68f95d4cea183e520266fb60672cf7f", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-27T00:51:32Z", "type": "commit"}, {"oid": "04917804b815aa4d090ed887f233e1027cd2d958", "url": "https://github.com/Talend/tbd-studio-se/commit/04917804b815aa4d090ed887f233e1027cd2d958", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-27T22:03:14Z", "type": "commit"}, {"oid": "7b6a0214516cf4b26b07b0fd8bf23967a9ada40e", "url": "https://github.com/Talend/tbd-studio-se/commit/7b6a0214516cf4b26b07b0fd8bf23967a9ada40e", "message": "add emr529 distribution support", "committedDate": "2020-05-28T08:08:35Z", "type": "commit"}, {"oid": "98df15bfd39ba5ff676d4be47ed6c7a784863da5", "url": "https://github.com/Talend/tbd-studio-se/commit/98df15bfd39ba5ff676d4be47ed6c7a784863da5", "message": "adding missing talend-aws lib", "committedDate": "2020-05-28T14:10:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg3NDY0Mg==", "url": "https://github.com/Talend/tbd-studio-se/pull/1367#discussion_r431874642", "bodyText": "According to EMR 5.29's AC, we should be using AWS SDK 1.11.729. Can it be done?\nThat way we use the same versions everywhere.", "author": "CarlosTalend", "createdAt": "2020-05-28T14:23:59Z", "path": "main/plugins/org.talend.hadoop.distribution.emr5290/plugin.xml", "diffHunk": "@@ -284,9 +284,15 @@\n \n         <libraryNeeded\n             context=\"plugin:org.talend.libraries.s3\"\n-            id=\"aws-java-sdk-s3-1.11.682.jar\"\n-            name=\"aws-java-sdk-s3-1.11.682.jar\"\n-            mvn_uri=\"mvn:com.amazonaws/aws-java-sdk-s3/1.11.682\"/>\n+            id=\"aws-java-sdk-s3-1.11.700.jar\"\n+            name=\"aws-java-sdk-s3-1.11.700.jar\"\n+            mvn_uri=\"mvn:com.amazonaws/aws-java-sdk-s3/1.11.700\"/>", "originalCommit": "7b6a0214516cf4b26b07b0fd8bf23967a9ada40e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg4MjczMQ==", "url": "https://github.com/Talend/tbd-studio-se/pull/1367#discussion_r431882731", "bodyText": "I see that another version is used here by default - 1.11.687.I chose minimal required for sts feature", "author": "amedvedenko", "createdAt": "2020-05-28T14:32:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg3NDY0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg4NjA4Mg==", "url": "https://github.com/Talend/tbd-studio-se/pull/1367#discussion_r431886082", "bodyText": "If you want this to be changed - I think it'd be better to log a separate Jira under Emr5.29 feature. I'd agree with any version upper then 1.11.700", "author": "amedvedenko", "createdAt": "2020-05-28T14:36:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg3NDY0Mg=="}], "type": "inlineReview"}, {"oid": "1c85266e93ec02f6d0fa149716269913b2763fd0", "url": "https://github.com/Talend/tbd-studio-se/commit/1c85266e93ec02f6d0fa149716269913b2763fd0", "message": "Merge branch 'master' into amedvedenko/fix/TBD-10087", "committedDate": "2020-05-28T14:45:51Z", "type": "commit"}, {"oid": "c5bc6a79d4d764d17d9d839b4582640541275e11", "url": "https://github.com/Talend/tbd-studio-se/commit/c5bc6a79d4d764d17d9d839b4582640541275e11", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-06-22T23:45:05Z", "type": "commit"}, {"oid": "970c825b6d5020a11e01daf223da23022e408538", "url": "https://github.com/Talend/tbd-studio-se/commit/970c825b6d5020a11e01daf223da23022e408538", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-08-03T11:26:52Z", "type": "commit"}, {"oid": "308ee667c25c84171feec31aceab0ccdc53208c4", "url": "https://github.com/Talend/tbd-studio-se/commit/308ee667c25c84171feec31aceab0ccdc53208c4", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-08-12T14:45:41Z", "type": "commit"}, {"oid": "8ab8d0f26892ca666acff09a15cff0829194e6a9", "url": "https://github.com/Talend/tbd-studio-se/commit/8ab8d0f26892ca666acff09a15cff0829194e6a9", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-08-27T16:50:11Z", "type": "commit"}, {"oid": "1b37ce46e60a7366f62a223a26f881dbb469dc25", "url": "https://github.com/Talend/tbd-studio-se/commit/1b37ce46e60a7366f62a223a26f881dbb469dc25", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-09-15T23:15:39Z", "type": "commit"}, {"oid": "4c03bad55738f016adc5fee4a21ace4c4893e253", "url": "https://github.com/Talend/tbd-studio-se/commit/4c03bad55738f016adc5fee4a21ace4c4893e253", "message": "Merge branch 'maintenance/7.3' of github.com:Talend/tbd-studio-se into amedvedenko/fix/TBD-10087", "committedDate": "2020-09-18T07:37:07Z", "type": "commit"}, {"oid": "ba9751fe7e0d65194cf9393cf44c7ee524692dba", "url": "https://github.com/Talend/tbd-studio-se/commit/ba9751fe7e0d65194cf9393cf44c7ee524692dba", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-09-30T11:23:43Z", "type": "commit"}, {"oid": "48c12cf15ae200a6acc20a73a0312efb3d6157c8", "url": "https://github.com/Talend/tbd-studio-se/commit/48c12cf15ae200a6acc20a73a0312efb3d6157c8", "message": "merge conflicts of tbd-studio-ee", "committedDate": "2020-09-30T13:01:11Z", "type": "commit"}, {"oid": "7761b4e1bf3d5240f8c42400dfe801b678f045a5", "url": "https://github.com/Talend/tbd-studio-se/commit/7761b4e1bf3d5240f8c42400dfe801b678f045a5", "message": "Merge branch 'maintenance/7.3' of github.com:Talend/tbd-studio-se into amedvedenko/fix/TBD-10087", "committedDate": "2020-10-08T11:26:51Z", "type": "commit"}, {"oid": "919c6085ea2fe463b84b6f50c35597dbde84436a", "url": "https://github.com/Talend/tbd-studio-se/commit/919c6085ea2fe463b84b6f50c35597dbde84436a", "message": "Merge branch 'maintenance/7.3' of github.com:Talend/tbd-studio-se into amedvedenko/fix/TBD-10087", "committedDate": "2020-10-13T09:01:04Z", "type": "commit"}, {"oid": "5f973e72e9cc1d96cfa2e8ca826a88e37649f154", "url": "https://github.com/Talend/tbd-studio-se/commit/5f973e72e9cc1d96cfa2e8ca826a88e37649f154", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-10-15T13:22:58Z", "type": "commit"}, {"oid": "726fb4031e52230bbb8a4f0c49d2f1ccc65ad39f", "url": "https://github.com/Talend/tbd-studio-se/commit/726fb4031e52230bbb8a4f0c49d2f1ccc65ad39f", "message": "fix of hdi AWS talend dependency", "committedDate": "2020-10-16T10:07:10Z", "type": "commit"}, {"oid": "2677da56f0a1e7b68bfc6b7300195c6de846f43d", "url": "https://github.com/Talend/tbd-studio-se/commit/2677da56f0a1e7b68bfc6b7300195c6de846f43d", "message": "Merge branch 'maintenance/7.3' into amedvedenko/fix/TBD-10087", "committedDate": "2020-10-16T10:09:58Z", "type": "commit"}, {"oid": "1387bf1538e384cd41de16c607043e4725bfc2b0", "url": "https://github.com/Talend/tbd-studio-se/commit/1387bf1538e384cd41de16c607043e4725bfc2b0", "message": "fixing of talend-bigdata-aws-lib on hdp distribs", "committedDate": "2020-10-18T02:53:20Z", "type": "commit"}, {"oid": "5073c247ded96e28fdaed628774d15e6fa662b8b", "url": "https://github.com/Talend/tbd-studio-se/commit/5073c247ded96e28fdaed628774d15e6fa662b8b", "message": "Merge branch 'maintenance/7.3' of github.com:Talend/tbd-studio-se into amedvedenko/fix/TBD-10087", "committedDate": "2020-10-18T02:53:32Z", "type": "commit"}]}