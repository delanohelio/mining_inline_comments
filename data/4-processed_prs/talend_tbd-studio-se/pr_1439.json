{"pr_number": 1439, "pr_title": "fix(TBD-10506): InvalidClassException when I run a spark job with file components with CDH 611 ker", "pr_createdAt": "2020-06-02T00:31:47Z", "pr_url": "https://github.com/Talend/tbd-studio-se/pull/1439", "timeline": [{"oid": "069ab5c087625b0bcc66f2840400967a8c9214ad", "url": "https://github.com/Talend/tbd-studio-se/commit/069ab5c087625b0bcc66f2840400967a8c9214ad", "message": "TBD-10506\n\nFixed", "committedDate": "2020-06-02T00:30:24Z", "type": "commit"}, {"oid": "60f15b8077301b59e34d093c23a64ad1d5e8147c", "url": "https://github.com/Talend/tbd-studio-se/commit/60f15b8077301b59e34d093c23a64ad1d5e8147c", "message": "Version corrected", "committedDate": "2020-06-02T07:33:34Z", "type": "commit"}, {"oid": "33c3836ff65d65edb2567ffc95d83e2a208f120f", "url": "https://github.com/Talend/tbd-studio-se/commit/33c3836ff65d65edb2567ffc95d83e2a208f120f", "message": "CDH6 builtin  fixed", "committedDate": "2020-06-02T07:36:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjU2Mg==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433692562", "bodyText": "Is the double slash required?", "author": "CarlosTalend", "createdAt": "2020-06-02T08:02:56Z", "path": "main/plugins/org.talend.hadoop.distribution.cdh5x/resources/builtin/cdhx/Cloudera_CDH6_1_1.json", "diffHunk": "@@ -12020,7 +12024,7 @@\n       \"context\" : \"plugin:org.talend.hadoop.distribution.cdh5x\",\n       \"excludeDependencies\" : \"true\",\n       \"id\" : \"DYNAMIC_Cloudera_CDH6_1_1_avro_mapred_1_8_2_cdh6_1_1_hadoop2_jar\",\n-      \"mvn_uri\" : \"mvn:org.apache.avro/avro-mapred/1.8.2-cdh6.1.1/jar/hadoop2\",\n+      \"mvn_uri\" : \"mvn:org.apache.avro/avro-mapred/1.8.2-cdh6.1.1//hadoop2\",", "originalCommit": "33c3836ff65d65edb2567ffc95d83e2a208f120f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzcxMDg1MQ==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433710851", "bodyText": "Seems, generation bug. Fixed", "author": "mtuhai", "createdAt": "2020-06-02T08:34:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjU2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc5MTc3MA==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433791770", "bodyText": "fixed", "author": "mtuhai", "createdAt": "2020-06-02T10:59:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjU2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgxNA==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433692814", "bodyText": "can you sync with Sveta, because last commit to template was to remove hive-exec 1.2.1 (bd61876#diff-d09491450af547ae951b2c598f363d6b)", "author": "AlixMetivier", "createdAt": "2020-06-02T08:03:22Z", "path": "main/plugins/org.talend.hadoop.distribution.cdh5x/resources/template/cdhx/cdh6xTemplate.json", "diffHunk": "@@ -588,6 +595,15 @@\n \t\t\t\"useStudioRepository\": \"true\",\n \t\t\t\"description\": \"\"\n \t\t},\n+\t\t{\n+\t\t\t\"id\": \"hive-exec-1.2.1-talend\",", "originalCommit": "33c3836ff65d65edb2567ffc95d83e2a208f120f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzcxMjM1Ng==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433712356", "bodyText": "No, that was hive-exec-1.2.1-spark removal (do not mess with hive-exec-1.2.1)", "author": "mtuhai", "createdAt": "2020-06-02T08:36:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc5MjA5Ng==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433792096", "bodyText": "Sveta removed hive-exec-1.2.1-spark2. Do not mess with hive-exec-1.2.1", "author": "mtuhai", "createdAt": "2020-06-02T11:00:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgzOA==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433692838", "bodyText": "hive-exec that's excluded from this group has also been using in SPARK-AZURE-LIB-MRREQUIRED-DYNAMIC. So, after exclusion, it seems, we won't have any hive-exec libs in group I specified. Could you please confirm that this group generates required jar? And, if it isn't, please, add hive-exec to this group.\n\n  \n    \n      tbd-studio-se/main/plugins/org.talend.hadoop.distribution.cdh5x/resources/template/cdhx/cdh6xTemplate.json\n    \n    \n         Line 1846\n      in\n      33c3836\n    \n    \n    \n    \n\n        \n          \n           \"id\": \"SPARK-LIB-SPARK2-DYNAMIC\",", "author": "amedvedenko", "createdAt": "2020-06-02T08:03:25Z", "path": "main/plugins/org.talend.hadoop.distribution.cdh5x/resources/template/cdhx/cdh6xTemplate.json", "diffHunk": "@@ -450,6 +450,13 @@\n \t\t\t\"classifier\": \"\",\n \t\t\t\"description\": \"\",\n \t\t\t\"exclusions\": [\n+\t\t\t\t{\n+\t\t\t\t\t\"groupId\": \"org.apache.hive\",\n+\t\t\t\t\t\"artifactId\": \"hive-exec\",\n+\t\t\t\t\t\"classifier\": \"\",\n+\t\t\t\t\t\"extension\": \"\",\n+\t\t\t\t\t\"description\": \"\"\n+\t\t\t\t},", "originalCommit": "33c3836ff65d65edb2567ffc95d83e2a208f120f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzcyMzMzNw==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433723337", "bodyText": "sorry, mistake in a link - I mean line 1940.\n\n  \n    \n      tbd-studio-se/main/plugins/org.talend.hadoop.distribution.cdh5x/resources/template/cdhx/cdh6xTemplate.json\n    \n    \n         Line 1940\n      in\n      33c3836\n    \n    \n    \n    \n\n        \n          \n           \"id\": \"SPARK-AZURE-LIB-MRREQUIRED-DYNAMIC\",", "author": "amedvedenko", "createdAt": "2020-06-02T08:55:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzczOTQ3NQ==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433739475", "bodyText": "Added hive-exec-talend to mentioned group", "author": "mtuhai", "createdAt": "2020-06-02T09:22:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc5MTQ4Ng==", "url": "https://github.com/Talend/tbd-studio-se/pull/1439#discussion_r433791486", "bodyText": "Added hive-exec-talend to mentioned group", "author": "mtuhai", "createdAt": "2020-06-02T10:59:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MjgzOA=="}], "type": "inlineReview"}, {"oid": "6a34d36f40c9b347c31b59972736cc509ee236a9", "url": "https://github.com/Talend/tbd-studio-se/commit/6a34d36f40c9b347c31b59972736cc509ee236a9", "message": "Generation bug fixed", "committedDate": "2020-06-02T08:33:56Z", "type": "commit"}, {"oid": "6fa31b6d517d6b1508d09ce20e40d597a7b569cb", "url": "https://github.com/Talend/tbd-studio-se/commit/6fa31b6d517d6b1508d09ce20e40d597a7b569cb", "message": "Adding hive-exec to SPARK-AZURE-LIB-...", "committedDate": "2020-06-02T09:21:41Z", "type": "commit"}, {"oid": "1818b635daa4447c8474174e30670826713e124c", "url": "https://github.com/Talend/tbd-studio-se/commit/1818b635daa4447c8474174e30670826713e124c", "message": "Added hive-exec to azure lib", "committedDate": "2020-06-02T10:20:28Z", "type": "commit"}]}