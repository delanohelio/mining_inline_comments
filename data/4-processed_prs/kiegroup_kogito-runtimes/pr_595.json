{"pr_number": 595, "pr_title": "KOGITO-2592: Include persistence and events profiles in Jenkinsfile", "pr_createdAt": "2020-06-30T12:06:59Z", "pr_url": "https://github.com/kiegroup/kogito-runtimes/pull/595", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDI0NQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/595#discussion_r447704245", "bodyText": "can you add the  saveReports() as a post ?", "author": "radtriste", "createdAt": "2020-06-30T13:58:26Z", "path": "Jenkinsfile.deploy", "diffHunk": "@@ -68,8 +68,23 @@ pipeline {\n                 checkout([$class: 'GitSCM', branches: [[name: env.BRANCH_NAME]], browser: [$class: 'GithubWeb', repoUrl: 'git@github.com:kiegroup/kogito-examples.git'], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'RelativeTargetDirectory', relativeTargetDir: 'kogito-examples-persistence']], submoduleCfg: [], userRemoteConfigs: [[credentialsId: 'kie-ci-user-key', url: 'git@github.com:kiegroup/kogito-examples.git']]])\n                 dir(\"kogito-examples-persistence\") {\n                     script {\n-                        // Don't run with tests so far, see: https://github.com/quarkusio/quarkus/issues/6885\n-                        maven.runMavenWithSubmarineSettings('clean install -Ppersistence', true)\n+                        maven.runMavenWithSubmarineSettings('clean install -Ppersistence', false)\n+                    }\n+                }\n+            }\n+            post {\n+                always {\n+                    saveReports(true)\n+                }\n+            }\n+        }\n+        stage('Build kogito-examples with events') {\n+            steps {\n+                // Use a separate dir for events to not overwrite the test results\n+                checkout([$class: 'GitSCM', branches: [[name: env.BRANCH_NAME]], browser: [$class: 'GithubWeb', repoUrl: 'git@github.com:kiegroup/kogito-examples.git'], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'RelativeTargetDirectory', relativeTargetDir: 'kogito-examples-events']], submoduleCfg: [], userRemoteConfigs: [[credentialsId: 'kie-ci-user-key', url: 'git@github.com:kiegroup/kogito-examples.git']]])\n+                dir(\"kogito-examples-events\") {\n+                    script {\n+                        maven.runMavenWithSubmarineSettings('clean install -Pevents', false)", "originalCommit": "26150f7d80123a2f789c61e48f022c08b20b673d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEyNTM3Nw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/595#discussion_r448125377", "bodyText": "Done", "author": "Sgitario", "createdAt": "2020-07-01T05:36:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDI0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDM3OA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/595#discussion_r447704378", "bodyText": "can you add the saveReports() as a post ?", "author": "radtriste", "createdAt": "2020-06-30T13:58:35Z", "path": "Jenkinsfile.deploy.new", "diffHunk": "@@ -85,8 +85,23 @@ pipeline {\n                 checkout([$class: 'GitSCM', branches: [[name: env.BRANCH_NAME]], browser: [$class: 'GithubWeb', repoUrl: 'git@github.com:kiegroup/kogito-examples.git'], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'RelativeTargetDirectory', relativeTargetDir: 'kogito-examples-persistence']], submoduleCfg: [], userRemoteConfigs: [[credentialsId: 'kie-ci-user-key', url: 'git@github.com:kiegroup/kogito-examples.git']]])\n                 dir(\"kogito-examples-persistence\") {\n                     script {\n-                        // Don't run with tests so far, see: https://github.com/quarkusio/quarkus/issues/6885\n-                        maven.runMavenWithSubmarineSettings('clean install -Ppersistence', true)\n+                        maven.runMavenWithSubmarineSettings('clean install -Ppersistence', false)\n+                    }\n+                }\n+            }\n+            post {\n+                always {\n+                    saveReports(true)\n+                }\n+            }\n+        }\n+        stage('Build kogito-examples with events') {\n+            steps {\n+                // Use a separate dir for events to not overwrite the test results\n+                checkout([$class: 'GitSCM', branches: [[name: env.BRANCH_NAME]], browser: [$class: 'GithubWeb', repoUrl: 'git@github.com:kiegroup/kogito-examples.git'], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'RelativeTargetDirectory', relativeTargetDir: 'kogito-examples-events']], submoduleCfg: [], userRemoteConfigs: [[credentialsId: 'kie-ci-user-key', url: 'git@github.com:kiegroup/kogito-examples.git']]])\n+                dir(\"kogito-examples-events\") {\n+                    script {\n+                        maven.runMavenWithSubmarineSettings('clean install -Pevents', false)\n                     }", "originalCommit": "26150f7d80123a2f789c61e48f022c08b20b673d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEyNTMzMw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/595#discussion_r448125333", "bodyText": "Done", "author": "Sgitario", "createdAt": "2020-07-01T05:36:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDM3OA=="}], "type": "inlineReview"}, {"oid": "db0a4eda1bed2680ca6b4fe0a50b1c5e164bee4d", "url": "https://github.com/kiegroup/kogito-runtimes/commit/db0a4eda1bed2680ca6b4fe0a50b1c5e164bee4d", "message": "KOGITO-2592: Include persistence and events profiles in Jenkinsfile", "committedDate": "2020-07-01T05:35:40Z", "type": "forcePushed"}, {"oid": "fae3d86e107c50c589fcf69a86d6d2367e129359", "url": "https://github.com/kiegroup/kogito-runtimes/commit/fae3d86e107c50c589fcf69a86d6d2367e129359", "message": "KOGITO-2592: Include persistence and events profiles in Jenkinsfile", "committedDate": "2020-07-01T05:38:40Z", "type": "commit"}, {"oid": "fae3d86e107c50c589fcf69a86d6d2367e129359", "url": "https://github.com/kiegroup/kogito-runtimes/commit/fae3d86e107c50c589fcf69a86d6d2367e129359", "message": "KOGITO-2592: Include persistence and events profiles in Jenkinsfile", "committedDate": "2020-07-01T05:38:40Z", "type": "forcePushed"}]}