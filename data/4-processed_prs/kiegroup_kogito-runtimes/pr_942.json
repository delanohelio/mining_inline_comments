{"pr_number": 942, "pr_title": "[KOGITO-4014] Kogito Runtime Process to wait for a process to finish", "pr_createdAt": "2020-12-16T16:19:12Z", "pr_url": "https://github.com/kiegroup/kogito-runtimes/pull/942", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1NTYwMw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544455603", "bodyText": "I think there's an extra space here \ud83d\ude05", "author": "ricardozanini", "createdAt": "2020-12-16T16:47:27Z", "path": "kogito-workitems/kogito-rest-workitem/src/main/java/org/kogito/workitem/rest/RestWorkItemHandler.java", "diffHunk": "@@ -71,7 +65,7 @@ public Object apply(Object value) {\n     private WebClient client;\n \n     public RestWorkItemHandler(WebClient client) {\n-        this.client = client;\n+          this.client = client;", "originalCommit": "9b5475624bce171493df4bd28e8cb810be3165a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ2MDA2Mg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544460062", "bodyText": "done", "author": "fjtirado", "createdAt": "2020-12-16T16:53:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1NTYwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1Njc0Mw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544456743", "bodyText": "Isn't necessary to have a \"fail\" test case anymore?", "author": "ricardozanini", "createdAt": "2020-12-16T16:49:00Z", "path": "kogito-workitems/kogito-rest-workitem/src/test/java/org/kogito/workitem/rest/RestTaskHandlerTest.java", "diffHunk": "@@ -154,39 +142,4 @@ public void testGetRestTaskHandler() {\n         assertTrue(result instanceof ObjectNode);\n         assertEquals(1, ((ObjectNode) result).get(\"num\").asInt());\n     }\n-\n-    @SuppressWarnings(\"unchecked\")\n-    @Test\n-    public void testGetRestTaskHandlerFail() {", "originalCommit": "9b5475624bce171493df4bd28e8cb810be3165a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1OTk5Nw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544459997", "bodyText": "Not really, that one existed  to ensure that when executing asyncrhonous in case of failure the WIH performs abortworkitem call. Since this is now sync, it delegates in process exception handling", "author": "fjtirado", "createdAt": "2020-12-16T16:53:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1Njc0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1NzcxMg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544457712", "bodyText": "Do we still need this one?", "author": "ricardozanini", "createdAt": "2020-12-16T16:50:10Z", "path": "kogito-build-parent/pom.xml", "diffHunk": "@@ -76,7 +76,8 @@\n     <version.versions.plugin>2.1</version.versions.plugin>\n     <version.jayway.jsonpath>2.4.0</version.jayway.jsonpath>\n     <version.vertx.web.client>3.9.4</version.vertx.web.client>", "originalCommit": "9b5475624bce171493df4bd28e8cb810be3165a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ2MDQ0MQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544460441", "bodyText": "Im not sure, so I prefer to leave since it is only a managed dependency, if no one use it, it wont be included anyway", "author": "fjtirado", "createdAt": "2020-12-16T16:53:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1NzcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDU2OTQwNA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r544569404", "bodyText": "I just asked because it's getting difficult to manage all these dependencies when we rollout Quarkus version. @evacchi is there an easy way to know if a version is being used by other modules? I would run mvn clean package from the root path to find that out. \ud83d\ude1b", "author": "ricardozanini", "createdAt": "2020-12-16T19:36:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1NzcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAwNTg1MA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r545005850", "bodyText": "managed dependency removed (crossing fingers)", "author": "fjtirado", "createdAt": "2020-12-17T11:09:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ1NzcxMg=="}], "type": "inlineReview"}, {"oid": "3fcc6c407247371bcf12514081b4958f2465def7", "url": "https://github.com/kiegroup/kogito-runtimes/commit/3fcc6c407247371bcf12514081b4958f2465def7", "message": "[KOGITO-4014] Kogito Runtime Process to wait for a process to finish\n\nMaking WIH sync", "committedDate": "2020-12-16T16:51:53Z", "type": "forcePushed"}, {"oid": "c3dba4660127de03b1151dc39530dc24af44b6a6", "url": "https://github.com/kiegroup/kogito-runtimes/commit/c3dba4660127de03b1151dc39530dc24af44b6a6", "message": "[KOGITO-4014] Kogito Runtime Process to wait for a process to finish\n\nMaking WIH sync", "committedDate": "2020-12-17T11:09:18Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546716093", "bodyText": "i saw this as increased a trend, please @ricardozanini use our BSIG and jboss syntax for version properties\nversion.groupId", "author": "mareknovotny", "createdAt": "2020-12-21T13:50:42Z", "path": "kogito-build-parent/pom.xml", "diffHunk": "@@ -385,13 +385,11 @@\n         <artifactId>json-path-assert</artifactId>\n         <version>${version.jayway.jsonpath}</version>\n       </dependency>\n-\n       <dependency>\n-        <groupId>io.vertx</groupId>\n-        <artifactId>vertx-web-client</artifactId>\n-        <version>${version.vertx.web.client}</version>\n+        <groupId>io.smallrye.reactive</groupId>\n+        <artifactId>smallrye-mutiny-vertx-web-client</artifactId>\n+        <version>${version.mutiny-vertx-web-client}</version>", "originalCommit": "c3dba4660127de03b1151dc39530dc24af44b6a6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxOTcwNw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546719707", "bodyText": "@fjtirado can you please change the version property as requested?", "author": "ricardozanini", "createdAt": "2020-12-21T13:57:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxOTg5MQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546719891", "bodyText": "@mareknovotny this implies that all artifacts for the same group will have the same version dependency, Im not sure thats expected in this particular case.\nsince I was unsure, I used artifactId. Im trying locally right now with already defined version to see if it works", "author": "fjtirado", "createdAt": "2020-12-21T13:57:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcyMjEzNQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546722135", "bodyText": "@mareknovotny @ricardozanini\nAs I suspected, that change wont work\nFailed to execute goal on project kogito-rest-workitem: Could not resolve dependencies for project org.kie.kogito:kogito-rest-workitem:jar:2.0.0-SNAPSHOT: Could not find artifact io.smallrye.reactive:smallrye-mutiny-vertx-web-client:jar:2.5.0 in jboss-public-repository-group (https://repository.jboss.org/nexus/content/groups/public/) -> [Help 1]", "author": "fjtirado", "createdAt": "2020-12-21T14:02:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcyMjE4Mg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546722182", "bodyText": "@mareknovotny if we use only version.io.smallrye.reactive it will crash with other libraries since this version.groupId do not follow one specific version. I believe that's what @fjtirado meant in his last comment. Am I right, @fjtirado?\nIn such cases, we need to adopt the artifactId as well like: version.io.smallrye.reactive.mutiny-vertx-web-client?", "author": "ricardozanini", "createdAt": "2020-12-21T14:02:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcyOTE0OQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546729149", "bodyText": "yes, exactly @ricardozanini.\nI wasn't asking to change existing properties as that is a bigger task right now and it should be done in close future by one person to be more effective. My comment was primarily to new property addition as I noticed it and raising the awareness of bad pattern ;)", "author": "mareknovotny", "createdAt": "2020-12-21T14:16:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjczMTk1Mg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546731952", "bodyText": "@mareknovotny\nI was aware of the pattern, but in this particular case this pattern cannot be used because there are different version for different artifact below the same group.\nNow Ricardo is asking, in such case, what pattern we should use, I think version.artifactId is enough, Ricardo is proposing version.groupid.artifactId, which is too long in my opinion.\nWhich one should we use, as a general approach for such a legit case?", "author": "fjtirado", "createdAt": "2020-12-21T14:21:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjczMzcxMQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546733711", "bodyText": "for the reference at  https://github.com/kiegroup/droolsjbpm-build-bootstrap/blob/master/pom.xml#L51-L55\n\nCONVENTIONS:\n- A version property must be specified in the format \"version.{groupId}\", optionally with a suffix to make it unique.\n- Version properties must be sorted alphabetically (other form of sorting were found to be unclear and ambiguous).\n\nI created  https://issues.redhat.com/browse/KOGITO-4064", "author": "mareknovotny", "createdAt": "2020-12-21T14:24:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjczODMwNQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546738305", "bodyText": "@mareknovotny so what do you propose? version.io.smallrye.reactive.mutiny-vertx maybe? https://search.maven.org/search?q=mutiny-vertx\nAll of them seem to follow the same release train.", "author": "ricardozanini", "createdAt": "2020-12-21T14:32:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjczOTE4NQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546739185", "bodyText": "@mareknovotny\nOk, then, in my  opinion. the suffix to make it unique should be <artifact_id> not a random one.\nAre we agree on that?", "author": "fjtirado", "createdAt": "2020-12-21T14:34:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc0Njg5NA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546746894", "bodyText": "It's not random, it's the prefix used by the project. So if one would add let's say, io.smallrye.reactive:smallrye-mutiny-vertx-amqp-client, they could use the same property...", "author": "ricardozanini", "createdAt": "2020-12-21T14:48:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc1ODYyOQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546758629", "bodyText": "@ricardo I think we are saying the same thing. If group id needs to be there and is not enough, the suffix should be artifcat id (Im just pointing out to Marek that the convention he linked is lacking a good definition of the suffix to be used in that case)\nI updated the PR to use version.groupId.artifactId", "author": "fjtirado", "createdAt": "2020-12-21T15:09:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2OTg1NA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/942#discussion_r546769854", "bodyText": "@mareknovotny ^^", "author": "ricardozanini", "createdAt": "2020-12-21T15:29:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjcxNjA5Mw=="}], "type": "inlineReview"}, {"oid": "40c2d32ca37faea67bb95d839437fd0dc672d01b", "url": "https://github.com/kiegroup/kogito-runtimes/commit/40c2d32ca37faea67bb95d839437fd0dc672d01b", "message": "[KOGITO-4014] Kogito Runtime Process to wait for a process to finish\n\nMaking WIH sync", "committedDate": "2020-12-21T14:39:10Z", "type": "commit"}, {"oid": "40c2d32ca37faea67bb95d839437fd0dc672d01b", "url": "https://github.com/kiegroup/kogito-runtimes/commit/40c2d32ca37faea67bb95d839437fd0dc672d01b", "message": "[KOGITO-4014] Kogito Runtime Process to wait for a process to finish\n\nMaking WIH sync", "committedDate": "2020-12-21T14:39:10Z", "type": "forcePushed"}]}