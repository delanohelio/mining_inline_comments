{"pr_number": 526, "pr_title": "[KOGITO-2272] Hot reload test stuck if deployment is not available", "pr_createdAt": "2020-05-21T13:11:26Z", "pr_url": "https://github.com/kiegroup/kogito-runtimes/pull/526", "timeline": [{"oid": "1ac51c72364fc3d97030154757e61af4093b3f1b", "url": "https://github.com/kiegroup/kogito-runtimes/commit/1ac51c72364fc3d97030154757e61af4093b3f1b", "message": "Simple broken test", "committedDate": "2020-05-21T13:08:31Z", "type": "commit"}, {"oid": "94b4a4c584c8db6349df7a0a35be437012d843da", "url": "https://github.com/kiegroup/kogito-runtimes/commit/94b4a4c584c8db6349df7a0a35be437012d843da", "message": "Added kogito-quarkus-deployment as dependency to hot-reload test module", "committedDate": "2020-05-21T18:00:16Z", "type": "commit"}, {"oid": "bbc6ac1f65b731bac3b8d27e016c8561196e0e53", "url": "https://github.com/kiegroup/kogito-runtimes/commit/bbc6ac1f65b731bac3b8d27e016c8561196e0e53", "message": "Revert broken test", "committedDate": "2020-05-22T07:17:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEwMDUyMg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/526#discussion_r429100522", "bodyText": "i think the scope provided may be unnecessary; if ITs are usually inside the deployment module, then by definition they do depend on the deployment module.", "author": "evacchi", "createdAt": "2020-05-22T08:00:28Z", "path": "kogito-quarkus-extension/integration-test-hot-reload/pom.xml", "diffHunk": "@@ -23,6 +23,15 @@\n             <artifactId>drools-decisiontables</artifactId>\n         </dependency>\n \n+        <!-- this is used implicitly by hot reload tests so let's make Maven aware of it -->\n+        <dependency>\n+            <groupId>org.kie.kogito</groupId>\n+            <artifactId>kogito-quarkus-deployment</artifactId>\n+            <version>${project.version}</version>\n+            <scope>provided</scope>", "originalCommit": "bbc6ac1f65b731bac3b8d27e016c8561196e0e53", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc2NTE4Ng==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/526#discussion_r429765186", "bodyText": "Done", "author": "danielezonca", "createdAt": "2020-05-25T07:06:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEwMDUyMg=="}], "type": "inlineReview"}, {"oid": "800e0a2c64a8e8e5819dbea0ab9f717834573e45", "url": "https://github.com/kiegroup/kogito-runtimes/commit/800e0a2c64a8e8e5819dbea0ab9f717834573e45", "message": "Update pom.xml", "committedDate": "2020-05-25T07:06:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxMTE5Mw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/526#discussion_r429911193", "bodyText": "could we make it provided ?", "author": "radtriste", "createdAt": "2020-05-25T12:33:39Z", "path": "kogito-quarkus-extension/integration-test-hot-reload/pom.xml", "diffHunk": "@@ -23,6 +23,14 @@\n             <artifactId>drools-decisiontables</artifactId>\n         </dependency>\n \n+        <!-- this is used implicitly by hot reload tests so let's make Maven aware of it -->\n+        <dependency>\n+            <groupId>org.kie.kogito</groupId>\n+            <artifactId>kogito-quarkus-deployment</artifactId>\n+            <version>${project.version}</version>", "originalCommit": "800e0a2c64a8e8e5819dbea0ab9f717834573e45", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxNDY0Nw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/526#discussion_r429914647", "bodyText": "Lol it was provided and then Edoardo proposed to remove provided :) (see comment)\nActually I have mixed feeling about this: it is true that provided should be enough (and this is the reason why I did it at the beginning) but it is also true that all other extensions have hot reload tests inside the deployment module so it is more similar now with a proper dependency declaration.", "author": "danielezonca", "createdAt": "2020-05-25T12:42:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxMTE5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxNjU5Ng==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/526#discussion_r429916596", "bodyText": "ahah oki :)\nI just read the executive summary before reviewing sry...\nAnyway this is just the integration-tests, so it should be ok.", "author": "radtriste", "createdAt": "2020-05-25T12:47:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxMTE5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk5NTk3Mg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/526#discussion_r429995972", "bodyText": "Another option would be to create an artificial dependency like we have it for KIE Server:\nhttps://github.com/kiegroup/droolsjbpm-integration/blob/9e089567726f5c1fdffa295a81079d45c17aad43/kie-server-parent/kie-server-tests/kie-server-integ-tests-jbpm/pom.xml#L246-L259\nBut if the tests depend on it, I would leave it with the default scope as it is now :)", "author": "MarianMacik", "createdAt": "2020-05-25T15:42:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxMTE5Mw=="}], "type": "inlineReview"}]}