{"pr_number": 354, "pr_title": "KOGITO-1216 Bump services to Quarkus 1.3.0.CR2", "pr_createdAt": "2020-03-05T20:22:18Z", "pr_url": "https://github.com/kiegroup/kogito-runtimes/pull/354", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc1NTE2MQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388755161", "bodyText": "is this the version they are using in Quarkus?", "author": "evacchi", "createdAt": "2020-03-06T07:50:08Z", "path": "pom.xml", "diffHunk": "@@ -116,8 +117,8 @@\n     <version.org.assertj>3.13.2</version.org.assertj>\n     <version.org.eclipse.jdt>3.19.0</version.org.eclipse.jdt>\n     <version.org.hamcrest>1.3</version.org.hamcrest> <!-- else old version coming from Mockito wins and breaks tests -->\n-    <version.org.infinispan>10.0.0.Final</version.org.infinispan>\n-    <version.org.infinispan.image>10.0.0.Final-1</version.org.infinispan.image>\n+    <version.org.infinispan>10.1.3.Final</version.org.infinispan>\n+    <version.org.infinispan.image>10.1.3.Final</version.org.infinispan.image>", "originalCommit": "47a2079d2585e0686eea61e897c3025d06d7608e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg4NTU0NQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388885545", "bodyText": "On quarkus it is set 10.1.2.Final I'll change to keep the same.\nhttps://github.com/quarkusio/quarkus/blob/1ec70f57f8710439ce73e0d9e49afe8f2aa8c183/bom/runtime/pom.xml#L122", "author": "tiagodolphine", "createdAt": "2020-03-06T12:52:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc1NTE2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc1NTIwNg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388755206", "bodyText": "shall we use .45 ? this is the version they are using in Quarkus 1.3.0.CR1 AFAIK", "author": "evacchi", "createdAt": "2020-03-06T07:50:16Z", "path": "pom.xml", "diffHunk": "@@ -107,7 +107,8 @@\n \n     <version.io.fabric8.kubernetes-client>4.6.2</version.io.fabric8.kubernetes-client>\n     <version.io.prometheus>0.5.0</version.io.prometheus>\n-    <version.io.quarkus>1.1.0.Final</version.io.quarkus>\n+    <version.io.quarkus>1.3.0.Alpha2</version.io.quarkus>\n+    <netty.version>4.1.46.Final</netty.version>", "originalCommit": "47a2079d2585e0686eea61e897c3025d06d7608e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg4NzI2OA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388887268", "bodyText": "Yeah on quarkus it is set the .45, I'll keep the same but in fact, I'm not sure if this is mandatory since it was a bug previously so... keep the same version doesn't guarantee that nothing will be broken.\nhttps://github.com/quarkusio/quarkus/blob/1ec70f57f8710439ce73e0d9e49afe8f2aa8c183/bom/runtime/pom.xml#L125", "author": "tiagodolphine", "createdAt": "2020-03-06T12:56:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc1NTIwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg4NDY2Mg==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388884662", "bodyText": "Just a side note, last time I checked (some months ago), this SASL Mechanism wasn't working with the deployed Infinispan image using theirs operator. Have you gotten the chance to test it? That's why our operator set this property to PLAIN. If it's working on your side using their images, I'll give this another shot and change it to DIGEST-MD5 as well.\nTo test it, just deploy their Operator, create a new Infinispan instance and try to connect your local application to it using the credentials from the generated secret.\nIt it's not working, I'd recommend using PLAIN instead.", "author": "ricardozanini", "createdAt": "2020-03-06T12:50:31Z", "path": "addons/persistence/infinispan-quarkus-health-addon/src/test/resources/application.properties", "diffHunk": "@@ -20,4 +20,6 @@ quarkus.infinispan-client.use-auth=true\n quarkus.infinispan-client.auth-username=admin\n quarkus.infinispan-client.auth-password=admin\n quarkus.infinispan-client.auth-realm=default\n-quarkus.infinispan-client.auth-server-name=infinispan\n\\ No newline at end of file\n+quarkus.infinispan-client.auth-server-name=infinispan\n+quarkus.infinispan-client.client-intelligence=BASIC\n+quarkus.infinispan-client.sasl-mechanism=DIGEST-MD5", "originalCommit": "47a2079d2585e0686eea61e897c3025d06d7608e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg4OTAzMQ==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388889031", "bodyText": "@ricardozanini this configuration is used on the test scope, for the default scope we have a different application.properties. And if we can use the Digest on our deploy env I think it is better, the operator can override the parameter and if necessary we can change it to the default be the same.", "author": "tiagodolphine", "createdAt": "2020-03-06T13:00:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg4NDY2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkxNjI5NA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r388916294", "bodyText": "Oh, I missed the test path in the file (my bad). I understand that DIGEST is way better, that's why I asked you to run through some tests if possible using their image, since wasn't working last time I checked.", "author": "ricardozanini", "createdAt": "2020-03-06T13:58:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg4NDY2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc2ODU4Mw==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r389768583", "bodyText": "just remembered, if you upgrade to CR1 you can remove this, and close KOGITO-1315, KOGITO-1369", "author": "evacchi", "createdAt": "2020-03-09T15:30:43Z", "path": "kogito-quarkus-extension/bom/pom.xml", "diffHunk": "@@ -15,13 +15,18 @@\n \n   <name>Kogito - Quarkus - Extension BOM</name>\n \n-  <properties>\n-    <version.io.quarkus>1.3.0.Alpha2</version.io.quarkus>\n-    <version.com.fasterxml.jackson>2.10.2</version.com.fasterxml.jackson>\n-  </properties>\n-\n   <dependencyManagement>\n     <dependencies>\n+      <!-- FIXME: temporary workaround for infinispan buffer overflow, remove when quarkus is updated; see KOGITO-1315 -->\n+      <!-- Netty dependencies, imported as a BOM -->\n+      <dependency>\n+        <groupId>io.netty</groupId>\n+        <artifactId>netty-bom</artifactId>\n+        <version>${netty.version}</version>", "originalCommit": "a59267f46baedb15c624d037d4dd20bc9bd2e339", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI3MzAxNA==", "url": "https://github.com/kiegroup/kogito-runtimes/pull/354#discussion_r390273014", "bodyText": "+1", "author": "tiagodolphine", "createdAt": "2020-03-10T12:17:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc2ODU4Mw=="}], "type": "inlineReview"}, {"oid": "e8eec21500566d4988d3a3f434b29860c9a308ba", "url": "https://github.com/kiegroup/kogito-runtimes/commit/e8eec21500566d4988d3a3f434b29860c9a308ba", "message": "KOGITO-1216 Bump services to Quarkus 1.3.0.Alpha2", "committedDate": "2020-03-12T13:14:27Z", "type": "commit"}, {"oid": "8cd378e04a8577c43fb6d87b39206bf58bb840e2", "url": "https://github.com/kiegroup/kogito-runtimes/commit/8cd378e04a8577c43fb6d87b39206bf58bb840e2", "message": "applying pr comments regarding versions", "committedDate": "2020-03-12T13:14:27Z", "type": "commit"}, {"oid": "6e90057b127360092c4975fc2cb3e1336a78252f", "url": "https://github.com/kiegroup/kogito-runtimes/commit/6e90057b127360092c4975fc2cb3e1336a78252f", "message": "Bump to Quarkus 1.3.0.CR2", "committedDate": "2020-03-12T13:17:03Z", "type": "commit"}, {"oid": "6e90057b127360092c4975fc2cb3e1336a78252f", "url": "https://github.com/kiegroup/kogito-runtimes/commit/6e90057b127360092c4975fc2cb3e1336a78252f", "message": "Bump to Quarkus 1.3.0.CR2", "committedDate": "2020-03-12T13:17:03Z", "type": "forcePushed"}]}