{"pr_number": 954, "pr_title": "database password", "pr_createdAt": "2020-04-16T21:02:44Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/954", "timeline": [{"oid": "1b783da3c81ce0894dc44531469ef1e0b90f49af", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/1b783da3c81ce0894dc44531469ef1e0b90f49af", "message": "feat: Make database user and password configurable.", "committedDate": "2020-04-15T19:58:14Z", "type": "commit"}, {"oid": "ff43dd40c1515f30ca44779e12e497643f35aeb9", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/ff43dd40c1515f30ca44779e12e497643f35aeb9", "message": "build: Update the build version for testing.", "committedDate": "2020-04-16T11:25:04Z", "type": "commit"}, {"oid": "eb7d69e2cbe65ed264e98814ad5e775b0aafc797", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/eb7d69e2cbe65ed264e98814ad5e775b0aafc797", "message": "feat: Use variables in healthcheck.", "committedDate": "2020-04-16T13:36:53Z", "type": "commit"}, {"oid": "12b5c2022046dc0278cf12b21d59a22845a2a503", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/12b5c2022046dc0278cf12b21d59a22845a2a503", "message": "feat: Fix issues with the secrets in the file.", "committedDate": "2020-04-16T13:37:45Z", "type": "commit"}, {"oid": "26088aefb0ec8c56f1de52e116ac3e729bb06cbe", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/26088aefb0ec8c56f1de52e116ac3e729bb06cbe", "message": "feat: Read the database user and password from secrets files.", "committedDate": "2020-04-16T14:49:07Z", "type": "commit"}, {"oid": "6dae0650b867ea84c4332b09314da1da3330f2db", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/6dae0650b867ea84c4332b09314da1da3330f2db", "message": "feat: Add the environment variables for the database credentials.", "committedDate": "2020-04-16T14:55:37Z", "type": "commit"}, {"oid": "ccf61200ec8e9d4f4f5ff66d4d7d7ce71fff4e2c", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/ccf61200ec8e9d4f4f5ff66d4d7d7ce71fff4e2c", "message": "feat: Make sure variables are set on the entry point.", "committedDate": "2020-04-16T15:11:54Z", "type": "commit"}, {"oid": "d303cc835fdf2a6a338088d112cacd213f66872a", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d303cc835fdf2a6a338088d112cacd213f66872a", "message": "feat: Fix the check of the postgres database args.", "committedDate": "2020-04-16T16:26:21Z", "type": "commit"}, {"oid": "b26eb75766d34effadeed4228bd37ce23b4b72f3", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/b26eb75766d34effadeed4228bd37ce23b4b72f3", "message": "feat: Update database environment variables.", "committedDate": "2020-04-16T18:56:30Z", "type": "commit"}, {"oid": "b0362f5f1f5a705ac6e9adc6470dd0a70ad2d803", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/b0362f5f1f5a705ac6e9adc6470dd0a70ad2d803", "message": "Feat: Use the environment variables for the health check.", "committedDate": "2020-04-16T19:57:31Z", "type": "commit"}, {"oid": "d860b91c5ec399c473e89b87b3402ea108af970b", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d860b91c5ec399c473e89b87b3402ea108af970b", "message": "feat: Read secrets files for credentials in healthcheck.", "committedDate": "2020-04-16T20:16:15Z", "type": "commit"}, {"oid": "3cc03a85a6bf00a202babea8984be49443c29de8", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/3cc03a85a6bf00a202babea8984be49443c29de8", "message": "Merge remote-tracking branch 'origin/master' into ps_database_password", "committedDate": "2020-04-16T20:58:20Z", "type": "commit"}, {"oid": "6a7f55b362390f8044ec8ecf60738349fa291b78", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/6a7f55b362390f8044ec8ecf60738349fa291b78", "message": "build: Change the version back to the latest in master.", "committedDate": "2020-04-16T21:00:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4NDI2MA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/954#discussion_r410184260", "bodyText": "Are these pulled from the docker-entrypoint?", "author": "gkillough", "createdAt": "2020-04-17T12:18:23Z", "path": "src/main/resources/application.properties", "diffHunk": "@@ -16,8 +16,8 @@ spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n spring.datasource.driver-class-name=org.postgresql.Driver\n spring.datasource.url=jdbc:postgresql://alertdb:5432/alertdb\n spring.datasource.hikari.jdbc-url=jdbc:postgresql://alertdb:5432/alertdb\n-spring.datasource.username=sa\n-spring.datasource.password=blackduck\n+spring.datasource.username=${ALERT_DB_USERNAME:sa}\n+spring.datasource.password=${ALERT_DB_PASSWORD:blackduck}", "originalCommit": "6a7f55b362390f8044ec8ecf60738349fa291b78", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIyODU0NA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/954#discussion_r410228544", "bodyText": "You can set them as environment variables on the environment section of the overrides file.  Or you can use secrets files.  The docker entrypoint checks if the secrets file exists and then uses that value and exports the environment variables so the environment variables are accessible to the application.", "author": "psantos1113", "createdAt": "2020-04-17T13:38:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4NDI2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzMTAxNg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/954#discussion_r410231016", "bodyText": "Right, I was just trying to figure out how it worked with the secrets in this file. That makes sense though.", "author": "gkillough", "createdAt": "2020-04-17T13:42:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE4NDI2MA=="}], "type": "inlineReview"}]}