{"pr_number": 1228, "pr_title": "Ek revise builds", "pr_createdAt": "2020-10-20T00:11:35Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228", "timeline": [{"oid": "0c6d3e8be303c1243290cb505fb61b1df5bec769", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0c6d3e8be303c1243290cb505fb61b1df5bec769", "message": "removing nonnull", "committedDate": "2020-10-19T13:37:34Z", "type": "commit"}, {"oid": "d61247efae6ff2bbd15f912db256b7ef3a1b843d", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d61247efae6ff2bbd15f912db256b7ef3a1b843d", "message": "removing allprojects block", "committedDate": "2020-10-19T15:34:50Z", "type": "commit"}, {"oid": "0ead357514957b559efcaa6eead685860f9dd904", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0ead357514957b559efcaa6eead685860f9dd904", "message": "fixing configuration", "committedDate": "2020-10-19T15:37:12Z", "type": "commit"}, {"oid": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/63cf8038bb77e5510b94d5e2d2ef3932f1887264", "message": "final cleanup", "committedDate": "2020-10-20T00:08:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NTQ0Nw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508485447", "bodyText": "I was not familiar with this until now. I like it.", "author": "gkillough", "createdAt": "2020-10-20T13:08:24Z", "path": "alert-platform/build.gradle", "diffHunk": "@@ -0,0 +1,38 @@\n+plugins {\n+    id 'java-platform'", "originalCommit": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NzEwMQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508487101", "bodyText": "These should be runtime dependencies.", "author": "gkillough", "createdAt": "2020-10-20T13:10:38Z", "path": "alert-platform/build.gradle", "diffHunk": "@@ -0,0 +1,38 @@\n+plugins {\n+    id 'java-platform'\n+}\n+\n+dependencies {\n+    constraints {\n+        api 'com.github.springtestdbunit:spring-test-dbunit:1.3.0'\n+        api 'org.testcontainers:postgresql:1.12.5'\n+        api 'org.apache.activemq:activemq-broker:5.15.10'\n+\n+        api 'org.jsoup:jsoup:1.9.2'\n+        api 'com.jayway.jsonpath:json-path:2.3.0'\n+        api 'com.sun.mail:javax.mail:1.6.2'\n+        api 'javax.mail:javax.mail-api:1.6.2'\n+\n+        api 'org.postgresql:postgresql:42.2.8'\n+        api 'org.liquibase:liquibase-core:3.8.9'", "originalCommit": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODUxMDQ4OA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508510488", "bodyText": "In platform, everything is api - they should be runtime where they are included.", "author": "ekerwin", "createdAt": "2020-10-20T13:38:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NzEwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODUxMTM5MA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508511390", "bodyText": "Nope, sorry, you're right. I'll check.", "author": "ekerwin", "createdAt": "2020-10-20T13:39:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NzEwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4OTczOQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508489739", "bodyText": "Would you be willing to test if this can be a runtime dependency rather api?\n\nStart Alert\nNavigate to the \"About Page\" (the page you are redirected to by default upon login)\nClick on the link to API Documentation\nSee if it still works", "author": "gkillough", "createdAt": "2020-10-20T13:14:07Z", "path": "alert-platform/build.gradle", "diffHunk": "@@ -0,0 +1,38 @@\n+plugins {\n+    id 'java-platform'\n+}\n+\n+dependencies {\n+    constraints {\n+        api 'com.github.springtestdbunit:spring-test-dbunit:1.3.0'\n+        api 'org.testcontainers:postgresql:1.12.5'\n+        api 'org.apache.activemq:activemq-broker:5.15.10'\n+\n+        api 'org.jsoup:jsoup:1.9.2'\n+        api 'com.jayway.jsonpath:json-path:2.3.0'\n+        api 'com.sun.mail:javax.mail:1.6.2'\n+        api 'javax.mail:javax.mail-api:1.6.2'\n+\n+        api 'org.postgresql:postgresql:42.2.8'\n+        api 'org.liquibase:liquibase-core:3.8.9'\n+\n+        api 'com.synopsys.integration:blackduck-common:49.2.0'\n+        api 'com.synopsys.integration:integration-rest:5.1.1'\n+        api 'com.synopsys.integration:integration-common:23.0.0'\n+\n+        api 'io.springfox:springfox-swagger2:2.8.0'\n+        api 'io.springfox:springfox-swagger-ui:2.8.0'", "originalCommit": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI2NDcxMg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r510264712", "bodyText": "Yup, it works.", "author": "ekerwin", "createdAt": "2020-10-22T15:41:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4OTczOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU2MDEyNg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508560126", "bodyText": "You have this listed twice. This line and line 28", "author": "psantos1113", "createdAt": "2020-10-20T14:31:38Z", "path": "alert-platform/build.gradle", "diffHunk": "@@ -0,0 +1,38 @@\n+plugins {\n+    id 'java-platform'\n+}\n+\n+dependencies {\n+    constraints {\n+        api 'com.github.springtestdbunit:spring-test-dbunit:1.3.0'\n+        api 'org.testcontainers:postgresql:1.12.5'\n+        api 'org.apache.activemq:activemq-broker:5.15.10'\n+\n+        api 'org.jsoup:jsoup:1.9.2'\n+        api 'com.jayway.jsonpath:json-path:2.3.0'\n+        api 'com.sun.mail:javax.mail:1.6.2'\n+        api 'javax.mail:javax.mail-api:1.6.2'\n+\n+        api 'org.postgresql:postgresql:42.2.8'\n+        api 'org.liquibase:liquibase-core:3.8.9'\n+\n+        api 'com.synopsys.integration:blackduck-common:49.2.0'\n+        api 'com.synopsys.integration:integration-rest:5.1.1'\n+        api 'com.synopsys.integration:integration-common:23.0.0'\n+\n+        api 'io.springfox:springfox-swagger2:2.8.0'\n+        api 'io.springfox:springfox-swagger-ui:2.8.0'\n+\n+        api 'org.springframework.security.extensions:spring-security-saml2-core:1.0.10.RELEASE'\n+\n+        api 'com.google.cloud:libraries-bom:2.2.0'\n+\n+        api 'com.synopsys.integration:int-jira-common:2.0.0'\n+        api 'com.google.cloud:libraries-bom:2.2.0'", "originalCommit": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI2MzUwNA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r510263504", "bodyText": "Now line 22", "author": "gkillough", "createdAt": "2020-10-22T15:39:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU2MDEyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU2MTA5Mw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r508561093", "bodyText": "I didn't see this in the platform project explicitly declared.  Is this a transitive of another API dependency?", "author": "psantos1113", "createdAt": "2020-10-20T14:32:45Z", "path": "azure-boards-common/build.gradle", "diffHunk": "@@ -1,9 +1,13 @@\n ext.moduleName = 'com.synopsys.integration.azure.boards.common'\n \n dependencies {\n-    implementation 'com.google.cloud:libraries-bom:2.2.0'\n-    api 'com.google.oauth-client:google-oauth-client'\n-    api 'com.google.api-client:google-api-client:1.30.9'\n-    api 'com.google.http-client:google-http-client-apache-v2:1.36.0'\n-    implementation 'com.synopsys.integration:integration-common:22.2.0'\n+    implementation platform(project(':alert-platform'))\n+\n+    implementation 'com.google.cloud:libraries-bom'\n+    implementation 'com.google.oauth-client:google-oauth-client'", "originalCommit": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTI5OTE3OA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r509299178", "bodyText": "It comes from spring I think.", "author": "ekerwin", "createdAt": "2020-10-21T13:47:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU2MTA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTMwNzk0Mw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r509307943", "bodyText": "Probably a transitive of int-jira-common most likely.", "author": "gkillough", "createdAt": "2020-10-21T13:55:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU2MTA5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI1NDUxOA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r510254518", "bodyText": "It is indeed.", "author": "ekerwin", "createdAt": "2020-10-22T15:27:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU2MTA5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQxMzAwNw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r509413007", "bodyText": "This doesn't seem to have an explicit version declared in alert-platform.", "author": "gkillough", "createdAt": "2020-10-21T16:04:01Z", "path": "alert-database/build.gradle", "diffHunk": "@@ -20,18 +20,30 @@ ext {\n apply plugin: com.bmuschko.gradle.docker.DockerRemoteApiPlugin\n \n dependencies {\n-    runtimeOnly 'org.postgresql:postgresql:42.2.8'\n-    runtimeOnly 'org.liquibase:liquibase-core:3.8.9'\n+    implementation platform(project(':alert-platform'))\n+\n+    implementation 'com.synopsys.integration:blackduck-common', rootProject.ext.blackduckCommonExcludes\n+    implementation 'org.springframework.data:spring-data-jpa'\n+    implementation 'jakarta.persistence:jakarta.persistence-api'\n+    implementation 'com.zaxxer:HikariCP'\n+    implementation 'org.springframework.boot:spring-boot-autoconfigure'\n+    implementation 'org.springframework.security:spring-security-core'\n+    implementation 'org.hibernate:hibernate-core'\n+\n+    runtimeOnly 'org.postgresql:postgresql'\n+    runtimeOnly 'org.liquibase:liquibase-core'\n \n     // Connection Pool\n     // https://www.baeldung.com/hibernate-c3p0\n     // https://www.codejava.net/frameworks/hibernate/solved-jdbcconnectionexception-unable-to-acquire-jdbc-connection-with-hibernate-and-mysql\n-    runtimeClasspath 'org.hibernate:hibernate-c3p0:5.4.2.Final'\n+    runtimeClasspath 'org.hibernate:hibernate-c3p0'", "originalCommit": "63cf8038bb77e5510b94d5e2d2ef3932f1887264", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI1MzgxMQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r510253811", "bodyText": "Hibernate-core comes from Spring - I suspect that their c3p0 offering will be resolved by the io dependency management to the same version.", "author": "ekerwin", "createdAt": "2020-10-22T15:26:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQxMzAwNw=="}], "type": "inlineReview"}, {"oid": "9e1e8dd9d02b646ff6a6b37576ed2f90a33616c9", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/9e1e8dd9d02b646ff6a6b37576ed2f90a33616c9", "message": "build: Add dependencies for missing libraries to run server.", "committedDate": "2020-10-21T20:21:55Z", "type": "commit"}, {"oid": "223c63c369f3fc4145288bef38f7030ef76cc65e", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/223c63c369f3fc4145288bef38f7030ef76cc65e", "message": "finishing touches", "committedDate": "2020-10-22T14:57:59Z", "type": "commit"}, {"oid": "1527b4c31ddf29e81ef0f6b58fae469e64da5ab3", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/1527b4c31ddf29e81ef0f6b58fae469e64da5ab3", "message": "Merge branch 'ek-revise-builds' of https://github.com/blackducksoftware/blackduck-alert into ek-revise-builds", "committedDate": "2020-10-22T14:58:24Z", "type": "commit"}, {"oid": "a799b4d0fbdfaa007c74363948fb36f18fdebbe3", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a799b4d0fbdfaa007c74363948fb36f18fdebbe3", "message": "changing to runtime", "committedDate": "2020-10-22T15:03:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI2MjYzMw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r510262633", "bodyText": "Can this comment be removed now?", "author": "gkillough", "createdAt": "2020-10-22T15:38:32Z", "path": "web/src/main/java/com/synopsys/integration/alert/web/api/home/HomeController.java", "diffHunk": "@@ -50,7 +50,7 @@ public String index() {\n            This is using Thymeleaf templating therefore we cannot return just a string from an ActionResponse otherwise the templating will not be setup correctly.\n            Alert will return a 404 on the main page because index.html will not be served up by this method.", "originalCommit": "a799b4d0fbdfaa007c74363948fb36f18fdebbe3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI2NTE1Mg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1228#discussion_r510265152", "bodyText": "touche, sure", "author": "ekerwin", "createdAt": "2020-10-22T15:41:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI2MjYzMw=="}], "type": "inlineReview"}, {"oid": "78b5e292a3abcf13823e24b51b730bf491a03796", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/78b5e292a3abcf13823e24b51b730bf491a03796", "message": "putting in suggestions and improvements", "committedDate": "2020-10-22T16:17:35Z", "type": "commit"}, {"oid": "f9f6549295984500d823994d5abd3da28ca9804c", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/f9f6549295984500d823994d5abd3da28ca9804c", "message": "Merge branch 'master' of https://github.com/blackducksoftware/blackduck-alert into ek-revise-builds", "committedDate": "2020-10-23T17:39:45Z", "type": "commit"}]}