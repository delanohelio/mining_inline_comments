{"pr_number": 1059, "pr_title": "feat: Adding liquibase changes for Alertboards", "pr_createdAt": "2020-07-09T18:05:13Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059", "timeline": [{"oid": "26d64c327ab2ecc4535ce2223611feec2d59aea5", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/26d64c327ab2ecc4535ce2223611feec2d59aea5", "message": "feat: Adding liquibase changes for Alertboards", "committedDate": "2020-07-09T18:03:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTEwMg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452401102", "bodyText": "Would this be sensitive data?", "author": "bamandel", "createdAt": "2020-07-09T18:11:50Z", "path": "alert-database/src/main/resources/liquibase/6.2.0/azure-boards.xml", "diffHunk": "@@ -0,0 +1,200 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\n+    <!-- Initialize registered descriptors -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-41-52-507\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.REGISTERED_DESCRIPTORS where NAME = 'channel_azure_boards'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"REGISTERED_DESCRIPTORS\">\n+            <column name=\"TYPE_ID\" valueComputed=\"GET_DESCRIPTOR_TYPE_ID('CHANNEL')\"/>\n+            <column name=\"NAME\">channel_azure_boards</column>\n+        </insert>\n+    </changeSet>\n+    <!-- Initialize defined fields -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-42-13-225\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.DEFINED_FIELDS where SOURCE_KEY = 'azure.boards.project'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.project</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.board</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.type</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.completed.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.reopen.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.url</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.organization.name</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.consumer.key</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.private.key</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.oauth</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.access.token</column>\n+            <column name=\"SENSITIVE\">false</column>", "originalCommit": "26d64c327ab2ecc4535ce2223611feec2d59aea5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwNDMzMw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452404333", "bodyText": "Yes it is", "author": "psantos1113", "createdAt": "2020-07-09T18:17:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTEwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTE4NQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452401185", "bodyText": "Would this be sensitive data?", "author": "bamandel", "createdAt": "2020-07-09T18:11:59Z", "path": "alert-database/src/main/resources/liquibase/6.2.0/azure-boards.xml", "diffHunk": "@@ -0,0 +1,200 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\n+    <!-- Initialize registered descriptors -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-41-52-507\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.REGISTERED_DESCRIPTORS where NAME = 'channel_azure_boards'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"REGISTERED_DESCRIPTORS\">\n+            <column name=\"TYPE_ID\" valueComputed=\"GET_DESCRIPTOR_TYPE_ID('CHANNEL')\"/>\n+            <column name=\"NAME\">channel_azure_boards</column>\n+        </insert>\n+    </changeSet>\n+    <!-- Initialize defined fields -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-42-13-225\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.DEFINED_FIELDS where SOURCE_KEY = 'azure.boards.project'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.project</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.board</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.type</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.completed.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.reopen.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.url</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.organization.name</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.consumer.key</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.private.key</column>\n+            <column name=\"SENSITIVE\">false</column>", "originalCommit": "26d64c327ab2ecc4535ce2223611feec2d59aea5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwNDQ3NA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452404474", "bodyText": "yes", "author": "psantos1113", "createdAt": "2020-07-09T18:17:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMTE4NQ=="}], "type": "inlineReview"}, {"oid": "69702e520c690592f89f7792f26fe661b25e6d59", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/69702e520c690592f89f7792f26fe661b25e6d59", "message": "feat: Fixing defined fields to correctly be labeled sensitive.", "committedDate": "2020-07-09T18:23:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyMjEyNg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452422126", "bodyText": "Do we know if the consumer key is also a sensitive field?", "author": "psantos1113", "createdAt": "2020-07-09T18:50:47Z", "path": "alert-database/src/main/resources/liquibase/6.2.0/azure-boards.xml", "diffHunk": "@@ -0,0 +1,200 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\n+    <!-- Initialize registered descriptors -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-41-52-507\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.REGISTERED_DESCRIPTORS where NAME = 'channel_azure_boards'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"REGISTERED_DESCRIPTORS\">\n+            <column name=\"TYPE_ID\" valueComputed=\"GET_DESCRIPTOR_TYPE_ID('CHANNEL')\"/>\n+            <column name=\"NAME\">channel_azure_boards</column>\n+        </insert>\n+    </changeSet>\n+    <!-- Initialize defined fields -->\n+    <changeSet author=\"martinc\" id=\"2020-07-08-13-42-13-225\">\n+        <preConditions onFail=\"MARK_RAN\">\n+            <sqlCheck expectedResult=\"0\">select count(*) from ALERT.DEFINED_FIELDS where SOURCE_KEY = 'azure.boards.project'</sqlCheck>\n+        </preConditions>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.project</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.board</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.type</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.completed.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">channel.azure.boards.work.item.reopen.state</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.url</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.organization.name</column>\n+            <column name=\"SENSITIVE\">false</column>\n+        </insert>\n+        <insert schemaName=\"ALERT\" tableName=\"DEFINED_FIELDS\">\n+            <column name=\"SOURCE_KEY\">azure.boards.consumer.key</column>", "originalCommit": "69702e520c690592f89f7792f26fe661b25e6d59", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyNTM0MQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1059#discussion_r452425341", "bodyText": "Speaking with Gavin we decided not to worry about it now since it is only used in OAuth 1.0 and might not be needed for OAuth 2.0", "author": "ChomickiM", "createdAt": "2020-07-09T18:56:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQyMjEyNg=="}], "type": "inlineReview"}]}