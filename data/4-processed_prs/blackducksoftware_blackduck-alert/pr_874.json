{"pr_number": 874, "pr_title": "Helm Chart: Have the resources in Values.yaml match the k8s format", "pr_createdAt": "2020-02-24T14:47:55Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/874", "timeline": [{"oid": "6e88795db0934d645152fd2eeebdc96ce4bd999f", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/6e88795db0934d645152fd2eeebdc96ce4bd999f", "message": "have the resources in Values.yaml match the k8s format", "committedDate": "2020-02-24T14:36:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDA5Nw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383330097", "bodyText": "@mphammer this is a bug, similar to the one for Black Duck. https://github.com/blackducksoftware/blackduck-alert/blob/5.2.1/deployment/docker-compose/standalone/docker-compose.yml#L28\nM in docker means Mi in k8s\nSee: https://github.com/blackducksoftware/synopsys-operator/pull/1100/files and https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/", "author": "yashbhutwala", "createdAt": "2020-02-24T15:24:57Z", "path": "deployment/helm/values.yaml", "diffHunk": "@@ -5,8 +5,11 @@\n # alert - configurations for the Alert Pod\n alert:\n   image: \"docker.io/blackducksoftware/blackduck-alert:VERSION_TOKEN\"\n-  limitMemory: \"2560M\"\n-  requestMemory: \"2560M\"\n+  resources:\n+    limits:\n+      memory: \"2560M\"\n+    requests:\n+      memory: \"2560M\"", "originalCommit": "6e88795db0934d645152fd2eeebdc96ce4bd999f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzNTMyNg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383335326", "bodyText": "Nice find! I switched it to Mi", "author": "mphammer", "createdAt": "2020-02-24T15:32:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDA5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDI0Mg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383330242", "bodyText": "Same bug as above \ud83d\ude04", "author": "yashbhutwala", "createdAt": "2020-02-24T15:25:11Z", "path": "deployment/helm/values.yaml", "diffHunk": "@@ -17,8 +20,11 @@ deployAlertWithBlackDuck: false\n enableStandalone: true\n cfssl:\n   image: \"docker.io/blackducksoftware/blackduck-cfssl:1.0.0\"\n-  limitMemory: \"640M\"\n-  requestMemory: \"640M\"\n+  resources:\n+    limits:\n+      memory: \"640M\"\n+    requests:\n+      memory: \"640M\"", "originalCommit": "6e88795db0934d645152fd2eeebdc96ce4bd999f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDgxMA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383330810", "bodyText": "Also, I'm not sure why we use 640, whereas the docker-compose file specifies 512: https://github.com/blackducksoftware/blackduck-alert/blob/5.2.1/deployment/docker-compose/standalone/docker-compose.yml#L13", "author": "yashbhutwala", "createdAt": "2020-02-24T15:26:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDI0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMjMxNw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383332317", "bodyText": "Interesting, so this may also be a bug, since Black Duck also specifies 512 for the cfssl container: https://github.com/blackducksoftware/hub/blob/v2019.12.1/docker-compose/docker-compose.yml#L107", "author": "yashbhutwala", "createdAt": "2020-02-24T15:28:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDI0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzNTUwNg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383335506", "bodyText": "Nice find! I switched it to Mi", "author": "mphammer", "createdAt": "2020-02-24T15:33:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDI0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzODY0Mg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383338642", "bodyText": "Interesting that it's 640 in the docker-swarm file: https://github.com/blackducksoftware/blackduck-alert/blob/master/deployment/docker-swarm/standalone/docker-compose.yml#L16", "author": "mphammer", "createdAt": "2020-02-24T15:37:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDI0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzM0MTE0MQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/874#discussion_r383341141", "bodyText": "Same for Black Duck: https://github.com/blackducksoftware/hub/blob/v2019.12.1/docker-swarm/docker-compose.yml#L125\n\ud83e\udd2f", "author": "yashbhutwala", "createdAt": "2020-02-24T15:41:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMzMDI0Mg=="}], "type": "inlineReview"}, {"oid": "a09859b428394718d5cbf2f02e94e4f24eee4043", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a09859b428394718d5cbf2f02e94e4f24eee4043", "message": "fix alert resource sizes for k8s: M -> Mi", "committedDate": "2020-02-24T15:31:25Z", "type": "commit"}]}