{"pr_number": 942, "pr_title": "fix: Fix the failing test and SonarCloud link.", "pr_createdAt": "2020-04-09T14:18:14Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/942", "timeline": [{"oid": "5f4f080d5ffe508031fcd7bd9df243b96978fc20", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/5f4f080d5ffe508031fcd7bd9df243b96978fc20", "message": "fix: Fix the failing test and SonarCloud link.", "committedDate": "2020-04-09T14:17:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI0MTQ1MA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/942#discussion_r406241450", "bodyText": "Should we change this to something like this, since contains uses indexOf anyway?\nint indexOfQABuild = versionToken.indexOf(QA_BUILD);\nint indexOfSnapshot = versionToken.indexOf(SNAPSHOT);\nif (indexOfQABuild > 0) {\n            resultToken = versionToken.substring(0, indexOfQABuild);\n } else if (indexOfSnapshot > 0) {\n            resultToken = versionToken.substring(0, indexOfSnapshot);\n}", "author": "jamesrichard91", "createdAt": "2020-04-09T14:23:00Z", "path": "src/main/java/com/synopsys/integration/alert/workflow/scheduled/update/UpdateChecker.java", "diffHunk": "@@ -195,10 +195,11 @@ private int compareVersions(String firstVersion, String secondVersion) {\n \n     private String getVersionToken(String versionToken) {\n         String resultToken = versionToken;\n-        if (versionToken.contains(SNAPSHOT)) {\n-            resultToken = versionToken.substring(0, versionToken.indexOf(SNAPSHOT));\n-        } else if (versionToken.contains(QA_BUILD)) {\n+        // currently we get -SIGQA1-SNAPSHOT so we need to look for SIGQA first.\n+        if (versionToken.contains(QA_BUILD)) {\n             resultToken = versionToken.substring(0, versionToken.indexOf(QA_BUILD));\n+        } else if (versionToken.contains(SNAPSHOT)) {\n+            resultToken = versionToken.substring(0, versionToken.indexOf(SNAPSHOT));\n         }", "originalCommit": "5f4f080d5ffe508031fcd7bd9df243b96978fc20", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d0728753b3110aab40b4d73893b6634456a899fa", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d0728753b3110aab40b4d73893b6634456a899fa", "message": "refactor: Implement the PR feedback.", "committedDate": "2020-04-09T14:38:59Z", "type": "commit"}]}