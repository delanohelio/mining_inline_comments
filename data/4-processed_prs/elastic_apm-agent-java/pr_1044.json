{"pr_number": 1044, "pr_title": "[docs] Add EOL table", "pr_createdAt": "2020-02-18T20:35:04Z", "pr_url": "https://github.com/elastic/apm-agent-java/pull/1044", "timeline": [{"oid": "52ed043bfe748b7fc1d15c0dc43c75889f2b800b", "url": "https://github.com/elastic/apm-agent-java/commit/52ed043bfe748b7fc1d15c0dc43c75889f2b800b", "message": "docs: add EOL table", "committedDate": "2020-02-18T20:31:53Z", "type": "commit"}, {"oid": "bc4623c0b1a4ec7eae9e3d57ee636aaa99451f10", "url": "https://github.com/elastic/apm-agent-java/commit/bc4623c0b1a4ec7eae9e3d57ee636aaa99451f10", "message": "docs: it\u2019s been three months, let\u2019s delete", "committedDate": "2020-02-18T20:32:18Z", "type": "commit"}, {"oid": "3a9c25fb91fca0a03715f734b8a29877a5e959af", "url": "https://github.com/elastic/apm-agent-java/commit/3a9c25fb91fca0a03715f734b8a29877a5e959af", "message": "docs: update EOL table with minors", "committedDate": "2020-02-19T16:45:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ0MTQ0OA==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r381441448", "bodyText": "I find this even more confusing now \ud83d\ude04\nEOL date is in the future (2021-05-21), yet we don't support it anymore because there's a new minor (1.13.0)\nI think this table will only be really useful once we release a new Major version. In that case we can document how long the latest minor of the previous major is supported.", "author": "felixbarny", "createdAt": "2020-02-19T17:51:11Z", "path": "docs/upgrading.asciidoc", "diffHunk": "@@ -0,0 +1,38 @@\n+[[upgrading]]\n+== Upgrading\n+Upgrades between minor versions of the agent, like from 1.1 to 1.2 are always backwards compatible.\n+Upgrades that involve a major version bump often come with some backwards incompatible changes.\n+\n+Before upgrading the agent, be sure to review the:\n+\n+* <<release-notes,Agent release notes>>\n+* {apm-overview-ref-v}/agent-server-compatibility.html[Agent and Server compatibility chart]\n+\n+[float]\n+[[end-of-life-dates]]\n+=== End of life dates\n+\n+We love all our products, but sometimes we must say goodbye to a release so that we can continue moving\n+forward on future development and innovation.\n+Our https://www.elastic.co/support/eol[End of life policy] defines how long a given release is considered supported,\n+as well as how long a release is considered still in active development or maintenance.\n+The table below is a simplified description of this policy.\n+\n+[options=\"header\"]\n+|====\n+|Agent version |EOL Date |Maintained until\n+|1.13.x |2021-08-11 |1.14\n+|1.12.x |2021-05-21 |1.13", "originalCommit": "3a9c25fb91fca0a03715f734b8a29877a5e959af", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ3MDQ4Nw==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r381470487", "bodyText": "I agree that this will only really be useful once a new major is released. As an example: https://github.com/elastic/apm-agent-nodejs/pull/1637/files#diff-bd9ef2ce28d1c05f980ae9ce34024b5bR38\n\nEOL date is in the future (2021-05-21), yet we don't support it anymore because there's a new minor (1.13.0)\n\nThe stack EOL table does the same thing:\n7.3.x | 2021-01-31 | 7.4.0\n7.4.x | 2021-04-01 | 7.5.0\n7.5.x | 2021-06-02 | 7.6.0\n7.6.x | 2021-08-11 | 7.7.0\nNow I'm wondering if it just makes more sense to remove EOL dates altogether? Don't we really only need a maintained until column?", "author": "bmorelli25", "createdAt": "2020-02-19T18:43:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ0MTQ0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjExMjY5NA==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r382112694", "bodyText": "I agree that this will only really be useful once a new major is released.\n\nAs we're currently trying to make creating releases more seamless I'd really appreciate it if we could introduce that table lazily, once we create a new major version. It makes sense to add the description right now of course.", "author": "felixbarny", "createdAt": "2020-02-20T16:28:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ0MTQ0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ5MDY0Mw==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r390490643", "bodyText": "Sorry Felix, I didn't realize I never followed up on this. Updated to remove the EOL table for now.", "author": "bmorelli25", "createdAt": "2020-03-10T17:34:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ0MTQ0OA=="}], "type": "inlineReview"}, {"oid": "c7cb71f5228690b1e06f02504e2103dbe6d0408e", "url": "https://github.com/elastic/apm-agent-java/commit/c7cb71f5228690b1e06f02504e2103dbe6d0408e", "message": "docs: semvar", "committedDate": "2020-02-20T03:27:19Z", "type": "commit"}, {"oid": "7a0952dce3e71a1eae2aa3f24ebde9ae9ed53478", "url": "https://github.com/elastic/apm-agent-java/commit/7a0952dce3e71a1eae2aa3f24ebde9ae9ed53478", "message": "docs: remove EOL", "committedDate": "2020-03-10T17:33:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ5ODI3MQ==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r390498271", "bodyText": "regarding updating the agent, since the latest agent version is the recommended one:\nwhat about providing a bash one-liner to download the latest version from maven central ?\nAlso, it might be relevant to add that the recommended way to update (at least for now) is the following:\n\nshut-down the application\nupdate agent jar\n(optionally) change JVM settings if path to agent jar has changed due to a different filename for example\nre-start the application.\n\nOne extra thing that we could add maybe later is to have a shell one-liner script to download latest version of the agent for easier update/install.", "author": "SylvainJuge", "createdAt": "2020-03-10T17:46:30Z", "path": "docs/upgrading.asciidoc", "diffHunk": "@@ -0,0 +1,18 @@\n+[[upgrading]]\n+== Upgrading\n+Upgrades between minor versions of the agent, like from 1.1 to 1.2 are always backwards compatible.\n+Upgrades that involve a major version bump often come with some backwards incompatible changes.\n+\n+Before upgrading the agent, be sure to review the:\n+\n+* <<release-notes,Agent release notes>>\n+* {apm-overview-ref-v}/agent-server-compatibility.html[Agent and Server compatibility chart]", "originalCommit": "7a0952dce3e71a1eae2aa3f24ebde9ae9ed53478", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUwNTkzOQ==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r390505939", "bodyText": "Could be done like this: https://stackoverflow.com/a/26288401/1125055", "author": "felixbarny", "createdAt": "2020-03-10T17:58:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ5ODI3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUyNjIxOQ==", "url": "https://github.com/elastic/apm-agent-java/pull/1044#discussion_r390526219", "bodyText": "Thanks Sylvain. I've added in the upgrade steps. I'm having trouble adapting the one-liner that Felix provided to the APM jar", "author": "bmorelli25", "createdAt": "2020-03-10T18:31:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ5ODI3MQ=="}], "type": "inlineReview"}, {"oid": "f53719c2801fe50d656771d54c6eeacc3f409521", "url": "https://github.com/elastic/apm-agent-java/commit/f53719c2801fe50d656771d54c6eeacc3f409521", "message": "docs: add upgrade steps", "committedDate": "2020-03-10T18:30:32Z", "type": "commit"}]}