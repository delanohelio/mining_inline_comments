{"pr_number": 1571, "pr_title": "Fix serializing all stack trace frames", "pr_createdAt": "2020-12-15T15:48:08Z", "pr_url": "https://github.com/elastic/apm-agent-java/pull/1571", "timeline": [{"oid": "eafa59447ceb30d7b678b0686209e369c1e93f22", "url": "https://github.com/elastic/apm-agent-java/commit/eafa59447ceb30d7b678b0686209e369c1e93f22", "message": "Fix serializing all stack trace frames\n\ncloses #1570", "committedDate": "2020-12-15T15:45:45Z", "type": "commit"}, {"oid": "2e266eac944c68131c9dd9f152cbb727f1c6bac4", "url": "https://github.com/elastic/apm-agent-java/commit/2e266eac944c68131c9dd9f152cbb727f1c6bac4", "message": "Add changelog", "committedDate": "2020-12-15T15:49:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQwMzQzMA==", "url": "https://github.com/elastic/apm-agent-java/pull/1571#discussion_r544403430", "bodyText": "[minor] the 1405 also misses a #", "author": "SylvainJuge", "createdAt": "2020-12-16T15:43:15Z", "path": "CHANGELOG.asciidoc", "diffHunk": "@@ -35,14 +35,15 @@ endif::[]\n [float]\n ===== Bug fixes\n * Fix small memory allocation regression introduced with tracestate header {pull}1508[#1508]\n-* Fix `NullPointerException` from `WeakConcurrentMap.put` through the Elasticsearch client instrumentation - {pull}1531[1531]\n-* Sending `transaction_id` and `parent_id` only for events that contain a valid `trace_id` as well - {pull}1537[1537]\n+* Fix `NullPointerException` from `WeakConcurrentMap.put` through the Elasticsearch client instrumentation - {pull}1531[#1531]\n+* Sending `transaction_id` and `parent_id` only for events that contain a valid `trace_id` as well - {pull}1537[#1537]\n * Fix `ClassNotFoundError` with old versions of Spring resttemplate {pull}1524[#1524]\n-* Fix Micrometer-driven metrics validation errors by the APM Server when sending with illegal values - {pull}1559[1559]\n+* Fix Micrometer-driven metrics validation errors by the APM Server when sending with illegal values - {pull}1559[#1559]\n+* Serialize all stack trace frames when setting `stack_trace_limit=-1` instead of none - {pull}1571[#1571]\n \n [float]\n ===== Refactors\n-* Migrate some plugins to indy dispatcher {pull}1405[1405] {pull}1394[1394]\n+* Migrate some plugins to indy dispatcher {pull}1405[1405] {pull}1394[#1394]", "originalCommit": "2e266eac944c68131c9dd9f152cbb727f1c6bac4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ5Mjg1MA==", "url": "https://github.com/elastic/apm-agent-java/pull/1571#discussion_r544492850", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Migrate some plugins to indy dispatcher {pull}1405[1405] {pull}1394[#1394]\n          \n          \n            \n            * Migrate some plugins to indy dispatcher {pull}1405[#1405] {pull}1394[#1394]", "author": "felixbarny", "createdAt": "2020-12-16T17:38:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQwMzQzMA=="}], "type": "inlineReview"}, {"oid": "8b4b0accdcaef33498978419b52174fb2c44e0b5", "url": "https://github.com/elastic/apm-agent-java/commit/8b4b0accdcaef33498978419b52174fb2c44e0b5", "message": "Update CHANGELOG.asciidoc", "committedDate": "2020-12-16T17:38:14Z", "type": "commit"}]}