{"pr_number": 789, "pr_title": "Store ibmcompat API metadata in properties field", "pr_createdAt": "2020-08-26T11:02:21Z", "pr_url": "https://github.com/Apicurio/apicurio-registry/pull/789", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1MDYwNQ==", "url": "https://github.com/Apicurio/apicurio-registry/pull/789#discussion_r477250605", "bodyText": "Adding the new version might be an async operation - do we need a check before this Patch operation to make sure the version added above exists and is in the expected state?", "author": "EricWittmann", "createdAt": "2020-08-26T12:10:04Z", "path": "app/src/test/java/io/apicurio/registry/ibmcompat/IBMCompatApiTest.java", "diffHunk": "@@ -376,8 +405,8 @@ public void testPatchSchemaVersionState() throws Exception {\n                 .patch(\"/ibmcompat/schemas/\" + schemaName + \"/versions/2\")\n             .then()\n                 .statusCode(200)\n-                .body(\"name\", equalTo(schemaName))\n-                .body(\"id\", equalTo(schemaName))\n+                .body(\"name\", equalTo(schemaId))\n+                .body(\"id\", equalTo(schemaId))\n                 .body(\"enabled\", is(true))\n                 .body(\"state.state\", equalTo(\"active\"))\n                 .body(\"versions.size()\", is(2))", "originalCommit": "2ff26f9bbaa01589bb06bf162a913b4eaa8d62e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzM1ODM4NA==", "url": "https://github.com/Apicurio/apicurio-registry/pull/789#discussion_r477358384", "bodyText": "Good idea - I've added a waitForVersion method & used it where appropriate.", "author": "ajborley", "createdAt": "2020-08-26T14:45:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1MDYwNQ=="}], "type": "inlineReview"}, {"oid": "19d428f9903721145c1492316b34ccdc49e94df5", "url": "https://github.com/Apicurio/apicurio-registry/commit/19d428f9903721145c1492316b34ccdc49e94df5", "message": "Store ibmcompat API metadata in properties field\n\n- This commit updates the ibmcompat API so that metadata that does not\nhave an equivalent in the artifacts API is stored in and retrieved from\nthe `properties` metadata field.\n- It also updates the API path handling to allow either the schema name\nor schema ID (which is the lower-cased schema name) to be used to\naddress the artifact.\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>", "committedDate": "2020-08-26T14:58:42Z", "type": "commit"}, {"oid": "35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "url": "https://github.com/Apicurio/apicurio-registry/commit/35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "message": "Add retry/wait in tests when new artifact version is created\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>", "committedDate": "2020-08-26T14:58:42Z", "type": "commit"}, {"oid": "35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "url": "https://github.com/Apicurio/apicurio-registry/commit/35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "message": "Add retry/wait in tests when new artifact version is created\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>", "committedDate": "2020-08-26T14:58:42Z", "type": "forcePushed"}]}