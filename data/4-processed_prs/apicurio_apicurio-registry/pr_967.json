{"pr_number": 967, "pr_title": "Document artifact states 965", "pr_createdAt": "2020-10-29T15:43:41Z", "pr_url": "https://github.com/Apicurio/apicurio-registry/pull/967", "timeline": [{"oid": "8e6edd860700c07e16ca5ca9faa1230a2232e8d9", "url": "https://github.com/Apicurio/apicurio-registry/commit/8e6edd860700c07e16ca5ca9faa1230a2232e8d9", "message": "Add artifact state docs section", "committedDate": "2020-10-29T15:39:55Z", "type": "commit"}, {"oid": "6ac514d2168c73d9904fbca8659d477eabf746a9", "url": "https://github.com/Apicurio/apicurio-registry/commit/6ac514d2168c73d9904fbca8659d477eabf746a9", "message": "Improve state docs", "committedDate": "2020-10-29T15:42:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQwOTY5MA==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514409690", "bodyText": "Suggest \"...its metadata is viewable and searchable using the {registry} web console, but its content cannot...\"", "author": "smccarthy-ie", "createdAt": "2020-10-29T16:46:18Z", "path": "docs/modules/ROOT/partials/getting-started/ref-registry-artifact-states.adoc", "diffHunk": "@@ -0,0 +1,39 @@\n+// Metadata created by nebel\n+// ParentAssemblies: assemblies/getting-started/as_registry-reference.adoc\n+\n+[id=\"registry-artifact-states\"]\n+\n+= {registry} artifact states\n+These are the valid artifact states in {registry}:\n+\n+.{registry} artifact states\n+[%header,cols=2*]\n+|===\n+|State\n+|Description\n+|`ENABLED`\n+|Basic state, all operations available.\n+|`DISABLED`\n+|The artifact and it's metadata is viewable and searchable through the UI but it's content cannot be fetched by any client.", "originalCommit": "8e6edd860700c07e16ca5ca9faa1230a2232e8d9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cf800cc935e7073eafa319881b2c08d97f588ac8", "url": "https://github.com/Apicurio/apicurio-registry/commit/cf800cc935e7073eafa319881b2c08d97f588ac8", "message": "Address comments", "committedDate": "2020-10-29T17:22:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NTI3NQ==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514495275", "bodyText": "Just the word \"transitions\" all by itself?", "author": "EricWittmann", "createdAt": "2020-10-29T18:57:45Z", "path": "docs/modules/ROOT/pages/getting-started/assembly-registry-reference.adoc", "diffHunk": "@@ -6,16 +6,18 @@ include::{mod-loc}shared/all-attributes.adoc[]\n = {registry} reference\n //If the assembly covers a task, start the title with a verb in the gerund form, such as Creating or Configuring.\n \n-This chapter lists the supported artifact types and content rule types that are stored in {registry}. \n-\n+This chapter lists the supported artifact types, states and content rule types that are stored in {registry}.\n+transitions", "originalCommit": "cf800cc935e7073eafa319881b2c08d97f588ac8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMjQ5Mg==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514922492", "bodyText": "Copy-paste mistake, I guess.", "author": "carlesarnal", "createdAt": "2020-10-30T07:53:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NTI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NjkwNA==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514496904", "bodyText": "Should also note that the {registry}  REST Client will log a warning whenever it sees deprecated content?", "author": "EricWittmann", "createdAt": "2020-10-29T19:00:09Z", "path": "docs/modules/ROOT/partials/getting-started/ref-registry-artifact-states.adoc", "diffHunk": "@@ -0,0 +1,39 @@\n+// Metadata created by nebel\n+// ParentAssemblies: assemblies/getting-started/as_registry-reference.adoc\n+\n+[id=\"registry-artifact-states\"]\n+\n+= {registry} artifact states\n+These are the valid artifact states in {registry}:\n+\n+.{registry} artifact states\n+[%header,cols=2*]\n+|===\n+|State\n+|Description\n+|`ENABLED`\n+|Basic state, all the operations are available.\n+|`DISABLED`\n+|The artifact and its metadata is viewable and searchable using the {registry} web console, but its content cannot be fetched by any client.\n+|`DEPRECATED`\n+|The artifact is fully usable but a header is added to the REST API response whenever the artifact content is fetched.", "originalCommit": "cf800cc935e7073eafa319881b2c08d97f588ac8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMjExMw==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514922113", "bodyText": "I'll add this.", "author": "carlesarnal", "createdAt": "2020-10-30T07:52:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NjkwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NzQ4MQ==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514497481", "bodyText": "There is some inconsistency in this in our actual implementation... but I don't see this as a state.  I believe when an artifact is deleted we currently actually remove it - we do not set its \"state\" to DELETED.  I would remove this.", "author": "EricWittmann", "createdAt": "2020-10-29T19:01:03Z", "path": "docs/modules/ROOT/partials/getting-started/ref-registry-artifact-states.adoc", "diffHunk": "@@ -0,0 +1,39 @@\n+// Metadata created by nebel\n+// ParentAssemblies: assemblies/getting-started/as_registry-reference.adoc\n+\n+[id=\"registry-artifact-states\"]\n+\n+= {registry} artifact states\n+These are the valid artifact states in {registry}:\n+\n+.{registry} artifact states\n+[%header,cols=2*]\n+|===\n+|State\n+|Description\n+|`ENABLED`\n+|Basic state, all the operations are available.\n+|`DISABLED`\n+|The artifact and its metadata is viewable and searchable using the {registry} web console, but its content cannot be fetched by any client.\n+|`DEPRECATED`\n+|The artifact is fully usable but a header is added to the REST API response whenever the artifact content is fetched.\n+|`DELETED`\n+|Artifact not available through the REST API.", "originalCommit": "cf800cc935e7073eafa319881b2c08d97f588ac8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMjAzNg==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514922036", "bodyText": "You're right, the DELETED enum value is used in order to tell the Registry which operation to perform. I'll change this.", "author": "carlesarnal", "createdAt": "2020-10-30T07:52:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5NzQ4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5ODE3Mg==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514498172", "bodyText": "Do we need this section at all?  We're basically documenting that any state can be transitioned to any other state.  Maybe not useful.  I'd much rather see an explanation of states and the motivation for having them at all.", "author": "EricWittmann", "createdAt": "2020-10-29T19:02:16Z", "path": "docs/modules/ROOT/partials/getting-started/ref-registry-artifact-states.adoc", "diffHunk": "@@ -0,0 +1,39 @@\n+// Metadata created by nebel\n+// ParentAssemblies: assemblies/getting-started/as_registry-reference.adoc\n+\n+[id=\"registry-artifact-states\"]\n+\n+= {registry} artifact states\n+These are the valid artifact states in {registry}:\n+\n+.{registry} artifact states\n+[%header,cols=2*]\n+|===\n+|State\n+|Description\n+|`ENABLED`\n+|Basic state, all the operations are available.\n+|`DISABLED`\n+|The artifact and its metadata is viewable and searchable using the {registry} web console, but its content cannot be fetched by any client.\n+|`DEPRECATED`\n+|The artifact is fully usable but a header is added to the REST API response whenever the artifact content is fetched.\n+|`DELETED`\n+|Artifact not available through the REST API.\n+|===\n+\n+.{registry} artifact state transitions\n+[%header,cols=2*]\n+|===\n+|State\n+|Valid Transition States\n+|`ENABLED`\n+|`DISABLED`,`DEPRECATED`,`DELETED`\n+|`DISABLED`\n+|`ENABLED`,`DEPRECATED`,`DELETED`\n+|`DEPRECATED`\n+|`ENABLED`,`DISABLED`,`DELETED`\n+|`DELETED`\n+|`NONE`\n+|===", "originalCommit": "cf800cc935e7073eafa319881b2c08d97f588ac8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMDgyNw==", "url": "https://github.com/Apicurio/apicurio-registry/pull/967#discussion_r514920827", "bodyText": "Right, I just realized that after writing this. This wasn't the situation, but now it is, I guess we can delete this section.", "author": "carlesarnal", "createdAt": "2020-10-30T07:49:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ5ODE3Mg=="}], "type": "inlineReview"}, {"oid": "9ccf8ab65c2e82cecea580beba76dccf88340d5a", "url": "https://github.com/Apicurio/apicurio-registry/commit/9ccf8ab65c2e82cecea580beba76dccf88340d5a", "message": "Address comments", "committedDate": "2020-10-30T07:58:43Z", "type": "commit"}]}