{"pr_number": 495, "pr_title": "Add proxy settings to ui", "pr_createdAt": "2020-05-19T03:46:15Z", "pr_url": "https://github.com/Apicurio/apicurio-registry/pull/495", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI2MDIzOQ==", "url": "https://github.com/Apicurio/apicurio-registry/pull/495#discussion_r427260239", "bodyText": "What are these for?  I see they are setting the os.type property but I can't see where that property is used.  Used implicitly somewhere?", "author": "EricWittmann", "createdAt": "2020-05-19T12:24:59Z", "path": "ui/pom.xml", "diffHunk": "@@ -104,5 +106,195 @@\n             </plugin>\n         </plugins>\n     </build>\n-\n+    <profiles>\n+        <profile>\n+            <id>with-proxy</id>\n+            <activation>\n+            <property>\n+                <name>proxy-server</name>\n+            </property>\n+            </activation>\n+            <properties>\n+                <yarn-install-args>--network-concurrency=30 --child-concurrency=1 --network-timeout=100000</yarn-install-args>\n+            </properties>\n+            <build>\n+            <plugins>\n+                <plugin>\n+                    <artifactId>maven-enforcer-plugin</artifactId>\n+                    <executions>\n+                        <execution>\n+                        <id>require-proxy-properties</id>\n+                        <goals>\n+                            <goal>enforce</goal>\n+                        </goals>\n+                        <configuration>\n+                            <rules>\n+                            <requireProperty>\n+                                <property>proxy-user</property>\n+                            </requireProperty>\n+                            <requireProperty>\n+                                <property>proxy-password</property>\n+                            </requireProperty>\n+                            <requireProperty>\n+                                <property>proxy-port</property>\n+                            </requireProperty>\n+                            </rules>\n+                            <fail>true</fail>\n+                        </configuration>\n+                        </execution>\n+                    </executions>\n+                </plugin>\n+                <plugin>\n+                    <groupId>com.github.eirslett</groupId>\n+                    <artifactId>frontend-maven-plugin</artifactId>\n+                    <executions>\n+                        <execution>\n+                            <id>set https proxy</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set https-proxy http://${proxy-user}:${proxy-password}@${proxy-server}:${proxy-port}</arguments>\n+                            </configuration>\n+                        </execution>\n+                        <execution>\n+                            <id>set http proxy</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set proxy http://${proxy-user}:${proxy-password}@${proxy-server}:${proxy-port}</arguments>\n+                            </configuration>\n+                        </execution>\n+                        <execution>\n+                            <id>set maxconn</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set maxsockets 30</arguments>\n+                            </configuration>\n+                        </execution>\n+                    </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>with-custom-registry</id>\n+            <activation>\n+            <property>\n+                <name>custom-registry</name>\n+            </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>com.github.eirslett</groupId>\n+                        <artifactId>frontend-maven-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                            <id>yarn set registry</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set registry ${custom-registry}</arguments>\n+                            </configuration>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>with-custom-cafile</id>\n+            <activation>\n+                <property>\n+                <name>custom-cafile</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                <plugin>\n+                    <groupId>com.github.eirslett</groupId>\n+                    <artifactId>frontend-maven-plugin</artifactId>\n+                    <executions>\n+                    <execution>\n+                        <id>yarn set cafile</id>\n+                        <phase>generate-sources</phase>\n+                        <goals>\n+                        <goal>yarn</goal>\n+                        </goals>\n+                        <configuration>\n+                        <arguments>config set cafile ${custom-cafile}</arguments>\n+                        </configuration>\n+                    </execution>\n+                    </executions>\n+                </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>insecure</id>\n+            <build>\n+            <plugins>\n+                <plugin>\n+                    <groupId>com.github.eirslett</groupId>\n+                    <artifactId>frontend-maven-plugin</artifactId>\n+                    <executions>\n+                        <execution>\n+                            <id>yarn set no-strict ssl</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                            <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                            <arguments>config set strict-ssl false</arguments>\n+                            </configuration>\n+                        </execution>\n+                    </executions>\n+                </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>verbose</id>\n+            <properties>\n+                <yarn-verbose>--verbose</yarn-verbose>\n+                <npm-verbose>--loglevel=silly</npm-verbose>\n+            </properties>\n+        </profile>\n+        <profile>\n+            <id>macosx</id>\n+            <activation>\n+                <os><family>mac</family></os>\n+            </activation>\n+            <properties>\n+                <os.type>darwin</os.type>\n+            </properties>\n+        </profile>\n+        <profile>\n+            <id>linux</id>\n+            <activation>\n+                <os><name>Linux</name></os>\n+            </activation>\n+            <properties>\n+                <os.type>linux</os.type>\n+            </properties>\n+        </profile>\n+        <profile>\n+            <id>windows</id>\n+            <activation>\n+                <os><name>Windows</name></os>\n+            </activation>\n+            <properties>\n+                <os.type>win32</os.type>\n+            </properties>\n+        </profile>", "originalCommit": "652653c5e5c3364075caf73211d05e35165aabde", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3MDE2Ng==", "url": "https://github.com/Apicurio/apicurio-registry/pull/495#discussion_r427470166", "bodyText": "You're right.    One of the proxy profiles that is used in syndesis utilized these, but that profile was not necessary for a-r so I didn't include it.   I'll remove the os profiles, it doesn't make sense to include them.", "author": "cunningt", "createdAt": "2020-05-19T17:21:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI2MDIzOQ=="}], "type": "inlineReview"}, {"oid": "c4de9c553b78ea95385700ce3974b0f6eb9e5802", "url": "https://github.com/Apicurio/apicurio-registry/commit/c4de9c553b78ea95385700ce3974b0f6eb9e5802", "message": "Add proxy settings to ui", "committedDate": "2020-05-19T17:22:20Z", "type": "commit"}, {"oid": "c8548e326e3924affcb8454a65f51f49a682e71e", "url": "https://github.com/Apicurio/apicurio-registry/commit/c8548e326e3924affcb8454a65f51f49a682e71e", "message": "Remove unused os profiles.", "committedDate": "2020-05-19T17:22:53Z", "type": "commit"}, {"oid": "c8548e326e3924affcb8454a65f51f49a682e71e", "url": "https://github.com/Apicurio/apicurio-registry/commit/c8548e326e3924affcb8454a65f51f49a682e71e", "message": "Remove unused os profiles.", "committedDate": "2020-05-19T17:22:53Z", "type": "forcePushed"}]}