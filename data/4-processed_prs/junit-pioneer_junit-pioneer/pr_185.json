{"pr_number": 185, "pr_title": "Github actions", "pr_createdAt": "2020-03-17T11:34:18Z", "pr_url": "https://github.com/junit-pioneer/junit-pioneer/pull/185", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkzNDA4NQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r393934085", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    java: [ 8, 9, 10, 11, 12, 13]\n          \n          \n            \n                    java: [ 8, 9, 10, 11, 12, 13, 14]", "author": "aepfli", "createdAt": "2020-03-17T19:58:01Z", "path": ".github/workflows/actions.yml", "diffHunk": "@@ -0,0 +1,63 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: JUnit Pioneer Flow\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+    branches: '*'\n+\n+jobs:\n+  build:\n+    runs-on: ${{ matrix.os }}\n+    strategy:\n+      matrix:\n+        # test against latest update of each major Java version, as well as specific updates of LTS versions:\n+        java: [ 8, 9, 10, 11, 12, 13]", "originalCommit": "95a9d85af08da6be9d287eef4a86206dae20ed8d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU5MjUzNA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r394592534", "bodyText": "I'd only keep: 8, 11, and introduce 14 as of today.", "author": "sormuras", "createdAt": "2020-03-18T19:35:08Z", "path": ".github/workflows/actions.yml", "diffHunk": "@@ -0,0 +1,63 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: JUnit Pioneer Flow\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+    branches: '*'\n+\n+jobs:\n+  build:\n+    runs-on: ${{ matrix.os }}\n+    strategy:\n+      matrix:\n+        # test against latest update of each major Java version, as well as specific updates of LTS versions:\n+        java: [ 8, 9, 10, 11, 12, 13]", "originalCommit": "12f7270d4743f9a66bd495c423b2515238cc42ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU5NTAxNA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r394595014", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    java: [ 8, 9, 10, 11, 12, 13]\n          \n          \n            \n                    java: [ 8, 11, 14]", "author": "aepfli", "createdAt": "2020-03-18T19:40:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU5MjUzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU5MjgyNg==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r394592826", "bodyText": "deploy, with l", "author": "sormuras", "createdAt": "2020-03-18T19:35:41Z", "path": ".github/workflows/actions.yml", "diffHunk": "@@ -0,0 +1,63 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: JUnit Pioneer Flow\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+    branches: '*'\n+\n+jobs:\n+  build:\n+    runs-on: ${{ matrix.os }}\n+    strategy:\n+      matrix:\n+        # test against latest update of each major Java version, as well as specific updates of LTS versions:\n+        java: [ 8, 9, 10, 11, 12, 13]\n+        os: [ubuntu-latest, windows-latest, macos-latest]\n+    name: ${{ matrix.os }} - Java ${{ matrix.java }}\n+    steps:\n+      - uses: actions/checkout@v2\n+      - name: Setup java\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: ${{ matrix.java }}\n+      - name: Gradle build\n+        uses: eskatos/gradle-command-action@v1\n+        with:\n+          arguments: --refresh-dependencies --stacktrace --scan clean build\n+      - name: Sonarqube\n+        env:\n+          SONAR_LOGIN: ${{ secrets.SONAR_TOKEN }}\n+        if:  matrix.java == '8' && matrix.os == 'ubuntu-latest'\n+        run: ./gradlew jacocoTestReport sonarqube --stacktrace -i\n+\n+  depoy:", "originalCommit": "12f7270d4743f9a66bd495c423b2515238cc42ef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "22632b8bed0c2a059f298e2158b41424138131fe", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/22632b8bed0c2a059f298e2158b41424138131fe", "message": "Update actions.yml", "committedDate": "2020-03-19T22:33:30Z", "type": "forcePushed"}, {"oid": "cb8803031f0e3a45b7b1c6c8a9bfeb60876b2201", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/cb8803031f0e3a45b7b1c6c8a9bfeb60876b2201", "message": "Moving to Github Actions\n\nAs Github offers now its own CI Tool with GithubActions,\nwe want to migrate to this new approach, as it is tightly\ncoupled with github anyway.\n\nSonarqube injects its proeprties already correctly, so it\nshould be fine to use.\n\nWe only have to add the SONAR_TOKEN to the project secrets,\nbut that is nothing i can do.\n\nIssue: #192", "committedDate": "2020-03-26T21:10:51Z", "type": "commit"}, {"oid": "cb8803031f0e3a45b7b1c6c8a9bfeb60876b2201", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/cb8803031f0e3a45b7b1c6c8a9bfeb60876b2201", "message": "Moving to Github Actions\n\nAs Github offers now its own CI Tool with GithubActions,\nwe want to migrate to this new approach, as it is tightly\ncoupled with github anyway.\n\nSonarqube injects its proeprties already correctly, so it\nshould be fine to use.\n\nWe only have to add the SONAR_TOKEN to the project secrets,\nbut that is nothing i can do.\n\nIssue: #192", "committedDate": "2020-03-26T21:10:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5NzIwMQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398897201", "bodyText": "as we will have githubactions for normal builds, we we only need this for the special case of \"deployments\" which should only happen on master", "author": "aepfli", "createdAt": "2020-03-26T21:15:06Z", "path": ".travis.yml", "diffHunk": "@@ -18,8 +17,8 @@ install: ./gradlew -version\n \n #Don't build tags\n branches:\n-  except:\n-  - /^v\\d/\n+  only:", "originalCommit": "cb8803031f0e3a45b7b1c6c8a9bfeb60876b2201", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODA0MQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398898041", "bodyText": "Why use an external action here? We already have the Gradle Wrapper in-place and ready to rock.", "author": "sormuras", "createdAt": "2020-03-26T21:16:47Z", "path": ".github/workflows/actions.yml", "diffHunk": "@@ -0,0 +1,65 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: JUnit Pioneer Flow\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+    branches: '*'\n+\n+jobs:\n+  build:\n+    runs-on: ${{ matrix.os }}\n+    strategy:\n+      matrix:\n+        # test against latest update of each major Java version, as well as specific updates of LTS versions:\n+        java: [ 8, 11 ]\n+        os: [ubuntu-latest, windows-latest, macos-latest]\n+    name: ${{ matrix.os }} - Java ${{ matrix.java }}\n+    steps:\n+      - uses: actions/checkout@v2\n+      - name: Setup java\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: ${{ matrix.java }}\n+      - name: Gradle build\n+        uses: eskatos/gradle-command-action@v1", "originalCommit": "cb8803031f0e3a45b7b1c6c8a9bfeb60876b2201", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwODE2Ng==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398908166", "bodyText": "i thought actually to be the save way, as it also uses the gradle wrapper, but i do not need to care about write permissions etc. - i saw that in junit5 and i found it odd. i did not test it without it. but this is something which we definitly can investigate", "author": "aepfli", "createdAt": "2020-03-26T21:37:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODA0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkwOTY4MQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398909681", "bodyText": "ah damn, that is something i have seen somewerhe else sorry for wrong reference to junit5", "author": "aepfli", "createdAt": "2020-03-26T21:40:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODA0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkxMDQwMw==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398910403", "bodyText": "also there is https://github.com/eskatos/gradle-github-actions-plugin which might be useful in the future", "author": "aepfli", "createdAt": "2020-03-26T21:42:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODA0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkxMzI4Nw==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398913287", "bodyText": "no need to specify the gradle wrapper as the gradlew is still in the root directory", "author": "aepfli", "createdAt": "2020-03-26T21:48:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODA0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkxMzgyMQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/185#discussion_r398913821", "bodyText": "Okay. Let's use eskatos/gradle-command-action and see what it brings to the party. Might consider using it for JUnit 5 as well.\n/cc @marcphilipp @eskatos", "author": "sormuras", "createdAt": "2020-03-26T21:49:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODA0MQ=="}], "type": "inlineReview"}]}