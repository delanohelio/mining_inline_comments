{"pr_number": 285, "pr_title": "Provide additional PioneerTestKit methods to create ExecutionResults (283)", "pr_createdAt": "2020-06-21T14:00:09Z", "pr_url": "https://github.com/junit-pioneer/junit-pioneer/pull/285", "timeline": [{"oid": "142c680a6c9b19abcc9b1138d9b46426c7818c9d", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/142c680a6c9b19abcc9b1138d9b46426c7818c9d", "message": "Provide additional PioneerTestKit methods to create ExecutionResults\n\nAdditional methods to create ExecutionResults were added to the\nPioneerTestKit, allowing to pass classes instead of strings containing\nthe fully qualified class name.\n\nCloses #283\nPR:", "committedDate": "2020-06-21T13:59:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI0MDA0NQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r443240045", "bodyText": "Is this a typo? allTypNames instead of allTypeNames", "author": "Michael1993", "createdAt": "2020-06-21T17:27:53Z", "path": "src/test/java/org/junitpioneer/testkit/ExecutionResults.java", "diffHunk": "@@ -55,6 +57,20 @@\n \t\t\t\t.execute();\n \t}\n \n+\tExecutionResults(Class<?> testClass, String testMethodName, Class[] methodParameterTypes) {\n+\n+\t\tString allTypNames = Arrays", "originalCommit": "142c680a6c9b19abcc9b1138d9b46426c7818c9d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI0MTA4Mw==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r443241083", "bodyText": "This constructor seems unnecessary - you could just join the canonical class names in the factory method and call the constructor that takes a String?", "author": "Michael1993", "createdAt": "2020-06-21T17:41:38Z", "path": "src/test/java/org/junitpioneer/testkit/ExecutionResults.java", "diffHunk": "@@ -55,6 +57,20 @@\n \t\t\t\t.execute();\n \t}\n \n+\tExecutionResults(Class<?> testClass, String testMethodName, Class[] methodParameterTypes) {", "originalCommit": "142c680a6c9b19abcc9b1138d9b46426c7818c9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzczNjE0Nw==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r443736147", "bodyText": "This constructor seems unnecessary - you could just join the canonical class names in the factory method and call the constructor that takes a String?\n\nIts explicit requested by @nicolaiparlog . I could not find a place where I could use it, but as he requested it he most probably has something/somewhere in mind to use it.", "author": "Bukama", "createdAt": "2020-06-22T18:04:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI0MTA4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI0MTE1NQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r443241155", "bodyText": "These two methods should be merged by using the Class<?>... as the last parameter type. Which should throw an exception if no last parameter is passed (or maybe just call executeTestMethod as an attempt to \"fix\" the bad call?).\nAlternatively, you could make it like this:\npublic static ExecutionResults executeTestMethodWithParameterTypes(Class<?> testClass, String testMethodName, Class<?> firstParameter, Class<?>... additionalParameters)\n\nThis ensures at least one class object is always passed to the method but is much more cumbersome. Method signature might be confusing too.", "author": "Michael1993", "createdAt": "2020-06-21T17:42:42Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKit.java", "diffHunk": "@@ -46,4 +46,30 @@ public static ExecutionResults executeTestMethodWithParameterTypes(Class<?> test\n \t\treturn new ExecutionResults(testClass, testMethodName, methodParameterTypes);\n \t}\n \n+\t/**\n+\t * Returns the execution results of the given method of a given test class.\n+\t *\n+\t * @param testClass Name of the test class\n+\t * @param testMethodName Name of the test method (of the given class)\n+\t * @param methodParameterTypes Array containing the types of for the parameters\n+\t * @return The execution results\n+\t */\n+\tpublic static ExecutionResults executeTestMethodWithParameterTypes(Class<?> testClass, String testMethodName,", "originalCommit": "142c680a6c9b19abcc9b1138d9b46426c7818c9d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "41d492e95b7b5599fb418e9c24661f2e0415ffbe", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/41d492e95b7b5599fb418e9c24661f2e0415ffbe", "message": "Refactoring\n\n- Removing public method which accepts String\n- Merge array and single class method\n- Adding TestKitTests", "committedDate": "2020-06-27T10:24:49Z", "type": "commit"}, {"oid": "291dcc6cd1ddefa0224320c7d008fdd229db3a02", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/291dcc6cd1ddefa0224320c7d008fdd229db3a02", "message": "Merge branch 'master' into bishue283/testkitExecuteWithClassParameter", "committedDate": "2020-07-02T16:49:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjUxNDE2NA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r446514164", "bodyText": "Did you delete the original factory method?", "author": "Michael1993", "createdAt": "2020-06-27T11:16:02Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKit.java", "diffHunk": "@@ -38,12 +41,21 @@ public static ExecutionResults executeTestMethod(Class<?> testClass, String test\n \t *\n \t * @param testClass Name of the test class\n \t * @param testMethodName Name of the test method (of the given class)\n-\t * @param methodParameterTypes Full qualified types names of the parameters (e.g. \"java.nio.file.Path\")\n+\t * @param methodParameterTypes Class type(s) of for the parameters\n \t * @return The execution results\n+\t * @throws IllegalArgumentException when methodParameterTypes is null\n \t */\n \tpublic static ExecutionResults executeTestMethodWithParameterTypes(Class<?> testClass, String testMethodName,", "originalCommit": "41d492e95b7b5599fb418e9c24661f2e0415ffbe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk0MTM5Ng==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452941396", "bodyText": "Yes because its replaceable by the generic one (and you suggested in your last review to do so)", "author": "Bukama", "createdAt": "2020-07-10T16:16:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjUxNDE2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcwODA1OQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r451708059", "bodyText": "It's either of or for but never both.", "author": "Michael1993", "createdAt": "2020-07-08T17:24:42Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKit.java", "diffHunk": "@@ -38,12 +41,21 @@ public static ExecutionResults executeTestMethod(Class<?> testClass, String test\n \t *\n \t * @param testClass Name of the test class\n \t * @param testMethodName Name of the test method (of the given class)\n-\t * @param methodParameterTypes Full qualified types names of the parameters (e.g. \"java.nio.file.Path\")\n+\t * @param methodParameterTypes Class type(s) of for the parameters", "originalCommit": "291dcc6cd1ddefa0224320c7d008fdd229db3a02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk0MzY4NA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452943684", "bodyText": "Changed, thanks", "author": "Bukama", "createdAt": "2020-07-10T16:20:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcwODA1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMDY0OQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r451710649", "bodyText": "But why only for that one parameter?", "author": "Michael1993", "createdAt": "2020-07-08T17:29:02Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKit.java", "diffHunk": "@@ -38,12 +41,21 @@ public static ExecutionResults executeTestMethod(Class<?> testClass, String test\n \t *\n \t * @param testClass Name of the test class\n \t * @param testMethodName Name of the test method (of the given class)\n-\t * @param methodParameterTypes Full qualified types names of the parameters (e.g. \"java.nio.file.Path\")\n+\t * @param methodParameterTypes Class type(s) of for the parameters\n \t * @return The execution results\n+\t * @throws IllegalArgumentException when methodParameterTypes is null", "originalCommit": "291dcc6cd1ddefa0224320c7d008fdd229db3a02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk0MjA2MA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452942060", "bodyText": "Because the other ones are handled by the Jupiter TestKit and I want to avoid NPE in Pioneers code (accessing the get name in the stream).", "author": "Bukama", "createdAt": "2020-07-10T16:17:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMDY0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMTE1MQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r451711151", "bodyText": "But who tests our tests? (Is this necessary? I'm not sure...)", "author": "Michael1993", "createdAt": "2020-07-08T17:29:55Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKitTests.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * http://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junitpioneer.testkit;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Nested;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.ValueSource;\n+\n+public class PioneerTestKitTests {", "originalCommit": "291dcc6cd1ddefa0224320c7d008fdd229db3a02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc0ODAzMQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r451748031", "bodyText": "well, good question actually - but i do think it is worth testing, we never know where we end up with this, and maybe people start using our PioneerTestKit in their extensions :D", "author": "aepfli", "createdAt": "2020-07-08T18:34:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMTE1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc2NTQwOQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r451765409", "bodyText": "It's in the test root - do we ship it? I guess the code is open-source but I don't think PioneerTestKit is part of our \"artifact\"... or is it?", "author": "Michael1993", "createdAt": "2020-07-08T19:06:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMTE1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA1NDc5OQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452054799", "bodyText": "good question", "author": "aepfli", "createdAt": "2020-07-09T08:34:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMTE1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk0NzkzMA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452947930", "bodyText": "But who tests our tests? (Is this necessary? I'm not sure...)\n\nWho watchs the watchers? JUnit Jupiter is tested by JUnit Jupiter.\n\nIt's in the test root - do we ship it? I guess the code is open-source but I don't think PioneerTestKit is part of our \"artifact\"... or is it?\n\nContent in src/test is not shiped.", "author": "Bukama", "createdAt": "2020-07-10T16:28:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMTE1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzMTc1NA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452031754", "bodyText": "Did you consider Objects.requireNonNull(T value, String message)? I think it conveys the same intent really nicely.", "author": "Michael1993", "createdAt": "2020-07-09T07:54:21Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKit.java", "diffHunk": "@@ -38,12 +41,21 @@ public static ExecutionResults executeTestMethod(Class<?> testClass, String test\n \t *\n \t * @param testClass Name of the test class\n \t * @param testMethodName Name of the test method (of the given class)\n-\t * @param methodParameterTypes Full qualified types names of the parameters (e.g. \"java.nio.file.Path\")\n+\t * @param methodParameterTypes Class type(s) of for the parameters\n \t * @return The execution results\n+\t * @throws IllegalArgumentException when methodParameterTypes is null\n \t */\n \tpublic static ExecutionResults executeTestMethodWithParameterTypes(Class<?> testClass, String testMethodName,\n-\t\t\tString methodParameterTypes) {\n-\t\treturn new ExecutionResults(testClass, testMethodName, methodParameterTypes);\n+\t\t\tClass<?>... methodParameterTypes) {\n+\n+\t\tif (null == methodParameterTypes) {", "originalCommit": "291dcc6cd1ddefa0224320c7d008fdd229db3a02", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk0NDc0OA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r452944748", "bodyText": "Yes, but it throws an NullPointerException and not an IllegalArgumentException. A NPE has a total different meaning than a IAE.", "author": "Bukama", "createdAt": "2020-07-10T16:22:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzMTc1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk0NzY5NQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r463947695", "bodyText": "I think a NullPointerException conveys that a certain value can not (or should not) be null.", "author": "Michael1993", "createdAt": "2020-08-01T10:18:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzMTc1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk1MzczNA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r463953734", "bodyText": "I think a NullPointerException conveys that a certain value can not (or should not) be null.\n\nNo it indicates that a certan value is NULL, according to documentation of NullPointerException (highlight by me):\n\nThrown when an application attempts to use null in a case where an object is required. These include:\n\nCalling the instance method of a null object.\nAccessing or modifying the field of a null object.\nTaking the length of null as if it were an array.\nAccessing or modifying the slots of null as if it were an array.\nThrowing null as if it were a Throwable value.\n\nApplications should throw instances of this class to indicate other illegal uses of the null object. NullPointerException objects may be constructed by the virtual machine as if suppression were disabled and/or the stack trace was not writable.\n\nBut the documentation of IllegalArgumentExceptiuon cleary show that this exeception is to be used in cases like mine:\n\nThrown to indicate that a method has been passed an illegal or inappropriate argument.", "author": "Bukama", "createdAt": "2020-08-01T11:36:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzMTc1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk4MDUyOQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r463980529", "bodyText": "My interpretation:\nBoth exceptions are correct because\n\nit is an illegal argument\nit is illegal because it is null but an object is required.\n\nUsing Objects.requireNonNull is already used to validate arguments inside Pioneer (TempDirectoryExtension).\nIts documentation says it was designed with this purpose in mind:\n\nChecks that the specified object reference is not null. This method is designed primarily for doing parameter validation in methods and constructors\n\nIf you feel strongly about this, I'll leave it alone. It fails fast either way, so what specific exception to throw and how is up to personal preference.", "author": "Michael1993", "createdAt": "2020-08-01T17:01:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAzMTc1NA=="}], "type": "inlineReview"}, {"oid": "974dcf0646d03e99d0092d93e2d985ca08bc7089", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/974dcf0646d03e99d0092d93e2d985ca08bc7089", "message": "Merge branch 'master' into bishue283/testkitExecuteWithClassParameter", "committedDate": "2020-07-10T16:19:16Z", "type": "commit"}, {"oid": "eb5b718bb8d227a08b65402f41aecd0dde5980de", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/eb5b718bb8d227a08b65402f41aecd0dde5980de", "message": "Fix javadoc", "committedDate": "2020-07-10T16:26:48Z", "type": "commit"}, {"oid": "109047e3401911358bb4a4f559a2f7fd15bdfa2e", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/109047e3401911358bb4a4f559a2f7fd15bdfa2e", "message": "Merge branch 'master' into bishue283/testkitExecuteWithClassParameter\n\n# Conflicts:\n#\tsrc/test/java/org/junitpioneer/jupiter/StdIoExtensionTests.java", "committedDate": "2020-07-20T10:44:58Z", "type": "commit"}, {"oid": "83313bd50303df5927c8a7e8cc24d392c3c0369a", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/83313bd50303df5927c8a7e8cc24d392c3c0369a", "message": "Merge master and update to new PioneerAssertions", "committedDate": "2020-07-20T10:59:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI4MzkzNg==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r457283936", "bodyText": "This could just be Assertions.assertThat if you do import org.assertj.core.api.Assertions", "author": "Michael1993", "createdAt": "2020-07-20T11:05:58Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKitTests.java", "diffHunk": "@@ -74,8 +74,9 @@ void executeTestMethodWithParameterTypesSingleParameterTypeIllegalArgumentExcept\n \t\t\t\t});\n \n \t\t\t\tString expectedMessage = \"methodParameterTypes must not be null\";\n-\t\t\t\tassertThat(thrown).isInstanceOf(IllegalArgumentException.class);\n-\t\t\t\tassertThat(thrown.getMessage()).isEqualTo(expectedMessage);\n+\n+\t\t\t\torg.assertj.core.api.Assertions.assertThat(thrown).isInstanceOf(IllegalArgumentException.class);\n+\t\t\t\torg.assertj.core.api.Assertions.assertThat(thrown.getMessage()).isEqualTo(expectedMessage);", "originalCommit": "83313bd50303df5927c8a7e8cc24d392c3c0369a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "18f2305f0b9bcfa362a31b79e244028ada1bc9c5", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/18f2305f0b9bcfa362a31b79e244028ada1bc9c5", "message": "Change AssertJ import", "committedDate": "2020-07-20T11:45:44Z", "type": "commit"}, {"oid": "a724f8e6f648cb5ef4b96eaf199159b6c670c029", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/a724f8e6f648cb5ef4b96eaf199159b6c670c029", "message": "Updated comments (to move GitHub discussion to code)", "committedDate": "2020-07-20T13:14:24Z", "type": "commit"}, {"oid": "7eacac402de7177638c0a6db9d861a8ac7a1686d", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/7eacac402de7177638c0a6db9d861a8ac7a1686d", "message": "Merge branch 'master' into bishue283/testkitExecuteWithClassParameter\n\n# Conflicts:\n#\tsrc/test/java/org/junitpioneer/jupiter/StdIoExtensionTests.java", "committedDate": "2020-07-31T17:13:02Z", "type": "commit"}, {"oid": "ebeca587b69038a7f5916d19f9ee7086ed8fae79", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/ebeca587b69038a7f5916d19f9ee7086ed8fae79", "message": "Merge master into current", "committedDate": "2020-07-31T17:16:22Z", "type": "commit"}, {"oid": "32cdc4064e86dd85c5a777c6e3a7fa95dbc965b5", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/32cdc4064e86dd85c5a777c6e3a7fa95dbc965b5", "message": "Merge branch 'master' into bishue283/testkitExecuteWithClassParameter", "committedDate": "2020-08-05T10:36:22Z", "type": "commit"}, {"oid": "e6dee4fa08ea4c0f812126aa7b4a8c9663c3e359", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/e6dee4fa08ea4c0f812126aa7b4a8c9663c3e359", "message": "Improve `PioneerTestKitTests`", "committedDate": "2020-08-05T10:47:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYzNzkxMQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r465637911", "bodyText": "So much better \ud83d\ude0d , thanks for the change!", "author": "nipafx", "createdAt": "2020-08-05T10:48:13Z", "path": "src/test/java/org/junitpioneer/jupiter/StdIoExtensionTests.java", "diffHunk": "@@ -215,7 +215,7 @@ void correctConfigurations() {\n \t\t@DisplayName(\"without input but StdIn parameter, an exception is thrown\")\n \t\tvoid withoutInputWithStdInParameter() {\n \t\t\tExecutionResults results = executeTestMethodWithParameterTypes(IllegalConfigurations.class,\n-\t\t\t\t\"noInputButStdIn\", \"org.junitpioneer.jupiter.StdIn\");\n+\t\t\t\t\"noInputButStdIn\", StdIn.class);", "originalCommit": "e6dee4fa08ea4c0f812126aa7b4a8c9663c3e359", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY0MzkxNQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r465643915", "bodyText": "I mean, thanks to this PR, the code looks so much better and more readable.", "author": "nipafx", "createdAt": "2020-08-05T11:00:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYzNzkxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYzOTA2OA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r465639068", "bodyText": "I removed the politics from the comment. My 2ct: IllegalArgumentException is the better exception, but nobody does it, so... \ud83e\udd37 ... use Optional, I guess. \ud83d\ude01", "author": "nipafx", "createdAt": "2020-08-05T10:50:18Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKit.java", "diffHunk": "@@ -38,12 +41,25 @@ public static ExecutionResults executeTestMethod(Class<?> testClass, String test\n \t *\n \t * @param testClass Name of the test class\n \t * @param testMethodName Name of the test method (of the given class)\n-\t * @param methodParameterTypes Full qualified types names of the parameters (e.g. \"java.nio.file.Path\")\n+\t * @param methodParameterTypes Class type(s) of the parameter(s)\n \t * @return The execution results\n+\t * @throws IllegalArgumentException when methodParameterTypes is null\n+\t * \t\t\tThis method only checks parameters which are not part of the underlying\n+\t * \t\t\tJupiter TestKit. The Jupiter TestKit may throw other exceptions!\n \t */\n \tpublic static ExecutionResults executeTestMethodWithParameterTypes(Class<?> testClass, String testMethodName,\n-\t\t\tString methodParameterTypes) {\n-\t\treturn new ExecutionResults(testClass, testMethodName, methodParameterTypes);\n+\t\t\tClass<?>... methodParameterTypes) {\n+\n+\t\t// throw IllegalArgumentException for a `null` array instead of NPE\n+\t\t// (hence no use of Objects::requireNonNull)`\n+\t\tif (methodParameterTypes == null) {\n+\t\t\tthrow new IllegalArgumentException(\"methodParameterTypes must not be null\");\n+\t\t}", "originalCommit": "e6dee4fa08ea4c0f812126aa7b4a8c9663c3e359", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYzOTQyOA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r465639428", "bodyText": "There are now two tests to clearly distinguish null as a single type from null as the type array. Is this the intended behavior?", "author": "nipafx", "createdAt": "2020-08-05T10:51:01Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKitTests.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * http://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junitpioneer.testkit;\n+\n+import static org.assertj.core.api.Assertions.assertThatThrownBy;\n+import static org.junitpioneer.testkit.assertion.PioneerAssert.assertThat;\n+\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Nested;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.ValueSource;\n+\n+@DisplayName(\"Execute\")\n+class PioneerTestKitTests {\n+\n+\t@Test\n+\t@DisplayName(\"all tests of a class\")\n+\tvoid executeTestClass() {\n+\t\tExecutionResults results = PioneerTestKit.executeTestClass(DummyClass.class);\n+\n+\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t}\n+\n+\t@Test\n+\t@DisplayName(\"a specific method\")\n+\tvoid executeTestMethod() {\n+\t\tExecutionResults results = PioneerTestKit.executeTestMethod(DummyClass.class, \"nothing\");\n+\n+\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t}\n+\n+\t@Nested\n+\t@DisplayName(\"a specific parametrized method\")\n+\tclass ExecuteTestMethodWithParametersTests {\n+\n+\t\t@Test\n+\t\t@DisplayName(\" where parameter is a single class\")\n+\t\tvoid executeTestMethodWithParameterTypes_singleParameterType() {\n+\t\t\tExecutionResults results = PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", String.class);\n+\n+\t\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t\t}\n+\n+\t\t@Test\n+\t\t@DisplayName(\" where parameter is an array of classes\")\n+\t\tvoid executeTestMethodWithParameterTypes_parameterTypeAsArray() {\n+\t\t\tClass<?>[] classes = { String.class };\n+\n+\t\t\tExecutionResults results = PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", classes);\n+\n+\t\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t\t}\n+\n+\t\t@Test\n+\t\t@DisplayName(\"without parameter results in IllegalArgumentException\")\n+\t\tvoid executeTestMethodWithParameterTypes_parameterArrayIsNull_NullPointerException() {\n+\t\t\tassertThatThrownBy(() -> PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", (Class<?>) null))\n+\t\t\t\t\t\t\t.isInstanceOf(NullPointerException.class);\n+\t\t}\n+\n+\t\t@Test\n+\t\t@DisplayName(\"without parameter results in IllegalArgumentException\")\n+\t\tvoid executeTestMethodWithParameterTypes_singleParameterIsNull_IllegalArgumentException() {\n+\t\t\tassertThatThrownBy(() -> PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", (Class<?>[]) null))\n+\t\t\t\t\t\t\t.isInstanceOf(IllegalArgumentException.class)\n+\t\t\t\t\t\t\t.hasMessage(\"methodParameterTypes must not be null\");\n+\t\t}", "originalCommit": "e6dee4fa08ea4c0f812126aa7b4a8c9663c3e359", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY0NDEzMQ==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r465644131", "bodyText": "Quick conversation with @Bukama confirmed that this is indeed the intended behavior.", "author": "nipafx", "createdAt": "2020-08-05T11:00:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYzOTQyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYzOTg0Ng==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/285#discussion_r465639846", "bodyText": "This is how to test assertions with pure AssertJ (i.e. no Jupiter assertions).", "author": "nipafx", "createdAt": "2020-08-05T10:52:03Z", "path": "src/test/java/org/junitpioneer/testkit/PioneerTestKitTests.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * http://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junitpioneer.testkit;\n+\n+import static org.assertj.core.api.Assertions.assertThatThrownBy;\n+import static org.junitpioneer.testkit.assertion.PioneerAssert.assertThat;\n+\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Nested;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.ValueSource;\n+\n+@DisplayName(\"Execute\")\n+class PioneerTestKitTests {\n+\n+\t@Test\n+\t@DisplayName(\"all tests of a class\")\n+\tvoid executeTestClass() {\n+\t\tExecutionResults results = PioneerTestKit.executeTestClass(DummyClass.class);\n+\n+\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t}\n+\n+\t@Test\n+\t@DisplayName(\"a specific method\")\n+\tvoid executeTestMethod() {\n+\t\tExecutionResults results = PioneerTestKit.executeTestMethod(DummyClass.class, \"nothing\");\n+\n+\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t}\n+\n+\t@Nested\n+\t@DisplayName(\"a specific parametrized method\")\n+\tclass ExecuteTestMethodWithParametersTests {\n+\n+\t\t@Test\n+\t\t@DisplayName(\" where parameter is a single class\")\n+\t\tvoid executeTestMethodWithParameterTypes_singleParameterType() {\n+\t\t\tExecutionResults results = PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", String.class);\n+\n+\t\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t\t}\n+\n+\t\t@Test\n+\t\t@DisplayName(\" where parameter is an array of classes\")\n+\t\tvoid executeTestMethodWithParameterTypes_parameterTypeAsArray() {\n+\t\t\tClass<?>[] classes = { String.class };\n+\n+\t\t\tExecutionResults results = PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", classes);\n+\n+\t\t\tassertThat(results).hasNumberOfStartedTests(1);\n+\t\t}\n+\n+\t\t@Test\n+\t\t@DisplayName(\"without parameter results in IllegalArgumentException\")\n+\t\tvoid executeTestMethodWithParameterTypes_parameterArrayIsNull_NullPointerException() {\n+\t\t\tassertThatThrownBy(() -> PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", (Class<?>) null))\n+\t\t\t\t\t\t\t.isInstanceOf(NullPointerException.class);\n+\t\t}\n+\n+\t\t@Test\n+\t\t@DisplayName(\"without parameter results in IllegalArgumentException\")\n+\t\tvoid executeTestMethodWithParameterTypes_singleParameterIsNull_IllegalArgumentException() {\n+\t\t\tassertThatThrownBy(() -> PioneerTestKit\n+\t\t\t\t\t.executeTestMethodWithParameterTypes(DummyParameterClass.class, \"single\", (Class<?>[]) null))\n+\t\t\t\t\t\t\t.isInstanceOf(IllegalArgumentException.class)\n+\t\t\t\t\t\t\t.hasMessage(\"methodParameterTypes must not be null\");", "originalCommit": "e6dee4fa08ea4c0f812126aa7b4a8c9663c3e359", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "67658d03230060c5f222bdd13585c43986ef0afa", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/67658d03230060c5f222bdd13585c43986ef0afa", "message": "Quick fix", "committedDate": "2020-08-05T10:59:56Z", "type": "commit"}]}