{"pr_number": 8395, "pr_title": "Added doc for KIP-535 and updated it for KIP-562", "pr_createdAt": "2020-03-31T15:33:10Z", "pr_url": "https://github.com/apache/kafka/pull/8395", "timeline": [{"oid": "2eb83d858cb74b8ae1ccacca83bdce3ab1ee25ba", "url": "https://github.com/apache/kafka/commit/2eb83d858cb74b8ae1ccacca83bdce3ab1ee25ba", "message": "Added doc for KIP-535 and updated it for KIP-562", "committedDate": "2020-03-31T15:31:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r404232207", "bodyText": "break this up into two separate updates so that we also cite the kafkaStreams.keyQueryMetadata() api?", "author": "vinothchandar", "createdAt": "2020-04-06T16:38:03Z", "path": "docs/upgrade.html", "diffHunk": "@@ -39,7 +39,8 @@ <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2\n         <a href=\"https://github.com/apache/kafka/tree/2.5/examples\">examples</a> folder. Check out\n         <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-447%3A+Producer+scalability+for+exactly+once+semantics\">KIP-447</a>\n         for the full details.</li>\n-    <li>Deprecated <code>KafkaStreams.store(String, QueryableStoreType)</code> and replaced it with <code>KafkaStreams.store(StoreQueryParameters)</code>.</li>\n+    <li>Provided support to query stale stores(for high availability) and the stores belonging to a specific partition by deprecating <code>KafkaStreams.store(String, QueryableStoreType)</code> and replacing it with <code>KafkaStreams.store(StoreQueryParameters)</code>.</li>", "originalCommit": "2eb83d858cb74b8ae1ccacca83bdce3ab1ee25ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzNTU3NQ==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r404235575", "bodyText": "Makes sense, that is also an important api.", "author": "brary", "createdAt": "2020-04-06T16:43:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI0MDE0NQ==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r404240145", "bodyText": "Do we need to break up this line to add kafkaStreams.keyQueryMetadata()? That is a separate endpoint that returns key specific information, i.e. partition and hosts containing stale tasks in addition to the active hosts which we were able to fetch earlier.", "author": "brary", "createdAt": "2020-04-06T16:49:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI0MjgwOA==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r404242808", "bodyText": "Something like\n <li>Added a new public api <code>KafkaStreams.queryMetadataForKey(String, K, Serializer) to get detailed information on the key being queried. It provides information about the partition number where the key resides in addition to hosts containing the active and standby partitions for the key.</code></li>", "author": "brary", "createdAt": "2020-04-06T16:54:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ1NTY2Mg==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r404455662", "bodyText": "Let's add a space between stores( as stores (, and add a period after <code>KafkaStreams.allLocalStorePartitionLags()</code>", "author": "abbccdda", "createdAt": "2020-04-06T23:50:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA2OTU2MA==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r406069560", "bodyText": "@vinothchandar can you review this again.", "author": "brary", "createdAt": "2020-04-09T09:18:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQ4NTU1MA==", "url": "https://github.com/apache/kafka/pull/8395#discussion_r426485550", "bodyText": "Thanks @abbccdda . Addressed both the comments in the latest commit.", "author": "brary", "createdAt": "2020-05-18T09:19:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIzMjIwNw=="}], "type": "inlineReview"}, {"oid": "608bf7482ede1dda690ad54e6147027ca107a23e", "url": "https://github.com/apache/kafka/commit/608bf7482ede1dda690ad54e6147027ca107a23e", "message": "Added update on KIP-535", "committedDate": "2020-04-07T04:43:04Z", "type": "commit"}, {"oid": "799f7ee88334c639cafada632a05c6e1d4a75620", "url": "https://github.com/apache/kafka/commit/799f7ee88334c639cafada632a05c6e1d4a75620", "message": "Addressing review comments", "committedDate": "2020-05-18T09:18:03Z", "type": "commit"}]}