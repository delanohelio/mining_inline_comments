{"pr_number": 8564, "pr_title": "KAFKA-9921: disable caching on stores configured to retain duplicates", "pr_createdAt": "2020-04-27T20:52:33Z", "pr_url": "https://github.com/apache/kafka/pull/8564", "timeline": [{"oid": "626d3ebe1499b9c28c2cd4d701d55089e0d9f6b0", "url": "https://github.com/apache/kafka/commit/626d3ebe1499b9c28c2cd4d701d55089e0d9f6b0", "message": "disable caching, log warning, add test", "committedDate": "2020-04-27T20:51:58Z", "type": "commit"}, {"oid": "c461d16b428682499fff8c92c7495bc71c437a2a", "url": "https://github.com/apache/kafka/commit/c461d16b428682499fff8c92c7495bc71c437a2a", "message": "checkstyle", "committedDate": "2020-04-27T21:46:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIzMjM2Mw==", "url": "https://github.com/apache/kafka/pull/8564#discussion_r416232363", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (storeSupplier.retainDuplicates()) {\n          \n          \n            \n                    if (storeSupplier.retainDuplicates() && enableCaching) {\n          \n      \n    \n    \n  \n\nShould we only log if we're changing the configured caching? (Also applies below)", "author": "vvcephei", "createdAt": "2020-04-28T00:06:35Z", "path": "streams/src/main/java/org/apache/kafka/streams/state/internals/TimestampedWindowStoreBuilder.java", "diffHunk": "@@ -56,6 +59,11 @@ public TimestampedWindowStoreBuilder(final WindowBytesStoreSupplier storeSupplie\n                 store = new InMemoryTimestampedWindowStoreMarker(store);\n             }\n         }\n+        if (storeSupplier.retainDuplicates()) {", "originalCommit": "c461d16b428682499fff8c92c7495bc71c437a2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIzMzc4Mg==", "url": "https://github.com/apache/kafka/pull/8564#discussion_r416233782", "bodyText": "Good point. Pushed the change", "author": "ableegoldman", "createdAt": "2020-04-28T00:10:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIzMjM2Mw=="}], "type": "inlineReview"}, {"oid": "f354f53dbcc18669cca85f65eafc7ffd41b7b33a", "url": "https://github.com/apache/kafka/commit/f354f53dbcc18669cca85f65eafc7ffd41b7b33a", "message": "github prop", "committedDate": "2020-04-28T00:09:49Z", "type": "commit"}]}