{"pr_number": 8673, "pr_title": "KAFKA-9992: EmbeddedKafkaCluster.deleteTopicAndWait not working with kafka_2.13", "pr_createdAt": "2020-05-15T11:56:01Z", "pr_url": "https://github.com/apache/kafka/pull/8673", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA3ODk4Ng==", "url": "https://github.com/apache/kafka/pull/8673#discussion_r426078986", "bodyText": "It looks like we don\u2019t need to make a copy here anymore", "author": "vvcephei", "createdAt": "2020-05-15T22:50:47Z", "path": "streams/src/test/java/org/apache/kafka/streams/integration/utils/EmbeddedKafkaCluster.java", "diffHunk": "@@ -314,8 +321,7 @@ private TopicsDeletedCondition(final Collection<String> topics) {\n \n         @Override\n         public boolean conditionMet() {\n-            final Set<String> allTopics = new HashSet<>(JavaConverters.setAsJavaSetConverter(\n-                brokers[0].kafkaServer().zkClient().getAllTopicsInCluster(false)).asJava());\n+            final Set<String> allTopics = new HashSet<>(getAllTopics());", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwMjA3OA==", "url": "https://github.com/apache/kafka/pull/8673#discussion_r426402078", "bodyText": "fixed in new commit", "author": "akatona84", "createdAt": "2020-05-18T06:49:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA3ODk4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEzNDk2MA==", "url": "https://github.com/apache/kafka/pull/8673#discussion_r426134960", "bodyText": "getAllTopicsInCluster()\n\ngetAllTopicsInCluster(false)", "author": "chia7712", "createdAt": "2020-05-16T08:59:28Z", "path": "streams/src/test/java/org/apache/kafka/streams/integration/utils/EmbeddedKafkaCluster.java", "diffHunk": "@@ -297,6 +295,15 @@ public void deleteAllTopicsAndWait(final long timeoutMs) throws InterruptedExcep\n         }\n     }\n \n+    public Set<String> getAllTopics() {\n+        scala.collection.Iterator<String> topicsIterator = brokers[0].kafkaServer().zkClient().getAllTopicsInCluster().iterator();", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQwMTI1Mw==", "url": "https://github.com/apache/kafka/pull/8673#discussion_r426401253", "bodyText": "thx, i was cherry picking my change from 2.4.1 based kafka branch and config resolution did not go well, I uploaded a new, clean change.", "author": "akatona84", "createdAt": "2020-05-18T06:47:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEzNDk2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEzNTA4MQ==", "url": "https://github.com/apache/kafka/pull/8673#discussion_r426135081", "bodyText": "getAllTopicsInCluster seems to be duplicate to this new method. Could we remove the former?", "author": "chia7712", "createdAt": "2020-05-16T09:00:46Z", "path": "streams/src/test/java/org/apache/kafka/streams/integration/utils/EmbeddedKafkaCluster.java", "diffHunk": "@@ -297,6 +295,15 @@ public void deleteAllTopicsAndWait(final long timeoutMs) throws InterruptedExcep\n         }\n     }\n \n+    public Set<String> getAllTopics() {", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7d16b46860aeed5b51aed04e0ada2c873d13793c", "url": "https://github.com/apache/kafka/commit/7d16b46860aeed5b51aed04e0ada2c873d13793c", "message": "KAFKA-9992: EmbeddedKafkaCluster.deleteTopicAndWait not working with kafka_2.13\n\nEliminating JavaConverters in EmbeddedKafkaCluster\n\nChange-Id: I71d3daee20b4717a3eda602e3e310b431b23c55c", "committedDate": "2020-05-18T06:45:07Z", "type": "commit"}, {"oid": "7d16b46860aeed5b51aed04e0ada2c873d13793c", "url": "https://github.com/apache/kafka/commit/7d16b46860aeed5b51aed04e0ada2c873d13793c", "message": "KAFKA-9992: EmbeddedKafkaCluster.deleteTopicAndWait not working with kafka_2.13\n\nEliminating JavaConverters in EmbeddedKafkaCluster\n\nChange-Id: I71d3daee20b4717a3eda602e3e310b431b23c55c", "committedDate": "2020-05-18T06:45:07Z", "type": "forcePushed"}, {"oid": "7f79752258ee0f1483ba87ae8385db02cf362aac", "url": "https://github.com/apache/kafka/commit/7f79752258ee0f1483ba87ae8385db02cf362aac", "message": "checkstyle fix", "committedDate": "2020-05-18T09:55:17Z", "type": "commit"}]}