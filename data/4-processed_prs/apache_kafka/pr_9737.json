{"pr_number": 9737, "pr_title": "KAFKA-10828: Replacing endorsing with acknowledging for voters ", "pr_createdAt": "2020-12-12T08:32:27Z", "pr_url": "https://github.com/apache/kafka/pull/9737", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzgxNjE4NQ==", "url": "https://github.com/apache/kafka/pull/9737#discussion_r543816185", "bodyText": "Could we add a brief comment in the class javadoc about what we mean by \"acknowledged\"? It would be helpful to mention specifically that the set of unacknowledged voters are targets for BeginQuorumEpoch requests from the leader.", "author": "hachikuji", "createdAt": "2020-12-16T01:46:23Z", "path": "raft/src/main/java/org/apache/kafka/raft/LeaderState.java", "diffHunk": "@@ -50,8 +50,8 @@ protected LeaderState(\n         this.highWatermark = Optional.empty();\n \n         for (int voterId : voters) {\n-            boolean hasEndorsedLeader = voterId == localId;\n-            this.voterReplicaStates.put(voterId, new VoterState(voterId, hasEndorsedLeader));\n+            boolean hasAcknowledgedLeader = voterId == localId;", "originalCommit": "bf7699772adc181ed06b8c74148f424f15e94caa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDE5NTMzMQ==", "url": "https://github.com/apache/kafka/pull/9737#discussion_r544195331", "bodyText": "done", "author": "vamossagar12", "createdAt": "2020-12-16T10:45:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzgxNjE4NQ=="}], "type": "inlineReview"}, {"oid": "82e7bbba07059ddd155614cd89a9a8145cf67860", "url": "https://github.com/apache/kafka/commit/82e7bbba07059ddd155614cd89a9a8145cf67860", "message": "KAFKA-10828: Replacing endoring with acknowledging for voters which have recognised the current leader", "committedDate": "2020-12-16T10:44:47Z", "type": "forcePushed"}, {"oid": "12b58159523e77fc82f89a88ce6c7a1f94970e63", "url": "https://github.com/apache/kafka/commit/12b58159523e77fc82f89a88ce6c7a1f94970e63", "message": "KAFKA-10828: Replacing endoring with acknowledging for voters which have recognised the current leader", "committedDate": "2020-12-22T17:50:59Z", "type": "commit"}, {"oid": "5078bbfcb7b16fe3443e3119bd7d47e25fd59ed9", "url": "https://github.com/apache/kafka/commit/5078bbfcb7b16fe3443e3119bd7d47e25fd59ed9", "message": "Minor tweak in comment", "committedDate": "2020-12-22T17:50:59Z", "type": "commit"}, {"oid": "5078bbfcb7b16fe3443e3119bd7d47e25fd59ed9", "url": "https://github.com/apache/kafka/commit/5078bbfcb7b16fe3443e3119bd7d47e25fd59ed9", "message": "Minor tweak in comment", "committedDate": "2020-12-22T17:50:59Z", "type": "forcePushed"}]}