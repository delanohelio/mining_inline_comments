{"pr_number": 9525, "pr_title": "KAFKA-10658 ErrantRecordReporter.report always return completed futur\u2026", "pr_createdAt": "2020-10-29T03:32:48Z", "pr_url": "https://github.com/apache/kafka/pull/9525", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEyMTY2Nw==", "url": "https://github.com/apache/kafka/pull/9525#discussion_r514121667", "bodyText": "testReportWithTwoReporters -> testReportWithMultipleReporters", "author": "showuon", "createdAt": "2020-10-29T09:35:22Z", "path": "connect/runtime/src/test/java/org/apache/kafka/connect/runtime/errors/ProcessingContextTest.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.kafka.connect.runtime.errors;\n+\n+import org.apache.kafka.clients.producer.RecordMetadata;\n+import org.apache.kafka.common.TopicPartition;\n+import org.junit.Test;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.Future;\n+import java.util.stream.Collectors;\n+import java.util.stream.IntStream;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+public class ProcessingContextTest {\n+\n+    @Test\n+    public void testReportWithSingleReporter() {\n+        testReport(1);\n+    }\n+\n+    @Test\n+    public void testReportWithTwoReporters() {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEzMjYwMg==", "url": "https://github.com/apache/kafka/pull/9525#discussion_r514132602", "bodyText": "will copy that", "author": "chia7712", "createdAt": "2020-10-29T09:52:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEyMTY2Nw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "14f83e4a970104b0a0085a0b835efe8e58e73c68", "url": "https://github.com/apache/kafka/commit/14f83e4a970104b0a0085a0b835efe8e58e73c68", "message": "KAFKA-10658 ErrantRecordReporter.report always return completed future even though the record is not sent to DLQ topic yet", "committedDate": "2020-11-24T07:07:46Z", "type": "commit"}, {"oid": "5710d4e09a7e16ea368bece355d39a441913aacb", "url": "https://github.com/apache/kafka/commit/5710d4e09a7e16ea368bece355d39a441913aacb", "message": "rename testReportWithTwoReporters to testReportWithMultipleReporters", "committedDate": "2020-11-24T07:07:46Z", "type": "commit"}, {"oid": "5710d4e09a7e16ea368bece355d39a441913aacb", "url": "https://github.com/apache/kafka/commit/5710d4e09a7e16ea368bece355d39a441913aacb", "message": "rename testReportWithTwoReporters to testReportWithMultipleReporters", "committedDate": "2020-11-24T07:07:46Z", "type": "forcePushed"}, {"oid": "3368e8116acf50d8ceb293f7e597da572ce96cbd", "url": "https://github.com/apache/kafka/commit/3368e8116acf50d8ceb293f7e597da572ce96cbd", "message": "Merge branch 'trunk' into KAFKA-10658", "committedDate": "2021-01-25T07:21:25Z", "type": "commit"}]}