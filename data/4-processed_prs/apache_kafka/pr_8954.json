{"pr_number": 8954, "pr_title": "MINOR; Move quota integration tests to using the new quota API.", "pr_createdAt": "2020-06-30T09:05:33Z", "pr_url": "https://github.com/apache/kafka/pull/8954", "timeline": [{"oid": "80fce5f74fd370e6c2465641f9b3636e6afa0e76", "url": "https://github.com/apache/kafka/commit/80fce5f74fd370e6c2465641f9b3636e6afa0e76", "message": "MINOR; Move quota integration tests to using the new quota API.", "committedDate": "2020-06-30T09:02:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI3MDI4OA==", "url": "https://github.com/apache/kafka/pull/8954#discussion_r457270288", "bodyText": "Maybe add a constant for the default entity and use Some(DefaultEntity) which would avoid the need for the comment that sounds like we are doing something we shouldn't be.", "author": "rajinisivaram", "createdAt": "2020-07-20T10:44:00Z", "path": "core/src/test/scala/integration/kafka/api/BaseQuotaTest.scala", "diffHunk": "@@ -335,12 +339,31 @@ abstract class QuotaTestClients(topic: String,\n       assertEquals(\"Should not have been throttled\", 0.0, metricValue(maxMetric), 0.0)\n   }\n \n-  def quotaProperties(producerQuota: Long, consumerQuota: Long, requestQuota: Double): Properties = {\n-    val props = new Properties()\n-    props.put(DynamicConfig.Client.ProducerByteRateOverrideProp, producerQuota.toString)\n-    props.put(DynamicConfig.Client.ConsumerByteRateOverrideProp, consumerQuota.toString)\n-    props.put(DynamicConfig.Client.RequestPercentageOverrideProp, requestQuota.toString)\n-    props\n+  // Default is set by using Some(null) for either or both user and clientId", "originalCommit": "80fce5f74fd370e6c2465641f9b3636e6afa0e76", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8448645d233445f237ac31c52bb19887c12951a6", "url": "https://github.com/apache/kafka/commit/8448645d233445f237ac31c52bb19887c12951a6", "message": "address comments", "committedDate": "2020-07-20T13:56:50Z", "type": "commit"}]}