{"pr_number": 8920, "pr_title": "DOCS-4446: document timestamped state stores", "pr_createdAt": "2020-06-23T22:41:52Z", "pr_url": "https://github.com/apache/kafka/pull/8920", "timeline": [{"oid": "7ee702686d97130bf3890bef6bff72330388e741", "url": "https://github.com/apache/kafka/commit/7ee702686d97130bf3890bef6bff72330388e741", "message": "DOCS-4446: document timestamped state stores", "committedDate": "2020-06-23T22:39:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU1NDA1Mw==", "url": "https://github.com/apache/kafka/pull/8920#discussion_r444554053", "bodyText": "Should we also extend Defining and creating a State Store ? -- It seems the section you added below, focuses on their usage?", "author": "mjsax", "createdAt": "2020-06-23T23:00:53Z", "path": "docs/streams/developer-guide/processor-api.html", "diffHunk": "@@ -49,6 +49,7 @@\n                         <li><a class=\"reference internal\" href=\"#defining-and-creating-a-state-store\" id=\"id4\">Defining and creating a State Store</a></li>\n                         <li><a class=\"reference internal\" href=\"#fault-tolerant-state-stores\" id=\"id5\">Fault-tolerant State Stores</a></li>\n                         <li><a class=\"reference internal\" href=\"#enable-or-disable-fault-tolerance-of-state-stores-store-changelogs\" id=\"id6\">Enable or Disable Fault Tolerance of State Stores (Store Changelogs)</a></li>\n+                        <li><a class=\"reference internal\" href=\"#timestamped-state-stores\" id=\"id11\">Timestamped State Stores</a></li>", "originalCommit": "7ee702686d97130bf3890bef6bff72330388e741", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU1NjQ3NQ==", "url": "https://github.com/apache/kafka/pull/8920#discussion_r444556475", "bodyText": "Starting in Kafka Streams 2.3\n\nDo we need this?\n\ncan store\n\nKTables always store timestamps by default. Should we rephrase?", "author": "mjsax", "createdAt": "2020-06-23T23:08:12Z", "path": "docs/streams/developer-guide/processor-api.html", "diffHunk": "@@ -343,6 +344,38 @@ <h2>\n </pre></div>\n                 </div>\n             </div>\n+            <div class=\"section\" id=\"timestamped-state-stores\">\n+                <span id=\"streams-developer-guide-state-store-timestamps\"></span><h3><a class=\"toc-backref\" href=\"#id11\">Timestamped State Stores</a><a class=\"headerlink\" href=\"#timestamped-state-stores\" title=\"Permalink to this headline\"></a></h3>\n+                <p>\n+                    Starting in Kafka Streams 2.3, you can store record timestamps in KTables.", "originalCommit": "7ee702686d97130bf3890bef6bff72330388e741", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU2MDk2Mw==", "url": "https://github.com/apache/kafka/pull/8920#discussion_r444560963", "bodyText": "Seems this part belong to section Defining and creating a State Store ?", "author": "mjsax", "createdAt": "2020-06-23T23:22:48Z", "path": "docs/streams/developer-guide/processor-api.html", "diffHunk": "@@ -343,6 +344,38 @@ <h2>\n </pre></div>\n                 </div>\n             </div>\n+            <div class=\"section\" id=\"timestamped-state-stores\">\n+                <span id=\"streams-developer-guide-state-store-timestamps\"></span><h3><a class=\"toc-backref\" href=\"#id11\">Timestamped State Stores</a><a class=\"headerlink\" href=\"#timestamped-state-stores\" title=\"Permalink to this headline\"></a></h3>\n+                <p>\n+                    Starting in Kafka Streams 2.3, you can store record timestamps in KTables.\n+                    A timestamped state store improves stream processing semantics and enables\n+                    handling out-of-order data in source KTables, detecting out-of-order joins and aggregations,\n+                    and getting the timestamp of the latest update in an Interactive Query.\n+                </p>\n+                <p>You can query timestamped state stores both with and without a timestamp.</p>\n+                <p>\n+                    Use <a class=\"reference external\" href=\"/{{version}}/javadoc/org/apache/kafka/streams/state/TimestampedKeyValueStore.html\">TimestampedKeyValueStore</a>\n+                    when you need a key-(value/timestamp) store that supports put/get/delete and range queries. \n+                </p>\n+                <p>\n+                    Use <a class=\"reference external\" href=\"/{{version}}/javadoc/org/apache/kafka/streams/state/TimestampedWindowStore.html\">TimestampedWindowStore</a>\n+                    when you need to store windowedKey-(value/timestamp) pairs.</p>\n+                <p>\n+                    The <a class=\"reference external\" href=\"/{{version}}/javadoc/org/apache/kafka/streams/state/Stores.html\">Stores</a>\n+                    class provides corresponding factory methods for timestamped stores.</p>\n+                <p>", "originalCommit": "7ee702686d97130bf3890bef6bff72330388e741", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE0NDMyMQ==", "url": "https://github.com/apache/kafka/pull/8920#discussion_r445144321", "bodyText": "Moved these paras into the table.", "author": "JimGalasyn", "createdAt": "2020-06-24T20:12:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU2MDk2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU2MTEzOA==", "url": "https://github.com/apache/kafka/pull/8920#discussion_r444561138", "bodyText": "Platform API ? Do you mean Processor API ?", "author": "mjsax", "createdAt": "2020-06-23T23:23:21Z", "path": "docs/streams/developer-guide/processor-api.html", "diffHunk": "@@ -343,6 +344,38 @@ <h2>\n </pre></div>\n                 </div>\n             </div>\n+            <div class=\"section\" id=\"timestamped-state-stores\">\n+                <span id=\"streams-developer-guide-state-store-timestamps\"></span><h3><a class=\"toc-backref\" href=\"#id11\">Timestamped State Stores</a><a class=\"headerlink\" href=\"#timestamped-state-stores\" title=\"Permalink to this headline\"></a></h3>\n+                <p>\n+                    Starting in Kafka Streams 2.3, you can store record timestamps in KTables.\n+                    A timestamped state store improves stream processing semantics and enables\n+                    handling out-of-order data in source KTables, detecting out-of-order joins and aggregations,\n+                    and getting the timestamp of the latest update in an Interactive Query.\n+                </p>\n+                <p>You can query timestamped state stores both with and without a timestamp.</p>\n+                <p>\n+                    Use <a class=\"reference external\" href=\"/{{version}}/javadoc/org/apache/kafka/streams/state/TimestampedKeyValueStore.html\">TimestampedKeyValueStore</a>\n+                    when you need a key-(value/timestamp) store that supports put/get/delete and range queries. \n+                </p>\n+                <p>\n+                    Use <a class=\"reference external\" href=\"/{{version}}/javadoc/org/apache/kafka/streams/state/TimestampedWindowStore.html\">TimestampedWindowStore</a>\n+                    when you need to store windowedKey-(value/timestamp) pairs.</p>\n+                <p>\n+                    The <a class=\"reference external\" href=\"/{{version}}/javadoc/org/apache/kafka/streams/state/Stores.html\">Stores</a>\n+                    class provides corresponding factory methods for timestamped stores.</p>\n+                <p>\n+                    <b>Upgrade note:</b> All users upgrade with a single rolling bounce per instance.\n+                    <ul class=\"first simple\">\n+                        <li>For Platform API users, nothing changes in existing applications, and you", "originalCommit": "7ee702686d97130bf3890bef6bff72330388e741", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a522718d4fd5beaca053c3a967076943919ca82d", "url": "https://github.com/apache/kafka/commit/a522718d4fd5beaca053c3a967076943919ca82d", "message": "Incorporate feedback", "committedDate": "2020-06-24T20:12:55Z", "type": "commit"}]}