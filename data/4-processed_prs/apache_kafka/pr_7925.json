{"pr_number": 7925, "pr_title": "MINOR: Add upgrade guide for KAFKA-8421", "pr_createdAt": "2020-01-10T00:14:11Z", "pr_url": "https://github.com/apache/kafka/pull/7925", "timeline": [{"oid": "8fbf9751bf80b112c953fc3b1987450cbd3ff2b5", "url": "https://github.com/apache/kafka/commit/8fbf9751bf80b112c953fc3b1987450cbd3ff2b5", "message": "add upgrade guide", "committedDate": "2020-01-10T00:13:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk2NDI3MQ==", "url": "https://github.com/apache/kafka/pull/7925#discussion_r365964271", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    users of such an event, in order to distinguish from the fatal <code>CommitFailuedException</code> and allow\n          \n          \n            \n                    users of such an event, in order to distinguish from the fatal <code>CommitFailedException</code> and allow", "author": "ableegoldman", "createdAt": "2020-01-13T18:42:47Z", "path": "docs/upgrade.html", "diffHunk": "@@ -21,10 +21,15 @@\n \n <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2.5.0</a></h5>\n <ul>\n+    <li>When <code>RebalanceProtocol#COOPERATIVE</code> is used, <code>Consumer#poll</code> can still return data\n+        while it is in the middle of a rebalance for those partitions still owned by the consumer; in addition\n+        <code>Consumer#commitSync</code> now may throw a non-fatal <code>RebalanceInProgressException</code> to notify\n+        users of such an event, in order to distinguish from the fatal <code>CommitFailuedException</code> and allow", "originalCommit": "8fbf9751bf80b112c953fc3b1987450cbd3ff2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ea629e7ac6e9d962f16d98b862655470bd638c2a", "url": "https://github.com/apache/kafka/commit/ea629e7ac6e9d962f16d98b862655470bd638c2a", "message": "Update docs/upgrade.html\n\nCo-Authored-By: A. Sophie Blee-Goldman <ableegoldman@gmail.com>", "committedDate": "2020-01-13T19:05:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk2NDM3OA==", "url": "https://github.com/apache/kafka/pull/7925#discussion_r365964378", "bodyText": "Should we move this to the Streams upgrade guide?", "author": "ableegoldman", "createdAt": "2020-01-13T18:43:01Z", "path": "docs/upgrade.html", "diffHunk": "@@ -21,10 +21,15 @@\n \n <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2.5.0</a></h5>\n <ul>\n+    <li>When <code>RebalanceProtocol#COOPERATIVE</code> is used, <code>Consumer#poll</code> can still return data\n+        while it is in the middle of a rebalance for those partitions still owned by the consumer; in addition\n+        <code>Consumer#commitSync</code> now may throw a non-fatal <code>RebalanceInProgressException</code> to notify\n+        users of such an event, in order to distinguish from the fatal <code>CommitFailuedException</code> and allow\n+        users to complete the ongoing rebalance and then reconsider committing offsets.</li>\n     <li>For improved resiliency in typical network environments, the default value of\n         <code>zookeeper.session.timeout.ms</code> has been increased from 6s to 18s and\n         <code>replica.lag.time.max.ms</code> from 10s to 30s.</li>\n-    <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once</li>\n+    <li>New DSL operator <code>cogroup()</code> has been added for aggregating multiple streams together at once.</li>", "originalCommit": "8fbf9751bf80b112c953fc3b1987450cbd3ff2b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjAxNjE3Mg==", "url": "https://github.com/apache/kafka/pull/7925#discussion_r366016172", "bodyText": "In Streams own upgrade guide we have a more detailed paragraph for this too:\nWe add a new <code>cogroup()</code> operator (via <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-150+-+Kafka-Streams+Cogroup\">KIP-150</a>>)\n        that allows to aggregate multiple streams in a single operation.\n        Cogrouped streams can also be windowed before they are aggregated.\n        We refer to the <a href=\"/{{version}}/documentation/streams/developer-guide/dsl-api.html\">developer guide</a> for more details.", "author": "guozhangwang", "createdAt": "2020-01-13T20:39:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk2NDM3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk3Mzk3NQ==", "url": "https://github.com/apache/kafka/pull/7925#discussion_r365973975", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    users to complete the ongoing rebalance and then reconsider committing offsets.</li>\n          \n          \n            \n                    users to complete the ongoing rebalance and then reattempt committing offsets for those still-owned partitions.</li>\n          \n      \n    \n    \n  \n\nThis one is just a proposal, feel free to take it or leave it. We could also maybe link to the new Javadocs for more details, \"just in case\" users don't read all the docs/changes carefully before jumping on this", "author": "ableegoldman", "createdAt": "2020-01-13T19:04:15Z", "path": "docs/upgrade.html", "diffHunk": "@@ -21,10 +21,15 @@\n \n <h5><a id=\"upgrade_250_notable\" href=\"#upgrade_250_notable\">Notable changes in 2.5.0</a></h5>\n <ul>\n+    <li>When <code>RebalanceProtocol#COOPERATIVE</code> is used, <code>Consumer#poll</code> can still return data\n+        while it is in the middle of a rebalance for those partitions still owned by the consumer; in addition\n+        <code>Consumer#commitSync</code> now may throw a non-fatal <code>RebalanceInProgressException</code> to notify\n+        users of such an event, in order to distinguish from the fatal <code>CommitFailuedException</code> and allow\n+        users to complete the ongoing rebalance and then reconsider committing offsets.</li>", "originalCommit": "8fbf9751bf80b112c953fc3b1987450cbd3ff2b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3b83a01a7334e6c6bb1f786383baf28419990290", "url": "https://github.com/apache/kafka/commit/3b83a01a7334e6c6bb1f786383baf28419990290", "message": "Update docs/upgrade.html\n\nCo-Authored-By: A. Sophie Blee-Goldman <ableegoldman@gmail.com>", "committedDate": "2020-01-13T20:35:15Z", "type": "commit"}]}