{"pr_number": 9142, "pr_title": "MINOR: Fix delete_topic for system tests", "pr_createdAt": "2020-08-07T19:24:59Z", "pr_url": "https://github.com/apache/kafka/pull/9142", "timeline": [{"oid": "387bd9ed9d2b9b56ed1b11ba62b290f2b12e59d4", "url": "https://github.com/apache/kafka/commit/387bd9ed9d2b9b56ed1b11ba62b290f2b12e59d4", "message": "MINOR: fixing delete topic for system tests", "committedDate": "2020-08-07T19:23:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI2Mzg4NQ==", "url": "https://github.com/apache/kafka/pull/9142#discussion_r467263885", "bodyText": "create/describe/list use use_zk_to_..._topic=True so I'm wondering if it is best to remain consistent here.  For example, if running an older version, might --bootstrap-server not be available?", "author": "rondagostino", "createdAt": "2020-08-07T20:53:36Z", "path": "tests/kafkatest/services/kafka/kafka.py", "diffHunk": "@@ -503,7 +503,7 @@ def create_topic(self, topic_cfg, node=None, use_zk_to_create_topic=True):\n         self.logger.info(\"Running topic creation command...\\n%s\" % cmd)\n         node.account.ssh(cmd)\n \n-    def delete_topic(self, topic, node=None):\n+    def delete_topic(self, topic, node=None, use_zk_to_delete_topic=False):", "originalCommit": "387bd9ed9d2b9b56ed1b11ba62b290f2b12e59d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI3NDAzNw==", "url": "https://github.com/apache/kafka/pull/9142#discussion_r467274037", "bodyText": "Yeah that's a good point, but in this scenario I was thinking to remain consistent with the original implementation. Also I'm not sure how far we want to backport this, but if we backport it past the version where --bootstrap-server is not available, then I think we would have to rewrite this function to account for that. Also since we are on our way to deprecate and remove ZK, this would be a good way to start pushing us towards doing that.", "author": "skaundinya15", "createdAt": "2020-08-07T21:21:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI2Mzg4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA5NDQ5Mw==", "url": "https://github.com/apache/kafka/pull/9142#discussion_r471094493", "bodyText": "@rondagostino are we ok with merging this to trunk? Since this is not required for existing tests which either use ZK or PLAINTEXT brokers, not planning to backport to older versions.", "author": "rajinisivaram", "createdAt": "2020-08-16T10:21:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI2Mzg4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI3OTQ4MA==", "url": "https://github.com/apache/kafka/pull/9142#discussion_r472279480", "bodyText": "@rajinisivaram Yes, merging to just trunk seems fine to me.", "author": "rondagostino", "createdAt": "2020-08-18T15:21:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI2Mzg4NQ=="}], "type": "inlineReview"}]}