{"pr_number": 9204, "pr_title": "KAFKA-6181 Examining log messages with {{--deep-iteration}} should show superset of fields", "pr_createdAt": "2020-08-20T15:23:19Z", "pr_url": "https://github.com/apache/kafka/pull/9204", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI5NzQ3OA==", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520297478", "bodyText": "isvalid -> \"isValid\"\nkeysize -> \"keySize\"\nvaluesize -> \"valueSize\"\ncompresscodec -> \"compressionType\"", "author": "chia7712", "createdAt": "2020-11-10T05:32:06Z", "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,11 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${} ${batch.baseSequence}\" +\n+             s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch} position: ${validBytes} \" +\n+             s\" ${batch.timestampType}: ${record.timestamp} isvalid: ${record.isValid}\"+\n+             s\" keysize: ${record.keySize} valuesize: ${record.valueSize} size: ${batch.sizeInBytes} magic: ${batch.magic} \" +", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDMzNjA1MQ==", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520336051", "bodyText": "@chia7712  Have seperated the record details from batch details. Also changed the entries to camel case. Please review this. Thanks.", "author": "iprithv", "createdAt": "2020-11-10T07:08:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI5NzQ3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQzMTg0Ng==", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520431846", "bodyText": "size is unclear to me. How about batchSize?", "author": "chia7712", "createdAt": "2020-11-10T09:55:42Z", "path": "core/src/main/scala/kafka/tools/DumpLogSegments.scala", "diffHunk": "@@ -257,8 +257,12 @@ object DumpLogSegments {\n             }\n             lastOffset = record.offset\n \n-            print(s\"$RecordIndent offset: ${record.offset} ${batch.timestampType}: ${record.timestamp} \" +\n-              s\"keysize: ${record.keySize} valuesize: ${record.valueSize}\")\n+            print(s\"$RecordIndent offset: ${record.offset} isValid: ${record.isValid} crc: ${record.checksumOrNull} \"+\n+                s\" keySize: ${record.keySize} valueSize: ${record.valueSize} ${batch.timestampType}: ${record.timestamp} \"+\n+                s\" baseOffset: ${batch.baseOffset} lastOffset: ${batch.lastOffset} baseSequence: ${batch.baseSequence} \" +\n+                s\" lastSequence: ${batch.lastSequence} producerEpoch: ${batch.producerEpoch} partitionLeaderEpoch: ${batch.partitionLeaderEpoch}  \" +\n+                s\" size: ${batch.sizeInBytes} magic: ${batch.magic} compressType: ${batch.compressionType} position: ${validBytes} \")", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQ5MTE2MA==", "url": "https://github.com/apache/kafka/pull/9204#discussion_r520491160", "bodyText": "Thanks @chia7712, makes sense. Have updated it.", "author": "iprithv", "createdAt": "2020-11-10T11:28:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQzMTg0Ng=="}], "type": "inlineReview"}, {"oid": "2ca5d8ddc98d7d800d99a697f95c6eaa9330ab2f", "url": "https://github.com/apache/kafka/commit/2ca5d8ddc98d7d800d99a697f95c6eaa9330ab2f", "message": "Added superset of fields for log messages of {{--deep-iteration}}", "committedDate": "2020-11-19T06:14:38Z", "type": "commit"}, {"oid": "396097dc3423b7871fb55d00fc8f43b86ff23c50", "url": "https://github.com/apache/kafka/commit/396097dc3423b7871fb55d00fc8f43b86ff23c50", "message": "nit changes", "committedDate": "2020-11-19T06:14:38Z", "type": "commit"}, {"oid": "09624b0a7dc44412911378085924e385da7bb54f", "url": "https://github.com/apache/kafka/commit/09624b0a7dc44412911378085924e385da7bb54f", "message": "nit changes", "committedDate": "2020-11-19T06:14:38Z", "type": "commit"}, {"oid": "173de8e12dedaf903ae808773984fa683ba870ae", "url": "https://github.com/apache/kafka/commit/173de8e12dedaf903ae808773984fa683ba870ae", "message": "Update DumpLogSegments.scala\n\nnit", "committedDate": "2020-11-19T06:14:38Z", "type": "commit"}]}