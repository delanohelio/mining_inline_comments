{"pr_number": 8182, "pr_title": "MINOR: Update upgrade guide for ZK", "pr_createdAt": "2020-02-27T15:18:49Z", "pr_url": "https://github.com/apache/kafka/pull/8182", "timeline": [{"oid": "ff9c9ddba350a01d78cfc6a965a65b37b167447e", "url": "https://github.com/apache/kafka/commit/ff9c9ddba350a01d78cfc6a965a65b37b167447e", "message": "MINOR: Add upgrade notable section for 2.4.1 with ZK info", "committedDate": "2020-02-27T15:07:38Z", "type": "commit"}, {"oid": "d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5", "url": "https://github.com/apache/kafka/commit/d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5", "message": "MINOR: Put upgrade notable section at top", "committedDate": "2020-02-27T15:15:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIzMTk3Nw==", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385231977", "bodyText": "I think this needs to go down below the upgrade_2_4_0 section.  See, for example, upgrade_221_notable and upgrade_111_notable sections, which appear below the upgrade_2_2_0 and upgrade_1_1_0 sections, respectively.", "author": "rondagostino", "createdAt": "2020-02-27T16:44:01Z", "path": "docs/upgrade.html", "diffHunk": "@@ -19,6 +19,17 @@\n \n <script id=\"upgrade-template\" type=\"text/x-handlebars-template\">\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>", "originalCommit": "d28cf11d9c9f8b49ddf0a7083e22ac27f1510bf5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIzNzYzNQ==", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385237635", "bodyText": "Ack.  That's where I had it initially, but I decided to put it up on top.  I'll revert and move it back to where it should be.  Thanks for the review!", "author": "bbejeck", "createdAt": "2020-02-27T16:52:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIzMTk3Nw=="}], "type": "inlineReview"}, {"oid": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "url": "https://github.com/apache/kafka/commit/7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "message": "MINOR: Moving update notable back to 2.4 section", "committedDate": "2020-02-27T16:56:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI0MTQ0OQ==", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385241449", "bodyText": "From what I can see in the file, the notable notes for the current release go before the ones for the previous release.", "author": "bbejeck", "createdAt": "2020-02-27T16:58:29Z", "path": "docs/upgrade.html", "diffHunk": "@@ -82,6 +82,17 @@ <h4><a id=\"upgrade_2_4_0\" href=\"#upgrade_2_4_0\">Upgrading from 0.8.x, 0.9.x, 0.1\n     </li>\n </ol>\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>", "originalCommit": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI2MzcxMA==", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385263710", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    For more details about the issue please refer to <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.\n          \n          \n            \n                    For more information, see <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.", "author": "JimGalasyn", "createdAt": "2020-02-27T17:35:24Z", "path": "docs/upgrade.html", "diffHunk": "@@ -82,6 +82,17 @@ <h4><a id=\"upgrade_2_4_0\" href=\"#upgrade_2_4_0\">Upgrading from 0.8.x, 0.9.x, 0.1\n     </li>\n </ol>\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>\n+<ul>\n+    <li>\n+        ZooKeeper has been upgraded to 3.5.7, and a ZooKeeper upgrade from 3.4.X to 3.5.7 can fail if there are no snapshot files in the 3.4 data directory.\n+        This usually happens in test upgrades where ZooKeeper 3.5.7 is trying to load an existing 3.4 data dir in which no snapshot file has been created.\n+        For more details about the issue please refer to <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.", "originalCommit": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI2NDE2NQ==", "url": "https://github.com/apache/kafka/pull/8182#discussion_r385264165", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    A fix is given in <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>, which is to set <code>snapshot.trust.empty=true</code>\n          \n          \n            \n                    A fix is given in <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>, which is to set the <code>snapshot.trust.empty=true</code>", "author": "JimGalasyn", "createdAt": "2020-02-27T17:36:12Z", "path": "docs/upgrade.html", "diffHunk": "@@ -82,6 +82,17 @@ <h4><a id=\"upgrade_2_4_0\" href=\"#upgrade_2_4_0\">Upgrading from 0.8.x, 0.9.x, 0.1\n     </li>\n </ol>\n \n+<h5><a id=\"upgrade_241_notable\" href=\"#upgrade_241_notable\">Notable changes in 2.4.1</a></h5>\n+<ul>\n+    <li>\n+        ZooKeeper has been upgraded to 3.5.7, and a ZooKeeper upgrade from 3.4.X to 3.5.7 can fail if there are no snapshot files in the 3.4 data directory.\n+        This usually happens in test upgrades where ZooKeeper 3.5.7 is trying to load an existing 3.4 data dir in which no snapshot file has been created.\n+        For more details about the issue please refer to <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>.\n+        A fix is given in <a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3056\">ZOOKEEPER-3056</a>, which is to set <code>snapshot.trust.empty=true</code>", "originalCommit": "7afed00a02fe410c6b01af5bd03b5bfa25db32ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "35616f95b9d1a83d5ecdf6632c88fa89a440883a", "url": "https://github.com/apache/kafka/commit/35616f95b9d1a83d5ecdf6632c88fa89a440883a", "message": "Apply suggestions from code review\n\nCo-Authored-By: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-02-27T22:55:33Z", "type": "commit"}]}