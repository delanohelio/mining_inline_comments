{"pr_number": 655, "pr_title": "update deps", "pr_createdAt": "2020-06-27T00:52:34Z", "pr_url": "https://github.com/FISCO-BCOS/web3sdk/pull/655", "timeline": [{"oid": "ebd52cebb281c859e7323ded51da49f7f634e9e9", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/ebd52cebb281c859e7323ded51da49f7f634e9e9", "message": "update deps", "committedDate": "2020-06-27T00:42:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2MzgzNA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463834", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:19Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2MzgzOQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463839", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0MQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463841", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+        BigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0NA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463844", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+        BigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0Ng==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463846", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0OQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463849", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1MQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463851", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();\n     }\n \n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateY2(ECPoint s) {\n-        return s.getY().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineYCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1Mw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463853", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:20Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();\n     }\n \n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateY2(ECPoint s) {\n-        return s.getY().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineYCoord().toBigInteger();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1Nw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463857", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:21Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1OQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463859", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:21Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2MQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463861", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:21Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+        byte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2Mw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463863", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:21Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+        byte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2NA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463864", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:21Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -371,7 +380,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+                ECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2NQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463865", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -371,7 +380,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+                ECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2Ng==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463866", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -419,8 +429,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX, BigIn\n         BigInteger t = r.add(s).mod(n);\n         if (t.equals(BigInteger.ZERO)) return false;\n         ECPoint x1y1 = g256.multiply(s);\n+        ECPoint ecPoint = x1y1.normalize();", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2Nw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463867", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -419,8 +429,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX, BigIn\n         BigInteger t = r.add(s).mod(n);\n         if (t.equals(BigInteger.ZERO)) return false;\n         ECPoint x1y1 = g256.multiply(s);\n+        ECPoint ecPoint = x1y1.normalize();\n         x1y1 = x1y1.add(userKey.multiply(t));\n-        BigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+        BigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2OA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463868", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -419,8 +429,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX, BigIn\n         BigInteger t = r.add(s).mod(n);\n         if (t.equals(BigInteger.ZERO)) return false;\n         ECPoint x1y1 = g256.multiply(s);\n+        ECPoint ecPoint = x1y1.normalize();\n         x1y1 = x1y1.add(userKey.multiply(t));\n-        BigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+        BigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2OQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463869", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg3MA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463870", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg3MQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463871", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:22Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg3Mw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463873", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T00:53:23Z", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "originalCommit": "f17a11e763bdf78ae5da765a612ad7a0423fedcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cb806236b6ed28cf44f9f35365209b9bf2b33a58", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/cb806236b6ed28cf44f9f35365209b9bf2b33a58", "message": "Fix gm unusable bugs (#437)", "committedDate": "2020-06-27T05:25:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1Mw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487553", "bodyText": "[PMD Java] Avoid using Literals in Conditional Statements (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nAvoidLiteralsInIfCondition\nError Prone\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_errorprone.html#avoidliteralsinifcondition\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T05:26:20Z", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {", "originalCommit": "cb806236b6ed28cf44f9f35365209b9bf2b33a58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1NQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487555", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T05:26:20Z", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {\n+                Integer threadPoolSize = Integer.parseInt(args[4]);", "originalCommit": "cb806236b6ed28cf44f9f35365209b9bf2b33a58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1Nw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487557", "bodyText": "[PMD Java] Found 'DU'-anomaly for variable 'async' (lines '43'-'138'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T05:26:20Z", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {\n+                Integer threadPoolSize = Integer.parseInt(args[4]);\n+                Async async = new Async(Executors.newFixedThreadPool(threadPoolSize));", "originalCommit": "cb806236b6ed28cf44f9f35365209b9bf2b33a58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1OA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487558", "bodyText": "[PMD Java] Avoid unused local variables such as 'async'. (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nUnusedLocalVariable\nBest Practices\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_bestpractices.html#unusedlocalvariable\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T05:26:20Z", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {\n+                Integer threadPoolSize = Integer.parseInt(args[4]);\n+                Async async = new Async(Executors.newFixedThreadPool(threadPoolSize));", "originalCommit": "cb806236b6ed28cf44f9f35365209b9bf2b33a58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU2MA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487560", "bodyText": "[PMD Java] Dont create instances of already existing BigInteger and BigDecimal (ZERO, ONE, TEN) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nBigIntegerInstantiation\nPerformance\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_performance.html#bigintegerinstantiation\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-06-27T05:26:21Z", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -104,9 +103,12 @@ public void run() {\n                                 PerformanceOkCallback callback = new PerformanceOkCallback();\n                                 callback.setCollector(collector);\n                                 try {\n-                                    TransactionReceipt receipt = ok.trans(\n-                                            String.valueOf(random.nextLong()),\n-                                            new BigInteger(\"1\")).sendAsync().get();\n+                                    TransactionReceipt receipt =\n+                                            ok.trans(\n+                                                            String.valueOf(random.nextLong()),\n+                                                            new BigInteger(\"1\"))", "originalCommit": "cb806236b6ed28cf44f9f35365209b9bf2b33a58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07ebe7baf6a13bed2c020f2d1cb5b1d10d594b78", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/07ebe7baf6a13bed2c020f2d1cb5b1d10d594b78", "message": "Fix gm unusable bugs (#437)", "committedDate": "2020-06-27T05:30:41Z", "type": "forcePushed"}, {"oid": "9601df54ed6d094ce2283140471777f730f25bce", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/9601df54ed6d094ce2283140471777f730f25bce", "message": "Fix gm unusable bugs (#437)", "committedDate": "2020-06-27T05:36:43Z", "type": "commit"}, {"oid": "9601df54ed6d094ce2283140471777f730f25bce", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/9601df54ed6d094ce2283140471777f730f25bce", "message": "Fix gm unusable bugs (#437)", "committedDate": "2020-06-27T05:36:43Z", "type": "forcePushed"}]}