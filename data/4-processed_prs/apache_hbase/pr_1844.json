{"pr_number": 1844, "pr_title": "HBASE-23997 Consider JDK11 in our support matrix", "pr_createdAt": "2020-06-03T16:37:05Z", "pr_url": "https://github.com/apache/hbase/pull/1844", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxMTIxOA==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r434711218", "bodyText": "or has been attempted and is known to not work.\n\nI would just simplify this to be \"or is known to not work\".", "author": "joshelser", "createdAt": "2020-06-03T16:47:04Z", "path": "src/main/asciidoc/_chapters/configuration.adoc", "diffHunk": "@@ -97,55 +97,76 @@ This section lists required services and some required system configuration.\n [[java]]\n .Java\n \n-The following table summarizes the recommendation of the HBase community wrt deploying on various\n-Java versions. A icon:check-circle[role=\"green\"] symbol is meant to indicate a base level of\n+The following table summarizes the recommendations of the HBase community with respect to deploying\n+on various Java versions. The icon:check-circle[role=\"green\"] symbol indicates a base level of\n testing and willingness to help diagnose and address issues you might run into. Similarly, an entry\n-of icon:exclamation-circle[role=\"yellow\"] or icon:times-circle[role=\"red\"] generally means that\n-should you run into an issue the community is likely to ask you to change the Java environment\n-before proceeding to help. In some cases, specific guidance on limitations (e.g. whether compiling\n-/ unit tests work, specific operational issues, etc) will also be noted.\n+of icon:exclamation-circle[role=\"yellow\"] means that, should you run into an issue, the community\n+is likely to ask you to change the Java environment rather than proceeding to help on that Java\n+version. This applies categorically to Non-LTS releases (see below). The\n+icon:times-circle[role=\"red\"] means that support has been dropped for this version or has been\n+attempted and is known to not work. For combinations of newer JDK with older HBase releases, it's", "originalCommit": "6667b2ef13c30a31fd91c67a58be8d382cf212fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxMzA1NA==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r434713054", "bodyText": "The word \"supported\" always turns my stomach (thanks, day-job) because people have such a wide breadth of what that means.\nI liked your phrasing earlier around \"If you encounter an issue with one of these JDK versions, our first ask will be to use a JDK version which has been tested\". I'm not sure if there is a more concise way to encapsulate this.\n(I'll also acknowledge that I'm overly sensitive to this terminology. If it's OK to others, then it's fine :) )", "author": "joshelser", "createdAt": "2020-06-03T16:49:53Z", "path": "src/main/asciidoc/_chapters/configuration.adoc", "diffHunk": "@@ -97,55 +97,76 @@ This section lists required services and some required system configuration.\n [[java]]\n .Java\n \n-The following table summarizes the recommendation of the HBase community wrt deploying on various\n-Java versions. A icon:check-circle[role=\"green\"] symbol is meant to indicate a base level of\n+The following table summarizes the recommendations of the HBase community with respect to deploying\n+on various Java versions. The icon:check-circle[role=\"green\"] symbol indicates a base level of\n testing and willingness to help diagnose and address issues you might run into. Similarly, an entry\n-of icon:exclamation-circle[role=\"yellow\"] or icon:times-circle[role=\"red\"] generally means that\n-should you run into an issue the community is likely to ask you to change the Java environment\n-before proceeding to help. In some cases, specific guidance on limitations (e.g. whether compiling\n-/ unit tests work, specific operational issues, etc) will also be noted.\n+of icon:exclamation-circle[role=\"yellow\"] means that, should you run into an issue, the community\n+is likely to ask you to change the Java environment rather than proceeding to help on that Java\n+version. This applies categorically to Non-LTS releases (see below). The\n+icon:times-circle[role=\"red\"] means that support has been dropped for this version or has been\n+attempted and is known to not work. For combinations of newer JDK with older HBase releases, it's\n+likely that there are known compatibility issues that cannot be addressed under our compatibility\n+guarantees, making that combination impossible. In some cases, specific guidance on limitations\n+(e.g. whether compiling / unit tests work, specific operational issues, etc) will also be noted.\n+\n+.Long-Term Support JDKs are Recommended\n+[WARNING]\n+====\n+HBase recommends downstream users rely on JDK releases that are marked as Long-Term Supported\n+(LTS), either from the OpenJDK project or vendors. At the time of this writing, the following JDK\n+releases are NOT LTS releases and are NOT supported by the Apache HBase community: JDK9, JDK10,", "originalCommit": "6667b2ef13c30a31fd91c67a58be8d382cf212fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyMDM4MA==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r434920380", "bodyText": "Yeah you're right. \"support\" is not a great term, the the world of enterprise software. \"You're unlikely to find receptive community engagement\" is a bit long-winded, but honest. The earlier phrasing wasn't mine, but I'll try again with it as a model.", "author": "ndimiduk", "createdAt": "2020-06-04T00:01:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxMzA1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTMwOTE1OA==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r435309158", "bodyText": "Maybe, make the previous paragraph..\n\nblah blah blah long-winded, or \"untested\"\n\nAnd then just use that \"untested\" here? Maybe we can define exactly what we mean once and just use that again.", "author": "joshelser", "createdAt": "2020-06-04T14:37:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxMzA1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5MzcwMw==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r434793703", "bodyText": "JDK8 should be red for HBase 1.3+ right? branch-1.3 and 1.4 have maven-compiler-plugin source and target as 1.7.", "author": "virajjasani", "createdAt": "2020-06-03T19:11:31Z", "path": "src/main/asciidoc/_chapters/configuration.adoc", "diffHunk": "@@ -97,55 +97,76 @@ This section lists required services and some required system configuration.\n [[java]]\n .Java\n \n-The following table summarizes the recommendation of the HBase community wrt deploying on various\n-Java versions. A icon:check-circle[role=\"green\"] symbol is meant to indicate a base level of\n+The following table summarizes the recommendations of the HBase community with respect to deploying\n+on various Java versions. The icon:check-circle[role=\"green\"] symbol indicates a base level of\n testing and willingness to help diagnose and address issues you might run into. Similarly, an entry\n-of icon:exclamation-circle[role=\"yellow\"] or icon:times-circle[role=\"red\"] generally means that\n-should you run into an issue the community is likely to ask you to change the Java environment\n-before proceeding to help. In some cases, specific guidance on limitations (e.g. whether compiling\n-/ unit tests work, specific operational issues, etc) will also be noted.\n+of icon:exclamation-circle[role=\"yellow\"] means that, should you run into an issue, the community\n+is likely to ask you to change the Java environment rather than proceeding to help on that Java\n+version. This applies categorically to Non-LTS releases (see below). The\n+icon:times-circle[role=\"red\"] means that support has been dropped for this version or has been\n+attempted and is known to not work. For combinations of newer JDK with older HBase releases, it's\n+likely that there are known compatibility issues that cannot be addressed under our compatibility\n+guarantees, making that combination impossible. In some cases, specific guidance on limitations\n+(e.g. whether compiling / unit tests work, specific operational issues, etc) will also be noted.\n+\n+.Long-Term Support JDKs are Recommended\n+[WARNING]\n+====\n+HBase recommends downstream users rely on JDK releases that are marked as Long-Term Supported\n+(LTS), either from the OpenJDK project or vendors. At the time of this writing, the following JDK\n+releases are NOT LTS releases and are NOT supported by the Apache HBase community: JDK9, JDK10,\n+JDK12, JDK13, and JDK14. Community discussion around this decision is recorded on\n+link:https://issues.apache.org/jira/browse/HBASE-20264[HBASE-20264].\n+====\n \n-.Long Term Support JDKs are recommended\n+.HotSpot vs. OpenJ9\n [TIP]\n ====\n-HBase recommends downstream users rely on JDK releases that are marked as Long Term Supported (LTS)\n-either from the OpenJDK project or vendors. As of March 2018 that means Java 8 is the only\n-applicable version and that the next likely version to see testing will be Java 11 near Q3 2018.\n+At this time, all testing performed by the Apache HBase project runs on the HotSpot variant of the\n+JVM. When selecting your JDK distribution, please take this into consideration.\n ====\n \n .Java support by release line\n-[cols=\"6*^.^\", options=\"header\"]\n+[cols=\"4*^.^\", options=\"header\"]\n |===\n-|HBase Version\n-|JDK 7\n-|JDK 8\n-|JDK 9 (Non-LTS)\n-|JDK 10 (Non-LTS)\n-|JDK 11\n-\n-|2.1+\n+|Java Version\n+|HBase 1.3+\n+|HBase 2.1+\n+|HBase 2.3+\n+\n+|JDK6\n+|icon:times-circle[role=\"red\"]\n |icon:times-circle[role=\"red\"]\n+|icon:times-circle[role=\"red\"]\n+\n+|JDK7\n+|icon:check-circle[role=\"green\"]\n+|icon:times-circle[role=\"red\"]\n+|icon:times-circle[role=\"red\"]\n+\n+|JDK8\n |icon:check-circle[role=\"green\"]", "originalCommit": "6667b2ef13c30a31fd91c67a58be8d382cf212fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgwNTk2Ng==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r434805966", "bodyText": "Although this doesn't mean that users can't compile 1.3+ with JDK 1.8, but branch-1 is still not 1.8 compatible source code wise. I am not sure whether this means we should mark this red (we can run clusters on Java 8 env but code is not compatible)\nEdit: Looks like we are not talking about source code compatibility but LTS versions for deployment only. So yeah, good to keep this green because deployment is supported with JDK 1.8.", "author": "virajjasani", "createdAt": "2020-06-03T19:35:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5MzcwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTg0NA==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r434919844", "bodyText": "We're talking about runtime support here. You're right though, the language is not clear. Let me take another swing.", "author": "ndimiduk", "createdAt": "2020-06-03T23:59:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5MzcwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYyMjgyNw==", "url": "https://github.com/apache/hbase/pull/1844#discussion_r435622827", "bodyText": "yeah this chart has always been about runtime version supports. good clarification.", "author": "busbey", "createdAt": "2020-06-05T00:07:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDc5MzcwMw=="}], "type": "inlineReview"}, {"oid": "acc4e50fbe43e1963b965491aaa0504fd4cf0995", "url": "https://github.com/apache/hbase/commit/acc4e50fbe43e1963b965491aaa0504fd4cf0995", "message": "HBASE-23997 Consider JDK11 in our support matrix\n\n* Add a section calling out our categorical lack of support for\n  non-LTS Java versions.\n* Provide clarification as to the meaning of the 'red x' in our\n  support matrix.\n* Transpose the support matrix to have HBase releases along the x-axis\n  and Java releases along the y-axis, because there are more Java\n  releases than HBase release categories.\n* Update the JDK11 status in the matrix.\n* Add a note qualifying our JDK11 support.", "committedDate": "2020-06-04T18:41:02Z", "type": "forcePushed"}, {"oid": "19a940d25440df41630ac2f5b6c07674268866ed", "url": "https://github.com/apache/hbase/commit/19a940d25440df41630ac2f5b6c07674268866ed", "message": "HBASE-23997 Consider JDK11 in our support matrix\n\n* Add a section calling out our categorical lack of support for\n  non-LTS Java versions.\n* Provide clarification as to the meaning of the 'red x' in our\n  support matrix.\n* Transpose the support matrix to have HBase releases along the x-axis\n  and Java releases along the y-axis, because there are more Java\n  releases than HBase release categories.\n* Update the JDK11 status in the matrix.\n* Add a note qualifying our JDK11 support.", "committedDate": "2020-06-05T18:22:51Z", "type": "forcePushed"}, {"oid": "9e3dde1ff4c846dbb5e540a3b528244232e0647c", "url": "https://github.com/apache/hbase/commit/9e3dde1ff4c846dbb5e540a3b528244232e0647c", "message": "HBASE-23997 Consider JDK11 in our support matrix\n\n* Add a section calling out our categorical lack of support for\n  non-LTS Java versions.\n* Provide clarification as to the meaning of the 'red x' in our\n  support matrix.\n* Transpose the support matrix to have HBase releases along the x-axis\n  and Java releases along the y-axis, because there are more Java\n  releases than HBase release categories.\n* Update the JDK11 status in the matrix.\n* Add a note qualifying our JDK11 support.\n\nSigned-off-by: Josh Elser <elserj@apache.org>\nSigned-off-by: Michael Stack <stack@apache.org>\nSigned-off-by: Jan Hentschel <jan.hentschel@ultratendency.com>\nSigned-off-by: Viraj Jasani <vjasani@apache.org>\nSigned-off-by: Sean Busbey <busbey@apache.org>", "committedDate": "2020-06-08T16:28:52Z", "type": "commit"}, {"oid": "9e3dde1ff4c846dbb5e540a3b528244232e0647c", "url": "https://github.com/apache/hbase/commit/9e3dde1ff4c846dbb5e540a3b528244232e0647c", "message": "HBASE-23997 Consider JDK11 in our support matrix\n\n* Add a section calling out our categorical lack of support for\n  non-LTS Java versions.\n* Provide clarification as to the meaning of the 'red x' in our\n  support matrix.\n* Transpose the support matrix to have HBase releases along the x-axis\n  and Java releases along the y-axis, because there are more Java\n  releases than HBase release categories.\n* Update the JDK11 status in the matrix.\n* Add a note qualifying our JDK11 support.\n\nSigned-off-by: Josh Elser <elserj@apache.org>\nSigned-off-by: Michael Stack <stack@apache.org>\nSigned-off-by: Jan Hentschel <jan.hentschel@ultratendency.com>\nSigned-off-by: Viraj Jasani <vjasani@apache.org>\nSigned-off-by: Sean Busbey <busbey@apache.org>", "committedDate": "2020-06-08T16:28:52Z", "type": "forcePushed"}]}