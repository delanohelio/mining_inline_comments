{"pr_number": 1298, "pr_title": "HBASE-24002 shadedjars check does not propagate --hadoop-profile", "pr_createdAt": "2020-03-17T19:38:14Z", "pr_url": "https://github.com/apache/hbase/pull/1298", "timeline": [{"oid": "676e11e9199f0476486b09574fd17200a7652e15", "url": "https://github.com/apache/hbase/commit/676e11e9199f0476486b09574fd17200a7652e15", "message": "tickle the build -- do not merge", "committedDate": "2020-03-17T20:39:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI0Njg5NA==", "url": "https://github.com/apache/hbase/pull/1298#discussion_r397246894", "bodyText": "Why is this one necessary?", "author": "HorizonNet", "createdAt": "2020-03-24T15:33:38Z", "path": "pom.xml", "diffHunk": "@@ -4200,4 +4200,5 @@\n       <url>file:///tmp</url>\n     </site>\n   </distributionManagement>\n+  <!-- tickle the build -->", "originalCommit": "676e11e9199f0476486b09574fd17200a7652e15", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI3ODY0NQ==", "url": "https://github.com/apache/hbase/pull/1298#discussion_r397278645", "bodyText": "It's only necessary to get the build bot to run the shadedjars test. Notice that it's in a separate commit, one that I will not merge.", "author": "ndimiduk", "createdAt": "2020-03-24T16:13:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI0Njg5NA=="}], "type": "inlineReview"}, {"oid": "cf76bfbcdbb277a7f8ea2b20cd9a50b7dba1d624", "url": "https://github.com/apache/hbase/commit/cf76bfbcdbb277a7f8ea2b20cd9a50b7dba1d624", "message": "HBASE-24002 shadedjars check does not propagate --hadoop-profile\n\nThis implementation is almost surely incorrect. Personality\ninitialization parses the `--hadoop-profile` argument and sets\n`HADOOP_PROFILE`. That value is then used to build an `extras` value\nthat is passed  along to module initialization. I'm guessing that the\n`extras` value need to be honored down in the shadedjars module. I'm\nnot clear on how to make that work (need to study the interfaces at\nplay here), so taking the more ham-handed approach of referring to\n`HADOOP_PROFILE`. I'm not sure if this will even work, or if it will\nonly work because the `foo_yetus.sh` scripts happen to use a variable\nof the same name.", "committedDate": "2020-03-24T16:26:49Z", "type": "forcePushed"}, {"oid": "ec44d0f05f5bdecc07938fab80074846a732456f", "url": "https://github.com/apache/hbase/commit/ec44d0f05f5bdecc07938fab80074846a732456f", "message": "HBASE-24002 shadedjars check does not propagate --hadoop-profile\n\nThis implementation is almost surely incorrect. Personality\ninitialization parses the `--hadoop-profile` argument and sets\n`HADOOP_PROFILE`. That value is then used to build an `extras` value\nthat is passed  along to module initialization. I'm guessing that the\n`extras` value need to be honored down in the shadedjars module. I'm\nnot clear on how to make that work (need to study the interfaces at\nplay here), so taking the more ham-handed approach of referring to\n`HADOOP_PROFILE`. I'm not sure if this will even work, or if it will\nonly work because the `foo_yetus.sh` scripts happen to use a variable\nof the same name.\n\nSigned-off-by: Jan Hentschel <jan.hentschel@ultratendency.com>\nSigned-off-by: stack <stack@apache.org>", "committedDate": "2020-03-24T16:27:55Z", "type": "commit"}, {"oid": "ec44d0f05f5bdecc07938fab80074846a732456f", "url": "https://github.com/apache/hbase/commit/ec44d0f05f5bdecc07938fab80074846a732456f", "message": "HBASE-24002 shadedjars check does not propagate --hadoop-profile\n\nThis implementation is almost surely incorrect. Personality\ninitialization parses the `--hadoop-profile` argument and sets\n`HADOOP_PROFILE`. That value is then used to build an `extras` value\nthat is passed  along to module initialization. I'm guessing that the\n`extras` value need to be honored down in the shadedjars module. I'm\nnot clear on how to make that work (need to study the interfaces at\nplay here), so taking the more ham-handed approach of referring to\n`HADOOP_PROFILE`. I'm not sure if this will even work, or if it will\nonly work because the `foo_yetus.sh` scripts happen to use a variable\nof the same name.\n\nSigned-off-by: Jan Hentschel <jan.hentschel@ultratendency.com>\nSigned-off-by: stack <stack@apache.org>", "committedDate": "2020-03-24T16:27:55Z", "type": "forcePushed"}]}