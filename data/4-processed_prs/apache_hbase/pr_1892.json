{"pr_number": 1892, "pr_title": "HBASE-24547 : Thrift support for HBASE-23941 (Operator support for get_slowlog_responses API)", "pr_createdAt": "2020-06-12T07:51:39Z", "pr_url": "https://github.com/apache/hbase/pull/1892", "timeline": [{"oid": "8b26c08a28cd65bb8e29127ad5150166c07f9667", "url": "https://github.com/apache/hbase/commit/8b26c08a28cd65bb8e29127ad5150166c07f9667", "message": "HBASE-24547 : Thrift support for HBASE-23941 (Operator support for get_slowlog_responses API)", "committedDate": "2020-06-12T07:49:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY3ODI0NQ==", "url": "https://github.com/apache/hbase/pull/1892#discussion_r439678245", "bodyText": "Use OR rather than the enum value?", "author": "bharathv", "createdAt": "2020-06-12T23:24:40Z", "path": "hbase-thrift/src/main/resources/org/apache/hadoop/hbase/thrift2/hbase.thrift", "diffHunk": "@@ -470,6 +475,7 @@ struct TLogQueryFilter {\n   4: optional string userName\n   5: optional i32 limit = 10\n   6: optional TLogType logType = 1\n+  7: optional TFilterByOperator filterByOperator = 2", "originalCommit": "8b26c08a28cd65bb8e29127ad5150166c07f9667", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f92093e141fa48d3c745be8ae1d87038c7f12b97", "url": "https://github.com/apache/hbase/commit/f92093e141fa48d3c745be8ae1d87038c7f12b97", "message": "addressing review", "committedDate": "2020-06-13T13:33:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk0Nzg2Mw==", "url": "https://github.com/apache/hbase/pull/1892#discussion_r439947863", "bodyText": "Umm, if we came this far, why not make an RPC and validate the result set too? :-)", "author": "bharathv", "createdAt": "2020-06-15T06:08:25Z", "path": "hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftHBaseServiceHandler.java", "diffHunk": "@@ -1767,6 +1769,12 @@ public void testSlowLogResponses() throws Exception {\n     clearedResponses.forEach(Assert::assertTrue);\n     TLogQueryFilter tLogQueryFilter = new TLogQueryFilter();\n     tLogQueryFilter.setLimit(15);\n+    Assert.assertEquals(tLogQueryFilter.getFilterByOperator(), TFilterByOperator.OR);\n+    LogQueryFilter logQueryFilter = ThriftUtilities.getSlowLogQueryFromThrift(tLogQueryFilter);", "originalCommit": "f92093e141fa48d3c745be8ae1d87038c7f12b97", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAxMTQzNQ==", "url": "https://github.com/apache/hbase/pull/1892#discussion_r440011435", "bodyText": "Ah I see, yes that is quite valid point :)\nHowever, the issue with testing this way is: For our case, we don't have any Add/Update API, we just have Get API, and the event that trigger Add event is something not in client test's control (only at RpcServer level, we have control to identify if an RPC call was slow/large by nature).", "author": "virajjasani", "createdAt": "2020-06-15T08:28:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk0Nzg2Mw=="}], "type": "inlineReview"}]}