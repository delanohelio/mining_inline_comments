{"pr_number": 2638, "pr_title": "HBASE-25255 Master fails to initialize when creating rs group table", "pr_createdAt": "2020-11-09T14:34:31Z", "pr_url": "https://github.com/apache/hbase/pull/2638", "timeline": [{"oid": "78791257a0c8651b65b359241090cd18444cb309", "url": "https://github.com/apache/hbase/commit/78791257a0c8651b65b359241090cd18444cb309", "message": "HBASE-25255 Master fails to initialize when creating rs group table", "committedDate": "2020-11-10T02:55:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUzMDgzMA==", "url": "https://github.com/apache/hbase/pull/2638#discussion_r522530830", "bodyText": "There are no NAMESPACE_TABLE now?", "author": "infraio", "createdAt": "2020-11-13T00:42:38Z", "path": "hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/CreateTableProcedure.java", "diffHunk": "@@ -236,8 +236,8 @@ protected void deserializeStateData(ProcedureStateSerializer serializer)\n \n   @Override\n   protected boolean waitInitialized(MasterProcedureEnv env) {\n-    if (getTableName().isSystemTable()) {\n-      // Creating system table is part of the initialization, so do not wait here.\n+    if (getTableName().equals(TableName.NAMESPACE_TABLE_NAME)) {", "originalCommit": "78791257a0c8651b65b359241090cd18444cb309", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU2MzcwOQ==", "url": "https://github.com/apache/hbase/pull/2638#discussion_r522563709", "bodyText": "For keeping the code same for both master and branch-2 for now, so it will be easy to cherry-pick to branch-2. Could open a follow on issue to remove it on master? Or I could open another PR for branch-2 after the master one is merged and added this check.", "author": "Apache9", "createdAt": "2020-11-13T02:08:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUzMDgzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY4NTM0Nw==", "url": "https://github.com/apache/hbase/pull/2638#discussion_r522685347", "bodyText": "OK, checked the code, on branch-2 we still do not need to create namespace before loading meta. The creation of namespace is in initClusterSchemaService, which is far after we finish loading meta...", "author": "Apache9", "createdAt": "2020-11-13T06:40:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUzMDgzMA=="}], "type": "inlineReview"}, {"oid": "f36ad5d51fc395beabc147a510dbb47c64134e2b", "url": "https://github.com/apache/hbase/commit/f36ad5d51fc395beabc147a510dbb47c64134e2b", "message": "HBASE-25255 Master fails to initialize when creating rs group table", "committedDate": "2020-11-13T02:37:16Z", "type": "commit"}, {"oid": "f36ad5d51fc395beabc147a510dbb47c64134e2b", "url": "https://github.com/apache/hbase/commit/f36ad5d51fc395beabc147a510dbb47c64134e2b", "message": "HBASE-25255 Master fails to initialize when creating rs group table", "committedDate": "2020-11-13T02:37:16Z", "type": "forcePushed"}]}