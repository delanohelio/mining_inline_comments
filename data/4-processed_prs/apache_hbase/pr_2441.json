{"pr_number": 2441, "pr_title": "HBASE-25085 Add support for java properties to hbase-vote.sh", "pr_createdAt": "2020-09-22T21:49:40Z", "pr_url": "https://github.com/apache/hbase/pull/2441", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIyNzI0MQ==", "url": "https://github.com/apache/hbase/pull/2441#discussion_r495227241", "bodyText": "[nit] should we add -Dsurefire.rerunFailingTestsCount=3 as part of the output?", "author": "taklwu", "createdAt": "2020-09-25T20:58:05Z", "path": "dev-support/hbase-vote.sh", "diffHunk": "@@ -164,11 +167,11 @@ function print_when_exit() {\n         * Signature: $( ((SIGNATURE_PASSED)) && echo \"ok\" || echo \"failed\" )\n         * Checksum : $( ((CHECKSUM_PASSED)) && echo \"ok\" || echo \"failed\" )\n         * Rat check (${JAVA_VERSION}): $( ((RAT_CHECK_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn clean apache-rat:check\n+         - mvn clean apache-rat:check \"${MVN_PROPERTIES}\"\n         * Built from source (${JAVA_VERSION}): $( ((BUILD_FROM_SOURCE_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn clean install -DskipTests\n+         - mvn clean install -DskipTests \"${MVN_PROPERTIES}\"\n         * Unit tests pass (${JAVA_VERSION}): $( ((UNIT_TEST_PASSED)) && echo \"ok\" || echo \"failed\" )\n-         - mvn package ${MVN_ARGS}\n+         - mvn package ${MVN_PROFILES} \"${MVN_PROPERTIES}\"", "originalCommit": "c0f0eb5658ca78cd3e7ea590a9e159a9543a78ab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIzMDY3Nw==", "url": "https://github.com/apache/hbase/pull/2441#discussion_r495230677", "bodyText": "We can if you'd like. Since it's a \"standard\" part of the script, I don't think there's much value in adding it. I also wonder if it should be removed from the mvn invocation; in my experience, the tests that are flakey are cluster tests, and cluster tests tend to not clean up after themselves well enough to have a surefire rerun launch in a valid environment -- usually the retries fail due to \"unable to start cluster\" or similar setup nonsense.", "author": "ndimiduk", "createdAt": "2020-09-25T21:06:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIyNzI0MQ=="}], "type": "inlineReview"}, {"oid": "2ee90d4ecd911ab44a0a23221557c3fcd0068ee2", "url": "https://github.com/apache/hbase/commit/2ee90d4ecd911ab44a0a23221557c3fcd0068ee2", "message": "HBASE-25085 Add support for java properties to hbase-vote.sh", "committedDate": "2020-09-25T21:10:24Z", "type": "forcePushed"}, {"oid": "f99c65988a8758ffb3b1743c8f24e6cebf1f3f55", "url": "https://github.com/apache/hbase/commit/f99c65988a8758ffb3b1743c8f24e6cebf1f3f55", "message": "HBASE-25085 Add support for java properties to hbase-vote.sh\n\nSigned-off-by: Viraj Jasani <virajjasani@apache.org>\nSigned-off-by: Jan Hentschel <janh@apache.org>\nSigned-off-by: Tak-Lon (Stephen) Wu <taklwu@apache.org>", "committedDate": "2020-09-25T21:13:22Z", "type": "commit"}, {"oid": "f99c65988a8758ffb3b1743c8f24e6cebf1f3f55", "url": "https://github.com/apache/hbase/commit/f99c65988a8758ffb3b1743c8f24e6cebf1f3f55", "message": "HBASE-25085 Add support for java properties to hbase-vote.sh\n\nSigned-off-by: Viraj Jasani <virajjasani@apache.org>\nSigned-off-by: Jan Hentschel <janh@apache.org>\nSigned-off-by: Tak-Lon (Stephen) Wu <taklwu@apache.org>", "committedDate": "2020-09-25T21:13:22Z", "type": "forcePushed"}]}