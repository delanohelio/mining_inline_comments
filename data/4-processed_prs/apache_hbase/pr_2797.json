{"pr_number": 2797, "pr_title": "HBASE-25425 Some notes on RawCell", "pr_createdAt": "2020-12-21T04:26:20Z", "pr_url": "https://github.com/apache/hbase/pull/2797", "timeline": [{"oid": "ed3cb628a2b3cf017a44caca7d3ca1e31e6901ad", "url": "https://github.com/apache/hbase/commit/ed3cb628a2b3cf017a44caca7d3ca1e31e6901ad", "message": "HBASE-25425 Some notes on RawCell", "committedDate": "2020-12-21T04:25:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjU5NTA5Mw==", "url": "https://github.com/apache/hbase/pull/2797#discussion_r546595093", "bodyText": "Ok so RawCell.cloneTags() internally refers PrivateCellUtil.cloneTags(cell) only, hence the removal and same is applicable to above methods.", "author": "virajjasani", "createdAt": "2020-12-21T09:21:51Z", "path": "hbase-client/src/main/java/org/apache/hadoop/hbase/client/Mutation.java", "diffHunk": "@@ -1000,25 +999,16 @@ public byte getTypeByte() {\n \n     @Override\n     public Optional<Tag> getTag(byte type) {\n-      if (cell instanceof RawCell) {\n-        return ((RawCell) cell).getTag(type);\n-      }\n       return PrivateCellUtil.getTag(cell, type);\n     }\n \n     @Override\n     public Iterator<Tag> getTags() {\n-      if (cell instanceof RawCell) {\n-        return ((RawCell) cell).getTags();\n-      }\n       return PrivateCellUtil.tagsIterator(cell);\n     }\n \n     @Override\n     public byte[] cloneTags() {\n-      if (cell instanceof RawCell) {\n-        return ((RawCell) cell).cloneTags();", "originalCommit": "ed3cb628a2b3cf017a44caca7d3ca1e31e6901ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc5MTczMg==", "url": "https://github.com/apache/hbase/pull/2797#discussion_r546791732", "bodyText": "Yes.\nTrivial change. Just shrinking the use of RawCell so it more obvious it is only needed in one location. Its weird having RawCell out in the client module when internally it is just doing the PrivateCellUtil method anyways.\nI think this circumstance came about innocently after going back over git history... This was just not noticed before this.", "author": "saintstack", "createdAt": "2020-12-21T16:07:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjU5NTA5Mw=="}], "type": "inlineReview"}]}