{"pr_number": 1708, "pr_title": "HBASE-19577 Use log4j2 instead of log4j for logging", "pr_createdAt": "2020-05-13T15:56:10Z", "pr_url": "https://github.com/apache/hbase/pull/1708", "timeline": [{"oid": "68ef6343ada228ddf996c978f6a0b24deea19144", "url": "https://github.com/apache/hbase/commit/68ef6343ada228ddf996c978f6a0b24deea19144", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2020-05-14T03:29:47Z", "type": "forcePushed"}, {"oid": "4325225a574b8208f45420680a3dd4a54d776822", "url": "https://github.com/apache/hbase/commit/4325225a574b8208f45420680a3dd4a54d776822", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2020-05-15T02:07:21Z", "type": "forcePushed"}, {"oid": "2b5c78149827d4d7d6e2bbbc2379ac5012fe087b", "url": "https://github.com/apache/hbase/commit/2b5c78149827d4d7d6e2bbbc2379ac5012fe087b", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2020-05-17T12:39:52Z", "type": "forcePushed"}, {"oid": "afaf0dbb6cc3bd26c0e541f7e8ed9c9ecf48f90a", "url": "https://github.com/apache/hbase/commit/afaf0dbb6cc3bd26c0e541f7e8ed9c9ecf48f90a", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2020-09-15T15:33:40Z", "type": "forcePushed"}, {"oid": "acc4dec30fedda2ad7f2877bfaacf4110cbfea2a", "url": "https://github.com/apache/hbase/commit/acc4dec30fedda2ad7f2877bfaacf4110cbfea2a", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-15T06:23:46Z", "type": "forcePushed"}, {"oid": "b653056f5e4621df65147d495137e8be6c59f4fd", "url": "https://github.com/apache/hbase/commit/b653056f5e4621df65147d495137e8be6c59f4fd", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-15T09:37:36Z", "type": "forcePushed"}, {"oid": "511d080dd9ba19032aa73a983c78048093e3bb6f", "url": "https://github.com/apache/hbase/commit/511d080dd9ba19032aa73a983c78048093e3bb6f", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-15T15:06:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDU0OA==", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594634548", "bodyText": "Make a function of this filtering so don't have to repeat code?", "author": "saintstack", "createdAt": "2021-03-15T19:45:24Z", "path": "bin/hbase", "diffHunk": "@@ -658,7 +663,10 @@ elif [ \"$COMMAND\" = \"mapredcp\" ] ; then\n     for f in \"${HBASE_HOME}\"/lib/client-facing-thirdparty/*.jar; do\n       if [[ ! \"${f}\" =~ ^.*/htrace-core-3.*\\.jar$ ]] && \\\n          [ \"${f}\" != \"htrace-core.jar$\" ] && \\\n-         [[ ! \"${f}\" =~ ^.*/slf4j-log4j.*$ ]]; then\n+         [[ ! \"${f}\" =~ ^.*/log4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/slf4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/jcl-over-slf4j.*$ ]] && \\\n+         [[ ! \"${f}\" =~ ^.*/jul-to-slf4j.*$ ]]; then", "originalCommit": "511d080dd9ba19032aa73a983c78048093e3bb6f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDc4NDY0MA==", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594784640", "bodyText": "Let me check this.", "author": "Apache9", "createdAt": "2021-03-16T00:43:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDU0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA==", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594634828", "bodyText": "Yeah, incompatible change but good for hbase3 I'd say.", "author": "saintstack", "createdAt": "2021-03-15T19:45:48Z", "path": "bin/hbase", "diffHunk": "@@ -775,25 +783,31 @@ HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.dir=$HBASE_LOG_DIR\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.log.file=$HBASE_LOGFILE\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.home.dir=$HBASE_HOME\"\n HBASE_OPTS=\"$HBASE_OPTS -Dhbase.id.str=$HBASE_IDENT_STRING\"\n-HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger=${HBASE_ROOT_LOGGER:-INFO,console}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.level=${HBASE_ROOT_LOGGER_LEVEL:-INFO}\"\n+HBASE_OPTS=\"$HBASE_OPTS -Dhbase.root.logger.appender=${HBASE_ROOT_LOGGER_APPENDER:-console}\"", "originalCommit": "511d080dd9ba19032aa73a983c78048093e3bb6f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNTUwMg==", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594635502", "bodyText": "If HBASE_ROOT_LOGGER defined, do you want to try parsing it and using result to populate HBASE_ROOT_LOGGER_LEVEL, etc.", "author": "saintstack", "createdAt": "2021-03-15T19:46:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDc4NDY4Mw==", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594784683", "bodyText": "Let me try...", "author": "Apache9", "createdAt": "2021-03-16T00:43:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDc5MjU3Mg==", "url": "https://github.com/apache/hbase/pull/1708#discussion_r594792572", "bodyText": "Seems log4j2 also supports properties files in newer versions now. Let me see if we could use a property file so we could still use the old config pattern.", "author": "Apache9", "createdAt": "2021-03-16T01:07:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NDYzNDgyOA=="}], "type": "inlineReview"}, {"oid": "b77ac898942f5c91da35513554a1c2043fe59068", "url": "https://github.com/apache/hbase/commit/b77ac898942f5c91da35513554a1c2043fe59068", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-16T01:06:37Z", "type": "forcePushed"}, {"oid": "63e8dbfe3bae38d74a013a1071e04c23f52ae3a0", "url": "https://github.com/apache/hbase/commit/63e8dbfe3bae38d74a013a1071e04c23f52ae3a0", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-16T10:37:34Z", "type": "forcePushed"}, {"oid": "dfda58cf38843c4547a41999f94cdb7147e6374c", "url": "https://github.com/apache/hbase/commit/dfda58cf38843c4547a41999f94cdb7147e6374c", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-16T16:24:08Z", "type": "forcePushed"}, {"oid": "ddedfe22610128de36aabbcafcabf2687f837017", "url": "https://github.com/apache/hbase/commit/ddedfe22610128de36aabbcafcabf2687f837017", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-17T15:58:53Z", "type": "forcePushed"}, {"oid": "7dbe73daec66837e17bd0d8406f09314e105282b", "url": "https://github.com/apache/hbase/commit/7dbe73daec66837e17bd0d8406f09314e105282b", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-18T13:17:24Z", "type": "forcePushed"}, {"oid": "0e458fbf7de566ec069c6e9e7d7824e0d75a432c", "url": "https://github.com/apache/hbase/commit/0e458fbf7de566ec069c6e9e7d7824e0d75a432c", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-18T15:38:16Z", "type": "forcePushed"}, {"oid": "7902b3a609bb5ca0d4d232a92fde7e32bd69983a", "url": "https://github.com/apache/hbase/commit/7902b3a609bb5ca0d4d232a92fde7e32bd69983a", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-19T09:20:42Z", "type": "forcePushed"}, {"oid": "fb3d0f74abd6f61438a0bd2c1ac23409c58e5a58", "url": "https://github.com/apache/hbase/commit/fb3d0f74abd6f61438a0bd2c1ac23409c58e5a58", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-19T13:36:14Z", "type": "commit"}, {"oid": "fb3d0f74abd6f61438a0bd2c1ac23409c58e5a58", "url": "https://github.com/apache/hbase/commit/fb3d0f74abd6f61438a0bd2c1ac23409c58e5a58", "message": "HBASE-19577 Use log4j2 instead of log4j for logging", "committedDate": "2021-03-19T13:36:14Z", "type": "forcePushed"}]}