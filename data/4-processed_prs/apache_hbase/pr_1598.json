{"pr_number": 1598, "pr_title": "HBASE-24266 Add document of hbase building on aarch64", "pr_createdAt": "2020-04-28T02:25:14Z", "pr_url": "https://github.com/apache/hbase/pull/1598", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY4MjM3Mw==", "url": "https://github.com/apache/hbase/pull/1598#discussion_r416682373", "bodyText": "Hbase -> HBase", "author": "Apache9", "createdAt": "2020-04-28T14:56:31Z", "path": "src/main/asciidoc/_chapters/developer.adoc", "diffHunk": "@@ -503,6 +503,40 @@ If you see `Unable to find resource 'VM_global_library.vm'`, ignore it.\n It's not an error.\n It is link:https://issues.apache.org/jira/browse/MSITE-286[officially ugly] though.\n \n+[[build.on.linux.aarch64]]\n+=== Build On Linux Aarch64\n+Hbase runs on both Windows and UNIX-like systems, and it should run on any platform ", "originalCommit": "0f186ae7f6c6e3d5c4573a7741e93e9af066975f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAyMTc1NQ==", "url": "https://github.com/apache/hbase/pull/1598#discussion_r417021755", "bodyText": "Done.", "author": "huangtianhua", "createdAt": "2020-04-29T01:38:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY4MjM3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY4NDg4Nw==", "url": "https://github.com/apache/hbase/pull/1598#discussion_r416684887", "bodyText": "On master branch we do not depend on protoc-2.5.0 any more? We only depend on protobuf-java 2.5.0 as the hadoop we depend on still uses protobuf-2.5.0.", "author": "Apache9", "createdAt": "2020-04-28T14:59:37Z", "path": "src/main/asciidoc/_chapters/developer.adoc", "diffHunk": "@@ -503,6 +503,40 @@ If you see `Unable to find resource 'VM_global_library.vm'`, ignore it.\n It's not an error.\n It is link:https://issues.apache.org/jira/browse/MSITE-286[officially ugly] though.\n \n+[[build.on.linux.aarch64]]\n+=== Build On Linux Aarch64\n+Hbase runs on both Windows and UNIX-like systems, and it should run on any platform \n+that runs a supported version of Java. This should include JVMs on x86_64 and aarch64. \n+The documentation below describes how to build hbase on aarch64 platform.\n+\n+==== Set Environment Variables\n+Manually install Java and Maven on aarch64 servers if they are not installed, \n+and set environment variables. For example:\n+\n+[source,bourne]\n+----\n+export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-arm64\n+export MAVEN_HOME=/opt/maven\n+export PATH=${MAVEN_HOME}/bin:${JAVA_HOME}/bin:${PATH}\n+----\n+\n+==== Use Protobuf Supported On Aarch64\n+Now hbase uses protobuf of two versions. Version '3.11.4' of protobuf that hbase uses \n+internally and version '2.5.0' as external usage. \n+Package protobuf-2.5.0 does not work on aarch64 platform, we should add maven ", "originalCommit": "0f186ae7f6c6e3d5c4573a7741e93e9af066975f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAzMjY4Nw==", "url": "https://github.com/apache/hbase/pull/1598#discussion_r417032687", "bodyText": "I think now we use protoc 2.5.0 on master, see:\n\n  \n    \n      hbase/pom.xml\n    \n    \n         Line 927\n      in\n      bc9184e\n    \n    \n    \n    \n\n        \n          \n           <protocArtifact>${external.protobuf.groupid}:protoc:${external.protobuf.version}:exe:${os.detected.classifier}</protocArtifact> \n        \n    \n  \n\n\nthe profile \u2018-Paarch64\u2019 is only to use protoc 2.50 of openlabtesting.\nAnd we use protobuf-java 2.50 on mater too.\nOr if I missed something?", "author": "huangtianhua", "createdAt": "2020-04-29T02:24:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY4NDg4Nw=="}], "type": "inlineReview"}, {"oid": "898ead3c5e916f09b9f2b7afa512e028130b2047", "url": "https://github.com/apache/hbase/commit/898ead3c5e916f09b9f2b7afa512e028130b2047", "message": "HBase-24266 Add document of hbase building on aarch64", "committedDate": "2020-04-29T02:26:19Z", "type": "commit"}, {"oid": "898ead3c5e916f09b9f2b7afa512e028130b2047", "url": "https://github.com/apache/hbase/commit/898ead3c5e916f09b9f2b7afa512e028130b2047", "message": "HBase-24266 Add document of hbase building on aarch64", "committedDate": "2020-04-29T02:26:19Z", "type": "forcePushed"}]}