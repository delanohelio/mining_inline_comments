{"pr_number": 1064, "pr_title": "HBASE-23707 Add IntelliJ check style plugin configuration", "pr_createdAt": "2020-01-18T01:36:04Z", "pr_url": "https://github.com/apache/hbase/pull/1064", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5ODE0MQ==", "url": "https://github.com/apache/hbase/pull/1064#discussion_r368198141", "bodyText": "I think this should be \"JavaOnlyWithTests\"..", "author": "bharathv", "createdAt": "2020-01-18T01:56:49Z", "path": ".idea/checkstyle-idea.xml", "diffHunk": "@@ -0,0 +1,16 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"CheckStyle-IDEA\">\n+    <option name=\"configuration\">\n+      <map>\n+        <entry key=\"checkstyle-version\" value=\"8.28\" />\n+        <entry key=\"copy-libs\" value=\"false\" />\n+        <entry key=\"location-0\" value=\"BUNDLED:(bundled):Sun Checks\" />\n+        <entry key=\"location-1\" value=\"BUNDLED:(bundled):Google Checks\" />\n+        <entry key=\"scan-before-checkin\" value=\"false\" />\n+        <entry key=\"scanscope\" value=\"JavaOnly\" />", "originalCommit": "2f75f1ca90ed1fc93fdc97b5b934542941054ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIwNzQxNQ==", "url": "https://github.com/apache/hbase/pull/1064#discussion_r369207415", "bodyText": "IIRC, our POM is configured to ignore tests at the moment. I think we can/should be more strict, but that's not what we're starting from. Maybe it's worth discussing with @busbey and @HorizonNet ; I think those two have done the most work with Checkstyle, as far as I am aware.\nGiven we don't error out the build on violations, I think it would be fine to cover the test code.", "author": "ndimiduk", "createdAt": "2020-01-21T19:47:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5ODE0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIxMTQ1Nw==", "url": "https://github.com/apache/hbase/pull/1064#discussion_r369211457", "bodyText": "We are less strict with some rules when it comes to tests, but they are still scanned by Checkstyle. With that it should be JavaOnlyWithTests.", "author": "HorizonNet", "createdAt": "2020-01-21T19:55:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5ODE0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIzOTA3Mg==", "url": "https://github.com/apache/hbase/pull/1064#discussion_r369239072", "bodyText": "IRC, our POM is configured to ignore tests at the moment.\n\nNot totally sure about this. Here [1] is one instance where a test file is flagged by the checkstyle bot.\n[1] https://builds.apache.org/job/HBase-PreCommit-GitHub-PR/job/PR-1039/2/artifact/out/diff-checkstyle-hbase-server.txt", "author": "bharathv", "createdAt": "2020-01-21T20:57:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5ODE0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5ODIxMw==", "url": "https://github.com/apache/hbase/pull/1064#discussion_r368198213", "bodyText": "Shouldn't we include the path for active configuration? Something like below, otherwise how does it hook up with our check style configuration? Something like below..\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"CheckStyle-IDEA\">\n    <option name=\"configuration\">\n      <map>\n        <entry key=\"active-configuration\" value=\"LOCAL_FILE:$PROJECT_DIR$/hbase-checkstyle/src/main/resources/hbase/checkstyle.xml:hbase\" />\n        <entry key=\"checkstyle-version\" value=\"8.10.1\" />\n        <entry key=\"copy-libs\" value=\"false\" />\n        <entry key=\"location-0\" value=\"BUNDLED:(bundled):Sun Checks\" />\n        <entry key=\"location-1\" value=\"BUNDLED:(bundled):Google Checks\" />\n        <entry key=\"location-2\" value=\"LOCAL_FILE:$PROJECT_DIR$/hbase-checkstyle/src/main/resources/hbase/checkstyle.xml:hbase\" />\n        <entry key=\"scan-before-checkin\" value=\"false\" />\n        <entry key=\"scanscope\" value=\"JavaOnlyWithTests\" />\n        <entry key=\"suppress-errors\" value=\"false\" />\n      </map>\n    </option>\n  </component>\n</project>", "author": "bharathv", "createdAt": "2020-01-18T01:58:05Z", "path": ".idea/checkstyle-idea.xml", "diffHunk": "@@ -0,0 +1,16 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project version=\"4\">\n+  <component name=\"CheckStyle-IDEA\">\n+    <option name=\"configuration\">\n+      <map>\n+        <entry key=\"checkstyle-version\" value=\"8.28\" />", "originalCommit": "2f75f1ca90ed1fc93fdc97b5b934542941054ff2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTIwNjIyNA==", "url": "https://github.com/apache/hbase/pull/1064#discussion_r369206224", "bodyText": "Yes I think we aught... I thought it was included here. I need to review my IDE configs. Will be back.", "author": "ndimiduk", "createdAt": "2020-01-21T19:45:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5ODIxMw=="}], "type": "inlineReview"}, {"oid": "3c54f14ea4d8f326bb9c916631ac5efb81a60156", "url": "https://github.com/apache/hbase/commit/3c54f14ea4d8f326bb9c916631ac5efb81a60156", "message": "HBASE-23707 Add IntelliJ check style plugin configuration", "committedDate": "2020-01-24T23:35:06Z", "type": "commit"}, {"oid": "4f55599330a74f03a4887811ce5fa91433f9a3c6", "url": "https://github.com/apache/hbase/commit/4f55599330a74f03a4887811ce5fa91433f9a3c6", "message": "PR feedback", "committedDate": "2020-01-24T23:35:06Z", "type": "commit"}, {"oid": "4f55599330a74f03a4887811ce5fa91433f9a3c6", "url": "https://github.com/apache/hbase/commit/4f55599330a74f03a4887811ce5fa91433f9a3c6", "message": "PR feedback", "committedDate": "2020-01-24T23:35:06Z", "type": "forcePushed"}]}