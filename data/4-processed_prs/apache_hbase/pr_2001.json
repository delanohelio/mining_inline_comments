{"pr_number": 2001, "pr_title": "HBASE-24572 release scripts should try to use a keyid when refering to GPG keys.", "pr_createdAt": "2020-06-30T05:00:52Z", "pr_url": "https://github.com/apache/hbase/pull/2001", "timeline": [{"oid": "19d1df6f841bf8d527bc95764163c96edd50430b", "url": "https://github.com/apache/hbase/commit/19d1df6f841bf8d527bc95764163c96edd50430b", "message": "HBASE-24572 release scripts should try to use a keyid when refering to GPG keys.", "committedDate": "2020-06-30T04:56:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NDE4MQ==", "url": "https://github.com/apache/hbase/pull/2001#discussion_r449284181", "bodyText": "missing closing brace on [y/n?", "author": "ndimiduk", "createdAt": "2020-07-02T21:58:20Z", "path": "dev-support/create-release/release-util.sh", "diffHunk": "@@ -236,6 +236,14 @@ function get_release_info {\n \n   GIT_EMAIL=\"$ASF_USERNAME@apache.org\"\n   GPG_KEY=\"$(read_config \"GPG_KEY\" \"$GIT_EMAIL\")\"\n+  if ! GPG_KEY_ID=$(\"${GPG}\" \"${GPG_ARGS[@]}\" --keyid-format 0xshort --list-public-key \"${GPG_KEY}\" | grep \"\\[S\\]\" | grep -o \"0x[0-9A-F]*\") ||\n+      [ -z \"${GPG_KEY_ID}\" ] ; then\n+    GPG_KEY_ID=$(\"${GPG}\" \"${GPG_ARGS[@]}\" --keyid-format 0xshort --list-public-key \"${GPG_KEY}\" | head -n 1 | grep -o \"0x[0-9A-F]*\" || true)\n+  fi\n+  read -r -p \"We think the key '${GPG_KEY}' corresponds to the key id '${GPG_KEY_ID}'. Is this correct [y/n? \" ANSWER", "originalCommit": "19d1df6f841bf8d527bc95764163c96edd50430b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e4593b88543473af43d55fb2c733846dc1226956", "url": "https://github.com/apache/hbase/commit/e4593b88543473af43d55fb2c733846dc1226956", "message": "addendum to fix the GPG KEY ID prompt", "committedDate": "2020-07-02T22:28:26Z", "type": "commit"}]}