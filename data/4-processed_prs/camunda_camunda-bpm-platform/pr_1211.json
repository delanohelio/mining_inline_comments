{"pr_number": 1211, "pr_title": "[CAM-12911] chore(model-api): fix OSGi metadata", "pr_createdAt": "2020-12-17T01:22:00Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/1211", "timeline": [{"oid": "d2ae9dc379034c8c8f9dac59794c24c8caf0853d", "url": "https://github.com/camunda/camunda-bpm-platform/commit/d2ae9dc379034c8c8f9dac59794c24c8caf0853d", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911", "committedDate": "2020-12-17T01:34:26Z", "type": "forcePushed"}, {"oid": "50e60bcaf59b1833141bea293490cc37af968c44", "url": "https://github.com/camunda/camunda-bpm-platform/commit/50e60bcaf59b1833141bea293490cc37af968c44", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911", "committedDate": "2020-12-17T06:09:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxNDcwMA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544914700", "bodyText": "When I create the artifact in its current state (without the change made here) I cannot see any scala.* entry in the Import-Package directive of the manifest file. I can only see camundajar.impl.scala.* entries in the Export-Package directive related to uses attributes. Would you mind explaining why this is necessary here?", "author": "tmetzke", "createdAt": "2020-12-17T08:53:37Z", "path": "engine-dmn/engine/pom.xml", "diffHunk": "@@ -110,6 +112,7 @@\n           <instructions>\n             <Import-Package>\n               org.junit*;resolution:=optional,\n+              scala.*;resolution:=optional,", "originalCommit": "50e60bcaf59b1833141bea293490cc37af968c44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxOTI3NQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544919275", "bodyText": "Since this property is not referenced anywhere yet, I am not entirely sure what you are intending to do with it. However, please make sure this property is not colliding with the current definition of the bundle plugin further down in this file as we do specifically exclude some *.impl.* packages from the export directive.", "author": "tmetzke", "createdAt": "2020-12-17T09:00:20Z", "path": "engine-dmn/feel-juel/pom.xml", "diffHunk": "@@ -15,6 +15,7 @@\n     <!-- We shade artifacts into the jar, so we need to generate \n     a dependency BOM for the license book -->\n     <skip-third-party-bom>false</skip-third-party-bom>\n+    <camunda.artifact>org.camunda.bpm.dmn.feel.impl.juel</camunda.artifact>", "originalCommit": "50e60bcaf59b1833141bea293490cc37af968c44", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTUxMjk1NQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r545512955", "bodyText": "Hello @tmetzke ,\nIf you refer to this code https://github.com/camunda/camunda-bpm-platform/blob/master/parent/pom.xml#L81, the code is commented, and all packages are exported.\n<camunda.osgi.export.pkg>${camunda.artifact}*</camunda.osgi.export.pkg>\nRelated issue CAM-12444", "author": "agustino-lim", "createdAt": "2020-12-18T01:26:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkxOTI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyMTE2OQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544921169", "bodyText": "As mentioned in engine-dmn/engine/pom.xml, I am not entirely sure yet if this is necessary as I cannot see any entries of scala.* in the import directive but rather only camundajar.impl.scala.* entries in uses attributes in the export directive.", "author": "tmetzke", "createdAt": "2020-12-17T09:03:14Z", "path": "engine-dmn/feel-scala/pom.xml", "diffHunk": "@@ -64,4 +68,30 @@\n \n   </dependencies>\n \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.felix</groupId>\n+        <artifactId>maven-bundle-plugin</artifactId>\n+        <configuration>\n+          <instructions>\n+            <Import-Package>\n+              !scala.*,", "originalCommit": "50e60bcaf59b1833141bea293490cc37af968c44", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIzNjA4MQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r545236081", "bodyText": "Yes, you're right, excluding scala package is not correct. Unfortunately package camundajar.impl.scala.* from feel-engine-.jar is not an OSGi bundle. So we should convert feel-engine.jar to OSGi bundle as well.", "author": "agustino-lim", "createdAt": "2020-12-17T16:42:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyMTE2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY4OTYxMg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r545689612", "bodyText": "If you like, you can open another ticket in our tracker and provide a PR to add such a capability in the respective project. I would consider this out of scope of this ticket here.", "author": "tmetzke", "createdAt": "2020-12-18T09:11:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyMTE2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyMjIwOA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r544922208", "bodyText": "Would you mind explaining why you would want to exclude org.camunda.feel.* from import? It is a required dependency of this module as far as I know, therefore I do not yet understand why it should be excluded here.", "author": "tmetzke", "createdAt": "2020-12-17T09:04:48Z", "path": "engine-dmn/feel-scala/pom.xml", "diffHunk": "@@ -64,4 +68,30 @@\n \n   </dependencies>\n \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.felix</groupId>\n+        <artifactId>maven-bundle-plugin</artifactId>\n+        <configuration>\n+          <instructions>\n+            <Import-Package>\n+              !scala.*,\n+              !org.camunda.feel.*,", "originalCommit": "50e60bcaf59b1833141bea293490cc37af968c44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "url": "https://github.com/camunda/camunda-bpm-platform/commit/80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911", "committedDate": "2020-12-18T08:15:16Z", "type": "commit"}, {"oid": "80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "url": "https://github.com/camunda/camunda-bpm-platform/commit/80d4ecf9ad7d19a3bfe7eb5388c83b958c0f3de1", "message": "chore(model-api): fix OSGi metadata\n\n* Define proper camunda artifact name in sub module\n\nRelated to CAM-12911", "committedDate": "2020-12-18T08:15:16Z", "type": "forcePushed"}, {"oid": "59a8265451e31d4c963e0f73c647e01af1da2b6a", "url": "https://github.com/camunda/camunda-bpm-platform/commit/59a8265451e31d4c963e0f73c647e01af1da2b6a", "message": "chore(model-api): fix OSGi metadata\n\n* Define symbolic name using camunda.artifact property.", "committedDate": "2020-12-18T13:47:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzI3OA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r551757278", "bodyText": "I am wondering if we can use the camunda.osgi.import.additional element here as well to define !javax.activation?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <camunda.osgi.import.pkg>\n          \n          \n            \n                  !javax.activation,\n          \n          \n            \n                  *\n          \n          \n            \n                </camunda.osgi.import.pkg>\n          \n          \n            \n                <camunda.osgi.import.additional>\n          \n          \n            \n                  !javax.activation\n          \n          \n            \n                </camunda.osgi.import.additional>", "author": "tmetzke", "createdAt": "2021-01-05T07:25:31Z", "path": "typed-values/pom.xml", "diffHunk": "@@ -24,7 +24,13 @@\n       </dependency>\n     </dependencies>\n   </dependencyManagement>\n-\n+  <properties>\n+    <camunda.artifact>org.camunda.bpm.engine.variable</camunda.artifact>\n+    <camunda.osgi.import.pkg>\n+      !javax.activation,\n+      *\n+    </camunda.osgi.import.pkg>", "originalCommit": "59a8265451e31d4c963e0f73c647e01af1da2b6a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r551757558", "bodyText": "Could you shortly detail why you would want to remove that part?", "author": "tmetzke", "createdAt": "2021-01-05T07:26:20Z", "path": "parent/pom.xml", "diffHunk": "@@ -71,7 +71,6 @@\n       ${camunda.osgi.import.before.defaults},\n       ${camunda.osgi.import.defaults},\n       ${camunda.osgi.import.additional},\n-      org.camunda.*;${camunda.osgi.import.camunda.version},", "originalCommit": "59a8265451e31d4c963e0f73c647e01af1da2b6a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM4NzkxMw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r552387913", "bodyText": "This is unnecessary import package because it has been handled by * in this property\n\ncamunda.osgi.import.pkg\n\nWhen you have that import in camunda.osgi.import.pkg, it will cause an OutOfMemoryError\n[ERROR] Java heap space -> [Help 1]\njava.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf (Arrays.java:3332)\n    at java.lang.AbstractStringBuilder.ensureCapacityInternal (AbstractStringBuilder.java:124)\n    at java.lang.AbstractStringBuilder.append (AbstractStringBuilder.java:448)\n    at java.lang.StringBuilder.append (StringBuilder.java:136)\n    at java.lang.StringBuilder.append (StringBuilder.java:76)\n    at java.lang.AbstractStringBuilder.append (AbstractStringBuilder.java:484)\n    at java.lang.StringBuilder.append (StringBuilder.java:166)\n    at java.lang.StringBuilder.append (StringBuilder.java:76)\n    at aQute.bnd.osgi.Processor.report (Processor.java:1678)\n    at aQute.bnd.osgi.Processor.toString (Processor.java:2114)\n    at java.util.Formatter$FormatSpecifier.printString (Formatter.java:2886)\n    at java.util.Formatter$FormatSpecifier.print (Formatter.java:2763)\n    at java.util.Formatter.format (Formatter.java:2520)\n    at java.util.Formatter.format (Formatter.java:2455)\n    at java.lang.String.format (String.java:2940)\n    at aQute.bnd.osgi.Processor.formatArrays (Processor.java:1784)\n    at aQute.bnd.osgi.Processor.warning (Processor.java:169)\n    at aQute.bnd.osgi.Macro.replace (Macro.java:217)\n    at aQute.bnd.osgi.Macro.process (Macro.java:62)\n    at aQute.bnd.osgi.Macro.process (Macro.java:78)\n    at aQute.bnd.osgi.Macro.process (Macro.java:48)\n    at aQute.bnd.osgi.Macro.process (Macro.java:43)\n    at aQute.bnd.osgi.Macro.process (Macro.java:1139)\n    at aQute.bnd.osgi.Analyzer.applyVersionPolicy (Analyzer.java:1644)\n    at aQute.bnd.osgi.Analyzer.augmentImports (Analyzer.java:1602)\n    at aQute.bnd.osgi.Analyzer.analyze (Analyzer.java:268)\n    at aQute.bnd.osgi.Builder.analyze (Builder.java:343)\n    at aQute.bnd.osgi.Analyzer.calcManifest (Analyzer.java:616)\n    at aQute.bnd.osgi.Builder.build (Builder.java:80)\n    at org.apache.felix.bundleplugin.ManifestPlugin.getAnalyzer (ManifestPlugin.java:208)\n    at org.apache.felix.bundleplugin.ManifestPlugin.getManifest (ManifestPlugin.java:114)\n    at org.apache.felix.bundleplugin.ManifestPlugin.execute (ManifestPlugin.java:69)", "author": "agustino-lim", "createdAt": "2021-01-06T06:08:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE1MDYxNQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r553150615", "bodyText": "As far as I understand, this line explicitly make sure that all camunda-related dependencies (if not defined otherwise explicitly) are consumed in the defined version. If we remove it, the versions of those dependencies are not fixed, are they?", "author": "tmetzke", "createdAt": "2021-01-07T07:24:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDg5MDEyNA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r554890124", "bodyText": "@tmetzke ,\nYes you're right. By default maven bundle plugin will calculate the range of import package. Please refer to this link https://bnd.bndtools.org/heads/import_package.html.\nLet's say the version project is 7.15, the plugin will generate import package with version [7.15, 8). Unless you want to support lower version than 7.15, I don't see a need to explicitly specify the range version.", "author": "agustino-lim", "createdAt": "2021-01-11T08:40:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDg5Nzg2Ng==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r554897866", "bodyText": "So, a Camunda artifact will then use the newest version of other Camunda artifacts it can find that are greater than the minimum but not yet 8.x. This would imply that a 7.15 artifact could use a 7.16 or 7.17 artifact if it can find one, right? As far as I understand or current description, we ensure the artifacts use tested and compatible versions of other artifacts. This would be removed with the proposed change, wouldn't it?", "author": "tmetzke", "createdAt": "2021-01-11T08:56:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDkxMDM2Ng==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r554910366", "bodyText": "The OSGi default is importing with range that agree to semantic versioning. Previously it force the exact minor version of camunda that does not allow to get update from one bundle with the desiderate feature/fix. Keep in mind that the restriction you force in the manifest is valid only in OSGi but in any other J2EE enviroment you can mix the bundle you want.\nThe properties system you used if very very complicated to read and also to handle (maybe the reason before was embedded), the resolution of that specific property causes the OOM in this maven plugin version and different error (property is never resolved to their final value) with most recent plugin version 5.1.1.\nWhat could we do in this case?", "author": "nfalco79", "createdAt": "2021-01-11T09:20:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA0NzU1Mw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555047553", "bodyText": "Hey Nikolas, thanks for that input. If you are fine with taking care of the versions yourself, removing this will work for us. You are right with that option being present in other environments like in J2EE use cases. Plus, if this poses an issue currently, we are also happy to resolve it with this move.", "author": "tmetzke", "createdAt": "2021-01-11T13:31:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1NzU1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1ODI5OQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r551758299", "bodyText": "This module is the only one where this is defined as an exclusion although all model-related modules contain such a package. Could you go into more detail why this is needed here?", "author": "tmetzke", "createdAt": "2021-01-05T07:28:31Z", "path": "model-api/bpmn-model/pom.xml", "diffHunk": "@@ -13,7 +13,13 @@\n \n   <name>camunda BPM - BPMN Model API</name>\n   <inceptionYear>2014</inceptionYear>\n-\n+  <properties>\n+    <camunda.artifact>org.camunda.bpm.model.bpmn</camunda.artifact>\n+    <camunda.osgi.export>\n+      !org.camunda.bpm.model.bpmn.schema,", "originalCommit": "59a8265451e31d4c963e0f73c647e01af1da2b6a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM3MTk4OA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r552371988", "bodyText": "This package only consists XSD files, and there is no Java classes. I don't think it's necessary to export this package.", "author": "agustino-lim", "createdAt": "2021-01-06T05:08:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1ODI5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE2MDY2OQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r553160669", "bodyText": "Thanks for that input! I think you are correct and we don't need to export this. As all other model-related modules contain the same package, do you think we should exclude them there as well?", "author": "tmetzke", "createdAt": "2021-01-07T07:52:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1ODI5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDg5MDQ4MQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r554890481", "bodyText": "Would you mind to point which package that you refer to?", "author": "agustino-lim", "createdAt": "2021-01-11T08:41:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1ODI5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDg5ODgxNg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r554898816", "bodyText": "If I am not mistaken, the other model modules (CMMN and DMN) also contain such schema files at org.camunda.bpm.model.cmmn.schema and org.camunda.bpm.model.dmn.schema respectively.", "author": "tmetzke", "createdAt": "2021-01-11T08:58:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc1ODI5OQ=="}], "type": "inlineReview"}, {"oid": "b0a9bae3c2c6d579f804d9dfb97fa8648b707c0a", "url": "https://github.com/camunda/camunda-bpm-platform/commit/b0a9bae3c2c6d579f804d9dfb97fa8648b707c0a", "message": "Update typed-values/pom.xml\n\nCo-authored-by: Tobias Metzke-Bernstein <tobias.metzke@gmail.com>", "committedDate": "2021-01-06T05:52:55Z", "type": "commit"}, {"oid": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e", "url": "https://github.com/camunda/camunda-bpm-platform/commit/bff2c7c942b5fc310058312bd4e99c6a990c5f6e", "message": "chore(model-api): fix OSGi metadata\n\n- Exclude gson package as the bundle is shaded\n- Fix version of org.camunda.bpm.engine.variable", "committedDate": "2021-01-11T07:40:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA0OTQzMQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555049431", "bodyText": "One thing that strikes me here: is it still necessary to include this import explicitly at all? It will be covered by the general * import, won't it?", "author": "tmetzke", "createdAt": "2021-01-11T13:34:46Z", "path": "engine/pom.xml", "diffHunk": "@@ -313,10 +313,11 @@\n       ${camunda.artifact}.engine.*;${camunda.osgi.version};-noimport:=true\n     </camunda.osgi.export.pkg>\n     <camunda.osgi.import.defaults>\n-      org.camunda.bpm.engine.variable.*;${camunda.osgi.import.camunda.commons.version},\n+      org.camunda.bpm.engine.variable.*,", "originalCommit": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTQzNTk2OQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555435969", "bodyText": "Yes, you're right. I will remove it", "author": "agustino-lim", "createdAt": "2021-01-12T00:50:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA0OTQzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA1MjA5NA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555052094", "bodyText": "Could you quickly comment on why GSON should be excluded here? Did you mean to make it optional? If so, why?", "author": "tmetzke", "createdAt": "2021-01-11T13:39:14Z", "path": "engine/pom.xml", "diffHunk": "@@ -313,10 +313,11 @@\n       ${camunda.artifact}.engine.*;${camunda.osgi.version};-noimport:=true\n     </camunda.osgi.export.pkg>\n     <camunda.osgi.import.defaults>\n-      org.camunda.bpm.engine.variable.*;${camunda.osgi.import.camunda.commons.version},\n+      org.camunda.bpm.engine.variable.*,\n       org.camunda.commons.*;${camunda.osgi.import.camunda.commons.version},\n     </camunda.osgi.import.defaults>\n     <camunda.osgi.import.additional>\n+      !com.google.gson.*,", "originalCommit": "bff2c7c942b5fc310058312bd4e99c6a990c5f6e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTQzMDA2NQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555430065", "bodyText": "GSON has been shaded in this bundle\nhttps://github.com/camunda/camunda-bpm-platform/blob/master/engine/pom.xml#L432", "author": "agustino-lim", "createdAt": "2021-01-12T00:32:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA1MjA5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1NTkwMQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555555901", "bodyText": "Oh, yeah, you're right. Thanks for pointing me to it. \ud83d\udc4d", "author": "tmetzke", "createdAt": "2021-01-12T07:14:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA1MjA5NA=="}], "type": "inlineReview"}, {"oid": "1e19ed094f13a62c5de5001d9af10aa23f4241c7", "url": "https://github.com/camunda/camunda-bpm-platform/commit/1e19ed094f13a62c5de5001d9af10aa23f4241c7", "message": "chore(model-api): fix OSGi metadata\n\n- Remove default import as it's handled by *", "committedDate": "2021-01-12T00:50:05Z", "type": "commit"}, {"oid": "64d5a1977208cd433b22fc4c616582b72e7ec6eb", "url": "https://github.com/camunda/camunda-bpm-platform/commit/64d5a1977208cd433b22fc4c616582b72e7ec6eb", "message": "chore(model-api): fix OSGi metadata\n\n- Exclude non Java package from exporting", "committedDate": "2021-01-12T01:20:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1OTQxOA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555559418", "bodyText": "If this is removed, what version will packages with org.camunda.commons.* receive? I guess we need to keep this line in the defaults and only remove the org.camunda.bpm.engine.variable.*, don't we?", "author": "tmetzke", "createdAt": "2021-01-12T07:23:27Z", "path": "engine/pom.xml", "diffHunk": "@@ -312,10 +312,6 @@\n       ${camunda.artifact}.container.*;${camunda.osgi.version};-noimport:=true,\n       ${camunda.artifact}.engine.*;${camunda.osgi.version};-noimport:=true\n     </camunda.osgi.export.pkg>\n-    <camunda.osgi.import.defaults>\n-      org.camunda.bpm.engine.variable.*,\n-      org.camunda.commons.*;${camunda.osgi.import.camunda.commons.version},", "originalCommit": "1e19ed094f13a62c5de5001d9af10aa23f4241c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU2MzA2NQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555563065", "bodyText": "You will get this version\norg.camunda.commons.logging;version=\"[1.10,2)\"\norg.camunda.commons.utils.cache;version=\"[1.10,2)\"\norg.camunda.commons.utils;version=\"[1.10,2)\"", "author": "agustino-lim", "createdAt": "2021-01-12T07:32:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1OTQxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU2MzY4MA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1211#discussion_r555563680", "bodyText": "Thanks for that quick input! OK, that would be fine with me then. \ud83d\udc4d", "author": "tmetzke", "createdAt": "2021-01-12T07:33:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1OTQxOA=="}], "type": "inlineReview"}]}