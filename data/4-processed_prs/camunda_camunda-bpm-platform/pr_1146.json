{"pr_number": 1146, "pr_title": "CAM-12799: optimize daily pipeline for db matrices", "pr_createdAt": "2020-11-25T14:14:06Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/1146", "timeline": [{"oid": "750828df3933df329763bfe75ae8633180c06bf6", "url": "https://github.com/camunda/camunda-bpm-platform/commit/750828df3933df329763bfe75ae8633180c06bf6", "message": "WIP: restructure pipeline\n\n* Refactor to single DB matrix", "committedDate": "2020-11-26T11:31:21Z", "type": "forcePushed"}, {"oid": "d1d9e800e22a3696861e5d096a3af42f6014abf3", "url": "https://github.com/camunda/camunda-bpm-platform/commit/d1d9e800e22a3696861e5d096a3af42f6014abf3", "message": "feat(ci): restructure DB matrices\n\n* Refactor DB matrices into a single DB matrix with multiple axes. This\n  reduces the pipeline code and allows for more stages to be executed in\nparallel.\n\nRelated to CAM-12712, CAM-12799", "committedDate": "2020-11-26T12:35:09Z", "type": "commit"}, {"oid": "d1d9e800e22a3696861e5d096a3af42f6014abf3", "url": "https://github.com/camunda/camunda-bpm-platform/commit/d1d9e800e22a3696861e5d096a3af42f6014abf3", "message": "feat(ci): restructure DB matrices\n\n* Refactor DB matrices into a single DB matrix with multiple axes. This\n  reduces the pipeline code and allows for more stages to be executed in\nparallel.\n\nRelated to CAM-12712, CAM-12799", "committedDate": "2020-11-26T12:35:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTAyNzg4NQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1146#discussion_r531027885", "bodyText": "rename to getMavenTargetAndProfile", "author": "yanavasileva", "createdAt": "2020-11-26T13:26:13Z", "path": "Jenkinsfile", "diffHunk": "@@ -725,3 +610,30 @@ String getDbProfiles(String dbLabel) {\n String getDbExtras(String dbLabel) {\n   return getDbInfo(dbLabel).extra\n }\n+\n+String resolveMavenProfileInfo(String profile) {\n+  Map PROFILE_PATHS = [\n+      'engine-unit': [\n+          directory: 'engine/',\n+          command: 'clean test -P'],\n+      'engine-unit-authorizations': [\n+          directory: 'engine/',\n+          command: 'clean test -PcfgAuthorizationCheckRevokesAlways,'],\n+      'webapps-unit': [\n+          directory: 'webapps/',\n+          command: 'clean test -Dskip.frontend.build=true -P'],\n+      'webapps-unit-authorizations': [\n+          directory: 'webapps/',\n+          command: 'clean test -Dskip.frontend.build=true -PcfgAuthorizationCheckRevokesAlways,']\n+  ]\n+\n+  return PROFILE_PATHS[profile]\n+}\n+\n+String getMavenProfileCmd(String profile) {", "originalCommit": "d1d9e800e22a3696861e5d096a3af42f6014abf3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTEzNTA5Nw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1146#discussion_r531135097", "bodyText": "As discussed, I created https://jira.camunda.com/browse/CAM-12820 for this.", "author": "koevskinikola", "createdAt": "2020-11-26T16:28:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTAyNzg4NQ=="}], "type": "inlineReview"}, {"oid": "704b35f0a9805e1fd95336c3645cf6a714be48d5", "url": "https://github.com/camunda/camunda-bpm-platform/commit/704b35f0a9805e1fd95336c3645cf6a714be48d5", "message": "SQUASH ME: implement review hints", "committedDate": "2020-11-26T16:54:52Z", "type": "commit"}]}