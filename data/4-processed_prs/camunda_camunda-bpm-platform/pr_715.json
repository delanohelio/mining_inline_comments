{"pr_number": 715, "pr_title": "CAM-11537: feat(open-api): add schema log endpoints", "pr_createdAt": "2020-03-12T13:52:26Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/715", "timeline": [{"oid": "f06fdd00b1667d33d312a87539ef2a2a222059bf", "url": "https://github.com/camunda/camunda-bpm-platform/commit/f06fdd00b1667d33d312a87539ef2a2a222059bf", "message": "feat(open-api): add schema log endpoints\n\nRelated to CAM-11537", "committedDate": "2020-03-12T14:03:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4Mjc5MQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392082791", "bodyText": "we should put format for the dates, please check the readme\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    type = \"string\"\n          \n          \n            \n                    type = \"string\"\n          \n          \n            \n                    format = \"date-time\"", "author": "yanavasileva", "createdAt": "2020-03-13T08:14:54Z", "path": "engine-rest/engine-rest-openapi/src/main/templates/models/org/camunda/bpm/engine/rest/dto/SchemaLogEntryDto.ftl", "diffHunk": "@@ -0,0 +1,22 @@\n+{\n+  \"type\" : \"object\",\n+  \"properties\" : {\n+\n+    <@lib.property\n+        name = \"id\"\n+        type = \"string\"\n+        desc = \"The id of the schema log entry.\" />\n+\n+    <@lib.property\n+        name = \"timestamp\"\n+        type = \"string\"", "originalCommit": "180301f7b32717ad4946a57ffb1ac8ec969d8862", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA5NDUyNw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392094527", "bodyText": "Thanks! I'll squash everything with the endpoint path change.", "author": "koevskinikola", "createdAt": "2020-03-13T08:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4Mjc5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4MjgzMg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392082832", "bodyText": "let's keep the id consistent to the Java method\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  id = \"getSchemaLogs\"\n          \n          \n            \n                  id = \"getSchemaLog\"", "author": "yanavasileva", "createdAt": "2020-03-13T08:15:02Z", "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/schema-log/get.ftl", "diffHunk": "@@ -0,0 +1,42 @@\n+{\n+  <@lib.endpointInfo\n+      id = \"getSchemaLogs\"", "originalCommit": "180301f7b32717ad4946a57ffb1ac8ec969d8862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4MzEwNQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392083105", "bodyText": "formatting\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            **Note**: In order to get any results a user of group camunda-admin must\n          \n          \n            \n                            **Note**: In order to get any results a user of group `camunda-admin` must", "author": "yanavasileva", "createdAt": "2020-03-13T08:15:46Z", "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/schema-log/get.ftl", "diffHunk": "@@ -0,0 +1,42 @@\n+{\n+  <@lib.endpointInfo\n+      id = \"getSchemaLogs\"\n+      tag = \"Schema Log\"\n+      desc = \"Queries for schema log entries that fulfill given parameters.\" />\n+\n+  \"parameters\" : [\n+    <@lib.parameter\n+        name = \"version\"\n+        location = \"query\"\n+        type = \"string\"\n+        desc = \"Only return schema log entries with a specific version.\"/>\n+    <#assign last = true >\n+    <#include \"/lib/commons/pagination-params.ftl\" >\n+  ],\n+  \"responses\" : {\n+    <@lib.response\n+        code = \"200\"\n+        dto = \"SchemaLogEntryDto\"\n+        array = true\n+        last = true\n+        desc = \"Request successful.\n+                **Note**: In order to get any results a user of group camunda-admin must", "originalCommit": "180301f7b32717ad4946a57ffb1ac8ec969d8862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4MzMwMg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392083302", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  id = \"querySchemaLogs\"\n          \n          \n            \n                  id = \"querySchemaLog\"", "author": "yanavasileva", "createdAt": "2020-03-13T08:16:12Z", "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/schema-log/post.ftl", "diffHunk": "@@ -0,0 +1,45 @@\n+{\n+  <@lib.endpointInfo\n+      id = \"querySchemaLogs\"", "originalCommit": "180301f7b32717ad4946a57ffb1ac8ec969d8862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4NDg5Mg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392084892", "bodyText": "I would suggest keeping the order of parameters and requestBody always the same, that way it will be close to docs-manual as well and easier to read, navigate.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              <@lib.requestBody\n          \n          \n            \n                  mediaType = \"application/json\"\n          \n          \n            \n                  dto = \"SchemaLogQueryDto\"\n          \n          \n            \n                  examples = ['\"example-1\": {\n          \n          \n            \n                                     \"summary\": \"POST /schema/log\",\n          \n          \n            \n                                     \"description\": \"The content of the Request Body\",\n          \n          \n            \n                                     \"value\": {\n          \n          \n            \n                                       \"version\": \"7.11.0\",\n          \n          \n            \n                                       \"sortBy\": \"timestamp\",\n          \n          \n            \n                                       \"sortOrder\": \"asc\"\n          \n          \n            \n                                     }\n          \n          \n            \n                               }'] />\n          \n          \n            \n            \n          \n          \n            \n              \"parameters\" : [\n          \n          \n            \n                <#assign last = true >\n          \n          \n            \n                <#include \"/lib/commons/pagination-params.ftl\" >\n          \n          \n            \n              ],\n          \n          \n            \n              \"parameters\" : [\n          \n          \n            \n                <#assign last = true >\n          \n          \n            \n                <#include \"/lib/commons/pagination-params.ftl\" >\n          \n          \n            \n              ],\n          \n          \n            \n              \n          \n          \n            \n              <@lib.requestBody\n          \n          \n            \n                  mediaType = \"application/json\"\n          \n          \n            \n                  dto = \"SchemaLogQueryDto\"\n          \n          \n            \n                  examples = ['\"example-1\": {\n          \n          \n            \n                                     \"summary\": \"POST /schema/log\",\n          \n          \n            \n                                     \"description\": \"The content of the Request Body\",\n          \n          \n            \n                                     \"value\": {\n          \n          \n            \n                                       \"version\": \"7.11.0\",\n          \n          \n            \n                                       \"sortBy\": \"timestamp\",\n          \n          \n            \n                                       \"sortOrder\": \"asc\"\n          \n          \n            \n                                     }\n          \n          \n            \n                               }'] />", "author": "yanavasileva", "createdAt": "2020-03-13T08:20:40Z", "path": "engine-rest/engine-rest-openapi/src/main/templates/paths/schema-log/post.ftl", "diffHunk": "@@ -0,0 +1,45 @@\n+{\n+  <@lib.endpointInfo\n+      id = \"querySchemaLogs\"\n+      tag = \"Schema Log\"\n+      desc = \"Queries for schema log entries that fulfill given parameters.\" />\n+\n+  <@lib.requestBody\n+      mediaType = \"application/json\"\n+      dto = \"SchemaLogQueryDto\"\n+      examples = ['\"example-1\": {\n+                         \"summary\": \"POST /schema/log\",\n+                         \"description\": \"The content of the Request Body\",\n+                         \"value\": {\n+                           \"version\": \"7.11.0\",\n+                           \"sortBy\": \"timestamp\",\n+                           \"sortOrder\": \"asc\"\n+                         }\n+                   }'] />\n+\n+  \"parameters\" : [\n+    <#assign last = true >\n+    <#include \"/lib/commons/pagination-params.ftl\" >\n+  ],", "originalCommit": "180301f7b32717ad4946a57ffb1ac8ec969d8862", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA5NTgxMw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/715#discussion_r392095813", "bodyText": "Good to know, I was considering if I should do that. Thanks!", "author": "koevskinikola", "createdAt": "2020-03-13T08:46:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA4NDg5Mg=="}], "type": "inlineReview"}, {"oid": "3f4c80c036cd24fff7ebdfb4fee11f8c97231f2a", "url": "https://github.com/camunda/camunda-bpm-platform/commit/3f4c80c036cd24fff7ebdfb4fee11f8c97231f2a", "message": "feat(open-api): add schema log endpoints\n\nRelated to CAM-11537", "committedDate": "2020-03-16T11:51:36Z", "type": "commit"}, {"oid": "3f4c80c036cd24fff7ebdfb4fee11f8c97231f2a", "url": "https://github.com/camunda/camunda-bpm-platform/commit/3f4c80c036cd24fff7ebdfb4fee11f8c97231f2a", "message": "feat(open-api): add schema log endpoints\n\nRelated to CAM-11537", "committedDate": "2020-03-16T11:51:36Z", "type": "forcePushed"}]}