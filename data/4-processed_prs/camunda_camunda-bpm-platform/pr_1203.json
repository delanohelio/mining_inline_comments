{"pr_number": 1203, "pr_title": "CAM-12905: chore(ci): add all rest stages", "pr_createdAt": "2020-12-15T15:18:03Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/1203", "timeline": [{"oid": "92fedd637b94049f699eaa445c4cf84cb9e4e01c", "url": "https://github.com/camunda/camunda-bpm-platform/commit/92fedd637b94049f699eaa445c4cf84cb9e4e01c", "message": "chore(ci): add all rest stages\n\nRelated to CAM-12778, CAM-12905", "committedDate": "2020-12-15T15:16:51Z", "type": "commit"}, {"oid": "59d7870e37a8b7f68773ace9ce0a0c86ad25e3ad", "url": "https://github.com/camunda/camunda-bpm-platform/commit/59d7870e37a8b7f68773ace9ce0a0c86ad25e3ad", "message": "DROP ME: reduce pipeline size", "committedDate": "2020-12-15T15:20:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDI5MTI2MQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1203#discussion_r544291261", "bodyText": "It seems that the qa stash is not needed (however, it takes only 1s to unstash)\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            cambpmRunMaven('qa/', 'clean install -Pwildfly,h2,webapps-integration,embedded-engine-rest', runtimeStash: true, archiveStash: true, qaStash: true)\n          \n          \n            \n                            cambpmRunMaven('qa/', 'clean install -Pwildfly,h2,webapps-integration,embedded-engine-rest', runtimeStash: true, archiveStash: true)", "author": "yanavasileva", "createdAt": "2020-12-16T13:19:35Z", "path": "Jenkinsfile", "diffHunk": "@@ -254,6 +279,156 @@ pipeline {\n             }\n           }\n         }\n+        stage('engine-rest-UNIT-cxf') {\n+          when {\n+            expression {\n+              cambpmWithLabels('rest-api')\n+            }\n+            beforeAgent true\n+          }\n+          agent {\n+            node {\n+              label 'h2'\n+            }\n+          }\n+          steps {\n+            catchError(stageResult: 'FAILURE') {\n+              withMaven(jdk: 'jdk-8-latest', maven: 'maven-3.2-latest', mavenSettingsConfig: 'camunda-maven-settings', options: [artifactsPublisher(disabled: true), junitPublisher(disabled: true)]) {\n+                cambpmRunMaven('engine-rest/engine-rest/', 'clean install -Pcxf', runtimeStash: true)\n+              }\n+            }\n+          }\n+          post {\n+            always {\n+              cambpmPublishTestResult();\n+            }\n+          }\n+        }\n+        stage('engine-rest-UNIT-wink') {\n+          when {\n+            expression {\n+              cambpmWithLabels('rest-api')\n+            }\n+            beforeAgent true\n+          }\n+          agent {\n+            node {\n+              label 'h2'\n+            }\n+          }\n+          steps {\n+            catchError(stageResult: 'FAILURE') {\n+              withMaven(jdk: 'jdk-8-latest', maven: 'maven-3.2-latest', mavenSettingsConfig: 'camunda-maven-settings', options: [artifactsPublisher(disabled: true), junitPublisher(disabled: true)]) {\n+                cambpmRunMaven('engine-rest/engine-rest/', 'clean install -Pwink', runtimeStash: true)\n+              }\n+            }\n+          }\n+          post {\n+            always {\n+              cambpmPublishTestResult();\n+            }\n+          }\n+        }\n+        stage('engine-rest-jaxrs2-UNIT-jersey2') {\n+          when {\n+            expression {\n+              cambpmWithLabels('rest-api')\n+            }\n+            beforeAgent true\n+          }\n+          agent {\n+            node {\n+              label 'h2'\n+            }\n+          }\n+          steps {\n+            catchError(stageResult: 'FAILURE') {\n+              withMaven(jdk: 'jdk-8-latest', maven: 'maven-3.2-latest', mavenSettingsConfig: 'camunda-maven-settings', options: [artifactsPublisher(disabled: true), junitPublisher(disabled: true)]) {\n+                cambpmRunMaven('engine-rest/engine-rest-jaxrs2/', 'clean install -Pjersey2', runtimeStash: true)\n+              }\n+            }\n+          }\n+          post {\n+            always {\n+              cambpmPublishTestResult();\n+            }\n+          }\n+        }\n+        stage('engine-rest-jaxrs2-UNIT-resteasy3') {\n+          when {\n+            expression {\n+              cambpmWithLabels('rest-api')\n+            }\n+            beforeAgent true\n+          }\n+          agent {\n+            node {\n+              label 'h2'\n+            }\n+          }\n+          steps {\n+            catchError(stageResult: 'FAILURE') {\n+              withMaven(jdk: 'jdk-8-latest', maven: 'maven-3.2-latest', mavenSettingsConfig: 'camunda-maven-settings', options: [artifactsPublisher(disabled: true), junitPublisher(disabled: true)]) {\n+                cambpmRunMaven('engine-rest/engine-rest-jaxrs2/', 'clean install -Presteasy3', runtimeStash: true)\n+              }\n+            }\n+          }\n+          post {\n+            always {\n+              cambpmPublishTestResult();\n+            }\n+          }\n+        }\n+        stage('engine-rest-UNIT-compatibility-wildfly') {\n+          when {\n+            expression {\n+              cambpmWithLabels('rest-api')\n+            }\n+            beforeAgent true\n+          }\n+          agent {\n+            node {\n+              label 'h2'\n+            }\n+          }\n+          steps {\n+            catchError(stageResult: 'FAILURE') {\n+              withMaven(jdk: 'jdk-8-latest', maven: 'maven-3.2-latest', mavenSettingsConfig: 'camunda-maven-settings', options: [artifactsPublisher(disabled: true), junitPublisher(disabled: true)]) {\n+                cambpmRunMaven('engine-rest/engine-rest/', 'clean install -Pwildfly-compatibility,resteasy', runtimeStash: true)\n+              }\n+            }\n+          }\n+          post {\n+            always {\n+              cambpmPublishTestResult();\n+            }\n+          }\n+        }\n+        stage('engine-rest-IT-embedded-wildfly') {\n+          when {\n+            expression {\n+              cambpmWithLabels('rest-api')\n+            }\n+            beforeAgent true\n+          }\n+          agent {\n+            node {\n+              label 'h2'\n+            }\n+          }\n+          steps {\n+            catchError(stageResult: 'FAILURE') {\n+              withMaven(jdk: 'jdk-8-latest', maven: 'maven-3.2-latest', mavenSettingsConfig: 'camunda-maven-settings', options: [artifactsPublisher(disabled: true), junitPublisher(disabled: true)]) {\n+                cambpmRunMaven('qa/', 'clean install -Pwildfly,h2,webapps-integration,embedded-engine-rest', runtimeStash: true, archiveStash: true, qaStash: true)", "originalCommit": "59d7870e37a8b7f68773ace9ce0a0c86ad25e3ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDMyNjAyNg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/1203#discussion_r544326026", "bodyText": "You're right. I'll remove it.", "author": "koevskinikola", "createdAt": "2020-12-16T14:08:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDI5MTI2MQ=="}], "type": "inlineReview"}, {"oid": "6d2074d8583eec46f75eaa28ae4d45bdb2a808f9", "url": "https://github.com/camunda/camunda-bpm-platform/commit/6d2074d8583eec46f75eaa28ae4d45bdb2a808f9", "message": "SQUASH ME: implement review hints", "committedDate": "2020-12-16T14:08:05Z", "type": "commit"}]}