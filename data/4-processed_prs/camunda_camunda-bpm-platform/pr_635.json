{"pr_number": 635, "pr_title": "CAM-11285: Resteasy 3 update", "pr_createdAt": "2020-01-30T10:58:43Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/635", "timeline": [{"oid": "976b2476e2f37ae4824cb19bebe4fcdbd5dc123f", "url": "https://github.com/camunda/camunda-bpm-platform/commit/976b2476e2f37ae4824cb19bebe4fcdbd5dc123f", "message": "chore(engine-rest/webapp): use Resteasy 3.10.0 on Tomcat\n\nrelated to CAM-11285", "committedDate": "2020-01-30T12:00:32Z", "type": "commit"}, {"oid": "976b2476e2f37ae4824cb19bebe4fcdbd5dc123f", "url": "https://github.com/camunda/camunda-bpm-platform/commit/976b2476e2f37ae4824cb19bebe4fcdbd5dc123f", "message": "chore(engine-rest/webapp): use Resteasy 3.10.0 on Tomcat\n\nrelated to CAM-11285", "committedDate": "2020-01-30T12:00:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2OTM1NQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/635#discussion_r373969355", "bodyText": "For resteasy 3.10 these tests can be included as 415 Unsupported Media Type exception extends WebApplicationException and the exception handler doesn't have a problem anymore to detect it:\n\nTaskRestServiceInteractionTest\nNoServletEmptyBodyFilterTest\nServletEmptyBodyFilterTest", "author": "yanavasileva", "createdAt": "2020-02-03T08:24:05Z", "path": "engine-rest/engine-rest/pom.xml", "diffHunk": "@@ -493,6 +493,111 @@\n         </plugins>\n       </build>\n     </profile>\n+    \n+    \n+    <profile>\n+      <id>resteasy3</id>\n+      <dependencies>\n+        <dependency>\n+          <groupId>org.jboss.spec.javax.ws.rs</groupId>\n+          <artifactId>jboss-jaxrs-api_2.1_spec</artifactId>\n+          <version>2.0.1.Final</version>\n+          <scope>provided</scope>\n+        </dependency>\n+        <dependency>\n+          <groupId>org.jboss.resteasy</groupId>\n+          <artifactId>resteasy-jaxrs</artifactId>\n+          <version>${version.resteasy3}</version>\n+          <scope>test</scope>\n+          <exclusions>\n+            <exclusion>\n+              <artifactId>httpclient</artifactId>\n+              <groupId>org.apache.httpcomponents</groupId>\n+            </exclusion>\n+          </exclusions>\n+        </dependency>\n+        \n+        <dependency>\n+          <groupId>io.netty</groupId>\n+          <artifactId>netty-all</artifactId>\n+          <version>4.1.42.Final</version>\n+          <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+          <groupId>org.jboss.resteasy</groupId>\n+          <artifactId>resteasy-netty4</artifactId>\n+          <version>${version.resteasy3}</version>\n+          <scope>test</scope>\n+        </dependency>\n+      </dependencies>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-surefire-plugin</artifactId>\n+            <configuration>\n+              <excludes>", "originalCommit": "976b2476e2f37ae4824cb19bebe4fcdbd5dc123f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE3MDY0Mw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/635#discussion_r374170643", "bodyText": "Great find, will do!", "author": "ThorbenLindhauer", "createdAt": "2020-02-03T15:33:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk2OTM1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk3MjIxMg==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/635#discussion_r373972212", "bodyText": "We can change back ResteasyTaskRestServiceInteractionTest to TaskRestServiceInteractionTest for the resteasy3 profile.\nHowever we still need ResteasyTaskRestServiceInteractionTest test for the other resteasy profile (2.x).", "author": "yanavasileva", "createdAt": "2020-02-03T08:32:14Z", "path": "engine-rest/engine-rest/pom.xml", "diffHunk": "@@ -493,6 +493,111 @@\n         </plugins>\n       </build>\n     </profile>\n+    \n+    \n+    <profile>\n+      <id>resteasy3</id>\n+      <dependencies>\n+        <dependency>\n+          <groupId>org.jboss.spec.javax.ws.rs</groupId>\n+          <artifactId>jboss-jaxrs-api_2.1_spec</artifactId>\n+          <version>2.0.1.Final</version>\n+          <scope>provided</scope>\n+        </dependency>\n+        <dependency>\n+          <groupId>org.jboss.resteasy</groupId>\n+          <artifactId>resteasy-jaxrs</artifactId>\n+          <version>${version.resteasy3}</version>\n+          <scope>test</scope>\n+          <exclusions>\n+            <exclusion>\n+              <artifactId>httpclient</artifactId>\n+              <groupId>org.apache.httpcomponents</groupId>\n+            </exclusion>\n+          </exclusions>\n+        </dependency>\n+        \n+        <dependency>\n+          <groupId>io.netty</groupId>\n+          <artifactId>netty-all</artifactId>\n+          <version>4.1.42.Final</version>\n+          <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+          <groupId>org.jboss.resteasy</groupId>\n+          <artifactId>resteasy-netty4</artifactId>\n+          <version>${version.resteasy3}</version>\n+          <scope>test</scope>\n+        </dependency>\n+      </dependencies>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-surefire-plugin</artifactId>\n+            <configuration>\n+              <excludes>\n+                <exclude>**/TaskRestServiceInteractionTest.java</exclude>\n+                <exclude>**/NoServletEmptyBodyFilterTest.java</exclude>\n+                <exclude>**/ServletEmptyBodyFilterTest.java</exclude>\n+              </excludes>\n+              <redirectTestOutputToFile>true</redirectTestOutputToFile>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>encoding-test</id>\n+                <phase>test</phase>\n+                <goals>\n+                  <goal>test</goal>\n+                </goals>\n+                <configuration>\n+                  <argLine>-Dfile.encoding=ISO-8859-1</argLine>\n+                  <includes>\n+                    <include>**/ProcessDefinitionRestServiceInteractionTest.java</include>\n+                    <include>**/ResteasyTaskRestServiceInteractionTest.java</include>", "originalCommit": "976b2476e2f37ae4824cb19bebe4fcdbd5dc123f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d35e053232db4a5c4a97fc88fda7f52472653eed", "url": "https://github.com/camunda/camunda-bpm-platform/commit/d35e053232db4a5c4a97fc88fda7f52472653eed", "message": "squash me: review hints", "committedDate": "2020-02-03T15:47:19Z", "type": "commit"}, {"oid": "d35e053232db4a5c4a97fc88fda7f52472653eed", "url": "https://github.com/camunda/camunda-bpm-platform/commit/d35e053232db4a5c4a97fc88fda7f52472653eed", "message": "squash me: review hints", "committedDate": "2020-02-03T15:47:19Z", "type": "forcePushed"}]}