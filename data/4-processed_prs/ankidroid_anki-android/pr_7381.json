{"pr_number": 7381, "pr_title": "Fix #7118: Adding Filter by flag icon to card browser.", "pr_createdAt": "2020-10-13T09:12:16Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7381", "timeline": [{"oid": "4fdca0e41e28a776fce60a62b62ce9e7d647249a", "url": "https://github.com/ankidroid/Anki-Android/commit/4fdca0e41e28a776fce60a62b62ce9e7d647249a", "message": "Added flag icon to card browser. When selecting flag, flag color changes.", "committedDate": "2020-10-12T09:50:33Z", "type": "commit"}, {"oid": "9e63cb9ae3a29c616271bc5c749a6cb637830eda", "url": "https://github.com/ankidroid/Anki-Android/commit/9e63cb9ae3a29c616271bc5c749a6cb637830eda", "message": "When flag is selected, mSearchTerms are updated and correct cards are selected.", "committedDate": "2020-10-12T12:25:40Z", "type": "commit"}, {"oid": "b4e2c26b9236da34690c486f7585b09a34440e57", "url": "https://github.com/ankidroid/Anki-Android/commit/b4e2c26b9236da34690c486f7585b09a34440e57", "message": "When search widget is closed turn flag back to transparent.", "committedDate": "2020-10-12T15:33:15Z", "type": "commit"}, {"oid": "69a6661393918f14a3ef97e1a8a299df94132036", "url": "https://github.com/ankidroid/Anki-Android/commit/69a6661393918f14a3ef97e1a8a299df94132036", "message": "When user adds filtration by flag from options menu and there is existing search term, flag filtration is appended to the search instead of replacing it.", "committedDate": "2020-10-12T16:34:23Z", "type": "commit"}, {"oid": "0270ed716f2d27e5d05954d7a2d684b0987933b5", "url": "https://github.com/ankidroid/Anki-Android/commit/0270ed716f2d27e5d05954d7a2d684b0987933b5", "message": "Adding final fixes.", "committedDate": "2020-10-12T16:52:34Z", "type": "commit"}, {"oid": "8d530bd4575c0bf8c2298d3f7b69fde4211cf191", "url": "https://github.com/ankidroid/Anki-Android/commit/8d530bd4575c0bf8c2298d3f7b69fde4211cf191", "message": "Adding test for filter by flag.", "committedDate": "2020-10-13T08:10:47Z", "type": "commit"}, {"oid": "831e9263c3635c6a183efebf1b9299d5b72a238f", "url": "https://github.com/ankidroid/Anki-Android/commit/831e9263c3635c6a183efebf1b9299d5b72a238f", "message": "Small fixes.", "committedDate": "2020-10-13T08:22:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5NzA4MQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7381#discussion_r503897081", "bodyText": "I feel it'd be best to move this into the menu with the other search items (both removing it as an action, and repositioning it).\nThere's little visual feedback that the flag icon means \"search\", and it feels peculiar to give it priority over other methods of filtering.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    ankidroid:showAsAction=\"ifRoom\"\n          \n          \n            \n                    ankidroid:showAsAction=\"never\"", "author": "david-allison-1", "createdAt": "2020-10-13T12:08:32Z", "path": "AnkiDroid/src/main/res/menu/card_browser.xml", "diffHunk": "@@ -1,11 +1,40 @@\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:ankidroid=\"http://schemas.android.com/apk/res-auto\" >\n \n+    <item\n+        ankidroid:showAsAction=\"ifRoom\"", "originalCommit": "831e9263c3635c6a183efebf1b9299d5b72a238f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1c306244e3478c179fee0201ff1f3dccaa3d6cfa", "url": "https://github.com/ankidroid/Anki-Android/commit/1c306244e3478c179fee0201ff1f3dccaa3d6cfa", "message": "Moving `Filter by flag` option to menu, in relation to this removing icon and methods that modified icon when selected, to keep code cleaner.", "committedDate": "2020-10-13T16:41:09Z", "type": "commit"}, {"oid": "0ada24f56adf3c4178d3a830c7e7bb2f8f3b89ef", "url": "https://github.com/ankidroid/Anki-Android/commit/0ada24f56adf3c4178d3a830c7e7bb2f8f3b89ef", "message": "Merge branch 'master' into master", "committedDate": "2020-10-14T15:04:34Z", "type": "commit"}]}