{"pr_number": 5960, "pr_title": "Diagnose and avoid crash for deck with no terms", "pr_createdAt": "2020-04-09T13:47:02Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/5960", "timeline": [{"oid": "c29dc5a340c40d092722479e79ec007fa054cd96", "url": "https://github.com/ankidroid/Anki-Android/commit/c29dc5a340c40d092722479e79ec007fa054cd96", "message": "NF: Add Custom Study Logging\n\nAdded to diagnose the path taken to cause #5959 (dynamic deck had no\n'terms') inside 'createCustomStudySession'.", "committedDate": "2020-04-09T13:44:33Z", "type": "commit"}, {"oid": "05d9ecd6800b9a5d92afe88dbac55b8472f3d5aa", "url": "https://github.com/ankidroid/Anki-Android/commit/05d9ecd6800b9a5d92afe88dbac55b8472f3d5aa", "message": "NF: Rename variable for clarity", "committedDate": "2020-04-09T13:45:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjIxNzY0MQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5960#discussion_r406217641", "bodyText": "We currently crash here. It's almost certainly the case where cur exists (possibly getting a corrupt custom study deck from AnkiWeb), but it's hard to know without logging.", "author": "david-allison-1", "createdAt": "2020-04-09T13:49:07Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CustomStudyDialog.java", "diffHunk": "@@ -450,11 +456,12 @@ private void createCustomStudySession(JSONArray delays, Object[] terms, Boolean\n             dyn.put(\"delays\", JSONObject.NULL);\n         }\n         JSONArray ar = dyn.getJSONArray(\"terms\");", "originalCommit": "05d9ecd6800b9a5d92afe88dbac55b8472f3d5aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e5a11e632c5fa2c1b5ac1cf548f0bf08b76c854d", "url": "https://github.com/ankidroid/Anki-Android/commit/e5a11e632c5fa2c1b5ac1cf548f0bf08b76c854d", "message": "Replaced crash with toast & error report\n\nWe can't fix the deck properties yet as we haven't diagnosed the issue\nbut, we can stop the crash.", "committedDate": "2020-04-09T14:23:27Z", "type": "commit"}]}