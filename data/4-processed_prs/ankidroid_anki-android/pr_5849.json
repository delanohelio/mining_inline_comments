{"pr_number": 5849, "pr_title": "Gracefully handle Bitmap Compression Failure", "pr_createdAt": "2020-03-21T21:11:44Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/5849", "timeline": [{"oid": "0f6b986cd70afbb8b7c750f2a4e606b04af076e4", "url": "https://github.com/ankidroid/Anki-Android/commit/0f6b986cd70afbb8b7c750f2a4e606b04af076e4", "message": "NF: BitmapUtil - Dispose Resources on failure", "committedDate": "2020-03-21T20:44:59Z", "type": "commit"}, {"oid": "e262dc4eaed96b6aa12c0d3e9a6a5b0fe13f8497", "url": "https://github.com/ankidroid/Anki-Android/commit/e262dc4eaed96b6aa12c0d3e9a6a5b0fe13f8497", "message": "#5513 - Don't crash if we can't compress images\n\nSometimes, the `rotateAndCompress` method could fail, causing a crash.\n\nInstead, we return the uncompressed image, and display both the file\nsize and a warning that some images may require compression.\n\nWe do this, rather than displaying an error, as it's easier for a user\nto take action.\n\nWe unconditionally display the file size as it's a useful attribute.", "committedDate": "2020-03-21T21:04:45Z", "type": "commit"}, {"oid": "b5009c8641096f84b97af031e9f61b147d329e5a", "url": "https://github.com/ankidroid/Anki-Android/commit/b5009c8641096f84b97af031e9f61b147d329e5a", "message": "Add Crash Analytics for Compression failure", "committedDate": "2020-03-21T21:07:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA0NTg4Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/5849#discussion_r396045882", "bodyText": "This requires some research, I'm not sure how the crowdin platform will handle the CDATA wrapping. Is it possible to do the CDATA outside the string resource?", "author": "mikehardy", "createdAt": "2020-03-22T01:48:57Z", "path": "AnkiDroid/src/main/res/values/02-strings.xml", "diffHunk": "@@ -241,4 +241,5 @@\n     <string name=\"export_v2_forbidden\">Please switch to the V1 scheduler before exporting a single deck with scheduling information.</string>\n \n     <string name=\"activity_start_failed\">The system does not have an app installed that can perform this action.</string>\n+    <string name=\"multimedia_editor_image_compression_failed\"><![CDATA[Camera images may be large. You may wish to compress & resize images in the media directory]]></string>", "originalCommit": "e262dc4eaed96b6aa12c0d3e9a6a5b0fe13f8497", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA1MDg1Mw==", "url": "https://github.com/ankidroid/Anki-Android/pull/5849#discussion_r396050853", "bodyText": "Existing translations already contain CDATA.\nEasier for me to just remove the &", "author": "david-allison-1", "createdAt": "2020-03-22T03:36:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA0NTg4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA1MTM1OQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5849#discussion_r396051359", "bodyText": "I hadn't checked - just noted it - if it follows existing translations -> resolved / works for me (either way)", "author": "mikehardy", "createdAt": "2020-03-22T03:47:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA0NTg4Mg=="}], "type": "inlineReview"}]}