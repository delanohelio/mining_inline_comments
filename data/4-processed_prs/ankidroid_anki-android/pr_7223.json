{"pr_number": 7223, "pr_title": "NF: uses Equals() for string", "pr_createdAt": "2020-09-21T04:32:40Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7223", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NTkwNw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r491995907", "bodyText": "Would be better to use Objects.equals(a, b) here to ensure nulls are handled on both sides", "author": "david-allison-1", "createdAt": "2020-09-21T12:14:32Z", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -630,7 +630,7 @@ private boolean _isAncestor(String ancestorDeckName, String descendantDeckName)\n         }\n \n         for (int i = 0; i < ancestorDeckPath.length; i++) {\n-            if (ancestorDeckPath[i] != descendantDeckPath[i]) {\n+            if (! ancestorDeckPath[i].equals(descendantDeckPath[i])) {", "originalCommit": "3e598e32d60241ef911b739f817dfb037de0355a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE4OTU1NA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492189554", "bodyText": "I checked, that API appears to be JDK7 so should be valid, I like the suggestion @Arthur-Milchior", "author": "mikehardy", "createdAt": "2020-09-21T16:23:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5MTQwNQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492391405", "bodyText": "Done", "author": "Arthur-Milchior", "createdAt": "2020-09-21T22:55:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5MTYwNw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492391607", "bodyText": "Call requires API level 19 (current min is 16): java.util.Objects#equals", "author": "Arthur-Milchior", "createdAt": "2020-09-21T22:56:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5MjUzNA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492392534", "bodyText": "Is there a way to annotate that elements of an array are not null ? I'd like to indicates that the method path's type is\n@NonNull (@NonNull String)[]\nBecause currently, none of the strings can be null (I understand why we still want the extra security)", "author": "Arthur-Milchior", "createdAt": "2020-09-21T22:59:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM5NTQ1MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492395450", "bodyText": "I don't think Android Studio supports it.\nWorst case: create StringUtil.equals() and note it's deprecated after API 19", "author": "david-allison-1", "createdAt": "2020-09-21T23:08:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NTkwNw=="}], "type": "inlineReview"}, {"oid": "b71bc6d892c2120d7e30e3907a210174fcf72238", "url": "https://github.com/ankidroid/Anki-Android/commit/b71bc6d892c2120d7e30e3907a210174fcf72238", "message": "NF: uses Equals() for string", "committedDate": "2020-09-21T22:55:39Z", "type": "forcePushed"}, {"oid": "8a8fbd5a25fc70a59b4bc868ef97db3fb781c83d", "url": "https://github.com/ankidroid/Anki-Android/commit/8a8fbd5a25fc70a59b4bc868ef97db3fb781c83d", "message": "NF: uses Equals() for string", "committedDate": "2020-09-21T22:56:01Z", "type": "forcePushed"}, {"oid": "64d03522cdfe973c29f93593a7818476b3248a4e", "url": "https://github.com/ankidroid/Anki-Android/commit/64d03522cdfe973c29f93593a7818476b3248a4e", "message": "NF: uses Equals() for string", "committedDate": "2020-09-21T23:18:40Z", "type": "commit"}, {"oid": "64d03522cdfe973c29f93593a7818476b3248a4e", "url": "https://github.com/ankidroid/Anki-Android/commit/64d03522cdfe973c29f93593a7818476b3248a4e", "message": "NF: uses Equals() for string", "committedDate": "2020-09-21T23:18:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQwNTc5MQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492405791", "bodyText": "Probably a missing import now", "author": "david-allison-1", "createdAt": "2020-09-21T23:42:24Z", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java", "diffHunk": "@@ -43,6 +43,7 @@\n import java.util.LinkedList;\n import java.util.List;\n import java.util.Map;\n+import java.util.Objects;", "originalCommit": "64d03522cdfe973c29f93593a7818476b3248a4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQwODQ4Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7223#discussion_r492408482", "bodyText": "Yep...", "author": "Arthur-Milchior", "createdAt": "2020-09-21T23:52:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQwNTc5MQ=="}], "type": "inlineReview"}]}