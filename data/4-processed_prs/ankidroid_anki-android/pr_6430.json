{"pr_number": 6430, "pr_title": "Refuse to compile with unsupported JDKs", "pr_createdAt": "2020-06-10T22:30:44Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6430", "timeline": [{"oid": "ce9b5499fc34ed2cadd48629ebd9358e8a00f71d", "url": "https://github.com/ankidroid/Anki-Android/commit/ce9b5499fc34ed2cadd48629ebd9358e8a00f71d", "message": "Refuse to compile with unsupported JDKs\n\nFixes #6428", "committedDate": "2020-06-10T22:23:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ0NTI0MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6430#discussion_r438445240", "bodyText": "Do we need the null-safe operator ?. here? Or are the calls guaranteed as non-null.  Edit: This is fine\nhttps://github.com/gradle/gradle/blob/b6eea5ff9b07840c2c36ae9f2a089b20aa4111c4/subprojects/base-services/src/main/java/org/gradle/internal/jvm/Jvm.java#L54-L61", "author": "david-allison-1", "createdAt": "2020-06-10T22:37:17Z", "path": "build.gradle", "diffHunk": "@@ -14,6 +16,18 @@ buildscript {\n \n ext {\n \n+    jvmVersion = Jvm.current().javaVersion.majorVersion", "originalCommit": "ce9b5499fc34ed2cadd48629ebd9358e8a00f71d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ1MjI1Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6430#discussion_r438452257", "bodyText": "yeah it's just not possible since Groovy is executing in the JVM. It wouldn't get this far if there was no JVM", "author": "mikehardy", "createdAt": "2020-06-10T22:58:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ0NTI0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ0NTgyMA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6430#discussion_r438445820", "bodyText": "For future reference only: I'm fairly sure jvmVersion not in [\"8\", \"11\", \"14\"] would work", "author": "david-allison-1", "createdAt": "2020-06-10T22:39:03Z", "path": "build.gradle", "diffHunk": "@@ -14,6 +16,18 @@ buildscript {\n \n ext {\n \n+    jvmVersion = Jvm.current().javaVersion.majorVersion\n+    if (jvmVersion != \"8\" && jvmVersion != \"11\" && jvmVersion != \"14\") {", "originalCommit": "ce9b5499fc34ed2cadd48629ebd9358e8a00f71d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ0ODQ3Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6430#discussion_r438448477", "bodyText": "Yeah, I don't actually speak groovy", "author": "mikehardy", "createdAt": "2020-06-10T22:46:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ0NTgyMA=="}], "type": "inlineReview"}]}