{"pr_number": 3202, "pr_title": "Update README with project reorganization changes.", "pr_createdAt": "2020-02-13T09:51:38Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3202", "timeline": [{"oid": "4d9c5e0b0162f2c445de299883caf64a21c3c187", "url": "https://github.com/telstra/open-kilda/commit/4d9c5e0b0162f2c445de299883caf64a21c3c187", "message": "Update README with project reorg changes.", "committedDate": "2020-02-17T11:49:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5MzM4OQ==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380493389", "bodyText": "nit: does it require additional changes from developer? or just make build-latest", "author": "timofei-durakov", "createdAt": "2020-02-18T07:17:45Z", "path": "README.md", "diffHunk": "@@ -27,22 +27,35 @@ On Ubuntu 18.04, you can install those dependencies like this:\n apt-get install maven openjdk-8-jdk python python3 docker.io docker-compose virtualenv make openvswitch-switch linux-generic-hwe-18.04\n ```\n \n-Note that your build user needs to be a member of the docker group for the build to work. Do that by adding the user to /etc/groups and logging out and back in again.\n+#### Gradle\n+You can either install Gradle, or use Gradle wrapper:\n+ - Option 1 - Install Gradle (ensure that you have gradle 6.0 or later) - https://gradle.org/install/\n \n+ - Option 2 - Use Gradle wrapper. The Kilda repository contains an instance of Gradle Wrapper ", "originalCommit": "4d9c5e0b0162f2c445de299883caf64a21c3c187", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNzE3Ng==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380527176", "bodyText": "No, it doesn't. Just \"apt-get...\" mentioned above.", "author": "sergii-iakovenko", "createdAt": "2020-02-18T08:45:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5MzM4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5MzU4Mg==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380493582", "bodyText": "is it still valid?", "author": "timofei-durakov", "createdAt": "2020-02-18T07:18:19Z", "path": "README.md", "diffHunk": "@@ -27,22 +27,35 @@ On Ubuntu 18.04, you can install those dependencies like this:\n apt-get install maven openjdk-8-jdk python python3 docker.io docker-compose virtualenv make openvswitch-switch linux-generic-hwe-18.04\n ```\n \n-Note that your build user needs to be a member of the docker group for the build to work. Do that by adding the user to /etc/groups and logging out and back in again.\n+#### Gradle\n+You can either install Gradle, or use Gradle wrapper:\n+ - Option 1 - Install Gradle (ensure that you have gradle 6.0 or later) - https://gradle.org/install/\n \n+ - Option 2 - Use Gradle wrapper. The Kilda repository contains an instance of Gradle Wrapper \n+ which can be used straight from here without further installation.\n+\n+#### Docker\n+Note that your build user needs to be a member of the docker group for the build to work. \n+Do that by adding the user to /etc/groups and logging out and back in again.\n+\n+#### Maven\n You also need to increase the maven RAM limit at least up to 1G.\n \n ```export MAVEN_OPTS=\"-Xmx1g -XX:MaxPermSize=128m\"```", "originalCommit": "4d9c5e0b0162f2c445de299883caf64a21c3c187", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyODgwOQ==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380528809", "bodyText": "Good question. We still have modules built by Maven: Project Floodlight, OpenFlowJ, GUI.", "author": "sergii-iakovenko", "createdAt": "2020-02-18T08:48:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5MzU4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5Mzk0OQ==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380493949", "bodyText": "the whole point of venv is not to provide backward comaptibility with py27 but isolate libs.", "author": "timofei-durakov", "createdAt": "2020-02-18T07:19:31Z", "path": "README.md", "diffHunk": "@@ -27,22 +27,35 @@ On Ubuntu 18.04, you can install those dependencies like this:\n apt-get install maven openjdk-8-jdk python python3 docker.io docker-compose virtualenv make openvswitch-switch linux-generic-hwe-18.04\n ```\n \n-Note that your build user needs to be a member of the docker group for the build to work. Do that by adding the user to /etc/groups and logging out and back in again.\n+#### Gradle\n+You can either install Gradle, or use Gradle wrapper:\n+ - Option 1 - Install Gradle (ensure that you have gradle 6.0 or later) - https://gradle.org/install/\n \n+ - Option 2 - Use Gradle wrapper. The Kilda repository contains an instance of Gradle Wrapper \n+ which can be used straight from here without further installation.\n+\n+#### Docker\n+Note that your build user needs to be a member of the docker group for the build to work. \n+Do that by adding the user to /etc/groups and logging out and back in again.\n+\n+#### Maven\n You also need to increase the maven RAM limit at least up to 1G.\n \n ```export MAVEN_OPTS=\"-Xmx1g -XX:MaxPermSize=128m\"```\n \n-Some build steps require Python2. If Python3 is default in your system please use `virtualenv`. Ensure that you have `tox` installed:\n+#### Python\n+Some build steps require Python2. If Python3 is default in your system please use `virtualenv`. \n+Ensure that you have `tox` installed:", "originalCommit": "4d9c5e0b0162f2c445de299883caf64a21c3c187", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUzMDk0NA==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380530944", "bodyText": "Could you give an updated sentence as you think it should be?\nI'm asking as the current sentence requests to use virtualenv without mentioning what for.", "author": "sergii-iakovenko", "createdAt": "2020-02-18T08:53:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5Mzk0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU0MDg5Mg==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380540892", "bodyText": "I would rewrite this part:\nEnsure you are using Python2  since some of build steps depends on it. Possible option for that using virtual environment with python interpreter version provided:\n. .venv/bin/activate\n\nEnsure that you have tox installed:\npip install -U pip\npip install tox", "author": "timofei-durakov", "createdAt": "2020-02-18T09:11:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5Mzk0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQ0MTg5NA==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r386441894", "bodyText": "Updated with the proposed.", "author": "sergii-iakovenko", "createdAt": "2020-03-02T14:57:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5Mzk0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5NDc1OA==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380494758", "bodyText": "nit: don't mind to align this port with one from https://github.com/telstra/open-kilda/blob/develop/docker/floodlight-modules/run.sh#L19", "author": "timofei-durakov", "createdAt": "2020-02-18T07:22:11Z", "path": "README.md", "diffHunk": "@@ -108,14 +121,15 @@ to add  ```\"50505:50505\"``` to the northbound ```ports``` block in ```docker-com\n northbound:\n   container_name: openkilda-northbound\n   build:\n-    context: services/src/northbound/\n+    context: docker\n+    dockerfile: northbound/Dockerfile\n   ports:\n     - '8088:8080'\n     - '50505:50505'", "originalCommit": "4d9c5e0b0162f2c445de299883caf64a21c3c187", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5NTQwMw==", "url": "https://github.com/telstra/open-kilda/pull/3202#discussion_r380495403", "bodyText": "offtop: is it really useful?", "author": "timofei-durakov", "createdAt": "2020-02-18T07:24:06Z", "path": "README.md", "diffHunk": "@@ -183,27 +201,27 @@ section on our Wiki.\n \n Start with the following\n \n-1. ```make unit```\n+```\n+make unit\n+```\n \n From there, you can go to specific projects to build / develop / unit test.\n-Just follow the _make unit_ trail.  Most projects have a maven target.\n-\n-__NB: Several projects have a dependency on the maven parent; look at make unit__\n+Just follow the _make unit_ trail.  Most projects have a gradle ```build``` or maven ```target```.\n \n ### How to build / test key use cases\n \n-Look in the `base/hacks/usecase` directory and you'll find several makefiles that will assist\n+Look in the `docker/hacks/usecase` directory and you'll find several makefiles that will assist", "originalCommit": "4d9c5e0b0162f2c445de299883caf64a21c3c187", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3e74e51dbd9792d0305f3e1dbf8fa76c707b10d1", "url": "https://github.com/telstra/open-kilda/commit/3e74e51dbd9792d0305f3e1dbf8fa76c707b10d1", "message": "Update README with project reorg changes.", "committedDate": "2020-03-02T14:46:21Z", "type": "forcePushed"}, {"oid": "ba8a6365d92a2bf84fb55d301c9f4c734c5aad98", "url": "https://github.com/telstra/open-kilda/commit/ba8a6365d92a2bf84fb55d301c9f4c734c5aad98", "message": "Update README with project reorg changes.", "committedDate": "2020-03-03T08:39:11Z", "type": "commit"}, {"oid": "ba8a6365d92a2bf84fb55d301c9f4c734c5aad98", "url": "https://github.com/telstra/open-kilda/commit/ba8a6365d92a2bf84fb55d301c9f4c734c5aad98", "message": "Update README with project reorg changes.", "committedDate": "2020-03-03T08:39:11Z", "type": "forcePushed"}]}