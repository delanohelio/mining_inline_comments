{"pr_number": 3556, "pr_title": "minor improvements/fixes for func tests", "pr_createdAt": "2020-06-22T14:51:16Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3556", "timeline": [{"oid": "1099859bd9cb0d7b7fdce44cc02bb4b2818ff126", "url": "https://github.com/telstra/open-kilda/commit/1099859bd9cb0d7b7fdce44cc02bb4b2818ff126", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-22T14:52:34Z", "type": "forcePushed"}, {"oid": "5c7095e109af3e9682fe736e0e086bd565808dcb", "url": "https://github.com/telstra/open-kilda/commit/5c7095e109af3e9682fe736e0e086bd565808dcb", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-22T16:06:40Z", "type": "forcePushed"}, {"oid": "2fd1374bd40ec68e225c520d4dd9021a86de0af9", "url": "https://github.com/telstra/open-kilda/commit/2fd1374bd40ec68e225c520d4dd9021a86de0af9", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-23T04:43:41Z", "type": "forcePushed"}, {"oid": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6", "url": "https://github.com/telstra/open-kilda/commit/30f4ddabc6803b10b8ed9934f6f00f38d469d9e6", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-23T11:51:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ==", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444713955", "bodyText": "How 'one-sw flow is not pingable' is related to this qinq test?", "author": "rtretyak", "createdAt": "2020-06-24T07:59:15Z", "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/QinQFlowSpec.groovy", "diffHunk": "@@ -248,11 +248,12 @@ class QinQFlowSpec extends HealthCheckSpecification {\n             it.destination.innerVlanId == (dstVlanId ? dstInnerVlanId : 0)\n         }\n \n-        and: \"Flow is valid and pingable\"\n+        and: \"Flow is valid and not pingable\"", "originalCommit": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDczMDU1Ng==", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444730556", "bodyText": "just checked pingLogic is the same as for other kind of flow", "author": "andriidovhan", "createdAt": "2020-06-24T08:28:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjAzNDY1NQ==", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r446034655", "bodyText": "ok, but can this be rephrased somehow? Right now it looks like we are expecting a broken/not-working flow.\nand: \"Flow is valid\"\n...\nand: \"Unable to ping a one-switch qinq flow\"", "author": "rtretyak", "createdAt": "2020-06-26T08:11:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5NTkyOQ==", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r446095929", "bodyText": "it makes sense,\nfixed", "author": "andriidovhan", "createdAt": "2020-06-26T10:13:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzk1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNDY2Nw==", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444714667", "bodyText": "I don't understand this. Just remove this ping verification because it is no longer valid. Why you should explicitly show that you are unable to ping 1-switch flow in every test, especially not ping-related?", "author": "rtretyak", "createdAt": "2020-06-24T08:00:32Z", "path": "src-java/testing/functional-tests/src/test/groovy/org/openkilda/functionaltests/spec/flows/VxlanFlowSpec.groovy", "diffHunk": "@@ -483,8 +483,9 @@ class VxlanFlowSpec extends HealthCheckSpecification {\n \n         and: \"Flow is pingable\"\n         verifyAll(northbound.pingFlow(flow.id, new PingInput())) {\n-            it.forward.pingSuccess\n-            it.reverse.pingSuccess\n+            !forward\n+            !reverse\n+            error == \"Flow ${flow.id} should not be one switch flow\"", "originalCommit": "30f4ddabc6803b10b8ed9934f6f00f38d469d9e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDczMzU4OA==", "url": "https://github.com/telstra/open-kilda/pull/3556#discussion_r444733588", "bodyText": "deleted in tests for APIv1", "author": "andriidovhan", "createdAt": "2020-06-24T08:33:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNDY2Nw=="}], "type": "inlineReview"}, {"oid": "3508ce740c37bd7b2c9fb6c8601e1d78010eb411", "url": "https://github.com/telstra/open-kilda/commit/3508ce740c37bd7b2c9fb6c8601e1d78010eb411", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-24T08:36:41Z", "type": "forcePushed"}, {"oid": "bbb5f17ff8585a1c26a1a1994c8c8d70d822c76f", "url": "https://github.com/telstra/open-kilda/commit/bbb5f17ff8585a1c26a1a1994c8c8d70d822c76f", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-24T11:00:23Z", "type": "forcePushed"}, {"oid": "ffb7136d823458ba28fb096b4cfedaf9ba45fe7a", "url": "https://github.com/telstra/open-kilda/commit/ffb7136d823458ba28fb096b4cfedaf9ba45fe7a", "message": "minor improvements/fixes for func tests", "committedDate": "2020-06-26T10:12:18Z", "type": "forcePushed"}, {"oid": "b98e62afcbd3c5c368c5746cd82937711e207337", "url": "https://github.com/telstra/open-kilda/commit/b98e62afcbd3c5c368c5746cd82937711e207337", "message": "minor improvements/fixes for func tests", "committedDate": "2020-07-01T09:48:00Z", "type": "commit"}, {"oid": "b98e62afcbd3c5c368c5746cd82937711e207337", "url": "https://github.com/telstra/open-kilda/commit/b98e62afcbd3c5c368c5746cd82937711e207337", "message": "minor improvements/fixes for func tests", "committedDate": "2020-07-01T09:48:00Z", "type": "forcePushed"}]}