{"pr_number": 3416, "pr_title": "SpeakerRequestBuildContext refactoring", "pr_createdAt": "2020-04-27T07:34:54Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3416", "timeline": [{"oid": "1e292f7bacfb18f77ba31aab2cfe3305d3fa1bf0", "url": "https://github.com/telstra/open-kilda/commit/1e292f7bacfb18f77ba31aab2cfe3305d3fa1bf0", "message": "Refactored context", "committedDate": "2020-04-27T07:35:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMjczNA==", "url": "https://github.com/telstra/open-kilda/pull/3416#discussion_r415602734", "bodyText": "I am not sure that this is a good idea. It is easy to forget in what state we were and in what state we will be after this operation. For me, an explicit constructor is better. And instead of this method, call the constructor to get a new instance.", "author": "dpoltavets", "createdAt": "2020-04-27T08:11:15Z", "path": "src-java/base-topology/base-storm-topology/src/main/java/org/openkilda/wfm/share/model/SpeakerRequestBuildContext.java", "diffHunk": "@@ -25,10 +25,28 @@\n @AllArgsConstructor\n @EqualsAndHashCode\n public class SpeakerRequestBuildContext {\n-    private boolean removeCustomerPortRule;\n-    private boolean removeOppositeCustomerPortRule;\n-    private boolean removeCustomerPortLldpRule;\n-    private boolean removeOppositeCustomerPortLldpRule;\n-    private boolean removeCustomerPortArpRule;\n-    private boolean removeOppositeCustomerPortArpRule;\n+    public static final SpeakerRequestBuildContext EMPTY = SpeakerRequestBuildContext.builder()\n+            .forward(PathContext.builder().build())\n+            .reverse(PathContext.builder().build())\n+            .build();\n+\n+    private PathContext forward;\n+    private PathContext reverse;\n+\n+    /**\n+     * Swap forward and reverse PathContext.\n+     */\n+    public void swap() {", "originalCommit": "1e292f7bacfb18f77ba31aab2cfe3305d3fa1bf0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwNjM4OA==", "url": "https://github.com/telstra/open-kilda/pull/3416#discussion_r415606388", "bodyText": "okay", "author": "niksv", "createdAt": "2020-04-27T08:16:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMjczNA=="}], "type": "inlineReview"}, {"oid": "0b84686ef3be8616ab68708dcc76ebd97281e74c", "url": "https://github.com/telstra/open-kilda/commit/0b84686ef3be8616ab68708dcc76ebd97281e74c", "message": "Refactored context", "committedDate": "2020-04-27T08:18:12Z", "type": "forcePushed"}, {"oid": "882dc2c5048b28c6e52daec121259401f6d78dea", "url": "https://github.com/telstra/open-kilda/commit/882dc2c5048b28c6e52daec121259401f6d78dea", "message": "Refactored context", "committedDate": "2020-04-27T12:09:38Z", "type": "forcePushed"}, {"oid": "bfda3d1dd787b90c2c4633e53cb0a3702551af73", "url": "https://github.com/telstra/open-kilda/commit/bfda3d1dd787b90c2c4633e53cb0a3702551af73", "message": "Rename RulesContext", "committedDate": "2020-04-27T12:29:23Z", "type": "commit"}, {"oid": "a40e7b092b0cfdf8b8c647b8baf0eb27b693b18a", "url": "https://github.com/telstra/open-kilda/commit/a40e7b092b0cfdf8b8c647b8baf0eb27b693b18a", "message": "Refactored context", "committedDate": "2020-04-27T12:29:23Z", "type": "commit"}, {"oid": "a40e7b092b0cfdf8b8c647b8baf0eb27b693b18a", "url": "https://github.com/telstra/open-kilda/commit/a40e7b092b0cfdf8b8c647b8baf0eb27b693b18a", "message": "Refactored context", "committedDate": "2020-04-27T12:29:23Z", "type": "forcePushed"}]}