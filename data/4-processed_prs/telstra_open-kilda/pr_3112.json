{"pr_number": 3112, "pr_title": "improvement: generate topology with one-way link only", "pr_createdAt": "2020-01-13T15:05:04Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3112", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NzM5Nw==", "url": "https://github.com/telstra/open-kilda/pull/3112#discussion_r365867397", "bodyText": "OK, but can be more compact:\ntopoLinks.unique { a, b -> a == b || a == b.reversed ? 0 : 1 }", "author": "rtretyak", "createdAt": "2020-01-13T15:32:20Z", "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/TopologyHelper.groovy", "diffHunk": "@@ -91,7 +91,13 @@ class TopologyHelper {\n                     topoSwitches.find { it.dpId == link.destination.switchId }, link.destination.portNo,\n                     link.maxBandwidth, null)\n         }\n-        return new TopologyDefinition(topoSwitches, topoLinks, [], TraffGenConfig.defaultConfig())\n+        def oneWayTopoLinks = []\n+        topoLinks.each { l ->\n+            if (oneWayTopoLinks.findAll { it == l || it == l.reversed }.empty) {\n+                oneWayTopoLinks << l\n+            }\n+        }", "originalCommit": "a3729365fb8d4e02f7fc064fa7a7edf83e3d551e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg4MjI3OQ==", "url": "https://github.com/telstra/open-kilda/pull/3112#discussion_r365882279", "bodyText": "thx, refactored", "author": "andriidovhan", "createdAt": "2020-01-13T15:58:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NzM5Nw=="}], "type": "inlineReview"}, {"oid": "05a1eeb3fa1bf8817cdebcd732a2bf4f9213df5b", "url": "https://github.com/telstra/open-kilda/commit/05a1eeb3fa1bf8817cdebcd732a2bf4f9213df5b", "message": "generate topology with one-way link only", "committedDate": "2020-01-13T15:58:03Z", "type": "forcePushed"}, {"oid": "e1e3b547cde13b948daa97a163ef908d6379c4ea", "url": "https://github.com/telstra/open-kilda/commit/e1e3b547cde13b948daa97a163ef908d6379c4ea", "message": "generate topology with one-way link only", "committedDate": "2020-02-07T11:15:17Z", "type": "commit"}, {"oid": "e1e3b547cde13b948daa97a163ef908d6379c4ea", "url": "https://github.com/telstra/open-kilda/commit/e1e3b547cde13b948daa97a163ef908d6379c4ea", "message": "generate topology with one-way link only", "committedDate": "2020-02-07T11:15:17Z", "type": "forcePushed"}]}