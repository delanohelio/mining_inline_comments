{"pr_number": 3947, "pr_title": "Add topology_name to ContextMap for logging purposes", "pr_createdAt": "2020-12-23T13:56:01Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3947", "timeline": [{"oid": "7cb19ca9683133df7f2aa72820fe254a45e9c0ed", "url": "https://github.com/telstra/open-kilda/commit/7cb19ca9683133df7f2aa72820fe254a45e9c0ed", "message": "Add topology_name to ContextMap for logging purposes", "committedDate": "2020-12-23T13:56:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk3NzYxNA==", "url": "https://github.com/telstra/open-kilda/pull/3947#discussion_r547977614", "bodyText": "Too many null checks (here and on line 59), collect them in one place.", "author": "surabujin", "createdAt": "2020-12-23T14:12:40Z", "path": "src-java/base-topology/base-storm-topology/src/main/java/org/openkilda/wfm/topology/utils/LoggerContextInitializer.java", "diffHunk": "@@ -51,6 +53,28 @@\n public class LoggerContextInitializer {\n     private static final Logger LOGGER = LoggerFactory.getLogger(LoggerContextInitializer.class);\n \n+    private String stormId;\n+\n+    public LoggerContextInitializer() {\n+        this.stormId = System.getProperties().get(\"storm.id\") != null\n+                ? getCleanTopoName(System.getProperties().get(\"storm.id\").toString())\n+                : \"\";\n+    }\n+\n+    static String getCleanTopoName(String stormId) {\n+        if (stormId == null || stormId.isEmpty()) {\n+            return stormId;", "originalCommit": "7cb19ca9683133df7f2aa72820fe254a45e9c0ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk5MzMzNA==", "url": "https://github.com/telstra/open-kilda/pull/3947#discussion_r547993334", "bodyText": "cleaned", "author": "timofei-durakov", "createdAt": "2020-12-23T14:47:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk3NzYxNA=="}], "type": "inlineReview"}, {"oid": "8eee2ec766ae75d727bde9cdad04b0168fb3072f", "url": "https://github.com/telstra/open-kilda/commit/8eee2ec766ae75d727bde9cdad04b0168fb3072f", "message": "Add topology_name to ContextMap for logging purposes", "committedDate": "2020-12-23T14:49:15Z", "type": "commit"}, {"oid": "8eee2ec766ae75d727bde9cdad04b0168fb3072f", "url": "https://github.com/telstra/open-kilda/commit/8eee2ec766ae75d727bde9cdad04b0168fb3072f", "message": "Add topology_name to ContextMap for logging purposes", "committedDate": "2020-12-23T14:49:15Z", "type": "forcePushed"}]}