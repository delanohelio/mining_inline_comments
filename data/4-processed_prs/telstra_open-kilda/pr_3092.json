{"pr_number": 3092, "pr_title": "Minor tweaks in tests according to default meters validation feature", "pr_createdAt": "2020-01-03T13:23:11Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3092", "timeline": [{"oid": "3ac44a877f74ea368c4f60af0755de30cf8dc934", "url": "https://github.com/telstra/open-kilda/commit/3ac44a877f74ea368c4f60af0755de30cf8dc934", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-03T14:28:43Z", "type": "forcePushed"}, {"oid": "28830e02e4915e9070c6e5e9efab7b7c8a40183b", "url": "https://github.com/telstra/open-kilda/commit/28830e02e4915e9070c6e5e9efab7b7c8a40183b", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-03T14:43:31Z", "type": "forcePushed"}, {"oid": "5c674c1400672b4453c16f2a2a2a8b9c1fbbc87c", "url": "https://github.com/telstra/open-kilda/commit/5c674c1400672b4453c16f2a2a2a8b9c1fbbc87c", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-08T13:24:36Z", "type": "forcePushed"}, {"oid": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "url": "https://github.com/telstra/open-kilda/commit/8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-08T14:16:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY5MzMyNw==", "url": "https://github.com/telstra/open-kilda/pull/3092#discussion_r365693327", "bodyText": "do we have the same meters for all kind of switches(noviflow, centec, accton)?", "author": "andriidovhan", "createdAt": "2020-01-13T08:56:55Z", "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/SwitchHelper.groovy", "diffHunk": "@@ -131,6 +132,20 @@ class SwitchHelper {\n         }\n     }\n \n+\n+    static List<Long> getDefaultMeters(Switch sw) {\n+        def swProps = northbound.getSwitchProperties(sw.dpId)\n+        if (swProps.multiTable) {\n+            def result = [2, 3, 16, 18]\n+            if (swProps.supportedTransitEncapsulation.contains(FlowEncapsulationType.VXLAN.toString())) {\n+                result << 17\n+            }\n+            return result\n+        } else {\n+            return [2, 3]\n+        }\n+    }", "originalCommit": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY5NTE3NQ==", "url": "https://github.com/telstra/open-kilda/pull/3092#discussion_r365695175", "bodyText": "how about extracting these numbers into global variables?", "author": "andriidovhan", "createdAt": "2020-01-13T09:02:00Z", "path": "services/src/functional-tests/src/main/groovy/org/openkilda/functionaltests/helpers/SwitchHelper.groovy", "diffHunk": "@@ -131,6 +132,20 @@ class SwitchHelper {\n         }\n     }\n \n+\n+    static List<Long> getDefaultMeters(Switch sw) {\n+        def swProps = northbound.getSwitchProperties(sw.dpId)\n+        if (swProps.multiTable) {\n+            def result = [2, 3, 16, 18]", "originalCommit": "8d8fde2ed4ae7ec4e7bcf668e0e435e6637d1b9a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "41bff038ee128bd8c2df0cb74bffd257fde589e4", "url": "https://github.com/telstra/open-kilda/commit/41bff038ee128bd8c2df0cb74bffd257fde589e4", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-23T14:50:06Z", "type": "forcePushed"}, {"oid": "ac9dc65311d95db9a8ad55fefa16cfab2368e240", "url": "https://github.com/telstra/open-kilda/commit/ac9dc65311d95db9a8ad55fefa16cfab2368e240", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-23T16:04:48Z", "type": "forcePushed"}, {"oid": "8f4ec561c64e322b28873156ceb8ce8d56134375", "url": "https://github.com/telstra/open-kilda/commit/8f4ec561c64e322b28873156ceb8ce8d56134375", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-24T10:23:51Z", "type": "forcePushed"}, {"oid": "768286ca904dd718e67b8d7cedb5eb2db8f8eb13", "url": "https://github.com/telstra/open-kilda/commit/768286ca904dd718e67b8d7cedb5eb2db8f8eb13", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-31T14:10:20Z", "type": "forcePushed"}, {"oid": "b2b403e9c682b4262684ff43eecd1cd584898d4a", "url": "https://github.com/telstra/open-kilda/commit/b2b403e9c682b4262684ff43eecd1cd584898d4a", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-01-31T15:05:22Z", "type": "forcePushed"}, {"oid": "4302e1ec59f7c4c707da44c7cde79725bc1fe9a8", "url": "https://github.com/telstra/open-kilda/commit/4302e1ec59f7c4c707da44c7cde79725bc1fe9a8", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-02-18T12:21:56Z", "type": "forcePushed"}, {"oid": "067f79d146dd897bbb0f7675a147fee02271d140", "url": "https://github.com/telstra/open-kilda/commit/067f79d146dd897bbb0f7675a147fee02271d140", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-02-19T10:19:01Z", "type": "forcePushed"}, {"oid": "e2aebecf214a3b6677dd7148169593fb4842839c", "url": "https://github.com/telstra/open-kilda/commit/e2aebecf214a3b6677dd7148169593fb4842839c", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-02-20T14:56:00Z", "type": "forcePushed"}, {"oid": "5fabd31ab09d9529f884df51228bba9552eae901", "url": "https://github.com/telstra/open-kilda/commit/5fabd31ab09d9529f884df51228bba9552eae901", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-02-21T11:42:14Z", "type": "forcePushed"}, {"oid": "60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "url": "https://github.com/telstra/open-kilda/commit/60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-03-02T12:00:20Z", "type": "commit"}, {"oid": "60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "url": "https://github.com/telstra/open-kilda/commit/60d8e930727cbfa69cbd26ac09593ed3f8dd703a", "message": "Minor tweaks in tests according to default meters validation feature", "committedDate": "2020-03-02T12:00:20Z", "type": "forcePushed"}]}