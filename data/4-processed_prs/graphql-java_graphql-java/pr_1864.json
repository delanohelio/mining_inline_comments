{"pr_number": 1864, "pr_title": "1847: Fix circular reference between input object field/type", "pr_createdAt": "2020-04-16T01:16:25Z", "pr_url": "https://github.com/graphql-java/graphql-java/pull/1864", "timeline": [{"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228", "url": "https://github.com/graphql-java/graphql-java/commit/d7e234cf6240322d5a6bdc6b0759652e85d23228", "message": "1847: Fix circular reference between input object field/type\nFixes #1847", "committedDate": "2020-04-16T01:40:55Z", "type": "commit"}, {"oid": "d7e234cf6240322d5a6bdc6b0759652e85d23228", "url": "https://github.com/graphql-java/graphql-java/commit/d7e234cf6240322d5a6bdc6b0759652e85d23228", "message": "1847: Fix circular reference between input object field/type\nFixes #1847", "committedDate": "2020-04-16T01:40:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTIzNDAzMg==", "url": "https://github.com/graphql-java/graphql-java/pull/1864#discussion_r409234032", "bodyText": "This is a simple mechanism to break the infinite cycle.\nIt could be implemented in either class. I've decided to the check in GraphQLInputObjectField for no particular reason.", "author": "felipe-gdr", "createdAt": "2020-04-16T01:52:33Z", "path": "src/main/java/graphql/schema/GraphQLInputObjectField.java", "diffHunk": "@@ -170,14 +170,20 @@ public String toString() {\n         return \"GraphQLInputObjectField{\" +\n                 \"name='\" + name + '\\'' +\n                 \", description='\" + description + '\\'' +\n-                \", originalType=\" + originalType +\n+                \", originalType=\" + inputTypeToStringAvoidingCircularReference(originalType) +\n                 \", defaultValue=\" + defaultValue +\n                 \", definition=\" + definition +\n                 \", directives=\" + directives +\n-                \", replacedType=\" + replacedType +\n+                \", replacedType=\" + inputTypeToStringAvoidingCircularReference(replacedType) +", "originalCommit": "d7e234cf6240322d5a6bdc6b0759652e85d23228", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI1MzE2Mw==", "url": "https://github.com/graphql-java/graphql-java/pull/1864#discussion_r409253163", "bodyText": "There's no circular reference here", "author": "tbroyer", "createdAt": "2020-04-16T03:04:12Z", "path": "src/test/groovy/graphql/Issue1847.groovy", "diffHunk": "@@ -0,0 +1,42 @@\n+package graphql\n+\n+import spock.lang.Specification\n+\n+class Issue1847 extends Specification {\n+    def schema = TestUtil.schema('''\n+                type Query {\n+                    listWithCircularReference(filter : TypeWithCircularReference) : String \n+                    list(filter : Type) : String \n+                }\n+                input TypeWithCircularReference {\n+                    circularField : Type", "originalCommit": "d7e234cf6240322d5a6bdc6b0759652e85d23228", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI2MzExNQ==", "url": "https://github.com/graphql-java/graphql-java/pull/1864#discussion_r409263115", "bodyText": "You're right @tbroyer , did some last minute refactoring and lost the circular reference here. Just pushed a new commit that fixes it. Cheers!", "author": "felipe-gdr", "createdAt": "2020-04-16T03:42:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI1MzE2Mw=="}], "type": "inlineReview"}, {"oid": "a381952045567acf6f92bf53eba93eb6dba89f3a", "url": "https://github.com/graphql-java/graphql-java/commit/a381952045567acf6f92bf53eba93eb6dba89f3a", "message": "1847: Add circular reference back on test", "committedDate": "2020-04-16T03:40:25Z", "type": "commit"}]}