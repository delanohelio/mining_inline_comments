{"pr_number": 3238, "pr_title": "NMS-13005: Newts confd docs", "pr_createdAt": "2020-12-07T14:41:04Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/3238", "timeline": [{"oid": "6dc3a446305e40145a05cf75ab593b5a33126279", "url": "https://github.com/OpenNMS/opennms/commit/6dc3a446305e40145a05cf75ab593b5a33126279", "message": "NMS-13005: Newts Confd  docs", "committedDate": "2020-12-02T16:26:07Z", "type": "commit"}, {"oid": "ba757ce0de8465271b3d891bf92cf71963288370", "url": "https://github.com/OpenNMS/opennms/commit/ba757ce0de8465271b3d891bf92cf71963288370", "message": "Added replicationFactor", "committedDate": "2020-12-07T06:23:23Z", "type": "commit"}, {"oid": "4e6ce7ce4a8051d700e65245f74d28488dff8659", "url": "https://github.com/OpenNMS/opennms/commit/4e6ce7ce4a8051d700e65245f74d28488dff8659", "message": "removed ReplicationFactor", "committedDate": "2020-12-07T06:49:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTM3NTE4OQ==", "url": "https://github.com/OpenNMS/opennms/pull/3238#discussion_r539375189", "bodyText": "Does the trailing , make issues? I think with TOML it doesn't matter. We just should make sure :)", "author": "indigo423", "createdAt": "2020-12-09T14:56:35Z", "path": "opennms-container/horizon/container-fs/confd/conf.d/newts.properties.toml", "diffHunk": "@@ -3,9 +3,5 @@ src = \"newts.properties.tpl\"\n dest = \"/opt/opennms/etc/opennms.properties.d/_confd.newts.properties\"\n keys = [\n     \"replication/factor\",\n-    \"opennms/cassandra/hostnames\",\n-    \"opennms/cassandra/keyspace\",\n-    \"opennms/cassandra/port\",\n-    \"opennms/cassandra/username\",\n-    \"opennms/cassandra/password\"\n+    \"opennms/cassandra\",", "originalCommit": "4e6ce7ce4a8051d700e65245f74d28488dff8659", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY1NTk4OA==", "url": "https://github.com/OpenNMS/opennms/pull/3238#discussion_r544655988", "bodyText": "I think it does not make issues, since we have it here too.\nBut we also have it here without the trailing ,.", "author": "mfuhrmann", "createdAt": "2020-12-16T22:04:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTM3NTE4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDk3OTkwNg==", "url": "https://github.com/OpenNMS/opennms/pull/3238#discussion_r554979906", "bodyText": "Is it hostname or hostnames here? Can you please verify? Just to make sure we keep it as it was and don't break existing configs.", "author": "indigo423", "createdAt": "2021-01-11T11:23:39Z", "path": "opennms-container/horizon/container-fs/confd/templates/newts.properties.tpl", "diffHunk": "@@ -1,8 +1,11 @@\n #\n # DON'T EDIT THIS FILE :: GENERATED WITH CONFD\n #\n-org.opennms.newts.config.hostname={{getv \"/opennms/cassandra/hostnames\" \"localhost\"}}\n-org.opennms.newts.config.keyspace={{getv \"/opennms/cassandra/keyspace\" \"newts\"}}\n-org.opennms.newts.config.port={{getv \"/opennms/cassandra/port\" \"9042\"}}\n-org.opennms.newts.config.username={{getv \"/opennms/cassandra/username\" \"cassandra\"}}\n-org.opennms.newts.config.password={{getv \"/opennms/cassandra/password\" \"cassandra\"}}\n+\n+{{$cassandraPath := \"/opennms/cassandra/\" -}}\n+\n+org.opennms.newts.config.hostname={{getv (print $cassandraPath \"hostname\") \"hostname\"}}", "originalCommit": "4e6ce7ce4a8051d700e65245f74d28488dff8659", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODA2MzczNQ==", "url": "https://github.com/OpenNMS/opennms/pull/3238#discussion_r568063735", "bodyText": "Regarding our existing configs in opennms.properties it is hostname.", "author": "mfuhrmann", "createdAt": "2021-02-01T18:56:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDk3OTkwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDk4MDM5NA==", "url": "https://github.com/OpenNMS/opennms/pull/3238#discussion_r554980394", "bodyText": "See comment below, hostname vs. hostnames", "author": "indigo423", "createdAt": "2021-01-11T11:24:41Z", "path": "opennms-container/horizon/container-fs/confd/templates/newts.properties.tpl", "diffHunk": "@@ -1,8 +1,11 @@\n #\n # DON'T EDIT THIS FILE :: GENERATED WITH CONFD\n #\n-org.opennms.newts.config.hostname={{getv \"/opennms/cassandra/hostnames\" \"localhost\"}}", "originalCommit": "4e6ce7ce4a8051d700e65245f74d28488dff8659", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "75ad56530068dd285c82dc59e787ec165b830b6b", "url": "https://github.com/OpenNMS/opennms/commit/75ad56530068dd285c82dc59e787ec165b830b6b", "message": "Readme typo fix", "committedDate": "2021-02-01T18:58:58Z", "type": "commit"}, {"oid": "1ac7945797597bda9d83b637e45806f58a132672", "url": "https://github.com/OpenNMS/opennms/commit/1ac7945797597bda9d83b637e45806f58a132672", "message": "Merge branch 'OpenNMS:develop' into jira/NMS-13005", "committedDate": "2021-07-05T08:42:08Z", "type": "commit"}]}