{"pr_number": 2884, "pr_title": "NMS-12520: Add documentation for downtime model delete attribute", "pr_createdAt": "2020-02-06T13:44:34Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/2884", "timeline": [{"oid": "a591a58003e550e7941a8ed7b8e854b73271f024", "url": "https://github.com/OpenNMS/opennms/commit/a591a58003e550e7941a8ed7b8e854b73271f024", "message": "NMS-12520: Add documentation for downtime model delete attribute introduced in NMS-12442", "committedDate": "2020-02-06T13:41:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMTQzOQ==", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379021439", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services\n          \n          \n            \n            <4> after 5 days of an ongoing outage the service will be polled only once a hour and we do not delete services", "author": "Bonrob2", "createdAt": "2020-02-13T17:51:44Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n-<4> after 5 days of an ongoing outage the service will polled only once a hour\n+<4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services", "originalCommit": "a591a58003e550e7941a8ed7b8e854b73271f024", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMTg4OA==", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379021888", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | Value     | Description\n          \n          \n            \n            | Value     | description", "author": "Bonrob2", "createdAt": "2020-02-13T17:52:34Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n-<4> after 5 days of an ongoing outage the service will polled only once a hour\n+<4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services\n+\n+The last downtime interval can have an attribute `delete` and allows you to influence the service lifecycle. \n+It defines the behavior that happens if a service doesn't come back online after 5 days.\n+The following downtime attributes for `delete` can be used:\n+\n+[options=\"header, autowidth\"]\n+|===\n+| Value     | Description", "originalCommit": "a591a58003e550e7941a8ed7b8e854b73271f024", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjAzMg==", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022032", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | _not set_ | If `delete` is not configured it is similar to `delete=\"never\"` and is the default\n          \n          \n            \n            | _not set_ | if `delete` is not configured it is similar to `delete=\"never\"` and is the default", "author": "Bonrob2", "createdAt": "2020-02-13T17:52:51Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n-<4> after 5 days of an ongoing outage the service will polled only once a hour\n+<4> after 5 days of an ongoing outage the service will polled only once a hour and we do not delete services\n+\n+The last downtime interval can have an attribute `delete` and allows you to influence the service lifecycle. \n+It defines the behavior that happens if a service doesn't come back online after 5 days.\n+The following downtime attributes for `delete` can be used:\n+\n+[options=\"header, autowidth\"]\n+|===\n+| Value     | Description\n+| `never`   | services will never be deleted automatically\n+| `managed` | only managed services will be deleted\n+| `always`  | managed and unmanaged services will be deleted\n+| _not set_ | If `delete` is not configured it is similar to `delete=\"never\"` and is the default", "originalCommit": "a591a58003e550e7941a8ed7b8e854b73271f024", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjM0Ng==", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022346", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n          \n          \n            \n            <1> from 0 seconds after an outage is detected until 5 minutes, the polling interval will be set to 30 seconds", "author": "Bonrob2", "createdAt": "2020-02-13T17:53:25Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds", "originalCommit": "a591a58003e550e7941a8ed7b8e854b73271f024", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjc3OQ==", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022779", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n          \n          \n            \n            <2> after 5 minutes of an ongoing outage until 12 hours, the polling interval will be set to 5 minutes", "author": "Bonrob2", "createdAt": "2020-02-13T17:54:13Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes", "originalCommit": "a591a58003e550e7941a8ed7b8e854b73271f024", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTAyMjkwNg==", "url": "https://github.com/OpenNMS/opennms/pull/2884#discussion_r379022906", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes\n          \n          \n            \n            <3> after 12 hours of an ongoing outage until 5 days, the polling interval will be set to 10 minutes", "author": "Bonrob2", "createdAt": "2020-02-13T17:54:26Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/service-assurance/downtime-model.adoc", "diffHunk": "@@ -25,9 +25,22 @@ The scheduler changed the polling interval back to 5 minutes.\n <downtime interval=\"30000\" begin=\"0\" end=\"300000\" /><!-- 30s, 0, 5m --><1>\n <downtime interval=\"300000\" begin=\"300000\" end=\"43200000\" /><!-- 5m, 5m, 12h --><2>\n <downtime interval=\"600000\" begin=\"43200000\" end=\"432000000\" /><!-- 10m, 12h, 5d --><3>\n-<downtime interval=\"3600000\" begin=\"432000000\" /><!-- 1h, 5d --><4>\n+<downtime interval=\"3600000\" begin=\"432000000\" delete=\"never\"/><!-- 1h, 5d --><4>\n ----\n <1> from 0 seconds after an outage is detected until 5 minutes the polling interval will be set to 30 seconds\n <2> after 5 minutes of an ongoing outage until 12 hours the polling interval will be set to 5 minutes\n <3> after 12 hours of an ongoing outage until 5 days the polling interval will be set to 10 minutes", "originalCommit": "a591a58003e550e7941a8ed7b8e854b73271f024", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7feac36128fff2e0be6e1494738759ca91704e8f", "url": "https://github.com/OpenNMS/opennms/commit/7feac36128fff2e0be6e1494738759ca91704e8f", "message": "NMS-12520: Reviewer comments and improvements\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>", "committedDate": "2020-02-13T19:20:48Z", "type": "commit"}, {"oid": "7feac36128fff2e0be6e1494738759ca91704e8f", "url": "https://github.com/OpenNMS/opennms/commit/7feac36128fff2e0be6e1494738759ca91704e8f", "message": "NMS-12520: Reviewer comments and improvements\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>", "committedDate": "2020-02-13T19:20:48Z", "type": "forcePushed"}]}