{"pr_number": 2888, "pr_title": "NMS-12527: Migrate config-tester wiki to the docs", "pr_createdAt": "2020-02-14T09:35:55Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/2888", "timeline": [{"oid": "d70dd8c279da10e38234bae5d919fd220b2b4daf", "url": "https://github.com/OpenNMS/opennms/commit/d70dd8c279da10e38234bae5d919fd220b2b4daf", "message": "NMS-12527: Migrate config-tester wiki to the docs", "committedDate": "2020-02-14T09:24:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ0MzgxOQ==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r379443819", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The `config-tester` will be run while OpenNMS starts and prints the issues into `output.log`.\n          \n          \n            \n            The `config-tester` runs while OpenNMS starts and checks a number of configuration files. Type `-l, --list` to view the list of files checked. \n          \n          \n            \n            It prints issues into `output.log`.\n          \n      \n    \n    \n  \n\n@ronny-trommer , could you add what the config-tester tests?", "author": "Bonrob2", "createdAt": "2020-02-14T14:00:07Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/operation/config-tester.adoc", "diffHunk": "@@ -0,0 +1,27 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+[[ga-operation-config-tester]]\n+=== Configuration Tester\n+\n+To identify configuration problems there is a config-tester located in `$OPENNMS_HOME/bin/`.\n+The `config-tester` will be run while OpenNMS starts and prints the issues into `output.log`.", "originalCommit": "d70dd8c279da10e38234bae5d919fd220b2b4daf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkyOTkzMQ==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r379929931", "bodyText": "The list of supported configuration files that can be tested is shown with -l, --list. It is a pretty long list of files and might be tedious to keep them maintained here. Here is a list which is currently supported:\nSupported configuration files:\n    ackd-configuration.xml\n    actiond-configuration.xml\n    ami-config.xml\n    availability-reports.xml\n    bsf-northbounder-configuration.xml\n    categories.xml\n    chart-configuration.xml\n    collectd-configuration.xml\n    database-reports.xml\n    database-schema.xml\n    datacollection-config.xml\n    destinationPaths.xml\n    discovery-configuration.xml\n    drools-northbounder-configuration.xml\n    eventconf.xml\n    eventd-configuration.xml\n    exclude-ueis.properties\n    email-northbounder-configuration.xml\n    groups.xml\n    http-datacollection-config.xml\n    jasper-reports.xml\n    javamail-configuration.properties\n    javamail-configuration.xml\n    jdbc-datacollection-config.xml\n    jmx-config.xml\n    jmx-datacollection-config.xml\n    xml-datacollection-config.xml\n    ksc-performance-reports.xml\n    microblog-configuration.xml\n    notifd-configuration.xml\n    notificationCommands.xml\n    notifications.xml\n    opennms-datasources.xml\n    opennms.properties\n    poll-outages.xml\n    poller-configuration.xml\n    provisiond-configuration.xml\n    reportd-configuration.xml\n    response-adhoc-graph.properties\n    response-graph.properties\n    rrd-configuration.properties\n    rtc-configuration.xml\n    rws-configuration.xml\n    scriptd-configuration.xml\n    service-configuration.xml\n    site-status-views.xml\n    snmp-adhoc-graph.properties\n    snmp-config.xml\n    snmp-graph.properties\n    snmptrap-northbounder-configuration.xml\n    statsd-configuration.xml\n    surveillance-views.xml\n    syslogd-configuration.xml\n    syslog-northbounder-configuration.xml\n    telemetryd-configuration.xml\n    threshd-configuration.xml\n    thresholds.xml\n    tl1d-configuration.xml\n    translator-configuration.xml\n    trapd-configuration.xml\n    users.xml\n    vacuumd-configuration.xml\n    viewsdisplay.xml\n    wmi-config.xml\n    wmi-datacollection-config.xml\n    vmware-cim-datacollection-config.xml\n    vmware-datacollection-config.xml\n    vmware-config.xml\n    wsman-config.xml\n    wsman-datacollection-config.xml\n    opennms.properties.d\n    imports\n    foreign-sources", "author": "indigo423", "createdAt": "2020-02-16T20:14:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ0MzgxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQ0NDQ3NQ==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r379444475", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            But the tool can be used while OpenNMS is running to check configuration beforehand.\n          \n          \n            \n            The tool can be used while OpenNMS is running to check configuration beforehand.\n          \n      \n    \n    \n  \n\n@mfuhrmann What does \"beforehand\" refer to? Before what?", "author": "Bonrob2", "createdAt": "2020-02-14T14:01:25Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/operation/config-tester.adoc", "diffHunk": "@@ -0,0 +1,27 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+[[ga-operation-config-tester]]\n+=== Configuration Tester\n+\n+To identify configuration problems there is a config-tester located in `$OPENNMS_HOME/bin/`.\n+The `config-tester` will be run while OpenNMS starts and prints the issues into `output.log`.\n+But the tool can be used while OpenNMS is running to check configuration beforehand.", "originalCommit": "d70dd8c279da10e38234bae5d919fd220b2b4daf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM5NzA1MA==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r379397050", "bodyText": "It runs only automatically on startup in our Docker images. On a bare-metal server install you have to run it manually.  The systemd init script just runs xmllint against our configuration and just tries to see if there are any XML well-form errors. The config-tester tries to load the configs and can test the much more in detail if the configuration files are valid or not.", "author": "indigo423", "createdAt": "2020-02-14T12:06:13Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/operation/config-tester.adoc", "diffHunk": "@@ -0,0 +1,27 @@\n+\n+// Allow GitHub image rendering\n+:imagesdir: ../../../images\n+\n+[[ga-operation-config-tester]]\n+=== Configuration Tester\n+\n+To identify configuration problems there is a config-tester located in `$OPENNMS_HOME/bin/`.\n+The `config-tester` will be run while OpenNMS starts and prints the issues into `output.log`.", "originalCommit": "d70dd8c279da10e38234bae5d919fd220b2b4daf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDc2ODcxOA==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r380768718", "bodyText": "@indigo423, to clarify, should I remove the information that it runs automatically on startup and just include the information about running it manually?", "author": "Bonrob2", "createdAt": "2020-02-18T16:01:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM5NzA1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzNDc0NA==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r381134744", "bodyText": "yes we should remove the information that it runs automatically on startup. \ud83d\udc4d", "author": "indigo423", "createdAt": "2020-02-19T08:18:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM5NzA1MA=="}], "type": "inlineReview"}, {"oid": "1ee490aa5f4e6814da75303b4f77571fa23e94e0", "url": "https://github.com/OpenNMS/opennms/commit/1ee490aa5f4e6814da75303b4f77571fa23e94e0", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/operation/config-tester.adoc\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>", "committedDate": "2020-02-19T08:17:42Z", "type": "commit"}, {"oid": "c52fff07ff7efdd33a7eaba2a0550655d229c8c2", "url": "https://github.com/OpenNMS/opennms/commit/c52fff07ff7efdd33a7eaba2a0550655d229c8c2", "message": "Update opennms-doc/guide-admin/src/asciidoc/text/operation/config-tester.adoc\n\nCo-Authored-By: Bonrob2 <59453630+Bonrob2@users.noreply.github.com>", "committedDate": "2020-02-19T08:18:27Z", "type": "commit"}, {"oid": "502669e84b33d51e782a6cd53200132be3b4a0fa", "url": "https://github.com/OpenNMS/opennms/commit/502669e84b33d51e782a6cd53200132be3b4a0fa", "message": "Update config-tester.adoc", "committedDate": "2020-03-17T19:47:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI3NzU5MQ==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r394277591", "bodyText": "The config-tester does not run automatically when OpenNMS starts. The user has to run it by himself to test his configuration files.", "author": "indigo423", "createdAt": "2020-03-18T11:28:20Z", "path": "opennms-doc/guide-admin/src/asciidoc/text/operation/config-tester.adoc", "diffHunk": "@@ -6,7 +6,8 @@\n === Configuration Tester\n \n To identify configuration problems there is a config-tester located in `$OPENNMS_HOME/bin/`.\n-The `config-tester` runs while OpenNMS starts and checks a number of configuration files. Type `-l, --list` to view the list of files checked. \n+The `config-tester` runs while OpenNMS starts and checks a number of configuration files. ", "originalCommit": "502669e84b33d51e782a6cd53200132be3b4a0fa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDMyMjk5Ng==", "url": "https://github.com/OpenNMS/opennms/pull/2888#discussion_r394322996", "bodyText": "Updated.", "author": "Bonrob2", "createdAt": "2020-03-18T12:53:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI3NzU5MQ=="}], "type": "inlineReview"}, {"oid": "5cf5431bd22797c62de5347c59cf20661115e15f", "url": "https://github.com/OpenNMS/opennms/commit/5cf5431bd22797c62de5347c59cf20661115e15f", "message": "Updated as per feedback.", "committedDate": "2020-03-18T12:52:57Z", "type": "commit"}]}