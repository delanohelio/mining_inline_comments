{"pr_number": 3096, "pr_title": "NMS-12837: Fix missing calculation to rescale raw latency metric to ms", "pr_createdAt": "2020-08-04T20:13:34Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/3096", "timeline": [{"oid": "48d4c760dd62b7412110856d42e0deabdd23ff51", "url": "https://github.com/OpenNMS/opennms/commit/48d4c760dd62b7412110856d42e0deabdd23ff51", "message": "NMS-12837: Fix missing calculation to rescale raw latency metric to ms", "committedDate": "2020-08-04T19:58:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg3NDA1Mg==", "url": "https://github.com/OpenNMS/opennms/pull/3096#discussion_r465874052", "bodyText": "Nit: This would be a little more concise and save having to parse the double from a string:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t<textFieldExpression><![CDATA[String.format(\"%.2f\", $V{ICMP_Latency_MIN}/new Double(\"1000.0\"))]]></textFieldExpression>\n          \n          \n            \n            \t\t\t\t<textFieldExpression><![CDATA[String.format(\"%.2f\", $V{ICMP_Latency_MIN}/1000.0d)]]></textFieldExpression>", "author": "j-white", "createdAt": "2020-08-05T17:03:48Z", "path": "opennms-base-assembly/src/main/filtered/etc/report-templates/subreports/ResponseTimeSummary_subreport.jrxml", "diffHunk": "@@ -99,19 +99,19 @@\n \t\t\t\t\t<property name=\"local_mesure_unity\" value=\"pixel\"/>\n \t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.y\" value=\"px\"/>\n \t\t\t\t</reportElement>\n-\t\t\t\t<textFieldExpression><![CDATA[String.format(\"%.2f\", $V{ICMP_Latency_MIN})]]></textFieldExpression>\n+\t\t\t\t<textFieldExpression><![CDATA[String.format(\"%.2f\", $V{ICMP_Latency_MIN}/new Double(\"1000.0\"))]]></textFieldExpression>", "originalCommit": "48d4c760dd62b7412110856d42e0deabdd23ff51", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg3NzA0NQ==", "url": "https://github.com/OpenNMS/opennms/pull/3096#discussion_r465877045", "bodyText": "new Double(\"1000.0\") mimics the way it is currently done in the other database reports.  I can change it here, but it would leave this report inconsistent with the rest.", "author": "dino2gnt", "createdAt": "2020-08-05T17:09:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg3NDA1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg3OTMxNA==", "url": "https://github.com/OpenNMS/opennms/pull/3096#discussion_r465879314", "bodyText": "We can keep it as is then - this isn't a code path that is executed very often anyhow.", "author": "j-white", "createdAt": "2020-08-05T17:12:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTg3NDA1Mg=="}], "type": "inlineReview"}]}