{"pr_number": 2954, "pr_title": "update CircleCI checksums to conserve space/bandwidth", "pr_createdAt": "2020-04-03T18:37:13Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/2954", "timeline": [{"oid": "434273b7f3ef918c6070a2b92ea696ad7a5032e9", "url": "https://github.com/OpenNMS/opennms/commit/434273b7f3ef918c6070a2b92ea696ad7a5032e9", "message": "checksum file contents, not other checksums, also use version as an intermediate checksum", "committedDate": "2020-03-27T19:18:26Z", "type": "commit"}, {"oid": "8b3dbf9c363d9a174ce41d41bdef5ab975efe378", "url": "https://github.com/OpenNMS/opennms/commit/8b3dbf9c363d9a174ce41d41bdef5ab975efe378", "message": "pull pom extraction out to a command", "committedDate": "2020-04-03T18:45:28Z", "type": "commit"}, {"oid": "8b3dbf9c363d9a174ce41d41bdef5ab975efe378", "url": "https://github.com/OpenNMS/opennms/commit/8b3dbf9c363d9a174ce41d41bdef5ab975efe378", "message": "pull pom extraction out to a command", "committedDate": "2020-04-03T18:45:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM3NzgwNA==", "url": "https://github.com/OpenNMS/opennms/pull/2954#discussion_r403377804", "bodyText": "This will need to be adapted for foundation-2019+", "author": "j-white", "createdAt": "2020-04-03T23:09:14Z", "path": ".circleci/config.yml", "diffHunk": "@@ -55,26 +61,24 @@ commands:\n     description: \"Maven: Save cache\"\n     steps:\n       - save_cache:\n-          key: maven-dependencies-v2-{{ checksum \"maven-dependency-cache.key\" }}\n+          key: maven-dependencies-v3-{{ checksum \"pom-version-cache.key\" }}-{{ checksum \"maven-dependency-pom-cache.key\" }}\n           paths:\n             - ~/.m2\n   restore-nodejs-cache:\n       description: \"NodeJS: Calculate cache key and restore cache\"\n       steps:\n         - run:\n             name: Calculate cache key\n-            command: |\n-              sha256sum opennms-webapp/bower.json > nodejs-dependency-cache.key\n-              sha256sum opennms-webapp/package.json >> nodejs-dependency-cache.key\n+            command: find opennms-webapp -name package\\*.json -o -name bower.json | grep -v /target/ | sort -u | xargs cat > nodejs-dependency-json-cache.key", "originalCommit": "8b3dbf9c363d9a174ce41d41bdef5ab975efe378", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}