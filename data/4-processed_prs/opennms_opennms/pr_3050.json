{"pr_number": 3050, "pr_title": "NMS-12777: sometimes commas are in reduction keys", "pr_createdAt": "2020-06-26T01:05:56Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/3050", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ2MzM3NA==", "url": "https://github.com/OpenNMS/opennms/pull/3050#discussion_r452463374", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: If your query string includes a FIQL reserved character like a comma (,)or a semicolon (;) you need to double percent-escape it. \n          \n          \n            \n            NOTE: If your query string includes a FIQL reserved character like a comma (,) or a semicolon (;) you need to double percent escape it.", "author": "Bonrob2", "createdAt": "2020-07-09T20:12:38Z", "path": "opennms-doc/guide-development/src/asciidoc/text/rest/alarms.adoc", "diffHunk": "@@ -46,3 +46,18 @@ In OpenNMS 1.11.0, some additional features are supported in the alarm ack API:\n \n Additionally, when acknowledging alarms (ack=true) you can now specify an `ackUser` parameter.\n You will only be allowed to `ack` as a different user IF you are PUTting as an authenticated user who is in the _admin_ role.\n+\n+===== v2 API\n+\n+Since Horizon 20.1.0 an alarms endpoint has been available in the v2 API which uses link:https://github.com/jirutka/rsql-parser#rsql--fiql-parser[FIQL] for querying.\n+\n+Examples:\n+\n+* `/api/v2/alarms?_s=alarm.reductionKey==uei.opennms.org/nodes/nodeDown::*`\n+* `/api/v2/alarms?_s=alarm.uei==uei.opennms.org/nodes/nodeDown`\n+* `/api/v2/alarms?_s=alarm.ipAddr==127.0.0.1`\n+* `/api/v2/alarms?_s=node.label==localhost`\n+\n+NOTE: If your query string includes a FIQL reserved character like a comma (,)or a semicolon (;) you need to double percent-escape it. ", "originalCommit": "b321fd4c9f66104be20ba0c423cf4197010fe439", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ2NTI3MA==", "url": "https://github.com/OpenNMS/opennms/pull/3050#discussion_r452465270", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Since Horizon 20.1.0 an alarms endpoint has been available in the v2 API which uses link:https://github.com/jirutka/rsql-parser#rsql--fiql-parser[FIQL] for querying.\n          \n          \n            \n            Since Horizon 20.1.0, an alarms endpoint has been available in the v2 API that uses link:https://github.com/jirutka/rsql-parser#rsql--fiql-parser[FIQL] for querying.", "author": "Bonrob2", "createdAt": "2020-07-09T20:16:28Z", "path": "opennms-doc/guide-development/src/asciidoc/text/rest/alarms.adoc", "diffHunk": "@@ -46,3 +46,18 @@ In OpenNMS 1.11.0, some additional features are supported in the alarm ack API:\n \n Additionally, when acknowledging alarms (ack=true) you can now specify an `ackUser` parameter.\n You will only be allowed to `ack` as a different user IF you are PUTting as an authenticated user who is in the _admin_ role.\n+\n+===== v2 API\n+\n+Since Horizon 20.1.0 an alarms endpoint has been available in the v2 API which uses link:https://github.com/jirutka/rsql-parser#rsql--fiql-parser[FIQL] for querying.", "originalCommit": "b321fd4c9f66104be20ba0c423cf4197010fe439", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e28fc5b1112677bce8348d8693153f524b33a1f2", "url": "https://github.com/OpenNMS/opennms/commit/e28fc5b1112677bce8348d8693153f524b33a1f2", "message": "NMS-12777; sometimes commas are in reduction keys", "committedDate": "2020-07-13T21:07:47Z", "type": "commit"}, {"oid": "e5aefa8651e8874af23ae02fbd7da9c9d752bbe9", "url": "https://github.com/OpenNMS/opennms/commit/e5aefa8651e8874af23ae02fbd7da9c9d752bbe9", "message": "i think a IT did this", "committedDate": "2020-07-13T21:07:47Z", "type": "commit"}, {"oid": "e5aefa8651e8874af23ae02fbd7da9c9d752bbe9", "url": "https://github.com/OpenNMS/opennms/commit/e5aefa8651e8874af23ae02fbd7da9c9d752bbe9", "message": "i think a IT did this", "committedDate": "2020-07-13T21:07:47Z", "type": "forcePushed"}, {"oid": "472c1e5bf63e5b89f2e82d3ab7c829cc4ba88503", "url": "https://github.com/OpenNMS/opennms/commit/472c1e5bf63e5b89f2e82d3ab7c829cc4ba88503", "message": "doc changes per @bonrob2", "committedDate": "2020-07-13T21:25:11Z", "type": "commit"}]}