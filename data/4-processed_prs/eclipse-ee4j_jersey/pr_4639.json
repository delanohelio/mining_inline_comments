{"pr_number": 4639, "pr_title": "Chapter for Expect:100-continue header (client)", "pr_createdAt": "2020-11-13T12:48:45Z", "pr_url": "https://github.com/eclipse-ee4j/jersey/pull/4639", "timeline": [{"oid": "cbcb26953154d3cb99928e6d813f9e43c2ee2996", "url": "https://github.com/eclipse-ee4j/jersey/commit/cbcb26953154d3cb99928e6d813f9e43c2ee2996", "message": "Chapter for Expect:100-continue header (client)\n\nSigned-off-by: Maxim Nesen <maxim.nesen@oracle.com>", "committedDate": "2020-11-13T12:46:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjgzNDA3MQ==", "url": "https://github.com/eclipse-ee4j/jersey/pull/4639#discussion_r542834071", "bodyText": "Make a note that the -Djersey.config.allowSystemPropertiesProvider=true property needs to be set, too.", "author": "jansupol", "createdAt": "2020-12-14T21:50:47Z", "path": "docs/src/main/docbook/client.xml", "diffHunk": "@@ -1130,4 +1130,61 @@ Client client = ClientBuilder.newBuilder().sslContext(sslContext).build();</prog\n             }\n         </programlisting>\n     </section>\n+    <section>\n+        <title>Header Expect:100-continue support</title>\n+        <para>\n+        This section describes support of Expect:100-continue in Jersey client using Expect100Continue feature.\n+        Jersey client supports given header for default JDK HTTP connector only.\n+        </para>\n+        <para>\n+        <emphasis>Jersey client Expect100Continue feature</emphasis>\n+        </para>\n+        <para>\n+            Since Jersey 2.32 it is possible to send Expect:100-continue header from Jersey client. Feature shall be\n+            registered in client using (for example)\n+            <programlisting language=\"java\" linenumbering=\"numbered\">\n+                target(RESOURCE_PATH).register(Expect100ContinueFeature.basic());\n+            </programlisting>\n+            Note that registration can be done in several ways: with basic settings, and with custom settings:\n+            <programlisting language=\"java\" linenumbering=\"numbered\">\n+                target(RESOURCE_PATH).register(Expect100ContinueFeature.withCustomThreshold(100L));\n+            </programlisting>\n+            Basic registration means that default sending threshold will be used. Value of the default threshold is\n+            <programlisting language=\"java\" linenumbering=\"numbered\">\n+                DEFAULT_EXPECT_100_CONTINUE_THRESHOLD_SIZE = 65536L;\n+            </programlisting>\n+            Threshold is used to determine allowed size of request after which 100-continue header shall be sent before\n+            sending request itself.\n+        </para>\n+        <para>\n+            <emphasis>Environment properties configuration</emphasis>\n+        </para>\n+        <para>\n+            Previous paragraph described programmatic way of configuration. However the Expect100Continue feature can\n+            be configured using environment variables as well.\n+        </para>\n+        <para>\n+            Since Jersey client can be influenced through environment variables, there are two variables which come\n+            since Jersey 2.32:\n+            <programlisting language=\"bash\" linenumbering=\"unnumbered\">\n+                -Djersey.config.client.request.expect.100.continue.processing=true/false", "originalCommit": "cbcb26953154d3cb99928e6d813f9e43c2ee2996", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}