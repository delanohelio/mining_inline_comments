{"pr_number": 6929, "pr_title": "Re-enable JavaDoc generation", "pr_createdAt": "2020-06-08T08:50:48Z", "pr_url": "https://github.com/realm/realm-java/pull/6929", "timeline": [{"oid": "d7a65c3665e25cfc0dcf4aa9c4693d374006f0bd", "url": "https://github.com/realm/realm-java/commit/d7a65c3665e25cfc0dcf4aa9c4693d374006f0bd", "message": "Fix JavaDoc not being generated", "committedDate": "2020-06-08T08:42:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU0Nzk3OA==", "url": "https://github.com/realm/realm-java/pull/6929#discussion_r436547978", "bodyText": "Usually this should be PROTECTED as people need doc for members when inheriting. But maybe we do not have classes where any protected members are essential for adjusting inherited behaviour and this would pollute the Javadoc more than gained?", "author": "rorbech", "createdAt": "2020-06-08T08:55:24Z", "path": "realm/realm-library/build.gradle", "diffHunk": "@@ -257,35 +257,36 @@ def betaTag = 'Beta:a:<div style=\"border-style:solid;border-width:2px\">This soft\n         'considered at production quality, and should be used with care.</div>'\n \n task javadoc(type: Javadoc) {\n-// FIXME: Disable JavaDoc until API Stabilizes a bit more\n-//    source android.sourceSets.objectServer.java.srcDirs\n-//    source android.sourceSets.main.java.srcDirs\n-//    source \"../../realm-annotations/src/main/java\"\n-//    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n-//    options {\n-//        title = \"Realm ${project.version}\"\n-//        memberLevel = JavadocMemberLevel.PUBLIC\n-//        docEncoding = 'UTF-8'\n-//        encoding = 'UTF-8'\n-//        charSet = 'UTF-8'\n-//        locale = 'en_US'\n-//        overview = 'src/overview.html'\n-//\n-//        links \"https://docs.oracle.com/javase/7/docs/api/\"\n-//        links \"http://reactivex.io/RxJava/javadoc/\"\n-//        linksOffline \"https://developer.android.com/reference/\", \"${project.android.sdkDirectory}/docs/reference\"\n-//\n-//        tags = [betaTag]\n-//    }\n-//    exclude '**/internal/**'\n-//    exclude '**/BuildConfig.java'\n-//    exclude '**/R.java'\n-//    doLast {\n-//        copy {\n-//            from \"src/realm-java-overview.png\"\n-//            into \"$buildDir/docs/javadoc\"\n-//        }\n-//    }\n+    source android.sourceSets.objectServer.java.srcDirs\n+    source android.sourceSets.main.java.srcDirs\n+    source \"../../realm-annotations/src/main/java\"\n+    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n+    options {\n+        title = \"Realm ${project.version}\"\n+        memberLevel = JavadocMemberLevel.PUBLIC", "originalCommit": "d7a65c3665e25cfc0dcf4aa9c4693d374006f0bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU5OTQ0Nw==", "url": "https://github.com/realm/realm-java/pull/6929#discussion_r436599447", "bodyText": "I'm not aware of any protected methods being part of the public API at least.", "author": "cmelchior", "createdAt": "2020-06-08T10:28:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU0Nzk3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU0ODY1NA==", "url": "https://github.com/realm/realm-java/pull/6929#discussion_r436548654", "bodyText": "Any specific reason why we do not have flavors of Javadoc?", "author": "rorbech", "createdAt": "2020-06-08T08:56:35Z", "path": "realm/realm-library/build.gradle", "diffHunk": "@@ -257,35 +257,36 @@ def betaTag = 'Beta:a:<div style=\"border-style:solid;border-width:2px\">This soft\n         'considered at production quality, and should be used with care.</div>'\n \n task javadoc(type: Javadoc) {\n-// FIXME: Disable JavaDoc until API Stabilizes a bit more\n-//    source android.sourceSets.objectServer.java.srcDirs\n-//    source android.sourceSets.main.java.srcDirs\n-//    source \"../../realm-annotations/src/main/java\"\n-//    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n-//    options {\n-//        title = \"Realm ${project.version}\"\n-//        memberLevel = JavadocMemberLevel.PUBLIC\n-//        docEncoding = 'UTF-8'\n-//        encoding = 'UTF-8'\n-//        charSet = 'UTF-8'\n-//        locale = 'en_US'\n-//        overview = 'src/overview.html'\n-//\n-//        links \"https://docs.oracle.com/javase/7/docs/api/\"\n-//        links \"http://reactivex.io/RxJava/javadoc/\"\n-//        linksOffline \"https://developer.android.com/reference/\", \"${project.android.sdkDirectory}/docs/reference\"\n-//\n-//        tags = [betaTag]\n-//    }\n-//    exclude '**/internal/**'\n-//    exclude '**/BuildConfig.java'\n-//    exclude '**/R.java'\n-//    doLast {\n-//        copy {\n-//            from \"src/realm-java-overview.png\"\n-//            into \"$buildDir/docs/javadoc\"\n-//        }\n-//    }\n+    source android.sourceSets.objectServer.java.srcDirs", "originalCommit": "d7a65c3665e25cfc0dcf4aa9c4693d374006f0bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU5OTk2Mw==", "url": "https://github.com/realm/realm-java/pull/6929#discussion_r436599963", "bodyText": "Mostly rooted in history where we only have one link pointing to API Docs. It would probably make sense have two different links, but so far it hasn't been prioritized and should be coordinated with docs.", "author": "cmelchior", "createdAt": "2020-06-08T10:29:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU0ODY1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjU1MDI4Mg==", "url": "https://github.com/realm/realm-java/pull/6929#discussion_r436550282", "bodyText": "Probably do not matter as we only use restricted set of Java 8, but should this point to Java 8 as we are actually compiling with Java 8 support?", "author": "rorbech", "createdAt": "2020-06-08T08:59:10Z", "path": "realm/realm-library/build.gradle", "diffHunk": "@@ -257,35 +257,36 @@ def betaTag = 'Beta:a:<div style=\"border-style:solid;border-width:2px\">This soft\n         'considered at production quality, and should be used with care.</div>'\n \n task javadoc(type: Javadoc) {\n-// FIXME: Disable JavaDoc until API Stabilizes a bit more\n-//    source android.sourceSets.objectServer.java.srcDirs\n-//    source android.sourceSets.main.java.srcDirs\n-//    source \"../../realm-annotations/src/main/java\"\n-//    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n-//    options {\n-//        title = \"Realm ${project.version}\"\n-//        memberLevel = JavadocMemberLevel.PUBLIC\n-//        docEncoding = 'UTF-8'\n-//        encoding = 'UTF-8'\n-//        charSet = 'UTF-8'\n-//        locale = 'en_US'\n-//        overview = 'src/overview.html'\n-//\n-//        links \"https://docs.oracle.com/javase/7/docs/api/\"\n-//        links \"http://reactivex.io/RxJava/javadoc/\"\n-//        linksOffline \"https://developer.android.com/reference/\", \"${project.android.sdkDirectory}/docs/reference\"\n-//\n-//        tags = [betaTag]\n-//    }\n-//    exclude '**/internal/**'\n-//    exclude '**/BuildConfig.java'\n-//    exclude '**/R.java'\n-//    doLast {\n-//        copy {\n-//            from \"src/realm-java-overview.png\"\n-//            into \"$buildDir/docs/javadoc\"\n-//        }\n-//    }\n+    source android.sourceSets.objectServer.java.srcDirs\n+    source android.sourceSets.main.java.srcDirs\n+    source \"../../realm-annotations/src/main/java\"\n+    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n+    options {\n+        title = \"Realm ${project.version}\"\n+        memberLevel = JavadocMemberLevel.PUBLIC\n+        docEncoding = 'UTF-8'\n+        encoding = 'UTF-8'\n+        charSet = 'UTF-8'\n+        locale = 'en_US'\n+        overview = 'src/overview.html'\n+\n+        links \"https://docs.oracle.com/javase/7/docs/api/\"", "originalCommit": "d7a65c3665e25cfc0dcf4aa9c4693d374006f0bd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}