{"pr_number": 6838, "pr_title": "Using the new ObjectStore Scheduler", "pr_createdAt": "2020-05-06T05:24:35Z", "pr_url": "https://github.com/realm/realm-java/pull/6838", "timeline": [{"oid": "1bee5e3295e02d638e2a3a2f7c1e371dea00a2a6", "url": "https://github.com/realm/realm-java/commit/1bee5e3295e02d638e2a3a2f7c1e371dea00a2a6", "message": "Update test and implementation to use the new ObjectStore Scheduler", "committedDate": "2020-05-06T04:57:05Z", "type": "commit"}, {"oid": "60d34ad59fd2e5ef97312f9472ae2b2d38de8f95", "url": "https://github.com/realm/realm-java/commit/60d34ad59fd2e5ef97312f9472ae2b2d38de8f95", "message": "update OS", "committedDate": "2020-05-06T18:13:11Z", "type": "commit"}, {"oid": "3c80ef2d2b30da340cee7be3bad86ac0ca0aaa99", "url": "https://github.com/realm/realm-java/commit/3c80ef2d2b30da340cee7be3bad86ac0ca0aaa99", "message": "Update OS", "committedDate": "2020-05-13T19:42:05Z", "type": "commit"}, {"oid": "fb88f691713a9e0b9f59d963a39c46a628da1794", "url": "https://github.com/realm/realm-java/commit/fb88f691713a9e0b9f59d963a39c46a628da1794", "message": "Fix tests", "committedDate": "2020-05-14T08:29:26Z", "type": "commit"}, {"oid": "c35c4f581a015e33d4cd2b7cc91b89d24061319b", "url": "https://github.com/realm/realm-java/commit/c35c4f581a015e33d4cd2b7cc91b89d24061319b", "message": "Fix gradle plugin tests", "committedDate": "2020-05-14T11:31:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwNDk3NQ==", "url": "https://github.com/realm/realm-java/pull/6838#discussion_r425104975", "bodyText": "Probably not relevant for pure tests, but I usually prefer google() over the others (except of course mavenLocal()) and jcenter() last. It has mostly been due to issues of stale things pruned at jcenter(), suddenly changing things.\nMaybe it would actually make sense to test various orderings, but I guess hard to track over time with gradle caching, etc.", "author": "rorbech", "createdAt": "2020-05-14T12:42:00Z", "path": "gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy", "diffHunk": "@@ -54,6 +54,7 @@ class PluginTest {\n         project.buildscript {\n             repositories {\n                 mavenLocal()\n+                mavenCentral()", "originalCommit": "c35c4f581a015e33d4cd2b7cc91b89d24061319b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEyNTMwNA==", "url": "https://github.com/realm/realm-java/pull/6838#discussion_r425125304", "bodyText": "You would have thought the order doesn't matter, but it does. I had to dig through a fair amount of Stack Overflow answers to get this correct \ud83d\ude44\nApparently Google has moved things around, so depending on which version of the Build tools you use, it might not work. For the version in this PR, apparently this is the correct order \ud83d\ude48\nI guess I should add a some text about that in the tests for the net unfortunate individual that has to edit them.", "author": "cmelchior", "createdAt": "2020-05-14T13:13:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwNDk3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTExMDc4Ng==", "url": "https://github.com/realm/realm-java/pull/6838#discussion_r425110786", "bodyText": "Seems like this triggers a required side effect. Maybe put the details in a comment, to easy future reasoning about it.", "author": "rorbech", "createdAt": "2020-05-14T12:51:34Z", "path": "realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp", "diffHunk": "@@ -68,6 +68,7 @@ JNIEXPORT jlong JNICALL Java_io_realm_internal_OsSharedRealm_nativeGetSharedReal\n         SharedRealm shared_realm;\n         if (j_version_no == -1 && j_version_index == -1) {\n             shared_realm = Realm::get_shared_realm(config);\n+            shared_realm->read_group();", "originalCommit": "c35c4f581a015e33d4cd2b7cc91b89d24061319b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEyNTY4MQ==", "url": "https://github.com/realm/realm-java/pull/6838#discussion_r425125681", "bodyText": "Yes, this was part of the changes required when adding a Scheduler implementation in ObjectStore. Will do", "author": "cmelchior", "createdAt": "2020-05-14T13:13:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTExMDc4Ng=="}], "type": "inlineReview"}, {"oid": "4d5e6ce15d3cf6ab5a8b31811524dd1a71322655", "url": "https://github.com/realm/realm-java/commit/4d5e6ce15d3cf6ab5a8b31811524dd1a71322655", "message": "Add various docs.", "committedDate": "2020-05-14T14:02:40Z", "type": "commit"}]}