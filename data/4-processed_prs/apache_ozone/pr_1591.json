{"pr_number": 1591, "pr_title": "HDDS-4082. Create ZH translation of HA.md in doc.", "pr_createdAt": "2020-11-15T04:19:29Z", "pr_url": "https://github.com/apache/ozone/pull/1591", "timeline": [{"oid": "a12381cd88a9c24173b5e7dee2a0edfaf638c75a", "url": "https://github.com/apache/ozone/commit/a12381cd88a9c24173b5e7dee2a0edfaf638c75a", "message": "HDDS-4082. Create ZH translation of HA.md in doc.", "committedDate": "2020-11-15T04:15:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg1MjE3Nw==", "url": "https://github.com/apache/ozone/pull/1591#discussion_r524852177", "bodyText": "The Chinese version of the Interface document is available, so there is no need to set lang.", "author": "cku328", "createdAt": "2020-11-17T02:54:49Z", "path": "hadoop-hdds/docs/content/feature/HA.zh.md", "diffHunk": "@@ -0,0 +1,117 @@\n+---\n+title: \"\u9ad8\u53ef\u7528\"\n+weight: 1\n+menu:\n+   main:\n+      parent: \u7279\u6027\n+summary: Ozone \u7528\u4e8e\u907f\u514d\u5355\u70b9\u6545\u969c\u7684\u9ad8\u53ef\u7528\u8bbe\u7f6e\n+---\n+\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Ozone \u6709\u4e24\u4e2aleader\u8282\u70b9\uff08\u7528\u4e8e\u952e\u7ba1\u7406\u7684 *Ozone Manager* \u548c\u7528\u4e8e\u5757\u7a7a\u95f4\u7ba1\u7406\u7684 *Storage Container Management* \uff09\u4ee5\u53ca\u5b58\u50a8\u8282\u70b9\uff08\u6570\u636e\u8282\u70b9\uff09\u3002\u6570\u636e\u662f\u501f\u52a9 RAFT \u5171\u8bc6\u7b97\u6cd5\u5728\u6570\u636e\u8282\u70b9\u4e4b\u95f4\u590d\u5236\u3002\n+\n+\u4e3a\u4e86\u907f\u514d\u4efb\u4f55\u5355\u70b9\u6545\u969c\uff0cleader \u8282\u70b9\u4e5f\u5e94\u8be5\u5177\u5907\u9ad8\u53ef\u7528\u7684\u8bbe\u7f6e\u3002\n+\n+1. Ozone Manager \u7684\u9ad8\u53ef\u7528\u662f\u501f\u52a9 RAFT \u534f\u8bae\u5b9e\u73b0\u7684\uff1b\n+2. Storage Container Manager \u7684\u9ad8\u53ef\u7528\u5219 [\u8fd8\u5728\u5b9e\u73b0\u4e2d]({{< ref path=\"scmha.md\" lang=\"en\">}}) \u3002\n+\n+## Ozone Manager \u7684\u9ad8\u53ef\u7528\n+\n+\u4e00\u4e2a Ozone Manager \u4f7f\u7528 [RocksDB](https://github.com/facebook/rocksdb/) \u5728\u672c\u5730\u6301\u4e45\u5316\u5143\u6570\u636e\uff08\u5377\u3001\u6876\u548c\u952e\uff09\u3002 Ozone Manager \u7684\u9ad8\u53ef\u7528\u7248\u672c\u5728\u529f\u80fd\u4e0a\u5b8c\u5168\u4e00\u81f4\uff0c\u53ea\u662f\u6240\u6709\u7684\u6570\u636e\u90fd\u501f\u52a9 RAFT \u5171\u8bc6\u7b97\u6cd5\u590d\u5236\u5230 Ozone Manager \u7684 follower \u5b9e\u4f8b\u4e0a\u3002\n+\n+![OM HA](HA-OM.png)\n+\n+\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 Ozone Manager \u4e0a\uff0c\u800c Ozone Manager \u8d1f\u8d23\u5904\u7406\u8bf7\u6c42\u5e76\u4e14\u5b89\u6392\u590d\u5236\u3002\u5f53\u8bf7\u6c42\u590d\u5236\u5230\u6240\u6709\u7684 follower \u4e0a\u540e\uff0cleader \u5c31\u53ef\u4ee5\u7ed9\u5ba2\u6237\u7aef\u56de\u5305\u4e86\u3002\n+\n+## \u914d\u7f6e\n+\n+\u53ef\u4ee5\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e\u4ee5\u4e0b\u8bbe\u7f6e\u6765\u542f\u7528 Ozone Manager \u7684\u9ad8\u53ef\u7528\u6a21\u5f0f\uff1a\n+\n+```XML\n+<property>\n+   <name>ozone.om.ratis.enable</name>\n+   <value>true</value>\n+</property>\n+```\n+\n+\u4e00\u4e2a Ozone \u7684\u914d\u7f6e\uff08`ozone-site.xml`\uff09\u652f\u6301\u591a\u4e2a Ozone \u9ad8\u53ef\u7528\u96c6\u7fa4\u3002\u4e3a\u4e86\u652f\u6301\u5728\u591a\u4e2a\u9ad8\u53ef\u7528\u96c6\u7fa4\u4e4b\u95f4\u8fdb\u884c\u9009\u62e9\uff0c\u6bcf\u4e2a\u96c6\u7fa4\u90fd\u9700\u8981\u4e00\u4e2a\u903b\u8f91\u540d\u79f0\uff0c\u8be5\u903b\u8f91\u540d\u79f0\u53ef\u4ee5\u89e3\u6790\u4e3a Ozone Manager \u7684 IP \u5730\u5740\uff08\u548c\u57df\u540d\uff09\u3002\n+\n+\u8be5\u903b\u8f91\u540d\u79f0\u53eb\u505a `serviceId`\uff0c\u53ef\u4ee5\u5728 `ozone-site.xml` \u4e2d\u8fdb\u884c\u914d\u7f6e\uff1a\n+\n+ ```\n+<property>\n+   <name>ozone.om.service.ids</name>\n+   <value>cluster1,cluster2</value>\n+</property>\n+```\n+\n+\u5bf9\u4e8e\u6bcf\u4e2a\u5df2\u5b9a\u4e49\u7684 `serviceId` \uff0c\u8fd8\u5e94\u4e3a\u6bcf\u4e2a\u670d\u52a1\u5668\u5b9a\u4e49\u4e00\u4e2a\u903b\u8f91\u914d\u7f6e\u540d\uff1a\n+\n+```XML\n+<property>\n+   <name>ozone.om.nodes.cluster1</name>\n+   <value>om1,om2,om3</value>\n+</property>\n+```\n+\n+\u5df2\u5b9a\u4e49\u7684\u524d\u7f00\u53ef\u7528\u4e8e\u5b9a\u4e49\u6bcf\u4e2a OM \u670d\u52a1\u7684\u5730\u5740\uff1a\n+\n+```XML\n+<property>\n+   <name>ozone.om.address.cluster1.om1</name>\n+   <value>host1</value>\n+</property>\n+<property>\n+   <name>ozone.om.address.cluster1.om2</name>\n+   <value>host2</value>\n+</property>\n+<property>\n+   <name>ozone.om.address.cluster1.om3</name>\n+   <value>host3</value>\n+</property>\n+```\n+\n+\u57fa\u4e8e [\u5ba2\u6237\u7aef\u63a5\u53e3]({{< ref path=\"interface/_index.md\" lang=\"en\">}}) \uff0c\u5b9a\u4e49\u597d\u7684 `serviceId` \u5c31\u53ef\u7528\u4e8e\u66ff\u4ee3\u5355\u4e2a OM \u4e3b\u673a\u3002", "originalCommit": "a12381cd88a9c24173b5e7dee2a0edfaf638c75a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg1MjIwNw==", "url": "https://github.com/apache/ozone/pull/1591#discussion_r524852207", "bodyText": "This should be set to \u7279\u70b9, otherwise this page will not be displayed on the left menu.", "author": "cku328", "createdAt": "2020-11-17T02:54:53Z", "path": "hadoop-hdds/docs/content/feature/HA.zh.md", "diffHunk": "@@ -0,0 +1,117 @@\n+---\n+title: \"\u9ad8\u53ef\u7528\"", "originalCommit": "a12381cd88a9c24173b5e7dee2a0edfaf638c75a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkxNDI2NQ==", "url": "https://github.com/apache/ozone/pull/1591#discussion_r524914265", "bodyText": "This is the title of the chapter. I think the translation is correct.\nDo you want to point the translation of 'parent'?\n\u7279\u6027 --> \u7279\u70b9 ?", "author": "yuyang733", "createdAt": "2020-11-17T06:37:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg1MjIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTExNzEzOQ==", "url": "https://github.com/apache/ozone/pull/1591#discussion_r525117139", "bodyText": "Thanks @yuyang733 for the reply.\n\u7279\u6027 --> \u7279\u70b9  -> Yes, I marked the wrong code block, it should be here.", "author": "cku328", "createdAt": "2020-11-17T12:29:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg1MjIwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyMTY0Ng==", "url": "https://github.com/apache/ozone/pull/1591#discussion_r524921646", "bodyText": "In the previous comment, I marked the wrong code block, it should be here.", "author": "cku328", "createdAt": "2020-11-17T06:58:46Z", "path": "hadoop-hdds/docs/content/feature/HA.zh.md", "diffHunk": "@@ -0,0 +1,117 @@\n+---\n+title: \"\u9ad8\u53ef\u7528\"\n+weight: 1\n+menu:\n+   main:\n+      parent: \u7279\u6027", "originalCommit": "a12381cd88a9c24173b5e7dee2a0edfaf638c75a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}