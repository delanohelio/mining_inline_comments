{"pr_number": 1693, "pr_title": "HDDS-4581. Cleanup usage of volumeArgs in KeyRequests.", "pr_createdAt": "2020-12-11T20:46:44Z", "pr_url": "https://github.com/apache/ozone/pull/1693", "timeline": [{"oid": "596270a7e46bfc4bceef244003e97a0862e04212", "url": "https://github.com/apache/ozone/commit/596270a7e46bfc4bceef244003e97a0862e04212", "message": "HDDS-4581. Cleanup usage of volumeArgs in KeyRequests.", "committedDate": "2020-12-11T20:45:42Z", "type": "commit"}, {"oid": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9", "url": "https://github.com/apache/ozone/commit/82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9", "message": "fix compilation and cs", "committedDate": "2020-12-11T21:16:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY0Mzc1Mg==", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541643752", "bodyText": "Why we not remove omVolumeArgs variable defined in this method?", "author": "linyiqun", "createdAt": "2020-12-12T16:13:52Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -279,7 +279,6 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n           .collect(Collectors.toList());\n       omKeyInfo.appendNewBlocks(newLocationList, false);\n \n-      omVolumeArgs = getVolumeInfo(omMetadataManager, volumeName);", "originalCommit": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTcxNjAxOA==", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541716018", "bodyText": "I missed it, thanks for catching it.", "author": "bharatviswa504", "createdAt": "2020-12-12T18:34:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY0Mzc1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY0NDQ3Mg==", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541644472", "bodyText": "Same comment like above.", "author": "linyiqun", "createdAt": "2020-12-12T16:15:05Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java", "diffHunk": "@@ -193,7 +193,6 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n \n       long scmBlockSize = ozoneManager.getScmBlockSize();\n       int factor = omKeyInfo.getFactor().getNumber();\n-      omVolumeArgs = getVolumeInfo(omMetadataManager, volumeName);\n       omBucketInfo = getBucketInfo(omMetadataManager, volumeName, bucketName);", "originalCommit": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3c73b8df2b44a8f09f25e9c2b332810d8cc85996", "url": "https://github.com/apache/ozone/commit/3c73b8df2b44a8f09f25e9c2b332810d8cc85996", "message": "fix review comments", "committedDate": "2020-12-12T18:32:48Z", "type": "commit"}, {"oid": "3bc6d0e7f7a28910d0478dd4b719bc0352abbb54", "url": "https://github.com/apache/ozone/commit/3bc6d0e7f7a28910d0478dd4b719bc0352abbb54", "message": "fix cs", "committedDate": "2020-12-12T18:33:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg1MTQ5OQ==", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541851499", "bodyText": "All the use of the getVolumeInfo method has been removed, so getVolumeInfo should not be needed, we can delete it.", "author": "captainzmc", "createdAt": "2020-12-13T05:42:53Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -279,7 +277,6 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n           .collect(Collectors.toList());\n       omKeyInfo.appendNewBlocks(newLocationList, false);\n \n-      omVolumeArgs = getVolumeInfo(omMetadataManager, volumeName);", "originalCommit": "3bc6d0e7f7a28910d0478dd4b719bc0352abbb54", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEyODAzNQ==", "url": "https://github.com/apache/ozone/pull/1693#discussion_r542128035", "bodyText": "Done", "author": "bharatviswa504", "createdAt": "2020-12-14T05:50:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg1MTQ5OQ=="}], "type": "inlineReview"}, {"oid": "73023ba8c915b46941f3010d1b79187d0daaccae", "url": "https://github.com/apache/ozone/commit/73023ba8c915b46941f3010d1b79187d0daaccae", "message": "fix review comment", "committedDate": "2020-12-14T05:49:37Z", "type": "commit"}]}