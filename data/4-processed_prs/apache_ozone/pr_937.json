{"pr_number": 937, "pr_title": "HDDS-3607. Lot of warnings at DN startup.", "pr_createdAt": "2020-05-18T11:55:27Z", "pr_url": "https://github.com/apache/ozone/pull/937", "timeline": [{"oid": "884ad1680d3cf66faea666a19c53f0398a5eb87f", "url": "https://github.com/apache/ozone/commit/884ad1680d3cf66faea666a19c53f0398a5eb87f", "message": "HDDS-3607. Lot of warnings at DN startup.", "committedDate": "2020-05-18T11:49:22Z", "type": "commit"}, {"oid": "eafc805a79cbc4c98fba3cd16c449621352d7e21", "url": "https://github.com/apache/ozone/commit/eafc805a79cbc4c98fba3cd16c449621352d7e21", "message": "empty commit to retest build", "committedDate": "2020-05-18T13:01:23Z", "type": "commit"}, {"oid": "5f65c349d86115b1bc77e83a9099be45cf632ee4", "url": "https://github.com/apache/ozone/commit/5f65c349d86115b1bc77e83a9099be45cf632ee4", "message": "empty commit to retest build", "committedDate": "2020-05-18T13:23:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcxNzI1Nw==", "url": "https://github.com/apache/ozone/pull/937#discussion_r426717257", "bodyText": "Is it necessary to wrap a debug log entry in the if (LOG.isDebugEnabled()) statement? It is my understanding, that so long as you are not doing string interpolation in the log message and are passing simple variables as any parameters to the log message (ie not doing any computation to calculate the values being passed), then LOG4J does the correct thing and there is no performance penalty to removing the IF wrapper.", "author": "sodonnel", "createdAt": "2020-05-18T15:38:06Z", "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/BlockManagerImpl.java", "diffHunk": "@@ -108,9 +108,11 @@ public long putBlock(Container container, BlockData data) throws IOException {\n         // transaction is reapplied in the ContainerStateMachine on restart.\n         // It also implies that the given block must already exist in the db.\n         // just log and return\n-        LOG.warn(\"blockCommitSequenceId {} in the Container Db is greater than\"\n-            + \" the supplied value {}. Ignoring it\",\n-            containerBCSId, bcsId);\n+        if (LOG.isDebugEnabled()) {", "originalCommit": "5f65c349d86115b1bc77e83a9099be45cf632ee4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjczMjMyMQ==", "url": "https://github.com/apache/ozone/pull/937#discussion_r426732321", "bodyText": "http://www.slf4j.org/faq.html#logging_performance suggests the IF wrapper is not needed for performance reasons.", "author": "sodonnel", "createdAt": "2020-05-18T15:59:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcxNzI1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4MTg4OA==", "url": "https://github.com/apache/ozone/pull/937#discussion_r428081888", "bodyText": "yepp, you are right, muscle memory I guess :D Thank you for checking it, I pushed a fix.", "author": "fapifta", "createdAt": "2020-05-20T14:58:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcxNzI1Nw=="}], "type": "inlineReview"}, {"oid": "57cf4e10c87eccadc196f11aa1e03e80ceff7635", "url": "https://github.com/apache/ozone/commit/57cf4e10c87eccadc196f11aa1e03e80ceff7635", "message": "trigger new CI check", "committedDate": "2020-05-18T18:18:09Z", "type": "commit"}, {"oid": "29dad660aee4e451d3b6657f8108c02ac75f8dfe", "url": "https://github.com/apache/ozone/commit/29dad660aee4e451d3b6657f8108c02ac75f8dfe", "message": "trigger new CI check", "committedDate": "2020-05-18T20:28:52Z", "type": "commit"}, {"oid": "f069982231da0ff6fdb29ba2dd5afc0d85dd726e", "url": "https://github.com/apache/ozone/commit/f069982231da0ff6fdb29ba2dd5afc0d85dd726e", "message": "Address review comment.", "committedDate": "2020-05-20T14:59:03Z", "type": "commit"}, {"oid": "6f7ca2df3eadeee8e322cba64cdc29d1c204f821", "url": "https://github.com/apache/ozone/commit/6f7ca2df3eadeee8e322cba64cdc29d1c204f821", "message": "trigger new CI check", "committedDate": "2020-05-21T16:21:19Z", "type": "commit"}, {"oid": "7dfcbc87ede1ebbfb0c0592d3a3df534579e06a2", "url": "https://github.com/apache/ozone/commit/7dfcbc87ede1ebbfb0c0592d3a3df534579e06a2", "message": "empty commit to retest build", "committedDate": "2020-05-27T11:15:51Z", "type": "commit"}, {"oid": "26aaf6549b3e59c45f2c3b6ab91063987fd45616", "url": "https://github.com/apache/ozone/commit/26aaf6549b3e59c45f2c3b6ab91063987fd45616", "message": "trigger new CI check", "committedDate": "2020-05-27T11:24:25Z", "type": "commit"}]}