{"pr_number": 871, "pr_title": "HDDS-3487. Ozone start fails with NullPointerException in TLS enabled cluster", "pr_createdAt": "2020-04-25T03:48:23Z", "pr_url": "https://github.com/apache/ozone/pull/871", "timeline": [{"oid": "b84182aea2a7cbb0da45f45d1bbbe32950e4355a", "url": "https://github.com/apache/ozone/commit/b84182aea2a7cbb0da45f45d1bbbe32950e4355a", "message": "HDDS-3487. Ozone start fails with NullPointerException in TLS enabled cluster.", "committedDate": "2020-04-25T03:44:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA5MTkzNA==", "url": "https://github.com/apache/ozone/pull/871#discussion_r415091934", "bodyText": "Should we also remove the deault method on ConfigurationSource for getPassword, and have the get() method in OzoneConfiguration and the new method in LegacyHadoopConfig ?", "author": "mukul1987", "createdAt": "2020-04-25T16:09:25Z", "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/LegacyHadoopConfigurationSource.java", "diffHunk": "@@ -39,6 +40,11 @@ public String get(String key) {\n     return configuration.getRaw(key);\n   }\n \n+  @Override\n+  public char[] getPassword(String key) throws IOException {", "originalCommit": "b84182aea2a7cbb0da45f45d1bbbe32950e4355a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc2OTU3MA==", "url": "https://github.com/apache/ozone/pull/871#discussion_r415769570", "bodyText": "Long-term we might need a getPassword() for ConfigurationSource and we can have different implementations (with Hadoop Configuration we can use CredentialProviders, with different ConfigurationSource we can have different approaches).\nCurrently we have a very naive approach for ConfigurationSource we read the value as is, but using getPassword instead of get shows that we need an encryption.\nBut as of know getPassword() is not called only when we use Hadoop Configuration. Agree, we can remove it temporary, until we clean-up the HTTP utilities and switch to use full Configuration.", "author": "elek", "createdAt": "2020-04-27T12:28:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA5MTkzNA=="}], "type": "inlineReview"}, {"oid": "12ba43227b8c2a788b7f83a1c9573f75eaa5fb1a", "url": "https://github.com/apache/ozone/commit/12ba43227b8c2a788b7f83a1c9573f75eaa5fb1a", "message": "HDDS-3487. Ozone start fails with NullPointerException in TLS enabled cluster.", "committedDate": "2020-04-27T18:45:48Z", "type": "commit"}, {"oid": "b9681406a4cfa1153930cf20c69adc4080f0e41f", "url": "https://github.com/apache/ozone/commit/b9681406a4cfa1153930cf20c69adc4080f0e41f", "message": "HDDS-3487. Change exception to UnsupportedOperationException.", "committedDate": "2020-04-27T18:56:53Z", "type": "commit"}, {"oid": "d1d5a96e6af5a0fb806c0c6fa1f3b36c94d359f4", "url": "https://github.com/apache/ozone/commit/d1d5a96e6af5a0fb806c0c6fa1f3b36c94d359f4", "message": "HDDS-3487. Remove getPassword impl from OzoneConfiguration.", "committedDate": "2020-04-27T20:05:31Z", "type": "commit"}]}