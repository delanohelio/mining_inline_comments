{"pr_number": 1490, "pr_title": "HDDS-4269. Ozone DataNode thinks a volume is failed if an unexpected file is in the HDDS root directory.", "pr_createdAt": "2020-10-13T09:00:11Z", "pr_url": "https://github.com/apache/ozone/pull/1490", "timeline": [{"oid": "240979f0c7eb0836478d7f7534d0412b12d8e68d", "url": "https://github.com/apache/ozone/commit/240979f0c7eb0836478d7f7534d0412b12d8e68d", "message": "HDDS-4269. Ozone DataNode thinks a volume is failed if an unexpected file is in the HDDS root directory.", "committedDate": "2020-10-13T08:44:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMjEzNQ==", "url": "https://github.com/apache/ozone/pull/1490#discussion_r503922135", "bodyText": "Let's add a more actionable message: \"Please remove any other extra files from the directory so that DataNode startup can proceed.\"", "author": "jojochuang", "createdAt": "2020-10-13T12:48:19Z", "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/HddsVolumeUtil.java", "diffHunk": "@@ -212,6 +212,9 @@ public static boolean checkVolume(HddsVolume hddsVolume, String scmId, String\n     } else {\n       // The hdds root dir should always have 2 files. One is Version file\n       // and other is SCM directory.\n+      logger.error(\"The hdds root dir {} should always have 2 files. \" +\n+              \"One is Version file and other is SCM directory.\",", "originalCommit": "240979f0c7eb0836478d7f7534d0412b12d8e68d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2NDg4NQ==", "url": "https://github.com/apache/ozone/pull/1490#discussion_r503964885", "bodyText": "Thanks @jojochuang  for reviewing and committing it.", "author": "flirmnave", "createdAt": "2020-10-13T13:46:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkyMjEzNQ=="}], "type": "inlineReview"}, {"oid": "2fde8480db83513950a81dca3a890a097cfe419a", "url": "https://github.com/apache/ozone/commit/2fde8480db83513950a81dca3a890a097cfe419a", "message": "Add more actionable message.", "committedDate": "2020-10-13T13:40:28Z", "type": "commit"}, {"oid": "3361247feb143e2647086e9d3a3bc18bfe3f65de", "url": "https://github.com/apache/ozone/commit/3361247feb143e2647086e9d3a3bc18bfe3f65de", "message": "retest.", "committedDate": "2020-10-15T06:24:33Z", "type": "commit"}]}