{"pr_number": 730, "pr_title": "HDDS-3289. Add a freon generator to create nested directories.", "pr_createdAt": "2020-03-27T13:18:09Z", "pr_url": "https://github.com/apache/ozone/pull/730", "timeline": [{"oid": "607373a7ee0413fdbd73ccb14f54f63e5b69d213", "url": "https://github.com/apache/ozone/commit/607373a7ee0413fdbd73ccb14f54f63e5b69d213", "message": "HDDS-3289. Add a freon generator to create nested directories.", "committedDate": "2020-03-27T13:02:09Z", "type": "commit"}, {"oid": "710ab79e471cb32bf66b6c818dfa72ecd8e42c6c", "url": "https://github.com/apache/ozone/commit/710ab79e471cb32bf66b6c818dfa72ecd8e42c6c", "message": "HDDS-3289. Add a freon generator to create nested directories.", "committedDate": "2020-03-27T18:51:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDYzOTk3MA==", "url": "https://github.com/apache/ozone/pull/730#discussion_r400639970", "bodyText": "Can we rename the class something like, 'HadoopNestedDirsGenerator' OR 'HadoopMultiDirsGenerator' to make it clear about the responsibility of the class.", "author": "rakeshadr", "createdAt": "2020-03-31T04:43:30Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirGenerator.java", "diffHunk": "@@ -0,0 +1,101 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopDirGenerator extends BaseFreonGenerator", "originalCommit": "710ab79e471cb32bf66b6c818dfa72ecd8e42c6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgxNzAxOQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r400817019", "bodyText": "I have changed the class name to HadoopNestedDirGenerator", "author": "aryangupta1998", "createdAt": "2020-03-31T10:48:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDYzOTk3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDQ2NQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r400640465", "bodyText": "can you please add java comment or javadoc describing the nested dir structure that this function creates. For example,\n/rootdir\n   |\n   |+ level1dir1\n   |+ level1dir2\n          |\n          |+ level2dir1\n          |+ level2dir2", "author": "rakeshadr", "createdAt": "2020-03-31T04:45:38Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirGenerator.java", "diffHunk": "@@ -0,0 +1,101 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopDirGenerator extends BaseFreonGenerator\n+    implements Callable<Void> {\n+\n+  private static final Logger LOG =\n+      LoggerFactory.getLogger(HadoopDirGenerator.class);\n+\n+  @Option(names = {\"--dpath\"},\n+      description = \"Hadoop FS directory system path\",\n+      defaultValue = \"o3fs://bucket2.vol2\")\n+  private String rootPath;\n+\n+\n+  @Option(names = {\"-d\", \"--depth\"},\n+      description = \"Number of directories to be generated recursively\",\n+      defaultValue = \"5\")\n+  private int depth;\n+\n+  @Option(names = {\"--span\"},\n+      description =\n+              \"Number of child directories to be created in leaf directory.\",\n+      defaultValue = \"10\")\n+  private int span;\n+\n+  @Option(names = {\"--nameLen\"},\n+      description =\n+              \"Length of the random name of directory you want to create.\",\n+      defaultValue = \"10\")\n+  private int n;\n+\n+  private FileSystem fileSystem;\n+\n+  @Override\n+  public Void call() throws Exception {\n+\n+    init();\n+    OzoneConfiguration configuration = createOzoneConfiguration();\n+    fileSystem = FileSystem.get(URI.create(rootPath), configuration);\n+    runTests(this::createDir);\n+    return null;\n+\n+  }\n+\n+  private void createDir(long counter) throws Exception {", "originalCommit": "710ab79e471cb32bf66b6c818dfa72ecd8e42c6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgxNzU2OA==", "url": "https://github.com/apache/ozone/pull/730#discussion_r400817568", "bodyText": "I have added the required comments.", "author": "aryangupta1998", "createdAt": "2020-03-31T10:49:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDQ2NQ=="}], "type": "inlineReview"}, {"oid": "9861e98c630a1843132c590f1fffa0e20540675a", "url": "https://github.com/apache/ozone/commit/9861e98c630a1843132c590f1fffa0e20540675a", "message": "HDDS-3289. Add a freon generator to create nested directories.", "committedDate": "2020-03-31T10:41:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NDI3OQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401094279", "bodyText": "NIT: tool to test OM performance", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:37:55Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyNTQ5MQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401225491", "bodyText": "Changed", "author": "aryangupta1998", "createdAt": "2020-03-31T21:26:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NDI3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NTE2Nw==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401095167", "bodyText": "Replace command name with something less cryptic, example dirgen, gendir as we have similar commands like genconf etc.", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:39:30Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTEwNjE4MA==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401106180", "bodyText": "Freon commands have cryptic names (ockg, dfsv, etc.), but they also have more readable aliases.  This one also does: dfs-directory-generator.", "author": "adoroszlai", "createdAt": "2020-03-31T17:57:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NTE2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwNjk0OQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401206949", "bodyText": "As far as I know Freon commands have cryptic names therefore I have given \"ddsg\", also I have given readable name \"dfs-directory-generator\".", "author": "aryangupta1998", "createdAt": "2020-03-31T20:50:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NTE2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NTUyNw==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401095527", "bodyText": "Add short name option -p for path", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:40:04Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopNestedDirGenerator extends BaseFreonGenerator\n+    implements Callable<Void> {\n+\n+  private static final Logger LOG =\n+      LoggerFactory.getLogger(HadoopNestedDirGenerator.class);\n+\n+  @Option(names = {\"--dpath\"},", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTEwNjc0Mw==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401106743", "bodyText": "-p is already taken for --prefix.", "author": "adoroszlai", "createdAt": "2020-03-31T17:58:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NTUyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwMTk3Mw==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401201973", "bodyText": "As -p is already taken for prefix, I changed --dpath to --rpath(root path) and added short name option -r", "author": "aryangupta1998", "createdAt": "2020-03-31T20:41:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NTUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NjI1NQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401096255", "bodyText": "Default value assumes the bucket name and volume name. What happens if this volume or bucket does not exist?", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:41:15Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopNestedDirGenerator extends BaseFreonGenerator\n+    implements Callable<Void> {\n+\n+  private static final Logger LOG =\n+      LoggerFactory.getLogger(HadoopNestedDirGenerator.class);\n+\n+  @Option(names = {\"--dpath\"},\n+      description = \"Hadoop FS directory system path\",\n+      defaultValue = \"o3fs://bucket2.vol2\")", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwMzk5Ng==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401203996", "bodyText": "If volume or bucket does not exist then command will not execute successfully and it will show number of successful executions=0.\nAlso default value just assumes a bucket and volume, you can pass your own bucket and volume(which already exists) with \"-r\" or \"--rpath\" parameter.", "author": "aryangupta1998", "createdAt": "2020-03-31T20:45:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NjI1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NjQ2Ng==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401096466", "bodyText": "Add short name option -s for span", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:41:37Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopNestedDirGenerator extends BaseFreonGenerator\n+    implements Callable<Void> {\n+\n+  private static final Logger LOG =\n+      LoggerFactory.getLogger(HadoopNestedDirGenerator.class);\n+\n+  @Option(names = {\"--dpath\"},\n+      description = \"Hadoop FS directory system path\",\n+      defaultValue = \"o3fs://bucket2.vol2\")\n+  private String rootPath;\n+\n+\n+  @Option(names = {\"-d\", \"--depth\"},\n+      description = \"Number of directories to be generated recursively\",\n+      defaultValue = \"5\")\n+  private int depth;\n+\n+  @Option(names = {\"--span\"},", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwNDM0Mg==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401204342", "bodyText": "Added short name option \"-s\" for span.", "author": "aryangupta1998", "createdAt": "2020-03-31T20:45:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NjQ2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NzA2NQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401097065", "bodyText": "Add short name option -l for length.", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:42:32Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopNestedDirGenerator extends BaseFreonGenerator\n+    implements Callable<Void> {\n+\n+  private static final Logger LOG =\n+      LoggerFactory.getLogger(HadoopNestedDirGenerator.class);\n+\n+  @Option(names = {\"--dpath\"},\n+      description = \"Hadoop FS directory system path\",\n+      defaultValue = \"o3fs://bucket2.vol2\")\n+  private String rootPath;\n+\n+\n+  @Option(names = {\"-d\", \"--depth\"},\n+      description = \"Number of directories to be generated recursively\",\n+      defaultValue = \"5\")\n+  private int depth;\n+\n+  @Option(names = {\"--span\"},\n+      description =\n+              \"Number of child directories to be created in leaf directory.\",\n+      defaultValue = \"10\")\n+  private int span;\n+\n+  @Option(names = {\"--nameLen\"},", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwNDU3NQ==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401204575", "bodyText": "Added short name option \"-l\" for length.", "author": "aryangupta1998", "createdAt": "2020-03-31T20:46:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NzA2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NzY2Ng==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401097666", "bodyText": "Variable n is not understandable. Replace with more appropriate name like length", "author": "dineshchitlangia", "createdAt": "2020-03-31T17:43:27Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java", "diffHunk": "@@ -0,0 +1,113 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with this\n+ * work for additional information regarding copyright ownership.  The ASF\n+ * licenses this file to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * <p>\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ * <p>\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package org.apache.hadoop.ozone.freon;\n+\n+import java.net.URI;\n+import java.util.concurrent.Callable;\n+\n+import org.apache.hadoop.fs.FileSystem;\n+import org.apache.hadoop.fs.Path;\n+import org.apache.hadoop.hdds.cli.HddsVersionProvider;\n+import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n+\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import picocli.CommandLine.Command;\n+import picocli.CommandLine.Option;\n+\n+/**\n+ * Directory generator tool test om performance.\n+ */\n+@Command(name = \"ddsg\",\n+    aliases = \"dfs-directory-generator\",\n+    description =\n+            \"Create random directories to the any dfs compatible file system.\",\n+    versionProvider = HddsVersionProvider.class,\n+    mixinStandardHelpOptions = true,\n+    showDefaultValues = true)\n+public class HadoopNestedDirGenerator extends BaseFreonGenerator\n+    implements Callable<Void> {\n+\n+  private static final Logger LOG =\n+      LoggerFactory.getLogger(HadoopNestedDirGenerator.class);\n+\n+  @Option(names = {\"--dpath\"},\n+      description = \"Hadoop FS directory system path\",\n+      defaultValue = \"o3fs://bucket2.vol2\")\n+  private String rootPath;\n+\n+\n+  @Option(names = {\"-d\", \"--depth\"},\n+      description = \"Number of directories to be generated recursively\",\n+      defaultValue = \"5\")\n+  private int depth;\n+\n+  @Option(names = {\"--span\"},\n+      description =\n+              \"Number of child directories to be created in leaf directory.\",\n+      defaultValue = \"10\")\n+  private int span;\n+\n+  @Option(names = {\"--nameLen\"},\n+      description =\n+              \"Length of the random name of directory you want to create.\",\n+      defaultValue = \"10\")\n+  private int n;", "originalCommit": "9861e98c630a1843132c590f1fffa0e20540675a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIwNDgyOA==", "url": "https://github.com/apache/ozone/pull/730#discussion_r401204828", "bodyText": "Changed the variable 'n' to 'length'.", "author": "aryangupta1998", "createdAt": "2020-03-31T20:46:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTA5NzY2Ng=="}], "type": "inlineReview"}, {"oid": "1f3f73b3325969e4cbf4d1cf337ff48113273a35", "url": "https://github.com/apache/ozone/commit/1f3f73b3325969e4cbf4d1cf337ff48113273a35", "message": "HDDS-3289. Add a freon generator to create nested directories.", "committedDate": "2020-03-31T20:39:16Z", "type": "commit"}, {"oid": "66005e3b181ae5caf1aacea5b1e64de607991884", "url": "https://github.com/apache/ozone/commit/66005e3b181ae5caf1aacea5b1e64de607991884", "message": "HDDS-3289. Add a freon generator to create nested directories.", "committedDate": "2020-03-31T21:25:45Z", "type": "commit"}]}