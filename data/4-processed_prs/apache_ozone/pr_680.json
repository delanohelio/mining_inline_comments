{"pr_number": 680, "pr_title": "HDDS-3177. Periodic dependency update (Java)", "pr_createdAt": "2020-03-14T18:22:01Z", "pr_url": "https://github.com/apache/ozone/pull/680", "timeline": [{"oid": "e4d23223dbd406e3d2e6ccf784adfb90f4857aa3", "url": "https://github.com/apache/ozone/commit/e4d23223dbd406e3d2e6ccf784adfb90f4857aa3", "message": "HDDS-3177. Periodic dependency update (Java)", "committedDate": "2020-03-13T22:09:48Z", "type": "commit"}, {"oid": "c04bbda09574e316098a6ce03e077a861b3f1b29", "url": "https://github.com/apache/ozone/commit/c04bbda09574e316098a6ce03e077a861b3f1b29", "message": "HDDS-3177. Exclude ratis-examples", "committedDate": "2020-03-14T07:02:10Z", "type": "commit"}, {"oid": "d201efaff8aae5c72bb97bf9cb407bd47e4f3c9d", "url": "https://github.com/apache/ozone/commit/d201efaff8aae5c72bb97bf9cb407bd47e4f3c9d", "message": "HDDS-3177. Remove htrace", "committedDate": "2020-03-14T07:05:53Z", "type": "commit"}, {"oid": "43d5adb18f757bf3b397e67bf77a74d3b53bac41", "url": "https://github.com/apache/ozone/commit/43d5adb18f757bf3b397e67bf77a74d3b53bac41", "message": "HDDS-3177. Remove hbase", "committedDate": "2020-03-14T07:09:24Z", "type": "commit"}, {"oid": "61a830c067e19b3749c15fc13e37589e20171af7", "url": "https://github.com/apache/ozone/commit/61a830c067e19b3749c15fc13e37589e20171af7", "message": "HDDS-3177. Remove hadoop.common.build.dir and hadoop.assemblies.version", "committedDate": "2020-03-14T07:43:55Z", "type": "commit"}, {"oid": "b898417455c6405b2c311f11c4d5cb5b2b0b362f", "url": "https://github.com/apache/ozone/commit/b898417455c6405b2c311f11c4d5cb5b2b0b362f", "message": "trigger new CI check", "committedDate": "2020-03-14T16:50:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MzI0MA==", "url": "https://github.com/apache/ozone/pull/680#discussion_r392693240", "bodyText": "I don't know if we need to remove the native library in the tests. It's probably okay.\nOther than this one I am +1.", "author": "jojochuang", "createdAt": "2020-03-15T17:11:25Z", "path": "pom.xml", "diffHunk": "@@ -1791,11 +1708,6 @@ xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xs\n           <!-- @argLine is filled by jacoco maven plugin. @{} means late evaluation -->\n           <argLine>${maven-surefire-plugin.argLine} @{argLine}</argLine>\n           <environmentVariables>\n-            <HADOOP_COMMON_HOME>${hadoop.common.build.dir}</HADOOP_COMMON_HOME>\n-            <!-- HADOOP_HOME required for tests on Windows to find winutils -->\n-            <HADOOP_HOME>${hadoop.common.build.dir}</HADOOP_HOME>\n-            <LD_LIBRARY_PATH>${env.LD_LIBRARY_PATH}:${project.build.directory}/native/target/usr/local/lib:${hadoop.common.build.dir}/native/target/usr/local/lib</LD_LIBRARY_PATH>", "originalCommit": "b898417455c6405b2c311f11c4d5cb5b2b0b362f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5NDQ1NQ==", "url": "https://github.com/apache/ozone/pull/680#discussion_r392694455", "bodyText": "Thanks for the review @jojochuang.  This seems to have been copied from hadoop-project/pom.xml.  I don't think Ozone has any native library.", "author": "adoroszlai", "createdAt": "2020-03-15T17:26:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MzI0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5NTQ5Nw==", "url": "https://github.com/apache/ozone/pull/680#discussion_r392695497", "bodyText": "yeah. I think the assumption here is the behavior is the same with the native Hadoop library or not, which makes sense to me.", "author": "jojochuang", "createdAt": "2020-03-15T17:39:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MzI0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzNTgxMg==", "url": "https://github.com/apache/ozone/pull/680#discussion_r393335812", "bodyText": "The only native library I remembered for ozone is via ratis-thirdparty jar. So I'm OK with removing it.", "author": "xiaoyuyao", "createdAt": "2020-03-16T22:06:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MzI0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MjU3Nw==", "url": "https://github.com/apache/ozone/pull/680#discussion_r392882577", "bodyText": "I would fix it from the Ratis side: RATIS-827", "author": "elek", "createdAt": "2020-03-16T09:28:55Z", "path": "hadoop-hdds/tools/pom.xml", "diffHunk": "@@ -54,6 +54,12 @@ https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n       <artifactId>ratis-tools</artifactId>\n       <groupId>org.apache.ratis</groupId>\n       <version>${ratis.version}</version>\n+      <exclusions>", "originalCommit": "b898417455c6405b2c311f11c4d5cb5b2b0b362f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk0NjQyMw==", "url": "https://github.com/apache/ozone/pull/680#discussion_r392946423", "bodyText": "I had seen that issue.  The reason I included it here as a workaround is there were warnings related to it during shading.", "author": "adoroszlai", "createdAt": "2020-03-16T11:19:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MjU3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzNTE1Ng==", "url": "https://github.com/apache/ozone/pull/680#discussion_r393335156", "bodyText": "Make sense to me. I've +1 on RATIS-827. We can backoff this change when updating the ratis-snapshot version.", "author": "xiaoyuyao", "createdAt": "2020-03-16T22:04:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MjU3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzODE2Mw==", "url": "https://github.com/apache/ozone/pull/680#discussion_r393338163", "bodyText": "We can remove it later, but I don't think it's strictly necessary.  Ozone builds fine using locally built Ratis snapshot with RATIS-827 applied.", "author": "adoroszlai", "createdAt": "2020-03-16T22:12:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MjU3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU1NDc0Ng==", "url": "https://github.com/apache/ozone/pull/680#discussion_r393554746", "bodyText": "Sure, I agree. We can remove the exclusion in the commit where we start to use a Ratis version which includes RATIS-827. It was just a quick reminder that we can remove it after RATIS-827.", "author": "elek", "createdAt": "2020-03-17T09:45:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MjU3Nw=="}], "type": "inlineReview"}]}