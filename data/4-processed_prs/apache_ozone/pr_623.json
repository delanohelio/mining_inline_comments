{"pr_number": 623, "pr_title": "HDDS-2941. file create : create key table entries for intermediate directories in the path", "pr_createdAt": "2020-03-02T16:28:53Z", "pr_url": "https://github.com/apache/ozone/pull/623", "timeline": [{"oid": "f001a1e7b4e52b0a4625c4ba3c79db53bf963361", "url": "https://github.com/apache/ozone/commit/f001a1e7b4e52b0a4625c4ba3c79db53bf963361", "message": "fixed file create test failures", "committedDate": "2020-03-05T14:14:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MTc4MQ==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389251781", "bodyText": "lets wrap around LOG.isDebugEnabled()", "author": "mukul1987", "createdAt": "2020-03-07T12:34:06Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeyCreateResponse.java", "diffHunk": "@@ -60,6 +68,22 @@ protected void addToDBBatch(OMMetadataManager omMetadataManager,\n         omKeyInfo.getBucketName(), omKeyInfo.getKeyName(), openKeySessionID);\n     omMetadataManager.getOpenKeyTable().putWithBatch(batchOperation,\n         openKey, omKeyInfo);\n+    /**\n+     * Create parent directory entries during Key Create - do not wait\n+     * for Key Commit request.\n+     * XXX handle stale directory entries.\n+     */\n+    if (parentKeyInfos != null) {\n+      for (OmKeyInfo parentKeyInfo : parentKeyInfos) {\n+        String parentKey = omMetadataManager\n+            .getOzoneDirKey(parentKeyInfo.getVolumeName(),\n+                parentKeyInfo.getBucketName(), parentKeyInfo.getKeyName());\n+        LOG.debug(\"putWithBatch adding parent : key {} info : {}\", parentKey,", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NTAxMQ==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392675011", "bodyText": "done", "author": "supratimdeka", "createdAt": "2020-03-15T13:41:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MTc4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MzQzNg==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389253436", "bodyText": "createPrefixEntries can we rename this as prefixEntriesEnabled?", "author": "mukul1987", "createdAt": "2020-03-07T13:04:39Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -379,6 +358,65 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n     return omClientResponse;\n   }\n \n+  private void checkAllParentsExist(OzoneManager ozoneManager,\n+      KeyArgs keyArgs,\n+      OMFileRequest.OMPathInfo pathInfo) throws IOException {\n+    Boolean canBeCreated = false;\n+    String keyName = keyArgs.getKeyName();\n+    OMFileRequest.OMDirectoryResult omDirectoryResult =\n+        pathInfo.getDirectoryResult();\n+\n+    if (ozoneManager.createPrefixEntries()) {", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDg4NA==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674884", "bodyText": "this control/config function has been removed from OzoneManager.", "author": "supratimdeka", "createdAt": "2020-03-15T13:39:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MzQzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MzY0MQ==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389253641", "bodyText": "we can throw an exception here, as parent does not exsit.", "author": "mukul1987", "createdAt": "2020-03-07T13:08:13Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -379,6 +358,65 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n     return omClientResponse;\n   }\n \n+  private void checkAllParentsExist(OzoneManager ozoneManager,\n+      KeyArgs keyArgs,\n+      OMFileRequest.OMPathInfo pathInfo) throws IOException {\n+    Boolean canBeCreated = false;\n+    String keyName = keyArgs.getKeyName();\n+    OMFileRequest.OMDirectoryResult omDirectoryResult =\n+        pathInfo.getDirectoryResult();\n+\n+    if (ozoneManager.createPrefixEntries()) {\n+      // if immediate parent exists, assume higher level directories exist.\n+      if (pathInfo.getDirectParentExists()) {\n+        canBeCreated = true;\n+      }", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDgyNw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674827", "bodyText": "Code has changed", "author": "supratimdeka", "createdAt": "2020-03-15T13:39:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MzY0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MzY4Ng==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389253686", "bodyText": "The exception here should be something like file exists in the actual path.", "author": "mukul1987", "createdAt": "2020-03-07T13:08:41Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -379,6 +358,65 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n     return omClientResponse;\n   }\n \n+  private void checkAllParentsExist(OzoneManager ozoneManager,\n+      KeyArgs keyArgs,\n+      OMFileRequest.OMPathInfo pathInfo) throws IOException {\n+    Boolean canBeCreated = false;\n+    String keyName = keyArgs.getKeyName();\n+    OMFileRequest.OMDirectoryResult omDirectoryResult =\n+        pathInfo.getDirectoryResult();\n+\n+    if (ozoneManager.createPrefixEntries()) {\n+      // if immediate parent exists, assume higher level directories exist.\n+      if (pathInfo.getDirectParentExists()) {\n+        canBeCreated = true;\n+      }\n+    } else {\n+      String volumeName = keyArgs.getVolumeName();\n+      String bucketName = keyArgs.getBucketName();\n+\n+      // We cannot create a file if complete parent directories don't exist.\n+\n+      // verifyFilesInPath, checks only the path and its parent directories.\n+      // But there may be some keys below the given path. So this method\n+      // checks them.\n+\n+      // Example:\n+      // Existing keys in table\n+      // a/b/c/d/e\n+      // a/b/c/d/f\n+      // a/b\n+\n+      // Take an example if given key to be created with isRecursive set\n+      // to false is \"a/b/c/e\".\n+      // There is no key in keyTable with the provided path.\n+      // Check in case if there are keys exist in given path. (This can\n+      // happen if keys are directly created using key requests.)\n+\n+      // We need to do this check only in the case of non-recursive, so\n+      // not included the checks done in checkKeysUnderPath in\n+      // verifyFilesInPath method, as that method is common method for\n+      // directory and file create request. This also avoid's this\n+      // unnecessary check which is not required for those cases.\n+      if (omDirectoryResult == NONE ||\n+          omDirectoryResult == DIRECTORY_EXISTS_IN_GIVENPATH) {\n+        canBeCreated =\n+            checkKeysUnderPath(ozoneManager.getMetadataManager(), volumeName,\n+                bucketName, keyName);\n+      } else if (omDirectoryResult == FILE_EXISTS_IN_GIVENPATH) {\n+        canBeCreated = false;", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDgxOA==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674818", "bodyText": "This code has changed.", "author": "supratimdeka", "createdAt": "2020-03-15T13:39:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MzY4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1NjkyNA==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389256924", "bodyText": "Ideally, I feel we should create a directory prefix before the key/file prefix. this improves the readability.", "author": "mukul1987", "createdAt": "2020-03-07T14:04:42Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeyCreateResponse.java", "diffHunk": "@@ -60,6 +68,22 @@ protected void addToDBBatch(OMMetadataManager omMetadataManager,\n         omKeyInfo.getBucketName(), omKeyInfo.getKeyName(), openKeySessionID);\n     omMetadataManager.getOpenKeyTable().putWithBatch(batchOperation,\n         openKey, omKeyInfo);\n+    /**\n+     * Create parent directory entries during Key Create - do not wait", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1NzI0Mw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389257243", "bodyText": "let's also follow the same order in DirectoryCreateResponse.", "author": "mukul1987", "createdAt": "2020-03-07T14:09:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1NjkyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDQ3Mw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674473", "bodyText": "done", "author": "supratimdeka", "createdAt": "2020-03-15T13:34:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1NjkyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1NzM4OA==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389257388", "bodyText": "lets also add these to the cache as well.", "author": "mukul1987", "createdAt": "2020-03-07T14:11:44Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -325,7 +304,7 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n           .setOpenVersion(openVersion).build())\n           .setCmdType(Type.CreateFile);\n       omClientResponse = new OMFileCreateResponse(omResponse.build(),\n-          omKeyInfo, clientID);\n+          omKeyInfo, missingParentInfos, clientID);", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDQ2Ng==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674466", "bodyText": "done", "author": "supratimdeka", "createdAt": "2020-03-15T13:34:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1NzM4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTAwNg==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389259006", "bodyText": "This should be false as this is a file and not a directory", "author": "mukul1987", "createdAt": "2020-03-07T14:38:30Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java", "diffHunk": "@@ -80,6 +91,7 @@ public static OMPathInfo verifyFilesInPath(\n         // Check if this is actual file or a file in the given path\n         if (dbKeyName.equals(fileNameFromDetails)) {\n           result = OMDirectoryResult.FILE_EXISTS;\n+          parentExists = true;", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDQ0Ng==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674446", "bodyText": "removed the special handling for parentExists as suggested in another comment.\nnow the same condition is determined using an empty missingParents list.", "author": "supratimdeka", "createdAt": "2020-03-15T13:34:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTAwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTUxNg==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389259516", "bodyText": "this is false always.", "author": "mukul1987", "createdAt": "2020-03-07T14:47:28Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java", "diffHunk": "@@ -105,24 +120,37 @@ public static OMPathInfo verifyFilesInPath(\n \n         LOG.trace(\"verifyFiles in Path : \" + \"/\" + volumeName\n             + \"/\" + bucketName + \"/\" + keyName + \":\" + result);\n-        return new OMPathInfo(missing, result, inheritAcls);\n+        // if file exists, so does the parent. Assert.\n+        Preconditions.checkState((result != OMDirectoryResult.FILE_EXISTS)\n+            || (parentExists));\n+\n+        return new OMPathInfo(missing, result, inheritAcls, parentExists);\n       }\n       keyPath = keyPath.getParent();\n     }\n \n     if (inheritAcls.isEmpty()) {\n-      String bucketKey = omMetadataManager.getBucketKey(volumeName, bucketName);\n-      inheritAcls = omMetadataManager.getBucketTable().get(bucketKey).getAcls();\n+      String bucketKey = omMetadataManager.getBucketKey(volumeName,\n+          bucketName);\n+      inheritAcls = omMetadataManager.getBucketTable().get(bucketKey)\n+          .getAcls();\n       LOG.trace(\"Acls inherited from bucket \" + bucketName + \" are : \"\n           + inheritAcls);\n     }\n \n     LOG.trace(\"verifyFiles in Path : \" + volumeName + \"/\" + bucketName + \"/\"\n         + keyName + \":\" + result);\n+    // parentExists always true if we are creating inside root dir\n+    Preconditions.checkState(!pathIsRootDir(immediateParentPath)\n+        || parentExists);\n     // Found no files/ directories in the given path.\n-    return new OMPathInfo(missing, OMDirectoryResult.NONE, inheritAcls);\n+    return new OMPathInfo(missing, OMDirectoryResult.NONE, inheritAcls,\n+        parentExists);", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDM4Mw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674383", "bodyText": "the function has changed. this comment gets resolved indirectly", "author": "supratimdeka", "createdAt": "2020-03-15T13:33:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTUxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTc0Mg==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389259742", "bodyText": "The check for this is same as missingparents as null ?", "author": "mukul1987", "createdAt": "2020-03-07T14:51:10Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -379,6 +358,65 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n     return omClientResponse;\n   }\n \n+  private void checkAllParentsExist(OzoneManager ozoneManager,\n+      KeyArgs keyArgs,\n+      OMFileRequest.OMPathInfo pathInfo) throws IOException {\n+    Boolean canBeCreated = false;\n+    String keyName = keyArgs.getKeyName();\n+    OMFileRequest.OMDirectoryResult omDirectoryResult =\n+        pathInfo.getDirectoryResult();\n+\n+    if (ozoneManager.createPrefixEntries()) {\n+      // if immediate parent exists, assume higher level directories exist.\n+      if (pathInfo.getDirectParentExists()) {", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDMwMw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674303", "bodyText": "done", "author": "supratimdeka", "createdAt": "2020-03-15T13:32:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1OTc0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI2MDAxNw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r389260017", "bodyText": "both createDirectoryKeyInfoWithACL & createDirectoryKeyInfo can be collapsed into one function.", "author": "mukul1987", "createdAt": "2020-03-07T14:56:24Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMDirectoryCreateRequest.java", "diffHunk": "@@ -347,7 +371,7 @@ private OmKeyInfo createDirectoryKeyInfoWithACL(OzoneManager ozoneManager,\n         .build();\n   }\n \n-  private OmKeyInfo createDirectoryKeyInfo(OzoneManager ozoneManager,\n+  private static OmKeyInfo createDirectoryKeyInfo(OzoneManager ozoneManager,", "originalCommit": "d88b3d9d994fba01da45bea8f5036718000a0c28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3NDI3Nw==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392674277", "bodyText": "done", "author": "supratimdeka", "createdAt": "2020-03-15T13:32:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI2MDAxNw=="}], "type": "inlineReview"}, {"oid": "168a8cadfe6b1348449c802207ddef1dfedb810b", "url": "https://github.com/apache/ozone/commit/168a8cadfe6b1348449c802207ddef1dfedb810b", "message": "HDDS-2941. file create : create key table entries for intermediate directories in the path", "committedDate": "2020-03-15T13:31:36Z", "type": "commit"}, {"oid": "ec794ce7de538740e4fb79a17c5f4e039110842b", "url": "https://github.com/apache/ozone/commit/ec794ce7de538740e4fb79a17c5f4e039110842b", "message": "fixed file create test failures", "committedDate": "2020-03-15T13:31:36Z", "type": "commit"}, {"oid": "4e35e5c8d4c86f76bdb77870f7c4853215cb3fea", "url": "https://github.com/apache/ozone/commit/4e35e5c8d4c86f76bdb77870f7c4853215cb3fea", "message": "checkstyle issues", "committedDate": "2020-03-15T13:31:36Z", "type": "commit"}, {"oid": "1b6b7096fd1bab0ddbfe683808210aea95ede644", "url": "https://github.com/apache/ozone/commit/1b6b7096fd1bab0ddbfe683808210aea95ede644", "message": "addressed review comments.", "committedDate": "2020-03-15T13:31:36Z", "type": "commit"}, {"oid": "1b6b7096fd1bab0ddbfe683808210aea95ede644", "url": "https://github.com/apache/ozone/commit/1b6b7096fd1bab0ddbfe683808210aea95ede644", "message": "addressed review comments.", "committedDate": "2020-03-15T13:31:36Z", "type": "forcePushed"}, {"oid": "4ea6ce18f23602be122e3f3e87e0f61b5be470e5", "url": "https://github.com/apache/ozone/commit/4ea6ce18f23602be122e3f3e87e0f61b5be470e5", "message": "fixed findbugs and checkstyle.", "committedDate": "2020-03-15T14:10:23Z", "type": "commit"}, {"oid": "f59ccf1eae54edad24d54d0bbd843b3ea3247eff", "url": "https://github.com/apache/ozone/commit/f59ccf1eae54edad24d54d0bbd843b3ea3247eff", "message": "fixed unit test failure after changing exception status code.", "committedDate": "2020-03-16T03:21:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MDUwMA==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392690500", "bodyText": "Why is this test obsolete ?", "author": "mukul1987", "createdAt": "2020-03-15T16:35:30Z", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestKeyManagerImpl.java", "diffHunk": "@@ -418,6 +412,8 @@ public void testOpenFile() throws IOException {\n   }\n \n   @Test\n+  @Ignore\n+  // TODO this test relies on KeyManagerImpl.createFile which is obsolete.", "originalCommit": "4ea6ce18f23602be122e3f3e87e0f61b5be470e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5MDUxNQ==", "url": "https://github.com/apache/ozone/pull/623#discussion_r392690515", "bodyText": "Lets expand the wildcards.", "author": "mukul1987", "createdAt": "2020-03-15T16:35:41Z", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestKeyManagerImpl.java", "diffHunk": "@@ -92,13 +92,7 @@\n import org.apache.hadoop.test.LambdaTestUtils;\n \n import org.apache.hadoop.util.Time;\n-import org.junit.After;\n-import org.junit.AfterClass;\n-import org.junit.Assert;\n-import org.junit.Assume;\n-import org.junit.BeforeClass;\n-import org.junit.Rule;\n-import org.junit.Test;\n+import org.junit.*;", "originalCommit": "4ea6ce18f23602be122e3f3e87e0f61b5be470e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY2MzU1OQ==", "url": "https://github.com/apache/ozone/pull/623#discussion_r393663559", "bodyText": "lets wrap in isDebugEnabled", "author": "mukul1987", "createdAt": "2020-03-17T13:05:54Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -175,7 +169,7 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n     // if isRecursive is true, file would be created even if parent\n     // directories does not exist.\n     boolean isRecursive = createFileRequest.getIsRecursive();\n-    LOG.info(\"File create for : \" + volumeName + \"/\" + bucketName + \"/\"\n+    LOG.debug(\"File create for : \" + volumeName + \"/\" + bucketName + \"/\"", "originalCommit": "f59ccf1eae54edad24d54d0bbd843b3ea3247eff", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ba656f89160964336a5ef484de36d7f20b040524", "url": "https://github.com/apache/ozone/commit/ba656f89160964336a5ef484de36d7f20b040524", "message": "review comments.", "committedDate": "2020-03-18T13:18:49Z", "type": "commit"}]}