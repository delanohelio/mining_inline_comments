{"pr_number": 1175, "pr_title": "HDDS-2766. security/SecuringDataNodes.md", "pr_createdAt": "2020-07-08T01:43:07Z", "pr_url": "https://github.com/apache/ozone/pull/1175", "timeline": [{"oid": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "url": "https://github.com/apache/ozone/commit/b7d17fd0ae46031c6c6d3add976fa27232735ef7", "message": "HDDS-2766. security/SecuringDataNodes.md", "committedDate": "2020-07-08T01:37:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzIxOA==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451237218", "bodyText": "Question about original doc, which is more precise, datanode or data node ?", "author": "iamabug", "createdAt": "2020-07-08T01:52:55Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY3NDIyNg==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451674226", "bodyText": "\"datanode\" please fix the original EN doc as well.", "author": "xiaoyuyao", "createdAt": "2020-07-08T16:29:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzIxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzkzNQ==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451237935", "bodyText": "Original doc says the web of trust, but according to my understanding, it is called chain of trust in PKI.", "author": "iamabug", "createdAt": "2020-07-08T01:55:47Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002\n+icon: th\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002\n+\n+\u4f46\u662f\u6211\u4eec\u4e5f\u652f\u6301\u4f20\u7edf\u7684\u57fa\u4e8e Kerberos \u7684\u8ba4\u8bc1\u6765\u65b9\u4fbf\u73b0\u6709\u7528\u6237\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728 hdfs-site.xml \u91cc\u914d\u7f6e\u4e0b\u9762\u53c2\u6570\u5373\u53ef\uff1a\n+\n+\u53c2\u6570\u540d|\u63cf\u8ff0\n+--------|--------------\n+dfs.datanode.kerberos.principal| datanode \u7684\u670d\u52a1\u4e3b\u4f53\u540d <br/> \u6bd4\u5982\uff1adn/_HOST@REALM.COM\n+dfs.datanode.keytab.file| datanode \u8fdb\u7a0b\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+hdds.datanode.http.kerberos.principal| datanode http \u670d\u52a1\u5668\u7684\u670d\u52a1\u4e3b\u4f53\u540d\n+hdds.datanode.http.kerberos.keytab| datanode http \u670d\u52a1\u5668\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+\n+\n+## \u5982\u4f55\u5b89\u5168\u5316 datanode\n+\n+\u5728 Ozone \u4e2d\uff0c\u5f53 datanode \u542f\u52a8\u5e76\u53d1\u73b0 SCM \u7684\u5730\u5740\u4e4b\u540e\uff0cdatanode \u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u521b\u5efa\u79c1\u94a5\u5e76\u5411 SCM \u53d1\u9001\u8bc1\u4e66\u8bf7\u6c42\u3002\n+\n+<h3>\u901a\u8fc7 Kerberos \u9881\u53d1\u8bc1\u4e66<span class=\"badge badge-secondary\">\u5f53\u524d\u6a21\u578b</span></h3>\n+SCM \u6709\u4e00\u4e2a\u5185\u7f6e\u7684 CA \u7528\u6765\u6279\u51c6\u8bc1\u4e66\u8bf7\u6c42\uff0c\u5982\u679c datanode \u5df2\u7ecf\u6709\u4e00\u4e2a Kerberos keytab\uff0cSCM \u4f1a\u4fe1\u4efb\u5b83\u5e76\u81ea\u52a8\u9881\u53d1\u4e00\u4e2a\u8bc1\u4e66\u3002\n+\n+\n+<h3>\u624b\u52a8\u9881\u53d1<span class=\"badge badge-primary\">\u5f00\u53d1\u4e2d</span></h3>\n+\u5982\u679c datanode \u662f\u65b0\u52a0\u5165\u7684\u5e76\u4e14\u6ca1\u6709 keytab\uff0c\u90a3\u4e48\u8bc1\u4e66\u8bf7\u6c42\u9700\u8981\u7b49\u5f85\u7ba1\u7406\u5458\u7684\u6279\u51c6\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u4fe1\u4efb\u5173\u7cfb\u94fe\u7531\u96c6\u7fa4\u7ba1\u7406\u5458\u5efa\u7acb\u3002", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzODczNg==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451238736", "bodyText": "A typo in origin doc maybe, 'band newshould bebrand new` ? If yes, should I fix it in this PR or open a new one ?", "author": "iamabug", "createdAt": "2020-07-08T01:59:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzkzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY3NTEwNA==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451675104", "bodyText": "this should be \"brand new\" you can fix it in this one along with the CN doc.", "author": "xiaoyuyao", "createdAt": "2020-07-08T16:30:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzkzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTY3NTQ5MA==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451675490", "bodyText": "\"chain of trust\" is better, pls fix it in both EN and CN doc.", "author": "xiaoyuyao", "createdAt": "2020-07-08T16:31:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzkzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNjI0OQ==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451726249", "bodyText": "\u90a3\u4e48\u8bc1\u4e66\u8bf7\u6c42\u9700\u8981\u7b49\u5f85\u7ba1\u7406\u5458\u7684\u6279\u51c6\uff08\u624b\u52a8\u6279\u51c6\u529f\u80fd\u5c1a\u672a\u5b8c\u5168\u652f\u6301\uff09", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:55:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTIzNzkzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxMzU1Mw==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451713553", "bodyText": "Can we rephrase:\n\"\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002\"\n=>\n\"Hadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u7ed9\u6bcf\u4e2a\u8282\u70b9\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\u3002  Ozone \u7684datanode\u5b89\u5168\u673a\u5236\u4e0d\u4f9d\u8d56Kerberos\uff0c \u800c\u662f\u6539\u7528 datanode \u8bc1\u4e66\u3002", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:34:00Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002\n+icon: th\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMjgxMw==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451722813", "bodyText": "hdds.datanode.http.kerberos.principal=>hdds.datanode.http.auth.kerberos.principal", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:49:52Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002\n+icon: th\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002\n+\n+\u4f46\u662f\u6211\u4eec\u4e5f\u652f\u6301\u4f20\u7edf\u7684\u57fa\u4e8e Kerberos \u7684\u8ba4\u8bc1\u6765\u65b9\u4fbf\u73b0\u6709\u7528\u6237\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728 hdfs-site.xml \u91cc\u914d\u7f6e\u4e0b\u9762\u53c2\u6570\u5373\u53ef\uff1a\n+\n+\u53c2\u6570\u540d|\u63cf\u8ff0\n+--------|--------------\n+dfs.datanode.kerberos.principal| datanode \u7684\u670d\u52a1\u4e3b\u4f53\u540d <br/> \u6bd4\u5982\uff1adn/_HOST@REALM.COM\n+dfs.datanode.keytab.file| datanode \u8fdb\u7a0b\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+hdds.datanode.http.kerberos.principal| datanode http \u670d\u52a1\u5668\u7684\u670d\u52a1\u4e3b\u4f53\u540d", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIwNjE4MA==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r452206180", "bodyText": "Is this a committed change ? I notice that it is still hdds.datanode.http.kerberos.principal in master branch.", "author": "iamabug", "createdAt": "2020-07-09T13:12:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMjgxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjUwNDM4OQ==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r452504389", "bodyText": "@iamabug Yes. It is in master\nhttps://github.com/apache/hadoop-ozone/blob/master/hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsConfigKeys.java#L249-L251", "author": "smengcl", "createdAt": "2020-07-09T21:37:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMjgxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU2OTc5Ng==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r452569796", "bodyText": "Thanks for the link and commit. @smengcl", "author": "iamabug", "createdAt": "2020-07-10T01:08:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMjgxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMzA0OA==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451723048", "bodyText": "hdds.datanode.http.kerberos.keytab=>hdds.datanode.http.auth.kerberos.keytab", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:50:12Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002\n+icon: th\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002\n+\n+\u4f46\u662f\u6211\u4eec\u4e5f\u652f\u6301\u4f20\u7edf\u7684\u57fa\u4e8e Kerberos \u7684\u8ba4\u8bc1\u6765\u65b9\u4fbf\u73b0\u6709\u7528\u6237\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728 hdfs-site.xml \u91cc\u914d\u7f6e\u4e0b\u9762\u53c2\u6570\u5373\u53ef\uff1a\n+\n+\u53c2\u6570\u540d|\u63cf\u8ff0\n+--------|--------------\n+dfs.datanode.kerberos.principal| datanode \u7684\u670d\u52a1\u4e3b\u4f53\u540d <br/> \u6bd4\u5982\uff1adn/_HOST@REALM.COM\n+dfs.datanode.keytab.file| datanode \u8fdb\u7a0b\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+hdds.datanode.http.kerberos.principal| datanode http \u670d\u52a1\u5668\u7684\u670d\u52a1\u4e3b\u4f53\u540d\n+hdds.datanode.http.kerberos.keytab| datanode http \u670d\u52a1\u5668\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNDIxNw==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451724217", "bodyText": "datanode http \u670d\u52a1\u5668\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6=>datanode http \u670d\u52a1\u5668\u7684\u670d\u52a1\u4e3b\u4f53\u767b\u9646\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:52:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMzA0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNDcwOQ==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451724709", "bodyText": "datanode \u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u521b\u5efa\u79c1\u94a5\u5e76\u5411 SCM \u53d1\u9001\u8bc1\u4e66\u8bf7\u6c42-\u300bdatanode \u9996\u5148\u521b\u5efa\u79c1\u94a5\u5e76\u5411 SCM \u53d1\u9001\u8bc1\u4e66\u8bf7\u6c42\u3002", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:52:57Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002\n+icon: th\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002\n+\n+\u4f46\u662f\u6211\u4eec\u4e5f\u652f\u6301\u4f20\u7edf\u7684\u57fa\u4e8e Kerberos \u7684\u8ba4\u8bc1\u6765\u65b9\u4fbf\u73b0\u6709\u7528\u6237\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728 hdfs-site.xml \u91cc\u914d\u7f6e\u4e0b\u9762\u53c2\u6570\u5373\u53ef\uff1a\n+\n+\u53c2\u6570\u540d|\u63cf\u8ff0\n+--------|--------------\n+dfs.datanode.kerberos.principal| datanode \u7684\u670d\u52a1\u4e3b\u4f53\u540d <br/> \u6bd4\u5982\uff1adn/_HOST@REALM.COM\n+dfs.datanode.keytab.file| datanode \u8fdb\u7a0b\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+hdds.datanode.http.kerberos.principal| datanode http \u670d\u52a1\u5668\u7684\u670d\u52a1\u4e3b\u4f53\u540d\n+hdds.datanode.http.kerberos.keytab| datanode http \u670d\u52a1\u5668\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+\n+\n+## \u5982\u4f55\u5b89\u5168\u5316 datanode\n+\n+\u5728 Ozone \u4e2d\uff0c\u5f53 datanode \u542f\u52a8\u5e76\u53d1\u73b0 SCM \u7684\u5730\u5740\u4e4b\u540e\uff0cdatanode \u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u521b\u5efa\u79c1\u94a5\u5e76\u5411 SCM \u53d1\u9001\u8bc1\u4e66\u8bf7\u6c42\u3002", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNzUyOA==", "url": "https://github.com/apache/ozone/pull/1175#discussion_r451727528", "bodyText": "The original document has a typo here \"down load\" should be \"download\"", "author": "xiaoyuyao", "createdAt": "2020-07-08T17:57:32Z", "path": "hadoop-hdds/docs/content/security/SecuringDatanodes.zh.md", "diffHunk": "@@ -0,0 +1,53 @@\n+---\n+title: \"\u5b89\u5168\u5316 Datanode\"\n+date: \"2019-April-03\"\n+weight: 2\n+summary:  \u89e3\u91ca\u5b89\u5168\u5316 datanode \u7684\u4e0d\u540c\u6a21\u5f0f\uff0c\u5305\u62ec Kerberos\u3001\u8bc1\u4e66\u7684\u624b\u52a8\u9881\u53d1\u548c\u81ea\u52a8\u9881\u53d1\u7b49\u3002\n+icon: th\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+\u8fc7\u53bb\uff0cHadoop \u4e2d datanode \u7684\u5b89\u5168\u673a\u5236\u662f\u901a\u8fc7\u5728\u8282\u70b9\u4e0a\u521b\u5efa Keytab \u6587\u4ef6\u5b9e\u73b0\u7684\uff0c\u800c Ozone \u6539\u7528 datanode \u8bc1\u4e66\uff0c\u5728\u5b89\u5168\u7684 Ozone \u96c6\u7fa4\u4e2d\uff0cdatanode \u4e0d\u518d\u9700\u8981 Kerberos\u3002\n+\n+\u4f46\u662f\u6211\u4eec\u4e5f\u652f\u6301\u4f20\u7edf\u7684\u57fa\u4e8e Kerberos \u7684\u8ba4\u8bc1\u6765\u65b9\u4fbf\u73b0\u6709\u7528\u6237\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728 hdfs-site.xml \u91cc\u914d\u7f6e\u4e0b\u9762\u53c2\u6570\u5373\u53ef\uff1a\n+\n+\u53c2\u6570\u540d|\u63cf\u8ff0\n+--------|--------------\n+dfs.datanode.kerberos.principal| datanode \u7684\u670d\u52a1\u4e3b\u4f53\u540d <br/> \u6bd4\u5982\uff1adn/_HOST@REALM.COM\n+dfs.datanode.keytab.file| datanode \u8fdb\u7a0b\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+hdds.datanode.http.kerberos.principal| datanode http \u670d\u52a1\u5668\u7684\u670d\u52a1\u4e3b\u4f53\u540d\n+hdds.datanode.http.kerberos.keytab| datanode http \u670d\u52a1\u5668\u6240\u4f7f\u7528\u7684 keytab \u6587\u4ef6\n+\n+\n+## \u5982\u4f55\u5b89\u5168\u5316 datanode\n+\n+\u5728 Ozone \u4e2d\uff0c\u5f53 datanode \u542f\u52a8\u5e76\u53d1\u73b0 SCM \u7684\u5730\u5740\u4e4b\u540e\uff0cdatanode \u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u521b\u5efa\u79c1\u94a5\u5e76\u5411 SCM \u53d1\u9001\u8bc1\u4e66\u8bf7\u6c42\u3002\n+\n+<h3>\u901a\u8fc7 Kerberos \u9881\u53d1\u8bc1\u4e66<span class=\"badge badge-secondary\">\u5f53\u524d\u6a21\u578b</span></h3>\n+SCM \u6709\u4e00\u4e2a\u5185\u7f6e\u7684 CA \u7528\u6765\u6279\u51c6\u8bc1\u4e66\u8bf7\u6c42\uff0c\u5982\u679c datanode \u5df2\u7ecf\u6709\u4e00\u4e2a Kerberos keytab\uff0cSCM \u4f1a\u4fe1\u4efb\u5b83\u5e76\u81ea\u52a8\u9881\u53d1\u4e00\u4e2a\u8bc1\u4e66\u3002\n+\n+\n+<h3>\u624b\u52a8\u9881\u53d1<span class=\"badge badge-primary\">\u5f00\u53d1\u4e2d</span></h3>\n+\u5982\u679c datanode \u662f\u65b0\u52a0\u5165\u7684\u5e76\u4e14\u6ca1\u6709 keytab\uff0c\u90a3\u4e48\u8bc1\u4e66\u8bf7\u6c42\u9700\u8981\u7b49\u5f85\u7ba1\u7406\u5458\u7684\u6279\u51c6\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u4fe1\u4efb\u5173\u7cfb\u94fe\u7531\u96c6\u7fa4\u7ba1\u7406\u5458\u5efa\u7acb\u3002\n+\n+<h3>\u81ea\u52a8\u9881\u53d1 <span class=\"badge badge-secondary\">\u5f00\u53d1\u4e2d</span></h3>\n+\u5982\u679c\u4f60\u901a\u8fc7 Kubernetes \u8fd9\u6837\u7684\u5bb9\u5668\u7f16\u6392\u8f6f\u4ef6\u8fd0\u884c Ozone\uff0cKubernetes \u9700\u8981\u4e3a datanode \u521b\u5efa\u4e00\u6b21\u6027 token\uff0c\u7528\u4e8e\u5728\u542f\u52a8\u9636\u6bb5\u8bc1\u660e datanode \u5bb9\u5668\u7684\u8eab\u4efd\u3002\uff08\u8fd9\u4e2a\u7279\u6027\u4e5f\u6b63\u5728\u5f00\u53d1\u4e2d\u3002\uff09\n+\n+\n+\u8bc1\u4e66\u9881\u53d1\u540e\uff0cdatanode \u7684\u5b89\u5168\u5c31\u5f97\u5230\u4e86\u4fdd\u969c\uff0c\u5e76\u4e14 OM \u53ef\u4ee5\u9881\u53d1\u5757 token\u3002\u5982\u679c datanode \u6ca1\u6709\u8bc1\u4e66\u6216\u8005 SCM \u7684\u6839\u8bc1\u4e66\uff0cdatanode \u4f1a\u81ea\u52a8\u8fdb\u884c\u6ce8\u518c\uff0c\u4e0b\u8f7d SCM \u7684\u6839\u8bc1\u4e66\uff0c\u5e76\u83b7\u53d6\u81ea\u5df1\u7684\u8bc1\u4e66\u3002", "originalCommit": "b7d17fd0ae46031c6c6d3add976fa27232735ef7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "592bf67f0cd171238bfe45061df880569a0b8d63", "url": "https://github.com/apache/ozone/commit/592bf67f0cd171238bfe45061df880569a0b8d63", "message": "HDDS-2766. security/SecuringDataNodes.md", "committedDate": "2020-07-09T13:17:52Z", "type": "commit"}, {"oid": "a01b99140eeefa6fe50f33d66520cb37f25f0fe9", "url": "https://github.com/apache/ozone/commit/a01b99140eeefa6fe50f33d66520cb37f25f0fe9", "message": "Update SecuringDatanodes.zh.md\n\nhdds.datanode.http.kerberos.principal -> hdds.datanode.http.auth.kerberos.principal\r\n\r\nhdds.datanode.http.kerberos.keytab -> hdds.datanode.http.auth.kerberos.keytab", "committedDate": "2020-07-09T21:41:48Z", "type": "commit"}, {"oid": "c13475a914c9def798c176bb9eb8e0dce71644d3", "url": "https://github.com/apache/ozone/commit/c13475a914c9def798c176bb9eb8e0dce71644d3", "message": "Update SecuringDatanodes.md\n\nhdds.datanode.http.kerberos.principal -> hdds.datanode.http.auth.kerberos.principal\r\nhdds.datanode.http.kerberos.keytab -> hdds.datanode.http.auth.kerberos.keytab", "committedDate": "2020-07-09T21:43:06Z", "type": "commit"}, {"oid": "b7b69cda2d603d1f10d6be9cd24fd9d699bfc148", "url": "https://github.com/apache/ozone/commit/b7b69cda2d603d1f10d6be9cd24fd9d699bfc148", "message": "empty commit to retest build", "committedDate": "2020-07-09T23:01:57Z", "type": "commit"}, {"oid": "673cf007dce532e19cbf233c856df3f51d5f2bc1", "url": "https://github.com/apache/ozone/commit/673cf007dce532e19cbf233c856df3f51d5f2bc1", "message": "Merge branch 'master' into HDDS-2766", "committedDate": "2020-09-20T17:15:19Z", "type": "commit"}, {"oid": "c7ea4cbaaa8b643a211217aed3ca6382e5ba7013", "url": "https://github.com/apache/ozone/commit/c7ea4cbaaa8b643a211217aed3ca6382e5ba7013", "message": "trigger new CI check", "committedDate": "2020-09-22T12:46:57Z", "type": "commit"}]}