{"pr_number": 4988, "pr_title": "RM25762 Catching NPE from the edit leave select view", "pr_createdAt": "2020-02-26T09:37:41Z", "pr_url": "https://github.com/axelor/axelor-open-suite/pull/4988", "timeline": [{"oid": "734344a1e1f5faacdf99d9a6dd871c43cf6e80e4", "url": "https://github.com/axelor/axelor-open-suite/commit/734344a1e1f5faacdf99d9a6dd871c43cf6e80e4", "message": "Catching NPE from the edit leave select view", "committedDate": "2020-02-26T09:33:39Z", "type": "commit"}, {"oid": "66f3dc2cc6d64650ffc45a187d4c76cde7a4d03e", "url": "https://github.com/axelor/axelor-open-suite/commit/66f3dc2cc6d64650ffc45a187d4c76cde7a4d03e", "message": "spotlessApply", "committedDate": "2020-02-26T09:44:10Z", "type": "commit"}, {"oid": "a15d8a08b0e4de33c24c3f3c6ba19f6725dd6123", "url": "https://github.com/axelor/axelor-open-suite/commit/a15d8a08b0e4de33c24c3f3c6ba19f6725dd6123", "message": "CHANGELOG UPDATED", "committedDate": "2020-02-26T10:58:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxMzQ3Ng==", "url": "https://github.com/axelor/axelor-open-suite/pull/4988#discussion_r386413476", "bodyText": "leaveId = Long.valueOf(leaveMap.get(\"id\").toString());", "author": "ale-axelor", "createdAt": "2020-03-02T14:10:23Z", "path": "axelor-human-resource/src/main/java/com/axelor/apps/hr/web/leave/LeaveController.java", "diffHunk": "@@ -105,7 +105,12 @@ public void editLeave(ActionRequest request, ActionResponse response) {\n   public void editLeaveSelected(ActionRequest request, ActionResponse response) {\n     try {\n       Map<String, Object> leaveMap = (Map<String, Object>) request.getContext().get(\"leaveSelect\");\n-      Long leaveId = Long.valueOf((long) leaveMap.get(\"id\"));\n+      Long leaveId;\n+      try {\n+        leaveId = Long.valueOf((long) leaveMap.get(\"id\"));\n+      } catch (ClassCastException e) {\n+        leaveId = Long.valueOf((long) (int) leaveMap.get(\"id\"));\n+      }", "originalCommit": "a15d8a08b0e4de33c24c3f3c6ba19f6725dd6123", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxNDQzNQ==", "url": "https://github.com/axelor/axelor-open-suite/pull/4988#discussion_r386414435", "bodyText": "check if leaveMap.get(\"id\") is null instead of catching NPE", "author": "ale-axelor", "createdAt": "2020-03-02T14:12:09Z", "path": "axelor-human-resource/src/main/java/com/axelor/apps/hr/web/leave/LeaveController.java", "diffHunk": "@@ -114,6 +119,8 @@ public void editLeaveSelected(ActionRequest request, ActionResponse response) {\n               .domain(\"self.id = \" + leaveId)\n               .context(\"_showRecord\", leaveId)\n               .map());\n+    } catch (NullPointerException e) {", "originalCommit": "a15d8a08b0e4de33c24c3f3c6ba19f6725dd6123", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "268b78fa230dbdd05909e12126bb82c4cefdb69d", "url": "https://github.com/axelor/axelor-open-suite/commit/268b78fa230dbdd05909e12126bb82c4cefdb69d", "message": "fix previous changes according to the pull request comments", "committedDate": "2020-03-02T15:44:05Z", "type": "commit"}, {"oid": "2829ab985a5d5fb74ca131d29e7a6ea7e57bcbbe", "url": "https://github.com/axelor/axelor-open-suite/commit/2829ab985a5d5fb74ca131d29e7a6ea7e57bcbbe", "message": "Merge branch '5.2-dev' into 5.2-dev-25762", "committedDate": "2020-03-02T15:45:44Z", "type": "commit"}, {"oid": "5da77457d2d66be3c437fb46f7d94b0e922e2976", "url": "https://github.com/axelor/axelor-open-suite/commit/5da77457d2d66be3c437fb46f7d94b0e922e2976", "message": "Merge branch '5.2-dev' into 5.2-dev-25762", "committedDate": "2020-03-03T17:08:35Z", "type": "commit"}, {"oid": "cdc20838212b3451f091580e5ea9967227882f46", "url": "https://github.com/axelor/axelor-open-suite/commit/cdc20838212b3451f091580e5ea9967227882f46", "message": "i18n message for the error", "committedDate": "2020-03-04T08:47:30Z", "type": "commit"}]}