{"pr_number": 6171, "pr_title": "RM#23258 : Fix tax number computing", "pr_createdAt": "2020-12-09T13:27:17Z", "pr_url": "https://github.com/axelor/axelor-open-suite/pull/6171", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTM0MTQyNQ==", "url": "https://github.com/axelor/axelor-open-suite/pull/6171#discussion_r539341425", "bodyText": "a NPE could be thrown if the partner has no address, or if the country is missing on the address.", "author": "ale-axelor", "createdAt": "2020-12-09T14:16:16Z", "path": "axelor-base/src/main/java/com/axelor/apps/base/service/PartnerServiceImpl.java", "diffHunk": "@@ -679,23 +679,32 @@ public String getPartnerDomain(Partner partner) {\n \n   @Override\n   public String getTaxNbrFromRegistrationCode(Partner partner) {\n-    String regCode = partner.getRegistrationCode();\n     String taxNbr = \"\";\n \n+    String countryCode = partner.getMainAddress().getAddressL7Country().getAlpha2Code();", "originalCommit": "83f6d19da6960cd3733f9f4e04f4091eb7c935c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5add72bc9ad28877d6a99e92bea3e222b94c623c", "url": "https://github.com/axelor/axelor-open-suite/commit/5add72bc9ad28877d6a99e92bea3e222b94c623c", "message": "RM#23258 : Fix tax number computing", "committedDate": "2020-12-09T14:24:16Z", "type": "forcePushed"}, {"oid": "0146328bb8051ff5ee5b1ff0929de990f893d081", "url": "https://github.com/axelor/axelor-open-suite/commit/0146328bb8051ff5ee5b1ff0929de990f893d081", "message": "RM#23258 : Fix tax number computing", "committedDate": "2020-12-10T10:17:37Z", "type": "commit"}, {"oid": "0146328bb8051ff5ee5b1ff0929de990f893d081", "url": "https://github.com/axelor/axelor-open-suite/commit/0146328bb8051ff5ee5b1ff0929de990f893d081", "message": "RM#23258 : Fix tax number computing", "committedDate": "2020-12-10T10:17:37Z", "type": "forcePushed"}]}