{"pr_number": 6181, "pr_title": "Feature RM#33608 : INVOICING PROJECT FORM : add subtotals", "pr_createdAt": "2020-12-14T11:24:15Z", "pr_url": "https://github.com/axelor/axelor-open-suite/pull/6181", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQwODM2MA==", "url": "https://github.com/axelor/axelor-open-suite/pull/6181#discussion_r542408360", "bodyText": "you can remove attributes like requiredIf, canView, widget etc. as it is not useful for this new grid view.", "author": "vbh-axelor", "createdAt": "2020-12-14T14:04:55Z", "path": "axelor-business-project/src/main/resources/views/ExpenseLine.xml", "diffHunk": "@@ -18,6 +18,20 @@\n         <field name=\"expense.statusSelect\" hidden=\"true\"/>\n     </grid>\n     \n+    <grid name=\"expense-line-invoicing-project-grid\" title=\"Expense lines\" model=\"com.axelor.apps.hr.db.ExpenseLine\" orderBy=\"-expenseDate\" groupBy=\"project\">\n+\t\t<hilite if=\"untaxedAmount == 0\" color=\"danger\"/>\n+\t\t<field name=\"project\" requiredIf=\"toInvoice\" canView=\"false\" widget=\"SuggestBox\" width=\"150\"/>\n+\t\t<field name=\"expenseProduct\" canView=\"false\" widget=\"SuggestBox\" form-view=\"product-expense-form\" grid-view=\"product-expense-grid\" width=\"200\"/>\n+\t\t<field name=\"expenseDate\" width=\"120\"/>\n+\t\t<field name=\"user\" hidden=\"true\" form-view=\"user-form\" grid-view=\"user-grid\"/>\n+\t\t<field name=\"totalAmount\" aggregate=\"sum\" width=\"170\"/>\n+\t\t<field name=\"totalTax\" aggregate=\"sum\" readonlyIf=\"expenseProduct.blockExpenseTax\" width=\"80\"/>\n+        <field name=\"toInvoice\"/>\n+\t\t<field name=\"comments\" width=\"400\"/>\n+\t\t<field name=\"untaxedAmount\" hidden=\"true\"/>\n+\t\t<field name=\"expenseProduct.blockExpenseTax\" hidden=\"true\"/>", "originalCommit": "77557f91f4fd31ecb9d061e0a0fe9b268884701c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4fefa6fcc50bda77d84dd8033e7cfeac3a05016a", "url": "https://github.com/axelor/axelor-open-suite/commit/4fefa6fcc50bda77d84dd8033e7cfeac3a05016a", "message": "Feature RM#33608 : INVOICING PROJECT FORM : add subtotals", "committedDate": "2020-12-15T05:46:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzA3NTY5MA==", "url": "https://github.com/axelor/axelor-open-suite/pull/6181#discussion_r543075690", "bodyText": "you can remove this hidden field.", "author": "vbh-axelor", "createdAt": "2020-12-15T06:17:55Z", "path": "axelor-business-project/src/main/resources/views/ExpenseLine.xml", "diffHunk": "@@ -18,6 +18,20 @@\n         <field name=\"expense.statusSelect\" hidden=\"true\"/>\n     </grid>\n     \n+    <grid name=\"expense-line-invoicing-project-grid\" title=\"Expense lines\" model=\"com.axelor.apps.hr.db.ExpenseLine\" orderBy=\"-expenseDate\" groupBy=\"project\">\n+\t\t<hilite if=\"untaxedAmount == 0\" color=\"danger\"/>\n+\t\t<field name=\"project\" width=\"150\"/>\n+\t\t<field name=\"expenseProduct\" form-view=\"product-expense-form\" grid-view=\"product-expense-grid\" width=\"200\"/>\n+\t\t<field name=\"expenseDate\" width=\"120\"/>\n+\t\t<field name=\"user\" hidden=\"true\" form-view=\"user-form\" grid-view=\"user-grid\"/>\n+\t\t<field name=\"totalAmount\" aggregate=\"sum\" width=\"170\"/>\n+\t\t<field name=\"totalTax\" aggregate=\"sum\" width=\"80\"/>\n+        <field name=\"toInvoice\"/>\n+\t\t<field name=\"comments\" width=\"400\"/>\n+\t\t<field name=\"untaxedAmount\" hidden=\"true\"/>\n+\t\t<field name=\"expenseProduct.blockExpenseTax\" hidden=\"true\"/>", "originalCommit": "4fefa6fcc50bda77d84dd8033e7cfeac3a05016a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5fd6bc62ac38ceb93144704ede00fb67e8b1540a", "url": "https://github.com/axelor/axelor-open-suite/commit/5fd6bc62ac38ceb93144704ede00fb67e8b1540a", "message": "Feature RM#33608 : INVOICING PROJECT FORM : add subtotals", "committedDate": "2020-12-15T06:50:53Z", "type": "commit"}, {"oid": "5fd6bc62ac38ceb93144704ede00fb67e8b1540a", "url": "https://github.com/axelor/axelor-open-suite/commit/5fd6bc62ac38ceb93144704ede00fb67e8b1540a", "message": "Feature RM#33608 : INVOICING PROJECT FORM : add subtotals", "committedDate": "2020-12-15T06:50:53Z", "type": "forcePushed"}]}