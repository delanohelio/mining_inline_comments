{"pr_number": 608, "pr_title": "Fix tests, Refactor truncate tlog", "pr_createdAt": "2020-11-03T01:03:05Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/608", "timeline": [{"oid": "00830a875a7db8faf6d46f3d8ebe1d2af91fc3db", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/00830a875a7db8faf6d46f3d8ebe1d2af91fc3db", "message": "refactor truncate tlog, fix tests", "committedDate": "2020-11-03T00:56:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3NzMzNQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/608#discussion_r516377335", "bodyText": "This wouldn't wait because we're already on the publish thread", "author": "tilo-chen", "createdAt": "2020-11-03T01:05:25Z", "path": "src/main/java/com/aws/greengrass/config/ConfigurationWriter.java", "diffHunk": "@@ -199,54 +198,63 @@ private static Writer newTlogWriter(Path outputPath) throws IOException {\n      */\n     private synchronized void truncateTlog() {\n         Path oldTlogPath = tlogOutputPath.resolveSibling(tlogOutputPath.getFileName() + \".old\");\n-        Throwable error = context.runOnPublishQueueAndWait(() -> {", "originalCommit": "00830a875a7db8faf6d46f3d8ebe1d2af91fc3db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}