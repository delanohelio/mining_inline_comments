{"pr_number": 748, "pr_title": "Use AWS SDK v2", "pr_createdAt": "2020-12-02T04:30:02Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/748", "timeline": [{"oid": "24c412fb70227f2d47aa66696ecea2ab593cda68", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/24c412fb70227f2d47aa66696ecea2ab593cda68", "message": "Use AWS SDK v2", "committedDate": "2020-12-02T04:48:06Z", "type": "forcePushed"}, {"oid": "2168f20638a7b283493a06e11f6b585e322ceeb5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2168f20638a7b283493a06e11f6b585e322ceeb5", "message": "Use AWS SDK v2", "committedDate": "2020-12-02T04:53:19Z", "type": "commit"}, {"oid": "2168f20638a7b283493a06e11f6b585e322ceeb5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2168f20638a7b283493a06e11f6b585e322ceeb5", "message": "Use AWS SDK v2", "committedDate": "2020-12-02T04:53:19Z", "type": "forcePushed"}, {"oid": "48756fa8eb95b4cdce1113c6b57f176e44dc2984", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/48756fa8eb95b4cdce1113c6b57f176e44dc2984", "message": "Provide custom serializer", "committedDate": "2020-12-02T06:00:04Z", "type": "forcePushed"}, {"oid": "d046736dd8b44583a1ef2d2c18233a50a52cc20c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d046736dd8b44583a1ef2d2c18233a50a52cc20c", "message": "Provide custom serializer", "committedDate": "2020-12-02T06:18:03Z", "type": "forcePushed"}, {"oid": "f56d63309c7dd5b468ce83abdf4f9df0a609c2c8", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f56d63309c7dd5b468ce83abdf4f9df0a609c2c8", "message": "Provide custom serializer", "committedDate": "2020-12-02T06:51:09Z", "type": "forcePushed"}, {"oid": "56e8c71edbfc9bc915e54145f8dbd6069c768cc4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/56e8c71edbfc9bc915e54145f8dbd6069c768cc4", "message": "Provide custom serializer", "committedDate": "2020-12-02T06:52:48Z", "type": "commit"}, {"oid": "56e8c71edbfc9bc915e54145f8dbd6069c768cc4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/56e8c71edbfc9bc915e54145f8dbd6069c768cc4", "message": "Provide custom serializer", "committedDate": "2020-12-02T06:52:48Z", "type": "forcePushed"}, {"oid": "9bff0d5053134de228dfd9b06e3a8b526655171e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/9bff0d5053134de228dfd9b06e3a8b526655171e", "message": "Use version from maven", "committedDate": "2020-12-02T07:12:31Z", "type": "commit"}, {"oid": "c9a454d9d4b57ac92ac8f77c3cc79a32d975d439", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c9a454d9d4b57ac92ac8f77c3cc79a32d975d439", "message": "Fix benchmark build", "committedDate": "2020-12-02T07:31:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMzNzg4NQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/748#discussion_r534337885", "bodyText": "unrelated: Shouldn;t beta/gamma endpoints be removed ? This would leak internal endpoints which is not a good idea.", "author": "prateek-y", "createdAt": "2020-12-02T17:11:35Z", "path": "src/main/java/com/aws/greengrass/util/RegionUtils.java", "diffHunk": "@@ -14,15 +14,15 @@\n     private static final String IOT_CORE_CONTROL_PLANE_ENDPOINT_FORMAT = \"https://%s.%s.iot.%s\";\n     private static final Map<IotSdkClientFactory.EnvironmentStage, String>\n             GREENGRASS_DATA_PLANE_STAGE_TO_ENDPOINT_FORMAT = ImmutableMap.of(\n-            IotSdkClientFactory.EnvironmentStage.PROD, \"greengrass-ats.iot.%s.%s:8443\",\n-            IotSdkClientFactory.EnvironmentStage.GAMMA, \"greengrass-ats.gamma.%s.iot.%s:8443\",\n-            IotSdkClientFactory.EnvironmentStage.BETA, \"greengrass-ats.beta.%s.iot.%s:8443\"\n+            IotSdkClientFactory.EnvironmentStage.PROD, \"https://greengrass-ats.iot.%s.%s:8443\",\n+            IotSdkClientFactory.EnvironmentStage.GAMMA, \"https://greengrass-ats.gamma.%s.iot.%s:8443\",\n+            IotSdkClientFactory.EnvironmentStage.BETA, \"https://greengrass-ats.beta.%s.iot.%s:8443\"\n     );\n     private static final Map<IotSdkClientFactory.EnvironmentStage, String>\n             GREENGRASS_CONTROL_PLANE_STAGE_TO_ENDPOINT_FORMAT = ImmutableMap.of(\n-            IotSdkClientFactory.EnvironmentStage.PROD, \"greengrass.%s.%s\",\n-            IotSdkClientFactory.EnvironmentStage.GAMMA, \"greengrass-gamma.%s.%s\",\n-            IotSdkClientFactory.EnvironmentStage.BETA, \"greengrass-beta2.%s.%s\"\n+            IotSdkClientFactory.EnvironmentStage.PROD, \"https://greengrass.%s.%s\",\n+            IotSdkClientFactory.EnvironmentStage.GAMMA, \"https://greengrass-gamma.%s.%s\",\n+            IotSdkClientFactory.EnvironmentStage.BETA, \"https://greengrass-beta2.%s.%s\"", "originalCommit": "c9a454d9d4b57ac92ac8f77c3cc79a32d975d439", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDM0MTA0NA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/748#discussion_r534341044", "bodyText": "No, we still need these in there for testing against the different stages. Preprod stages have additional authZ.", "author": "MikeDombo", "createdAt": "2020-12-02T17:16:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMzNzg4NQ=="}], "type": "inlineReview"}]}