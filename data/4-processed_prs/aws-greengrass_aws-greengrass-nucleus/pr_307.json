{"pr_number": 307, "pr_title": "Update IotCloudHelper::sendHttpRequest to send body", "pr_createdAt": "2020-07-14T18:48:24Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/307", "timeline": [{"oid": "467a31264274749843c6f28c76f1b80c4309803d", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/467a31264274749843c6f28c76f1b80c4309803d", "message": "Update IotCloudHelper::sendHttpRequest to send body\n\nUpdating the sendHttpRequest function to accept a byte array which will be sent as body of the http request.\nAlso moved the use of \"HttpClientConnection conn\" into a try resource block.\nAdded a unit test for the case when the body is provided.\n\nI want to use this in the DCM Service to send a request to the GCM cloud service.\n\nTest results:\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 243, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO]\n[INFO] --- jacoco-maven-plugin:0.8.5:report (post-unit-test) @ evergreen-kernel ---\n[INFO] Loading execution data file /Users/shsush/ninj/EG/aws-greengrass-kernel/target/jacoco.exec\n[INFO] Analyzed bundle 'evergreen-kernel' with 106 classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  03:29 min\n[INFO] Finished at: 2020-07-14T11:18:22-07:00\n[INFO] ------------------------------------------------------------------------", "committedDate": "2020-07-14T18:27:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3MjA4OQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/307#discussion_r454572089", "bodyText": "Since TES isn't using this new feature, I'm assuming that you have a different (non-TES) use case for it. If so, should this file be moved out of the TES package?", "author": "MikeDombo", "createdAt": "2020-07-14T18:51:42Z", "path": "src/main/java/com/aws/iot/evergreen/tes/IotCloudHelper.java", "diffHunk": "@@ -10,9 +10,11 @@\n import software.amazon.awssdk.crt.http.HttpClientConnection;", "originalCommit": "467a31264274749843c6f28c76f1b80c4309803d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3NjIwOQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/307#discussion_r454576209", "bodyText": "+1", "author": "prateek-y", "createdAt": "2020-07-14T18:59:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3MjA4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU4OTE1Mg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/307#discussion_r454589152", "bodyText": "Makes sense. Will move this out.", "author": "sushantAtAws", "createdAt": "2020-07-14T19:22:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3MjA4OQ=="}], "type": "inlineReview"}, {"oid": "34269562841924cfec607e278f12e03d59e909f6", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/34269562841924cfec607e278f12e03d59e909f6", "message": "Moving IoT Conn Manager and helper out of tes package.", "committedDate": "2020-07-14T19:52:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYxMDgxNQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/307#discussion_r454610815", "bodyText": "maybe iotcloud as package name?", "author": "MikeDombo", "createdAt": "2020-07-14T20:02:58Z", "path": "src/main/java/com/aws/iot/evergreen/iot/IotCloudHelper.java", "diffHunk": "@@ -1,7 +1,7 @@\n /* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n  * SPDX-License-Identifier: Apache-2.0 */\n \n-package com.aws.iot.evergreen.tes;\n+package com.aws.iot.evergreen.iot;", "originalCommit": "34269562841924cfec607e278f12e03d59e909f6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "66ad9221768dd49a4cd406e9df702b83ff31f32d", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/66ad9221768dd49a4cd406e9df702b83ff31f32d", "message": "Merge branch 'master' into Temp-Branch-UpdateIotCloudHelper_sendHttpRequest", "committedDate": "2020-07-14T22:10:27Z", "type": "commit"}, {"oid": "87c08e9043cbbbd184014b0c08a5003283a28581", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/87c08e9043cbbbd184014b0c08a5003283a28581", "message": "Merge branch 'master' into Temp-Branch-UpdateIotCloudHelper_sendHttpRequest", "committedDate": "2020-07-15T16:45:15Z", "type": "commit"}, {"oid": "088349a21c8d48da93edf7534265d92e643fe366", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/088349a21c8d48da93edf7534265d92e643fe366", "message": "Merge branch 'master' into Temp-Branch-UpdateIotCloudHelper_sendHttpRequest", "committedDate": "2020-07-15T18:09:58Z", "type": "commit"}, {"oid": "f07caf494220ef26e37e3279d38732dde490d65c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/f07caf494220ef26e37e3279d38732dde490d65c", "message": "Merge branch 'master' into Temp-Branch-UpdateIotCloudHelper_sendHttpRequest", "committedDate": "2020-07-15T19:26:09Z", "type": "commit"}, {"oid": "45bd374ffb71117037371932c760be1f9cc5524c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/45bd374ffb71117037371932c760be1f9cc5524c", "message": "Merge branch 'master' into Temp-Branch-UpdateIotCloudHelper_sendHttpRequest", "committedDate": "2020-07-15T19:56:56Z", "type": "commit"}, {"oid": "696a43ef4894e5e2498a0239c940b9cdb371c54a", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/696a43ef4894e5e2498a0239c940b9cdb371c54a", "message": "Merge branch 'master' into Temp-Branch-UpdateIotCloudHelper_sendHttpRequest", "committedDate": "2020-07-16T07:09:43Z", "type": "commit"}]}