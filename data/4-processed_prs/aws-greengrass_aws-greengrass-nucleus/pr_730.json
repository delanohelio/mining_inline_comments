{"pr_number": 730, "pr_title": "Cache Jobs callbacks to prevent duplicate subscriptions", "pr_createdAt": "2020-11-25T20:12:42Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730", "timeline": [{"oid": "2e29a19745880fda08f4b7115fa41ae5ac2c7df1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/2e29a19745880fda08f4b7115fa41ae5ac2c7df1", "message": "Cache Jobs callbacks to prevent duplicate subscriptions", "committedDate": "2020-11-25T20:11:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYyMjY1Nw==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730#discussion_r530622657", "bodyText": "Does this work for resubscribing after mqtt reconnect/network recovery?", "author": "hui-yang", "createdAt": "2020-11-25T20:19:00Z", "path": "src/main/java/com/aws/greengrass/deployment/IotJobsClientWrapper.java", "diffHunk": "@@ -54,6 +57,16 @@\n \n     private final MqttClientConnection connection;\n     private final Gson gson = this.getGson();\n+    private final Map<Pair<Consumer<UpdateJobExecutionResponse>, Consumer<Exception>>, Consumer<MqttMessage>>", "originalCommit": "2e29a19745880fda08f4b7115fa41ae5ac2c7df1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYyMzI5Mg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/730#discussion_r530623292", "bodyText": "Resubscription is performed at a lower level, by the mqtt client itself. So yes.", "author": "MikeDombo", "createdAt": "2020-11-25T20:20:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYyMjY1Nw=="}], "type": "inlineReview"}, {"oid": "c9258e8aaeb28c9a974865eb251df2b1961ef7f7", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c9258e8aaeb28c9a974865eb251df2b1961ef7f7", "message": "Merge branch 'master' into cache-jobs-cbs", "committedDate": "2020-11-25T22:45:16Z", "type": "commit"}, {"oid": "3bab4dc23f714998876f63b4ff42bcab216f6f43", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/3bab4dc23f714998876f63b4ff42bcab216f6f43", "message": "Merge branch 'master' into cache-jobs-cbs", "committedDate": "2020-11-26T01:08:20Z", "type": "commit"}]}