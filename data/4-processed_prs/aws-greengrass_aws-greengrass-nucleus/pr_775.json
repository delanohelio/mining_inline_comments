{"pr_number": 775, "pr_title": "Improve logs for deployment errors", "pr_createdAt": "2020-12-10T04:54:11Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/775", "timeline": [{"oid": "80fe9c673743c792668388a00943f71062196705", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/80fe9c673743c792668388a00943f71062196705", "message": "Improve logs for deployment errors", "committedDate": "2020-12-10T04:58:18Z", "type": "forcePushed"}, {"oid": "0b34f431d9254b7c11ffeacb67a54e7b09fefcdb", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0b34f431d9254b7c11ffeacb67a54e7b09fefcdb", "message": "Improve logs for deployment errors", "committedDate": "2020-12-10T05:07:51Z", "type": "commit"}, {"oid": "0b34f431d9254b7c11ffeacb67a54e7b09fefcdb", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0b34f431d9254b7c11ffeacb67a54e7b09fefcdb", "message": "Improve logs for deployment errors", "committedDate": "2020-12-10T05:07:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTg1NDk0OQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/775#discussion_r539854949", "bodyText": "Log at error? The deployment will fail in this case, right?", "author": "fengwang666", "createdAt": "2020-12-10T05:26:38Z", "path": "src/main/java/com/aws/greengrass/componentmanager/ComponentManager.java", "diffHunk": "@@ -187,6 +189,13 @@ private ComponentIdentifier negotiateVersionWithCloud(String componentName,\n             } catch (InterruptedException e) {\n                 throw e;\n             } catch (Exception e) {\n+                // Don't bother logging the full stacktrace when it is NoAvailableComponentVersionException since we\n+                // know the reason for that error\n+                logger.atInfo().setCause(e instanceof NoAvailableComponentVersionException ? null : e)", "originalCommit": "0b34f431d9254b7c11ffeacb67a54e7b09fefcdb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTg1NTI4OA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/775#discussion_r539855288", "bodyText": "The other branch also logs at info, so I wanted to be consistent with that", "author": "MikeDombo", "createdAt": "2020-12-10T05:27:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTg1NDk0OQ=="}], "type": "inlineReview"}]}