{"pr_number": 205, "pr_title": "Prepare RCA to work with the Integration Test framework", "pr_createdAt": "2020-05-19T16:58:28Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/205", "timeline": [{"oid": "be9704968a7349035ffd2d8da61d8e6f9dda61a6", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/be9704968a7349035ffd2d8da61d8e6f9dda61a6", "message": "Make enablePaAndRca actually work", "committedDate": "2020-05-11T21:48:32Z", "type": "commit"}, {"oid": "160b17f62619c593924f4ff3e9c2d1c1c4a70af3", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/160b17f62619c593924f4ff3e9c2d1c1c4a70af3", "message": "Make enablePaAndRca actually work", "committedDate": "2020-05-15T04:21:55Z", "type": "commit"}, {"oid": "eb3ff967308fe11f53e6ce6e6b916ff177ba2dc3", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/eb3ff967308fe11f53e6ce6e6b916ff177ba2dc3", "message": "docker-compose needs to work with Github Actions", "committedDate": "2020-05-15T17:45:58Z", "type": "commit"}, {"oid": "6208109bdd5e75b75fd9775e3fddab2cee2ef031", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/6208109bdd5e75b75fd9775e3fddab2cee2ef031", "message": "Merge pull request #6 from sidheart/sid-it-framework-redux\n\nSid it framework redux", "committedDate": "2020-05-15T17:47:54Z", "type": "commit"}, {"oid": "f1371dc8ad30cf566cab97b0d4e1bc2154cc4f6d", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/f1371dc8ad30cf566cab97b0d4e1bc2154cc4f6d", "message": "Add gradle info and debug flags to workflow", "committedDate": "2020-05-15T17:56:30Z", "type": "commit"}, {"oid": "845993efc3c6b74aa79f4f8134e733ae53d2c4a9", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/845993efc3c6b74aa79f4f8134e733ae53d2c4a9", "message": "Gradle Workflow add stacktrace", "committedDate": "2020-05-15T18:00:01Z", "type": "commit"}, {"oid": "b2e61f5746704d99835a78bcefa5747186dac044", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/b2e61f5746704d99835a78bcefa5747186dac044", "message": "Modify printComposeLocation dependency", "committedDate": "2020-05-15T18:07:13Z", "type": "commit"}, {"oid": "c839c2972194872a860a4970f59650bd2765be2f", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/c839c2972194872a860a4970f59650bd2765be2f", "message": "Comment out printComposeLocation", "committedDate": "2020-05-15T18:19:37Z", "type": "commit"}, {"oid": "77638e9318808247f36129efc5951885176147e0", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/77638e9318808247f36129efc5951885176147e0", "message": "Merge pull request #7 from sidheart/sid-it-framework-redux\n\nAdd gradle info and debug flags to workflow", "committedDate": "2020-05-15T21:43:18Z", "type": "commit"}, {"oid": "fe568a8aaba119d5aa9e81de8bbe7c3cbb179619", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/fe568a8aaba119d5aa9e81de8bbe7c3cbb179619", "message": "Fix testReadFromWire race condition in WireHopperTest (#202)\n\nThe subscription manager's list of subscribers for a given node could\r\npreviously change between 2 assertions. This has been fixed by saving\r\nthe list into a variable.", "committedDate": "2020-05-18T16:44:34Z", "type": "commit"}, {"oid": "1417424ec4f3cd59e9f6618fc82d253e5e3e3d23", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/1417424ec4f3cd59e9f6618fc82d253e5e3e3d23", "message": "Adding the Shard Size Metric as a part of the Node Stats (#201)\n\nCo-authored-by: Aditya Jindal <aditjind@amazon.com>", "committedDate": "2020-05-18T16:44:34Z", "type": "commit"}, {"oid": "cd586085d4ade1148b88597787b707e44e0df4a6", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/cd586085d4ade1148b88597787b707e44e0df4a6", "message": "Fix testReadFromWire race condition in WireHopperTest (#202)\n\nThe subscription manager's list of subscribers for a given node could\r\npreviously change between 2 assertions. This has been fixed by saving\r\nthe list into a variable.", "committedDate": "2020-05-19T16:42:43Z", "type": "commit"}, {"oid": "7bbe165d137b7e4a3163fb8544974548661f819a", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/7bbe165d137b7e4a3163fb8544974548661f819a", "message": "Adding the Shard Size Metric as a part of the Node Stats (#201)\n\nCo-authored-by: Aditya Jindal <aditjind@amazon.com>", "committedDate": "2020-05-19T16:42:43Z", "type": "commit"}, {"oid": "653fd8c5492380270bacc7aafb3cac84ce9f76e2", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/653fd8c5492380270bacc7aafb3cac84ce9f76e2", "message": "Updating the ThreadList.java to use Java Annotations instead of Checker Framework (#203)", "committedDate": "2020-05-19T16:42:43Z", "type": "commit"}, {"oid": "12169a5b9ba24068af6b9fc12085827371e670a4", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/12169a5b9ba24068af6b9fc12085827371e670a4", "message": "Cleanup, working enablePaAndRca and Github Actions compatibility", "committedDate": "2020-05-19T16:42:43Z", "type": "commit"}, {"oid": "cef0b62a78b30608d911bf24becf8f2e4517cac8", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/cef0b62a78b30608d911bf24becf8f2e4517cac8", "message": "Merge pull request #8 from sidheart/sid-it-framework-redux\n\nSid it framework redux", "committedDate": "2020-05-19T16:53:06Z", "type": "commit"}, {"oid": "0642068429abc4ec55a4b8e0e2d0ac41607f5eb8", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/0642068429abc4ec55a4b8e0e2d0ac41607f5eb8", "message": "Make enablePaAndRca actually work", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "d527c708c0f8d140887cd3bc0e106c04fe4c3cf0", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/d527c708c0f8d140887cd3bc0e106c04fe4c3cf0", "message": "docker-compose needs to work with Github Actions", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "75e48325d31861177c74c9fe19a4342dbd6b98e5", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/75e48325d31861177c74c9fe19a4342dbd6b98e5", "message": "Add gradle info and debug flags to workflow", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "ae3a8082ec72abbcd454a23a547f3e4843301db2", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/ae3a8082ec72abbcd454a23a547f3e4843301db2", "message": "Gradle Workflow add stacktrace", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "b9d781b81b18a8e4ce897225400b1eb978726c35", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/b9d781b81b18a8e4ce897225400b1eb978726c35", "message": "Modify printComposeLocation dependency", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "4f49dbc34fe85e7063d8feddfd780f79e8432eff", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/4f49dbc34fe85e7063d8feddfd780f79e8432eff", "message": "Comment out printComposeLocation", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "62ecfc76e8a40bbe837c88f0dce0753c1ce2b5d0", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/62ecfc76e8a40bbe837c88f0dce0753c1ce2b5d0", "message": "Cleanup, working enablePaAndRca and Github Actions compatibility", "committedDate": "2020-05-19T16:59:28Z", "type": "commit"}, {"oid": "62ecfc76e8a40bbe837c88f0dce0753c1ce2b5d0", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/62ecfc76e8a40bbe837c88f0dce0753c1ce2b5d0", "message": "Cleanup, working enablePaAndRca and Github Actions compatibility", "committedDate": "2020-05-19T16:59:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjIzMQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/205#discussion_r428326231", "bodyText": "Should We add a comment explaining the rationale for the sleep ?", "author": "yojs", "createdAt": "2020-05-20T21:46:31Z", "path": "build.gradle", "diffHunk": "@@ -508,12 +523,25 @@ task unzipPerfTop(type: Copy) {\n     enabled = !file(perfTopBin).exists()\n }\n \n-task enablePaAndRca(type: Exec) {\n+task enablePa(type: Exec) {\n     dependsOn(waitForES)\n+    doFirst {\n+        sleep(5000)\n+    }\n     commandLine('curl', 'localhost:9200/_opendistro/_performanceanalyzer/cluster/config', '-H',\n             'Content-Type: application/json', '-d', '{\"enabled\": true}')\n+    doLast {\n+        sleep(5000)", "originalCommit": "62ecfc76e8a40bbe837c88f0dce0753c1ce2b5d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM1MDg5MA==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/205#discussion_r428350890", "bodyText": "Added", "author": "sidheart", "createdAt": "2020-05-20T22:48:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjIzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjQ4MQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/205#discussion_r428326481", "bodyText": "Should we call it enableRca ?", "author": "yojs", "createdAt": "2020-05-20T21:47:08Z", "path": "build.gradle", "diffHunk": "@@ -508,12 +523,25 @@ task unzipPerfTop(type: Copy) {\n     enabled = !file(perfTopBin).exists()\n }\n \n-task enablePaAndRca(type: Exec) {\n+task enablePa(type: Exec) {\n     dependsOn(waitForES)\n+    doFirst {\n+        sleep(5000)\n+    }\n     commandLine('curl', 'localhost:9200/_opendistro/_performanceanalyzer/cluster/config', '-H',\n             'Content-Type: application/json', '-d', '{\"enabled\": true}')\n+    doLast {\n+        sleep(5000)\n+    }\n+}\n+\n+task enablePaAndRca(type: Exec) {", "originalCommit": "62ecfc76e8a40bbe837c88f0dce0753c1ce2b5d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM1MTAyOQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/205#discussion_r428351029", "bodyText": "Done", "author": "sidheart", "createdAt": "2020-05-20T22:49:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMyNjQ4MQ=="}], "type": "inlineReview"}, {"oid": "81b326fa357419003e3bd05c25a91a67e68d3dfd", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/81b326fa357419003e3bd05c25a91a67e68d3dfd", "message": "Rename enablePaAndRca to enableRca and add comments", "committedDate": "2020-05-20T22:22:59Z", "type": "commit"}, {"oid": "f50180f3b539588656474aeee23d375a31d24a38", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/f50180f3b539588656474aeee23d375a31d24a38", "message": "Merge branch 'master' into odfe-it-framework-release", "committedDate": "2020-05-20T22:25:22Z", "type": "commit"}, {"oid": "12e959c4aaf85de95ecd7e03307b5e2a8ba75ba7", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/12e959c4aaf85de95ecd7e03307b5e2a8ba75ba7", "message": "Merge pull request #9 from sidheart/odfe-it-framework-release\n\nOdfe it framework release", "committedDate": "2020-05-20T22:26:59Z", "type": "commit"}, {"oid": "1c3ed33ceb643438179cde7d75e0568a6b6d3d4f", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/1c3ed33ceb643438179cde7d75e0568a6b6d3d4f", "message": "Renamed enablePaAndRca to enableRca and added comments", "committedDate": "2020-05-20T22:36:47Z", "type": "commit"}, {"oid": "e050eec0b8a913beb6cfb69da269bd8b889ad201", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/e050eec0b8a913beb6cfb69da269bd8b889ad201", "message": "Merge branch 'master' into sid-it-framework-redux", "committedDate": "2020-05-20T22:38:52Z", "type": "commit"}]}