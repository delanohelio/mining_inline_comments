{"pr_number": 457, "pr_title": "Fix a bug in old gen policy", "pr_createdAt": "2020-10-06T21:51:02Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457", "timeline": [{"oid": "ac9a58184f36bc68936c04091c7ddf85560e0e46", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/ac9a58184f36bc68936c04091c7ddf85560e0e46", "message": "Fix a bug in old gen policy", "committedDate": "2020-10-06T21:44:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyNjQ3Nw==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500626477", "bodyText": "The other format seems much clearer to me. Why did we change it to this? What does this mean?", "author": "sidheart", "createdAt": "2020-10-06T22:14:56Z", "path": "pa_config/rca_master.conf", "diffHunk": "@@ -109,20 +109,47 @@\n   // Default Values are added in the config specific file as well\n   // Modify them as well whenever changing the default values (DeciderConfig.java)\n   \"decider-config-settings\": {\n-    // Decreasing order of priority for the type of workload we can expect on the cluster.\n-    // Priority order in the list goes from most expected to the lease expected workload type.\n     \"workload-type\": {\n-      \"priority-order\": [\"ingest\", \"search\"]\n+      \"prefer-ingest\": true,\n+      \"prefer-search\": true", "originalCommit": "ac9a58184f36bc68936c04091c7ddf85560e0e46", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMzI0MQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500633241", "bodyText": "Specifying the priority order as an array has two issues :\n\nwe can't assign search and index operations with the same level of priority\nwe need maintain a function to parse all elements in array", "author": "rguo-aws", "createdAt": "2020-10-06T22:32:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyNjQ3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyMzgzMw==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500623833", "bodyText": "We need to clean up these configs, muted_actions and muted_deciders are also only needed by master node. Can you create an issue for this?", "author": "vigyasharma", "createdAt": "2020-10-06T22:08:18Z", "path": "pa_config/rca.conf", "diffHunk": "@@ -93,46 +93,5 @@\n     \"ClusterTemperatureRca\"\n   ],\n   \"muted-deciders\": [],\n-  \"muted-actions\": [],", "originalCommit": "ac9a58184f36bc68936c04091c7ddf85560e0e46", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyNjAzOQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/457#discussion_r500626039", "bodyText": "nit: can we rename value by queueSize or size or resourceSize ?", "author": "vigyasharma", "createdAt": "2020-10-06T22:13:46Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/decisionmaker/deciders/jvm/old_gen/LevelTwoActionBuilder.java", "diffHunk": "@@ -150,7 +150,7 @@ private void actionPriorityForCache() {\n    */\n   private int bucketization(int lowerBound, int upperBound, int val, int bucketSize) {\n     double step = (double) (upperBound - lowerBound) / (double) bucketSize;\n-    return (int) ((double) val / step);\n+    return (int) ((double) (val - lowerBound) / step);", "originalCommit": "ac9a58184f36bc68936c04091c7ddf85560e0e46", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}