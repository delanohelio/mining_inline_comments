{"pr_number": 230, "pr_title": "Completely remove instanceof from summary framework", "pr_createdAt": "2020-06-11T03:07:24Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230", "timeline": [{"oid": "9fcdfa944981747b158d80229e2c9584ed0a2459", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/9fcdfa944981747b158d80229e2c9584ed0a2459", "message": "Fixed summary framework to support dedicated summary type", "committedDate": "2020-06-10T21:49:36Z", "type": "commit"}, {"oid": "8df52d4bce9e26043e47fd3451c6eeb5e9610e1a", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/8df52d4bce9e26043e47fd3451c6eeb5e9610e1a", "message": "RCA changes", "committedDate": "2020-06-11T03:02:19Z", "type": "commit"}, {"oid": "454912fa813ecdbdffb21111790c89ba5afee2b2", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/454912fa813ecdbdffb21111790c89ba5afee2b2", "message": "Fix a bug in SQL persistor", "committedDate": "2020-06-11T17:30:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwMg==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439651402", "bodyText": "Do we want throw IllegalArgumentException here ?", "author": "khushbr", "createdAt": "2020-06-12T21:34:20Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/api/summaries/HotClusterSummary.java", "diffHunk": "@@ -128,6 +131,30 @@ public JsonElement toJson() {\n     return summaryObj;\n   }\n \n+  @Override\n+  public List<GenericSummary> getNestedSummaryList() {\n+    return new ArrayList<>(hotNodeSummaryList);\n+  }\n+\n+  @Override\n+  public GenericSummary buildNestedSummary(String summaryTable, Record record) {\n+    GenericSummary ret = null;\n+    if (summaryTable.equals(HotNodeSummary.HOT_NODE_SUMMARY_TABLE)) {", "originalCommit": "454912fa813ecdbdffb21111790c89ba5afee2b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY2OTg4MQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439669881", "bodyText": "good catch. let me add that", "author": "rguo-aws", "createdAt": "2020-06-12T22:43:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MTQwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTMzNg==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439655336", "bodyText": "Since the NestedSummaryList will have objects from various derived classes of GenericSummary, good to add a doc string here.", "author": "khushbr", "createdAt": "2020-06-12T21:46:59Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/api/summaries/HotNodeSummary.java", "diffHunk": "@@ -157,6 +166,41 @@ public JsonElement toJson() {\n     return summaryObj;\n   }\n \n+  @Override\n+  public List<GenericSummary> getNestedSummaryList() {\n+    List<GenericSummary> summaries = new ArrayList<>();\n+    summaries.addAll(hotResourceSummaryList);\n+    summaries.addAll(hotShardSummaryList);", "originalCommit": "454912fa813ecdbdffb21111790c89ba5afee2b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY3NjkzNg==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439676936", "bodyText": "thanks. I have added a comment above this method", "author": "rguo-aws", "createdAt": "2020-06-12T23:17:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NTMzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NzI1Nw==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439657257", "bodyText": "Is this meant to be final ?", "author": "khushbr", "createdAt": "2020-06-12T21:53:33Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/framework/api/summaries/HotResourceSummary.java", "diffHunk": "@@ -59,6 +60,7 @@\n   private double maxValue;\n   private int timePeriod;\n   private String metaData;\n+  private final List<TopConsumerSummary> topConsumerSummaryList;", "originalCommit": "454912fa813ecdbdffb21111790c89ba5afee2b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY3Njg3Ng==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/230#discussion_r439676876", "bodyText": "removed final", "author": "rguo-aws", "createdAt": "2020-06-12T23:17:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1NzI1Nw=="}], "type": "inlineReview"}, {"oid": "cba37b3138ab20aba8415327a6e93fccd40ea6ee", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/cba37b3138ab20aba8415327a6e93fccd40ea6ee", "message": "Address PR comments", "committedDate": "2020-06-12T23:16:35Z", "type": "commit"}]}