{"pr_number": 3714, "pr_title": "Better tab completes", "pr_createdAt": "2020-02-23T21:03:14Z", "pr_url": "https://github.com/TownyAdvanced/Towny/pull/3714", "timeline": [{"oid": "1d66aae5c01375e756115c13ba24979ae2b76437", "url": "https://github.com/TownyAdvanced/Towny/commit/1d66aae5c01375e756115c13ba24979ae2b76437", "message": "Removed braces for readability on one line if statements", "committedDate": "2020-02-22T22:55:35Z", "type": "commit"}, {"oid": "2e3adf3565dc58e959cd0c2ee53043c7d2e4889a", "url": "https://github.com/TownyAdvanced/Towny/commit/2e3adf3565dc58e959cd0c2ee53043c7d2e4889a", "message": "Implemented better tab completion for plot command\n      - No results returns nothing instead of online players\n      - Made tab complete results static\n      - Restructured for readability\n      - Implemented perm and toggle tab completes for /plot group\n      - Made /plot perm return more relevant results\n      - Moved onTabComplete to below onCommand", "committedDate": "2020-02-22T23:14:18Z", "type": "commit"}, {"oid": "de85298e90ec9f0375ea6be3284ea8f84ccbd583", "url": "https://github.com/TownyAdvanced/Towny/commit/de85298e90ec9f0375ea6be3284ea8f84ccbd583", "message": "Added comment", "committedDate": "2020-02-22T23:15:17Z", "type": "commit"}, {"oid": "f6aa4de3fdc045a985613263228a905522f375ea", "url": "https://github.com/TownyAdvanced/Towny/commit/f6aa4de3fdc045a985613263228a905522f375ea", "message": "Moved set and toggle completions to BaseCommand", "committedDate": "2020-02-23T14:43:38Z", "type": "commit"}, {"oid": "5ded136ccb574142552341b60c1e6e321e9c81bc", "url": "https://github.com/TownyAdvanced/Towny/commit/5ded136ccb574142552341b60c1e6e321e9c81bc", "message": "Added better tab completion for residents\n- Removal of broken commands for tab completions\n- Expansion of residentToggleTabCompletes\n- Addition of residentModeTabCompletes\n- Made all completes static\n- Move onTabComplete to below onCommand\n- Refactored onTabComplete to be more specific and implement more args", "committedDate": "2020-02-23T14:45:31Z", "type": "commit"}, {"oid": "954c0fbf34f01cb01db590185ac78d5fe76cf30b", "url": "https://github.com/TownyAdvanced/Towny/commit/954c0fbf34f01cb01db590185ac78d5fe76cf30b", "message": "Formatting for consistency", "committedDate": "2020-02-23T15:21:24Z", "type": "commit"}, {"oid": "5ab7db5bedf317feda28fd894379085a55a955f2", "url": "https://github.com/TownyAdvanced/Towny/commit/5ab7db5bedf317feda28fd894379085a55a955f2", "message": "Rename setTabComplete to permTabComplete", "committedDate": "2020-02-23T15:42:12Z", "type": "commit"}, {"oid": "45b8b0608fc68dfb23029b847e64dd9d7719f2c8", "url": "https://github.com/TownyAdvanced/Towny/commit/45b8b0608fc68dfb23029b847e64dd9d7719f2c8", "message": "Added better tab completion to /town\n- Added more static tab completes\n- Rank returns residents and ranks\n- /t outlaw remove returns current outlaws\n- /t kick returns residents\n- added /t invite", "committedDate": "2020-02-23T16:35:36Z", "type": "commit"}, {"oid": "5a9162734c1cf8a554b8cc9d2aac1b353dd755af", "url": "https://github.com/TownyAdvanced/Towny/commit/5a9162734c1cf8a554b8cc9d2aac1b353dd755af", "message": "Added better tab completion to /towny\n- Made tab completions static\n- Reformat for readability/consistency\n- Fixed /towny top resident/land tab completes", "committedDate": "2020-02-23T16:51:39Z", "type": "commit"}, {"oid": "31de2d03af5a0a5576f94da71dc6c4f5da537a59", "url": "https://github.com/TownyAdvanced/Towny/commit/31de2d03af5a0a5576f94da71dc6c4f5da537a59", "message": "Tree doesn't show as a tag completion for players", "committedDate": "2020-02-23T16:56:15Z", "type": "commit"}, {"oid": "cc03fcca627be3326162ff63652c62178f8d32cc", "url": "https://github.com/TownyAdvanced/Towny/commit/cc03fcca627be3326162ff63652c62178f8d32cc", "message": "Remove unnecessary if (args.length > 0), always true", "committedDate": "2020-02-23T16:59:30Z", "type": "commit"}, {"oid": "de39e29f76556deb60a3461a28b404cf55b507ef", "url": "https://github.com/TownyAdvanced/Towny/commit/de39e29f76556deb60a3461a28b404cf55b507ef", "message": "Fixed townyworld", "committedDate": "2020-02-23T17:25:36Z", "type": "commit"}, {"oid": "841076614b916b8ed9909550e494b01a8b83b933", "url": "https://github.com/TownyAdvanced/Towny/commit/841076614b916b8ed9909550e494b01a8b83b933", "message": "Made methods static", "committedDate": "2020-02-23T19:29:59Z", "type": "commit"}, {"oid": "09d3dc44053ea6384c64b131ee8ea078fc8d6df0", "url": "https://github.com/TownyAdvanced/Towny/commit/09d3dc44053ea6384c64b131ee8ea078fc8d6df0", "message": "Moved some tab completions to their own function", "committedDate": "2020-02-23T19:52:47Z", "type": "commit"}, {"oid": "6adf7a194d1206c322e0889c5f4cb08544b9e37b", "url": "https://github.com/TownyAdvanced/Towny/commit/6adf7a194d1206c322e0889c5f4cb08544b9e37b", "message": "Added better tab completion to /townyadmin\n- Added missing subcommands to completions\n- Made subcommands static\n- Added consistent functionality for all subcommands", "committedDate": "2020-02-23T19:53:50Z", "type": "commit"}, {"oid": "200e62eeb8f43b2764200ae5f1e81190d6b6a254", "url": "https://github.com/TownyAdvanced/Towny/commit/200e62eeb8f43b2764200ae5f1e81190d6b6a254", "message": "Tab completions now return uppercase letters where applicable\n- Performance is mostly unaffected by the 100 get(string)", "committedDate": "2020-02-23T20:15:31Z", "type": "commit"}, {"oid": "aaeb652965593ff6f88fe7796dff49ad3b2e96b7", "url": "https://github.com/TownyAdvanced/Towny/commit/aaeb652965593ff6f88fe7796dff49ad3b2e96b7", "message": "Fix casing issues", "committedDate": "2020-02-23T21:00:33Z", "type": "commit"}, {"oid": "c52c73d545d31059d47f7bec04981a882c5596db", "url": "https://github.com/TownyAdvanced/Towny/commit/c52c73d545d31059d47f7bec04981a882c5596db", "message": "Removekey is case sensitive, comments", "committedDate": "2020-02-23T21:06:27Z", "type": "commit"}, {"oid": "918de7606f9ee7e28130b6d82b0fe8a1edad6631", "url": "https://github.com/TownyAdvanced/Towny/commit/918de7606f9ee7e28130b6d82b0fe8a1edad6631", "message": "added /t join", "committedDate": "2020-02-23T21:25:28Z", "type": "commit"}, {"oid": "cc799e054f22702cf340a35b0b0ba8012340e8e6", "url": "https://github.com/TownyAdvanced/Towny/commit/cc799e054f22702cf340a35b0b0ba8012340e8e6", "message": "Fixed typo getting the wrong trie", "committedDate": "2020-02-23T21:31:41Z", "type": "commit"}, {"oid": "17b006a140de9232234edb3fc9cde9b2f1c4a911", "url": "https://github.com/TownyAdvanced/Towny/commit/17b006a140de9232234edb3fc9cde9b2f1c4a911", "message": "Now using proper casing", "committedDate": "2020-02-23T21:32:07Z", "type": "commit"}, {"oid": "366b9da47b1861dc64f688eca5f20481f4fe8858", "url": "https://github.com/TownyAdvanced/Towny/commit/366b9da47b1861dc64f688eca5f20481f4fe8858", "message": "No need to build the trie, it is already built when newResident, newNation, and newTown are called during load", "committedDate": "2020-02-23T21:32:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA0MjkyMA==", "url": "https://github.com/TownyAdvanced/Towny/pull/3714#discussion_r383042920", "bodyText": "One thing I forgot to mention last time around was that accept/deny are configurable in the config. I dunno if we want to handle that.", "author": "LlmDl", "createdAt": "2020-02-23T22:06:47Z", "path": "src/com/palmergames/bukkit/towny/command/InviteCommand.java", "diffHunk": "@@ -55,22 +55,21 @@ public InviteCommand(Towny instance) {\n \t@Override\n \tpublic List<String> onTabComplete(CommandSender sender, Command command, String alias, String[] args) {\n \t\t\n-\t\tif (args.length == 1) {\n-\t\t\treturn NameUtil.filterByStart(inviteTabCompletes, args[0]);\n-\t\t}\n-\t\t\n-\t\tif (args.length == 2) {\n-\t\t\tswitch (args[0].toLowerCase()) {\n-\t\t\t\tcase \"accept\":\n-\t\t\t\tcase \"deny\":\n-\t\t\t\t\ttry {\n-\t\t\t\t\t\treturn NameUtil.filterByStart(TownyUniverse.getInstance().getDataSource().getResident(sender.getName()).getReceivedInvites()\n-\t\t\t\t\t\t\t.stream()\n-\t\t\t\t\t\t\t.map(Invite::getSender)\n-\t\t\t\t\t\t\t.map(TownyInviteSender::getName)\n-\t\t\t\t\t\t\t.collect(Collectors.toList()), args[1]);\n-\t\t\t\t\t} catch (TownyException ignored) {}\n-\t\t\t}\n+\t\tswitch (args.length) {\n+\t\t\tcase 1:\n+\t\t\t\treturn NameUtil.filterByStart(inviteTabCompletes, args[0]);\n+\t\t\tcase 2:\n+\t\t\t\tswitch (args[0].toLowerCase()) {\n+\t\t\t\t\tcase \"accept\":\n+\t\t\t\t\tcase \"deny\":", "originalCommit": "366b9da47b1861dc64f688eca5f20481f4fe8858", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA0NDUzMg==", "url": "https://github.com/TownyAdvanced/Towny/pull/3714#discussion_r383044532", "bodyText": "We do", "author": "stzups", "createdAt": "2020-02-23T22:25:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA0MjkyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA0MzI5Nw==", "url": "https://github.com/TownyAdvanced/Towny/pull/3714#discussion_r383043297", "bodyText": "map is one that cannot be used from console", "author": "LlmDl", "createdAt": "2020-02-23T22:11:07Z", "path": "src/com/palmergames/bukkit/towny/command/TownyCommand.java", "diffHunk": "@@ -57,11 +58,22 @@\n \t\t\"time\",\r\n \t\t\"top\",\r\n \t\t\"spy\",\r\n-\t\t\"tree\",\r\n \t\t\"universe\",\r\n \t\t\"v\",\r\n \t\t\"war\"\r\n \t));\r\n+\t\r\n+\tprivate static final List<String> townyConsoleTabCompletes = new ArrayList<>(Arrays.asList(\r\n+\t\t\"map\",\r", "originalCommit": "366b9da47b1861dc64f688eca5f20481f4fe8858", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d6cbf3b3e5adc64514dd1cd507939378d362b1c3", "url": "https://github.com/TownyAdvanced/Towny/commit/d6cbf3b3e5adc64514dd1cd507939378d362b1c3", "message": "Remove map from console tab completes", "committedDate": "2020-02-23T22:24:19Z", "type": "commit"}, {"oid": "e075c23e310b71a775b3d0120f5662835beff5e6", "url": "https://github.com/TownyAdvanced/Towny/commit/e075c23e310b71a775b3d0120f5662835beff5e6", "message": "Accept/deny is configurable", "committedDate": "2020-02-23T22:25:04Z", "type": "commit"}]}