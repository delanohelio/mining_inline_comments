{"pr_number": 2604, "pr_title": "Correct Behavior of Failed Negotiation", "pr_createdAt": "2020-07-08T04:37:37Z", "pr_url": "https://github.com/CorfuDB/CorfuDB/pull/2604", "timeline": [{"oid": "a658d5ebf1a15967494d1a37d164a48b47774ca0", "url": "https://github.com/CorfuDB/CorfuDB/commit/a658d5ebf1a15967494d1a37d164a48b47774ca0", "message": "Correct Behavior of Failed Negotiation\n\nIf negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.", "committedDate": "2020-07-08T05:38:08Z", "type": "forcePushed"}, {"oid": "e884765b3f46f5f6a0581dd9eb0af4069b244971", "url": "https://github.com/CorfuDB/CorfuDB/commit/e884765b3f46f5f6a0581dd9eb0af4069b244971", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader.", "committedDate": "2020-07-08T05:43:26Z", "type": "forcePushed"}, {"oid": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "url": "https://github.com/CorfuDB/CorfuDB/commit/f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader.", "committedDate": "2020-07-08T06:13:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNTEzNg==", "url": "https://github.com/CorfuDB/CorfuDB/pull/2604#discussion_r451725136", "bodyText": "nit - extra whitespace", "author": "pankti-m", "createdAt": "2020-07-08T17:53:36Z", "path": "infrastructure/src/main/java/org/corfudb/infrastructure/logreplication/runtime/fsm/VerifyingRemoteLeaderState.java", "diffHunk": "@@ -108,7 +108,7 @@ public synchronized void verifyLeadership() {\n                                 .toArray(new CompletableFuture<?>[pendingLeadershipQueries.size()])).get(CorfuLogReplicationRuntime.DEFAULT_TIMEOUT, TimeUnit.MILLISECONDS);\n \n                         if (leadershipResponse.isLeader()) {\n-                            log.info(\"Leader for remote cluster, node={}\", leadershipResponse.getEndpoint());\n+                                log.info(\"Leader for remote cluster, node={}\", leadershipResponse.getEndpoint());", "originalCommit": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "11e99237b0fefbd5bcd01e247309dcc4e66760d5", "url": "https://github.com/CorfuDB/CorfuDB/commit/11e99237b0fefbd5bcd01e247309dcc4e66760d5", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader.", "committedDate": "2020-07-08T18:52:47Z", "type": "commit"}, {"oid": "11e99237b0fefbd5bcd01e247309dcc4e66760d5", "url": "https://github.com/CorfuDB/CorfuDB/commit/11e99237b0fefbd5bcd01e247309dcc4e66760d5", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader.", "committedDate": "2020-07-08T18:52:47Z", "type": "forcePushed"}]}