{"pr_number": 530, "pr_title": "XRDDEV-446 eslint+prettier", "pr_createdAt": "2020-06-01T19:54:47Z", "pr_url": "https://github.com/nordic-institute/X-Road/pull/530", "timeline": [{"oid": "6a4bc0f009dbadad156ffe969f5c5ef2665d79b0", "url": "https://github.com/nordic-institute/X-Road/commit/6a4bc0f009dbadad156ffe969f5c5ef2665d79b0", "message": "XRDDEV-446 Update package.json", "committedDate": "2020-06-01T10:52:52Z", "type": "commit"}, {"oid": "3eb97b639b9baae4cf363fc7bc744f3458dace79", "url": "https://github.com/nordic-institute/X-Road/commit/3eb97b639b9baae4cf363fc7bc744f3458dace79", "message": "XRDDEV-446 Modify conf files", "committedDate": "2020-06-01T11:07:38Z", "type": "commit"}, {"oid": "cce5c11ea9216a739f34118f7ac46acef1ee8069", "url": "https://github.com/nordic-institute/X-Road/commit/cce5c11ea9216a739f34118f7ac46acef1ee8069", "message": "XRDDEV-446 Linter automatic fixes", "committedDate": "2020-06-01T11:14:48Z", "type": "commit"}, {"oid": "18ec6e613e0a472e0b165eb532af9e3ba86b844c", "url": "https://github.com/nordic-institute/X-Road/commit/18ec6e613e0a472e0b165eb532af9e3ba86b844c", "message": "XRDDEV-446 Remove unused mockData store", "committedDate": "2020-06-01T11:18:34Z", "type": "commit"}, {"oid": "d7a92f0a44cc2b0236c4e4b9737ee32db00e34e1", "url": "https://github.com/nordic-institute/X-Road/commit/d7a92f0a44cc2b0236c4e4b9737ee32db00e34e1", "message": "XRDDEV-446 Fix errors in LocalGroup", "committedDate": "2020-06-01T11:39:34Z", "type": "commit"}, {"oid": "4e09731d4a68b75586034fce95180e8fbc314b44", "url": "https://github.com/nordic-institute/X-Road/commit/4e09731d4a68b75586034fce95180e8fbc314b44", "message": "XRDDEV-446 Fix linter error", "committedDate": "2020-06-01T11:40:04Z", "type": "commit"}, {"oid": "86285f30f4535353306903b9420df8329b719c3e", "url": "https://github.com/nordic-institute/X-Road/commit/86285f30f4535353306903b9420df8329b719c3e", "message": "XRDDEV-446 Fix linter errors", "committedDate": "2020-06-01T12:03:15Z", "type": "commit"}, {"oid": "ee412993e74bd30dbf418b8500c3e52567e99aa5", "url": "https://github.com/nordic-institute/X-Road/commit/ee412993e74bd30dbf418b8500c3e52567e99aa5", "message": "XRDDEV-446 Fix linter errors", "committedDate": "2020-06-01T12:56:38Z", "type": "commit"}, {"oid": "9a4f1f738f748203f3ef8392818fdb17ccdb8b4a", "url": "https://github.com/nordic-institute/X-Road/commit/9a4f1f738f748203f3ef8392818fdb17ccdb8b4a", "message": "XRDDEV-446 Fix linter warning", "committedDate": "2020-06-01T15:35:56Z", "type": "commit"}, {"oid": "082a5b152395036782c10239ec5354e59cba513d", "url": "https://github.com/nordic-institute/X-Road/commit/082a5b152395036782c10239ec5354e59cba513d", "message": "XRDDEV-446 Fix the most complicated linter errors", "committedDate": "2020-06-01T15:36:52Z", "type": "commit"}, {"oid": "ec822026bb51587cb510cbf1e74603172e461d3d", "url": "https://github.com/nordic-institute/X-Road/commit/ec822026bb51587cb510cbf1e74603172e461d3d", "message": "XRDDEV-929 Fix build errors", "committedDate": "2020-06-01T19:17:17Z", "type": "commit"}, {"oid": "5ba5b77a3d2deb39ea310bc4722600a1bc54a1a8", "url": "https://github.com/nordic-institute/X-Road/commit/5ba5b77a3d2deb39ea310bc4722600a1bc54a1a8", "message": "XRDDEV-929 Update package-lock", "committedDate": "2020-06-01T19:40:01Z", "type": "commit"}, {"oid": "7c6ca0f25dbc7a99340b1588de7c4ba3850a76ff", "url": "https://github.com/nordic-institute/X-Road/commit/7c6ca0f25dbc7a99340b1588de7c4ba3850a76ff", "message": "Merge commit '53e837dbb7b1e65f3f86560f49f70497e0dc62fe' into XRDDEV-446-eslint\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/src/store/modules/certificateSignRequest.ts", "committedDate": "2020-06-01T19:43:34Z", "type": "commit"}, {"oid": "eba1e80acc65cf8fe62f599b2b2afe184461ca48", "url": "https://github.com/nordic-institute/X-Road/commit/eba1e80acc65cf8fe62f599b2b2afe184461ca48", "message": "Merge branch 'develop' into XRDDEV-446-eslint\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/package-lock.json\n#\tsrc/proxy-ui-api/frontend/package.json", "committedDate": "2020-06-03T14:50:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc1NDkzNg==", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435754936", "bodyText": "Currently endpoints view lists only base endpoint. I think this should be\nreturn endpoint.method !== '*' && endpoint.path !== '**';", "author": "TJaakkola", "createdAt": "2020-06-05T08:01:59Z", "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "diffHunk": "@@ -77,8 +82,16 @@ export default Vue.extend({\n   },\n   computed: {\n     ...mapGetters(['service']),\n+\n+    endpoints(): Endpoint[] {\n+      const filtered = this.service.endpoints.filter((endpoint: Endpoint) => {\n+        return endpoint.method === '*' && endpoint.path === '**';", "originalCommit": "eba1e80acc65cf8fe62f599b2b2afe184461ca48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5NTU1MA==", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435795550", "bodyText": "fixed", "author": "Riippi", "createdAt": "2020-06-05T09:16:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc1NDkzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc2MTY4OQ==", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435761689", "bodyText": "i think this could be simplified a bit with just a map-function something like this:\nkeyedServiceClientAccessRights(): UiAccessRight[] { return this.serviceClientAccessRights.map( (sca: AccessRight, index: number) => { return { ... sca, uiKey: index }; }) as UiAccessRight[]; },", "author": "TJaakkola", "createdAt": "2020-06-05T08:15:39Z", "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -189,23 +221,42 @@ export default Vue.extend({\n       this.showConfirmDeleteAll = false;\n \n       api\n-        .post(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights/delete`,\n-          {items: this.serviceClientAccessRights.map((item: AccessRight) => ({service_code: item.service_code}))})\n+        .post(\n+          `/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights/delete`,\n+          {\n+            items: this.serviceClientAccessRights.map((item: AccessRight) => ({\n+              service_code: item.service_code,\n+            })),\n+          },\n+        )\n         .then(() => {\n           this.$store.dispatch('showSuccess', 'serviceClients.removeSuccess');\n           this.serviceClientAccessRights = [];\n         })\n         .catch((error: any) => this.$store.dispatch('showError', error));\n-\n     },\n     serviceCandidates(): ServiceCandidate[] {\n-      return serviceCandidatesForServiceClient(this.clientServiceDescriptions, this.serviceClientAccessRights);\n+      return serviceCandidatesForServiceClient(\n+        this.clientServiceDescriptions,\n+        this.serviceClientAccessRights,\n+      );\n+    },\n+\n+    keyedServiceClientAccessRights() {\n+      let index = 0;\n+      const arrWithKeys = [];\n+      for (const accessRight of this.serviceClientAccessRights) {\n+        arrWithKeys[index] = accessRight as UiAccessRight;\n+        arrWithKeys[index].uiKey = index;\n+        index++;\n+      }\n+\n+      return arrWithKeys;", "originalCommit": "eba1e80acc65cf8fe62f599b2b2afe184461ca48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5NTkzMg==", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435795932", "bodyText": "fixed", "author": "Riippi", "createdAt": "2020-06-05T09:17:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc2MTY4OQ=="}], "type": "inlineReview"}, {"oid": "7ef35c9e12922feb4f2b4d5ed5bdc623c3eea2dd", "url": "https://github.com/nordic-institute/X-Road/commit/7ef35c9e12922feb4f2b4d5ed5bdc623c3eea2dd", "message": "XRDDEV-446 Fix review issues", "committedDate": "2020-06-05T08:33:22Z", "type": "commit"}, {"oid": "65ebc1afaedd7ce0f3969bded58cc3b7727748b9", "url": "https://github.com/nordic-institute/X-Road/commit/65ebc1afaedd7ce0f3969bded58cc3b7727748b9", "message": "XRDDEV-446 Fix endpoints bug", "committedDate": "2020-06-05T10:03:55Z", "type": "commit"}, {"oid": "4d10c7e05f5aab5b08b992794bd4c01074335248", "url": "https://github.com/nordic-institute/X-Road/commit/4d10c7e05f5aab5b08b992794bd4c01074335248", "message": "Merge commit '7f46ae97ae7c03a9d9399720fa3625bb68f63d77' into XRDDEV-446-eslint\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/src/views/Service/Parameters/ServiceParameters.vue\n#\tsrc/proxy-ui-api/frontend/src/views/Service/Service.vue", "committedDate": "2020-06-05T10:55:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0OTEyMA==", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435849120", "bodyText": "one more thing. there's no need to create that filtered -variable. Just return the value from expression.", "author": "TJaakkola", "createdAt": "2020-06-05T11:03:21Z", "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "diffHunk": "@@ -77,8 +82,16 @@ export default Vue.extend({\n   },\n   computed: {\n     ...mapGetters(['service']),\n+\n+    endpoints(): Endpoint[] {\n+      const filtered = this.service.endpoints.filter((endpoint: Endpoint) => {\n+        return !this.isBaseEndpoint(endpoint);\n+      });\n+\n+      return filtered;", "originalCommit": "4d10c7e05f5aab5b08b992794bd4c01074335248", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg1NDk1Mg==", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435854952", "bodyText": "fixed", "author": "Riippi", "createdAt": "2020-06-05T11:16:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0OTEyMA=="}], "type": "inlineReview"}, {"oid": "ba47d2cfc8fdd7ef83d8c2b8fbb00a4f9113696c", "url": "https://github.com/nordic-institute/X-Road/commit/ba47d2cfc8fdd7ef83d8c2b8fbb00a4f9113696c", "message": "XRDDEV-446 Simplify code", "committedDate": "2020-06-05T11:06:09Z", "type": "commit"}]}