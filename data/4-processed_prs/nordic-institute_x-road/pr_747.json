{"pr_number": 747, "pr_title": "XRDDEV-1233: Replace dtsgenerator with openapi-typescript-codegen", "pr_createdAt": "2020-10-14T09:05:06Z", "pr_url": "https://github.com/nordic-institute/X-Road/pull/747", "timeline": [{"oid": "f1bb1fbb33e1a9e8f7292e431e38d86958cbdba2", "url": "https://github.com/nordic-institute/X-Road/commit/f1bb1fbb33e1a9e8f7292e431e38d86958cbdba2", "message": "XRDDEV-1233: Replace dtsgenerator with openapi-typescript-codegen", "committedDate": "2020-10-14T08:54:24Z", "type": "commit"}, {"oid": "7e9d115d8131c4b37292a3fea8c52e16ab4407ef", "url": "https://github.com/nordic-institute/X-Road/commit/7e9d115d8131c4b37292a3fea8c52e16ab4407ef", "message": "XRDDEV-1233: Add licenses", "committedDate": "2020-10-14T09:09:54Z", "type": "commit"}, {"oid": "a0a783742352287bdfbc44e58f3a565c5834f8e2", "url": "https://github.com/nordic-institute/X-Road/commit/a0a783742352287bdfbc44e58f3a565c5834f8e2", "message": "XRDDEV-1233: Remove generated types from repository", "committedDate": "2020-10-14T09:14:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3NzE2NA==", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r506277164", "bodyText": "Seems to generate a lot of stuff we don't need (like mock server and such). Maybe add these flags to only generate the models --exportCore false --exportServices false", "author": "carohauta", "createdAt": "2020-10-16T10:37:57Z", "path": "src/proxy-ui-api/frontend/package.json", "diffHunk": "@@ -12,7 +12,7 @@\n     \"test:coverage\": \"vue-cli-service test:unit --coverage\",\n     \"check-audit\": \"check-audit\",\n     \"resolve-audit\": \"resolve-audit\",\n-    \"generate-types\": \"./node_modules/typescript/bin/tsc --esModuleInterop scripts/dtsgen-wrapper.ts && node scripts/dtsgen-wrapper.js\",\n+    \"generate-types\": \"openapi --input ../src/main/resources/openapi-definition.yaml --output ./src/openapi-types\",", "originalCommit": "a0a783742352287bdfbc44e58f3a565c5834f8e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3OTAyNA==", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r506279024", "bodyText": "Also the serve and build scripts try to remove src/openapi-types.ts. Should probably be removing src/openapi-types folder.", "author": "carohauta", "createdAt": "2020-10-16T10:40:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3NzE2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ4MjAyNA==", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r506482024", "bodyText": "Yeah nicely spotted. I wasn't sure whether those core and services folders could turn out usefull.", "author": "TJaakkola", "createdAt": "2020-10-16T14:25:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3NzE2NA=="}], "type": "inlineReview"}, {"oid": "5f4826079a62f827a2a3b6513d3d644a0eead375", "url": "https://github.com/nordic-institute/X-Road/commit/5f4826079a62f827a2a3b6513d3d644a0eead375", "message": "XRDDEV-1233: Fix removing existing types on build and serve. Not generating unused type categories", "committedDate": "2020-10-16T13:58:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwNTUzNA==", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r507505534", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"serve\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service serve\",\n          \n          \n            \n                \"build\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service build\",\n          \n          \n            \n                \"serve\": \"rm -rf src/openapi-types && npm run generate-types && vue-cli-service serve\",\n          \n          \n            \n                \"build\": \"rm -rf src/openapi-types && npm run generate-types && vue-cli-service build\",", "author": "carohauta", "createdAt": "2020-10-19T06:38:48Z", "path": "src/proxy-ui-api/frontend/package.json", "diffHunk": "@@ -3,16 +3,16 @@\n   \"version\": \"0.1.0\",\n   \"private\": true,\n   \"scripts\": {\n-    \"serve\": \"rm -f src/openapi-types.ts && npm run generate-types && vue-cli-service serve\",\n-    \"build\": \"rm -f src/openapi-types.ts && npm run generate-types && vue-cli-service build\",\n+    \"serve\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service serve\",\n+    \"build\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service build\",", "originalCommit": "5f4826079a62f827a2a3b6513d3d644a0eead375", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3d60541bfaaabeb10dac230c3a0bcb58fa50a89f", "url": "https://github.com/nordic-institute/X-Road/commit/3d60541bfaaabeb10dac230c3a0bcb58fa50a89f", "message": "Update src/proxy-ui-api/frontend/package.json\n\nCo-authored-by: Caro Hautam\u00e4ki <caro.hautamaki@gofore.com>", "committedDate": "2020-10-19T06:41:05Z", "type": "commit"}]}