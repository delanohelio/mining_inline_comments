{"pr_number": 763, "pr_title": "XRDDEV-1425 limit HSM CSR creation to SIGNING usage", "pr_createdAt": "2020-10-29T14:20:30Z", "pr_url": "https://github.com/nordic-institute/X-Road/pull/763", "timeline": [{"oid": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab", "url": "https://github.com/nordic-institute/X-Road/commit/fe16da8df3763c93892d0c486cef4dfc5f1bdbab", "message": "XRDDEV-1425 limit HSM CSR creation to SIGNING usage", "committedDate": "2020-10-29T14:03:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMwMDQ4Mw==", "url": "https://github.com/nordic-institute/X-Road/pull/763#discussion_r514300483", "bodyText": "In this case it doesn't matter but it's a good practise to always use three equal signs when doing a comparison in javascript.\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality\nFor example.\n1 == '1' // true\n1 === '1' // false", "author": "TJaakkola", "createdAt": "2020-10-29T14:26:45Z", "path": "src/proxy-ui-api/frontend/src/store/modules/certificateSignRequest.ts", "diffHunk": "@@ -103,6 +106,10 @@ export const csrGetters: GetterTree<CsrState, RootState> = {\n     return state.keyLabel;\n   },\n   isUsageReadOnly(state): boolean {\n+    // if creating CSR for a hardware token, only sign CSRs can be created\n+    if (state.tokenType == TokenType.HARDWARE) {", "originalCommit": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzNjY4NQ==", "url": "https://github.com/nordic-institute/X-Road/pull/763#discussion_r514336685", "bodyText": "fixed", "author": "jansu76", "createdAt": "2020-10-29T15:11:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMwMDQ4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMwMDgxMQ==", "url": "https://github.com/nordic-institute/X-Road/pull/763#discussion_r514300811", "bodyText": "Strict equality like above", "author": "TJaakkola", "createdAt": "2020-10-29T14:27:09Z", "path": "src/proxy-ui-api/frontend/src/store/modules/certificateSignRequest.ts", "diffHunk": "@@ -194,6 +204,13 @@ export const actions: ActionTree<CsrState, RootState> = {\n   setCsrTokenId({ commit }, tokenId: string) {\n     commit('storeCsrTokenId', tokenId);\n   },\n+  setCsrTokenType({ commit }, tokenType: string) {\n+    if (tokenType == TokenType.HARDWARE) {", "originalCommit": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzNjYyNw==", "url": "https://github.com/nordic-institute/X-Road/pull/763#discussion_r514336627", "bodyText": "fixed", "author": "jansu76", "createdAt": "2020-10-29T15:11:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMwMDgxMQ=="}], "type": "inlineReview"}, {"oid": "de7a84eccea5dafca22fc454e254095558c50125", "url": "https://github.com/nordic-institute/X-Road/commit/de7a84eccea5dafca22fc454e254095558c50125", "message": "XRDDEV-1425 updates based on PR comments", "committedDate": "2020-10-29T14:44:54Z", "type": "commit"}]}