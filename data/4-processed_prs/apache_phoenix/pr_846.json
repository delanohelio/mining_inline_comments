{"pr_number": 846, "pr_title": "PHOENIX-6045 Delete that should qualify for index path does not use i\u2026", "pr_createdAt": "2020-07-27T23:27:23Z", "pr_url": "https://github.com/apache/phoenix/pull/846", "timeline": [{"oid": "abe5e3cbdad795d5c2e03ad8de7539cc819de982", "url": "https://github.com/apache/phoenix/commit/abe5e3cbdad795d5c2e03ad8de7539cc819de982", "message": "PHOENIX-6045 Delete that should qualify for index path does not use index when multiple indexes are available.", "committedDate": "2020-07-28T06:08:02Z", "type": "commit"}, {"oid": "abe5e3cbdad795d5c2e03ad8de7539cc819de982", "url": "https://github.com/apache/phoenix/commit/abe5e3cbdad795d5c2e03ad8de7539cc819de982", "message": "PHOENIX-6045 Delete that should qualify for index path does not use index when multiple indexes are available.", "committedDate": "2020-07-28T06:08:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyNTA4Nw==", "url": "https://github.com/apache/phoenix/pull/846#discussion_r461525087", "bodyText": "Perhaps use clientSideIndexes  instead of checking isMaintainedOnClient here is better?", "author": "comnetwork", "createdAt": "2020-07-28T12:00:02Z", "path": "phoenix-core/src/main/java/org/apache/phoenix/compile/DeleteCompiler.java", "diffHunk": "@@ -486,19 +494,22 @@ else if (table.isTransactional() && connection.getSCN() != null) {\n             projectedColumns.add(column);\n             aliasedNodes.add(FACTORY.aliasedNode(null, FACTORY.column(null, '\"' + column.getName().getString() + '\"', null)));\n         }\n-        // Project all non PK indexed columns so that we can do the proper index maintenance\n+        // Project all non PK indexed columns so that we can do the proper index maintenance on the indexes for which\n+        // mutations are generated on the client side. Indexed columns are needed to identify index rows to be deleted\n         for (PTable index : table.getIndexes()) {", "originalCommit": "abe5e3cbdad795d5c2e03ad8de7539cc819de982", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc3NzMxMw==", "url": "https://github.com/apache/phoenix/pull/846#discussion_r461777313", "bodyText": "Possibly but I have tested this code and do not want to go through the whole testing cycle which includes testing on a real cluster as this is a production issue for us now. Thanks for the suggestion", "author": "kadirozde", "createdAt": "2020-07-28T18:13:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyNTA4Nw=="}], "type": "inlineReview"}]}