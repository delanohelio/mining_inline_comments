{"pr_number": 2365, "pr_title": "[Build scripts] publish on maven central", "pr_createdAt": "2020-06-15T15:06:30Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/2365", "timeline": [{"oid": "53bcb32454d53002e59932b72a26c6c8f7d99c2e", "url": "https://github.com/apollographql/apollo-android/commit/53bcb32454d53002e59932b72a26c6c8f7d99c2e", "message": "add the maven central repo and the signing plugin", "committedDate": "2020-06-15T15:00:52Z", "type": "commit"}, {"oid": "4cf21050db8d83fc0304045f35debd06c7af761f", "url": "https://github.com/apollographql/apollo-android/commit/4cf21050db8d83fc0304045f35debd06c7af761f", "message": "fix looking up name and description", "committedDate": "2020-06-15T15:00:52Z", "type": "commit"}, {"oid": "5fd2486577f7d80e37d5f4e5de5a617f3828437f", "url": "https://github.com/apollographql/apollo-android/commit/5fd2486577f7d80e37d5f4e5de5a617f3828437f", "message": "fix the packaging and always publish javadoc and sources", "committedDate": "2020-06-15T15:00:52Z", "type": "commit"}, {"oid": "e353b323f69012107262eb62eaf26e37f381c8f0", "url": "https://github.com/apollographql/apollo-android/commit/e353b323f69012107262eb62eaf26e37f381c8f0", "message": "fix publishing of the plugin", "committedDate": "2020-06-15T15:00:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0NDk4MA==", "url": "https://github.com/apollographql/apollo-android/pull/2365#discussion_r440244980", "bodyText": "This is required to not override the default <packaging>pom</packaging> for the plugin marker. If packaging is set to jar, sonatype expects a man jar file and closing the repository fails if not present.", "author": "martinbonnin", "createdAt": "2020-06-15T15:07:25Z", "path": "apollo-gradle-plugin/gradle.properties", "diffHunk": "@@ -1,4 +1,3 @@\n POM_ARTIFACT_ID=apollo-gradle-plugin\n POM_NAME=Apollo Gradle Plugin\n POM_DESCRIPTION=Gradle plugin for generating java/kotlin classes for graphql files\n-POM_PACKAGING=jar", "originalCommit": "e353b323f69012107262eb62eaf26e37f381c8f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0NTE5Nw==", "url": "https://github.com/apollographql/apollo-android/pull/2365#discussion_r440245197", "bodyText": "Same as above, this is required to not override the default <packaging>klib</packaging> for the plugin marker", "author": "martinbonnin", "createdAt": "2020-06-15T15:07:43Z", "path": "apollo-normalized-cache-sqlite/gradle.properties", "diffHunk": "@@ -1,4 +1,3 @@\n POM_ARTIFACT_ID=apollo-normalized-cache-sqlite\n POM_NAME=Apollo GraphQL SQLite Cache\n POM_DESCRIPTION=Apollo GraphQL SQLite Cache\n-POM_PACKAGING=jar", "originalCommit": "e353b323f69012107262eb62eaf26e37f381c8f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0NjI2Mw==", "url": "https://github.com/apollographql/apollo-android/pull/2365#discussion_r440246263", "bodyText": "The scoping was wrong here and the pom properties were always read from the root gradle.properties", "author": "martinbonnin", "createdAt": "2020-06-15T15:09:19Z", "path": "build.gradle.kts", "diffHunk": "@@ -255,8 +249,8 @@ fun Project.configurePublishing() {\n         }\n       }\n \n-      withType<MavenPublication>() {\n-        setDefaultPomFields()\n+      withType<MavenPublication> {\n+        setDefaultPomFields(this)", "originalCommit": "e353b323f69012107262eb62eaf26e37f381c8f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9ad9d4f58530727ac12fdd2aea1a184cb529efef", "url": "https://github.com/apollographql/apollo-android/commit/9ad9d4f58530727ac12fdd2aea1a184cb529efef", "message": "add the GPG key to Github actions", "committedDate": "2020-06-15T15:38:18Z", "type": "commit"}, {"oid": "605f23e14e55dc3650597f7e8c2cbaa52b6043ad", "url": "https://github.com/apollographql/apollo-android/commit/605f23e14e55dc3650597f7e8c2cbaa52b6043ad", "message": "trigger a build", "committedDate": "2020-06-15T18:15:53Z", "type": "commit"}, {"oid": "13f8134478d138670397dd146a5e95979a10693c", "url": "https://github.com/apollographql/apollo-android/commit/13f8134478d138670397dd146a5e95979a10693c", "message": "do not fail if there is no signing key", "committedDate": "2020-06-15T20:32:53Z", "type": "commit"}]}