{"pr_number": 2084, "pr_title": "Publishing: fix KMP artifacts ids", "pr_createdAt": "2020-03-21T15:37:59Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/2084", "timeline": [{"oid": "fb5cdbfd06e8159209c1feef4f694baace92e530", "url": "https://github.com/apollographql/apollo-android/commit/fb5cdbfd06e8159209c1feef4f694baace92e530", "message": "fix KMP artifacts", "committedDate": "2020-03-21T15:37:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMjQ0NA==", "url": "https://github.com/apollographql/apollo-android/pull/2084#discussion_r396002444", "bodyText": "I put this logic in the main build.gradle.kts so it applies to other KMP module if we have any.", "author": "martinbonnin", "createdAt": "2020-03-21T15:38:34Z", "path": "apollo-api/build.gradle.kts", "diffHunk": "@@ -58,17 +58,6 @@ kotlin {\n   }\n }\n \n-publishing {\n-  publications.withType<MavenPublication>().apply {\n-    val kotlinMultiplatform by getting {\n-      artifactId = \"apollo-api-multiplatform\"\n-    }\n-    val jvm by getting {\n-      artifactId = \"apollo-api\"\n-    }", "originalCommit": "fb5cdbfd06e8159209c1feef4f694baace92e530", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwNDM0Nw==", "url": "https://github.com/apollographql/apollo-android/pull/2084#discussion_r396004347", "bodyText": "We actually don't need to do this if users enable Gradle Metadata. This is kind of for backward compatibility.\nWe could as well ask our users to enable Gradle Metadata. That way they will just use apollo-api and the correct one will be used automatically.", "author": "tasomaniac", "createdAt": "2020-03-21T16:02:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMjQ0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwNDY3OQ==", "url": "https://github.com/apollographql/apollo-android/pull/2084#discussion_r396004679", "bodyText": "Am I right that Gradle Metadata is enabled by default on Gradle 6.0 ? If yes, then I'm in favor of using apollo-api-jvm so that it matches the default KMP publishing scheme.", "author": "martinbonnin", "createdAt": "2020-03-21T16:07:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMjQ0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwNTEwMw==", "url": "https://github.com/apollographql/apollo-android/pull/2084#discussion_r396005103", "bodyText": "I thought it was but when I tried locally I still needed the enable function in settings.gradle", "author": "tasomaniac", "createdAt": "2020-03-21T16:11:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMjQ0NA=="}], "type": "inlineReview"}]}