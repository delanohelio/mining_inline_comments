{"pr_number": 2026, "pr_title": "config okHttp timeout", "pr_createdAt": "2020-03-01T10:09:58Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/2026", "timeline": [{"oid": "c6077f9ed8647e322cecc9a024c6717c3664a01b", "url": "https://github.com/apollographql/apollo-android/commit/c6077f9ed8647e322cecc9a024c6717c3664a01b", "message": "config okHttp timeout", "committedDate": "2020-03-01T09:54:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwMTQ3Mg==", "url": "https://github.com/apollographql/apollo-android/pull/2026#discussion_r386101472", "bodyText": "Thanks for the contribution \ud83d\udc4d . What about making the default a bit bigger like \"60\" ? Most of the times, this will be called from the dev machine or from CI so I think it's more important that the task actually downloads something compared to speed.", "author": "martinbonnin", "createdAt": "2020-03-01T11:53:14Z", "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/ApolloDownloadSchemaTask.kt", "diffHunk": "@@ -66,7 +67,11 @@ abstract class ApolloDownloadSchemaTask : DefaultTask() {\n         .url(urlBuilder.build())\n         .build()\n \n-    val response = OkHttpClient().newCall(requestBuilder.build()).execute()\n+    val response = OkHttpClient.Builder()\n+        .connectTimeout(System.getProperty(\"okHttp.connectTimeout\",\"10\").toLong(), TimeUnit.SECONDS)\n+        .readTimeout(System.getProperty(\"okHttp.readTimeout\",\"10\").toLong(), TimeUnit.SECONDS)", "originalCommit": "c6077f9ed8647e322cecc9a024c6717c3664a01b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAwODk0MA==", "url": "https://github.com/apollographql/apollo-android/pull/2026#discussion_r389008940", "bodyText": "I made the change through Github UI \ud83d\ude04", "author": "tasomaniac", "createdAt": "2020-03-06T16:36:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwMTQ3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAwNjQ1Mg==", "url": "https://github.com/apollographql/apollo-android/pull/2026#discussion_r389006452", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    .connectTimeout(System.getProperty(\"okHttp.connectTimeout\",\"10\").toLong(), TimeUnit.SECONDS)\n          \n          \n            \n                    .readTimeout(System.getProperty(\"okHttp.readTimeout\",\"10\").toLong(), TimeUnit.SECONDS)\n          \n          \n            \n                    .connectTimeout(System.getProperty(\"okHttp.connectTimeout\", \"60\").toLong(), TimeUnit.SECONDS)\n          \n          \n            \n                    .readTimeout(System.getProperty(\"okHttp.readTimeout\", \"60\").toLong(), TimeUnit.SECONDS)", "author": "tasomaniac", "createdAt": "2020-03-06T16:32:17Z", "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/ApolloDownloadSchemaTask.kt", "diffHunk": "@@ -66,7 +67,11 @@ abstract class ApolloDownloadSchemaTask : DefaultTask() {\n         .url(urlBuilder.build())\n         .build()\n \n-    val response = OkHttpClient().newCall(requestBuilder.build()).execute()\n+    val response = OkHttpClient.Builder()\n+        .connectTimeout(System.getProperty(\"okHttp.connectTimeout\",\"10\").toLong(), TimeUnit.SECONDS)\n+        .readTimeout(System.getProperty(\"okHttp.readTimeout\",\"10\").toLong(), TimeUnit.SECONDS)", "originalCommit": "c6077f9ed8647e322cecc9a024c6717c3664a01b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f00862c4dac8db28cf6f93a23857ff89dd0ab74c", "url": "https://github.com/apollographql/apollo-android/commit/f00862c4dac8db28cf6f93a23857ff89dd0ab74c", "message": "Increase timeout", "committedDate": "2020-03-06T16:32:33Z", "type": "commit"}]}