{"pr_number": 1944, "pr_title": "Generate default value for __typename field", "pr_createdAt": "2020-01-26T06:00:21Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/1944", "timeline": [{"oid": "98b2edd109d61abe24643e4950b766a1b88df64b", "url": "https://github.com/apollographql/apollo-android/commit/98b2edd109d61abe24643e4950b766a1b88df64b", "message": "Generate default value for __typename field\n\nCloses https://github.com/apollographql/apollo-android/issues/1936", "committedDate": "2020-01-26T05:59:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk4NDM4OA==", "url": "https://github.com/apollographql/apollo-android/pull/1944#discussion_r370984388", "bodyText": "This is not supposed to be changed right? What about moving it out from the constructor and keep it as a field.", "author": "tasomaniac", "createdAt": "2020-01-26T09:19:20Z", "path": "apollo-compiler/src/test/graphql/com/example/arguments_complex/TestQuery.kt", "diffHunk": "@@ -71,7 +71,7 @@ data class TestQuery(\n   override fun parse(source: BufferedSource): Response<Data> = parse(source, DEFAULT)\n \n   data class HeroWithReview(\n-    val __typename: String,\n+    val __typename: String = \"Human\",", "originalCommit": "98b2edd109d61abe24643e4950b766a1b88df64b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAwODkxOQ==", "url": "https://github.com/apollographql/apollo-android/pull/1944#discussion_r371008919", "bodyText": "Apparently this is still required for the cache: #1936 (comment)\nI wonder if this is a technical limitation or if, for the same generated model, there's a use case for passing different values ? Maybe with inheritance ?", "author": "martinbonnin", "createdAt": "2020-01-26T15:44:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk4NDM4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU5NzkyNg==", "url": "https://github.com/apollographql/apollo-android/pull/1944#discussion_r371597926", "bodyText": "It can be different. Right now the default value is taken from the definition of GraphQL schema type. But in case of interface the real value for __typename depends on the returned instance.\nFor example having this query:\nquery {\n  hero {\n    __typename\n    name\n  }\n}\n\nObject hero is defined as  Character in GraphQL schema. So default value will be \"Character\". But at runtime it can be one of  possible types Human or Droid https://github.com/apollographql/apollo-android/blob/master/apollo-compiler/src/test/graphql/schema.json#L637.", "author": "sav007", "createdAt": "2020-01-28T03:47:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk4NDM4OA=="}], "type": "inlineReview"}]}