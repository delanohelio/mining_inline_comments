{"pr_number": 2028, "pr_title": "Convert bunch of internal classes to Kotlin", "pr_createdAt": "2020-03-02T21:17:21Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/2028", "timeline": [{"oid": "d422333648d21877664099fc8bd70f6d65d0fedb", "url": "https://github.com/apollographql/apollo-android/commit/d422333648d21877664099fc8bd70f6d65d0fedb", "message": "Convert top level api classes to Kotlin", "committedDate": "2020-03-02T21:08:07Z", "type": "commit"}, {"oid": "ee00685063762ab52ee8d9f4f62e4fdb5427df52", "url": "https://github.com/apollographql/apollo-android/commit/ee00685063762ab52ee8d9f4f62e4fdb5427df52", "message": "Fix bad migration", "committedDate": "2020-03-02T21:08:21Z", "type": "commit"}, {"oid": "e66e6b8233bb4f29782dcffb75efe1c6567dea93", "url": "https://github.com/apollographql/apollo-android/commit/e66e6b8233bb4f29782dcffb75efe1c6567dea93", "message": "Fix scalar type adapters", "committedDate": "2020-03-02T21:08:52Z", "type": "commit"}, {"oid": "62e41c870b7e9637e38922d9c7b389f230ea9d96", "url": "https://github.com/apollographql/apollo-android/commit/62e41c870b7e9637e38922d9c7b389f230ea9d96", "message": "Fix build", "committedDate": "2020-03-02T21:09:14Z", "type": "commit"}, {"oid": "49ba6977212a36d4b4ffb42aedec46d1f22e9591", "url": "https://github.com/apollographql/apollo-android/commit/49ba6977212a36d4b4ffb42aedec46d1f22e9591", "message": "Convert next portion of internal classes to Kotlin", "committedDate": "2020-03-02T21:09:23Z", "type": "commit"}, {"oid": "e6bb655d4fc6a5a6e149442613cd5d2eed7998ec", "url": "https://github.com/apollographql/apollo-android/commit/e6bb655d4fc6a5a6e149442613cd5d2eed7998ec", "message": "Update test fixtures", "committedDate": "2020-03-02T21:09:23Z", "type": "commit"}, {"oid": "4938300a04e74d10ada999b3869828bcb5984708", "url": "https://github.com/apollographql/apollo-android/commit/4938300a04e74d10ada999b3869828bcb5984708", "message": "Fix bad rebase", "committedDate": "2020-03-02T21:14:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcxNDk2Nw==", "url": "https://github.com/apollographql/apollo-android/pull/2028#discussion_r386714967", "bodyText": "Is there a place where invoke is used as a function call ? If it doesn't need to be an operator, maybe call it from or wrap ?\n    override fun marshaller(): InputFieldMarshaller = InputFieldMarshaller.from { writer ->\n      writer.writeBoolean(\"withDetails\", this@TestQuery.withDetails)\n      writer.writeBoolean(\"skipHumanDetails\", this@TestQuery.skipHumanDetails)\n    }\nOr with a top-level function, like coroutines use a lot ?\n    override fun marshaller(): InputFieldMarshaller = inputFieldMarshaller { writer ->\n      writer.writeBoolean(\"withDetails\", this@TestQuery.withDetails)\n      writer.writeBoolean(\"skipHumanDetails\", this@TestQuery.skipHumanDetails)\n    }", "author": "martinbonnin", "createdAt": "2020-03-02T23:32:37Z", "path": "apollo-api/src/main/java/com/apollographql/apollo/api/internal/InputFieldMarshaller.kt", "diffHunk": "@@ -0,0 +1,17 @@\n+package com.apollographql.apollo.api.internal\n+\n+import java.io.IOException\n+\n+interface InputFieldMarshaller {\n+  @Throws(IOException::class)\n+  fun marshal(writer: InputFieldWriter)\n+\n+  companion object {\n+    @JvmSynthetic\n+    inline operator fun invoke(crossinline block: (InputFieldWriter) -> Unit) = object : InputFieldMarshaller {", "originalCommit": "4938300a04e74d10ada999b3869828bcb5984708", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcyODg4NA==", "url": "https://github.com/apollographql/apollo-android/pull/2028#discussion_r386728884", "bodyText": "It's used in input types for example https://github.com/apollographql/apollo-android/pull/2028/files#diff-431dfc1d4ab56f3b8039eb0ddb8547fdR107\nLet's keep it for now as SAM conversion for interfaces is coming in  Kotlin 1.4 https://blog.jetbrains.com/kotlin/2019/12/what-to-expect-in-kotlin-1-4-and-beyond/?_ga=2.136948336.1505843568.1583040891-1122893.1461098344\nAfter that we will remove these functions entirely.", "author": "sav007", "createdAt": "2020-03-03T00:15:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcxNDk2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjcxNzAzMg==", "url": "https://github.com/apollographql/apollo-android/pull/2028#discussion_r386717032", "bodyText": "Using primitive types looks way better \ud83d\udc4d", "author": "martinbonnin", "createdAt": "2020-03-02T23:38:43Z", "path": "apollo-runtime/src/main/java/com/apollographql/apollo/internal/response/RealResponseReader.java", "diffHunk": "@@ -286,22 +286,22 @@ private void checkValue(ResponseField field, Object value) {\n       return (String) value;\n     }\n \n-    @Override public Integer readInt() {\n+    @Override public int readInt() {", "originalCommit": "49ba6977212a36d4b4ffb42aedec46d1f22e9591", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}