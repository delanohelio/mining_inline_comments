{"pr_number": 2566, "pr_title": "[FileUpload] Allow to encode custom scalar types as null and use it for file uploads", "pr_createdAt": "2020-09-09T09:34:08Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/2566", "timeline": [{"oid": "288ba634c85390fb6cf882455ee0d15dc2c2ce16", "url": "https://github.com/apollographql/apollo-android/commit/288ba634c85390fb6cf882455ee0d15dc2c2ce16", "message": "Allow to encode custom scalar types as null and use it for file uploads", "committedDate": "2020-09-09T09:22:33Z", "type": "commit"}, {"oid": "42806a1f6b96095675e490cfed592676bf179486", "url": "https://github.com/apollographql/apollo-android/commit/42806a1f6b96095675e490cfed592676bf179486", "message": "fix integration tests", "committedDate": "2020-09-10T14:32:09Z", "type": "commit"}, {"oid": "089e358671702fced5c820f53037577fcf0e533d", "url": "https://github.com/apollographql/apollo-android/commit/089e358671702fced5c820f53037577fcf0e533d", "message": "update metalava", "committedDate": "2020-09-10T15:26:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU1MTYxMw==", "url": "https://github.com/apollographql/apollo-android/pull/2566#discussion_r487551613", "bodyText": "nit: should we introduce writeNull to our JsonWriter? \ud83d\ude04", "author": "sav007", "createdAt": "2020-09-13T16:50:55Z", "path": "apollo-api/src/commonMain/kotlin/com/apollographql/apollo/api/internal/json/InputFieldJsonWriter.kt", "diffHunk": "@@ -80,6 +80,7 @@ class InputFieldJsonWriter(\n       is GraphQLString -> writeString(fieldName, customTypeValue.value)\n       is GraphQLBoolean -> writeBoolean(fieldName, customTypeValue.value)\n       is GraphQLNumber -> writeNumber(fieldName, customTypeValue.value)\n+      is GraphQLNull -> writeString(fieldName, null)", "originalCommit": "089e358671702fced5c820f53037577fcf0e533d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU4NTU2MQ==", "url": "https://github.com/apollographql/apollo-android/pull/2566#discussion_r487585561", "bodyText": "JsonWriter already has nullValue, would that be ok?\nWe could also add writeNull to InputFieldWriter but that would be a much more invasive change that I'm not too keen on doing in 2.x. Falling into the rabbit hole of InputFieldsWriters, I realized that SortedInputFieldMapWriter doesn't handle custom scalar types. So custom scalars as field arguments will most likely fill the cache with different values. I guess something to keep in mind for 3.x", "author": "martinbonnin", "createdAt": "2020-09-13T22:32:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU1MTYxMw=="}], "type": "inlineReview"}]}