{"pr_number": 1951, "pr_title": "Rename all singular CompilationUnit references to singular", "pr_createdAt": "2020-01-27T20:51:42Z", "pr_url": "https://github.com/apollographql/apollo-android/pull/1951", "timeline": [{"oid": "c20564d44a27e37888eee8c1470ba41d33e86dd9", "url": "https://github.com/apollographql/apollo-android/commit/c20564d44a27e37888eee8c1470ba41d33e86dd9", "message": "Rename all singular CompilationUnit references to singular", "committedDate": "2020-01-27T20:49:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ4MDgyNg==", "url": "https://github.com/apollographql/apollo-android/pull/1951#discussion_r371480826", "bodyText": "This one is a container (which extends from Set) and internal. I think we should keep this one plural.", "author": "tasomaniac", "createdAt": "2020-01-27T21:03:24Z", "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/DefaultApolloExtension.kt", "diffHunk": "@@ -15,13 +15,13 @@ open class DefaultApolloExtension(val project: Project)\n   val services = mutableListOf<DefaultService>()\n \n   /**\n-   * compilationUnits is meant to be consumed by other gradle plugin.\n+   * compilationUnit is meant to be consumed by other gradle plugin.\n    * The apollo plugin will add the {@link CompilationUnit} as it creates them\n    */\n-  internal val compilationUnits = project.container(CompilationUnit::class.java)\n+  internal val compilationUnit = project.container(CompilationUnit::class.java)", "originalCommit": "c20564d44a27e37888eee8c1470ba41d33e86dd9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzNjk4MA==", "url": "https://github.com/apollographql/apollo-android/pull/1951#discussion_r371536980", "bodyText": "+1", "author": "martinbonnin", "createdAt": "2020-01-27T23:19:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ4MDgyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUzODE0MA==", "url": "https://github.com/apollographql/apollo-android/pull/1951#discussion_r371538140", "bodyText": "What about keeping the old one and doing:\n fun onCompilationUnits(action: Action<CompilationUnit>) {\n    throw Exception(\"please use onCompilationUnit {} instead\")  \n}\n\nAnd then we remove that old version in a couple of months ?  This API is new from 1.3.0 so presumably not that many people are using it but that'll make a nicer deprecation path for the users that use it.", "author": "martinbonnin", "createdAt": "2020-01-27T23:22:38Z", "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/internal/DefaultApolloExtension.kt", "diffHunk": "@@ -15,13 +15,13 @@ open class DefaultApolloExtension(val project: Project)\n   val services = mutableListOf<DefaultService>()\n \n   /**\n-   * compilationUnits is meant to be consumed by other gradle plugin.\n+   * compilationUnit is meant to be consumed by other gradle plugin.\n    * The apollo plugin will add the {@link CompilationUnit} as it creates them\n    */\n-  internal val compilationUnits = project.container(CompilationUnit::class.java)\n+  internal val compilationUnit = project.container(CompilationUnit::class.java)\n \n-  override fun onCompilationUnits(action: Action<CompilationUnit>) {\n-    compilationUnits.all(action)", "originalCommit": "c20564d44a27e37888eee8c1470ba41d33e86dd9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cf9173377c9a9826375b877740f6236201f267b9", "url": "https://github.com/apollographql/apollo-android/commit/cf9173377c9a9826375b877740f6236201f267b9", "message": "Keep onCompilationUnits for easier migration", "committedDate": "2020-01-28T09:21:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY4NjE4NQ==", "url": "https://github.com/apollographql/apollo-android/pull/1951#discussion_r371686185", "bodyText": "Nice \ud83d\udc4d", "author": "martinbonnin", "createdAt": "2020-01-28T09:22:54Z", "path": "apollo-gradle-plugin/src/main/kotlin/com/apollographql/apollo/gradle/api/ApolloExtension.kt", "diffHunk": "@@ -39,6 +39,14 @@ interface ApolloExtension: CompilerParams {\n    */\n   fun onCompilationUnit(action: Action<CompilationUnit>)\n \n+  /**\n+   * @Deprecated\n+   *\n+   * Please see [onCompilationUnit]\n+   */\n+  @Deprecated(\"There is a typo. Please use onCompilationUnit instead\", replaceWith = ReplaceWith(\"onCompilationUnit\"))", "originalCommit": "cf9173377c9a9826375b877740f6236201f267b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}