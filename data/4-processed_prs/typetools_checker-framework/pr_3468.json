{"pr_number": 3468, "pr_title": "Add extraArgs argument to commonAssignmentCheck", "pr_createdAt": "2020-07-12T01:48:50Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3468", "timeline": [{"oid": "0cdd72db4d81888d2f58038fb43b1682fe97c8ce", "url": "https://github.com/typetools/checker-framework/commit/0cdd72db4d81888d2f58038fb43b1682fe97c8ce", "message": "Rename files to avoid multiple files of the same name", "committedDate": "2020-07-11T15:53:15Z", "type": "commit"}, {"oid": "9d5c93ae1298762518e7faa0e05d66f2bc609212", "url": "https://github.com/typetools/checker-framework/commit/9d5c93ae1298762518e7faa0e05d66f2bc609212", "message": "Improve types", "committedDate": "2020-07-11T15:54:31Z", "type": "commit"}, {"oid": "ab9fee9daca657f90ffc4c674cb7b6da6f985c5c", "url": "https://github.com/typetools/checker-framework/commit/ab9fee9daca657f90ffc4c674cb7b6da6f985c5c", "message": "Reduce scope of local variables", "committedDate": "2020-07-11T15:54:52Z", "type": "commit"}, {"oid": "6cc08d391cb18f5e698519168d90346fab28cefc", "url": "https://github.com/typetools/checker-framework/commit/6cc08d391cb18f5e698519168d90346fab28cefc", "message": "Tweak comment", "committedDate": "2020-07-11T16:09:35Z", "type": "commit"}, {"oid": "cb3246dcf7bd829e1311bf95fd9a4a9403f1c863", "url": "https://github.com/typetools/checker-framework/commit/cb3246dcf7bd829e1311bf95fd9a4a9403f1c863", "message": "Add extraArgs argument to commonAssignmentCheck", "committedDate": "2020-07-11T16:11:37Z", "type": "commit"}, {"oid": "85c113f068465300b88c5652bfbe34c8f9d55dec", "url": "https://github.com/typetools/checker-framework/commit/85c113f068465300b88c5652bfbe34c8f9d55dec", "message": "Add Javadoc", "committedDate": "2020-07-11T16:19:57Z", "type": "commit"}, {"oid": "c2c612a412b9b5c7018e39023a85c8e4772eddba", "url": "https://github.com/typetools/checker-framework/commit/c2c612a412b9b5c7018e39023a85c8e4772eddba", "message": "Add more extraArgs arguments", "committedDate": "2020-07-11T16:28:59Z", "type": "commit"}, {"oid": "9c1760e0a64f7a17d41dd0f88a65591fd4c14b0e", "url": "https://github.com/typetools/checker-framework/commit/9c1760e0a64f7a17d41dd0f88a65591fd4c14b0e", "message": "Merge ../checker-framework-fork-mernst-branch-refactorings into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-11T16:32:12Z", "type": "commit"}, {"oid": "b9c902dce74297703e61eeb7003e6672d2748e70", "url": "https://github.com/typetools/checker-framework/commit/b9c902dce74297703e61eeb7003e6672d2748e70", "message": "Javadoc fix", "committedDate": "2020-07-11T17:08:40Z", "type": "commit"}, {"oid": "8d11167ee0f4fe9b0f5c954bb440eea67510a551", "url": "https://github.com/typetools/checker-framework/commit/8d11167ee0f4fe9b0f5c954bb440eea67510a551", "message": "Fix Javadoc", "committedDate": "2020-07-11T17:24:48Z", "type": "commit"}, {"oid": "aae793f7d4e1fe2d2efb9aba56582ea332bde881", "url": "https://github.com/typetools/checker-framework/commit/aae793f7d4e1fe2d2efb9aba56582ea332bde881", "message": "Fix Javadoc", "committedDate": "2020-07-11T17:57:52Z", "type": "commit"}, {"oid": "ce455d587b7910efe2584cd5476ce090a0431ecb", "url": "https://github.com/typetools/checker-framework/commit/ce455d587b7910efe2584cd5476ce090a0431ecb", "message": "Add Javadoc", "committedDate": "2020-07-11T19:48:14Z", "type": "commit"}, {"oid": "e6de1e3db3a3df958097dacddb09e12bb39655e5", "url": "https://github.com/typetools/checker-framework/commit/e6de1e3db3a3df958097dacddb09e12bb39655e5", "message": "Fix Javadoc", "committedDate": "2020-07-11T20:52:03Z", "type": "commit"}, {"oid": "fa0dbf44a3d1ae79330adf2174a291be7f2de205", "url": "https://github.com/typetools/checker-framework/commit/fa0dbf44a3d1ae79330adf2174a291be7f2de205", "message": "More refactorings", "committedDate": "2020-07-11T21:32:43Z", "type": "commit"}, {"oid": "bee42462f94fb640d9c15fa8dfcf1dce59576025", "url": "https://github.com/typetools/checker-framework/commit/bee42462f94fb640d9c15fa8dfcf1dce59576025", "message": "Use the extra arguments more consistently", "committedDate": "2020-07-11T21:33:08Z", "type": "commit"}, {"oid": "76a1928e8ab2b94bd679d4d089e9463e8c691884", "url": "https://github.com/typetools/checker-framework/commit/76a1928e8ab2b94bd679d4d089e9463e8c691884", "message": "Merge ../checker-framework-fork-mernst-branch-refactorings into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-11T21:36:26Z", "type": "commit"}, {"oid": "402b93b50d2e69581e778c0400abd07c945150b5", "url": "https://github.com/typetools/checker-framework/commit/402b93b50d2e69581e778c0400abd07c945150b5", "message": "Add import statement", "committedDate": "2020-07-11T21:36:57Z", "type": "commit"}, {"oid": "e523536d13bd8603416fcec8d9a1bac2702de8c3", "url": "https://github.com/typetools/checker-framework/commit/e523536d13bd8603416fcec8d9a1bac2702de8c3", "message": "Fix Javadoc", "committedDate": "2020-07-11T22:22:25Z", "type": "commit"}, {"oid": "72018f1d35be1d17201d29c737c59ded9f885681", "url": "https://github.com/typetools/checker-framework/commit/72018f1d35be1d17201d29c737c59ded9f885681", "message": "Merge ../checker-framework-fork-mernst-branch-refactorings into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-11T22:24:40Z", "type": "commit"}, {"oid": "b8b83e254a8c6562bc6909c5009ee7700c5bd0a2", "url": "https://github.com/typetools/checker-framework/commit/b8b83e254a8c6562bc6909c5009ee7700c5bd0a2", "message": "Tweak Javadoc", "committedDate": "2020-07-11T23:33:44Z", "type": "commit"}, {"oid": "3b61bb6f78e6a1e4f5a94c5f23bf6b3bd59691f4", "url": "https://github.com/typetools/checker-framework/commit/3b61bb6f78e6a1e4f5a94c5f23bf6b3bd59691f4", "message": "Remove Javadoc for non-existent formal parameter", "committedDate": "2020-07-11T23:36:56Z", "type": "commit"}, {"oid": "adc9bd903a84210c7361eef057f2cb5719b721e6", "url": "https://github.com/typetools/checker-framework/commit/adc9bd903a84210c7361eef057f2cb5719b721e6", "message": "Fix incorrect change", "committedDate": "2020-07-11T23:38:10Z", "type": "commit"}, {"oid": "cad652f814b1de08821050929d016d35f283c3d5", "url": "https://github.com/typetools/checker-framework/commit/cad652f814b1de08821050929d016d35f283c3d5", "message": "Reuse a computation", "committedDate": "2020-07-12T01:47:04Z", "type": "commit"}, {"oid": "1cc76fa2843887e279e32426c99ba6eea0667d03", "url": "https://github.com/typetools/checker-framework/commit/1cc76fa2843887e279e32426c99ba6eea0667d03", "message": "Merge ../checker-framework-fork-mernst-branch-refactorings into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-12T01:49:01Z", "type": "commit"}, {"oid": "b8580eceebbe29b386c1d17895a46f3a2d2d4984", "url": "https://github.com/typetools/checker-framework/commit/b8580eceebbe29b386c1d17895a46f3a2d2d4984", "message": "Typo fix", "committedDate": "2020-07-12T02:46:04Z", "type": "commit"}, {"oid": "70d29e31ab97fe2d30ce960f78ab8e20c6c3d36e", "url": "https://github.com/typetools/checker-framework/commit/70d29e31ab97fe2d30ce960f78ab8e20c6c3d36e", "message": "Merge ../checker-framework-fork-mernst-branch-refactorings into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-12T02:46:21Z", "type": "commit"}, {"oid": "b6b92d0c20f8262a1e140de11e301f98248cf38e", "url": "https://github.com/typetools/checker-framework/commit/b6b92d0c20f8262a1e140de11e301f98248cf38e", "message": "Merge ../checker-framework-branch-master into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-12T04:19:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc1OTQ0NQ==", "url": "https://github.com/typetools/checker-framework/pull/3468#discussion_r453759445", "bodyText": "This is an unexpected place to put a utility method.  I think org.checkerframework.javacutil.SystemUtil would be a better location.", "author": "smillst", "createdAt": "2020-07-13T16:02:56Z", "path": "framework/src/main/java/org/checkerframework/framework/source/SourceChecker.java", "diffHunk": "@@ -942,6 +942,21 @@ public void reportWarning(\n         report(source, Kind.MANDATORY_WARNING, messageKey, args);\n     }\n \n+    /**\n+     * Given an array and two values, creates an array with all the values.\n+     *\n+     * @param array the array to extend\n+     * @param elt1 the first element to add\n+     * @param elt2 the second element to add\n+     * @return a copy of {@code array}, with two elements added\n+     */\n+    public static Object[] arrayPlusTwoElements(Object[] array, Object elt1, Object elt2) {", "originalCommit": "b6b92d0c20f8262a1e140de11e301f98248cf38e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc2MDA3Nw==", "url": "https://github.com/typetools/checker-framework/pull/3468#discussion_r453760077", "bodyText": "The Javadoc should say the two values are at the end of the new array.", "author": "smillst", "createdAt": "2020-07-13T16:03:58Z", "path": "framework/src/main/java/org/checkerframework/framework/source/SourceChecker.java", "diffHunk": "@@ -942,6 +942,21 @@ public void reportWarning(\n         report(source, Kind.MANDATORY_WARNING, messageKey, args);\n     }\n \n+    /**\n+     * Given an array and two values, creates an array with all the values.", "originalCommit": "b6b92d0c20f8262a1e140de11e301f98248cf38e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6c6a1867f7c0778d85ed28657635b9b0e16ab734", "url": "https://github.com/typetools/checker-framework/commit/6c6a1867f7c0778d85ed28657635b9b0e16ab734", "message": "Merge ../checker-framework-branch-master into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-13T23:17:13Z", "type": "commit"}, {"oid": "a84e442f156fa99bc80f5ed8f80009b002cbf8d7", "url": "https://github.com/typetools/checker-framework/commit/a84e442f156fa99bc80f5ed8f80009b002cbf8d7", "message": "Update changelog", "committedDate": "2020-07-13T23:23:11Z", "type": "commit"}, {"oid": "21c26eb8aff7562a3f3b330065336c08caa341ed", "url": "https://github.com/typetools/checker-framework/commit/21c26eb8aff7562a3f3b330065336c08caa341ed", "message": "Move utility method to a different class", "committedDate": "2020-07-13T23:25:20Z", "type": "commit"}, {"oid": "71beb70b8b03f9075533d2b5cd5b3f7e1e69a5f1", "url": "https://github.com/typetools/checker-framework/commit/71beb70b8b03f9075533d2b5cd5b3f7e1e69a5f1", "message": "Suppress nullness warnings relating to partial array initialization", "committedDate": "2020-07-14T00:41:19Z", "type": "commit"}, {"oid": "8465ef243f61edc5a7193756ee50ef46f12a4b12", "url": "https://github.com/typetools/checker-framework/commit/8465ef243f61edc5a7193756ee50ef46f12a4b12", "message": "Merge ../checker-framework-branch-master into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-14T00:42:00Z", "type": "commit"}, {"oid": "4fd8bc0459c525357aef31498d9a504ff89f99fe", "url": "https://github.com/typetools/checker-framework/commit/4fd8bc0459c525357aef31498d9a504ff89f99fe", "message": "Merge ../checker-framework-branch-master into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-14T14:09:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY5MzY3Nw==", "url": "https://github.com/typetools/checker-framework/pull/3468#discussion_r456693677", "bodyText": "This would be more general with a method type parameter <T> instead of Object.", "author": "wmdietl", "createdAt": "2020-07-17T22:05:39Z", "path": "javacutil/src/main/java/org/checkerframework/javacutil/SystemUtil.java", "diffHunk": "@@ -225,4 +226,21 @@ public static int getJreVersion() {\n         }\n         return javaHome + File.separator + \"lib\" + File.separator + \"tools.jar\";\n     }\n+\n+    /**\n+     * Given an array and two values, creates an array with all the values. The two extra values are\n+     * at the end of the returned array.\n+     *\n+     * @param array the array to extend\n+     * @param elt1 the first element to add\n+     * @param elt2 the second element to add\n+     * @return a copy of {@code array}, with two elements added at the end\n+     */\n+    public static Object[] arrayPlusTwoElements(Object[] array, Object elt1, Object elt2) {", "originalCommit": "4fd8bc0459c525357aef31498d9a504ff89f99fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c5d5343e30f21b459f4e3cd835190a49727934f8", "url": "https://github.com/typetools/checker-framework/commit/c5d5343e30f21b459f4e3cd835190a49727934f8", "message": "Make utility method more general", "committedDate": "2020-07-17T22:50:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjcyMzUwOQ==", "url": "https://github.com/typetools/checker-framework/pull/3468#discussion_r456723509", "bodyText": "Is there a reason to limit this to two elements instead of making it a varargs method?", "author": "wmdietl", "createdAt": "2020-07-18T00:20:36Z", "path": "javacutil/src/main/java/org/checkerframework/javacutil/SystemUtil.java", "diffHunk": "@@ -225,4 +226,22 @@ public static int getJreVersion() {\n         }\n         return javaHome + File.separator + \"lib\" + File.separator + \"tools.jar\";\n     }\n+\n+    /**\n+     * Given an array and two values, creates an array with all the values. The two extra values are\n+     * at the end of the returned array.\n+     *\n+     * @param <T> the type of the array elements\n+     * @param array the array to extend\n+     * @param elt1 the first element to add\n+     * @param elt2 the second element to add\n+     * @return a copy of {@code array}, with two elements added at the end\n+     */\n+    public static <T> T[] arrayPlusTwoElements(T[] array, T elt1, T elt2) {", "originalCommit": "c5d5343e30f21b459f4e3cd835190a49727934f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "adf498bde3450d0600f9b2645c3ab0884d5ed209", "url": "https://github.com/typetools/checker-framework/commit/adf498bde3450d0600f9b2645c3ab0884d5ed209", "message": "Merge ../checker-framework-branch-master into commonAssignmentCheck-extraArgs", "committedDate": "2020-07-20T15:29:53Z", "type": "commit"}, {"oid": "e0fbabb6c9298aebf8c0c75344e60ee09c56c442", "url": "https://github.com/typetools/checker-framework/commit/e0fbabb6c9298aebf8c0c75344e60ee09c56c442", "message": "Make library method more general", "committedDate": "2020-07-20T15:37:53Z", "type": "commit"}, {"oid": "813f729beea7a67f128b29c739217b235ab84930", "url": "https://github.com/typetools/checker-framework/commit/813f729beea7a67f128b29c739217b235ab84930", "message": "Suppress warning", "committedDate": "2020-07-20T15:40:08Z", "type": "commit"}]}