{"pr_number": 3491, "pr_title": "Improve Dataflow Framework manual", "pr_createdAt": "2020-07-22T05:21:55Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3491", "timeline": [{"oid": "8aeae0fb0dc386b525e3d5be6b8186c3404433b4", "url": "https://github.com/typetools/checker-framework/commit/8aeae0fb0dc386b525e3d5be6b8186c3404433b4", "message": "Improve Dataflow Framework manual", "committedDate": "2020-07-22T04:24:19Z", "type": "commit"}, {"oid": "ca1c90f7aa338acba9ada9e8a3c0e78641a71430", "url": "https://github.com/typetools/checker-framework/commit/ca1c90f7aa338acba9ada9e8a3c0e78641a71430", "message": "Undo unnecessary change", "committedDate": "2020-07-22T05:22:31Z", "type": "commit"}, {"oid": "52c6f1615851fa35004672e039cd847b6be4f366", "url": "https://github.com/typetools/checker-framework/commit/52c6f1615851fa35004672e039cd847b6be4f366", "message": "Remove trailing whitespace", "committedDate": "2020-07-22T05:30:24Z", "type": "commit"}, {"oid": "633a06708dd575677ebd90801d21792fcb849dd3", "url": "https://github.com/typetools/checker-framework/commit/633a06708dd575677ebd90801d21792fcb849dd3", "message": "Better diagnostics, and improve shell script style", "committedDate": "2020-07-22T06:15:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU0ODUyMQ==", "url": "https://github.com/typetools/checker-framework/pull/3491#discussion_r462548521", "bodyText": "I'm not sure what the Analysis.stores reference is to. There is no such field or method, also not in ForwardAnalysis(Impl).", "author": "wmdietl", "createdAt": "2020-07-29T19:52:08Z", "path": "dataflow/manual/content.tex", "diffHunk": "@@ -1519,14 +1446,18 @@ \\subsection{Managing Intermediate Results of the Analysis}\n \\end{verbatim}\n \n Every store is associated with a particular point in the control-flow\n-graph, and all stores are managed by the framework. It maintains a\n-single store for every basic block that represents the information\n-available at the beginning of that block.  When dataflow information\n+graph, and all stores are managed by the framework. It saves an explicit store\n+for the start of each basic block (\\code{Analysis.stores}).", "originalCommit": "633a06708dd575677ebd90801d21792fcb849dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU2NjIyMA==", "url": "https://github.com/typetools/checker-framework/pull/3491#discussion_r462566220", "bodyText": "That text was already present.  I'll delete the parenthesis.", "author": "mernst", "createdAt": "2020-07-29T20:24:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU0ODUyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU1Mjg4MQ==", "url": "https://github.com/typetools/checker-framework/pull/3491#discussion_r462552881", "bodyText": "The arguments should be parameters. (I see this was already wrong before.)", "author": "wmdietl", "createdAt": "2020-07-29T20:00:21Z", "path": "dataflow/manual/content.tex", "diffHunk": "@@ -1573,28 +1504,25 @@ \\subsection{Answering Questions}\n \\subsection{Transfer Function}\n \\label{sec:transfer-fnc}\n \n-A transfer function has to provide the following:\n-\\begin{itemize}\n-\\item A method that returns the initial store for a method, given the\n-  list of arguments (as \\code{LocalVariableNode}s) and the\n-  \\code{MethodTree} (useful if the initial store depends on the method\n-  signature, for instance).\n-\n-  \\begin{workinprogress}\n-    Why are the arguments to the method call LocalVariableNodes? Or\n-    should this be parameters? Make clear whether this is about an\n-    invocation of a method or a method declaration.\n-  \\end{workinprogress}\n+A transfer function is an object that has a transfer method for\n+every \\code{Node} type, and also a transfer method for procedure entry.\n \n-\\item A transfer method for every \\code{Node} type that takes a store\n+\\begin{itemize}\n+\\item A transfer method for a \\code{Node} type takes a store\n   and the node, and produces an updated store. This is achieved by\n   implementing the \\code{NodeVisitor<S, S>} interface for the store\n   type \\code{S}.\n \n-These transfer methods also get access to the abstract value of any\n-sub-node of the node \\code n under consideration.  This is not limited\n-to immediate children, but the abstract value for any node contained\n-in \\code n can be queried.\n+  These transfer methods also get access to the abstract value of any\n+  sub-node of the node \\code n under consideration.  This is not limited\n+  to immediate children, but the abstract value for any node contained\n+  in \\code n can be queried.\n+\n+\\item A transfer method for procedure entry returns the initial store, given the\n+  list of arguments (as \\code{LocalVariableNode}s that represent the formal", "originalCommit": "633a06708dd575677ebd90801d21792fcb849dd3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU1NDUwNQ==", "url": "https://github.com/typetools/checker-framework/pull/3491#discussion_r462554505", "bodyText": "Is it worth keeping this at least as comment? It doesn't look like you added a reference.", "author": "wmdietl", "createdAt": "2020-07-29T20:03:25Z", "path": "dataflow/manual/content.tex", "diffHunk": "@@ -1764,17 +1681,13 @@ \\section{Example: Live Variable}\n is a backward transfer function). The transfer function visits assignments to\n update the information of live variables for each node in the stores.\n \n-\\textbf{Example.} An example is shown in \\autoref{lst:LiveSimple} and\n-\\autoref{fig:LiveSimple}.\n+\\textbf{Example.} An example is shown in \\autoref{fig:LiveSimple}.\n \n-\\livevariable{Simple}{Simple sequential program to illustrate live variable.}\n+\\flow{LiveSimple}{.33}{1}{Simple sequential program to illustrate live variable.  Intermediate analysis results are shown.}\n \n \n \\section{Default Analysis}\n \n-\\begin{workinprogress}\n-I feel like there is a missing cross-reference or two to this section.", "originalCommit": "633a06708dd575677ebd90801d21792fcb849dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU5NzE3MQ==", "url": "https://github.com/typetools/checker-framework/pull/3491#discussion_r462597171", "bodyText": "I didn't see anywhere that a cross-reference was missing.  If we notice one in the future, we can add it.", "author": "mernst", "createdAt": "2020-07-29T21:22:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU1NDUwNQ=="}], "type": "inlineReview"}, {"oid": "86c993a33fb586e99cb7d3f9224bda6f649e0d79", "url": "https://github.com/typetools/checker-framework/commit/86c993a33fb586e99cb7d3f9224bda6f649e0d79", "message": "Merge ../checker-framework-fork-mernst into dataflow-manual", "committedDate": "2020-07-29T20:22:24Z", "type": "commit"}, {"oid": "a227553eacad845c965fc470588900e7585c8123", "url": "https://github.com/typetools/checker-framework/commit/a227553eacad845c965fc470588900e7585c8123", "message": "Address code review", "committedDate": "2020-07-29T20:24:40Z", "type": "commit"}]}