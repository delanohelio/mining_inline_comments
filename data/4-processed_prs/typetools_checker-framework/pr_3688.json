{"pr_number": 3688, "pr_title": "Handle widening primitive conversions", "pr_createdAt": "2020-09-24T22:13:09Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3688", "timeline": [{"oid": "13fe95d96c58a31f7b19f9c8b971cb65152c829c", "url": "https://github.com/typetools/checker-framework/commit/13fe95d96c58a31f7b19f9c8b971cb65152c829c", "message": "Move the 3 overrides of commonAssignmentCheck next to one another", "committedDate": "2020-09-24T14:41:57Z", "type": "commit"}, {"oid": "1e868f321e7cb07af0a05dcad2a06889e38065a9", "url": "https://github.com/typetools/checker-framework/commit/1e868f321e7cb07af0a05dcad2a06889e38065a9", "message": "Make capitalization consistent", "committedDate": "2020-09-24T14:43:04Z", "type": "commit"}, {"oid": "194ff1a59bfabc57abe416b2597f4425fc78c0a6", "url": "https://github.com/typetools/checker-framework/commit/194ff1a59bfabc57abe416b2597f4425fc78c0a6", "message": "Refill long lines", "committedDate": "2020-09-24T14:43:27Z", "type": "commit"}, {"oid": "71fa59586cdfde590e279c7b7ac9e84149598e23", "url": "https://github.com/typetools/checker-framework/commit/71fa59586cdfde590e279c7b7ac9e84149598e23", "message": "Merge branch 'master' of github.com:typetools/checker-framework", "committedDate": "2020-09-24T15:00:14Z", "type": "commit"}, {"oid": "2ec70b40a6e0309ba7415fbd566c43e9046f94ec", "url": "https://github.com/typetools/checker-framework/commit/2ec70b40a6e0309ba7415fbd566c43e9046f94ec", "message": "Merge ../checker-framework-branch-master", "committedDate": "2020-09-24T19:28:03Z", "type": "commit"}, {"oid": "79a354ab326f66cad6123f520ebee9c0f76b5856", "url": "https://github.com/typetools/checker-framework/commit/79a354ab326f66cad6123f520ebee9c0f76b5856", "message": "Merge ../checker-framework-branch-master", "committedDate": "2020-09-24T22:05:19Z", "type": "commit"}, {"oid": "d3dc1d8e6de4a431d45bdbe287ff9c3c58b7a3eb", "url": "https://github.com/typetools/checker-framework/commit/d3dc1d8e6de4a431d45bdbe287ff9c3c58b7a3eb", "message": "Handle widening primitive conversions\n\nThe main changes are to add a `@SignedPositiveFromUnsigned` annotation and to add logic related to the widening that Java automatically does at arithmetic operations.\n\nFixes #3668; fixes #3669", "committedDate": "2020-09-24T22:09:03Z", "type": "commit"}, {"oid": "c5efe11a7063be182f016a779cc27e0518e11c55", "url": "https://github.com/typetools/checker-framework/commit/c5efe11a7063be182f016a779cc27e0518e11c55", "message": "Comment tweaks", "committedDate": "2020-09-24T22:20:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI5NjcxNg==", "url": "https://github.com/typetools/checker-framework/pull/3688#discussion_r495296716", "bodyText": "This comment doesn't make sense.  The code here is setting the annotations of the TypeCastTree not the subexpression, so it can be moved to PropagationTreeAnnotator.  (Though this code is replacing the annotations on TypeCastTree which would change the annotation even if it was explicitly written. I'm not sure if that is desired or not.). Also, I'm not sure what work the last sentence is referring to.", "author": "smillst", "createdAt": "2020-09-25T22:52:34Z", "path": "checker/src/main/java/org/checkerframework/checker/signedness/SignednessAnnotatedTypeFactory.java", "diffHunk": "@@ -230,6 +260,24 @@ public Void visitCompoundAssignment(CompoundAssignmentTree tree, AnnotatedTypeMi\n             annotateBooleanAsUnknownSignedness(type);\n             return null;\n         }\n+\n+        // This cannot appear in PropagationTreeAnnotator because it sets the annotations of a", "originalCommit": "c5efe11a7063be182f016a779cc27e0518e11c55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4762d78db92f651ec8e6e4655f3de1441259b8e0", "url": "https://github.com/typetools/checker-framework/commit/4762d78db92f651ec8e6e4655f3de1441259b8e0", "message": "Merge remote-tracking branch 'origin/master' into signedness-widening", "committedDate": "2020-09-25T22:58:03Z", "type": "commit"}, {"oid": "2ea1903502ec72184e651d5d1bce7e1daa7076b1", "url": "https://github.com/typetools/checker-framework/commit/2ea1903502ec72184e651d5d1bce7e1daa7076b1", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-26T00:35:47Z", "type": "commit"}, {"oid": "f2be0902a78ed662d9d0342b8d82c2677ce2db31", "url": "https://github.com/typetools/checker-framework/commit/f2be0902a78ed662d9d0342b8d82c2677ce2db31", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-28T01:48:19Z", "type": "commit"}, {"oid": "601efb6b327c856e7b0d069f75a67f9fbb152713", "url": "https://github.com/typetools/checker-framework/commit/601efb6b327c856e7b0d069f75a67f9fbb152713", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-28T02:21:24Z", "type": "commit"}, {"oid": "b98de25253d0121419c8fc502e34dfd5e024b767", "url": "https://github.com/typetools/checker-framework/commit/b98de25253d0121419c8fc502e34dfd5e024b767", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-29T00:52:14Z", "type": "commit"}, {"oid": "6419649a88dbf82028a4be6c67346116757ca3e7", "url": "https://github.com/typetools/checker-framework/commit/6419649a88dbf82028a4be6c67346116757ca3e7", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-29T15:40:36Z", "type": "commit"}, {"oid": "02f433ec1b9edd18c94a9ca100d1a8350f233175", "url": "https://github.com/typetools/checker-framework/commit/02f433ec1b9edd18c94a9ca100d1a8350f233175", "message": "Move logic to PropagationTreeAnnotator", "committedDate": "2020-09-29T17:42:39Z", "type": "commit"}, {"oid": "280f055388602027c144faf3951ea5c3f083037c", "url": "https://github.com/typetools/checker-framework/commit/280f055388602027c144faf3951ea5c3f083037c", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-29T17:46:07Z", "type": "commit"}, {"oid": "4d498ebb8513ceb7e743bb0229009797411ec5a4", "url": "https://github.com/typetools/checker-framework/commit/4d498ebb8513ceb7e743bb0229009797411ec5a4", "message": "Merge ../checker-framework-fork-mernst-branch-signedness-widening into signedness-widening-move-logic-to-propagationtreeannotator", "committedDate": "2020-09-29T17:47:51Z", "type": "commit"}, {"oid": "b966d2d722ba6acb2321f7722bfc2b4e511316f4", "url": "https://github.com/typetools/checker-framework/commit/b966d2d722ba6acb2321f7722bfc2b4e511316f4", "message": "Move logic from SignednessVisitor to SignednessAnnotatedTypeFactory", "committedDate": "2020-09-29T19:30:27Z", "type": "commit"}, {"oid": "cc0394e037a2c8a53a573d3f29a336f0f828e496", "url": "https://github.com/typetools/checker-framework/commit/cc0394e037a2c8a53a573d3f29a336f0f828e496", "message": "Comment tweaks", "committedDate": "2020-09-29T19:35:47Z", "type": "commit"}, {"oid": "337c4b50721dc444f477de9a62bd2a62d1d761c1", "url": "https://github.com/typetools/checker-framework/commit/337c4b50721dc444f477de9a62bd2a62d1d761c1", "message": "Add Javadoc", "committedDate": "2020-09-29T19:50:46Z", "type": "commit"}, {"oid": "4d9cc799c496c7d1b247cca68e09965aa8d8e733", "url": "https://github.com/typetools/checker-framework/commit/4d9cc799c496c7d1b247cca68e09965aa8d8e733", "message": "Don't advertise a change that will change again later", "committedDate": "2020-09-29T20:21:55Z", "type": "commit"}, {"oid": "1453ec9b6405b56eff4ea0027cd2474b7cba90a4", "url": "https://github.com/typetools/checker-framework/commit/1453ec9b6405b56eff4ea0027cd2474b7cba90a4", "message": "Rename a method", "committedDate": "2020-09-30T00:32:55Z", "type": "commit"}, {"oid": "2e6afef1470b886865ec1d314c1e6c8d4a5e55ca", "url": "https://github.com/typetools/checker-framework/commit/2e6afef1470b886865ec1d314c1e6c8d4a5e55ca", "message": "Merge ../checker-framework-branch-master into signedness-widening", "committedDate": "2020-09-30T00:35:47Z", "type": "commit"}]}