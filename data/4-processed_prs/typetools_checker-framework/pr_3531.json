{"pr_number": 3531, "pr_title": "Change block labels from long to Object; this makes formatting more flexible", "pr_createdAt": "2020-07-30T17:21:05Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3531", "timeline": [{"oid": "2f7b0eb0012b72c39bff53ba0e226f3b23f27208", "url": "https://github.com/typetools/checker-framework/commit/2f7b0eb0012b72c39bff53ba0e226f3b23f27208", "message": "Change block labels from long to Object; this makes formatting more flexible", "committedDate": "2020-07-30T17:19:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0OTIzMA==", "url": "https://github.com/typetools/checker-framework/pull/3531#discussion_r463349230", "bodyText": "Here and below, now that the input can be an arbitrary object, we should call format on them to make sure they are escaped properly for output.", "author": "wmdietl", "createdAt": "2020-07-31T00:52:15Z", "path": "dataflow/src/main/java/org/checkerframework/dataflow/cfg/DOTCFGVisualizer.java", "diffHunk": "@@ -124,7 +124,7 @@ public String visualizeNodes(\n     }\n \n     @Override\n-    protected String addEdge(long sId, long eId, String flowRule) {\n+    protected String addEdge(Object sId, Object eId, String flowRule) {\n         return \"    \" + sId + \" -> \" + eId + \" [label=\\\"\" + flowRule + \"\\\"];\" + lineSeparator;", "originalCommit": "2f7b0eb0012b72c39bff53ba0e226f3b23f27208", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM5NzI1OQ==", "url": "https://github.com/typetools/checker-framework/pull/3531#discussion_r463397259", "bodyText": "Can you clarify?  Currently, toString() is being called implicitly on sId and eId.  Are you suggesting that String.format should be used instead of String concatenation +?  I don't understand the problem that would prevent, so I must be missing something.", "author": "mernst", "createdAt": "2020-07-31T04:20:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0OTIzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzgwNDE1Ng==", "url": "https://github.com/typetools/checker-framework/pull/3531#discussion_r463804156", "bodyText": "Sorry for not being explicit. I meant AbstractCFGVisualizer.format which takes an Object and turns it into a String usable for the corresponding format. This is important for DOT, where \" needs to be escaped.", "author": "wmdietl", "createdAt": "2020-07-31T19:56:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0OTIzMA=="}], "type": "inlineReview"}, {"oid": "f24b9b39cf52843bbc2d3834cafe9afedde62a33", "url": "https://github.com/typetools/checker-framework/commit/f24b9b39cf52843bbc2d3834cafe9afedde62a33", "message": "Merge ../checker-framework-branch-master into addEdge-string", "committedDate": "2020-07-31T20:04:04Z", "type": "commit"}, {"oid": "efa94f55e1962d58cd2e4995953436012a088155", "url": "https://github.com/typetools/checker-framework/commit/efa94f55e1962d58cd2e4995953436012a088155", "message": "Merge ../checker-framework-branch-master into addEdge-string", "committedDate": "2020-07-31T20:04:37Z", "type": "commit"}, {"oid": "234710090f33deb40955ed89900882573b1bcc10", "url": "https://github.com/typetools/checker-framework/commit/234710090f33deb40955ed89900882573b1bcc10", "message": "Call format()", "committedDate": "2020-07-31T20:05:40Z", "type": "commit"}]}