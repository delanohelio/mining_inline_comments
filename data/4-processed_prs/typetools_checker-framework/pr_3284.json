{"pr_number": 3284, "pr_title": "Merge minimizeJdk with copyAnnotatedJdkFiles so that it only runs when needed.", "pr_createdAt": "2020-05-01T20:30:21Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3284", "timeline": [{"oid": "6bf66fe3cef7ae0c1a1e8f357e92b979bb8c113b", "url": "https://github.com/typetools/checker-framework/commit/6bf66fe3cef7ae0c1a1e8f357e92b979bb8c113b", "message": "Only run minimizeJdk when needed.", "committedDate": "2020-05-01T20:29:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc0Mjc1MQ==", "url": "https://github.com/typetools/checker-framework/pull/3284#discussion_r418742751", "bodyText": "Make sure this directory isn't in checker.jar", "author": "smillst", "createdAt": "2020-05-01T21:19:38Z", "path": "checker/build.gradle", "diffHunk": "@@ -58,8 +58,12 @@ task cloneTypetoolsJdk() {\n }\n \n task copyAnnotatedJdkFiles(dependsOn: cloneTypetoolsJdk, group: 'Build') {\n+    // Make two copies of the annotated JDK. One to minimize and one to use in the up to date\n+    // check of task minimizeJdk. See minimizeJdk for more details.\n     def inputDir = \"${jdkHome}/src\"\n-    def outputDir = \"${buildDir}/generated-resources/annotated-jdk/\"\n+    def outputDir = \"${buildDir}/generated-resources/not-minimized-annotated-jdk/\"", "originalCommit": "6bf66fe3cef7ae0c1a1e8f357e92b979bb8c113b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "935a0e09dc76edf75c990be6abb397f7022c317c", "url": "https://github.com/typetools/checker-framework/commit/935a0e09dc76edf75c990be6abb397f7022c317c", "message": "Merge branch 'master' into minimizeJdk\n\n# Conflicts:\n#\tchecker/build.gradle", "committedDate": "2020-05-03T23:06:39Z", "type": "commit"}, {"oid": "95b8a68ce6285de9ccac0b2fad1b782b818d7311", "url": "https://github.com/typetools/checker-framework/commit/95b8a68ce6285de9ccac0b2fad1b782b818d7311", "message": "Adapt to upstream change.", "committedDate": "2020-05-03T23:11:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1MjM2Mw==", "url": "https://github.com/typetools/checker-framework/pull/3284#discussion_r419752363", "bodyText": "Try creating an empty file instead of a copy", "author": "smillst", "createdAt": "2020-05-04T21:54:42Z", "path": "checker/build.gradle", "diffHunk": "@@ -50,8 +50,12 @@ task cloneTypetoolsJdk() {\n }\n \n task copyAnnotatedJdkFiles(dependsOn: cloneTypetoolsJdk, group: 'Build') {\n+    // Make two copies of the annotated JDK. One to minimize and one to use in the up to date", "originalCommit": "95b8a68ce6285de9ccac0b2fad1b782b818d7311", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "62a1a45c8af9e392c322dd01e3482acb2d91d4de", "url": "https://github.com/typetools/checker-framework/commit/62a1a45c8af9e392c322dd01e3482acb2d91d4de", "message": "Correction.", "committedDate": "2020-05-10T18:18:35Z", "type": "commit"}]}