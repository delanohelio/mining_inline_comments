{"pr_number": 4937, "pr_title": "Issue #4936 response buffer corruption", "pr_createdAt": "2020-06-03T16:18:09Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/4937", "timeline": [{"oid": "33153b9a752b96cac6a29efdbd7151989af9691e", "url": "https://github.com/eclipse/jetty.project/commit/33153b9a752b96cac6a29efdbd7151989af9691e", "message": "Issue #4936 - Adding LargeHeaderTest to replicate issue\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-06-03T15:07:56Z", "type": "commit"}, {"oid": "9a5dd78004ed0151dc1c4277007d065b6b3e6f55", "url": "https://github.com/eclipse/jetty.project/commit/9a5dd78004ed0151dc1c4277007d065b6b3e6f55", "message": "Issue #4936 - Updating LargeHeaderTest to use ServerConnector\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-06-03T15:21:10Z", "type": "commit"}, {"oid": "c9e3e0dc14ea2cd41220704f082be4166d00fecc", "url": "https://github.com/eclipse/jetty.project/commit/c9e3e0dc14ea2cd41220704f082be4166d00fecc", "message": "Issue #4936 - Fail LargeHeaderTest if client detects issues.\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-06-03T16:00:38Z", "type": "commit"}, {"oid": "11c4ca50d38a80e894132baae8fde0b81e44b8e9", "url": "https://github.com/eclipse/jetty.project/commit/11c4ca50d38a80e894132baae8fde0b81e44b8e9", "message": "Issue #4936 large response header buffer corruption\n\nIf the response buffer is too large, the header buffer was released\nbut not nulled, then an exception thrown, which again released the\nnot nulled buffer.  The buffer thus ends up in the buffer pool twice!\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-06-03T16:13:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcwNTc5OA==", "url": "https://github.com/eclipse/jetty.project/pull/4937#discussion_r434705798", "bodyText": "Is this comment no longer relevant as we moved the chunk release?", "author": "joakime", "createdAt": "2020-06-03T16:38:39Z", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/HttpConnection.java", "diffHunk": "@@ -444,9 +443,6 @@ else if (_parser.inContentState() && _generator.isPersistent())\n \n         // Not in a race here with onFillable, because it has given up control before calling handle.\n         // in a slight race with #completed, but not sure what to do with that anyway.", "originalCommit": "11c4ca50d38a80e894132baae8fde0b81e44b8e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgwNzg3OA==", "url": "https://github.com/eclipse/jetty.project/pull/4937#discussion_r434807878", "bodyText": "It is still kind of relevant, but wrong because method names have changed.  I'll remove because it's a negative anyway.", "author": "gregw", "createdAt": "2020-06-03T19:37:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcwNTc5OA=="}], "type": "inlineReview"}, {"oid": "f420828fcf3fb46537ac14787074b96795a4c505", "url": "https://github.com/eclipse/jetty.project/commit/f420828fcf3fb46537ac14787074b96795a4c505", "message": "Issue #4936 large response header buffer corruption\n\nremoved old comment\n\nSigned-off-by: Greg Wilkins <gregw@webtide.com>", "committedDate": "2020-06-03T19:37:00Z", "type": "commit"}]}