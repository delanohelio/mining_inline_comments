{"pr_number": 4686, "pr_title": "Issue #4685 - jetty-slf4j-impl not a compile/runtime dependency.", "pr_createdAt": "2020-03-19T22:49:33Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/4686", "timeline": [{"oid": "a16abe16935fcfda4125dbd1c28b4f3344567dea", "url": "https://github.com/eclipse/jetty.project/commit/a16abe16935fcfda4125dbd1c28b4f3344567dea", "message": "Issue #4685 - jetty-slf4j-impl not a compile/runtime dependency.\n\n+ Mark as a test dependency\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-19T22:46:41Z", "type": "commit"}, {"oid": "874ae80ba43086d663303860dc13efb9e0b5c984", "url": "https://github.com/eclipse/jetty.project/commit/874ae80ba43086d663303860dc13efb9e0b5c984", "message": "Issue #4685 - jetty-slf4j-impl not a compile/runtime dependency.\n\n+ Mark as a test dependency\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-19T23:49:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ2MDYwOA==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395460608", "bodyText": "why provided here?", "author": "olamy", "createdAt": "2020-03-20T06:50:25Z", "path": "jetty-http-spi/pom.xml", "diffHunk": "@@ -35,6 +35,16 @@\n       <version>${project.version}</version>\n       <scope>provided</scope>\n     </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+      <scope>provided</scope>", "originalCommit": "874ae80ba43086d663303860dc13efb9e0b5c984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1NDIzNQ==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395554235", "bodyText": "Ditto", "author": "sbordet", "createdAt": "2020-03-20T10:39:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ2MDYwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MDA3Mg==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395660072", "bodyText": "Historically, there's been no hard dependencies in this project.\nSee for yourself, there's no compile/runtime dependencies.", "author": "joakime", "createdAt": "2020-03-20T14:08:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ2MDYwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MTU2NA==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395661564", "bodyText": "@joakime if there is a test failure and I want to debug it, why should I change the POM? I would just have scope=test like everywhere else.", "author": "sbordet", "createdAt": "2020-03-20T14:10:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ2MDYwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY5OTQyNA==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395699424", "bodyText": "If there is a test failure and you want to debug it, don't change the pom.\nOn maven slf4j-api + jetty-slf4j-impl + jul-to-slf4j are all included in this project.\nIn your IDE slf4j-api + jetty-slf4j-impl + jul-to-slf4j  are all included in this project.\nIt's just not included when you use/depend on the jetty-http-spi artifact via maven, and like all of the other dependencies in jetty-http-spi, nothing is included, intentionally.", "author": "joakime", "createdAt": "2020-03-20T15:07:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ2MDYwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1NDA5NA==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395554094", "bodyText": "I'm fine this the change above, but below jetty-slf4j-impl is both provided and optional.\nI think it should be like elsewhere, in scope test if we use it in tests, or otherwise not even declared.", "author": "sbordet", "createdAt": "2020-03-20T10:38:48Z", "path": "jetty-jmx/pom.xml", "diffHunk": "@@ -42,6 +42,10 @@\n       <artifactId>jetty-util</artifactId>\n       <version>${project.version}</version>\n     </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+    </dependency>", "originalCommit": "874ae80ba43086d663303860dc13efb9e0b5c984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MDc5Mw==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395660793", "bodyText": "Fixed", "author": "joakime", "createdAt": "2020-03-20T14:09:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1NDA5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1NzA0NQ==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395557045", "bodyText": "Not here, but below jetty-slf4j-impl should have <scope>test</scope> like everywhere else.", "author": "sbordet", "createdAt": "2020-03-20T10:45:11Z", "path": "jetty-websocket/websocket-javax-tests/pom.xml", "diffHunk": "@@ -15,6 +15,10 @@\n   </properties>\n \n   <dependencies>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+    </dependency>", "originalCommit": "874ae80ba43086d663303860dc13efb9e0b5c984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MjE0NQ==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395662145", "bodyText": "Adjusted top level dependencyManagement for jetty-slf4j-impl to be <scope>test</scope> instead.", "author": "joakime", "createdAt": "2020-03-20T14:11:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1NzA0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1ODUyOQ==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395558529", "bodyText": "Both should have scope=test.", "author": "sbordet", "createdAt": "2020-03-20T10:48:27Z", "path": "tests/test-quickstart/pom.xml", "diffHunk": "@@ -102,7 +102,14 @@\n       <groupId>org.eclipse.jetty.toolchain</groupId>\n       <artifactId>jetty-test-helper</artifactId>\n     </dependency>\n-\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.eclipse.jetty</groupId>\n+      <artifactId>jetty-slf4j-impl</artifactId>\n+    </dependency>", "originalCommit": "874ae80ba43086d663303860dc13efb9e0b5c984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MTgyOQ==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395661829", "bodyText": "test-quickstart has no test scoped dependencies currently, despite it consisting of 100% src/test/java.\nguess I'll make all of it <scope>test</scope> then.", "author": "joakime", "createdAt": "2020-03-20T14:11:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1ODUyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1OTAxMg==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395559012", "bodyText": "Must have scope=test", "author": "sbordet", "createdAt": "2020-03-20T10:49:30Z", "path": "tests/test-sessions/test-sessions-common/pom.xml", "diffHunk": "@@ -29,10 +29,13 @@\n       <artifactId>jetty-client</artifactId>\n       <version>${project.version}</version>\n     </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-api</artifactId>\n+    </dependency>\n     <dependency>\n       <groupId>org.eclipse.jetty</groupId>\n       <artifactId>jetty-slf4j-impl</artifactId>", "originalCommit": "874ae80ba43086d663303860dc13efb9e0b5c984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY5MDYwMQ==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395690601", "bodyText": "I cleaned up all of the /tests/test-sessions/test-*-sessions/ projects.\nImproved the logging on infinispan and hazelcast testing in the process too.", "author": "joakime", "createdAt": "2020-03-20T14:54:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1OTAxMg=="}], "type": "inlineReview"}, {"oid": "2c600f2b6880b7e6b86ef73d16bff4d7da5ff6b9", "url": "https://github.com/eclipse/jetty.project/commit/2c600f2b6880b7e6b86ef73d16bff4d7da5ff6b9", "message": "Issue #4685 - Mark jetty-slf4j-impl as test scope by default\n\n+ Update logging in test-hazelcast-sessions\n+ Update logging in test-infinispan-sessions\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T14:55:15Z", "type": "commit"}, {"oid": "44d2171986c406dd61a6f27b91abf40caea09a71", "url": "https://github.com/eclipse/jetty.project/commit/44d2171986c406dd61a6f27b91abf40caea09a71", "message": "Issue #4685 - jetty-http-spi logging for both jetty and jul\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T15:05:32Z", "type": "commit"}, {"oid": "9492a5379ccacf989802de32310abc5810c6e0db", "url": "https://github.com/eclipse/jetty.project/commit/9492a5379ccacf989802de32310abc5810c6e0db", "message": "Issue #4685 - eliminate <version> in jetty-slf4j-impl\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T15:42:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTcyNjMyMA==", "url": "https://github.com/eclipse/jetty.project/pull/4686#discussion_r395726320", "bodyText": "This is a comment on jetty-slf4j-impl.", "author": "joakime", "createdAt": "2020-03-20T15:47:25Z", "path": "jetty-websocket/websocket-javax-tests/pom.xml", "diffHunk": "@@ -37,7 +41,6 @@\n     <dependency>\n       <groupId>org.eclipse.jetty</groupId>\n       <artifactId>jetty-slf4j-impl</artifactId>", "originalCommit": "9492a5379ccacf989802de32310abc5810c6e0db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "99f1f8b89724e244d02a4dadb337720b1bd30ddb", "url": "https://github.com/eclipse/jetty.project/commit/99f1f8b89724e244d02a4dadb337720b1bd30ddb", "message": "Issue #4685 - Cleanup from review\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T16:07:25Z", "type": "commit"}, {"oid": "43419802b7f90fe0e2cb3c0b854b91351c277d29", "url": "https://github.com/eclipse/jetty.project/commit/43419802b7f90fe0e2cb3c0b854b91351c277d29", "message": "Issue #4685 - Declare <scope> for jetty-slf4j-impl everywhere\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T16:12:08Z", "type": "commit"}, {"oid": "891aaa4ca7655a40a7ce2abbb13fdc00c9a114f7", "url": "https://github.com/eclipse/jetty.project/commit/891aaa4ca7655a40a7ce2abbb13fdc00c9a114f7", "message": "Issue #4685 - Removing exclusion on jetty-slf4j-impl\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T16:23:53Z", "type": "commit"}, {"oid": "8456fcd03940f3b17e8aec204fabb8db6f2e93ea", "url": "https://github.com/eclipse/jetty.project/commit/8456fcd03940f3b17e8aec204fabb8db6f2e93ea", "message": "Issue #4685 - Adding jetty-slf4j-impl to test wars WEB-INF/lib/\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-03-20T16:24:15Z", "type": "commit"}]}