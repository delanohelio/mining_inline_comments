{"pr_number": 5231, "pr_title": "h2s spec maven plugin 1.0.0 with h2spec 2.6.0", "pr_createdAt": "2020-09-03T10:32:57Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/5231", "timeline": [{"oid": "ce3093e8bbcc2673059950b6a9c52e23d1014186", "url": "https://github.com/eclipse/jetty.project/commit/ce3093e8bbcc2673059950b6a9c52e23d1014186", "message": "use our fork of h2spec-maven-plugin and upgrade version\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-02T21:02:58Z", "type": "commit"}, {"oid": "6b68e0a091aee345b4d526c2b94526d390debf81", "url": "https://github.com/eclipse/jetty.project/commit/6b68e0a091aee345b4d526c2b94526d390debf81", "message": "add a profile to run spec server\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-02T21:02:58Z", "type": "commit"}, {"oid": "277591849706a475ef28216eccf027aead08ea70", "url": "https://github.com/eclipse/jetty.project/commit/277591849706a475ef28216eccf027aead08ea70", "message": "use h2spec plugin new version\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-02T21:02:58Z", "type": "commit"}, {"oid": "39efaa13dea3732fec037e6f5d9c74145cad6007", "url": "https://github.com/eclipse/jetty.project/commit/39efaa13dea3732fec037e6f5d9c74145cad6007", "message": "version h2spec 1.0.0\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-02T21:02:58Z", "type": "commit"}, {"oid": "1e9a2a1cf93e81da7ed2401b65124bf1d87ef703", "url": "https://github.com/eclipse/jetty.project/commit/1e9a2a1cf93e81da7ed2401b65124bf1d87ef703", "message": "exclude specs we know not working\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-02T21:02:58Z", "type": "commit"}, {"oid": "18cf084ce5f1a4833bbc72a9911bd54ecb398c71", "url": "https://github.com/eclipse/jetty.project/commit/18cf084ce5f1a4833bbc72a9911bd54ecb398c71", "message": "use our own package name\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-02T21:02:58Z", "type": "commit"}, {"oid": "70aca6bb58a5400efdb07b70f084a570008398bc", "url": "https://github.com/eclipse/jetty.project/commit/70aca6bb58a5400efdb07b70f084a570008398bc", "message": "test no exclusion\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-03T04:05:03Z", "type": "commit"}, {"oid": "6a47ce9c522120c8bd82ff89d7dfa1f486972b1a", "url": "https://github.com/eclipse/jetty.project/commit/6a47ce9c522120c8bd82ff89d7dfa1f486972b1a", "message": "restore known failure\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-03T05:40:08Z", "type": "commit"}, {"oid": "51296b8ba8099bc06b254e8391b42e22e2273afe", "url": "https://github.com/eclipse/jetty.project/commit/51296b8ba8099bc06b254e8391b42e22e2273afe", "message": "h2spec maven plugin version 1.0.0\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-03T10:29:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3MzYzOA==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r482973638", "bodyText": "Is this right?\nAre we actually excluding this specific test?\nIf so, perhaps we should include a <!-- comment explaining why -->?", "author": "joakime", "createdAt": "2020-09-03T13:23:18Z", "path": "jetty-http2/http2-server/pom.xml", "diffHunk": "@@ -17,11 +17,15 @@\n   <build>\n     <plugins>\n       <plugin>\n-        <groupId>com.github.madgnome</groupId>\n+        <groupId>org.mortbay.jetty</groupId>\n         <artifactId>h2spec-maven-plugin</artifactId>\n         <configuration>\n           <mainClass>org.eclipse.jetty.http2.server.H2SpecServer</mainClass>\n           <skip>${skipTests}</skip>\n+          <junitPackage>org.eclipse.jetty.h2spec</junitPackage>\n+          <excludeSpecs>\n+            <excludeSpec>3.5 - Sends invalid connection preface</excludeSpec>", "originalCommit": "51296b8ba8099bc06b254e8391b42e22e2273afe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIzMTg3Mw==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r483231873", "bodyText": "@lorban do you remember why we need to exclude this test?", "author": "olamy", "createdAt": "2020-09-03T20:20:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3MzYzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ1ODU3Ng==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r483458576", "bodyText": "Last time I worked on the h2spec failures, I remember that one test added to the not-yet-released version of H2Spec was constantly failing, but I did not investigate it. Do you want me to?", "author": "lorban", "createdAt": "2020-09-04T08:08:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3MzYzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ3Nzg4MA==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r483477880", "bodyText": "If you have time otherwise we only need a comment.", "author": "olamy", "createdAt": "2020-09-04T08:44:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3MzYzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3NDI5OQ==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r482974299", "bodyText": "Pick a different port.\nPort 8080 is often used by other processes on the same machine.\nHow about 28888 ?", "author": "joakime", "createdAt": "2020-09-03T13:24:12Z", "path": "jetty-http2/http2-server/pom.xml", "diffHunk": "@@ -78,4 +82,34 @@\n     </dependency>\n   </dependencies>\n \n+  <profiles>\n+    <profile>\n+      <id>run-spec-server</id>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.codehaus.mojo</groupId>\n+            <artifactId>exec-maven-plugin</artifactId>\n+            <executions>\n+              <execution>\n+                <id>spec-server-run</id>\n+                <phase>test</phase>\n+                <configuration>\n+                  <mainClass>org.eclipse.jetty.http2.server.H2SpecServer</mainClass>\n+                  <classpathScope>test</classpathScope>\n+                  <arguments>\n+                    <argument>8080</argument>", "originalCommit": "51296b8ba8099bc06b254e8391b42e22e2273afe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIyNDg4Ng==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r483224886", "bodyText": "this one is just for manual local test and activated only by a profile. The real test part of the build is using random port", "author": "olamy", "createdAt": "2020-09-03T20:07:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3NDI5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDEzNTU3NQ==", "url": "https://github.com/eclipse/jetty.project/pull/5231#discussion_r484135575", "bodyText": "done", "author": "olamy", "createdAt": "2020-09-07T00:36:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk3NDI5OQ=="}], "type": "inlineReview"}, {"oid": "d6396d57000e6bb83fc17da864400758405e7d4e", "url": "https://github.com/eclipse/jetty.project/commit/d6396d57000e6bb83fc17da864400758405e7d4e", "message": "change default port for manual testing\n\nSigned-off-by: olivier lamy <oliver.lamy@gmail.com>", "committedDate": "2020-09-07T00:34:57Z", "type": "commit"}]}