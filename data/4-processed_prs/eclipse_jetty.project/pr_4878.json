{"pr_number": 4878, "pr_title": "Reduce client-generated garbage", "pr_createdAt": "2020-05-13T12:53:53Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/4878", "timeline": [{"oid": "87be7b15eb5c11326ee67b446b4a671a606dbfa9", "url": "https://github.com/eclipse/jetty.project/commit/87be7b15eb5c11326ee67b446b4a671a606dbfa9", "message": "replace regex match with simple string comparisons\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T13:14:50Z", "type": "commit"}, {"oid": "b3d8dc24f158a9f3900c24b14fa0002a3d5ea20f", "url": "https://github.com/eclipse/jetty.project/commit/b3d8dc24f158a9f3900c24b14fa0002a3d5ea20f", "message": "Add constructor to better align with 10.0.x\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T13:14:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQzODcwNA==", "url": "https://github.com/eclipse/jetty.project/pull/4878#discussion_r424438704", "bodyText": "I don't think we need to do this - the List iterator is supposed to be simple and in this case the JIT should eliminate its allocation.", "author": "sbordet", "createdAt": "2020-05-13T13:30:47Z", "path": "jetty-client/src/main/java/org/eclipse/jetty/client/ResponseNotifier.java", "diffHunk": "@@ -41,8 +41,9 @@\n \n     public void notifyBegin(List<Response.ResponseListener> listeners, Response response)\n     {\n-        for (Response.ResponseListener listener : listeners)\n+        for (int i = 0; i < listeners.size(); i++)\n         {\n+            Response.ResponseListener listener = listeners.get(i);", "originalCommit": "b3d8dc24f158a9f3900c24b14fa0002a3d5ea20f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUzNjEzOA==", "url": "https://github.com/eclipse/jetty.project/pull/4878#discussion_r424536138", "bodyText": "You're right, Zulu 11.0.7 seems to be incapable of figuring out that these iterators can be stack-allocated while Zulu 1.8.0_242 does figure it out, so it seems to be a JVM problem. I'll revert this change and investigate that separately.", "author": "lorban", "createdAt": "2020-05-13T15:37:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQzODcwNA=="}], "type": "inlineReview"}, {"oid": "bdaf4923fcc9bf26d49673b427eea06d86bde194", "url": "https://github.com/eclipse/jetty.project/commit/bdaf4923fcc9bf26d49673b427eea06d86bde194", "message": "avoid creating URI instances when possible\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T15:35:45Z", "type": "forcePushed"}, {"oid": "e7aa3c2e2302978df82eba1bee4724cef7a43d8b", "url": "https://github.com/eclipse/jetty.project/commit/e7aa3c2e2302978df82eba1bee4724cef7a43d8b", "message": "explicitly size the listeners array lists\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T15:38:43Z", "type": "commit"}, {"oid": "7d80c8fc3909b341bae48234df81224a28f28611", "url": "https://github.com/eclipse/jetty.project/commit/7d80c8fc3909b341bae48234df81224a28f28611", "message": "Add constructor to better align with 10.0.x\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T15:38:43Z", "type": "commit"}, {"oid": "1974b1b407c1d20496f4548457326511f30cd757", "url": "https://github.com/eclipse/jetty.project/commit/1974b1b407c1d20496f4548457326511f30cd757", "message": "avoid creating URI instances when possible\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T15:38:43Z", "type": "commit"}, {"oid": "1974b1b407c1d20496f4548457326511f30cd757", "url": "https://github.com/eclipse/jetty.project/commit/1974b1b407c1d20496f4548457326511f30cd757", "message": "avoid creating URI instances when possible\n\nSigned-off-by: Ludovic Orban <lorban@bitronix.be>", "committedDate": "2020-05-13T15:38:43Z", "type": "forcePushed"}]}