{"pr_number": 5459, "pr_title": "Fix archive assemblies (tar.gz and zip) to have fixed file/dir modes.", "pr_createdAt": "2020-10-17T10:45:35Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/5459", "timeline": [{"oid": "b2f2fb9fea789c8b266cce1777cda757bb803f7f", "url": "https://github.com/eclipse/jetty.project/commit/b2f2fb9fea789c8b266cce1777cda757bb803f7f", "message": "Fix archived assemblies (tar.gz and zip) to have fixed modes.\n\n+ Not taking the modes from whatever defaults the filesystem\n  that ran the build is currently on.\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-10-14T18:25:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY4MDA2OA==", "url": "https://github.com/eclipse/jetty.project/pull/5459#discussion_r507680068", "bodyText": "I think the following would be better:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  <fileMode>0444</fileMode>\n          \n          \n            \n                  <directoryMode>0755</directoryMode>\n          \n          \n            \n                  <fileMode>0400</fileMode>\n          \n          \n            \n                  <directoryMode>0700</directoryMode>\n          \n      \n    \n    \n  \n\nWe should not be granting any permissions to groups or others", "author": "gregw", "createdAt": "2020-10-19T11:43:33Z", "path": "jetty-home/src/main/assembly/jetty-assembly.xml", "diffHunk": "@@ -15,6 +15,8 @@\n         <exclude>**/META-INF/**</exclude>\n         <exclude>*-config.jar</exclude>\n       </excludes>\n+      <fileMode>0444</fileMode>\n+      <directoryMode>0755</directoryMode>", "originalCommit": "b2f2fb9fea789c8b266cce1777cda757bb803f7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY4MDgxOA==", "url": "https://github.com/eclipse/jetty.project/pull/5459#discussion_r507680818", "bodyText": "Also should we set 0800 for the files in bin?", "author": "gregw", "createdAt": "2020-10-19T11:44:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY4MDA2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY5ODA4Mg==", "url": "https://github.com/eclipse/jetty.project/pull/5459#discussion_r507698082", "bodyText": "good points.\nI was rather happy that these modes I started with had no issue in the /test-distribution/ already.\nWonder if we should expand those tests to use the bin/jetty.sh too (in some regard)?", "author": "joakime", "createdAt": "2020-10-19T12:16:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY4MDA2OA=="}], "type": "inlineReview"}, {"oid": "fe61356f6afedc46072e27ded8a71612cfb8f38c", "url": "https://github.com/eclipse/jetty.project/commit/fe61356f6afedc46072e27ded8a71612cfb8f38c", "message": "Updating file/dir modes per review\n\nSigned-off-by: Joakim Erdfelt <joakim.erdfelt@gmail.com>", "committedDate": "2020-10-19T16:53:16Z", "type": "commit"}]}