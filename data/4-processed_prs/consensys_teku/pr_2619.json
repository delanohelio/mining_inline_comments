{"pr_number": 2619, "pr_title": "Integrate fork choice tests", "pr_createdAt": "2020-08-19T07:08:50Z", "pr_url": "https://github.com/ConsenSys/teku/pull/2619", "timeline": [{"oid": "cf33a1bae39b7ab8cf1ee3988a5fe9e6e3f428df", "url": "https://github.com/ConsenSys/teku/commit/cf33a1bae39b7ab8cf1ee3988a5fe9e6e3f428df", "message": "initial commit of fork choice description files", "committedDate": "2020-06-15T23:11:37Z", "type": "commit"}, {"oid": "a4213ec2cf921339858668e29bb381dcc57af863", "url": "https://github.com/ConsenSys/teku/commit/a4213ec2cf921339858668e29bb381dcc57af863", "message": "Initial commit of fork choice test executor", "committedDate": "2020-06-15T23:12:34Z", "type": "commit"}, {"oid": "50e427436b40a54201f4fa68b08e46bbfce5e663", "url": "https://github.com/ConsenSys/teku/commit/50e427436b40a54201f4fa68b08e46bbfce5e663", "message": "Add ForkChoiceTestFinder", "committedDate": "2020-06-15T23:13:34Z", "type": "commit"}, {"oid": "954b55d09b3c74e96ef78f7902a931b9c2e3cb35", "url": "https://github.com/ConsenSys/teku/commit/954b55d09b3c74e96ef78f7902a931b9c2e3cb35", "message": "Merge branch 'master' into integrateForkChoiceTests", "committedDate": "2020-06-15T23:30:44Z", "type": "commit"}, {"oid": "d042217413a8ed4b3a2bfe4c9637c51d2df58832", "url": "https://github.com/ConsenSys/teku/commit/d042217413a8ed4b3a2bfe4c9637c51d2df58832", "message": "initial commit of fork choice description files", "committedDate": "2020-06-15T23:48:02Z", "type": "commit"}, {"oid": "6842b775aeb3ee1ad32f3fc56ef8c68166929263", "url": "https://github.com/ConsenSys/teku/commit/6842b775aeb3ee1ad32f3fc56ef8c68166929263", "message": "Initial commit of fork choice test executor", "committedDate": "2020-06-15T23:48:02Z", "type": "commit"}, {"oid": "1e651b5902bc7de3b1114343b88b53ab704ff89b", "url": "https://github.com/ConsenSys/teku/commit/1e651b5902bc7de3b1114343b88b53ab704ff89b", "message": "Add ForkChoiceTestFinder", "committedDate": "2020-06-15T23:48:02Z", "type": "commit"}, {"oid": "fdd8ee9386e4f24c56d8cfa50c13ea2b37b2274e", "url": "https://github.com/ConsenSys/teku/commit/fdd8ee9386e4f24c56d8cfa50c13ea2b37b2274e", "message": "Merge remote-tracking branch 'origin/integrateForkChoiceTests' into integrateForkChoiceTests", "committedDate": "2020-06-15T23:52:31Z", "type": "commit"}, {"oid": "e1bfb85dc784c37d1959dec26523a80ead7ac647", "url": "https://github.com/ConsenSys/teku/commit/e1bfb85dc784c37d1959dec26523a80ead7ac647", "message": "Merge remote-tracking branch 'upstream/master' into integrateForkChoiceTests", "committedDate": "2020-06-16T14:25:03Z", "type": "commit"}, {"oid": "003014cefc8cbc31fd0b0bad8a5fd4ce825ba3cc", "url": "https://github.com/ConsenSys/teku/commit/003014cefc8cbc31fd0b0bad8a5fd4ce825ba3cc", "message": "Clean up stale code", "committedDate": "2020-06-16T14:26:02Z", "type": "commit"}, {"oid": "fa60b3815df3438522f320bbc1e6e657db1bb9db", "url": "https://github.com/ConsenSys/teku/commit/fa60b3815df3438522f320bbc1e6e657db1bb9db", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>", "committedDate": "2020-06-16T15:04:13Z", "type": "commit"}, {"oid": "f4e3f54ce8a7ddfcad083ffe39facf80e0688298", "url": "https://github.com/ConsenSys/teku/commit/f4e3f54ce8a7ddfcad083ffe39facf80e0688298", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>", "committedDate": "2020-06-16T15:04:23Z", "type": "commit"}, {"oid": "9183ebad83248c0b063cf7b870b0552cc17ac9a6", "url": "https://github.com/ConsenSys/teku/commit/9183ebad83248c0b063cf7b870b0552cc17ac9a6", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>", "committedDate": "2020-06-16T15:04:40Z", "type": "commit"}, {"oid": "24b554d8b560de3fb7100abcc193da841592fb1b", "url": "https://github.com/ConsenSys/teku/commit/24b554d8b560de3fb7100abcc193da841592fb1b", "message": "Update eth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/fork_choice/ForkChoiceTestExecutor.java\n\nCo-authored-by: Cem Ozer <cemozer2018@u.northwestern.edu>", "committedDate": "2020-06-16T15:06:48Z", "type": "commit"}, {"oid": "7951eae465f7a66324ed8887a6bbf11e5eaa3838", "url": "https://github.com/ConsenSys/teku/commit/7951eae465f7a66324ed8887a6bbf11e5eaa3838", "message": "fix spotless problems", "committedDate": "2020-06-16T15:13:02Z", "type": "commit"}, {"oid": "4484d88a4f875dad2a4d7d1460bcd70f254c4f6a", "url": "https://github.com/ConsenSys/teku/commit/4484d88a4f875dad2a4d7d1460bcd70f254c4f6a", "message": "Merge remote-tracking branch 'origin/master' into integrateForkChoiceTests\n\n# Conflicts:\n#\teth-reference-tests/src/referenceTest/java/tech/pegasys/teku/reference/phase0/Eth2ReferenceTestCase.java", "committedDate": "2020-07-31T14:54:05Z", "type": "commit"}, {"oid": "2c3f6d4bf7148d1f8f3e261418980393784206f6", "url": "https://github.com/ConsenSys/teku/commit/2c3f6d4bf7148d1f8f3e261418980393784206f6", "message": "Fork choice updated to conform v0.12.2", "committedDate": "2020-07-31T17:12:49Z", "type": "commit"}, {"oid": "5b48ffe1e38ecf2843ac207ed905ad84f1d4556f", "url": "https://github.com/ConsenSys/teku/commit/5b48ffe1e38ecf2843ac207ed905ad84f1d4556f", "message": "Spotless fix", "committedDate": "2020-07-31T19:09:05Z", "type": "commit"}, {"oid": "e788c39f0b115616ace3e66a0fc2d42f1cbdf522", "url": "https://github.com/ConsenSys/teku/commit/e788c39f0b115616ace3e66a0fc2d42f1cbdf522", "message": "Merge remote-tracking branch 'remotes/origin/master' into integrateForkChoiceTests3", "committedDate": "2020-08-26T07:56:41Z", "type": "commit"}, {"oid": "9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "url": "https://github.com/ConsenSys/teku/commit/9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "message": "Make fork-choice-tests its own package and run as an integration test", "committedDate": "2020-08-26T08:51:48Z", "type": "commit"}, {"oid": "9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "url": "https://github.com/ConsenSys/teku/commit/9eeb3ddedf71fadebf4b1dd1c042c68416d26429", "message": "Make fork-choice-tests its own package and run as an integration test", "committedDate": "2020-08-26T08:51:48Z", "type": "forcePushed"}, {"oid": "fc9db6005535b3eacd33af8e0542b53cc059d172", "url": "https://github.com/ConsenSys/teku/commit/fc9db6005535b3eacd33af8e0542b53cc059d172", "message": "Run spotless", "committedDate": "2020-08-26T08:56:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU0NzQ2OA==", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r477547468", "bodyText": "Looks like you've added these files to fork-choice-tests resources and eth-reference-tests resources.  Should these ref-test files be deleted?", "author": "mbaxter", "createdAt": "2020-08-26T19:45:27Z", "path": "eth-reference-tests/src/referenceTest/resources/fork_choice_tests/cache/attestation_0.yaml", "diffHunk": "@@ -0,0 +1,12 @@\n+aggregation_bits: '0x11'", "originalCommit": "fc9db6005535b3eacd33af8e0542b53cc059d172", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3ODQ1OQ==", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r478278459", "bodyText": "Yep, the ones in eth-reference-tests should be deleted. Good catch.", "author": "cemozerr", "createdAt": "2020-08-27T09:21:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU0NzQ2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM1NTM3NQ==", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r478355375", "bodyText": "Done.", "author": "cemozerr", "createdAt": "2020-08-27T11:46:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU0NzQ2OA=="}], "type": "inlineReview"}, {"oid": "a7ee10834e24445191ed6c3544a90102479bcec6", "url": "https://github.com/ConsenSys/teku/commit/a7ee10834e24445191ed6c3544a90102479bcec6", "message": "Delete redundant test files", "committedDate": "2020-08-27T11:45:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1OTUxMA==", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r478559510", "bodyText": "Looks like these changes to the eth-reference-tests dependencies are no longer necessary either.", "author": "mbaxter", "createdAt": "2020-08-27T16:50:45Z", "path": "eth-reference-tests/build.gradle", "diffHunk": "@@ -2,13 +2,19 @@ jar { enabled = false }\n \n dependencies {\n   referenceTestImplementation project(':bls')\n+  referenceTestImplementation project(':data')\n   referenceTestImplementation project(':ethereum:core')\n   referenceTestImplementation project(':ethereum:datastructures')\n+  referenceTestImplementation project(':ethereum:statetransition')\n   referenceTestImplementation project(':eth-tests')\n+  referenceTestImplementation project(':protoarray')\n   referenceTestImplementation project(':ssz')\n   referenceTestImplementation project(':storage')\n+  referenceTestImplementation project(':infrastructure:async')\n   referenceTestImplementation project(':util')\n \n+  referenceTestImplementation testFixtures(project(':storage'))", "originalCommit": "a7ee10834e24445191ed6c3544a90102479bcec6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQwMzc5OQ==", "url": "https://github.com/ConsenSys/teku/pull/2619#discussion_r479403799", "bodyText": "Removed.", "author": "cemozerr", "createdAt": "2020-08-28T16:15:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODU1OTUxMA=="}], "type": "inlineReview"}, {"oid": "b8465ce44312ca7b28533b23408f0c1019d3e7a1", "url": "https://github.com/ConsenSys/teku/commit/b8465ce44312ca7b28533b23408f0c1019d3e7a1", "message": "Remove unnecessary imports", "committedDate": "2020-08-28T13:52:44Z", "type": "commit"}, {"oid": "8862bb224d0ac8c274ceb2f5962d1c1d5af34d2a", "url": "https://github.com/ConsenSys/teku/commit/8862bb224d0ac8c274ceb2f5962d1c1d5af34d2a", "message": "Merge branch 'master' into integrateForkChoiceTests", "committedDate": "2020-08-28T16:02:26Z", "type": "commit"}]}