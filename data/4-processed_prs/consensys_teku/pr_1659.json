{"pr_number": 1659, "pr_title": "Remove headBlockRoot from beaconBlocksByRange request", "pr_createdAt": "2020-04-23T21:17:58Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1659", "timeline": [{"oid": "c54e6584edf2baa6c5a0ac786cc18ae0f0c3490f", "url": "https://github.com/ConsenSys/teku/commit/c54e6584edf2baa6c5a0ac786cc18ae0f0c3490f", "message": "Start removing headBlockRoot", "committedDate": "2020-04-23T17:41:30Z", "type": "commit"}, {"oid": "a379bbc28ec9a12bcc551e44f09fb5f42062e622", "url": "https://github.com/ConsenSys/teku/commit/a379bbc28ec9a12bcc551e44f09fb5f42062e622", "message": "Refactor tests to remove root", "committedDate": "2020-04-23T21:17:26Z", "type": "commit"}, {"oid": "d60d25926fd0111cd7474f7d67407cb7d2d4f5c6", "url": "https://github.com/ConsenSys/teku/commit/d60d25926fd0111cd7474f7d67407cb7d2d4f5c6", "message": "Fix broken test", "committedDate": "2020-04-23T23:16:48Z", "type": "commit"}, {"oid": "a167247eee16cdfcb1fc95c3c3fe91243b4173a5", "url": "https://github.com/ConsenSys/teku/commit/a167247eee16cdfcb1fc95c3c3fe91243b4173a5", "message": "Merge branch 'master' into removeHeadBlockRootFromRangeRequest", "committedDate": "2020-04-23T23:17:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMyNTM2Mg==", "url": "https://github.com/ConsenSys/teku/pull/1659#discussion_r414325362", "bodyText": "This feels like it might be overkill and it would be better for callers to just get the best block root and then get the state from that as they need it.  There's quite a lot of methods like this starting to pop up which individually are convenient but collectively make it complex to know which one you should call.", "author": "ajsutton", "createdAt": "2020-04-24T06:24:55Z", "path": "storage/src/main/java/tech/pegasys/artemis/storage/client/CombinedChainDataClient.java", "diffHunk": "@@ -233,6 +233,16 @@ public boolean isFinalizedEpoch(final UnsignedLong epoch) {\n     return getBestBlockRoot().map(store::getBlockState);\n   }\n \n+  public Optional<StateAndBlockRoot> getHeadStateAndBlockRootFromStore() {", "originalCommit": "a167247eee16cdfcb1fc95c3c3fe91243b4173a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY5OTE0OA==", "url": "https://github.com/ConsenSys/teku/pull/1659#discussion_r414699148", "bodyText": "Refactored accordingly.", "author": "cemozerr", "createdAt": "2020-04-24T16:18:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMyNTM2Mg=="}], "type": "inlineReview"}, {"oid": "fc0b7ca23940cf739981c8e59c788fb4ec361f3d", "url": "https://github.com/ConsenSys/teku/commit/fc0b7ca23940cf739981c8e59c788fb4ec361f3d", "message": "Fix BeaconBlocksByRangeMessageHandlerTest", "committedDate": "2020-04-24T16:37:33Z", "type": "commit"}, {"oid": "2ed780229fae1d61dc34869384ef9f771de6560f", "url": "https://github.com/ConsenSys/teku/commit/2ed780229fae1d61dc34869384ef9f771de6560f", "message": "Merge branch 'master' into removeHeadBlockRootFromRangeRequest", "committedDate": "2020-04-24T16:38:19Z", "type": "commit"}]}