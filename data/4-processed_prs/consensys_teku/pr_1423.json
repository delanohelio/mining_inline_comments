{"pr_number": 1423, "pr_title": "Switch DataStructureUtil to use instance methods", "pr_createdAt": "2020-03-20T01:45:12Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1423", "timeline": [{"oid": "ff61ae447b22e790d67a5f31902717e908cfad66", "url": "https://github.com/ConsenSys/teku/commit/ff61ae447b22e790d67a5f31902717e908cfad66", "message": "Switch DataStructureUtil to use instance methods so it can guarantee unique seeds.", "committedDate": "2020-03-20T01:43:54Z", "type": "commit"}, {"oid": "72085bb3f8fe1c826aa05e8dac213cf876cb8044", "url": "https://github.com/ConsenSys/teku/commit/72085bb3f8fe1c826aa05e8dac213cf876cb8044", "message": "Merge branch 'master' into auto-seed-datatstructure-util", "committedDate": "2020-03-20T01:45:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQwOTkzNg==", "url": "https://github.com/ConsenSys/teku/pull/1423#discussion_r395409936", "bodyText": "why do we need a different DataStructureUtil here?", "author": "macfarla", "createdAt": "2020-03-20T02:03:16Z", "path": "storage/src/test/java/tech/pegasys/artemis/storage/ChainStorageClientTest.java", "diffHunk": "@@ -46,17 +46,18 @@\n class ChainStorageClientTest {\n \n   private static final BeaconState INITIAL_STATE =\n-      DataStructureUtil.randomBeaconState(UnsignedLong.ZERO, 1);\n+      new DataStructureUtil(3).randomBeaconState(UnsignedLong.ZERO);", "originalCommit": "72085bb3f8fe1c826aa05e8dac213cf876cb8044", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQxNzQ3Nw==", "url": "https://github.com/ConsenSys/teku/pull/1423#discussion_r395417477", "bodyText": "Because it's being used in a static context.  I'm trying to avoid having static DataStructureUtil instances as then the order of test execution will vary what the seed is and give different results.", "author": "ajsutton", "createdAt": "2020-03-20T02:45:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQwOTkzNg=="}], "type": "inlineReview"}, {"oid": "5d05088cbba2aecd81cb30234a6367e22b46616d", "url": "https://github.com/ConsenSys/teku/commit/5d05088cbba2aecd81cb30234a6367e22b46616d", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into auto-seed-datatstructure-util\n\n# Conflicts:\n#\tdata/provider/src/test/java/tech/pegasys/artemis/api/ValidatorDataProviderTest.java", "committedDate": "2020-03-20T02:43:55Z", "type": "commit"}]}