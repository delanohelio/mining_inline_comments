{"pr_number": 3220, "pr_title": "[Issue-3063] Merge initial state options", "pr_createdAt": "2020-11-13T21:21:58Z", "pr_url": "https://github.com/ConsenSys/teku/pull/3220", "timeline": [{"oid": "f2166045341a1595cc0b2c854c08b16fa597ed53", "url": "https://github.com/ConsenSys/teku/commit/f2166045341a1595cc0b2c854c08b16fa597ed53", "message": "Create NetworkDefinitionConverter", "committedDate": "2020-11-13T21:07:25Z", "type": "commit"}, {"oid": "fdeb4434cdbed70864245eeed81ffc18b56d545d", "url": "https://github.com/ConsenSys/teku/commit/fdeb4434cdbed70864245eeed81ffc18b56d545d", "message": "Merge --initial-state and --Xws-initial-state options", "committedDate": "2020-11-13T21:07:54Z", "type": "commit"}, {"oid": "0f31caca54f18419e2a566388684169bab399c2a", "url": "https://github.com/ConsenSys/teku/commit/0f31caca54f18419e2a566388684169bab399c2a", "message": "Merge branch 'master' into issue-3063/merge-initial-state-options", "committedDate": "2020-11-13T21:44:55Z", "type": "commit"}, {"oid": "d421825576b867b8905c58c08337583820198d6d", "url": "https://github.com/ConsenSys/teku/commit/d421825576b867b8905c58c08337583820198d6d", "message": "Update test assertions", "committedDate": "2020-11-13T22:11:28Z", "type": "commit"}, {"oid": "5778c329ab3e60c4057fc9f38cb9fdd7e4bb549f", "url": "https://github.com/ConsenSys/teku/commit/5778c329ab3e60c4057fc9f38cb9fdd7e4bb549f", "message": "Merge branch 'master' into issue-3063/merge-initial-state-options", "committedDate": "2020-11-16T19:19:52Z", "type": "commit"}, {"oid": "9bb3fd0fa47018c8651f7d6250debad1ccc20ecb", "url": "https://github.com/ConsenSys/teku/commit/9bb3fd0fa47018c8651f7d6250debad1ccc20ecb", "message": "Cut unused method", "committedDate": "2020-11-16T19:27:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY2NDc2Ng==", "url": "https://github.com/ConsenSys/teku/pull/3220#discussion_r524664766", "bodyText": "I don't understand how this error message lines up with the input.  The network definition name would be medalla  or a URL to a custom config file.  I didn't expect the ws checkpoint format to be valid here at all.", "author": "ajsutton", "createdAt": "2020-11-16T22:13:44Z", "path": "teku/src/main/java/tech/pegasys/teku/cli/converter/NetworkDefinitionConverter.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright 2020 ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package tech.pegasys.teku.cli.converter;\n+\n+import static com.google.common.base.Preconditions.checkNotNull;\n+\n+import picocli.CommandLine;\n+import tech.pegasys.teku.util.config.NetworkDefinition;\n+\n+public class NetworkDefinitionConverter implements CommandLine.ITypeConverter<NetworkDefinition> {\n+  public static final String CHECKPOINT_ERROR =\n+      \"Checkpoint arguments should be formatted as <BLOCK_ROOT>:<EPOCH_NUMBER> where blockRoot is a hex-encoded 32 byte value and epochNumber is a number in decimal format\";\n+\n+  @Override\n+  public NetworkDefinition convert(final String networkString) {\n+    try {\n+      checkNotNull(networkString);\n+      return NetworkDefinition.fromCliArg(networkString);\n+    } catch (Throwable e) {\n+      throw new CommandLine.TypeConversionException(CHECKPOINT_ERROR);", "originalCommit": "9bb3fd0fa47018c8651f7d6250debad1ccc20ecb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxNzA3Ng==", "url": "https://github.com/ConsenSys/teku/pull/3220#discussion_r524717076", "bodyText": "whoops - copy pasta", "author": "mbaxter", "createdAt": "2020-11-16T23:03:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY2NDc2Ng=="}], "type": "inlineReview"}, {"oid": "73c5693528bd2da79c729c906fde6261206f2d4b", "url": "https://github.com/ConsenSys/teku/commit/73c5693528bd2da79c729c906fde6261206f2d4b", "message": "Merge branch 'master' into issue-3063/merge-initial-state-options", "committedDate": "2020-11-16T23:27:45Z", "type": "commit"}, {"oid": "f12f46622f03bfd6784612eaa037a0ac48ccad76", "url": "https://github.com/ConsenSys/teku/commit/f12f46622f03bfd6784612eaa037a0ac48ccad76", "message": "Fix NetworkDefinitionConverter error", "committedDate": "2020-11-16T23:35:30Z", "type": "commit"}, {"oid": "feb64018de2e1a54098e3e3a77597cc58a8dff30", "url": "https://github.com/ConsenSys/teku/commit/feb64018de2e1a54098e3e3a77597cc58a8dff30", "message": "Merge branch 'master' into issue-3063/merge-initial-state-options", "committedDate": "2020-11-16T23:38:07Z", "type": "commit"}]}