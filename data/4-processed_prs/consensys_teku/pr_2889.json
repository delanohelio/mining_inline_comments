{"pr_number": 2889, "pr_title": "Extract ValidatorConfig from GlobalConfiguration", "pr_createdAt": "2020-10-06T06:21:20Z", "pr_url": "https://github.com/ConsenSys/teku/pull/2889", "timeline": [{"oid": "ad957dc310bd7eb375a2b7761f51c14c00e1b674", "url": "https://github.com/ConsenSys/teku/commit/ad957dc310bd7eb375a2b7761f51c14c00e1b674", "message": "Split ValidatorConfig out of GlobalConfiguration.\n\nFixes issues where some of the new options in ValidatorOptions weren't being applied in the stand-alone validator client.", "committedDate": "2020-10-06T06:13:25Z", "type": "commit"}, {"oid": "27cf20d8a7353c43727b31fa4a771739227aec62", "url": "https://github.com/ConsenSys/teku/commit/27cf20d8a7353c43727b31fa4a771739227aec62", "message": "Remove unused method.", "committedDate": "2020-10-06T06:14:02Z", "type": "commit"}, {"oid": "785ca5e44bc36a45b23b3ec0a7c6254ecaef7fa3", "url": "https://github.com/ConsenSys/teku/commit/785ca5e44bc36a45b23b3ec0a7c6254ecaef7fa3", "message": "Remove commented out variables.", "committedDate": "2020-10-06T06:20:43Z", "type": "commit"}, {"oid": "bf11e7ce17f0ef198abfbad74c208098184a7ae1", "url": "https://github.com/ConsenSys/teku/commit/bf11e7ce17f0ef198abfbad74c208098184a7ae1", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into valdiator-config", "committedDate": "2020-10-06T06:21:42Z", "type": "commit"}, {"oid": "20a9841bc8f30127b740b62c239fe1b743184767", "url": "https://github.com/ConsenSys/teku/commit/20a9841bc8f30127b740b62c239fe1b743184767", "message": "Merge branch 'master' into valdiator-config", "committedDate": "2020-10-06T09:49:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM5NTUyNg==", "url": "https://github.com/ConsenSys/teku/pull/2889#discussion_r500395526", "bodyText": "If possible, I'd suggest validating and throwing an IllegalArgumentException when building the validatorConfig, so that we don't have to explicitly invoke this validate() method.  For example, WeakSubjectivityConfig errors are handled when TekuConfiguration builds here.  This prevents us from creating invalid configs in the first place.", "author": "mbaxter", "createdAt": "2020-10-06T15:33:48Z", "path": "teku/src/main/java/tech/pegasys/teku/config/TekuConfiguration.java", "diffHunk": "@@ -47,17 +56,29 @@ public BeaconChainConfiguration beaconChain() {\n     return beaconChainConfig;\n   }\n \n+  public ValidatorClientConfiguration validatorClient() {\n+    return validatorClientConfig;\n+  }\n+\n+  public void validate() {\n+    globalConfiguration.validate();\n+    validatorConfig.validate();", "originalCommit": "20a9841bc8f30127b740b62c239fe1b743184767", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY2MTQyMg==", "url": "https://github.com/ConsenSys/teku/pull/2889#discussion_r500661422", "bodyText": "Good idea, done. Cleaned up a bunch of confusion between null and empty lists at the same time.", "author": "ajsutton", "createdAt": "2020-10-06T23:59:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM5NTUyNg=="}], "type": "inlineReview"}, {"oid": "d662cfffab6c343db495de17bcfdfc892ae1738a", "url": "https://github.com/ConsenSys/teku/commit/d662cfffab6c343db495de17bcfdfc892ae1738a", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into valdiator-config", "committedDate": "2020-10-06T23:48:42Z", "type": "commit"}, {"oid": "af73bcf7966ca7ee324bccc0e352f0a8d7f35c4e", "url": "https://github.com/ConsenSys/teku/commit/af73bcf7966ca7ee324bccc0e352f0a8d7f35c4e", "message": "Ensure ValidatorConfig is valid in builder instead of validating later.", "committedDate": "2020-10-06T23:58:35Z", "type": "commit"}, {"oid": "22d0ccafb73e9efe8efd2852518a79b8c0a1f2b1", "url": "https://github.com/ConsenSys/teku/commit/22d0ccafb73e9efe8efd2852518a79b8c0a1f2b1", "message": "Merge branch 'valdiator-config' of github.com:ajsutton/teku into valdiator-config", "committedDate": "2020-10-06T23:59:11Z", "type": "commit"}]}