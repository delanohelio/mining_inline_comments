{"pr_number": 1829, "pr_title": "Add changelog", "pr_createdAt": "2020-05-20T23:55:23Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1829", "timeline": [{"oid": "fb1b284f82b5a454b690d660fe92517fcfdd5950", "url": "https://github.com/ConsenSys/teku/commit/fb1b284f82b5a454b690d660fe92517fcfdd5950", "message": "Add changelog.", "committedDate": "2020-05-20T23:53:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3NTI0MQ==", "url": "https://github.com/ConsenSys/teku/pull/1829#discussion_r428375241", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Improved recovery from network changes. Peer's are now disconnected if they do not respond for a \n          \n          \n            \n            - Improved recovery from network changes. Peers are now disconnected if they do not respond for a", "author": "macfarla", "createdAt": "2020-05-21T00:06:07Z", "path": "CHANGELOG.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Changelog\n+\n+Due to the rapidly changing nature of ETH2 testnets and rapid rate of improvements to Teku, \n+we recommend most users use the latest `master` branch of Teku.\n+\n+## Upcoming Breaking Changes\n+\n+- In a future release the `--eth1-enabled` option will be removed. \n+  ETH1 will be enabled when an `--eth1-endpoint` is provided and otherwise disabled.\n+\n+## 0.11.2\n+\n+### Additions and Improvements\n+\n+- Updated to eth2 spec version v0.11.3.\n+- Improved recovery from network changes. Peer's are now disconnected if they do not respond for a ", "originalCommit": "fb1b284f82b5a454b690d660fe92517fcfdd5950", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3NTMxMw==", "url": "https://github.com/ConsenSys/teku/pull/1829#discussion_r428375313", "bodyText": "nit: is it ETH2 or eth2", "author": "macfarla", "createdAt": "2020-05-21T00:06:27Z", "path": "CHANGELOG.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Changelog\n+\n+Due to the rapidly changing nature of ETH2 testnets and rapid rate of improvements to Teku, \n+we recommend most users use the latest `master` branch of Teku.\n+\n+## Upcoming Breaking Changes\n+\n+- In a future release the `--eth1-enabled` option will be removed. \n+  ETH1 will be enabled when an `--eth1-endpoint` is provided and otherwise disabled.\n+\n+## 0.11.2\n+\n+### Additions and Improvements\n+\n+- Updated to eth2 spec version v0.11.3.", "originalCommit": "fb1b284f82b5a454b690d660fe92517fcfdd5950", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3NzQ5Mw==", "url": "https://github.com/ConsenSys/teku/pull/1829#discussion_r428377493", "bodyText": "Gave up and just called it \"spec\".  Technically it's the beacon-chain, fork-choice, honest-validator and p2p-interface specs.", "author": "ajsutton", "createdAt": "2020-05-21T00:14:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3NTMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODM3NjAyMg==", "url": "https://github.com/ConsenSys/teku/pull/1829#discussion_r428376022", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Work around is to connect to an archive node or configure the node to preserve a greater period of historic world state.  \n          \n          \n            \n              Workaround is to connect to an archive node or configure the node to preserve a greater period of historic world state.", "author": "macfarla", "createdAt": "2020-05-21T00:08:59Z", "path": "CHANGELOG.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Changelog\n+\n+Due to the rapidly changing nature of ETH2 testnets and rapid rate of improvements to Teku, \n+we recommend most users use the latest `master` branch of Teku.\n+\n+## Upcoming Breaking Changes\n+\n+- In a future release the `--eth1-enabled` option will be removed. \n+  ETH1 will be enabled when an `--eth1-endpoint` is provided and otherwise disabled.\n+\n+## 0.11.2\n+\n+### Additions and Improvements\n+\n+- Updated to eth2 spec version v0.11.3.\n+- Improved recovery from network changes. Peer's are now disconnected if they do not respond for a \n+  period ensuring upstream network interruptions are detected and peers can reconnect.\n+- The node's ENR is printed at startup even if the genesis state is not yet known.\n+  As per the beacon chain spec, the network ports are still not opened until the genesis state is known.\n+- OpenAPI schemas are now more compatible with code generating tools.\n+- Include block root in `/beacon/block` responses.\n+- Improved error messages when invalid or incompatible CLI options are provided.\n+- Improved peer discovery by filtering out peers with incompatible `eth2` ENR fields.\n+- Improved performance of BLS signature verification\n+- Updated to jvm-libp2p 0.4.0\n+\n+### Bug Fixes\n+\n+- Fixed a deadlock condition which could cause block imports to silently stall.\n+- Initial sync now reaches chain head correctly even when the chain has not finalized for more than 10 epochs.\n+- Fixed `NullPointerException` and `ArrayIndexOutOfBoundException` intermittently encountered when importing blocks \n+  due to a concurrency issue in batch signature verification.\n+- `/beacon/chainhead` reported incorrect slot and block root data.\n+- Fixed a range of race conditions when loading chain data which could result in inconsistent views \n+  of the data or data not being found as it moved from recent to finalized storage.\n+- Significantly reduced the number of ERROR level log messages. \n+  Invalid network data or unexpectedly disconnected peers is now logged at DEBUG level.\n+- Storage system did not correctly prune blocks loaded from disk on startup when they became finalized.\n+\n+\n+### Known Issues\n+\n+- This release provides support for the Witti testnet via `--network witti` however the configuration \n+  for this testnet is not yet stable and will likely differ from the one currently used.\n+- The Schlesi testnet has been abandoned. The `--network schlesi` option will be removed in a future release.\n+- Memory usage grows signficantly during periods of non-finalization.\n+- Teku requires the ETH1 endpoint to keep historic world state available for at least the ETH1 voting period. \n+  This is typically more historic state than is kept when ETH1 nodes are pruning state. \n+  Work around is to connect to an archive node or configure the node to preserve a greater period of historic world state.  ", "originalCommit": "fb1b284f82b5a454b690d660fe92517fcfdd5950", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3c9921d079666f709c4841b007a5e7ce8d6faf5d", "url": "https://github.com/ConsenSys/teku/commit/3c9921d079666f709c4841b007a5e7ce8d6faf5d", "message": "Fix spelling.\n\nCo-authored-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-05-21T00:12:03Z", "type": "commit"}, {"oid": "ee9dee6696c66dbf2ae9a345dca57c098a730ac3", "url": "https://github.com/ConsenSys/teku/commit/ee9dee6696c66dbf2ae9a345dca57c098a730ac3", "message": "Simplify.", "committedDate": "2020-05-21T00:13:32Z", "type": "commit"}, {"oid": "36259cbbdca561ab55c35efc2750092631a279f3", "url": "https://github.com/ConsenSys/teku/commit/36259cbbdca561ab55c35efc2750092631a279f3", "message": "Workaround is apparently a word.", "committedDate": "2020-05-21T00:15:02Z", "type": "commit"}]}