{"pr_number": 889, "pr_title": "Change zts schema to enable notifications", "pr_createdAt": "2020-03-01T14:21:40Z", "pr_url": "https://github.com/AthenZ/athenz/pull/889", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExMzAzMA==", "url": "https://github.com/AthenZ/athenz/pull/889#discussion_r386113030", "bodyText": "lastNotifiedTime and lastNotifiedServer are nullable (notifications might have never been sent)\nexpiryTime is nullable instead of non-nullable with a default value (as a default value might be accidentally presented to users)\nhostName is nullable to support rows without this value (created by requests that didn't send the hostName). We can consider replacing it with some default value (and making the column non-nullable).", "author": "OferLevi85", "createdAt": "2020-03-01T14:34:32Z", "path": "servers/zts/schema/zts_server.sql", "diffHunk": "@@ -31,6 +31,10 @@ CREATE TABLE IF NOT EXISTS `zts_store`.`certificates` (\n   `prevTime` DATETIME(3) NOT NULL,\n   `prevIP` VARCHAR(64) NOT NULL,\n   `clientCert` TINYINT(1) NOT NULL DEFAULT 0,\n+  `lastNotifiedTime` DATETIME(3) NULL,", "originalCommit": "443b710e565a9270c572eb45e379d9989de6af19", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "96361702277937500864009cb2044a37bb7b5346", "url": "https://github.com/AthenZ/athenz/commit/96361702277937500864009cb2044a37bb7b5346", "message": "Change zts schema to enable notifications", "committedDate": "2020-03-02T05:10:28Z", "type": "commit"}]}