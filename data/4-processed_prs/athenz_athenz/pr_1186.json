{"pr_number": 1186, "pr_title": "zms-cli role tags", "pr_createdAt": "2020-11-15T14:55:34Z", "pr_url": "https://github.com/AthenZ/athenz/pull/1186", "timeline": [{"oid": "e1a15f43123747392d9fc6a8fdc24afea4846d07", "url": "https://github.com/AthenZ/athenz/commit/e1a15f43123747392d9fc6a8fdc24afea4846d07", "message": "zms-cli role tags", "committedDate": "2020-11-15T14:58:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzc3MDQ4MA==", "url": "https://github.com/AthenZ/athenz/pull/1186#discussion_r523770480", "bodyText": "I noticed that I had a mistake in the previous schema..\nsecondary index should be key+value not index per column (btree)\nAlso, role_id fk shouldn't be index but constraint only..", "author": "dvirguttman", "createdAt": "2020-11-15T15:01:54Z", "path": "servers/zms/schema/updates/update-20201109.sql", "diffHunk": "@@ -3,9 +3,7 @@ CREATE TABLE IF NOT EXISTS `zms_server`.`role_tags` (\n   `key` VARCHAR(64) NOT NULL,\n   `value` VARCHAR(64) NOT NULL,\n   PRIMARY KEY (`role_id`, `key`, `value`),\n-  INDEX `fk_role_tag_role_idx` (`role_id` ASC),\n-  INDEX `tag_key_sec_idx` (`key` ASC),\n-  INDEX `tag_value_sec_idx` (`value` ASC),\n+  INDEX `tag_key_val_sec_idx` (`key` ASC, `value` ASC),", "originalCommit": "e1a15f43123747392d9fc6a8fdc24afea4846d07", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0fb1c1cec305a8a26e12224cc67e487f0be062a5", "url": "https://github.com/AthenZ/athenz/commit/0fb1c1cec305a8a26e12224cc67e487f0be062a5", "message": "zms-cli role tags", "committedDate": "2020-11-15T15:46:54Z", "type": "commit"}, {"oid": "0fb1c1cec305a8a26e12224cc67e487f0be062a5", "url": "https://github.com/AthenZ/athenz/commit/0fb1c1cec305a8a26e12224cc67e487f0be062a5", "message": "zms-cli role tags", "committedDate": "2020-11-15T15:46:54Z", "type": "forcePushed"}, {"oid": "eb8e6884be73572dd9cfba68a599a4a9137d288a", "url": "https://github.com/AthenZ/athenz/commit/eb8e6884be73572dd9cfba68a599a4a9137d288a", "message": "add and delete role tags", "committedDate": "2020-11-15T17:16:38Z", "type": "commit"}]}