{"pr_number": 2848, "pr_title": "ST: Add upgrade test for 0.17 and enhance jenkins pipeline", "pr_createdAt": "2020-04-17T09:33:05Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2848", "timeline": [{"oid": "21815e6e40b3a639607a80c0e2872439c58393db", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/21815e6e40b3a639607a80c0e2872439c58393db", "message": "Add option to run upgrade properly on jenkins, add 0.17 upgrade test\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T09:28:25Z", "type": "commit"}, {"oid": "80adff7b22d3cbf4fc1a6bf19dde9453e5452ae9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/80adff7b22d3cbf4fc1a6bf19dde9453e5452ae9", "message": "Fix env variable name\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T09:29:25Z", "type": "commit"}, {"oid": "cd352e04bdedf7641bfa214c601942a4e18b3fa3", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/cd352e04bdedf7641bfa214c601942a4e18b3fa3", "message": "Fix image tag in uograde json\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T09:30:39Z", "type": "commit"}, {"oid": "28e68c2d440e9ab6e7aac4bb752b4d5b702666b1", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/28e68c2d440e9ab6e7aac4bb752b4d5b702666b1", "message": "Change tag in 050 during Jenkinsfile pr build\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T12:02:07Z", "type": "commit"}, {"oid": "9ac58b47924b37c19417263dab9bb132ee8cc234", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9ac58b47924b37c19417263dab9bb132ee8cc234", "message": "Add debug info\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T14:53:37Z", "type": "commit"}, {"oid": "da74d0fb1d7a881797e33b8d72e966e26591fc3c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/da74d0fb1d7a881797e33b8d72e966e26591fc3c", "message": "Try to debug issue with build\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T20:51:22Z", "type": "commit"}, {"oid": "6b24c602547017a71c4b54f7bccdbfbf20c04b72", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6b24c602547017a71c4b54f7bccdbfbf20c04b72", "message": "fixup! Try to debug issue with build\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-17T22:02:54Z", "type": "commit"}, {"oid": "f1b7e5886d09c77f906f8cca04663d638860f295", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f1b7e5886d09c77f906f8cca04663d638860f295", "message": "fixup! fixup! Try to debug issue with build\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-18T07:24:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg0Njg0Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2848#discussion_r410846846", "bodyText": "what about this TODO to remove?", "author": "ppatierno", "createdAt": "2020-04-19T08:06:21Z", "path": "test/src/main/java/io/strimzi/test/k8s/cmdClient/BaseCmdKubeClient.java", "diffHunk": "@@ -181,6 +181,8 @@ public K replace(File... files) {\n     @SuppressWarnings(\"unchecked\")\n     public K applyContent(String yamlContent) {\n         try (Context context = defaultContext()) {\n+            // TODO remove this\n+            LOGGER.info(yamlContent);", "originalCommit": "f1b7e5886d09c77f906f8cca04663d638860f295", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg4MTE1Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2848#discussion_r410881152", "bodyText": "I am still trying to debug reason why last test failing. I will remove it later. Also I moved this PR to draft, because it's not ready net. Sorry for confusion", "author": "Frawless", "createdAt": "2020-04-19T11:20:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg0Njg0Ng=="}], "type": "inlineReview"}, {"oid": "5d380ac2426f72c9737ee67f4b30312d2df17cb4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5d380ac2426f72c9737ee67f4b30312d2df17cb4", "message": "Add new way how to determine if upgrade test is flaky. Fix sed\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-19T11:18:13Z", "type": "commit"}, {"oid": "8620555454230ae0da7b1a7c92d2b0b9b31e9a4b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8620555454230ae0da7b1a7c92d2b0b9b31e9a4b", "message": "fixup! Add new way how to determine if upgrade test is flaky. Fix sed\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-19T20:39:20Z", "type": "commit"}, {"oid": "f4f487329ce0ddfee48c224dd621311d2fbaed32", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f4f487329ce0ddfee48c224dd621311d2fbaed32", "message": "fixup! fixup! Add new way how to determine if upgrade test is flaky. Fix sed\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-20T07:27:02Z", "type": "commit"}, {"oid": "af14599d73a6898908a58122d61cc9ad78989fd3", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/af14599d73a6898908a58122d61cc9ad78989fd3", "message": "fixup! fixup! fixup! Add new way how to determine if upgrade test is flaky. Fix sed\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-20T12:16:49Z", "type": "commit"}, {"oid": "17e8784c6cad60b1ff024cd9c3f06f9071f93837", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/17e8784c6cad60b1ff024cd9c3f06f9071f93837", "message": "fixup! fixup! fixup! fixup! Add new way how to determine if upgrade test is flaky. Fix sed\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-20T17:24:30Z", "type": "commit"}, {"oid": "71a0504206c0bce21f6f7ca9a00d0195a0d43cee", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/71a0504206c0bce21f6f7ca9a00d0195a0d43cee", "message": "fixup! fixup! fixup! fixup! fixup! Add new way how to determine if upgrade test is flaky. Fix sed\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-20T20:37:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyOTY3NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2848#discussion_r412729674", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    // For upgrade tests running with locally builded images we need to change tag in StrimziUpgradeST.json\n          \n          \n            \n                                    // For upgrade tests running with locally buildt images we need to change tag in StrimziUpgradeST.json", "author": "tombentley", "createdAt": "2020-04-22T07:14:21Z", "path": "Jenkinsfile-pr", "diffHunk": "@@ -130,6 +130,18 @@ pipeline {\n                         if (env.OC_VERSION == \"4\" && !env.ghprbCommentBody.contains('test_only')) {\n                             env.DOCKER_REGISTRY = \"image-registry.openshift-image-registry.svc:5000\"\n                         }\n+                        // For upgrade tests running with locally builded images we need to change tag in StrimziUpgradeST.json", "originalCommit": "71a0504206c0bce21f6f7ca9a00d0195a0d43cee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "05d0491f6747d42f9e3eaa40a1e3fec8c1530d70", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/05d0491f6747d42f9e3eaa40a1e3fec8c1530d70", "message": "Fix typo\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>", "committedDate": "2020-04-22T07:20:50Z", "type": "commit"}]}