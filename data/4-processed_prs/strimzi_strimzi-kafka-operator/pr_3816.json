{"pr_number": 3816, "pr_title": "Enable CORS configuration for Cruise Control", "pr_createdAt": "2020-10-15T13:07:16Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3816", "timeline": [{"oid": "e241061cfcba4ff70255dd18de3f781bc0988064", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e241061cfcba4ff70255dd18de3f781bc0988064", "message": "Enable CORS configuration for Cruise Control\n\nSigned-off-by: Emil Michalczewski <emil.michalczewski@allegro.pl>", "committedDate": "2020-10-15T13:07:52Z", "type": "commit"}, {"oid": "e241061cfcba4ff70255dd18de3f781bc0988064", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e241061cfcba4ff70255dd18de3f781bc0988064", "message": "Enable CORS configuration for Cruise Control\n\nSigned-off-by: Emil Michalczewski <emil.michalczewski@allegro.pl>", "committedDate": "2020-10-15T13:07:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY0MDU4Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3816#discussion_r505640587", "bodyText": "Missing a comma after webserver.http.cors.enabled", "author": "kyguy", "createdAt": "2020-10-15T15:33:54Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/CruiseControlSpec.java", "diffHunk": "@@ -38,7 +38,8 @@\n         + \"webserver.http., webserver.api.urlprefix, webserver.session.path, webserver.accesslog., two.step., request.reason.required,\"\n         + \"metric.reporter.sampler.bootstrap.servers, metric.reporter.topic, partition.metric.sample.store.topic, broker.metric.sample.store.topic,\"\n         + \"capacity.config.file, self.healing., anomaly.detection., ssl.\";\n-    public static final String FORBIDDEN_PREFIX_EXCEPTIONS = \"ssl.cipher.suites, ssl.protocol, ssl.enabled.protocols\";\n+    public static final String FORBIDDEN_PREFIX_EXCEPTIONS = \"ssl.cipher.suites, ssl.protocol, ssl.enabled.protocols, webserver.http.cors.enabled\" +\n+            \"webserver.http.cors.origin, webserver.http.cors.exposeheaders\";", "originalCommit": "e241061cfcba4ff70255dd18de3f781bc0988064", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY0NzQ2NQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3816#discussion_r505647465", "bodyText": "Fixed", "author": "EmilMichalczewski", "createdAt": "2020-10-15T15:43:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY0MDU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY0MjA5Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3816#discussion_r505642093", "bodyText": "Why does this need to be there by default? How does CC handle it when the users configure the same?", "author": "scholzj", "createdAt": "2020-10-15T15:35:58Z", "path": "docker-images/kafka/cruise-control-scripts/cruise_control_config_generator.sh", "diffHunk": "@@ -42,6 +42,7 @@ capacity.config.file=$CC_CAPACITY_FILE\n cluster.configs.file=$CC_CLUSTER_CONFIG_FILE\n webserver.accesslog.path=$CC_ACCESS_LOG\n webserver.http.address=0.0.0.0\n+webserver.http.cors.allowmethods=OPTIONS,GET", "originalCommit": "e241061cfcba4ff70255dd18de3f781bc0988064", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY3MDI1Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3816#discussion_r505670253", "bodyText": "We want to grant read-only access to the CC API from other origins but only read-only access. This configuration option is forbidden so users cannot give themselves write access to the CC API by adding the \"POST\" value to this configuration option. It will be ignored if a user tries to configure this option", "author": "kyguy", "createdAt": "2020-10-15T16:15:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY0MjA5Mw=="}], "type": "inlineReview"}, {"oid": "698a62affccd6c68d2faf67973d82b90c53fb1b7", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/698a62affccd6c68d2faf67973d82b90c53fb1b7", "message": "Add missing coma\n\nSigned-off-by: Emil Michalczewski <emil.michalczewski@allegro.pl>", "committedDate": "2020-10-15T17:25:56Z", "type": "commit"}, {"oid": "698a62affccd6c68d2faf67973d82b90c53fb1b7", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/698a62affccd6c68d2faf67973d82b90c53fb1b7", "message": "Add missing coma\n\nSigned-off-by: Emil Michalczewski <emil.michalczewski@allegro.pl>", "committedDate": "2020-10-15T17:25:56Z", "type": "forcePushed"}]}