{"pr_number": 3255, "pr_title": "[DOC] Improve the template documentation", "pr_createdAt": "2020-06-27T21:54:19Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255", "timeline": [{"oid": "b7ce66e35cab46c6cde86117ec1ebe10c9f3ee21", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b7ce66e35cab46c6cde86117ec1ebe10c9f3ee21", "message": "Improve the template documentation\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-06-27T21:32:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njc4OTE3Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r446789176", "bodyText": "it should be type-KafkaBridgeTemplate-reference", "author": "ppatierno", "createdAt": "2020-06-29T06:00:09Z", "path": "documentation/assemblies/assembly-customizing-kubernetes-resources.adoc", "diffHunk": "@@ -0,0 +1,54 @@\n+// This assembly is included in the following assemblies:\n+//\n+// assembly-deployment-configuration.adoc\n+\n+[id='assembly-customizing-kubernetes-resources-{context}']\n+= Customizing Kubernetes resources\n+\n+Strimzi creates several Kubernetes resources, such as `Deployments`, `StatefulSets`, `Pods`, and `Services`, which are managed by Strimzi operators.\n+Only the operator that is responsible for managing a particular Kubernetes resource can change that resource.\n+If you try to manually change an operator-managed Kubernetes resource, the operator will revert your changes back.\n+\n+However, changing an operator-managed Kubernetes resource can be useful if you want to perform certain tasks, such as:\n+\n+- Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;\n+- Managing how `Loadbalancer`-type Services are created by the cluster.\n+\n+You can make these types of changes using the `template` property in the Strimzi custom resources.\n+The `template` property is supported in the following resources.\n+For more details about the customizable fields, check the API reference,\n+\n+`Kafka.spec.kafka`:: See xref:type-KafkaClusterTemplate-reference[] for more details\n+`Kafka.spec.zookeeper`:: See xref:type-ZookeeperClusterTemplate-reference[] for more details\n+`Kafka.spec.entityOperator`:: See xref:type-EntityOperatorTemplate-reference[] for more details\n+`Kafka.spec.kafkaExporter`:: See xref:type-KafkaExporterTemplate-reference[] for more details\n+`Kafka.spec.cruiseControl`:: See xref:type-CruiseControlTemplate-reference[] for more details\n+`Kafka.spec.jmxTrans`:: See xref:type-JmxTransTemplate-reference[] for more details\n+`KafkaConnect.spec`:: See xref:type-KafkaConnectTemplate-reference[] for more details\n+`KafkaConnectS2I.spec`:: See xref:type-KafkaConnectTemplate-reference[] for more details\n+`KafkaMirrorMaker.spec`:: See xref:type-KafkaMirrorMakerTemplate-reference[] for more details\n+`KafkaMirrorMaker2.spec`:: See xref:type-KafkaMirrorMaker2Template-reference[] for more details\n+`KafkaBridge.spec`:: See xref:type-KafkaClusterTemplate-reference[] for more details", "originalCommit": "b7ce66e35cab46c6cde86117ec1ebe10c9f3ee21", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "be9d55e1892acac4f9c405ceeabe2453237b809c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/be9d55e1892acac4f9c405ceeabe2453237b809c", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-06-29T07:26:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3MjM2Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447472367", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Description(\"The name of the Priority Class to which these pods will be assigned. \" +\n          \n          \n            \n                @Description(\"The name of the priority class used to assign priority to the pods. \" +", "author": "PaulRMellor", "createdAt": "2020-06-30T07:35:00Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/template/PodTemplate.java", "diffHunk": "@@ -118,7 +122,8 @@ public void setTolerations(List<Toleration> tolerations) {\n         this.tolerations = tolerations;\n     }\n \n-    @Description(\"The name of the Priority Class to which these pods will be assigned.\")\n+    @Description(\"The name of the Priority Class to which these pods will be assigned. \" +", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwNjU5Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447506593", "bodyText": "And wherever else the description is used.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:29:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3MjM2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3MjU0OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447472549", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"For more information about Priority Classes, see {K8sPriorityClass}.\")\n          \n          \n            \n                        \"For more information about priority classes, see {K8sPriorityClass}.\")", "author": "PaulRMellor", "createdAt": "2020-06-30T07:35:18Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/template/PodTemplate.java", "diffHunk": "@@ -118,7 +122,8 @@ public void setTolerations(List<Toleration> tolerations) {\n         this.tolerations = tolerations;\n     }\n \n-    @Description(\"The name of the Priority Class to which these pods will be assigned.\")\n+    @Description(\"The name of the Priority Class to which these pods will be assigned. \" +\n+            \"For more information about Priority Classes, see {K8sPriorityClass}.\")", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwNjIwMg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447506202", "bodyText": "And wherever else the description is used.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:28:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3MjU0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3NTU5Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447475596", "bodyText": "Do we want to give examples/scenarios of when we set both?", "author": "PaulRMellor", "createdAt": "2020-06-30T07:40:24Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.ContainerTemplate.adoc", "diffHunk": "@@ -0,0 +1,25 @@\n+You can set custom security context and environment variables for a container.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUzODMzNw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447538337", "bodyText": "I don't think so. It is variety of weird usecases which are not really common. So I do not think it makes much sense.", "author": "scholzj", "createdAt": "2020-06-30T09:18:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3NTU5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ3NzM4Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447477383", "bodyText": "Could we swap test for example?  We should probably keep test-y things out of the doc", "author": "PaulRMellor", "createdAt": "2020-06-30T07:43:24Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.ContainerTemplate.adoc", "diffHunk": "@@ -0,0 +1,25 @@\n+You can set custom security context and environment variables for a container.\n+\n+The environment variables are defined under the `env` property as a list of objects with `name` and `value` fields.\n+The following example shows two custom environment variables set for the Kafka broker containers:\n+\n+[source,yaml,subs=attributes+]\n+----\n+# ...\n+kind: Kafka\n+spec:\n+    kafka:\n+        template:\n+            kafkaContainer:\n+                env:\n+                    - name: TEST_ENV_1", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4Mjk4OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447482988", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When exposing Kafka outside of Kubernetes using loadbalancers or node ports, you can use additional customization properties in addition to labels and annotations.\n          \n          \n            \n            When exposing Kafka outside of Kubernetes using loadbalancers or node ports, you can use properties, in addition to labels and annotations, to customize how a Service is created.", "author": "PaulRMellor", "createdAt": "2020-06-30T07:52:24Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.ExternalServiceTemplate.adoc", "diffHunk": "@@ -0,0 +1,20 @@\n+When exposing Kafka outside of Kubernetes using loadbalancers or node ports, you can use additional customization properties in addition to labels and annotations.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4MzMyNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447483324", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The properties for external services are described in the following table and affect how a Service is created.", "author": "PaulRMellor", "createdAt": "2020-06-30T07:52:57Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.ExternalServiceTemplate.adoc", "diffHunk": "@@ -0,0 +1,20 @@\n+When exposing Kafka outside of Kubernetes using loadbalancers or node ports, you can use additional customization properties in addition to labels and annotations.\n+The properties for external services are described in the following table and affect how a Service is created.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4OTg0Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447489842", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            By default, these pod disruption budgets only allow a single pod to be unavailable at a given time by setting the `maxUnavailable` value in the `PodDisruptionBudget.spec` resource to 1.\n          \n          \n            \n            By default, pod disruption budgets only allow a single pod to be unavailable at a given time.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:03:03Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.PodDisruptionBudgetTemplate.adoc", "diffHunk": "@@ -0,0 +1,20 @@\n+Strimzi creates a `PodDisruptionBudget` for every new `StatefulSet` or `Deployment`.\n+By default, these pod disruption budgets only allow a single pod to be unavailable at a given time by setting the `maxUnavailable` value in the `PodDisruptionBudget.spec` resource to 1.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5MjIzNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447492236", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You can change the amount of unavailable pods allowed by changing the default value of `maxUnavailable`.\n          \n          \n            \n            You can increase the amount of unavailable pods allowed by changing the default value of the `maxUnavailable` property in the `PodDisruptionBudget.spec` resource.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:07:13Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.PodDisruptionBudgetTemplate.adoc", "diffHunk": "@@ -0,0 +1,20 @@\n+Strimzi creates a `PodDisruptionBudget` for every new `StatefulSet` or `Deployment`.\n+By default, these pod disruption budgets only allow a single pod to be unavailable at a given time by setting the `maxUnavailable` value in the `PodDisruptionBudget.spec` resource to 1.\n+You can change the amount of unavailable pods allowed by changing the default value of `maxUnavailable`.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5MzY4MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447493680", "bodyText": "Do we show security context in the example?", "author": "PaulRMellor", "createdAt": "2020-06-30T08:09:32Z", "path": "documentation/api/io.strimzi.api.kafka.model.template.ContainerTemplate.adoc", "diffHunk": "@@ -0,0 +1,25 @@\n+You can set custom security context and environment variables for a container.\n+\n+The environment variables are defined under the `env` property as a list of objects with `name` and `value` fields.\n+The following example shows two custom environment variables set for the Kafka broker containers:\n+\n+[source,yaml,subs=attributes+]\n+----\n+# ...\n+kind: Kafka", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5NDc0OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447494748", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;\n          \n          \n            \n            - Adding custom labels or annotations that control how `Pods` are treated by Istio or other services", "author": "PaulRMellor", "createdAt": "2020-06-30T08:11:21Z", "path": "documentation/assemblies/assembly-customizing-kubernetes-resources.adoc", "diffHunk": "@@ -0,0 +1,54 @@\n+// This assembly is included in the following assemblies:\n+//\n+// assembly-deployment-configuration.adoc\n+\n+[id='assembly-customizing-kubernetes-resources-{context}']\n+= Customizing Kubernetes resources\n+\n+Strimzi creates several Kubernetes resources, such as `Deployments`, `StatefulSets`, `Pods`, and `Services`, which are managed by Strimzi operators.\n+Only the operator that is responsible for managing a particular Kubernetes resource can change that resource.\n+If you try to manually change an operator-managed Kubernetes resource, the operator will revert your changes back.\n+\n+However, changing an operator-managed Kubernetes resource can be useful if you want to perform certain tasks, such as:\n+\n+- Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5NDg1NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447494854", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Managing how `Loadbalancer`-type Services are created by the cluster.\n          \n          \n            \n            - Managing how `Loadbalancer`-type Services are created by the cluster", "author": "PaulRMellor", "createdAt": "2020-06-30T08:11:30Z", "path": "documentation/assemblies/assembly-customizing-kubernetes-resources.adoc", "diffHunk": "@@ -0,0 +1,54 @@\n+// This assembly is included in the following assemblies:\n+//\n+// assembly-deployment-configuration.adoc\n+\n+[id='assembly-customizing-kubernetes-resources-{context}']\n+= Customizing Kubernetes resources\n+\n+Strimzi creates several Kubernetes resources, such as `Deployments`, `StatefulSets`, `Pods`, and `Services`, which are managed by Strimzi operators.\n+Only the operator that is responsible for managing a particular Kubernetes resource can change that resource.\n+If you try to manually change an operator-managed Kubernetes resource, the operator will revert your changes back.\n+\n+However, changing an operator-managed Kubernetes resource can be useful if you want to perform certain tasks, such as:\n+\n+- Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;\n+- Managing how `Loadbalancer`-type Services are created by the cluster.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5NjM5MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447496390", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You can make these types of changes using the `template` property in the Strimzi custom resources.\n          \n          \n            \n            You can make such changes using the `template` property in the Strimzi custom resources.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:14:00Z", "path": "documentation/assemblies/assembly-customizing-kubernetes-resources.adoc", "diffHunk": "@@ -0,0 +1,54 @@\n+// This assembly is included in the following assemblies:\n+//\n+// assembly-deployment-configuration.adoc\n+\n+[id='assembly-customizing-kubernetes-resources-{context}']\n+= Customizing Kubernetes resources\n+\n+Strimzi creates several Kubernetes resources, such as `Deployments`, `StatefulSets`, `Pods`, and `Services`, which are managed by Strimzi operators.\n+Only the operator that is responsible for managing a particular Kubernetes resource can change that resource.\n+If you try to manually change an operator-managed Kubernetes resource, the operator will revert your changes back.\n+\n+However, changing an operator-managed Kubernetes resource can be useful if you want to perform certain tasks, such as:\n+\n+- Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;\n+- Managing how `Loadbalancer`-type Services are created by the cluster.\n+\n+You can make these types of changes using the `template` property in the Strimzi custom resources.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5NzA1Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447497057", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For more details about the customizable fields, check the API reference,\n          \n          \n            \n            The API reference provides more details about the customizable fields.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:15:06Z", "path": "documentation/assemblies/assembly-customizing-kubernetes-resources.adoc", "diffHunk": "@@ -0,0 +1,54 @@\n+// This assembly is included in the following assemblies:\n+//\n+// assembly-deployment-configuration.adoc\n+\n+[id='assembly-customizing-kubernetes-resources-{context}']\n+= Customizing Kubernetes resources\n+\n+Strimzi creates several Kubernetes resources, such as `Deployments`, `StatefulSets`, `Pods`, and `Services`, which are managed by Strimzi operators.\n+Only the operator that is responsible for managing a particular Kubernetes resource can change that resource.\n+If you try to manually change an operator-managed Kubernetes resource, the operator will revert your changes back.\n+\n+However, changing an operator-managed Kubernetes resource can be useful if you want to perform certain tasks, such as:\n+\n+- Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;\n+- Managing how `Loadbalancer`-type Services are created by the cluster.\n+\n+You can make these types of changes using the `template` property in the Strimzi custom resources.\n+The `template` property is supported in the following resources.\n+For more details about the customizable fields, check the API reference,", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ5ODA5OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447498099", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `Kafka.spec.kafka`:: See xref:type-KafkaClusterTemplate-reference[] for more details\n          \n          \n            \n            `Kafka.spec.zookeeper`:: See xref:type-ZookeeperClusterTemplate-reference[] for more details\n          \n          \n            \n            `Kafka.spec.entityOperator`:: See xref:type-EntityOperatorTemplate-reference[] for more details\n          \n          \n            \n            `Kafka.spec.kafkaExporter`:: See xref:type-KafkaExporterTemplate-reference[] for more details\n          \n          \n            \n            `Kafka.spec.cruiseControl`:: See xref:type-CruiseControlTemplate-reference[] for more details\n          \n          \n            \n            `Kafka.spec.jmxTrans`:: See xref:type-JmxTransTemplate-reference[] for more details\n          \n          \n            \n            `KafkaConnect.spec`:: See xref:type-KafkaConnectTemplate-reference[] for more details\n          \n          \n            \n            `KafkaConnectS2I.spec`:: See xref:type-KafkaConnectTemplate-reference[] for more details\n          \n          \n            \n            `KafkaMirrorMaker.spec`:: See xref:type-KafkaMirrorMakerTemplate-reference[] for more details\n          \n          \n            \n            `KafkaMirrorMaker2.spec`:: See xref:type-KafkaMirrorMaker2Template-reference[] for more details\n          \n          \n            \n            `KafkaBridge.spec`:: See xref:type-KafkaBridgeTemplate-reference[] for more details\n          \n          \n            \n            `Kafka.spec.kafka`:: See xref:type-KafkaClusterTemplate-reference[]\n          \n          \n            \n            `Kafka.spec.zookeeper`:: See xref:type-ZookeeperClusterTemplate-reference[]\n          \n          \n            \n            `Kafka.spec.entityOperator`:: See xref:type-EntityOperatorTemplate-reference[]\n          \n          \n            \n            `Kafka.spec.kafkaExporter`:: See xref:type-KafkaExporterTemplate-reference[]\n          \n          \n            \n            `Kafka.spec.cruiseControl`:: See xref:type-CruiseControlTemplate-reference[]\n          \n          \n            \n            `Kafka.spec.jmxTrans`:: See xref:type-JmxTransTemplate-reference[]\n          \n          \n            \n            `KafkaConnect.spec`:: See xref:type-KafkaConnectTemplate-reference[]\n          \n          \n            \n            `KafkaConnectS2I.spec`:: See xref:type-KafkaConnectTemplate-reference[]\n          \n          \n            \n            `KafkaMirrorMaker.spec`:: See xref:type-KafkaMirrorMakerTemplate-reference[]\n          \n          \n            \n            `KafkaMirrorMaker2.spec`:: See xref:type-KafkaMirrorMaker2Template-reference[]\n          \n          \n            \n            `KafkaBridge.spec`:: See xref:type-KafkaBridgeTemplate-reference[]", "author": "PaulRMellor", "createdAt": "2020-06-30T08:16:39Z", "path": "documentation/assemblies/assembly-customizing-kubernetes-resources.adoc", "diffHunk": "@@ -0,0 +1,54 @@\n+// This assembly is included in the following assemblies:\n+//\n+// assembly-deployment-configuration.adoc\n+\n+[id='assembly-customizing-kubernetes-resources-{context}']\n+= Customizing Kubernetes resources\n+\n+Strimzi creates several Kubernetes resources, such as `Deployments`, `StatefulSets`, `Pods`, and `Services`, which are managed by Strimzi operators.\n+Only the operator that is responsible for managing a particular Kubernetes resource can change that resource.\n+If you try to manually change an operator-managed Kubernetes resource, the operator will revert your changes back.\n+\n+However, changing an operator-managed Kubernetes resource can be useful if you want to perform certain tasks, such as:\n+\n+- Adding custom labels or annotations that control how `Pods` are treated by Istio or other services;\n+- Managing how `Loadbalancer`-type Services are created by the cluster.\n+\n+You can make these types of changes using the `template` property in the Strimzi custom resources.\n+The `template` property is supported in the following resources.\n+For more details about the customizable fields, check the API reference,\n+\n+`Kafka.spec.kafka`:: See xref:type-KafkaClusterTemplate-reference[] for more details\n+`Kafka.spec.zookeeper`:: See xref:type-ZookeeperClusterTemplate-reference[] for more details\n+`Kafka.spec.entityOperator`:: See xref:type-EntityOperatorTemplate-reference[] for more details\n+`Kafka.spec.kafkaExporter`:: See xref:type-KafkaExporterTemplate-reference[] for more details\n+`Kafka.spec.cruiseControl`:: See xref:type-CruiseControlTemplate-reference[] for more details\n+`Kafka.spec.jmxTrans`:: See xref:type-JmxTransTemplate-reference[] for more details\n+`KafkaConnect.spec`:: See xref:type-KafkaConnectTemplate-reference[] for more details\n+`KafkaConnectS2I.spec`:: See xref:type-KafkaConnectTemplate-reference[] for more details\n+`KafkaMirrorMaker.spec`:: See xref:type-KafkaMirrorMakerTemplate-reference[] for more details\n+`KafkaMirrorMaker2.spec`:: See xref:type-KafkaMirrorMaker2Template-reference[] for more details\n+`KafkaBridge.spec`:: See xref:type-KafkaBridgeTemplate-reference[] for more details", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwMjI4MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447502280", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            |terminationGracePeriodSeconds  1.2+<.<|The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process.Value must be non-negative integer. The value zero indicates delete immediately. You might need to increase the grace period for very large Kafka clusters, so that the Kafka brokers have enough time to transfer their work to another broker before they are terminated. Defaults to 30 seconds.\n          \n          \n            \n            |terminationGracePeriodSeconds  1.2+<.<|The grace period is the duration in seconds after the processes running in the pod are sent a termination signal, and the time when the processes are forcibly halted with a kill signal. Set this value to longer than the expected cleanup time for your process. Value must be a non-negative integer. A zero value indicates delete immediately. You might need to increase the grace period for very large Kafka clusters, so that the Kafka brokers have enough time to transfer their work to another broker before they are terminated. Defaults to 30 seconds.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:23:07Z", "path": "documentation/modules/appendix_crds.adoc", "diffHunk": "@@ -1026,27 +1027,28 @@ Used in: xref:type-ExternalServiceTemplate-{context}[`ExternalServiceTemplate`],\n \n Used in: xref:type-CruiseControlTemplate-{context}[`CruiseControlTemplate`], xref:type-EntityOperatorTemplate-{context}[`EntityOperatorTemplate`], xref:type-JmxTransTemplate-{context}[`JmxTransTemplate`], xref:type-KafkaBridgeTemplate-{context}[`KafkaBridgeTemplate`], xref:type-KafkaClusterTemplate-{context}[`KafkaClusterTemplate`], xref:type-KafkaConnectTemplate-{context}[`KafkaConnectTemplate`], xref:type-KafkaExporterTemplate-{context}[`KafkaExporterTemplate`], xref:type-KafkaMirrorMakerTemplate-{context}[`KafkaMirrorMakerTemplate`], xref:type-ZookeeperClusterTemplate-{context}[`ZookeeperClusterTemplate`]\n \n+include::../api/io.strimzi.api.kafka.model.template.PodTemplate.adoc[leveloffset=+1]\n \n [options=\"header\"]\n |====\n |Property                              |Description\n |metadata                       1.2+<.<|Metadata applied to the resource.\n |xref:type-MetadataTemplate-{context}[`MetadataTemplate`]\n-|imagePullSecrets               1.2+<.<|List of references to secrets in the same namespace to use for pulling any of the images used by this Pod. See external documentation of https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#localobjectreference-v1-core[core/v1 localobjectreference].\n+|imagePullSecrets               1.2+<.<|List of references to secrets in the same namespace to use for pulling any of the images used by this Pod. When the `STRIMZI_IMAGE_PULL_SECRETS` environment variable in Cluster Operator and the `imagePullSecrets` option are specified, only the `imagePullSecrets` variable is used and the `STRIMZI_IMAGE_PULL_SECRETS` variable is ignored. See external documentation of https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#localobjectreference-v1-core[core/v1 localobjectreference].\n \n \n |https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#localobjectreference-v1-core[LocalObjectReference] array\n |securityContext                1.2+<.<|Configures pod-level security attributes and common container settings. See external documentation of https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#podsecuritycontext-v1-core[core/v1 podsecuritycontext].\n \n \n |https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/#podsecuritycontext-v1-core[PodSecurityContext]\n-|terminationGracePeriodSeconds  1.2+<.<|The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process.Value must be non-negative integer. The value zero indicates delete immediately. Defaults to 30 seconds.\n+|terminationGracePeriodSeconds  1.2+<.<|The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process.Value must be non-negative integer. The value zero indicates delete immediately. You might need to increase the grace period for very large Kafka clusters, so that the Kafka brokers have enough time to transfer their work to another broker before they are terminated. Defaults to 30 seconds.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwMzcyNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447503724", "bodyText": "Few minor changes to this description. Same wherever else it is used.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:25:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwMjI4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwNDYzNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447504634", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <33> xref:assembly-customizing-kubernetes-resources-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.\n          \n          \n            \n            <33> xref:assembly-customizing-kubernetes-resources-str[Template customization]. Here a pod is scheduled with anti-affinity, so the pod is not scheduled on nodes with the same hostname.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:26:38Z", "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "diffHunk": "@@ -207,7 +207,7 @@ You can use comma-separated lists.\n <30> Healthchecks to know when to restart a container (liveness) and when a container can accept traffic (readiness).\n <31> JVM configuration options to optimize performance for the Virtual Machine (VM) running Kafka MirrorMaker.\n <32> ADVANCED OPTION: Container image configuration, which is xref:con-configuring-container-images-deployment-configuration-kafka-mirror-maker[recommended only in special situations].\n-<33> xref:assembly-customizing-deployments-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.\n+<33> xref:assembly-customizing-kubernetes-resources-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzUwNDgwMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3255#discussion_r447504800", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <19> xref:assembly-customizing-kubernetes-resources-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.\n          \n          \n            \n            <19> xref:assembly-customizing-kubernetes-resources-str[Template customization]. Here a pod is scheduled with anti-affinity, so the pod is not scheduled on nodes with the same hostname.", "author": "PaulRMellor", "createdAt": "2020-06-30T08:26:53Z", "path": "documentation/modules/proc-configuring-mirror-maker.adoc", "diffHunk": "@@ -143,7 +143,7 @@ spec:\n <16> Prometheus metrics, which are enabled with configuration for the Prometheus JMX exporter in this example. You can enable metrics without further configuration using `metrics: {}`.\n <17> JVM configuration options to optimize performance for the Virtual Machine (VM) running Kafka MirrorMaker.\n <18> ADVANCED OPTION: Container image configuration, which is xref:con-configuring-container-images-{context}[recommended only in special situations].\n-<19> xref:assembly-customizing-deployments-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.\n+<19> xref:assembly-customizing-kubernetes-resources-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.", "originalCommit": "be9d55e1892acac4f9c405ceeabe2453237b809c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "364a25f470f2e622d8a3259040526306a46258d8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/364a25f470f2e622d8a3259040526306a46258d8", "message": "Apply suggestions from code review\r\n\r\nSigned-off-by: Jakub Scholz <www@scholzj.com>\n\nCo-authored-by: PaulRMellor <47596553+PaulRMellor@users.noreply.github.com>", "committedDate": "2020-06-30T09:07:02Z", "type": "commit"}, {"oid": "d73ef711ec3972b8eccf5fee9be68ed805420886", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d73ef711ec3972b8eccf5fee9be68ed805420886", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-06-30T09:20:20Z", "type": "commit"}]}