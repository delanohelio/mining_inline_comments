{"pr_number": 2549, "pr_title": "[MO] - [system test] -> oauth authentification with instrospection endpoint", "pr_createdAt": "2020-02-13T19:40:54Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2549", "timeline": [{"oid": "d470c0e6151892e16c98fa5706657b8b2a026e34", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d470c0e6151892e16c98fa5706657b8b2a026e34", "message": "[MO] - [spotbugs] -> fix\n\nSigned-off-by: Seequick1 <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-14T04:49:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTMyMTA2MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2549#discussion_r379321060", "bodyText": "I don't think we need two blank lines.", "author": "tombentley", "createdAt": "2020-02-14T09:14:04Z", "path": "systemtest/src/test/java/io/strimzi/systemtest/oauth/OauthBaseST.java", "diffHunk": "@@ -48,11 +48,14 @@\n \n     protected static final String OAUTH_CLIENT_NAME = \"hello-world-producer\";\n     protected static final String OAUTH_CLIENT_SECRET = \"hello-world-producer-secret\";\n+    protected static final String OAUTH_KAFKA_CLIENT_NAME = \"kafka-broker\";\n+", "originalCommit": "cd1d53e8d6835b4afe5fe1b7e3583c72a2a3c6f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8a063ef6d4fc7bd38d215d1e68d2a0cbdde59fc4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8a063ef6d4fc7bd38d215d1e68d2a0cbdde59fc4", "message": "[MO] - [system test] -> oauth authentifaction with introspection\n\nSigned-off-by: Seequick1 <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "d86b2d4b428767222a37996e64dbee0c51ee93ee", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d86b2d4b428767222a37996e64dbee0c51ee93ee", "message": "[MO] - [spotbugs] -> fix\n\nSigned-off-by: Seequick1 <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "e703b49feb8229c0a8ae99b1914192115bd7e12e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e703b49feb8229c0a8ae99b1914192115bd7e12e", "message": "[MO] - [system test] -> indent\n\nSigned-off-by: Seequick1 <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "2b3712bfb76d559f135b2bfc8b059361fe84863c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2b3712bfb76d559f135b2bfc8b059361fe84863c", "message": "[MO] - [system test] -> fix\n\nSigned-off-by: Seequick1 <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "aac4edd7d2b6865126979a2ae4eb0e5263673c14", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/aac4edd7d2b6865126979a2ae4eb0e5263673c14", "message": "[MO] - [fix] -> fix\n\nSigned-off-by: Seequick1 <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "6c3725110a3997013caa3ca9740243753672e593", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6c3725110a3997013caa3ca9740243753672e593", "message": "[MO] - [system test] -> fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "5e66e9e09bab5f6314eea9086e6fcc7d81d95800", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5e66e9e09bab5f6314eea9086e6fcc7d81d95800", "message": "[MO] - [crd] -> changes\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "commit"}, {"oid": "5e66e9e09bab5f6314eea9086e6fcc7d81d95800", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5e66e9e09bab5f6314eea9086e6fcc7d81d95800", "message": "[MO] - [crd] -> changes\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T07:56:22Z", "type": "forcePushed"}, {"oid": "abb35022220dce8a2dd7e59c80c088c3ba38c150", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/abb35022220dce8a2dd7e59c80c088c3ba38c150", "message": "[MO] - [oauth] -> ss\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T08:28:21Z", "type": "commit"}, {"oid": "5dcaa259e125ec6a7515bcd0d4fe49642d2a46c5", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5dcaa259e125ec6a7515bcd0d4fe49642d2a46c5", "message": "[MO] - [oauth] -> update\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T09:25:33Z", "type": "commit"}, {"oid": "761deffc9a51c78f791a26f342f74257aefa7f26", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/761deffc9a51c78f791a26f342f74257aefa7f26", "message": "[MO] - [fix] -> fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T09:26:54Z", "type": "commit"}, {"oid": "c7563679698c0913361ceb56180208b135a988bf", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c7563679698c0913361ceb56180208b135a988bf", "message": "[MO] - [oauth] -> fix fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T09:28:40Z", "type": "commit"}, {"oid": "c9c0423125b359039834b5d415fe83c2dbc51c98", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c9c0423125b359039834b5d415fe83c2dbc51c98", "message": "fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T09:33:12Z", "type": "commit"}, {"oid": "eb2c3aba52859cd29df479baa102f178ed3f9ddc", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/eb2c3aba52859cd29df479baa102f178ed3f9ddc", "message": "[MO] - [oauth] -> fix fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T09:34:44Z", "type": "commit"}, {"oid": "73767b2d1be94cb7dd8ef3a216b1a880866d5a65", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/73767b2d1be94cb7dd8ef3a216b1a880866d5a65", "message": "[MO] - [crd] -> update\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T10:19:56Z", "type": "commit"}, {"oid": "9fc768b4a552e2fa35808821e0ccf3950d56d283", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9fc768b4a552e2fa35808821e0ccf3950d56d283", "message": "[MO] - [tom] -> commend\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T10:39:24Z", "type": "commit"}, {"oid": "f7b5b64d9e0c2d3491e5a9c478d26fe65788a860", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f7b5b64d9e0c2d3491e5a9c478d26fe65788a860", "message": "[MO] - [helm change] -> fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T11:52:59Z", "type": "commit"}, {"oid": "f7b5b64d9e0c2d3491e5a9c478d26fe65788a860", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f7b5b64d9e0c2d3491e5a9c478d26fe65788a860", "message": "[MO] - [helm change] -> fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T11:52:59Z", "type": "forcePushed"}, {"oid": "559a5bf76006a037829ad579ba01eb0c6fdc81a8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/559a5bf76006a037829ad579ba01eb0c6fdc81a8", "message": "[MO] - [fix] -> fix\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T11:58:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDc1NTQxNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2549#discussion_r380755414", "bodyText": "I do not really understand the problem here. With regular YAMLs, when the field is not present, the minimum value is ignored and doesn't cause any issues.", "author": "scholzj", "createdAt": "2020-02-18T15:43:12Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/listener/KafkaListenerAuthenticationOAuth.java", "diffHunk": "@@ -95,8 +93,6 @@ public void setJwksEndpointUri(String jwksEndpointUri) {\n     @Description(\"Configures how often are the JWKS certificates refreshed. \" +\n             \"The refresh interval has to be at least 60 seconds shorter then the expiry interval specified in `jwksExpirySeconds`. \" +\n             \"Defaults to 300 seconds.\")\n-    @Minimum(1)", "originalCommit": "559a5bf76006a037829ad579ba01eb0c6fdc81a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0b7b2cf5f6887d9bd53e3e9cb01f47065391d7b1", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/0b7b2cf5f6887d9bd53e3e9cb01f47065391d7b1", "message": "[MO] - [fix] -> jakub + tom decision\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T16:54:44Z", "type": "commit"}, {"oid": "f6ea1b15ee40abee67571939e7caf920913cce65", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f6ea1b15ee40abee67571939e7caf920913cce65", "message": "[MO] - [cluster operator] -> fixing unit tests\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T17:52:41Z", "type": "commit"}, {"oid": "82031643ef94023171c239766584469a65be9153", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/82031643ef94023171c239766584469a65be9153", "message": "[MO] - [cluster operator] -> fix another tests\n\nSigned-off-by: see-quick <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-02-18T19:21:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkzNTAwNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2549#discussion_r380935006", "bodyText": "I do not really get it why did you added this condition. I do not think it is needed. You can use JWKS endpoint without specifying expire seconds or refeshs seconds. They have defaults.", "author": "scholzj", "createdAt": "2020-02-18T21:07:17Z", "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/KafkaCluster.java", "diffHunk": "@@ -1748,19 +1751,27 @@ private static void validateOauth(KafkaListenerAuthenticationOAuth oAuth, String\n             throw new InvalidResourceException(listener + \": Valid Issuer URI has to be specified\");\n         }\n \n+        if (oAuth.getJwksEndpointUri() != null && (oAuth.getJwksExpirySeconds() != null || oAuth.getJwksRefreshSeconds() != null)) {", "originalCommit": "82031643ef94023171c239766584469a65be9153", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f15edf4fb5ef92911fcf449948cf501b822ce5c4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f15edf4fb5ef92911fcf449948cf501b822ce5c4", "message": "Fix the conditions\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-02-18T21:15:35Z", "type": "commit"}, {"oid": "16c84332db65706ebbaae9e4609643c2fb6765a9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/16c84332db65706ebbaae9e4609643c2fb6765a9", "message": "Remove unused code and fix variable typo\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-02-18T21:17:48Z", "type": "commit"}, {"oid": "9933672092f84f7ce8fda7d0682c81436af19ce2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9933672092f84f7ce8fda7d0682c81436af19ce2", "message": "Unused import\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-02-18T21:53:57Z", "type": "commit"}]}