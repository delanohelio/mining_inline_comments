{"pr_number": 4030, "pr_title": "Add documentation for CC CORS", "pr_createdAt": "2020-12-01T17:47:30Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcxNTM3Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r533715376", "bodyText": "I would use capital letters for making CORS ... \"Cross-Origin Resource Sharing configuration\"", "author": "ppatierno", "createdAt": "2020-12-01T20:55:13Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-origin resource sharing configuration", "originalCommit": "5369b5f29352317eaf45c3195948a7c2032e775d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzcxNTQzNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r533715436", "bodyText": "ditto as above", "author": "ppatierno", "createdAt": "2020-12-01T20:55:21Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-origin resource sharing configuration\n+\n+By default, cross-origin resource sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.", "originalCommit": "5369b5f29352317eaf45c3195948a7c2032e775d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIwODgyMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536208820", "bodyText": "Add [discrete] after line 43.", "author": "laidan6000", "createdAt": "2020-12-04T16:09:09Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIwOTMxOQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536209319", "bodyText": "Add a general definition of CORS in a separate paragraph:\nCross-Origin Resource Sharing (CORS) allows you to specify allowed methods and originating URLs for accessing REST APIs.", "author": "laidan6000", "createdAt": "2020-12-04T16:09:47Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIwOTkzMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536209930", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n          \n          \n            \n            By default, CORS is disabled for the Cruise Control REST API. \n          \n          \n            \n            When enabled, only `GET` requests for read-only access to the Kafka cluster state are allowed.", "author": "laidan6000", "createdAt": "2020-12-04T16:10:45Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxMDQzNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536210436", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n          \n          \n            \n            This means that external applications, which are running in different origins than the Strimzi components, cannot make `POST` requests to the Cruise Control API.", "author": "laidan6000", "createdAt": "2020-12-04T16:11:28Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. ", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxMDYxMQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536210611", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.\n          \n          \n            \n            However, those applications can make GET requests to access read-only information about the Kafka cluster, such as the current cluster load or the most recent optimization proposal.", "author": "laidan6000", "createdAt": "2020-12-04T16:11:43Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n+However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxMTkwMw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536211903", "bodyText": "Do we need to say anything about how Strimzi \"approves\" a CORS request? It feels like some information is missing here.\nIf nothing else is needed, then I think we can lose the sentence (line 49).", "author": "laidan6000", "createdAt": "2020-12-04T16:13:42Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n+However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.\n+This prevents third-party applications from manipulating Kafka cluster state through Cruise Control without Strimzi approval but still allows third-party applications to access read-only cluster information from Cruise Control.", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxMjA1Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536212057", "bodyText": "Add a sub-heading and a new sentence:\n.Enabling CORS for Cruise Control\nYou enable CORS in Kafka.spec.cruiseControl.config.", "author": "laidan6000", "createdAt": "2020-12-04T16:13:57Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n+However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.\n+This prevents third-party applications from manipulating Kafka cluster state through Cruise Control without Strimzi approval but still allows third-party applications to access read-only cluster information from Cruise Control.\n+", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxMjY5NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536212694", "bodyText": "I think line 51 can be deleted.", "author": "laidan6000", "createdAt": "2020-12-04T16:14:57Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n+However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.\n+This prevents third-party applications from manipulating Kafka cluster state through Cruise Control without Strimzi approval but still allows third-party applications to access read-only cluster information from Cruise Control.\n+\n+.An example of enabling Cruise Control CORS", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxMzUzMg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536213532", "bodyText": "Add a link to the Wiki:\nFor more information, see REST APIs in the Cruise Control Wiki.", "author": "laidan6000", "createdAt": "2020-12-04T16:16:12Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n+However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.\n+This prevents third-party applications from manipulating Kafka cluster state through Cruise Control without Strimzi approval but still allows third-party applications to access read-only cluster information from Cruise Control.\n+\n+.An example of enabling Cruise Control CORS\n+[source,yaml,subs=\"attributes+\"]\n+----\n+apiVersion: {KafkaApiVersion}\n+kind: Kafka\n+metadata:\n+  name: my-cluster\n+spec:\n+  # ...\n+  cruiseControl:\n+    # ...\n+    config:\n+      webserver.http.cors.enabled: true\n+    # ...\n+----\n+", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjIxNDEwNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r536214104", "bodyText": "Are there any more configuration options for CORS? For example, how do you configure the allowed origins, like you can for the Kafka Bridge?", "author": "laidan6000", "createdAt": "2020-12-04T16:17:05Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +40,30 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+== Cross-Origin Resource Sharing configuration\n+\n+By default, Cross-Origin Resource Sharing (CORS) for Cruise Control is disabled and can only be enabled for read-only access.\n+This means that applications running in origins different from Strimzi components cannot send POST requests to the Cruise Control API. \n+However, these same applications can still send GET requests to the Cruise Control API when cors is enabled for Cruise Control.\n+This prevents third-party applications from manipulating Kafka cluster state through Cruise Control without Strimzi approval but still allows third-party applications to access read-only cluster information from Cruise Control.\n+\n+.An example of enabling Cruise Control CORS\n+[source,yaml,subs=\"attributes+\"]\n+----\n+apiVersion: {KafkaApiVersion}\n+kind: Kafka\n+metadata:\n+  name: my-cluster\n+spec:\n+  # ...\n+  cruiseControl:\n+    # ...\n+    config:", "originalCommit": "719a8284f0be787362545af1ad9590109b576446", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "dff840527e7a7d6dafe08ed13b546982816143a2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/dff840527e7a7d6dafe08ed13b546982816143a2", "message": "Add documentation for CC CORS\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-04T16:17:41Z", "type": "commit"}, {"oid": "c704d2f45200efb4170d1f14cc430713c9faeb32", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c704d2f45200efb4170d1f14cc430713c9faeb32", "message": "Capitalize CORS references\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-04T16:17:41Z", "type": "commit"}, {"oid": "6512a937115af92cd7d9c5b8c644f42c01160e08", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6512a937115af92cd7d9c5b8c644f42c01160e08", "message": "Update CHANGELOG.MD\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-04T16:18:24Z", "type": "commit"}, {"oid": "6512a937115af92cd7d9c5b8c644f42c01160e08", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6512a937115af92cd7d9c5b8c644f42c01160e08", "message": "Update CHANGELOG.MD\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-04T16:18:24Z", "type": "forcePushed"}, {"oid": "8c15796d9fa9494835606665c7905c6442eff0c3", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8c15796d9fa9494835606665c7905c6442eff0c3", "message": "Remove note irrelevant to Cruise Control config\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-04T18:05:55Z", "type": "commit"}, {"oid": "94e694fd4bba2fc9158db6635b072e744c2aa4c8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/94e694fd4bba2fc9158db6635b072e744c2aa4c8", "message": "Addressing comments\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-07T17:20:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIwMzMyMQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r538203321", "bodyText": "Typo line 49: his.", "author": "laidan6000", "createdAt": "2020-12-08T10:06:29Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +38,39 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+[discrete]\n+== Cross-Origin Resource Sharing configuration\n+\n+Cross-Origin Resource Sharing (CORS) allows you to specify allowed methods and originating URLs for accessing REST APIs.\n+\n+By default, CORS is disabled for the Cruise Control REST API.\n+When enabled, only `GET` requests for read-only access to the Kafka cluster state are allowed.\n+his means that external applications, which are running in different origins than the Strimzi components, cannot make `POST` requests to the Cruise Control API.", "originalCommit": "94e694fd4bba2fc9158db6635b072e744c2aa4c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIwMzg1MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r538203850", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            However, those applications can make GET requests to access read-only information about the Kafka cluster, such as the current cluster load or the most recent optimization proposal.\n          \n          \n            \n            However, those applications can make `GET` requests to access read-only information about the Kafka cluster, such as the current cluster load or the most recent optimization proposal.", "author": "laidan6000", "createdAt": "2020-12-08T10:07:12Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +38,39 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+[discrete]\n+== Cross-Origin Resource Sharing configuration\n+\n+Cross-Origin Resource Sharing (CORS) allows you to specify allowed methods and originating URLs for accessing REST APIs.\n+\n+By default, CORS is disabled for the Cruise Control REST API.\n+When enabled, only `GET` requests for read-only access to the Kafka cluster state are allowed.\n+his means that external applications, which are running in different origins than the Strimzi components, cannot make `POST` requests to the Cruise Control API.\n+However, those applications can make GET requests to access read-only information about the Kafka cluster, such as the current cluster load or the most recent optimization proposal.", "originalCommit": "94e694fd4bba2fc9158db6635b072e744c2aa4c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIwNTMxMw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4030#discussion_r538205313", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You enable CORS in `Kafka.spec.cruiseControl.config`.\n          \n          \n            \n            You enable and configure CORS in `Kafka.spec.cruiseControl.config`. \n          \n          \n            \n            For example:", "author": "laidan6000", "createdAt": "2020-12-08T10:09:18Z", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -40,6 +38,39 @@ spec:\n     # ...\n ----\n \n+[[cors-configuration]]\n+[discrete]\n+== Cross-Origin Resource Sharing configuration\n+\n+Cross-Origin Resource Sharing (CORS) allows you to specify allowed methods and originating URLs for accessing REST APIs.\n+\n+By default, CORS is disabled for the Cruise Control REST API.\n+When enabled, only `GET` requests for read-only access to the Kafka cluster state are allowed.\n+his means that external applications, which are running in different origins than the Strimzi components, cannot make `POST` requests to the Cruise Control API.\n+However, those applications can make GET requests to access read-only information about the Kafka cluster, such as the current cluster load or the most recent optimization proposal.\n+\n+.Enabling CORS for Cruise Control\n+\n+You enable CORS in `Kafka.spec.cruiseControl.config`.", "originalCommit": "94e694fd4bba2fc9158db6635b072e744c2aa4c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e66cfab50018df8e473d1d041d64a1a6344c59b8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e66cfab50018df8e473d1d041d64a1a6344c59b8", "message": "Addressing more comments\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-08T13:46:31Z", "type": "commit"}, {"oid": "ae9158feae8b8eee96b11e61ae38bf6c3e32801e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ae9158feae8b8eee96b11e61ae38bf6c3e32801e", "message": "Address another typo\n\nSigned-off-by: Kyle Liberti <kliberti@redhat.com>", "committedDate": "2020-12-08T16:57:49Z", "type": "commit"}]}