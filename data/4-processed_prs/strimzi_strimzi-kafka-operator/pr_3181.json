{"pr_number": 3181, "pr_title": "[DOC] Move \"Auto-created topics\" information for Cruise Control", "pr_createdAt": "2020-06-10T09:35:21Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181", "timeline": [{"oid": "799acb75215e34cf303f285cba20221881eadd70", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/799acb75215e34cf303f285cba20221881eadd70", "message": "Add auto-created topics info to CC deployment proc\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>", "committedDate": "2020-06-10T09:27:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAwMDg5MQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181#discussion_r438000891", "bodyText": "what's this .2+ ? From where this description is coming? I would get info from the CC Wiki Configurations here https://github.com/linkedin/cruise-control/wiki/Configurations. Changing the sampling interval is not so simple because it's even related to the sampling on the metrics reporter side so you would need to change both. I would avoid to mention it.", "author": "ppatierno", "createdAt": "2020-06-10T09:49:05Z", "path": "documentation/modules/cruise-control/proc-deploying-cruise-control.adoc", "diffHunk": "@@ -104,6 +104,33 @@ kubectl apply -f _kafka.yaml_\n kubectl get deployments -l app.kubernetes.io/name=strimzi\n ----\n \n+[discrete]\n+== Auto-created topics\n+\n+The following table shows the three topics that are automatically created when Cruise Control is deployed. These topics are required for Cruise Control to work properly and must not be deleted or changed.\n+\n+[cols=\"20,20,60\",options=\"header\",stripes=\"none\",separator=\u00a6]\n+|===\n+\n+m\u00a6Auto-created topic\n+\u00a6Created by\n+\u00a6Function\n+\n+m\u00a6strimzi.cruisecontrol.metrics\n+\u00a6Strimzi Metrics Reporter\n+\u00a6Reports broker metrics to Cruise Control.\n+\n+m\u00a6strimzi.cruisecontrol.partitionmetricsamples\n+\u00a6Cruise Control\n+.2+\u00a6Obtains metric samples from partitions every two minutes to generate workload snapshots. To change the sampling interval, edit `metric.sampling.interval.ms` in the Cruise Control deployment configuration. ", "originalCommit": "799acb75215e34cf303f285cba20221881eadd70", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxMTY0OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181#discussion_r438011648", "bodyText": "Yeah the description here doesn't really match what this topic is? See the description in my comment below. I would also remove the config as Paolo says.", "author": "tomncooper", "createdAt": "2020-06-10T10:07:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAwMDg5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxMjY1NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181#discussion_r438012654", "bodyText": "The .2+ is Asciidoc notation for a table cell that spans two rows. So, the same description is used for both of the \"samples\" topics. Is that correct here?\nI based the description on the \"Overview\" page in the Cruise Control Wiki: https://github.com/linkedin/cruise-control/wiki/Overview#sampling-tasks\nAh, I didn't realise the complexity involved. I will remove the part about the sampling interval.", "author": "laidan6000", "createdAt": "2020-06-10T10:09:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAwMDg5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAwMTAwOA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181#discussion_r438001008", "bodyText": "description missing?", "author": "ppatierno", "createdAt": "2020-06-10T09:49:15Z", "path": "documentation/modules/cruise-control/proc-deploying-cruise-control.adoc", "diffHunk": "@@ -104,6 +104,33 @@ kubectl apply -f _kafka.yaml_\n kubectl get deployments -l app.kubernetes.io/name=strimzi\n ----\n \n+[discrete]\n+== Auto-created topics\n+\n+The following table shows the three topics that are automatically created when Cruise Control is deployed. These topics are required for Cruise Control to work properly and must not be deleted or changed.\n+\n+[cols=\"20,20,60\",options=\"header\",stripes=\"none\",separator=\u00a6]\n+|===\n+\n+m\u00a6Auto-created topic\n+\u00a6Created by\n+\u00a6Function\n+\n+m\u00a6strimzi.cruisecontrol.metrics\n+\u00a6Strimzi Metrics Reporter\n+\u00a6Reports broker metrics to Cruise Control.\n+\n+m\u00a6strimzi.cruisecontrol.partitionmetricsamples\n+\u00a6Cruise Control\n+.2+\u00a6Obtains metric samples from partitions every two minutes to generate workload snapshots. To change the sampling interval, edit `metric.sampling.interval.ms` in the Cruise Control deployment configuration. \n+\n+m\u00a6strimzi.cruisecontrol.modeltrainingsamples\n+\u00a6Cruise Control\n+", "originalCommit": "799acb75215e34cf303f285cba20221881eadd70", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxMjk2OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181#discussion_r438012969", "bodyText": "See comment above about the cell span.", "author": "laidan6000", "createdAt": "2020-06-10T10:10:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAwMTAwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAwMTYxOQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3181#discussion_r438001619", "bodyText": "the info in the parenthesis doesn't make sense here. It could be removed.", "author": "ppatierno", "createdAt": "2020-06-10T09:50:17Z", "path": "documentation/modules/cruise-control/proc-deploying-cruise-control.adoc", "diffHunk": "@@ -104,6 +104,33 @@ kubectl apply -f _kafka.yaml_\n kubectl get deployments -l app.kubernetes.io/name=strimzi\n ----\n \n+[discrete]\n+== Auto-created topics\n+\n+The following table shows the three topics that are automatically created when Cruise Control is deployed. These topics are required for Cruise Control to work properly and must not be deleted or changed.\n+\n+[cols=\"20,20,60\",options=\"header\",stripes=\"none\",separator=\u00a6]\n+|===\n+\n+m\u00a6Auto-created topic\n+\u00a6Created by\n+\u00a6Function\n+\n+m\u00a6strimzi.cruisecontrol.metrics\n+\u00a6Strimzi Metrics Reporter\n+\u00a6Reports broker metrics to Cruise Control.\n+\n+m\u00a6strimzi.cruisecontrol.partitionmetricsamples\n+\u00a6Cruise Control\n+.2+\u00a6Obtains metric samples from partitions every two minutes to generate workload snapshots. To change the sampling interval, edit `metric.sampling.interval.ms` in the Cruise Control deployment configuration. \n+\n+m\u00a6strimzi.cruisecontrol.modeltrainingsamples\n+\u00a6Cruise Control\n+\n+|===\n+\n+Log compaction is disabled in the auto-created topics (`auto.create.topics.enable: false`). This prevents the removal of records that are needed by Cruise Control.", "originalCommit": "799acb75215e34cf303f285cba20221881eadd70", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a2e4edcc85f804d275961a23a90caa4e8cd60394", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a2e4edcc85f804d275961a23a90caa4e8cd60394", "message": "Added TC's descriptions of topics to table\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>", "committedDate": "2020-06-10T10:48:55Z", "type": "commit"}, {"oid": "9e6a694656126fd92892461f6363f82da5e073e9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9e6a694656126fd92892461f6363f82da5e073e9", "message": "Removed \"auto.create.topics.enable: false\" text\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>", "committedDate": "2020-06-10T10:51:39Z", "type": "commit"}]}