{"pr_number": 3569, "pr_title": "Option to reduce sensitive information output by report.sh", "pr_createdAt": "2020-08-31T12:33:15Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3569", "timeline": [{"oid": "32c4b39e7ca8c1cfd9ea762ea7100874919e6ab2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/32c4b39e7ca8c1cfd9ea762ea7100874919e6ab2", "message": "Option to reduce sensitive information output by report.sh\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-31T13:23:01Z", "type": "commit"}, {"oid": "32c4b39e7ca8c1cfd9ea762ea7100874919e6ab2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/32c4b39e7ca8c1cfd9ea762ea7100874919e6ab2", "message": "Option to reduce sensitive information output by report.sh\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-08-31T13:23:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIzNzU1Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3569#discussion_r484237553", "bodyText": "Probably should mention what the default is. And does it really need to be all? It seems like hidden might be better since most problems wouldn't require anyone to know the secrets.", "author": "tombentley", "createdAt": "2020-09-07T07:36:58Z", "path": "tools/report.sh", "diffHunk": "@@ -25,7 +26,7 @@ fi\n \n \n usage() {\n-\techo \"Usage: $0 --namespace=<string> --cluster=<string>\" 1>&2;\n+\techo \"Usage: $0 --namespace=<string> --cluster=<string> --secrets=(off|hidden|all)\" 1>&2;", "originalCommit": "32c4b39e7ca8c1cfd9ea762ea7100874919e6ab2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d81245efb9a91e8df8d6911e70dd813fec9b5465", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d81245efb9a91e8df8d6911e70dd813fec9b5465", "message": "hidden as default value\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-09-23T11:34:06Z", "type": "commit"}, {"oid": "d81245efb9a91e8df8d6911e70dd813fec9b5465", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d81245efb9a91e8df8d6911e70dd813fec9b5465", "message": "hidden as default value\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-09-23T11:34:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzU1MTQ1MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3569#discussion_r493551450", "bodyText": "You're only telling the user what the default is if they use the option incorrectly. I think it should be part of the usage output.", "author": "tombentley", "createdAt": "2020-09-23T12:51:25Z", "path": "tools/report.sh", "diffHunk": "@@ -53,6 +57,19 @@ if [ -z $cluster ] && [ -z $namespace ]; then\n    usage\n fi\n \n+if [ -z $secrets ]; then\n+  secrets=\"hidden\"\n+fi\n+\n+if [ \"$secrets\" != \"all\" ] && [ \"$secrets\" != \"off\" ] && [ \"$secrets\" != \"hidden\" ]; then\n+  echo \"Unknown secrets verbosity level. Use one of 'off', 'hidden' or 'all'.\"\n+  echo \" 'all' - secret keys and data values are reported\"\n+  echo \" 'hidden' - secrets with only data keys are reported\"\n+  echo \" 'off' - secrets are not reported at all\"\n+  echo \"Default value is 'hidden'\"", "originalCommit": "d81245efb9a91e8df8d6911e70dd813fec9b5465", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "daf63d4d9e8628df3fa05ebe53785d77e6a934c1", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/daf63d4d9e8628df3fa05ebe53785d77e6a934c1", "message": "hidden as default value2\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>", "committedDate": "2020-09-23T12:56:04Z", "type": "commit"}]}