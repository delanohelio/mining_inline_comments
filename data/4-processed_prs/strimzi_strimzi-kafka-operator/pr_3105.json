{"pr_number": 3105, "pr_title": "[DOC] OAUTH authentication minor doc edit", "pr_createdAt": "2020-05-27T13:51:05Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105", "timeline": [{"oid": "1907c9e912f5f1a951c3e11461f6faecbc0f5f8c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1907c9e912f5f1a951c3e11461f6faecbc0f5f8c", "message": "oauth minor doc edit\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-05-27T13:43:10Z", "type": "commit"}, {"oid": "d73a8671d8ccb071430abdbde5c0cb90c939bebd", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d73a8671d8ccb071430abdbde5c0cb90c939bebd", "message": "typo fix\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-05-27T16:38:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM4OTE5NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r431389194", "bodyText": "Is this intentionaly in this PR? It seems to be unrelated so I'm not sure.", "author": "scholzj", "createdAt": "2020-05-27T19:22:40Z", "path": "documentation/contributing/styleguide.adoc", "diffHunk": "@@ -127,15 +127,15 @@ Learn more about reusing content in the link:https://redhat-documentation.github\n [[replaceables]]\n == Styling replaceables\n \n-Replaceable values in the text and code must be styled as monospace, italics, lowercase, arrow brackets, and hyphens.\n+Replaceable values in the text and code should be styled in `monospace`, with italics, uppercase, and hyphens.", "originalCommit": "d73a8671d8ccb071430abdbde5c0cb90c939bebd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY1ODIyNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r431658224", "bodyText": "It's half-related. We're starting to apply a new replaceables format to the doc, which I used on the new oauth config. So I thought I would update the directions too.", "author": "PaulRMellor", "createdAt": "2020-05-28T08:12:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM4OTE5NA=="}], "type": "inlineReview"}, {"oid": "7135b3bcf05a941287a32fc4d5cd29d8086071f3", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7135b3bcf05a941287a32fc4d5cd29d8086071f3", "message": "format change\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-05-28T08:09:17Z", "type": "commit"}, {"oid": "b5361684074a5ebafedc52ccbb859f669caf1140", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b5361684074a5ebafedc52ccbb859f669caf1140", "message": "attribute format\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-05-29T08:56:32Z", "type": "commit"}, {"oid": "44e26c1984fbc38ae1d980688aca04e734e37bf4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/44e26c1984fbc38ae1d980688aca04e734e37bf4", "message": "review edit\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-05-29T10:16:15Z", "type": "commit"}, {"oid": "339fe9ea759d096a59f2371dca081ec810d43637", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/339fe9ea759d096a59f2371dca081ec810d43637", "message": "change to scope property\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-01T09:35:30Z", "type": "commit"}, {"oid": "a56f34c1f8c874d4bba8d296fb0f998e0c434971", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a56f34c1f8c874d4bba8d296fb0f998e0c434971", "message": "change to scope property\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-01T09:37:02Z", "type": "commit"}, {"oid": "1cb9aed3fa04cd7493cc89d4448651f9464ba922", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1cb9aed3fa04cd7493cc89d4448651f9464ba922", "message": "review edit LK\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-02T09:34:06Z", "type": "commit"}, {"oid": "e25734db26364c6bc58909a37ea428ab1ebe31b8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e25734db26364c6bc58909a37ea428ab1ebe31b8", "message": "review edits PM\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-02T10:13:23Z", "type": "commit"}, {"oid": "6922d313ebb2f1c9bdb55bc8d7e4c51124797f7c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6922d313ebb2f1c9bdb55bc8d7e4c51124797f7c", "message": "review edits PM\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-02T10:14:55Z", "type": "commit"}, {"oid": "8107cb76ed4d2f244685d2d2ffa10959f024df15", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8107cb76ed4d2f244685d2d2ffa10959f024df15", "message": "review edit PM\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-02T10:20:12Z", "type": "commit"}, {"oid": "9158a8d98b84eb23d754c3fc9add2e355abb5ca6", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9158a8d98b84eb23d754c3fc9add2e355abb5ca6", "message": "review edit PM\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-02T10:27:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA1MjQxNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r434052416", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                userInfoEndpointUri: __https://OAUTH-SEVER-ADDRESS/auth/realms/external/protocol/openid-connect/userinfo__ <5>\n          \n          \n            \n                userInfoEndpointUri: __https://OAUTH-SERVER-ADDRESS/auth/realms/external/protocol/openid-connect/userinfo__ <5>", "author": "mstruk", "createdAt": "2020-06-02T17:33:36Z", "path": "documentation/modules/oauth/proc-oauth-authentication-broker-config.adoc", "diffHunk": "@@ -108,13 +108,13 @@ Depending on how you apply {oauth} authentication, and the type of authorization\n     fallbackUserNameClaim: client_id <2>\n     fallbackUserNamePrefix: client-account- <3>\n     validTokenType: bearer <4>\n-    userInfoEndpointUri: <__https://<auth-server-address>/auth/realms/external/protocol/openid-connect/userinfo__> <5>\n+    userInfoEndpointUri: __https://OAUTH-SEVER-ADDRESS/auth/realms/external/protocol/openid-connect/userinfo__ <5>", "originalCommit": "9158a8d98b84eb23d754c3fc9add2e355abb5ca6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyMzY4OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r434523689", "bodyText": "Typo!", "author": "PaulRMellor", "createdAt": "2020-06-03T12:19:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA1MjQxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA2MjA2Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r434062063", "bodyText": "I realise this is a copy paste from upstream docs, and reading it again I think that it should be improved.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <2> An authorization server may not provide a single attribute to identify both regular users and clients. A client authenticating in its own name might provide a _client ID_. But a user authenticating using a username and password, to obtain a refresh token or an access token, might provide a _username_ attribute in addition to a client ID. Use this fallback option to specify the username claim (attribute) to use if a primary user ID attribute is not available.\n          \n          \n            \n            <2> An authorization server may not provide a single attribute to identify both regular users and clients. When a client authenticates in its own name the server might provide a _client ID_. When a user authenticates using a username and password, to obtain a refresh token or an access token, the server might provide a _username_ attribute in addition to a client ID. Use this fallback option to specify the username claim (attribute) to use if a primary user ID attribute is not available.", "author": "mstruk", "createdAt": "2020-06-02T17:50:05Z", "path": "documentation/modules/oauth/proc-oauth-authentication-broker-config.adoc", "diffHunk": "@@ -108,13 +108,13 @@ Depending on how you apply {oauth} authentication, and the type of authorization\n     fallbackUserNameClaim: client_id <2>\n     fallbackUserNamePrefix: client-account- <3>\n     validTokenType: bearer <4>\n-    userInfoEndpointUri: <__https://<auth-server-address>/auth/realms/external/protocol/openid-connect/userinfo__> <5>\n+    userInfoEndpointUri: __https://OAUTH-SEVER-ADDRESS/auth/realms/external/protocol/openid-connect/userinfo__ <5>\n ----\n <1> If your authorization server does not provide an `iss` claim, it is not possible to perform an issuer check. In this situation, set `checkIssuer` to `false` and do not specify a `validIssuerUri`. Default is `true`.\n-<2> An authorization server may not provide a single attribute to identify both regular users and clients. A client authenticating in its own name might provide a `client_id`. But a user authenticating using a username and password, to obtain a refresh token or an access token, might provide a `username` attribute in addition to a `client_id`. Use this fallback option to specify the username claim (attribute) to use if a primary user id attribute is not available.\n-<3> In situations where `fallbackUserNameClaim` is applicable, it may also be necessary to prevent name collisions between the values of the username claim, and those of the fallback username claim. Consider a situation where a client called `producer` exists, but also a regular user called `producer` exists. In order to differentiate between the two, you can use this property to add a prefix to the user id of the client.\n-<4> (Only applicable when using `introspectionEndpointUri`) Depending on the authorization server you are using, the Introspection Endpoint may or may not return the `token_type` attribute., or it may contain different values. You can specify a valid token type value that the response from the Introspection Endpoint has to contain.\n-<5> (Only applicable when using `introspectionEndpointUri`) The authorization server may be configured or implemented in such a way to not provide any identifiable information in an Introspection Endpoint response. In order to obtain the user id, you can configure the URI of the User Info Endpoint as a fallback. The `userNameClaim`, `fallbackUserNameClaim`, and `fallbackUserNamePrefix` settings are applied to the response of User Info Endpoint.\n+<2> An authorization server may not provide a single attribute to identify both regular users and clients. A client authenticating in its own name might provide a _client ID_. But a user authenticating using a username and password, to obtain a refresh token or an access token, might provide a _username_ attribute in addition to a client ID. Use this fallback option to specify the username claim (attribute) to use if a primary user ID attribute is not available.", "originalCommit": "9158a8d98b84eb23d754c3fc9add2e355abb5ca6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA2NDkzNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r434064934", "bodyText": "I'm not sure if this was a typo - token_type is the literal name of the attribute returned buy the server. It seems as if you wanted to remove the underscore, but you mistakenly removed the letter 'n'. Was that your intent?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <4> (Only applicable when using `introspectionEndpointUri`) Depending on the authorization server you are using, the introspection endpoint may or may not return the _toke type_ attribute, or it may contain different values. You can specify a valid token type value that the response from the introspection endpoint has to contain.\n          \n          \n            \n            <4> (Only applicable when using `introspectionEndpointUri`) Depending on the authorization server you are using, the introspection endpoint may or may not return the _token type_ attribute, or it may contain different values. You can specify a valid token type value that the response from the introspection endpoint has to contain.", "author": "mstruk", "createdAt": "2020-06-02T17:54:59Z", "path": "documentation/modules/oauth/proc-oauth-authentication-broker-config.adoc", "diffHunk": "@@ -108,13 +108,13 @@ Depending on how you apply {oauth} authentication, and the type of authorization\n     fallbackUserNameClaim: client_id <2>\n     fallbackUserNamePrefix: client-account- <3>\n     validTokenType: bearer <4>\n-    userInfoEndpointUri: <__https://<auth-server-address>/auth/realms/external/protocol/openid-connect/userinfo__> <5>\n+    userInfoEndpointUri: __https://OAUTH-SEVER-ADDRESS/auth/realms/external/protocol/openid-connect/userinfo__ <5>\n ----\n <1> If your authorization server does not provide an `iss` claim, it is not possible to perform an issuer check. In this situation, set `checkIssuer` to `false` and do not specify a `validIssuerUri`. Default is `true`.\n-<2> An authorization server may not provide a single attribute to identify both regular users and clients. A client authenticating in its own name might provide a `client_id`. But a user authenticating using a username and password, to obtain a refresh token or an access token, might provide a `username` attribute in addition to a `client_id`. Use this fallback option to specify the username claim (attribute) to use if a primary user id attribute is not available.\n-<3> In situations where `fallbackUserNameClaim` is applicable, it may also be necessary to prevent name collisions between the values of the username claim, and those of the fallback username claim. Consider a situation where a client called `producer` exists, but also a regular user called `producer` exists. In order to differentiate between the two, you can use this property to add a prefix to the user id of the client.\n-<4> (Only applicable when using `introspectionEndpointUri`) Depending on the authorization server you are using, the Introspection Endpoint may or may not return the `token_type` attribute., or it may contain different values. You can specify a valid token type value that the response from the Introspection Endpoint has to contain.\n-<5> (Only applicable when using `introspectionEndpointUri`) The authorization server may be configured or implemented in such a way to not provide any identifiable information in an Introspection Endpoint response. In order to obtain the user id, you can configure the URI of the User Info Endpoint as a fallback. The `userNameClaim`, `fallbackUserNameClaim`, and `fallbackUserNamePrefix` settings are applied to the response of User Info Endpoint.\n+<2> An authorization server may not provide a single attribute to identify both regular users and clients. A client authenticating in its own name might provide a _client ID_. But a user authenticating using a username and password, to obtain a refresh token or an access token, might provide a _username_ attribute in addition to a client ID. Use this fallback option to specify the username claim (attribute) to use if a primary user ID attribute is not available.\n+<3> In situations where `fallbackUserNameClaim` is applicable, it may also be necessary to prevent name collisions between the values of the username claim, and those of the fallback username claim. Consider a situation where a client called `producer` exists, but also a regular user called `producer` exists. In order to differentiate between the two, you can use this property to add a prefix to the user ID of the client.\n+<4> (Only applicable when using `introspectionEndpointUri`) Depending on the authorization server you are using, the introspection endpoint may or may not return the _toke type_ attribute, or it may contain different values. You can specify a valid token type value that the response from the introspection endpoint has to contain.", "originalCommit": "9158a8d98b84eb23d754c3fc9add2e355abb5ca6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNTMyMg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3105#discussion_r434525322", "bodyText": "Typo!", "author": "PaulRMellor", "createdAt": "2020-06-03T12:22:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA2NDkzNA=="}], "type": "inlineReview"}, {"oid": "3bf9a4776651801ae9e8ff6eed8ad4f8077f41cd", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3bf9a4776651801ae9e8ff6eed8ad4f8077f41cd", "message": "review edits MS\n\nSigned-off-by: prmellor <pmellor@redhat.com>", "committedDate": "2020-06-03T12:23:24Z", "type": "commit"}]}