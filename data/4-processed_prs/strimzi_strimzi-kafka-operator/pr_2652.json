{"pr_number": 2652, "pr_title": "feat: Fail make docker_build if yq version not 3", "pr_createdAt": "2020-03-06T11:25:04Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652", "timeline": [{"oid": "75db5dfdc3bfb99382797064c6b4d8c458d60e74", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/75db5dfdc3bfb99382797064c6b4d8c458d60e74", "message": "feat: Fail make docker_build if yq version not 3\n\nMultiple people myself included have been bitten by having\nthe wrong yq version. The docs have been updated to reflect\nthis, but considering the builds will fail with obscure\nmistemplated file errors it would be better to check upfront\nthe yq version.\nIf a user does not have yq version 3.*.* then it will fail\nthe build and print the warning in red.\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>", "committedDate": "2020-03-06T11:22:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkyNDE5MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652#discussion_r388924190", "bodyText": "I wonder if we should add it also to all ... I guess lot of people might just do make all", "author": "scholzj", "createdAt": "2020-03-06T14:13:28Z", "path": "Makefile", "diffHunk": "@@ -18,7 +18,7 @@ DOCKER_TARGETS=docker_build docker_push docker_tag\n \n all: $(SUBDIRS)\n clean: $(SUBDIRS) docu_clean\n-$(DOCKER_TARGETS): $(SUBDIRS)\n+$(DOCKER_TARGETS): yq_check $(SUBDIRS)", "originalCommit": "75db5dfdc3bfb99382797064c6b4d8c458d60e74", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk1MzM3Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652#discussion_r388953373", "bodyText": "Good point, and done.", "author": "samuel-hawker", "createdAt": "2020-03-06T15:02:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkyNDE5MA=="}], "type": "inlineReview"}, {"oid": "3158cbc15ab749a6493e7c03e795e66c636ef5bf", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3158cbc15ab749a6493e7c03e795e66c636ef5bf", "message": "feat: Run yq_check on make all\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>", "committedDate": "2020-03-06T15:01:27Z", "type": "commit"}]}