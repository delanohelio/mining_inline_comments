{"pr_number": 2787, "pr_title": "chore: Kafka 2.4.1 update", "pr_createdAt": "2020-04-05T15:14:28Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcxNzM4MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r403717380", "bodyText": "Given how the upgrade works, we need to at least for one release support both 2.4.0 and 2.4.1 ... so I think this section needs to be uncommented.", "author": "scholzj", "createdAt": "2020-04-05T15:29:44Z", "path": "kafka-versions.yaml", "diffHunk": "@@ -35,11 +35,19 @@\n   third-party-libs: 2.3.x\n   default: false\n   unsupported-features: kafkaMirrorMaker2\n-- version: 2.4.0\n+# - version: 2.4.0", "originalCommit": "63beff749d5b5856994a4b1e9ec46622ff98213a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MTIwNw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r410061207", "bodyText": "For upgrade from 0.15.0 to 0.16.2 you cannot change kafka version to 2.4.1 because there are no kafka 2.4.1 for it. Keep 2.4.0 here.", "author": "Frawless", "createdAt": "2020-04-17T08:08:28Z", "path": "systemtest/src/main/resources/StrimziUpgradeST.json", "diffHunk": "@@ -157,8 +157,8 @@\n       \"userOperator\": \"strimzi/operator:0.16.2\"\n     },\n     \"imagesAfterKafkaUpdate\": {\n-      \"zookeeper\": \"strimzi/kafka:0.16.2-kafka-2.4.0\",\n-      \"kafka\": \"strimzi/kafka:0.16.2-kafka-2.4.0\",\n+      \"zookeeper\": \"strimzi/kafka:0.16.2-kafka-2.4.1\",\n+      \"kafka\": \"strimzi/kafka:0.16.2-kafka-2.4.1\",", "originalCommit": "06061c5afca72b11164fd8fc8d828ad43d96dfbc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MTMxNQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r410061315", "bodyText": "Same as above", "author": "Frawless", "createdAt": "2020-04-17T08:08:39Z", "path": "systemtest/src/main/resources/StrimziUpgradeST.json", "diffHunk": "@@ -167,12 +167,12 @@\n       \"logMessageVersion\": \"\"\n     },\n     \"proceduresAfter\": {\n-      \"kafkaVersion\": \"2.4.0\",\n+      \"kafkaVersion\": \"2.4.1\",", "originalCommit": "06061c5afca72b11164fd8fc8d828ad43d96dfbc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MTM4MQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r410061381", "bodyText": "Same as above", "author": "Frawless", "createdAt": "2020-04-17T08:08:45Z", "path": "systemtest/src/main/resources/StrimziUpgradeST.json", "diffHunk": "@@ -167,12 +167,12 @@\n       \"logMessageVersion\": \"\"\n     },\n     \"proceduresAfter\": {\n-      \"kafkaVersion\": \"2.4.0\",\n+      \"kafkaVersion\": \"2.4.1\",\n       \"logMessageVersion\": \"2.4\"\n     },\n     \"client\": {\n       \"beforeKafkaUpdate\": \"strimzi/test-client:0.15.0-kafka-2.3.1\",\n-      \"afterKafkaUpdate\": \"strimzi/test-client:0.16.2-kafka-2.4.0\"\n+      \"afterKafkaUpdate\": \"strimzi/test-client:0.16.2-kafka-2.4.1\"", "originalCommit": "06061c5afca72b11164fd8fc8d828ad43d96dfbc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2OTUzOQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r410069539", "bodyText": "I think this needs to be 2.4.0 as well", "author": "scholzj", "createdAt": "2020-04-17T08:24:24Z", "path": "systemtest/src/main/resources/StrimziUpgradeST.json", "diffHunk": "@@ -187,14 +187,14 @@\n     \"urlFrom\":\"https://github.com/strimzi/strimzi-kafka-operator/releases/download/0.16.2/strimzi-0.16.2.zip\",\n     \"urlTo\":\"HEAD\",\n     \"imagesBeforeKafkaUpdate\": {\n-      \"zookeeper\": \"strimzi/kafka:latest-kafka-2.4.0\",\n-      \"kafka\": \"strimzi/kafka:latest-kafka-2.4.0\",\n+      \"zookeeper\": \"strimzi/kafka:latest-kafka-2.4.1\",", "originalCommit": "06061c5afca72b11164fd8fc8d828ad43d96dfbc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2OTU3Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r410069573", "bodyText": "I think this needs to be 2.4.0 as well", "author": "scholzj", "createdAt": "2020-04-17T08:24:28Z", "path": "systemtest/src/main/resources/StrimziUpgradeST.json", "diffHunk": "@@ -187,14 +187,14 @@\n     \"urlFrom\":\"https://github.com/strimzi/strimzi-kafka-operator/releases/download/0.16.2/strimzi-0.16.2.zip\",\n     \"urlTo\":\"HEAD\",\n     \"imagesBeforeKafkaUpdate\": {\n-      \"zookeeper\": \"strimzi/kafka:latest-kafka-2.4.0\",\n-      \"kafka\": \"strimzi/kafka:latest-kafka-2.4.0\",\n+      \"zookeeper\": \"strimzi/kafka:latest-kafka-2.4.1\",\n+      \"kafka\": \"strimzi/kafka:latest-kafka-2.4.1\",", "originalCommit": "06061c5afca72b11164fd8fc8d828ad43d96dfbc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2OTYzMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2787#discussion_r410069630", "bodyText": "I think this needs to be 2.4.0 as well", "author": "scholzj", "createdAt": "2020-04-17T08:24:34Z", "path": "systemtest/src/main/resources/StrimziUpgradeST.json", "diffHunk": "@@ -208,7 +208,7 @@\n     },\n     \"client\": {\n       \"beforeKafkaUpdate\": \"strimzi/test-client:0.16.2-kafka-2.3.1\",", "originalCommit": "06061c5afca72b11164fd8fc8d828ad43d96dfbc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0df9ef73a9bd051aa228a4dfffdcee2da3cfe733", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/0df9ef73a9bd051aa228a4dfffdcee2da3cfe733", "message": "chore: Kafka 2.4.1 support\n\nThe version of ZooKeeper in versions yaml is also updated to\n3.5.7 to match the default version of ZooKeeper that comes\nwith Kafka 2.4.1.\n\nSigned-off-by: Dale Lane <dale.lane@uk.ibm.com>", "committedDate": "2020-04-22T08:00:43Z", "type": "commit"}]}