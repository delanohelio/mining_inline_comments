{"pr_number": 3342, "pr_title": "fix: grep error in yq version check", "pr_createdAt": "2020-07-20T11:18:55Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3342", "timeline": [{"oid": "ae57b8df6c220727981931f05bbbc2c59c2e5d1b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ae57b8df6c220727981931f05bbbc2c59c2e5d1b", "message": "fix: grep error in yq version check\n\nOutput of yq --version has changed from stdout to stderr\nThis commit handles both outputs\nCurrent fix uses grep -P argument, which is exclusive to GNU version\nof grep, but results in an unrecognised option error in the BSD or\nBusyBox version of grep\nThis commit removes the need for a second version check using grep\n\nSigned-off-by: Dave Lane <davilane@uk.ibm.com>", "committedDate": "2020-07-20T11:48:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzMTk4OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3342#discussion_r457331988", "bodyText": "You should probably remove the comment which was related to the code below which you removed.", "author": "scholzj", "createdAt": "2020-07-20T12:20:46Z", "path": "prerequisites-check.sh", "diffHunk": "@@ -15,11 +15,8 @@ check_command_present mvn\n check_command_present git\n check_command_present docker\n \n-YQ_VERSION=\"$(yq --version | ${SED} 's/^.* //g')\"\n+YQ_VERSION=\"$(yq --version 2>&1 | ${SED} 's/^.* //g')\"\n # After version 3.3.1, yq --version sends the string to STDERR instead of STDOUT", "originalCommit": "ae57b8df6c220727981931f05bbbc2c59c2e5d1b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzNjkzNQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3342#discussion_r457336935", "bodyText": "This comment is still relevant to the changed line, is it worth moving it to the line above or is the code now sufficiently self-explanatory that the comment can just be removed?", "author": "its-dave", "createdAt": "2020-07-20T12:28:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzMTk4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzNzcwMQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3342#discussion_r457337701", "bodyText": "Yeah ... I'm fine if you move it ... it just makes no sense below.", "author": "scholzj", "createdAt": "2020-07-20T12:29:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzMTk4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzM0MzM2MQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3342#discussion_r457343361", "bodyText": "Comment moved", "author": "its-dave", "createdAt": "2020-07-20T12:37:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzMTk4OA=="}], "type": "inlineReview"}, {"oid": "8ab99a7488af7884b484bf86583285f11643c2ed", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8ab99a7488af7884b484bf86583285f11643c2ed", "message": "fix: grep error in yq version check\n\nOutput of yq --version has changed from stdout to stderr\nThis commit handles both outputs\nCurrent fix uses grep -P argument, which is exclusive to GNU version\nof grep, but results in an unrecognised option error in the BSD or\nBusyBox version of grep\nThis commit removes the need for a second version check using grep\n\nSigned-off-by: Dave Lane <davilane@uk.ibm.com>", "committedDate": "2020-07-20T12:37:02Z", "type": "commit"}, {"oid": "8ab99a7488af7884b484bf86583285f11643c2ed", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8ab99a7488af7884b484bf86583285f11643c2ed", "message": "fix: grep error in yq version check\n\nOutput of yq --version has changed from stdout to stderr\nThis commit handles both outputs\nCurrent fix uses grep -P argument, which is exclusive to GNU version\nof grep, but results in an unrecognised option error in the BSD or\nBusyBox version of grep\nThis commit removes the need for a second version check using grep\n\nSigned-off-by: Dave Lane <davilane@uk.ibm.com>", "committedDate": "2020-07-20T12:37:02Z", "type": "forcePushed"}]}