{"pr_number": 3523, "pr_title": "[systemtest] Add forgotten profile tags to tests", "pr_createdAt": "2020-08-18T12:11:28Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzNjk0Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472136942", "bodyText": "You can rename it to smoke", "author": "Frawless", "createdAt": "2020-08-18T12:24:15Z", "path": "development-docs/TESTING.md", "diffHunk": "@@ -148,29 +148,36 @@ The following table shows currently used tags:\n \n | Name               | Description                                                                        |\n | :----------------: | :--------------------------------------------------------------------------------: |\n-| travis             | Marks tests executed on Travis                                                     |\n | acceptance         | Acceptance tests, which guarantee, that basic functionality of Strimzi is working. |\n | regression         | Regression tests, which contains all non-flaky tests.                              |\n | upgrade            | Upgrade tests for specific versions of the Strimzi.                                |\n+| travis             | Marks tests executed on Travis                                                     |", "originalCommit": "2c0a56cda74c0361e94b4f5dc14407d4c308419a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzNzU3Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472137577", "bodyText": "WHat's difference between this and scale?", "author": "Frawless", "createdAt": "2020-08-18T12:25:18Z", "path": "development-docs/TESTING.md", "diffHunk": "@@ -148,29 +148,36 @@ The following table shows currently used tags:\n \n | Name               | Description                                                                        |\n | :----------------: | :--------------------------------------------------------------------------------: |\n-| travis             | Marks tests executed on Travis                                                     |\n | acceptance         | Acceptance tests, which guarantee, that basic functionality of Strimzi is working. |\n | regression         | Regression tests, which contains all non-flaky tests.                              |\n | upgrade            | Upgrade tests for specific versions of the Strimzi.                                |\n+| travis             | Marks tests executed on Travis                                                     |\n | flaky              | Execute all flaky tests (tests, which are failing from time to time)               |\n+| scalability        | Execute scalability tests                                                          |", "originalCommit": "2c0a56cda74c0361e94b4f5dc14407d4c308419a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE0MzY4Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472143686", "bodyText": "I was thinking about it, I split it to scalability -> test where big amount of users/topics are created, scale -> resource is scaled up/down.\nBut my first idea was to keep only scalability. Do you want to remove the scale tag?", "author": "im-konge", "createdAt": "2020-08-18T12:35:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzNzU3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE3NjA2NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472176064", "bodyText": "I was thinking about it, I split it to scalability -> test where big amount of users/topics are created, scale -> resource is scaled up/down.\nBut my first idea was to keep only scalability. Do you want to remove the scale tag?\n\nI would say, that both your cases fall into scalability tag group :)", "author": "michalxo", "createdAt": "2020-08-18T13:08:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzNzU3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE5NzQ1Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472197456", "bodyText": "Okay :D I wasn't sure, thanks", "author": "im-konge", "createdAt": "2020-08-18T13:29:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzNzU3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzODAxNw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472138017", "bodyText": "Well....you should use only one tag and put it to every test which tests rolling update somehow from my POV.", "author": "Frawless", "createdAt": "2020-08-18T12:26:02Z", "path": "development-docs/TESTING.md", "diffHunk": "@@ -148,29 +148,36 @@ The following table shows currently used tags:\n \n | Name               | Description                                                                        |\n | :----------------: | :--------------------------------------------------------------------------------: |\n-| travis             | Marks tests executed on Travis                                                     |\n | acceptance         | Acceptance tests, which guarantee, that basic functionality of Strimzi is working. |\n | regression         | Regression tests, which contains all non-flaky tests.                              |\n | upgrade            | Upgrade tests for specific versions of the Strimzi.                                |\n+| travis             | Marks tests executed on Travis                                                     |\n | flaky              | Execute all flaky tests (tests, which are failing from time to time)               |\n+| scalability        | Execute scalability tests                                                          |\n+| specific           | Specific tests, which cannot be easily added to other categories                   |\n | nodeport           | Execute tests which use external lister of type nodeport                           |\n | loadbalancer       | Execute tests which use external lister of type loadbalancer                       |\n-| bridge             | Execute tests which use Kafka Bridge                                               |\n-| specific           | Specific tests, which cannot be easily added to other categories                   |\n | networkpolicies    | Execute tests which use Kafka with Network Policies                                |\n-| tracing            | Execute tests for Tracing                                                          |\n | prometheus         | Execute tests for Kafka with Prometheus                                            |\n-| oauth              | Execute tests which use OAuth                                                      |\n+| tracing            | Execute tests for Tracing                                                          |\n | helm               | Execute tests which use Helm for deploy cluster operator                           |\n-| olm                | Execute tests which use OLM for deploy cluster operator                            |\n+| oauth              | Execute tests which use OAuth                                                      |\n+| recovery           | Execute recovery tests                                                             |\n | connectoroperator  | Execute tests which deploy KafkaConnector resource                                 |\n | connect            | Execute tests which deploy KafkaConnect resource                                   |\n | connects2i         | Execute tests which deploy KafkaConnectS2I resource                                |\n | mirrormaker        | Execute tests which deploy KafkaMirrorMaker resource                               |\n | mirrormaker2       | Execute tests which deploy KafkaMirrorMaker2 resource                              |\n | conneccomponents   | Execute tests which deploy KafkaConnect, KafkaConnectS2I, KafkaMirrorMaker2, KafkaConnector resources |\n+| bridge             | Execute tests which use Kafka Bridge                                               |\n | internalclients    | Execute tests which use internal (from pod) kafka clients in tests                 |\n | externalclients    | Execute tests which use external (from code) kafka clients in tests                |\n+| olm                | Execute tests which use OLM for deploy cluster operator                            |\n+| metrics            | Execute tests where metrics are used                                               |\n+| cruisecontrol      | Execute tests which deploy CruiseControl resource                                  |\n+| scale              | Execute tests where are resources (its pods) scaled up/down                        |\n+| rollingupdate      | Execute tests where is rolling update triggered                                    |\n+| norollingupdate    | Execute tests where resource (and its pods) should not roll                        |", "originalCommit": "2c0a56cda74c0361e94b4f5dc14407d4c308419a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE0NTc1NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472145754", "bodyText": "Yep that's sound fair. I was thinking that if you use the norollingupdate tag when someone add some feature and you want to try, if the tests where rolling update should not be triggered are passing, you use this one to skip all other rolling update tests.", "author": "im-konge", "createdAt": "2020-08-18T12:37:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzODAxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzODc1OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472138759", "bodyText": "This is actually not true. We can execute mostly all of the tests with CO installed via OLM. This tag should be for tests, which tests examples from Strimzi manifests.", "author": "Frawless", "createdAt": "2020-08-18T12:27:18Z", "path": "development-docs/TESTING.md", "diffHunk": "@@ -148,29 +148,36 @@ The following table shows currently used tags:\n \n | Name               | Description                                                                        |\n | :----------------: | :--------------------------------------------------------------------------------: |\n-| travis             | Marks tests executed on Travis                                                     |\n | acceptance         | Acceptance tests, which guarantee, that basic functionality of Strimzi is working. |\n | regression         | Regression tests, which contains all non-flaky tests.                              |\n | upgrade            | Upgrade tests for specific versions of the Strimzi.                                |\n+| travis             | Marks tests executed on Travis                                                     |\n | flaky              | Execute all flaky tests (tests, which are failing from time to time)               |\n+| scalability        | Execute scalability tests                                                          |\n+| specific           | Specific tests, which cannot be easily added to other categories                   |\n | nodeport           | Execute tests which use external lister of type nodeport                           |\n | loadbalancer       | Execute tests which use external lister of type loadbalancer                       |\n-| bridge             | Execute tests which use Kafka Bridge                                               |\n-| specific           | Specific tests, which cannot be easily added to other categories                   |\n | networkpolicies    | Execute tests which use Kafka with Network Policies                                |\n-| tracing            | Execute tests for Tracing                                                          |\n | prometheus         | Execute tests for Kafka with Prometheus                                            |\n-| oauth              | Execute tests which use OAuth                                                      |\n+| tracing            | Execute tests for Tracing                                                          |\n | helm               | Execute tests which use Helm for deploy cluster operator                           |\n-| olm                | Execute tests which use OLM for deploy cluster operator                            |\n+| oauth              | Execute tests which use OAuth                                                      |\n+| recovery           | Execute recovery tests                                                             |\n | connectoroperator  | Execute tests which deploy KafkaConnector resource                                 |\n | connect            | Execute tests which deploy KafkaConnect resource                                   |\n | connects2i         | Execute tests which deploy KafkaConnectS2I resource                                |\n | mirrormaker        | Execute tests which deploy KafkaMirrorMaker resource                               |\n | mirrormaker2       | Execute tests which deploy KafkaMirrorMaker2 resource                              |\n | conneccomponents   | Execute tests which deploy KafkaConnect, KafkaConnectS2I, KafkaMirrorMaker2, KafkaConnector resources |\n+| bridge             | Execute tests which use Kafka Bridge                                               |\n | internalclients    | Execute tests which use internal (from pod) kafka clients in tests                 |\n | externalclients    | Execute tests which use external (from code) kafka clients in tests                |\n+| olm                | Execute tests which use OLM for deploy cluster operator                            |", "originalCommit": "2c0a56cda74c0361e94b4f5dc14407d4c308419a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE0NTkxNQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472145915", "bodyText": "Thanks for correction :)", "author": "im-konge", "createdAt": "2020-08-18T12:37:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzODc1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI5OTIyNQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472299225", "bodyText": "You should change also a comment.", "author": "Frawless", "createdAt": "2020-08-18T15:48:48Z", "path": "systemtest/src/main/java/io/strimzi/systemtest/Constants.java", "diffHunk": "@@ -129,7 +129,7 @@\n     /**\n      * Tag for acceptance tests executed during Travis builds.", "originalCommit": "98dcf02e8754ee152091e8999475fd43fff49a31", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMwMTc1Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472301753", "bodyText": "I am not sure if those tests should have SCALABILITY tag. I will leave the decision to other.", "author": "Frawless", "createdAt": "2020-08-18T15:52:21Z", "path": "systemtest/src/test/java/io/strimzi/systemtest/connect/ConnectST.java", "diffHunk": "@@ -337,6 +338,7 @@ void testJvmAndResources() {\n     }\n \n     @Test\n+    @Tag(SCALABILITY)\n     void testKafkaConnectScaleUpScaleDown() {", "originalCommit": "98dcf02e8754ee152091e8999475fd43fff49a31", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjc4MDM0Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472780346", "bodyText": "I would keep it there, although test scales up just from 1 -> 2 pods.\nMaybe scale to 3~5 and tag is deserved there :)", "author": "michalxo", "createdAt": "2020-08-19T07:00:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMwMTc1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjc3Njg5MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472776890", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | smoke              | Marks tests executed on Travis                                                     |\n          \n          \n            \n            | smoke              | Smoke tests executed on Travis                                                     |", "author": "michalxo", "createdAt": "2020-08-19T06:55:47Z", "path": "development-docs/TESTING.md", "diffHunk": "@@ -148,29 +148,34 @@ The following table shows currently used tags:\n \n | Name               | Description                                                                        |\n | :----------------: | :--------------------------------------------------------------------------------: |\n-| travis             | Marks tests executed on Travis                                                     |\n | acceptance         | Acceptance tests, which guarantee, that basic functionality of Strimzi is working. |\n | regression         | Regression tests, which contains all non-flaky tests.                              |\n | upgrade            | Upgrade tests for specific versions of the Strimzi.                                |\n+| smoke              | Marks tests executed on Travis                                                     |", "originalCommit": "98dcf02e8754ee152091e8999475fd43fff49a31", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjgzMjI2OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3523#discussion_r472832268", "bodyText": "Actually it's not tided to Travis anymore.", "author": "Frawless", "createdAt": "2020-08-19T08:00:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjc3Njg5MA=="}], "type": "inlineReview"}, {"oid": "242d6ecfce1e07e7d952352a1728f14d4a5cb764", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/242d6ecfce1e07e7d952352a1728f14d4a5cb764", "message": "comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T09:36:35Z", "type": "forcePushed"}, {"oid": "f846d326de8b68b46ab757a02f17d467191c8c19", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f846d326de8b68b46ab757a02f17d467191c8c19", "message": "comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T14:43:50Z", "type": "forcePushed"}, {"oid": "f6533ce80c0245d74b2f3a6f26121b2c9a3e408c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f6533ce80c0245d74b2f3a6f26121b2c9a3e408c", "message": "add forgotten tags in tests\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T18:02:24Z", "type": "commit"}, {"oid": "49f0725195105719f3dff41ee5ff0f55fdaabe1a", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/49f0725195105719f3dff41ee5ff0f55fdaabe1a", "message": "change doc\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T18:02:25Z", "type": "commit"}, {"oid": "c633799f5c3304cef2f4a4cba7e463202554dcb1", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c633799f5c3304cef2f4a4cba7e463202554dcb1", "message": "comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T18:03:22Z", "type": "commit"}, {"oid": "87d8d041862565eebc10ec3b55a83c490fc9f3e4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/87d8d041862565eebc10ec3b55a83c490fc9f3e4", "message": "comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T18:03:23Z", "type": "commit"}, {"oid": "87d8d041862565eebc10ec3b55a83c490fc9f3e4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/87d8d041862565eebc10ec3b55a83c490fc9f3e4", "message": "comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>", "committedDate": "2020-08-19T18:03:23Z", "type": "forcePushed"}]}