{"pr_number": 2376, "pr_title": "Decouple the Kafka Bridge and Kafka Operators versions", "pr_createdAt": "2020-01-08T20:39:36Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2376", "timeline": [{"oid": "b2dc0de046bd4bffd2754568aa9711be58f0b9eb", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b2dc0de046bd4bffd2754568aa9711be58f0b9eb", "message": "Decouple the Kafka Bridge and Kafka Operators versions\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-01-08T20:31:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NTk5Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2376#discussion_r364575993", "bodyText": "typo \"KAfka\"", "author": "ppatierno", "createdAt": "2020-01-09T06:27:54Z", "path": "RELEASE.md", "diffHunk": "@@ -27,3 +27,12 @@ The release process should normally look like this:\n 10. The maven artifacts (`api` module) will be automatically staged from TravisCI during the tag build. It has to be releases from [Sonatype](https://oss.sonatype.org/#stagingRepositories) to get to the main Maven repositories.\n 11. Update the Strimzi manifest files in Operate Hub [community operators](https://github.com/operator-framework/community-operators) repository and submit a pull request upstream. *Note*: Instructions for this step need updating.\n \n+## Updating Kafka Bridge version\n+\n+The version of Strimzi Kafka Bridge is defined in the file `./bridge.version`.\n+Even the master branch is using this fixed version and not the version build from the `master` branch of Kafka Bridge.\n+If you need to update the KAfka bridge to newer version, you should do it with following steps:", "originalCommit": "b2dc0de046bd4bffd2754568aa9711be58f0b9eb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NjUzNQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2376#discussion_r364576535", "bodyText": "why do you think it's better having the master using latest released bridge version and not the one not released yet (\"latest\"). What happens if we are developing a feature in the operator which needs the \"latest\" bridge image while it's pointing to use a specifc released version (i.e. 0.15.0 in this case). I know that during development you can just change this to \"latest\" (instead of 0.15.0) but isn't it better having \"under development\" stuff used together?", "author": "ppatierno", "createdAt": "2020-01-09T06:30:45Z", "path": "install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml", "diffHunk": "@@ -62,7 +62,7 @@ spec:\n         - name: STRIMZI_DEFAULT_KAFKA_INIT_IMAGE\n           value: strimzi/operator:latest\n         - name: STRIMZI_DEFAULT_KAFKA_BRIDGE_IMAGE\n-          value: strimzi/kafka-bridge:latest\n+          value: strimzi/kafka-bridge:0.15.0", "originalCommit": "b2dc0de046bd4bffd2754568aa9711be58f0b9eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDYxMTc5NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2376#discussion_r364611794", "bodyText": "I was thinking about it yesterday. But I think that it would not work well. You would be getting into a stituation where we have working master but when we do the operator release the bridge stops working because we would basically downgrade the bridge to older version.\nI think that instead it is better to develop the new bridge features, where needed test them with operators by modifying the YAML files and only when it is ready and released you would open a PR to update operators and the bridge version. At the end that is how we work with the Strimzi OAuth library, with KAfka it self etc.", "author": "scholzj", "createdAt": "2020-01-09T08:35:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NjUzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY0OTc5MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2376#discussion_r364649790", "bodyText": "Comparing bridge development and related integration into operator to oauth, kafka etc makes sense, so I am fine with it.", "author": "ppatierno", "createdAt": "2020-01-09T09:59:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NjUzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY1MDE3MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2376#discussion_r364650170", "bodyText": "Great, thanks.", "author": "scholzj", "createdAt": "2020-01-09T10:00:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU3NjUzNQ=="}], "type": "inlineReview"}, {"oid": "00690c9d4f7ebad70df57a233e8a62b61f88c9f0", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/00690c9d4f7ebad70df57a233e8a62b61f88c9f0", "message": "Review comment\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-01-09T09:19:44Z", "type": "commit"}]}