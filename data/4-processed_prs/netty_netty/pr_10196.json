{"pr_number": 10196, "pr_title": "Ensure we support ALPN when using java 8u251", "pr_createdAt": "2020-04-20T09:52:48Z", "pr_url": "https://github.com/netty/netty/pull/10196", "timeline": [{"oid": "0654c02d847ab553b8a047e9a35e992bee662c07", "url": "https://github.com/netty/netty/commit/0654c02d847ab553b8a047e9a35e992bee662c07", "message": "Ensure we support ALPN when using java 8u251\n\nMotivation:\n\nALPN support was backported to java 8 lately. Ensure we support it if the user uses the latest java 8 release\n\nModifications:\n\n- Update logic to be able to detect if ALPN is supported out of the box when using Java8\n- Update jetty alpn version\n\nResult:\n\nBe able to use ALPN out of the box when using java 8u251", "committedDate": "2020-04-20T09:50:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw==", "url": "https://github.com/netty/netty/pull/10196#discussion_r411339887", "bodyText": "If Java9SslUtils is no longer related to Java 9, why not renaming it (it's package protected)?", "author": "slandelle", "createdAt": "2020-04-20T12:33:45Z", "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "diffHunk": "@@ -146,7 +145,10 @@ public SSLEngine wrapSslEngine(SSLEngine engine, ByteBufAllocator alloc,\n     }\n \n     static boolean jdkAlpnSupported() {\n-        return PlatformDependent.javaVersion() >= 9 && Java9SslUtils.supportsAlpn();\n+        // While it is called Java9SslUtils it is not strictly true anymore that this only exists in Java9+ as it\n+        // was recently backported as part of https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8230977.\n+        // Because of this lets not do a Java version runtime check but just depend on if the methods are present.\n+        return Java9SslUtils.supportsAlpn();", "originalCommit": "54ec65e966984b9163aefbac2f7286edad582d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0MDcwMg==", "url": "https://github.com/netty/netty/pull/10196#discussion_r411340702", "bodyText": "@slandelle I was not able to find a better name yet :D", "author": "normanmaurer", "createdAt": "2020-04-20T12:35:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ0MjQzOA==", "url": "https://github.com/netty/netty/pull/10196#discussion_r411442438", "bodyText": "Me neither...", "author": "slandelle", "createdAt": "2020-04-20T14:51:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ4MTMxMw==", "url": "https://github.com/netty/netty/pull/10196#discussion_r411481313", "bodyText": "@slandelle AlpnSslEngine ?", "author": "normanmaurer", "createdAt": "2020-04-20T15:40:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY4MjUyNw==", "url": "https://github.com/netty/netty/pull/10196#discussion_r411682527", "bodyText": "AlpnSslEngine and AlpnSslUtils LGTM", "author": "slandelle", "createdAt": "2020-04-20T20:49:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}], "type": "inlineReview"}, {"oid": "4fd5519cf50f2fd39fb6a5a6941c59f5336b26f0", "url": "https://github.com/netty/netty/commit/4fd5519cf50f2fd39fb6a5a6941c59f5336b26f0", "message": "Adjust naming", "committedDate": "2020-04-21T06:49:11Z", "type": "commit"}, {"oid": "4fd5519cf50f2fd39fb6a5a6941c59f5336b26f0", "url": "https://github.com/netty/netty/commit/4fd5519cf50f2fd39fb6a5a6941c59f5336b26f0", "message": "Adjust naming", "committedDate": "2020-04-21T06:49:11Z", "type": "forcePushed"}, {"oid": "30c28fecb76108e9b222309d242d740717e2f872", "url": "https://github.com/netty/netty/commit/30c28fecb76108e9b222309d242d740717e2f872", "message": "Fix log message", "committedDate": "2020-04-21T08:24:10Z", "type": "commit"}, {"oid": "c7b40d711672b663d2e58cd246f3dae506c8c62f", "url": "https://github.com/netty/netty/commit/c7b40d711672b663d2e58cd246f3dae506c8c62f", "message": "cleanup", "committedDate": "2020-04-21T08:27:04Z", "type": "commit"}, {"oid": "f4fe127244df08c7f41da3d4585fa6f95347fde5", "url": "https://github.com/netty/netty/commit/f4fe127244df08c7f41da3d4585fa6f95347fde5", "message": "fix logging", "committedDate": "2020-04-21T09:41:23Z", "type": "commit"}, {"oid": "cba71b65daf79e0941187fa668bec825c7ff55f0", "url": "https://github.com/netty/netty/commit/cba71b65daf79e0941187fa668bec825c7ff55f0", "message": "cleanup", "committedDate": "2020-04-21T09:44:40Z", "type": "commit"}]}