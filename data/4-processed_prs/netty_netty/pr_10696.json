{"pr_number": 10696, "pr_title": "Create codeql-analysis.yml", "pr_createdAt": "2020-10-16T07:01:14Z", "pr_url": "https://github.com/netty/netty/pull/10696", "timeline": [{"oid": "1f5fa8165fcca182e16923556302a8203d4382cf", "url": "https://github.com/netty/netty/commit/1f5fa8165fcca182e16923556302a8203d4382cf", "message": "Create codeql-analysis.yml\n\nMotivation:\r\n\r\nGithub now allows to run CodeQL during pull request verification. This allows to detect errors / security problems early.\r\n\r\nModification:\r\n\r\nAdd config\r\n\r\nResult:\r\n\r\nFixes https://github.com/netty/netty/issues/10669", "committedDate": "2020-10-16T07:00:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506593116", "bodyText": "The projects has some JNI parts written in C. I am wondering in we can also scan C code with CodeQL.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    language: ['java']\n          \n          \n            \n                    language: ['java', 'cpp' ]\n          \n      \n    \n    \n  \n\nNot sure that c can be used in the language filed. I didn't find it in the docs.", "author": "artem-smotrakov", "createdAt": "2020-10-16T16:38:52Z", "path": ".github/workflows/codeql-analysis.yml", "diffHunk": "@@ -0,0 +1,71 @@\n+# For most projects, this workflow file will not need changing; you simply need\n+# to commit it to your repository.\n+#\n+# You may wish to alter this file to override the set of languages analyzed,\n+# or to provide custom queries or build logic.\n+name: \"CodeQL\"\n+\n+on:\n+  push:\n+    branches: [4.1, master]\n+  pull_request:\n+    # The branches below must be a subset of the branches above\n+    branches: [4.1, master]\n+  schedule:\n+    - cron: '0 13 * * 3'\n+\n+jobs:\n+  analyze:\n+    name: Analyze\n+    runs-on: ubuntu-latest\n+\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        # Override automatic language detection by changing the below list\n+        # Supported options are ['csharp', 'cpp', 'go', 'java', 'javascript', 'python']\n+        language: ['java']", "originalCommit": "1f5fa8165fcca182e16923556302a8203d4382cf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY2NTQ0MA==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506665440", "bodyText": "Seems like c is not supported atm", "author": "normanmaurer", "createdAt": "2020-10-16T18:55:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY2NzQwNA==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506667404", "bodyText": "The docs say that both C/C++ are supported. I think we can use cpp to enable scans for the C code.\nhttps://docs.github.com/en/free-pro-team@latest/github/finding-security-vulnerabilities-and-errors-in-your-code/about-code-scanning", "author": "artem-smotrakov", "createdAt": "2020-10-16T18:59:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg0ODM2OA==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506848368", "bodyText": "seems like there needs to be some more setup to make this work :/", "author": "normanmaurer", "createdAt": "2020-10-17T07:19:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2MzIyMQ==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506863221", "bodyText": "Yeah, it looks so. Maybe we can disable autobuild and add the following\n- run: mvn -DskipTests install\n\nOr, if it doesn't work, maybe add if blocks and build each JNI module separately with autogen.sh + make.\nAnyway, I think we can add it later.", "author": "artem-smotrakov", "createdAt": "2020-10-17T08:03:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjg2NTk2Mg==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506865962", "bodyText": "let me try...", "author": "normanmaurer", "createdAt": "2020-10-17T08:06:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3MDI0Nw==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506970247", "bodyText": "@artem-m seems like this works ? :)", "author": "normanmaurer", "createdAt": "2020-10-17T18:25:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MDc0NQ==", "url": "https://github.com/netty/netty/pull/10696#discussion_r506980745", "bodyText": "Yeah, looks like it works! :) I don't see the results at the moment in the tab \"Code scanning results\". But maybe they're going to be available later (it says \"This usually happens when you enable code scanning for the first time\").", "author": "artem-smotrakov", "createdAt": "2020-10-17T20:27:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU5MzExNg=="}], "type": "inlineReview"}, {"oid": "d9e1798276196cc40a12091fd7beeb3c8e1e61f6", "url": "https://github.com/netty/netty/commit/d9e1798276196cc40a12091fd7beeb3c8e1e61f6", "message": "Update .github/workflows/codeql-analysis.yml\n\nCo-authored-by: Artem Smotrakov <artem.smotrakov@sap.com>", "committedDate": "2020-10-17T07:16:17Z", "type": "commit"}, {"oid": "2d553435dc68687333bbf16968dc17a7cb652ec8", "url": "https://github.com/netty/netty/commit/2d553435dc68687333bbf16968dc17a7cb652ec8", "message": "Update codeql-analysis.yml\n\nDisable autobuild", "committedDate": "2020-10-17T08:08:08Z", "type": "commit"}, {"oid": "1c0aae708d5c8e7d516759fea459de45e31e6297", "url": "https://github.com/netty/netty/commit/1c0aae708d5c8e7d516759fea459de45e31e6297", "message": "Update codeql-analysis.yml\n\nDisable autobuild", "committedDate": "2020-10-17T08:08:23Z", "type": "commit"}, {"oid": "85251428b2a859a238a218603a0c90a880fe9125", "url": "https://github.com/netty/netty/commit/85251428b2a859a238a218603a0c90a880fe9125", "message": "Update codeql-analysis.yml\n\nFix typos", "committedDate": "2020-10-17T08:09:35Z", "type": "commit"}]}