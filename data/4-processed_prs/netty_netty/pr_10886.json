{"pr_number": 10886, "pr_title": "Also include one PR job that uses boringssl", "pr_createdAt": "2020-12-23T11:46:25Z", "pr_url": "https://github.com/netty/netty/pull/10886", "timeline": [{"oid": "115fa8a8812e1c9a04fc653acff13563b2257bd2", "url": "https://github.com/netty/netty/commit/115fa8a8812e1c9a04fc653acff13563b2257bd2", "message": "Also include one PR job that uses boringssl\n\nMotivation:\n\nWhen validating PRs we should also at least run one job that uses boringssl\n\nModifications:\n\n- Add job that uses boringssl\n- Cleanup docker compose files\n\nResult:\n\nAlso run with boringssl when PRs are validated", "committedDate": "2020-12-23T11:47:01Z", "type": "commit"}, {"oid": "115fa8a8812e1c9a04fc653acff13563b2257bd2", "url": "https://github.com/netty/netty/commit/115fa8a8812e1c9a04fc653acff13563b2257bd2", "message": "Also include one PR job that uses boringssl\n\nMotivation:\n\nWhen validating PRs we should also at least run one job that uses boringssl\n\nModifications:\n\n- Add job that uses boringssl\n- Cleanup docker compose files\n\nResult:\n\nAlso run with boringssl when PRs are validated", "committedDate": "2020-12-23T11:47:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzkyNjY1NQ==", "url": "https://github.com/netty/netty/pull/10886#discussion_r547926655", "bodyText": "Break line", "author": "hyperxpro", "createdAt": "2020-12-23T12:06:10Z", "path": ".github/workflows/ci-pr.yml", "diffHunk": "@@ -152,3 +152,43 @@ jobs:\n         with:\n           name: target\n           path: \"**/target/\"\n+\n+  build-linux-x86_64-java11-boringssl:\n+    runs-on: ubuntu-latest\n+    needs: verify\n+    steps:\n+      - uses: actions/checkout@v2\n+\n+      # Cache .m2/repository\n+      - uses: actions/cache@v2\n+        env:\n+          cache-name: build-linux-x86_64-java11-boringssl-cache-m2-repository\n+        with:\n+          path: ~/.m2/repository\n+          key: ${{ runner.os }}-pr-${{ env.cache-name }}-${{ hashFiles('**/pom.xml') }}\n+          restore-keys: |\n+            ${{ runner.os }}-pr-${{ env.cache-name }}-\n+            ${{ runner.os }}-pr-\n+\n+      # Enable caching of Docker layers\n+      - uses: satackey/action-docker-layer-caching@v0.0.8\n+        continue-on-error: true\n+        with:\n+          key: build-linux-x86_64-java11-boringssl-docker-cache-{hash}\n+          restore-keys: |\n+            build-linux-x86_64-java11-boringssl-docker-cache-\n+\n+      - name: Build docker image\n+        run: docker-compose -f docker/docker-compose.yaml -f docker/docker-compose.centos-6.111.yaml build\n+\n+      - name: Build project with leak detection\n+        run: docker-compose -f docker/docker-compose.yaml -f docker/docker-compose.centos-6.111.yaml run build-leak-boringssl-static | tee build-leak.output\n+\n+      - name: Checking for detected leak\n+        run: ./.github/scripts/check_leak.sh build-leak.output\n+\n+      - uses: actions/upload-artifact@v2\n+        if: ${{ failure() }}\n+        with:\n+          name: target\n+          path: \"**/target/\"", "originalCommit": "115fa8a8812e1c9a04fc653acff13563b2257bd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1cacc365c87a0237214198457f1a568617e5e3c3", "url": "https://github.com/netty/netty/commit/1cacc365c87a0237214198457f1a568617e5e3c3", "message": "Fix buffer leak", "committedDate": "2020-12-23T16:20:46Z", "type": "commit"}, {"oid": "d59a9a7f22dd83496f4501518831ef5417261ec6", "url": "https://github.com/netty/netty/commit/d59a9a7f22dd83496f4501518831ef5417261ec6", "message": "Add line break", "committedDate": "2020-12-23T16:43:39Z", "type": "commit"}]}