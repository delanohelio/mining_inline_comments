{"pr_number": 10174, "pr_title": "Remove duplicate code in PoolArena.", "pr_createdAt": "2020-04-08T12:00:19Z", "pr_url": "https://github.com/netty/netty/pull/10174", "timeline": [{"oid": "bbc593d32201737bd2d42326b5895f5516c91c75", "url": "https://github.com/netty/netty/commit/bbc593d32201737bd2d42326b5895f5516c91c75", "message": "Remove duplicate code in PoolArena.\n\nMotivation:\n\nRemove duplicate code in PoolArena.\n\nModification:\n\nReplace duplicate code with `tinyIdx` and `smallIdx`.\n\nResult:\n\nClean code.", "committedDate": "2020-04-08T11:58:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA3OTkyOQ==", "url": "https://github.com/netty/netty/pull/10174#discussion_r408079929", "bodyText": "@franz1981 guess these methods will be inlined?", "author": "johnou", "createdAt": "2020-04-14T11:59:11Z", "path": "buffer/src/main/java/io/netty/buffer/PoolArena.java", "diffHunk": "@@ -321,15 +321,10 @@ void freeChunk(PoolChunk<T> chunk, long handle, SizeClass sizeClass, ByteBuffer\n         int tableIdx;\n         PoolSubpage<T>[] table;\n         if (isTiny(elemSize)) { // < 512\n-            tableIdx = elemSize >>> 4;\n+            tableIdx = tinyIdx(elemSize);", "originalCommit": "bbc593d32201737bd2d42326b5895f5516c91c75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYzNTE3NQ==", "url": "https://github.com/netty/netty/pull/10174#discussion_r408635175", "bodyText": "yeah these are static and super hot so it should be inlined", "author": "normanmaurer", "createdAt": "2020-04-15T07:27:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA3OTkyOQ=="}], "type": "inlineReview"}]}