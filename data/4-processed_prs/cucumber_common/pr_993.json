{"pr_number": 993, "pr_title": "Catch JSON parsing errors in json-to-messages", "pr_createdAt": "2020-05-07T09:20:31Z", "pr_url": "https://github.com/cucumber/common/pull/993", "timeline": [{"oid": "7fde4327c2f3bab60b528e252b5d4160e136f00d", "url": "https://github.com/cucumber/common/commit/7fde4327c2f3bab60b528e252b5d4160e136f00d", "message": "Catch JSON parsing errors in json-to-messages\n\nresolves #992", "committedDate": "2020-05-07T09:19:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM3OTY1OQ==", "url": "https://github.com/cucumber/common/pull/993#discussion_r421379659", "bodyText": "let f = () => null should fix the Linting problem iirc :)", "author": "vincent-psarga", "createdAt": "2020-05-07T09:48:16Z", "path": "json-to-messages/javascript/test/stream/JSONTransformStreamTest.ts", "diffHunk": "@@ -19,4 +19,26 @@ describe('JSONReportStream', () => {\n     await asyncPipeline(readableStream, new JSONTransformStream(), sink)\n     assert.deepStrictEqual(sink.object, data)\n   })\n+\n+  it('handles non-json data gracefully', async () => {\n+    const data = '# this is not json'\n+\n+    const readableStream = new Stream.Readable({\n+      read() {\n+        this.push(data)\n+        this.push(null)\n+      },\n+    })\n+    const sink = new SingleObjectWritableStream<Array<any>>()\n+    let f = () => {}", "originalCommit": "7fde4327c2f3bab60b528e252b5d4160e136f00d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6e1bb4960870207c35031b3ea488bd14bf99d264", "url": "https://github.com/cucumber/common/commit/6e1bb4960870207c35031b3ea488bd14bf99d264", "message": "Fix linting error", "committedDate": "2020-05-07T09:54:48Z", "type": "commit"}, {"oid": "09551ba14f067b187db88e782eaadb52ddcd0621", "url": "https://github.com/cucumber/common/commit/09551ba14f067b187db88e782eaadb52ddcd0621", "message": "Update changelog", "committedDate": "2020-05-07T15:48:09Z", "type": "commit"}]}