{"pr_number": 6904, "pr_title": "[JsonPath transform] Improve/clarify README", "pr_createdAt": "2020-01-26T04:20:31Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/6904", "timeline": [{"oid": "bb2a87df9ba7d38a3e42870fde1eb3416a8985ca", "url": "https://github.com/openhab/openhab-addons/commit/bb2a87df9ba7d38a3e42870fde1eb3416a8985ca", "message": "A few additional tweaks\n\nSigned-off-by: 9037568 <namraccr@gmail.com>", "committedDate": "2020-01-26T04:18:30Z", "type": "commit"}, {"oid": "aa48e02eccf636779ea921d5ea7674398505b44d", "url": "https://github.com/openhab/openhab-addons/commit/aa48e02eccf636779ea921d5ea7674398505b44d", "message": "Fix expression return value\n\nSigned-off-by: 9037568 <namraccr@gmail.com>", "committedDate": "2020-01-26T04:38:37Z", "type": "commit"}, {"oid": "8704358bb3169f151cf25f528ba45180c06e0e93", "url": "https://github.com/openhab/openhab-addons/commit/8704358bb3169f151cf25f528ba45180c06e0e93", "message": "Add info about the result of an expression that doesn't match anything\n\nSigned-off-by: 9037568 <namraccr@gmail.com>", "committedDate": "2020-01-26T15:04:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgzMDgyOQ==", "url": "https://github.com/openhab/openhab-addons/pull/6904#discussion_r373830829", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Because the transformation will not return arrays or null values, if the JsonPath expression provided results in no matches, the transformation will return the entire original JSON string.\n          \n          \n            \n            If the JsonPath expression does not match (or the match is invalid), the entire original JSON string is returned.", "author": "J-N-K", "createdAt": "2020-02-02T09:08:48Z", "path": "bundles/org.openhab.transform.jsonpath/README.md", "diffHunk": "@@ -48,31 +35,34 @@ rule \"Convert JSON to Item Type Number\"\n  end\n ```\n \n-Now the resulting Number can also be used in the label to [change the color](https://docs.openhab.org/configuration/sitemaps.html#label-and-value-colors) or in a rule as value to compare.\n+Now the resulting Number can also be used in the label to [change the color](https://docs.openhab.org/configuration/sitemaps.html#label-and-value-colors) or in a rule as a value to compare.\n+\n \n ## Differences to standard JsonPath\n \n-Compared to standard JSON the transformation it returns evaluated values when a single alement is retrieved from the query.\n-Means it does not return a valid JSON `[ 23.2 ]` but `23.2`, `[ \"Outside\" ]` but `Outside`.\n-This makes it possible to use it in labels or output channel of things and get Numbers or Strings instead of JSON arrays.\n-A query which returns multiple elements as list is not supported.\n+Compared to standard JsonPath, the transformation returns single values instead of arrays.\n+The transformation also will not ever return `null`.\n+This makes it possible to use the transform in labels or output channels of Things.\n+\n+Because the transformation will not return arrays or null values, if the JsonPath expression provided results in no matches, the transformation will return the entire original JSON string.", "originalCommit": "8704358bb3169f151cf25f528ba45180c06e0e93", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5a8acaf35a57d011fa903f42732da5417c78b5a8", "url": "https://github.com/openhab/openhab-addons/commit/5a8acaf35a57d011fa903f42732da5417c78b5a8", "message": "Alter text per review request\n\nSigned-off-by: 9037568 <namraccr@gmail.com>", "committedDate": "2020-02-09T13:44:27Z", "type": "commit"}]}