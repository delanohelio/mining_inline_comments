{"pr_number": 9211, "pr_title": "[miio] Update channels only if they are linked", "pr_createdAt": "2020-12-03T13:04:03Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9211", "timeline": [{"oid": "b145e76287fbd7c892f524797461b0d480e97e3f", "url": "https://github.com/openhab/openhab-addons/commit/b145e76287fbd7c892f524797461b0d480e97e3f", "message": "[miio] Update channels only if they are linked (#9163)\n\n* [miio] Update channels only if they are linked\r\n\r\nWith introduction of miot devices with enormous amount of channels\r\nrefreshes can become slow. With this change only relevant updates are\r\ndone.\r\n\r\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-12-03T13:02:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTI2MzAzNw==", "url": "https://github.com/openhab/openhab-addons/pull/9211#discussion_r535263037", "bodyText": "I would suggest to log this at trace level", "author": "J-N-K", "createdAt": "2020-12-03T14:18:12Z", "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/handler/MiIoBasicHandler.java", "diffHunk": "@@ -291,6 +291,11 @@ private boolean refreshProperties(MiIoBasicDevice device) {\n         int maxProperties = device.getDevice().getMaxProperties();\n         JsonArray getPropString = new JsonArray();\n         for (MiIoBasicChannel miChannel : refreshList) {\n+            if (!isLinked(miChannel.getChannel())) {\n+                logger.debug(\"Skip refresh of channel {} for {} as it is not linked\", miChannel.getChannel(),", "originalCommit": "b145e76287fbd7c892f524797461b0d480e97e3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQwMjQzMA==", "url": "https://github.com/openhab/openhab-addons/pull/9211#discussion_r535402430", "bodyText": "Forget it. I just saw that this is just a backport.", "author": "J-N-K", "createdAt": "2020-12-03T16:48:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTI2MzAzNw=="}], "type": "inlineReview"}]}