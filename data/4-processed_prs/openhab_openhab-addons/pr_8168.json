{"pr_number": 8168, "pr_title": "[miio] improve viewer with coordinates", "pr_createdAt": "2020-07-21T20:06:59Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8168", "timeline": [{"oid": "00343a5bcdf3155b28810a435c09f2f8285e9411", "url": "https://github.com/openhab/openhab-addons/commit/00343a5bcdf3155b28810a435c09f2f8285e9411", "message": "[miio] improve viewer with coordinates\n\nPrint coordinates to allow finding the room clean details\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-07-21T16:39:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MTUxMw==", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r458641513", "bodyText": "I think you should not directly write new lines, Just as done above use:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        pw.print(\"\\r\\n\");\n          \n          \n            \n                        pw.println();", "author": "Hilbrand", "createdAt": "2020-07-22T08:56:18Z", "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/robot/RRMapFileParser.java", "diffHunk": "@@ -299,6 +300,16 @@ public String toString() {\n         return sw.toString();\n     }\n \n+    private void printAreaDetails(ArrayList<float[]> areas, PrintWriter pw) {\n+        areas.forEach(area -> {\n+            pw.printf(\"\\tArea details:\");\n+            for (int i = 0; i < area.length; i++) {\n+                pw.printf(\"\\t%.1f\", area[i]);\n+            }\n+            pw.print(\"\\r\\n\");", "originalCommit": "00343a5bcdf3155b28810a435c09f2f8285e9411", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3NzAxNg==", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r459077016", "bodyText": "yes, agree. done", "author": "marcelrv", "createdAt": "2020-07-22T20:54:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MTUxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MjQ1Mw==", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r458642453", "bodyText": "If there are more areas does it make sense to include some information about what area these details are about. With your change you would get several generic \"Area details\" printed next to each other.", "author": "Hilbrand", "createdAt": "2020-07-22T08:57:55Z", "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/robot/RRMapFileParser.java", "diffHunk": "@@ -299,6 +300,16 @@ public String toString() {\n         return sw.toString();\n     }\n \n+    private void printAreaDetails(ArrayList<float[]> areas, PrintWriter pw) {\n+        areas.forEach(area -> {\n+            pw.printf(\"\\tArea details:\");", "originalCommit": "00343a5bcdf3155b28810a435c09f2f8285e9411", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3NzQ0Nw==", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r459077447", "bodyText": "Improved the text slightly to make it area coordinates to give hint on what the numbers are.", "author": "marcelrv", "createdAt": "2020-07-22T20:55:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MjQ1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA4MjE1NA==", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r459082154", "bodyText": "btw, in each case, just before this is called, it prints out the area type.\nNo Go zones:\t2\n\tArea coordinates:\t356.0\t218.0\t340.0\t218.0\t340.0\t207.0\t356.0\t207.0\n\tArea coordinates:\t329.0\t222.0\t321.0\t222.0\t321.0\t205.0\t329.0\t205.0\nWalls:\t1\n\tArea coordinates:\t274.0\t363.0\t273.0\t291.0\nZones:\t0", "author": "marcelrv", "createdAt": "2020-07-22T21:04:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MjQ1Mw=="}], "type": "inlineReview"}, {"oid": "179af6e6d3f7d9f44cb763f92fe1bec45cfa9f7f", "url": "https://github.com/openhab/openhab-addons/commit/179af6e6d3f7d9f44cb763f92fe1bec45cfa9f7f", "message": "[miio] improve print text for maps\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-07-22T20:53:57Z", "type": "commit"}, {"oid": "0cc1899ddbfdf78c62bf862c497502dd7c5e2b79", "url": "https://github.com/openhab/openhab-addons/commit/0cc1899ddbfdf78c62bf862c497502dd7c5e2b79", "message": "[miio] Improve mapviwer with goto coordinates calculation\n\nFurther calculation of the goto coordinates to be used for zone cleaning\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-08-12T14:11:25Z", "type": "commit"}, {"oid": "1d62d48c518b379375cca15d7c39a2f8bb4df175", "url": "https://github.com/openhab/openhab-addons/commit/1d62d48c518b379375cca15d7c39a2f8bb4df175", "message": "[miio] Offline viewer provides zone clean command\n\n* Parser prints real coordinates (robot,goto, zones etc)\n* Offline viewer provides zone clean command\n* Offline viewer provides goto command\n* Offline viewer provides coordinates on mouseover\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-08-14T15:46:04Z", "type": "commit"}, {"oid": "2c9126afe27c9c91349ae777512a648c6019d126", "url": "https://github.com/openhab/openhab-addons/commit/2c9126afe27c9c91349ae777512a648c6019d126", "message": "[miio] fix robo position + improved scrolling\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-08-14T18:47:56Z", "type": "commit"}]}