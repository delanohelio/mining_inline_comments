{"pr_number": 8014, "pr_title": "[insteon] added support for motion sensor II (2844-222)", "pr_createdAt": "2020-06-25T20:48:11Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8014", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzMzkwNg==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447333906", "bodyText": "How is temperature level different from temperature?", "author": "cpmeister", "createdAt": "2020-06-30T00:22:23Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -459,11 +465,21 @@\n \t\t<label>System Mode</label>\n \t</channel-type>\n \n+\t<channel-type id=\"tamperSwitch\">\n+\t\t<item-type>Contact</item-type>\n+\t\t<label>Tamper Switch</label>\n+\t</channel-type>\n+\n \t<channel-type id=\"temperature\">\n \t\t<item-type>Number:Temperature</item-type>\n \t\t<label>Temperature</label>\n \t</channel-type>\n \n+\t<channel-type id=\"temperatureLevel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Temperature Level</label>\n+\t</channel-type>", "originalCommit": "9b1827c3f53f47820e3f7d00f1a1265305e8dec4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MDI1NQ==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447370255", "bodyText": "It's described in the README.md. it's used as part of the formula to calculate the actual temperature", "author": "robnielsen", "createdAt": "2020-06-30T02:26:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzMzkwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDI0NQ==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447334245", "bodyText": "Is temperature level supposed to be here?", "author": "cpmeister", "createdAt": "2020-06-30T00:23:13Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_types.xml", "diffHunk": "@@ -584,4 +584,15 @@\n \t\t</feature_group>\n \t\t<feature name=\"lastheardfrom\">GenericLastTime</feature>\n \t</device>\n+\n+    <device productKey=\"F00.00.24\">\n+        <model>2844-222</model>\n+        <description>Motion Sensor II</description>\n+        <feature name=\"contact\">WirelessMotionSensorContact</feature>\n+        <feature name=\"lightlevelabovethreshold\">WirelessMotionSensorLightLevelAboveThreshold</feature>\n+        <feature name=\"lowbattery\">WirelessMotionSensorLowBattery</feature>\n+        <feature name=\"data\">MotionSensorData</feature>\n+        <feature name=\"tamperswitch\">WirelessMotionSensor2TamperSwitch</feature>\n+        <feature name=\"lastheardfrom\">GenericLastTime</feature>", "originalCommit": "9b1827c3f53f47820e3f7d00f1a1265305e8dec4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MDI5OQ==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447370299", "bodyText": "No, it's handled in the MotionSensorData feature", "author": "robnielsen", "createdAt": "2020-06-30T02:27:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDI0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447334929", "bodyText": "It is preferable for percent values to be represented as a QuantityType of Number:Dimensionless which uses Percent units.", "author": "cpmeister", "createdAt": "2020-06-30T00:25:31Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -114,6 +115,11 @@\n \t\t<label>Battery Level</label>\n \t</channel-type>\n \n+\t<channel-type id=\"batteryPercent\">\n+\t\t<item-type>Number</item-type>", "originalCommit": "9b1827c3f53f47820e3f7d00f1a1265305e8dec4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MDU4Mg==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447370582", "bodyText": "I originally tried that, but it was getting converted to a decimal number (XX.Y) instead of a whole number (XX), so I converted back to a Number.", "author": "robnielsen", "createdAt": "2020-06-30T02:28:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MTEyOQ==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447371129", "bodyText": "It should work if you make your pattern \"%d %unit%\".", "author": "cpmeister", "createdAt": "2020-06-30T02:30:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MTc0Mg==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447371742", "bodyText": "the typical pattern is \"%.0f %unit%\" but using \"%d %unit%\" avoids any decimal points from being printed", "author": "cpmeister", "createdAt": "2020-06-30T02:32:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3NzE2OA==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447377168", "bodyText": "batteryPercentage is a DecimalType, not a PercentType, this is due to how DeviceFeatureListener.publishState() handles PercentTypes. I'd rather just leave as is.", "author": "robnielsen", "createdAt": "2020-06-30T02:52:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3ODg3Mw==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447378873", "bodyText": "Number:Dimensionless is a QuantityType, not a PercentType. There exists a Unit type SmartHomeUnits.PERCENT which is used to represent QuantityType values that are percentages.\nThough as you mentioned, In order to make sure that the values are rendered as decimal numbers, you need to add <state pattern=\"%d %unit%\"/> to the channelType definition.", "author": "cpmeister", "createdAt": "2020-06-30T02:59:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY1ODA0NQ==", "url": "https://github.com/openhab/openhab-addons/pull/8014#discussion_r447658045", "bodyText": "converted to Number:Dimensionless", "author": "robnielsen", "createdAt": "2020-06-30T12:53:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMzNDkyOQ=="}], "type": "inlineReview"}, {"oid": "224b21d89d053237c31c735320a4c632f2d6b145", "url": "https://github.com/openhab/openhab-addons/commit/224b21d89d053237c31c735320a4c632f2d6b145", "message": "[insteon] added support for motion sensor II (2844-222)\n\nSigned-off-by: Rob Nielsen <rob.nielsen@yahoo.com>", "committedDate": "2020-06-30T12:54:43Z", "type": "commit"}]}