{"pr_number": 7452, "pr_title": "[miio] add gosund plug & Vacuum 1C STYTJ01ZHM", "pr_createdAt": "2020-04-22T23:42:11Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7452", "timeline": [{"oid": "f3adf30f0ba719417b0932dfaa5fb1238d9ce3d6", "url": "https://github.com/openhab/openhab-addons/commit/f3adf30f0ba719417b0932dfaa5fb1238d9ce3d6", "message": "[miio] add gosund plug & Vacuum 1C STYTJ01ZHM\n\nAdd 2 miot devices\nVacuum 1C STYTJ01ZHM dreame.vacuum.mc1808\ncuco goplug cuco.plug.cp1\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-04-22T23:39:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNDMxMg==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413414312", "bodyText": "description is missing for these.", "author": "cpmeister", "createdAt": "2020-04-23T00:03:19Z", "path": "bundles/org.openhab.binding.miio/README.md", "diffHunk": "@@ -1131,6 +1143,45 @@ e.g. `smarthome:send actionCommand 'upd_timer[\"1498595904821\", \"on\"]'` would ena\n | current          | Number  | Current                             |\n | temperature      | Number  | Temperature                         |\n \n+### Vacuum 1C STYTJ01ZHM (<a name=\"dreame-vacuum-mc1808\">dreame.vacuum.mc1808</a>) Channels\n+\n+| Channel          | Type    | Description                         |\n+|------------------|---------|-------------------------------------|\n+| BatteryLevel     | Number  | Battery-Battery Level               |\n+| ChargingState    | Number  | Battery-Charging State              |\n+| FirmwareRevision | String  | Device Information-Current Firmware Version |\n+| Manufacturer     | String  | Device Information-Device Manufacturer |\n+| Model            | String  | Device Information-Device Model     |\n+| SerialNumber     | String  | Device Information-Device Serial Number |\n+| Fault            | Number  | Robot Cleaner-Device Fault          |\n+| Status           | Number  | Robot Cleaner-Status                |\n+| BrushLeftTime    | String  | Main Cleaning Brush-Brush Left Time |\n+| BrushLifeLevel   | Number  | Main Cleaning Brush-Brush Life Level |\n+| FilterLifeLevel  | Number  | Filter-Filter Life Level            |\n+| FilterLeftTime   | String  | Filter-Filter Left Time             |\n+| BrushLeftTime1   | String  | Side Cleaning Brush-Brush Left Time |\n+| BrushLifeLevel1  | Number  | Side Cleaning Brush-Brush Life Level |\n+| WorkMode         | Number  | clean-workmode                      |\n+| Area             | String  | clean-area                          |\n+| Timer            | String  | clean-timer                         |\n+| Mode             | Number  | clean-mode                          |\n+| TotalCleanTime   | String  | clean-total time                    |\n+| TotalCleanTimes  | String  | clean-total times                   |\n+| TotalCleanArea   | String  | clean-                              |\n+| CleanLogStartTime | String  | clean-                              |", "originalCommit": "f3adf30f0ba719417b0932dfaa5fb1238d9ce3d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg2MTg5NA==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413861894", "bodyText": "yep. fixed", "author": "marcelrv", "createdAt": "2020-04-23T14:48:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNDMxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNDgwNw==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413414807", "bodyText": "Are these supposed to be percentage values?", "author": "cpmeister", "createdAt": "2020-04-23T00:04:42Z", "path": "bundles/org.openhab.binding.miio/README.md", "diffHunk": "@@ -1131,6 +1143,45 @@ e.g. `smarthome:send actionCommand 'upd_timer[\"1498595904821\", \"on\"]'` would ena\n | current          | Number  | Current                             |\n | temperature      | Number  | Temperature                         |\n \n+### Vacuum 1C STYTJ01ZHM (<a name=\"dreame-vacuum-mc1808\">dreame.vacuum.mc1808</a>) Channels\n+\n+| Channel          | Type    | Description                         |\n+|------------------|---------|-------------------------------------|\n+| BatteryLevel     | Number  | Battery-Battery Level               |\n+| ChargingState    | Number  | Battery-Charging State              |\n+| FirmwareRevision | String  | Device Information-Current Firmware Version |\n+| Manufacturer     | String  | Device Information-Device Manufacturer |\n+| Model            | String  | Device Information-Device Model     |\n+| SerialNumber     | String  | Device Information-Device Serial Number |\n+| Fault            | Number  | Robot Cleaner-Device Fault          |\n+| Status           | Number  | Robot Cleaner-Status                |\n+| BrushLeftTime    | String  | Main Cleaning Brush-Brush Left Time |\n+| BrushLifeLevel   | Number  | Main Cleaning Brush-Brush Life Level |\n+| FilterLifeLevel  | Number  | Filter-Filter Life Level            |\n+| FilterLeftTime   | String  | Filter-Filter Left Time             |\n+| BrushLeftTime1   | String  | Side Cleaning Brush-Brush Left Time |\n+| BrushLifeLevel1  | Number  | Side Cleaning Brush-Brush Life Level |\n+| WorkMode         | Number  | clean-workmode                      |\n+| Area             | String  | clean-area                          |\n+| Timer            | String  | clean-timer                         |\n+| Mode             | Number  | clean-mode                          |\n+| TotalCleanTime   | String  | clean-total time                    |\n+| TotalCleanTimes  | String  | clean-total times                   |\n+| TotalCleanArea   | String  | clean-                              |\n+| CleanLogStartTime | String  | clean-                              |\n+| ButtonLed        | String  | clean-led                           |\n+| TaskDone         | Number  | clean-task done                     |\n+| LifeSieve        | String  | consumable-life-sieve               |\n+| LifeBrushSide    | String  | consumable-life-brush-side          |\n+| LifeBrushMain    | String  | consumable-life-brush-main          |", "originalCommit": "f3adf30f0ba719417b0932dfaa5fb1238d9ce3d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg2MTEyNA==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413861124", "bodyText": "see the long comment below", "author": "marcelrv", "createdAt": "2020-04-23T14:47:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNDgwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNTA2OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413415069", "bodyText": "what is the difference between these fields? Can they be Number:Time instead?", "author": "cpmeister", "createdAt": "2020-04-23T00:05:22Z", "path": "bundles/org.openhab.binding.miio/README.md", "diffHunk": "@@ -1131,6 +1143,45 @@ e.g. `smarthome:send actionCommand 'upd_timer[\"1498595904821\", \"on\"]'` would ena\n | current          | Number  | Current                             |\n | temperature      | Number  | Temperature                         |\n \n+### Vacuum 1C STYTJ01ZHM (<a name=\"dreame-vacuum-mc1808\">dreame.vacuum.mc1808</a>) Channels\n+\n+| Channel          | Type    | Description                         |\n+|------------------|---------|-------------------------------------|\n+| BatteryLevel     | Number  | Battery-Battery Level               |\n+| ChargingState    | Number  | Battery-Charging State              |\n+| FirmwareRevision | String  | Device Information-Current Firmware Version |\n+| Manufacturer     | String  | Device Information-Device Manufacturer |\n+| Model            | String  | Device Information-Device Model     |\n+| SerialNumber     | String  | Device Information-Device Serial Number |\n+| Fault            | Number  | Robot Cleaner-Device Fault          |\n+| Status           | Number  | Robot Cleaner-Status                |\n+| BrushLeftTime    | String  | Main Cleaning Brush-Brush Left Time |\n+| BrushLifeLevel   | Number  | Main Cleaning Brush-Brush Life Level |\n+| FilterLifeLevel  | Number  | Filter-Filter Life Level            |\n+| FilterLeftTime   | String  | Filter-Filter Left Time             |\n+| BrushLeftTime1   | String  | Side Cleaning Brush-Brush Left Time |\n+| BrushLifeLevel1  | Number  | Side Cleaning Brush-Brush Life Level |\n+| WorkMode         | Number  | clean-workmode                      |\n+| Area             | String  | clean-area                          |\n+| Timer            | String  | clean-timer                         |\n+| Mode             | Number  | clean-mode                          |\n+| TotalCleanTime   | String  | clean-total time                    |\n+| TotalCleanTimes  | String  | clean-total times                   |", "originalCommit": "f3adf30f0ba719417b0932dfaa5fb1238d9ce3d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg2MTQ4Nw==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413861487", "bodyText": "To be honest, I don't know. see the long comment below", "author": "marcelrv", "createdAt": "2020-04-23T14:48:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNTA2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkyNTgyNw==", "url": "https://github.com/openhab/openhab-addons/pull/7452#discussion_r413925827", "bodyText": "But, given the names, I expect that the one is the (clock) time of the cleaning and the other the amount of times the machine has cleaned. Similar counts are for the other Xiaomi vacuum cleaners available.\nbtw, it is still on my wish list #7276 to have the binding deal with Number:Time sort of notation. I expect it is not a huge effort, but I have not looked deeper into it what would be the detailed impact to the updating process and the possible impact in handling of the commands", "author": "marcelrv", "createdAt": "2020-04-23T16:04:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQxNTA2OQ=="}], "type": "inlineReview"}, {"oid": "655b6860c0a63726043a4387012465eaac58eab7", "url": "https://github.com/openhab/openhab-addons/commit/655b6860c0a63726043a4387012465eaac58eab7", "message": "[miio] add missing channel descriptions\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-04-23T16:18:21Z", "type": "commit"}]}