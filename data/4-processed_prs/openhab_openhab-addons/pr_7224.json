{"pr_number": 7224, "pr_title": "[insteon] support Dimmer/Switch Beep and LED On/Off as well as Motion Sensor Dawn/Dusk and Low Bat", "pr_createdAt": "2020-03-26T00:13:37Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7224", "timeline": [{"oid": "9aa3134a9625c7bfefb3adf00f4f05b35f3ac67a", "url": "https://github.com/openhab/openhab-addons/commit/9aa3134a9625c7bfefb3adf00f4f05b35f3ac67a", "message": "Added Beep and LED On/Off to dimmers switches (and keypad dimmers and switches).  Also added Dawn/Dusk and LowBattery to motion detectors.\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-26T01:50:48Z", "type": "commit"}, {"oid": "915943e01de97372f7959cdf9d98da29fc9c12f2", "url": "https://github.com/openhab/openhab-addons/commit/915943e01de97372f7959cdf9d98da29fc9c12f2", "message": "Added Beep and LED On/Off as channels\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-26T01:50:48Z", "type": "commit"}, {"oid": "ded4e5c47005c93a54537ad6f1a69430d0aa4707", "url": "https://github.com/openhab/openhab-addons/commit/ded4e5c47005c93a54537ad6f1a69430d0aa4707", "message": "Added Beep and LED On/Off channels to README.md\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-26T01:50:48Z", "type": "commit"}, {"oid": "d690e466b18693d564158ef9aee13a10a892ed7e", "url": "https://github.com/openhab/openhab-addons/commit/d690e466b18693d564158ef9aee13a10a892ed7e", "message": "Added Motion Sensor Dawn/Dusk and Low Batt as channels and to README.md\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-26T01:50:48Z", "type": "commit"}, {"oid": "d690e466b18693d564158ef9aee13a10a892ed7e", "url": "https://github.com/openhab/openhab-addons/commit/d690e466b18693d564158ef9aee13a10a892ed7e", "message": "Added Motion Sensor Dawn/Dusk and Low Batt as channels and to README.md\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-26T01:50:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMwMDQ5MQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398300491", "bodyText": "so the last three bytes of the message are 0?", "author": "cpmeister", "createdAt": "2020-03-26T03:40:29Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -386,13 +386,13 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n             try {\n                 int button = this.getIntParameter(\"button\", -1);\n                 if (cmd == OnOffType.ON) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    //Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00, new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    Msg m = dev.makeExtendedMessage((byte)31, (byte)32, (byte)9, new byte[3]);", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3NTg2MQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398575861", "bodyText": "Yes, per @robnielsen 's comments below, I've changed code to set these specifically to 0x00", "author": "tommycw1", "createdAt": "2020-03-26T13:35:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMwMDQ5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMwMjAwOA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398302008", "bodyText": "Is this variable used anymore then?", "author": "cpmeister", "createdAt": "2020-03-26T03:47:26Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -386,13 +386,13 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n             try {\n                 int button = this.getIntParameter(\"button\", -1);", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3NjMyMw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398576323", "bodyText": "No, this was leftover from previous usage and I've now removed it from new code", "author": "tommycw1", "createdAt": "2020-03-26T13:36:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMwMjAwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyNzgxNA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398527814", "bodyText": "Can you change \"Makes Device Beep\" to \"Beep\"", "author": "robnielsen", "createdAt": "2020-03-26T12:19:43Z", "path": "bundles/org.openhab.binding.insteon/README.md", "diffHunk": "@@ -119,6 +119,7 @@ In order to determine which channels a device supports, you can look at the devi\n | backlightDuration | Number | Back Light Duration |\n | batteryLevel | Number | Battery Level |\n | batteryWatermarkLevel | Number | Battery Watermark Level |\n+| beep | Switch | Makes Device Beep |", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4MzA3Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398583073", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-26T13:45:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyNzgxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398529255", "bodyText": "Can we use something more generic than \"dawndusk\"? This assumes that the variable is associated with the sun rise/set", "author": "robnielsen", "createdAt": "2020-03-26T12:22:20Z", "path": "bundles/org.openhab.binding.insteon/README.md", "diffHunk": "@@ -131,6 +132,7 @@ In order to determine which channels a device supports, you can look at the devi\n | broadcastOnOff | Switch | Broadcast On/Off |\n | contact | Contact | Contact |\n | coolSetPoint | Number | Cool Set Point |\n+| dawndusk | Contact | Light Sensor above or below threshold |", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3ODY5Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398578693", "bodyText": "I can make it whatever you'd like, but I think this is the traditional way to refer to this feature on motion sensors going back to old X10 stuff.  How about lightdark?", "author": "tommycw1", "createdAt": "2020-03-26T13:39:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4NDEwNg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398584106", "bodyText": "changed to lightdark", "author": "tommycw1", "createdAt": "2020-03-26T13:46:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODYxMDkzNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398610935", "bodyText": "This is a contact so it should be something that describes what it actually is doing and needs to be camel case (lightDark). Can you look at other bindings and see if you can find a generic term?", "author": "robnielsen", "createdAt": "2020-03-26T14:21:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4OTIyNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398989225", "bodyText": "So I grepped around in the Zwave and Zigbee bindings and I don't see any other motion sensors with this feature.  Many report light - similar to this motion sensor, but none seem to report when the light is over or under the configurable threshold.  I pushed a new version changing to camel case as you asked but left it as lightDark.  I'm open to changing it to to whatever, just not sure what else it better.", "author": "tommycw1", "createdAt": "2020-03-27T01:42:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTIzMjQxNg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399232416", "bodyText": "Since this is a contact, lets use something that describes what the contact is telling us. How about lightLevelAboveThreshold? Then change the line to:\n| lightLevelAboveThreshold| Contact | Light Level Above/Below Threshold |", "author": "robnielsen", "createdAt": "2020-03-27T12:35:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MTU2NA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399541564", "bodyText": "OK - done.", "author": "tommycw1", "createdAt": "2020-03-27T21:15:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTI1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTc0Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398529743", "bodyText": "lowbat -> lowBattery\nMomentary trip on motion sensor low battery warning -> Low Battery", "author": "robnielsen", "createdAt": "2020-03-26T12:23:17Z", "path": "bundles/org.openhab.binding.insteon/README.md", "diffHunk": "@@ -156,12 +158,14 @@ In order to determine which channels a device supports, you can look at the devi\n | kWh | Number | Kilowatt Hour |\n | lastHeardFrom | DateTime | Last Heard From |\n | ledBrightness | Number | LED brightness |\n+| ledOnOff | Switch | LED On/Off |\n | lightDimmer | Dimmer | light Dimmer |\n | lightLevel | Number | Light Level |\n | loadDimmer | Dimmer | Load Dimmer |\n | loadSwitch | Switch | Load Switch |\n | loadSwitchFastOnOff | Switch | Load Switch Fast On/Off |\n | loadSwitchManualChange | Number | Load Switch Manual Change |\n+| lowbat | Contact | Momentary trip on motion sensor low battery warning |", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3OTIzMg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398579232", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-26T13:40:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyOTc0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDA5MA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398530090", "bodyText": "Can we use something more generic than \"dawndusk\"? This assumes that the variable is associated with the sun rise/set.", "author": "robnielsen", "createdAt": "2020-03-26T12:23:53Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/InsteonBindingConstants.java", "diffHunk": "@@ -46,6 +47,7 @@\n     public static final String BROADCAST_ON_OFF = \"broadcastOnOff\";\n     public static final String CONTACT = \"contact\";\n     public static final String COOL_SET_POINT = \"coolSetPoint\";\n+    public static final String DAWNDUSK = \"dawndusk\";", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3OTQ1OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398579459", "bodyText": "I can make it whatever you'd like, but I think this is the traditional way to refer to this feature on motion sensors going back to old X10 stuff. How about lightdark?", "author": "tommycw1", "createdAt": "2020-03-26T13:40:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDA5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4NTA1Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398585053", "bodyText": "change to:\npublic static final String LIGHTDARK = \"lightdark\";", "author": "tommycw1", "createdAt": "2020-03-26T13:48:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDA5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDM5MA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398530390", "bodyText": "public static final String LOW_BATTERY= \"lowBattery\";", "author": "robnielsen", "createdAt": "2020-03-26T12:24:25Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/InsteonBindingConstants.java", "diffHunk": "@@ -71,12 +73,14 @@\n     public static final String KWH = \"kWh\";\n     public static final String LAST_HEARD_FROM = \"lastHeardFrom\";\n     public static final String LED_BRIGHTNESS = \"ledBrightness\";\n+    public static final String LED_ONOFF = \"ledOnOff\";\n     public static final String LIGHT_DIMMER = \"lightDimmer\";\n     public static final String LIGHT_LEVEL = \"lightLevel\";\n     public static final String LOAD_DIMMER = \"loadDimmer\";\n     public static final String LOAD_SWITCH = \"loadSwitch\";\n     public static final String LOAD_SWITCH_FAST_ON_OFF = \"loadSwitchFastOnOff\";\n     public static final String LOAD_SWITCH_MANUAL_CHANGE = \"loadSwitchManualChange\";\n+    public static final String LOWBAT = \"lowbat\";", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3OTc4Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398579783", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-26T13:41:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDM5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDg5OA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398530898", "bodyText": "I assume this was accidental? Eclipse formatting produces the original formatting.", "author": "robnielsen", "createdAt": "2020-03-26T12:25:15Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "diffHunk": "@@ -54,34 +54,74 @@\n public class InsteonDeviceHandler extends BaseThingHandler {\n \n     private static final Set<String> ALL_CHANNEL_IDS = Collections.unmodifiableSet(Stream.of(\n-            InsteonBindingConstants.AC_DELAY, InsteonBindingConstants.BACKLIGHT_DURATION,\n-            InsteonBindingConstants.BATTERY_LEVEL, InsteonBindingConstants.BATTERY_WATERMARK_LEVEL,\n-            InsteonBindingConstants.BOTTOM_OUTLET, InsteonBindingConstants.BUTTON_A, InsteonBindingConstants.BUTTON_B,\n-            InsteonBindingConstants.BUTTON_C, InsteonBindingConstants.BUTTON_D, InsteonBindingConstants.BUTTON_E,\n-            InsteonBindingConstants.BUTTON_F, InsteonBindingConstants.BUTTON_G, InsteonBindingConstants.BUTTON_H,\n-            InsteonBindingConstants.BROADCAST_ON_OFF, InsteonBindingConstants.CONTACT,\n-            InsteonBindingConstants.COOL_SET_POINT, InsteonBindingConstants.DIMMER, InsteonBindingConstants.FAN,\n-            InsteonBindingConstants.FAN_MODE, InsteonBindingConstants.FAST_ON_OFF,\n-            InsteonBindingConstants.FAST_ON_OFF_BUTTON_A, InsteonBindingConstants.FAST_ON_OFF_BUTTON_B,\n-            InsteonBindingConstants.FAST_ON_OFF_BUTTON_C, InsteonBindingConstants.FAST_ON_OFF_BUTTON_D,\n-            InsteonBindingConstants.HEAT_SET_POINT, InsteonBindingConstants.HUMIDITY,\n-            InsteonBindingConstants.HUMIDITY_HIGH, InsteonBindingConstants.HUMIDITY_LOW,\n-            InsteonBindingConstants.IS_COOLING, InsteonBindingConstants.IS_HEATING,\n-            InsteonBindingConstants.KEYPAD_BUTTON_A, InsteonBindingConstants.KEYPAD_BUTTON_B,\n-            InsteonBindingConstants.KEYPAD_BUTTON_C, InsteonBindingConstants.KEYPAD_BUTTON_D,\n-            InsteonBindingConstants.KEYPAD_BUTTON_E, InsteonBindingConstants.KEYPAD_BUTTON_F,\n-            InsteonBindingConstants.KEYPAD_BUTTON_G, InsteonBindingConstants.KEYPAD_BUTTON_H,\n-            InsteonBindingConstants.KWH, InsteonBindingConstants.LAST_HEARD_FROM,\n-            InsteonBindingConstants.LED_BRIGHTNESS, InsteonBindingConstants.LIGHT_DIMMER,\n-            InsteonBindingConstants.LIGHT_LEVEL, InsteonBindingConstants.LOAD_DIMMER,\n-            InsteonBindingConstants.LOAD_SWITCH, InsteonBindingConstants.LOAD_SWITCH_FAST_ON_OFF,\n-            InsteonBindingConstants.LOAD_SWITCH_MANUAL_CHANGE, InsteonBindingConstants.MANUAL_CHANGE,\n-            InsteonBindingConstants.MANUAL_CHANGE_BUTTON_A, InsteonBindingConstants.MANUAL_CHANGE_BUTTON_B,\n-            InsteonBindingConstants.MANUAL_CHANGE_BUTTON_C, InsteonBindingConstants.MANUAL_CHANGE_BUTTON_D,\n-            InsteonBindingConstants.NOTIFICATION, InsteonBindingConstants.ON_LEVEL, InsteonBindingConstants.RAMP_DIMMER,\n-            InsteonBindingConstants.RAMP_RATE, InsteonBindingConstants.RESET, InsteonBindingConstants.STAGE1_DURATION,\n-            InsteonBindingConstants.SWITCH, InsteonBindingConstants.SYSTEM_MODE, InsteonBindingConstants.TEMPERATURE,\n-            InsteonBindingConstants.TOP_OUTLET, InsteonBindingConstants.UPDATE, InsteonBindingConstants.WATTS)\n+            InsteonBindingConstants.AC_DELAY,\n+            InsteonBindingConstants.BACKLIGHT_DURATION,\n+            InsteonBindingConstants.BATTERY_LEVEL,\n+            InsteonBindingConstants.BATTERY_WATERMARK_LEVEL,\n+            InsteonBindingConstants.BEEP,\n+            InsteonBindingConstants.BOTTOM_OUTLET,\n+            InsteonBindingConstants.BUTTON_A,\n+            InsteonBindingConstants.BUTTON_B,\n+            InsteonBindingConstants.BUTTON_C,\n+            InsteonBindingConstants.BUTTON_D,\n+            InsteonBindingConstants.BUTTON_E,\n+            InsteonBindingConstants.BUTTON_F,\n+            InsteonBindingConstants.BUTTON_G,\n+            InsteonBindingConstants.BUTTON_H,\n+            InsteonBindingConstants.BROADCAST_ON_OFF,\n+            InsteonBindingConstants.CONTACT,\n+            InsteonBindingConstants.COOL_SET_POINT,\n+            InsteonBindingConstants.DAWNDUSK,\n+            InsteonBindingConstants.DIMMER,\n+            InsteonBindingConstants.FAN,\n+            InsteonBindingConstants.FAN_MODE,\n+            InsteonBindingConstants.FAST_ON_OFF,\n+            InsteonBindingConstants.FAST_ON_OFF_BUTTON_A,\n+            InsteonBindingConstants.FAST_ON_OFF_BUTTON_B,\n+            InsteonBindingConstants.FAST_ON_OFF_BUTTON_C,\n+            InsteonBindingConstants.FAST_ON_OFF_BUTTON_D,\n+            InsteonBindingConstants.HEAT_SET_POINT,\n+            InsteonBindingConstants.HUMIDITY,\n+            InsteonBindingConstants.HUMIDITY_HIGH,\n+            InsteonBindingConstants.HUMIDITY_LOW,\n+            InsteonBindingConstants.IS_COOLING,\n+            InsteonBindingConstants.IS_HEATING,\n+            InsteonBindingConstants.KEYPAD_BUTTON_A,\n+            InsteonBindingConstants.KEYPAD_BUTTON_B,\n+            InsteonBindingConstants.KEYPAD_BUTTON_C,\n+            InsteonBindingConstants.KEYPAD_BUTTON_D,\n+            InsteonBindingConstants.KEYPAD_BUTTON_E,\n+            InsteonBindingConstants.KEYPAD_BUTTON_F,\n+            InsteonBindingConstants.KEYPAD_BUTTON_G,\n+            InsteonBindingConstants.KEYPAD_BUTTON_H,\n+            InsteonBindingConstants.KWH,\n+            InsteonBindingConstants.LAST_HEARD_FROM,\n+            InsteonBindingConstants.LED_BRIGHTNESS,\n+            InsteonBindingConstants.LED_ONOFF,\n+            InsteonBindingConstants.LIGHT_DIMMER,\n+            InsteonBindingConstants.LIGHT_LEVEL,\n+            InsteonBindingConstants.LOAD_DIMMER,\n+            InsteonBindingConstants.LOAD_SWITCH,\n+            InsteonBindingConstants.LOAD_SWITCH_FAST_ON_OFF,\n+            InsteonBindingConstants.LOAD_SWITCH_MANUAL_CHANGE,\n+            InsteonBindingConstants.LOWBAT,\n+            InsteonBindingConstants.MANUAL_CHANGE,\n+            InsteonBindingConstants.MANUAL_CHANGE_BUTTON_A,\n+            InsteonBindingConstants.MANUAL_CHANGE_BUTTON_B,\n+            InsteonBindingConstants.MANUAL_CHANGE_BUTTON_C,\n+            InsteonBindingConstants.MANUAL_CHANGE_BUTTON_D,\n+            InsteonBindingConstants.NOTIFICATION,\n+            InsteonBindingConstants.ON_LEVEL,\n+            InsteonBindingConstants.RAMP_DIMMER,\n+            InsteonBindingConstants.RAMP_RATE,\n+            InsteonBindingConstants.RESET,\n+            InsteonBindingConstants.STAGE1_DURATION,\n+            InsteonBindingConstants.SWITCH,\n+            InsteonBindingConstants.SYSTEM_MODE,\n+            InsteonBindingConstants.TEMPERATURE,\n+            InsteonBindingConstants.TOP_OUTLET,\n+            InsteonBindingConstants.UPDATE,\n+            InsteonBindingConstants.WATTS)", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4NjIxNg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398586216", "bodyText": "do you mean with multiple on each line?  I had a really hard time reading this so I changed to one per line similar to formatting in InsteonDeviceHandler.java.  I can set to however you want.", "author": "tommycw1", "createdAt": "2020-03-26T13:49:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDg5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODYxMTcyMA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398611720", "bodyText": "This is not following how it is formatted when using the code formatters built into eclipse", "author": "robnielsen", "createdAt": "2020-03-26T14:22:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDg5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MTcyNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399541725", "bodyText": "done", "author": "tommycw1", "createdAt": "2020-03-27T21:16:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMDg5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTMzMw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398531333", "bodyText": "Can we use something more generic than \"dawndusk\"? This assumes that the variable is associated with the sun rise/set.", "author": "robnielsen", "createdAt": "2020-03-26T12:26:00Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -137,6 +142,11 @@\n \t\t<label>Cool Set Point</label>\n \t</channel-type>\n \n+\t<channel-type id=\"dawndusk\">", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4NzYyMA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398587620", "bodyText": "change to:\n<channel-type id=\"lightdark\">\n\t<item-type>Contact</item-type>\n\t<label>Light/Dark</label>\n</channel-type>", "author": "tommycw1", "createdAt": "2020-03-26T13:51:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTMzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTQ5OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398531499", "bodyText": "lowbattery", "author": "robnielsen", "createdAt": "2020-03-26T12:26:19Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -292,6 +307,11 @@\n \t\t<label>Load Switch Manual Change</label>\n \t</channel-type>\n \n+\t<channel-type id=\"lowbat\">", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4ODAxMQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398588011", "bodyText": "done", "author": "tommycw1", "createdAt": "2020-03-26T13:51:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTQ5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTk2Ng==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398531966", "bodyText": "Can we use something more generic than \"Dawndusk\"? This assumes that the variable is associated with the sun rise/set.", "author": "robnielsen", "createdAt": "2020-03-26T12:27:06Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_features.xml", "diffHunk": "@@ -403,6 +403,26 @@\n \t<command-handler command=\"OnOffType\">NoOpCommandHandler</command-handler>\n \t<poll-handler>NoPollHandler</poll-handler>\n </feature>\n+<feature name=\"WirelessMotionSensorDawndusk\">", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3OTk1MA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398579950", "bodyText": "I can make it whatever you'd like, but I think this is the traditional way to refer to this feature on motion sensors going back to old X10 stuff. How about lightdark?", "author": "tommycw1", "createdAt": "2020-03-26T13:41:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTk2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4ODg5OA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398588898", "bodyText": "changed to WirelessMotionSensorLightdark", "author": "tommycw1", "createdAt": "2020-03-26T13:52:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMTk2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMjA5OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398532099", "bodyText": "Lowbat -> LowBattery", "author": "robnielsen", "createdAt": "2020-03-26T12:27:21Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_features.xml", "diffHunk": "@@ -403,6 +403,26 @@\n \t<command-handler command=\"OnOffType\">NoOpCommandHandler</command-handler>\n \t<poll-handler>NoPollHandler</poll-handler>\n </feature>\n+<feature name=\"WirelessMotionSensorDawndusk\">\n+\t<message-dispatcher>DefaultDispatcher</message-dispatcher>\n+\t<message-handler cmd=\"0x03\" group=\"2\">NoOpMsgHandler</message-handler>\n+\t<message-handler cmd=\"0x11\" group=\"2\">OpenedSleepingContactHandler</message-handler>\n+\t<message-handler cmd=\"0x13\" group=\"2\">ClosedSleepingContactHandler</message-handler>\n+\t<message-handler cmd=\"0x19\">NoOpMsgHandler</message-handler>\n+\t<message-handler cmd=\"0x2e\">NoOpMsgHandler</message-handler>\n+\t<command-handler command=\"OnOffType\">NoOpCommandHandler</command-handler>\n+\t<poll-handler>NoPollHandler</poll-handler>\n+</feature>\n+<feature name=\"WirelessMotionSensorLowbat\">", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4MDY4MQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398580681", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-26T13:42:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMjA5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMzMxOQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398533319", "bodyText": "Can we use something more generic than \"dawndusk\"? This assumes that the variable is associated with the sun rise/set.\nlowbat->lowbattery", "author": "robnielsen", "createdAt": "2020-03-26T12:29:17Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_types.xml", "diffHunk": "@@ -76,6 +76,8 @@ Example entry:\n      <model>2842-222</model>\n      <description>Motion Sensor</description>\n      <feature name=\"contact\">WirelessMotionSensorContact</feature>\n+     <feature name=\"dawndusk\">WirelessMotionSensorDawndusk</feature>\n+     <feature name=\"lowbat\">WirelessMotionSensorLowbat</feature>", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4MTQxNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398581415", "bodyText": "I can make it whatever you'd like, but I think this is the traditional way to refer to this feature on motion sensors going back to old X10 stuff. How about lightdark?\nLowbat - done", "author": "tommycw1", "createdAt": "2020-03-26T13:43:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMzMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4OTM1Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398589352", "bodyText": "changed to WirelessMotionSensorLightdark", "author": "tommycw1", "createdAt": "2020-03-26T13:53:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzMzMxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzODk3OA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398538978", "bodyText": "Remove commented code.\nConvert to hexadecimal, and explicitly assign values to the 3 bytes (even if they are 0x00).", "author": "robnielsen", "createdAt": "2020-03-26T12:39:07Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -386,13 +386,13 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n             try {\n                 int button = this.getIntParameter(\"button\", -1);\n                 if (cmd == OnOffType.ON) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    //Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00, new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    Msg m = dev.makeExtendedMessage((byte)31, (byte)32, (byte)9, new byte[3]);", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4MTg5Nw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398581897", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-26T13:44:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzODk3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzOTExMQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398539111", "bodyText": "Remove commented code.\nConvert to hexadecimal, and explicitly assign values to the 3 bytes (even if they are 0x00).", "author": "robnielsen", "createdAt": "2020-03-26T12:39:18Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -386,13 +386,13 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n             try {\n                 int button = this.getIntParameter(\"button\", -1);\n                 if (cmd == OnOffType.ON) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    //Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00, new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    Msg m = dev.makeExtendedMessage((byte)31, (byte)32, (byte)9, new byte[3]);\n                     dev.enqueueMessage(m, feature);\n                     logger.debug(\"{}: sent msg to switch {} on\", nm(), dev.getAddress());\n                 } else if (cmd == OnOffType.OFF) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x00 });\n+                    //Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00, new byte[] { (byte) button, (byte) 0x09, (byte) 0x00 });\n+                    Msg m = dev.makeExtendedMessage((byte)31, (byte)32, (byte)8, new byte[3]);", "originalCommit": "d690e466b18693d564158ef9aee13a10a892ed7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU4MjUyOQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r398582529", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-26T13:44:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzOTExMQ=="}], "type": "inlineReview"}, {"oid": "7f4aaefcad7866c1ec1f05091031a00c8a498123", "url": "https://github.com/openhab/openhab-addons/commit/7f4aaefcad7866c1ec1f05091031a00c8a498123", "message": "Changed a few variable names to better match standard and removed commented out code.\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-27T01:39:24Z", "type": "commit"}, {"oid": "a73965d22178317dd3d5a7e768b0875342d8e4d5", "url": "https://github.com/openhab/openhab-addons/commit/a73965d22178317dd3d5a7e768b0875342d8e4d5", "message": "Chnged variable for light sensor above threshold to betther match standard and fixed formatting to better match standard\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-27T21:14:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MjgxNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399542815", "bodyText": "camelcase\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <feature name=\"WirelessMotionSensorLightlevelabovethreshold\">\n          \n          \n            \n            <feature name=\"WirelessMotionSensorLightLevelAboveThreshold\">", "author": "cpmeister", "createdAt": "2020-03-27T21:18:47Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_features.xml", "diffHunk": "@@ -403,7 +403,7 @@\n \t<command-handler command=\"OnOffType\">NoOpCommandHandler</command-handler>\n \t<poll-handler>NoPollHandler</poll-handler>\n </feature>\n-<feature name=\"WirelessMotionSensorLightdark\">\n+<feature name=\"WirelessMotionSensorLightlevelabovethreshold\">", "originalCommit": "a73965d22178317dd3d5a7e768b0875342d8e4d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MTE3Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399581173", "bodyText": "Done - pushed new", "author": "tommycw1", "createdAt": "2020-03-27T23:26:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MjgxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MzAwMg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399543002", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 <feature name=\"lightlevelabovethreshold\">WirelessMotionSensorLightlevelabovethreshold</feature>\n          \n          \n            \n                 <feature name=\"lightlevelabovethreshold\">WirelessMotionSensorLightLevelAboveThreshold</feature>", "author": "cpmeister", "createdAt": "2020-03-27T21:19:08Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_types.xml", "diffHunk": "@@ -76,7 +76,7 @@ Example entry:\n      <model>2842-222</model>\n      <description>Motion Sensor</description>\n      <feature name=\"contact\">WirelessMotionSensorContact</feature>\n-     <feature name=\"lightdark\">WirelessMotionSensorLightdark</feature>\n+     <feature name=\"lightlevelabovethreshold\">WirelessMotionSensorLightlevelabovethreshold</feature>", "originalCommit": "a73965d22178317dd3d5a7e768b0875342d8e4d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MTE5Ng==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399581196", "bodyText": "Done - Pushed new", "author": "tommycw1", "createdAt": "2020-03-27T23:26:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0MzAwMg=="}], "type": "inlineReview"}, {"oid": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "url": "https://github.com/openhab/openhab-addons/commit/d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "message": "Changed WirelessMotionSensorLightlevelabovethreshold to WirelessMotionSensorLightLevelAboveThreshold per request\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-27T23:18:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MTk4Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399581982", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 <feature name=\"lowbattery\">WirelessMotionSensorLowbattery</feature>\n          \n          \n            \n                 <feature name=\"lowbattery\">WirelessMotionSensorLowBattery</feature>", "author": "cpmeister", "createdAt": "2020-03-27T23:29:31Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_types.xml", "diffHunk": "@@ -76,6 +76,8 @@ Example entry:\n      <model>2842-222</model>\n      <description>Motion Sensor</description>\n      <feature name=\"contact\">WirelessMotionSensorContact</feature>\n+     <feature name=\"lightlevelabovethreshold\">WirelessMotionSensorLightLevelAboveThreshold</feature>\n+     <feature name=\"lowbattery\">WirelessMotionSensorLowbattery</feature>", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4NzI1Nw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399587257", "bodyText": "No problem.  Sorry for the issues.  Done now, pushed new version.", "author": "tommycw1", "createdAt": "2020-03-27T23:54:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MTk4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MjA3OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399582079", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <feature name=\"WirelessMotionSensorLowbattery\">\n          \n          \n            \n            <feature name=\"WirelessMotionSensorLowBattery\">", "author": "cpmeister", "createdAt": "2020-03-27T23:30:00Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/device_features.xml", "diffHunk": "@@ -403,6 +403,26 @@\n \t<command-handler command=\"OnOffType\">NoOpCommandHandler</command-handler>\n \t<poll-handler>NoPollHandler</poll-handler>\n </feature>\n+<feature name=\"WirelessMotionSensorLightLevelAboveThreshold\">\n+\t<message-dispatcher>DefaultDispatcher</message-dispatcher>\n+\t<message-handler cmd=\"0x03\" group=\"2\">NoOpMsgHandler</message-handler>\n+\t<message-handler cmd=\"0x11\" group=\"2\">OpenedSleepingContactHandler</message-handler>\n+\t<message-handler cmd=\"0x13\" group=\"2\">ClosedSleepingContactHandler</message-handler>\n+\t<message-handler cmd=\"0x19\">NoOpMsgHandler</message-handler>\n+\t<message-handler cmd=\"0x2e\">NoOpMsgHandler</message-handler>\n+\t<command-handler command=\"OnOffType\">NoOpCommandHandler</command-handler>\n+\t<poll-handler>NoPollHandler</poll-handler>\n+</feature>\n+<feature name=\"WirelessMotionSensorLowbattery\">", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4NzMxOA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399587318", "bodyText": "No problem. Sorry for the issues. Done now, pushed new version.", "author": "tommycw1", "createdAt": "2020-03-27T23:55:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MjA3OQ=="}], "type": "inlineReview"}, {"oid": "1a482f944c029e469b2480517daf2a1caf437ec3", "url": "https://github.com/openhab/openhab-addons/commit/1a482f944c029e469b2480517daf2a1caf437ec3", "message": "Changed WirelessMotionSensorLowbattery to WirelessMotionSensorLowBattery per request\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-27T23:53:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4NjI1Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399586253", "bodyText": "Lets make this consistent with the documentation. It has \"Light Level Above/Below Threshold\"", "author": "robnielsen", "createdAt": "2020-03-27T23:49:59Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -271,6 +281,11 @@\n \t\t<item-type>Number</item-type>\n \t\t<label>Light Level</label>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"lightLevelAboveThreshold\">\n+\t\t<item-type>Contact</item-type>\n+\t\t<label>Light Light Level Above Threshold</label>", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY2OTUyMQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399669521", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-28T14:40:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4NjI1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4NjQwMw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399586403", "bodyText": "Let's make this consistent with the documentation it has \"Low Battery\"", "author": "robnielsen", "createdAt": "2020-03-27T23:50:45Z", "path": "bundles/org.openhab.binding.insteon/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -292,6 +307,11 @@\n \t\t<label>Load Switch Manual Change</label>\n \t</channel-type>\n \n+\t<channel-type id=\"lowBattery\">\n+\t\t<item-type>Contact</item-type>\n+\t\t<label>Low Battery Warning</label>", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY2OTU1Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399669552", "bodyText": "Done", "author": "tommycw1", "createdAt": "2020-03-28T14:41:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4NjQwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDI3NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399594275", "bodyText": "Remove space at end of line, eclipse formatter removes it.", "author": "robnielsen", "createdAt": "2020-03-28T00:34:09Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -384,15 +364,14 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n         @Override\n         public void handleCommand(InsteonChannelConfiguration conf, Command cmd, InsteonDevice dev) {\n             try {\n-                int button = this.getIntParameter(\"button\", -1);\n                 if (cmd == OnOffType.ON) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x20, (byte) 0x09, ", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY3MDU0Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399670543", "bodyText": "Weird, not sure why me opening, saving in Eclipse didn't fix this. Anyway, Done", "author": "tommycw1", "createdAt": "2020-03-28T14:50:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDI5NA==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399594294", "bodyText": "Remove space at end of line, eclipse formatter removes it.", "author": "robnielsen", "createdAt": "2020-03-28T00:34:21Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -384,15 +364,14 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n         @Override\n         public void handleCommand(InsteonChannelConfiguration conf, Command cmd, InsteonDevice dev) {\n             try {\n-                int button = this.getIntParameter(\"button\", -1);\n                 if (cmd == OnOffType.ON) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x01 });\n+                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x20, (byte) 0x09, \n+                            new byte[] { (byte) 0x00, (byte) 0x00, (byte) 0x00 });\n                     dev.enqueueMessage(m, feature);\n                     logger.debug(\"{}: sent msg to switch {} on\", nm(), dev.getAddress());\n                 } else if (cmd == OnOffType.OFF) {\n-                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x2e, (byte) 0x00,\n-                            new byte[] { (byte) button, (byte) 0x09, (byte) 0x00 });\n+                    Msg m = dev.makeExtendedMessage((byte) 0x1f, (byte) 0x20, (byte) 0x08, ", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY3MDA0MQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399670041", "bodyText": "Weird, not sure why me opening, saving in Eclipse didn't fix this.  Anyway, Done", "author": "tommycw1", "createdAt": "2020-03-28T14:45:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDI5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDc5Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399594793", "bodyText": "Space after comma, and remove space at end of line.", "author": "robnielsen", "createdAt": "2020-03-28T00:37:43Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "diffHunk": "@@ -72,15 +72,17 @@\n             InsteonBindingConstants.KEYPAD_BUTTON_E, InsteonBindingConstants.KEYPAD_BUTTON_F,\n             InsteonBindingConstants.KEYPAD_BUTTON_G, InsteonBindingConstants.KEYPAD_BUTTON_H,\n             InsteonBindingConstants.KWH, InsteonBindingConstants.LAST_HEARD_FROM,\n-            InsteonBindingConstants.LED_BRIGHTNESS, InsteonBindingConstants.LIGHT_DIMMER,\n-            InsteonBindingConstants.LIGHT_LEVEL, InsteonBindingConstants.LOAD_DIMMER,\n+            InsteonBindingConstants.LED_BRIGHTNESS, InsteonBindingConstants.LED_ONOFF,\n+            InsteonBindingConstants.LIGHT_DIMMER,InsteonBindingConstants.LIGHT_LEVEL, ", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY3MDU3Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399670573", "bodyText": "Weird, not sure why me opening, saving in Eclipse didn't fix this. Anyway, Done", "author": "tommycw1", "createdAt": "2020-03-28T14:50:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDc5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDg1NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399594855", "bodyText": "space after comma", "author": "robnielsen", "createdAt": "2020-03-28T00:38:05Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "diffHunk": "@@ -72,15 +72,17 @@\n             InsteonBindingConstants.KEYPAD_BUTTON_E, InsteonBindingConstants.KEYPAD_BUTTON_F,\n             InsteonBindingConstants.KEYPAD_BUTTON_G, InsteonBindingConstants.KEYPAD_BUTTON_H,\n             InsteonBindingConstants.KWH, InsteonBindingConstants.LAST_HEARD_FROM,\n-            InsteonBindingConstants.LED_BRIGHTNESS, InsteonBindingConstants.LIGHT_DIMMER,\n-            InsteonBindingConstants.LIGHT_LEVEL, InsteonBindingConstants.LOAD_DIMMER,\n+            InsteonBindingConstants.LED_BRIGHTNESS, InsteonBindingConstants.LED_ONOFF,\n+            InsteonBindingConstants.LIGHT_DIMMER,InsteonBindingConstants.LIGHT_LEVEL, \n+            InsteonBindingConstants.LIGHT_LEVEL_ABOVE_THRESHOLD,InsteonBindingConstants.LOAD_DIMMER,", "originalCommit": "d3db24e2e687536868bf2eb9f0aa2edfb2dec2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY3MDYzNg==", "url": "https://github.com/openhab/openhab-addons/pull/7224#discussion_r399670636", "bodyText": "Weird, not sure why me opening, saving in Eclipse didn't fix this. Anyway, Done", "author": "tommycw1", "createdAt": "2020-03-28T14:51:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU5NDg1NQ=="}], "type": "inlineReview"}, {"oid": "315e8c38dbaa6750130526bc035f352b96e0449f", "url": "https://github.com/openhab/openhab-addons/commit/315e8c38dbaa6750130526bc035f352b96e0449f", "message": "Added some formatting changes to ensure docs match code and to al code to match Eclipse formatting\n\nSigned-off-by: Tom Weichmann <tommycw10@gmail.com>", "committedDate": "2020-03-28T14:58:02Z", "type": "commit"}]}