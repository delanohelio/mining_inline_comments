{"pr_number": 8477, "pr_title": "[miio] control channel for Vacuum 1C STYTJ01ZHM (dreame.vacuum.mc1808)", "pr_createdAt": "2020-09-16T12:14:23Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8477", "timeline": [{"oid": "dcb49a488c18b7a1172bda720326579c8734b17c", "url": "https://github.com/openhab/openhab-addons/commit/dcb49a488c18b7a1172bda720326579c8734b17c", "message": "[miio] control channel for Vacuum 1C STYTJ01ZHM (dreame.vacuum.mc1808)\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-09-16T11:40:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTY1MTM5NA==", "url": "https://github.com/openhab/openhab-addons/pull/8477#discussion_r489651394", "bodyText": "Renaming the channel breaks backward compatibility, but the description remains the same. Is it needed to rename therefor?", "author": "Hilbrand", "createdAt": "2020-09-16T18:38:46Z", "path": "bundles/org.openhab.binding.miio/README.md", "diffHunk": "@@ -1367,7 +1367,7 @@ e.g. `smarthome:send actionCommand 'upd_timer[\"1498595904821\", \"on\"]'` would ena\n \n | Channel          | Type    | Description                         |\n |------------------|---------|-------------------------------------|\n-| vacuumaction     | String  | Vacuum Action                       |\n+| dreameControl    | String  | Vacuum Action                       |", "originalCommit": "dcb49a488c18b7a1172bda720326579c8734b17c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcxNDMyOA==", "url": "https://github.com/openhab/openhab-addons/pull/8477#discussion_r489714328", "bodyText": "The mean reason for the change is that the type is changing from number to a string... meaning that it will most likely break backwards anyway.\nAs this type was added very recent (think it is not in 2.5.8) little chance that many users already have this.\nnevertheless, I'll change the name back to the earlier channel name and only change the channelType", "author": "marcelrv", "createdAt": "2020-09-16T19:47:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTY1MTM5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcyMDc4NQ==", "url": "https://github.com/openhab/openhab-addons/pull/8477#discussion_r489720785", "bodyText": "If it was not in 2.5.8 it's not officially released yet so we don't consider it a breaking change than.", "author": "Hilbrand", "createdAt": "2020-09-16T20:00:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTY1MTM5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTY1MjQ4OQ==", "url": "https://github.com/openhab/openhab-addons/pull/8477#discussion_r489652489", "bodyText": "Does this channel also show the state of the control  or is it only to send commands. In the latter case this should be <command> instead of <state>.", "author": "Hilbrand", "createdAt": "2020-09-16T18:39:40Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/ESH-INF/thing/commonChannels.xml", "diffHunk": "@@ -469,4 +469,18 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t<channel-type id=\"dreameControl\">\n+\t\t<item-type>String</item-type>\n+\t\t<label>Control Vacuum</label>\n+\t\t<state>", "originalCommit": "dcb49a488c18b7a1172bda720326579c8734b17c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcyMDgyNA==", "url": "https://github.com/openhab/openhab-addons/pull/8477#discussion_r489720824", "bodyText": "Ah, did not know that.\nit is the latter (for now) as it is unclear still how the vacuum is precisely reporting back the current activity.", "author": "marcelrv", "createdAt": "2020-09-16T20:00:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTY1MjQ4OQ=="}], "type": "inlineReview"}, {"oid": "1a29513425acf3a8d2d7e9963979022660ae11fc", "url": "https://github.com/openhab/openhab-addons/commit/1a29513425acf3a8d2d7e9963979022660ae11fc", "message": "[miio] update from feedback\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-09-16T20:08:52Z", "type": "commit"}]}