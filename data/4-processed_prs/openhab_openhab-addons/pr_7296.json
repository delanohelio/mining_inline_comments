{"pr_number": 7296, "pr_title": "Fix SAT NoEmptyLineSeparatorCheck findings", "pr_createdAt": "2020-04-04T22:54:29Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7296", "timeline": [{"oid": "94cf77263fd7bcfafbad9c21ce2e109c94372a5a", "url": "https://github.com/openhab/openhab-addons/commit/94cf77263fd7bcfafbad9c21ce2e109c94372a5a", "message": "Fix SAT NoEmptyLineSeparatorCheck findings\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-04-04T22:52:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU1OTY0OA==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403559648", "bodyText": "Is there any formatting setting that would make this look better?", "author": "cpmeister", "createdAt": "2020-04-04T23:00:09Z", "path": "bundles/org.openhab.binding.bosesoundtouch/src/main/java/org/openhab/binding/bosesoundtouch/internal/handler/BoseSoundTouchHandler.java", "diffHunk": "@@ -517,32 +520,66 @@ public void handleGroupUpdated(BoseSoundTouchConfiguration masterPlayerConfigura\n             }\r\n         }\r\n     }\r\n-    \r\n+\r\n     private List<Channel> getAllChannels() {\r\n         List<Channel> allChannels = new ArrayList<>();\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_POWER), new ChannelTypeUID(BINDING_ID, CHANNEL_POWER)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_VOLUME), new ChannelTypeUID(BINDING_ID, CHANNEL_VOLUME)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_MUTE), new ChannelTypeUID(BINDING_ID, CHANNEL_MUTE)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_OPERATIONMODE), new ChannelTypeUID(BINDING_ID, \"operationMode_BST_10_20_30\")).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_PLAYER_CONTROL), new ChannelTypeUID(BINDING_ID, CHANNEL_PLAYER_CONTROL)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_PRESET), new ChannelTypeUID(BINDING_ID, CHANNEL_PRESET)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_BASS), new ChannelTypeUID(BINDING_ID, CHANNEL_BASS)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_RATEENABLED), new ChannelTypeUID(BINDING_ID, CHANNEL_RATEENABLED)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_SKIPENABLED), new ChannelTypeUID(BINDING_ID, CHANNEL_SKIPENABLED)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_SKIPPREVIOUSENABLED), new ChannelTypeUID(BINDING_ID, CHANNEL_SKIPPREVIOUSENABLED)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_SAVE_AS_PRESET), new ChannelTypeUID(BINDING_ID, CHANNEL_SAVE_AS_PRESET)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_KEY_CODE), new ChannelTypeUID(BINDING_ID, CHANNEL_KEY_CODE)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ALBUM), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ALBUM)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ARTWORK), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ARTWORK)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ARTIST), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ARTIST)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_DESCRIPTION), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_DESCRIPTION)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_GENRE), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_GENRE)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ITEMNAME), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ITEMNAME)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_STATIONLOCATION), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_STATIONLOCATION)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_STATIONNAME), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_STATIONNAME)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_TRACK), new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_TRACK)).build());\r\n-        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOTIFICATION_SOUND), new ChannelTypeUID(BINDING_ID, CHANNEL_NOTIFICATION_SOUND)).build());\r\n-        \r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_POWER),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_POWER)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_VOLUME),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_VOLUME)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_MUTE),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_MUTE)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_OPERATIONMODE),\r\n+                new ChannelTypeUID(BINDING_ID, \"operationMode_BST_10_20_30\")).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_PLAYER_CONTROL),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_PLAYER_CONTROL)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_PRESET),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_PRESET)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_BASS),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_BASS)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_RATEENABLED),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_RATEENABLED)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_SKIPENABLED),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_SKIPENABLED)).build());\r\n+        allChannels.add(\r\n+                getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_SKIPPREVIOUSENABLED),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_SKIPPREVIOUSENABLED)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_SAVE_AS_PRESET),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_SAVE_AS_PRESET)).build());\r\n+        allChannels.add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_KEY_CODE),\r\n+                new ChannelTypeUID(BINDING_ID, CHANNEL_KEY_CODE)).build());\r\n+        allChannels\r\n+                .add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ALBUM),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ALBUM)).build());\r\n+        allChannels\r\n+                .add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ARTWORK),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ARTWORK)).build());\r\n+        allChannels\r\n+                .add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ARTIST),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ARTIST)).build());\r\n+        allChannels.add(\r\n+                getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_DESCRIPTION),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_DESCRIPTION)).build());\r\n+        allChannels\r\n+                .add(getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_GENRE),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_GENRE)).build());\r\n+        allChannels.add(\r\n+                getCallback().createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_ITEMNAME),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_ITEMNAME)).build());\r\n+        allChannels.add(getCallback()\r\n+                .createChannelBuilder(new ChannelUID(getThing().getUID(), CHANNEL_NOWPLAYING_STATIONLOCATION),\r\n+                        new ChannelTypeUID(BINDING_ID, CHANNEL_NOWPLAYING_STATIONLOCATION))\r\n+                .build());\r", "originalCommit": "94cf77263fd7bcfafbad9c21ce2e109c94372a5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2MDAwOA==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403660008", "bodyText": "I've fixed the part where it's sloppy code with a lot of unnecessary duplication causing all sorts of issues.", "author": "wborn", "createdAt": "2020-04-05T07:10:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU1OTY0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MTMxMA==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403561310", "bodyText": "what's with this new indentation?", "author": "cpmeister", "createdAt": "2020-04-04T23:04:14Z", "path": "bundles/org.openhab.binding.keba/src/main/java/org/openhab/binding/keba/internal/handler/KeContactHandler.java", "diffHunk": "@@ -558,15 +557,17 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                     if (command instanceof DecimalType) {\n                         transceiver.send(\n                                 \"setenergy \" + String.valueOf(\n-                                        Math.min(Math.max(0, ((DecimalType) command).intValue()*10), 999999999)), this);\n+                                        Math.min(Math.max(0, ((DecimalType) command).intValue() * 10), 999999999)),\n+                                this);", "originalCommit": "94cf77263fd7bcfafbad9c21ce2e109c94372a5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY1OTUxNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403659515", "bodyText": "The Eclipse auto save formatting placed it on a new line. Does it also happen for you?", "author": "wborn", "createdAt": "2020-04-05T07:04:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MTMxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2MDA0NA==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403660044", "bodyText": "I don't mind that it placed it on a new line, I just disagree on the indentation of that new line, it should be at least as indented as the previous one.", "author": "cpmeister", "createdAt": "2020-04-05T07:10:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MTMxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2MTA4OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403661089", "bodyText": "I stopped fighting auto formatters a long time ago. \ud83d\ude09\nAccording to my settings the limit is set to 120:\n\nIt's a limit for a reason, sometimes it will result in less optimal formatting like in this case. It's expected to happen a lot more when all code is reformatted using spotless.", "author": "wborn", "createdAt": "2020-04-05T07:22:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MTMxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2ODU4NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403668585", "bodyText": "The auto formatter indents it like this because it is the second parameter of transceiver.send. I think it does make all this excessively indented code more readable:", "author": "wborn", "createdAt": "2020-04-05T08:34:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MTMxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MjA2Nw==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403562067", "bodyText": "why is this imported?", "author": "cpmeister", "createdAt": "2020-04-04T23:06:06Z", "path": "bundles/org.openhab.binding.neohub/src/main/java/org/openhab/binding/neohub/internal/NeoHubHandler.java", "diffHunk": "@@ -28,7 +28,7 @@\n import org.eclipse.smarthome.core.thing.binding.BaseBridgeHandler;\n import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n import org.eclipse.smarthome.core.types.Command;\n-\n+import org.openhab.binding.neohub.internal.NeoHubBindingConstants.NeoHubReturnResult;", "originalCommit": "94cf77263fd7bcfafbad9c21ce2e109c94372a5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY1OTcyMg==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403659722", "bodyText": "It's added by the auto save actions because it's used by fromNeoHubFetchPollingResponse on L181.", "author": "wborn", "createdAt": "2020-04-05T07:07:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2MjA2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2NDU2NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403564565", "bodyText": "isn't this comment indentation fragile?", "author": "cpmeister", "createdAt": "2020-04-04T23:12:15Z", "path": "bundles/org.openhab.binding.yamahareceiver/src/main/java/org/openhab/binding/yamahareceiver/internal/protocol/xml/XMLConnection.java", "diffHunk": "@@ -76,7 +76,8 @@ public XMLConnection(String host) {\n             connection.setRequestMethod(\"POST\");\n             connection.setRequestProperty(\"Content-Length\", Integer.toString(message.length()));\n \n-            connection.setConnectTimeout(CONNECTION_TIMEOUT_MS); // set a timeout in case the device is not reachable (went offline)\n+            connection.setConnectTimeout(CONNECTION_TIMEOUT_MS); // set a timeout in case the device is not reachable\n+                                                                 // (went offline)", "originalCommit": "94cf77263fd7bcfafbad9c21ce2e109c94372a5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY2MDQwOA==", "url": "https://github.com/openhab/openhab-addons/pull/7296#discussion_r403660408", "bodyText": "It should be less fragile now. \ud83c\udf88", "author": "wborn", "createdAt": "2020-04-05T07:14:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU2NDU2NQ=="}], "type": "inlineReview"}, {"oid": "ac0e234979ea835d32a2e974bfae2042a93c736b", "url": "https://github.com/openhab/openhab-addons/commit/ac0e234979ea835d32a2e974bfae2042a93c736b", "message": "Fix sloppy coding and fragile comment\n\nSigned-off-by: Wouter Born <github@maindrain.net>", "committedDate": "2020-04-05T07:09:56Z", "type": "commit"}]}