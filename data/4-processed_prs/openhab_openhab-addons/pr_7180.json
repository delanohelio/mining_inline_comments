{"pr_number": 7180, "pr_title": "[nanoleaf] reduce layout logs, fix wrong type detection, add discovery props", "pr_createdAt": "2020-03-15T17:00:56Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7180", "timeline": [{"oid": "c12ed28e5e3cd1aa76bc81e665d1814d498101e6", "url": "https://github.com/openhab/openhab-addons/commit/c12ed28e5e3cd1aa76bc81e665d1814d498101e6", "message": "[nanoleaf] Reduce layout logs, Fix wrong type detection, Add discovery props\n\n- Reduce layout logging by manual triggering\n- Add more test for inconsistent layout response from device\n- Fix wrong type detection for canvas\n- Fix rediscovery end handling (could have put controller offline)\n- Add model/vendor properties automatically if things configured manually in a static things file\n- Some code cleanup\n\nSigned-off-by: Stefan H\u00f6hn <stefan@andreaundstefanhoehn.de>", "committedDate": "2020-03-15T16:56:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5NjIyNw==", "url": "https://github.com/openhab/openhab-addons/pull/7180#discussion_r392696227", "bodyText": "please remove this logging statement, or set to debug", "author": "cpmeister", "createdAt": "2020-03-15T17:47:31Z", "path": "bundles/org.openhab.binding.nanoleaf/src/main/java/org/openhab/binding/nanoleaf/internal/handler/NanoleafControllerHandler.java", "diffHunk": "@@ -763,6 +758,13 @@ private void sendStateCommand(String channel, Command command) throws NanoleafEx\n                     return;\n                 }\n                 break;\n+            case CHANNEL_PANEL_LAYOUT:\n+                @Nullable\n+                Layout layout = controllerInfo.getPanelLayout().getLayout();\n+                String layoutView = (layout != null) ? layout.getLayoutView() : \"\";\n+                logger.info(\"Panel layout and ids for controller {} \\n{}\", thing.getUID(), layoutView);", "originalCommit": "c12ed28e5e3cd1aa76bc81e665d1814d498101e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjcwODkxOQ==", "url": "https://github.com/openhab/openhab-addons/pull/7180#discussion_r392708919", "bodyText": "In this case it is exactly the intention to have it on \"info\" as it is the standard logging setting (most OH users don't know how to change the log setting in karaf as it is rather advanced). It used to be info already before but was logged very often and filled the log. Now it is only logged upon request if needed intentionally as information for a standard user which is usually only done when you change the layout of your canvas. Hope that clarifies it :-)", "author": "stefan-hoehn", "createdAt": "2020-03-15T20:21:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5NjIyNw=="}], "type": "inlineReview"}]}