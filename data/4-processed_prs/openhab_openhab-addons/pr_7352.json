{"pr_number": 7352, "pr_title": "[homematic] Replaced deprecated constructors", "pr_createdAt": "2020-04-13T09:29:29Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7352", "timeline": [{"oid": "445c5190f30bf49c3f48613e0f0a24c0b66e8a59", "url": "https://github.com/openhab/openhab-addons/commit/445c5190f30bf49c3f48613e0f0a24c0b66e8a59", "message": "Replaced deprecated constructors\n\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>", "committedDate": "2020-04-13T09:30:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQxMDc2Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7352#discussion_r407410762", "bodyText": "While you are already touching the code, may I ask you to replace this constructor by ChannelTypeBuilder too?", "author": "cweitkamp", "createdAt": "2020-04-13T10:05:49Z", "path": "bundles/org.openhab.binding.homematic/src/main/java/org/openhab/binding/homematic/internal/type/HomematicTypeGeneratorImpl.java", "diffHunk": "@@ -301,11 +303,10 @@ public EventOption createOption(String value, String description) {\n                                 return new EventOption(value, description);\n                             }\n                         }));\n-\n             }\n             channelType = new ChannelType(channelTypeUID, !MetadataUtils.isStandard(dp), itemType, channelKind, label,", "originalCommit": "445c5190f30bf49c3f48613e0f0a24c0b66e8a59", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQxNzgzMQ==", "url": "https://github.com/openhab/openhab-addons/pull/7352#discussion_r407417831", "bodyText": "I have expected this comment :-). Unfortunately I could not simply replace it by the ChannelTypeBuilder because the parameter channelKind is an enum here. The constructor call is used to create State channels as well as Trigger channels. This means some additional changes are necessary and I preferred to do this in a separate step to get rid of these deprecated constructors as soon as possible.", "author": "MHerbst", "createdAt": "2020-04-13T10:27:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQxMDc2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQzMjUzMw==", "url": "https://github.com/openhab/openhab-addons/pull/7352#discussion_r407432533", "bodyText": "I get your point and of course it is an improvement but the thing is that exactly this ctor will be removed in openhab/openhab-core#1414 and thus this PR will not fix the build of the OH3 add-on port.\nIsn't this code snippet a simple solution:\n                        }));\n                channelType = ChannelTypeBuilder.trigger(channelTypeUID, label).with....build();\n            }\n            channelType = ChannelTypeBuilder.state(channelTypeUID, label, itemType).with....build();\n        }", "author": "cweitkamp", "createdAt": "2020-04-13T11:15:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQxMDc2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ0Mjg0MA==", "url": "https://github.com/openhab/openhab-addons/pull/7352#discussion_r407442840", "bodyText": "OK, this constructor is currently not marked as deprecated. Therefore I thought I could use it.\nI have changed it.", "author": "MHerbst", "createdAt": "2020-04-13T11:50:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQxMDc2Mg=="}], "type": "inlineReview"}, {"oid": "ffad50f8618e5b1d0edb0ac92e2e0cfed539dd92", "url": "https://github.com/openhab/openhab-addons/commit/ffad50f8618e5b1d0edb0ac92e2e0cfed539dd92", "message": "Use of builder instead of constructor\n\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>", "committedDate": "2020-04-13T11:47:40Z", "type": "commit"}]}