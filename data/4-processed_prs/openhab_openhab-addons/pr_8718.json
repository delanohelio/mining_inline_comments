{"pr_number": 8718, "pr_title": "[miio] eliminate warning org.apache.commons.io.FileUtils in readmemaker", "pr_createdAt": "2020-10-10T15:43:50Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8718", "timeline": [{"oid": "1d5e8969e1c98242bae0b13a995f193b18d4ec47", "url": "https://github.com/openhab/openhab-addons/commit/1d5e8969e1c98242bae0b13a995f193b18d4ec47", "message": "[miio] eliminate warning org.apache.commons.io.FileUtils in readmemaker\n\nEliminate\n[WARNING] org.openhab.binding.miio.internal.ReadmeHelper.java:[25]\nThe package org.apache.commons.io.FileUtils should not be used.\n\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-10-10T15:42:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgxNDkwMw==", "url": "https://github.com/openhab/openhab-addons/pull/8718#discussion_r502814903", "bodyText": "The default charset varies from system to system so it is better to specify it yourself instead of using the default.", "author": "cpmeister", "createdAt": "2020-10-10T17:52:05Z", "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -65,14 +67,11 @@ public static void main(String[] args) {\n         StringWriter itemFileExamples = rm.itemFileExamples();\n         LOGGER.info(\"## Done\");\n         try {\n-            File file = new File(BASEFILE);\n-            String baseDoc = FileUtils.readFileToString(file, \"UTF-8\");\n+            String baseDoc = new String(Files.readAllBytes(Paths.get(BASEFILE)));", "originalCommit": "1d5e8969e1c98242bae0b13a995f193b18d4ec47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgxNDkzMw==", "url": "https://github.com/openhab/openhab-addons/pull/8718#discussion_r502814933", "bodyText": "The default charset varies from system to system so it is better to specify it yourself instead of using the default.", "author": "cpmeister", "createdAt": "2020-10-10T17:52:29Z", "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -65,14 +67,11 @@ public static void main(String[] args) {\n         StringWriter itemFileExamples = rm.itemFileExamples();\n         LOGGER.info(\"## Done\");\n         try {\n-            File file = new File(BASEFILE);\n-            String baseDoc = FileUtils.readFileToString(file, \"UTF-8\");\n+            String baseDoc = new String(Files.readAllBytes(Paths.get(BASEFILE)));\n             String nw = baseDoc.replaceAll(\"!!!devices\", deviceList.toString())\n                     .replaceAll(\"!!!channelList\", channelList.toString())\n                     .replaceAll(\"!!!itemFileExamples\", itemFileExamples.toString());\n-\n-            File newDocfile = new File(\"README.md\");\n-            FileUtils.writeStringToFile(newDocfile, nw, \"UTF-8\");\n+            Files.write(Paths.get(OUTPUTFILE), nw.getBytes());", "originalCommit": "1d5e8969e1c98242bae0b13a995f193b18d4ec47", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c8556b2bd898dc02dbd9f82a0e0cb3dfa5b3fb95", "url": "https://github.com/openhab/openhab-addons/commit/c8556b2bd898dc02dbd9f82a0e0cb3dfa5b3fb95", "message": "[miio] add StandardCharsets.UTF_8 to file readwrite\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>", "committedDate": "2020-10-10T18:23:22Z", "type": "commit"}]}