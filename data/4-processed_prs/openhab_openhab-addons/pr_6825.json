{"pr_number": 6825, "pr_title": "[MCP23017] Allow choosing I2C bus numbers other than 0 and 1", "pr_createdAt": "2020-01-12T23:36:16Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/6825", "timeline": [{"oid": "e993bb73dbdd76fdd602a6e93419734ab4f732de", "url": "https://github.com/openhab/openhab-addons/commit/e993bb73dbdd76fdd602a6e93419734ab4f732de", "message": "Update thing-types.xml\n\nIf additional I2C bit banging busses are used, those addtional bus numbers are nescessary\n\nSigned-off-by: Jockra <59808296+Jockra@users.noreply.github.com>", "committedDate": "2020-01-16T16:55:17Z", "type": "commit"}, {"oid": "e993bb73dbdd76fdd602a6e93419734ab4f732de", "url": "https://github.com/openhab/openhab-addons/commit/e993bb73dbdd76fdd602a6e93419734ab4f732de", "message": "Update thing-types.xml\n\nIf additional I2C bit banging busses are used, those addtional bus numbers are nescessary\n\nSigned-off-by: Jockra <59808296+Jockra@users.noreply.github.com>", "committedDate": "2020-01-16T16:55:17Z", "type": "forcePushed"}, {"oid": "eb639e53c8c571a57d4c3370edb05e72e232c951", "url": "https://github.com/openhab/openhab-addons/commit/eb639e53c8c571a57d4c3370edb05e72e232c951", "message": "support all busses + description\n\nRaspberry supports up to 7 I2C busses. Description added\n\nSigned-off-by: Jockra <59808296+Jockra@users.noreply.github.com>", "committedDate": "2020-01-29T20:05:04Z", "type": "commit"}, {"oid": "eb639e53c8c571a57d4c3370edb05e72e232c951", "url": "https://github.com/openhab/openhab-addons/commit/eb639e53c8c571a57d4c3370edb05e72e232c951", "message": "support all busses + description\n\nRaspberry supports up to 7 I2C busses. Description added\n\nSigned-off-by: Jockra <59808296+Jockra@users.noreply.github.com>", "committedDate": "2020-01-29T20:05:04Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkxNjg2Ng==", "url": "https://github.com/openhab/openhab-addons/pull/6825#discussion_r379916866", "bodyText": "Please use a new line for each sentence. I also don't understand what excatly is needed to enable the overlays. Is this just a configuration option the user has to set?", "author": "J-N-K", "createdAt": "2020-02-16T16:51:16Z", "path": "bundles/org.openhab.binding.mcp23017/README.md", "diffHunk": "@@ -4,6 +4,9 @@ This binding allows you to have native access for MCP23017 I/O expander on I2C b\n It was tested with Raspberry Pi 2 and Raspberry Pi 3, but probably should work with other devices supported by [Pi4J](https://pi4j.com/) library.\n \n On Raspberry Pi the user on which openHAB is running (default user name is \"openhab\") needs to be added to groups \"i2c\" and  \"gpio\".\n+As the MCP23017 has 3 address pins, you are restricted to 8 devices on a I2C bus.\n+To use more devices you have to open further I2C busses. Therefore you can use overlays to enable bit banging I2C busses on the Raspberry Pi connector, up to I2C6.", "originalCommit": "eb639e53c8c571a57d4c3370edb05e72e232c951", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDM1NzI0Mg==", "url": "https://github.com/openhab/openhab-addons/pull/6825#discussion_r380357242", "bodyText": "To be more precise: it is a Linux kernel device tree overlay which can be appended in the /boot/config.txt file of RFS. It is also a configuration of alternative pin functions. I\u00b4ve added therefore  the link to available overlays", "author": "Jockra", "createdAt": "2020-02-17T20:33:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkxNjg2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDM1OTgzNw==", "url": "https://github.com/openhab/openhab-addons/pull/6825#discussion_r380359837", "bodyText": "In my case I \u00b4ve added\ndtoverlay=i2c-gpio,i2c_gpio_sda=20,i2c_gpio_scl=21,i2c_gpio_delay_us=1\nto config.txt s. https://www.instructables.com/id/Raspberry-PI-Multiple-I2c-Devices/", "author": "Jockra", "createdAt": "2020-02-17T20:44:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkxNjg2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNDA0Mw==", "url": "https://github.com/openhab/openhab-addons/pull/6825#discussion_r386034043", "bodyText": "Thanks. That makes it more clear", "author": "J-N-K", "createdAt": "2020-02-29T15:08:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkxNjg2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjAzNDA2Nw==", "url": "https://github.com/openhab/openhab-addons/pull/6825#discussion_r386034067", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To use more devices you have to open further I2C busses. Therefore you can use overlays to enable bit banging I2C busses on the Raspberry Pi connector, up to I2C6.\n          \n          \n            \n            To use more devices you have to open further I2C busses.\n          \n          \n            \n            Therefore you can use overlays to enable bit banging I2C busses on the Raspberry Pi connector, up to I2C6.", "author": "J-N-K", "createdAt": "2020-02-29T15:08:40Z", "path": "bundles/org.openhab.binding.mcp23017/README.md", "diffHunk": "@@ -4,6 +4,9 @@ This binding allows you to have native access for MCP23017 I/O expander on I2C b\n It was tested with Raspberry Pi 2 and Raspberry Pi 3, but probably should work with other devices supported by [Pi4J](https://pi4j.com/) library.\n \n On Raspberry Pi the user on which openHAB is running (default user name is \"openhab\") needs to be added to groups \"i2c\" and  \"gpio\".\n+As the MCP23017 has 3 address pins, you are restricted to 8 devices on a I2C bus.\n+To use more devices you have to open further I2C busses. Therefore you can use overlays to enable bit banging I2C busses on the Raspberry Pi connector, up to I2C6.", "originalCommit": "eb639e53c8c571a57d4c3370edb05e72e232c951", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "80e63878c4c90fdf1da3ecbddb47acd4857355eb", "url": "https://github.com/openhab/openhab-addons/commit/80e63878c4c90fdf1da3ecbddb47acd4857355eb", "message": "Update bundles/org.openhab.binding.mcp23017/README.md", "committedDate": "2020-03-01T22:13:43Z", "type": "commit"}]}