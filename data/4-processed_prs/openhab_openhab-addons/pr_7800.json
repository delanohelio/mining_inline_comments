{"pr_number": 7800, "pr_title": "[alarmdecoder] Add vzone thing for virtual zone control", "pr_createdAt": "2020-05-27T01:22:48Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7800", "timeline": [{"oid": "2e4e6fcddfdf642071f17432f152563b3078004d", "url": "https://github.com/openhab/openhab-addons/commit/2e4e6fcddfdf642071f17432f152563b3078004d", "message": "[alarmdecoder] Add vzone thing for virtual zone control\n\nSigned-off-by: Bob Adair <bob.github@att.net>", "committedDate": "2020-05-24T22:27:37Z", "type": "commit"}, {"oid": "dfe57c6f36c80cabda50ae9a0c7cbb8c87ea244f", "url": "https://github.com/openhab/openhab-addons/commit/dfe57c6f36c80cabda50ae9a0c7cbb8c87ea244f", "message": "[alarmdecoder] Add state channel to vzone thing\n\nSigned-off-by: Bob Adair <bob.github@att.net>", "committedDate": "2020-05-26T02:34:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMzMTg3Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7800#discussion_r431331872", "bodyText": "This would be more maintainable if all of the zone handlers shared the same parent class or implemented the same interface.\nIt also might just be simpler to just call notifyPanelReady() on all handlers since only the zone handlers have a non-empty implementations anyway.", "author": "cpmeister", "createdAt": "2020-05-27T17:51:11Z", "path": "bundles/org.openhab.binding.alarmdecoder/src/main/java/org/openhab/binding/alarmdecoder/internal/handler/ADBridgeHandler.java", "diffHunk": "@@ -354,7 +355,8 @@ private void notifyChildHandlersPanelReady() {\n             // Notify child zone handlers by calling notifyPanelReady() for each\n             for (Thing thing : getThing().getThings()) {\n                 ADThingHandler handler = (ADThingHandler) thing.getHandler();\n-                if (handler != null && (handler instanceof ZoneHandler || handler instanceof RFZoneHandler)) {\n+                if (handler != null && (handler instanceof ZoneHandler || handler instanceof RFZoneHandler\n+                        || handler instanceof VZoneHandler)) {\n                     handler.notifyPanelReady();", "originalCommit": "dfe57c6f36c80cabda50ae9a0c7cbb8c87ea244f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUyODM3Mg==", "url": "https://github.com/openhab/openhab-addons/pull/7800#discussion_r431528372", "bodyText": "It also might just be simpler to just call notifyPanelReady() on all handlers since only the zone handlers have a non-empty implementations anyway.\n\nThat's a good point. I've updated notifyChildHandlersPanelReady() in ADBridgeHandler to call notifyPanelReady() for all child things.\n\nThis would be more maintainable if all of the zone handlers shared the same parent class or implemented the same interface.\n\nThey all extend ADThingHandler, which specifies most of the interface. The various zone handlers don't have much more in common with each other than they do with the other child thing handlers, so I don't think too much more could be abstracted out.", "author": "bobadair", "createdAt": "2020-05-28T01:12:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMzMTg3Mg=="}], "type": "inlineReview"}, {"oid": "1c4d26d1535c8372c8368d43a2f609669b6c1ab9", "url": "https://github.com/openhab/openhab-addons/commit/1c4d26d1535c8372c8368d43a2f609669b6c1ab9", "message": "[alarmdecoder] Address review comments\n\nSigned-off-by: Bob Adair <bob.github@att.net>", "committedDate": "2020-05-28T01:01:01Z", "type": "commit"}]}