{"pr_number": 9093, "pr_title": "[miio] add support for zhimi.humidifier.ca4 (Smartmi Evaporative Air Humidifier 2)", "pr_createdAt": "2020-11-21T18:57:14Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9093", "timeline": [{"oid": "fcb83e1edaa78ed28949f3148ab263cbf77c1c51", "url": "https://github.com/openhab/openhab-addons/commit/fcb83e1edaa78ed28949f3148ab263cbf77c1c51", "message": "miio: add support for zhimi.humidifier.ca4\n\nThis change adds support for Xiaomi Smartmi Evaporation Air Humidifier 2.\n\nThe device uses MIOT protocol, exact spec is available at:\n\nhttp://miot-spec.org/miot-spec-v2/instance?type=urn:miot-spec-v2:device:humidifier:0000A00E:zhimi-ca4:2\nSigned-off-by: Marek Skrobacki <skrobul@skrobul.com>", "committedDate": "2020-11-21T18:54:48Z", "type": "commit"}, {"oid": "7613dc681927ca3495a894ac080c17464f518b6d", "url": "https://github.com/openhab/openhab-addons/commit/7613dc681927ca3495a894ac080c17464f518b6d", "message": "miio: update README.md for zhimi.humidifier.ca4\n\nSigned-off-by: Marek Skrobacki <skrobul@skrobul.com>", "committedDate": "2020-11-21T18:54:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxNjg2Mw==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529016863", "bodyText": "Please use quantitype Number:Temperature\nUnless you need something specific, the existing channeltype temperatureC can be re-used.", "author": "marcelrv", "createdAt": "2020-11-23T21:46:41Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/OH-INF/thing/commonChannels.xml", "diffHunk": "@@ -217,10 +221,15 @@\n \t\t<label>Temperature</label>\n \t\t<state readOnly=\"true\" pattern=\"%.1f %unit%\"/>\n \t</channel-type>\n+\t<channel-type id=\"temperatureCelsius\">", "originalCommit": "7613dc681927ca3495a894ac080c17464f518b6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA0MTgxMw==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529041813", "bodyText": "sorry, not sure how I missed the existing channeltype, I am going to reuse it.", "author": "skrobul", "createdAt": "2020-11-23T22:39:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxNjg2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxNzUwNA==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529017504", "bodyText": "similar as previous one\nPlease make this a Number:Time with unit: hours", "author": "marcelrv", "createdAt": "2020-11-23T21:47:56Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/OH-INF/thing/commonChannels.xml", "diffHunk": "@@ -268,12 +277,17 @@\n \t<channel-type id=\"usedhours\">\n \t\t<item-type>Number</item-type>\n \t\t<label>Run Time</label>\n-\t\t<state pattern=\"%.0f\" readOnly=\"true\"/>\n+\t\t<state pattern=\"%.0f h\" readOnly=\"true\"/>\n+\t</channel-type>\n+\t<channel-type id=\"powerhours\">\n+\t\t<item-type>Number</item-type>", "originalCommit": "7613dc681927ca3495a894ac080c17464f518b6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA0NjU2Nw==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529046567", "bodyText": "changed in next commit.", "author": "skrobul", "createdAt": "2020-11-23T22:49:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxNzUwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxODMzMQ==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529018331", "bodyText": "Number:Time\nwith units : \"hours\"", "author": "marcelrv", "createdAt": "2020-11-23T21:49:32Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/database/zhimi.humidifier.ca4.json", "diffHunk": "@@ -0,0 +1,271 @@\n+{\n+\t\"deviceMapping\": {\n+\t\t\"id\": [\n+\t\t\t\"zhimi.humidifier.ca4\"\n+\t\t],\n+\t\t\"propertyMethod\": \"get_properties\",\n+\t\t\"maxProperties\": 2,\n+\t\t\"channels\": [\n+\t\t\t{\n+\t\t\t\t\"property\": \"power\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Power\",\n+\t\t\t\t\"channel\": \"power\",\n+\t\t\t\t\"channelType\": \"power\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"mode\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 5,\n+\t\t\t\t\"friendlyName\": \"Mode\",\n+\t\t\t\t\"channel\": \"mode\",\n+\t\t\t\t\"channelType\": \"humidifierOperationMode\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"fault\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"Humidifier Device Fault\",\n+\t\t\t\t\"channel\": \"Fault\",\n+\t\t\t\t\"channelType\": \"miot_uint8\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"humidity\",\n+\t\t\t\t\"siid\": 3,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Humidity\",\n+\t\t\t\t\"channel\": \"humidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"target_humidity\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 6,\n+\t\t\t\t\"friendlyName\": \"Target Humidity\",\n+\t\t\t\t\"channel\": \"targetHumidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"water_level\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 7,\n+\t\t\t\t\"friendlyName\": \"Water Level\",\n+\t\t\t\t\"channel\": \"waterlevel\",\n+\t\t\t\t\"channelType\": \"waterlevel\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+                \"transformation\": \"tankLevel\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"led_brightness\",\n+\t\t\t\t\"siid\": 5,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"LED Brightness\",\n+\t\t\t\t\"channel\": \"bright\",\n+\t\t\t\t\"channelType\": \"humidifierLedBrightness\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"buzzer\",\n+\t\t\t\t\"siid\": 4,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Buzzer Status\",\n+\t\t\t\t\"channel\": \"buzzer\",\n+\t\t\t\t\"channelType\": \"buzzer\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"dry\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 8,\n+\t\t\t\t\"friendlyName\": \"Dry\",\n+\t\t\t\t\"channel\": \"dry\",\n+\t\t\t\t\"channelType\": \"dry\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"use_time\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Run Time\",\n+\t\t\t\t\"channel\": \"usedhours\",\n+\t\t\t\t\"channelType\": \"usedhours\",\n+\t\t\t\t\"type\": \"Number\",", "originalCommit": "7613dc681927ca3495a894ac080c17464f518b6d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxODUwMA==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529018500", "bodyText": "as previous comment", "author": "marcelrv", "createdAt": "2020-11-23T21:49:51Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/database/zhimi.humidifier.ca4.json", "diffHunk": "@@ -0,0 +1,271 @@\n+{\n+\t\"deviceMapping\": {\n+\t\t\"id\": [\n+\t\t\t\"zhimi.humidifier.ca4\"\n+\t\t],\n+\t\t\"propertyMethod\": \"get_properties\",\n+\t\t\"maxProperties\": 2,\n+\t\t\"channels\": [\n+\t\t\t{\n+\t\t\t\t\"property\": \"power\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Power\",\n+\t\t\t\t\"channel\": \"power\",\n+\t\t\t\t\"channelType\": \"power\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"mode\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 5,\n+\t\t\t\t\"friendlyName\": \"Mode\",\n+\t\t\t\t\"channel\": \"mode\",\n+\t\t\t\t\"channelType\": \"humidifierOperationMode\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"fault\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"Humidifier Device Fault\",\n+\t\t\t\t\"channel\": \"Fault\",\n+\t\t\t\t\"channelType\": \"miot_uint8\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"humidity\",\n+\t\t\t\t\"siid\": 3,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Humidity\",\n+\t\t\t\t\"channel\": \"humidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"target_humidity\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 6,\n+\t\t\t\t\"friendlyName\": \"Target Humidity\",\n+\t\t\t\t\"channel\": \"targetHumidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"water_level\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 7,\n+\t\t\t\t\"friendlyName\": \"Water Level\",\n+\t\t\t\t\"channel\": \"waterlevel\",\n+\t\t\t\t\"channelType\": \"waterlevel\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+                \"transformation\": \"tankLevel\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"led_brightness\",\n+\t\t\t\t\"siid\": 5,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"LED Brightness\",\n+\t\t\t\t\"channel\": \"bright\",\n+\t\t\t\t\"channelType\": \"humidifierLedBrightness\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"buzzer\",\n+\t\t\t\t\"siid\": 4,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Buzzer Status\",\n+\t\t\t\t\"channel\": \"buzzer\",\n+\t\t\t\t\"channelType\": \"buzzer\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"dry\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 8,\n+\t\t\t\t\"friendlyName\": \"Dry\",\n+\t\t\t\t\"channel\": \"dry\",\n+\t\t\t\t\"channelType\": \"dry\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"use_time\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Run Time\",\n+\t\t\t\t\"channel\": \"usedhours\",\n+\t\t\t\t\"channelType\": \"usedhours\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"transformation\": \"SecondsToHours\",\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"power_time\",\n+\t\t\t\t\"siid\": 7,\n+\t\t\t\t\"piid\": 3,\n+\t\t\t\t\"friendlyName\": \"Power Time\",\n+\t\t\t\t\"channel\": \"powerhours\",\n+\t\t\t\t\"channelType\": \"powerhours\",\n+\t\t\t\t\"type\": \"Number\",", "originalCommit": "7613dc681927ca3495a894ac080c17464f518b6d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAyMTI0Mw==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529021243", "bodyText": "Number:Temperature\ncan re-use Channeltype temperatureC unless you need something specific that is not in there.\nNote, the name gets overwritten with the name you have here.", "author": "marcelrv", "createdAt": "2020-11-23T21:55:19Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/database/zhimi.humidifier.ca4.json", "diffHunk": "@@ -0,0 +1,271 @@\n+{\n+\t\"deviceMapping\": {\n+\t\t\"id\": [\n+\t\t\t\"zhimi.humidifier.ca4\"\n+\t\t],\n+\t\t\"propertyMethod\": \"get_properties\",\n+\t\t\"maxProperties\": 2,\n+\t\t\"channels\": [\n+\t\t\t{\n+\t\t\t\t\"property\": \"power\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Power\",\n+\t\t\t\t\"channel\": \"power\",\n+\t\t\t\t\"channelType\": \"power\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"mode\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 5,\n+\t\t\t\t\"friendlyName\": \"Mode\",\n+\t\t\t\t\"channel\": \"mode\",\n+\t\t\t\t\"channelType\": \"humidifierOperationMode\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"fault\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"Humidifier Device Fault\",\n+\t\t\t\t\"channel\": \"Fault\",\n+\t\t\t\t\"channelType\": \"miot_uint8\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"humidity\",\n+\t\t\t\t\"siid\": 3,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Humidity\",\n+\t\t\t\t\"channel\": \"humidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"target_humidity\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 6,\n+\t\t\t\t\"friendlyName\": \"Target Humidity\",\n+\t\t\t\t\"channel\": \"targetHumidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"water_level\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 7,\n+\t\t\t\t\"friendlyName\": \"Water Level\",\n+\t\t\t\t\"channel\": \"waterlevel\",\n+\t\t\t\t\"channelType\": \"waterlevel\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+                \"transformation\": \"tankLevel\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"led_brightness\",\n+\t\t\t\t\"siid\": 5,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"LED Brightness\",\n+\t\t\t\t\"channel\": \"bright\",\n+\t\t\t\t\"channelType\": \"humidifierLedBrightness\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"buzzer\",\n+\t\t\t\t\"siid\": 4,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Buzzer Status\",\n+\t\t\t\t\"channel\": \"buzzer\",\n+\t\t\t\t\"channelType\": \"buzzer\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"dry\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 8,\n+\t\t\t\t\"friendlyName\": \"Dry\",\n+\t\t\t\t\"channel\": \"dry\",\n+\t\t\t\t\"channelType\": \"dry\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"use_time\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Run Time\",\n+\t\t\t\t\"channel\": \"usedhours\",\n+\t\t\t\t\"channelType\": \"usedhours\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"transformation\": \"SecondsToHours\",\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"power_time\",\n+\t\t\t\t\"siid\": 7,\n+\t\t\t\t\"piid\": 3,\n+\t\t\t\t\"friendlyName\": \"Power Time\",\n+\t\t\t\t\"channel\": \"powerhours\",\n+\t\t\t\t\"channelType\": \"powerhours\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"transformation\": \"SecondsToHours\",\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"speed_level\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 11,\n+\t\t\t\t\"friendlyName\": \"Target Motor Speed\",\n+\t\t\t\t\"channel\": \"targetmotorspeed\",\n+\t\t\t\t\"channelType\": \"motorspeed\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"actual_speed\",\n+\t\t\t\t\"siid\": 7,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Actual Motor Speed\",\n+\t\t\t\t\"channel\": \"actualmotorspeed\",\n+\t\t\t\t\"channelType\": \"motorspeed\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"temp_dec\",\n+\t\t\t\t\"siid\": 3,\n+\t\t\t\t\"piid\": 7,\n+\t\t\t\t\"friendlyName\": \"Temperature\",\n+\t\t\t\t\"channel\": \"temperature\",\n+\t\t\t\t\"channelType\": \"temperatureCelsius\",\n+\t\t\t\t\"type\": \"Number\",", "originalCommit": "7613dc681927ca3495a894ac080c17464f518b6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTA0Njg5NA==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529046894", "bodyText": "as per other comment, there is no reason to have temperatureCelsius if temperatureC exists. I'm going to reuse it.", "author": "skrobul", "createdAt": "2020-11-23T22:50:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAyMTI0Mw=="}], "type": "inlineReview"}, {"oid": "876cefac1c9a127e094e18b4c2dffe4274bc6ff2", "url": "https://github.com/openhab/openhab-addons/commit/876cefac1c9a127e094e18b4c2dffe4274bc6ff2", "message": "miio: zhimi.humidifier.ca4 - use quantitypes\n\nSigned-off-by: Marek Skrobacki <skrobul@skrobul.com>", "committedDate": "2020-11-23T22:55:59Z", "type": "commit"}, {"oid": "876cefac1c9a127e094e18b4c2dffe4274bc6ff2", "url": "https://github.com/openhab/openhab-addons/commit/876cefac1c9a127e094e18b4c2dffe4274bc6ff2", "message": "miio: zhimi.humidifier.ca4 - use quantitypes\n\nSigned-off-by: Marek Skrobacki <skrobul@skrobul.com>", "committedDate": "2020-11-23T22:55:59Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg4NTAxMQ==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529885011", "bodyText": "small fix still, the indenting for this line is mixed", "author": "marcelrv", "createdAt": "2020-11-24T21:20:20Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/database/zhimi.humidifier.ca4.json", "diffHunk": "@@ -0,0 +1,273 @@\n+{\n+\t\"deviceMapping\": {\n+\t\t\"id\": [\n+\t\t\t\"zhimi.humidifier.ca4\"\n+\t\t],\n+\t\t\"propertyMethod\": \"get_properties\",\n+\t\t\"maxProperties\": 2,\n+\t\t\"channels\": [\n+\t\t\t{\n+\t\t\t\t\"property\": \"power\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Power\",\n+\t\t\t\t\"channel\": \"power\",\n+\t\t\t\t\"channelType\": \"power\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"mode\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 5,\n+\t\t\t\t\"friendlyName\": \"Mode\",\n+\t\t\t\t\"channel\": \"mode\",\n+\t\t\t\t\"channelType\": \"humidifierOperationMode\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"fault\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"Humidifier Device Fault\",\n+\t\t\t\t\"channel\": \"Fault\",\n+\t\t\t\t\"channelType\": \"miot_uint8\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"humidity\",\n+\t\t\t\t\"siid\": 3,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Humidity\",\n+\t\t\t\t\"channel\": \"humidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"target_humidity\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 6,\n+\t\t\t\t\"friendlyName\": \"Target Humidity\",\n+\t\t\t\t\"channel\": \"targetHumidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"water_level\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 7,\n+\t\t\t\t\"friendlyName\": \"Water Level\",\n+\t\t\t\t\"channel\": \"waterlevel\",\n+\t\t\t\t\"channelType\": \"waterlevel\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+                \"transformation\": \"tankLevel\",", "originalCommit": "876cefac1c9a127e094e18b4c2dffe4274bc6ff2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg4NTIwNw==", "url": "https://github.com/openhab/openhab-addons/pull/9093#discussion_r529885207", "bodyText": "here as well", "author": "marcelrv", "createdAt": "2020-11-24T21:20:41Z", "path": "bundles/org.openhab.binding.miio/src/main/resources/database/zhimi.humidifier.ca4.json", "diffHunk": "@@ -0,0 +1,273 @@\n+{\n+\t\"deviceMapping\": {\n+\t\t\"id\": [\n+\t\t\t\"zhimi.humidifier.ca4\"\n+\t\t],\n+\t\t\"propertyMethod\": \"get_properties\",\n+\t\t\"maxProperties\": 2,\n+\t\t\"channels\": [\n+\t\t\t{\n+\t\t\t\t\"property\": \"power\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Power\",\n+\t\t\t\t\"channel\": \"power\",\n+\t\t\t\t\"channelType\": \"power\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"mode\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 5,\n+\t\t\t\t\"friendlyName\": \"Mode\",\n+\t\t\t\t\"channel\": \"mode\",\n+\t\t\t\t\"channelType\": \"humidifierOperationMode\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"fault\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"Humidifier Device Fault\",\n+\t\t\t\t\"channel\": \"Fault\",\n+\t\t\t\t\"channelType\": \"miot_uint8\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"humidity\",\n+\t\t\t\t\"siid\": 3,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Humidity\",\n+\t\t\t\t\"channel\": \"humidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"target_humidity\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 6,\n+\t\t\t\t\"friendlyName\": \"Target Humidity\",\n+\t\t\t\t\"channel\": \"targetHumidity\",\n+\t\t\t\t\"channelType\": \"humidity\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"water_level\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 7,\n+\t\t\t\t\"friendlyName\": \"Water Level\",\n+\t\t\t\t\"channel\": \"waterlevel\",\n+\t\t\t\t\"channelType\": \"waterlevel\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+                \"transformation\": \"tankLevel\",\n+\t\t\t\t\"actions\": []\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"led_brightness\",\n+\t\t\t\t\"siid\": 5,\n+\t\t\t\t\"piid\": 2,\n+\t\t\t\t\"friendlyName\": \"LED Brightness\",\n+\t\t\t\t\"channel\": \"bright\",\n+\t\t\t\t\"channelType\": \"humidifierLedBrightness\",\n+\t\t\t\t\"type\": \"Number\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"NUMBER\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"buzzer\",\n+\t\t\t\t\"siid\": 4,\n+\t\t\t\t\"piid\": 1,\n+\t\t\t\t\"friendlyName\": \"Buzzer Status\",\n+\t\t\t\t\"channel\": \"buzzer\",\n+\t\t\t\t\"channelType\": \"buzzer\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"actions\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"dry\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 8,\n+\t\t\t\t\"friendlyName\": \"Dry\",\n+\t\t\t\t\"channel\": \"dry\",\n+\t\t\t\t\"channelType\": \"dry\",\n+\t\t\t\t\"type\": \"Switch\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+\t\t\t\t\"actions\": [\n+\t\t\t\t\t{\n+\t\t\t\t\t\t\"command\": \"set_properties\",\n+\t\t\t\t\t\t\"parameterType\": \"ONOFFBOOL\"\n+\t\t\t\t\t}\n+\t\t\t\t]\n+\t\t\t},\n+\t\t\t{\n+\t\t\t\t\"property\": \"use_time\",\n+\t\t\t\t\"siid\": 2,\n+\t\t\t\t\"piid\": 9,\n+\t\t\t\t\"friendlyName\": \"Run Time\",\n+\t\t\t\t\"channel\": \"usedhours\",\n+\t\t\t\t\"channelType\": \"usedhours\",\n+\t\t\t\t\"type\": \"Number:Time\",\n+\t\t\t\t\"refresh\": true,\n+\t\t\t\t\"transformation\": \"SecondsToHours\",\n+\t\t\t\t\"ChannelGroup\": \"Status\",\n+                \"unit\": \"hours\",", "originalCommit": "876cefac1c9a127e094e18b4c2dffe4274bc6ff2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e60b619f45cbdb58675ecc2c5092f7af9065ca91", "url": "https://github.com/openhab/openhab-addons/commit/e60b619f45cbdb58675ecc2c5092f7af9065ca91", "message": "miio: spaces>tabs in db/humidifier.ca4\n\nSigned-off-by: Marek Skrobacki <skrobul@skrobul.com>", "committedDate": "2020-11-24T21:25:34Z", "type": "commit"}, {"oid": "e60b619f45cbdb58675ecc2c5092f7af9065ca91", "url": "https://github.com/openhab/openhab-addons/commit/e60b619f45cbdb58675ecc2c5092f7af9065ca91", "message": "miio: spaces>tabs in db/humidifier.ca4\n\nSigned-off-by: Marek Skrobacki <skrobul@skrobul.com>", "committedDate": "2020-11-24T21:25:34Z", "type": "forcePushed"}]}