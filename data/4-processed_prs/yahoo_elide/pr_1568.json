{"pr_number": 1568, "pr_title": "Resolves #1566", "pr_createdAt": "2020-10-01T19:14:29Z", "pr_url": "https://github.com/yahoo/elide/pull/1568", "timeline": [{"oid": "e0494e046bf19a404d5dff5a79eb5b9b4610be0a", "url": "https://github.com/yahoo/elide/commit/e0494e046bf19a404d5dff5a79eb5b9b4610be0a", "message": "Resolves #1566", "committedDate": "2020-10-01T20:00:24Z", "type": "commit"}, {"oid": "5d64806eecf50a679ff9d1a6b09f3a8c1d8ac236", "url": "https://github.com/yahoo/elide/commit/5d64806eecf50a679ff9d1a6b09f3a8c1d8ac236", "message": "Fixed codacy issues", "committedDate": "2020-10-01T20:00:24Z", "type": "commit"}, {"oid": "996163f3e1cde672a58ec008cbe73e92cba0cc17", "url": "https://github.com/yahoo/elide/commit/996163f3e1cde672a58ec008cbe73e92cba0cc17", "message": "Updated examples to use templates for physical columns", "committedDate": "2020-10-01T20:02:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ4ODY3OQ==", "url": "https://github.com/yahoo/elide/pull/1568#discussion_r498488679", "bodyText": "Looking at the test case, should this be join_table?", "author": "moizarafat", "createdAt": "2020-10-01T20:13:13Z", "path": "elide-datastore/elide-datastore-aggregation/src/test/java/com/yahoo/elide/datastores/aggregation/core/SqlReferenceVisitorTest.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*\n+ * Copyright 2020, Yahoo Inc.\n+ * Licensed under the Apache License, Version 2.0\n+ * See LICENSE file in project root for terms.\n+ */\n+\n+package com.yahoo.elide.datastores.aggregation.core;\n+\n+import com.google.common.collect.Sets;\n+import com.yahoo.elide.annotation.Include;\n+import com.yahoo.elide.datastores.aggregation.annotation.DimensionFormula;\n+import com.yahoo.elide.datastores.aggregation.annotation.Join;\n+import com.yahoo.elide.datastores.aggregation.metadata.MetaDataStore;\n+import com.yahoo.elide.datastores.aggregation.metadata.models.Column;\n+import com.yahoo.elide.datastores.aggregation.metadata.models.Table;\n+import com.yahoo.elide.datastores.aggregation.queryengines.sql.annotation.FromTable;\n+import com.yahoo.elide.datastores.aggregation.queryengines.sql.metadata.SQLReferenceVisitor;\n+import com.yahoo.elide.datastores.aggregation.queryengines.sql.metadata.SQLTable;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n+\n+import javax.persistence.Id;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n+public class SqlReferenceVisitorTest {\n+\n+    private MetaDataStore store;\n+\n+    @FromTable(name = \"test_table\")\n+    @Include\n+    public class TestModel {\n+        @Id\n+        private long id;\n+\n+        @Join(\"%from.dimension1 = %join.dimension1\")\n+        private JoinModel joinModel;\n+\n+        //Logical name matches physical name\n+        @DimensionFormula(\"{{dimension1}}\")\n+        private String dimension1;\n+\n+        //Logical name does not match physical name\n+        @DimensionFormula(\"{{someColumn}}\")\n+        private String dimension2;\n+\n+        //Test a join to another table with a matching column name.\n+        @DimensionFormula(\"{{joinModel.dimension3}}\")\n+        private String dimension3;\n+    }\n+\n+    @FromTable(name = \"join_model\")", "originalCommit": "9a469dc8c37e135271d73e3cb33f38aa0a7a7c1e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f6782c74c84cebc4b203f2f6a62f78ba55e4491c", "url": "https://github.com/yahoo/elide/commit/f6782c74c84cebc4b203f2f6a62f78ba55e4491c", "message": "Updated examples to use new template syntax.  Fixed one bug", "committedDate": "2020-10-01T22:11:37Z", "type": "commit"}, {"oid": "f6782c74c84cebc4b203f2f6a62f78ba55e4491c", "url": "https://github.com/yahoo/elide/commit/f6782c74c84cebc4b203f2f6a62f78ba55e4491c", "message": "Updated examples to use new template syntax.  Fixed one bug", "committedDate": "2020-10-01T22:11:37Z", "type": "forcePushed"}, {"oid": "e5dd216352be8702752d9da4f768bfbf6327b979", "url": "https://github.com/yahoo/elide/commit/e5dd216352be8702752d9da4f768bfbf6327b979", "message": "All tests pass", "committedDate": "2020-10-02T14:30:37Z", "type": "commit"}, {"oid": "0a5e7f8665d836f342d806a4192750daa3e48573", "url": "https://github.com/yahoo/elide/commit/0a5e7f8665d836f342d806a4192750daa3e48573", "message": "Rework", "committedDate": "2020-10-02T15:57:33Z", "type": "commit"}, {"oid": "963a1cb23adb5c8982a8251a8ec69c2b6074b463", "url": "https://github.com/yahoo/elide/commit/963a1cb23adb5c8982a8251a8ec69c2b6074b463", "message": "Fixed codacy error", "committedDate": "2020-10-02T16:34:29Z", "type": "commit"}]}