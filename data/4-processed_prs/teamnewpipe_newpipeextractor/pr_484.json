{"pr_number": 484, "pr_title": "Fix YouTube Music search", "pr_createdAt": "2020-12-17T09:24:25Z", "pr_url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484", "timeline": [{"oid": "86c7b3e78246acaf2e6c0029dee1a13e4cf530b2", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/86c7b3e78246acaf2e6c0029dee1a13e4cf530b2", "message": "Fix typo", "committedDate": "2020-12-19T12:13:00Z", "type": "forcePushed"}, {"oid": "6c0898700ef175636e91e52919f2d2d18500d19b", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/6c0898700ef175636e91e52919f2d2d18500d19b", "message": "[YouTube] Music: fix search", "committedDate": "2020-12-19T12:53:54Z", "type": "forcePushed"}, {"oid": "011f3ab3361ee8341cfcc43ce8babe6224dd93f7", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/011f3ab3361ee8341cfcc43ce8babe6224dd93f7", "message": "[YouTube] Music: fix search", "committedDate": "2020-12-22T17:17:55Z", "type": "forcePushed"}, {"oid": "0744d77a53504e08efb89c019553735f7cf63748", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/0744d77a53504e08efb89c019553735f7cf63748", "message": "[YouTube] Music: fix search", "committedDate": "2020-12-22T19:02:42Z", "type": "forcePushed"}, {"oid": "6cd3cc2770b98719c3508dd945f426b778a410f0", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/6cd3cc2770b98719c3508dd945f426b778a410f0", "message": "Fix YouTube Music Mix playlist not being accepted", "committedDate": "2020-12-23T19:49:48Z", "type": "forcePushed"}, {"oid": "c9d9bd1e249020f2504761bee64ca3826ad6a720", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/c9d9bd1e249020f2504761bee64ca3826ad6a720", "message": "Fix typo in ListLinkHandlerFactory#getUrl", "committedDate": "2020-12-23T20:05:58Z", "type": "commit"}, {"oid": "b62144b49d51864912cb4542e216458e27b55965", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/b62144b49d51864912cb4542e216458e27b55965", "message": "[YouTube] Music: Fix search extraction caused by changed JSON response", "committedDate": "2020-12-23T20:08:36Z", "type": "commit"}, {"oid": "3033c0b99334489a64c78e042bde3443073f4341", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/3033c0b99334489a64c78e042bde3443073f4341", "message": "[YouTube] Music Mix: Fix playlist not being accepted\n\nRegression introduced by YouTube Mix support (#280)", "committedDate": "2020-12-23T20:08:36Z", "type": "commit"}, {"oid": "3033c0b99334489a64c78e042bde3443073f4341", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/3033c0b99334489a64c78e042bde3443073f4341", "message": "[YouTube] Music Mix: Fix playlist not being accepted\n\nRegression introduced by YouTube Mix support (#280)", "committedDate": "2020-12-23T20:08:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg2MjMxMg==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484#discussion_r548862312", "bodyText": "Why don't you use isYoutubeMusicMixId(playlistId)?", "author": "B0pol", "createdAt": "2020-12-25T11:52:11Z", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/YoutubeParsingHelper.java", "diffHunk": "@@ -229,7 +229,7 @@ public static String extractVideoIdFromMixId(final String playlistId) throws Par\n         if (playlistId.startsWith(\"RDMM\")) { //My Mix\n             return playlistId.substring(4);\n \n-        } else if (playlistId.startsWith(\"RDAMVM\")) { //Music mix\n+        } else if (playlistId.startsWith(\"RDAMVM\") || playlistId.startsWith(\"RDCLAK\")) { //Music mix", "originalCommit": "3033c0b99334489a64c78e042bde3443073f4341", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg2MjM3Ng==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484#discussion_r548862376", "bodyText": "Same, it should use isYoutubeChannelMix here", "author": "B0pol", "createdAt": "2020-12-25T11:53:04Z", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/YoutubeParsingHelper.java", "diffHunk": "@@ -229,7 +229,7 @@ public static String extractVideoIdFromMixId(final String playlistId) throws Par\n         if (playlistId.startsWith(\"RDMM\")) { //My Mix\n             return playlistId.substring(4);\n \n-        } else if (playlistId.startsWith(\"RDAMVM\")) { //Music mix\n+        } else if (playlistId.startsWith(\"RDAMVM\") || playlistId.startsWith(\"RDCLAK\")) { //Music mix\n             return playlistId.substring(6);\n \n         } else if (playlistId.startsWith(\"RMCM\")) { //Channel mix", "originalCommit": "3033c0b99334489a64c78e042bde3443073f4341", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg3NjM1OA==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484#discussion_r548876358", "bodyText": "Pushed and found an inconsistency (should ave been the other way :D). this line says playlistId.startsWith(\"RMCM\"), but the method for channel mix looks like this:\n``/**\n     * Checks if the given playlist id is a YouTube Channel Mix (auto-generated playlist)\n     * Ids from a YouTube channel Mix start with \"RDCM\"\n     * @return Whether given id belongs to a YouTube Channel Mix\n     */\n    public static boolean isYoutubeChannelMixId(final String playlistId) {\n        return playlistId.startsWith(\"RDCM\");\n    }", "author": "TobiGr", "createdAt": "2020-12-25T14:03:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg2MjM3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg3NjQyNA==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484#discussion_r548876424", "bodyText": "CC @XiangRongLin", "author": "TobiGr", "createdAt": "2020-12-25T14:04:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg2MjM3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NDc1Ng==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484#discussion_r548894756", "bodyText": "@TobiGr yep, that RMCM is wrong, should be RDCM. See the unit test https://github.com/TeamNewPipe/NewPipeExtractor/blob/dev/extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/YoutubeMixPlaylistExtractorTest.java#L306", "author": "XiangRongLin", "createdAt": "2020-12-25T17:20:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg2MjM3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NTUxNA==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/484#discussion_r548895514", "bodyText": "thanks for clarifying!", "author": "TobiGr", "createdAt": "2020-12-25T17:30:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg2MjM3Ng=="}], "type": "inlineReview"}, {"oid": "d9e2da53c3b781c77f7726da6131f3e01c28e161", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/d9e2da53c3b781c77f7726da6131f3e01c28e161", "message": "Replace explicit string checks whether a playlist \u00edd is a certain YouTube Mix type with calling the dedicated methods", "committedDate": "2020-12-25T14:00:34Z", "type": "commit"}]}