{"pr_number": 6643, "pr_title": "feat: [DHIS2-9841] Use db for storing break the glass records. Temporary ownerships (2.36)", "pr_createdAt": "2020-11-12T11:37:52Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6643", "timeline": [{"oid": "fdb5a35901cd4a1b7ad75e9950c2c3f563bc8db1", "url": "https://github.com/dhis2/dhis2-core/commit/fdb5a35901cd4a1b7ad75e9950c2c3f563bc8db1", "message": "feat: Use db for storing break the glass records. Temporary ownerships (2.36)", "committedDate": "2020-11-12T11:36:51Z", "type": "commit"}, {"oid": "2f8be89a224157003eddd7a5b64eac8f583b7cb0", "url": "https://github.com/dhis2/dhis2-core/commit/2f8be89a224157003eddd7a5b64eac8f583b7cb0", "message": "Fix compilation", "committedDate": "2020-11-12T12:26:32Z", "type": "commit"}, {"oid": "ffae58e48e78600dd5b62f80abe182859971e3fd", "url": "https://github.com/dhis2/dhis2-core/commit/ffae58e48e78600dd5b62f80abe182859971e3fd", "message": "Merge branch 'master' into DHIS2-9841-2.36", "committedDate": "2020-11-16T13:02:32Z", "type": "commit"}, {"oid": "988ee47f8d86d2c3b73d0ee599fcb0c41b3f654d", "url": "https://github.com/dhis2/dhis2-core/commit/988ee47f8d86d2c3b73d0ee599fcb0c41b3f654d", "message": "Added a cache to avoid hitting the db everytime.", "committedDate": "2020-11-16T16:24:24Z", "type": "commit"}, {"oid": "8ae9ac95bc3d862e3224a7758b8d5ed46fefbf33", "url": "https://github.com/dhis2/dhis2-core/commit/8ae9ac95bc3d862e3224a7758b8d5ed46fefbf33", "message": "false if does not exist in acache", "committedDate": "2020-11-16T17:59:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTEzNzgyMw==", "url": "https://github.com/dhis2/dhis2-core/pull/6643#discussion_r525137823", "bodyText": "Could this be @transactional( readOnly = true )?", "author": "enricocolasante", "createdAt": "2020-11-17T13:05:32Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/program/DefaultProgramTempOwnerService.java", "diffHunk": "@@ -0,0 +1,42 @@\n+package org.hisp.dhis.program;\n+\n+import org.hisp.dhis.trackedentity.TrackedEntityInstance;\n+import org.hisp.dhis.user.User;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n+import org.springframework.transaction.annotation.Transactional;\n+\n+/**\n+ * @author Ameen Mohamed <ameen@dhis2.org>\n+ *\n+ */\n+@Service( \"org.hisp.dhis.program.ProgramTempOwnerService\" )\n+public class DefaultProgramTempOwnerService implements ProgramTempOwnerService\n+{\n+\n+    // -------------------------------------------------------------------------\n+    // Dependencies\n+    // -------------------------------------------------------------------------\n+\n+    @Autowired\n+    private ProgramTempOwnerStore programTempOwnerStore;\n+\n+    // -------------------------------------------------------------------------\n+    // ProgramTempOwnershipAuditService implementation\n+    // -------------------------------------------------------------------------\n+\n+    @Override\n+    @Transactional\n+    public void addProgramTempOwner( ProgramTempOwner programTempOwner )\n+    {\n+        programTempOwnerStore.addProgramTempOwner( programTempOwner );\n+    }\n+    \n+    @Override\n+    @Transactional", "originalCommit": "8ae9ac95bc3d862e3224a7758b8d5ed46fefbf33", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7d342590104b939b75d70d59775a0bf5d5066ed0", "url": "https://github.com/dhis2/dhis2-core/commit/7d342590104b939b75d70d59775a0bf5d5066ed0", "message": "Changed transactional to readonly", "committedDate": "2020-11-18T08:13:31Z", "type": "commit"}, {"oid": "53ec3ff5b869d42463b9fec322834da4112b0df1", "url": "https://github.com/dhis2/dhis2-core/commit/53ec3ff5b869d42463b9fec322834da4112b0df1", "message": "Merge branch 'master' into DHIS2-9841-2.36", "committedDate": "2020-11-18T08:13:52Z", "type": "commit"}]}