{"pr_number": 2089, "pr_title": "Make window scroll to top when search is performed", "pr_createdAt": "2020-07-22T06:25:02Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/2089", "timeline": [{"oid": "e3e508340a74bf54ff967e58535d615efd10c2f0", "url": "https://github.com/openequella/openEQUELLA/commit/e3e508340a74bf54ff967e58535d615efd10c2f0", "message": "Make window scroll to top when search is performed", "committedDate": "2020-07-22T06:13:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459137142", "bodyText": "This change means changing rows per page also scrolls window to top. Is that what we want? I feel it's better not to scroll to top in this case.", "author": "PenghaiZhang", "createdAt": "2020-07-22T23:20:11Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page\n+        window.scrollTo(0, 0);", "originalCommit": "e3e508340a74bf54ff967e58535d615efd10c2f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzODM2MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459138360", "bodyText": "Well that's an interesting thought.\n\ud83e\udd14\nBut on thinking it through, I came to this scenario: I'm on page three of my results, and now I've changed the page size from 10 to 50. So previously I was looking at items 21-30, but now I'm looking at items 101-150.\nSo I wonder... Should we actually then go back to the first page and the top of the screen?", "author": "edalex-ian", "createdAt": "2020-07-22T23:23:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzOTgxOQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459139819", "bodyText": "I believe go back to the first page after changing page size is what we have now.  So in your example, you will see 1-50 rather than 101-150.", "author": "PenghaiZhang", "createdAt": "2020-07-22T23:28:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0MDkzMA==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459140930", "bodyText": "Well in that case, I'd say it definitely seems to make sense to go back to the top, as everything you're looking at has changed.\nBut you didn't really say why you felt it was better not to go to the top. Could you elaborate please?", "author": "edalex-ian", "createdAt": "2020-07-22T23:32:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0MTAwNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459141005", "bodyText": "With this change, if I stay in page 1 and I change the page size from 10 to 50, I will need to scroll down again to the 10th item and then starting viewing item 11 - 50.", "author": "PenghaiZhang", "createdAt": "2020-07-22T23:32:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0OTExMA==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459149110", "bodyText": "Okay, so how about we conditionally do it in that scenario? e.g. If changing page size and NOT on page 1, then scrollTop?", "author": "edalex-ian", "createdAt": "2020-07-23T00:00:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0OTYzNA==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459149634", "bodyText": "I don't feel strongly either way, however I do agree with Penghai that it's annoying when you're browsing a list and you change the no. of results, you have to find where you were up to.", "author": "cathfitz", "createdAt": "2020-07-23T00:02:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE1MjYxMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459152611", "bodyText": "I am happy to get this merged in now because doing that conditionally would bring in more complexity.", "author": "PenghaiZhang", "createdAt": "2020-07-23T00:13:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE1NzMwMw==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459157303", "bodyText": "Cool, let's press on then and see how it goes.", "author": "edalex-ian", "createdAt": "2020-07-23T00:31:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzNzE0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE0NTk3Ng==", "url": "https://github.com/openequella/openEQUELLA/pull/2089#discussion_r459145976", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //scroll back up to the top of the page\n          \n          \n            \n                    // scroll back up to the top of the page", "author": "ChristianMurphy", "createdAt": "2020-07-22T23:49:15Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/SearchPage.tsx", "diffHunk": "@@ -101,6 +101,8 @@ const SearchPage = ({ updateTemplate }: TemplateUpdateProps) => {\n       .then((items: OEQ.Common.PagedResult<OEQ.Search.SearchResultItem>) => {\n         setPagedSearchResult(items);\n         history.replace({ ...history.location, state: searchOptions });\n+        //scroll back up to the top of the page", "originalCommit": "e3e508340a74bf54ff967e58535d615efd10c2f0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9d07363fb14712f5f21c5f6f94d4abe1bd4c58b1", "url": "https://github.com/openequella/openEQUELLA/commit/9d07363fb14712f5f21c5f6f94d4abe1bd4c58b1", "message": "add white-space to comment\n\nCo-authored-by: Christian Murphy <christian.murphy.42@gmail.com>", "committedDate": "2020-07-23T00:27:08Z", "type": "commit"}]}