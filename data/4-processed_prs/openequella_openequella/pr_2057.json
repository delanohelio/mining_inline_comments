{"pr_number": 2057, "pr_title": "Restyle new search bar", "pr_createdAt": "2020-07-15T07:52:23Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/2057", "timeline": [{"oid": "25f5cb7668107a54c175a3662c0ab1e8552e0559", "url": "https://github.com/openequella/openEQUELLA/commit/25f5cb7668107a54c175a3662c0ab1e8552e0559", "message": "Restyle new search bar\n\nSo as to be a bit cleaner, and similar to a number of Material Design\nsearch bars you see about the place - so as to hopefully feel\ncontemporary to users.\n\nRequired custom styling, but I think that's acceptable in this case as\nwe wanted something a little different and it is a key/special component\nas one of the main ones users interact with.", "committedDate": "2020-07-15T07:41:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDg2MTEwNw==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r454861107", "bodyText": "Switched to Paper and no Grid as we need to go full custom.", "author": "edalex-ian", "createdAt": "2020-07-15T07:52:55Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchBar.tsx", "diffHunk": "@@ -92,61 +107,37 @@ export default function SearchBar({ onChange }: SearchBarProps) {\n   };\n \n   return (\n-    <Card>\n-      <CardContent>\n-        <Grid container direction=\"row\">\n-          <Grid item xs={10}>\n-            <TextField\n-              id=\"searchBar\"\n-              helperText={rawSearchMode ? strings.pressEnterToSearch : \" \"}\n-              onKeyDown={handleKeyDown}\n-              InputProps={{\n-                startAdornment: (\n-                  <InputAdornment position=\"start\">\n-                    <SearchIcon fontSize=\"small\" />\n-                  </InputAdornment>\n-                ),\n-                endAdornment: queryString.length > 0 && (\n-                  <IconButton\n-                    onClick={() => handleQueryChange(\"\")}\n-                    size=\"small\"\n-                  >\n-                    <Close />\n-                  </IconButton>\n-                ),\n-              }}\n-              fullWidth\n-              onChange={(event) => {\n-                handleQueryChange(event.target.value);\n-              }}\n-              variant=\"standard\"\n-              value={queryString}\n+    <Paper className={classes.root}>", "originalCommit": "25f5cb7668107a54c175a3662c0ab1e8552e0559", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEzMDE1MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455130150", "bodyText": "Since top and bottom margin are the same this can be simplified to:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                margin: \"4px 12px 4px\",\n          \n          \n            \n                margin: \"4px 12px\",", "author": "ChristianMurphy", "createdAt": "2020-07-15T15:13:31Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchBar.tsx", "diffHunk": "@@ -16,26 +16,38 @@\n  * limitations under the License.\n  */\n import {\n-  Card,\n-  CardContent,\n+  Divider,\n   FormControlLabel,\n-  Grid,\n   IconButton,\n-  InputAdornment,\n+  InputBase,\n+  Paper,\n   Switch,\n-  TextField,\n   Tooltip,\n } from \"@material-ui/core\";\n import * as React from \"react\";\n import { useCallback, useState } from \"react\";\n import SearchIcon from \"@material-ui/icons/Search\";\n-import { Close } from \"@material-ui/icons\";\n import { debounce } from \"lodash\";\n import { languageStrings } from \"../../util/langstrings\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n \n const ENTER_KEY_CODE = 13;\n const ESCAPE_KEY_CODE = 27;\n \n+const useStyles = makeStyles({\n+  root: {\n+    display: \"flex\",\n+    alignItems: \"center\",\n+  },\n+  input: {\n+    flex: \"auto\",\n+  },\n+  divider: {\n+    height: 28,\n+    margin: \"4px 12px 4px\",", "originalCommit": "25f5cb7668107a54c175a3662c0ab1e8552e0559", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c5458616d12a549791f366520af100a2c75b9a01", "url": "https://github.com/openequella/openEQUELLA/commit/c5458616d12a549791f366520af100a2c75b9a01", "message": "Simplify margin style for divider\n\nCo-authored-by: Christian Murphy <christian.murphy.42@gmail.com>", "committedDate": "2020-07-15T22:49:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjEzMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455446131", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                rawSearch: \"Raw Search\",\n          \n          \n            \n                rawSearch: \"Raw search\",", "author": "SammyIsConfused", "createdAt": "2020-07-16T00:49:50Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/util/langstrings.ts", "diffHunk": "@@ -316,7 +316,7 @@ export const languageStrings = {\n     refineTitle: \"Refine search\",\n     modifiedDate: \"Modified\",\n     rawSearch: \"Raw Search\",", "originalCommit": "c5458616d12a549791f366520af100a2c75b9a01", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjIyMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455446221", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                pressEnterToSearch: \"Raw Search enabled, press enter to search\",\n          \n          \n            \n                pressEnterToSearch: \"Raw search enabled, press enter to search\",", "author": "SammyIsConfused", "createdAt": "2020-07-16T00:50:07Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/util/langstrings.ts", "diffHunk": "@@ -316,7 +316,7 @@ export const languageStrings = {\n     refineTitle: \"Refine search\",\n     modifiedDate: \"Modified\",\n     rawSearch: \"Raw Search\",\n-    pressEnterToSearch: \"Press enter to search\",\n+    pressEnterToSearch: \"Raw Search enabled, press enter to search\",", "originalCommit": "c5458616d12a549791f366520af100a2c75b9a01", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjU4Ng==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455446586", "bodyText": "Just a query - does this look strange at different zoom levels?", "author": "SammyIsConfused", "createdAt": "2020-07-16T00:51:35Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/search/components/SearchBar.tsx", "diffHunk": "@@ -16,26 +16,38 @@\n  * limitations under the License.\n  */\n import {\n-  Card,\n-  CardContent,\n+  Divider,\n   FormControlLabel,\n-  Grid,\n   IconButton,\n-  InputAdornment,\n+  InputBase,\n+  Paper,\n   Switch,\n-  TextField,\n   Tooltip,\n } from \"@material-ui/core\";\n import * as React from \"react\";\n import { useCallback, useState } from \"react\";\n import SearchIcon from \"@material-ui/icons/Search\";\n-import { Close } from \"@material-ui/icons\";\n import { debounce } from \"lodash\";\n import { languageStrings } from \"../../util/langstrings\";\n+import { makeStyles } from \"@material-ui/core/styles\";\n \n const ENTER_KEY_CODE = 13;\n const ESCAPE_KEY_CODE = 27;\n \n+const useStyles = makeStyles({\n+  root: {\n+    display: \"flex\",\n+    alignItems: \"center\",\n+  },\n+  input: {\n+    flex: \"auto\",\n+  },\n+  divider: {\n+    height: 28,", "originalCommit": "c5458616d12a549791f366520af100a2c75b9a01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ1MDMwNA==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455450304", "bodyText": "Looks fine to me:\n\n(Note that's at 270%.)", "author": "edalex-ian", "createdAt": "2020-07-16T01:05:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjU4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ1MjA1Mw==", "url": "https://github.com/openequella/openEQUELLA/pull/2057#discussion_r455452053", "bodyText": "Okay cool, just checking!", "author": "SammyIsConfused", "createdAt": "2020-07-16T01:12:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0NjU4Ng=="}], "type": "inlineReview"}, {"oid": "580e1f5087d58e57b2d1e0a03d4906462bd1889f", "url": "https://github.com/openequella/openEQUELLA/commit/580e1f5087d58e57b2d1e0a03d4906462bd1889f", "message": "Use correct casing for 'Raw search'\r\n\r\nFeedback provided by Cath on side channel.\n\nCo-authored-by: SammyIsConfused <samantha.fisher@edalex.com>", "committedDate": "2020-07-16T01:12:53Z", "type": "commit"}]}