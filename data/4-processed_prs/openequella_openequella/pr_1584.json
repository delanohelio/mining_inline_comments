{"pr_number": 1584, "pr_title": "Rework Settings Page UI", "pr_createdAt": "2020-03-27T00:05:06Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/1584", "timeline": [{"oid": "db8db174b78bd82d089668cb9f34e3ecfd14e485", "url": "https://github.com/openequella/openEQUELLA/commit/db8db174b78bd82d089668cb9f34e3ecfd14e485", "message": "Rework checkbox component into swtich component", "committedDate": "2020-03-26T23:36:47Z", "type": "commit"}, {"oid": "c2bd847195c4ce9b301794da64ccbec202f4b9e3", "url": "https://github.com/openequella/openEQUELLA/commit/c2bd847195c4ce9b301794da64ccbec202f4b9e3", "message": "Add new SettingsList and SettingsListControl components", "committedDate": "2020-03-26T23:37:18Z", "type": "commit"}, {"oid": "4849415220b7f0aac105fb4a548274797eb25d49", "url": "https://github.com/openequella/openEQUELLA/commit/4849415220b7f0aac105fb4a548274797eb25d49", "message": "Put helperText at the bottom of the SearchSettingFormControl", "committedDate": "2020-03-26T23:37:53Z", "type": "commit"}, {"oid": "646f57c033fb959e56a4959f8e66bb59f69e6d2d", "url": "https://github.com/openequella/openEQUELLA/commit/646f57c033fb959e56a4959f8e66bb59f69e6d2d", "message": "Add new language strings", "committedDate": "2020-03-26T23:38:19Z", "type": "commit"}, {"oid": "7975bc632bd0ee0eea72fd22a7ab786f4d6e7cf7", "url": "https://github.com/openequella/openEQUELLA/commit/7975bc632bd0ee0eea72fd22a7ab786f4d6e7cf7", "message": "Delete no longer necessary GalleryViewsSettings.tsx", "committedDate": "2020-03-26T23:38:37Z", "type": "commit"}, {"oid": "51d7bc0402b0aedfca5c42661f3438d3c0119049", "url": "https://github.com/openequella/openEQUELLA/commit/51d7bc0402b0aedfca5c42661f3438d3c0119049", "message": "Use outlined version of Select", "committedDate": "2020-03-26T23:39:11Z", "type": "commit"}, {"oid": "b78f437be5db5e511c88328f8d781c2a9380d2b3", "url": "https://github.com/openequella/openEQUELLA/commit/b78f437be5db5e511c88328f8d781c2a9380d2b3", "message": "Rework page to use the new SettingsList components and SaveButton", "committedDate": "2020-03-26T23:40:35Z", "type": "commit"}, {"oid": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "url": "https://github.com/openequella/openEQUELLA/commit/8b5d07d3362b5e5ce9981343601edb9b8c83637c", "message": "Add comments", "committedDate": "2020-03-26T23:53:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2NjUyNg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398966526", "bodyText": "It may be worth commenting somewhere why we're not using the helperText property that's available in some of the MUI control components (e.g. TextField), this will become important when validation comes in and it's impact to components like this (if this is used for anything that gets validated in the future).   If a control comes in here with helperText then this may get confusing.", "author": "edalex-tom", "createdAt": "2020-03-27T00:16:22Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SearchSettingFormControl.tsx", "diffHunk": "@@ -21,16 +27,18 @@ export default function SearchSettingFormControl({\n   control,\n   onChange\n }: SearchSettingFormControlProps) {\n+  const classes = useStyles();\n   return (\n     <FormControl>\n       {title && <FormLabel>{title}</FormLabel>}\n-      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n       <FormControlLabel\n+        className={classes.formControlLabel}\n         disabled={disabled}\n         label={label}\n         control={control}\n         onChange={onChange}\n       />\n+      {helperText && <FormHelperText>{helperText}</FormHelperText>}", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4ODc5MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398988791", "bodyText": "I think I'll rename it to formHelperText to save the confusion.", "author": "SammyIsConfused", "createdAt": "2020-03-27T01:40:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2NjUyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2Njc3OQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398966779", "bodyText": "Odd to dictate where a component should be placed, this component doesn't care.", "author": "edalex-tom", "createdAt": "2020-03-27T00:17:17Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsList.tsx", "diffHunk": "@@ -0,0 +1,27 @@\n+import { List, ListSubheader } from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";\n+\n+interface SettingsListProps {\n+  subHeading?: string;\n+  children: ReactNode;\n+}\n+/*\n+ * This component is used to define a settings list to be used in the page/settings/* pages.\n+ * It should be placed within a Card,", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk5MDExMw==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398990113", "bodyText": "You're right, it only cares what the children are. I'll fix that up.", "author": "SammyIsConfused", "createdAt": "2020-03-27T01:46:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2Njc3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2NzU3OA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398967578", "bodyText": "JS doc params should start with @param, no need for :", "author": "edalex-tom", "createdAt": "2020-03-27T00:20:06Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsList.tsx", "diffHunk": "@@ -0,0 +1,27 @@\n+import { List, ListSubheader } from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";\n+\n+interface SettingsListProps {\n+  subHeading?: string;\n+  children: ReactNode;\n+}\n+/*\n+ * This component is used to define a settings list to be used in the page/settings/* pages.\n+ * It should be placed within a Card,\n+ * and the children of this components should be SettingsListControls.\n+ * subHeading: optional title of the settings list.", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2NzkxOQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398967919", "bodyText": "Import isn't needed, it can be React.ReactNode or a named import on the react import line", "author": "edalex-tom", "createdAt": "2020-03-27T00:21:22Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsList.tsx", "diffHunk": "@@ -0,0 +1,27 @@\n+import { List, ListSubheader } from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk5NTg5Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398995892", "bodyText": "Fixed.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:08:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2NzkxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2OTUwOA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398969508", "bodyText": "JS doc missing", "author": "edalex-tom", "createdAt": "2020-03-27T00:27:02Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsToggleSwitch.tsx", "diffHunk": "@@ -11,20 +11,20 @@ export interface SettingsCheckbox {\n   helperText?: string;\n   id: string;\n }\n-export default function SettingsCheckbox({\n+export default function SettingsToggleSwitch({", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk5NTg1NA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398995854", "bodyText": "Fixed.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:08:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk2OTUwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3MDYyNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398970625", "bodyText": "Lot of magical numbers, this looks like something devs will tweak back and forth.  I'm not sure of an alternative.", "author": "edalex-tom", "createdAt": "2020-03-27T00:31:18Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -20,14 +19,25 @@ import {\n } from \"./SearchSettingsModule\";\n import MessageInfo from \"../../components/MessageInfo\";\n import DefaultSortOrderSetting from \"./components/DefaultSortOrderSetting\";\n-import GalleryViewsSettings from \"./components/GalleryViewsSettings\";\n-import SettingsCheckbox from \"../../components/SettingsCheckbox\";\n+import SettingsToggleSwitch from \"../../components/SettingsToggleSwitch\";\n+import { Save } from \"@material-ui/icons\";\n+import SettingsList from \"../../components/SettingsList\";\n+import SettingsListControl from \"../../components/SettingsListControl\";\n \n const useStyles = makeStyles({\n   floatingButton: {\n-    right: \"16px\",\n-    bottom: \"16px\",\n-    position: \"fixed\"\n+    position: \"fixed\",\n+    top: 0,\n+    right: 0,\n+    marginTop: \"80px\",\n+    marginRight: \"16px\",\n+    width: \"calc(25% - 112px)\"", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3MjM3Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398972372", "bodyText": "Should the save button and MessageInfo be outside the card?\nWill the success snackbar be a standard? If so will it be put on every page or moved a level up?", "author": "edalex-tom", "createdAt": "2020-03-27T00:38:14Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -73,98 +83,161 @@ function SearchPageSettings({ updateTemplate }: TemplateUpdateProps) {\n   }\n \n   return (\n-    <SettingsMenuContainer>\n-      <Grid container direction={\"column\"} spacing={8}>\n-        {/*Default Sort Order*/}\n-        <Grid item>\n-          <DefaultSortOrderSetting\n-            disabled={showError}\n-            value={searchSettings.defaultSearchSort}\n-            setValue={order =>\n-              setSearchSettings({ ...searchSettings, defaultSearchSort: order })\n+    <>\n+      <Card className={classes.spacedCards}>\n+        <SettingsList subHeading={searchPageSettingsStrings.general}>\n+          {/*Default Sort Order*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.defaultSortOrder}\n+            secondaryText={searchPageSettingsStrings.defaultSortOrderDesc}\n+            control={\n+              <DefaultSortOrderSetting\n+                disabled={showError}\n+                value={searchSettings.defaultSearchSort}\n+                setValue={order =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    defaultSearchSort: order\n+                  })\n+                }\n+              />\n             }\n           />\n-        </Grid>\n-\n-        {/*Include Non-Live checkbox*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={searchSettings.searchingShowNonLiveCheckbox}\n-            setValue={value =>\n-              setSearchSettings({\n-                ...searchSettings,\n-                searchingShowNonLiveCheckbox: value\n-              })\n+          {/*Non-Live Results*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.allowNonLive}\n+            secondaryText={searchPageSettingsStrings.allowNonLiveLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingShowNonLiveCheckbox}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingShowNonLiveCheckbox: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_showNonLiveCheckbox\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.allowNonLiveLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.allowNonLive}\n-            id={\"_showNonLiveCheckbox\"}\n           />\n-        </Grid>\n-\n-        {/*Authenticate By Default*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={searchSettings.authenticateFeedsByDefault}\n-            setValue={value =>\n-              setSearchSettings({\n-                ...searchSettings,\n-                authenticateFeedsByDefault: value\n-              })\n+          {/*Authenticate Feeds*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.authFeed}\n+            secondaryText={searchPageSettingsStrings.authFeedLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.authenticateFeedsByDefault}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    authenticateFeedsByDefault: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_authenticateByDefault\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.authFeedLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.authFeed}\n-            id={\"_authenticateByDefault\"}\n           />\n-        </Grid>\n-\n-        {/*Gallery views*/}\n-        <Grid item>\n-          <GalleryViewsSettings\n-            disabled={showError}\n-            setSearchSettings={setSearchSettings}\n-            searchSettings={searchSettings}\n+          {/*Cloud Searching*/}\n+          <SettingsListControl\n+            primaryText={searchPageSettingsStrings.cloudSearching}\n+            secondaryText={searchPageSettingsStrings.cloudSearchingLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={cloudSettings.disabled}\n+                setValue={value =>\n+                  setCloudSettings({ ...cloudSettings, disabled: value })\n+                }\n+                disabled={showError}\n+                id={\"cs_dc\"}\n+              />\n+            }\n           />\n-        </Grid>\n-\n-        {/*Cloud Settings*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={cloudSettings.disabled}\n-            setValue={value =>\n-              setCloudSettings({ ...cloudSettings, disabled: value })\n+        </SettingsList>\n+      </Card>\n+      <Card className={classes.spacedCards}>\n+        {/*Gallery view Settings*/}\n+        <SettingsList subHeading={searchPageSettingsStrings.gallery}>\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.disableImages}\n+            secondaryText={searchPageSettingsStrings.disableImagesDesc}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingDisableGallery}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingDisableGallery: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_disableGallery\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.cloudSearchingLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.cloudSearching}\n-            id={\"cs_dc\"}\n           />\n-        </Grid>\n-        <Grid item>\n-          {/*Save Button*/}\n-          <Button\n-            id={\"_saveButton\"}\n-            disabled={showError}\n-            className={classes.floatingButton}\n-            variant=\"contained\"\n-            onClick={handleSubmitButton}\n-            size=\"large\"\n-          >\n-            {searchPageSettingsStrings.save}\n-          </Button>\n-        </Grid>\n-      </Grid>\n-\n-      {/*Snackbar*/}\n-      <MessageInfo\n-        title={searchPageSettingsStrings.success}\n-        open={showSuccess}\n-        onClose={() => setShowSuccess(false)}\n-        variant={\"success\"}\n-      />\n-    </SettingsMenuContainer>\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.disableVideos}\n+            secondaryText={searchPageSettingsStrings.disableVideosDesc}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingDisableVideos}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingDisableVideos: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_disableVideos\"}\n+              />\n+            }\n+          />\n+          <SettingsListControl\n+            primaryText={searchPageSettingsStrings.disableFileCount}\n+            secondaryText={searchPageSettingsStrings.disableFileCountDesc}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.fileCountDisabled}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    fileCountDisabled: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_disableFileCount\"}\n+              />\n+            }\n+          />\n+        </SettingsList>\n+        {/*Save Button*/}\n+        <Button\n+          color={\"primary\"}\n+          id={\"_saveButton\"}\n+          disabled={showError}\n+          className={classes.floatingButton}\n+          variant=\"contained\"\n+          onClick={handleSubmitButton}\n+          size=\"large\"\n+        >\n+          <Save />\n+          {searchPageSettingsStrings.save}\n+        </Button>\n+        {/*Snackbar*/}\n+        <MessageInfo\n+          title={searchPageSettingsStrings.success}\n+          open={showSuccess}\n+          onClose={() => setShowSuccess(false)}\n+          variant={\"success\"}\n+        />", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk5NzY4Ng==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398997686", "bodyText": "They should. It doesn't make a difference, but still they aren't related to the cards, so I'll fix it.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:16:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3MjM3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3Mjk2Nw==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398972967", "bodyText": "This is a repeating standard pattern, a component could be added SettingsListToggleControl.  It may not reduce the lines of code on the page but will standardise the toggles or allow for them to flip between checkboxes or toggles without the pages needed to be updated in multiple places", "author": "edalex-tom", "createdAt": "2020-03-27T00:40:34Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -73,98 +83,161 @@ function SearchPageSettings({ updateTemplate }: TemplateUpdateProps) {\n   }\n \n   return (\n-    <SettingsMenuContainer>\n-      <Grid container direction={\"column\"} spacing={8}>\n-        {/*Default Sort Order*/}\n-        <Grid item>\n-          <DefaultSortOrderSetting\n-            disabled={showError}\n-            value={searchSettings.defaultSearchSort}\n-            setValue={order =>\n-              setSearchSettings({ ...searchSettings, defaultSearchSort: order })\n+    <>\n+      <Card className={classes.spacedCards}>\n+        <SettingsList subHeading={searchPageSettingsStrings.general}>\n+          {/*Default Sort Order*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.defaultSortOrder}\n+            secondaryText={searchPageSettingsStrings.defaultSortOrderDesc}\n+            control={\n+              <DefaultSortOrderSetting\n+                disabled={showError}\n+                value={searchSettings.defaultSearchSort}\n+                setValue={order =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    defaultSearchSort: order\n+                  })\n+                }\n+              />\n             }\n           />\n-        </Grid>\n-\n-        {/*Include Non-Live checkbox*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={searchSettings.searchingShowNonLiveCheckbox}\n-            setValue={value =>\n-              setSearchSettings({\n-                ...searchSettings,\n-                searchingShowNonLiveCheckbox: value\n-              })\n+          {/*Non-Live Results*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.allowNonLive}\n+            secondaryText={searchPageSettingsStrings.allowNonLiveLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingShowNonLiveCheckbox}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingShowNonLiveCheckbox: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_showNonLiveCheckbox\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.allowNonLiveLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.allowNonLive}\n-            id={\"_showNonLiveCheckbox\"}\n           />", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3NjQxNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398976415", "bodyText": "Looks like a candidate for either Grids or a container element around the cards that does this rather than every single card.\nLooking at the page, it looks like there are two columns (cards on the left, save button on the right) but the page is structured with styling of the contents rather than having columns that the contents fill.", "author": "edalex-tom", "createdAt": "2020-03-27T00:53:31Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -20,14 +19,25 @@ import {\n } from \"./SearchSettingsModule\";\n import MessageInfo from \"../../components/MessageInfo\";\n import DefaultSortOrderSetting from \"./components/DefaultSortOrderSetting\";\n-import GalleryViewsSettings from \"./components/GalleryViewsSettings\";\n-import SettingsCheckbox from \"../../components/SettingsCheckbox\";\n+import SettingsToggleSwitch from \"../../components/SettingsToggleSwitch\";\n+import { Save } from \"@material-ui/icons\";\n+import SettingsList from \"../../components/SettingsList\";\n+import SettingsListControl from \"../../components/SettingsListControl\";\n \n const useStyles = makeStyles({\n   floatingButton: {\n-    right: \"16px\",\n-    bottom: \"16px\",\n-    position: \"fixed\"\n+    position: \"fixed\",\n+    top: 0,\n+    right: 0,\n+    marginTop: \"80px\",\n+    marginRight: \"16px\",\n+    width: \"calc(25% - 112px)\"\n+  },\n+  spacedCards: {\n+    margin: \"16px\",\n+    width: \"75%\",\n+    padding: \"16px\",\n+    float: \"left\"", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3ODI0NA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398978244", "bodyText": "Not recommending this now but if this becomes the standard (Card with the first child being SettingsList) then they could be combined (e.g. SettingsListCard).", "author": "edalex-tom", "createdAt": "2020-03-27T01:00:12Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -73,98 +83,161 @@ function SearchPageSettings({ updateTemplate }: TemplateUpdateProps) {\n   }\n \n   return (\n-    <SettingsMenuContainer>\n-      <Grid container direction={\"column\"} spacing={8}>\n-        {/*Default Sort Order*/}\n-        <Grid item>\n-          <DefaultSortOrderSetting\n-            disabled={showError}\n-            value={searchSettings.defaultSearchSort}\n-            setValue={order =>\n-              setSearchSettings({ ...searchSettings, defaultSearchSort: order })\n+    <>\n+      <Card className={classes.spacedCards}>\n+        <SettingsList subHeading={searchPageSettingsStrings.general}>", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk3ODU3OQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398978579", "bodyText": "If this becomes the standard then it should be a dedicated component, allows rapid re-use and reduce boilerplate on the pages.", "author": "edalex-tom", "createdAt": "2020-03-27T01:01:36Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -73,98 +83,161 @@ function SearchPageSettings({ updateTemplate }: TemplateUpdateProps) {\n   }\n \n   return (\n-    <SettingsMenuContainer>\n-      <Grid container direction={\"column\"} spacing={8}>\n-        {/*Default Sort Order*/}\n-        <Grid item>\n-          <DefaultSortOrderSetting\n-            disabled={showError}\n-            value={searchSettings.defaultSearchSort}\n-            setValue={order =>\n-              setSearchSettings({ ...searchSettings, defaultSearchSort: order })\n+    <>\n+      <Card className={classes.spacedCards}>\n+        <SettingsList subHeading={searchPageSettingsStrings.general}>\n+          {/*Default Sort Order*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.defaultSortOrder}\n+            secondaryText={searchPageSettingsStrings.defaultSortOrderDesc}\n+            control={\n+              <DefaultSortOrderSetting\n+                disabled={showError}\n+                value={searchSettings.defaultSearchSort}\n+                setValue={order =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    defaultSearchSort: order\n+                  })\n+                }\n+              />\n             }\n           />\n-        </Grid>\n-\n-        {/*Include Non-Live checkbox*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={searchSettings.searchingShowNonLiveCheckbox}\n-            setValue={value =>\n-              setSearchSettings({\n-                ...searchSettings,\n-                searchingShowNonLiveCheckbox: value\n-              })\n+          {/*Non-Live Results*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.allowNonLive}\n+            secondaryText={searchPageSettingsStrings.allowNonLiveLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingShowNonLiveCheckbox}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingShowNonLiveCheckbox: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_showNonLiveCheckbox\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.allowNonLiveLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.allowNonLive}\n-            id={\"_showNonLiveCheckbox\"}\n           />\n-        </Grid>\n-\n-        {/*Authenticate By Default*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={searchSettings.authenticateFeedsByDefault}\n-            setValue={value =>\n-              setSearchSettings({\n-                ...searchSettings,\n-                authenticateFeedsByDefault: value\n-              })\n+          {/*Authenticate Feeds*/}\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.authFeed}\n+            secondaryText={searchPageSettingsStrings.authFeedLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.authenticateFeedsByDefault}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    authenticateFeedsByDefault: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_authenticateByDefault\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.authFeedLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.authFeed}\n-            id={\"_authenticateByDefault\"}\n           />\n-        </Grid>\n-\n-        {/*Gallery views*/}\n-        <Grid item>\n-          <GalleryViewsSettings\n-            disabled={showError}\n-            setSearchSettings={setSearchSettings}\n-            searchSettings={searchSettings}\n+          {/*Cloud Searching*/}\n+          <SettingsListControl\n+            primaryText={searchPageSettingsStrings.cloudSearching}\n+            secondaryText={searchPageSettingsStrings.cloudSearchingLabel}\n+            control={\n+              <SettingsToggleSwitch\n+                value={cloudSettings.disabled}\n+                setValue={value =>\n+                  setCloudSettings({ ...cloudSettings, disabled: value })\n+                }\n+                disabled={showError}\n+                id={\"cs_dc\"}\n+              />\n+            }\n           />\n-        </Grid>\n-\n-        {/*Cloud Settings*/}\n-        <Grid item>\n-          <SettingsCheckbox\n-            value={cloudSettings.disabled}\n-            setValue={value =>\n-              setCloudSettings({ ...cloudSettings, disabled: value })\n+        </SettingsList>\n+      </Card>\n+      <Card className={classes.spacedCards}>\n+        {/*Gallery view Settings*/}\n+        <SettingsList subHeading={searchPageSettingsStrings.gallery}>\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.disableImages}\n+            secondaryText={searchPageSettingsStrings.disableImagesDesc}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingDisableGallery}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingDisableGallery: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_disableGallery\"}\n+              />\n             }\n-            label={searchPageSettingsStrings.cloudSearchingLabel}\n-            disabled={showError}\n-            title={searchPageSettingsStrings.cloudSearching}\n-            id={\"cs_dc\"}\n           />\n-        </Grid>\n-        <Grid item>\n-          {/*Save Button*/}\n-          <Button\n-            id={\"_saveButton\"}\n-            disabled={showError}\n-            className={classes.floatingButton}\n-            variant=\"contained\"\n-            onClick={handleSubmitButton}\n-            size=\"large\"\n-          >\n-            {searchPageSettingsStrings.save}\n-          </Button>\n-        </Grid>\n-      </Grid>\n-\n-      {/*Snackbar*/}\n-      <MessageInfo\n-        title={searchPageSettingsStrings.success}\n-        open={showSuccess}\n-        onClose={() => setShowSuccess(false)}\n-        variant={\"success\"}\n-      />\n-    </SettingsMenuContainer>\n+          <SettingsListControl\n+            divider\n+            primaryText={searchPageSettingsStrings.disableVideos}\n+            secondaryText={searchPageSettingsStrings.disableVideosDesc}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.searchingDisableVideos}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    searchingDisableVideos: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_disableVideos\"}\n+              />\n+            }\n+          />\n+          <SettingsListControl\n+            primaryText={searchPageSettingsStrings.disableFileCount}\n+            secondaryText={searchPageSettingsStrings.disableFileCountDesc}\n+            control={\n+              <SettingsToggleSwitch\n+                value={searchSettings.fileCountDisabled}\n+                setValue={value =>\n+                  setSearchSettings({\n+                    ...searchSettings,\n+                    fileCountDisabled: value\n+                  })\n+                }\n+                disabled={showError}\n+                id={\"_disableFileCount\"}\n+              />\n+            }\n+          />\n+        </SettingsList>\n+        {/*Save Button*/}\n+        <Button\n+          color={\"primary\"}\n+          id={\"_saveButton\"}\n+          disabled={showError}\n+          className={classes.floatingButton}\n+          variant=\"contained\"\n+          onClick={handleSubmitButton}\n+          size=\"large\"\n+        >\n+          <Save />\n+          {searchPageSettingsStrings.save}\n+        </Button>", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MDQzMg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398980432", "bodyText": "Does oEQ have any issues with tree shaking?  I had an issue using the named imports bringing all of the icons into the bundled JS but switching to default imports fixed it.", "author": "edalex-tom", "createdAt": "2020-03-27T01:09:17Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/SearchPageSettings.tsx", "diffHunk": "@@ -20,14 +19,25 @@ import {\n } from \"./SearchSettingsModule\";\n import MessageInfo from \"../../components/MessageInfo\";\n import DefaultSortOrderSetting from \"./components/DefaultSortOrderSetting\";\n-import GalleryViewsSettings from \"./components/GalleryViewsSettings\";\n-import SettingsCheckbox from \"../../components/SettingsCheckbox\";\n+import SettingsToggleSwitch from \"../../components/SettingsToggleSwitch\";\n+import { Save } from \"@material-ui/icons\";", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAwNjUzNw==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399006537", "bodyText": "If it does its already everywhere :P Might be worth going through and switching to default across the board at some point.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:51:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MDQzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MTAyNA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398981024", "bodyText": "This screams magical number, the ListItem container is flexing so the ListItemText could be styled (think it's flex-basis but would need to experiment)", "author": "edalex-tom", "createdAt": "2020-03-27T01:11:44Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -0,0 +1,48 @@\n+import {\n+  ListItem,\n+  ListItemSecondaryAction,\n+  ListItemText\n+} from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";\n+import { makeStyles } from \"@material-ui/styles\";\n+\n+interface SettingsListControlProps {\n+  divider?: boolean;\n+  primaryText?: string;\n+  secondaryText?: string;\n+  control?: ReactNode;\n+}\n+\n+const useStyles = makeStyles({\n+  listItemText: {\n+    maxWidth: \"65%\"", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAwNjQyMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399006421", "bodyText": "This was just to get the text wrapping to work properly on very small screens, it doesn't affect much.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:50:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MTAyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MTQ5Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398981492", "bodyText": "Is the event ever needed by the consumer?  if not the just the checked can be emitted", "author": "edalex-tom", "createdAt": "2020-03-27T01:13:34Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SearchSettingFormControl.tsx", "diffHunk": "@@ -13,6 +14,11 @@ export interface SearchSettingFormControlProps {\n   control: React.ReactElement;\n   onChange: (event: React.ChangeEvent<{}>, checked: boolean) => void;", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAwNjEyNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399006125", "bodyText": "It can be, IIRC there are quite a few different controls that can fit into a FormControlLabel and not all of them are boolean.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:49:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MTQ5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MTg5MA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398981890", "bodyText": "Can control be undefined?  If it is then does the ListItemSecondaryAction need to be rendered with nothing?", "author": "edalex-tom", "createdAt": "2020-03-27T01:15:04Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -0,0 +1,48 @@\n+import {\n+  ListItem,\n+  ListItemSecondaryAction,\n+  ListItemText\n+} from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";\n+import { makeStyles } from \"@material-ui/styles\";\n+\n+interface SettingsListControlProps {\n+  divider?: boolean;\n+  primaryText?: string;\n+  secondaryText?: string;\n+  control?: ReactNode;", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAwMjI0Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399002242", "bodyText": "Fixed.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:34:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MTg5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MjUxMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r398982511", "bodyText": "It doesn't look like anything except divider should be undefined, being undefinable may make the component flexible but it doesn't look like it needs to be flexible.\nIf they're undefined then it raises questions about what it looks like with different things being undefined, e.g. storybook stories, tests, etc...", "author": "edalex-tom", "createdAt": "2020-03-27T01:17:34Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -0,0 +1,48 @@\n+import {\n+  ListItem,\n+  ListItemSecondaryAction,\n+  ListItemText\n+} from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";\n+import { makeStyles } from \"@material-ui/styles\";\n+\n+interface SettingsListControlProps {\n+  divider?: boolean;\n+  primaryText?: string;", "originalCommit": "8b5d07d3362b5e5ce9981343601edb9b8c83637c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAwMjE0MA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399002140", "bodyText": "Fixed.", "author": "SammyIsConfused", "createdAt": "2020-03-27T02:33:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk4MjUxMQ=="}], "type": "inlineReview"}, {"oid": "a326b9cbcfccdb48f5af7d362472ba472286499e", "url": "https://github.com/openequella/openEQUELLA/commit/a326b9cbcfccdb48f5af7d362472ba472286499e", "message": "Rename helperText to formHelperText", "committedDate": "2020-03-27T01:43:58Z", "type": "commit"}, {"oid": "92634891f6d299f5396d7c742900abaab3f7ce35", "url": "https://github.com/openequella/openEQUELLA/commit/92634891f6d299f5396d7c742900abaab3f7ce35", "message": "Fix JSDoc on SettingsList.tsx", "committedDate": "2020-03-27T01:45:11Z", "type": "commit"}, {"oid": "24a1126ebf4707cfe6af11ae633be78acc0040cc", "url": "https://github.com/openequella/openEQUELLA/commit/24a1126ebf4707cfe6af11ae633be78acc0040cc", "message": "Add JSDoc to SettingsToggleSwitch.tsx", "committedDate": "2020-03-27T02:01:54Z", "type": "commit"}, {"oid": "6ff15aafebc9827cc1020322a0229bee296fda5a", "url": "https://github.com/openequella/openEQUELLA/commit/6ff15aafebc9827cc1020322a0229bee296fda5a", "message": "Move Button and Snackbar outside of the card", "committedDate": "2020-03-27T02:14:20Z", "type": "commit"}, {"oid": "5194ba6976fc640ec1fefe6d0fbb20620b3409ff", "url": "https://github.com/openequella/openEQUELLA/commit/5194ba6976fc640ec1fefe6d0fbb20620b3409ff", "message": "Stop allowing undefined text and controls in SettingsListControl.tsx", "committedDate": "2020-03-27T02:33:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAyOTI1Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399029252", "bodyText": "I am just curious if there are scenarios in which multiple controls are needed in a ListItemSecondaryAction.", "author": "PenghaiZhang", "createdAt": "2020-03-27T04:30:06Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/components/SettingsListControl.tsx", "diffHunk": "@@ -0,0 +1,48 @@\n+import {\n+  ListItem,\n+  ListItemSecondaryAction,\n+  ListItemText\n+} from \"@material-ui/core\";\n+import * as React from \"react\";\n+import { ReactNode } from \"react\";\n+import { makeStyles } from \"@material-ui/styles\";\n+\n+interface SettingsListControlProps {\n+  divider?: boolean;\n+  primaryText: string;\n+  secondaryText: string;\n+  control: ReactNode;\n+}\n+\n+const useStyles = makeStyles({\n+  listItemText: {\n+    maxWidth: \"65%\"\n+  }\n+});\n+/*\n+ * This component is used to define a row inside a SettingsList to be used in the page/settings/* pages.\n+ * It should be placed within a SettingsList.\n+ *\n+ * @param divider        if present, the row will be rendered with a divider at the bottom.\n+ * @param primaryText    Text to appear on the top line of the row.\n+ * @param secondaryText  Text to appear on the bottom line(s) of the row.\n+ * @param control        The controllable component to be rendered on the right hand side of the row.\n+ */\n+export default function SettingsListControl({\n+  divider,\n+  primaryText,\n+  secondaryText,\n+  control\n+}: SettingsListControlProps) {\n+  const classes = useStyles();\n+  return (\n+    <ListItem alignItems={\"flex-start\"} divider={divider}>\n+      <ListItemText\n+        className={classes.listItemText}\n+        primary={primaryText}\n+        secondary={secondaryText}\n+      />\n+      <ListItemSecondaryAction>{control}</ListItemSecondaryAction>", "originalCommit": "5194ba6976fc640ec1fefe6d0fbb20620b3409ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAzMDE3OA==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399030178", "bodyText": "Nope, just one on its own.", "author": "SammyIsConfused", "createdAt": "2020-03-27T04:34:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAyOTI1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA1Mjg3NQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1584#discussion_r399052875", "bodyText": "Fragment isn't needed", "author": "edalex-tom", "createdAt": "2020-03-27T06:08:49Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/components/DefaultSortOrderSetting.tsx", "diffHunk": "@@ -1,46 +1,61 @@\n-import { FormControl, FormLabel, MenuItem, Select } from \"@material-ui/core\";\n+import {\n+  FormControl,\n+  MenuItem,\n+  OutlinedInput,\n+  Select\n+} from \"@material-ui/core\";\n import { SortOrder } from \"../SearchSettingsModule\";\n import * as React from \"react\";\n import { languageStrings } from \"../../../util/langstrings\";\n+import { makeStyles } from \"@material-ui/styles\";\n \n export interface DefaultSortOrderSettingProps {\n   disabled: boolean;\n   value: SortOrder;\n   setValue: (order: SortOrder) => void;\n }\n+const useStyles = makeStyles({\n+  select: {\n+    width: \"200px\"\n+  }\n+});\n export default function DefaultSortOrderSetting({\n   disabled,\n   value,\n   setValue\n }: DefaultSortOrderSettingProps) {\n   const searchPageSettingsStrings =\n     languageStrings.settings.searching.searchPageSettings;\n+  const classes = useStyles();\n   return (\n-    <FormControl>\n-      <FormLabel>{searchPageSettingsStrings.defaultSortOrder}</FormLabel>\n-      <Select\n-        SelectDisplayProps={{ id: \"_sortOrder\" }}\n-        disabled={disabled}\n-        onChange={event => setValue(event.target.value as SortOrder)}\n-        variant={\"standard\"}\n-        value={value}\n-      >\n-        <MenuItem value={SortOrder.RANK}>\n-          {searchPageSettingsStrings.relevance}\n-        </MenuItem>\n-        <MenuItem value={SortOrder.DATEMODIFIED}>\n-          {searchPageSettingsStrings.lastModified}\n-        </MenuItem>\n-        <MenuItem value={SortOrder.DATECREATED}>\n-          {searchPageSettingsStrings.dateCreated}\n-        </MenuItem>\n-        <MenuItem value={SortOrder.NAME}>\n-          {searchPageSettingsStrings.title}\n-        </MenuItem>\n-        <MenuItem value={SortOrder.RATING}>\n-          {searchPageSettingsStrings.userRating}\n-        </MenuItem>\n-      </Select>\n-    </FormControl>\n+    <>", "originalCommit": "5194ba6976fc640ec1fefe6d0fbb20620b3409ff", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "81f021154bd14053e66fa2215e700616db9ef195", "url": "https://github.com/openequella/openEQUELLA/commit/81f021154bd14053e66fa2215e700616db9ef195", "message": "Merge branch 'component/search_configuration' into feature/rework_settings_page_UI", "committedDate": "2020-03-30T03:20:37Z", "type": "commit"}]}