{"pr_number": 2215, "pr_title": "chore(deps): update dependency typescript to v4", "pr_createdAt": "2020-08-21T04:03:05Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/2215", "timeline": [{"oid": "730c91e920dd2f2308b1d333dfb429999a37ac15", "url": "https://github.com/openequella/openEQUELLA/commit/730c91e920dd2f2308b1d333dfb429999a37ac15", "message": "chore(deps): update dependency typescript to v4", "committedDate": "2020-08-21T04:02:58Z", "type": "commit"}, {"oid": "b11527dda0bf5a7b3086282f32418b41d5fe2d49", "url": "https://github.com/openequella/openEQUELLA/commit/b11527dda0bf5a7b3086282f32418b41d5fe2d49", "message": "refactor: remove uses of delete on required properties", "committedDate": "2020-08-21T14:57:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc1NjY3Mw==", "url": "https://github.com/openequella/openEQUELLA/pull/2215#discussion_r474756673", "bodyText": "https://devblogs.microsoft.com/typescript/announcing-typescript-4-0/#operands-for-delete-must-be-optional", "author": "ChristianMurphy", "createdAt": "2020-08-21T15:05:14Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/legacycontent/JQueryDiv.tsx", "diffHunk": "@@ -34,21 +39,15 @@ export default React.memo(function JQueryDiv(props: JQueryDivProps) {\n     },\n     []\n   );\n-  const withoutOthers = {\n-    ...props,\n-  };\n-  delete withoutOthers.afterHtml;\n-  delete withoutOthers.script;\n-  delete withoutOthers.html;", "originalCommit": "b11527dda0bf5a7b3086282f32418b41d5fe2d49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc1Njc3MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2215#discussion_r474756770", "bodyText": "https://devblogs.microsoft.com/typescript/announcing-typescript-4-0/#operands-for-delete-must-be-optional", "author": "ChristianMurphy", "createdAt": "2020-08-21T15:05:21Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/facetedsearch/FacetedSearchSettingsModule.ts", "diffHunk": "@@ -89,9 +89,11 @@ export const validateFacetFields = (field: string): boolean => {\n /**\n  * Remove unneeded boolean fields.\n  */\n-export const removeFlags = (facet: FacetWithFlags): Facet => {\n-  delete facet.deleted;\n-  delete facet.updated;", "originalCommit": "b11527dda0bf5a7b3086282f32418b41d5fe2d49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI4MTQyMg==", "url": "https://github.com/openequella/openEQUELLA/pull/2215#discussion_r475281422", "bodyText": "It's interesting this doesn't trigger an unused variable error (for deleted and updated) with the linter. \ud83e\udd14", "author": "edalex-ian", "createdAt": "2020-08-23T23:31:36Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/facetedsearch/FacetedSearchSettingsModule.ts", "diffHunk": "@@ -89,9 +89,11 @@ export const validateFacetFields = (field: string): boolean => {\n /**\n  * Remove unneeded boolean fields.\n  */\n-export const removeFlags = (facet: FacetWithFlags): Facet => {\n-  delete facet.deleted;\n-  delete facet.updated;\n+export const removeFlags = ({\n+  deleted,\n+  updated,\n+  ...facet", "originalCommit": "b11527dda0bf5a7b3086282f32418b41d5fe2d49", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI5Mzg3Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/2215#discussion_r475293872", "bodyText": "I believe it has to do with https://eslint.org/docs/rules/no-unused-vars#args, the last part is used, so the others aren't flagged", "author": "ChristianMurphy", "createdAt": "2020-08-24T01:05:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI4MTQyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTMwNjQ3OQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2215#discussion_r475306479", "bodyText": "Oooh, that's nice. \ud83d\udc4d", "author": "edalex-ian", "createdAt": "2020-08-24T02:10:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI4MTQyMg=="}], "type": "inlineReview"}]}