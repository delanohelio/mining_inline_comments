{"pr_number": 2199, "pr_title": "EBP: improve contribution page text styling", "pr_createdAt": "2020-08-18T06:34:07Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/2199", "timeline": [{"oid": "68da9af1d4e7d927d46bb838b49402214fa9317c", "url": "https://github.com/openequella/openEQUELLA/commit/68da9af1d4e7d927d46bb838b49402214fa9317c", "message": "Add IDs to the contribution page template", "committedDate": "2020-08-18T01:39:42Z", "type": "commit"}, {"oid": "b5ce1b8f36d98eb87edccb603ddfb365001fa6e8", "url": "https://github.com/openequella/openEQUELLA/commit/b5ce1b8f36d98eb87edccb603ddfb365001fa6e8", "message": "Make contribution panel use material UI mixins", "committedDate": "2020-08-18T01:44:50Z", "type": "commit"}, {"oid": "dfe8a4ffe428cbf6e8fb664d8faf30fa53d45aac", "url": "https://github.com/openequella/openEQUELLA/commit/dfe8a4ffe428cbf6e8fb664d8faf30fa53d45aac", "message": "Update MUI mixins and apply them to the contribution panel text", "committedDate": "2020-08-18T06:28:48Z", "type": "commit"}, {"oid": "22b53fd1b26eb0c65d9b70d20ea22120ab52e1c5", "url": "https://github.com/openequella/openEQUELLA/commit/22b53fd1b26eb0c65d9b70d20ea22120ab52e1c5", "message": "Run formatter", "committedDate": "2020-08-18T06:33:22Z", "type": "commit"}, {"oid": "3f04e8ff5392d3fa8712bde3a0624d2eb8e0f37b", "url": "https://github.com/openequella/openEQUELLA/commit/3f04e8ff5392d3fa8712bde3a0624d2eb8e0f37b", "message": "use h6 for the link text", "committedDate": "2020-08-18T06:44:18Z", "type": "commit"}, {"oid": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "url": "https://github.com/openequella/openEQUELLA/commit/5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "message": "Increase padding on resumeables section", "committedDate": "2020-08-18T06:59:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472550339", "bodyText": "Shouldn't this be $primaryTextColor?\n(The menu colours should really only be used in the New UI menu.)", "author": "edalex-ian", "createdAt": "2020-08-18T23:33:42Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -1279,6 +1270,41 @@ div[class*=\"fancy-bg\"] {\n   display: none;\n }\n \n+#contribution_panel {\n+  span[class=\"resumable\"],\n+  span[class=\"removelink\"] {\n+    @include typography-body-1;\n+\n+    a {\n+      @include typography-body-1;\n+    }\n+\n+    abbr {\n+      @include typography-body-1;\n+    }\n+  }\n+\n+  h2 {\n+    @include typography-headline-5;\n+  }\n+\n+  table {\n+    thead > tr > th {\n+      @include typography-headline-6;\n+      color: $menuTextColor;", "originalCommit": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU5MDE3MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472590170", "bodyText": "Correct me if I'm wrong, but menuTextColor is the name of the variable that controls secondary text colour. I know that in your reworked theme page it is. I just wanted to use the secondary text color.", "author": "SammyIsConfused", "createdAt": "2020-08-19T01:56:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU5MDM5MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472590391", "bodyText": "When I originally did the theme editor I named the variables really badly, the menu text was the only thing that controlled at the time.", "author": "SammyIsConfused", "createdAt": "2020-08-19T01:57:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY1ODgyMg==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472658822", "bodyText": "Nope. There's a secondaryTextColor - which I think has been there for quite some time too. \ud83e\udd14", "author": "edalex-ian", "createdAt": "2020-08-19T03:58:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY2MjQ2MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472662460", "bodyText": "I really don't think that's true - are you sure it's not component you're thinking of?", "author": "SammyIsConfused", "createdAt": "2020-08-19T04:04:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY3NjM5NA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472676394", "bodyText": "I guess I've been misled by the UI:\n\nSo the question to you then is: What's \"Secondary Text Color\" vs \"Sidebar Text Color\".\nFrom the above screenshot and your above description are you saying you originally mapped menuTextColor to \"Secondary Text Color\", and menuItemTextColor to \"Sidebar Text Color\"?", "author": "edalex-ian", "createdAt": "2020-08-19T04:27:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY3Nzc1Nw==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472677757", "bodyText": "That's correct, yeah. I vaguely remember a discussion as to what to call them - since clients wouldn't know their way around MUI we named them based upon what changed when that setting changed.", "author": "SammyIsConfused", "createdAt": "2020-08-19T04:29:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY4MDMwNg==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472680306", "bodyText": "But it seems to have been done the other way around. The UI is show the clients the Material Design names, and then the data model has this odd name. At the very least, we're going to need to fix the data model.\nI guess though to get this over the line we're stuck with what is.", "author": "edalex-ian", "createdAt": "2020-08-19T04:33:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY4MTE3Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472681172", "bodyText": "They were renamed at some point - but we couldn't rename the variables themselves because they were stored in the DB as a JSON blob - it would have broken existing themes.", "author": "SammyIsConfused", "createdAt": "2020-08-19T04:35:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDMzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MDU3NA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472550574", "bodyText": "Shouldn't this be $primaryTextColor?\n(The menu colours should really only be used in the New UI menu.)", "author": "edalex-ian", "createdAt": "2020-08-18T23:34:20Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -1279,6 +1270,41 @@ div[class*=\"fancy-bg\"] {\n   display: none;\n }\n \n+#contribution_panel {\n+  span[class=\"resumable\"],\n+  span[class=\"removelink\"] {\n+    @include typography-body-1;\n+\n+    a {\n+      @include typography-body-1;\n+    }\n+\n+    abbr {\n+      @include typography-body-1;\n+    }\n+  }\n+\n+  h2 {\n+    @include typography-headline-5;\n+  }\n+\n+  table {\n+    thead > tr > th {\n+      @include typography-headline-6;\n+      color: $menuTextColor;\n+    }\n+\n+    tbody > tr > td {\n+      @include typography-body-1;\n+      color: $menuTextColor;", "originalCommit": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MTUyOQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472551529", "bodyText": "These are interesting, as seeing you've already got it on the parent span I'd expect it to flow through. Is this explicitly over ridding something?\nAlso, do you still need the @include at the parent level if you're mainly targetting these two?", "author": "edalex-ian", "createdAt": "2020-08-18T23:37:25Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -1279,6 +1270,41 @@ div[class*=\"fancy-bg\"] {\n   display: none;\n }\n \n+#contribution_panel {\n+  span[class=\"resumable\"],\n+  span[class=\"removelink\"] {\n+    @include typography-body-1;\n+\n+    a {\n+      @include typography-body-1;\n+    }\n+\n+    abbr {\n+      @include typography-body-1;", "originalCommit": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU5MjE1MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472592150", "bodyText": "The span has inner text, but it also has the link and the time tags in there. We have default CSS for abbr and a, it only seemed to work when I put it on both and the span itself.\nI could split it out of the hierarchy the perhaps make it easier to read?", "author": "SammyIsConfused", "createdAt": "2020-08-19T02:04:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MTUyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY2OTg3NQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472669875", "bodyText": "Readability is fine. Just wanted to ensure it was needed. All good. \ud83d\udc4d", "author": "edalex-ian", "createdAt": "2020-08-19T04:16:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MTUyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MjE5Mg==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472552192", "bodyText": "The original indenting here was correct.", "author": "edalex-ian", "createdAt": "2020-08-18T23:39:47Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -4806,8 +4942,9 @@ Login Notice Formatting\n *****************************************************************************/\n #loginNotice p {\n   font-family: \"Arial\", \"georgia\", \"impact\", \"Tahoma\", \"Times\", \"Verdana\",\n-    monospace;\n+  monospace;", "originalCommit": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MzQwNA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472553404", "bodyText": "Interesting. Our standard h2 typography is typography-headline-4. With all the other changes, have we re-reviewed this one to see if it's okay as 'standard'?", "author": "edalex-ian", "createdAt": "2020-08-18T23:43:47Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -1279,6 +1270,41 @@ div[class*=\"fancy-bg\"] {\n   display: none;\n }\n \n+#contribution_panel {\n+  span[class=\"resumable\"],\n+  span[class=\"removelink\"] {\n+    @include typography-body-1;\n+\n+    a {\n+      @include typography-body-1;\n+    }\n+\n+    abbr {\n+      @include typography-body-1;\n+    }\n+  }\n+\n+  h2 {\n+    @include typography-headline-5;", "originalCommit": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY4NTI1MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472685251", "bodyText": "Seems like the standard on component for this is headline-5 - where are you getting 4 from?", "author": "SammyIsConfused", "createdAt": "2020-08-19T04:41:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MzQwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY5MTU4MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472691581", "bodyText": "From this file you've edited. You see it here:\n\n  \n    \n      openEQUELLA/Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss\n    \n    \n         Line 1120\n      in\n      5ca1b1d\n    \n    \n    \n    \n\n        \n          \n           @include typography-headline-4; \n        \n    \n  \n\n\nAnd here:\n\n  \n    \n      openEQUELLA/Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss\n    \n    \n         Line 3508\n      in\n      5ca1b1d\n    \n    \n    \n    \n\n        \n          \n           @include typography-headline-4; \n        \n    \n  \n\n\nThe first one being the most important, as that's any h2 in the card equivalents.", "author": "edalex-ian", "createdAt": "2020-08-19T04:52:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MzQwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY5NDk5Nw==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472694997", "bodyText": "Ahhh I getcha now. Interesting.\nWell the review session we had the other day we saw it as headline-5. And it seems like the one used in the new UI in component is 5.\nWell, I could either change those two to lines 5 as well, or change mine to 4. Either way we'll need some new screenshots. Which would you suggest?", "author": "SammyIsConfused", "createdAt": "2020-08-19T04:57:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU1MzQwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MzAyMA==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472583020", "bodyText": "Do these need to be explicitly defined in each mixin? I thought the font-family rule here \n  \n    \n      openEQUELLA/Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss\n    \n    \n         Line 310\n      in\n      5ca1b1d\n    \n    \n    \n    \n\n        \n          \n           font-family: \"Roboto\"; \n        \n    \n  \n\n would be enough?", "author": "mrblippy", "createdAt": "2020-08-19T01:30:37Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -132,25 +132,19 @@ $activeBackgroundColor: transparentize(#000, 0.7);\n }\n \n @mixin typography-headline-5 {\n-  -moz-osx-font-smoothing: grayscale;\n-  -webkit-font-smoothing: antialiased;\n   font-size: 1.5rem;\n-  line-height: 2rem;\n+  font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;", "originalCommit": "5ca1b1da8ef4e9a6f1fba84d693a3fc28e9f2aea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MzUzNw==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472583537", "bodyText": "I just copied exactly what Material UI had.", "author": "SammyIsConfused", "createdAt": "2020-08-19T01:32:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MzAyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY4Mzg3OQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472683879", "bodyText": "Interesting. So, the font-family didn't work? (Was overridden?)\nIf we do need to repeat it, should probably be in a variable.", "author": "edalex-ian", "createdAt": "2020-08-19T04:39:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MzAyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY5MDEwMw==", "url": "https://github.com/openequella/openEQUELLA/pull/2199#discussion_r472690103", "bodyText": "It's removable - doing so now.\nIt was more I was copying the exact rulesets for each typography from MUI.", "author": "SammyIsConfused", "createdAt": "2020-08-19T04:49:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MzAyMA=="}], "type": "inlineReview"}, {"oid": "a6e4961c96660b5f06e4bbd7c9c728a607f4d683", "url": "https://github.com/openequella/openEQUELLA/commit/a6e4961c96660b5f06e4bbd7c9c728a607f4d683", "message": "Run formatter", "committedDate": "2020-08-19T01:48:53Z", "type": "commit"}, {"oid": "bf8ce4b4a427caaeabdcb815b2407de846a0df67", "url": "https://github.com/openequella/openEQUELLA/commit/bf8ce4b4a427caaeabdcb815b2407de846a0df67", "message": "Fix up whitespace", "committedDate": "2020-08-19T03:42:49Z", "type": "commit"}, {"oid": "b3a64fc4473b1b871af38cb1181aad2a2738bc0b", "url": "https://github.com/openequella/openEQUELLA/commit/b3a64fc4473b1b871af38cb1181aad2a2738bc0b", "message": "Let the css rules fall through to the a and abbr tags", "committedDate": "2020-08-19T04:20:50Z", "type": "commit"}, {"oid": "0f21f09ab50c4fb9d03c68f7a155f06764df4b3b", "url": "https://github.com/openequella/openEQUELLA/commit/0f21f09ab50c4fb9d03c68f7a155f06764df4b3b", "message": "Remove redundant font family rules", "committedDate": "2020-08-19T04:50:52Z", "type": "commit"}, {"oid": "1c758eb0ddf7667d05eb324f0bcc5a5ceab95678", "url": "https://github.com/openequella/openEQUELLA/commit/1c758eb0ddf7667d05eb324f0bcc5a5ceab95678", "message": "Make headline-5 the default for h2", "committedDate": "2020-08-19T05:50:11Z", "type": "commit"}]}