{"pr_number": 2557, "pr_title": "EBP: Improve styles for selection session item summary page", "pr_createdAt": "2020-11-26T03:49:32Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/2557", "timeline": [{"oid": "1fbdc71aafb293b7c5caf5327055b576579d8fd7", "url": "https://github.com/openequella/openEQUELLA/commit/1fbdc71aafb293b7c5caf5327055b576579d8fd7", "message": "Improve styles for selection session item summary page", "committedDate": "2020-11-26T03:32:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MjUyOA==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530772528", "bodyText": "That's a curious magical number. Is that a function of something?", "author": "edalex-ian", "createdAt": "2020-11-26T04:50:50Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -4703,6 +4705,7 @@ div#sssh_finishedButton {\n     justify-content: center;\n     align-items: flex-end;\n     @include typography-button;\n+    height: 25px;", "originalCommit": "1fbdc71aafb293b7c5caf5327055b576579d8fd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc4NTkzOQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530785939", "bodyText": "It was simply the minimum amount of height I could use such that the top of the text of the buttons wasn't cut off. It didn't arise from anything directly other than that - all I did was walk it down 1px at a time in the browser until the whole text was visible.", "author": "SammyIsConfused", "createdAt": "2020-11-26T05:45:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MjUyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MzgzNA==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530773834", "bodyText": "Mostly this file uses rem units when dealing with fonts and lines. Any chance we could do the same here? There's a chance the value may then (and probably should) correlate with one of the typography mixins.", "author": "edalex-ian", "createdAt": "2020-11-26T04:56:43Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -5474,3 +5482,34 @@ button:focus {\n #ed_fan {\n   width: 200px;\n }\n+\n+#selection-page #bluebar_help {\n+  margin-left: $doubleMargin;\n+  margin-bottom: $doubleMargin;\n+}\n+\n+#summary-details-tabs .nav.nav-tabs {\n+  width: 100%;\n+}\n+\n+.item-title-and-desc .selectitem button {\n+  @include roundButton;\n+  float: right;\n+  margin: 4px 0;\n+  &:not(:hover) {\n+    min-width: unset;\n+  }\n+  &:hover {\n+    font-size: 12px;", "originalCommit": "1fbdc71aafb293b7c5caf5327055b576579d8fd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc4OTY1MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530789651", "bodyText": "Yup, sure thing. I'll fix that up.", "author": "SammyIsConfused", "createdAt": "2020-11-26T05:59:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MzgzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI2NTAzMw==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r531265033", "bodyText": "3e424a4", "author": "SammyIsConfused", "createdAt": "2020-11-27T00:41:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MzgzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDExOA==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530774118", "bodyText": "This 97% rings a bell. We've seen that in here before and then seen it removed as it wasn't really needed - could've been somewhere else. But, it raises the question, do we need this and how fragile will that 3% buffer be?", "author": "edalex-ian", "createdAt": "2020-11-26T04:57:47Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -5474,3 +5482,34 @@ button:focus {\n #ed_fan {\n   width: 200px;\n }\n+\n+#selection-page #bluebar_help {\n+  margin-left: $doubleMargin;\n+  margin-bottom: $doubleMargin;\n+}\n+\n+#summary-details-tabs .nav.nav-tabs {\n+  width: 100%;\n+}\n+\n+.item-title-and-desc .selectitem button {\n+  @include roundButton;\n+  float: right;\n+  margin: 4px 0;\n+  &:not(:hover) {\n+    min-width: unset;\n+  }\n+  &:hover {\n+    font-size: 12px;\n+    padding-left: $singleMargin;\n+    padding-right: $singleMargin;\n+  }\n+}\n+\n+.itemsummary-layout .selection-lmscontent {\n+  margin-top: 63px;\n+}\n+\n+#selection-page .itemsummary-layout .comment-form textarea {\n+  width: 97%;", "originalCommit": "1fbdc71aafb293b7c5caf5327055b576579d8fd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc4OTIyNw==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530789227", "bodyText": "So what it was originally was 99% - if set to 100% then the comment section is flush with the edge of the card, with no margin which I assume is why 99 was chosen to give a bit of faux padding. However that seemed to be misaligned, it didn't line up with anything. Taking it back 2 percent on this page made it line up nicely. That doesn't apply however to the comment section in the regular item summary page - 97 is close to aligned there but slightly off, because that page doesn't have the selection panel and the widths are different. So it highlights fragility.\nSo yes - here it is needed, or an equivalent. But the way it is set up in general is kinda strange.", "author": "SammyIsConfused", "createdAt": "2020-11-26T05:57:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc4OTUxMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530789511", "bodyText": "I should note that this selector specifically applies to the comment section in a selection session in an item summary. It doesn't affect anywhere else.", "author": "SammyIsConfused", "createdAt": "2020-11-26T05:59:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDExOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDg1MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530774850", "bodyText": "Did you notice that 4px is now in this file 155 times! \ud83e\udd2f\nI wonder what it means. I can see it's half of $singleMargin but I'm not sure that's what it's representing. Feels more like it's a minimal buffer, minimal padding.... Not sure. \ud83e\udd14\nWouldn't it be great to tidy that up.", "author": "edalex-ian", "createdAt": "2020-11-26T05:01:01Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -99,6 +100,16 @@ $col2Width: 250px;\n     background-color: $activeBackgroundColor;\n   }\n }\n+@mixin roundButton {\n+  @include boxShadow;\n+  min-width: unset;\n+  border-radius: $roundButtonRadius;\n+  -moz-border-radius: $roundButtonRadius;\n+  -webkit-border-radius: $roundButtonRadius;\n+  line-height: 1.3rem;\n+  padding: 4px;", "originalCommit": "1fbdc71aafb293b7c5caf5327055b576579d8fd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc4MDA3OQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530780079", "bodyText": "155 times \ud83d\ude2e", "author": "PenghaiZhang", "createdAt": "2020-11-26T05:22:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDg1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc4NzkwNw==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r530787907", "bodyText": "Its actually 90 times - you need a space at the start of your CTRL F so that you don't include 84px, etc. Still though I see the point.\nI've scanned through them all and they are all used for padding and margins, with the odd exception of a border-radius every now and then.\nIf you'd like I could refactor this in this PR? Something like $halfMargin, $minimalPadding, $smallMargin, $minSpacingBuffer. I could just have another one for the border-radius stuff. $standardBorderRadius.", "author": "SammyIsConfused", "createdAt": "2020-11-26T05:52:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDg1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI2NTU1Mw==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r531265553", "bodyText": "728502b", "author": "SammyIsConfused", "createdAt": "2020-11-27T00:41:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3NDg1MA=="}], "type": "inlineReview"}, {"oid": "3e424a4ac33101c0c6532f8dd4accc7ef374ca5a", "url": "https://github.com/openequella/openEQUELLA/commit/3e424a4ac33101c0c6532f8dd4accc7ef374ca5a", "message": "Use typography-button for the roundButton mixin", "committedDate": "2020-11-27T00:18:14Z", "type": "commit"}, {"oid": "728502b450756a1e30f5cb4ada56394302391978", "url": "https://github.com/openequella/openEQUELLA/commit/728502b450756a1e30f5cb4ada56394302391978", "message": "Refactor 4px into variables", "committedDate": "2020-11-27T00:40:11Z", "type": "commit"}, {"oid": "8462dde91b341e8ecf0fb5c3973ea6e0769a6dad", "url": "https://github.com/openequella/openEQUELLA/commit/8462dde91b341e8ecf0fb5c3973ea6e0769a6dad", "message": "Fix typo", "committedDate": "2020-11-27T05:24:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTgwNTY3MA==", "url": "https://github.com/openequella/openEQUELLA/pull/2557#discussion_r531805670", "bodyText": "Doesn't roundButton now include uppercase?", "author": "edalex-ian", "createdAt": "2020-11-27T23:18:57Z", "path": "Source/Plugins/Core/com.equella.core/resources/web/sass/legacy.scss", "diffHunk": "@@ -2689,9 +2710,9 @@ html.wait {\n \n #sc_attachments_selectAllAttachmentButton:hover,\n #sc_attachments_selectPackageButton:hover {\n+  @include roundButton(true);\n+  text-transform: uppercase;", "originalCommit": "8462dde91b341e8ecf0fb5c3973ea6e0769a6dad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5c1ed98bed16079c4cf730dd54bb37a1624909ac", "url": "https://github.com/openequella/openEQUELLA/commit/5c1ed98bed16079c4cf730dd54bb37a1624909ac", "message": "Remove extraneous text-transform: uppercase", "committedDate": "2020-11-28T05:37:15Z", "type": "commit"}]}