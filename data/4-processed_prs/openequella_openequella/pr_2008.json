{"pr_number": 2008, "pr_title": "refactor: remove not null annotations", "pr_createdAt": "2020-07-07T02:55:52Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/2008", "timeline": [{"oid": "db5a032311148b498f412ddcc2fdc4577123fa75", "url": "https://github.com/openequella/openEQUELLA/commit/db5a032311148b498f412ddcc2fdc4577123fa75", "message": "build: update typescript eslint to flag non null assertions", "committedDate": "2020-08-10T23:54:29Z", "type": "commit"}, {"oid": "a05efe422f8ba5793d6613617969d61b752b6b3a", "url": "https://github.com/openequella/openEQUELLA/commit/a05efe422f8ba5793d6613617969d61b752b6b3a", "message": "refactor: replace non-null assertions with type checks", "committedDate": "2020-08-11T00:04:07Z", "type": "commit"}, {"oid": "a05efe422f8ba5793d6613617969d61b752b6b3a", "url": "https://github.com/openequella/openEQUELLA/commit/a05efe422f8ba5793d6613617969d61b752b6b3a", "message": "refactor: replace non-null assertions with type checks", "committedDate": "2020-08-11T00:04:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODI1OTE0Ng==", "url": "https://github.com/openequella/openEQUELLA/pull/2008#discussion_r468259146", "bodyText": "With this being duplicated, it feels like batchDelete should simply be taking a type which is a collection of objects with an id field which it then does the above transform on.\nAny chance you could include something like that?", "author": "edalex-ian", "createdAt": "2020-08-11T00:31:51Z", "path": "Source/Plugins/Core/com.equella.core/js/tsrc/settings/Search/searchfilter/SearchFilterSettingsPage.tsx", "diffHunk": "@@ -250,7 +250,12 @@ const SearchFilterPage = ({ updateTemplate }: TemplateUpdateProps) => {\n         (): Promise<any> =>\n           // Filters stored in 'deletedMimeTypeFilters' always have an ID.\n           deletedMimeTypeFilters.length\n-            ? batchDelete(deletedMimeTypeFilters.map((filter) => filter.id!))\n+            ? batchDelete(\n+                deletedMimeTypeFilters.map(({ id }) => {\n+                  if (!id) throw TypeError(\"id is undefined\");\n+                  return id;\n+                })", "originalCommit": "a05efe422f8ba5793d6613617969d61b752b6b3a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODI4MDg1MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2008#discussion_r468280851", "bodyText": "Something to note, the two batchDelete functions are named the same but are different.\nThey also input different types, you can take a look at what shared functionality would look like in ce8773b.\nWhile it is possible to share the functionality, it's moderately verbose to do so.\nI'd be fine keeping or reverting the change.", "author": "ChristianMurphy", "createdAt": "2020-08-11T01:52:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODI1OTE0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM1NzYxMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2008#discussion_r469357611", "bodyText": "Thoughts @edalex-ian? \ud83d\udcad", "author": "ChristianMurphy", "createdAt": "2020-08-12T15:43:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODI1OTE0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTY1NDcwMQ==", "url": "https://github.com/openequella/openEQUELLA/pull/2008#discussion_r469654701", "bodyText": "Aaaahhhhhh, I see I see I see. Also needs to be moved out into the REST library.\nOkay, I like what you've done. \ud83d\udc4d", "author": "edalex-ian", "createdAt": "2020-08-13T02:08:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODI1OTE0Ng=="}], "type": "inlineReview"}, {"oid": "ce8773bbb38d0d5e38abe4d36b2a859047924676", "url": "https://github.com/openequella/openEQUELLA/commit/ce8773bbb38d0d5e38abe4d36b2a859047924676", "message": "refactor: share id functionality", "committedDate": "2020-08-11T01:49:39Z", "type": "commit"}]}