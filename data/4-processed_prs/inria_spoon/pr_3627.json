{"pr_number": 3627, "pr_title": "test: Add testcases for Text Blocks introduced in Java 15", "pr_createdAt": "2020-10-02T13:28:40Z", "pr_url": "https://github.com/INRIA/spoon/pull/3627", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNjU5Mg==", "url": "https://github.com/INRIA/spoon/pull/3627#discussion_r498826592", "bodyText": "split it in 3 testcases?", "author": "MartinWitt", "createdAt": "2020-10-02T13:37:56Z", "path": "src/test/java/spoon/test/textBlocks/TextBlockTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package spoon.test.textBlocks;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.junit.Test;\n+\n+import spoon.Launcher;\n+import spoon.reflect.code.CtInvocation;\n+import spoon.reflect.code.CtLiteral;\n+import spoon.reflect.code.CtStatement;\n+import spoon.reflect.code.CtTry;\n+import spoon.reflect.declaration.CtClass;\n+import spoon.reflect.declaration.CtMethod;\n+\n+public class TextBlockTest{\n+\tprivate Launcher setUpTest() {\n+\t\tLauncher launcher = new Launcher();\n+\t\tlauncher.addInputResource(\"./src/test/resources/textBlock/TextBlockTestClass.java\");\n+\t\tlauncher.run();\n+\t\treturn launcher;\n+\t}\n+\t\n+\t@Test\n+\tpublic void testTextBlock(){", "originalCommit": "27a6cb946171c0424e21890f2c4a9f87f156bd9f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNzE2Ng==", "url": "https://github.com/INRIA/spoon/pull/3627#discussion_r498827166", "bodyText": "maybe use TypeFilter for more stable. Get(Number) is pretty unstable for a testcase. If we change order in any future case", "author": "MartinWitt", "createdAt": "2020-10-02T13:38:59Z", "path": "src/test/java/spoon/test/textBlocks/TextBlockTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package spoon.test.textBlocks;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.junit.Test;\n+\n+import spoon.Launcher;\n+import spoon.reflect.code.CtInvocation;\n+import spoon.reflect.code.CtLiteral;\n+import spoon.reflect.code.CtStatement;\n+import spoon.reflect.code.CtTry;\n+import spoon.reflect.declaration.CtClass;\n+import spoon.reflect.declaration.CtMethod;\n+\n+public class TextBlockTest{\n+\tprivate Launcher setUpTest() {\n+\t\tLauncher launcher = new Launcher();\n+\t\tlauncher.addInputResource(\"./src/test/resources/textBlock/TextBlockTestClass.java\");\n+\t\tlauncher.run();\n+\t\treturn launcher;\n+\t}\n+\t\n+\t@Test\n+\tpublic void testTextBlock(){\n+\t\tLauncher launcher = setUpTest();\n+\t\tCtClass<?> allstmt = (CtClass<?>) launcher.getFactory().Type().get(\"textBlock.TextBlockTestClass\");\n+\t\tCtMethod<?> m1 =  allstmt.getMethod(\"m1\");\n+\t\tCtStatement stmt1 = m1.getBody().getStatement(0);\n+\t\tCtLiteral l1 = (CtLiteral) stmt1.getDirectChildren().get(1);", "originalCommit": "27a6cb946171c0424e21890f2c4a9f87f156bd9f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNzc5Mg==", "url": "https://github.com/INRIA/spoon/pull/3627#discussion_r498827792", "bodyText": "In Spoon every testcase has a comment //contract: ... describing the testcase in natural language", "author": "MartinWitt", "createdAt": "2020-10-02T13:40:03Z", "path": "src/test/java/spoon/test/textBlocks/TextBlockTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package spoon.test.textBlocks;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.junit.Test;\n+\n+import spoon.Launcher;\n+import spoon.reflect.code.CtInvocation;\n+import spoon.reflect.code.CtLiteral;\n+import spoon.reflect.code.CtStatement;\n+import spoon.reflect.code.CtTry;\n+import spoon.reflect.declaration.CtClass;\n+import spoon.reflect.declaration.CtMethod;\n+\n+public class TextBlockTest{\n+\tprivate Launcher setUpTest() {\n+\t\tLauncher launcher = new Launcher();\n+\t\tlauncher.addInputResource(\"./src/test/resources/textBlock/TextBlockTestClass.java\");\n+\t\tlauncher.run();\n+\t\treturn launcher;\n+\t}\n+\t\n+\t@Test\n+\tpublic void testTextBlock(){", "originalCommit": "27a6cb946171c0424e21890f2c4a9f87f156bd9f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3c268c248b7e3640628263f667106e6b92053693", "url": "https://github.com/INRIA/spoon/commit/3c268c248b7e3640628263f667106e6b92053693", "message": "Add testcases for Text Block introduced in Java 15", "committedDate": "2020-10-03T04:59:08Z", "type": "commit"}, {"oid": "a3b8e229f4a30264a8a397e963134185b2f60b46", "url": "https://github.com/INRIA/spoon/commit/a3b8e229f4a30264a8a397e963134185b2f60b46", "message": "Add contract comment for testcases and split testcases among multiple tests", "committedDate": "2020-10-03T04:59:08Z", "type": "commit"}, {"oid": "1dff2425e4e84d41e647c7a51597fe6895023baa", "url": "https://github.com/INRIA/spoon/commit/1dff2425e4e84d41e647c7a51597fe6895023baa", "message": "Add Unicode and empty text test", "committedDate": "2020-10-03T04:59:08Z", "type": "commit"}, {"oid": "1dff2425e4e84d41e647c7a51597fe6895023baa", "url": "https://github.com/INRIA/spoon/commit/1dff2425e4e84d41e647c7a51597fe6895023baa", "message": "Add Unicode and empty text test", "committedDate": "2020-10-03T04:59:08Z", "type": "forcePushed"}, {"oid": "973819bf56030cfd8e58482eea9244107ad7d012", "url": "https://github.com/INRIA/spoon/commit/973819bf56030cfd8e58482eea9244107ad7d012", "message": "Add Unicode 13 emoji", "committedDate": "2020-10-03T09:57:04Z", "type": "commit"}, {"oid": "b35f381523835fdc7bc9c6d1304a08a709f41c27", "url": "https://github.com/INRIA/spoon/commit/b35f381523835fdc7bc9c6d1304a08a709f41c27", "message": "Update TextBlockTest.java", "committedDate": "2020-10-04T04:32:29Z", "type": "commit"}, {"oid": "1a75a877f31e919c8d93a82aa5b12abe90ce64a4", "url": "https://github.com/INRIA/spoon/commit/1a75a877f31e919c8d93a82aa5b12abe90ce64a4", "message": "Update TextBlockTest.java", "committedDate": "2020-10-04T04:37:13Z", "type": "commit"}, {"oid": "d23a20de0d82062fcc7008ec1e9b2b5955c61cc9", "url": "https://github.com/INRIA/spoon/commit/d23a20de0d82062fcc7008ec1e9b2b5955c61cc9", "message": "Update TextBlockTest.java", "committedDate": "2020-10-04T04:41:33Z", "type": "commit"}]}