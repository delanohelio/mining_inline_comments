{"pr_number": 3635, "pr_title": "test: add test case for checking if all private methods are used.", "pr_createdAt": "2020-10-05T22:30:04Z", "pr_url": "https://github.com/INRIA/spoon/pull/3635", "timeline": [{"oid": "93c8d10f1f36f738506fcd58ed7e2a91f23aae68", "url": "https://github.com/INRIA/spoon/commit/93c8d10f1f36f738506fcd58ed7e2a91f23aae68", "message": "add test case for checking if all private methods are used.", "committedDate": "2020-10-05T22:28:27Z", "type": "commit"}, {"oid": "93c8d10f1f36f738506fcd58ed7e2a91f23aae68", "url": "https://github.com/INRIA/spoon/commit/93c8d10f1f36f738506fcd58ed7e2a91f23aae68", "message": "add test case for checking if all private methods are used.", "committedDate": "2020-10-05T22:28:27Z", "type": "forcePushed"}, {"oid": "93c8d10f1f36f738506fcd58ed7e2a91f23aae68", "url": "https://github.com/INRIA/spoon/commit/93c8d10f1f36f738506fcd58ed7e2a91f23aae68", "message": "add test case for checking if all private methods are used.", "committedDate": "2020-10-05T22:28:27Z", "type": "forcePushed"}, {"oid": "83d9fb4ce13244ff7197431def5fd196d586eeac", "url": "https://github.com/INRIA/spoon/commit/83d9fb4ce13244ff7197431def5fd196d586eeac", "message": "fix license header", "committedDate": "2020-10-06T16:21:05Z", "type": "commit"}, {"oid": "830cb3edb0e0a8d5080749cac52b5d4f99740742", "url": "https://github.com/INRIA/spoon/commit/830cb3edb0e0a8d5080749cac52b5d4f99740742", "message": "Merge branch 'master' into arch/unusedMethods", "committedDate": "2020-10-06T16:23:59Z", "type": "commit"}, {"oid": "4ceae8ba29ce194290ad7b6a34541e12cfeebe56", "url": "https://github.com/INRIA/spoon/commit/4ceae8ba29ce194290ad7b6a34541e12cfeebe56", "message": "remove unused method", "committedDate": "2020-10-07T12:21:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwNTE1OA==", "url": "https://github.com/INRIA/spoon/pull/3635#discussion_r501105158", "bodyText": "getTypeName to be removed", "author": "monperrus", "createdAt": "2020-10-07T15:27:24Z", "path": "src/test/java/spoon/test/architecture/SpoonArchitectureEnforcerTest.java", "diffHunk": "@@ -465,6 +472,39 @@ private static String computeDifference(Set<?> set1, Set<?> set2) {\n \t\t}\n \t\treturn StringUtils.join(results, \"\\n\");\n \t}\n+\n+\n+\tprivate void checkPrivateMethodInvocations(CtModel model) {\n+\t\tList<CtMethod<?>> methods = model.getElements(new TypeFilter<>(CtMethod.class));\n+\t\t// only look at private methods\n+\t\tmethods.removeIf(v -> !v.isPrivate());\n+\t\t// remove methods for serialization gods\n+\t\tmethods.removeIf(v -> v.getSimpleName().matches(\"(readObject)|(readResolve)|(getTypeName)\"));", "originalCommit": "4ceae8ba29ce194290ad7b6a34541e12cfeebe56", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cf1ae374e660d7fa1137e08f442ef0f226af5623", "url": "https://github.com/INRIA/spoon/commit/cf1ae374e660d7fa1137e08f442ef0f226af5623", "message": "remove gettypeName from allowed unused methods", "committedDate": "2020-10-07T15:54:26Z", "type": "commit"}]}