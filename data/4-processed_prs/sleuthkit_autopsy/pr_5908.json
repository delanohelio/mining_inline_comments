{"pr_number": 5908, "pr_title": "1457 Add TagSet submenus", "pr_createdAt": "2020-05-21T20:56:20Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5908", "timeline": [{"oid": "f88388ac2e9e7e35283f4f9ec4b8e5a02de528ef", "url": "https://github.com/sleuthkit/autopsy/commit/f88388ac2e9e7e35283f4f9ec4b8e5a02de528ef", "message": "Added TagSet submenus and added TagSet name to TagName were applicable", "committedDate": "2020-05-21T20:49:44Z", "type": "commit"}, {"oid": "3c3136392acbc033247e03d8fac4b4902f76d317", "url": "https://github.com/sleuthkit/autopsy/commit/3c3136392acbc033247e03d8fac4b4902f76d317", "message": "Merge branch '1467-add-rank-to-tag-names-table' into 1457-Add-Tag-Set-To-Tag-UI", "committedDate": "2020-05-26T14:43:16Z", "type": "commit"}, {"oid": "2c8fdf3c50198afb54aebd573be74ed020371637", "url": "https://github.com/sleuthkit/autopsy/commit/2c8fdf3c50198afb54aebd573be74ed020371637", "message": "Moving the tag files back to the services package", "committedDate": "2020-05-26T18:35:48Z", "type": "commit"}, {"oid": "c76c82368bdd179f35b999526982953eb84dda26", "url": "https://github.com/sleuthkit/autopsy/commit/c76c82368bdd179f35b999526982953eb84dda26", "message": "Merge branch 'develop' into 1457-Add-Tag-Set-To-Tag-UI", "committedDate": "2020-05-26T18:36:47Z", "type": "commit"}, {"oid": "0ba42f1d4eb87f44e2422bb133d7a24e24021a98", "url": "https://github.com/sleuthkit/autopsy/commit/0ba42f1d4eb87f44e2422bb133d7a24e24021a98", "message": "Finished cleaning up from the file move", "committedDate": "2020-05-26T18:44:26Z", "type": "commit"}, {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75", "url": "https://github.com/sleuthkit/autopsy/commit/9f08d3bed0544d45ba5c3549b9c4edbcd375ef75", "message": "Fixed codacy issues", "committedDate": "2020-05-28T14:35:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0ODcyMA==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432048720", "bodyText": "Could this be changed to Objects.equals(tagNameSelections.get(tagName), true) to avoid a possible NPE?", "author": "gdicristofaro", "createdAt": "2020-05-28T18:49:51Z", "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -79,13 +76,13 @@ public void mousePressed(MouseEvent evt) {\n                 JList<?> list = (JList) evt.getSource();\n                 int index = list.locationToIndex(evt.getPoint());\n                 if (index > -1) {\n-                    String value = tagsNamesListModel.getElementAt(index);\n-                    tagNameSelections.put(value, !tagNameSelections.get(value));\n+                    TagName tagName = tagsNamesListModel.getElementAt(index);\n+                    tagNameSelections.put(tagName, !tagNameSelections.get(tagName));", "originalCommit": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE5MTAxNQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432191015", "bodyText": "This code is a little weird and needs more clean up than I did.  But its not possible to have an NPE, tagNameSelections and tagsNamesListModel are populated from the same list.  Eventually if someone has more time I think all the extra lists include TagNameSelections could be removed.", "author": "kellykelly3", "createdAt": "2020-05-29T00:13:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0ODcyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0OTU4MQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432049581", "bodyText": "if (Objects.equals(tagNameSelections.get(tagName))) {", "author": "gdicristofaro", "createdAt": "2020-05-28T18:51:20Z", "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -187,7 +187,7 @@ private void populateHashSetComponents() {\n     List<TagName> getSelectedTagNames() {\n         List<TagName> selectedTagNames = new ArrayList<>();\n         for (TagName tagName : tagNames) {\n-            if (tagNameSelections.get(tagName.getDisplayName())) {\n+            if (tagNameSelections.get(tagName)) {", "originalCommit": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE5MTExNA==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432191114", "bodyText": "Same as above.", "author": "kellykelly3", "createdAt": "2020-05-29T00:14:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0OTU4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA1MDAxMg==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432050012", "bodyText": "Objects.equals", "author": "gdicristofaro", "createdAt": "2020-05-28T18:52:02Z", "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -208,41 +208,20 @@ HashDb getSelectedHashDatabase() {\n         return null;\n     }\n \n-    // This class is a list model for the tag names JList component.\n-    private class TagNamesListModel implements ListModel<String> {\n-\n-        @Override\n-        public int getSize() {\n-            return tagNames.size();\n-        }\n-\n-        @Override\n-        public String getElementAt(int index) {\n-            return tagNames.get(index).getDisplayName();\n-        }\n-\n-        @Override\n-        public void addListDataListener(ListDataListener l) {\n-        }\n-\n-        @Override\n-        public void removeListDataListener(ListDataListener l) {\n-        }\n-    }\n-\n     // This class renders the items in the tag names JList component as JCheckbox components.\n-    private class TagsNamesListCellRenderer extends JCheckBox implements ListCellRenderer<String> {\n+    private class TagsNamesListCellRenderer extends JCheckBox implements ListCellRenderer<TagName> {\n+\n         private static final long serialVersionUID = 1L;\n \n         @Override\n-        public Component getListCellRendererComponent(JList<? extends String> list, String value, int index, boolean isSelected, boolean cellHasFocus) {\n+        public Component getListCellRendererComponent(JList<? extends TagName> list, TagName value, int index, boolean isSelected, boolean cellHasFocus) {\n             if (value != null) {\n                 setEnabled(list.isEnabled());\n                 setSelected(tagNameSelections.get(value));", "originalCommit": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE5MTEzNA==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432191134", "bodyText": "Same as above.", "author": "kellykelly3", "createdAt": "2020-05-29T00:14:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA1MDAxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432072745", "bodyText": "It looks like these are decorated right, but they are not ordered.  Is that a problem?", "author": "gdicristofaro", "createdAt": "2020-05-28T19:35:02Z", "path": "Core/src/org/sleuthkit/autopsy/actions/GetTagNameAndCommentDialog.java", "diffHunk": "@@ -128,8 +128,7 @@ private void display() {\n \n             @Override\n             public Component getListCellRendererComponent(JList<?> list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n-                String status = ((TagName) value).getKnownStatus() == TskData.FileKnown.BAD ? TagsManager.getNotableTagLabel() : \"\";\n-                String newValue = ((TagName) value).getDisplayName() + status;\n+                String newValue = TagUtils.getDecoratedTagDisplayName((TagName) value);", "originalCommit": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3NjM0Nw==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432076347", "bodyText": "The rendered is not involved in order.", "author": "kellykelly3", "createdAt": "2020-05-28T19:42:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTMxMA==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432081310", "bodyText": "Sorry, I didn't have a better place to put the comment, but I don't this class is ordering the items that are are displayed in the drop down for the tag and comment dialog.  I'm thinking closer to 161 should probably be ordered if ordering needs to be applied to this list as well.  I'm also realizing that is probably more in reference to another PR where that was the issue at hand.  Sorry for the confusion on my part.", "author": "gdicristofaro", "createdAt": "2020-05-28T19:49:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA5NjYwOQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432096609", "bodyText": "Line 159, it gets the map and then puts it into a tree which puts the tags in alphabetical order.", "author": "kellykelly3", "createdAt": "2020-05-28T20:12:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ=="}], "type": "inlineReview"}, {"oid": "fae5bfa097ef231c805119079aa4542823b16c99", "url": "https://github.com/sleuthkit/autopsy/commit/fae5bfa097ef231c805119079aa4542823b16c99", "message": "Merge branch 'develop' into 1457-Add-Tag-Set-To-Tag-UI", "committedDate": "2020-05-28T20:26:34Z", "type": "commit"}, {"oid": "ef5ec8db4036de36b5e4069d9b0feb95aeb1d397", "url": "https://github.com/sleuthkit/autopsy/commit/ef5ec8db4036de36b5e4069d9b0feb95aeb1d397", "message": "Fixed bug that Greg found", "committedDate": "2020-05-29T00:43:04Z", "type": "commit"}]}