{"pr_number": 5894, "pr_title": "6354 Personas name search", "pr_createdAt": "2020-05-13T21:23:43Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5894", "timeline": [{"oid": "f813ff09d3e561bf6ef4ed7ed947beb1153278a5", "url": "https://github.com/sleuthkit/autopsy/commit/f813ff09d3e561bf6ef4ed7ed947beb1153278a5", "message": "6354 Hooked up Name search", "committedDate": "2020-05-12T14:23:44Z", "type": "commit"}, {"oid": "88638933bbc609353fe8ef34593e46e49891a026", "url": "https://github.com/sleuthkit/autopsy/commit/88638933bbc609353fe8ef34593e46e49891a026", "message": "Merge branch 'develop' into 6354_Personas_name_search", "committedDate": "2020-05-13T20:19:55Z", "type": "commit"}, {"oid": "3c242485fec3b151b86c1e1ffe776234d18f791c", "url": "https://github.com/sleuthkit/autopsy/commit/3c242485fec3b151b86c1e1ffe776234d18f791c", "message": "6354 Formatting issues and splitting details into separate window", "committedDate": "2020-05-13T21:19:01Z", "type": "commit"}, {"oid": "fe23a400f45da1d6880783f56ebbd4e2388ed31b", "url": "https://github.com/sleuthkit/autopsy/commit/fe23a400f45da1d6880783f56ebbd4e2388ed31b", "message": "6354 Cleanup", "committedDate": "2020-05-13T21:23:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwMzUzNQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5894#discussion_r425103535", "bodyText": "I'm getting a build error.  PTopComponent_Name is key is being duplicated in two files.\nwarning: Supported source version 'RELEASE_7' from annotation processor 'org.netbeans.modules.openide.util.NbBundleProcessor' less than -source '1.8'\nC:\\Basis\\Code\\autopsy\\Core\\src\\org\\sleuthkit\\autopsy\\persona\\PersonaSearchTopComponent.java:49: error: Duplicate key: PTopComponent_Name\npublic PersonaSearchTopComponent() {\nC:\\Basis\\Code\\autopsy\\Core\\src\\org\\sleuthkit\\autopsy\\persona\\PersonaDetailsTopComponent.java:38: error: Duplicate key: PTopComponent_Name\npublic PersonaDetailsTopComponent() {", "author": "raman-bt", "createdAt": "2020-05-14T12:39:35Z", "path": "Core/src/org/sleuthkit/autopsy/persona/PersonaDetailsTopComponent.java", "diffHunk": "@@ -18,35 +18,28 @@\n  */\n package org.sleuthkit.autopsy.persona;\n \n+import org.openide.windows.TopComponent;\n import org.openide.util.NbBundle.Messages;\n import org.openide.windows.RetainLocation;\n-import org.openide.windows.TopComponent;\n import org.openide.windows.WindowManager;\n \n /**\n- * Top component for the Personas tool\n- *\n+ * Top component for persona details\n  */\n @TopComponent.Description(preferredID = \"PersonasTopComponent\", persistenceType = TopComponent.PERSISTENCE_NEVER)\n-@TopComponent.Registration(mode = \"personas\", openAtStartup = false)\n-@RetainLocation(\"personas\")\n+@TopComponent.Registration(mode = \"personadetails\", openAtStartup = false)\n+@RetainLocation(\"personadetails\")\n @SuppressWarnings(\"PMD.SingularField\")\n-public final class PersonasTopComponent extends TopComponent {\n+public final class PersonaDetailsTopComponent extends TopComponent {\n \n     @Messages({\n-        \"PTopComponent_Name=Personas\"\n+        \"PTopComponent_Name=Persona Details\"", "originalCommit": "fe23a400f45da1d6880783f56ebbd4e2388ed31b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "147d7535d17fbd4c6261a16b70b7fd71db18fea2", "url": "https://github.com/sleuthkit/autopsy/commit/147d7535d17fbd4c6261a16b70b7fd71db18fea2", "message": "6354 Fixing errors + Codacy", "committedDate": "2020-05-14T14:41:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIxOTk1OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5894#discussion_r425219959", "bodyText": "This class could be final", "author": "raman-bt", "createdAt": "2020-05-14T15:19:50Z", "path": "Core/src/org/sleuthkit/autopsy/persona/PersonaSearchTopComponent.java", "diffHunk": "@@ -0,0 +1,217 @@\n+/*\n+ * Autopsy Forensic Browser\n+ *\n+ * Copyright 2020 Basis Technology Corp.\n+ * Contact: carrier <at> sleuthkit <dot> org\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.sleuthkit.autopsy.persona;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.util.Collection;\n+import java.util.Collections;\n+import javax.swing.JTable;\n+import javax.swing.ListSelectionModel;\n+import javax.swing.table.DefaultTableModel;\n+import org.openide.util.Exceptions;\n+import org.openide.util.NbBundle.Messages;\n+import org.openide.windows.RetainLocation;\n+import org.openide.windows.TopComponent;\n+import org.openide.windows.WindowManager;\n+import org.sleuthkit.autopsy.centralrepository.datamodel.CentralRepoException;\n+import org.sleuthkit.autopsy.centralrepository.datamodel.Persona;\n+\n+/**\n+ * Top component for the Personas tool\n+ *\n+ */\n+@TopComponent.Description(preferredID = \"PersonasTopComponent\", persistenceType = TopComponent.PERSISTENCE_NEVER)\n+@TopComponent.Registration(mode = \"personasearch\", openAtStartup = false)\n+@RetainLocation(\"personasearch\")\n+@SuppressWarnings(\"PMD.SingularField\")\n+public final class PersonaSearchTopComponent extends TopComponent {\n+\n+    @Messages({\n+        \"PSTopComponent_Name=Persona Search\"\n+    })\n+    public PersonaSearchTopComponent() {\n+        initComponents();\n+        setName(Bundle.PSTopComponent_Name());\n+        executeSearch();\n+\n+        searchBtn.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                executeSearch();\n+            }\n+        });\n+    }\n+   \n+    /**\n+     * Table model for the persona search results\n+     */\n+    class PersonaFilterTableModel extends DefaultTableModel {", "originalCommit": "147d7535d17fbd4c6261a16b70b7fd71db18fea2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIyMDIxMg==", "url": "https://github.com/sleuthkit/autopsy/pull/5894#discussion_r425220212", "bodyText": "this method can be private.", "author": "raman-bt", "createdAt": "2020-05-14T15:20:09Z", "path": "Core/src/org/sleuthkit/autopsy/persona/PersonaSearchTopComponent.java", "diffHunk": "@@ -0,0 +1,217 @@\n+/*\n+ * Autopsy Forensic Browser\n+ *\n+ * Copyright 2020 Basis Technology Corp.\n+ * Contact: carrier <at> sleuthkit <dot> org\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.sleuthkit.autopsy.persona;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.util.Collection;\n+import java.util.Collections;\n+import javax.swing.JTable;\n+import javax.swing.ListSelectionModel;\n+import javax.swing.table.DefaultTableModel;\n+import org.openide.util.Exceptions;\n+import org.openide.util.NbBundle.Messages;\n+import org.openide.windows.RetainLocation;\n+import org.openide.windows.TopComponent;\n+import org.openide.windows.WindowManager;\n+import org.sleuthkit.autopsy.centralrepository.datamodel.CentralRepoException;\n+import org.sleuthkit.autopsy.centralrepository.datamodel.Persona;\n+\n+/**\n+ * Top component for the Personas tool\n+ *\n+ */\n+@TopComponent.Description(preferredID = \"PersonasTopComponent\", persistenceType = TopComponent.PERSISTENCE_NEVER)\n+@TopComponent.Registration(mode = \"personasearch\", openAtStartup = false)\n+@RetainLocation(\"personasearch\")\n+@SuppressWarnings(\"PMD.SingularField\")\n+public final class PersonaSearchTopComponent extends TopComponent {\n+\n+    @Messages({\n+        \"PSTopComponent_Name=Persona Search\"\n+    })\n+    public PersonaSearchTopComponent() {\n+        initComponents();\n+        setName(Bundle.PSTopComponent_Name());\n+        executeSearch();\n+\n+        searchBtn.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                executeSearch();\n+            }\n+        });\n+    }\n+   \n+    /**\n+     * Table model for the persona search results\n+     */\n+    class PersonaFilterTableModel extends DefaultTableModel {\n+        private static final long serialVersionUID = 1L;\n+\n+        PersonaFilterTableModel(Object[][] rows, String[] colNames) {\n+            super(rows, colNames);\n+        }\n+\n+        @Override\n+        public boolean isCellEditable(int row, int column) {\n+            return false;\n+        }\n+    }\n+\n+    void updateResultsTable(Collection<Persona> results) {", "originalCommit": "147d7535d17fbd4c6261a16b70b7fd71db18fea2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIyMDM5Nw==", "url": "https://github.com/sleuthkit/autopsy/pull/5894#discussion_r425220397", "bodyText": "this method could be private", "author": "raman-bt", "createdAt": "2020-05-14T15:20:24Z", "path": "Core/src/org/sleuthkit/autopsy/persona/PersonaSearchTopComponent.java", "diffHunk": "@@ -0,0 +1,217 @@\n+/*\n+ * Autopsy Forensic Browser\n+ *\n+ * Copyright 2020 Basis Technology Corp.\n+ * Contact: carrier <at> sleuthkit <dot> org\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.sleuthkit.autopsy.persona;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.util.Collection;\n+import java.util.Collections;\n+import javax.swing.JTable;\n+import javax.swing.ListSelectionModel;\n+import javax.swing.table.DefaultTableModel;\n+import org.openide.util.Exceptions;\n+import org.openide.util.NbBundle.Messages;\n+import org.openide.windows.RetainLocation;\n+import org.openide.windows.TopComponent;\n+import org.openide.windows.WindowManager;\n+import org.sleuthkit.autopsy.centralrepository.datamodel.CentralRepoException;\n+import org.sleuthkit.autopsy.centralrepository.datamodel.Persona;\n+\n+/**\n+ * Top component for the Personas tool\n+ *\n+ */\n+@TopComponent.Description(preferredID = \"PersonasTopComponent\", persistenceType = TopComponent.PERSISTENCE_NEVER)\n+@TopComponent.Registration(mode = \"personasearch\", openAtStartup = false)\n+@RetainLocation(\"personasearch\")\n+@SuppressWarnings(\"PMD.SingularField\")\n+public final class PersonaSearchTopComponent extends TopComponent {\n+\n+    @Messages({\n+        \"PSTopComponent_Name=Persona Search\"\n+    })\n+    public PersonaSearchTopComponent() {\n+        initComponents();\n+        setName(Bundle.PSTopComponent_Name());\n+        executeSearch();\n+\n+        searchBtn.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                executeSearch();\n+            }\n+        });\n+    }\n+   \n+    /**\n+     * Table model for the persona search results\n+     */\n+    class PersonaFilterTableModel extends DefaultTableModel {\n+        private static final long serialVersionUID = 1L;\n+\n+        PersonaFilterTableModel(Object[][] rows, String[] colNames) {\n+            super(rows, colNames);\n+        }\n+\n+        @Override\n+        public boolean isCellEditable(int row, int column) {\n+            return false;\n+        }\n+    }\n+\n+    void updateResultsTable(Collection<Persona> results) {\n+        Object[][] rows = new Object[results.size()][2];\n+        int i = 0;\n+        for (Persona result : results) {\n+            rows[i] = new String[]{String.valueOf(result.getId()), result.getName()};\n+            i++;\n+        }\n+        DefaultTableModel updatedTableModel = new PersonaFilterTableModel(\n+                rows,\n+                new String[]{\"ID\", \"Name\"}\n+        );\n+\n+        filterResultsTable.setModel(updatedTableModel);\n+        \n+        // Formatting\n+        filterResultsTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n+        filterResultsTable.getColumnModel().getColumn(0).setMaxWidth(100);\n+        filterResultsTable.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\n+    }\n+\n+    void executeSearch() {\n+        Collection<Persona> results = Collections.EMPTY_LIST;", "originalCommit": "147d7535d17fbd4c6261a16b70b7fd71db18fea2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9dd0eb0109c2b9c39c3750d78065a6dcd2a92dfd", "url": "https://github.com/sleuthkit/autopsy/commit/9dd0eb0109c2b9c39c3750d78065a6dcd2a92dfd", "message": "6354 PR comments", "committedDate": "2020-05-15T14:50:06Z", "type": "commit"}]}