{"pr_number": 6341, "pr_title": "6890-Additional-errors-when-ingesting-multi-user-case", "pr_createdAt": "2020-09-25T15:59:07Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/6341", "timeline": [{"oid": "f1aa3c3db5ec40a31b8d900bb89df0cc3e811ced", "url": "https://github.com/sleuthkit/autopsy/commit/f1aa3c3db5ec40a31b8d900bb89df0cc3e811ced", "message": "Update Chromium.java\n\nAdded path to help narrow file search and removed wildcard's from browser files that do not need them.", "committedDate": "2020-09-25T15:56:40Z", "type": "commit"}, {"oid": "b8090150d38b2ed158080e8999b0ec7c5b7b6636", "url": "https://github.com/sleuthkit/autopsy/commit/b8090150d38b2ed158080e8999b0ec7c5b7b6636", "message": "Update Chromium.java\n\nSee what codacy will come back with", "committedDate": "2020-09-25T19:09:03Z", "type": "commit"}, {"oid": "cf5ae9154227b1a9b42eab97464a925d561457a4", "url": "https://github.com/sleuthkit/autopsy/commit/cf5ae9154227b1a9b42eab97464a925d561457a4", "message": "Update Chromium.java\n\nAddress Codacy Issues", "committedDate": "2020-09-25T19:53:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQyNzA2Mw==", "url": "https://github.com/sleuthkit/autopsy/pull/6341#discussion_r498427063", "bodyText": "Just because I'm wondering - why are these bundle messages?", "author": "APriestman", "createdAt": "2020-10-01T18:07:26Z", "path": "RecentActivity/src/org/sleuthkit/autopsy/recentactivity/Chromium.java", "diffHunk": "@@ -81,21 +81,27 @@\n     private static final String WEBFORM_ADDRESS_QUERY_V8X = \"SELECT first_name, middle_name, last_name, full_name, street_address, city, state, zipcode, country_code, number, email, date_modified, use_date, use_count\" +\n                                                             \" FROM autofill_profiles, autofill_profile_names, autofill_profile_emails, autofill_profile_phones\" +\n                                                             \" WHERE autofill_profiles.guid = autofill_profile_names.guid AND autofill_profiles.guid = autofill_profile_emails.guid AND autofill_profiles.guid = autofill_profile_phones.guid\";\n+    private static final String HISTORY_FILE_NAME = \"History\";\n+    private static final String BOOKMARK_FILE_NAME = \"Bookmarks\";\n+    private static final String COOKIE_FILE_NAME = \"Cookies\";\n+    private static final String LOGIN_DATA_FILE_NAME = \"Login Data\";\n+    private static final String WEB_DATA_FILE_NAME = \"Web Data\";\n+\n+    \n     private final Logger logger = Logger.getLogger(this.getClass().getName());\n     private Content dataSource;\n     private IngestJobContext context;\n \n     private static final Map<String, String> BROWSERS_MAP = ImmutableMap.<String, String>builder()  \n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Microsoft.Edge\"), \"Microsoft/Edge\") \n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Yandex\"), \"YandexBrowser\") \n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Opera\"), \"Opera Software\") \n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.SalamWeb\"), \"SalamWeb\") \n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.UC.Browser\"), \"UCBrowser\")\n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Brave\"), \"BraveSoftware\")\n-            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Google.Chrome\"), \"Chrome\")\n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Microsoft.Edge\"), \"Microsoft/Edge/User Data/Default\") \n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Yandex\"), \"YandexBrowser/User Data/Default\") \n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Opera\"), \"Opera Software/Opera Stable\") \n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.SalamWeb\"), \"SalamWeb/User Data/Default\") \n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.UC.Browser\"), \"UCBrowser/User Data%/Default\")\n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Brave\"), \"BraveSoftware/Brave-Browser/User Data/Default\")\n+            .put(NbBundle.getMessage(Chromium.class, \"Browser.name.Google.Chrome\"), \"Chrome/User Data/Default\")", "originalCommit": "cf5ae9154227b1a9b42eab97464a925d561457a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ5MjQ5MA==", "url": "https://github.com/sleuthkit/autopsy/pull/6341#discussion_r498492490", "bodyText": "Not sure why.  Removed them to just be straight text now.", "author": "markmckinnon", "createdAt": "2020-10-01T20:21:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQyNzA2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQyODE0OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/6341#discussion_r498428149", "bodyText": "Should this be .equals() instead? There are several of these.", "author": "APriestman", "createdAt": "2020-10-01T18:09:28Z", "path": "RecentActivity/src/org/sleuthkit/autopsy/recentactivity/Chromium.java", "diffHunk": "@@ -174,8 +180,12 @@ public void process(Content dataSource, IngestJobContext context, DataSourceInge\n     private void getHistory(String browser, String browserLocation) {\n         FileManager fileManager = currentCase.getServices().getFileManager();\n         List<AbstractFile> historyFiles;\n+        String historyFileName = HISTORY_FILE_NAME;\n+        if (browser == NbBundle.getMessage(Chromium.class, \"Browser.name.UC.Browser\")) {", "originalCommit": "cf5ae9154227b1a9b42eab97464a925d561457a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ5Mjc3Mg==", "url": "https://github.com/sleuthkit/autopsy/pull/6341#discussion_r498492772", "bodyText": "Changed to .equals() where needed.", "author": "markmckinnon", "createdAt": "2020-10-01T20:21:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQyODE0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQyOTM2OA==", "url": "https://github.com/sleuthkit/autopsy/pull/6341#discussion_r498429368", "bodyText": "This comment seems strangely placed - at this point the cookieFileName may not have any % at all if it wasn't the UC browser", "author": "APriestman", "createdAt": "2020-10-01T18:11:50Z", "path": "RecentActivity/src/org/sleuthkit/autopsy/recentactivity/Chromium.java", "diffHunk": "@@ -410,8 +424,14 @@ private void getCookie(String browser, String browserLocation) {\n \n         FileManager fileManager = currentCase.getServices().getFileManager();\n         List<AbstractFile> cookiesFiles;\n+        String cookieFileName = COOKIE_FILE_NAME;\n+        if (browser == NbBundle.getMessage(Chromium.class, \"Browser.name.UC.Browser\")) {\n+            cookieFileName = \"%\" + COOKIE_FILE_NAME + \"%\";\n+        }\n         try {\n-            cookiesFiles = fileManager.findFiles(dataSource, \"%Cookies%\", browserLocation); //NON-NLS\n+            // Wildcard on front and back of Cookies as there are Cookie files that start with something else\n+            // ie: UC browser has \"Extension Cookies.9\" as well as Cookies", "originalCommit": "cf5ae9154227b1a9b42eab97464a925d561457a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ5MjY0Nw==", "url": "https://github.com/sleuthkit/autopsy/pull/6341#discussion_r498492647", "bodyText": "Moved comment to better place", "author": "markmckinnon", "createdAt": "2020-10-01T20:21:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQyOTM2OA=="}], "type": "inlineReview"}, {"oid": "de62de9a8f5c522d3ff5ab09fcde56134ffc07b0", "url": "https://github.com/sleuthkit/autopsy/commit/de62de9a8f5c522d3ff5ab09fcde56134ffc07b0", "message": "Address reviewer comments\n\nAddress reviewer comments", "committedDate": "2020-10-01T20:20:23Z", "type": "commit"}]}