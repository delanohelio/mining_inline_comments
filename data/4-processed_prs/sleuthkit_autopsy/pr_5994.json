{"pr_number": 5994, "pr_title": "6415 Call IngestManager.startIngestJob instead of IngestJob.startIngest fr\u2026", "pr_createdAt": "2020-06-19T15:07:59Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5994", "timeline": [{"oid": "789c31ce4d6b200feeee028ad04bde9f39651e67", "url": "https://github.com/sleuthkit/autopsy/commit/789c31ce4d6b200feeee028ad04bde9f39651e67", "message": "Call IngestManager.startIngestJob instead of IngestJob.startIngest from the stream.", "committedDate": "2020-06-19T15:07:12Z", "type": "commit"}, {"oid": "909beb71bc1669e9a2f13e4652e60dcd14199c83", "url": "https://github.com/sleuthkit/autopsy/commit/909beb71bc1669e9a2f13e4652e60dcd14199c83", "message": "Comment changes from previous review.", "committedDate": "2020-06-19T15:11:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0MzI3Mg==", "url": "https://github.com/sleuthkit/autopsy/pull/5994#discussion_r442943272", "bodyText": "I think that we need to return a non-empty list or otherwise signal that there was an error and the job won't be executing. Then we can leaving logging to the higher level client code, as has been the case before. Maybe we need a start(DataSource) overload after all?", "author": "rcordovano", "createdAt": "2020-06-19T16:42:01Z", "path": "Core/src/org/sleuthkit/autopsy/ingest/IngestJob.java", "diffHunk": "@@ -204,8 +203,13 @@ private IngestJobPipeline getStreamingIngestPipeline() {\n \t * Set up the pipeline(s)\n \t */\n \tif (ingestMode == Mode.STREAMING) {\n-\t    IngestJobPipeline ingestJobPipeline = new IngestJobPipeline(this, streamingIngestDataSource, settings);\n-\t    this.ingestJobPipelines.put(ingestJobPipeline.getId(), ingestJobPipeline);\n+            if (streamingIngestDataSource == null) {\n+                logger.log(Level.SEVERE, \"Error starting streaming ingest - data source not set\");\n+                return new ArrayList<>();", "originalCommit": "909beb71bc1669e9a2f13e4652e60dcd14199c83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0NzI1OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5994#discussion_r442947259", "bodyText": "This code will change once the DSP gets moved (it won't be possible for the data source to be missing), so I don't think it's worth doing any major changes right now.", "author": "APriestman", "createdAt": "2020-06-19T16:51:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0MzI3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk2ODY5OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5994#discussion_r442968699", "bodyText": "OK", "author": "rcordovano", "createdAt": "2020-06-19T17:41:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0MzI3Mg=="}], "type": "inlineReview"}]}