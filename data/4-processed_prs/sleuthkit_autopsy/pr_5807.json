{"pr_number": 5807, "pr_title": "5941 eager open file sys", "pr_createdAt": "2020-04-14T19:56:05Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5807", "timeline": [{"oid": "22bb45f80f281673084d1954063f6bee6ee083bf", "url": "https://github.com/sleuthkit/autopsy/commit/22bb45f80f281673084d1954063f6bee6ee083bf", "message": "added open file systems method to case open method", "committedDate": "2020-04-13T15:56:40Z", "type": "commit"}, {"oid": "a87bea71d488b7ffff91dfe3f803d00f51fb005b", "url": "https://github.com/sleuthkit/autopsy/commit/a87bea71d488b7ffff91dfe3f803d00f51fb005b", "message": "adding progress updates", "committedDate": "2020-04-13T19:57:45Z", "type": "commit"}, {"oid": "e135994242144644889b0ce3455151191b3e1d46", "url": "https://github.com/sleuthkit/autopsy/commit/e135994242144644889b0ce3455151191b3e1d46", "message": "open background task thread", "committedDate": "2020-04-14T12:17:30Z", "type": "commit"}, {"oid": "7d186a78bded940c74a972adf53582a925bfd569", "url": "https://github.com/sleuthkit/autopsy/commit/7d186a78bded940c74a972adf53582a925bfd569", "message": "commenting", "committedDate": "2020-04-14T19:49:13Z", "type": "commit"}, {"oid": "0e2520d5c0ea3dbd4839ab351d66ad573e52d39d", "url": "https://github.com/sleuthkit/autopsy/commit/0e2520d5c0ea3dbd4839ab351d66ad573e52d39d", "message": "commenting", "committedDate": "2020-04-14T19:53:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY3NjU4Ng==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409676586", "bodyText": "This is most likely an unused import.", "author": "rcordovano", "createdAt": "2020-04-16T16:08:26Z", "path": "Core/src/org/sleuthkit/autopsy/casemodule/Case.java", "diffHunk": "@@ -60,6 +61,7 @@\n import javax.annotation.concurrent.ThreadSafe;\n import javax.swing.JOptionPane;\n import javax.swing.SwingUtilities;\n+import org.openide.util.Exceptions;", "originalCommit": "0e2520d5c0ea3dbd4839ab351d66ad573e52d39d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY3NzQ0MQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409677441", "bodyText": "I think the name of this ExecutorService should be changed to something more in line with its function.", "author": "rcordovano", "createdAt": "2020-04-16T16:09:37Z", "path": "Core/src/org/sleuthkit/autopsy/casemodule/Case.java", "diffHunk": "@@ -156,6 +159,9 @@\n     private static final Logger logger = Logger.getLogger(Case.class.getName());\n     private static final AutopsyEventPublisher eventPublisher = new AutopsyEventPublisher();\n     private static final Object caseActionSerializationLock = new Object();\n+    private static Future<?> backgroundOpenFileSystemsFuture = null;\n+    private static final ExecutorService startIngestJobsExecutor", "originalCommit": "0e2520d5c0ea3dbd4839ab351d66ad573e52d39d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc1NjgwOQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409756809", "bodyText": "Sure.  Would something like backgroundOpenFileSystemsExecutor work?  Is the thread name okay?", "author": "gdicristofaro", "createdAt": "2020-04-16T18:16:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY3NzQ0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc3MzY4Mg==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409773682", "bodyText": "That name is a little lengthy, I'd take \"background\" out of the names since that is pretty clearly implied.\nThe thread name looks fine. You might check to see if the convention has been to not capitalize thread names, I have a feeling this is so, but I could be wrong.", "author": "rcordovano", "createdAt": "2020-04-16T18:45:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY3NzQ0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc3ODIzMg==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409778232", "bodyText": "Okay.  I believe this has been corrected now.", "author": "gdicristofaro", "createdAt": "2020-04-16T18:53:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY3NzQ0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY3ODY0MQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409678641", "bodyText": "in case => in the case", "author": "rcordovano", "createdAt": "2020-04-16T16:11:26Z", "path": "Core/src/org/sleuthkit/autopsy/casemodule/Case.java", "diffHunk": "@@ -1997,6 +2005,141 @@ private Void open(ProgressIndicator progressIndicator, Object additionalParams)\n         }\n     }\n \n+    /**\n+     * Starts a background task that reads a sector from each file system of\n+     * each image of a case to do an eager open of the filesystems in case. If\n+     * this method is called before another background file system read has", "originalCommit": "0e2520d5c0ea3dbd4839ab351d66ad573e52d39d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY4MjY0OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5807#discussion_r409682649", "bodyText": "This method does not throw the specified type of exceptions.", "author": "rcordovano", "createdAt": "2020-04-16T16:17:28Z", "path": "Core/src/org/sleuthkit/autopsy/casemodule/Case.java", "diffHunk": "@@ -1997,6 +2005,141 @@ private Void open(ProgressIndicator progressIndicator, Object additionalParams)\n         }\n     }\n \n+    /**\n+     * Starts a background task that reads a sector from each file system of\n+     * each image of a case to do an eager open of the filesystems in case. If\n+     * this method is called before another background file system read has\n+     * finished the earlier one will be cancelled.\n+     *\n+     * @throws CaseActionCancelledException Exception thrown if task is\n+     *                                      cancelled.\n+     */\n+    @Messages({\n+        \"# {0} - case\", \"Case.openFileSystems.retrievingImages=Retrieving images for case: {0}...\",\n+        \"# {0} - image\", \"Case.openFileSystems.openingImage=Opening all filesystems for image: {0}...\"\n+    })\n+    private void openFileSystemsInBackground() throws CaseActionCancelledException {", "originalCommit": "0e2520d5c0ea3dbd4839ab351d66ad573e52d39d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7def5251e09a8bad3bd31276fbed8e5cb400f6eb", "url": "https://github.com/sleuthkit/autopsy/commit/7def5251e09a8bad3bd31276fbed8e5cb400f6eb", "message": "fixes based on review", "committedDate": "2020-04-16T18:20:31Z", "type": "commit"}, {"oid": "5fb341f51451bd85cc331662113306e6ee5e27cf", "url": "https://github.com/sleuthkit/autopsy/commit/5fb341f51451bd85cc331662113306e6ee5e27cf", "message": "rename of executor service", "committedDate": "2020-04-16T18:49:55Z", "type": "commit"}]}