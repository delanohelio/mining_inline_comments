{"pr_number": 6258, "pr_title": "6838 Don't store localhost or 127.0.0.1 in CR", "pr_createdAt": "2020-09-14T19:14:05Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/6258", "timeline": [{"oid": "c2c993cc2c71c9bb124bb982b7ebf249ab5b7876", "url": "https://github.com/sleuthkit/autopsy/commit/c2c993cc2c71c9bb124bb982b7ebf249ab5b7876", "message": "Don't store localhost or 127.0.0.1 in CR", "committedDate": "2020-09-14T19:13:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk4NDM5Mw==", "url": "https://github.com/sleuthkit/autopsy/pull/6258#discussion_r488984393", "bodyText": "makeCorrAttrFromArtifactAttr() handles the condition where there is no TSK_DOMAIN attribute attached to the artifact, but we lose that with this change. BlackboardArtifact.getAttribute() can return null, so there is a potential NPE here now.", "author": "rcordovano", "createdAt": "2020-09-15T21:30:34Z", "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/CorrelationAttributeUtil.java", "diffHunk": "@@ -148,8 +150,10 @@ private static String getEmailAddressAttrDisplayName() {\n                         || artifactTypeID == ARTIFACT_TYPE.TSK_WEB_COOKIE.getTypeID()\n                         || artifactTypeID == ARTIFACT_TYPE.TSK_WEB_DOWNLOAD.getTypeID()\n                         || artifactTypeID == ARTIFACT_TYPE.TSK_WEB_HISTORY.getTypeID()) {\n-                    makeCorrAttrFromArtifactAttr(correlationAttrs, sourceArtifact, BlackboardAttribute.ATTRIBUTE_TYPE.TSK_DOMAIN, CorrelationAttributeInstance.DOMAIN_TYPE_ID);\n-\n+                    String domain = sourceArtifact.getAttribute(new BlackboardAttribute.Type(ATTRIBUTE_TYPE.TSK_DOMAIN)).getValueString();\n+                    if (! domainsToSkip.contains(domain)) {\n+                        makeCorrAttrFromArtifactAttr(correlationAttrs, sourceArtifact, BlackboardAttribute.ATTRIBUTE_TYPE.TSK_DOMAIN, CorrelationAttributeInstance.DOMAIN_TYPE_ID);\n+                    }", "originalCommit": "c2c993cc2c71c9bb124bb982b7ebf249ab5b7876", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "801612beb3459c1a28a7c32d8b153258e172e342", "url": "https://github.com/sleuthkit/autopsy/commit/801612beb3459c1a28a7c32d8b153258e172e342", "message": "Fixed possible NPE", "committedDate": "2020-09-16T12:56:26Z", "type": "commit"}]}