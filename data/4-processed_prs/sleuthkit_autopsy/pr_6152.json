{"pr_number": 6152, "pr_title": "6423 photorec include exclude", "pr_createdAt": "2020-08-03T19:27:28Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/6152", "timeline": [{"oid": "a0898fddbea1b2b389869a3a4c9ba0beaa28cab5", "url": "https://github.com/sleuthkit/autopsy/commit/a0898fddbea1b2b389869a3a4c9ba0beaa28cab5", "message": "beginnings of photorec extension exclusions", "committedDate": "2020-07-30T20:00:35Z", "type": "commit"}, {"oid": "f574233895e9d4648b3199349b33168d585a14b7", "url": "https://github.com/sleuthkit/autopsy/commit/f574233895e9d4648b3199349b33168d585a14b7", "message": "some fixes", "committedDate": "2020-07-31T12:19:00Z", "type": "commit"}, {"oid": "4ae8405c89ddad762cd38ad03944815ff4734979", "url": "https://github.com/sleuthkit/autopsy/commit/4ae8405c89ddad762cd38ad03944815ff4734979", "message": "updated look and feel with url", "committedDate": "2020-08-03T14:28:32Z", "type": "commit"}, {"oid": "1a2b5085f063a51a51c2ce586e465a8266235133", "url": "https://github.com/sleuthkit/autopsy/commit/1a2b5085f063a51a51c2ce586e465a8266235133", "message": "updated panel", "committedDate": "2020-08-03T16:40:05Z", "type": "commit"}, {"oid": "065650fe401a9e48a4c9f711b2e7ee294db671c5", "url": "https://github.com/sleuthkit/autopsy/commit/065650fe401a9e48a4c9f711b2e7ee294db671c5", "message": "UI indent updates", "committedDate": "2020-08-03T18:40:12Z", "type": "commit"}, {"oid": "3183c8800e7946957cda31ef117c73714e41c644", "url": "https://github.com/sleuthkit/autopsy/commit/3183c8800e7946957cda31ef117c73714e41c644", "message": "formatting", "committedDate": "2020-08-03T19:26:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA2OTM0MQ==", "url": "https://github.com/sleuthkit/autopsy/pull/6152#discussion_r465069341", "bodyText": "Does this need to be public? Or any of the other new public methods in this file?", "author": "APriestman", "createdAt": "2020-08-04T13:57:25Z", "path": "Core/src/org/sleuthkit/autopsy/modules/photoreccarver/PhotoRecCarverIngestJobSettings.java", "diffHunk": "@@ -18,53 +18,146 @@\n  */\n package org.sleuthkit.autopsy.modules.photoreccarver;\n \n+import java.util.ArrayList;\n+import java.util.Collections;\n import org.sleuthkit.autopsy.ingest.IngestModuleIngestJobSettings;\n+import java.util.List;\n \n /**\n  * Ingest job settings for the PhotoRec Carver module.\n  */\n final class PhotoRecCarverIngestJobSettings implements IngestModuleIngestJobSettings {\n \n     private static final long serialVersionUID = 1L;\n-    \n+\n     private boolean keepCorruptedFiles;\n-    \n+    private List<String> includeExcludeExtensions;\n+    private boolean fileOptOption;\n+    private boolean includeElseExclude;\n+\n     /**\n      * Instantiate the ingest job settings with default values.\n      */\n     PhotoRecCarverIngestJobSettings() {\n-        this.keepCorruptedFiles = PhotoRecCarverFileIngestModule.DEFAULT_CONFIG_KEEP_CORRUPTED_FILES;\n+        this(PhotoRecCarverFileIngestModule.DEFAULT_CONFIG_KEEP_CORRUPTED_FILES,\n+                PhotoRecCarverFileIngestModule.DEFAULT_CONFIG_FILE_OPT_OPTIONS,\n+                PhotoRecCarverFileIngestModule.DEFAULT_CONFIG_INCLUDE_ELSE_EXCLUDE,\n+                null);\n     }\n-    \n+\n     /**\n-     * Instantiate the ingest job settings.\n+     * Sets the photo rec settings.\n      *\n-     * @param keepCorruptedFiles Keep corrupted files.\n+     * @param keepCorruptedFiles       Whether or not to keep corrupted files.\n+     * @param fileOptOption            Whether or not the file opt options\n+     *                                 should be enabled (whether or not to\n+     *                                 include/exclude file extensions).\n+     * @param includeElseExclude       If file opt options is enabled, whether\n+     *                                 to include only the extensions listed or\n+     *                                 exclude extensions from output.\n+     * @param includeExcludeExtensions The extensions to include or exclude\n+     *                                 (i.e. jpg, gif)\n      */\n-    PhotoRecCarverIngestJobSettings(boolean keepCorruptedFiles) {\n+    public PhotoRecCarverIngestJobSettings(boolean keepCorruptedFiles, boolean fileOptOption, boolean includeElseExclude, List<String> includeExcludeExtensions) {", "originalCommit": "3183c8800e7946957cda31ef117c73714e41c644", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA5MjIxOQ==", "url": "https://github.com/sleuthkit/autopsy/pull/6152#discussion_r465092219", "bodyText": "Ok.  I just pushed up a fix to make them package private.", "author": "gdicristofaro", "createdAt": "2020-08-04T14:27:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA2OTM0MQ=="}], "type": "inlineReview"}, {"oid": "5565d7e6d30914f936f42ab336fbf25e4ebe4aa5", "url": "https://github.com/sleuthkit/autopsy/commit/5565d7e6d30914f936f42ab336fbf25e4ebe4aa5", "message": "updated settings methods to packaged private", "committedDate": "2020-08-04T14:10:24Z", "type": "commit"}, {"oid": "8cd7594afaa374bb1fd4facfac470c8a34f08dad", "url": "https://github.com/sleuthkit/autopsy/commit/8cd7594afaa374bb1fd4facfac470c8a34f08dad", "message": "updates for extension validation", "committedDate": "2020-08-04T20:30:16Z", "type": "commit"}, {"oid": "ea1246475d7b9c4b93db2f3d851e8234f5e82a77", "url": "https://github.com/sleuthkit/autopsy/commit/ea1246475d7b9c4b93db2f3d851e8234f5e82a77", "message": "updates for extension validation", "committedDate": "2020-08-04T20:30:30Z", "type": "commit"}, {"oid": "e306dde9c5932e029260da99fade4f6b0d139d08", "url": "https://github.com/sleuthkit/autopsy/commit/e306dde9c5932e029260da99fade4f6b0d139d08", "message": "fix for link wrap", "committedDate": "2020-08-05T11:48:13Z", "type": "commit"}, {"oid": "b792ec8145ab124c57b9e0251f8b639ddadad301", "url": "https://github.com/sleuthkit/autopsy/commit/b792ec8145ab124c57b9e0251f8b639ddadad301", "message": "error on startUp", "committedDate": "2020-08-05T20:18:19Z", "type": "commit"}, {"oid": "34412072833ef71dc91980ca82e5ae3b9c8d8d32", "url": "https://github.com/sleuthkit/autopsy/commit/34412072833ef71dc91980ca82e5ae3b9c8d8d32", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into 6423-photorecIncludeExclude", "committedDate": "2020-08-06T10:55:18Z", "type": "commit"}, {"oid": "baeb551a545d5569eb07ac784bcfc644f45bed30", "url": "https://github.com/sleuthkit/autopsy/commit/baeb551a545d5569eb07ac784bcfc644f45bed30", "message": "fixes for codacy", "committedDate": "2020-08-06T11:36:59Z", "type": "commit"}, {"oid": "b039b9e9e7c4718412c200b985a740ebb57339f0", "url": "https://github.com/sleuthkit/autopsy/commit/b039b9e9e7c4718412c200b985a740ebb57339f0", "message": "validation fix", "committedDate": "2020-08-06T11:54:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxMzIzNw==", "url": "https://github.com/sleuthkit/autopsy/pull/6152#discussion_r466413237", "bodyText": "Typo - hyperlink", "author": "APriestman", "createdAt": "2020-08-06T13:30:32Z", "path": "Core/src/org/sleuthkit/autopsy/modules/photoreccarver/PhotoRecCarverIngestJobSettingsPanel.java", "diffHunk": "@@ -43,13 +62,91 @@ public PhotoRecCarverIngestJobSettingsPanel(PhotoRecCarverIngestJobSettings sett\n      * @param settings The ingest job settings.\n      */\n     private void customizeComponents(PhotoRecCarverIngestJobSettings settings) {\n+        includeExcludeCheckbox.setSelected(settings.hasFileOptOption());\n+        extensionListTextfield.setText(String.join(EXTENSION_LIST_SEPARATOR, settings.getIncludeExcludeExtensions()));\n+        includeRadioButton.setSelected(!settings.isIncludeElseExclude());\n+        excludeRadioButton.setSelected(!settings.isIncludeElseExclude());\n         keepCorruptedFilesCheckbox.setSelected(settings.isKeepCorruptedFiles());\n+        setupTypesHyperlink();\n+        setIncludePanelEnabled();\n+    }\n+\n+    /**\n+     * Sets up a clickable hyperlink for the different supported types for\n+     * extensions.\n+     */\n+    private void setupTypesHyperlink() {\n+        // taken from https://www.codejava.net/java-se/swing/how-to-create-hyperlink-with-jlabel-in-java-swing\n+        this.fullListOfTypesHyperlink.setForeground(Color.BLUE.darker());\n+        this.fullListOfTypesHyperlink.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n+        this.fullListOfTypesHyperlink.addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mouseClicked(MouseEvent e) {\n+                try {\n+                    Desktop.getDesktop().browse(new URI(PHOTOREC_TYPES_URL));\n+                } catch (IOException | URISyntaxException ex) {\n+                    logger.log(Level.WARNING, \"There was an error going to types huperlink: \" + PHOTOREC_TYPES_URL, ex);", "originalCommit": "b039b9e9e7c4718412c200b985a740ebb57339f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ0NTkwMQ==", "url": "https://github.com/sleuthkit/autopsy/pull/6152#discussion_r466445901", "bodyText": "Ok.  I think this is done now.", "author": "gdicristofaro", "createdAt": "2020-08-06T14:17:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxMzIzNw=="}], "type": "inlineReview"}, {"oid": "4d5e2362e75355129a59c750fbd8f63b7c9798e5", "url": "https://github.com/sleuthkit/autopsy/commit/4d5e2362e75355129a59c750fbd8f63b7c9798e5", "message": "updated to 'hyperlink' and error handling updated", "committedDate": "2020-08-06T14:17:19Z", "type": "commit"}, {"oid": "5ca2fa1931b45b9d1b3edbe664a0e1884ded389c", "url": "https://github.com/sleuthkit/autopsy/commit/5ca2fa1931b45b9d1b3edbe664a0e1884ded389c", "message": "update to enum", "committedDate": "2020-08-06T17:31:08Z", "type": "commit"}, {"oid": "b7ca09d64706ba69fdce638094b78bfc48058fe2", "url": "https://github.com/sleuthkit/autopsy/commit/b7ca09d64706ba69fdce638094b78bfc48058fe2", "message": "address codacy remark", "committedDate": "2020-08-06T19:00:39Z", "type": "commit"}]}