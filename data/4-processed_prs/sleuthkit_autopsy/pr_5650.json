{"pr_number": 5650, "pr_title": "environment variable setup script for development", "pr_createdAt": "2020-02-14T13:51:42Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5650", "timeline": [{"oid": "4db931049534bdae9300a34c2f71d4d5d97e2674", "url": "https://github.com/sleuthkit/autopsy/commit/4db931049534bdae9300a34c2f71d4d5d97e2674", "message": "environment variable setup script for development", "committedDate": "2020-02-14T13:46:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDc5MzY0NQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5650#discussion_r380793645", "bodyText": "All uses of foo + sep + bar can be replaced with os.path.join which will handle formatting paths:", "author": "dannysmyda", "createdAt": "2020-02-18T16:39:23Z", "path": "developers/envvarsetup.py", "diffHunk": "@@ -0,0 +1,56 @@\n+import os\n+import sys\n+\n+if len(sys.argv) < 2:\n+    print(\"Usage: envarsetup.py [full path to parent directory of sleuthkit, autopsy, etc.]\")\n+    exit(1)\n+\n+'''\n+The following 7 lines can be configured to the specified paths (if different) on your system.\n+open_jdk_64_home is the 64 bit jdk and is the assumed default\n+source_base_path is the directory containing all necessary repos (i.e. autopsy, sleuthkit, etc.)\n+open_jdk_32_home and postgres_32_home are only necessary if building binaries\n+'''\n+source_base_path = sys.argv[1]\n+open_jdk_64_home = \"C:\\\\Program Files\\\\ojdkbuild\\\\java-1.8.0-openjdk-1.8.0.222-1\"\n+postgres_home = \"C:\\\\Program Files\\\\PostgreSQL\\\\9.5\"\n+ant_home = \"C:\\\\Program Files\\\\NetBeans 8.2\\\\extide\\\\ant\"\n+open_jdk_32_home = \"C:\\\\Program Files (x86)\\\\ojdkbuild\\\\java-1.8.0-openjdk-1.8.0.222-1\"\n+postgres_32_home = \"C:\\\\Program Files (x86)\\\\PostgreSQL\\\\9.5\"\n+open_jdk_home = open_jdk_64_home\n+\n+\n+sep = '\\\\'\n+path_env_sep = \";\"\n+\n+\n+def set_var(env_var, env_val):\n+    print(\"Setting {0} to {1}\".format(env_var,env_val))\n+    os.system(\"SETX {0} \\\"{1}\\\" /M\".format(env_var,env_val))\n+\n+\n+def add_path(paths):\n+    print(\"Adding to path: {0}\".format(paths))\n+    # work around for command prompt to access PATH via %PATH%\n+    cmd = \"cmd.exe /k SETX PATH \\\"%PATH%;{0}\\\" /M & exit\".format(path_env_sep.join(paths))\n+    os.system(cmd)\n+\n+\n+set_var(\"JAVA_HOME\", open_jdk_home)", "originalCommit": "4db931049534bdae9300a34c2f71d4d5d97e2674", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a56005d42052663444fc2bb9ef63db8f28610273", "url": "https://github.com/sleuthkit/autopsy/commit/a56005d42052663444fc2bb9ef63db8f28610273", "message": "updated environment setup script", "committedDate": "2020-02-18T18:25:41Z", "type": "commit"}]}