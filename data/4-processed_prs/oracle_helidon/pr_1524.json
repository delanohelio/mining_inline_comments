{"pr_number": 1524, "pr_title": "Openapi custom context root 1.x", "pr_createdAt": "2020-03-16T22:35:28Z", "pr_url": "https://github.com/oracle/helidon/pull/1524", "timeline": [{"oid": "2e0b55060f85fce34628b1675885af7cfbbe9aad", "url": "https://github.com/oracle/helidon/commit/2e0b55060f85fce34628b1675885af7cfbbe9aad", "message": "Allow Helidon config to set alternate OpenAPI context root", "committedDate": "2020-03-16T22:28:24Z", "type": "commit"}, {"oid": "36160cca823031376c0992a486e894b445187313", "url": "https://github.com/oracle/helidon/commit/36160cca823031376c0992a486e894b445187313", "message": "Remove unneeded commented lines", "committedDate": "2020-03-16T22:31:17Z", "type": "commit"}, {"oid": "4692003d8b54b9949a6732eb6479252e87769879", "url": "https://github.com/oracle/helidon/commit/4692003d8b54b9949a6732eb6479252e87769879", "message": "Undo change to copyright comment", "committedDate": "2020-03-16T22:32:29Z", "type": "commit"}, {"oid": "571f5dd4f9862c1d6091121644eb784b6b831ba5", "url": "https://github.com/oracle/helidon/commit/571f5dd4f9862c1d6091121644eb784b6b831ba5", "message": "Fix problem in JavaDoc link", "committedDate": "2020-03-16T23:11:03Z", "type": "commit"}, {"oid": "21effe0d82e9a8288c5e37e84fdbc21b48da43f8", "url": "https://github.com/oracle/helidon/commit/21effe0d82e9a8288c5e37e84fdbc21b48da43f8", "message": "Style error", "committedDate": "2020-03-16T23:12:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMzQ2MQ==", "url": "https://github.com/oracle/helidon/pull/1524#discussion_r393533461", "bodyText": "No prefix should be used, config should be on openapi node already.\nMethod should be called config", "author": "tomas-langer", "createdAt": "2020-03-17T09:08:56Z", "path": "openapi/src/main/java/io/helidon/openapi/OpenAPISupport.java", "diffHunk": "@@ -613,6 +615,27 @@ public OpenAPISupport build() {\n             return new OpenAPISupport(this);\n         }\n \n+        /**\n+         * Set various builder attributes from the specified {@code Config} object.\n+         * <p>\n+         * The {@code Config} object can specify {@value #CONFIG_PREFIX}.web-context\n+         * and {@value #CONFIG_PREFIX}.static-file in addition to settings\n+         * supported by {@code OpenAPIConfigImpl.Builder}.\n+         *\n+         * @param config the {@code Config} object possibly containing settings\n+         * @exception NullPointerException if the provided {@code Config} is null\n+         * @return updated builder instance\n+         */\n+        public Builder helidonConfig(Config config) {\n+            config.get(CONFIG_PREFIX + \".web-context\")", "originalCommit": "21effe0d82e9a8288c5e37e84fdbc21b48da43f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY2OTUyOA==", "url": "https://github.com/oracle/helidon/pull/1524#discussion_r393669528", "bodyText": "This method, helidonConfig, has been present on SEOpenAPISupportBuilder in SE OpenAPI since we first created it, as has the expectation that the Config node passed in is the top-level one, within which openapi might exist.\nBecause we want to support Helidon config in MP also, this method is migrating to the superclass OpenAPISupport. So while it might appear that this is a new method, it is not a new part of the contract between SE OpenAPI and SE apps.\nChanging either the method name or the expectation of which config node is passed - in 1.x anyway - would be a backward-incompatible change.", "author": "tjquinno", "createdAt": "2020-03-17T13:15:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMzQ2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY3MDIyNw==", "url": "https://github.com/oracle/helidon/pull/1524#discussion_r393670227", "bodyText": "We can make the incompatible change in the 2.x PR to align OpenAPI with the other components that have similar config support.", "author": "tjquinno", "createdAt": "2020-03-17T13:16:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMzQ2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY5NzAyOA==", "url": "https://github.com/oracle/helidon/pull/1524#discussion_r393697028", "bodyText": "For 1.x, we can add the config method as you suggest -- with a Config argument that should be the openapi node -- while keeping the existing helidonConfig method to preserve backward compatibility and mark helidonConfig as deprecated.", "author": "tjquinno", "createdAt": "2020-03-17T13:56:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMzQ2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkyOTUwMw==", "url": "https://github.com/oracle/helidon/pull/1524#discussion_r393929503", "bodyText": "yes please", "author": "tomas-langer", "createdAt": "2020-03-17T19:49:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzUzMzQ2MQ=="}], "type": "inlineReview"}, {"oid": "f3a609da3240cbad08efee3b25255010c201890b", "url": "https://github.com/oracle/helidon/commit/f3a609da3240cbad08efee3b25255010c201890b", "message": "Mark helidonConfig methods (which accept top-level config node) as deprecated; add parallel config method which accepts the openapi config node; related changes", "committedDate": "2020-03-17T15:31:35Z", "type": "commit"}]}