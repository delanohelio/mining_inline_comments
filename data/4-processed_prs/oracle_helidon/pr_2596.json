{"pr_number": 2596, "pr_title": "PostgreSQL driver support for JPA/Hibernate in native image", "pr_createdAt": "2020-12-11T11:58:05Z", "pr_url": "https://github.com/oracle/helidon/pull/2596", "timeline": [{"oid": "4b7367e21aad2094e8054150369478dbac71daa7", "url": "https://github.com/oracle/helidon/commit/4b7367e21aad2094e8054150369478dbac71daa7", "message": "PostgreSQL driver support for JPA/Hibernate in native image\n\nSigned-off-by: Tomas Kraus <Tomas.Kraus@oracle.com>", "committedDate": "2020-12-11T15:44:44Z", "type": "commit"}, {"oid": "4b7367e21aad2094e8054150369478dbac71daa7", "url": "https://github.com/oracle/helidon/commit/4b7367e21aad2094e8054150369478dbac71daa7", "message": "PostgreSQL driver support for JPA/Hibernate in native image\n\nSigned-off-by: Tomas Kraus <Tomas.Kraus@oracle.com>", "committedDate": "2020-12-11T15:44:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjYzNDMzNQ==", "url": "https://github.com/oracle/helidon/pull/2596#discussion_r542634335", "bodyText": "Ooops. Spoke too soon. Please update dependencies/pom.xml to use version 42.2.18", "author": "barchetta", "createdAt": "2020-12-14T18:46:45Z", "path": "integrations/db/pgsql/pom.xml", "diffHunk": "@@ -0,0 +1,86 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  Copyright (c) 2020 Oracle and/or its affiliates.\n+\n+  Licensed under the Apache License, Version 2.0 (the \"License\");\n+  you may not use this file except in compliance with the License.\n+  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>io.helidon.integrations.db</groupId>\n+        <artifactId>helidon-integrations-db-project</artifactId>\n+        <version>2.1.1-SNAPSHOT</version>\n+    </parent>\n+\n+    <artifactId>helidon-integrations-db-pgsql</artifactId>\n+    <name>Helidon Integrations DB PostgreSQL JDBC</name>\n+    <description>JDBC driver for PostgreSQL database with native-image support</description>\n+\n+    <properties>\n+        <spotbugs.skip>true</spotbugs.skip>\n+        <maven.javadoc.skip>true</maven.javadoc.skip>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.postgresql</groupId>\n+            <artifactId>postgresql</artifactId>", "originalCommit": "4b7367e21aad2094e8054150369478dbac71daa7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM0MDgxNw==", "url": "https://github.com/oracle/helidon/pull/2596#discussion_r543340817", "bodyText": "[INFO] Copying postgresql-42.2.18.jar to /data/JPA_PGSQL_NI/tests/integration/jpa/appl/target/libs/postgresql-42.2.18.jar", "author": "Tomas-Kraus", "createdAt": "2020-12-15T13:29:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjYzNDMzNQ=="}], "type": "inlineReview"}, {"oid": "c63316ee1fe965ca6723168b9b988a6f06d47dc9", "url": "https://github.com/oracle/helidon/commit/c63316ee1fe965ca6723168b9b988a6f06d47dc9", "message": "PostgreSQL JDBC driver version updated to 42.2.18.\n\nSigned-off-by: Tomas Kraus <Tomas.Kraus@oracle.com>", "committedDate": "2020-12-15T13:26:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDUyMzQyMw==", "url": "https://github.com/oracle/helidon/pull/2596#discussion_r544523423", "bodyText": "This is wrong - this PR is for psql not for mysql?", "author": "tomas-langer", "createdAt": "2020-12-16T18:23:30Z", "path": "etc/scripts/test-integ-mysql.sh", "diffHunk": "@@ -52,8 +52,12 @@ mvn ${MAVEN_ARGS} -f ${WS_DIR}/pom.xml \\\n \n # Run tests in Java VM application\n (cd tests/integration/jpa && \\\n-  mvn ${MAVEN_ARGS} clean verify -Dmysql)\n+  mvn ${MAVEN_ARGS} clean verify \\\n+      -Dmaven.test.failure.ignore=true -Dmysql \\", "originalCommit": "c63316ee1fe965ca6723168b9b988a6f06d47dc9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY1MDY1NA==", "url": "https://github.com/oracle/helidon/pull/2596#discussion_r544650654", "bodyText": "There was -Dmaven.test.failure.ignore=true  missing so I added it into both scripts. They are not being used now and we'll do another review after Romain prepares parallel jobs setup for all those native image integration tests.", "author": "Tomas-Kraus", "createdAt": "2020-12-16T21:55:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDUyMzQyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDUyNDI2OQ==", "url": "https://github.com/oracle/helidon/pull/2596#discussion_r544524269", "bodyText": "Copyright is wrong (as with other new files in this PR) - the year should be just 2020", "author": "tomas-langer", "createdAt": "2020-12-16T18:24:41Z", "path": "etc/scripts/test-integ-pgsql.sh", "diffHunk": "@@ -0,0 +1,63 @@\n+#!/bin/bash -ex\n+#\n+# Copyright (c) 2018, 2020 Oracle and/or its affiliates.", "originalCommit": "c63316ee1fe965ca6723168b9b988a6f06d47dc9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0OTMwMw==", "url": "https://github.com/oracle/helidon/pull/2596#discussion_r544649303", "bodyText": "Yes, it's copy-paste. I'll fix it in next PR.", "author": "Tomas-Kraus", "createdAt": "2020-12-16T21:52:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDUyNDI2OQ=="}], "type": "inlineReview"}]}