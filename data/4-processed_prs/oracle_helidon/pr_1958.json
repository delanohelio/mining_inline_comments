{"pr_number": 1958, "pr_title": "New pipeline infra 1.x", "pr_createdAt": "2020-06-10T01:23:53Z", "pr_url": "https://github.com/oracle/helidon/pull/1958", "timeline": [{"oid": "5d5e5e0be1dffac4ce9746ac5923c9109ee55a6e", "url": "https://github.com/oracle/helidon/commit/5d5e5e0be1dffac4ce9746ac5923c9109ee55a6e", "message": "WIP: New build infra (#1605)\n\n* New build infra\n - Make wercker.yml a no-op\n - Add Jenkinsfile\n - Rework build scripts\n - Fix indentation in build scripts\n\n* archive and report failsafe reports\n\n* fix copyright errors\n\n* workaround shrinkwrap-maven proxy issues\n\n* Support for NPM behind proxy.\n\n* increase reactive TCK environment timeout from 50ms to 200s", "committedDate": "2020-06-10T01:21:11Z", "type": "commit"}, {"oid": "2602334e0cf79e7b6dec527897df055960587c30", "url": "https://github.com/oracle/helidon/commit/2602334e0cf79e7b6dec527897df055960587c30", "message": "parallelsAlwaysFailFast (#1755)\n\nadd parallelsAlwaysFailFast option to the Jenkinsfile", "committedDate": "2020-06-10T01:21:34Z", "type": "commit"}, {"oid": "8ff7da59218a20cfe507f7dec67047b10b0e46b0", "url": "https://github.com/oracle/helidon/commit/8ff7da59218a20cfe507f7dec67047b10b0e46b0", "message": "enable unstable pipeline status (#1768)", "committedDate": "2020-06-10T01:22:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE0MTU1NA==", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r438141554", "bodyText": "These integration tests do not exist for 1.x, as there is no native image support for MP", "author": "tomas-langer", "createdAt": "2020-06-10T13:55:54Z", "path": "etc/scripts/build.sh", "diffHunk": "@@ -29,25 +29,30 @@ trap on_error ERR\n \n # Path to this script\n if [ -h \"${0}\" ] ; then\n-  readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n+    readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n else\n-  readonly SCRIPT_PATH=\"${0}\"\n+    readonly SCRIPT_PATH=\"${0}\"\n fi\n \n # Path to the root of the workspace\n readonly WS_DIR=$(cd $(dirname -- \"${SCRIPT_PATH}\") ; cd ../.. ; pwd -P)\n \n source ${WS_DIR}/etc/scripts/pipeline-env.sh\n \n-if [ \"${WERCKER}\" = \"true\" -o \"${GITLAB}\" = \"true\" ] ; then\n-  apt-get update && apt-get -y install graphviz\n-fi\n-\n-inject_credentials\n+mvn ${MAVEN_ARGS} --version\n \n-mvn -f ${WS_DIR}/pom.xml \\\n+mvn ${MAVEN_ARGS} -f ${WS_DIR}/pom.xml \\\n     clean install -e \\\n-    -B \\\n-    -Pexamples,integrations,archetypes,spotbugs,javadoc,docs,sources,tck,tests,pipeline\n+    -Dmaven.test.failure.ignore=true \\\n+    -Pexamples,archetypes,spotbugs,javadoc,docs,sources,tck,tests,pipeline\n \n examples/quickstarts/archetypes/test-archetypes.sh\n+", "originalCommit": "8ff7da59218a20cfe507f7dec67047b10b0e46b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM2NzAxOQ==", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r438367019", "bodyText": "Right, I cherry picked the commit and missed removing that change.", "author": "romain-grecourt", "createdAt": "2020-06-10T19:44:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE0MTU1NA=="}], "type": "inlineReview"}, {"oid": "03874947ad64b3aa5e6c3ca697a00f34c7ed0e37", "url": "https://github.com/oracle/helidon/commit/03874947ad64b3aa5e6c3ca697a00f34c7ed0e37", "message": "remove native-image test from build.sh", "committedDate": "2020-06-10T19:55:21Z", "type": "commit"}, {"oid": "8932cf811b9c27ace5002155c16b5aeddc41dc96", "url": "https://github.com/oracle/helidon/commit/8932cf811b9c27ace5002155c16b5aeddc41dc96", "message": "fix deploy-archetypes.sh", "committedDate": "2020-06-11T16:22:04Z", "type": "commit"}, {"oid": "c95b21b31dc4c20eb7c3548d74b211d5f6421e89", "url": "https://github.com/oracle/helidon/commit/c95b21b31dc4c20eb7c3548d74b211d5f6421e89", "message": "put back github-release.sh", "committedDate": "2020-06-11T16:22:35Z", "type": "commit"}, {"oid": "6e45088e59f5ac6afdfb488a46748d92c584f97e", "url": "https://github.com/oracle/helidon/commit/6e45088e59f5ac6afdfb488a46748d92c584f97e", "message": "remove extra line in etc/scripts/github-release.sh", "committedDate": "2020-06-11T16:25:05Z", "type": "commit"}, {"oid": "f08c50b47bdef2775487e8453351d0e0bbab7e89", "url": "https://github.com/oracle/helidon/commit/f08c50b47bdef2775487e8453351d0e0bbab7e89", "message": "fix copyright", "committedDate": "2020-06-11T16:30:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTM0Ng==", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r439579346", "bodyText": "(Confirming that you want to remove -B and it wasn't a typo.)", "author": "ljnelson", "createdAt": "2020-06-12T18:28:07Z", "path": "etc/scripts/build.sh", "diffHunk": "@@ -29,25 +29,21 @@ trap on_error ERR\n \n # Path to this script\n if [ -h \"${0}\" ] ; then\n-  readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n+    readonly SCRIPT_PATH=\"$(readlink \"${0}\")\"\n else\n-  readonly SCRIPT_PATH=\"${0}\"\n+    readonly SCRIPT_PATH=\"${0}\"\n fi\n \n # Path to the root of the workspace\n readonly WS_DIR=$(cd $(dirname -- \"${SCRIPT_PATH}\") ; cd ../.. ; pwd -P)\n \n source ${WS_DIR}/etc/scripts/pipeline-env.sh\n \n-if [ \"${WERCKER}\" = \"true\" -o \"${GITLAB}\" = \"true\" ] ; then\n-  apt-get update && apt-get -y install graphviz\n-fi\n-\n-inject_credentials\n+mvn ${MAVEN_ARGS} --version\n \n-mvn -f ${WS_DIR}/pom.xml \\\n+mvn ${MAVEN_ARGS} -f ${WS_DIR}/pom.xml \\\n     clean install -e \\\n-    -B \\\n-    -Pexamples,integrations,archetypes,spotbugs,javadoc,docs,sources,tck,tests,pipeline\n+    -Dmaven.test.failure.ignore=true \\", "originalCommit": "f08c50b47bdef2775487e8453351d0e0bbab7e89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTgyNw==", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r439579827", "bodyText": "Yeah, this is part of ${MAVEN_ARGS} now.", "author": "romain-grecourt", "createdAt": "2020-06-12T18:29:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTM0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTkzOA==", "url": "https://github.com/oracle/helidon/pull/1958#discussion_r439579938", "bodyText": "This is the same as what we have on master.", "author": "romain-grecourt", "createdAt": "2020-06-12T18:29:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTM0Ng=="}], "type": "inlineReview"}]}