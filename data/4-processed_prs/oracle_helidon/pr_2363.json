{"pr_number": 2363, "pr_title": "Updates Fault Tolerance MP docs", "pr_createdAt": "2020-09-15T14:58:03Z", "pr_url": "https://github.com/oracle/helidon/pull/2363", "timeline": [{"oid": "83ce0d0187d87c78defc18a6e32eec573d054393", "url": "https://github.com/oracle/helidon/commit/83ce0d0187d87c78defc18a6e32eec573d054393", "message": "Updates Fault Tolerance MP docs with config information for new implementation. Created a couple of new tests to verify that thread pool sizes can be configured using an application.yaml file.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-09-15T14:56:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc3MTczOA==", "url": "https://github.com/oracle/helidon/pull/2363#discussion_r488771738", "bodyText": "There is a property for referencing javadocs: {javadoc-base-url}", "author": "barchetta", "createdAt": "2020-09-15T15:44:32Z", "path": "docs/mp/faulttolerance/01_overview.adoc", "diffHunk": "@@ -22,6 +22,8 @@\n :description: Fault Tolerance Introduction\n :keywords: helidon, webserver, faulttolerance, mp\n :fault-tolerance-spec-url: https://github.com/eclipse/microprofile-fault-tolerance\n+:scheduled-executor-config: https://helidon.io/docs/v2/apidocs/io.helidon.common.configurable/io/helidon/common/configurable/ScheduledThreadPoolSupplier.Builder.html#config(io.helidon.config.Config)", "originalCommit": "83ce0d0187d87c78defc18a6e32eec573d054393", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODgxOTA1OQ==", "url": "https://github.com/oracle/helidon/pull/2363#discussion_r488819059", "bodyText": "Right, I'll fix that.", "author": "spericas", "createdAt": "2020-09-15T16:56:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc3MTczOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc3NDAyMQ==", "url": "https://github.com/oracle/helidon/pull/2363#discussion_r488774021", "bodyText": "Does this work via microprofile-config.properties ? should we be showing that instead? If not then maybe we should mention that you must use applicationl.yaml.", "author": "barchetta", "createdAt": "2020-09-15T15:47:48Z", "path": "docs/mp/faulttolerance/01_overview.adoc", "diffHunk": "@@ -30,30 +32,27 @@ service restarts, network delays, temporal infrastructure instabilities, etc.\n \n == Fault Tolerance in Helidon\n \n-Fault Tolerance method annotations are internally implemented using _commands_.\n-Essentially, each Fault Tolerance method invocation runs under the supervision\n-of one of these commands. Command execution can be affected by certain properties:\n-some defined by the Fault Tolerance specification and others internal to Helidon.\n+The latest implementation of MP Fault Tolerance is built on top of Helidon's SE\n+Fault Tolerance. Thus, some configuration for Helidon SE Fault\n+Tolerance also applies to MP. The next section describes some\n+configuration properties that are of particular interest to MP applications.\n \n-== Fault Tolerance Configuration\n-This section describes a few configuration parameters that are specific to Helidon's Fault\n-Tolerance implementation. See the {fault-tolerance-spec-url}[Fault Tolerance MicroProfile API] for more information.\n+=== Configuration\n \n-The following is a list of config properties supported by Helidon that are\n-_not_ part of the Fault Tolerance specification:\n+Helidon's implementation uses two types of thread pools: normal and scheduled. The default\n+core size of these executors is 16; however, that can be configured using an `application.yaml`\n+file as follows:\n \n-- `fault-tolerance.commandThreadPoolSize`: Asynchronous commands require the use of a\n-separate thread pool. Threads created in this pool are named `helidon-ft-async-<N>`.\n-This config property controls the size of such a pool. The default size is 8.\n+[source,yaml]", "originalCommit": "83ce0d0187d87c78defc18a6e32eec573d054393", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODgxODg1MQ==", "url": "https://github.com/oracle/helidon/pull/2363#discussion_r488818851", "bodyText": "It does not at the moment, I can clarify that.", "author": "spericas", "createdAt": "2020-09-15T16:56:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc3NDAyMQ=="}], "type": "inlineReview"}, {"oid": "7afb3f957de5e99e85fbbe2e150a6663a06baca0", "url": "https://github.com/oracle/helidon/commit/7afb3f957de5e99e85fbbe2e150a6663a06baca0", "message": "Fixed URLs and added a note about MP config.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-09-15T18:16:41Z", "type": "commit"}]}