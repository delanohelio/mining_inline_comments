{"pr_number": 2472, "pr_title": "Add dependency-check-maven plugin", "pr_createdAt": "2020-10-21T01:00:03Z", "pr_url": "https://github.com/oracle/helidon/pull/2472", "timeline": [{"oid": "c0a0ced1faf0e198424169582a350dea5c8b8bfb", "url": "https://github.com/oracle/helidon/commit/c0a0ced1faf0e198424169582a350dea5c8b8bfb", "message": "Add dependency-check-maven plugin", "committedDate": "2020-10-21T00:57:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyMTkyMA==", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509421920", "bodyText": "I think both provided and runtime scopes are valid, as these are still helidon dependencies.", "author": "tomas-langer", "createdAt": "2020-10-21T16:16:43Z", "path": "pom.xml", "diffHunk": "@@ -491,13 +493,46 @@\n                         <xmlOutput>true</xmlOutput>\n                     </configuration>\n                 </plugin>\n+                <plugin>\n+                    <groupId>org.owasp</groupId>\n+                    <artifactId>dependency-check-maven</artifactId>\n+                    <version>${version.plugin.dependency-check}</version>\n+                    <configuration>\n+                        <skip>${dependency-check.skip}</skip>\n+                        <skipProvidedScope>true</skipProvidedScope>", "originalCommit": "c0a0ced1faf0e198424169582a350dea5c8b8bfb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ3NDAzNQ==", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509474035", "bodyText": "Fixed.", "author": "barchetta", "createdAt": "2020-10-21T17:26:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyMTkyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyMzEyOQ==", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509423129", "bodyText": "Could we use a different name? dependency sounds like general dependency checking (such as to make sure we do not have conflicting versions). Could this be security-check.sh or maybe even owasp-check.sh?", "author": "tomas-langer", "createdAt": "2020-10-21T16:18:30Z", "path": "etc/scripts/dependency-check.sh", "diffHunk": "@@ -0,0 +1,54 @@\n+#!/bin/bash -e", "originalCommit": "c0a0ced1faf0e198424169582a350dea5c8b8bfb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ3NDM3Nw==", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509474377", "bodyText": "Fixed. Now owasp-dependency-check", "author": "barchetta", "createdAt": "2020-10-21T17:26:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQyMzEyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMDE1OA==", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509430158", "bodyText": "We can upgrade to 1.26 that should not be affected at all (not sure if the scan knows about this). From what I see in the commit, the default behavior is not to allow recursive keys: https://bitbucket.org/asomov/snakeyaml/commits/da11ddbd91c1f8392ea932b37fa48110fa54ed8c", "author": "tomas-langer", "createdAt": "2020-10-21T16:28:37Z", "path": "etc/dependency-check-suppression.xml", "diffHunk": "@@ -0,0 +1,131 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<suppressions xmlns=\"https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd\">\n+<!-- For information see https://jeremylong.github.io/DependencyCheck/general/suppression.html -->\n+<!-- Applies to Oracle HTTP Server -->\n+<suppress>\n+   <notes><![CDATA[\n+   file name: helidon-microprofile-server-2.1.0.jar\n+   ]]></notes>\n+   <packageUrl regex=\"true\">^pkg:maven/io\\.helidon\\.microprofile\\.server/helidon\\-microprofile\\-server@.*$</packageUrl>\n+   <cpe>cpe:/a:oracle:http_server</cpe>\n+</suppress>\n+\n+<!-- Applies to Processing:Processing -->\n+<suppress>\n+   <notes><![CDATA[\n+   file name: jsonp-jaxrs-1.1.6.jar\n+   ]]></notes>\n+   <packageUrl regex=\"true\">^pkg:maven/org\\.glassfish/jsonp\\-jaxrs@.*$</packageUrl>\n+   <cpe>cpe:/a:processing:processing</cpe>\n+</suppress>\n+\n+<!-- We use snakeyaml for reading local configuration, so this CVE\n+     does not apply to our use case. For more information:\n+     https://bitbucket.org/asomov/snakeyaml/issues/377/allow-configuration-for-preventing-billion", "originalCommit": "c0a0ced1faf0e198424169582a350dea5c8b8bfb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ3NTQ3MQ==", "url": "https://github.com/oracle/helidon/pull/2472#discussion_r509475471", "bodyText": "Yes. See issue #2475", "author": "barchetta", "createdAt": "2020-10-21T17:28:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMDE1OA=="}], "type": "inlineReview"}, {"oid": "bc67fe8ec05f322f916a07070f48ce17b441017d", "url": "https://github.com/oracle/helidon/commit/bc67fe8ec05f322f916a07070f48ce17b441017d", "message": "Update dependency scan script", "committedDate": "2020-10-21T16:32:09Z", "type": "commit"}, {"oid": "6d38a5ddfaa45bb83117c0ab955eff57bcc47148", "url": "https://github.com/oracle/helidon/commit/6d38a5ddfaa45bb83117c0ab955eff57bcc47148", "message": "OWASP scan: include runtime and provided. Rename script.", "committedDate": "2020-10-21T17:25:09Z", "type": "commit"}, {"oid": "349b63489bd49d59dc6b27849fca291eec3d4522", "url": "https://github.com/oracle/helidon/commit/349b63489bd49d59dc6b27849fca291eec3d4522", "message": "Copyright exclude for dependency-check-suppression.xml", "committedDate": "2020-10-21T17:54:27Z", "type": "commit"}, {"oid": "3ce56d00d0b87ffcabba756a0f8e95ae1effc6e2", "url": "https://github.com/oracle/helidon/commit/3ce56d00d0b87ffcabba756a0f8e95ae1effc6e2", "message": "Update comment", "committedDate": "2020-10-21T19:33:46Z", "type": "commit"}]}