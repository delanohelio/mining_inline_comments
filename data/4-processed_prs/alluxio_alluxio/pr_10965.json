{"pr_number": 10965, "pr_title": "Add description for Tasks in job stat", "pr_createdAt": "2020-02-21T02:04:35Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/10965", "timeline": [{"oid": "5a2aefc97a314de82bd02f634c97d1e1a85b8754", "url": "https://github.com/Alluxio/alluxio/commit/5a2aefc97a314de82bd02f634c97d1e1a85b8754", "message": "Add description to task", "committedDate": "2020-02-21T01:49:25Z", "type": "commit"}, {"oid": "82d0e91ee79876f05ecd67d9cc1a0242c3250b0e", "url": "https://github.com/Alluxio/alluxio/commit/82d0e91ee79876f05ecd67d9cc1a0242c3250b0e", "message": "checkstyle", "committedDate": "2020-02-21T02:03:45Z", "type": "commit"}, {"oid": "f32a52497b15b41e173a679d03999aa93d0f5aee", "url": "https://github.com/Alluxio/alluxio/commit/f32a52497b15b41e173a679d03999aa93d0f5aee", "message": "fix test", "committedDate": "2020-02-21T12:31:26Z", "type": "commit"}, {"oid": "c13db816f7da5187b5b411e61ca7ddc95386b451", "url": "https://github.com/Alluxio/alluxio/commit/c13db816f7da5187b5b411e61ca7ddc95386b451", "message": "fix test", "committedDate": "2020-02-21T15:34:41Z", "type": "commit"}, {"oid": "6cd2334fabf2c97700ace62d3cb3c3d7b8e7c5f4", "url": "https://github.com/Alluxio/alluxio/commit/6cd2334fabf2c97700ace62d3cb3c3d7b8e7c5f4", "message": "fix test", "committedDate": "2020-02-21T16:38:22Z", "type": "commit"}, {"oid": "137e5e3bd0c9c5aa59fe2e8f9490f47dfd473a33", "url": "https://github.com/Alluxio/alluxio/commit/137e5e3bd0c9c5aa59fe2e8f9490f47dfd473a33", "message": "formatting", "committedDate": "2020-02-21T17:01:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcwNTUyOQ==", "url": "https://github.com/Alluxio/alluxio/pull/10965#discussion_r382705529", "bodyText": "can you add what the args can be?", "author": "gpang", "createdAt": "2020-02-21T17:19:13Z", "path": "job/common/src/main/java/alluxio/job/wire/TaskInfo.java", "diffHunk": "@@ -46,26 +49,40 @@\n   private Serializable mResult;\n   private long mLastUpdated;\n   private String mWorkerHost;\n+  private String mDescription;\n \n   /**\n    * Default constructor.\n    */\n-  public TaskInfo() {}\n+  public TaskInfo() {\n+    mErrorMessage = \"\";\n+    mDescription = \"\";\n+  }\n \n   /**\n    * Constructs a new TaskInfo from jobId, taskId, Status, and workerAddress.\n    * @param jobId the job id\n    * @param taskId the task id\n    * @param status the status\n    * @param workerAddress the worker address\n+   * @param args the arguments", "originalCommit": "137e5e3bd0c9c5aa59fe2e8f9490f47dfd473a33", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjc1Mjc5Mw==", "url": "https://github.com/Alluxio/alluxio/pull/10965#discussion_r382752793", "bodyText": "It's currently any Serializable object that any Task takes.", "author": "bradyoo", "createdAt": "2020-02-21T19:02:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcwNTUyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcwNTk0NA==", "url": "https://github.com/Alluxio/alluxio/pull/10965#discussion_r382705944", "bodyText": "is args nullable?", "author": "gpang", "createdAt": "2020-02-21T17:20:09Z", "path": "job/common/src/main/java/alluxio/job/wire/TaskInfo.java", "diffHunk": "@@ -46,26 +49,40 @@\n   private Serializable mResult;\n   private long mLastUpdated;\n   private String mWorkerHost;\n+  private String mDescription;\n \n   /**\n    * Default constructor.\n    */\n-  public TaskInfo() {}\n+  public TaskInfo() {\n+    mErrorMessage = \"\";\n+    mDescription = \"\";\n+  }\n \n   /**\n    * Constructs a new TaskInfo from jobId, taskId, Status, and workerAddress.\n    * @param jobId the job id\n    * @param taskId the task id\n    * @param status the status\n    * @param workerAddress the worker address\n+   * @param args the arguments\n    */\n-  public TaskInfo(long jobId, long taskId, Status status, WorkerNetAddress workerAddress) {\n+  public TaskInfo(long jobId, long taskId, Status status, WorkerNetAddress workerAddress,\n+                  Object args) {\n     mJobId = jobId;\n     mTaskId = taskId;\n     mStatus = status;\n     mErrorMessage = \"\";\n     mResult = null;\n     mWorkerHost = workerAddress.getHost();\n+    mDescription = createDescription(args);\n+  }\n+\n+  private static String createDescription(Object args) {", "originalCommit": "137e5e3bd0c9c5aa59fe2e8f9490f47dfd473a33", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjc1MjExNw==", "url": "https://github.com/Alluxio/alluxio/pull/10965#discussion_r382752117", "bodyText": "args can be null. But it can handle it.", "author": "bradyoo", "createdAt": "2020-02-21T19:01:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcwNTk0NA=="}], "type": "inlineReview"}, {"oid": "9439dc2c7656897ea49caaf36168b6b18275fe40", "url": "https://github.com/Alluxio/alluxio/commit/9439dc2c7656897ea49caaf36168b6b18275fe40", "message": "feedback", "committedDate": "2020-02-21T19:04:52Z", "type": "commit"}, {"oid": "c31622230a59a18a03928ecffa2c476514b10ec9", "url": "https://github.com/Alluxio/alluxio/commit/c31622230a59a18a03928ecffa2c476514b10ec9", "message": "fix test", "committedDate": "2020-02-21T19:10:39Z", "type": "commit"}]}