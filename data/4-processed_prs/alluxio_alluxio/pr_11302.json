{"pr_number": 11302, "pr_title": "Improve and re-organize Logging doc page", "pr_createdAt": "2020-04-15T21:54:37Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11302", "timeline": [{"oid": "f671334c34c9b658f065e49e93d27dca8eb217e4", "url": "https://github.com/Alluxio/alluxio/commit/f671334c34c9b658f065e49e93d27dca8eb217e4", "message": "Improve and re-organize Logging doc page", "committedDate": "2020-04-15T21:57:03Z", "type": "commit"}, {"oid": "f671334c34c9b658f065e49e93d27dca8eb217e4", "url": "https://github.com/Alluxio/alluxio/commit/f671334c34c9b658f065e49e93d27dca8eb217e4", "message": "Improve and re-organize Logging doc page", "committedDate": "2020-04-15T21:57:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MzgyNg==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409173826", "bodyText": "no comma -> Note that there is an advanced...", "author": "Xenorith", "createdAt": "2020-04-15T22:35:29Z", "path": "docs/en/operation/Basic-Logging.md", "diffHunk": "@@ -1,43 +1,68 @@\n ---\n layout: global\n-title: Server Logging\n-nickname: Server Logging\n+title: Basic Logging\n+nickname: Basic Logging\n group: Operations\n-priority: 12\n+priority: 11\n ---\n \n * Table of Contents\n {:toc}\n \n ## Introduction\n \n-This page summarizes Alluxio's logging system for servers, such as the master and worker\n-processes. We include tips for modifying Alluxio's log4j properties file to best suit\n-deployment needs. If you are a user of Alluxio looking for logging information about clients\n-that are utilizing the Alluxio API, we recommend looking at the\n-[client logging documentation]({{ '/en/operation/Client-Logging.html' | relativize_url }})\n-\n-Alluxio's logging behavior can be fully configured through the `log4j.properties` file found in the\n-`conf` folder.\n+This page describes the basic logging function provided by Alluxio server processes (e.g., masters, workers and etc)\n+and application processes utilizing Alluxio clients (e.g., Spark or MapReduce jobs running on Alluxio).\n+Note that, there is an advanced feature that streams server-side and client-side logs to separate Alluxio logservers", "originalCommit": "f671334c34c9b658f065e49e93d27dca8eb217e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM1MDk3OA==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409350978", "bodyText": "ping", "author": "Xenorith", "createdAt": "2020-04-16T07:49:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MzgyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTcxNzg1Mw==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409717853", "bodyText": "done", "author": "apc999", "createdAt": "2020-04-16T17:12:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MzgyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NTAzOA==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409175038", "bodyText": "over explanation of application process logs. can simplify to\nLog files for each individual Alluxio server process can be found under `${ALLUXIO_HOME}/logs/`.\nLog files for the Alluxio client utilized by different applications are located with their respective application logs.\n\ni might even suggest removing the application-side logs section because it's so short. could continue from the above lines and go directly into:\nBelow are links to the documentation of particular compute frameworks with information\non where logs may be found and how to configure them.\n\n- [Apache Hadoop]({{ '/en/compute/Hadoop-MapReduce.html' | relativize_url }}#logging-configuration)\n- [Apache HBase]({{ '/en/compute/HBase.html' | relativize_url }}#logging-configuration)\n- [Apache Hive]({{ '/en/compute/Hive.html' | relativize_url }}#logging-configuration)\n- [Apache Spark]({{ '/en/compute/Spark.html' | relativize_url }}#logging-configuration)\n\nthen proceed to describe server side logs in more detail", "author": "Xenorith", "createdAt": "2020-04-15T22:38:42Z", "path": "docs/en/operation/Basic-Logging.md", "diffHunk": "@@ -1,43 +1,68 @@\n ---\n layout: global\n-title: Server Logging\n-nickname: Server Logging\n+title: Basic Logging\n+nickname: Basic Logging\n group: Operations\n-priority: 12\n+priority: 11\n ---\n \n * Table of Contents\n {:toc}\n \n ## Introduction\n \n-This page summarizes Alluxio's logging system for servers, such as the master and worker\n-processes. We include tips for modifying Alluxio's log4j properties file to best suit\n-deployment needs. If you are a user of Alluxio looking for logging information about clients\n-that are utilizing the Alluxio API, we recommend looking at the\n-[client logging documentation]({{ '/en/operation/Client-Logging.html' | relativize_url }})\n-\n-Alluxio's logging behavior can be fully configured through the `log4j.properties` file found in the\n-`conf` folder.\n+This page describes the basic logging function provided by Alluxio server processes (e.g., masters, workers and etc)\n+and application processes utilizing Alluxio clients (e.g., Spark or MapReduce jobs running on Alluxio).\n+Note that, there is an advanced feature that streams server-side and client-side logs to separate Alluxio logservers\n+(see [remote logging]({{ '/en/operation/Remote-Logging.html' | relativize_url }}) for more details).\n \n ## Log Location\n \n-### Default Location\n+Alluxio logging function is based on [`log4j`](https://logging.apache.org/log4j/) library,\n+configured through the `${ALLUXIO_HOME}/conf/log4j.properties`.\n+Logs are written to different files at different locations by Alluxio server processes and  application processes:", "originalCommit": "f671334c34c9b658f065e49e93d27dca8eb217e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM0MzY0OA==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409343648", "bodyText": "refactored this section", "author": "apc999", "createdAt": "2020-04-16T07:36:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NTAzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NTY4NQ==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409175685", "bodyText": "modify the line to be\nnot sure why it's referred to as the first line when the previous statement does not refer to it in the same way", "author": "Xenorith", "createdAt": "2020-04-15T22:40:18Z", "path": "docs/en/operation/Basic-Logging.md", "diffHunk": "@@ -51,7 +76,7 @@ For example, if you would like to modify the level for all logs, then you can ch\n log4j.rootLogger=INFO, ${alluxio.logger.type}, ${alluxio.remote.logger.type}\n ```\n \n-If you wish to have `DEBUG` logging, then you would make the first line\n+To have `DEBUG` logging, modify the first line", "originalCommit": "f671334c34c9b658f065e49e93d27dca8eb217e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM0NzQ1Nw==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409347457", "bodyText": "refactored", "author": "apc999", "createdAt": "2020-04-16T07:43:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NTY4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NjI5OQ==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409176299", "bodyText": "did you edit the wording in this file from where it was copied? if not then i won't look too closely at this", "author": "Xenorith", "createdAt": "2020-04-15T22:42:01Z", "path": "docs/en/operation/Remote-Logging.md", "diffHunk": "@@ -0,0 +1,152 @@\n+---", "originalCommit": "f671334c34c9b658f065e49e93d27dca8eb217e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMyMDM0NA==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409320344", "bodyText": "most of the text is just copy & paste. I would not suggest spending time on this doc, very few people use this feature (I am even for removing or deprecating this feature)", "author": "apc999", "createdAt": "2020-04-16T06:50:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NjI5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM1MzAwMg==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409353002", "bodyText": "got it", "author": "Xenorith", "createdAt": "2020-04-16T07:52:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NjI5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NzAzNQ==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409177035", "bodyText": "2 #s instead of 3?", "author": "Xenorith", "createdAt": "2020-04-15T22:43:58Z", "path": "docs/en/operation/Basic-Logging.md", "diffHunk": "@@ -1,43 +1,68 @@\n ---\n layout: global\n-title: Server Logging\n-nickname: Server Logging\n+title: Basic Logging\n+nickname: Basic Logging\n group: Operations\n-priority: 12\n+priority: 11\n ---\n \n * Table of Contents\n {:toc}\n \n ## Introduction\n \n-This page summarizes Alluxio's logging system for servers, such as the master and worker\n-processes. We include tips for modifying Alluxio's log4j properties file to best suit\n-deployment needs. If you are a user of Alluxio looking for logging information about clients\n-that are utilizing the Alluxio API, we recommend looking at the\n-[client logging documentation]({{ '/en/operation/Client-Logging.html' | relativize_url }})\n-\n-Alluxio's logging behavior can be fully configured through the `log4j.properties` file found in the\n-`conf` folder.\n+This page describes the basic logging function provided by Alluxio server processes (e.g., masters, workers and etc)\n+and application processes utilizing Alluxio clients (e.g., Spark or MapReduce jobs running on Alluxio).\n+Note that, there is an advanced feature that streams server-side and client-side logs to separate Alluxio logservers\n+(see [remote logging]({{ '/en/operation/Remote-Logging.html' | relativize_url }}) for more details).\n \n ## Log Location\n \n-### Default Location\n+Alluxio logging function is based on [`log4j`](https://logging.apache.org/log4j/) library,\n+configured through the `${ALLUXIO_HOME}/conf/log4j.properties`.\n+Logs are written to different files at different locations by Alluxio server processes and  application processes:\n+\n+- Logs of Alluxio application processes are typically a part of application logs.\n+  The location varies by applications.\n+- Alluxio server processes (including master, worker, job master, job worker, or fuse integration)\n+  all write log files under `${ALLUXIO_HOME}/logs/`.\n+\n+## Application-side Logs\n+\n+We recommend looking at the documentation of the particular compute framework used to determine\n+where to find Alluxio client logs and how to set the logging level.\n \n-By default Alluxio processes' log files can be found under `${ALLUXIO_HOME}/logs/`.\n+Below are links to the documentation of particular compute frameworks with information\n+on where logs may be found and how to configure them.\n+\n+- [Apache Hadoop]({{ '/en/compute/Hadoop-MapReduce.html' | relativize_url }}#logging-configuration)\n+- [Apache HBase]({{ '/en/compute/HBase.html' | relativize_url }}#logging-configuration)\n+- [Apache Hive]({{ '/en/compute/Hive.html' | relativize_url }}#logging-configuration)\n+- [Apache Spark]({{ '/en/compute/Spark.html' | relativize_url }}#logging-configuration)\n+\n+### Server-side Logs", "originalCommit": "f671334c34c9b658f065e49e93d27dca8eb217e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM0MzcyMQ==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409343721", "bodyText": "refactored", "author": "apc999", "createdAt": "2020-04-16T07:36:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NzAzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM1MTc4OA==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409351788", "bodyText": "comma after fuse.log\nwhen listing 3 or more items, use the oxford comma after the second to last item\nhttps://www.grammarly.com/blog/what-is-the-oxford-comma-and-why-do-people-care-so-much-about-it/", "author": "Xenorith", "createdAt": "2020-04-16T07:50:51Z", "path": "docs/en/operation/Basic-Logging.md", "diffHunk": "@@ -0,0 +1,208 @@\n+---\n+layout: global\n+title: Basic Logging\n+nickname: Basic Logging\n+group: Operations\n+priority: 11\n+---\n+\n+* Table of Contents\n+{:toc}\n+\n+## Introduction\n+\n+This page describes the basic logging function provided by Alluxio server processes (e.g., masters, workers and etc)\n+and application processes utilizing Alluxio clients (e.g., Spark or MapReduce jobs running on Alluxio).\n+Note that, there is an advanced feature that streams server-side and client-side logs to separate Alluxio logservers\n+(see [remote logging]({{ '/en/operation/Remote-Logging.html' | relativize_url }}) for more details).\n+\n+Alluxio logging is implemented using [`log4j`](https://logging.apache.org/log4j/) and thus\n+most of the configuration is done through `log4j.properties`.\n+\n+## Log Location\n+\n+### Server Logs\n+\n+Log files for each individual Alluxio server process (e.g., master, worker, FUSE, proxy) can be found under `${ALLUXIO_HOME}/logs/`,\n+with file names like `master.log`, `worker.log`, `fuse.log` and `proxy.log`.", "originalCommit": "587bd3fd1feed156ca10e31dde0152e4d0b28a58", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTcyMTg3OA==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409721878", "bodyText": "thanks . good to know.", "author": "apc999", "createdAt": "2020-04-16T17:19:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM1MTc4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM1MjE3OQ==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409352179", "bodyText": "extra ` character at the end of the line", "author": "Xenorith", "createdAt": "2020-04-16T07:51:31Z", "path": "docs/en/operation/Basic-Logging.md", "diffHunk": "@@ -0,0 +1,208 @@\n+---\n+layout: global\n+title: Basic Logging\n+nickname: Basic Logging\n+group: Operations\n+priority: 11\n+---\n+\n+* Table of Contents\n+{:toc}\n+\n+## Introduction\n+\n+This page describes the basic logging function provided by Alluxio server processes (e.g., masters, workers and etc)\n+and application processes utilizing Alluxio clients (e.g., Spark or MapReduce jobs running on Alluxio).\n+Note that, there is an advanced feature that streams server-side and client-side logs to separate Alluxio logservers\n+(see [remote logging]({{ '/en/operation/Remote-Logging.html' | relativize_url }}) for more details).\n+\n+Alluxio logging is implemented using [`log4j`](https://logging.apache.org/log4j/) and thus\n+most of the configuration is done through `log4j.properties`.\n+\n+## Log Location\n+\n+### Server Logs\n+\n+Log files for each individual Alluxio server process (e.g., master, worker, FUSE, proxy) can be found under `${ALLUXIO_HOME}/logs/`,\n+with file names like `master.log`, `worker.log`, `fuse.log` and `proxy.log`.\n+\n+This location can be customized by setting environment variable `ALLUXIO_LOGS_DIR`\n+or appending `alluxio.logs.dir` property through JVM properties (e.g. `ALLUXIO_JAVA_OPTS+=\"-Dalluxio.logs.dir=/foo\"`)\n+See the\n+[configuration settings page]({{ '/en/operation/Configuration.html' | relativize_url }}#environment-variables)\n+for more information.\n+\n+### Application Logs\n+\n+Log files for the Alluxio client utilized by different applications are located with their respective application logs.\n+Check out particular compute frameworks with information\n+on where logs may be found.\n+\n+Here are documentation to configure individual application logs including\n+[Apache Hadoop]({{ '/en/compute/Hadoop-MapReduce.html' | relativize_url }}#logging-configuration),\n+[Apache HBase]({{ '/en/compute/HBase.html' | relativize_url }}#logging-configuration),\n+[Apache Hive]({{ '/en/compute/Hive.html' | relativize_url }}#logging-configuration),\n+[Apache Spark]({{ '/en/compute/Spark.html' | relativize_url }}#logging-configuration).\n+\n+## Configuring Log Levels\n+\n+Alluxio uses the following four logging levels:\n+- `DEBUG`: fine-grained information, most useful for debugging purpose.\n+- `INFO`: messages that highlight the status of progress.\n+- `WARN`: potentially harmful events that users may need to know but the process will still continue running.\n+- `ERROR`: system errors that users should pay attention to.\n+\n+By default, Alluxio server processes write logs at level `INFO`, which includes all events at level `INFO`, `WARN` and `ERROR`.\n+\n+\n+### Modifying Logging with `log4j.properties`\n+\n+You can modify `${ALLUXIO_HOME}/conf/log4j.properties` to customize logging levels.\n+\n+For example, to modify the level for all logs to `DEBUG`, change the\n+`rootLogger` level by modifying the first line of `log4j.properties`:\n+\n+```properties\n+log4j.rootLogger=DEBUG, ${alluxio.logger.type}, ${alluxio.remote.logger.type}`", "originalCommit": "587bd3fd1feed156ca10e31dde0152e4d0b28a58", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTcxOTI1NQ==", "url": "https://github.com/Alluxio/alluxio/pull/11302#discussion_r409719255", "bodyText": "removed", "author": "apc999", "createdAt": "2020-04-16T17:15:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTM1MjE3OQ=="}], "type": "inlineReview"}, {"oid": "bf4aad52bf8d6ec0d720ef479b6d6da59384ab0a", "url": "https://github.com/Alluxio/alluxio/commit/bf4aad52bf8d6ec0d720ef479b6d6da59384ab0a", "message": "Address comments", "committedDate": "2020-04-16T07:57:36Z", "type": "commit"}, {"oid": "bf4aad52bf8d6ec0d720ef479b6d6da59384ab0a", "url": "https://github.com/Alluxio/alluxio/commit/bf4aad52bf8d6ec0d720ef479b6d6da59384ab0a", "message": "Address comments", "committedDate": "2020-04-16T07:57:36Z", "type": "forcePushed"}, {"oid": "7affe0596b6c41d7708fb5ad88c2856eda0d9aa9", "url": "https://github.com/Alluxio/alluxio/commit/7affe0596b6c41d7708fb5ad88c2856eda0d9aa9", "message": "Address comments", "committedDate": "2020-04-16T17:43:04Z", "type": "commit"}, {"oid": "7affe0596b6c41d7708fb5ad88c2856eda0d9aa9", "url": "https://github.com/Alluxio/alluxio/commit/7affe0596b6c41d7708fb5ad88c2856eda0d9aa9", "message": "Address comments", "committedDate": "2020-04-16T17:43:04Z", "type": "forcePushed"}]}