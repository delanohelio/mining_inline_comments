{"pr_number": 12270, "pr_title": "[DOCFIX] Update Running Alluxio on HA cluster docs", "pr_createdAt": "2020-10-13T20:38:46Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12270", "timeline": [{"oid": "65f75aaa598bc1f26677e64aa977932c859cd690", "url": "https://github.com/Alluxio/alluxio/commit/65f75aaa598bc1f26677e64aa977932c859cd690", "message": "Update Running Alluxio on HA cluster docs", "committedDate": "2020-10-13T20:35:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1MzQxOA==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504253418", "bodyText": "For example, With -> For example, with", "author": "Xenorith", "createdAt": "2020-10-13T20:56:11Z", "path": "docs/en/deploy/Running-Alluxio-On-a-HA-Cluster.md", "diffHunk": "@@ -220,34 +219,31 @@ $ ./bin/alluxio runTests\n ## Access an Alluxio Cluster with HA\n \n When an application interacts with Alluxio in HA mode, the client must know about\n-the Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n-There are two ways to specify the HA Alluxio service address on the client side:\n+the connection information of Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n+The following sections listed out two ways to specify the HA Alluxio service address on the client side.\n \n ### Specify Alluxio Service in Configuration Parameters\n \n-Users can also pre-configure the service address of an Alluxio HA cluster in environment variables\n+Users can pre-configure the service address of an Alluxio HA cluster in environment variables\n or site properties, and then connect to the service using Alluxio URI like to\n-`alluxio:///path` where the required connection details to the HA cluster information is already\n-configured with these parameters.\n-For example, if using Hadoop, you can configure the properties in `core-site.xml`, and then use the\n-Hadoop CLI with an Alluxio URI.\n+`alluxio:///path` where the required connection details to the HA cluster information is already provided.\n+For example, With Alluxio connection information in `core-site.xml` of Hadoop, Hadoop CLI can ", "originalCommit": "65f75aaa598bc1f26677e64aa977932c859cd690", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1NDU4Mg==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504254582", "bodyText": "\"and then connect to the service using an Alluxio URI such as alluxio:///path.\"\nthe last section is redundant since you already said users should preconfigure the service address in env vars or site properties", "author": "Xenorith", "createdAt": "2020-10-13T20:58:18Z", "path": "docs/en/deploy/Running-Alluxio-On-a-HA-Cluster.md", "diffHunk": "@@ -220,34 +219,31 @@ $ ./bin/alluxio runTests\n ## Access an Alluxio Cluster with HA\n \n When an application interacts with Alluxio in HA mode, the client must know about\n-the Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n-There are two ways to specify the HA Alluxio service address on the client side:\n+the connection information of Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n+The following sections listed out two ways to specify the HA Alluxio service address on the client side.\n \n ### Specify Alluxio Service in Configuration Parameters\n \n-Users can also pre-configure the service address of an Alluxio HA cluster in environment variables\n+Users can pre-configure the service address of an Alluxio HA cluster in environment variables\n or site properties, and then connect to the service using Alluxio URI like to", "originalCommit": "65f75aaa598bc1f26677e64aa977932c859cd690", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1NDg2MA==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504254860", "bodyText": "connect to the Alluxio cluster", "author": "Xenorith", "createdAt": "2020-10-13T20:58:52Z", "path": "docs/en/deploy/Running-Alluxio-On-a-HA-Cluster.md", "diffHunk": "@@ -220,34 +219,31 @@ $ ./bin/alluxio runTests\n ## Access an Alluxio Cluster with HA\n \n When an application interacts with Alluxio in HA mode, the client must know about\n-the Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n-There are two ways to specify the HA Alluxio service address on the client side:\n+the connection information of Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n+The following sections listed out two ways to specify the HA Alluxio service address on the client side.\n \n ### Specify Alluxio Service in Configuration Parameters\n \n-Users can also pre-configure the service address of an Alluxio HA cluster in environment variables\n+Users can pre-configure the service address of an Alluxio HA cluster in environment variables\n or site properties, and then connect to the service using Alluxio URI like to\n-`alluxio:///path` where the required connection details to the HA cluster information is already\n-configured with these parameters.\n-For example, if using Hadoop, you can configure the properties in `core-site.xml`, and then use the\n-Hadoop CLI with an Alluxio URI.\n+`alluxio:///path` where the required connection details to the HA cluster information is already provided.\n+For example, With Alluxio connection information in `core-site.xml` of Hadoop, Hadoop CLI can \n+connect to Alluxio cluster with HA.", "originalCommit": "65f75aaa598bc1f26677e64aa977932c859cd690", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1NTAwMQ==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504255001", "bodyText": "The following sections list two ways", "author": "Xenorith", "createdAt": "2020-10-13T20:59:10Z", "path": "docs/en/deploy/Running-Alluxio-On-a-HA-Cluster.md", "diffHunk": "@@ -220,34 +219,31 @@ $ ./bin/alluxio runTests\n ## Access an Alluxio Cluster with HA\n \n When an application interacts with Alluxio in HA mode, the client must know about\n-the Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n-There are two ways to specify the HA Alluxio service address on the client side:\n+the connection information of Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n+The following sections listed out two ways to specify the HA Alluxio service address on the client side.", "originalCommit": "65f75aaa598bc1f26677e64aa977932c859cd690", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1Nzc4Ng==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504257786", "bodyText": "want to make it clear that the two approaches are:\n\nembedded journal\nzookeeper\n\nso i would start the first bullet point with:\n- If using embedded journal, set ...\nand then start the second with:\n- If using Zookeeper, set...", "author": "Xenorith", "createdAt": "2020-10-13T21:05:08Z", "path": "docs/en/deploy/Running-Alluxio-On-a-HA-Cluster.md", "diffHunk": "@@ -220,34 +219,31 @@ $ ./bin/alluxio runTests\n ## Access an Alluxio Cluster with HA\n \n When an application interacts with Alluxio in HA mode, the client must know about\n-the Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n-There are two ways to specify the HA Alluxio service address on the client side:\n+the connection information of Alluxio HA cluster, so that the client knows how to discover the Alluxio leading master.\n+The following sections listed out two ways to specify the HA Alluxio service address on the client side.\n \n ### Specify Alluxio Service in Configuration Parameters\n \n-Users can also pre-configure the service address of an Alluxio HA cluster in environment variables\n+Users can pre-configure the service address of an Alluxio HA cluster in environment variables\n or site properties, and then connect to the service using Alluxio URI like to\n-`alluxio:///path` where the required connection details to the HA cluster information is already\n-configured with these parameters.\n-For example, if using Hadoop, you can configure the properties in `core-site.xml`, and then use the\n-Hadoop CLI with an Alluxio URI.\n+`alluxio:///path` where the required connection details to the HA cluster information is already provided.\n+For example, With Alluxio connection information in `core-site.xml` of Hadoop, Hadoop CLI can \n+connect to Alluxio cluster with HA.\n \n ```console\n $ hadoop fs -ls alluxio:///directory\n ```\n \n-Depending on the different approach to achieve HA, different properties are required to set:\n+Depending on the different approaches to achieve HA, different properties are required:\n+\n+- `alluxio.master.rpc.addresses` is required when connecting to HA cluster on embedded journal.", "originalCommit": "65f75aaa598bc1f26677e64aa977932c859cd690", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI5MDI1NQ==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504290255", "bodyText": "that's much better", "author": "LuQQiu", "createdAt": "2020-10-13T22:16:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1Nzc4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI1ODA1NQ==", "url": "https://github.com/Alluxio/alluxio/pull/12270#discussion_r504258055", "bodyText": "remove comma in Alluxio leading master and become...", "author": "Xenorith", "createdAt": "2020-10-13T21:05:41Z", "path": "docs/en/deploy/Running-Alluxio-On-a-HA-Cluster.md", "diffHunk": "@@ -332,30 +328,18 @@ $ ./bin/alluxio-start.sh master # starts the local master\n $ ./bin/alluxio-start.sh worker # starts the local worker\n ```\n \n-### Format the Journal\n-\n-On any master node, format the Alluxio journal with the following command:\n-\n-```console\n-$ ./bin/alluxio format\n-```\n-\n-> Formatting the journal will delete all metadata from Alluxio. However, the data in under storage\n-will be untouched.\n-\n ### Add/Remove Workers Dynamically\n \n Adding a worker to an Alluxio cluster dynamically is as simple as starting a new Alluxio worker\n process, with the appropriate configuration.\n-In most cases, the new worker's configuration should be the same as all the other workers'\n-configuration.\n+In most cases, the new worker's configuration should be the same as all the other workers' configuration.\n Run the following command on the new worker to add\n \n ```console\n $ ./bin/alluxio-start.sh worker SudoMount # starts the local worker\n ```\n \n-Once the worker is started, it will register itself with the Alluxio master, and become part of the Alluxio cluster.\n+Once the worker is started, it will register itself with the Alluxio leading master, and become part of the Alluxio cluster.", "originalCommit": "65f75aaa598bc1f26677e64aa977932c859cd690", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "045662a9c45bda384c7059e83d89e4a1044720d7", "url": "https://github.com/Alluxio/alluxio/commit/045662a9c45bda384c7059e83d89e4a1044720d7", "message": "Address comments", "committedDate": "2020-10-13T22:12:41Z", "type": "commit"}]}