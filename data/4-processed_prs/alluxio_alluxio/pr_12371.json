{"pr_number": 12371, "pr_title": "Upgrade Ozone ufs to 1.0.0 version", "pr_createdAt": "2020-10-23T07:34:37Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12371", "timeline": [{"oid": "020f44e44f7ee59c212589129702e59a49422419", "url": "https://github.com/Alluxio/alluxio/commit/020f44e44f7ee59c212589129702e59a49422419", "message": "Upgrade Ozone ufs to 1.0.0 version\n\n#12202\n\nSomething I should clarify:\n- Add a new ozone shade module to avoid classCaseException for the\nfollowing code from `org.apache.hadoop.ipc.ProtobufRpcEngine#invoke`\n```java\nfinal Message theRequest = (Message) args[1];\n```\n- Update the Ozone.md\n\npr-link: Alluxio/alluxio#12226\nchange-id: cid-0ef47507e66bf4ac527799aa16b14601634db2c4\n(cherry picked from commit 118769ba1ff5da6ca9382e9358e6a939e32fb8f6)", "committedDate": "2020-10-23T07:23:07Z", "type": "commit"}, {"oid": "8dd57d85331f0ac857f4825db96d89861b457f45", "url": "https://github.com/Alluxio/alluxio/commit/8dd57d85331f0ac857f4825db96d89861b457f45", "message": "Using release profile properties to determine if we need to generate dependency reduced pom.", "committedDate": "2020-10-23T07:32:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NTc5MA==", "url": "https://github.com/Alluxio/alluxio/pull/12371#discussion_r510695790", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              <version>${ufs.ozone.version}</version>\n          \n          \n            \n              <version>2.5.0-SNAPSHOT</version>\n          \n      \n    \n    \n  \n\nHaving a var here ${ufs.ozone.version} is not encouraged", "author": "apc999", "createdAt": "2020-10-23T07:43:58Z", "path": "shaded/ozone/pom.xml", "diffHunk": "@@ -0,0 +1,190 @@\n+<!--\n+\n+    The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+    (the \"License\"). You may not use this work except in compliance with the License, which is\n+    available at www.apache.org/licenses/LICENSE-2.0\n+\n+    This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+    either express or implied, as more fully set forth in the License.\n+\n+    See the NOTICE file distributed with this work for information regarding copyright ownership.\n+\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.alluxio</groupId>\n+    <artifactId>alluxio-shaded</artifactId>\n+    <version>2.5.0-SNAPSHOT</version>\n+  </parent>\n+  <artifactId>alluxio-shaded-ozone</artifactId>\n+  <packaging>jar</packaging>\n+  <name>Alluxio Shaded Libraries - Ozone</name>\n+  <version>${ufs.ozone.version}</version>", "originalCommit": "8dd57d85331f0ac857f4825db96d89861b457f45", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NjA3Nw==", "url": "https://github.com/Alluxio/alluxio/pull/12371#discussion_r510696077", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  <version>${ufs.ozone.version}</version>\n          \n          \n            \n                  <version>${project.version}</version>", "author": "apc999", "createdAt": "2020-10-23T07:44:30Z", "path": "underfs/ozone/pom.xml", "diffHunk": "@@ -25,17 +25,15 @@\n     <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n     <!-- run properly from sub-project directories -->\n     <build.path>${project.parent.parent.basedir}/build</build.path>\n+    <ufs.ozone.version>1.0.0</ufs.ozone.version>\n   </properties>\n \n   <dependencies>\n     <!-- External dependencies -->\n     <dependency>\n-      <groupId>org.apache.hadoop</groupId>\n-      <artifactId>hadoop-ozone-client</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>org.apache.hadoop</groupId>\n-      <artifactId>hadoop-ozone-filesystem</artifactId>\n+      <groupId>org.alluxio</groupId>\n+      <artifactId>alluxio-shaded-ozone</artifactId>\n+      <version>${ufs.ozone.version}</version>", "originalCommit": "8dd57d85331f0ac857f4825db96d89861b457f45", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f2177a83079b6b87b70e7f9f26481170041ec48b", "url": "https://github.com/Alluxio/alluxio/commit/f2177a83079b6b87b70e7f9f26481170041ec48b", "message": "Replace Ozone shaded version to project version.", "committedDate": "2020-10-23T07:53:42Z", "type": "commit"}, {"oid": "f2177a83079b6b87b70e7f9f26481170041ec48b", "url": "https://github.com/Alluxio/alluxio/commit/f2177a83079b6b87b70e7f9f26481170041ec48b", "message": "Replace Ozone shaded version to project version.", "committedDate": "2020-10-23T07:53:42Z", "type": "forcePushed"}]}