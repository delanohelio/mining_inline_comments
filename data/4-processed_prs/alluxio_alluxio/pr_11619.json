{"pr_number": 11619, "pr_title": "Wait for alluxio master to come up before startSync", "pr_createdAt": "2020-06-22T21:42:02Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11619", "timeline": [{"oid": "03370c5efcb54ab7dec095a9e362d5e7b8691831", "url": "https://github.com/Alluxio/alluxio/commit/03370c5efcb54ab7dec095a9e362d5e7b8691831", "message": "Wait for alluxio master to come up before startSync", "committedDate": "2020-06-22T21:41:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg0MzczOQ==", "url": "https://github.com/Alluxio/alluxio/pull/11619#discussion_r443843739", "bodyText": "what do you think about always waiting after starting so any future additional alluxio commands will be safe to run? so i propose to move this immediately after register_backup_on_shutdown block. the bootstrapping shouldn't take any longer since workers still have to start and this is on master", "author": "Xenorith", "createdAt": "2020-06-22T21:44:58Z", "path": "integration/emr/alluxio-emr.sh", "diffHunk": "@@ -685,6 +685,10 @@ IN\n       fi\n \n       if [[ \"${sync_list}\" ]]; then\n+        until ${ALLUXIO_HOME}/bin/alluxio fsadmin report", "originalCommit": "03370c5efcb54ab7dec095a9e362d5e7b8691831", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg1OTA0Mw==", "url": "https://github.com/Alluxio/alluxio/pull/11619#discussion_r443859043", "bodyText": "Sounds good, it may be clearer to do that", "author": "LuQQiu", "createdAt": "2020-06-22T22:25:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg0MzczOQ=="}], "type": "inlineReview"}, {"oid": "549fc3e709e3a5d5844d43e2037ad9cf58fe19ac", "url": "https://github.com/Alluxio/alluxio/commit/549fc3e709e3a5d5844d43e2037ad9cf58fe19ac", "message": "Move wait for", "committedDate": "2020-06-22T22:24:19Z", "type": "commit"}]}