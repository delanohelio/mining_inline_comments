{"pr_number": 11826, "pr_title": "[DOCFIX] Improve docker documentation", "pr_createdAt": "2020-07-26T07:01:27Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11826", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5ODM1Mw==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461098353", "bodyText": "just checking that whatever is parsing ALLUXIO_JAVA_OPTS will trim all the extra spaces and newlines introduced here?", "author": "Xenorith", "createdAt": "2020-07-27T18:50:42Z", "path": "docs/en/deploy/Running-Alluxio-On-Docker.md", "diffHunk": "@@ -305,7 +324,9 @@ Provide the master embedded journal addresses and set the hostname of the curren\n ```console\n $ docker run -d \\\n   ...\n-  -e ALLUXIO_JAVA_OPTS=\"-Dalluxio.master.embedded.journal.addresses=master-hostname-1:19200,master-hostname-2:19200,master-hostname-3:19200 -Dalluxio.master.hostname=master-hostname-1\" \\\n+  -e ALLUXIO_JAVA_OPTS=\" \\", "originalCommit": "480ef215a422786d80b1c10c4589d22309d632f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE1MDE4Mw==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461150183", "bodyText": "yes, I tested all commands here", "author": "apc999", "createdAt": "2020-07-27T20:28:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5ODM1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5ODYxOA==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461098618", "bodyText": "move -Dalluxio.master.journal.type=UFS in a new line to be consistent with the above examples", "author": "Xenorith", "createdAt": "2020-07-27T18:51:12Z", "path": "docs/en/deploy/Running-Alluxio-On-Docker.md", "diffHunk": "@@ -330,7 +353,10 @@ Point them to a shared journal and set their Zookeeper configuration.\n ```console\n $ docker run -d \\\n   ...\n-  -e ALLUXIO_JAVA_OPTS=\"-Dalluxio.master.journal.type=UFS -Dalluxio.master.journal.folder=hdfs://[namenodeserver]:[namenodeport]/alluxio_journal -Dalluxio.zookeeper.enabled=true -Dalluxio.zookeeper.address=zkhost1:2181,zkhost2:2181,zkhost3:2181\" \\\n+  -e ALLUXIO_JAVA_OPTS=\"-Dalluxio.master.journal.type=UFS \\", "originalCommit": "480ef215a422786d80b1c10c4589d22309d632f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE1MTAxOA==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461151018", "bodyText": "done", "author": "apc999", "createdAt": "2020-07-27T20:30:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA5ODYxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMzMyNA==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461103324", "bodyText": "brief mention that one should pick either option (and probably we prefer people to use embedded journal?). similar to how in the above section about container networking, it is mentioned that It is recommended to use host network, option A, for testing.; would be good to suggest something similar so people know what to pick", "author": "Xenorith", "createdAt": "2020-07-27T18:59:49Z", "path": "docs/en/deploy/Running-Alluxio-On-Docker.md", "diffHunk": "@@ -296,7 +314,8 @@ $ docker exec ${container_id} cat /opt/alluxio/conf/alluxio-env.sh\n A lone Alluxio master is a single point of failure. To guard against this, a production\n cluster should run multiple Alluxio masters in [High Availability mode]({{ '/en/deploy/Running-Alluxio-On-a-HA-Cluster.html' | relativize_url }}).\n \n-#### Option A: Internal Leader Election", "originalCommit": "480ef215a422786d80b1c10c4589d22309d632f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE2MTI3OA==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461161278", "bodyText": "done", "author": "apc999", "createdAt": "2020-07-27T20:49:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTEwMzMyNA=="}], "type": "inlineReview"}, {"oid": "406d45f6255b3c76e3ca18f92195c585afa743eb", "url": "https://github.com/Alluxio/alluxio/commit/406d45f6255b3c76e3ca18f92195c585afa743eb", "message": "Improve docker documentation", "committedDate": "2020-07-27T20:50:16Z", "type": "commit"}, {"oid": "406d45f6255b3c76e3ca18f92195c585afa743eb", "url": "https://github.com/Alluxio/alluxio/commit/406d45f6255b3c76e3ca18f92195c585afa743eb", "message": "Improve docker documentation", "committedDate": "2020-07-27T20:50:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE2NjUxMw==", "url": "https://github.com/Alluxio/alluxio/pull/11826#discussion_r461166513", "bodyText": "jenkins caught a typo:\nextra l in -> .htmll#overview", "author": "Xenorith", "createdAt": "2020-07-27T20:59:41Z", "path": "docs/en/deploy/Running-Alluxio-On-Docker.md", "diffHunk": "@@ -296,7 +314,12 @@ $ docker exec ${container_id} cat /opt/alluxio/conf/alluxio-env.sh\n A lone Alluxio master is a single point of failure. To guard against this, a production\n cluster should run multiple Alluxio masters in [High Availability mode]({{ '/en/deploy/Running-Alluxio-On-a-HA-Cluster.html' | relativize_url }}).\n \n-#### Option A: Internal Leader Election\n+There are two ways to enable HA mode in Alluxio, either with internal leader election and embedded journal, or external Zookeeper and a shared journal storage.\n+Please read [running Alluxio with HA]({{ '/en/deploy/Running-Alluxio-On-a-HA-Cluster.htmll#overview' | relativize_url }}) for more details.", "originalCommit": "406d45f6255b3c76e3ca18f92195c585afa743eb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7f944b5bf74927cebace4a158b13bcb7d2d87ff9", "url": "https://github.com/Alluxio/alluxio/commit/7f944b5bf74927cebace4a158b13bcb7d2d87ff9", "message": "Update Running-Alluxio-On-Docker.md", "committedDate": "2020-07-27T21:16:29Z", "type": "commit"}]}