{"pr_number": 12014, "pr_title": "Downgrade grpc to 1.28.1 and upgrade netty to 4.1.51.Final", "pr_createdAt": "2020-08-19T18:01:05Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12014", "timeline": [{"oid": "ec96da0be18971d99152d4eac78c3dc005fc22d4", "url": "https://github.com/Alluxio/alluxio/commit/ec96da0be18971d99152d4eac78c3dc005fc22d4", "message": "downgrade grpc to 1.28.1 and upgrade netty to 4.1.51.Final", "committedDate": "2020-08-19T17:59:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MjIzNg==", "url": "https://github.com/Alluxio/alluxio/pull/12014#discussion_r473242236", "bodyText": "Do these versions match the gRPC versions?", "author": "ZacBlanco", "createdAt": "2020-08-19T18:37:47Z", "path": "pom.xml", "diffHunk": "@@ -129,8 +129,8 @@\n     <build.path>build</build.path>\n     <copycat.version>1.2.15</copycat.version>\n     <glusterfs-hadoop.version>2.3.13</glusterfs-hadoop.version>\n-    <grpc.version>1.31.0</grpc.version>\n-    <netty.version>4.1.48.Final</netty.version>\n+    <grpc.version>1.28.1</grpc.version>\n+    <netty.version>4.1.51.Final</netty.version>", "originalCommit": "ec96da0be18971d99152d4eac78c3dc005fc22d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MzE1Nw==", "url": "https://github.com/Alluxio/alluxio/pull/12014#discussion_r473243157", "bodyText": "If we use gRPC 1.28.1 we should use netty 4.1.45.Final\nref: https://github.com/grpc/grpc-java/blob/v1.28.1/repositories.bzl#L27-L38\nOur convention has been to make sure the netty version matches gRPC", "author": "ZacBlanco", "createdAt": "2020-08-19T18:39:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MjIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0Mzg1NA==", "url": "https://github.com/Alluxio/alluxio/pull/12014#discussion_r473243854", "bodyText": "nope. is that going to be a problem?  and this was done on purpose to avoid the GRPC regression but to address netty CVE.", "author": "yuzhu", "createdAt": "2020-08-19T18:40:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MjIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0NTE1OQ==", "url": "https://github.com/Alluxio/alluxio/pull/12014#discussion_r473245159", "bodyText": "because we have some parts of our codebase that touch netty and gRPC relies heavily on netty, it can lead to runtime errors if the versions that we declare mismatch from gRPC", "author": "ZacBlanco", "createdAt": "2020-08-19T18:43:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MjIzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0OTQxMA==", "url": "https://github.com/Alluxio/alluxio/pull/12014#discussion_r473249410", "bodyText": "it's not mandatory. We should be fine as soon as tests pass.", "author": "ggezer", "createdAt": "2020-08-19T18:51:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MjIzNg=="}], "type": "inlineReview"}]}