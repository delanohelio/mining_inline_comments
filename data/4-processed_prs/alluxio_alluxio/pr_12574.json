{"pr_number": 12574, "pr_title": "Get a chunk of PartitionColumnStatistics at a time from Hive", "pr_createdAt": "2020-11-24T01:20:21Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12574", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTgwMjk1MA==", "url": "https://github.com/Alluxio/alluxio/pull/12574#discussion_r529802950", "bodyText": "HiveDatabase.java:231: error: Line is longer than 100 characters (found 103).", "author": "gpang", "createdAt": "2020-11-24T18:48:58Z", "path": "table/server/underdb/hive/src/main/java/alluxio/table/under/hive/HiveDatabase.java", "diffHunk": "@@ -220,11 +224,15 @@ public UdbTable getTable(String tableName) throws IOException {\n         List<String> partitionNames = partitions.stream()\n             .map(partition -> FileUtils.makePartName(partitionColumns, partition.getValues()))\n             .collect(Collectors.toList());\n-        statsMap = client.get()\n-            .getPartitionColumnStatistics(mHiveDbName, tableName, partitionNames, dataColumns)\n-            .entrySet().stream().collect(Collectors.toMap(Map.Entry::getKey,\n-                e -> e.getValue().stream().map(HiveUtils::toProto).collect(Collectors.toList()),\n-                (e1, e2) -> e2));\n+\n+        for (List<String> partialPartitionNames :\n+            Lists.partition(partitionNames, MAX_PARTITION_COLUMN_STATISTICS)) {\n+          statsMap.putAll(client.get()\n+              .getPartitionColumnStatistics(mHiveDbName, tableName, partialPartitionNames, dataColumns)", "originalCommit": "deb4aaf16997702ee31c3c78f67d21742529ddfb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bee92808d15790499edfeb80d7c927d3655784e0", "url": "https://github.com/Alluxio/alluxio/commit/bee92808d15790499edfeb80d7c927d3655784e0", "message": "Get only a chunk of PartitionColumnStatistics at a time from HiveMetastore", "committedDate": "2020-11-24T19:24:07Z", "type": "commit"}, {"oid": "4979fe563a0234c58e33490b5a4cb866c156da9c", "url": "https://github.com/Alluxio/alluxio/commit/4979fe563a0234c58e33490b5a4cb866c156da9c", "message": "checkstyle", "committedDate": "2020-11-24T19:24:07Z", "type": "commit"}, {"oid": "4979fe563a0234c58e33490b5a4cb866c156da9c", "url": "https://github.com/Alluxio/alluxio/commit/4979fe563a0234c58e33490b5a4cb866c156da9c", "message": "checkstyle", "committedDate": "2020-11-24T19:24:07Z", "type": "forcePushed"}, {"oid": "a1eda4146b26018e61f048cd896fac66bb1821b1", "url": "https://github.com/Alluxio/alluxio/commit/a1eda4146b26018e61f048cd896fac66bb1821b1", "message": "Temporarily reduce a lot for testing", "committedDate": "2020-11-25T07:47:21Z", "type": "commit"}, {"oid": "fc89e089514530d9e1d3a6c01f09e3a6032ff96f", "url": "https://github.com/Alluxio/alluxio/commit/fc89e089514530d9e1d3a6c01f09e3a6032ff96f", "message": "lower even more temporarily", "committedDate": "2020-11-25T16:02:24Z", "type": "commit"}, {"oid": "dbaeded655fd5c65a2095786ab9ecdd958a4122a", "url": "https://github.com/Alluxio/alluxio/commit/dbaeded655fd5c65a2095786ab9ecdd958a4122a", "message": "go back to larger", "committedDate": "2020-11-25T17:09:25Z", "type": "commit"}]}