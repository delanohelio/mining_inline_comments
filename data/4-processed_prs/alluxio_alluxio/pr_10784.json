{"pr_number": 10784, "pr_title": "[DOCFIX] Add alluxio presto sandbox AMI docs", "pr_createdAt": "2020-01-23T01:00:10Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/10784", "timeline": [{"oid": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "url": "https://github.com/Alluxio/alluxio/commit/3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "message": "[DOCFIX] Add alluxio presto AMI docs", "committedDate": "2020-01-23T00:57:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxMTg5MA==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370311890", "bodyText": "region -> region?", "author": "LuQQiu", "createdAt": "2020-01-23T19:29:29Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,325 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.", "originalCommit": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM0MzQ0Mw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370343443", "bodyText": "the button text is the name of the region, not the word region", "author": "Xenorith", "createdAt": "2020-01-23T20:41:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxMTg5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxMjk1MQ==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370312951", "bodyText": "shorter name ... \u2753 hahahahaha", "author": "LuQQiu", "createdAt": "2020-01-23T19:31:47Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,325 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.", "originalCommit": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM0MDQ4Mw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370340483", "bodyText": "yes. this is the best way to describe it >.<", "author": "Xenorith", "createdAt": "2020-01-23T20:34:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxMjk1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxNDI5Mw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370314293", "bodyText": "Review and Launch button on the bottom right to proceed", "author": "LuQQiu", "createdAt": "2020-01-23T19:34:54Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,325 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.\n+The AMI with the longer name is derived from the shorter one but is constrained by the limitations imposed by AWS Marketplace.\n+\n+Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n+\n+**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+Choosing a different instance type may result in unexpected errors.\n+\n+![presto_sandbox_ec2_instance_type]({{ '/img/presto_sandbox_ec2_instance_type.png' | relativize_url }})\n+\n+Select it and click `6. Configure Security Group` in horizontal row of steps near the top.\n+Steps 3, 4, and 5 are skipped because we can use their default values. \n+\n+Note that the launched EC2 instance does not qualify for free usage tier because the instance needs to have sufficient resources to execute the workload.\n+The instance type we will be using, `r4.4xlarge`, costs only ~$1 an hour.\n+\n+  {% endcollapsible %}\n+  {% collapsible Configure Security Group & Review Instance Launch %}\n+\n+Create a new security group named `alluxio-presto-sandbox`.\n+Port 22 is already added to allow SSH access.\n+Click `Add Rule` on the bottom left to add another row.\n+Set the port range of the new rule to `8080` to allow access to the Presto web UI.\n+Set the source to be `Anywhere`.\n+\n+Repeat the above steps to add another rule to open port `19999` to allow access to the Alluxio web UI.\n+Click the blue `Review and Launch button on the bottom right to proceed.", "originalCommit": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxODcxMA==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370318710", "bodyText": "/s3 -> /s3", "author": "LuQQiu", "createdAt": "2020-01-23T19:44:18Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,325 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.\n+The AMI with the longer name is derived from the shorter one but is constrained by the limitations imposed by AWS Marketplace.\n+\n+Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n+\n+**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+Choosing a different instance type may result in unexpected errors.\n+\n+![presto_sandbox_ec2_instance_type]({{ '/img/presto_sandbox_ec2_instance_type.png' | relativize_url }})\n+\n+Select it and click `6. Configure Security Group` in horizontal row of steps near the top.\n+Steps 3, 4, and 5 are skipped because we can use their default values. \n+\n+Note that the launched EC2 instance does not qualify for free usage tier because the instance needs to have sufficient resources to execute the workload.\n+The instance type we will be using, `r4.4xlarge`, costs only ~$1 an hour.\n+\n+  {% endcollapsible %}\n+  {% collapsible Configure Security Group & Review Instance Launch %}\n+\n+Create a new security group named `alluxio-presto-sandbox`.\n+Port 22 is already added to allow SSH access.\n+Click `Add Rule` on the bottom left to add another row.\n+Set the port range of the new rule to `8080` to allow access to the Presto web UI.\n+Set the source to be `Anywhere`.\n+\n+Repeat the above steps to add another rule to open port `19999` to allow access to the Alluxio web UI.\n+Click the blue `Review and Launch button on the bottom right to proceed.\n+\n+![presto_sandbox_ec2_security_groups]({{ '/img/presto_sandbox_ec2_security_groups.png' | relativize_url }})\n+\n+This page shows an overview of all the configurations set in the previous steps.\n+You can disregard the yellow warning boxes,\n+titled `Improve your instances' security` and `Your instance configuration is not eligible for the free usage tier`. \n+\n+![presto_sandbox_ec2_review]({{ '/img/presto_sandbox_ec2_review.png' | relativize_url }})\n+\n+Click the blue `Launch` button on the bottom right, which will open a pop up regarding key pairs.\n+\n+  {% endcollapsible %}\n+  {% collapsible Select an existing key pair or create a new key pair %}\n+If you have an existing key pair with its corresponding private key file,\n+keep `Choose an existing key pair` in the first dropdown and select the known key pair from the second dropdown.\n+Click the checkbox to acknowledge you have the private key file.\n+\n+For new users without an existing key pair, select the second option `Create a new key pair`\n+and type in a name in the second text box (ex. `alluxio-presto-sandbox-keypair`).\n+Click `Download key pair`and your browser will download a private key file with a matching name (ex. `alluxio-presto-sandbox-keypair.pem`).\n+Keep track of where this file is downloaded (ex. `~/Downloads/alluxio-presto-sandbox-keypair.pem`)\n+because it will be used to access your launched instance.\n+\n+![presto_sandbox_ec2_key_pair]({{ '/img/presto_sandbox_ec2_key_pair.png' | relativize_url }})\n+\n+Click the blue `Launch Instances` button to finally launch the instance.\n+The browser will display a loading spinner with status messages\n+before arriving at a launched page with a blue `View Instances` button on the bottom.\n+Click this button to return back to the Instances page.\n+\n+**Important for newer accounts!!**\n+Accounts may encounter an instance limit error when attempting to launch an instance of type `r4.4xlarge`.\n+This is because each account is limited on how many instances can be launched at a time for each type.\n+Newer accounts typically will not be allowed to launch larger instance types;\n+for example, the starting limit value for `r4.4xlarge` could be 0.\n+\n+If you see the following error, follow the given URL to request for a limit increase. \n+\n+![presto_sandbox_ec2_limit_error]({{ '/img/presto_sandbox_ec2_limit_error.png' | relativize_url }})\n+\n+Limit values can be found in the `Limits` page from the left sidebar. \n+\n+![presto_sandbox_ec2_launched_instance]({{ '/img/presto_sandbox_ec2_launched_instance.png' | relativize_url }})\n+\n+  {% endcollapsible %}\n+  {% collapsible SSH into the instance %}\n+Navigate to the Instances page if not already open and find the entry for the newly launched instance.\n+Select the row and find the instance\u2019s `Public DNS`; it should start with `ec2-` and end in `.amazonaws.com`.\n+This is the hostname used to SSH into the instance.\n+\n+![presto_sandbox_ec2_limits]({{ '/img/presto_sandbox_ec2_limits.png' | relativize_url }})\n+\n+Open a terminal window and use the `ssh` command to connect to the launched instance.\n+In the command below, replace:\n+- `/path/to/privateKeyFile.pem` with the path to your private key file\n+- `ec2-00-00-00-00.compute-1.amazonaws.com` with the EC2 instance public DNS\n+\n+```console\n+$ ssh -i /path/to/privateKeyFile.pem ec2-user@ec2-00-00-00-00.compute-1.amazonaws.com\n+```\n+\n+If you see an error labeled `WARNING: UNPROTECTED PRIVATE KEY FILE!`,\n+the permissions of the private key file needs to be updated.\n+Run `chmod 400 /path/to/privateKeyFile.pem`,\n+again replacing with the path to your private key file, and retry the SSH command again.\n+\n+If this is your first time running SSH for this instance, you will be prompted to confirm the authenticity of the host.\n+Type `yes` to continue.\n+\n+Once successfully connected, the terminal prompt should start with something similar to `[ec2-user@ip-00-00-00-00 ~]$`.\n+It is assumed for the remainder of this guide that commands will be run from within the instance.\n+\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Explore Alluxio using its Web UI and CLI\n+{% accordion explore %}\n+  {% collapsible Use the Web UI and CLI %}\n+We\u2019ll use a combination of the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999**\n+and the [Alluxio CLI](https://docs.alluxio.io/os/user/stable/en/basic/Command-Line-Interface.html)\n+to explore the Alluxio filesystem and cluster status.\n+\n+The instance comes with an Amazon S3 bucket pre-mounted in Alluxio at the `/s3` directory.\n+It contains data for [TPC-DS](http://www.tpc.org/tpcds/) benchmarks at the `scale 100` size factor\n+which amounts to about 38GB of data across multiple tables.\n+\n+Open the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999** to check if the Alluxio master has started successfully.\n+If not, wait a few moments, refresh the page, and it should become available.\n+\n+You can see the current Alluxio mounts by running `alluxio fs mount` from within the instance.\n+```console\n+$ alluxio fs mount\n+/opt/alluxio/underFSStorage                           on  /    (local, capacity=15.99GB, used=-1B(0%), not read-only, not shared, properties={})\n+s3a://alluxio-public-http-ufs/tpcds/scale100-parquet  on  /s3  (s3, capacity=-1B, used=-1B, read-only, not shared, properties={aws.secretKey=******, aws.accessKeyId=******})\n+```\n+\n+You can see the current Alluxio files from the Alluxio web UI or by running `alluxio fs ls /` from within the instance.\n+```console\n+$ alluxio fs ls /\n+drwxr-xr-x  ec2-user       ec2-user                     1       PERSISTED 07-17-2019 23:43:56:949  DIR /promotion\n+drwx------                                              4       PERSISTED 07-17-2019 23:45:16:220  DIR /s3\n+```\n+\n+The /s3 directory contains the remote data that is located in S3 (37GB)", "originalCommit": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxODgyMw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370318823", "bodyText": "/promotion -> /promotion", "author": "LuQQiu", "createdAt": "2020-01-23T19:44:31Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,325 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.\n+The AMI with the longer name is derived from the shorter one but is constrained by the limitations imposed by AWS Marketplace.\n+\n+Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n+\n+**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+Choosing a different instance type may result in unexpected errors.\n+\n+![presto_sandbox_ec2_instance_type]({{ '/img/presto_sandbox_ec2_instance_type.png' | relativize_url }})\n+\n+Select it and click `6. Configure Security Group` in horizontal row of steps near the top.\n+Steps 3, 4, and 5 are skipped because we can use their default values. \n+\n+Note that the launched EC2 instance does not qualify for free usage tier because the instance needs to have sufficient resources to execute the workload.\n+The instance type we will be using, `r4.4xlarge`, costs only ~$1 an hour.\n+\n+  {% endcollapsible %}\n+  {% collapsible Configure Security Group & Review Instance Launch %}\n+\n+Create a new security group named `alluxio-presto-sandbox`.\n+Port 22 is already added to allow SSH access.\n+Click `Add Rule` on the bottom left to add another row.\n+Set the port range of the new rule to `8080` to allow access to the Presto web UI.\n+Set the source to be `Anywhere`.\n+\n+Repeat the above steps to add another rule to open port `19999` to allow access to the Alluxio web UI.\n+Click the blue `Review and Launch button on the bottom right to proceed.\n+\n+![presto_sandbox_ec2_security_groups]({{ '/img/presto_sandbox_ec2_security_groups.png' | relativize_url }})\n+\n+This page shows an overview of all the configurations set in the previous steps.\n+You can disregard the yellow warning boxes,\n+titled `Improve your instances' security` and `Your instance configuration is not eligible for the free usage tier`. \n+\n+![presto_sandbox_ec2_review]({{ '/img/presto_sandbox_ec2_review.png' | relativize_url }})\n+\n+Click the blue `Launch` button on the bottom right, which will open a pop up regarding key pairs.\n+\n+  {% endcollapsible %}\n+  {% collapsible Select an existing key pair or create a new key pair %}\n+If you have an existing key pair with its corresponding private key file,\n+keep `Choose an existing key pair` in the first dropdown and select the known key pair from the second dropdown.\n+Click the checkbox to acknowledge you have the private key file.\n+\n+For new users without an existing key pair, select the second option `Create a new key pair`\n+and type in a name in the second text box (ex. `alluxio-presto-sandbox-keypair`).\n+Click `Download key pair`and your browser will download a private key file with a matching name (ex. `alluxio-presto-sandbox-keypair.pem`).\n+Keep track of where this file is downloaded (ex. `~/Downloads/alluxio-presto-sandbox-keypair.pem`)\n+because it will be used to access your launched instance.\n+\n+![presto_sandbox_ec2_key_pair]({{ '/img/presto_sandbox_ec2_key_pair.png' | relativize_url }})\n+\n+Click the blue `Launch Instances` button to finally launch the instance.\n+The browser will display a loading spinner with status messages\n+before arriving at a launched page with a blue `View Instances` button on the bottom.\n+Click this button to return back to the Instances page.\n+\n+**Important for newer accounts!!**\n+Accounts may encounter an instance limit error when attempting to launch an instance of type `r4.4xlarge`.\n+This is because each account is limited on how many instances can be launched at a time for each type.\n+Newer accounts typically will not be allowed to launch larger instance types;\n+for example, the starting limit value for `r4.4xlarge` could be 0.\n+\n+If you see the following error, follow the given URL to request for a limit increase. \n+\n+![presto_sandbox_ec2_limit_error]({{ '/img/presto_sandbox_ec2_limit_error.png' | relativize_url }})\n+\n+Limit values can be found in the `Limits` page from the left sidebar. \n+\n+![presto_sandbox_ec2_launched_instance]({{ '/img/presto_sandbox_ec2_launched_instance.png' | relativize_url }})\n+\n+  {% endcollapsible %}\n+  {% collapsible SSH into the instance %}\n+Navigate to the Instances page if not already open and find the entry for the newly launched instance.\n+Select the row and find the instance\u2019s `Public DNS`; it should start with `ec2-` and end in `.amazonaws.com`.\n+This is the hostname used to SSH into the instance.\n+\n+![presto_sandbox_ec2_limits]({{ '/img/presto_sandbox_ec2_limits.png' | relativize_url }})\n+\n+Open a terminal window and use the `ssh` command to connect to the launched instance.\n+In the command below, replace:\n+- `/path/to/privateKeyFile.pem` with the path to your private key file\n+- `ec2-00-00-00-00.compute-1.amazonaws.com` with the EC2 instance public DNS\n+\n+```console\n+$ ssh -i /path/to/privateKeyFile.pem ec2-user@ec2-00-00-00-00.compute-1.amazonaws.com\n+```\n+\n+If you see an error labeled `WARNING: UNPROTECTED PRIVATE KEY FILE!`,\n+the permissions of the private key file needs to be updated.\n+Run `chmod 400 /path/to/privateKeyFile.pem`,\n+again replacing with the path to your private key file, and retry the SSH command again.\n+\n+If this is your first time running SSH for this instance, you will be prompted to confirm the authenticity of the host.\n+Type `yes` to continue.\n+\n+Once successfully connected, the terminal prompt should start with something similar to `[ec2-user@ip-00-00-00-00 ~]$`.\n+It is assumed for the remainder of this guide that commands will be run from within the instance.\n+\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Explore Alluxio using its Web UI and CLI\n+{% accordion explore %}\n+  {% collapsible Use the Web UI and CLI %}\n+We\u2019ll use a combination of the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999**\n+and the [Alluxio CLI](https://docs.alluxio.io/os/user/stable/en/basic/Command-Line-Interface.html)\n+to explore the Alluxio filesystem and cluster status.\n+\n+The instance comes with an Amazon S3 bucket pre-mounted in Alluxio at the `/s3` directory.\n+It contains data for [TPC-DS](http://www.tpc.org/tpcds/) benchmarks at the `scale 100` size factor\n+which amounts to about 38GB of data across multiple tables.\n+\n+Open the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999** to check if the Alluxio master has started successfully.\n+If not, wait a few moments, refresh the page, and it should become available.\n+\n+You can see the current Alluxio mounts by running `alluxio fs mount` from within the instance.\n+```console\n+$ alluxio fs mount\n+/opt/alluxio/underFSStorage                           on  /    (local, capacity=15.99GB, used=-1B(0%), not read-only, not shared, properties={})\n+s3a://alluxio-public-http-ufs/tpcds/scale100-parquet  on  /s3  (s3, capacity=-1B, used=-1B, read-only, not shared, properties={aws.secretKey=******, aws.accessKeyId=******})\n+```\n+\n+You can see the current Alluxio files from the Alluxio web UI or by running `alluxio fs ls /` from within the instance.\n+```console\n+$ alluxio fs ls /\n+drwxr-xr-x  ec2-user       ec2-user                     1       PERSISTED 07-17-2019 23:43:56:949  DIR /promotion\n+drwx------                                              4       PERSISTED 07-17-2019 23:45:16:220  DIR /s3\n+```\n+\n+The /s3 directory contains the remote data that is located in S3 (37GB)\n+and the /promotion directory contains data from a local file (53KB) that has already been cached in Alluxio worker memory.", "originalCommit": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxOTIwNw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370319207", "bodyText": "To be consistent, I would prefer adding an empty line under the title", "author": "LuQQiu", "createdAt": "2020-01-23T19:45:17Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,325 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.\n+The AMI with the longer name is derived from the shorter one but is constrained by the limitations imposed by AWS Marketplace.\n+\n+Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n+\n+**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+Choosing a different instance type may result in unexpected errors.\n+\n+![presto_sandbox_ec2_instance_type]({{ '/img/presto_sandbox_ec2_instance_type.png' | relativize_url }})\n+\n+Select it and click `6. Configure Security Group` in horizontal row of steps near the top.\n+Steps 3, 4, and 5 are skipped because we can use their default values. \n+\n+Note that the launched EC2 instance does not qualify for free usage tier because the instance needs to have sufficient resources to execute the workload.\n+The instance type we will be using, `r4.4xlarge`, costs only ~$1 an hour.\n+\n+  {% endcollapsible %}\n+  {% collapsible Configure Security Group & Review Instance Launch %}\n+\n+Create a new security group named `alluxio-presto-sandbox`.\n+Port 22 is already added to allow SSH access.\n+Click `Add Rule` on the bottom left to add another row.\n+Set the port range of the new rule to `8080` to allow access to the Presto web UI.\n+Set the source to be `Anywhere`.\n+\n+Repeat the above steps to add another rule to open port `19999` to allow access to the Alluxio web UI.\n+Click the blue `Review and Launch button on the bottom right to proceed.\n+\n+![presto_sandbox_ec2_security_groups]({{ '/img/presto_sandbox_ec2_security_groups.png' | relativize_url }})\n+\n+This page shows an overview of all the configurations set in the previous steps.\n+You can disregard the yellow warning boxes,\n+titled `Improve your instances' security` and `Your instance configuration is not eligible for the free usage tier`. \n+\n+![presto_sandbox_ec2_review]({{ '/img/presto_sandbox_ec2_review.png' | relativize_url }})\n+\n+Click the blue `Launch` button on the bottom right, which will open a pop up regarding key pairs.\n+\n+  {% endcollapsible %}\n+  {% collapsible Select an existing key pair or create a new key pair %}\n+If you have an existing key pair with its corresponding private key file,\n+keep `Choose an existing key pair` in the first dropdown and select the known key pair from the second dropdown.\n+Click the checkbox to acknowledge you have the private key file.\n+\n+For new users without an existing key pair, select the second option `Create a new key pair`\n+and type in a name in the second text box (ex. `alluxio-presto-sandbox-keypair`).\n+Click `Download key pair`and your browser will download a private key file with a matching name (ex. `alluxio-presto-sandbox-keypair.pem`).\n+Keep track of where this file is downloaded (ex. `~/Downloads/alluxio-presto-sandbox-keypair.pem`)\n+because it will be used to access your launched instance.\n+\n+![presto_sandbox_ec2_key_pair]({{ '/img/presto_sandbox_ec2_key_pair.png' | relativize_url }})\n+\n+Click the blue `Launch Instances` button to finally launch the instance.\n+The browser will display a loading spinner with status messages\n+before arriving at a launched page with a blue `View Instances` button on the bottom.\n+Click this button to return back to the Instances page.\n+\n+**Important for newer accounts!!**\n+Accounts may encounter an instance limit error when attempting to launch an instance of type `r4.4xlarge`.\n+This is because each account is limited on how many instances can be launched at a time for each type.\n+Newer accounts typically will not be allowed to launch larger instance types;\n+for example, the starting limit value for `r4.4xlarge` could be 0.\n+\n+If you see the following error, follow the given URL to request for a limit increase. \n+\n+![presto_sandbox_ec2_limit_error]({{ '/img/presto_sandbox_ec2_limit_error.png' | relativize_url }})\n+\n+Limit values can be found in the `Limits` page from the left sidebar. \n+\n+![presto_sandbox_ec2_launched_instance]({{ '/img/presto_sandbox_ec2_launched_instance.png' | relativize_url }})\n+\n+  {% endcollapsible %}\n+  {% collapsible SSH into the instance %}\n+Navigate to the Instances page if not already open and find the entry for the newly launched instance.\n+Select the row and find the instance\u2019s `Public DNS`; it should start with `ec2-` and end in `.amazonaws.com`.\n+This is the hostname used to SSH into the instance.\n+\n+![presto_sandbox_ec2_limits]({{ '/img/presto_sandbox_ec2_limits.png' | relativize_url }})\n+\n+Open a terminal window and use the `ssh` command to connect to the launched instance.\n+In the command below, replace:\n+- `/path/to/privateKeyFile.pem` with the path to your private key file\n+- `ec2-00-00-00-00.compute-1.amazonaws.com` with the EC2 instance public DNS\n+\n+```console\n+$ ssh -i /path/to/privateKeyFile.pem ec2-user@ec2-00-00-00-00.compute-1.amazonaws.com\n+```\n+\n+If you see an error labeled `WARNING: UNPROTECTED PRIVATE KEY FILE!`,\n+the permissions of the private key file needs to be updated.\n+Run `chmod 400 /path/to/privateKeyFile.pem`,\n+again replacing with the path to your private key file, and retry the SSH command again.\n+\n+If this is your first time running SSH for this instance, you will be prompted to confirm the authenticity of the host.\n+Type `yes` to continue.\n+\n+Once successfully connected, the terminal prompt should start with something similar to `[ec2-user@ip-00-00-00-00 ~]$`.\n+It is assumed for the remainder of this guide that commands will be run from within the instance.\n+\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Explore Alluxio using its Web UI and CLI\n+{% accordion explore %}\n+  {% collapsible Use the Web UI and CLI %}\n+We\u2019ll use a combination of the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999**\n+and the [Alluxio CLI](https://docs.alluxio.io/os/user/stable/en/basic/Command-Line-Interface.html)\n+to explore the Alluxio filesystem and cluster status.\n+\n+The instance comes with an Amazon S3 bucket pre-mounted in Alluxio at the `/s3` directory.\n+It contains data for [TPC-DS](http://www.tpc.org/tpcds/) benchmarks at the `scale 100` size factor\n+which amounts to about 38GB of data across multiple tables.\n+\n+Open the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999** to check if the Alluxio master has started successfully.\n+If not, wait a few moments, refresh the page, and it should become available.\n+\n+You can see the current Alluxio mounts by running `alluxio fs mount` from within the instance.\n+```console\n+$ alluxio fs mount\n+/opt/alluxio/underFSStorage                           on  /    (local, capacity=15.99GB, used=-1B(0%), not read-only, not shared, properties={})\n+s3a://alluxio-public-http-ufs/tpcds/scale100-parquet  on  /s3  (s3, capacity=-1B, used=-1B, read-only, not shared, properties={aws.secretKey=******, aws.accessKeyId=******})\n+```\n+\n+You can see the current Alluxio files from the Alluxio web UI or by running `alluxio fs ls /` from within the instance.\n+```console\n+$ alluxio fs ls /\n+drwxr-xr-x  ec2-user       ec2-user                     1       PERSISTED 07-17-2019 23:43:56:949  DIR /promotion\n+drwx------                                              4       PERSISTED 07-17-2019 23:45:16:220  DIR /s3\n+```\n+\n+The /s3 directory contains the remote data that is located in S3 (37GB)\n+and the /promotion directory contains data from a local file (53KB) that has already been cached in Alluxio worker memory.\n+This setup in Alluxio allows us to run a single Presto query that utilizes data from different sources.\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Run Queries with Presto on Alluxio", "originalCommit": "3e80aa3d980bb91ca16d54d8e3418a5dc87084a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cd2907804488cb019853d4d81b7ebcd13f2eda93", "url": "https://github.com/Alluxio/alluxio/commit/cd2907804488cb019853d4d81b7ebcd13f2eda93", "message": "comments", "committedDate": "2020-01-23T20:42:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM0NTI0Mw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370345243", "bodyText": "Use relative url instead?", "author": "LuQQiu", "createdAt": "2020-01-23T20:45:53Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,328 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.\n+The AMI with the longer name is derived from the shorter one but is constrained by the limitations imposed by AWS Marketplace.\n+\n+Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n+\n+**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+Choosing a different instance type may result in unexpected errors.\n+\n+![presto_sandbox_ec2_instance_type]({{ '/img/presto_sandbox_ec2_instance_type.png' | relativize_url }})\n+\n+Select it and click `6. Configure Security Group` in horizontal row of steps near the top.\n+Steps 3, 4, and 5 are skipped because we can use their default values. \n+\n+Note that the launched EC2 instance does not qualify for free usage tier because the instance needs to have sufficient resources to execute the workload.\n+The instance type we will be using, `r4.4xlarge`, costs only ~$1 an hour.\n+\n+  {% endcollapsible %}\n+  {% collapsible Configure Security Group & Review Instance Launch %}\n+\n+Create a new security group named `alluxio-presto-sandbox`.\n+Port 22 is already added to allow SSH access.\n+Click `Add Rule` on the bottom left to add another row.\n+Set the port range of the new rule to `8080` to allow access to the Presto web UI.\n+Set the source to be `Anywhere`.\n+\n+Repeat the above steps to add another rule to open port `19999` to allow access to the Alluxio web UI.\n+Click the blue `Review and Launch` button on the bottom right to proceed.\n+\n+![presto_sandbox_ec2_security_groups]({{ '/img/presto_sandbox_ec2_security_groups.png' | relativize_url }})\n+\n+This page shows an overview of all the configurations set in the previous steps.\n+You can disregard the yellow warning boxes,\n+titled `Improve your instances' security` and `Your instance configuration is not eligible for the free usage tier`. \n+\n+![presto_sandbox_ec2_review]({{ '/img/presto_sandbox_ec2_review.png' | relativize_url }})\n+\n+Click the blue `Launch` button on the bottom right, which will open a pop up regarding key pairs.\n+\n+  {% endcollapsible %}\n+  {% collapsible Select an existing key pair or create a new key pair %}\n+If you have an existing key pair with its corresponding private key file,\n+keep `Choose an existing key pair` in the first dropdown and select the known key pair from the second dropdown.\n+Click the checkbox to acknowledge you have the private key file.\n+\n+For new users without an existing key pair, select the second option `Create a new key pair`\n+and type in a name in the second text box (ex. `alluxio-presto-sandbox-keypair`).\n+Click `Download key pair`and your browser will download a private key file with a matching name (ex. `alluxio-presto-sandbox-keypair.pem`).\n+Keep track of where this file is downloaded (ex. `~/Downloads/alluxio-presto-sandbox-keypair.pem`)\n+because it will be used to access your launched instance.\n+\n+![presto_sandbox_ec2_key_pair]({{ '/img/presto_sandbox_ec2_key_pair.png' | relativize_url }})\n+\n+Click the blue `Launch Instances` button to finally launch the instance.\n+The browser will display a loading spinner with status messages\n+before arriving at a launched page with a blue `View Instances` button on the bottom.\n+Click this button to return back to the Instances page.\n+\n+**Important for newer accounts!!**\n+Accounts may encounter an instance limit error when attempting to launch an instance of type `r4.4xlarge`.\n+This is because each account is limited on how many instances can be launched at a time for each type.\n+Newer accounts typically will not be allowed to launch larger instance types;\n+for example, the starting limit value for `r4.4xlarge` could be 0.\n+\n+If you see the following error, follow the given URL to request for a limit increase. \n+\n+![presto_sandbox_ec2_limit_error]({{ '/img/presto_sandbox_ec2_limit_error.png' | relativize_url }})\n+\n+Limit values can be found in the `Limits` page from the left sidebar. \n+\n+![presto_sandbox_ec2_launched_instance]({{ '/img/presto_sandbox_ec2_launched_instance.png' | relativize_url }})\n+\n+  {% endcollapsible %}\n+  {% collapsible SSH into the instance %}\n+Navigate to the Instances page if not already open and find the entry for the newly launched instance.\n+Select the row and find the instance\u2019s `Public DNS`; it should start with `ec2-` and end in `.amazonaws.com`.\n+This is the hostname used to SSH into the instance.\n+\n+![presto_sandbox_ec2_limits]({{ '/img/presto_sandbox_ec2_limits.png' | relativize_url }})\n+\n+Open a terminal window and use the `ssh` command to connect to the launched instance.\n+In the command below, replace:\n+- `/path/to/privateKeyFile.pem` with the path to your private key file\n+- `ec2-00-00-00-00.compute-1.amazonaws.com` with the EC2 instance public DNS\n+\n+```console\n+$ ssh -i /path/to/privateKeyFile.pem ec2-user@ec2-00-00-00-00.compute-1.amazonaws.com\n+```\n+\n+If you see an error labeled `WARNING: UNPROTECTED PRIVATE KEY FILE!`,\n+the permissions of the private key file needs to be updated.\n+Run `chmod 400 /path/to/privateKeyFile.pem`,\n+again replacing with the path to your private key file, and retry the SSH command again.\n+\n+If this is your first time running SSH for this instance, you will be prompted to confirm the authenticity of the host.\n+Type `yes` to continue.\n+\n+Once successfully connected, the terminal prompt should start with something similar to `[ec2-user@ip-00-00-00-00 ~]$`.\n+It is assumed for the remainder of this guide that commands will be run from within the instance.\n+\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Explore Alluxio using its Web UI and CLI\n+\n+{% accordion explore %}\n+  {% collapsible Use the Web UI and CLI %}\n+We\u2019ll use a combination of the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999**\n+and the [Alluxio CLI](https://docs.alluxio.io/os/user/stable/en/basic/Command-Line-Interface.html)", "originalCommit": "cd2907804488cb019853d4d81b7ebcd13f2eda93", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM0NTQyNQ==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370345425", "bodyText": "and also here", "author": "LuQQiu", "createdAt": "2020-01-23T20:46:11Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -0,0 +1,328 @@\n+---\n+layout: global\n+title: Alluxio Presto Sandbox on AWS\n+nickname: Alluxio Presto Sandbox\n+group: Alluxio in the Cloud\n+priority: 5\n+---\n+\n+This guide describes how to launch a single node sandbox with Alluxio and Presto preconfigured to run queries.\n+\n+* Table of Contents\n+{:toc}\n+\n+## Overview\n+\n+The Alluxio-Presto sandbox is an Amazon Machine Image offered on Amazon EC2\n+and features installations of MySQL, Hadoop, Hive, Presto, and Alluxio.\n+\n+The goal of this guide is to show how Alluxio can improve Presto\u2019s query performance\n+by reading through Alluxio to access locally cached data, originally stored in an Amazon S3 bucket.\n+\n+## Prerequisites\n+\n+- An account on [AWS](https://aws.amazon.com/)\n+- Web console access to [EC2](https://console.aws.amazon.com/ec2)\n+- A terminal window with [SSH](https://man.openbsd.org/ssh.1)\n+\n+## Launch an EC2 instance with Presto + Alluxio stack\n+\n+{% accordion launch %}\n+  {% collapsible Open the web console %}\n+Open a web browser and navigate to the [EC2 console](https://console.aws.amazon.com/ec2), logging in with your credentials when prompted.\n+Note the AWS region in the upper right corner.\n+\n+![presto_sandbox_ec2_region]({{ '/img/presto_sandbox_ec2_region.png' | relativize_url }})\n+\n+Click on the region to open a dropdown of available regions.\n+It is recommended to select the region that is geographically closest to your computer.\n+\n+On the left sidebar, click the `Instances` link to arrive at the following page: \n+\n+![presto_sandbox_ec2_instances]({{ '/img/presto_sandbox_ec2_instances.png' | relativize_url }})\n+\n+Click the blue `Launch Instance` button.\n+This will navigate you to the first of several steps to launch an instance.\n+\n+  {% endcollapsible %}\n+  {% collapsible Choose an Amazon Machine Image (AMI) and Instance type %}\n+In the left sidebar, there are 4 categories: Quick Start, My AMIs, AWS Marketplace, and Community AMIs.\n+Click on `AWS Marketplace` and search for the Alluxio-Presto sandbox AMI by typing `alluxio-presto-sandbox` in the search bar.\n+Exactly one result should appear; click on its blue `Select` button to proceed.\n+\n+![presto_sandbox_ec2_choose_ami]({{ '/img/presto_sandbox_ec2_choose_ami.png' | relativize_url }})\n+\n+Note that each AMI has a unique ID in the form `ami-xxxxxxxxxxxxxxxxx`.\n+This ID differs depending on which AWS region was selected.\n+If you would like to launch the AMI with spot instances, click on `Community AMIs`\n+and among the 2 selections, choose the one with the shorter name.\n+The AMI with the longer name is derived from the shorter one but is constrained by the limitations imposed by AWS Marketplace.\n+\n+Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n+\n+**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+Choosing a different instance type may result in unexpected errors.\n+\n+![presto_sandbox_ec2_instance_type]({{ '/img/presto_sandbox_ec2_instance_type.png' | relativize_url }})\n+\n+Select it and click `6. Configure Security Group` in horizontal row of steps near the top.\n+Steps 3, 4, and 5 are skipped because we can use their default values. \n+\n+Note that the launched EC2 instance does not qualify for free usage tier because the instance needs to have sufficient resources to execute the workload.\n+The instance type we will be using, `r4.4xlarge`, costs only ~$1 an hour.\n+\n+  {% endcollapsible %}\n+  {% collapsible Configure Security Group & Review Instance Launch %}\n+\n+Create a new security group named `alluxio-presto-sandbox`.\n+Port 22 is already added to allow SSH access.\n+Click `Add Rule` on the bottom left to add another row.\n+Set the port range of the new rule to `8080` to allow access to the Presto web UI.\n+Set the source to be `Anywhere`.\n+\n+Repeat the above steps to add another rule to open port `19999` to allow access to the Alluxio web UI.\n+Click the blue `Review and Launch` button on the bottom right to proceed.\n+\n+![presto_sandbox_ec2_security_groups]({{ '/img/presto_sandbox_ec2_security_groups.png' | relativize_url }})\n+\n+This page shows an overview of all the configurations set in the previous steps.\n+You can disregard the yellow warning boxes,\n+titled `Improve your instances' security` and `Your instance configuration is not eligible for the free usage tier`. \n+\n+![presto_sandbox_ec2_review]({{ '/img/presto_sandbox_ec2_review.png' | relativize_url }})\n+\n+Click the blue `Launch` button on the bottom right, which will open a pop up regarding key pairs.\n+\n+  {% endcollapsible %}\n+  {% collapsible Select an existing key pair or create a new key pair %}\n+If you have an existing key pair with its corresponding private key file,\n+keep `Choose an existing key pair` in the first dropdown and select the known key pair from the second dropdown.\n+Click the checkbox to acknowledge you have the private key file.\n+\n+For new users without an existing key pair, select the second option `Create a new key pair`\n+and type in a name in the second text box (ex. `alluxio-presto-sandbox-keypair`).\n+Click `Download key pair`and your browser will download a private key file with a matching name (ex. `alluxio-presto-sandbox-keypair.pem`).\n+Keep track of where this file is downloaded (ex. `~/Downloads/alluxio-presto-sandbox-keypair.pem`)\n+because it will be used to access your launched instance.\n+\n+![presto_sandbox_ec2_key_pair]({{ '/img/presto_sandbox_ec2_key_pair.png' | relativize_url }})\n+\n+Click the blue `Launch Instances` button to finally launch the instance.\n+The browser will display a loading spinner with status messages\n+before arriving at a launched page with a blue `View Instances` button on the bottom.\n+Click this button to return back to the Instances page.\n+\n+**Important for newer accounts!!**\n+Accounts may encounter an instance limit error when attempting to launch an instance of type `r4.4xlarge`.\n+This is because each account is limited on how many instances can be launched at a time for each type.\n+Newer accounts typically will not be allowed to launch larger instance types;\n+for example, the starting limit value for `r4.4xlarge` could be 0.\n+\n+If you see the following error, follow the given URL to request for a limit increase. \n+\n+![presto_sandbox_ec2_limit_error]({{ '/img/presto_sandbox_ec2_limit_error.png' | relativize_url }})\n+\n+Limit values can be found in the `Limits` page from the left sidebar. \n+\n+![presto_sandbox_ec2_launched_instance]({{ '/img/presto_sandbox_ec2_launched_instance.png' | relativize_url }})\n+\n+  {% endcollapsible %}\n+  {% collapsible SSH into the instance %}\n+Navigate to the Instances page if not already open and find the entry for the newly launched instance.\n+Select the row and find the instance\u2019s `Public DNS`; it should start with `ec2-` and end in `.amazonaws.com`.\n+This is the hostname used to SSH into the instance.\n+\n+![presto_sandbox_ec2_limits]({{ '/img/presto_sandbox_ec2_limits.png' | relativize_url }})\n+\n+Open a terminal window and use the `ssh` command to connect to the launched instance.\n+In the command below, replace:\n+- `/path/to/privateKeyFile.pem` with the path to your private key file\n+- `ec2-00-00-00-00.compute-1.amazonaws.com` with the EC2 instance public DNS\n+\n+```console\n+$ ssh -i /path/to/privateKeyFile.pem ec2-user@ec2-00-00-00-00.compute-1.amazonaws.com\n+```\n+\n+If you see an error labeled `WARNING: UNPROTECTED PRIVATE KEY FILE!`,\n+the permissions of the private key file needs to be updated.\n+Run `chmod 400 /path/to/privateKeyFile.pem`,\n+again replacing with the path to your private key file, and retry the SSH command again.\n+\n+If this is your first time running SSH for this instance, you will be prompted to confirm the authenticity of the host.\n+Type `yes` to continue.\n+\n+Once successfully connected, the terminal prompt should start with something similar to `[ec2-user@ip-00-00-00-00 ~]$`.\n+It is assumed for the remainder of this guide that commands will be run from within the instance.\n+\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Explore Alluxio using its Web UI and CLI\n+\n+{% accordion explore %}\n+  {% collapsible Use the Web UI and CLI %}\n+We\u2019ll use a combination of the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999**\n+and the [Alluxio CLI](https://docs.alluxio.io/os/user/stable/en/basic/Command-Line-Interface.html)\n+to explore the Alluxio filesystem and cluster status.\n+\n+The instance comes with an Amazon S3 bucket pre-mounted in Alluxio at the `/s3` directory.\n+It contains data for [TPC-DS](http://www.tpc.org/tpcds/) benchmarks at the `scale 100` size factor\n+which amounts to about 38GB of data across multiple tables.\n+\n+Open the Alluxio web UI at **http://EC2_PUBLIC_DNS:19999** to check if the Alluxio master has started successfully.\n+If not, wait a few moments, refresh the page, and it should become available.\n+\n+You can see the current Alluxio mounts by running `alluxio fs mount` from within the instance.\n+```console\n+$ alluxio fs mount\n+/opt/alluxio/underFSStorage                           on  /    (local, capacity=15.99GB, used=-1B(0%), not read-only, not shared, properties={})\n+s3a://alluxio-public-http-ufs/tpcds/scale100-parquet  on  /s3  (s3, capacity=-1B, used=-1B, read-only, not shared, properties={aws.secretKey=******, aws.accessKeyId=******})\n+```\n+\n+You can see the current Alluxio files from the Alluxio web UI or by running `alluxio fs ls /` from within the instance.\n+```console\n+$ alluxio fs ls /\n+drwxr-xr-x  ec2-user       ec2-user                     1       PERSISTED 07-17-2019 23:43:56:949  DIR /promotion\n+drwx------                                              4       PERSISTED 07-17-2019 23:45:16:220  DIR /s3\n+```\n+\n+The `/s3` directory contains the remote data that is located in S3 (37GB)\n+and the `/promotion` directory contains data from a local file (53KB) that has already been cached in Alluxio worker memory.\n+This setup in Alluxio allows us to run a single Presto query that utilizes data from different sources.\n+  {% endcollapsible %}\n+{% endaccordion %}\n+\n+\n+## Run Queries with Presto on Alluxio\n+\n+Now we\u2019ll use Presto + Alluxio to show how Alluxio can massively decrease query times by reading cached data.\n+You\u2019ll use Presto through the command line;\n+however, you can also use the Presto UI at **http://EC2_PUBLIC_DNS:8080** to view the status of your queries.\n+Note that the last step `Rerunning the Query` will show you the performance results.\n+\n+{% accordion run queries %}\n+  {% collapsible Open Presto CLI with alluxio schema %}\n+From within the instance, launch the Presto CLI:\n+```console\n+presto --catalog hive --debug\n+presto>\n+```\n+\n+**Tip:** YOu can exit at any time by typing `exit;`\n+\n+The instance comes pre-loaded with tables in Presto. A schema named `alluxio` has already been defined.\n+The database contains the tables from the TPC-DS benchmark.\n+```console\n+presto> show schemas;\n+       Schema\n+--------------------\n+ alluxio\n+ default\n+ information_schema\n+(3 rows)\n+```\n+\n+Use the `alluxio` schema by entering `use alluxio;`\n+```console\n+presto> use alluxio;\n+```\n+\n+Once you see the prompt `presto:alluxio>` you will be using the schema.\n+The table definitions can be found in `/usr/share/tpcdsData/createAlluxioTpcdsTables.sql`\n+and `/usr/share/tpcdsData/createAlluxioPromotionTable.sql`.\n+\n+  {% endcollapsible %}\n+  {% collapsible Run query %}\n+We\u2019re going to run a query derived from the TPC-DS benchmarks that compares the profit between store and website channels.\n+Note again that this query utilizes data from remote S3 and a local file.\n+The full query below can also be found at `/usr/share/tpcdsData/prestoQuery.sql`.\n+```sql\n+with ssr as\n+(select  ss_store_sk as store_sk,\n+     sum(ss_ext_sales_price) as sales,\n+     sum(coalesce(sr_return_amt, 0)) as returns,\n+     sum(ss_net_profit - coalesce(sr_net_loss, 0)) as profit\n+ from store_sales left outer join store_returns on\n+     (ss_item_sk = sr_item_sk and ss_ticket_number = sr_ticket_number)\n+     , promotion\n+ where ss_promo_sk = p_promo_sk\n+ group by ss_store_sk),\n+wsr as\n+(select  ws_web_site_sk as website_sk,\n+     sum(ws_ext_sales_price) as sales,\n+     sum(coalesce(wr_return_amt, 0)) as returns,\n+     sum(ws_net_profit - coalesce(wr_net_loss, 0)) as profit\n+ from web_sales left outer join web_returns on\n+     (ws_item_sk = wr_item_sk and ws_order_number = wr_order_number)\n+     , promotion\n+ where ws_promo_sk = p_promo_sk\n+ group by ws_web_site_sk)\n+ select channel, sk, sum(sales) as sales, sum(returns) as returns, sum(profit) as profit\n+ from (select 'store channel' as channel, store_sk as sk, sales, returns, profit from ssr\n+     union all\n+     select 'web channel' as channel, website_sk as sk, sales, returns, profit from  wsr) x\n+ group by rollup (channel, sk) order by channel, sk limit 100;\n+```\n+\n+Copy the above query, paste it into the Presto prompt, and hit enter to execute.\n+The query will likely take at least 5 minutes to finish,\n+so it would be a good time to grab a drink from the fridge.\n+\n+An output table is shown when done; the following is a sample of the first few rows:\n+```console\n+   channel    | sk  |        sales         |       returns        |        profit\n+---------------+-----+----------------------+----------------------+-----------------------\n+ store channel |   1 |  2.515118199869996E9 | 1.2543365919999991E8 | -1.1656864820600054E9\n+ store channel |   2 | 2.5205456842599974E9 |  1.245415812100001E8 | -1.1674391653999991E9\n+ store channel |   4 | 2.5179203736600065E9 | 1.2488394164999989E8 | -1.1657134956600013E9\n+ store channel |   7 |  2.511532314150002E9 | 1.2449183458999994E8 | -1.1649937964900005E9\n+ store channel |   8 | 2.5347543900099897E9 | 1.2612198162999986E8 | -1.1755503999099977E9\n+ store channel |  10 |      2.51036513155E9 | 1.2575692749000001E8 |  -1.160484859049994E9\n+ store channel |  13 |  2.513131863500003E9 | 1.2527703745000003E8 | -1.1657150094600005E9\n+ store channel |  14 |  2.535310933710003E9 |  1.264888773999999E8 | -1.1709913304899998E9\n+ store channel |  16 | 2.5312767249400077E9 |       1.2517431134E8 |  -1.168813352409999E9\n+```\n+\n+Press `q` to leave the query results.\n+\n+After quitting the results, the query summary should resemble the following:\n+```console\n+Query 20190719_001828_00003_vy8rx, FINISHED, 1 node\n+http://localhost:8080/ui/query.html?20190719_001828_00003_vy8rx\n+Splits: 8,164 total, 8,164 done (100.00%)\n+CPU Time: 1220.3s total,  325K rows/s, 5.17MB/s, 28% active\n+Per Node: 1.8 parallelism,  574K rows/s, 9.14MB/s\n+Parallelism: 1.8\n+Peak Memory: 2.17GB\n+11:30 [396M rows, 6.16GB] [574K rows/s, 9.14MB/s]\n+```\n+\n+**Note:** In the last line of the output, `11:30` represents the query time in `mm:ss` format.\n+\n+  {% endcollapsible %}\n+  {% collapsible Rerun the query to see performance improvement %}\n+Because this is the first time we\u2019re reading the data, it is pulled from S3 and is then returned through Alluxio.\n+At the same time, the Alluxio worker will be caching the data in memory so that the next time the data is accessed it can be read at memory speed.\n+\n+Running the query again should be faster since the data is now cached in Alluxio,\n+unlike the first query which read its data from the S3 bucket.\n+Let\u2019s run it again!\n+\n+**Tip:** You can hit the up arrow while in the Presto CLI to scroll through previously executed commands.\n+Exit the Presto shell with `exit;`\n+\n+Take note of the query execution time; did you notice any difference in performance?\n+If you want replicate the same result, you will need to free the data from Alluxio memory.\n+After exiting the Presto shell,\n+run the alluxio [free](https://docs.alluxio.io/os/user/stable/en/basic/Command-Line-Interface.html#free)", "originalCommit": "cd2907804488cb019853d4d81b7ebcd13f2eda93", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "78abc8ea57eb8df9658032a9a88642e755f53876", "url": "https://github.com/Alluxio/alluxio/commit/78abc8ea57eb8df9658032a9a88642e755f53876", "message": "use relative urls", "committedDate": "2020-01-23T20:52:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM1OTk5MQ==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370359991", "bodyText": "en/deploy?", "author": "LuQQiu", "createdAt": "2020-01-23T21:19:49Z", "path": "docs/en/compute/Hive.md", "diffHunk": "@@ -18,7 +18,7 @@ that you can easily store Hive tables in Alluxio's tiered storage.\n * [Download and setup Hive](https://cwiki.apache.org/confluence/display/Hive/GettingStarted). If you are using Hive2.1+, \n   make sure to [run the schematool](https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-RunningHiveServer2andBeeline.1)\n   before starting Hive. `$HIVE_HOME/bin/schematool -dbType derby -initSchema`\n-* Alluxio has been [set up and is running](https://docs.alluxio.io/os/user/2.0/en/deploy/Running-Alluxio-Locally.html).\n+* Alluxio has been [set up and is running]({{ '/deploy/Running-Alluxio-Locally.html' | relativize_url }}).", "originalCommit": "78abc8ea57eb8df9658032a9a88642e755f53876", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2MDA2NA==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370360064", "bodyText": "where is this file??", "author": "LuQQiu", "createdAt": "2020-01-23T21:19:59Z", "path": "docs/en/cloud/AWS-EMR.md", "diffHunk": "@@ -83,7 +83,7 @@ The default instance type for the AMI is `r4.4xlarge`.\n     For example, you can use the URL: `https://downloads.alluxio.io/downloads/files/{{site.ALLUXIO_RELEASED_VERSION}}/alluxio-{{site.ALLUXIO_RELEASED_VERSION}}-bin.tar.gz`\n     - You can also specify additional Alluxio properties as a delimited list of key-value pairs in the format `key=value`.\n     For example, `alluxio.user.file.writetype.default=CACHE_THROUGH` instructs Alluxio to write files synchronously to the underlying storage system.\n-    See more about [write type options](https://docs.alluxio.io/ee/user/stable/en/Architecture-DataFlow.html#data-flow-write).\n+    See more about [write type options]({{ '/en/Architecture-DataFlow.html#data-flow-write' | relativize_url }}).", "originalCommit": "78abc8ea57eb8df9658032a9a88642e755f53876", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "df2e71e4fbf05a340698211e3f4a2309bc3ba6cb", "url": "https://github.com/Alluxio/alluxio/commit/df2e71e4fbf05a340698211e3f4a2309bc3ba6cb", "message": "keep making mistakes, then find more things to fix", "committedDate": "2020-01-23T21:23:49Z", "type": "commit"}, {"oid": "bffe0653d7ee800ad24be27e23fd6eda9eff814d", "url": "https://github.com/Alluxio/alluxio/commit/bffe0653d7ee800ad24be27e23fd6eda9eff814d", "message": "better be no more mistakes", "committedDate": "2020-01-23T21:32:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2ODM5Mw==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370368393", "bodyText": "Is this needed? what it used for?", "author": "LuQQiu", "createdAt": "2020-01-23T21:38:06Z", "path": "docs/en/cloud/Alluxio-Presto-AMI.md", "diffHunk": "@@ -60,7 +60,7 @@ The AMI with the longer name is derived from the shorter one but is constrained\n \n Among the large table of instance types and their specifications, scroll down to search for the `r4.4xlarge` instance type.\n \n-**Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.\n+> **Warning:** `r4.4xlarge` is provisioned with the minimum amount of resources needed to run this AMI.", "originalCommit": "df2e71e4fbf05a340698211e3f4a2309bc3ba6cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2OTc2OQ==", "url": "https://github.com/Alluxio/alluxio/pull/10784#discussion_r370369769", "bodyText": "styling. it shows up with a slight indentation", "author": "Xenorith", "createdAt": "2020-01-23T21:41:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2ODM5Mw=="}], "type": "inlineReview"}]}