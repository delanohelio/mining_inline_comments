{"pr_number": 12299, "pr_title": "[DOCFIX] Add a section on java 11 to structured data", "pr_createdAt": "2020-10-14T20:45:13Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12299", "timeline": [{"oid": "017e82f485db8b04c6893d824491cabce4ffee94", "url": "https://github.com/Alluxio/alluxio/commit/017e82f485db8b04c6893d824491cabce4ffee94", "message": "Add a section on java 11 to sds", "committedDate": "2020-10-14T20:39:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTAxOTUxMg==", "url": "https://github.com/Alluxio/alluxio/pull/12299#discussion_r505019512", "bodyText": "Could you include an example command for pointing Java home appropriately, and can you add instructions here for swapping out the client jar if necessary (I think Presto ships with non 2.4.0 jars)?", "author": "calvinjia", "createdAt": "2020-10-14T22:22:55Z", "path": "docs/en/core-services/Catalog.md", "diffHunk": "@@ -267,6 +267,10 @@ The setting `hive.metastore.alluxio.master.address=HOSTNAME:PORT` defines the ho\n Alluxio catalog service, which is the same host and port as the Alluxio master.\n Once configured on each node, restart all presto coordinators and workers.\n \n+### JAVA 11 Support\n+PrestoSQL 330 or above will only run with Java 11. Starting with the 2.4 version, Alluxio also supports Java 11.\n+If you have both Java 8 and 11 installed on the same node, you will need to modify JAVA_HOME environment variable to point to the correct Java installation directory.\n+", "originalCommit": "017e82f485db8b04c6893d824491cabce4ffee94", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA2NDY5MA==", "url": "https://github.com/Alluxio/alluxio/pull/12299#discussion_r505064690", "bodyText": "Done, PTAL", "author": "yuzhu", "createdAt": "2020-10-14T23:27:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTAxOTUxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA3Mjc0Mg==", "url": "https://github.com/Alluxio/alluxio/pull/12299#discussion_r505072742", "bodyText": "@yuzhu Thanks, could you also include wording to tell them to remove the existing client jar otherwise there might be undefined behavior.", "author": "calvinjia", "createdAt": "2020-10-14T23:39:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTAxOTUxMg=="}], "type": "inlineReview"}, {"oid": "4c886c60c6edb6015f362e4ec283ae474c312ab7", "url": "https://github.com/Alluxio/alluxio/commit/4c886c60c6edb6015f362e4ec283ae474c312ab7", "message": "address comments", "committedDate": "2020-10-14T23:27:21Z", "type": "commit"}, {"oid": "ef92c077b794cfd695b6ca3645b0683d9a0c5a98", "url": "https://github.com/Alluxio/alluxio/commit/ef92c077b794cfd695b6ca3645b0683d9a0c5a98", "message": "address comments", "committedDate": "2020-10-14T23:59:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5MTk1Nw==", "url": "https://github.com/Alluxio/alluxio/pull/12299#discussion_r505091957", "bodyText": "@yuzhu Sorry to nitpick, could you specify that this needs to be done on all presto worker nodes and that presto daemons will need to be restarted after the new jar is added?", "author": "calvinjia", "createdAt": "2020-10-15T00:15:09Z", "path": "docs/en/core-services/Catalog.md", "diffHunk": "@@ -267,6 +267,22 @@ The setting `hive.metastore.alluxio.master.address=HOSTNAME:PORT` defines the ho\n Alluxio catalog service, which is the same host and port as the Alluxio master.\n Once configured on each node, restart all presto coordinators and workers.\n \n+### JAVA 11 Support\n+PrestoSQL 330 or above will only run with Java 11. Starting with the 2.4 version, Alluxio also supports Java 11.\n+If you have both Java 8 and 11 installed on the same node, you will need to modify JAVA_HOME environment variable to point to the correct Java installation directory.\n+The following is an example of launching presto \n+\n+```console\n+$ JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-amd64\" ${PRESTO_HOME}/bin/launcher start\n+```\n+\n+### Update Alluxio client library to the lastest version\n+Both PrestoSQL and PrestoDb now includes Alluxio's client library in their release. \n+However, the version included in those releases may not be the latest version.\n+To update the client library to the latest version, first remove the old alluxio client library from `${PRESTO_HOME}/plugin/hive-hadoop2/` directory.", "originalCommit": "ef92c077b794cfd695b6ca3645b0683d9a0c5a98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5NTQ3NA==", "url": "https://github.com/Alluxio/alluxio/pull/12299#discussion_r505095474", "bodyText": "no problem.", "author": "yuzhu", "createdAt": "2020-10-15T00:27:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5MTk1Nw=="}], "type": "inlineReview"}, {"oid": "5458f6178d2ab59742e8ca3682d0802aa68a31f2", "url": "https://github.com/Alluxio/alluxio/commit/5458f6178d2ab59742e8ca3682d0802aa68a31f2", "message": "address comments", "committedDate": "2020-10-15T00:30:02Z", "type": "commit"}]}