{"pr_number": 12188, "pr_title": "[DOCFIX] Update upgrade docs", "pr_createdAt": "2020-10-06T22:28:13Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/12188", "timeline": [{"oid": "1288c20a53eeefa42a2e742e905515bfb5a3ec45", "url": "https://github.com/Alluxio/alluxio/commit/1288c20a53eeefa42a2e742e905515bfb5a3ec45", "message": "Update upgrade docs", "committedDate": "2020-10-06T22:22:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0Nzk1Nw==", "url": "https://github.com/Alluxio/alluxio/pull/12188#discussion_r500647957", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            However, Alluxio has two versions that are not backward compatible on the journal management.\n          \n          \n            \n            The two versions are Alluxio 2.0.0 and Alluxio 2.4.0 which results in the journals across one of these versions\n          \n          \n            \n            are not compatible.\n          \n          \n            \n            There are two cases where master journals are not backward compatible and additional steps are required to upgrade Alluxio cluster:\n          \n          \n            \n            \n          \n          \n            \n            - Upgrading from Alluxio 1.x to Alluxio 2.x\n          \n          \n            \n            - Upgrading from Alluxio 2.3.x and below to Alluxio 2.4.0 and above, and the embedded journal is used.", "author": "bf8086", "createdAt": "2020-10-06T23:16:05Z", "path": "docs/en/operation/Upgrade.md", "diffHunk": "@@ -0,0 +1,66 @@\n+---\n+layout: global\n+title: Upgrading\n+nickname: Upgrading\n+group: Operations\n+priority: 15\n+---\n+\n+In normal cases, users can directly shutdown the current Alluxio processes, change\n+the Alluxio binaries to newer version, configure Alluxio clusters similar to before, \n+and start Alluxio processes with the existing journal folder/address for upgrading.\n+Alluxio is able to read the previous journal files and recover the Alluxio metadata.\n+\n+However, Alluxio has two versions that are not backward compatible on the journal management.\n+The two versions are Alluxio 2.0.0 and Alluxio 2.4.0 which results in the journals across one of these versions\n+are not compatible.", "originalCommit": "1288c20a53eeefa42a2e742e905515bfb5a3ec45", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1Mjg3Ng==", "url": "https://github.com/Alluxio/alluxio/pull/12188#discussion_r500652876", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This document goes over how to upgrade Alluxio across those non-compatible versions.\n          \n          \n            \n            Even if Alluxio journal is compatible between the current version and the target version to upgrade to, \n          \n          \n            \n            the upgrade method provided in the later sections is still preferred and less error-prone.\n          \n          \n            \n            This document goes over how to upgrade Alluxio to a non-backward compatible version.\n          \n          \n            \n            Even when upgrading to a backward compatible version, it is still recommended to follow the steps below to create a backup before upgrading.", "author": "bf8086", "createdAt": "2020-10-06T23:32:48Z", "path": "docs/en/operation/Upgrade.md", "diffHunk": "@@ -0,0 +1,66 @@\n+---\n+layout: global\n+title: Upgrading\n+nickname: Upgrading\n+group: Operations\n+priority: 15\n+---\n+\n+In normal cases, users can directly shutdown the current Alluxio processes, change\n+the Alluxio binaries to newer version, configure Alluxio clusters similar to before, \n+and start Alluxio processes with the existing journal folder/address for upgrading.\n+Alluxio is able to read the previous journal files and recover the Alluxio metadata.\n+\n+However, Alluxio has two versions that are not backward compatible on the journal management.\n+The two versions are Alluxio 2.0.0 and Alluxio 2.4.0 which results in the journals across one of these versions\n+are not compatible.\n+\n+This document goes over how to upgrade Alluxio across those non-compatible versions.\n+Even if Alluxio journal is compatible between the current version and the target version to upgrade to, \n+the upgrade method provided in the later sections is still preferred and less error-prone.", "originalCommit": "1288c20a53eeefa42a2e742e905515bfb5a3ec45", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d221d9f89f5e8197fafba6cd12585763387d1aa4", "url": "https://github.com/Alluxio/alluxio/commit/d221d9f89f5e8197fafba6cd12585763387d1aa4", "message": "Update docs/en/operation/Upgrade.md\n\nCo-authored-by: bf8086 <binfeng@live.com>", "committedDate": "2020-10-06T23:39:34Z", "type": "commit"}, {"oid": "3940dc3be2f2d04c918f092f38445129d05cbe75", "url": "https://github.com/Alluxio/alluxio/commit/3940dc3be2f2d04c918f092f38445129d05cbe75", "message": "Update docs/en/operation/Upgrade.md\n\nCo-authored-by: bf8086 <binfeng@live.com>", "committedDate": "2020-10-06T23:40:08Z", "type": "commit"}]}