{"pr_number": 11324, "pr_title": "Upgrade helm command to support only helm 3", "pr_createdAt": "2020-04-21T13:41:50Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11324", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg4NzAxMg==", "url": "https://github.com/Alluxio/alluxio/pull/11324#discussion_r413887012", "bodyText": "Seems Helm 3 has its own understanding of where the comments should appear in a range loop. This is really hilarious. @madanadit", "author": "jiacheliu3", "createdAt": "2020-04-23T15:17:11Z", "path": "integration/kubernetes/multiMaster-embeddedJournal/master/alluxio-master-service.yaml.template", "diffHunk": "@@ -41,17 +29,30 @@ spec:\n     role: alluxio-master\n     app: alluxio\n     release: alluxio\n-    statefulset.kubernetes.io/pod-name: alluxio-master-0\n+    statefulset.kubernetes.io/pod-name: alluxio-master-2\n ---\n+# Source: alluxio/templates/master/service.yaml\n+#\n+# The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+# (the \"License\"). You may not use this work except in compliance with the License, which is\n+# available at www.apache.org/licenses/LICENSE-2.0\n+#\n+# This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+# either express or implied, as more fully set forth in the License.\n+#\n+# See the NOTICE file distributed with this work for information regarding copyright ownership.\n+#\n+\n+", "originalCommit": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg4OTQ3Mg==", "url": "https://github.com/Alluxio/alluxio/pull/11324#discussion_r413889472", "bodyText": "Seems they are generated in order but output separately. @madanadit\nNot that this will corrupt the output template, but just an interesting caveat to note about Helm 3.", "author": "jiacheliu3", "createdAt": "2020-04-23T15:20:03Z", "path": "integration/kubernetes/multiMaster-embeddedJournal/master/alluxio-master-service.yaml.template", "diffHunk": "@@ -72,17 +73,18 @@ spec:\n     role: alluxio-master\n     app: alluxio\n     release: alluxio\n-    statefulset.kubernetes.io/pod-name: alluxio-master-1\n+    statefulset.kubernetes.io/pod-name: alluxio-master-0\n ---\n+# Source: alluxio/templates/master/service.yaml", "originalCommit": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg5MTg1Nw==", "url": "https://github.com/Alluxio/alluxio/pull/11324#discussion_r413891857", "bodyText": "Also the output are all trimmed and lost the ending empty row. That's fine to me as we are removing these from the code repo.", "author": "jiacheliu3", "createdAt": "2020-04-23T15:22:55Z", "path": "integration/kubernetes/multiMaster-embeddedJournal/master/alluxio-master-service.yaml.template", "diffHunk": "@@ -103,6 +105,4 @@ spec:\n     role: alluxio-master\n     app: alluxio\n     release: alluxio\n-    statefulset.kubernetes.io/pod-name: alluxio-master-2\n----\n-", "originalCommit": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4bf2976fb19f8412301b12661c509d2637efde41", "url": "https://github.com/Alluxio/alluxio/commit/4bf2976fb19f8412301b12661c509d2637efde41", "message": "remove extra whitespace trimming", "committedDate": "2020-04-27T14:27:58Z", "type": "forcePushed"}, {"oid": "9b28140062686027d5e92079e83f0e81d2da1bf8", "url": "https://github.com/Alluxio/alluxio/commit/9b28140062686027d5e92079e83f0e81d2da1bf8", "message": "change to helm3 command", "committedDate": "2020-04-28T04:01:10Z", "type": "commit"}, {"oid": "ac5d693091ec60ffea3c09ae7805578e939e85e4", "url": "https://github.com/Alluxio/alluxio/commit/ac5d693091ec60ffea3c09ae7805578e939e85e4", "message": "fix whitespace", "committedDate": "2020-04-28T04:01:10Z", "type": "commit"}, {"oid": "90661cfd7084ccd73687c5da9de441c705e513cd", "url": "https://github.com/Alluxio/alluxio/commit/90661cfd7084ccd73687c5da9de441c705e513cd", "message": "Update doc", "committedDate": "2020-04-28T04:01:11Z", "type": "commit"}, {"oid": "b43fac908d09e33606340aaa8eb42204e28b1b95", "url": "https://github.com/Alluxio/alluxio/commit/b43fac908d09e33606340aaa8eb42204e28b1b95", "message": "remove extra whitespace trimming", "committedDate": "2020-04-28T04:01:11Z", "type": "commit"}, {"oid": "48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "url": "https://github.com/Alluxio/alluxio/commit/48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "message": "rephrasing", "committedDate": "2020-04-28T04:01:12Z", "type": "commit"}, {"oid": "48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "url": "https://github.com/Alluxio/alluxio/commit/48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "message": "rephrasing", "committedDate": "2020-04-28T04:01:12Z", "type": "forcePushed"}]}