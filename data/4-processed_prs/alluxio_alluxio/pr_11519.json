{"pr_number": 11519, "pr_title": "Change hms validation tool to use extension class loader", "pr_createdAt": "2020-06-04T19:21:01Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11519", "timeline": [{"oid": "bda85300aa06eee2426b99b47a74758b17df02bf", "url": "https://github.com/Alluxio/alluxio/commit/bda85300aa06eee2426b99b47a74758b17df02bf", "message": "Change hms tool version to 2.3.6", "committedDate": "2020-06-04T19:19:56Z", "type": "commit"}, {"oid": "41358cb8e057f6c0b596d64d83986aaa0406e047", "url": "https://github.com/Alluxio/alluxio/commit/41358cb8e057f6c0b596d64d83986aaa0406e047", "message": "Fix checkstyle", "committedDate": "2020-06-06T21:07:16Z", "type": "commit"}, {"oid": "41358cb8e057f6c0b596d64d83986aaa0406e047", "url": "https://github.com/Alluxio/alluxio/commit/41358cb8e057f6c0b596d64d83986aaa0406e047", "message": "Fix checkstyle", "committedDate": "2020-06-06T21:07:16Z", "type": "forcePushed"}, {"oid": "9ca9f2860c3e825baed94402e02c69f16c41d2bc", "url": "https://github.com/Alluxio/alluxio/commit/9ca9f2860c3e825baed94402e02c69f16c41d2bc", "message": "small fix", "committedDate": "2020-06-06T21:17:03Z", "type": "commit"}, {"oid": "4ad28b3fe54bbf2207e743f7e7606e85240b55e5", "url": "https://github.com/Alluxio/alluxio/commit/4ad28b3fe54bbf2207e743f7e7606e85240b55e5", "message": "Add to lib directory", "committedDate": "2020-06-07T01:06:50Z", "type": "commit"}, {"oid": "2b12ee51e572071c61f92f7e800e9227f44a4dd9", "url": "https://github.com/Alluxio/alluxio/commit/2b12ee51e572071c61f92f7e800e9227f44a4dd9", "message": "fix bug", "committedDate": "2020-06-07T01:21:24Z", "type": "commit"}, {"oid": "63899eb488a3388bb1c473a8c340d686e01d6dbe", "url": "https://github.com/Alluxio/alluxio/commit/63899eb488a3388bb1c473a8c340d686e01d6dbe", "message": "Small fix", "committedDate": "2020-06-08T16:56:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQxODY3OA==", "url": "https://github.com/Alluxio/alluxio/pull/11519#discussion_r436418678", "bodyText": "nit: a validation tool", "author": "madanadit", "createdAt": "2020-06-08T00:50:27Z", "path": "core/common/src/main/java/alluxio/cli/ValidationToolFactory.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.cli;\n+\n+/**\n+ * The validation tool factory interface.\n+ */\n+public interface ValidationToolFactory {\n+\n+  /**\n+   * Creates a new instance of an {@link ValidationTool}.", "originalCommit": "2b12ee51e572071c61f92f7e800e9227f44a4dd9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQxODgxNg==", "url": "https://github.com/Alluxio/alluxio/pull/11519#discussion_r436418816", "bodyText": "The args are specific to HmsValidationTool, did you intend on making the Factory generic?", "author": "madanadit", "createdAt": "2020-06-08T00:51:34Z", "path": "core/common/src/main/java/alluxio/cli/ValidationToolFactory.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.cli;\n+\n+/**\n+ * The validation tool factory interface.\n+ */\n+public interface ValidationToolFactory {\n+\n+  /**\n+   * Creates a new instance of an {@link ValidationTool}.\n+   * Creation must not interact with external services.\n+   *\n+   * @param metastoreUri hive metastore uris\n+   * @param database database to run tests against\n+   * @param tables tables to run tests against\n+   * @param socketTimeout socket time of hms operations\n+   * @return a new validation tool instance\n+   */\n+  ValidationTool create(String metastoreUri, String database, String tables, int socketTimeout);", "originalCommit": "2b12ee51e572071c61f92f7e800e9227f44a4dd9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAxMTIyNQ==", "url": "https://github.com/Alluxio/alluxio/pull/11519#discussion_r437011225", "bodyText": "No, since now only hms validation tool needs to use the class loader.", "author": "LuQQiu", "createdAt": "2020-06-08T21:27:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQxODgxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAxNTU1NQ==", "url": "https://github.com/Alluxio/alluxio/pull/11519#discussion_r437015555", "bodyText": "nit: rename the class then", "author": "madanadit", "createdAt": "2020-06-08T21:37:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQxODgxNg=="}], "type": "inlineReview"}, {"oid": "0c75f11acd238bb00c05bff063296a8951fc2b1f", "url": "https://github.com/Alluxio/alluxio/commit/0c75f11acd238bb00c05bff063296a8951fc2b1f", "message": "small fix", "committedDate": "2020-06-08T21:27:24Z", "type": "commit"}]}