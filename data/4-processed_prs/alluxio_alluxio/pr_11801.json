{"pr_number": 11801, "pr_title": "Use longs for file offsets in stress client io", "pr_createdAt": "2020-07-22T01:06:47Z", "pr_url": "https://github.com/Alluxio/alluxio/pull/11801", "timeline": [{"oid": "47dd7d6efedd3ecd7ac023cee1dbcd7aebfbeb85", "url": "https://github.com/Alluxio/alluxio/commit/47dd7d6efedd3ecd7ac023cee1dbcd7aebfbeb85", "message": "Use long sizes and positions", "committedDate": "2020-07-22T01:05:45Z", "type": "commit"}, {"oid": "0b291fbce0317ee1a9a7f6a821844f68591a0a95", "url": "https://github.com/Alluxio/alluxio/commit/0b291fbce0317ee1a9a7f6a821844f68591a0a95", "message": "Use positive random offsets", "committedDate": "2020-07-22T01:05:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQ3NTQ0MA==", "url": "https://github.com/Alluxio/alluxio/pull/11801#discussion_r458475440", "bodyText": "interesting. Is there no Random#nextLong(long) API?", "author": "ZacBlanco", "createdAt": "2020-07-22T01:09:50Z", "path": "stress/shell/src/main/java/alluxio/stress/cli/client/StressClientIOBench.java", "diffHunk": "@@ -377,7 +377,7 @@ private int applyOperation() throws IOException {\n           mInStream = mFs.open(mFilePath);\n         }\n         if (mParameters.mReadRandom) {\n-          mCurrentOffset = mRandom.nextInt(mMaxOffset);\n+          mCurrentOffset = Math.abs(mRandom.nextLong()) % mMaxOffset;", "originalCommit": "0b291fbce0317ee1a9a7f6a821844f68591a0a95", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQ4NTYxNA==", "url": "https://github.com/Alluxio/alluxio/pull/11801#discussion_r458485614", "bodyText": "Yeah, there isn't. However, I updated this to use the long stream.", "author": "gpang", "createdAt": "2020-07-22T01:47:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODQ3NTQ0MA=="}], "type": "inlineReview"}, {"oid": "2a32849dce2321c619df6801e304860048fba81e", "url": "https://github.com/Alluxio/alluxio/commit/2a32849dce2321c619df6801e304860048fba81e", "message": "Use iterator of longs", "committedDate": "2020-07-22T01:46:20Z", "type": "commit"}]}