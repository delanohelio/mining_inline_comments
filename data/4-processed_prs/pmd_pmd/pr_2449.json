{"pr_number": 2449, "pr_title": "[plsql] Additional info in SqlStatement, FormalParameter and FetchStatement", "pr_createdAt": "2020-04-27T12:28:59Z", "pr_url": "https://github.com/pmd/pmd/pull/2449", "timeline": [{"oid": "99a9115dc117741d043d6b84b133917af452a790", "url": "https://github.com/pmd/pmd/commit/99a9115dc117741d043d6b84b133917af452a790", "message": "Merge pull request #1 from pmd/master\n\nSync", "committedDate": "2020-03-06T11:35:31Z", "type": "commit"}, {"oid": "15b0bda348838569fa446dbc61186bc7f6a0b7a9", "url": "https://github.com/pmd/pmd/commit/15b0bda348838569fa446dbc61186bc7f6a0b7a9", "message": "[plsql] added some additional info in userData", "committedDate": "2020-04-27T09:24:03Z", "type": "commit"}, {"oid": "ffd573e1b567245bc986eb7785ffdbe37b93c73e", "url": "https://github.com/pmd/pmd/commit/ffd573e1b567245bc986eb7785ffdbe37b93c73e", "message": "Merge branch 'master' into additional_info", "committedDate": "2020-04-27T13:05:22Z", "type": "commit"}, {"oid": "08a430ed3f70ef5ff271f9d6dd9ce88f5cecde3d", "url": "https://github.com/pmd/pmd/commit/08a430ed3f70ef5ff271f9d6dd9ce88f5cecde3d", "message": "Update ASTSqlStatement.java\n\nInternalApi annotation added", "committedDate": "2020-04-27T13:32:31Z", "type": "commit"}, {"oid": "944752da3fe5fe08ce63039c490523ac0777cd07", "url": "https://github.com/pmd/pmd/commit/944752da3fe5fe08ce63039c490523ac0777cd07", "message": "Update ASTFetchStatement.java\n\nInternalApi annotation added.", "committedDate": "2020-04-27T13:38:19Z", "type": "commit"}, {"oid": "5b8a9fabe181ba858015d6410826e7d982522a10", "url": "https://github.com/pmd/pmd/commit/5b8a9fabe181ba858015d6410826e7d982522a10", "message": "Update ASTFormalParameter.java\n\nCode style refactoring", "committedDate": "2020-04-27T14:26:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEyMzU2OA==", "url": "https://github.com/pmd/pmd/pull/2449#discussion_r418123568", "bodyText": "This looks correct (see https://docs.oracle.com/en/database/oracle/oracle-database/18/lnpls/formal-parameter-declaration.html#GUID-5BA8E033-96B9-439A-A4FC-4844FEC14AD8). The previous version was much more confusing. We can remove now the comment //the order of outer \"|\" is important !", "author": "adangel", "createdAt": "2020-04-30T16:07:55Z", "path": "pmd-plsql/etc/grammar/PldocAST.jjt", "diffHunk": "@@ -607,7 +607,11 @@ ASTFormalParameter FormalParameter()  :\n    (\n \tsimpleNode = ID()\n \t// the order of outer \"|\" is important !\n-\t( LOOKAHEAD(2) ( LOOKAHEAD(2) ( (<OUT>|(<IN> <OUT>)) (LOOKAHEAD(2) <NOCOPY>  )? ) | <IN> ) )?\n+\n+    (<IN> {jjtThis.setIn(true); } )?\n+    (<OUT> {jjtThis.setOut(true); } )?\n+    (<NOCOPY> {jjtThis.setNoCopy(true); } )?", "originalCommit": "5b8a9fabe181ba858015d6410826e7d982522a10", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEyNTI3Mw==", "url": "https://github.com/pmd/pmd/pull/2449#discussion_r418125273", "bodyText": "we should make all setters package private, so that it can only be called from the parser....", "author": "adangel", "createdAt": "2020-04-30T16:10:28Z", "path": "pmd-plsql/src/main/java/net/sourceforge/pmd/lang/plsql/ast/ASTFormalParameter.java", "diffHunk": "@@ -19,6 +23,30 @@ public ASTFormalParameter(PLSQLParser p, int id) {\n         super(p, id);\n     }\n \n+    public boolean isIn() {\n+        return this.in;\n+    }\n+\n+    public void setIn(boolean in) {", "originalCommit": "5b8a9fabe181ba858015d6410826e7d982522a10", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODEyNTc2MQ==", "url": "https://github.com/pmd/pmd/pull/2449#discussion_r418125761", "bodyText": "package-private", "author": "adangel", "createdAt": "2020-04-30T16:11:09Z", "path": "pmd-plsql/src/main/java/net/sourceforge/pmd/lang/plsql/ast/ASTSqlStatement.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/**\n+ * BSD-style license; for more info see http://pmd.sourceforge.net/license.html\n+ */\n+\n+/* Generated By:JJTree: Do not edit this line. ASTSqlStatement.java Version 4.3 */\n+/* JavaCCOptions:MULTI=true,NODE_USES_PARSER=true,VISITOR=true,TRACK_TOKENS=false,NODE_PREFIX=AST,NODE_EXTENDS=,NODE_FACTORY=,SUPPORT_CLASS_VISIBILITY_PUBLIC=true */\n+\n+package net.sourceforge.pmd.lang.plsql.ast;\n+\n+import net.sourceforge.pmd.annotation.InternalApi;\n+\n+public class ASTSqlStatement extends AbstractPLSQLNode {\n+\n+    private Type type;\n+\n+    public enum Type { COMMIT, ROLLBACK, SAVEPOINT, SET_TRANSACTION, LOCK_TABLE, MERGE }\n+\n+    @Deprecated\n+    @InternalApi\n+    public ASTSqlStatement(int id) {\n+        super(id);\n+    }\n+\n+    @Deprecated\n+    @InternalApi\n+    public ASTSqlStatement(PLSQLParser p, int id) {\n+        super(p, id);\n+    }\n+\n+    public void setType(Type type) {", "originalCommit": "5b8a9fabe181ba858015d6410826e7d982522a10", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}