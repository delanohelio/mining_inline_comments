{"pr_number": 5118, "pr_title": "refactor: Remove jax rs response", "pr_createdAt": "2020-04-20T15:08:01Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5118", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyMjEyNw==", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412722127", "bodyText": "Why are these tests being removed?", "author": "vcrfxia", "createdAt": "2020-04-22T07:01:35Z", "path": "ksqldb-rest-app/src/test/java/io/confluent/ksql/rest/server/resources/ServerMetadataResourceTest.java", "diffHunk": "@@ -110,26 +107,5 @@ public void shouldReturnServerClusterId() {\n         equalTo(ServerClusterId.of(KAFKA_CLUSTER_ID, KSQL_SERVICE_ID))\n     );\n   }\n-\n-\n-  @Test\n-  public void shouldGetKafkaClusterIdWithTimeout()", "originalCommit": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjc4NTQ2NA==", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412785464", "bodyText": "Because these tests the memoized version of this class. But it's not memoized any more", "author": "purplefox", "createdAt": "2020-04-22T08:36:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyMjEyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyMzg1NQ==", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412723855", "bodyText": "nit: rename this to OldApiExceptionMapperTest to be consistent with the rename of KsqlExceptionMapper to OldApiExceptionMapper.", "author": "vcrfxia", "createdAt": "2020-04-22T07:04:38Z", "path": "ksqldb-rest-app/src/test/java/io/confluent/ksql/rest/server/resources/KsqlExceptionMapperTest.java", "diffHunk": "@@ -15,46 +15,49 @@\n \n package io.confluent.ksql.rest.server.resources;\n \n+import static io.netty.handler.codec.http.HttpResponseStatus.INTERNAL_SERVER_ERROR;\n import static org.hamcrest.CoreMatchers.equalTo;\n import static org.hamcrest.CoreMatchers.instanceOf;\n import static org.hamcrest.CoreMatchers.sameInstance;\n import static org.hamcrest.MatcherAssert.assertThat;\n \n+import io.confluent.ksql.api.server.OldApiExceptionMapper;\n+import io.confluent.ksql.rest.EndpointResponse;\n import io.confluent.ksql.rest.Errors;\n import io.confluent.ksql.rest.entity.KsqlErrorMessage;\n import javax.ws.rs.WebApplicationException;\n-import javax.ws.rs.core.Response;\n import org.junit.Test;\n \n public class KsqlExceptionMapperTest {", "originalCommit": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjc4NzQxNA==", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412787414", "bodyText": "ack", "author": "purplefox", "createdAt": "2020-04-22T08:38:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyMzg1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyODE0OQ==", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412728149", "bodyText": "statusMessage is unused.", "author": "vcrfxia", "createdAt": "2020-04-22T07:11:54Z", "path": "ksqldb-rest-model/src/main/java/io/confluent/ksql/rest/EndpointResponse.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/*\n+ * Copyright 2020 Confluent Inc.\n+ *\n+ * Licensed under the Confluent Community License (the \"License\"); you may not use\n+ * this file except in compliance with the License.  You may obtain a copy of the\n+ * License at\n+ *\n+ * http://www.confluent.io/confluent-community-license\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OF ANY KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package io.confluent.ksql.rest;\n+\n+import io.netty.handler.codec.http.HttpResponseStatus;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+public final class EndpointResponse {\n+\n+  private final Map<String, String> headers;\n+  private final int status;\n+  private final Object entity;\n+\n+  private EndpointResponse(final Map<String, String> headers, final int status,\n+      final String statusMessage, final Object entity) {", "originalCommit": "e50487c0a73a10d7a9229ea43fb62e4e9c78d114", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjc4NzQ3OA==", "url": "https://github.com/confluentinc/ksql/pull/5118#discussion_r412787478", "bodyText": "ack", "author": "purplefox", "createdAt": "2020-04-22T08:39:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyODE0OQ=="}], "type": "inlineReview"}, {"oid": "5fff2400314246b715142cd2ac88bf6aba143df4", "url": "https://github.com/confluentinc/ksql/commit/5fff2400314246b715142cd2ac88bf6aba143df4", "message": "Remove most usages of jax rs response", "committedDate": "2020-04-22T07:35:31Z", "type": "forcePushed"}, {"oid": "4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "url": "https://github.com/confluentinc/ksql/commit/4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "message": "Remove most usages of jax rs response", "committedDate": "2020-04-22T08:34:34Z", "type": "commit"}, {"oid": "4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "url": "https://github.com/confluentinc/ksql/commit/4f613cfe9b0ea36207a91074f5f92b8eab8a10f1", "message": "Remove most usages of jax rs response", "committedDate": "2020-04-22T08:34:34Z", "type": "forcePushed"}, {"oid": "097b2e8894407aa28430a21f4f67e87ca1aa2604", "url": "https://github.com/confluentinc/ksql/commit/097b2e8894407aa28430a21f4f67e87ca1aa2604", "message": "Review updates", "committedDate": "2020-04-22T08:38:26Z", "type": "commit"}]}