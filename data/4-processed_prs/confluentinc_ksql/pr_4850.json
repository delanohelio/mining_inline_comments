{"pr_number": 4850, "pr_title": " feat: expand IFNULL to support all types", "pr_createdAt": "2020-03-20T11:31:31Z", "pr_url": "https://github.com/confluentinc/ksql/pull/4850", "timeline": [{"oid": "02f6b247f7821acc7f96502c4366a0f7714bd526", "url": "https://github.com/confluentinc/ksql/commit/02f6b247f7821acc7f96502c4366a0f7714bd526", "message": "feat: add COALESCE function\n\nThe `COALESCE` function takes one or more parameters and returns the first that is non-null.\n\nAll parameters must be of the same type.\n\nThis function supersedes the existing `IFNULL` function, which only worked for strings and one accepted two parameters.", "committedDate": "2020-03-19T16:48:27Z", "type": "commit"}, {"oid": "259fbd5d401ceda270b79b43d367d16245d4d709", "url": "https://github.com/confluentinc/ksql/commit/259fbd5d401ceda270b79b43d367d16245d4d709", "message": "test: add test using coalesce in PARTITION BY", "committedDate": "2020-03-19T17:14:41Z", "type": "commit"}, {"oid": "9162c228143fd8589b1197f89a6ef9afb0f24cd7", "url": "https://github.com/confluentinc/ksql/commit/9162c228143fd8589b1197f89a6ef9afb0f24cd7", "message": "chore: log deprecation on first use of IFNULL", "committedDate": "2020-03-19T17:25:17Z", "type": "commit"}, {"oid": "4b46930c4ac099bbabb930b82d0c1e0b9890805f", "url": "https://github.com/confluentinc/ksql/commit/4b46930c4ac099bbabb930b82d0c1e0b9890805f", "message": "chore: changes requested by Nick", "committedDate": "2020-03-19T17:57:52Z", "type": "commit"}, {"oid": "f8090246ce25791c44acc94fb9003b5476f0f0d7", "url": "https://github.com/confluentinc/ksql/commit/f8090246ce25791c44acc94fb9003b5476f0f0d7", "message": "chore: remove ARRAY_LENGTH docs\n\nMoved to separate PR.", "committedDate": "2020-03-20T10:29:17Z", "type": "commit"}, {"oid": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08", "url": "https://github.com/confluentinc/ksql/commit/2d2167d86c1f4fcb269f258b98c0c7dc9351bb08", "message": "feat: expand IFNULL to support all types\n\nfixes: https://github.com/confluentinc/ksql/issues/4831", "committedDate": "2020-03-20T11:30:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTcyOTc0NQ==", "url": "https://github.com/confluentinc/ksql/pull/4850#discussion_r395729745", "bodyText": "Maybe NULL or null?", "author": "JimGalasyn", "createdAt": "2020-03-20T15:52:38Z", "path": "docs-md/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -431,6 +424,26 @@ UCASE\n \r\n Convert a string to uppercase.\r\n \r\n+Nulls\r\n+=====\r\n+\r\n+COALESCE\r\n+--------\r\n+\r\n+`COALESCE(a, b, c, d)`\r\n+\r\n+Returns the first non-null parameter. All parameters must be of the same type.\r\n+\r\n+Where the parameter type is a complex type, for example `ARRAY` or `STRUCT`, the contents of the\r\n+complex type are not inspected. The behaviour is the same: the first non-null element is returned.\r\n+\r\n+IFNULL\r\n+------\r\n+\r\n+`IFNULL(expression, altValue)`\r\n+\r\n+If the provided `expression` is NULL, returns `altValue`, otherwise, returns `expression`.\r", "originalCommit": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTczMDA4Mg==", "url": "https://github.com/confluentinc/ksql/pull/4850#discussion_r395730082", "bodyText": "null or NULL? I'm fine with either, but we should be consistent.", "author": "JimGalasyn", "createdAt": "2020-03-20T15:53:09Z", "path": "docs-md/developer-guide/ksqldb-reference/scalar-functions.md", "diffHunk": "@@ -431,6 +424,26 @@ UCASE\n \r\n Convert a string to uppercase.\r\n \r\n+Nulls\r\n+=====\r\n+\r\n+COALESCE\r\n+--------\r\n+\r\n+`COALESCE(a, b, c, d)`\r\n+\r\n+Returns the first non-null parameter. All parameters must be of the same type.\r", "originalCommit": "2d2167d86c1f4fcb269f258b98c0c7dc9351bb08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "85f2ad56d86844878c7ef603f36c17b2d2bc4c8a", "url": "https://github.com/confluentinc/ksql/commit/85f2ad56d86844878c7ef603f36c17b2d2bc4c8a", "message": "chore: jim's requested changes", "committedDate": "2020-03-20T18:11:49Z", "type": "commit"}, {"oid": "0a2080c90381fb16aed2a7155904a2972d767fb4", "url": "https://github.com/confluentinc/ksql/commit/0a2080c90381fb16aed2a7155904a2972d767fb4", "message": "Merge branch 'master' into if_null", "committedDate": "2020-03-23T17:40:13Z", "type": "commit"}, {"oid": "5286503c2e814eec8c2b1378456d135251af1380", "url": "https://github.com/confluentinc/ksql/commit/5286503c2e814eec8c2b1378456d135251af1380", "message": "chore: merge from master\n\nConflicting files\ndocs-md/developer-guide/ksqldb-reference/scalar-functions.md\nksqldb-functional-tests/src/test/resources/query-validation-tests/null.json", "committedDate": "2020-03-23T17:42:41Z", "type": "commit"}]}