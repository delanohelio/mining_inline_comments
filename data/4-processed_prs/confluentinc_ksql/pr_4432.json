{"pr_number": 4432, "pr_title": "refactor: move Format into ksql-serde module", "pr_createdAt": "2020-02-04T00:43:06Z", "pr_url": "https://github.com/confluentinc/ksql/pull/4432", "timeline": [{"oid": "d17736bf518ffdeba70645811855f1e50cfeec4f", "url": "https://github.com/confluentinc/ksql/commit/d17736bf518ffdeba70645811855f1e50cfeec4f", "message": "refactor: move Format into ksql-serde module", "committedDate": "2020-02-04T00:39:24Z", "type": "commit"}, {"oid": "d589b34dbc03ccab3e1acf5f4ebc073afd70929d", "url": "https://github.com/confluentinc/ksql/commit/d589b34dbc03ccab3e1acf5f4ebc073afd70929d", "message": "test: fix a test", "committedDate": "2020-02-04T17:00:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgwNjI3NA==", "url": "https://github.com/confluentinc/ksql/pull/4432#discussion_r374806274", "bodyText": "Switching this means poor UX: if a user submits a request with multiple statements in it, the error doesn't identify which statement had the error.   This can make it hard(er) for the user to track down the cause of the error.\nBetter to fix the code to ensure the statement exception is thrown.", "author": "big-andy-coates", "createdAt": "2020-02-04T17:13:01Z", "path": "ksql-functional-tests/src/test/resources/query-validation-tests/delimited.json", "diffHunk": "@@ -178,7 +178,7 @@\n         }\n       ],\n       \"expectedException\": {\n-        \"type\": \"io.confluent.ksql.util.KsqlStatementException\",\n+        \"type\": \"io.confluent.ksql.util.KsqlException\",", "originalCommit": "d589b34dbc03ccab3e1acf5f4ebc073afd70929d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgxNjQ4MA==", "url": "https://github.com/confluentinc/ksql/pull/4432#discussion_r374816480", "bodyText": "I tried to do this but it wasn't super straightforward because we no longer have access to the statement itself where the exception is thrown. I was thinking of just wrapping all exceptions thrown from the Analyzer somewhere high up - I will just do that.", "author": "agavra", "createdAt": "2020-02-04T17:31:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgwNjI3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgyODE1Nw==", "url": "https://github.com/confluentinc/ksql/pull/4432#discussion_r374828157", "bodyText": "Since the build is green and I've got a follow-up refactor coming up I'll address these in that one.", "author": "agavra", "createdAt": "2020-02-04T17:55:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgwNjI3NA=="}], "type": "inlineReview"}]}