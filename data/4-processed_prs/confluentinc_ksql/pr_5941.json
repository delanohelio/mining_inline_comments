{"pr_number": 5941, "pr_title": "docs: add numeric ranges and other bits (DOCS-5054)", "pr_createdAt": "2020-08-04T22:46:00Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5941", "timeline": [{"oid": "2ff66601ee88fb049b8b400e0b3c8e5abff09fe3", "url": "https://github.com/confluentinc/ksql/commit/2ff66601ee88fb049b8b400e0b3c8e5abff09fe3", "message": "docs: add numeric ranges and other bits", "committedDate": "2020-08-04T22:44:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3NjkwOA==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465376908", "bodyText": "I had to find the code to prove to myself this is true: https://github.com/confluentinc/ksql/blob/master/ksqldb-execution/src/main/java/io/confluent/ksql/execution/codegen/helpers/ArrayAccess.java.", "author": "JimGalasyn", "createdAt": "2020-08-04T23:01:03Z", "path": "docs/reference2/sql-syntax/data-types/compound.md", "diffHunk": "@@ -21,8 +21,8 @@ ksqlDB supports fields that are arrays of another type. All of the elements\n in the array must be of the same type. The element type can be any valid\n SQL type.\n \n-The elements of an array are zero-indexed and can be accessed by using\n-the `[]` operator passing in the index. For example, `SOME_ARRAY[0]`\n+The elements of an array are one-indexed and can be accessed by using", "originalCommit": "2ff66601ee88fb049b8b400e0b3c8e5abff09fe3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3ODUzMQ==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465378531", "bodyText": "Yes, 1 is right. I copied in some older docs here.", "author": "MichaelDrogalis", "createdAt": "2020-08-04T23:05:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3NjkwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3Nzk1Nw==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465377957", "bodyText": "Can we move these to the top table to keep them in one place?", "author": "MichaelDrogalis", "createdAt": "2020-08-04T23:04:21Z", "path": "docs/reference2/sql-syntax/data-types/numeric.md", "diffHunk": "@@ -30,6 +28,18 @@ The `double` data type is an inexact, variable-precision numeric type. The term\n \"inexact\" means an approximate value is stored. Storing values outside of its\n bounds of capacity will result in an error.\n \n+## Valid ranges\n+\n+Numeric data types have the same valid minimum and maximum values as their\n+corresponding Java types. The following table shows valid ranges for the\n+integer and floating-point types. \n+\n+| type     | minimum value | maximum value", "originalCommit": "2ff66601ee88fb049b8b400e0b3c8e5abff09fe3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk2NTU4Mg==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465965582", "bodyText": "I moved this into the main table and tried different arrangements, but still it renders a bit awkwardly:\n.\nColumns get a bit cramped and line breaks happen in weird places. Probably okay for now, but we might want to revisit.", "author": "JimGalasyn", "createdAt": "2020-08-05T19:52:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3Nzk1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk2NjQxNQ==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465966415", "bodyText": "Np, we can figure out column widths before final merge.", "author": "MichaelDrogalis", "createdAt": "2020-08-05T19:53:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3Nzk1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3ODEzNQ==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465378135", "bodyText": "I don't believe bigint has a min/max range. It's only bounded by resources.", "author": "MichaelDrogalis", "createdAt": "2020-08-04T23:04:50Z", "path": "docs/reference2/sql-syntax/data-types/numeric.md", "diffHunk": "@@ -30,6 +28,18 @@ The `double` data type is an inexact, variable-precision numeric type. The term\n \"inexact\" means an approximate value is stored. Storing values outside of its\n bounds of capacity will result in an error.\n \n+## Valid ranges\n+\n+Numeric data types have the same valid minimum and maximum values as their\n+corresponding Java types. The following table shows valid ranges for the\n+integer and floating-point types. \n+\n+| type     | minimum value | maximum value\n+|----------|---------------|--------------\n+| `int`    | [Integer.MIN_VALUE](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#MIN_VALUE) = -2<sup>31</sup> | [Integer.MAX_VALUE](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#MAX_VALUE) = 2<sup>31</sup>-1\n+| `bigint` | -2<sup>Integer.MAX_VALUE</sup> (exclusive) | 2<sup>Integer.MAX_VALUE</sup> (exclusive)", "originalCommit": "2ff66601ee88fb049b8b400e0b3c8e5abff09fe3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM5MzU2OA==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465393568", "bodyText": "it maps to a Java Long internally - a signed 64-bit integer. So almost unlimited, has a lot of digits!", "author": "blueedgenick", "createdAt": "2020-08-04T23:54:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3ODEzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTgwNTUzNw==", "url": "https://github.com/confluentinc/ksql/pull/5941#discussion_r465805537", "bodyText": "Oh wow, today I learned. I thought we used java.math.BigInt under the hood. Looks like you're right:\nksql> insert into s1 (x) values (9223372036854775807);\nksql> select * from s1 emit changes;\n+---------------------------------------------------------------------------------------------------------------------------+\n|X                                                                                                                          |\n+---------------------------------------------------------------------------------------------------------------------------+\n|9223372036854775807                                                                                                        |\n^CQuery terminated\nksql> insert into s1 (x) values (9223372036854775808);\nFailed to prepare statement: line 1:29: Invalid numeric literal: 9223372036854775808\n\nThanks Nick!", "author": "MichaelDrogalis", "createdAt": "2020-08-05T15:19:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3ODEzNQ=="}], "type": "inlineReview"}, {"oid": "07e4bfb8fcac0a82b883d91c5debc594e4242061", "url": "https://github.com/confluentinc/ksql/commit/07e4bfb8fcac0a82b883d91c5debc594e4242061", "message": "docs: move numeric value ranges to table", "committedDate": "2020-08-05T19:40:36Z", "type": "commit"}, {"oid": "eb4da61d653bc09a3e423fbe4a4eb78ded1f2439", "url": "https://github.com/confluentinc/ksql/commit/eb4da61d653bc09a3e423fbe4a4eb78ded1f2439", "message": "docs: rebase", "committedDate": "2020-08-05T20:57:02Z", "type": "commit"}]}