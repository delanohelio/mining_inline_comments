{"pr_number": 5100, "pr_title": "chore: allow -Werror to be overridden in compile phase", "pr_createdAt": "2020-04-17T16:00:01Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5100", "timeline": [{"oid": "8bbcf519aa1da60bed35b0a91dea474b21c81402", "url": "https://github.com/confluentinc/ksql/commit/8bbcf519aa1da60bed35b0a91dea474b21c81402", "message": "chore: allow -Werror to be overridden in compile phase", "committedDate": "2020-04-17T15:53:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410338455", "bodyText": "Hey @colinhicks I think we'll need a similar change in some of the individual modules. Specifically, ksqldb-engine, ksqldb-execution, ksqldb-parser, ksqldb-streams, ksqldb-benchmark, and ksqldb-udf-quickstart specify overrides for this plugin which means -Werror is still hard-coded in those modules.\nI can inherit this PR from you if you're low on bandwidth. Just let me know :)", "author": "vcrfxia", "createdAt": "2020-04-17T16:34:54Z", "path": "pom.xml", "diffHunk": "@@ -527,7 +528,7 @@\n                             <compilerArgs>\n                                 <arg>-Xlint:all,-serial,-options,-path</arg>\n                                 <arg>-parameters</arg>\n-                                <arg>-Werror</arg>\n+                                <arg>${compile.warnings-flag}</arg>", "originalCommit": "8bbcf519aa1da60bed35b0a91dea474b21c81402", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM0NDY4Nw==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410344687", "bodyText": "Thanks for taking a look and good catch. I will update the modules, too", "author": "colinhicks", "createdAt": "2020-04-17T16:46:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM1NzI5Mw==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410357293", "bodyText": "Thanks for the updates! I think https://github.com/confluentinc/ksql/blob/master/ksqldb-udf-quickstart/src/main/resources/archetype-resources/pom.xml#L64 should be updated as well, though I haven't actually tried it.", "author": "vcrfxia", "createdAt": "2020-04-17T17:10:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM2MzI0MA==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410363240", "bodyText": "I don't think the archetype resources are necessary to update - that pom is used (if I understand correctly) to generate new poms for people building custom UDFs\nEDIT: though we might want to just remove -Werror from that entirely", "author": "agavra", "createdAt": "2020-04-17T17:21:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM3MjkwNA==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410372904", "bodyText": "Yeah, I skipped archetype-resources because it seems to have a separate build lifecycle. I defer to you all on whether to remove -Werror there in this PR.", "author": "colinhicks", "createdAt": "2020-04-17T17:39:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM3ODA3MQ==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410378071", "bodyText": "\ud83e\udd37 let's punt on that for now", "author": "agavra", "createdAt": "2020-04-17T17:49:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM3OTUyMw==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410379523", "bodyText": "@agavra what's the case for removing -Werror from the archetype-resources pom entirely?", "author": "vcrfxia", "createdAt": "2020-04-17T17:52:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM4MTM5OQ==", "url": "https://github.com/confluentinc/ksql/pull/5100#discussion_r410381399", "bodyText": "I feel like we shouldn't be forcing people who write UDFs to treat errors as warnings - that's not a standard compiler flag", "author": "agavra", "createdAt": "2020-04-17T17:55:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMzODQ1NQ=="}], "type": "inlineReview"}, {"oid": "b240648a8cbd42815a14de8101b1d570d3deadaf", "url": "https://github.com/confluentinc/ksql/commit/b240648a8cbd42815a14de8101b1d570d3deadaf", "message": "chore: inherit Werror in smodules that override compile target", "committedDate": "2020-04-17T16:59:14Z", "type": "commit"}, {"oid": "b1022988cc6c80280dfd97f9cf6846180f384374", "url": "https://github.com/confluentinc/ksql/commit/b1022988cc6c80280dfd97f9cf6846180f384374", "message": "chore: inherit Werror in add'l module", "committedDate": "2020-04-17T17:01:06Z", "type": "commit"}]}