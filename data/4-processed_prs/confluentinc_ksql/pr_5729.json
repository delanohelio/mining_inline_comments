{"pr_number": 5729, "pr_title": "fix: earliest/latest_by_offset should accept nulls", "pr_createdAt": "2020-06-30T15:08:17Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5729", "timeline": [{"oid": "cd1bf6c5ecfafb761af6a374dca49a1ae9922e96", "url": "https://github.com/confluentinc/ksql/commit/cd1bf6c5ecfafb761af6a374dca49a1ae9922e96", "message": "fix: earliest/latest_by_offset should accept nulls\n\nfixes: https://github.com/confluentinc/ksql/issues/5727\n\nThe `EARLIEST_BY_OFFSET` and `LATEST_BY_OFFSET` should treat a `NULL` value the same as any other value.\n\nIf the first value seen is `null`, then `EARLIEST_BY_OFFSET` should return `null`.\nIf the last value seen is `null`, then `LATEST_BY_OFFSET` should return `null`.", "committedDate": "2020-06-30T15:03:23Z", "type": "commit"}, {"oid": "859a488e7d41c94e9566fa3a8042d72a112cced2", "url": "https://github.com/confluentinc/ksql/commit/859a488e7d41c94e9566fa3a8042d72a112cced2", "message": "chore: merge from master and update", "committedDate": "2020-09-09T15:14:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcxODc0Mg==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485718742", "bodyText": "I was confused about this test, but the null here is not the null of the first row, but a null because there is no a value to return, right?", "author": "spena", "createdAt": "2020-09-09T15:50:31Z", "path": "ksqldb-functional-tests/src/test/resources/query-validation-tests/earliest-offset-udaf.json", "diffHunk": "@@ -24,20 +24,133 @@\n       ]\n     },\n     {\n-      \"name\": \"earliest by offset with nulls\",\n+      \"name\": \"null first - single - ignoring nulls\",\n+      \"statements\": [\n+        \"CREATE STREAM INPUT (ID BIGINT KEY, F0 INT) WITH (kafka_topic='test_topic', value_format='JSON');\",\n+        \"CREATE TABLE OUTPUT AS SELECT ID, EARLIEST_BY_OFFSET(F0, true) AS L0 FROM INPUT GROUP BY ID;\"\n+      ],\n+      \"inputs\": [\n+        {\"topic\": \"test_topic\", \"key\": 0, \"value\": {\"F0\": null}},\n+        {\"topic\": \"test_topic\", \"key\": 0, \"value\": {\"F0\": 13}}\n+      ],\n+      \"outputs\": [\n+        {\"topic\": \"OUTPUT\", \"key\": 0, \"value\": {\"L0\": null}},", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkyOTQxMA==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485929410", "bodyText": "correct", "author": "big-andy-coates", "createdAt": "2020-09-09T21:22:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcxODc0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyMjA4Ng==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485722086", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\n          \n          \n            \n            Return the earliest value for the specified column. The earliest value in the partition", "author": "JimGalasyn", "createdAt": "2020-09-09T15:55:15Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d7210d2a8a745ca4137c802f8bc010ae181b2303", "url": "https://github.com/confluentinc/ksql/commit/d7210d2a8a745ca4137c802f8bc010ae181b2303", "message": "docs: update docs", "committedDate": "2020-09-09T15:55:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyMjk4MA==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485722980", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\n          \n          \n            \n            The optional `ignoreNulls` parameter, available since version 0.13.0, controls whether nulls are ignored. The default", "author": "JimGalasyn", "createdAt": "2020-09-09T15:56:31Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyMzIzMg==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485723232", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            to ignoring null values.\n          \n          \n            \n            is to ignore null values.", "author": "JimGalasyn", "createdAt": "2020-09-09T15:56:51Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyNDA5Ng==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485724096", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Return the earliest N values for a given column as an `ARRAY`. 'Earliest' is defined as the values \n          \n          \n            \n            Return the earliest _N_ values for the specified column as an `ARRAY`. The earliest values", "author": "JimGalasyn", "createdAt": "2020-09-09T15:58:06Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1,earliestN)\r\n+EARLIEST_BY_OFFSET(col1, earliestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest N values for a given column. Earliest here is defined as the values in the partition\r\n-with the lowest offsets. Rows that have `col1` set to null are ignored.\r\n+Return the earliest N values for a given column as an `ARRAY`. 'Earliest' is defined as the values \r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyNDQ4Nw==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485724487", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            in the partition with the lowest offsets.\n          \n          \n            \n            in the partition have the lowest offsets.", "author": "JimGalasyn", "createdAt": "2020-09-09T15:58:41Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1,earliestN)\r\n+EARLIEST_BY_OFFSET(col1, earliestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest N values for a given column. Earliest here is defined as the values in the partition\r\n-with the lowest offsets. Rows that have `col1` set to null are ignored.\r\n+Return the earliest N values for a given column as an `ARRAY`. 'Earliest' is defined as the values \r\n+in the partition with the lowest offsets.\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyNTY2OQ==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485725669", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            with the lowest offset. \n          \n          \n            \n            has the lowest offset.", "author": "JimGalasyn", "createdAt": "2020-09-09T16:00:18Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyNjU0MQ==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485726541", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Optional parameter `ignoreNulls` controls if nulls are ignored or not. Defaulting\n          \n          \n            \n            The optional `ignoreNulls` parameter controls whether nulls are ignored. The default", "author": "JimGalasyn", "createdAt": "2020-09-09T16:01:41Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1,earliestN)\r\n+EARLIEST_BY_OFFSET(col1, earliestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest N values for a given column. Earliest here is defined as the values in the partition\r\n-with the lowest offsets. Rows that have `col1` set to null are ignored.\r\n+Return the earliest N values for a given column as an `ARRAY`. 'Earliest' is defined as the values \r\n+in the partition with the lowest offsets.\r\n \r\n+Optional parameter `ignoreNulls` controls if nulls are ignored or not. Defaulting\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyNjcyMw==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485726723", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            to ignoring null values.\n          \n          \n            \n            is to ignore null values.", "author": "JimGalasyn", "createdAt": "2020-09-09T16:01:56Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -102,26 +102,31 @@ to estimate cardinalities of 10^9 with a typical standard error of 2%.\n Since: 0.10.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1)\r\n+EARLIEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest value for a given column. Earliest here is defined as the value in the partition\r\n-with the lowest offset. Rows that have `col1` set to null are ignored.\r\n+Return the earliest value for a given column. 'Earliest' is defined as the value in the partition\r\n+with the lowest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-EARLIEST_BY_OFFSET(col1,earliestN)\r\n+EARLIEST_BY_OFFSET(col1, earliestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the earliest N values for a given column. Earliest here is defined as the values in the partition\r\n-with the lowest offsets. Rows that have `col1` set to null are ignored.\r\n+Return the earliest N values for a given column as an `ARRAY`. 'Earliest' is defined as the values \r\n+in the partition with the lowest offsets.\r\n \r\n+Optional parameter `ignoreNulls` controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyODI2Mg==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485728262", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Return the latest value for a given column. 'Latest' is defined as the value in the partition\n          \n          \n            \n            Return the latest value for the specified column. The latest value in the partition", "author": "JimGalasyn", "createdAt": "2020-09-09T16:03:24Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyODU5MQ==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485728591", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            with the greatest offset. \n          \n          \n            \n            has the largest offset.", "author": "JimGalasyn", "createdAt": "2020-09-09T16:03:44Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r\n+with the greatest offset. \r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyOTQzMQ==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485729431", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\n          \n          \n            \n            The optional `ignoreNulls` parameter, available since version 0.13.0, controls whether nulls are ignored. The default", "author": "JimGalasyn", "createdAt": "2020-09-09T16:04:40Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r\n+with the greatest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyOTc2Mw==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485729763", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            to ignoring null values.\n          \n          \n            \n            is to ignore null values.", "author": "JimGalasyn", "createdAt": "2020-09-09T16:05:03Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r\n+with the greatest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTczMDUyNQ==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485730525", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Returns the latest N values for a given column as an `ARRAY`. 'Latest' is defined\n          \n          \n            \n            Returns the latest _N_ values for the specified column as an `ARRAY`. The latest values have", "author": "JimGalasyn", "createdAt": "2020-09-09T16:05:53Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r\n+with the greatest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1,latestN)\r\n+LATEST_BY_OFFSET(col1, latestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Returns the latest N values for a given column as an array of values. Latest here is also defined\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Returns the latest N values for a given column as an `ARRAY`. 'Latest' is defined\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTczMDg5OQ==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485730899", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            with the greatest offset.\n          \n          \n            \n            the largest offset.", "author": "JimGalasyn", "createdAt": "2020-09-09T16:06:16Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r\n+with the greatest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1,latestN)\r\n+LATEST_BY_OFFSET(col1, latestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Returns the latest N values for a given column as an array of values. Latest here is also defined\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Returns the latest N values for a given column as an `ARRAY`. 'Latest' is defined\r\n+with the greatest offset.\r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTczMTUwMg==", "url": "https://github.com/confluentinc/ksql/pull/5729#discussion_r485731502", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Optional parameter `ignoreNulls` controls if nulls are ignored or not. Defaulting to ignoring \n          \n          \n            \n            The optional `ignoreNulls` parameter controls whether nulls are ignored. The default is to ignore", "author": "JimGalasyn", "createdAt": "2020-09-09T16:06:54Z", "path": "docs/developer-guide/ksqldb-reference/aggregate-functions.md", "diffHunk": "@@ -150,24 +155,30 @@ the order they were originally processed.\n Since: 0.8.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1)\r\n+LATEST_BY_OFFSET(col1, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Return the latest value for a given column. Latest here is defined as the value in the partition\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Return the latest value for a given column. 'Latest' is defined as the value in the partition\r\n+with the greatest offset. \r\n+\r\n+Optional parameter `ignoreNulls`, (since 0.13.0), controls if nulls are ignored or not. Defaulting\r\n+to ignoring null values.\r\n \r\n Since: 0.13.0\r\n \r\n ```sql\r\n-LATEST_BY_OFFSET(col1,latestN)\r\n+LATEST_BY_OFFSET(col1, latestN, [ignoreNulls])\r\n ```\r\n \r\n Stream\r\n \r\n-Returns the latest N values for a given column as an array of values. Latest here is also defined\r\n-with the greatest offset. Rows that have `col1` set to null are ignored.\r\n+Returns the latest N values for a given column as an `ARRAY`. 'Latest' is defined\r\n+with the greatest offset.\r\n+\r\n+Optional parameter `ignoreNulls` controls if nulls are ignored or not. Defaulting to ignoring \r", "originalCommit": "859a488e7d41c94e9566fa3a8042d72a112cced2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9747620b65df1c9360c6e3c051bf7bedfb4678b3", "url": "https://github.com/confluentinc/ksql/commit/9747620b65df1c9360c6e3c051bf7bedfb4678b3", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:22:23Z", "type": "commit"}, {"oid": "5c828e486d6086d3c840bcc31a42631d4c7a1871", "url": "https://github.com/confluentinc/ksql/commit/5c828e486d6086d3c840bcc31a42631d4c7a1871", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:22:48Z", "type": "commit"}, {"oid": "92c3e10b1ead099b0f949ab862488816ed378c78", "url": "https://github.com/confluentinc/ksql/commit/92c3e10b1ead099b0f949ab862488816ed378c78", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:22:57Z", "type": "commit"}, {"oid": "4dc8fb0c09fd7e2a342186f6757fcfc679e80eb9", "url": "https://github.com/confluentinc/ksql/commit/4dc8fb0c09fd7e2a342186f6757fcfc679e80eb9", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:07Z", "type": "commit"}, {"oid": "78e1cd2a087a18aba82e1428a32bdd12a1d5b2b8", "url": "https://github.com/confluentinc/ksql/commit/78e1cd2a087a18aba82e1428a32bdd12a1d5b2b8", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:16Z", "type": "commit"}, {"oid": "be14973c71ad03879b686537a300787a253658b3", "url": "https://github.com/confluentinc/ksql/commit/be14973c71ad03879b686537a300787a253658b3", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:24Z", "type": "commit"}, {"oid": "7fbcc0a0a9221c709896c81f400f8f3568457440", "url": "https://github.com/confluentinc/ksql/commit/7fbcc0a0a9221c709896c81f400f8f3568457440", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:32Z", "type": "commit"}, {"oid": "35de33562488fb5d2138c50decd81c22cd17cbef", "url": "https://github.com/confluentinc/ksql/commit/35de33562488fb5d2138c50decd81c22cd17cbef", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:40Z", "type": "commit"}, {"oid": "96128305624751a85c561b73de19d30c6b47696a", "url": "https://github.com/confluentinc/ksql/commit/96128305624751a85c561b73de19d30c6b47696a", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:49Z", "type": "commit"}, {"oid": "e09b817ee856b85b81e94b0b23979947803f4351", "url": "https://github.com/confluentinc/ksql/commit/e09b817ee856b85b81e94b0b23979947803f4351", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:23:58Z", "type": "commit"}, {"oid": "0a4b65334beef3ae4c198acb1ac7a1e0aa6a3b55", "url": "https://github.com/confluentinc/ksql/commit/0a4b65334beef3ae4c198acb1ac7a1e0aa6a3b55", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:24:06Z", "type": "commit"}, {"oid": "25ce4ca27aaf7a69d67fe846b2d49a662cca0283", "url": "https://github.com/confluentinc/ksql/commit/25ce4ca27aaf7a69d67fe846b2d49a662cca0283", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:24:14Z", "type": "commit"}, {"oid": "5259a6972fc587b5e1d358cf4d8e52a19f8c0c85", "url": "https://github.com/confluentinc/ksql/commit/5259a6972fc587b5e1d358cf4d8e52a19f8c0c85", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:24:21Z", "type": "commit"}, {"oid": "38ad881d4dfd17977f4f68a07c42be0db956162c", "url": "https://github.com/confluentinc/ksql/commit/38ad881d4dfd17977f4f68a07c42be0db956162c", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:24:27Z", "type": "commit"}, {"oid": "6fa38942c1567afcb03480741f9d773d00951c04", "url": "https://github.com/confluentinc/ksql/commit/6fa38942c1567afcb03480741f9d773d00951c04", "message": "Update docs/developer-guide/ksqldb-reference/aggregate-functions.md\n\nCo-authored-by: Jim Galasyn <jim.galasyn@confluent.io>", "committedDate": "2020-09-09T21:24:34Z", "type": "commit"}, {"oid": "d81a88ea7c21b414c3d9c01b1a750276bd97a7b6", "url": "https://github.com/confluentinc/ksql/commit/d81a88ea7c21b414c3d9c01b1a750276bd97a7b6", "message": "test: historic plans", "committedDate": "2020-09-10T19:24:29Z", "type": "commit"}, {"oid": "6aab5edfc3fb323f90329e5980b5cc750523f5b1", "url": "https://github.com/confluentinc/ksql/commit/6aab5edfc3fb323f90329e5980b5cc750523f5b1", "message": "Merge branch 'nulls_by_offset' of github.com:big-andy-coates/ksql into nulls_by_offset", "committedDate": "2020-09-10T19:24:44Z", "type": "commit"}, {"oid": "4c8aa16ade21b2b80a21e35ce05413083fc5620a", "url": "https://github.com/confluentinc/ksql/commit/4c8aa16ade21b2b80a21e35ce05413083fc5620a", "message": "test: fix flaky test", "committedDate": "2020-09-11T06:10:56Z", "type": "commit"}]}