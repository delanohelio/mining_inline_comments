{"pr_number": 6518, "pr_title": "chore: json_sr tests and minor fixes", "pr_createdAt": "2020-10-23T22:45:37Z", "pr_url": "https://github.com/confluentinc/ksql/pull/6518", "timeline": [{"oid": "4f7afe4f60be13be149390ccd71440394b117905", "url": "https://github.com/confluentinc/ksql/commit/4f7afe4f60be13be149390ccd71440394b117905", "message": "chore: json_sr tests and minor fixes", "committedDate": "2020-10-23T22:44:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDQ3MQ==", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r511304471", "bodyText": "Is this just for clarity? this should already refer to PostTopicNode.this here, right?", "author": "vcrfxia", "createdAt": "2020-10-24T04:05:11Z", "path": "ksqldb-functional-tests/src/main/java/io/confluent/ksql/test/model/PostConditionsNode.java", "diffHunk": "@@ -205,7 +205,7 @@ public PostTopicNode(\n         @Override\n         public void describeTo(final Description description) {\n           try {\n-            description.appendText(TestJsonMapper.INSTANCE.get().writeValueAsString(this));\n+            description.appendText(TestJsonMapper.INSTANCE.get().writeValueAsString(PostTopicNode.this));", "originalCommit": "4f7afe4f60be13be149390ccd71440394b117905", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA1OTA5OQ==", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r512059099", "bodyText": "no, this is within the Matcher anonymous class. I need to use PostTopicNode.this to refer to the outer wrapper (non-anon) class", "author": "agavra", "createdAt": "2020-10-26T15:39:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDQ3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDUwNA==", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r511304504", "bodyText": "How come we're making JSON_SR available by default, given that AVRO still isn't enabled by default? Aren't both blocked on the same additional testing for joins?\nAlso, what's the point of having \"ksql.key.format.enabled\": true in the new QTTs (with primitive keys) if we're enabling this by default?", "author": "vcrfxia", "createdAt": "2020-10-24T04:05:17Z", "path": "ksqldb-serde/src/main/java/io/confluent/ksql/serde/KeyFormatUtils.java", "diffHunk": "@@ -25,7 +25,8 @@\n       FormatFactory.NONE,\n       FormatFactory.KAFKA,\n       FormatFactory.DELIMITED,\n-      FormatFactory.JSON\n+      FormatFactory.JSON,\n+      FormatFactory.JSON_SR", "originalCommit": "4f7afe4f60be13be149390ccd71440394b117905", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA1OTQwMQ==", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r512059401", "bodyText": "\ud83e\udd26 this is me not being careful. Thank you for checking this", "author": "agavra", "createdAt": "2020-10-26T15:39:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDUwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMwNDUzMQ==", "url": "https://github.com/confluentinc/ksql/pull/6518#discussion_r511304531", "bodyText": "nit: I'm with @big-andy-coates on preferring tests simply have throws Exception so we don't need to worry about keeping lists of exceptions up to date. I don't think seeing the specific exceptions is insightful either.", "author": "vcrfxia", "createdAt": "2020-10-24T04:05:20Z", "path": "ksqldb-serde/src/test/java/io/confluent/ksql/serde/json/KsqlJsonSerializerTest.java", "diffHunk": "@@ -233,7 +236,7 @@ public void shouldHandleNestedStruct() throws IOException {\n   }\n \n   @Test\n-  public void shouldSerializeBoolean() {\n+  public void shouldSerializeBoolean() throws IOException, RestClientException {", "originalCommit": "4f7afe4f60be13be149390ccd71440394b117905", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "35f9902ba13cbe7d8c9c2b75d0d5b6181b851709", "url": "https://github.com/confluentinc/ksql/commit/35f9902ba13cbe7d8c9c2b75d0d5b6181b851709", "message": "chore: victorias comments", "committedDate": "2020-10-26T17:00:50Z", "type": "commit"}]}