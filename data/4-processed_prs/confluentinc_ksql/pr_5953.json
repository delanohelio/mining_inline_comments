{"pr_number": 5953, "pr_title": "docs: add operators section to lexical structure topic (DOCS-5067)", "pr_createdAt": "2020-08-05T23:46:47Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5953", "timeline": [{"oid": "0a14590732d6298b619f44526f0c2200e2762fe4", "url": "https://github.com/confluentinc/ksql/commit/0a14590732d6298b619f44526f0c2200e2762fe4", "message": "docs: add operators section to lexical structure topic", "committedDate": "2020-08-05T23:44:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMTc2NA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466401764", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `<`          | is less than                   | numeric         \n          \n          \n            \n            | `<`          | is less than                   | string, numeric", "author": "big-andy-coates", "createdAt": "2020-08-06T13:13:23Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMTg2OQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466401869", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `<=`         | is less than or equal to       | numeric         \n          \n          \n            \n            | `<=`         | is less than or equal to       | string, numeric", "author": "big-andy-coates", "createdAt": "2020-08-06T13:13:35Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMTk2MQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466401961", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `>`          | is greater than                | numeric         \n          \n          \n            \n            | `>`          | is greater than                | string, numeric", "author": "big-andy-coates", "createdAt": "2020-08-06T13:13:44Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMjA2OA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466402068", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `>=`         | is greater than or equal to    | numeric         \n          \n          \n            \n            | `>=`         | is greater than or equal to    | string, numeric", "author": "big-andy-coates", "createdAt": "2020-08-06T13:13:54Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMjU0Mg==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466402542", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `+`          | addition and concatenation     | numeric         \n          \n          \n            \n            | `+`          | addition for numerics and concatenation for strings    | string, numeric", "author": "big-andy-coates", "createdAt": "2020-08-06T13:14:38Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMzY0MQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466403641", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `%`          | wildcard and modulus           | string, numeric \n          \n          \n            \n            | `%`          | modulus           | numeric \n          \n      \n    \n    \n  \n\nThough % can be used in a string to indicate a wildcard, it's not acting as an operator. You can't do:\nSELECT 'a' % 'b', ...", "author": "big-andy-coates", "createdAt": "2020-08-06T13:16:12Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwNDkwMg==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466404902", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `||` or `+`  | concatenation                  | string          \n          \n          \n            \n            | `||`   | concatenation                  | string          \n          \n      \n    \n    \n  \n\nYou've already covered + above for strings.", "author": "big-andy-coates", "createdAt": "2020-08-06T13:18:19Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwNTk4MA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466405980", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | `E`          | exponent                       | numeric         \n          \n          \n            \n            | `E` or `e`         | exponent                       | numeric", "author": "big-andy-coates", "createdAt": "2020-08-06T13:20:05Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwNjMzMg==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466406332", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.\n          \n          \n            \n            [numeric types](data-types/numeric.md), like INT, BIGINT, DOUBLE and DECIMAL.", "author": "big-andy-coates", "createdAt": "2020-08-06T13:20:35Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+\n+The explanation for each operator includes a supporting example based on\n+the following table:\n+\n+```sql\n+CREATE TABLE USERS (\n+    USERID BIGINT PRIMARY KEY,\n+    FIRST_NAME STRING,\n+    LAST_NAME STRING,\n+    NICKNAMES ARRAY<STRING>,\n+    ADDRESS STRUCT<STREET_NAME STRING, HOUSE_NUM INTEGER>\n+) WITH (KAFKA_TOPIC='users', VALUE_FORMAT='AVRO');\n+```\n+\n+### Arithmetic\n+\n+You can apply the familiar arithmetic operators, like `+` and `%`, to\n+[numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxMjIzNA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466412234", "bodyText": "It's a bug that you can't use || for multi-part, so we should probably fix the bug: #5956 and keep the docs inline with expected functionality.\n(Figure this documentation won't be updated when the above bug is fixed).", "author": "big-andy-coates", "createdAt": "2020-08-06T13:29:04Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+\n+The explanation for each operator includes a supporting example based on\n+the following table:\n+\n+```sql\n+CREATE TABLE USERS (\n+    USERID BIGINT PRIMARY KEY,\n+    FIRST_NAME STRING,\n+    LAST_NAME STRING,\n+    NICKNAMES ARRAY<STRING>,\n+    ADDRESS STRUCT<STREET_NAME STRING, HOUSE_NUM INTEGER>\n+) WITH (KAFKA_TOPIC='users', VALUE_FORMAT='AVRO');\n+```\n+\n+### Arithmetic\n+\n+You can apply the familiar arithmetic operators, like `+` and `%`, to\n+[numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.\n+\n+The following example statement uses the addition operator (`+`) to compute\n+the sum of the lengths of two strings:\n+\n+```sql\n+SELECT USERID, LEN(FIRST_NAME) + LEN(LAST_NAME) AS NAME_LENGTH FROM USERS EMIT CHANGES;\n+```\n+\n+### Concatenation\n+\n+Use the concatenation operator (`+` or `||`) to concatenate\n+[STRING](data-types/character.md) values.\n+\n+```sql\n+SELECT USERID, FIRST_NAME + LAST_NAME AS FULL_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+You can use the `+` operator for multi-part concatenation.", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxMzYxNQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466413615", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            \n          \n          \n            \n            Providing the fully qualified column name is optional unless the column name is ambiguous. For example, if a two sides of a join both contained a `foo` column, then any reference to `foo` in the query would need to be fully qualified.", "author": "big-andy-coates", "createdAt": "2020-08-06T13:31:06Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+\n+The explanation for each operator includes a supporting example based on\n+the following table:\n+\n+```sql\n+CREATE TABLE USERS (\n+    USERID BIGINT PRIMARY KEY,\n+    FIRST_NAME STRING,\n+    LAST_NAME STRING,\n+    NICKNAMES ARRAY<STRING>,\n+    ADDRESS STRUCT<STREET_NAME STRING, HOUSE_NUM INTEGER>\n+) WITH (KAFKA_TOPIC='users', VALUE_FORMAT='AVRO');\n+```\n+\n+### Arithmetic\n+\n+You can apply the familiar arithmetic operators, like `+` and `%`, to\n+[numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.\n+\n+The following example statement uses the addition operator (`+`) to compute\n+the sum of the lengths of two strings:\n+\n+```sql\n+SELECT USERID, LEN(FIRST_NAME) + LEN(LAST_NAME) AS NAME_LENGTH FROM USERS EMIT CHANGES;\n+```\n+\n+### Concatenation\n+\n+Use the concatenation operator (`+` or `||`) to concatenate\n+[STRING](data-types/character.md) values.\n+\n+```sql\n+SELECT USERID, FIRST_NAME + LAST_NAME AS FULL_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+You can use the `+` operator for multi-part concatenation.\n+\n+The following example statement uses the concatenation operator (`+`) to create\n+an error message:\n+\n+```sql\n+SELECT USERID,\n+    TIMESTAMPTOSTRING(ROWTIME, 'yyyy-MM-dd HH:mm:ss') +\n+        ': :heavy_exclamation_mark: On ' +\n+        HOST +\n+        ' there were ' +\n+        CAST(INVALID_LOGIN_COUNT AS VARCHAR) +\n+        ' attempts in the last minute (threshold is >=4)'\n+  FROM INVALID_USERS_LOGINS_PER_HOST\n+  WHERE INVALID_LOGIN_COUNT>=4\n+  EMIT CHANGES;\n+```\n+\n+### Source dereference\n+\n+Use the source dereference operator (`.`) to specify columns by dereferencing\n+the source stream or table.\n+\n+The following example statement selects the value of the FIRST_NAME column in\n+the USERS table:\n+", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxMzc1OA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466413758", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            SELECT USERID, USERS.FIRST_NAME FROM USERS EMIT CHANGES;\n          \n          \n            \n            SELECT USERS.USERID, USERS.FIRST_NAME FROM USERS EMIT CHANGES;", "author": "big-andy-coates", "createdAt": "2020-08-06T13:31:19Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+\n+The explanation for each operator includes a supporting example based on\n+the following table:\n+\n+```sql\n+CREATE TABLE USERS (\n+    USERID BIGINT PRIMARY KEY,\n+    FIRST_NAME STRING,\n+    LAST_NAME STRING,\n+    NICKNAMES ARRAY<STRING>,\n+    ADDRESS STRUCT<STREET_NAME STRING, HOUSE_NUM INTEGER>\n+) WITH (KAFKA_TOPIC='users', VALUE_FORMAT='AVRO');\n+```\n+\n+### Arithmetic\n+\n+You can apply the familiar arithmetic operators, like `+` and `%`, to\n+[numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.\n+\n+The following example statement uses the addition operator (`+`) to compute\n+the sum of the lengths of two strings:\n+\n+```sql\n+SELECT USERID, LEN(FIRST_NAME) + LEN(LAST_NAME) AS NAME_LENGTH FROM USERS EMIT CHANGES;\n+```\n+\n+### Concatenation\n+\n+Use the concatenation operator (`+` or `||`) to concatenate\n+[STRING](data-types/character.md) values.\n+\n+```sql\n+SELECT USERID, FIRST_NAME + LAST_NAME AS FULL_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+You can use the `+` operator for multi-part concatenation.\n+\n+The following example statement uses the concatenation operator (`+`) to create\n+an error message:\n+\n+```sql\n+SELECT USERID,\n+    TIMESTAMPTOSTRING(ROWTIME, 'yyyy-MM-dd HH:mm:ss') +\n+        ': :heavy_exclamation_mark: On ' +\n+        HOST +\n+        ' there were ' +\n+        CAST(INVALID_LOGIN_COUNT AS VARCHAR) +\n+        ' attempts in the last minute (threshold is >=4)'\n+  FROM INVALID_USERS_LOGINS_PER_HOST\n+  WHERE INVALID_LOGIN_COUNT>=4\n+  EMIT CHANGES;\n+```\n+\n+### Source dereference\n+\n+Use the source dereference operator (`.`) to specify columns by dereferencing\n+the source stream or table.\n+\n+The following example statement selects the value of the FIRST_NAME column in\n+the USERS table:\n+\n+```sql\n+SELECT USERID, USERS.FIRST_NAME FROM USERS EMIT CHANGES;", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxNjk4OQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466416989", "bodyText": "Bad links?\nCan't find data-types/compund.md. Not sure what compund is anyway ;)\nAlso second link incorrectly references array twice, not map.\nschemas.md is the file that currently contains details of our different data types. Did you mean to link to that?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [array](data-types/compund.md#array) index or a [array](data-types/compund.md#array) map key. Arrays indexes are one-based.\n          \n          \n            \n            [array](data-types/compund.md#array) index or a [map](data-types/compund.md#map) key. Arrays indexes are one-based.", "author": "big-andy-coates", "createdAt": "2020-08-06T13:36:09Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+\n+The explanation for each operator includes a supporting example based on\n+the following table:\n+\n+```sql\n+CREATE TABLE USERS (\n+    USERID BIGINT PRIMARY KEY,\n+    FIRST_NAME STRING,\n+    LAST_NAME STRING,\n+    NICKNAMES ARRAY<STRING>,\n+    ADDRESS STRUCT<STREET_NAME STRING, HOUSE_NUM INTEGER>\n+) WITH (KAFKA_TOPIC='users', VALUE_FORMAT='AVRO');\n+```\n+\n+### Arithmetic\n+\n+You can apply the familiar arithmetic operators, like `+` and `%`, to\n+[numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.\n+\n+The following example statement uses the addition operator (`+`) to compute\n+the sum of the lengths of two strings:\n+\n+```sql\n+SELECT USERID, LEN(FIRST_NAME) + LEN(LAST_NAME) AS NAME_LENGTH FROM USERS EMIT CHANGES;\n+```\n+\n+### Concatenation\n+\n+Use the concatenation operator (`+` or `||`) to concatenate\n+[STRING](data-types/character.md) values.\n+\n+```sql\n+SELECT USERID, FIRST_NAME + LAST_NAME AS FULL_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+You can use the `+` operator for multi-part concatenation.\n+\n+The following example statement uses the concatenation operator (`+`) to create\n+an error message:\n+\n+```sql\n+SELECT USERID,\n+    TIMESTAMPTOSTRING(ROWTIME, 'yyyy-MM-dd HH:mm:ss') +\n+        ': :heavy_exclamation_mark: On ' +\n+        HOST +\n+        ' there were ' +\n+        CAST(INVALID_LOGIN_COUNT AS VARCHAR) +\n+        ' attempts in the last minute (threshold is >=4)'\n+  FROM INVALID_USERS_LOGINS_PER_HOST\n+  WHERE INVALID_LOGIN_COUNT>=4\n+  EMIT CHANGES;\n+```\n+\n+### Source dereference\n+\n+Use the source dereference operator (`.`) to specify columns by dereferencing\n+the source stream or table.\n+\n+The following example statement selects the value of the FIRST_NAME column in\n+the USERS table:\n+\n+```sql\n+SELECT USERID, USERS.FIRST_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+### Subscript\n+\n+Use the subscript operator (`[subscript_expr]`) to reference the value at an\n+[array](data-types/compund.md#array) index or a [array](data-types/compund.md#array) map key. Arrays indexes are one-based.", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ5NDMwNw==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466494307", "bodyText": "This branch merges into another branch that Im working on that more formally documents the data types. Links will match up when they come into that branch. \ud83d\udc4d", "author": "MichaelDrogalis", "createdAt": "2020-08-06T15:25:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxNjk4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTY1Mw==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466509653", "bodyText": "Are we setting up redirects to link from old content to new?  Otherwise any links out there on the internet will be broken :(", "author": "big-andy-coates", "createdAt": "2020-08-06T15:47:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxNjk4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUxMjE2Mw==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466512163", "bodyText": "Absolutely, yes. We're being careful with rearrangement. \ud83d\ude4f", "author": "MichaelDrogalis", "createdAt": "2020-08-06T15:51:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxNjk4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQxODA0Mw==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466418043", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Combine `->` with `.` when using aliases:\n          \n          \n            \n            Combine `->` with `.` to provide fully qualified names.\n          \n      \n    \n    \n  \n\nIt's not about aliases.", "author": "big-andy-coates", "createdAt": "2020-08-06T13:37:49Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+\n+The explanation for each operator includes a supporting example based on\n+the following table:\n+\n+```sql\n+CREATE TABLE USERS (\n+    USERID BIGINT PRIMARY KEY,\n+    FIRST_NAME STRING,\n+    LAST_NAME STRING,\n+    NICKNAMES ARRAY<STRING>,\n+    ADDRESS STRUCT<STREET_NAME STRING, HOUSE_NUM INTEGER>\n+) WITH (KAFKA_TOPIC='users', VALUE_FORMAT='AVRO');\n+```\n+\n+### Arithmetic\n+\n+You can apply the familiar arithmetic operators, like `+` and `%`, to\n+[numeric types](data-types/numeric.md), like INT, BIGINT, and DOUBLE.\n+\n+The following example statement uses the addition operator (`+`) to compute\n+the sum of the lengths of two strings:\n+\n+```sql\n+SELECT USERID, LEN(FIRST_NAME) + LEN(LAST_NAME) AS NAME_LENGTH FROM USERS EMIT CHANGES;\n+```\n+\n+### Concatenation\n+\n+Use the concatenation operator (`+` or `||`) to concatenate\n+[STRING](data-types/character.md) values.\n+\n+```sql\n+SELECT USERID, FIRST_NAME + LAST_NAME AS FULL_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+You can use the `+` operator for multi-part concatenation.\n+\n+The following example statement uses the concatenation operator (`+`) to create\n+an error message:\n+\n+```sql\n+SELECT USERID,\n+    TIMESTAMPTOSTRING(ROWTIME, 'yyyy-MM-dd HH:mm:ss') +\n+        ': :heavy_exclamation_mark: On ' +\n+        HOST +\n+        ' there were ' +\n+        CAST(INVALID_LOGIN_COUNT AS VARCHAR) +\n+        ' attempts in the last minute (threshold is >=4)'\n+  FROM INVALID_USERS_LOGINS_PER_HOST\n+  WHERE INVALID_LOGIN_COUNT>=4\n+  EMIT CHANGES;\n+```\n+\n+### Source dereference\n+\n+Use the source dereference operator (`.`) to specify columns by dereferencing\n+the source stream or table.\n+\n+The following example statement selects the value of the FIRST_NAME column in\n+the USERS table:\n+\n+```sql\n+SELECT USERID, USERS.FIRST_NAME FROM USERS EMIT CHANGES;\n+```\n+\n+### Subscript\n+\n+Use the subscript operator (`[subscript_expr]`) to reference the value at an\n+[array](data-types/compund.md#array) index or a [array](data-types/compund.md#array) map key. Arrays indexes are one-based.\n+\n+The following example statement selects the first string in the NICKNAMES array:\n+\n+```sql\n+SELECT USERID, NICKNAMES[1] FROM USERS EMIT CHANGES;\n+```\n+\n+### STRUCT dereference\n+\n+Access nested data by declaring a STRUCT and using the dereference operator\n+(`->`) to access its fields.\n+\n+The following example statement selects the values of the STREET and HOUSE_NUM\n+fields in the ADDRESS struct: \n+\n+```sql\n+SELECT USERID, ADDRESS->STREET, ADDRESS->HOUSE_NUM FROM USERS EMIT CHANGES;\n+```\n+\n+Combine `->` with `.` when using aliases:", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMDIzOA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466420238", "bodyText": "What's this bit?\nThe parser understands single line comments:\n-- This is a single line and multiline comments.\n\n/* \n    This is a \n    Multiline comment\n*/\n\nSELECT \n   ID INT,                -- single line comments\n   NAME STRING  -- can be at end of SQL\n FROM FOO\n EMIT CHANGES;", "author": "big-andy-coates", "createdAt": "2020-08-06T13:41:07Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -75,6 +189,8 @@ Not a function/operator/identifier, have meta-meaning for the commands.\n \n TODO: does ksqlDB have multi-line comments?\n \n+bracketed comments\n+'/*' .*? '*/' ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ0NzEyNA==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466447124", "bodyText": "For bit below on operator precedence...\nPrecedence in order:\n\n\n\n(Multiplication), / (Division), % (Modulus)\n\n\n\n\n(Positive), - (Negative), + (Addition), + (Concatenation), - (Subtraction)\n\n\n=, >, <, >=, <=, <>, != (Comparison operators)\nNOT\nAND\nBETWEEN, LIKE, OR\n\nWhen two operators in an expression have the same precedence level, they're evaluated left to right based on their position in the expression.\nAnd of course you can use brackets to force or make precedence clear, e.g. (5 + 2) * 3", "author": "big-andy-coates", "createdAt": "2020-08-06T14:19:29Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -75,6 +189,8 @@ Not a function/operator/identifier, have meta-meaning for the commands.\n \n TODO: does ksqlDB have multi-line comments?\n \n+bracketed comments\n+'/*' .*? '*/' ", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ0OTU3NQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466449575", "bodyText": "Missing operators:\n| `NOT` | Logical NOT | boolean\n| `AND` | Logical AND | boolean\n| `OR` | Logical OR | boolean\n| `BETWEEN` | tests if value within range | numeric, string\n| `LIKE` | pattern matching | string", "author": "big-andy-coates", "createdAt": "2020-08-06T14:22:52Z", "path": "docs/reference2/sql-syntax/lexical-structure.md", "diffHunk": "@@ -53,9 +55,121 @@ TODO: what makes a valid identifier?\n \n ## Operators\n \n-- Infix functions like +, -, *, /.\n+The following table lists all of the operators that are supported by ksqlDB SQL.\n+\n+| operator     | meaning                        | applies to      \n+|--------------|--------------------------------|-----------------\n+| `=`          | is equal to                    | string, numeric \n+| `!=` or `<>` | is not equal to                | string, numeric \n+| `<`          | is less than                   | numeric         \n+| `<=`         | is less than or equal to       | numeric         \n+| `>`          | is greater than                | numeric         \n+| `>=`         | is greater than or equal to    | numeric         \n+| `+`          | addition and concatenation     | numeric         \n+| `-`          | subtraction                    | numeric         \n+| `*`          | multiplication                 | numeric         \n+| `/`          | division                       | numeric         \n+| `%`          | wildcard and modulus           | string, numeric \n+| `||` or `+`  | concatenation                  | string          \n+| `:=`         | assignment                     | all             \n+| `->`         | struct field dereference       | struct     \n+| `.`          | source dereference             | table, stream\n+| `E`          | exponent                       | numeric         \n+", "originalCommit": "0a14590732d6298b619f44526f0c2200e2762fe4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMjg1OQ==", "url": "https://github.com/confluentinc/ksql/pull/5953#discussion_r466502859", "bodyText": "Added #5958 to test this.", "author": "big-andy-coates", "createdAt": "2020-08-06T15:37:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ0OTU3NQ=="}], "type": "inlineReview"}, {"oid": "e8ec4249db9a6762ce222887d08cba5cd2481570", "url": "https://github.com/confluentinc/ksql/commit/e8ec4249db9a6762ce222887d08cba5cd2481570", "message": "docs: incorporate feedback", "committedDate": "2020-08-06T18:29:20Z", "type": "commit"}]}