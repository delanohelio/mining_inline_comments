{"pr_number": 4922, "pr_title": "Test case of OrchestrationProperties and NacosProperties", "pr_createdAt": "2020-03-24T12:22:58Z", "pr_url": "https://github.com/apache/shardingsphere/pull/4922", "timeline": [{"oid": "073055e08e54b56ec1199cc45622b6e01440e3e4", "url": "https://github.com/apache/shardingsphere/commit/073055e08e54b56ec1199cc45622b6e01440e3e4", "message": "Test case of ZookeeperProperties", "committedDate": "2020-03-19T03:05:29Z", "type": "commit"}, {"oid": "634e6a093fa8c9720ddf565f8ab6728ef612c38e", "url": "https://github.com/apache/shardingsphere/commit/634e6a093fa8c9720ddf565f8ab6728ef612c38e", "message": "Test case of OrchestrationProperties", "committedDate": "2020-03-24T12:19:17Z", "type": "commit"}, {"oid": "6e5f13ca8b4e6531b11fc07636deabcc7050d1db", "url": "https://github.com/apache/shardingsphere/commit/6e5f13ca8b4e6531b11fc07636deabcc7050d1db", "message": "Test case of NacosProperties", "committedDate": "2020-03-24T12:20:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIxNjgzMg==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397216832", "bodyText": "The class ZookeeperPropertiesTest is already existed, why rewrite it again?", "author": "terrymanu", "createdAt": "2020-03-24T14:55:35Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-zookeeper-curator/src/test/java/org/apache/shardingsphere/orchestration/center/instance/ZookeeperPropertiesTest.java", "diffHunk": "@@ -0,0 +1,56 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.orchestration.center.instance;\n+\n+import org.junit.Test;\n+\n+import java.util.Properties;\n+\n+import static org.hamcrest.CoreMatchers.is;\n+import static org.junit.Assert.assertThat;\n+\n+public final class ZookeeperPropertiesTest {\n+\n+    @Test\n+    public void assertGetValue() {\n+        Properties props = new Properties();\n+        props.setProperty(ZookeeperPropertyKey.RETRY_INTERVAL_MILLISECONDS.getKey(), \"3000\");\n+        props.setProperty(ZookeeperPropertyKey.MAX_RETRIES.getKey(), \"2\");\n+        props.setProperty(ZookeeperPropertyKey.TIME_TO_LIVE_SECONDS.getKey(), \"600\");\n+        props.setProperty(ZookeeperPropertyKey.OPERATION_TIMEOUT_MILLISECONDS.getKey(), \"6000\");\n+        props.setProperty(ZookeeperPropertyKey.DIGEST.getKey(), \"any\");\n+        ZookeeperProperties actual = new ZookeeperProperties(props);\n+        assertThat(actual.getValue(ZookeeperPropertyKey.RETRY_INTERVAL_MILLISECONDS), is(3000));\n+        assertThat(actual.getValue(ZookeeperPropertyKey.MAX_RETRIES), is(2));\n+        assertThat(actual.getValue(ZookeeperPropertyKey.TIME_TO_LIVE_SECONDS), is(600));\n+        assertThat(actual.getValue(ZookeeperPropertyKey.OPERATION_TIMEOUT_MILLISECONDS), is(6000));\n+        assertThat(actual.getValue(ZookeeperPropertyKey.DIGEST), is(\"any\"));\n+    }\n+\n+    @Test\n+    public void assertGetDefaultValue() {\n+        Properties props = new Properties();\n+        ZookeeperProperties actual = new ZookeeperProperties(props);\n+        assertThat(actual.getValue(ZookeeperPropertyKey.RETRY_INTERVAL_MILLISECONDS), is(500));", "originalCommit": "6e5f13ca8b4e6531b11fc07636deabcc7050d1db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU1ODI1Nw==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397558257", "bodyText": "@terrymanu  sorry,I submitted pull request based on the last branch, so there is a duplicate file", "author": "ruanjiehui", "createdAt": "2020-03-25T01:27:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIxNjgzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU1ODg5Nw==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397558897", "bodyText": "How should I handle this situation? Is it better to recreate a branch and resubmit the pr after modification or to resolve the conflict?", "author": "ruanjiehui", "createdAt": "2020-03-25T01:29:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIxNjgzMg=="}], "type": "inlineReview"}, {"oid": "2dbfeab75c076622c869bf63ee2273649e03e25a", "url": "https://github.com/apache/shardingsphere/commit/2dbfeab75c076622c869bf63ee2273649e03e25a", "message": "Merge branch 'master' into issue-4820", "committedDate": "2020-03-25T01:23:18Z", "type": "commit"}, {"oid": "53b2e6191ac51ac93517ab49d7beb32a7d5e2bb8", "url": "https://github.com/apache/shardingsphere/commit/53b2e6191ac51ac93517ab49d7beb32a7d5e2bb8", "message": "Fix CI\n\nbecause checkstyle check", "committedDate": "2020-03-25T06:09:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY0MjM3NQ==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397642375", "bodyText": "should keep origin blankspaces", "author": "kimmking", "createdAt": "2020-03-25T07:01:41Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-zookeeper-curator/src/test/java/org/apache/shardingsphere/orchestration/center/instance/ZookeeperPropertiesTest.java", "diffHunk": "@@ -25,7 +25,7 @@\n import static org.junit.Assert.assertThat;\n \n public final class ZookeeperPropertiesTest {\n-    ", "originalCommit": "53b2e6191ac51ac93517ab49d7beb32a7d5e2bb8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY0MjUwOA==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397642508", "bodyText": "let a blank line at tail", "author": "kimmking", "createdAt": "2020-03-25T07:02:10Z", "path": "sharding-orchestration/sharding-orchestration-core/sharding-orchestration-core-facade/src/test/java/org/apache/shardingsphere/orchestration/core/facade/properties/OrchestrationPropertiesTest.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.orchestration.core.facade.properties;\n+\n+import org.junit.Test;\n+\n+import java.util.Properties;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+public final class OrchestrationPropertiesTest {\n+\n+    @Test\n+    public void assertGetValue() {\n+        Properties props = new Properties();\n+        props.setProperty(OrchestrationPropertyKey.OVERWRITE.getKey(), \"true\");\n+        OrchestrationProperties actual = new OrchestrationProperties(props);\n+        assertTrue(actual.getValue(OrchestrationPropertyKey.OVERWRITE));\n+    }\n+\n+    @Test\n+    public void assertGetDefaultValue() {\n+        Properties props = new Properties();\n+        OrchestrationProperties actual = new OrchestrationProperties(props);\n+        assertFalse(actual.getValue(OrchestrationPropertyKey.OVERWRITE));\n+    }\n+\n+}", "originalCommit": "53b2e6191ac51ac93517ab49d7beb32a7d5e2bb8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY0MjU5NQ==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397642595", "bodyText": "let a blank line at tail.", "author": "kimmking", "createdAt": "2020-03-25T07:02:28Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/test/java/org/apache/shardingsphere/orchestration/center/instance/NacosPropertiesTest.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.orchestration.center.instance;\n+\n+import org.junit.Test;\n+\n+import java.util.Properties;\n+\n+import static org.hamcrest.CoreMatchers.is;\n+import static org.junit.Assert.assertThat;\n+\n+public final class NacosPropertiesTest {\n+\n+    @Test\n+    public void assertGetValue() {\n+        Properties props = new Properties();\n+        props.setProperty(NacosPropertyKey.GROUP.getKey(), \"SHARDING_SPHERE_TEST_GROUP\");\n+        props.setProperty(NacosPropertyKey.TIMEOUT.getKey(), \"6000\");\n+        NacosProperties actual = new NacosProperties(props);\n+        assertThat(actual.getValue(NacosPropertyKey.GROUP), is(\"SHARDING_SPHERE_TEST_GROUP\"));\n+        assertThat(actual.getValue(NacosPropertyKey.TIMEOUT), is(6000L));\n+    }\n+\n+    @Test\n+    public void assertGetDefaultValue() {\n+        Properties props = new Properties();\n+        NacosProperties actual = new NacosProperties(props);\n+        assertThat(actual.getValue(NacosPropertyKey.GROUP), is(\"SHARDING_SPHERE_DEFAULT_GROUP\"));\n+        assertThat(actual.getValue(NacosPropertyKey.TIMEOUT), is(3000L));\n+    }\n+\n+}", "originalCommit": "53b2e6191ac51ac93517ab49d7beb32a7d5e2bb8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "47caa5730951004585064ba22ebec18d07cc7f43", "url": "https://github.com/apache/shardingsphere/commit/47caa5730951004585064ba22ebec18d07cc7f43", "message": "keep origin blankspaces\n\nkeep origin blankspaces", "committedDate": "2020-03-25T07:12:17Z", "type": "commit"}, {"oid": "f782d89c0e133cd7d19e2d7b764813a83bd5f3e1", "url": "https://github.com/apache/shardingsphere/commit/f782d89c0e133cd7d19e2d7b764813a83bd5f3e1", "message": "should keep origin blankspaces\n\nshould keep origin blankspaces", "committedDate": "2020-03-25T07:15:29Z", "type": "commit"}, {"oid": "75b0eac7d98e62ff0da851381d2c81af337eccd1", "url": "https://github.com/apache/shardingsphere/commit/75b0eac7d98e62ff0da851381d2c81af337eccd1", "message": "fix code style problem\n\nfix code style problem", "committedDate": "2020-03-25T07:19:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY2OTI2NA==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397669264", "bodyText": "let an empty line here", "author": "kimmking", "createdAt": "2020-03-25T08:10:14Z", "path": "sharding-orchestration/sharding-orchestration-core/sharding-orchestration-core-facade/src/test/java/org/apache/shardingsphere/orchestration/core/facade/properties/OrchestrationPropertiesTest.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.orchestration.core.facade.properties;\n+\n+import org.junit.Test;\n+\n+import java.util.Properties;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+public final class OrchestrationPropertiesTest {\n+    \n+    @Test\n+    public void assertGetValue() {\n+        Properties props = new Properties();\n+        props.setProperty(OrchestrationPropertyKey.OVERWRITE.getKey(), \"true\");\n+        OrchestrationProperties actual = new OrchestrationProperties(props);\n+        assertTrue(actual.getValue(OrchestrationPropertyKey.OVERWRITE));\n+    }\n+    \n+    @Test\n+    public void assertGetDefaultValue() {\n+        Properties props = new Properties();\n+        OrchestrationProperties actual = new OrchestrationProperties(props);\n+        assertFalse(actual.getValue(OrchestrationPropertyKey.OVERWRITE));\n+    }\n+\n+}", "originalCommit": "75b0eac7d98e62ff0da851381d2c81af337eccd1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "892444a0062403fdc2bf577e4461489696db2606", "url": "https://github.com/apache/shardingsphere/commit/892444a0062403fdc2bf577e4461489696db2606", "message": "code style fix\n\ncode style fix", "committedDate": "2020-03-25T08:24:36Z", "type": "commit"}, {"oid": "0633d294f858ee2a3767b80e101f7d0d80551e06", "url": "https://github.com/apache/shardingsphere/commit/0633d294f858ee2a3767b80e101f7d0d80551e06", "message": "code style fix\n\nwhen edit on github website,need add two empty lines", "committedDate": "2020-03-25T08:45:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NjY3Mg==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397766672", "bodyText": "Please remove useless blank line.", "author": "terrymanu", "createdAt": "2020-03-25T10:57:30Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-nacos/src/test/java/org/apache/shardingsphere/orchestration/center/instance/NacosPropertiesTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.orchestration.center.instance;\n+\n+import org.junit.Test;\n+\n+import java.util.Properties;\n+\n+import static org.hamcrest.CoreMatchers.is;\n+import static org.junit.Assert.assertThat;\n+\n+public final class NacosPropertiesTest {\n+    \n+    @Test\n+    public void assertGetValue() {\n+        Properties props = new Properties();\n+        props.setProperty(NacosPropertyKey.GROUP.getKey(), \"SHARDING_SPHERE_TEST_GROUP\");\n+        props.setProperty(NacosPropertyKey.TIMEOUT.getKey(), \"6000\");\n+        NacosProperties actual = new NacosProperties(props);\n+        assertThat(actual.getValue(NacosPropertyKey.GROUP), is(\"SHARDING_SPHERE_TEST_GROUP\"));\n+        assertThat(actual.getValue(NacosPropertyKey.TIMEOUT), is(6000L));\n+    }\n+    \n+    @Test\n+    public void assertGetDefaultValue() {\n+        Properties props = new Properties();\n+        NacosProperties actual = new NacosProperties(props);\n+        assertThat(actual.getValue(NacosPropertyKey.GROUP), is(\"SHARDING_SPHERE_DEFAULT_GROUP\"));\n+        assertThat(actual.getValue(NacosPropertyKey.TIMEOUT), is(3000L));\n+    }\n+", "originalCommit": "0633d294f858ee2a3767b80e101f7d0d80551e06", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2Njc0OQ==", "url": "https://github.com/apache/shardingsphere/pull/4922#discussion_r397766749", "bodyText": "Please remove useless blank line.", "author": "terrymanu", "createdAt": "2020-03-25T10:57:38Z", "path": "sharding-orchestration/sharding-orchestration-core/sharding-orchestration-core-facade/src/test/java/org/apache/shardingsphere/orchestration/core/facade/properties/OrchestrationPropertiesTest.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.orchestration.core.facade.properties;\n+\n+import org.junit.Test;\n+\n+import java.util.Properties;\n+\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n+\n+public final class OrchestrationPropertiesTest {\n+    \n+    @Test\n+    public void assertGetValue() {\n+        Properties props = new Properties();\n+        props.setProperty(OrchestrationPropertyKey.OVERWRITE.getKey(), \"true\");\n+        OrchestrationProperties actual = new OrchestrationProperties(props);\n+        assertTrue(actual.getValue(OrchestrationPropertyKey.OVERWRITE));\n+    }\n+    \n+    @Test\n+    public void assertGetDefaultValue() {\n+        Properties props = new Properties();\n+        OrchestrationProperties actual = new OrchestrationProperties(props);\n+        assertFalse(actual.getValue(OrchestrationPropertyKey.OVERWRITE));\n+    }\n+", "originalCommit": "0633d294f858ee2a3767b80e101f7d0d80551e06", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}