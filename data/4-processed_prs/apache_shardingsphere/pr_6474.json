{"pr_number": 6474, "pr_title": "Fix #6408 :  Cannot find JDBC type '2003' in PostgreSQL column type", "pr_createdAt": "2020-07-27T15:56:20Z", "pr_url": "https://github.com/apache/shardingsphere/pull/6474", "timeline": [{"oid": "4dc99e27793565fafa780e93431411de34fe7018", "url": "https://github.com/apache/shardingsphere/commit/4dc99e27793565fafa780e93431411de34fe7018", "message": "Support PostgreSQL array type (#6408)", "committedDate": "2020-07-26T15:32:40Z", "type": "commit"}, {"oid": "323b78060a516aec1ff9bc87df17ea328086f84c", "url": "https://github.com/apache/shardingsphere/commit/323b78060a516aec1ff9bc87df17ea328086f84c", "message": "Support PostgreSQL array type, unit test (#6408)", "committedDate": "2020-07-27T15:50:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4MTE5MA==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461381190", "bodyText": "Suggest to change the class name to PostgreSQLArrayColumnType", "author": "tuohai666", "createdAt": "2020-07-28T07:40:56Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappings.java", "diffHunk": "@@ -0,0 +1,475 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * Column type name and oid mappings.\n+ */\n+public class PostgreSQLColumnTypeNameOidMappings {", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4MjM5MA==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461382390", "bodyText": "Great implementation. But please remove all the comments by convention.", "author": "tuohai666", "createdAt": "2020-07-28T07:43:04Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappings.java", "diffHunk": "@@ -0,0 +1,475 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * Column type name and oid mappings.\n+ */\n+public class PostgreSQLColumnTypeNameOidMappings {\n+\n+    // Data from PostgreSQL 12.3, by executing following sql:", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4Mjg2MQ==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461382861", "bodyText": "I suggest replacing \\t to a single space to make it easy to read.", "author": "tuohai666", "createdAt": "2020-07-28T07:43:58Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappings.java", "diffHunk": "@@ -0,0 +1,475 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * Column type name and oid mappings.\n+ */\n+public class PostgreSQLColumnTypeNameOidMappings {\n+\n+    // Data from PostgreSQL 12.3, by executing following sql:\n+    // SELECT t.typname, t.oid FROM pg_catalog.pg_type t JOIN pg_catalog.pg_namespace n ON t.typnamespace = n.oid;\n+\n+    // Hundred lines of map.put doesn't satisfy checkstyle rules: JavaNCSS, ExecutableStatementCount. So use string to parse.\n+    private static final String ORIGINAL_RECORD_LINES =\n+        \"bool\\t16\\n\"", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4MzQ2Mg==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461383462", "bodyText": "If this map is only for array types, please remove all the non-array types.", "author": "tuohai666", "createdAt": "2020-07-28T07:45:00Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappings.java", "diffHunk": "@@ -0,0 +1,475 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * Column type name and oid mappings.\n+ */\n+public class PostgreSQLColumnTypeNameOidMappings {\n+\n+    // Data from PostgreSQL 12.3, by executing following sql:\n+    // SELECT t.typname, t.oid FROM pg_catalog.pg_type t JOIN pg_catalog.pg_namespace n ON t.typnamespace = n.oid;\n+\n+    // Hundred lines of map.put doesn't satisfy checkstyle rules: JavaNCSS, ExecutableStatementCount. So use string to parse.\n+    private static final String ORIGINAL_RECORD_LINES =\n+        \"bool\\t16\\n\"\n+            + \"bytea\\t17\\n\"\n+            + \"char\\t18\\n\"\n+            + \"name\\t19\\n\"", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5MzkxMg==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461393912", "bodyText": "COLUMN_TYPE_NAME_OID_MAP can be assigned here. And the loadFactor 1 is enough.", "author": "tuohai666", "createdAt": "2020-07-28T08:03:15Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappings.java", "diffHunk": "@@ -0,0 +1,475 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * Column type name and oid mappings.\n+ */\n+public class PostgreSQLColumnTypeNameOidMappings {\n+\n+    // Data from PostgreSQL 12.3, by executing following sql:\n+    // SELECT t.typname, t.oid FROM pg_catalog.pg_type t JOIN pg_catalog.pg_namespace n ON t.typnamespace = n.oid;\n+\n+    // Hundred lines of map.put doesn't satisfy checkstyle rules: JavaNCSS, ExecutableStatementCount. So use string to parse.\n+    private static final String ORIGINAL_RECORD_LINES =\n+        \"bool\\t16\\n\"\n+            + \"bytea\\t17\\n\"\n+            + \"char\\t18\\n\"\n+            + \"name\\t19\\n\"\n+            + \"int8\\t20\\n\"\n+            + \"int2\\t21\\n\"\n+            + \"int2vector\\t22\\n\"\n+            + \"int4\\t23\\n\"\n+            + \"regproc\\t24\\n\"\n+            + \"text\\t25\\n\"\n+            + \"oid\\t26\\n\"\n+            + \"tid\\t27\\n\"\n+            + \"xid\\t28\\n\"\n+            + \"cid\\t29\\n\"\n+            + \"oidvector\\t30\\n\"\n+            + \"pg_type\\t71\\n\"\n+            + \"pg_attribute\\t75\\n\"\n+            + \"pg_proc\\t81\\n\"\n+            + \"pg_class\\t83\\n\"\n+            + \"json\\t114\\n\"\n+            + \"xml\\t142\\n\"\n+            + \"pg_node_tree\\t194\\n\"\n+            + \"pg_ndistinct\\t3361\\n\"\n+            + \"pg_dependencies\\t3402\\n\"\n+            + \"pg_mcv_list\\t5017\\n\"\n+            + \"pg_ddl_command\\t32\\n\"\n+            + \"point\\t600\\n\"\n+            + \"lseg\\t601\\n\"\n+            + \"path\\t602\\n\"\n+            + \"box\\t603\\n\"\n+            + \"polygon\\t604\\n\"\n+            + \"line\\t628\\n\"\n+            + \"float4\\t700\\n\"\n+            + \"float8\\t701\\n\"\n+            + \"unknown\\t705\\n\"\n+            + \"circle\\t718\\n\"\n+            + \"money\\t790\\n\"\n+            + \"macaddr\\t829\\n\"\n+            + \"inet\\t869\\n\"\n+            + \"cidr\\t650\\n\"\n+            + \"macaddr8\\t774\\n\"\n+            + \"aclitem\\t1033\\n\"\n+            + \"bpchar\\t1042\\n\"\n+            + \"varchar\\t1043\\n\"\n+            + \"date\\t1082\\n\"\n+            + \"time\\t1083\\n\"\n+            + \"timestamp\\t1114\\n\"\n+            + \"timestamptz\\t1184\\n\"\n+            + \"interval\\t1186\\n\"\n+            + \"timetz\\t1266\\n\"\n+            + \"bit\\t1560\\n\"\n+            + \"varbit\\t1562\\n\"\n+            + \"numeric\\t1700\\n\"\n+            + \"refcursor\\t1790\\n\"\n+            + \"regprocedure\\t2202\\n\"\n+            + \"regoper\\t2203\\n\"\n+            + \"regoperator\\t2204\\n\"\n+            + \"regclass\\t2205\\n\"\n+            + \"regtype\\t2206\\n\"\n+            + \"regrole\\t4096\\n\"\n+            + \"regnamespace\\t4089\\n\"\n+            + \"uuid\\t2950\\n\"\n+            + \"pg_lsn\\t3220\\n\"\n+            + \"tsvector\\t3614\\n\"\n+            + \"gtsvector\\t3642\\n\"\n+            + \"tsquery\\t3615\\n\"\n+            + \"regconfig\\t3734\\n\"\n+            + \"regdictionary\\t3769\\n\"\n+            + \"jsonb\\t3802\\n\"\n+            + \"jsonpath\\t4072\\n\"\n+            + \"txid_snapshot\\t2970\\n\"\n+            + \"int4range\\t3904\\n\"\n+            + \"numrange\\t3906\\n\"\n+            + \"tsrange\\t3908\\n\"\n+            + \"tstzrange\\t3910\\n\"\n+            + \"daterange\\t3912\\n\"\n+            + \"int8range\\t3926\\n\"\n+            + \"record\\t2249\\n\"\n+            + \"_record\\t2287\\n\"\n+            + \"cstring\\t2275\\n\"\n+            + \"any\\t2276\\n\"\n+            + \"anyarray\\t2277\\n\"\n+            + \"void\\t2278\\n\"\n+            + \"trigger\\t2279\\n\"\n+            + \"event_trigger\\t3838\\n\"\n+            + \"language_handler\\t2280\\n\"\n+            + \"internal\\t2281\\n\"\n+            + \"opaque\\t2282\\n\"\n+            + \"anyelement\\t2283\\n\"\n+            + \"anynonarray\\t2776\\n\"\n+            + \"anyenum\\t3500\\n\"\n+            + \"fdw_handler\\t3115\\n\"\n+            + \"index_am_handler\\t325\\n\"\n+            + \"tsm_handler\\t3310\\n\"\n+            + \"table_am_handler\\t269\\n\"\n+            + \"anyrange\\t3831\\n\"\n+            + \"_bool\\t1000\\n\"\n+            + \"_bytea\\t1001\\n\"\n+            + \"_char\\t1002\\n\"\n+            + \"_name\\t1003\\n\"\n+            + \"_int8\\t1016\\n\"\n+            + \"_int2\\t1005\\n\"\n+            + \"_int2vector\\t1006\\n\"\n+            + \"_int4\\t1007\\n\"\n+            + \"_regproc\\t1008\\n\"\n+            + \"_text\\t1009\\n\"\n+            + \"_oid\\t1028\\n\"\n+            + \"_tid\\t1010\\n\"\n+            + \"_xid\\t1011\\n\"\n+            + \"_cid\\t1012\\n\"\n+            + \"_oidvector\\t1013\\n\"\n+            + \"_json\\t199\\n\"\n+            + \"_xml\\t143\\n\"\n+            + \"_point\\t1017\\n\"\n+            + \"_lseg\\t1018\\n\"\n+            + \"_path\\t1019\\n\"\n+            + \"_box\\t1020\\n\"\n+            + \"_polygon\\t1027\\n\"\n+            + \"_line\\t629\\n\"\n+            + \"_float4\\t1021\\n\"\n+            + \"_float8\\t1022\\n\"\n+            + \"_circle\\t719\\n\"\n+            + \"_money\\t791\\n\"\n+            + \"_macaddr\\t1040\\n\"\n+            + \"_inet\\t1041\\n\"\n+            + \"_cidr\\t651\\n\"\n+            + \"_macaddr8\\t775\\n\"\n+            + \"_aclitem\\t1034\\n\"\n+            + \"_bpchar\\t1014\\n\"\n+            + \"_varchar\\t1015\\n\"\n+            + \"_date\\t1182\\n\"\n+            + \"_time\\t1183\\n\"\n+            + \"_timestamp\\t1115\\n\"\n+            + \"_timestamptz\\t1185\\n\"\n+            + \"_interval\\t1187\\n\"\n+            + \"_timetz\\t1270\\n\"\n+            + \"_bit\\t1561\\n\"\n+            + \"_varbit\\t1563\\n\"\n+            + \"_numeric\\t1231\\n\"\n+            + \"_refcursor\\t2201\\n\"\n+            + \"_regprocedure\\t2207\\n\"\n+            + \"_regoper\\t2208\\n\"\n+            + \"_regoperator\\t2209\\n\"\n+            + \"_regclass\\t2210\\n\"\n+            + \"_regtype\\t2211\\n\"\n+            + \"_regrole\\t4097\\n\"\n+            + \"_regnamespace\\t4090\\n\"\n+            + \"_uuid\\t2951\\n\"\n+            + \"_pg_lsn\\t3221\\n\"\n+            + \"_tsvector\\t3643\\n\"\n+            + \"_gtsvector\\t3644\\n\"\n+            + \"_tsquery\\t3645\\n\"\n+            + \"_regconfig\\t3735\\n\"\n+            + \"_regdictionary\\t3770\\n\"\n+            + \"_jsonb\\t3807\\n\"\n+            + \"_jsonpath\\t4073\\n\"\n+            + \"_txid_snapshot\\t2949\\n\"\n+            + \"_int4range\\t3905\\n\"\n+            + \"_numrange\\t3907\\n\"\n+            + \"_tsrange\\t3909\\n\"\n+            + \"_tstzrange\\t3911\\n\"\n+            + \"_daterange\\t3913\\n\"\n+            + \"_int8range\\t3927\\n\"\n+            + \"_cstring\\t1263\\n\"\n+            + \"pg_attrdef\\t12000\\n\"\n+            + \"pg_constraint\\t12001\\n\"\n+            + \"pg_inherits\\t12002\\n\"\n+            + \"pg_index\\t12003\\n\"\n+            + \"pg_operator\\t12004\\n\"\n+            + \"pg_opfamily\\t12005\\n\"\n+            + \"pg_opclass\\t12006\\n\"\n+            + \"pg_am\\t12007\\n\"\n+            + \"pg_amop\\t12008\\n\"\n+            + \"pg_amproc\\t12009\\n\"\n+            + \"pg_language\\t12010\\n\"\n+            + \"pg_largeobject_metadata\\t12011\\n\"\n+            + \"pg_largeobject\\t12012\\n\"\n+            + \"pg_aggregate\\t12013\\n\"\n+            + \"pg_statistic_ext\\t12014\\n\"\n+            + \"pg_statistic_ext_data\\t12015\\n\"\n+            + \"pg_statistic\\t12016\\n\"\n+            + \"pg_rewrite\\t12017\\n\"\n+            + \"pg_trigger\\t12018\\n\"\n+            + \"pg_event_trigger\\t12019\\n\"\n+            + \"pg_description\\t12020\\n\"\n+            + \"pg_cast\\t12021\\n\"\n+            + \"pg_enum\\t12022\\n\"\n+            + \"pg_namespace\\t12023\\n\"\n+            + \"pg_conversion\\t12024\\n\"\n+            + \"pg_depend\\t12025\\n\"\n+            + \"pg_database\\t1248\\n\"\n+            + \"pg_db_role_setting\\t12026\\n\"\n+            + \"pg_tablespace\\t12027\\n\"\n+            + \"pg_pltemplate\\t12028\\n\"\n+            + \"pg_authid\\t2842\\n\"\n+            + \"pg_auth_members\\t2843\\n\"\n+            + \"pg_shdepend\\t12029\\n\"\n+            + \"pg_shdescription\\t12030\\n\"\n+            + \"pg_ts_config\\t12031\\n\"\n+            + \"pg_ts_config_map\\t12032\\n\"\n+            + \"pg_ts_dict\\t12033\\n\"\n+            + \"pg_ts_parser\\t12034\\n\"\n+            + \"pg_ts_template\\t12035\\n\"\n+            + \"pg_extension\\t12036\\n\"\n+            + \"pg_foreign_data_wrapper\\t12037\\n\"\n+            + \"pg_foreign_server\\t12038\\n\"\n+            + \"pg_user_mapping\\t12039\\n\"\n+            + \"pg_foreign_table\\t12040\\n\"\n+            + \"pg_policy\\t12041\\n\"\n+            + \"pg_replication_origin\\t12042\\n\"\n+            + \"pg_default_acl\\t12043\\n\"\n+            + \"pg_init_privs\\t12044\\n\"\n+            + \"pg_seclabel\\t12045\\n\"\n+            + \"pg_shseclabel\\t4066\\n\"\n+            + \"pg_collation\\t12046\\n\"\n+            + \"pg_partitioned_table\\t12047\\n\"\n+            + \"pg_range\\t12048\\n\"\n+            + \"pg_transform\\t12049\\n\"\n+            + \"pg_sequence\\t12050\\n\"\n+            + \"pg_publication\\t12051\\n\"\n+            + \"pg_publication_rel\\t12052\\n\"\n+            + \"pg_subscription\\t6101\\n\"\n+            + \"pg_subscription_rel\\t12053\\n\"\n+            + \"pg_toast_2600\\t12054\\n\"\n+            + \"pg_toast_2604\\t12055\\n\"\n+            + \"pg_toast_3456\\t12056\\n\"\n+            + \"pg_toast_2606\\t12057\\n\"\n+            + \"pg_toast_826\\t12058\\n\"\n+            + \"pg_toast_2609\\t12059\\n\"\n+            + \"pg_toast_3466\\t12060\\n\"\n+            + \"pg_toast_3079\\t12061\\n\"\n+            + \"pg_toast_2328\\t12062\\n\"\n+            + \"pg_toast_1417\\t12063\\n\"\n+            + \"pg_toast_3118\\t12064\\n\"\n+            + \"pg_toast_3394\\t12065\\n\"\n+            + \"pg_toast_2612\\t12066\\n\"\n+            + \"pg_toast_2615\\t12067\\n\"\n+            + \"pg_toast_3350\\t12068\\n\"\n+            + \"pg_toast_3256\\t12069\\n\"\n+            + \"pg_toast_1255\\t12070\\n\"\n+            + \"pg_toast_2618\\t12071\\n\"\n+            + \"pg_toast_3596\\t12072\\n\"\n+            + \"pg_toast_2619\\t12073\\n\"\n+            + \"pg_toast_3381\\t12074\\n\"\n+            + \"pg_toast_3429\\t12075\\n\"\n+            + \"pg_toast_2620\\t12076\\n\"\n+            + \"pg_toast_3600\\t12077\\n\"\n+            + \"pg_toast_1247\\t12078\\n\"\n+            + \"pg_toast_1418\\t12079\\n\"\n+            + \"pg_toast_1260\\t12080\\n\"\n+            + \"pg_toast_1262\\t12081\\n\"\n+            + \"pg_toast_2964\\t12082\\n\"\n+            + \"pg_toast_1136\\t12083\\n\"\n+            + \"pg_toast_6000\\t12084\\n\"\n+            + \"pg_toast_2396\\t12085\\n\"\n+            + \"pg_toast_3592\\t12086\\n\"\n+            + \"pg_toast_6100\\t12087\\n\"\n+            + \"pg_toast_1213\\t12088\\n\"\n+            + \"pg_roles\\t12090\\n\"\n+            + \"pg_shadow\\t12094\\n\"\n+            + \"pg_group\\t12098\\n\"\n+            + \"pg_user\\t12101\\n\"\n+            + \"pg_policies\\t12104\\n\"\n+            + \"pg_rules\\t12108\\n\"\n+            + \"pg_views\\t12112\\n\"\n+            + \"pg_tables\\t12116\\n\"\n+            + \"pg_matviews\\t12120\\n\"\n+            + \"pg_indexes\\t12124\\n\"\n+            + \"pg_sequences\\t12128\\n\"\n+            + \"pg_stats\\t12132\\n\"\n+            + \"pg_stats_ext\\t12136\\n\"\n+            + \"pg_publication_tables\\t12140\\n\"\n+            + \"pg_locks\\t12144\\n\"\n+            + \"pg_cursors\\t12147\\n\"\n+            + \"pg_available_extensions\\t12150\\n\"\n+            + \"pg_available_extension_versions\\t12153\\n\"\n+            + \"pg_prepared_xacts\\t12156\\n\"\n+            + \"pg_prepared_statements\\t12160\\n\"\n+            + \"pg_seclabels\\t12163\\n\"\n+            + \"pg_settings\\t12167\\n\"\n+            + \"pg_file_settings\\t12172\\n\"\n+            + \"pg_hba_file_rules\\t12175\\n\"\n+            + \"pg_timezone_abbrevs\\t12178\\n\"\n+            + \"pg_timezone_names\\t12181\\n\"\n+            + \"pg_config\\t12184\\n\"\n+            + \"pg_stat_all_tables\\t12187\\n\"\n+            + \"pg_stat_xact_all_tables\\t12191\\n\"\n+            + \"pg_stat_sys_tables\\t12195\\n\"\n+            + \"pg_stat_xact_sys_tables\\t12199\\n\"\n+            + \"pg_stat_user_tables\\t12202\\n\"\n+            + \"pg_stat_xact_user_tables\\t12206\\n\"\n+            + \"pg_statio_all_tables\\t12209\\n\"\n+            + \"pg_statio_sys_tables\\t12213\\n\"\n+            + \"pg_statio_user_tables\\t12216\\n\"\n+            + \"pg_stat_all_indexes\\t12219\\n\"\n+            + \"pg_stat_sys_indexes\\t12223\\n\"\n+            + \"pg_stat_user_indexes\\t12226\\n\"\n+            + \"pg_statio_all_indexes\\t12229\\n\"\n+            + \"pg_statio_sys_indexes\\t12233\\n\"\n+            + \"pg_statio_user_indexes\\t12236\\n\"\n+            + \"pg_statio_all_sequences\\t12239\\n\"\n+            + \"pg_statio_sys_sequences\\t12243\\n\"\n+            + \"pg_statio_user_sequences\\t12246\\n\"\n+            + \"pg_stat_activity\\t12249\\n\"\n+            + \"pg_stat_replication\\t12253\\n\"\n+            + \"pg_stat_wal_receiver\\t12257\\n\"\n+            + \"pg_stat_subscription\\t12260\\n\"\n+            + \"pg_stat_ssl\\t12263\\n\"\n+            + \"pg_stat_gssapi\\t12266\\n\"\n+            + \"pg_replication_slots\\t12269\\n\"\n+            + \"pg_stat_database\\t12273\\n\"\n+            + \"pg_stat_database_conflicts\\t12277\\n\"\n+            + \"pg_stat_user_functions\\t12280\\n\"\n+            + \"pg_stat_xact_user_functions\\t12284\\n\"\n+            + \"pg_stat_archiver\\t12288\\n\"\n+            + \"pg_stat_bgwriter\\t12291\\n\"\n+            + \"pg_stat_progress_vacuum\\t12294\\n\"\n+            + \"pg_stat_progress_cluster\\t12298\\n\"\n+            + \"pg_stat_progress_create_index\\t12302\\n\"\n+            + \"pg_user_mappings\\t12306\\n\"\n+            + \"pg_replication_origin_status\\t12310\\n\"\n+            + \"test_array\\t16396\\n\"\n+            + \"_test_array\\t16395\\n\"\n+            + \"pg_toast_16394\\t16398\\n\"\n+            + \"cardinal_number\\t13032\\n\"\n+            + \"_cardinal_number\\t13031\\n\"\n+            + \"character_data\\t13035\\n\"\n+            + \"_character_data\\t13034\\n\"\n+            + \"sql_identifier\\t13037\\n\"\n+            + \"_sql_identifier\\t13036\\n\"\n+            + \"information_schema_catalog_name\\t13039\\n\"\n+            + \"time_stamp\\t13042\\n\"\n+            + \"_time_stamp\\t13041\\n\"\n+            + \"yes_or_no\\t13044\\n\"\n+            + \"_yes_or_no\\t13043\\n\"\n+            + \"applicable_roles\\t13047\\n\"\n+            + \"administrable_role_authorizations\\t13051\\n\"\n+            + \"attributes\\t13054\\n\"\n+            + \"character_sets\\t13058\\n\"\n+            + \"check_constraint_routine_usage\\t13062\\n\"\n+            + \"check_constraints\\t13066\\n\"\n+            + \"collations\\t13070\\n\"\n+            + \"collation_character_set_applicability\\t13074\\n\"\n+            + \"column_column_usage\\t13078\\n\"\n+            + \"column_domain_usage\\t13082\\n\"\n+            + \"column_privileges\\t13086\\n\"\n+            + \"column_udt_usage\\t13090\\n\"\n+            + \"columns\\t13094\\n\"\n+            + \"constraint_column_usage\\t13098\\n\"\n+            + \"constraint_table_usage\\t13102\\n\"\n+            + \"domain_constraints\\t13106\\n\"\n+            + \"domain_udt_usage\\t13110\\n\"\n+            + \"domains\\t13114\\n\"\n+            + \"enabled_roles\\t13118\\n\"\n+            + \"key_column_usage\\t13121\\n\"\n+            + \"parameters\\t13125\\n\"\n+            + \"referential_constraints\\t13129\\n\"\n+            + \"role_column_grants\\t13133\\n\"\n+            + \"routine_privileges\\t13136\\n\"\n+            + \"role_routine_grants\\t13140\\n\"\n+            + \"routines\\t13143\\n\"\n+            + \"schemata\\t13147\\n\"\n+            + \"sequences\\t13150\\n\"\n+            + \"sql_features\\t13154\\n\"\n+            + \"pg_toast_13153\\t13156\\n\"\n+            + \"sql_implementation_info\\t13159\\n\"\n+            + \"pg_toast_13158\\t13161\\n\"\n+            + \"sql_languages\\t13164\\n\"\n+            + \"pg_toast_13163\\t13166\\n\"\n+            + \"sql_packages\\t13169\\n\"\n+            + \"pg_toast_13168\\t13171\\n\"\n+            + \"sql_parts\\t13174\\n\"\n+            + \"pg_toast_13173\\t13176\\n\"\n+            + \"sql_sizing\\t13179\\n\"\n+            + \"pg_toast_13178\\t13181\\n\"\n+            + \"sql_sizing_profiles\\t13184\\n\"\n+            + \"pg_toast_13183\\t13186\\n\"\n+            + \"table_constraints\\t13189\\n\"\n+            + \"table_privileges\\t13193\\n\"\n+            + \"role_table_grants\\t13197\\n\"\n+            + \"tables\\t13200\\n\"\n+            + \"transforms\\t13204\\n\"\n+            + \"triggered_update_columns\\t13208\\n\"\n+            + \"triggers\\t13212\\n\"\n+            + \"udt_privileges\\t13216\\n\"\n+            + \"role_udt_grants\\t13220\\n\"\n+            + \"usage_privileges\\t13223\\n\"\n+            + \"role_usage_grants\\t13227\\n\"\n+            + \"user_defined_types\\t13230\\n\"\n+            + \"view_column_usage\\t13234\\n\"\n+            + \"view_routine_usage\\t13238\\n\"\n+            + \"view_table_usage\\t13242\\n\"\n+            + \"views\\t13246\\n\"\n+            + \"data_type_privileges\\t13250\\n\"\n+            + \"element_types\\t13254\\n\"\n+            + \"_pg_foreign_table_columns\\t13258\\n\"\n+            + \"column_options\\t13262\\n\"\n+            + \"_pg_foreign_data_wrappers\\t13265\\n\"\n+            + \"foreign_data_wrapper_options\\t13268\\n\"\n+            + \"foreign_data_wrappers\\t13271\\n\"\n+            + \"_pg_foreign_servers\\t13274\\n\"\n+            + \"foreign_server_options\\t13278\\n\"\n+            + \"foreign_servers\\t13281\\n\"\n+            + \"_pg_foreign_tables\\t13284\\n\"\n+            + \"foreign_table_options\\t13288\\n\"\n+            + \"foreign_tables\\t13291\\n\"\n+            + \"_pg_user_mappings\\t13294\\n\"\n+            + \"user_mapping_options\\t13298\\n\"\n+            + \"user_mappings\\t13302\\n\"\n+            + \"array_tc_0\\t16426\\n\"\n+            + \"_array_tc_0\\t16425\\n\"\n+            + \"pg_toast_16424\\t16428\\n\"\n+            + \"array_tc_1\\t16434\\n\"\n+            + \"_array_tc_1\\t16433\\n\"\n+            + \"pg_toast_16432\\t16436\";\n+\n+    private static final Map<String, Integer> COLUMN_TYPE_NAME_OID_MAP;", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5NTAzNw==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461395037", "bodyText": "Please reference codes:\n    public static PostgreSQLColumnType valueOfJDBCType(final int jdbcType) {\n        if (JDBC_TYPE_AND_COLUMN_TYPE_MAP.containsKey(jdbcType)) {\n            return JDBC_TYPE_AND_COLUMN_TYPE_MAP.get(jdbcType);\n        }\n        throw new IllegalArgumentException(String.format(\"Cannot find JDBC type '%s' in PostgreSQL column type\", jdbcType));\n    }", "author": "tuohai666", "createdAt": "2020-07-28T08:05:15Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappings.java", "diffHunk": "@@ -0,0 +1,475 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+/**\n+ * Column type name and oid mappings.\n+ */\n+public class PostgreSQLColumnTypeNameOidMappings {\n+\n+    // Data from PostgreSQL 12.3, by executing following sql:\n+    // SELECT t.typname, t.oid FROM pg_catalog.pg_type t JOIN pg_catalog.pg_namespace n ON t.typnamespace = n.oid;\n+\n+    // Hundred lines of map.put doesn't satisfy checkstyle rules: JavaNCSS, ExecutableStatementCount. So use string to parse.\n+    private static final String ORIGINAL_RECORD_LINES =\n+        \"bool\\t16\\n\"\n+            + \"bytea\\t17\\n\"\n+            + \"char\\t18\\n\"\n+            + \"name\\t19\\n\"\n+            + \"int8\\t20\\n\"\n+            + \"int2\\t21\\n\"\n+            + \"int2vector\\t22\\n\"\n+            + \"int4\\t23\\n\"\n+            + \"regproc\\t24\\n\"\n+            + \"text\\t25\\n\"\n+            + \"oid\\t26\\n\"\n+            + \"tid\\t27\\n\"\n+            + \"xid\\t28\\n\"\n+            + \"cid\\t29\\n\"\n+            + \"oidvector\\t30\\n\"\n+            + \"pg_type\\t71\\n\"\n+            + \"pg_attribute\\t75\\n\"\n+            + \"pg_proc\\t81\\n\"\n+            + \"pg_class\\t83\\n\"\n+            + \"json\\t114\\n\"\n+            + \"xml\\t142\\n\"\n+            + \"pg_node_tree\\t194\\n\"\n+            + \"pg_ndistinct\\t3361\\n\"\n+            + \"pg_dependencies\\t3402\\n\"\n+            + \"pg_mcv_list\\t5017\\n\"\n+            + \"pg_ddl_command\\t32\\n\"\n+            + \"point\\t600\\n\"\n+            + \"lseg\\t601\\n\"\n+            + \"path\\t602\\n\"\n+            + \"box\\t603\\n\"\n+            + \"polygon\\t604\\n\"\n+            + \"line\\t628\\n\"\n+            + \"float4\\t700\\n\"\n+            + \"float8\\t701\\n\"\n+            + \"unknown\\t705\\n\"\n+            + \"circle\\t718\\n\"\n+            + \"money\\t790\\n\"\n+            + \"macaddr\\t829\\n\"\n+            + \"inet\\t869\\n\"\n+            + \"cidr\\t650\\n\"\n+            + \"macaddr8\\t774\\n\"\n+            + \"aclitem\\t1033\\n\"\n+            + \"bpchar\\t1042\\n\"\n+            + \"varchar\\t1043\\n\"\n+            + \"date\\t1082\\n\"\n+            + \"time\\t1083\\n\"\n+            + \"timestamp\\t1114\\n\"\n+            + \"timestamptz\\t1184\\n\"\n+            + \"interval\\t1186\\n\"\n+            + \"timetz\\t1266\\n\"\n+            + \"bit\\t1560\\n\"\n+            + \"varbit\\t1562\\n\"\n+            + \"numeric\\t1700\\n\"\n+            + \"refcursor\\t1790\\n\"\n+            + \"regprocedure\\t2202\\n\"\n+            + \"regoper\\t2203\\n\"\n+            + \"regoperator\\t2204\\n\"\n+            + \"regclass\\t2205\\n\"\n+            + \"regtype\\t2206\\n\"\n+            + \"regrole\\t4096\\n\"\n+            + \"regnamespace\\t4089\\n\"\n+            + \"uuid\\t2950\\n\"\n+            + \"pg_lsn\\t3220\\n\"\n+            + \"tsvector\\t3614\\n\"\n+            + \"gtsvector\\t3642\\n\"\n+            + \"tsquery\\t3615\\n\"\n+            + \"regconfig\\t3734\\n\"\n+            + \"regdictionary\\t3769\\n\"\n+            + \"jsonb\\t3802\\n\"\n+            + \"jsonpath\\t4072\\n\"\n+            + \"txid_snapshot\\t2970\\n\"\n+            + \"int4range\\t3904\\n\"\n+            + \"numrange\\t3906\\n\"\n+            + \"tsrange\\t3908\\n\"\n+            + \"tstzrange\\t3910\\n\"\n+            + \"daterange\\t3912\\n\"\n+            + \"int8range\\t3926\\n\"\n+            + \"record\\t2249\\n\"\n+            + \"_record\\t2287\\n\"\n+            + \"cstring\\t2275\\n\"\n+            + \"any\\t2276\\n\"\n+            + \"anyarray\\t2277\\n\"\n+            + \"void\\t2278\\n\"\n+            + \"trigger\\t2279\\n\"\n+            + \"event_trigger\\t3838\\n\"\n+            + \"language_handler\\t2280\\n\"\n+            + \"internal\\t2281\\n\"\n+            + \"opaque\\t2282\\n\"\n+            + \"anyelement\\t2283\\n\"\n+            + \"anynonarray\\t2776\\n\"\n+            + \"anyenum\\t3500\\n\"\n+            + \"fdw_handler\\t3115\\n\"\n+            + \"index_am_handler\\t325\\n\"\n+            + \"tsm_handler\\t3310\\n\"\n+            + \"table_am_handler\\t269\\n\"\n+            + \"anyrange\\t3831\\n\"\n+            + \"_bool\\t1000\\n\"\n+            + \"_bytea\\t1001\\n\"\n+            + \"_char\\t1002\\n\"\n+            + \"_name\\t1003\\n\"\n+            + \"_int8\\t1016\\n\"\n+            + \"_int2\\t1005\\n\"\n+            + \"_int2vector\\t1006\\n\"\n+            + \"_int4\\t1007\\n\"\n+            + \"_regproc\\t1008\\n\"\n+            + \"_text\\t1009\\n\"\n+            + \"_oid\\t1028\\n\"\n+            + \"_tid\\t1010\\n\"\n+            + \"_xid\\t1011\\n\"\n+            + \"_cid\\t1012\\n\"\n+            + \"_oidvector\\t1013\\n\"\n+            + \"_json\\t199\\n\"\n+            + \"_xml\\t143\\n\"\n+            + \"_point\\t1017\\n\"\n+            + \"_lseg\\t1018\\n\"\n+            + \"_path\\t1019\\n\"\n+            + \"_box\\t1020\\n\"\n+            + \"_polygon\\t1027\\n\"\n+            + \"_line\\t629\\n\"\n+            + \"_float4\\t1021\\n\"\n+            + \"_float8\\t1022\\n\"\n+            + \"_circle\\t719\\n\"\n+            + \"_money\\t791\\n\"\n+            + \"_macaddr\\t1040\\n\"\n+            + \"_inet\\t1041\\n\"\n+            + \"_cidr\\t651\\n\"\n+            + \"_macaddr8\\t775\\n\"\n+            + \"_aclitem\\t1034\\n\"\n+            + \"_bpchar\\t1014\\n\"\n+            + \"_varchar\\t1015\\n\"\n+            + \"_date\\t1182\\n\"\n+            + \"_time\\t1183\\n\"\n+            + \"_timestamp\\t1115\\n\"\n+            + \"_timestamptz\\t1185\\n\"\n+            + \"_interval\\t1187\\n\"\n+            + \"_timetz\\t1270\\n\"\n+            + \"_bit\\t1561\\n\"\n+            + \"_varbit\\t1563\\n\"\n+            + \"_numeric\\t1231\\n\"\n+            + \"_refcursor\\t2201\\n\"\n+            + \"_regprocedure\\t2207\\n\"\n+            + \"_regoper\\t2208\\n\"\n+            + \"_regoperator\\t2209\\n\"\n+            + \"_regclass\\t2210\\n\"\n+            + \"_regtype\\t2211\\n\"\n+            + \"_regrole\\t4097\\n\"\n+            + \"_regnamespace\\t4090\\n\"\n+            + \"_uuid\\t2951\\n\"\n+            + \"_pg_lsn\\t3221\\n\"\n+            + \"_tsvector\\t3643\\n\"\n+            + \"_gtsvector\\t3644\\n\"\n+            + \"_tsquery\\t3645\\n\"\n+            + \"_regconfig\\t3735\\n\"\n+            + \"_regdictionary\\t3770\\n\"\n+            + \"_jsonb\\t3807\\n\"\n+            + \"_jsonpath\\t4073\\n\"\n+            + \"_txid_snapshot\\t2949\\n\"\n+            + \"_int4range\\t3905\\n\"\n+            + \"_numrange\\t3907\\n\"\n+            + \"_tsrange\\t3909\\n\"\n+            + \"_tstzrange\\t3911\\n\"\n+            + \"_daterange\\t3913\\n\"\n+            + \"_int8range\\t3927\\n\"\n+            + \"_cstring\\t1263\\n\"\n+            + \"pg_attrdef\\t12000\\n\"\n+            + \"pg_constraint\\t12001\\n\"\n+            + \"pg_inherits\\t12002\\n\"\n+            + \"pg_index\\t12003\\n\"\n+            + \"pg_operator\\t12004\\n\"\n+            + \"pg_opfamily\\t12005\\n\"\n+            + \"pg_opclass\\t12006\\n\"\n+            + \"pg_am\\t12007\\n\"\n+            + \"pg_amop\\t12008\\n\"\n+            + \"pg_amproc\\t12009\\n\"\n+            + \"pg_language\\t12010\\n\"\n+            + \"pg_largeobject_metadata\\t12011\\n\"\n+            + \"pg_largeobject\\t12012\\n\"\n+            + \"pg_aggregate\\t12013\\n\"\n+            + \"pg_statistic_ext\\t12014\\n\"\n+            + \"pg_statistic_ext_data\\t12015\\n\"\n+            + \"pg_statistic\\t12016\\n\"\n+            + \"pg_rewrite\\t12017\\n\"\n+            + \"pg_trigger\\t12018\\n\"\n+            + \"pg_event_trigger\\t12019\\n\"\n+            + \"pg_description\\t12020\\n\"\n+            + \"pg_cast\\t12021\\n\"\n+            + \"pg_enum\\t12022\\n\"\n+            + \"pg_namespace\\t12023\\n\"\n+            + \"pg_conversion\\t12024\\n\"\n+            + \"pg_depend\\t12025\\n\"\n+            + \"pg_database\\t1248\\n\"\n+            + \"pg_db_role_setting\\t12026\\n\"\n+            + \"pg_tablespace\\t12027\\n\"\n+            + \"pg_pltemplate\\t12028\\n\"\n+            + \"pg_authid\\t2842\\n\"\n+            + \"pg_auth_members\\t2843\\n\"\n+            + \"pg_shdepend\\t12029\\n\"\n+            + \"pg_shdescription\\t12030\\n\"\n+            + \"pg_ts_config\\t12031\\n\"\n+            + \"pg_ts_config_map\\t12032\\n\"\n+            + \"pg_ts_dict\\t12033\\n\"\n+            + \"pg_ts_parser\\t12034\\n\"\n+            + \"pg_ts_template\\t12035\\n\"\n+            + \"pg_extension\\t12036\\n\"\n+            + \"pg_foreign_data_wrapper\\t12037\\n\"\n+            + \"pg_foreign_server\\t12038\\n\"\n+            + \"pg_user_mapping\\t12039\\n\"\n+            + \"pg_foreign_table\\t12040\\n\"\n+            + \"pg_policy\\t12041\\n\"\n+            + \"pg_replication_origin\\t12042\\n\"\n+            + \"pg_default_acl\\t12043\\n\"\n+            + \"pg_init_privs\\t12044\\n\"\n+            + \"pg_seclabel\\t12045\\n\"\n+            + \"pg_shseclabel\\t4066\\n\"\n+            + \"pg_collation\\t12046\\n\"\n+            + \"pg_partitioned_table\\t12047\\n\"\n+            + \"pg_range\\t12048\\n\"\n+            + \"pg_transform\\t12049\\n\"\n+            + \"pg_sequence\\t12050\\n\"\n+            + \"pg_publication\\t12051\\n\"\n+            + \"pg_publication_rel\\t12052\\n\"\n+            + \"pg_subscription\\t6101\\n\"\n+            + \"pg_subscription_rel\\t12053\\n\"\n+            + \"pg_toast_2600\\t12054\\n\"\n+            + \"pg_toast_2604\\t12055\\n\"\n+            + \"pg_toast_3456\\t12056\\n\"\n+            + \"pg_toast_2606\\t12057\\n\"\n+            + \"pg_toast_826\\t12058\\n\"\n+            + \"pg_toast_2609\\t12059\\n\"\n+            + \"pg_toast_3466\\t12060\\n\"\n+            + \"pg_toast_3079\\t12061\\n\"\n+            + \"pg_toast_2328\\t12062\\n\"\n+            + \"pg_toast_1417\\t12063\\n\"\n+            + \"pg_toast_3118\\t12064\\n\"\n+            + \"pg_toast_3394\\t12065\\n\"\n+            + \"pg_toast_2612\\t12066\\n\"\n+            + \"pg_toast_2615\\t12067\\n\"\n+            + \"pg_toast_3350\\t12068\\n\"\n+            + \"pg_toast_3256\\t12069\\n\"\n+            + \"pg_toast_1255\\t12070\\n\"\n+            + \"pg_toast_2618\\t12071\\n\"\n+            + \"pg_toast_3596\\t12072\\n\"\n+            + \"pg_toast_2619\\t12073\\n\"\n+            + \"pg_toast_3381\\t12074\\n\"\n+            + \"pg_toast_3429\\t12075\\n\"\n+            + \"pg_toast_2620\\t12076\\n\"\n+            + \"pg_toast_3600\\t12077\\n\"\n+            + \"pg_toast_1247\\t12078\\n\"\n+            + \"pg_toast_1418\\t12079\\n\"\n+            + \"pg_toast_1260\\t12080\\n\"\n+            + \"pg_toast_1262\\t12081\\n\"\n+            + \"pg_toast_2964\\t12082\\n\"\n+            + \"pg_toast_1136\\t12083\\n\"\n+            + \"pg_toast_6000\\t12084\\n\"\n+            + \"pg_toast_2396\\t12085\\n\"\n+            + \"pg_toast_3592\\t12086\\n\"\n+            + \"pg_toast_6100\\t12087\\n\"\n+            + \"pg_toast_1213\\t12088\\n\"\n+            + \"pg_roles\\t12090\\n\"\n+            + \"pg_shadow\\t12094\\n\"\n+            + \"pg_group\\t12098\\n\"\n+            + \"pg_user\\t12101\\n\"\n+            + \"pg_policies\\t12104\\n\"\n+            + \"pg_rules\\t12108\\n\"\n+            + \"pg_views\\t12112\\n\"\n+            + \"pg_tables\\t12116\\n\"\n+            + \"pg_matviews\\t12120\\n\"\n+            + \"pg_indexes\\t12124\\n\"\n+            + \"pg_sequences\\t12128\\n\"\n+            + \"pg_stats\\t12132\\n\"\n+            + \"pg_stats_ext\\t12136\\n\"\n+            + \"pg_publication_tables\\t12140\\n\"\n+            + \"pg_locks\\t12144\\n\"\n+            + \"pg_cursors\\t12147\\n\"\n+            + \"pg_available_extensions\\t12150\\n\"\n+            + \"pg_available_extension_versions\\t12153\\n\"\n+            + \"pg_prepared_xacts\\t12156\\n\"\n+            + \"pg_prepared_statements\\t12160\\n\"\n+            + \"pg_seclabels\\t12163\\n\"\n+            + \"pg_settings\\t12167\\n\"\n+            + \"pg_file_settings\\t12172\\n\"\n+            + \"pg_hba_file_rules\\t12175\\n\"\n+            + \"pg_timezone_abbrevs\\t12178\\n\"\n+            + \"pg_timezone_names\\t12181\\n\"\n+            + \"pg_config\\t12184\\n\"\n+            + \"pg_stat_all_tables\\t12187\\n\"\n+            + \"pg_stat_xact_all_tables\\t12191\\n\"\n+            + \"pg_stat_sys_tables\\t12195\\n\"\n+            + \"pg_stat_xact_sys_tables\\t12199\\n\"\n+            + \"pg_stat_user_tables\\t12202\\n\"\n+            + \"pg_stat_xact_user_tables\\t12206\\n\"\n+            + \"pg_statio_all_tables\\t12209\\n\"\n+            + \"pg_statio_sys_tables\\t12213\\n\"\n+            + \"pg_statio_user_tables\\t12216\\n\"\n+            + \"pg_stat_all_indexes\\t12219\\n\"\n+            + \"pg_stat_sys_indexes\\t12223\\n\"\n+            + \"pg_stat_user_indexes\\t12226\\n\"\n+            + \"pg_statio_all_indexes\\t12229\\n\"\n+            + \"pg_statio_sys_indexes\\t12233\\n\"\n+            + \"pg_statio_user_indexes\\t12236\\n\"\n+            + \"pg_statio_all_sequences\\t12239\\n\"\n+            + \"pg_statio_sys_sequences\\t12243\\n\"\n+            + \"pg_statio_user_sequences\\t12246\\n\"\n+            + \"pg_stat_activity\\t12249\\n\"\n+            + \"pg_stat_replication\\t12253\\n\"\n+            + \"pg_stat_wal_receiver\\t12257\\n\"\n+            + \"pg_stat_subscription\\t12260\\n\"\n+            + \"pg_stat_ssl\\t12263\\n\"\n+            + \"pg_stat_gssapi\\t12266\\n\"\n+            + \"pg_replication_slots\\t12269\\n\"\n+            + \"pg_stat_database\\t12273\\n\"\n+            + \"pg_stat_database_conflicts\\t12277\\n\"\n+            + \"pg_stat_user_functions\\t12280\\n\"\n+            + \"pg_stat_xact_user_functions\\t12284\\n\"\n+            + \"pg_stat_archiver\\t12288\\n\"\n+            + \"pg_stat_bgwriter\\t12291\\n\"\n+            + \"pg_stat_progress_vacuum\\t12294\\n\"\n+            + \"pg_stat_progress_cluster\\t12298\\n\"\n+            + \"pg_stat_progress_create_index\\t12302\\n\"\n+            + \"pg_user_mappings\\t12306\\n\"\n+            + \"pg_replication_origin_status\\t12310\\n\"\n+            + \"test_array\\t16396\\n\"\n+            + \"_test_array\\t16395\\n\"\n+            + \"pg_toast_16394\\t16398\\n\"\n+            + \"cardinal_number\\t13032\\n\"\n+            + \"_cardinal_number\\t13031\\n\"\n+            + \"character_data\\t13035\\n\"\n+            + \"_character_data\\t13034\\n\"\n+            + \"sql_identifier\\t13037\\n\"\n+            + \"_sql_identifier\\t13036\\n\"\n+            + \"information_schema_catalog_name\\t13039\\n\"\n+            + \"time_stamp\\t13042\\n\"\n+            + \"_time_stamp\\t13041\\n\"\n+            + \"yes_or_no\\t13044\\n\"\n+            + \"_yes_or_no\\t13043\\n\"\n+            + \"applicable_roles\\t13047\\n\"\n+            + \"administrable_role_authorizations\\t13051\\n\"\n+            + \"attributes\\t13054\\n\"\n+            + \"character_sets\\t13058\\n\"\n+            + \"check_constraint_routine_usage\\t13062\\n\"\n+            + \"check_constraints\\t13066\\n\"\n+            + \"collations\\t13070\\n\"\n+            + \"collation_character_set_applicability\\t13074\\n\"\n+            + \"column_column_usage\\t13078\\n\"\n+            + \"column_domain_usage\\t13082\\n\"\n+            + \"column_privileges\\t13086\\n\"\n+            + \"column_udt_usage\\t13090\\n\"\n+            + \"columns\\t13094\\n\"\n+            + \"constraint_column_usage\\t13098\\n\"\n+            + \"constraint_table_usage\\t13102\\n\"\n+            + \"domain_constraints\\t13106\\n\"\n+            + \"domain_udt_usage\\t13110\\n\"\n+            + \"domains\\t13114\\n\"\n+            + \"enabled_roles\\t13118\\n\"\n+            + \"key_column_usage\\t13121\\n\"\n+            + \"parameters\\t13125\\n\"\n+            + \"referential_constraints\\t13129\\n\"\n+            + \"role_column_grants\\t13133\\n\"\n+            + \"routine_privileges\\t13136\\n\"\n+            + \"role_routine_grants\\t13140\\n\"\n+            + \"routines\\t13143\\n\"\n+            + \"schemata\\t13147\\n\"\n+            + \"sequences\\t13150\\n\"\n+            + \"sql_features\\t13154\\n\"\n+            + \"pg_toast_13153\\t13156\\n\"\n+            + \"sql_implementation_info\\t13159\\n\"\n+            + \"pg_toast_13158\\t13161\\n\"\n+            + \"sql_languages\\t13164\\n\"\n+            + \"pg_toast_13163\\t13166\\n\"\n+            + \"sql_packages\\t13169\\n\"\n+            + \"pg_toast_13168\\t13171\\n\"\n+            + \"sql_parts\\t13174\\n\"\n+            + \"pg_toast_13173\\t13176\\n\"\n+            + \"sql_sizing\\t13179\\n\"\n+            + \"pg_toast_13178\\t13181\\n\"\n+            + \"sql_sizing_profiles\\t13184\\n\"\n+            + \"pg_toast_13183\\t13186\\n\"\n+            + \"table_constraints\\t13189\\n\"\n+            + \"table_privileges\\t13193\\n\"\n+            + \"role_table_grants\\t13197\\n\"\n+            + \"tables\\t13200\\n\"\n+            + \"transforms\\t13204\\n\"\n+            + \"triggered_update_columns\\t13208\\n\"\n+            + \"triggers\\t13212\\n\"\n+            + \"udt_privileges\\t13216\\n\"\n+            + \"role_udt_grants\\t13220\\n\"\n+            + \"usage_privileges\\t13223\\n\"\n+            + \"role_usage_grants\\t13227\\n\"\n+            + \"user_defined_types\\t13230\\n\"\n+            + \"view_column_usage\\t13234\\n\"\n+            + \"view_routine_usage\\t13238\\n\"\n+            + \"view_table_usage\\t13242\\n\"\n+            + \"views\\t13246\\n\"\n+            + \"data_type_privileges\\t13250\\n\"\n+            + \"element_types\\t13254\\n\"\n+            + \"_pg_foreign_table_columns\\t13258\\n\"\n+            + \"column_options\\t13262\\n\"\n+            + \"_pg_foreign_data_wrappers\\t13265\\n\"\n+            + \"foreign_data_wrapper_options\\t13268\\n\"\n+            + \"foreign_data_wrappers\\t13271\\n\"\n+            + \"_pg_foreign_servers\\t13274\\n\"\n+            + \"foreign_server_options\\t13278\\n\"\n+            + \"foreign_servers\\t13281\\n\"\n+            + \"_pg_foreign_tables\\t13284\\n\"\n+            + \"foreign_table_options\\t13288\\n\"\n+            + \"foreign_tables\\t13291\\n\"\n+            + \"_pg_user_mappings\\t13294\\n\"\n+            + \"user_mapping_options\\t13298\\n\"\n+            + \"user_mappings\\t13302\\n\"\n+            + \"array_tc_0\\t16426\\n\"\n+            + \"_array_tc_0\\t16425\\n\"\n+            + \"pg_toast_16424\\t16428\\n\"\n+            + \"array_tc_1\\t16434\\n\"\n+            + \"_array_tc_1\\t16433\\n\"\n+            + \"pg_toast_16432\\t16436\";\n+\n+    private static final Map<String, Integer> COLUMN_TYPE_NAME_OID_MAP;\n+\n+    static {\n+        Map<String, Integer> map = new HashMap<>(1024, 0.5F);\n+        for (String line : ORIGINAL_RECORD_LINES.split(\"\\n\")) {\n+            String[] values = line.split(\"\\t\");\n+            map.put(values[0], Integer.parseInt(values[1]));\n+        }\n+        COLUMN_TYPE_NAME_OID_MAP = map;\n+    }\n+\n+    /**\n+     * Get type oid by database-specific column type name.\n+     *\n+     * @param columnTypeName PostgreSQL column type name, e.g. <code>int4</code>\n+     * @return type oid, e.g. <code>23</code> for <code>int4</code>\n+     * @throws IllegalArgumentException if no type oid could be found\n+     */\n+    public static int getTypeOidByColumnTypeName(final String columnTypeName) throws IllegalArgumentException {\n+        Integer oid = COLUMN_TYPE_NAME_OID_MAP.get(columnTypeName);", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5NTI3MQ==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461395271", "bodyText": "null != resultSetMetaData", "author": "tuohai666", "createdAt": "2020-07-28T08:05:37Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/command/query/PostgreSQLColumnDescription.java", "diffHunk": "@@ -40,10 +47,22 @@\n     \n     private final int dataFormat = 0;\n     \n-    public PostgreSQLColumnDescription(final String columnName, final int columnIndex, final int columnType, final int columnLength) {\n+    public PostgreSQLColumnDescription(final String columnName, final int columnIndex, final int columnType, final int columnLength, final ResultSetMetaData resultSetMetaData) {\n         this.columnName = columnName;\n         this.columnIndex = columnIndex;\n-        this.typeOID = PostgreSQLColumnType.valueOfJDBCType(columnType).getValue();\n+        if (Types.ARRAY == columnType && resultSetMetaData != null) {", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5NTkxOA==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461395918", "bodyText": "final SQLException ex", "author": "tuohai666", "createdAt": "2020-07-28T08:06:48Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/command/query/PostgreSQLColumnDescription.java", "diffHunk": "@@ -40,10 +47,22 @@\n     \n     private final int dataFormat = 0;\n     \n-    public PostgreSQLColumnDescription(final String columnName, final int columnIndex, final int columnType, final int columnLength) {\n+    public PostgreSQLColumnDescription(final String columnName, final int columnIndex, final int columnType, final int columnLength, final ResultSetMetaData resultSetMetaData) {\n         this.columnName = columnName;\n         this.columnIndex = columnIndex;\n-        this.typeOID = PostgreSQLColumnType.valueOfJDBCType(columnType).getValue();\n+        if (Types.ARRAY == columnType && resultSetMetaData != null) {\n+            String columnTypeName = null;\n+            try {\n+                columnTypeName = resultSetMetaData.getColumnTypeName(columnIndex);\n+            } catch (SQLException e) {", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5NjE4Mw==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461396183", "bodyText": "What is this for?", "author": "tuohai666", "createdAt": "2020-07-28T08:07:13Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/main/java/org/apache/shardingsphere/db/protocol/postgresql/packet/command/query/PostgreSQLColumnDescription.java", "diffHunk": "@@ -40,10 +47,22 @@\n     \n     private final int dataFormat = 0;\n     \n-    public PostgreSQLColumnDescription(final String columnName, final int columnIndex, final int columnType, final int columnLength) {\n+    public PostgreSQLColumnDescription(final String columnName, final int columnIndex, final int columnType, final int columnLength, final ResultSetMetaData resultSetMetaData) {\n         this.columnName = columnName;\n         this.columnIndex = columnIndex;\n-        this.typeOID = PostgreSQLColumnType.valueOfJDBCType(columnType).getValue();\n+        if (Types.ARRAY == columnType && resultSetMetaData != null) {\n+            String columnTypeName = null;\n+            try {\n+                columnTypeName = resultSetMetaData.getColumnTypeName(columnIndex);\n+            } catch (SQLException e) {\n+                if (ThreadLocalRandom.current().nextInt(10) == 6) {", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYyOTEyOQ==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461629129", "bodyText": "Reduce log if exception thrown always. It will be removed, it should not occur.", "author": "sandynz", "createdAt": "2020-07-28T14:32:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5NjE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5NzA4MA==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461397080", "bodyText": "return a plain String", "author": "tuohai666", "createdAt": "2020-07-28T08:08:53Z", "path": "shardingsphere-infra/shardingsphere-infra-executor/src/main/java/org/apache/shardingsphere/infra/executor/sql/QueryResult.java", "diffHunk": "@@ -18,14 +18,22 @@\n package org.apache.shardingsphere.infra.executor.sql;\n \n import java.io.InputStream;\n+import java.sql.ResultSetMetaData;\n import java.sql.SQLException;\n import java.util.Calendar;\n \n /**\n  * Query result form SQL.\n  */\n public interface QueryResult {\n-    \n+\n+    /**\n+     * Get JDBC ResultSetMetaData.\n+     *\n+     * @return {@linkplain ResultSetMetaData}", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ2MDUxNg==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461460516", "bodyText": "For single parameter asserts, assertTrue, assertFalse, assertNull and assertNotNull should be used.\nFor multiple parameter asserts, assertThat should be used.", "author": "tuohai666", "createdAt": "2020-07-28T09:51:47Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/test/java/org/apache/shardingsphere/db/protocol/postgresql/constant/PostgreSQLColumnTypeNameOidMappingsTest.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.constant;\n+\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+public class PostgreSQLColumnTypeNameOidMappingsTest {\n+    \n+    @Test\n+    public void assertIntegerArrayGot() {\n+        int columnTypeName = PostgreSQLColumnTypeNameOidMappings.getTypeOidByColumnTypeName(\"_int4\");\n+        assertEquals(1007, columnTypeName);", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ2MTY1Nw==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461461657", "bodyText": "Don't use Assert.xxx\nFor single parameter asserts, assertTrue, assertFalse, assertNull and assertNotNull should be used.\nFor multiple parameter asserts, assertThat should be used.", "author": "tuohai666", "createdAt": "2020-07-28T09:53:51Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/test/java/org/apache/shardingsphere/db/protocol/postgresql/packet/command/query/PostgreSQLColumnDescriptionTest.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.packet.command.query;\n+\n+import java.sql.ResultSetMetaData;\n+import java.sql.SQLException;\n+import java.sql.Types;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.mockito.Mockito;\n+\n+public class PostgreSQLColumnDescriptionTest {\n+    \n+    @Test\n+    public void assertIntegerTypeOid() {\n+        PostgreSQLColumnDescription description = new PostgreSQLColumnDescription(\"age\", 1, Types.INTEGER, 4, null);\n+        Assert.assertEquals(23, description.getTypeOID());", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ2MTc3NA==", "url": "https://github.com/apache/shardingsphere/pull/6474#discussion_r461461774", "bodyText": "For single parameter asserts, assertTrue, assertFalse, assertNull and assertNotNull should be used.\nFor multiple parameter asserts, assertThat should be used.", "author": "tuohai666", "createdAt": "2020-07-28T09:54:02Z", "path": "shardingsphere-db-protocol/shardingsphere-db-protocol-postgresql/src/test/java/org/apache/shardingsphere/db/protocol/postgresql/packet/command/query/PostgreSQLColumnDescriptionTest.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.shardingsphere.db.protocol.postgresql.packet.command.query;\n+\n+import java.sql.ResultSetMetaData;\n+import java.sql.SQLException;\n+import java.sql.Types;\n+import org.junit.Assert;\n+import org.junit.Test;\n+import org.mockito.Mockito;\n+\n+public class PostgreSQLColumnDescriptionTest {\n+    \n+    @Test\n+    public void assertIntegerTypeOid() {\n+        PostgreSQLColumnDescription description = new PostgreSQLColumnDescription(\"age\", 1, Types.INTEGER, 4, null);\n+        Assert.assertEquals(23, description.getTypeOID());\n+    }\n+    \n+    @Test\n+    public void assertIntegerArrayTypeOid() throws SQLException {\n+        ResultSetMetaData resultSetMetaData = Mockito.mock(ResultSetMetaData.class);\n+        Mockito.when(resultSetMetaData.getColumnTypeName(2)).thenReturn(\"_int4\");\n+        PostgreSQLColumnDescription description = new PostgreSQLColumnDescription(\"ages\", 2, Types.ARRAY, 12, resultSetMetaData);\n+        Assert.assertEquals(1007, description.getTypeOID());", "originalCommit": "323b78060a516aec1ff9bc87df17ea328086f84c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "183713f9f557cf6b057636756ca1099a44aaec20", "url": "https://github.com/apache/shardingsphere/commit/183713f9f557cf6b057636756ca1099a44aaec20", "message": "Support PostgreSQL array type, follow review suggestion (#6408)", "committedDate": "2020-07-28T14:52:57Z", "type": "commit"}]}