{"pr_number": 8740, "pr_title": "Add condition expression assertion for ExpectedJoinTable.", "pr_createdAt": "2020-12-23T13:00:24Z", "pr_url": "https://github.com/apache/shardingsphere/pull/8740", "timeline": [{"oid": "d29ade8c1fcd492230cb3eb969c9f2d29ff171da", "url": "https://github.com/apache/shardingsphere/commit/d29ade8c1fcd492230cb3eb969c9f2d29ff171da", "message": "Add condition expression assertion for `ExpectedJoinTable` #7880.\n  * Add `condition` and `columns` assertions for `ExpectedJoinTable`.\n  * Adjust the old test case, replace joinSpecification with condition or columns in `join-table`.\n  * Delete unused expected jaxb classes(such as `ExpectedJoinSpecification.java`, `ExpectedAndPredicate.java`).\n  * Rename `impl.expr` to `impl.expression`.\n  * Move `ExpectedWhereClause.java` from `impl.predicate` to `impl.where`.", "committedDate": "2020-12-23T12:44:02Z", "type": "commit"}, {"oid": "772c42d329378996f502051f58d61696a8cf83d5", "url": "https://github.com/apache/shardingsphere/commit/772c42d329378996f502051f58d61696a8cf83d5", "message": "Revert rename for `impl.expr`.\nRename `asserts.segment.expression` to `asserts.segment.expr`.", "committedDate": "2020-12-24T04:38:05Z", "type": "commit"}, {"oid": "d84a78c8af147db2d1d3c04a6053663000660acd", "url": "https://github.com/apache/shardingsphere/commit/d84a78c8af147db2d1d3c04a6053663000660acd", "message": "revert for rename `asserts.segment.expression`.", "committedDate": "2020-12-24T07:17:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc3ODg4NQ==", "url": "https://github.com/apache/shardingsphere/pull/8740#discussion_r548778885", "bodyText": "@lwtdev Maybe it is better to rename columns to using-columns.", "author": "jingshanglu", "createdAt": "2020-12-25T02:06:45Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/java/org/apache/shardingsphere/test/sql/parser/parameterized/jaxb/cases/domain/segment/impl/table/ExpectedJoinTable.java", "diffHunk": "@@ -20,23 +20,29 @@\n import lombok.Getter;\n import lombok.Setter;\n import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.AbstractExpectedDelimiterSQLSegment;\n-import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.impl.ExpectedJoinSpecification;\n+import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.impl.column.ExpectedColumn;\n+import org.apache.shardingsphere.test.sql.parser.parameterized.jaxb.cases.domain.segment.impl.expr.ExpectedExpression;\n \n import javax.xml.bind.annotation.XmlElement;\n+import java.util.LinkedList;\n+import java.util.List;\n \n /**\n  * Expected JoinTable.\n  */\n @Getter\n @Setter\n public final class ExpectedJoinTable extends AbstractExpectedDelimiterSQLSegment {\n-    \n+\n     @XmlElement(name = \"left\")\n     private ExpectedTable left;\n \n     @XmlElement(name = \"right\")\n     private ExpectedTable right;\n-    \n-    @XmlElement\n-    private ExpectedJoinSpecification joinSpecification;\n+\n+    @XmlElement(name = \"condition\")\n+    private ExpectedExpression condition;\n+\n+    @XmlElement(name = \"columns\")\n+    private final List<ExpectedColumn> columns = new LinkedList<>();", "originalCommit": "d84a78c8af147db2d1d3c04a6053663000660acd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc4MDIwOA==", "url": "https://github.com/apache/shardingsphere/pull/8740#discussion_r548780208", "bodyText": "@jingshanglu OK, I will modify it. What about condition, do we should rename it to on-condition?", "author": "lwtdev", "createdAt": "2020-12-25T02:16:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc3ODg4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc4MDc1NA==", "url": "https://github.com/apache/shardingsphere/pull/8740#discussion_r548780754", "bodyText": "@lwtdev I think both will do.", "author": "jingshanglu", "createdAt": "2020-12-25T02:20:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc3ODg4NQ=="}], "type": "inlineReview"}, {"oid": "d3d95428327cb9139cfc8a7c528ad57a7eb4fce0", "url": "https://github.com/apache/shardingsphere/commit/d3d95428327cb9139cfc8a7c528ad57a7eb4fce0", "message": "Rename condition to on-condition, columns to using-columns.", "committedDate": "2020-12-25T04:24:54Z", "type": "commit"}]}