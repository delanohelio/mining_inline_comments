{"pr_number": 8604, "pr_title": "Add ExpressionAssert for WhereClause, IdentifierValueAssert for ExpectedOwner and TableAssert for UpdateStatementAssert.", "pr_createdAt": "2020-12-13T14:56:52Z", "pr_url": "https://github.com/apache/shardingsphere/pull/8604", "timeline": [{"oid": "a6a036067871b912c710d7988c971a3dbd26aaa0", "url": "https://github.com/apache/shardingsphere/commit/a6a036067871b912c710d7988c971a3dbd26aaa0", "message": "Add TableAssert for UpdateStatementAssert.\nAdd IdentifierValueAssert for ExpectedIndex, ExpectedColumnOrderByItem, ExpectedOwner, ExpectedSchema and ExpectedColumnProjection.\nAdd ExpressionAssert and test cases for select where with expr.\nAdjust the whereClause of the old test case.", "committedDate": "2020-12-13T15:34:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0NDc3MQ==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543144771", "bodyText": "@lwtdev\nWhat is the purpose of such a change?", "author": "jingshanglu", "createdAt": "2020-12-15T08:34:06Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/java/org/apache/shardingsphere/test/sql/parser/parameterized/jaxb/sql/loader/SQLCasesLoader.java", "diffHunk": "@@ -117,7 +117,7 @@ private String getLiteralSQL(final String sql, final List<?> parameters) {\n         if (null == parameters || parameters.isEmpty()) {\n             return sql;\n         }\n-        return String.format(sql.replace(\"%\", \"$\").replace(\"?\", \"%s\"), parameters.toArray()).replace(\"$\", \"%\").replace(\"%%\", \"%\").replace(\"'%'\", \"'%%'\");\n+        return String.format(sql.replace(\"%\", \"$$\").replace(\"?\", \"%s\"), parameters.toArray()).replace(\"$$\", \"%\").replace(\"%%\", \"%\").replace(\"'%'\", \"'%%'\");", "originalCommit": "a6a036067871b912c710d7988c971a3dbd26aaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI5NTYwNw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543295607", "bodyText": "@jingshanglu $ is used to temporarily replace %, but in MySQL, it used to be the Path syntax of JSON, representing a JSON document.\nThe test case is not working properly.\nMaybe using a non-printable character here is better than \"$$ \"?", "author": "lwtdev", "createdAt": "2020-12-15T12:19:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0NDc3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjMyNTQ0NA==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546325444", "bodyText": "Add a replace method to replace sql parameters.", "author": "lwtdev", "createdAt": "2020-12-20T05:38:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0NDc3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0OTQ5OA==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543149498", "bodyText": "@lwtdev Like this, is it better to merge them into one line?", "author": "jingshanglu", "createdAt": "2020-12-15T08:41:29Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select-pagination-group-by-order-by.xml", "diffHunk": "@@ -128,991 +166,1364 @@\n         </from>\n         <projections start-index=\"7\" stop-index=\"15\">\n             <column-projection name=\"user_id\" start-index=\"7\" stop-index=\"15\">\n-                <owner name=\"i\" start-index=\"7\" stop-index=\"7\" />\n+                <owner name=\"i\" start-index=\"7\" stop-index=\"7\"/>\n             </column-projection>\n         </projections>\n         <where start-index=\"105\" stop-index=\"160\" literal-stop-index=\"161\">\n-            <and-predicate>\n-                <predicate start-index=\"111\" stop-index=\"129\">\n-                    <column-left-value name=\"user_id\" start-index=\"111\" stop-index=\"119\">\n-                        <owner name=\"o\" start-index=\"111\" stop-index=\"111\" />\n-                    </column-left-value>\n-                    <in-right-value>\n-                        <parameter-marker-expression value=\"0\" start-index=\"125\" stop-index=\"125\" />\n-                        <parameter-marker-expression value=\"1\" start-index=\"128\" stop-index=\"128\" />\n-                        <literal-expression value=\"1\" start-index=\"125\" stop-index=\"125\" />\n-                        <literal-expression value=\"2\" start-index=\"128\" stop-index=\"128\" />\n-                    </in-right-value>\n-                </predicate>\n-                <predicate start-index=\"135\" stop-index=\"160\" literal-stop-index=\"161\">\n-                    <column-left-value name=\"order_id\" start-index=\"135\" stop-index=\"144\">\n-                        <owner name=\"o\" start-index=\"135\" stop-index=\"135\" />\n-                    </column-left-value>\n-                    <between-right-value>\n-                        <between-parameter-marker-expression value=\"2\" start-index=\"154\" stop-index=\"154\" />\n-                        <between-literal-expression value=\"9\" start-index=\"154\" stop-index=\"154\" />\n-                        <and-parameter-marker-expression value=\"3\" start-index=\"160\" stop-index=\"160\" />\n-                        <and-literal-expression value=\"10\" start-index=\"160\" stop-index=\"161\" />\n-                    </between-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"111\" stop-index=\"160\"\n+                                             literal-stop-index=\"161\">\n+                    <left>\n+                        <in-expression start-index=\"111\" stop-index=\"129\">\n+                            <not>false</not>\n+                            <left>\n+                                <column name=\"user_id\" start-index=\"111\" stop-index=\"119\">\n+                                    <owner name=\"o\" start-index=\"111\" stop-index=\"111\"/>\n+                                </column>\n+                            </left>\n+                            <right>\n+                                <list-expression start-index=\"124\" stop-index=\"129\">\n+                                    <items>\n+                                        <literal-expression value=\"1\" start-index=\"125\"\n+                                                            stop-index=\"125\"/>\n+                                        <parameter-marker-expression value=\"0\" start-index=\"125\"\n+                                                                     stop-index=\"125\"/>\n+                                    </items>\n+                                    <items>\n+                                        <literal-expression value=\"2\" start-index=\"128\"\n+                                                            stop-index=\"128\"/>\n+                                        <parameter-marker-expression value=\"1\" start-index=\"128\"\n+                                                                     stop-index=\"128\"/>\n+                                    </items>\n+                                </list-expression>\n+                            </right>\n+                        </in-expression>\n+                    </left>\n+                    <operator>AND</operator>\n+                    <right>\n+                        <between-expression start-index=\"135\" stop-index=\"160\"\n+                                            literal-stop-index=\"161\">\n+                            <not>false</not>\n+                            <left>\n+                                <column name=\"order_id\" start-index=\"135\" stop-index=\"144\">\n+                                    <owner name=\"o\" start-index=\"135\" stop-index=\"135\"/>\n+                                </column>\n+                            </left>\n+                            <between-expr>\n+                                <literal-expression value=\"9\" start-index=\"154\" stop-index=\"154\"/>\n+                                <parameter-marker-expression value=\"2\" start-index=\"154\"\n+                                                             stop-index=\"154\"/>\n+                            </between-expr>\n+                            <and-expr>\n+                                <literal-expression value=\"10\" start-index=\"160\" stop-index=\"161\"/>\n+                                <parameter-marker-expression value=\"3\" start-index=\"160\"\n+                                                             stop-index=\"160\"/>\n+                            </and-expr>\n+                        </between-expression>\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n         <group-by>\n-            <column-item name=\"user_id\" start-index=\"171\" stop-index=\"179\" literal-start-index=\"172\" literal-stop-index=\"180\">\n-                <owner name=\"i\" start-index=\"171\" stop-index=\"171\" literal-start-index=\"172\" literal-stop-index=\"172\" />\n+            <column-item name=\"user_id\" start-index=\"171\" stop-index=\"179\" literal-start-index=\"172\"\n+                         literal-stop-index=\"180\">\n+                <owner name=\"i\" start-index=\"171\" stop-index=\"171\" literal-start-index=\"172\"\n+                       literal-stop-index=\"172\"/>\n             </column-item>\n         </group-by>\n         <order-by>\n-            <column-item name=\"item_id\" order-direction=\"DESC\" start-index=\"190\" stop-index=\"198\" literal-start-index=\"191\" literal-stop-index=\"199\">\n-                <owner name=\"i\" start-index=\"190\" stop-index=\"190\" literal-start-index=\"191\" literal-stop-index=\"191\" />\n+            <column-item name=\"item_id\" order-direction=\"DESC\" start-index=\"190\" stop-index=\"198\"\n+                         literal-start-index=\"191\" literal-stop-index=\"199\">\n+                <owner name=\"i\" start-index=\"190\" stop-index=\"190\" literal-start-index=\"191\"\n+                       literal-stop-index=\"191\"/>\n             </column-item>\n         </order-by>\n-        <limit start-index=\"205\" stop-index=\"214\" literal-start-index=\"206\" literal-stop-index=\"215\">\n-            <offset value=\"5\" parameter-index=\"4\" start-index=\"211\" stop-index=\"211\" literal-start-index=\"212\" literal-stop-index=\"212\" />\n-            <row-count value=\"3\" parameter-index=\"5\" start-index=\"214\" stop-index=\"214\" literal-start-index=\"215\" literal-stop-index=\"215\" />\n+        <limit start-index=\"205\" stop-index=\"214\" literal-start-index=\"206\"\n+               literal-stop-index=\"215\">\n+            <offset value=\"5\" parameter-index=\"4\" start-index=\"211\" stop-index=\"211\"\n+                    literal-start-index=\"212\" literal-stop-index=\"212\"/>\n+            <row-count value=\"3\" parameter-index=\"5\" start-index=\"214\" stop-index=\"214\"\n+                       literal-start-index=\"215\" literal-stop-index=\"215\"/>\n         </limit>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_and_group_by_and_order_by\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_and_group_by_and_order_by\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"158\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"70\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\" stop-index=\"26\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\"\n+                                           stop-index=\"26\"/>\n                             </top-projection>\n                             <column-projection name=\"item_id\" start-index=\"84\" stop-index=\"92\">\n-                                <owner name=\"i\" start-index=\"84\" stop-index=\"84\" />\n+                                <owner name=\"i\" start-index=\"84\" stop-index=\"84\"/>\n                             </column-projection>\n-                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"95\" stop-index=\"104\">\n-                                <owner name=\"o\" start-index=\"95\" stop-index=\"95\" />\n+                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"95\"\n+                                               stop-index=\"104\">\n+                                <owner name=\"o\" start-index=\"95\" stop-index=\"95\"/>\n                             </column-projection>\n-                            <column-projection name=\"status\" alias=\"status\" start-index=\"119\" stop-index=\"126\">\n-                                <owner name=\"o\" start-index=\"119\" stop-index=\"119\" />\n+                            <column-projection name=\"status\" alias=\"status\" start-index=\"119\"\n+                                               stop-index=\"126\">\n+                                <owner name=\"o\" start-index=\"119\" stop-index=\"119\"/>\n                             </column-projection>\n-                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"139\" stop-index=\"147\">\n-                                <owner name=\"o\" start-index=\"139\" stop-index=\"139\" />\n+                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"139\"\n+                                               stop-index=\"147\">\n+                                <owner name=\"o\" start-index=\"139\" stop-index=\"139\"/>\n                             </column-projection>\n                         </projections>\n                         <from>\n                             <join-table>\n                                 <left>\n-                                    <simple-table start-index=\"165\" stop-index=\"173\" name=\"t_order\" alias=\"o\" />\n+                                    <simple-table start-index=\"165\" stop-index=\"173\" name=\"t_order\"\n+                                                  alias=\"o\"/>\n                                 </left>\n                                 <right>\n-                                    <simple-table start-index=\"180\" stop-index=\"193\" name=\"t_order_item\" alias=\"i\" />\n+                                    <simple-table start-index=\"180\" stop-index=\"193\"\n+                                                  name=\"t_order_item\" alias=\"i\"/>\n                                 </right>\n                                 <joinSpecification>\n                                     <and-predicate>\n                                         <predicate start-index=\"198\" stop-index=\"218\">\n-                                            <column-left-value name=\"user_id\" start-index=\"198\" stop-index=\"206\">\n-                                                <owner name=\"o\" start-index=\"198\" stop-index=\"198\" />\n+                                            <column-left-value name=\"user_id\" start-index=\"198\"\n+                                                               stop-index=\"206\">\n+                                                <owner name=\"o\" start-index=\"198\" stop-index=\"198\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"user_id\" start-index=\"210\" stop-index=\"218\">\n-                                                <owner name=\"i\" start-index=\"210\" stop-index=\"210\" />\n+                                            <column-right-value name=\"user_id\" start-index=\"210\"\n+                                                                stop-index=\"218\">\n+                                                <owner name=\"i\" start-index=\"210\" stop-index=\"210\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                         <predicate start-index=\"224\" stop-index=\"246\">\n-                                            <column-left-value name=\"order_id\" start-index=\"224\" stop-index=\"233\">\n-                                                <owner name=\"o\" start-index=\"224\" stop-index=\"224\" />\n+                                            <column-left-value name=\"order_id\" start-index=\"224\"\n+                                                               stop-index=\"233\">\n+                                                <owner name=\"o\" start-index=\"224\" stop-index=\"224\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"order_id\" start-index=\"237\" stop-index=\"246\">\n-                                                <owner name=\"i\" start-index=\"237\" stop-index=\"237\" />\n+                                            <column-right-value name=\"order_id\" start-index=\"237\"\n+                                                                stop-index=\"246\">\n+                                                <owner name=\"i\" start-index=\"237\" stop-index=\"237\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                     </and-predicate>\n                                 </joinSpecification>\n                             </join-table>\n                         </from>\n                         <where start-index=\"248\" stop-index=\"303\" literal-stop-index=\"304\">\n-                            <and-predicate>\n-                                <predicate start-index=\"254\" stop-index=\"272\">\n-                                    <column-left-value name=\"user_id\" start-index=\"254\" stop-index=\"262\">\n-                                        <owner name=\"o\" start-index=\"254\" stop-index=\"254\" />\n-                                    </column-left-value>\n-                                    <in-right-value>\n-                                        <parameter-marker-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n-                                        <parameter-marker-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n-                                        <literal-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n-                                        <literal-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n-                                    </in-right-value>\n-                                </predicate>\n-                                <predicate start-index=\"278\" stop-index=\"303\" literal-stop-index=\"304\">\n-                                    <column-left-value name=\"order_id\" start-index=\"278\" stop-index=\"287\">\n-                                        <owner name=\"o\" start-index=\"278\" stop-index=\"278\" />\n-                                    </column-left-value>\n-                                    <between-right-value>\n-                                        <between-parameter-marker-expression value=\"3\" start-index=\"297\" stop-index=\"297\" />\n-                                        <and-parameter-marker-expression value=\"4\" start-index=\"303\" stop-index=\"303\" />\n-                                        <between-literal-expression value=\"9\" start-index=\"297\" stop-index=\"297\" />\n-                                        <and-literal-expression value=\"10\" start-index=\"303\" stop-index=\"304\" />\n-                                    </between-right-value>\n-                                </predicate>\n-                            </and-predicate>\n+                            <expr>\n+                                <binary-operation-expression start-index=\"254\" stop-index=\"303\" literal-stop-index=\"304\">\n+                                    <left>\n+                                        <in-expression start-index=\"254\" stop-index=\"272\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"user_id\" start-index=\"254\" stop-index=\"262\">\n+                                                    <owner name=\"o\" start-index=\"254\" stop-index=\"254\" />\n+                                                </column>\n+                                            </left>\n+                                            <right>\n+                                                <list-expression start-index=\"267\" stop-index=\"272\">\n+                                                    <items>\n+                                                        <literal-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n+                                                        <parameter-marker-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n+                                                    </items>\n+                                                    <items>\n+                                                        <literal-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n+                                                        <parameter-marker-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n+                                                    </items>\n+                                                </list-expression>\n+                                            </right>\n+                                        </in-expression>\n+                                    </left>\n+                                    <operator>AND</operator>\n+                                    <right>\n+                                        <between-expression start-index=\"278\" stop-index=\"303\" literal-stop-index=\"304\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"order_id\" start-index=\"278\" stop-index=\"287\">\n+                                                    <owner name=\"o\" start-index=\"278\" stop-index=\"278\" />\n+                                                </column>\n+                                            </left>\n+                                            <between-expr>\n+                                                <literal-expression value=\"9\" start-index=\"297\" stop-index=\"297\" />\n+                                                <parameter-marker-expression value=\"3\" start-index=\"297\" stop-index=\"297\" />\n+                                            </between-expr>\n+                                            <and-expr>\n+                                                <literal-expression value=\"10\" start-index=\"303\" stop-index=\"304\" />\n+                                                <parameter-marker-expression value=\"4\" start-index=\"303\" stop-index=\"303\" />\n+                                            </and-expr>\n+                                        </between-expression>\n+                                    </right>\n+                                </binary-operation-expression>\n+                            </expr>\n                         </where>\n                         <group-by>\n-                            <column-item name=\"item_id\" start-index=\"314\" stop-index=\"322\" literal-start-index=\"315\" literal-stop-index=\"323\">\n-                                <owner name=\"i\" start-index=\"314\" stop-index=\"314\" literal-start-index=\"315\" literal-stop-index=\"315\" />\n+                            <column-item name=\"item_id\" start-index=\"314\" stop-index=\"322\"\n+                                         literal-start-index=\"315\" literal-stop-index=\"323\">\n+                                <owner name=\"i\" start-index=\"314\" stop-index=\"314\"\n+                                       literal-start-index=\"315\" literal-stop-index=\"315\"/>\n                             </column-item>\n                         </group-by>\n                     </select>\n                 </subquery>\n             </subquery-table>\n         </from>\n         <where start-index=\"333\" stop-index=\"354\" literal-start-index=\"334\" literal-stop-index=\"355\">\n-            <and-predicate>\n-                <predicate start-index=\"339\" stop-index=\"354\" literal-start-index=\"340\" literal-stop-index=\"355\">\n-                    <column-left-value start-index=\"339\" stop-index=\"350\" literal-start-index=\"340\" literal-stop-index=\"351\" name=\"rownum_\">\n-                        <owner start-index=\"339\" stop-index=\"342\" literal-start-index=\"340\" literal-stop-index=\"343\" name=\"row_\" />\n-                    </column-left-value>\n-                    <operator type=\"&gt;\" />\n-                    <compare-right-value>\n-                        <parameter-marker-expression start-index=\"354\" stop-index=\"354\" value=\"5\" />\n-                        <literal-expression start-index=\"355\" stop-index=\"355\" value=\"6\" />\n-                    </compare-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"339\" stop-index=\"354\" literal-start-index=\"340\" literal-stop-index=\"355\">\n+                    <left>\n+                        <column name=\"rownum_\" start-index=\"339\" stop-index=\"350\" literal-start-index=\"340\" literal-stop-index=\"351\">\n+                            <owner name=\"row_\" start-index=\"339\" stop-index=\"342\" literal-start-index=\"340\" literal-stop-index=\"343\" />\n+                        </column>\n+                    </left>\n+                    <operator>&gt;</operator>\n+                    <right>\n+                        <literal-expression value=\"6\" start-index=\"355\" stop-index=\"355\" />\n+                        <parameter-marker-expression value=\"5\" start-index=\"354\" stop-index=\"354\" />\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_percent_with_ties_and_group_by_and_order_by\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_percent_with_ties_and_group_by_and_order_by\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"176\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"88\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\" stop-index=\"26\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\"\n+                                           stop-index=\"26\"/>\n                             </top-projection>\n                             <column-projection name=\"item_id\" start-index=\"102\" stop-index=\"110\">\n-                                <owner name=\"i\" start-index=\"102\" stop-index=\"102\" />\n+                                <owner name=\"i\" start-index=\"102\" stop-index=\"102\"/>\n                             </column-projection>\n-                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"113\" stop-index=\"122\">\n-                                <owner name=\"o\" start-index=\"113\" stop-index=\"113\" />\n+                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"113\"\n+                                               stop-index=\"122\">\n+                                <owner name=\"o\" start-index=\"113\" stop-index=\"113\"/>\n                             </column-projection>\n-                            <column-projection name=\"status\" alias=\"status\" start-index=\"137\" stop-index=\"144\">\n-                                <owner name=\"o\" start-index=\"137\" stop-index=\"137\" />\n+                            <column-projection name=\"status\" alias=\"status\" start-index=\"137\"\n+                                               stop-index=\"144\">\n+                                <owner name=\"o\" start-index=\"137\" stop-index=\"137\"/>\n                             </column-projection>\n-                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"157\" stop-index=\"165\">\n-                                <owner name=\"o\" start-index=\"157\" stop-index=\"157\" />\n+                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"157\"\n+                                               stop-index=\"165\">\n+                                <owner name=\"o\" start-index=\"157\" stop-index=\"157\"/>\n                             </column-projection>\n                         </projections>\n                         <from>\n                             <join-table>\n                                 <left>\n-                                    <simple-table start-index=\"183\" stop-index=\"191\" name=\"t_order\" alias=\"o\" />\n+                                    <simple-table start-index=\"183\" stop-index=\"191\" name=\"t_order\"\n+                                                  alias=\"o\"/>\n                                 </left>\n                                 <right>\n-                                    <simple-table start-index=\"198\" stop-index=\"211\" name=\"t_order_item\" alias=\"i\" />\n+                                    <simple-table start-index=\"198\" stop-index=\"211\"\n+                                                  name=\"t_order_item\" alias=\"i\"/>\n                                 </right>\n                                 <joinSpecification>\n                                     <and-predicate>\n                                         <predicate start-index=\"216\" stop-index=\"236\">\n-                                            <column-left-value name=\"user_id\" start-index=\"216\" stop-index=\"224\">\n-                                                <owner name=\"o\" start-index=\"216\" stop-index=\"216\" />\n+                                            <column-left-value name=\"user_id\" start-index=\"216\"\n+                                                               stop-index=\"224\">\n+                                                <owner name=\"o\" start-index=\"216\" stop-index=\"216\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"user_id\" start-index=\"228\" stop-index=\"236\">\n-                                                <owner name=\"i\" start-index=\"228\" stop-index=\"228\" />\n+                                            <column-right-value name=\"user_id\" start-index=\"228\"\n+                                                                stop-index=\"236\">\n+                                                <owner name=\"i\" start-index=\"228\" stop-index=\"228\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                         <predicate start-index=\"242\" stop-index=\"264\">\n-                                            <column-left-value name=\"order_id\" start-index=\"242\" stop-index=\"251\">\n-                                                <owner name=\"o\" start-index=\"242\" stop-index=\"242\" />\n+                                            <column-left-value name=\"order_id\" start-index=\"242\"\n+                                                               stop-index=\"251\">\n+                                                <owner name=\"o\" start-index=\"242\" stop-index=\"242\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"order_id\" start-index=\"255\" stop-index=\"264\">\n-                                                <owner name=\"i\" start-index=\"255\" stop-index=\"255\" />\n+                                            <column-right-value name=\"order_id\" start-index=\"255\"\n+                                                                stop-index=\"264\">\n+                                                <owner name=\"i\" start-index=\"255\" stop-index=\"255\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                     </and-predicate>\n                                 </joinSpecification>\n                             </join-table>\n                         </from>\n                         <where start-index=\"266\" stop-index=\"321\" literal-stop-index=\"322\">\n-                            <and-predicate>\n-                                <predicate start-index=\"272\" stop-index=\"290\">\n-                                    <column-left-value name=\"user_id\" start-index=\"272\" stop-index=\"280\">\n-                                        <owner name=\"o\" start-index=\"272\" stop-index=\"272\" />\n-                                    </column-left-value>\n-                                    <in-right-value>\n-                                        <parameter-marker-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n-                                        <parameter-marker-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n-                                        <literal-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n-                                        <literal-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n-                                    </in-right-value>\n-                                </predicate>\n-                                <predicate start-index=\"296\" stop-index=\"321\" literal-stop-index=\"322\">\n-                                    <column-left-value name=\"order_id\" start-index=\"296\" stop-index=\"305\">\n-                                        <owner name=\"o\" start-index=\"296\" stop-index=\"296\" />\n-                                    </column-left-value>\n-                                    <between-right-value>\n-                                        <between-parameter-marker-expression value=\"3\" start-index=\"315\" stop-index=\"315\" />\n-                                        <and-parameter-marker-expression value=\"4\" start-index=\"321\" stop-index=\"321\" />\n-                                        <between-literal-expression value=\"9\" start-index=\"315\" stop-index=\"315\" />\n-                                        <and-literal-expression value=\"10\" start-index=\"321\" stop-index=\"322\" />\n-                                    </between-right-value>\n-                                </predicate>\n-                            </and-predicate>\n+                            <expr>\n+                                <binary-operation-expression start-index=\"272\" stop-index=\"321\" literal-stop-index=\"322\">\n+                                    <left>\n+                                        <in-expression start-index=\"272\" stop-index=\"290\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"user_id\" start-index=\"272\" stop-index=\"280\">\n+                                                    <owner name=\"o\" start-index=\"272\" stop-index=\"272\" />\n+                                                </column>\n+                                            </left>\n+                                            <right>\n+                                                <list-expression start-index=\"285\" stop-index=\"290\">\n+                                                    <items>\n+                                                        <literal-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n+                                                        <parameter-marker-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n+                                                    </items>\n+                                                    <items>\n+                                                        <literal-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n+                                                        <parameter-marker-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n+                                                    </items>\n+                                                </list-expression>\n+                                            </right>\n+                                        </in-expression>\n+                                    </left>\n+                                    <operator>AND</operator>\n+                                    <right>\n+                                        <between-expression start-index=\"296\" stop-index=\"321\" literal-stop-index=\"322\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"order_id\" start-index=\"296\" stop-index=\"305\">\n+                                                    <owner name=\"o\" start-index=\"296\" stop-index=\"296\" />\n+                                                </column>\n+                                            </left>\n+                                            <between-expr>\n+                                                <literal-expression value=\"9\" start-index=\"315\" stop-index=\"315\" />\n+                                                <parameter-marker-expression value=\"3\" start-index=\"315\" stop-index=\"315\" />\n+                                            </between-expr>\n+                                            <and-expr>\n+                                                <literal-expression value=\"10\" start-index=\"321\" stop-index=\"322\" />\n+                                                <parameter-marker-expression value=\"4\" start-index=\"321\" stop-index=\"321\" />\n+                                            </and-expr>\n+                                        </between-expression>\n+                                    </right>\n+                                </binary-operation-expression>\n+                            </expr>\n                         </where>\n                         <group-by>\n-                            <column-item name=\"item_id\" start-index=\"332\" stop-index=\"340\" literal-start-index=\"333\" literal-stop-index=\"341\">\n-                                <owner name=\"i\" start-index=\"332\" stop-index=\"332\" literal-start-index=\"333\" literal-stop-index=\"333\" />\n+                            <column-item name=\"item_id\" start-index=\"332\" stop-index=\"340\"\n+                                         literal-start-index=\"333\" literal-stop-index=\"341\">\n+                                <owner name=\"i\" start-index=\"332\" stop-index=\"332\"\n+                                       literal-start-index=\"333\" literal-stop-index=\"333\"/>\n                             </column-item>\n                         </group-by>\n                     </select>\n                 </subquery>\n             </subquery-table>\n         </from>\n         <where start-index=\"351\" stop-index=\"372\" literal-start-index=\"352\" literal-stop-index=\"373\">\n-            <and-predicate>\n-                <predicate start-index=\"357\" stop-index=\"372\" literal-start-index=\"358\" literal-stop-index=\"373\">\n-                    <column-left-value start-index=\"357\" stop-index=\"368\" literal-start-index=\"358\" literal-stop-index=\"369\" name=\"rownum_\">\n-                        <owner start-index=\"357\" stop-index=\"360\" literal-start-index=\"358\" literal-stop-index=\"361\" name=\"row_\" />\n-                    </column-left-value>\n-                    <operator type=\"&gt;\" />\n-                    <compare-right-value>\n-                        <parameter-marker-expression start-index=\"372\" stop-index=\"372\" value=\"5\" />\n-                        <literal-expression start-index=\"373\" stop-index=\"373\" value=\"6\" />\n-                    </compare-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"357\" stop-index=\"372\" literal-start-index=\"358\" literal-stop-index=\"373\">\n+                    <left>\n+                        <column name=\"rownum_\" start-index=\"357\" stop-index=\"368\" literal-start-index=\"358\" literal-stop-index=\"369\">\n+                            <owner name=\"row_\" start-index=\"357\" stop-index=\"360\" literal-start-index=\"358\" literal-stop-index=\"361\" />\n+                        </column>\n+                    </left>\n+                    <operator>&gt;</operator>\n+                    <right>\n+                        <literal-expression value=\"6\" start-index=\"373\" stop-index=\"373\" />\n+                        <parameter-marker-expression value=\"5\" start-index=\"372\" stop-index=\"372\" />\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_and_group_by_and_order_by_and_parentheses\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_and_group_by_and_order_by_and_parentheses\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"160\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"72\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"27\" stop-index=\"27\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"27\"\n+                                           stop-index=\"27\"/>\n                             </top-projection>\n                             <column-projection name=\"item_id\" start-index=\"86\" stop-index=\"94\">\n-                                <owner name=\"i\" start-index=\"86\" stop-index=\"86\" />\n+                                <owner name=\"i\" start-index=\"86\" stop-index=\"86\"/>\n                             </column-projection>\n-                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"97\" stop-index=\"106\">\n-                                <owner name=\"o\" start-index=\"97\" stop-index=\"97\" />\n+                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"97\"\n+                                               stop-index=\"106\">\n+                                <owner name=\"o\" start-index=\"97\" stop-index=\"97\"/>\n                             </column-projection>\n-                            <column-projection name=\"status\" alias=\"status\" start-index=\"121\" stop-index=\"128\">\n-                                <owner name=\"o\" start-index=\"121\" stop-index=\"121\" />\n+                            <column-projection name=\"status\" alias=\"status\" start-index=\"121\"\n+                                               stop-index=\"128\">\n+                                <owner name=\"o\" start-index=\"121\" stop-index=\"121\"/>\n                             </column-projection>\n-                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"141\" stop-index=\"149\">\n-                                <owner name=\"o\" start-index=\"141\" stop-index=\"141\" />\n+                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"141\"\n+                                               stop-index=\"149\">\n+                                <owner name=\"o\" start-index=\"141\" stop-index=\"141\"/>\n                             </column-projection>\n                         </projections>\n                         <from>\n                             <join-table>\n                                 <left>\n-                                    <simple-table start-index=\"167\" stop-index=\"175\" name=\"t_order\" alias=\"o\" />\n+                                    <simple-table start-index=\"167\" stop-index=\"175\" name=\"t_order\"\n+                                                  alias=\"o\"/>\n                                 </left>\n                                 <right>\n-                                    <simple-table start-index=\"182\" stop-index=\"195\" name=\"t_order_item\" alias=\"i\" />\n+                                    <simple-table start-index=\"182\" stop-index=\"195\"\n+                                                  name=\"t_order_item\" alias=\"i\"/>\n                                 </right>\n                                 <joinSpecification>\n                                     <and-predicate>\n                                         <predicate start-index=\"200\" stop-index=\"220\">\n-                                            <column-left-value name=\"user_id\" start-index=\"200\" stop-index=\"208\">\n-                                                <owner name=\"o\" start-index=\"200\" stop-index=\"200\" />\n+                                            <column-left-value name=\"user_id\" start-index=\"200\"\n+                                                               stop-index=\"208\">\n+                                                <owner name=\"o\" start-index=\"200\" stop-index=\"200\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"user_id\" start-index=\"212\" stop-index=\"220\">\n-                                                <owner name=\"i\" start-index=\"212\" stop-index=\"212\" />\n+                                            <column-right-value name=\"user_id\" start-index=\"212\"\n+                                                                stop-index=\"220\">\n+                                                <owner name=\"i\" start-index=\"212\" stop-index=\"212\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                         <predicate start-index=\"226\" stop-index=\"248\">\n-                                            <column-left-value name=\"order_id\" start-index=\"226\" stop-index=\"235\">\n-                                                <owner name=\"o\" start-index=\"226\" stop-index=\"226\" />\n+                                            <column-left-value name=\"order_id\" start-index=\"226\"\n+                                                               stop-index=\"235\">\n+                                                <owner name=\"o\" start-index=\"226\" stop-index=\"226\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"order_id\" start-index=\"239\" stop-index=\"248\">\n-                                                <owner name=\"i\" start-index=\"239\" stop-index=\"239\" />\n+                                            <column-right-value name=\"order_id\" start-index=\"239\"\n+                                                                stop-index=\"248\">\n+                                                <owner name=\"i\" start-index=\"239\" stop-index=\"239\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                     </and-predicate>\n                                 </joinSpecification>\n                             </join-table>\n                         </from>\n                         <where start-index=\"250\" stop-index=\"305\" literal-stop-index=\"306\">\n-                            <and-predicate>\n-                                <predicate start-index=\"256\" stop-index=\"274\">\n-                                    <column-left-value name=\"user_id\" start-index=\"256\" stop-index=\"264\">\n-                                        <owner name=\"o\" start-index=\"256\" stop-index=\"256\" />\n-                                    </column-left-value>\n-                                    <in-right-value>\n-                                        <parameter-marker-expression value=\"1\" start-index=\"270\" stop-index=\"270\" />\n-                                        <parameter-marker-expression value=\"2\" start-index=\"273\" stop-index=\"273\" />\n-                                        <literal-expression value=\"1\" start-index=\"270\" stop-index=\"270\" />\n-                                        <literal-expression value=\"2\" start-index=\"273\" stop-index=\"273\" />\n-                                    </in-right-value>\n-                                </predicate>\n-                                <predicate start-index=\"280\" stop-index=\"305\" literal-stop-index=\"306\">\n-                                    <column-left-value name=\"order_id\" start-index=\"280\" stop-index=\"289\">\n-                                        <owner name=\"o\" start-index=\"280\" stop-index=\"280\" />\n-                                    </column-left-value>\n-                                    <between-right-value>\n-                                        <between-parameter-marker-expression value=\"3\" start-index=\"299\" stop-index=\"299\" />\n-                                        <and-parameter-marker-expression value=\"4\" start-index=\"305\" stop-index=\"305\" />\n-                                        <between-literal-expression value=\"9\" start-index=\"299\" stop-index=\"299\" />\n-                                        <and-literal-expression value=\"10\" start-index=\"305\" stop-index=\"306\" />\n-                                    </between-right-value>\n-                                </predicate>\n-                            </and-predicate>\n+                            <expr>\n+                                <binary-operation-expression start-index=\"256\" stop-index=\"305\" literal-stop-index=\"306\">\n+                                    <left>\n+                                        <in-expression start-index=\"256\" stop-index=\"274\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"user_id\" start-index=\"256\" stop-index=\"264\">\n+                                                    <owner name=\"o\" start-index=\"256\" stop-index=\"256\" />\n+                                                </column>\n+                                            </left>\n+                                            <right>\n+                                                <list-expression start-index=\"269\" stop-index=\"274\">\n+                                                    <items>\n+                                                        <literal-expression value=\"1\" start-index=\"270\" stop-index=\"270\" />\n+                                                        <parameter-marker-expression value=\"1\" start-index=\"270\" stop-index=\"270\" />\n+                                                    </items>\n+                                                    <items>\n+                                                        <literal-expression value=\"2\" start-index=\"273\" stop-index=\"273\" />\n+                                                        <parameter-marker-expression value=\"2\" start-index=\"273\" stop-index=\"273\" />\n+                                                    </items>\n+                                                </list-expression>\n+                                            </right>\n+                                        </in-expression>\n+                                    </left>\n+                                    <operator>AND</operator>\n+                                    <right>\n+                                        <between-expression start-index=\"280\" stop-index=\"305\" literal-stop-index=\"306\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"order_id\" start-index=\"280\" stop-index=\"289\">\n+                                                    <owner name=\"o\" start-index=\"280\" stop-index=\"280\" />\n+                                                </column>\n+                                            </left>\n+                                            <between-expr>\n+                                                <literal-expression value=\"9\" start-index=\"299\" stop-index=\"299\" />\n+                                                <parameter-marker-expression value=\"3\" start-index=\"299\" stop-index=\"299\" />\n+                                            </between-expr>\n+                                            <and-expr>\n+                                                <literal-expression value=\"10\" start-index=\"305\" stop-index=\"306\" />\n+                                                <parameter-marker-expression value=\"4\" start-index=\"305\" stop-index=\"305\" />\n+                                            </and-expr>\n+                                        </between-expression>\n+                                    </right>\n+                                </binary-operation-expression>\n+                            </expr>\n                         </where>\n                         <group-by>\n-                            <column-item name=\"item_id\" start-index=\"316\" stop-index=\"324\" literal-start-index=\"317\" literal-stop-index=\"325\">\n-                                <owner name=\"i\" start-index=\"316\" stop-index=\"316\" literal-start-index=\"317\" literal-stop-index=\"317\" />\n+                            <column-item name=\"item_id\" start-index=\"316\" stop-index=\"324\"\n+                                         literal-start-index=\"317\" literal-stop-index=\"325\">\n+                                <owner name=\"i\" start-index=\"316\" stop-index=\"316\"\n+                                       literal-start-index=\"317\" literal-stop-index=\"317\"/>\n                             </column-item>\n                         </group-by>\n                     </select>\n                 </subquery>\n             </subquery-table>\n         </from>\n         <where start-index=\"335\" stop-index=\"356\" literal-start-index=\"336\" literal-stop-index=\"357\">\n-            <and-predicate>\n-                <predicate start-index=\"341\" stop-index=\"356\" literal-start-index=\"342\" literal-stop-index=\"357\">\n-                    <column-left-value start-index=\"341\" stop-index=\"352\" literal-start-index=\"342\" literal-stop-index=\"353\" name=\"rownum_\">\n-                        <owner start-index=\"341\" stop-index=\"344\" literal-start-index=\"342\" literal-stop-index=\"345\" name=\"row_\" />\n-                    </column-left-value>\n-                    <operator type=\"&gt;\" />\n-                    <compare-right-value>\n-                        <parameter-marker-expression start-index=\"356\" stop-index=\"356\" value=\"5\" />\n-                        <literal-expression start-index=\"357\" stop-index=\"357\" value=\"6\" />\n-                    </compare-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"341\" stop-index=\"356\" literal-start-index=\"342\" literal-stop-index=\"357\">\n+                    <left>\n+                        <column name=\"rownum_\" start-index=\"341\" stop-index=\"352\" literal-start-index=\"342\" literal-stop-index=\"353\">\n+                            <owner name=\"row_\" start-index=\"341\" stop-index=\"344\" literal-start-index=\"342\" literal-stop-index=\"345\" />\n+                        </column>\n+                    </left>\n+                    <operator>&gt;</operator>\n+                    <right>\n+                        <literal-expression value=\"6\" start-index=\"357\" stop-index=\"357\" />\n+                        <parameter-marker-expression value=\"5\" start-index=\"356\" stop-index=\"356\" />\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_percent_with_ties_and_group_by_and_order_by_and_parentheses\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_percent_with_ties_and_group_by_and_order_by_and_parentheses\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"178\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"90\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"27\" stop-index=\"27\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"27\"\n+                                           stop-index=\"27\"/>\n                             </top-projection>\n                             <column-projection name=\"item_id\" start-index=\"104\" stop-index=\"112\">\n-                                <owner name=\"i\" start-index=\"104\" stop-index=\"104\" />\n+                                <owner name=\"i\" start-index=\"104\" stop-index=\"104\"/>\n                             </column-projection>\n-                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"115\" stop-index=\"124\">\n-                                <owner name=\"o\" start-index=\"115\" stop-index=\"115\" />\n+                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"115\"\n+                                               stop-index=\"124\">\n+                                <owner name=\"o\" start-index=\"115\" stop-index=\"115\"/>\n                             </column-projection>\n-                            <column-projection name=\"status\" alias=\"status\" start-index=\"139\" stop-index=\"146\">\n-                                <owner name=\"o\" start-index=\"139\" stop-index=\"139\" />\n+                            <column-projection name=\"status\" alias=\"status\" start-index=\"139\"\n+                                               stop-index=\"146\">\n+                                <owner name=\"o\" start-index=\"139\" stop-index=\"139\"/>\n                             </column-projection>\n-                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"159\" stop-index=\"167\">\n-                                <owner name=\"o\" start-index=\"159\" stop-index=\"159\" />\n+                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"159\"\n+                                               stop-index=\"167\">\n+                                <owner name=\"o\" start-index=\"159\" stop-index=\"159\"/>\n                             </column-projection>\n                         </projections>\n                         <from>\n                             <join-table>\n                                 <left>\n-                                    <simple-table start-index=\"185\" stop-index=\"193\" name=\"t_order\" alias=\"o\" />\n+                                    <simple-table start-index=\"185\" stop-index=\"193\" name=\"t_order\"\n+                                                  alias=\"o\"/>\n                                 </left>\n                                 <right>\n-                                    <simple-table start-index=\"200\" stop-index=\"213\" name=\"t_order_item\" alias=\"i\" />\n+                                    <simple-table start-index=\"200\" stop-index=\"213\"\n+                                                  name=\"t_order_item\" alias=\"i\"/>\n                                 </right>\n                                 <joinSpecification>\n                                     <and-predicate>\n                                         <predicate start-index=\"218\" stop-index=\"238\">\n-                                            <column-left-value name=\"user_id\" start-index=\"218\" stop-index=\"226\">\n-                                                <owner name=\"o\" start-index=\"218\" stop-index=\"218\" />\n+                                            <column-left-value name=\"user_id\" start-index=\"218\"\n+                                                               stop-index=\"226\">\n+                                                <owner name=\"o\" start-index=\"218\" stop-index=\"218\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"user_id\" start-index=\"230\" stop-index=\"238\">\n-                                                <owner name=\"i\" start-index=\"230\" stop-index=\"230\" />\n+                                            <column-right-value name=\"user_id\" start-index=\"230\"\n+                                                                stop-index=\"238\">\n+                                                <owner name=\"i\" start-index=\"230\" stop-index=\"230\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                         <predicate start-index=\"244\" stop-index=\"266\">\n-                                            <column-left-value name=\"order_id\" start-index=\"244\" stop-index=\"253\">\n-                                                <owner name=\"o\" start-index=\"244\" stop-index=\"244\" />\n+                                            <column-left-value name=\"order_id\" start-index=\"244\"\n+                                                               stop-index=\"253\">\n+                                                <owner name=\"o\" start-index=\"244\" stop-index=\"244\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"order_id\" start-index=\"257\" stop-index=\"266\">\n-                                                <owner name=\"i\" start-index=\"257\" stop-index=\"257\" />\n+                                            <column-right-value name=\"order_id\" start-index=\"257\"\n+                                                                stop-index=\"266\">\n+                                                <owner name=\"i\" start-index=\"257\" stop-index=\"257\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                     </and-predicate>\n                                 </joinSpecification>\n                             </join-table>\n                         </from>\n                         <where start-index=\"268\" stop-index=\"323\" literal-stop-index=\"324\">\n-                            <and-predicate>\n-                                <predicate start-index=\"274\" stop-index=\"292\">\n-                                    <column-left-value name=\"user_id\" start-index=\"274\" stop-index=\"282\">\n-                                        <owner name=\"o\" start-index=\"274\" stop-index=\"274\" />\n-                                    </column-left-value>\n-                                    <in-right-value>\n-                                        <parameter-marker-expression value=\"1\" start-index=\"288\" stop-index=\"288\" />\n-                                        <parameter-marker-expression value=\"2\" start-index=\"291\" stop-index=\"291\" />\n-                                        <literal-expression value=\"1\" start-index=\"288\" stop-index=\"288\" />\n-                                        <literal-expression value=\"2\" start-index=\"291\" stop-index=\"291\" />\n-                                    </in-right-value>\n-                                </predicate>\n-                                <predicate start-index=\"298\" stop-index=\"323\" literal-stop-index=\"324\">\n-                                    <column-left-value name=\"order_id\" start-index=\"298\" stop-index=\"307\">\n-                                        <owner name=\"o\" start-index=\"298\" stop-index=\"298\" />\n-                                    </column-left-value>\n-                                    <between-right-value>\n-                                        <between-parameter-marker-expression value=\"3\" start-index=\"317\" stop-index=\"317\" />\n-                                        <and-parameter-marker-expression value=\"4\" start-index=\"323\" stop-index=\"323\" />\n-                                        <between-literal-expression value=\"9\" start-index=\"317\" stop-index=\"317\" />\n-                                        <and-literal-expression value=\"10\" start-index=\"323\" stop-index=\"324\" />\n-                                    </between-right-value>\n-                                </predicate>\n-                            </and-predicate>\n+                            <expr>\n+                                <binary-operation-expression start-index=\"274\" stop-index=\"323\" literal-stop-index=\"324\">\n+                                    <left>\n+                                        <in-expression start-index=\"274\" stop-index=\"292\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"user_id\" start-index=\"274\" stop-index=\"282\">\n+                                                    <owner name=\"o\" start-index=\"274\" stop-index=\"274\" />\n+                                                </column>\n+                                            </left>\n+                                            <right>\n+                                                <list-expression start-index=\"287\" stop-index=\"292\">\n+                                                    <items>\n+                                                        <literal-expression value=\"1\" start-index=\"288\" stop-index=\"288\" />\n+                                                        <parameter-marker-expression value=\"1\" start-index=\"288\" stop-index=\"288\" />\n+                                                    </items>\n+                                                    <items>\n+                                                        <literal-expression value=\"2\" start-index=\"291\" stop-index=\"291\" />\n+                                                        <parameter-marker-expression value=\"2\" start-index=\"291\" stop-index=\"291\" />\n+                                                    </items>\n+                                                </list-expression>\n+                                            </right>\n+                                        </in-expression>\n+                                    </left>\n+                                    <operator>AND</operator>\n+                                    <right>\n+                                        <between-expression start-index=\"298\" stop-index=\"323\" literal-stop-index=\"324\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"order_id\" start-index=\"298\" stop-index=\"307\">\n+                                                    <owner name=\"o\" start-index=\"298\" stop-index=\"298\" />\n+                                                </column>\n+                                            </left>\n+                                            <between-expr>\n+                                                <literal-expression value=\"9\" start-index=\"317\" stop-index=\"317\" />\n+                                                <parameter-marker-expression value=\"3\" start-index=\"317\" stop-index=\"317\" />\n+                                            </between-expr>\n+                                            <and-expr>\n+                                                <literal-expression value=\"10\" start-index=\"323\" stop-index=\"324\" />\n+                                                <parameter-marker-expression value=\"4\" start-index=\"323\" stop-index=\"323\" />\n+                                            </and-expr>\n+                                        </between-expression>\n+                                    </right>\n+                                </binary-operation-expression>\n+                            </expr>\n                         </where>\n                         <group-by>\n-                            <column-item name=\"item_id\" start-index=\"334\" stop-index=\"342\" literal-start-index=\"335\" literal-stop-index=\"343\">\n-                                <owner name=\"i\" start-index=\"334\" stop-index=\"334\" literal-start-index=\"335\" literal-stop-index=\"335\" />\n+                            <column-item name=\"item_id\" start-index=\"334\" stop-index=\"342\"\n+                                         literal-start-index=\"335\" literal-stop-index=\"343\">\n+                                <owner name=\"i\" start-index=\"334\" stop-index=\"334\"\n+                                       literal-start-index=\"335\" literal-stop-index=\"335\"/>\n                             </column-item>\n                         </group-by>\n                     </select>\n                 </subquery>\n             </subquery-table>\n         </from>\n         <where start-index=\"353\" stop-index=\"374\" literal-start-index=\"354\" literal-stop-index=\"375\">\n-            <and-predicate>\n-                <predicate start-index=\"359\" stop-index=\"374\" literal-start-index=\"360\" literal-stop-index=\"375\">\n-                    <column-left-value start-index=\"359\" stop-index=\"370\" literal-start-index=\"360\" literal-stop-index=\"371\" name=\"rownum_\">\n-                        <owner start-index=\"359\" stop-index=\"362\" literal-start-index=\"360\" literal-stop-index=\"363\" name=\"row_\" />\n-                    </column-left-value>\n-                    <operator type=\"&gt;\" />\n-                    <compare-right-value>\n-                        <parameter-marker-expression start-index=\"374\" stop-index=\"374\" value=\"5\" />\n-                        <literal-expression start-index=\"375\" stop-index=\"375\" value=\"6\" />\n-                    </compare-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"359\" stop-index=\"374\" literal-start-index=\"360\" literal-stop-index=\"375\">\n+                    <left>\n+                        <column name=\"rownum_\" start-index=\"359\" stop-index=\"370\" literal-start-index=\"360\" literal-stop-index=\"371\">\n+                            <owner name=\"row_\" start-index=\"359\" stop-index=\"362\" literal-start-index=\"360\" literal-stop-index=\"363\" />\n+                        </column>\n+                    </left>\n+                    <operator>&gt;</operator>\n+                    <right>\n+                        <literal-expression value=\"6\" start-index=\"375\" stop-index=\"375\" />\n+                        <parameter-marker-expression value=\"5\" start-index=\"374\" stop-index=\"374\" />\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_and_diff_group_by_and_order_by\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_and_diff_group_by_and_order_by\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"158\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"70\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\" stop-index=\"26\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\"\n+                                           stop-index=\"26\"/>\n                             </top-projection>\n                             <column-projection name=\"item_id\" start-index=\"84\" stop-index=\"92\">\n-                                <owner name=\"i\" start-index=\"84\" stop-index=\"84\" />\n+                                <owner name=\"i\" start-index=\"84\" stop-index=\"84\"/>\n                             </column-projection>\n-                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"95\" stop-index=\"104\">\n-                                <owner name=\"o\" start-index=\"95\" stop-index=\"95\" />\n+                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"95\"\n+                                               stop-index=\"104\">\n+                                <owner name=\"o\" start-index=\"95\" stop-index=\"95\"/>\n                             </column-projection>\n-                            <column-projection name=\"status\" alias=\"status\" start-index=\"119\" stop-index=\"126\">\n-                                <owner name=\"o\" start-index=\"119\" stop-index=\"119\" />\n+                            <column-projection name=\"status\" alias=\"status\" start-index=\"119\"\n+                                               stop-index=\"126\">\n+                                <owner name=\"o\" start-index=\"119\" stop-index=\"119\"/>\n                             </column-projection>\n-                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"139\" stop-index=\"147\">\n-                                <owner name=\"o\" start-index=\"139\" stop-index=\"139\" />\n+                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"139\"\n+                                               stop-index=\"147\">\n+                                <owner name=\"o\" start-index=\"139\" stop-index=\"139\"/>\n                             </column-projection>\n                         </projections>\n                         <from>\n                             <join-table>\n                                 <left>\n-                                    <simple-table start-index=\"165\" stop-index=\"173\" name=\"t_order\" alias=\"o\" />\n+                                    <simple-table start-index=\"165\" stop-index=\"173\" name=\"t_order\"\n+                                                  alias=\"o\"/>\n                                 </left>\n                                 <right>\n-                                    <simple-table start-index=\"180\" stop-index=\"193\" name=\"t_order_item\" alias=\"i\" />\n+                                    <simple-table start-index=\"180\" stop-index=\"193\"\n+                                                  name=\"t_order_item\" alias=\"i\"/>\n                                 </right>\n                                 <joinSpecification>\n                                     <and-predicate>\n                                         <predicate start-index=\"198\" stop-index=\"218\">\n-                                            <column-left-value name=\"user_id\" start-index=\"198\" stop-index=\"206\">\n-                                                <owner name=\"o\" start-index=\"198\" stop-index=\"198\" />\n+                                            <column-left-value name=\"user_id\" start-index=\"198\"\n+                                                               stop-index=\"206\">\n+                                                <owner name=\"o\" start-index=\"198\" stop-index=\"198\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"user_id\" start-index=\"210\" stop-index=\"218\">\n-                                                <owner name=\"i\" start-index=\"210\" stop-index=\"210\" />\n+                                            <column-right-value name=\"user_id\" start-index=\"210\"\n+                                                                stop-index=\"218\">\n+                                                <owner name=\"i\" start-index=\"210\" stop-index=\"210\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                         <predicate start-index=\"224\" stop-index=\"246\">\n-                                            <column-left-value name=\"order_id\" start-index=\"224\" stop-index=\"233\">\n-                                                <owner name=\"o\" start-index=\"224\" stop-index=\"224\" />\n+                                            <column-left-value name=\"order_id\" start-index=\"224\"\n+                                                               stop-index=\"233\">\n+                                                <owner name=\"o\" start-index=\"224\" stop-index=\"224\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"order_id\" start-index=\"237\" stop-index=\"246\">\n-                                                <owner name=\"i\" start-index=\"237\" stop-index=\"237\" />\n+                                            <column-right-value name=\"order_id\" start-index=\"237\"\n+                                                                stop-index=\"246\">\n+                                                <owner name=\"i\" start-index=\"237\" stop-index=\"237\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                     </and-predicate>\n                                 </joinSpecification>\n                             </join-table>\n                         </from>\n                         <where start-index=\"248\" stop-index=\"303\" literal-stop-index=\"304\">\n-                            <and-predicate>\n-                                <predicate start-index=\"254\" stop-index=\"272\">\n-                                    <column-left-value name=\"user_id\" start-index=\"254\" stop-index=\"262\">\n-                                        <owner name=\"o\" start-index=\"254\" stop-index=\"254\" />\n-                                    </column-left-value>\n-                                    <in-right-value>\n-                                        <parameter-marker-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n-                                        <parameter-marker-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n-                                        <literal-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n-                                        <literal-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n-                                    </in-right-value>\n-                                </predicate>\n-                                <predicate start-index=\"278\" stop-index=\"303\" literal-stop-index=\"304\">\n-                                    <column-left-value name=\"order_id\" start-index=\"278\" stop-index=\"287\">\n-                                        <owner name=\"o\" start-index=\"278\" stop-index=\"278\" />\n-                                    </column-left-value>\n-                                    <between-right-value>\n-                                        <between-parameter-marker-expression value=\"3\" start-index=\"297\" stop-index=\"297\" />\n-                                        <and-parameter-marker-expression value=\"4\" start-index=\"303\" stop-index=\"303\" />\n-                                        <between-literal-expression value=\"9\" start-index=\"297\" stop-index=\"297\" />\n-                                        <and-literal-expression value=\"10\" start-index=\"303\" stop-index=\"304\" />\n-                                    </between-right-value>\n-                                </predicate>\n-                            </and-predicate>\n+                            <expr>\n+                                <binary-operation-expression start-index=\"254\" stop-index=\"303\" literal-stop-index=\"304\">\n+                                    <left>\n+                                        <in-expression start-index=\"254\" stop-index=\"272\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"user_id\" start-index=\"254\" stop-index=\"262\">\n+                                                    <owner name=\"o\" start-index=\"254\" stop-index=\"254\" />\n+                                                </column>\n+                                            </left>\n+                                            <right>\n+                                                <list-expression start-index=\"267\" stop-index=\"272\">\n+                                                    <items>\n+                                                        <literal-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n+                                                        <parameter-marker-expression value=\"1\" start-index=\"268\" stop-index=\"268\" />\n+                                                    </items>\n+                                                    <items>\n+                                                        <literal-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n+                                                        <parameter-marker-expression value=\"2\" start-index=\"271\" stop-index=\"271\" />\n+                                                    </items>\n+                                                </list-expression>\n+                                            </right>\n+                                        </in-expression>\n+                                    </left>\n+                                    <operator>AND</operator>\n+                                    <right>\n+                                        <between-expression start-index=\"278\" stop-index=\"303\" literal-stop-index=\"304\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"order_id\" start-index=\"278\" stop-index=\"287\">\n+                                                    <owner name=\"o\" start-index=\"278\" stop-index=\"278\" />\n+                                                </column>\n+                                            </left>\n+                                            <between-expr>\n+                                                <literal-expression value=\"9\" start-index=\"297\" stop-index=\"297\" />\n+                                                <parameter-marker-expression value=\"3\" start-index=\"297\" stop-index=\"297\" />\n+                                            </between-expr>\n+                                            <and-expr>\n+                                                <literal-expression value=\"10\" start-index=\"303\" stop-index=\"304\" />\n+                                                <parameter-marker-expression value=\"4\" start-index=\"303\" stop-index=\"303\" />\n+                                            </and-expr>\n+                                        </between-expression>\n+                                    </right>\n+                                </binary-operation-expression>\n+                            </expr>\n                         </where>\n                         <group-by>\n-                            <column-item name=\"user_id\" start-index=\"314\" stop-index=\"322\" literal-start-index=\"315\" literal-stop-index=\"323\">\n-                                <owner name=\"i\" start-index=\"314\" stop-index=\"314\" literal-start-index=\"315\" literal-stop-index=\"315\" />\n+                            <column-item name=\"user_id\" start-index=\"314\" stop-index=\"322\"\n+                                         literal-start-index=\"315\" literal-stop-index=\"323\">\n+                                <owner name=\"i\" start-index=\"314\" stop-index=\"314\"\n+                                       literal-start-index=\"315\" literal-stop-index=\"315\"/>\n                             </column-item>\n                         </group-by>\n                     </select>\n                 </subquery>\n             </subquery-table>\n         </from>\n         <where start-index=\"333\" stop-index=\"354\" literal-start-index=\"334\" literal-stop-index=\"355\">\n-            <and-predicate>\n-                <predicate start-index=\"339\" stop-index=\"354\" literal-start-index=\"340\" literal-stop-index=\"355\">\n-                    <column-left-value start-index=\"339\" stop-index=\"350\" literal-start-index=\"340\" literal-stop-index=\"351\" name=\"rownum_\">\n-                        <owner start-index=\"339\" stop-index=\"342\" literal-start-index=\"340\" literal-stop-index=\"343\" name=\"row_\" />\n-                    </column-left-value>\n-                    <operator type=\"&gt;\" />\n-                    <compare-right-value>\n-                        <parameter-marker-expression start-index=\"354\" stop-index=\"354\" value=\"5\" />\n-                        <literal-expression start-index=\"355\" stop-index=\"355\" value=\"6\" />\n-                    </compare-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"339\" stop-index=\"354\" literal-start-index=\"340\" literal-stop-index=\"355\">\n+                    <left>\n+                        <column name=\"rownum_\" start-index=\"339\" stop-index=\"350\" literal-start-index=\"340\" literal-stop-index=\"351\">\n+                            <owner name=\"row_\" start-index=\"339\" stop-index=\"342\" literal-start-index=\"340\" literal-stop-index=\"343\" />\n+                        </column>\n+                    </left>\n+                    <operator>&gt;</operator>\n+                    <right>\n+                        <literal-expression value=\"6\" start-index=\"355\" stop-index=\"355\" />\n+                        <parameter-marker-expression value=\"5\" start-index=\"354\" stop-index=\"354\" />\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_percent_with_ties_and_diff_group_by_and_order_by\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_percent_with_ties_and_diff_group_by_and_order_by\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"176\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"88\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\" stop-index=\"26\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"26\"\n+                                           stop-index=\"26\"/>\n                             </top-projection>\n                             <column-projection name=\"item_id\" start-index=\"102\" stop-index=\"110\">\n-                                <owner name=\"i\" start-index=\"102\" stop-index=\"102\" />\n+                                <owner name=\"i\" start-index=\"102\" stop-index=\"102\"/>\n                             </column-projection>\n-                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"113\" stop-index=\"122\">\n-                                <owner name=\"o\" start-index=\"113\" stop-index=\"113\" />\n+                            <column-projection name=\"order_id\" alias=\"order_id\" start-index=\"113\"\n+                                               stop-index=\"122\">\n+                                <owner name=\"o\" start-index=\"113\" stop-index=\"113\"/>\n                             </column-projection>\n-                            <column-projection name=\"status\" alias=\"status\" start-index=\"137\" stop-index=\"144\">\n-                                <owner name=\"o\" start-index=\"137\" stop-index=\"137\" />\n+                            <column-projection name=\"status\" alias=\"status\" start-index=\"137\"\n+                                               stop-index=\"144\">\n+                                <owner name=\"o\" start-index=\"137\" stop-index=\"137\"/>\n                             </column-projection>\n-                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"157\" stop-index=\"165\">\n-                                <owner name=\"o\" start-index=\"157\" stop-index=\"157\" />\n+                            <column-projection name=\"user_id\" alias=\"user_id\" start-index=\"157\"\n+                                               stop-index=\"165\">\n+                                <owner name=\"o\" start-index=\"157\" stop-index=\"157\"/>\n                             </column-projection>\n                         </projections>\n                         <from>\n                             <join-table>\n                                 <left>\n-                                    <simple-table start-index=\"183\" stop-index=\"191\" name=\"t_order\" alias=\"o\" />\n+                                    <simple-table start-index=\"183\" stop-index=\"191\" name=\"t_order\"\n+                                                  alias=\"o\"/>\n                                 </left>\n                                 <right>\n-                                    <simple-table start-index=\"198\" stop-index=\"211\" name=\"t_order_item\" alias=\"i\" />\n+                                    <simple-table start-index=\"198\" stop-index=\"211\"\n+                                                  name=\"t_order_item\" alias=\"i\"/>\n                                 </right>\n                                 <joinSpecification>\n                                     <and-predicate>\n                                         <predicate start-index=\"216\" stop-index=\"236\">\n-                                            <column-left-value name=\"user_id\" start-index=\"216\" stop-index=\"224\">\n-                                                <owner name=\"o\" start-index=\"216\" stop-index=\"216\" />\n+                                            <column-left-value name=\"user_id\" start-index=\"216\"\n+                                                               stop-index=\"224\">\n+                                                <owner name=\"o\" start-index=\"216\" stop-index=\"216\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"user_id\" start-index=\"228\" stop-index=\"236\">\n-                                                <owner name=\"i\" start-index=\"228\" stop-index=\"228\" />\n+                                            <column-right-value name=\"user_id\" start-index=\"228\"\n+                                                                stop-index=\"236\">\n+                                                <owner name=\"i\" start-index=\"228\" stop-index=\"228\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                         <predicate start-index=\"242\" stop-index=\"264\">\n-                                            <column-left-value name=\"order_id\" start-index=\"242\" stop-index=\"251\">\n-                                                <owner name=\"o\" start-index=\"242\" stop-index=\"242\" />\n+                                            <column-left-value name=\"order_id\" start-index=\"242\"\n+                                                               stop-index=\"251\">\n+                                                <owner name=\"o\" start-index=\"242\" stop-index=\"242\"/>\n                                             </column-left-value>\n-                                            <column-right-value name=\"order_id\" start-index=\"255\" stop-index=\"264\">\n-                                                <owner name=\"i\" start-index=\"255\" stop-index=\"255\" />\n+                                            <column-right-value name=\"order_id\" start-index=\"255\"\n+                                                                stop-index=\"264\">\n+                                                <owner name=\"i\" start-index=\"255\" stop-index=\"255\"/>\n                                             </column-right-value>\n                                         </predicate>\n                                     </and-predicate>\n                                 </joinSpecification>\n                             </join-table>\n                         </from>\n                         <where start-index=\"266\" stop-index=\"321\" literal-stop-index=\"322\">\n-                            <and-predicate>\n-                                <predicate start-index=\"272\" stop-index=\"290\">\n-                                    <column-left-value name=\"user_id\" start-index=\"272\" stop-index=\"280\">\n-                                        <owner name=\"o\" start-index=\"272\" stop-index=\"272\" />\n-                                    </column-left-value>\n-                                    <in-right-value>\n-                                        <parameter-marker-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n-                                        <parameter-marker-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n-                                        <literal-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n-                                        <literal-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n-                                    </in-right-value>\n-                                </predicate>\n-                                <predicate start-index=\"296\" stop-index=\"321\" literal-stop-index=\"322\">\n-                                    <column-left-value name=\"order_id\" start-index=\"296\" stop-index=\"305\">\n-                                        <owner name=\"o\" start-index=\"296\" stop-index=\"296\" />\n-                                    </column-left-value>\n-                                    <between-right-value>\n-                                        <between-parameter-marker-expression value=\"3\" start-index=\"315\" stop-index=\"315\" />\n-                                        <and-parameter-marker-expression value=\"4\" start-index=\"321\" stop-index=\"321\" />\n-                                        <between-literal-expression value=\"9\" start-index=\"315\" stop-index=\"315\" />\n-                                        <and-literal-expression value=\"10\" start-index=\"321\" stop-index=\"322\" />\n-                                    </between-right-value>\n-                                </predicate>\n-                            </and-predicate>\n+                            <expr>\n+                                <binary-operation-expression start-index=\"272\" stop-index=\"321\" literal-stop-index=\"322\">\n+                                    <left>\n+                                        <in-expression start-index=\"272\" stop-index=\"290\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"user_id\" start-index=\"272\" stop-index=\"280\">\n+                                                    <owner name=\"o\" start-index=\"272\" stop-index=\"272\" />\n+                                                </column>\n+                                            </left>\n+                                            <right>\n+                                                <list-expression start-index=\"285\" stop-index=\"290\">\n+                                                    <items>\n+                                                        <literal-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n+                                                        <parameter-marker-expression value=\"1\" start-index=\"286\" stop-index=\"286\" />\n+                                                    </items>\n+                                                    <items>\n+                                                        <literal-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n+                                                        <parameter-marker-expression value=\"2\" start-index=\"289\" stop-index=\"289\" />\n+                                                    </items>\n+                                                </list-expression>\n+                                            </right>\n+                                        </in-expression>\n+                                    </left>\n+                                    <operator>AND</operator>\n+                                    <right>\n+                                        <between-expression start-index=\"296\" stop-index=\"321\" literal-stop-index=\"322\">\n+                                            <not>false</not>\n+                                            <left>\n+                                                <column name=\"order_id\" start-index=\"296\" stop-index=\"305\">\n+                                                    <owner name=\"o\" start-index=\"296\" stop-index=\"296\" />\n+                                                </column>\n+                                            </left>\n+                                            <between-expr>\n+                                                <literal-expression value=\"9\" start-index=\"315\" stop-index=\"315\" />\n+                                                <parameter-marker-expression value=\"3\" start-index=\"315\" stop-index=\"315\" />\n+                                            </between-expr>\n+                                            <and-expr>\n+                                                <literal-expression value=\"10\" start-index=\"321\" stop-index=\"322\" />\n+                                                <parameter-marker-expression value=\"4\" start-index=\"321\" stop-index=\"321\" />\n+                                            </and-expr>\n+                                        </between-expression>\n+                                    </right>\n+                                </binary-operation-expression>\n+                            </expr>\n                         </where>\n                         <group-by>\n-                            <column-item name=\"user_id\" start-index=\"332\" stop-index=\"340\" literal-start-index=\"333\" literal-stop-index=\"341\">\n-                                <owner name=\"i\" start-index=\"332\" stop-index=\"332\" literal-start-index=\"333\" literal-stop-index=\"333\" />\n+                            <column-item name=\"user_id\" start-index=\"332\" stop-index=\"340\"\n+                                         literal-start-index=\"333\" literal-stop-index=\"341\">\n+                                <owner name=\"i\" start-index=\"332\" stop-index=\"332\"\n+                                       literal-start-index=\"333\" literal-stop-index=\"333\"/>\n                             </column-item>\n                         </group-by>\n                     </select>\n                 </subquery>\n             </subquery-table>\n         </from>\n         <where start-index=\"351\" stop-index=\"372\" literal-start-index=\"352\" literal-stop-index=\"373\">\n-            <and-predicate>\n-                <predicate start-index=\"357\" stop-index=\"372\" literal-start-index=\"358\" literal-stop-index=\"373\">\n-                    <column-left-value start-index=\"357\" stop-index=\"368\" literal-start-index=\"358\" literal-stop-index=\"369\" name=\"rownum_\">\n-                        <owner start-index=\"357\" stop-index=\"360\" literal-start-index=\"358\" literal-stop-index=\"361\" name=\"row_\" />\n-                    </column-left-value>\n-                    <operator type=\"&gt;\" />\n-                    <compare-right-value>\n-                        <parameter-marker-expression start-index=\"372\" stop-index=\"372\" value=\"5\" />\n-                        <literal-expression start-index=\"373\" stop-index=\"373\" value=\"6\" />\n-                    </compare-right-value>\n-                </predicate>\n-            </and-predicate>\n+            <expr>\n+                <binary-operation-expression start-index=\"357\" stop-index=\"372\" literal-start-index=\"358\" literal-stop-index=\"373\">\n+                    <left>\n+                        <column name=\"rownum_\" start-index=\"357\" stop-index=\"368\" literal-start-index=\"358\" literal-stop-index=\"369\">\n+                            <owner name=\"row_\" start-index=\"357\" stop-index=\"360\" literal-start-index=\"358\" literal-stop-index=\"361\" />\n+                        </column>\n+                    </left>\n+                    <operator>&gt;</operator>\n+                    <right>\n+                        <literal-expression value=\"6\" start-index=\"373\" stop-index=\"373\" />\n+                        <parameter-marker-expression value=\"5\" start-index=\"372\" stop-index=\"372\" />\n+                    </right>\n+                </binary-operation-expression>\n+            </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_pagination_with_top_and_diff_group_by_and_order_by_and_parentheses\" parameters=\"3, 1, 2, 9, 10, 6\">\n+    <select sql-case-id=\"select_pagination_with_top_and_diff_group_by_and_order_by_and_parentheses\"\n+            parameters=\"3, 1, 2, 9, 10, 6\">\n         <projections start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n         </projections>\n         <from>\n             <subquery-table alias=\"row_\">\n                 <subquery>\n                     <select>\n                         <projections start-index=\"22\" stop-index=\"160\">\n                             <top-projection alias=\"rownum_\" start-index=\"22\" stop-index=\"72\">\n-                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"27\" stop-index=\"27\" />\n+                                <top-value value=\"3\" parameter-index=\"0\" start-index=\"27\"\n+                                           stop-index=\"27\"/>", "originalCommit": "a6a036067871b912c710d7988c971a3dbd26aaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI5NTY1Nw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543295657", "bodyText": "@jingshanglu OK, I will reformat them.", "author": "lwtdev", "createdAt": "2020-12-15T12:20:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE0OTQ5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE2NzIyMw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543167223", "bodyText": "@lwtdev Like this, maybe it's better to go to assert actual based on expect.", "author": "jingshanglu", "createdAt": "2020-12-15T09:07:56Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/java/org/apache/shardingsphere/test/sql/parser/parameterized/asserts/segment/expression/ExpressionAssert.java", "diffHunk": "@@ -65,7 +87,7 @@ public static void assertParameterMarkerExpression(final SQLCaseAssertContext as\n      */\n     public static void assertLiteralExpression(final SQLCaseAssertContext assertContext,\n                                                 final LiteralExpressionSegment actual, final ExpectedLiteralExpression expected) {\n-        assertNotNull(assertContext.getText(\"Expected literal expression should exist.\"));\n+        assertNotNull(assertContext.getText(\"Expected literal expression should exist.\"), expected);", "originalCommit": "a6a036067871b912c710d7988c971a3dbd26aaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI5NTc0Mw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543295743", "bodyText": "@jingshanglu OK, I will modify it.", "author": "lwtdev", "createdAt": "2020-12-15T12:20:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE2NzIyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg0MDIyOQ==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543840229", "bodyText": "@lwtdev Like this, it will reduce the coverage of test cases. can you use other methods?", "author": "jingshanglu", "createdAt": "2020-12-16T02:28:18Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/sql/supported/dml/select.xml", "diffHunk": "@@ -46,9 +47,9 @@\n     <sql-case id=\"select_keyword_table_name_with_square_brackets\" value=\"SELECT i.* FROM t_order o JOIN t_order_item i ON o.user_id = i.user_id AND o.order_id = i.order_id JOIN [select] c ON o.status = c.status WHERE o.user_id IN (?, ?) AND o.order_id BETWEEN ? AND ? AND c.status = ? ORDER BY i.item_id\" db-types=\"SQLServer\" />\n     <sql-case id=\"select_alias_as_keyword\" value=\"SELECT length.item_id password FROM t_order_item length where length.item_id = ? \" db-types=\"MySQL,H2,SQLServer,Oracle\" />\n     <sql-case id=\"select_with_force_index_join\" value=\"SELECT i.* FROM t_order o FORCE INDEX(order_index) JOIN t_order_item i ON o.order_id=i.order_id WHERE o.order_id = ?\" db-types=\"MySQL\" />\n-    <sql-case id=\"select_equal_with_geography\" value=\"SELECT * FROM t_order WHERE rule = ?::jsonb AND start_point=ST_GeographyFromText('SRID=4326;POINT('||?||' '||?||')') AND user_id = ? AND order_id = ?\" db-types=\"PostgreSQL\" />\n-    <sql-case id=\"select_in_with_geography\" value=\"SELECT * FROM t_order WHERE rule IN (?::jsonb, ?::jsonb) AND start_point=ST_GeographyFromText('SRID=4326;POINT('||?||' '||?||')') AND user_id = ? AND order_id = ?\" db-types=\"PostgreSQL\" />\n-    <sql-case id=\"select_between_with_geography\" value=\"SELECT * FROM t_order WHERE rule BETWEEN ?::jsonb AND ?::jsonb AND start_point=ST_GeographyFromText('SRID=4326;POINT('||?||' '||?||')') AND order_id = ?\" db-types=\"PostgreSQL\" />\n+    <sql-case id=\"select_equal_with_geography\" value=\"SELECT * FROM t_order WHERE rule = '{&quot;rule2&quot;:&quot;null2&quot;}'::jsonb AND start_point=ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')') AND user_id = ? AND order_id = ?\" db-types=\"PostgreSQL\" />\n+    <sql-case id=\"select_in_with_geography\" value=\"SELECT * FROM t_order WHERE rule IN ('{&quot;rule2&quot;:&quot;null2&quot;}'::jsonb, '{&quot;rule3&quot;:&quot;null3&quot;}'::jsonb) AND start_point=ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')') AND user_id = ? AND order_id = ?\" db-types=\"PostgreSQL\" />\n+    <sql-case id=\"select_between_with_geography\" value=\"SELECT * FROM t_order WHERE rule BETWEEN '{&quot;rule2&quot;:&quot;null2&quot;}'::jsonb AND '{&quot;rule3&quot;:&quot;null3&quot;}'::jsonb AND start_point=ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')') AND order_id = ?\" db-types=\"PostgreSQL\" />", "originalCommit": "a6a036067871b912c710d7988c971a3dbd26aaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg1NjM2Ng==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543856366", "bodyText": "@lwtdev Like this, it will reduce the coverage of test cases. can you use other methods?\n\nActually, I check the parse result of the sql,  '?'  was be parsed  as a common expression.\nBut, it is reasonable to not reduce the coverage of PostgreSQLDMLStatementSQLVisitor.java, I will check the reasons.", "author": "lwtdev", "createdAt": "2020-12-16T02:49:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg0MDIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg3MTgyNw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543871827", "bodyText": "@lwtdev I mean, the test case does not cover the following SQL when it is changed.\nSELECT * FROM t_order WHERE rule = ?::jsonb AND start_point=ST_GeographyFromText('SRID=4326;POINT('||?||' '||?||')') AND user_id = ? AND order_id = ?", "author": "jingshanglu", "createdAt": "2020-12-16T03:09:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg0MDIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg5OTE0NQ==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r543899145", "bodyText": "I moved this case (which with parameter marker in geography) to unsupported test case. only keep sql areadly filled parameters.", "author": "lwtdev", "createdAt": "2020-12-16T03:46:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg0MDIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjMyMTg2NA==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546321864", "bodyText": "Keep the original sql case, use literal-text to solve this problem.", "author": "lwtdev", "createdAt": "2020-12-20T04:52:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzg0MDIyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NTAxMQ==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546475011", "bodyText": "@lwtdev merge to one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:06:22Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select-expression.xml", "diffHunk": "@@ -1498,30 +1520,34 @@\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_where_with_simple_expr_with_match\">\n+    <select sql-case-id=\"select_where_with_simple_expr_with_match\" parameters=\"'keyword'\">\n         <from start-index=\"14\" stop-index=\"20\">\n-            <simple-table name=\"t_order\" start-index=\"14\" stop-index=\"20\"/>\n+            <simple-table name=\"t_order\" start-index=\"14\" stop-index=\"20\" />\n         </from>\n-        <projections distinct-row=\"false\" start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n+        <projections start-index=\"7\" stop-index=\"7\">\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n         </projections>\n-        <where start-index=\"22\" stop-index=\"88\">\n+        <where start-index=\"22\" stop-index=\"80\" literal-stop-index=\"88\">\n             <expr>\n-                <common-expression text=\"MATCH (order_id) AGAINST ('keyword' IN NATURAL LANGUAGE MODE)\" start-index=\"28\" stop-index=\"88\"/>\n+                <common-expression text=\"MATCH (order_id) AGAINST (? IN NATURAL LANGUAGE MODE)\"\n+                                   literal-text=\"MATCH (order_id) AGAINST ('keyword' IN NATURAL LANGUAGE MODE)\"\n+                                   start-index=\"28\" stop-index=\"80\" literal-stop-index=\"88\"/>\n             </expr>\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_where_with_simple_expr_with_case\">\n+    <select sql-case-id=\"select_where_with_simple_expr_with_case\" parameters=\"1,'true','false'\">\n         <from start-index=\"14\" stop-index=\"20\">\n-            <simple-table name=\"t_order\" start-index=\"14\" stop-index=\"20\"/>\n+            <simple-table name=\"t_order\" start-index=\"14\" stop-index=\"20\" />\n         </from>\n-        <projections distinct-row=\"false\" start-index=\"7\" stop-index=\"7\">\n-            <shorthand-projection start-index=\"7\" stop-index=\"7\"/>\n+        <projections start-index=\"7\" stop-index=\"7\">\n+            <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n         </projections>\n-        <where start-index=\"22\" stop-index=\"78\">\n+        <where start-index=\"22\" stop-index=\"67\" literal-stop-index=\"78\">\n             <expr>\n-                <common-expression text=\"CASE WHEN order_id &gt; 2 THEN 'true' ELSE 'false' END\" start-index=\"28\" stop-index=\"78\"/>\n+                <common-expression text=\"CASE WHEN order_id &gt; ? THEN ? ELSE ? END\"\n+                                   literal-text=\"CASE WHEN order_id > 1 THEN 'true' ELSE 'false' END\"\n+                                   start-index=\"28\" stop-index=\"67\" literal-stop-index=\"78\" />", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NTcwOQ==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546475709", "bodyText": "@lwtdev merge into one line", "author": "jingshanglu", "createdAt": "2020-12-21T02:09:56Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -652,54 +652,59 @@\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_count_like_concat\" parameters=\"1, 2, 9, 10\">\n+    <select sql-case-id=\"select_count_like_concat\" parameters=\"'init', 1, 2, 9, 10\">\n         <from>\n             <simple-table name=\"t_order\" alias=\"o\" start-index=\"37\" stop-index=\"45\" />\n         </from>\n         <projections start-index=\"7\" stop-index=\"30\">\n             <aggregation-projection type=\"COUNT\" inner-expression=\"(0)\" alias=\"orders_count\" start-index=\"7\" stop-index=\"14\" />\n         </projections>\n-        <where start-index=\"47\" stop-index=\"147\" literal-stop-index=\"148\">\n+        <where start-index=\"47\" stop-index=\"142\" literal-stop-index=\"148\">\n             <expr>\n-                <binary-operation-expression start-index=\"53\" stop-index=\"147\" literal-stop-index=\"148\">\n+                <binary-operation-expression start-index=\"53\" stop-index=\"142\" literal-stop-index=\"148\">\n                     <left>\n-                        <binary-operation-expression start-index=\"53\" stop-index=\"116\">\n+                        <binary-operation-expression start-index=\"53\" stop-index=\"111\" literal-stop-index=\"116\">\n                             <left>\n-                                <binary-operation-expression start-index=\"53\" stop-index=\"92\">\n+                                <common-expression text=\"o.status LIKE CONCAT('%%', ?, '%%')\"\n+                                                   literal-text=\"o.status LIKE CONCAT('%%', 'init', '%%')\"\n+                                                   start-index=\"53\" stop-index=\"87\" literal-stop-index=\"92\"/>\n+", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NTc3OA==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546475778", "bodyText": "@lwtdev merge into one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:10:22Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -652,54 +652,59 @@\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_count_like_concat\" parameters=\"1, 2, 9, 10\">\n+    <select sql-case-id=\"select_count_like_concat\" parameters=\"'init', 1, 2, 9, 10\">\n         <from>\n             <simple-table name=\"t_order\" alias=\"o\" start-index=\"37\" stop-index=\"45\" />\n         </from>\n         <projections start-index=\"7\" stop-index=\"30\">\n             <aggregation-projection type=\"COUNT\" inner-expression=\"(0)\" alias=\"orders_count\" start-index=\"7\" stop-index=\"14\" />\n         </projections>\n-        <where start-index=\"47\" stop-index=\"147\" literal-stop-index=\"148\">\n+        <where start-index=\"47\" stop-index=\"142\" literal-stop-index=\"148\">\n             <expr>\n-                <binary-operation-expression start-index=\"53\" stop-index=\"147\" literal-stop-index=\"148\">\n+                <binary-operation-expression start-index=\"53\" stop-index=\"142\" literal-stop-index=\"148\">\n                     <left>\n-                        <binary-operation-expression start-index=\"53\" stop-index=\"116\">\n+                        <binary-operation-expression start-index=\"53\" stop-index=\"111\" literal-stop-index=\"116\">\n                             <left>\n-                                <binary-operation-expression start-index=\"53\" stop-index=\"92\">\n+                                <common-expression text=\"o.status LIKE CONCAT('%%', ?, '%%')\"\n+                                                   literal-text=\"o.status LIKE CONCAT('%%', 'init', '%%')\"\n+                                                   start-index=\"53\" stop-index=\"87\" literal-stop-index=\"92\"/>\n+\n+                                <binary-operation-expression start-index=\"53\" stop-index=\"87\" literal-stop-index=\"92\">\n                                     <left>\n                                         <column name=\"status\" start-index=\"53\" stop-index=\"60\">\n                                             <owner name=\"o\" start-index=\"53\" stop-index=\"53\" />\n                                         </column>\n                                     </left>\n                                     <operator>LIKE</operator>\n                                     <right>\n-                                        <list-expression start-index=\"67\" stop-index=\"92\">\n+                                        <list-expression start-index=\"67\" stop-index=\"87\">\n                                             <items>\n-                                                <expression-projection text=\"CONCAT('%%', 'init', '%%')\" start-index=\"67\" stop-index=\"92\" />\n+                                                <expression-projection text=\"CONCAT('%%', ?, '%%')\"\n+                                                                       literal-text=\"CONCAT('%%', 'init', '%%')\"\n+                                                                       start-index=\"67\" stop-index=\"87\" literal-stop-index=\"92\" />", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NTk0OQ==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546475949", "bodyText": "@lwtdev  merge into one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:11:28Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -731,54 +736,60 @@\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_count_like_concat_for_oracle_and_sqlserver\" parameters=\"1, 2, 9, 10\">\n+    <select sql-case-id=\"select_count_like_concat_oracle_sqlserver\" parameters=\"'init', 1, 2, 9, 10\">\n         <from>\n             <simple-table name=\"t_order\" alias=\"o\" start-index=\"37\" stop-index=\"45\" />\n         </from>\n         <projections start-index=\"7\" stop-index=\"30\">\n             <aggregation-projection type=\"COUNT\" inner-expression=\"(0)\" alias=\"orders_count\" start-index=\"7\" stop-index=\"14\" />\n         </projections>\n-        <where start-index=\"47\" stop-index=\"147\" literal-stop-index=\"148\">\n+        <where start-index=\"47\" stop-index=\"142\" literal-stop-index=\"148\">\n             <expr>\n-                <binary-operation-expression start-index=\"53\" stop-index=\"147\" literal-stop-index=\"148\">\n+                <binary-operation-expression start-index=\"53\" stop-index=\"142\" literal-stop-index=\"148\">\n                     <left>\n-                        <binary-operation-expression start-index=\"53\" stop-index=\"116\">\n+                        <binary-operation-expression start-index=\"53\" stop-index=\"111\" literal-stop-index=\"116\">\n                             <left>\n-                                <binary-operation-expression start-index=\"53\" stop-index=\"92\">\n+                                <common-expression text=\"o.status LIKE CONCAT('%%', ?, '%%')\"\n+                                                   literal-text=\"o.status LIKE CONCAT('%%', 'init', '%%')\"\n+                                                   start-index=\"53\" stop-index=\"87\" literal-stop-index=\"92\"/>\n+", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NjAzMw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546476033", "bodyText": "@lwtdev merge into one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:11:56Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -731,54 +736,60 @@\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_count_like_concat_for_oracle_and_sqlserver\" parameters=\"1, 2, 9, 10\">\n+    <select sql-case-id=\"select_count_like_concat_oracle_sqlserver\" parameters=\"'init', 1, 2, 9, 10\">\n         <from>\n             <simple-table name=\"t_order\" alias=\"o\" start-index=\"37\" stop-index=\"45\" />\n         </from>\n         <projections start-index=\"7\" stop-index=\"30\">\n             <aggregation-projection type=\"COUNT\" inner-expression=\"(0)\" alias=\"orders_count\" start-index=\"7\" stop-index=\"14\" />\n         </projections>\n-        <where start-index=\"47\" stop-index=\"147\" literal-stop-index=\"148\">\n+        <where start-index=\"47\" stop-index=\"142\" literal-stop-index=\"148\">\n             <expr>\n-                <binary-operation-expression start-index=\"53\" stop-index=\"147\" literal-stop-index=\"148\">\n+                <binary-operation-expression start-index=\"53\" stop-index=\"142\" literal-stop-index=\"148\">\n                     <left>\n-                        <binary-operation-expression start-index=\"53\" stop-index=\"116\">\n+                        <binary-operation-expression start-index=\"53\" stop-index=\"111\" literal-stop-index=\"116\">\n                             <left>\n-                                <binary-operation-expression start-index=\"53\" stop-index=\"92\">\n+                                <common-expression text=\"o.status LIKE CONCAT('%%', ?, '%%')\"\n+                                                   literal-text=\"o.status LIKE CONCAT('%%', 'init', '%%')\"\n+                                                   start-index=\"53\" stop-index=\"87\" literal-stop-index=\"92\"/>\n+\n+                                <binary-operation-expression start-index=\"53\" stop-index=\"87\" literal-stop-index=\"92\">\n                                     <left>\n                                         <column name=\"status\" start-index=\"53\" stop-index=\"60\">\n                                             <owner name=\"o\" start-index=\"53\" stop-index=\"53\" />\n                                         </column>\n                                     </left>\n                                     <operator>LIKE</operator>\n                                     <right>\n-                                        <list-expression start-index=\"67\" stop-index=\"92\">\n+                                        <list-expression start-index=\"67\" stop-index=\"87\">\n                                             <items>\n-                                                <expression-projection text=\"CONCAT('%%','init','%%')\" start-index=\"67\" stop-index=\"92\" />\n+                                                <!-- 'text' is different from other database -->\n+                                                <expression-projection text=\"CONCAT('%%',?,'%%')\"\n+                                                                       literal-text=\"CONCAT('%%','init','%%')\"\n+                                                                       start-index=\"67\" stop-index=\"87\" literal-stop-index=\"92\" />", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NjE4Mw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546476183", "bodyText": "@lwtdev merge into one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:12:52Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -1618,70 +1631,73 @@\n         </where>\n     </select>\n \n-    <select sql-case-id=\"select_equal_with_geography\" parameters=\"1, 2\">\n+    <select sql-case-id=\"select_equal_with_geography\" parameters=\"'{&quot;rule2&quot;:&quot;null2&quot;}', 100, 200, 1, 2\">\n         <from>\n             <simple-table name=\"t_order\" start-index=\"14\" stop-index=\"20\" />\n         </from>\n         <projections start-index=\"7\" stop-index=\"7\">\n             <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n         </projections>\n-        <where start-index=\"22\" stop-index=\"170\">\n+        <where start-index=\"22\" stop-index=\"148\" literal-stop-index=\"170\">\n             <expr>\n-                <binary-operation-expression start-index=\"28\" stop-index=\"170\">\n+                <binary-operation-expression start-index=\"28\" stop-index=\"148\" literal-stop-index=\"170\">\n                     <left>\n-                        <binary-operation-expression start-index=\"28\" stop-index=\"153\">\n+                        <binary-operation-expression start-index=\"28\" stop-index=\"131\" literal-stop-index=\"153\">\n                             <left>\n-                                <binary-operation-expression start-index=\"28\" stop-index=\"137\">\n+                                <binary-operation-expression start-index=\"28\" stop-index=\"115\" literal-stop-index=\"137\">\n                                     <left>\n-                                        <binary-operation-expression start-index=\"28\" stop-index=\"60\">\n+                                        <binary-operation-expression start-index=\"28\" stop-index=\"42\" literal-stop-index=\"60\">\n                                             <left>\n                                                 <column name=\"rule\" start-index=\"28\" stop-index=\"31\" />\n                                             </left>\n                                             <operator>=</operator>\n                                             <right>\n                                                 <common-expression text=\"'{&quot;rule2&quot;:&quot;null2&quot;}'::jsonb\" start-index=\"35\" stop-index=\"60\" />\n+                                                <parameter-marker-expression value=\"0\" start-index=\"35\" stop-index=\"42\" />\n                                             </right>\n                                         </binary-operation-expression>\n                                     </left>\n                                     <operator>AND</operator>\n                                     <right>\n-                                        <binary-operation-expression start-index=\"66\" stop-index=\"137\">\n+                                        <binary-operation-expression start-index=\"48\" stop-index=\"115\" literal-start-index=\"66\" literal-stop-index=\"137\">\n                                             <left>\n-                                                <column name=\"start_point\" start-index=\"66\" stop-index=\"76\" />\n+                                                <column name=\"start_point\" start-index=\"48\" stop-index=\"58\" literal-start-index=\"66\" literal-stop-index=\"76\" />\n                                             </left>\n                                             <operator>=</operator>\n                                             <right>\n-                                                <common-expression text=\"ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')')\" start-index=\"78\" stop-index=\"137\" />\n+                                                <common-expression text=\"ST_GeographyFromText('SRID=4326;POINT('||?||' '||?||')')\"\n+                                                                   literal-text=\"ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')')\"\n+                                                                   start-index=\"60\" stop-index=\"115\" literal-start-index=\"78\" literal-stop-index=\"137\" />", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NjMzMw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546476333", "bodyText": "@lwtdev merge into one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:13:36Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -1800,33 +1821,36 @@\n                                     </between-expr>\n                                     <and-expr>\n                                         <common-expression text=\"'{&quot;rule3&quot;:&quot;null3&quot;}'::jsonb\" start-index=\"72\" stop-index=\"97\" />\n+                                        <parameter-marker-expression value=\"1\" start-index=\"54\" stop-index=\"61\" />\n                                     </and-expr>\n                                 </between-expression>\n                             </left>\n                             <operator>AND</operator>\n                             <right>\n-                                <binary-operation-expression start-index=\"103\" stop-index=\"174\">\n+                                <binary-operation-expression start-index=\"67\" stop-index=\"134\" literal-start-index=\"103\" literal-stop-index=\"174\">\n                                     <left>\n-                                        <column name=\"start_point\" start-index=\"103\" stop-index=\"113\" />\n+                                        <column name=\"start_point\" start-index=\"67\" stop-index=\"77\" literal-start-index=\"103\" literal-stop-index=\"113\" />\n                                     </left>\n                                     <operator>=</operator>\n                                     <right>\n-                                        <common-expression text=\"ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')')\" start-index=\"115\" stop-index=\"174\" />\n+                                        <common-expression text=\"ST_GeographyFromText('SRID=4326;POINT('||?||' '||?||')')\"\n+                                                           literal-text=\"ST_GeographyFromText('SRID=4326;POINT('||100||' '||200||')')\"\n+                                                           start-index=\"79\" stop-index=\"134\" literal-start-index=\"115\" literal-stop-index=\"174\" />", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ3NjQxNw==", "url": "https://github.com/apache/shardingsphere/pull/8604#discussion_r546476417", "bodyText": "@lwtdev merge into one line.", "author": "jingshanglu", "createdAt": "2020-12-21T02:14:00Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/resources/case/dml/select.xml", "diffHunk": "@@ -2547,29 +2571,32 @@\n             <expression-projection text=\"CURRENT_USER\" start-index=\"7\" stop-index=\"18\" />\n         </projections>\n     </select>\n-    <select sql-case-id=\"select_with_match_against\" parameters=\"10\">\n+\n+    <select sql-case-id=\"select_with_match_against\" parameters=\"'hello', 10\">\n         <from>\n             <simple-table name=\"t_order_item\" start-index=\"14\" stop-index=\"25\" />\n         </from>\n         <projections start-index=\"7\" stop-index=\"7\">\n             <shorthand-projection start-index=\"7\" stop-index=\"7\" />\n         </projections>\n-        <where start-index=\"27\" stop-index=\"122\" literal-stop-index=\"123\">\n+        <where start-index=\"27\" stop-index=\"116\" literal-stop-index=\"123\">\n             <expr>\n-                <binary-operation-expression start-index=\"33\" stop-index=\"122\" literal-stop-index=\"123\">\n+                <binary-operation-expression start-index=\"33\" stop-index=\"116\" literal-stop-index=\"123\">\n                     <left>\n-                        <common-expression text=\"MATCH(t_order_item.description) AGAINST ('hello' IN NATURAL LANGUAGE MODE)\" start-index=\"33\" stop-index=\"106\" />\n+                        <common-expression text=\"MATCH(t_order_item.description) AGAINST (? IN NATURAL LANGUAGE MODE)\"\n+                                           literal-text=\"MATCH(t_order_item.description) AGAINST ('hello' IN NATURAL LANGUAGE MODE)\"\n+                                           start-index=\"33\" stop-index=\"100\" literal-stop-index=\"106\"/>", "originalCommit": "32395bc32fe0928bff5fed652431a3eb8d5611c9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "44f2f8565e9bc9f7a287d7ea3beb30824abd4118", "url": "https://github.com/apache/shardingsphere/commit/44f2f8565e9bc9f7a287d7ea3beb30824abd4118", "message": "Add TableAssert for UpdateStatementAssert.\nAdd IdentifierValueAssert for ExpectedIndex, ExpectedColumnOrderByItem, ExpectedOwner, ExpectedSchema and ExpectedColumnProjection.\nAdd ExpressionAssert and test cases for select where with expr.\nAdjust the whereClause of the old test case.", "committedDate": "2020-12-21T04:42:43Z", "type": "commit"}, {"oid": "c55fa65490e1bf64048c776a56ffcdff6bcf2e5a", "url": "https://github.com/apache/shardingsphere/commit/c55fa65490e1bf64048c776a56ffcdff6bcf2e5a", "message": "Use the `replace` method instead of `String.format` to replace the parameters in sql.\nFormat sql parse cases.\nAssert actual base on expected in ExpressionAssert.\nAdd `literal-text` attribute in ExpressionProjection for the case which result is different between placeholder and literal mode.", "committedDate": "2020-12-21T04:42:43Z", "type": "commit"}, {"oid": "b1850401fa9de8047ac37ca971c10617cacdaab5", "url": "https://github.com/apache/shardingsphere/commit/b1850401fa9de8047ac37ca971c10617cacdaab5", "message": "Format code.", "committedDate": "2020-12-21T04:42:43Z", "type": "commit"}, {"oid": "ee290892fa78043bdb3222e634f5281a7462d9cc", "url": "https://github.com/apache/shardingsphere/commit/ee290892fa78043bdb3222e634f5281a7462d9cc", "message": "Fix test cases that use the old `expr` syntax.", "committedDate": "2020-12-21T06:42:25Z", "type": "commit"}, {"oid": "ee290892fa78043bdb3222e634f5281a7462d9cc", "url": "https://github.com/apache/shardingsphere/commit/ee290892fa78043bdb3222e634f5281a7462d9cc", "message": "Fix test cases that use the old `expr` syntax.", "committedDate": "2020-12-21T06:42:25Z", "type": "forcePushed"}]}