{"pr_number": 4682, "pr_title": "Refactor orchestration phase 1.1", "pr_createdAt": "2020-03-10T02:55:25Z", "pr_url": "https://github.com/apache/shardingsphere/pull/4682", "timeline": [{"oid": "ca4ab922dbf80d0ca10bc1452956dc6a6fda00a5", "url": "https://github.com/apache/shardingsphere/commit/ca4ab922dbf80d0ca10bc1452956dc6a6fda00a5", "message": "refactoring orchestration for polishing codes", "committedDate": "2020-03-09T13:38:10Z", "type": "commit"}, {"oid": "4f0ac13a860220836093d34e241d7b576302c0f5", "url": "https://github.com/apache/shardingsphere/commit/4f0ac13a860220836093d34e241d7b576302c0f5", "message": "Merge branch 'master' into refactorOrchestration", "committedDate": "2020-03-10T01:51:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3MzUxOA==", "url": "https://github.com/apache/shardingsphere/pull/4682#discussion_r390073518", "bodyText": "The result variable need to rename as result", "author": "terrymanu", "createdAt": "2020-03-10T03:15:12Z", "path": "sharding-orchestration/sharding-orchestration-center/sharding-orchestration-center-api/src/main/java/org/apache/shardingsphere/orchestration/center/yaml/swapper/InstanceConfigurationYamlSwapper.java", "diffHunk": "@@ -34,13 +34,13 @@\n      */\n     @Override\n     public YamlInstanceConfiguration swap(final InstanceConfiguration data) {\n-        YamlInstanceConfiguration result = new YamlInstanceConfiguration();\n-        result.setOrchestrationType(data.getOrchestrationType());\n-        result.setInstanceType(data.getType());\n-        result.setServerLists(data.getServerLists());\n-        result.setNamespace(data.getNamespace());\n-        result.setProps(data.getProperties());\n-        return result;\n+        YamlInstanceConfiguration yamlInstanceConfiguration = new YamlInstanceConfiguration();\n+        yamlInstanceConfiguration.setOrchestrationType(data.getOrchestrationType());\n+        yamlInstanceConfiguration.setInstanceType(data.getType());\n+        yamlInstanceConfiguration.setServerLists(data.getServerLists());\n+        yamlInstanceConfiguration.setNamespace(data.getNamespace());\n+        yamlInstanceConfiguration.setProps(data.getProperties());\n+        return yamlInstanceConfiguration;", "originalCommit": "4f0ac13a860220836093d34e241d7b576302c0f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3NDM0Mw==", "url": "https://github.com/apache/shardingsphere/pull/4682#discussion_r390074343", "bodyText": "The result variable need to rename as result\n\nwhy use result as variable name\uff1f", "author": "kimmking", "createdAt": "2020-03-10T03:18:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3MzUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA4MDQ2MA==", "url": "https://github.com/apache/shardingsphere/pull/4682#discussion_r390080460", "bodyText": "FIY: https://shardingsphere.apache.org/community/en/contribute/code-conduct/\nReturn values are named with result; Variables in the loop structure are named with each; Replace each with entry in map.", "author": "terrymanu", "createdAt": "2020-03-10T03:45:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3MzUxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3Mzk3Nw==", "url": "https://github.com/apache/shardingsphere/pull/4682#discussion_r390073977", "bodyText": "We need to avoid using guava, Arrays.asList can replace Lists.newArrayList", "author": "terrymanu", "createdAt": "2020-03-10T03:17:18Z", "path": "sharding-orchestration/sharding-orchestration-core/src/main/java/org/apache/shardingsphere/orchestration/constant/OrchestrationType.java", "diffHunk": "@@ -39,11 +40,6 @@\n      * @return OrchestrationType enum, return {@code null} if not found\n      */\n     public static OrchestrationType findByValue(final String value) {\n-        for (OrchestrationType each : OrchestrationType.values()) {\n-            if (each.getValue().equals(value)) {\n-                return each;\n-            }\n-        }\n-        return null;\n+        return Lists.newArrayList(OrchestrationType.values()).stream().filter(each -> each.getValue().equals(value)).findFirst().get();", "originalCommit": "4f0ac13a860220836093d34e241d7b576302c0f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3NDI0Mg==", "url": "https://github.com/apache/shardingsphere/pull/4682#discussion_r390074242", "bodyText": "We need to avoid using guava, Arrays.asList can replace Lists.newArrayList\n\nOK", "author": "kimmking", "createdAt": "2020-03-10T03:18:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA3Mzk3Nw=="}], "type": "inlineReview"}, {"oid": "59ddf5aba35b1f933d91d347c540cb1b0df09c49", "url": "https://github.com/apache/shardingsphere/commit/59ddf5aba35b1f933d91d347c540cb1b0df09c49", "message": "Polish codestyle and remove Lists.newArrayList", "committedDate": "2020-03-10T04:09:38Z", "type": "commit"}, {"oid": "ec72b085f712a6af364018b3c0b44e27b62f995c", "url": "https://github.com/apache/shardingsphere/commit/ec72b085f712a6af364018b3c0b44e27b62f995c", "message": "fix Arrays.asList can't be added", "committedDate": "2020-03-10T04:28:02Z", "type": "commit"}]}