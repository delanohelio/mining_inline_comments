{"pr_number": 3879, "pr_title": "fix proxy hang up while throwing a customize SQLException", "pr_createdAt": "2020-01-06T09:22:44Z", "pr_url": "https://github.com/apache/shardingsphere/pull/3879", "timeline": [{"oid": "883a51323b509f827cc5dd6d1903aa1b196b1ede", "url": "https://github.com/apache/shardingsphere/commit/883a51323b509f827cc5dd6d1903aa1b196b1ede", "message": "fix proxy hang up while throwing a customize SQLException", "committedDate": "2020-01-06T09:17:48Z", "type": "commit"}, {"oid": "1d41ac4aeabd931bad47f1c0058080283075d5d0", "url": "https://github.com/apache/shardingsphere/commit/1d41ac4aeabd931bad47f1c0058080283075d5d0", "message": "for checkstyle", "committedDate": "2020-01-06T09:23:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI5MDk3NQ==", "url": "https://github.com/apache/shardingsphere/pull/3879#discussion_r363290975", "bodyText": "Please use a SQL State instead of empty string if we can find a suitable one.", "author": "terrymanu", "createdAt": "2020-01-06T13:24:47Z", "path": "sharding-proxy/sharding-proxy-frontend/sharding-proxy-frontend-mysql/src/main/java/org/apache/shardingsphere/shardingproxy/frontend/mysql/MySQLErrPacketFactory.java", "diffHunk": "@@ -48,7 +48,7 @@\n     public static MySQLErrPacket newInstance(final int sequenceId, final Exception cause) {\n         if (cause instanceof SQLException) {\n             SQLException sqlException = (SQLException) cause;\n-            return new MySQLErrPacket(sequenceId, sqlException.getErrorCode(), sqlException.getSQLState(), sqlException.getMessage());\n+            return new MySQLErrPacket(sequenceId, sqlException.getErrorCode(), null != sqlException.getSQLState() ? sqlException.getSQLState() : \"\", sqlException.getMessage());", "originalCommit": "1d41ac4aeabd931bad47f1c0058080283075d5d0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bb705ada6519c77579b21b84d97935e2edec4cf7", "url": "https://github.com/apache/shardingsphere/commit/bb705ada6519c77579b21b84d97935e2edec4cf7", "message": "add MySQLServerErrorCode.ER_INTERNAL_ERROR", "committedDate": "2020-01-07T02:44:55Z", "type": "commit"}]}