{"pr_number": 8575, "pr_title": "add doc for sql format", "pr_createdAt": "2020-12-11T02:42:56Z", "pr_url": "https://github.com/apache/shardingsphere/pull/8575", "timeline": [{"oid": "a68d5e6590f9874cafe4d2d75e45c7982eb7c5be", "url": "https://github.com/apache/shardingsphere/commit/a68d5e6590f9874cafe4d2d75e45c7982eb7c5be", "message": "add doc for sql format", "committedDate": "2020-12-11T02:41:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY2ODk1Ng==", "url": "https://github.com/apache/shardingsphere/pull/8575#discussion_r540668956", "bodyText": "Could you put these SQL cases and their formatted result into a table? For example, one row of a table contains one SQL column and its formatted output in another column. Therefore users can get a quick comparison, I guess.", "author": "tristaZero", "createdAt": "2020-12-11T03:45:00Z", "path": "docs/document/content/features/sharding/principle/parse.cn.md", "diffHunk": "@@ -103,3 +103,108 @@ SQLVisitorEngine sqlVisitorEngine = new SQLVisitorEngine(databaseType, \"STATEMEN\n SQLStatement sqlStatement = sqlVisitorEngine.visit(tree);\n \n ```\n+\n+- SQL\u683c\u5f0f\u5316\n+\n+```\n+/**\n+ * databaseType type:String \u53ef\u80fd\u503c MySQL\n+ * useCache type:boolean \u662f\u5426\u4f7f\u7528\u7f13\u5b58\n+ * @return String\n+ */\n+ParseTree tree = new SQLParserEngine(databaseType).parse(sql, useCache); \n+SQLVisitorEngine sqlVisitorEngine = new SQLVisitorEngine(databaseType, \"FORMAT\");\n+String formatedSql = sqlVisitorEngine.visit(tree);\n+\n+//\u4f8b\u5b50\n+sql1 : select a+1 as b, name n from table1 join table2 where id=1 and name='lu';\n+sql2 : select id, name, age, sex, ss, yy from table1 where id=1;\n+sql3 : select id, name, age, count(*) as n, (select id, name, age, sex from table2 where id=2) as sid, yyyy from table1 where id=1;", "originalCommit": "a68d5e6590f9874cafe4d2d75e45c7982eb7c5be", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDc0NzY3NA==", "url": "https://github.com/apache/shardingsphere/pull/8575#discussion_r540747674", "bodyText": "@tristaZero Ok.", "author": "jingshanglu", "createdAt": "2020-12-11T07:39:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY2ODk1Ng=="}], "type": "inlineReview"}, {"oid": "37efbbb268d7677502267b091b9cd24bd6866161", "url": "https://github.com/apache/shardingsphere/commit/37efbbb268d7677502267b091b9cd24bd6866161", "message": "fix", "committedDate": "2020-12-11T07:03:53Z", "type": "commit"}]}