{"pr_number": 461, "pr_title": "Remove UI Assertions from `AffectedFilesResolverTest`", "pr_createdAt": "2020-05-05T18:40:45Z", "pr_url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461", "timeline": [{"oid": "92c36e286f8cec7f0414df64fb930179b7749118", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/92c36e286f8cec7f0414df64fb930179b7749118", "message": "JENKINS-62103: Remove UI Assertions\n\nCo-authored-by: DaAnda97 <andreas.riepl@gmx.net>", "committedDate": "2020-05-05T18:39:56Z", "type": "commit"}, {"oid": "c0b8ae2b1b26d771e23e8e43940b89b60361878e", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/c0b8ae2b1b26d771e23e8e43940b89b60361878e", "message": "JENKINS-62103: Modify Assertions\n\nCo-authored-by: DaAnda97 <andreas.riepl@gmx.net>", "committedDate": "2020-05-05T18:50:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQyOTE2NA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r426429164", "bodyText": "Da w\u00e4re noch die Idee gewesen, die Table zu pr\u00fcfen, analog zu meinem Kommentar  in #466 (comment)", "author": "uhafner", "createdAt": "2020-05-18T07:47:01Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/AffectedFilesResolverITest.java", "diffHunk": "@@ -232,55 +149,35 @@ public void shouldShowFileOutsideWorkspaceIfConfigured() {\n         recorder.setSourceDirectory(buildsFolder);\n \n         // First build: copying the affected file is forbidden\n-        TableRowPageObject unresolvedRow = buildAndVerifyFilesResolving(job,\n-                \"0 copied\", \"1 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n+        buildAndVerifyFilesResolving(job,\"0 copied\", \"1 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n \n         AnalysisResult result = getAnalysisResult(job.getLastCompletedBuild());\n         assertThat(result.getErrorMessages()).contains(\n                 String.format(\"Additional source directory '%s' must be registered in Jenkins system configuration\",\n                         buildsFolder));\n \n-        assertThat(unresolvedRow.hasLink(AFFECTED_FILE)).isFalse();\n \n         WarningsPluginConfiguration.getInstance().setSourceDirectories(\n                 Collections.singletonList(new SourceDirectory(buildsFolder)));\n \n         // Second build: copying the affected file is permitted\n-        TableRowPageObject resolvedRow = buildAndVerifyFilesResolving(job,\n-                \"1 copied\", \"0 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n-\n-        assertThat(resolvedRow.hasLink(AFFECTED_FILE)).isTrue();\n-\n-        SourceCodeView sourceCodeView = openSourceCode(resolvedRow);\n-        assertThat(sourceCodeView.getSourceCode()).contains(\"<io.jenkins.plugins.analysis.core.steps.IssuesRecorder>\");\n+        buildAndVerifyFilesResolving(job,\"1 copied\", \"0 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n     }\n \n-    private SourceCodeView openSourceCode(final TableRowPageObject resolvedRow) {\n-        return new SourceCodeView(resolvedRow.clickColumnLink(AFFECTED_FILE));\n-    }\n-\n-    private TableRowPageObject buildAndVerifyFilesResolving(final FreeStyleProject job, final String... resolveMessages) {\n+    private void buildAndVerifyFilesResolving(final FreeStyleProject job,\n+            final String... resolveMessages) {\n         AnalysisResult result = scheduleBuildAndAssertStatus(job, Result.SUCCESS);\n \n         assertThat(getConsoleLog(result)).contains(resolveMessages);\n \n-        TablePageObject issues = getIssuesTable(result);\n-        assertThat(issues.getColumnHeaders()).containsExactly(\n-                DETAILS, AFFECTED_FILE, SEVERITY, AGE);\n-        List<TableRowPageObject> rows = issues.getRows();\n-        assertThat(rows).hasSize(1);\n-        TableRowPageObject row = rows.get(0);\n-        assertThat(row.getValuesByColumnLabel()).contains(\n-                entry(DETAILS, \"foo defined but not used\"),\n-                entry(AFFECTED_FILE, \"config.xml:451\"),\n-                entry(SEVERITY, \"Normal\"));\n-        return row;\n-    }\n+        assertThat(result.getIssues()).hasSize(1);", "originalCommit": "c0b8ae2b1b26d771e23e8e43940b89b60361878e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3MDMyMA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r428270320", "bodyText": "Entsprechenden Test auf Severity und Filename hinzugef\u00fcgt.", "author": "DieAkuteSense", "createdAt": "2020-05-20T19:53:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQyOTE2NA=="}], "type": "inlineReview"}, {"oid": "0ba6c427c555d00b59c4f2b192c90e15715068b6", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/0ba6c427c555d00b59c4f2b192c90e15715068b6", "message": "JENKINS-62103: Test IssueRow", "committedDate": "2020-05-20T19:52:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMDQ5OQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r428330499", "bodyText": "Die Tests machen ja trotzdem noch Sinn? Lediglich die Assertion m\u00fcsste umgewandelt werden (Pseudocode):\nIssuesRow row = getIssuesModel(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n\nassertThat(row.getFilename()).contains(\"<a href=\");\n\ndeleteAffectedFilesInBuildFolder(result);\n\nrow = getIssuesModel(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\nassertThat(row.getFilename()).isEqualTo(\"filename:line\");", "author": "uhafner", "createdAt": "2020-05-20T21:55:56Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/AffectedFilesResolverITest.java", "diffHunk": "@@ -5,124 +5,46 @@\n import java.nio.file.Path;\n import java.nio.file.Paths;\n import java.util.Collections;\n-import java.util.List;\n-import java.util.NoSuchElementException;\n-import java.util.Set;\n \n import org.junit.Test;\n \n-import com.gargoylesoftware.htmlunit.html.HtmlPage;\n-\n import edu.hm.hafner.analysis.Issue;\n import edu.hm.hafner.analysis.Report;\n+import edu.hm.hafner.analysis.Severity;\n \n import hudson.FilePath;\n import hudson.model.FreeStyleProject;\n import hudson.model.Result;\n import hudson.model.Run;\n \n import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n-import io.jenkins.plugins.analysis.core.model.FileNameRenderer;\n+import io.jenkins.plugins.analysis.core.model.IssuesDetail;\n+import io.jenkins.plugins.analysis.core.model.IssuesModel.IssuesRow;\n+import io.jenkins.plugins.analysis.core.model.ResultAction;\n import io.jenkins.plugins.analysis.core.model.SourceDirectory;\n import io.jenkins.plugins.analysis.core.model.WarningsPluginConfiguration;\n import io.jenkins.plugins.analysis.core.steps.IssuesRecorder;\n import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n import io.jenkins.plugins.analysis.core.util.AffectedFilesResolver;\n import io.jenkins.plugins.analysis.warnings.Eclipse;\n import io.jenkins.plugins.analysis.warnings.Gcc4;\n-import io.jenkins.plugins.analysis.warnings.recorder.pageobj.DetailsTab;\n-import io.jenkins.plugins.analysis.warnings.recorder.pageobj.DetailsTab.TabType;\n-import io.jenkins.plugins.analysis.warnings.recorder.pageobj.SourceCodeView;\n-import io.jenkins.plugins.datatables.TablePageObject;\n-import io.jenkins.plugins.datatables.TableRowPageObject;\n \n-import static io.jenkins.plugins.analysis.warnings.recorder.MiscIssuesRecorderITest.*;\n import static org.assertj.core.api.Assertions.*;\n \n /**\n  * Integration tests for the class {@link AffectedFilesResolver}.\n  *\n  * @author Deniz Mardin\n  * @author Frank Christian Geyer\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n  */\n @SuppressWarnings(\"PMD.ExcessiveImports\")\n public class AffectedFilesResolverITest extends IntegrationTestWithJenkinsPerSuite {\n     private static final String FOLDER = \"affected-files\";\n     private static final String SOURCE_AFFECTED_FILE = FOLDER + \"/Main.java\";\n     private static final String ECLIPSE_REPORT = FOLDER + \"/eclipseOneAffectedAndThreeNotExistingFiles.txt\";\n     private static final String ECLIPSE_REPORT_ONE_AFFECTED_AFFECTED_FILE = FOLDER + \"/eclipseOneAffectedFile.txt\";\n-    private static final int ROW_NUMBER_ACTUAL_AFFECTED_FILE = 1;\n-\n-    /**\n-     * Verifies that the affected source code is copied and shown in the source code view. If the file is deleted in the\n-     * build folder, then the link to open the file disappears.\n-     */\n-    @Test\n-    public void shouldShowNoLinkIfSourceCodeHasBeenDeleted() {\n-        FreeStyleProject project = createEclipseProject();\n-        AnalysisResult result = scheduleBuildAndAssertStatus(project, Result.SUCCESS);\n-\n-        TableRowPageObject row = getIssuesTableRow(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n-        SourceCodeView sourceCodeView = new SourceCodeView(getSourceCodePage(result));\n-\n-        assertThat(row.hasLink(AFFECTED_FILE)).isTrue();\n-        assertThat(sourceCodeView.getSourceCode()).isEqualToIgnoringWhitespace(readSourceCode(project));\n-\n-        deleteAffectedFilesInBuildFolder(result);\n-\n-        row = getIssuesTableRow(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n-        assertThat(row.hasLink(AFFECTED_FILE)).isFalse();", "originalCommit": "0ba6c427c555d00b59c4f2b192c90e15715068b6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMDU3NA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r428330574", "bodyText": "s.o.", "author": "uhafner", "createdAt": "2020-05-20T21:56:06Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/AffectedFilesResolverITest.java", "diffHunk": "@@ -5,124 +5,46 @@\n import java.nio.file.Path;\n import java.nio.file.Paths;\n import java.util.Collections;\n-import java.util.List;\n-import java.util.NoSuchElementException;\n-import java.util.Set;\n \n import org.junit.Test;\n \n-import com.gargoylesoftware.htmlunit.html.HtmlPage;\n-\n import edu.hm.hafner.analysis.Issue;\n import edu.hm.hafner.analysis.Report;\n+import edu.hm.hafner.analysis.Severity;\n \n import hudson.FilePath;\n import hudson.model.FreeStyleProject;\n import hudson.model.Result;\n import hudson.model.Run;\n \n import io.jenkins.plugins.analysis.core.model.AnalysisResult;\n-import io.jenkins.plugins.analysis.core.model.FileNameRenderer;\n+import io.jenkins.plugins.analysis.core.model.IssuesDetail;\n+import io.jenkins.plugins.analysis.core.model.IssuesModel.IssuesRow;\n+import io.jenkins.plugins.analysis.core.model.ResultAction;\n import io.jenkins.plugins.analysis.core.model.SourceDirectory;\n import io.jenkins.plugins.analysis.core.model.WarningsPluginConfiguration;\n import io.jenkins.plugins.analysis.core.steps.IssuesRecorder;\n import io.jenkins.plugins.analysis.core.testutil.IntegrationTestWithJenkinsPerSuite;\n import io.jenkins.plugins.analysis.core.util.AffectedFilesResolver;\n import io.jenkins.plugins.analysis.warnings.Eclipse;\n import io.jenkins.plugins.analysis.warnings.Gcc4;\n-import io.jenkins.plugins.analysis.warnings.recorder.pageobj.DetailsTab;\n-import io.jenkins.plugins.analysis.warnings.recorder.pageobj.DetailsTab.TabType;\n-import io.jenkins.plugins.analysis.warnings.recorder.pageobj.SourceCodeView;\n-import io.jenkins.plugins.datatables.TablePageObject;\n-import io.jenkins.plugins.datatables.TableRowPageObject;\n \n-import static io.jenkins.plugins.analysis.warnings.recorder.MiscIssuesRecorderITest.*;\n import static org.assertj.core.api.Assertions.*;\n \n /**\n  * Integration tests for the class {@link AffectedFilesResolver}.\n  *\n  * @author Deniz Mardin\n  * @author Frank Christian Geyer\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n  */\n @SuppressWarnings(\"PMD.ExcessiveImports\")\n public class AffectedFilesResolverITest extends IntegrationTestWithJenkinsPerSuite {\n     private static final String FOLDER = \"affected-files\";\n     private static final String SOURCE_AFFECTED_FILE = FOLDER + \"/Main.java\";\n     private static final String ECLIPSE_REPORT = FOLDER + \"/eclipseOneAffectedAndThreeNotExistingFiles.txt\";\n     private static final String ECLIPSE_REPORT_ONE_AFFECTED_AFFECTED_FILE = FOLDER + \"/eclipseOneAffectedFile.txt\";\n-    private static final int ROW_NUMBER_ACTUAL_AFFECTED_FILE = 1;\n-\n-    /**\n-     * Verifies that the affected source code is copied and shown in the source code view. If the file is deleted in the\n-     * build folder, then the link to open the file disappears.\n-     */\n-    @Test\n-    public void shouldShowNoLinkIfSourceCodeHasBeenDeleted() {\n-        FreeStyleProject project = createEclipseProject();\n-        AnalysisResult result = scheduleBuildAndAssertStatus(project, Result.SUCCESS);\n-\n-        TableRowPageObject row = getIssuesTableRow(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n-        SourceCodeView sourceCodeView = new SourceCodeView(getSourceCodePage(result));\n-\n-        assertThat(row.hasLink(AFFECTED_FILE)).isTrue();\n-        assertThat(sourceCodeView.getSourceCode()).isEqualToIgnoringWhitespace(readSourceCode(project));\n-\n-        deleteAffectedFilesInBuildFolder(result);\n-\n-        row = getIssuesTableRow(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n-        assertThat(row.hasLink(AFFECTED_FILE)).isFalse();\n-    }\n-\n-    /**\n-     * Verifies that the affected source code is copied and shown in the source code view. If the file is made\n-     * unreadable in the build folder, then the link to open the file disappears.\n-     */\n-    @Test\n-    public void shouldShowNoLinkIfSourceCodeHasBeenMadeUnreadable() {\n-        FreeStyleProject project = createEclipseProject();\n-        AnalysisResult result = scheduleBuildAndAssertStatus(project, Result.SUCCESS);\n-\n-        TableRowPageObject row = getIssuesTableRow(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n-        assertThat(row.hasLink(AFFECTED_FILE)).isTrue();\n-\n-        makeAffectedFilesInBuildFolderUnreadable(result);\n-\n-        row = getIssuesTableRow(result, ROW_NUMBER_ACTUAL_AFFECTED_FILE);\n-        assertThat(row.hasLink(AFFECTED_FILE)).isFalse();", "originalCommit": "0ba6c427c555d00b59c4f2b192c90e15715068b6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMjgwNg==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r428332806", "bodyText": "Tell don't ask: issue.getBaseName()", "author": "uhafner", "createdAt": "2020-05-20T22:01:00Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/AffectedFilesResolverITest.java", "diffHunk": "@@ -232,55 +152,46 @@ public void shouldShowFileOutsideWorkspaceIfConfigured() {\n         recorder.setSourceDirectory(buildsFolder);\n \n         // First build: copying the affected file is forbidden\n-        TableRowPageObject unresolvedRow = buildAndVerifyFilesResolving(job,\n-                \"0 copied\", \"1 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n+        buildAndVerifyFilesResolving(job,\"0 copied\", \"1 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n \n         AnalysisResult result = getAnalysisResult(job.getLastCompletedBuild());\n         assertThat(result.getErrorMessages()).contains(\n                 String.format(\"Additional source directory '%s' must be registered in Jenkins system configuration\",\n                         buildsFolder));\n \n-        assertThat(unresolvedRow.hasLink(AFFECTED_FILE)).isFalse();\n \n         WarningsPluginConfiguration.getInstance().setSourceDirectories(\n                 Collections.singletonList(new SourceDirectory(buildsFolder)));\n \n         // Second build: copying the affected file is permitted\n-        TableRowPageObject resolvedRow = buildAndVerifyFilesResolving(job,\n-                \"1 copied\", \"0 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n-\n-        assertThat(resolvedRow.hasLink(AFFECTED_FILE)).isTrue();\n-\n-        SourceCodeView sourceCodeView = openSourceCode(resolvedRow);\n-        assertThat(sourceCodeView.getSourceCode()).contains(\"<io.jenkins.plugins.analysis.core.steps.IssuesRecorder>\");\n-    }\n-\n-    private SourceCodeView openSourceCode(final TableRowPageObject resolvedRow) {\n-        return new SourceCodeView(resolvedRow.clickColumnLink(AFFECTED_FILE));\n+        buildAndVerifyFilesResolving(job,\"1 copied\", \"0 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n     }\n \n-    private TableRowPageObject buildAndVerifyFilesResolving(final FreeStyleProject job, final String... resolveMessages) {\n+    private void buildAndVerifyFilesResolving(final FreeStyleProject job,\n+            final String... resolveMessages) {\n         AnalysisResult result = scheduleBuildAndAssertStatus(job, Result.SUCCESS);\n \n         assertThat(getConsoleLog(result)).contains(resolveMessages);\n \n-        TablePageObject issues = getIssuesTable(result);\n-        assertThat(issues.getColumnHeaders()).containsExactly(\n-                DETAILS, AFFECTED_FILE, SEVERITY, AGE);\n-        List<TableRowPageObject> rows = issues.getRows();\n-        assertThat(rows).hasSize(1);\n-        TableRowPageObject row = rows.get(0);\n-        assertThat(row.getValuesByColumnLabel()).contains(\n-                entry(DETAILS, \"foo defined but not used\"),\n-                entry(AFFECTED_FILE, \"config.xml:451\"),\n-                entry(SEVERITY, \"Normal\"));\n-        return row;\n+        assertThat(result.getIssues()).hasSize(1);\n+\n+        IssuesRow firstRow = getIssuesModel(result, 0);\n+        assertThat(firstRow.getSeverity()).contains(Severity.WARNING_NORMAL.getName());\n+        assertThat(firstRow.getFileName().getDisplay()).contains(\"config.xml:451\");\n+\n+        Issue issue = result.getIssues().get(0);\n+        String filename = issue.getFileName().substring(issue.getFileName().lastIndexOf(\"/\") + 1);", "originalCommit": "0ba6c427c555d00b59c4f2b192c90e15715068b6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1NTcxOQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r429655719", "bodyText": "Die Methode haben wir wohl einfach \u00fcbersehen... ;-)", "author": "DieAkuteSense", "createdAt": "2020-05-24T17:02:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMjgwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r428333145", "bodyText": "Hier noch das <a> link pr\u00fcfen", "author": "uhafner", "createdAt": "2020-05-20T22:01:51Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/AffectedFilesResolverITest.java", "diffHunk": "@@ -232,55 +152,46 @@ public void shouldShowFileOutsideWorkspaceIfConfigured() {\n         recorder.setSourceDirectory(buildsFolder);\n \n         // First build: copying the affected file is forbidden\n-        TableRowPageObject unresolvedRow = buildAndVerifyFilesResolving(job,\n-                \"0 copied\", \"1 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n+        buildAndVerifyFilesResolving(job,\"0 copied\", \"1 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n \n         AnalysisResult result = getAnalysisResult(job.getLastCompletedBuild());\n         assertThat(result.getErrorMessages()).contains(\n                 String.format(\"Additional source directory '%s' must be registered in Jenkins system configuration\",\n                         buildsFolder));\n \n-        assertThat(unresolvedRow.hasLink(AFFECTED_FILE)).isFalse();\n \n         WarningsPluginConfiguration.getInstance().setSourceDirectories(\n                 Collections.singletonList(new SourceDirectory(buildsFolder)));\n \n         // Second build: copying the affected file is permitted\n-        TableRowPageObject resolvedRow = buildAndVerifyFilesResolving(job,\n-                \"1 copied\", \"0 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n-\n-        assertThat(resolvedRow.hasLink(AFFECTED_FILE)).isTrue();\n-\n-        SourceCodeView sourceCodeView = openSourceCode(resolvedRow);\n-        assertThat(sourceCodeView.getSourceCode()).contains(\"<io.jenkins.plugins.analysis.core.steps.IssuesRecorder>\");\n-    }\n-\n-    private SourceCodeView openSourceCode(final TableRowPageObject resolvedRow) {\n-        return new SourceCodeView(resolvedRow.clickColumnLink(AFFECTED_FILE));\n+        buildAndVerifyFilesResolving(job,\"1 copied\", \"0 not in workspace\", \"0 not-found\", \"0 with I/O error\");\n     }\n \n-    private TableRowPageObject buildAndVerifyFilesResolving(final FreeStyleProject job, final String... resolveMessages) {\n+    private void buildAndVerifyFilesResolving(final FreeStyleProject job,\n+            final String... resolveMessages) {\n         AnalysisResult result = scheduleBuildAndAssertStatus(job, Result.SUCCESS);\n \n         assertThat(getConsoleLog(result)).contains(resolveMessages);\n \n-        TablePageObject issues = getIssuesTable(result);\n-        assertThat(issues.getColumnHeaders()).containsExactly(\n-                DETAILS, AFFECTED_FILE, SEVERITY, AGE);\n-        List<TableRowPageObject> rows = issues.getRows();\n-        assertThat(rows).hasSize(1);\n-        TableRowPageObject row = rows.get(0);\n-        assertThat(row.getValuesByColumnLabel()).contains(\n-                entry(DETAILS, \"foo defined but not used\"),\n-                entry(AFFECTED_FILE, \"config.xml:451\"),\n-                entry(SEVERITY, \"Normal\"));\n-        return row;\n+        assertThat(result.getIssues()).hasSize(1);\n+\n+        IssuesRow firstRow = getIssuesModel(result, 0);\n+        assertThat(firstRow.getSeverity()).contains(Severity.WARNING_NORMAL.getName());\n+        assertThat(firstRow.getFileName().getDisplay()).contains(\"config.xml:451\");", "originalCommit": "0ba6c427c555d00b59c4f2b192c90e15715068b6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1OTEyNg==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r429659126", "bodyText": "2 der 3 Tests, die die Methode aufrufen, um die Assertion durchzuf\u00fchren, haben an dieser Stelle keinen Link. Vermutlich wurde es vorher deshalb auch nicht gepr\u00fcft, kann das sein?", "author": "DieAkuteSense", "createdAt": "2020-05-24T17:43:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDczMDU4Nw==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r430730587", "bodyText": "Das habe ich wohl \u00fcbersehen. Wenn das so ist, w\u00e4re vielleicht ein Boolean Parameter sinnvoll, der dann entscheidet, ob mit oder ohne <a>?", "author": "uhafner", "createdAt": "2020-05-26T21:57:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTEwOTA1Mg==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r431109052", "bodyText": "Daf\u00fcr steck ich leider nicht tief genug drin, wie das Frontend des Jenkins zusammengebaut wird zur Laufzeit. Ich war schon erstaunt, dass in dem Java-Objekt ein HTML-String drin steckt....wirkt f\u00fcr mich so, als w\u00fcrde das Backend bereits Frontend-Code generieren?", "author": "DieAkuteSense", "createdAt": "2020-05-27T13:08:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE0NTI5NQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r431145295", "bodyText": "Genau, einige statische Analyse Tools erzeugen auch HTML messages.", "author": "uhafner", "createdAt": "2020-05-27T13:48:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE0ODQwNQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r431148405", "bodyText": "Ich dachte einfach folgenden Check (siehe alter Kommentar).\nif (isFileNameClickable) {\n    assertThat(row.getFilename()).contains(\"<a href=\");\n} \nelse {\n assertThat(row.getFilename()).doesNotContain(\"<a href=\");\n}", "author": "uhafner", "createdAt": "2020-05-27T13:52:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMwMjQ5MA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/461#discussion_r431302490", "bodyText": "Jetzt versteh ich glaub ich was Sie meinen. Den Boolean lediglich im Test halten; nicht als Teil des Objektes, das von Jenkins im \"Normalbetrieb\" verarbeitet wird. Das l\u00e4sst sich nat\u00fcrlich ohne gro\u00dfen Aufwand umsetzen.", "author": "DieAkuteSense", "createdAt": "2020-05-27T17:03:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzMzE0NQ=="}], "type": "inlineReview"}, {"oid": "78186e7b935fcb593218f410dd36918213ed12f4", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/78186e7b935fcb593218f410dd36918213ed12f4", "message": "JENKINS-62103: Reintroduce tests", "committedDate": "2020-05-24T17:42:31Z", "type": "commit"}, {"oid": "b49751fb11eea6b228b0a4072ddb59df24296d44", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/b49751fb11eea6b228b0a4072ddb59df24296d44", "message": "JENKINS-62103: Improve Test", "committedDate": "2020-05-27T19:20:57Z", "type": "commit"}, {"oid": "e87c2802a485d69fe356314440d9f5fa0b7fc54a", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/e87c2802a485d69fe356314440d9f5fa0b7fc54a", "message": "Update JENKINS-62103 from Upstream", "committedDate": "2020-05-27T19:30:23Z", "type": "commit"}]}