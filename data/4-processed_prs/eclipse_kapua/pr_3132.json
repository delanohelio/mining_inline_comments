{"pr_number": 3132, "pr_title": "Multi Factor Authentication user manual", "pr_createdAt": "2020-11-05T09:54:57Z", "pr_url": "https://github.com/eclipse/kapua/pull/3132", "timeline": [{"oid": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "url": "https://github.com/eclipse/kapua/commit/1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "message": "Multi Factor Authentication user manual added\n\nSigned-off-by: Gianluca Barbon <gianluca.barbon@eurotech.com>", "committedDate": "2020-11-05T10:01:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5Mjk4NQ==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518292985", "bodyText": "I think this should be change from \"...a user to authenticate to a system...\" to \"...a user to authenticate within a system...\" - what do you think?", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:05:30Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the ", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzAxMA==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518633010", "bodyText": "I agree that the \"to\" repetition is not very nice to see, however I'd prefer keeping this for now, since I think \"authenticate to\" is more common than \"authenticate within\".", "author": "gbarbon", "createdAt": "2020-11-06T09:41:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5Mjk4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5MzQ3NQ==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518293475", "bodyText": "Would it be better to change from \"...can be viewed just once...\" to \"...can be viewed only once...\"?", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:06:25Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the \n+password and another valid factor. A user can enable the MFA through the User menu in the Console.\n+\n+![MFA User View](images/mfa_user_view.png)\n+\n+The user can also access the MFA configuration dialog through the upper right menu. Note that only the user itself can enable the MFA.\n+\n+![MFA Enable](images/mfa_enable.png)\n+\n+MFA uses a secret to produce a one-time code to authenticate. The secret will be displayed in the form of a QR code during the MFA activation. \n+This QR code can be viewed just once during MFA activation, and only by the user itself. To collect the QR code, use an authenticator app ", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5NDAzOA==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518294038", "bodyText": "Would it be better to change from \"...app is temporary unavailable.\" to \"...app is temporarily unavailable.\" ?", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:07:22Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the \n+password and another valid factor. A user can enable the MFA through the User menu in the Console.\n+\n+![MFA User View](images/mfa_user_view.png)\n+\n+The user can also access the MFA configuration dialog through the upper right menu. Note that only the user itself can enable the MFA.\n+\n+![MFA Enable](images/mfa_enable.png)\n+\n+MFA uses a secret to produce a one-time code to authenticate. The secret will be displayed in the form of a QR code during the MFA activation. \n+This QR code can be viewed just once during MFA activation, and only by the user itself. To collect the QR code, use an authenticator app \n+(e.g. the Google Authenticator App) installed on a smartphone. This app will be used to produce one-time authentication code.\n+\n+Scratch codes are also produced, in order to pass the multi factor authentication in case the authenticator app is temporary unavailable. ", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzQ5Ng==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518633496", "bodyText": "My fault, done.", "author": "gbarbon", "createdAt": "2020-11-06T09:41:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5NDAzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5NjM3OA==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518296378", "bodyText": "No comma needed after \"Similarly\".\nAlso second part should be changed from \"...be viewed just once during MFA activation...\" to \"...be viewed only once during MFA activation...\"", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:11:21Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the \n+password and another valid factor. A user can enable the MFA through the User menu in the Console.\n+\n+![MFA User View](images/mfa_user_view.png)\n+\n+The user can also access the MFA configuration dialog through the upper right menu. Note that only the user itself can enable the MFA.\n+\n+![MFA Enable](images/mfa_enable.png)\n+\n+MFA uses a secret to produce a one-time code to authenticate. The secret will be displayed in the form of a QR code during the MFA activation. \n+This QR code can be viewed just once during MFA activation, and only by the user itself. To collect the QR code, use an authenticator app \n+(e.g. the Google Authenticator App) installed on a smartphone. This app will be used to produce one-time authentication code.\n+\n+Scratch codes are also produced, in order to pass the multi factor authentication in case the authenticator app is temporary unavailable. \n+Similarly, to the QR code, also scratch codes can be viewed just once during MFA activation, and they can be viewed only by the user itself. ", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzYyNw==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518633627", "bodyText": "Yep, done.", "author": "gbarbon", "createdAt": "2020-11-06T09:41:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5NjM3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5ODk4Mw==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518298983", "bodyText": "Instead \"...such user have to type...\" -> \"...such user has to type...\"", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:15:51Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the \n+password and another valid factor. A user can enable the MFA through the User menu in the Console.\n+\n+![MFA User View](images/mfa_user_view.png)\n+\n+The user can also access the MFA configuration dialog through the upper right menu. Note that only the user itself can enable the MFA.\n+\n+![MFA Enable](images/mfa_enable.png)\n+\n+MFA uses a secret to produce a one-time code to authenticate. The secret will be displayed in the form of a QR code during the MFA activation. \n+This QR code can be viewed just once during MFA activation, and only by the user itself. To collect the QR code, use an authenticator app \n+(e.g. the Google Authenticator App) installed on a smartphone. This app will be used to produce one-time authentication code.\n+\n+Scratch codes are also produced, in order to pass the multi factor authentication in case the authenticator app is temporary unavailable. \n+Similarly, to the QR code, also scratch codes can be viewed just once during MFA activation, and they can be viewed only by the user itself. \n+Users have a limited number of scratch codes (the maximum number of scratch codes can be set through a dedicated environment variable, see the Web \n+Console container properties section for more information). Furthermore, each scratch code is invalidated after being used once.\n+\n+![MFA QR Code](images/mfa_qr_code.png)\n+\n+The admin is able to see if the user have the MFA enabled or not. Moreover, even if only the user is allowed to enable MFA, the admin is allowed to disable \n+it for each one of the users in the account.\n+\n+When the MFA is enabled for a given user, such user have to type the one-time authentication code provided by the authenticator app as part of the login ", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzc0Ng==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518633746", "bodyText": "My fault, done.", "author": "gbarbon", "createdAt": "2020-11-06T09:42:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI5ODk4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMDE0Ng==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518300146", "bodyText": "Changing \"...from one or more PCs.\" to \"..from one or more devices.\" because in UI will computer/machine be replaced with \"device\".", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:17:04Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the \n+password and another valid factor. A user can enable the MFA through the User menu in the Console.\n+\n+![MFA User View](images/mfa_user_view.png)\n+\n+The user can also access the MFA configuration dialog through the upper right menu. Note that only the user itself can enable the MFA.\n+\n+![MFA Enable](images/mfa_enable.png)\n+\n+MFA uses a secret to produce a one-time code to authenticate. The secret will be displayed in the form of a QR code during the MFA activation. \n+This QR code can be viewed just once during MFA activation, and only by the user itself. To collect the QR code, use an authenticator app \n+(e.g. the Google Authenticator App) installed on a smartphone. This app will be used to produce one-time authentication code.\n+\n+Scratch codes are also produced, in order to pass the multi factor authentication in case the authenticator app is temporary unavailable. \n+Similarly, to the QR code, also scratch codes can be viewed just once during MFA activation, and they can be viewed only by the user itself. \n+Users have a limited number of scratch codes (the maximum number of scratch codes can be set through a dedicated environment variable, see the Web \n+Console container properties section for more information). Furthermore, each scratch code is invalidated after being used once.\n+\n+![MFA QR Code](images/mfa_qr_code.png)\n+\n+The admin is able to see if the user have the MFA enabled or not. Moreover, even if only the user is allowed to enable MFA, the admin is allowed to disable \n+it for each one of the users in the account.\n+\n+When the MFA is enabled for a given user, such user have to type the one-time authentication code provided by the authenticator app as part of the login \n+process to the Web Console.\n+\n+![MFA Login](images/mfa_login.png)\n+\n+The user with enabled MFA can also trust the access to the console from one or more PCs. In this way, the MFA procedure is enforced only on un-trusted machines. ", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzg1MA==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518633850", "bodyText": "Ok, done.", "author": "gbarbon", "createdAt": "2020-11-06T09:42:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMDE0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMDY4NQ==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518300685", "bodyText": "Changing from \"Note that the trust on the machine expires after 30 days, and the admin is able to revoke the trusted machine.\" to \"Note that the trust on the device expires after 30 days, and the admin is able to revoke the trusted device.\"", "author": "LeoNerdoG", "createdAt": "2020-11-05T19:17:37Z", "path": "docs/user-manual/en/mfa.md", "diffHunk": "@@ -0,0 +1,44 @@\n+# Multi Factor Authentication\n+\n+Kapua provides a Multi Factor Authentication feature (a.k.a. MFA), which allows a user to authenticate to a system only when he presents the \n+password and another valid factor. A user can enable the MFA through the User menu in the Console.\n+\n+![MFA User View](images/mfa_user_view.png)\n+\n+The user can also access the MFA configuration dialog through the upper right menu. Note that only the user itself can enable the MFA.\n+\n+![MFA Enable](images/mfa_enable.png)\n+\n+MFA uses a secret to produce a one-time code to authenticate. The secret will be displayed in the form of a QR code during the MFA activation. \n+This QR code can be viewed just once during MFA activation, and only by the user itself. To collect the QR code, use an authenticator app \n+(e.g. the Google Authenticator App) installed on a smartphone. This app will be used to produce one-time authentication code.\n+\n+Scratch codes are also produced, in order to pass the multi factor authentication in case the authenticator app is temporary unavailable. \n+Similarly, to the QR code, also scratch codes can be viewed just once during MFA activation, and they can be viewed only by the user itself. \n+Users have a limited number of scratch codes (the maximum number of scratch codes can be set through a dedicated environment variable, see the Web \n+Console container properties section for more information). Furthermore, each scratch code is invalidated after being used once.\n+\n+![MFA QR Code](images/mfa_qr_code.png)\n+\n+The admin is able to see if the user have the MFA enabled or not. Moreover, even if only the user is allowed to enable MFA, the admin is allowed to disable \n+it for each one of the users in the account.\n+\n+When the MFA is enabled for a given user, such user have to type the one-time authentication code provided by the authenticator app as part of the login \n+process to the Web Console.\n+\n+![MFA Login](images/mfa_login.png)\n+\n+The user with enabled MFA can also trust the access to the console from one or more PCs. In this way, the MFA procedure is enforced only on un-trusted machines. \n+Note that the trust on the machine expires after 30 days, and the admin is able to revoke the trusted machine.", "originalCommit": "1dfac8cf3aa02b4983e9d062f870a97e5b91911d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMzk4OQ==", "url": "https://github.com/eclipse/kapua/pull/3132#discussion_r518633989", "bodyText": "Ok, done.", "author": "gbarbon", "createdAt": "2020-11-06T09:42:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMwMDY4NQ=="}], "type": "inlineReview"}, {"oid": "c74a3e3a7db9d48e8d2d37280fb4cb0c8c17ab80", "url": "https://github.com/eclipse/kapua/commit/c74a3e3a7db9d48e8d2d37280fb4cb0c8c17ab80", "message": "Multi Factor Authentication user manual added\n\nSigned-off-by: Gianluca Barbon <gianluca.barbon@eurotech.com>", "committedDate": "2020-11-06T09:37:36Z", "type": "forcePushed"}, {"oid": "40524deba065920895cc3111dbfce94b3d8a835d", "url": "https://github.com/eclipse/kapua/commit/40524deba065920895cc3111dbfce94b3d8a835d", "message": "Multi Factor Authentication user manual added\n\nSigned-off-by: Gianluca Barbon <gianluca.barbon@eurotech.com>", "committedDate": "2020-11-06T09:58:57Z", "type": "forcePushed"}, {"oid": "161ad77abb89a24aa1b746b35e9d33b8ed3a49b5", "url": "https://github.com/eclipse/kapua/commit/161ad77abb89a24aa1b746b35e9d33b8ed3a49b5", "message": "Multi Factor Authentication user manual added\n\nSigned-off-by: Gianluca Barbon <gianluca.barbon@eurotech.com>", "committedDate": "2020-11-12T12:01:52Z", "type": "commit"}, {"oid": "161ad77abb89a24aa1b746b35e9d33b8ed3a49b5", "url": "https://github.com/eclipse/kapua/commit/161ad77abb89a24aa1b746b35e9d33b8ed3a49b5", "message": "Multi Factor Authentication user manual added\n\nSigned-off-by: Gianluca Barbon <gianluca.barbon@eurotech.com>", "committedDate": "2020-11-12T12:01:52Z", "type": "forcePushed"}]}