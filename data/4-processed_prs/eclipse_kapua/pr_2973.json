{"pr_number": 2973, "pr_title": "Added JUnit Tests for KapuaExceptionUtils", "pr_createdAt": "2020-05-14T06:33:44Z", "pr_url": "https://github.com/eclipse/kapua/pull/2973", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA3NjIzMw==", "url": "https://github.com/eclipse/kapua/pull/2973#discussion_r425076233", "bodyText": "Please update the copyright message to reflect the timespan from the date of the file was created.\nSo this will be like:\nCopyright (c) 2017, 2020 Eurotech and/or its affiliates and others", "author": "Coduz", "createdAt": "2020-05-14T11:49:24Z", "path": "commons/src/test/java/org/eclipse/kapua/commons/util/KapuaExceptionUtilsTest.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************\n- * Copyright (c) 2017 Eurotech and/or its affiliates and others\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others", "originalCommit": "f7a96c83f3e30258686b7c26f6b218b50c7fb017", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY0NjI4Ng==", "url": "https://github.com/eclipse/kapua/pull/2973#discussion_r425646286", "bodyText": "Hi @Coduz I have made this change, so can you please merge this into develop branch?  Thanks", "author": "sonja-ct", "createdAt": "2020-05-15T08:27:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA3NjIzMw=="}], "type": "inlineReview"}, {"oid": "30a56bf165d54071de9b6cb9d4403892f640fde1", "url": "https://github.com/eclipse/kapua/commit/30a56bf165d54071de9b6cb9d4403892f640fde1", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>", "committedDate": "2020-05-14T13:14:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUwNDc2Mw==", "url": "https://github.com/eclipse/kapua/pull/2973#discussion_r426504763", "bodyText": "assertEquals has an overload method that accepts a message as a first argument. So fail invoked in the catch exception is not the correct usage of Assert stuff.\nPlease change this and also other similar usages.", "author": "Coduz", "createdAt": "2020-05-18T09:50:47Z", "path": "commons/src/test/java/org/eclipse/kapua/commons/util/KapuaExceptionUtilsTest.java", "diffHunk": "@@ -52,16 +60,114 @@ public void testConvertPersistenceException() {\n         Throwable a = new RollbackException(\"rollback2\", r);\n         PersistenceException persistExc1 = new PersistenceException(a);\n \n-        Exception[] listOfPermittedExceptions = new Exception[]{kapExc0,kapExc1,kapExc2,kapExc3,\n-                kapExc4,persistExc0, persistExc1,optimisticLock};\n-        int sizeOfExceptions = listOfPermittedExceptions.length;\n-        // positive tests\n-        for (int i = 0; i < sizeOfExceptions; i++) {\n+        Exception[] listOfExceptions = new Exception[]{kapExc0, kapExc1, kapExc2, kapExc3, kapExc4, persistExc0, persistExc1, optimisticLock};\n+        Exception[] listOfExpectedExceptions = new Exception[]{kapExc0, kapExc1, kapExc2, kapExc3, KapuaException.internalError(kapExc4, \"Error during Persistence Operation\"), KapuaException.internalError(persistExc0, \"Error during Persistence Operation\"), KapuaException.internalError(persistExc1, \"Error during Persistence Operation\"), new KapuaOptimisticLockingException(optimisticLock)};\n+\n+        for (int i = 0; i < listOfExceptions.length; i++) {\n+            try {\n+                assertEquals(listOfExpectedExceptions[i].toString(), KapuaExceptionUtils.convertPersistenceException(listOfExceptions[i]).toString());", "originalCommit": "30a56bf165d54071de9b6cb9d4403892f640fde1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "url": "https://github.com/eclipse/kapua/commit/e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>", "committedDate": "2020-05-18T12:22:16Z", "type": "commit"}, {"oid": "e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "url": "https://github.com/eclipse/kapua/commit/e7b441269aacacb8cfc35c7c9a6109be5ffb4f6e", "message": "Added JUnit Tests for KapuaExceptionUtils\n\nSigned-off-by: Sonja <sonja.matic@comtrade.com>", "committedDate": "2020-05-18T12:22:16Z", "type": "forcePushed"}]}