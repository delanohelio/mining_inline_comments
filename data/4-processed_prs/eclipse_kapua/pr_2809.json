{"pr_number": 2809, "pr_title": "Added tests for Group service", "pr_createdAt": "2020-01-08T13:54:30Z", "pr_url": "https://github.com/eclipse/kapua/pull/2809", "timeline": [{"oid": "256b624960eb90cb0ab0225ae41d28513252b4e1", "url": "https://github.com/eclipse/kapua/commit/256b624960eb90cb0ab0225ae41d28513252b4e1", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-01-27T09:07:28Z", "type": "forcePushed"}, {"oid": "de1c6158f9ace57f29a79e5d3691191d88704d2d", "url": "https://github.com/eclipse/kapua/commit/de1c6158f9ace57f29a79e5d3691191d88704d2d", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-01-27T13:59:11Z", "type": "forcePushed"}, {"oid": "43ff5039be41aed7de79ecc332ae60b04e42fef4", "url": "https://github.com/eclipse/kapua/commit/43ff5039be41aed7de79ecc332ae60b04e42fef4", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-01-30T07:06:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk0MjA2MQ==", "url": "https://github.com/eclipse/kapua/pull/2809#discussion_r372942061", "bodyText": "Please change this title to: \"Creating Unique Group With Long Description\" becasue we are creating groups here and not tags =)", "author": "LeoNerdoG", "createdAt": "2020-01-30T13:20:06Z", "path": "qa/integration/src/test/resources/features/authorization/GroupService.feature", "diffHunk": "@@ -256,3 +256,792 @@ Feature: Group Service tests\n     When I query for the group \"test_name_25\" in scope 1\n     Then I count 0\n     And I logout\n+\n+  Scenario: Creating Unique Group Without Description\n+  Login as kapua-sys, go to groups, try to create a group with valid name without description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create a group with name \"ValidGroup\"\n+    Then No exception was thrown\n+    And I logout\n+\n+  Scenario: Creating Non-unique Group Without Description\n+  Login as kapua-sys, go to groups, try to create a group with valid name without description. After that create another group with the same name.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create a group with name \"ValidGroup\"\n+    Then No exception was thrown\n+    Given I expect the exception \"Exception\" with the text \"*\"\n+    When I create a group with name \"ValidGroup\"\n+    Then I logout\n+\n+  Scenario: Creating Group With Short Name Without Description\n+  Login as kapua-sys, go to groups, try to create a group with short name (3 characters).\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create a group with name \"abc\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Too Short Name Without Description\n+  Login as kapua-sys, go to groups, try to create a group with too short name (1 character).\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"Exception\" with the text \"*\"\n+    When I create a group with name \"a\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Long Name Without Description\n+  Login as kapua-sys, go to groups, try to create a group with long name (255 characters).\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create a group with name \"y6Nzz2qKaF8nbRxaRo8o9mRvH8CEvldYg0kCVq7EPfutbHvaQZf7m8eHcTBiXexxYl8zZI9taDwWGnnyMbnuOmpQp4tdmXeA9tnLx6dtuhu8vIfNU9YKyROkHW6f1RnMV8NhVChvE2eeTYdtczRzmJ5Zqx2MlHWJ68vbRqZ7Jw7BttDxB0bCveEYjg0JVJGsigZBRTifJhcQnXndfMcQ7WKAxXwJplvRx6sasjLKP2ZefVTqbxZQr1tVAuvLJvX\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Too Long Name Without Description\n+  Login as kapua-sys, go to groups, try to create a group with too long name (256 characters).\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"KapuaIllegalArgumentException\" with the text \"*\"\n+    When I create a group with name \"aaay6Nzz2qKaF8nbRxaRo8o9mRvH8CEvldYg0kCVq7EPfutbHvaQZf7m8eHcTBiXexxYl8zZI9taDwWGnnyMbnuOmpQp4tdmXeA9tnLx6dtuhu8vIfNU9YKyROkHW6f1RnMV8NhVChvE2eeTYdtczRzmJ5Zqx2MlHWJ68vbRqZ7Jw7BttDxB0bCveEYjg0JVJGsigZBRTifJhcQnXndfMcQ7WKAxXwJplvRx6sasjLKP2ZefVTqbxZQr1tVAuvLJvX\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Permitted Symbols And Numbers In Name Without Description\n+  Login as kapua-sys, go to groups, try to create a group with name that contains permitted symbols.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create a group with name \"Valid-group-name_1_2_3\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group Invalid Symbols In Name Without Description\n+  Login as kapua-sys, go to groups, try to create a group with name that contains invalid symbols.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"KapuaIllegalArgumentException\" with the text \"*\"\n+    When I try to create groups with invalid characters in name\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group Without a Name And Without Description\n+  Login as kapua-sys, go to groups, try to create a group with without a name.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"Exception\" with the text \"*\"\n+    When I create a group with name \"\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Unique Group With Unique Description\n+  Login as kapua-sys, go to groups, try to create a group with a valid description with all possible symbols.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I create the group with name \"Group1\" and description \"Valid_description-123 !#$%&'()=\u00bb\u00c7>:;<-.,\u2044@\u2039\u203a\u20ac*\u0131\u2013\u00b0\u00b7\u201a_\u00b1\u0152\u201e\u2030?\u201c\u2018\u201d\u2019\u00c9\u00d8\u220f{}|\u00c6\u00e6\u00d2\uf8ff\u00d4\u00d3\u00cc\u00cf\u00ce\u00cd\u00c5\u00ab\u25ca\u00d1\u02c6\u00af\u00c8\u02c7\u00bf\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Unique Group With Non-unique Description\n+  Login as kapua-sys, go to groups, try to create a group with a non-unique description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I create the group with name \"Group1\" and description \"Non-unique description\"\n+    And I create the group with name \"Group2\" and description \"Non-unique description\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Non-Unique Group With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with a non-unique description.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I create the group with name \"Group1\" and description \"Non-unique description\"\n+    Given I expect the exception \"Exception\" with the text \"*\"\n+    When I create the group with name \"Group1\" and description \"Non-unique description\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Short Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with short (3 characters) name and valid description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create the group with name \"abc\" and description \"Valid description 123\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Too Short Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with too short (1 character) name and valid description.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"KapuaIllegalArgumentException\" with the text \"*\"\n+    When I create the group with name \"a\" and description \"Valid description 123\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Long Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with long (255 characters) name and valid description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create the group with name \"PxYHG9FEvy3d4CKlLwoA7b5FTk7XptHr1TZoKVft4Qhxe4BwjQE5zGFn5Jh0AGSQjbAv0ooPPBCRasXk0lnjeeHiU5mWM2KxG98ziV5WIxnUaZhIpGVfV8bqhQobJtx4QrIPizEPpG0p6DCcS72ulKqnoVsusqEkDsBBadZjhZzy4NbauKnlZnAoXerKBg23ku0CDDaB1boKqrlZ4yGmoLjgSWz4GMg6SCfjYabOCkt73HOs0SlZowCCmtzb7kF\" and description \"Valid description 123\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Too Long Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with too long (256) name and valid description.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"KapuaIllegalArgumentException\" with the text \"*\"\n+    When I create the group with name \"aPxYHG9FEvy3d4CKlLwoA7b5FTk7XptHr1TZoKVft4Qhxe4BwjQE5zGFn5Jh0AGSQjbAv0ooPPBCRasXk0lnjeeHiU5mWM2KxG98ziV5WIxnUaZhIpGVfV8bqhQobJtx4QrIPizEPpG0p6DCcS72ulKqnoVsusqEkDsBBadZjhZzy4NbauKnlZnAoXerKBg23ku0CDDaB1boKqrlZ4yGmoLjgSWz4GMg6SCfjYabOCkt73HOs0SlZowCCmtzb7kF\" and description \"Valid description 123\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Permitted Symbols In Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with permitted symbols in name and valid description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create the group with name \"Group-1_2_3\" and description \"Valid description 123\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Invalid Symbols In Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with invalid symbols in name and valid description.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"KapuaIllegalArgumentException\" with the text \"*\"\n+    When I create the group with name \"Group@123\" and description \"Valid description 123\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group Without a Name And With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group without a name and valid description.\n+  Kapua should throw Exception.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    Given I expect the exception \"KapuaIllegalNullArgumentException\" with the text \"*\"\n+    When I create the group with name \"\" and description \"Valid description 123\"\n+    Then An exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Group With Numbers In Name With Valid Description\n+  Login as kapua-sys, go to groups, try to create a group with name that contains numbers and valid description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create the group with name \"Group1234567890\" and description \"Valid description 123\"\n+    Then No exception was thrown\n+    When I create the group with name \"1234567890\" and description \"Valid description 123\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Unique Group With Short Description\n+  Login as kapua-sys, go to groups, try to create a group with short description.\n+  Kapua should not return any errors.\n+\n+    Given I login as user with name \"kapua-sys\" and password \"kapua-password\"\n+    And I configure the group service\n+      | type    | name                   | value | scopeId | parentId |\n+      | boolean | infiniteChildEntities  | true  | 0       | 1        |\n+      | integer | maxNumberChildEntities | 5     | 0       | 1        |\n+    When I create the group with name \"Group1\" and description \"a\"\n+    Then No exception was thrown\n+    Then I logout\n+\n+  Scenario: Creating Unique Tag With Long Description", "originalCommit": "43ff5039be41aed7de79ecc332ae60b04e42fef4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d44e09813a7094a5307c95a1ab6c692171ea4cba", "url": "https://github.com/eclipse/kapua/commit/d44e09813a7094a5307c95a1ab6c692171ea4cba", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-01-30T13:29:18Z", "type": "forcePushed"}, {"oid": "328865bc38027bfff20eb7ae6991a886c2b25dd0", "url": "https://github.com/eclipse/kapua/commit/328865bc38027bfff20eb7ae6991a886c2b25dd0", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-01-30T13:47:20Z", "type": "forcePushed"}, {"oid": "c2f88320b561ad931d73466abc26940e6266693a", "url": "https://github.com/eclipse/kapua/commit/c2f88320b561ad931d73466abc26940e6266693a", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-02-24T12:21:44Z", "type": "forcePushed"}, {"oid": "3cb83cd087fa1a9cea46bd3ad9cbe2dd702344c4", "url": "https://github.com/eclipse/kapua/commit/3cb83cd087fa1a9cea46bd3ad9cbe2dd702344c4", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-03-10T12:04:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQzOTU4Nw==", "url": "https://github.com/eclipse/kapua/pull/2809#discussion_r390439587", "bodyText": "Please remove the merge meta data", "author": "Coduz", "createdAt": "2020-03-10T16:19:57Z", "path": "qa/integration/src/test/resources/features/user/UserPermissionI9n.feature", "diffHunk": "@@ -1441,8 +1441,13 @@ Feature: User Permission tests\n       | account | delete |\n     And A device named \"test_device\"\n     And I create a job with the name \"test_job\"\n+<<<<<<< HEAD\n     And I create tag with name \"test_tag\" without description\n     And I create the group with name \"test_group\"\n+=======\n+    And I create a tag with name \"test_tag\"\n+    And I create a group with name \"test_group\"\n+>>>>>>> Added tests for Group service", "originalCommit": "3cb83cd087fa1a9cea46bd3ad9cbe2dd702344c4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "735c83509746ced9a774a3cf31e2e1c35304b38b", "url": "https://github.com/eclipse/kapua/commit/735c83509746ced9a774a3cf31e2e1c35304b38b", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-03-11T06:28:37Z", "type": "commit"}, {"oid": "735c83509746ced9a774a3cf31e2e1c35304b38b", "url": "https://github.com/eclipse/kapua/commit/735c83509746ced9a774a3cf31e2e1c35304b38b", "message": "Added tests for Group service\nAdded tests for adding, deleting and editing groups, and adding devices to groups.\n\nSigned-off-by: zanpizmoht <zan.pizmoht@comtrade.com>", "committedDate": "2020-03-11T06:28:37Z", "type": "forcePushed"}]}