{"pr_number": 1507, "pr_title": "Fixing the issue in non-expiry self signed access token generation", "pr_createdAt": "2020-11-26T14:16:14Z", "pr_url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1507", "timeline": [{"oid": "186ff5638ad19f981cf36e4e5d4351ae6a393133", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/commit/186ff5638ad19f981cf36e4e5d4351ae6a393133", "message": "Fixing the issue in non-expiry self access token generation", "committedDate": "2020-11-26T14:10:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjU1ODc4NA==", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1507#discussion_r576558784", "bodyText": "Shall we start the sentence with an upper case letter and end with a .?", "author": "somindatommy", "createdAt": "2021-02-16T05:32:50Z", "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/token/JWTTokenIssuer.java", "diffHunk": "@@ -519,6 +520,32 @@ protected JWTClaimsSet createJWTClaimSet(OAuthAuthzReqMessageContext authAuthzRe\n         return jwtClaimsSet;\n     }\n \n+    /**\n+     * Calculates access token expiry time.\n+     *\n+     * @param accessTokenLifeTimeInMillis accessTokenLifeTimeInMillis\n+     * @param curTimeInMillis             currentTimeInMillis\n+     * @return expirationTime", "originalCommit": "186ff5638ad19f981cf36e4e5d4351ae6a393133", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjU2NzExMg==", "url": "https://github.com/wso2-extensions/identity-inbound-auth-oauth/pull/1507#discussion_r576567112", "bodyText": "As per the issue description, I assume accessTokenLifeTimeInMillis is the Token Expiry Time to -1  in the erroneous scenario. Hence why does the variable name says accessTokenLifeTimeInMillis without specifying it as accessTokenExpiryTime", "author": "Buddhimah", "createdAt": "2021-02-16T06:00:39Z", "path": "components/org.wso2.carbon.identity.oauth/src/main/java/org/wso2/carbon/identity/oauth2/token/JWTTokenIssuer.java", "diffHunk": "@@ -519,6 +520,32 @@ protected JWTClaimsSet createJWTClaimSet(OAuthAuthzReqMessageContext authAuthzRe\n         return jwtClaimsSet;\n     }\n \n+    /**\n+     * Calculates access token expiry time.\n+     *\n+     * @param accessTokenLifeTimeInMillis accessTokenLifeTimeInMillis\n+     * @param curTimeInMillis             currentTimeInMillis\n+     * @return expirationTime\n+     */\n+    private Date calculateAccessTokenExpiryTime(Long accessTokenLifeTimeInMillis, Long curTimeInMillis) {\n+\n+        Date expirationTime;\n+        if (accessTokenLifeTimeInMillis < 0) {", "originalCommit": "186ff5638ad19f981cf36e4e5d4351ae6a393133", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}