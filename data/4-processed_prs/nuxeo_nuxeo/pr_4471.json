{"pr_number": 4471, "pr_title": "10.10-HF/fix-NXP-29759-make-task-endpoint-use-UserManagerResolver", "pr_createdAt": "2020-11-17T17:53:15Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/4471", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM3MzUwMQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4471#discussion_r525373501", "bodyText": "This is not in sync with the master PR that was merged (local variable used here). I see other changes. Could you compare master and 10.10 commits to make sure they are as close as possible (within the constraints of 10.10)?", "author": "efge", "createdAt": "2020-11-17T18:01:59Z", "path": "addons/nuxeo-platform-document-routing/nuxeo-routing-rest-api/src/test/java/org/nuxeo/ecm/restapi/server/WorkflowEndpointTest.java", "diffHunk": "@@ -1239,11 +1240,17 @@ public void testTaskWorkflowInfo() throws IOException {\n             JsonNode initiatorNode = taskNode.get(\"workflowInitiator\");\n             assertEquals(\"user\", initiatorNode.get(\"entity-type\").textValue());\n             assertEquals(\"Administrator\", initiatorNode.get(\"id\").textValue());\n-            assertTrue(initiatorNode.get(\"isAdministrator\").booleanValue());\n             JsonNode properties = initiatorNode.get(\"properties\");\n             ArrayNode groups = (ArrayNode) properties.get(\"groups\");\n-            assertEquals(1, groups.size());\n-            assertEquals(\"administrators\", groups.get(0).textValue());\n+            if (initiatorNode.get(\"isPartial\") != null && initiatorNode.get(\"isPartial\").booleanValue()) {", "originalCommit": "bed48d34b1ae4e874dddab4230d645b0c36d84d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk4MzgzMA==", "url": "https://github.com/nuxeo/nuxeo/pull/4471#discussion_r525983830", "bodyText": "It should be only the changes needed for 10.10 now.", "author": "charlesboidot", "createdAt": "2020-11-18T10:39:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTM3MzUwMQ=="}], "type": "inlineReview"}, {"oid": "ca5f02e2ff8e55bce04d8a2e3931d4f7bae5e35a", "url": "https://github.com/nuxeo/nuxeo/commit/ca5f02e2ff8e55bce04d8a2e3931d4f7bae5e35a", "message": "NXP-29759: Make the task endpoint use the UserManagerResolver", "committedDate": "2020-11-18T10:26:31Z", "type": "forcePushed"}, {"oid": "4c1c28d4fa5c0b76291d8105475bdf4abc14e7fe", "url": "https://github.com/nuxeo/nuxeo/commit/4c1c28d4fa5c0b76291d8105475bdf4abc14e7fe", "message": "NXP-29759: Make the task endpoint use the UserManagerResolver", "committedDate": "2020-11-18T10:31:40Z", "type": "forcePushed"}, {"oid": "aa9be7437d595544f2b96fcc75f77e40c8aba3db", "url": "https://github.com/nuxeo/nuxeo/commit/aa9be7437d595544f2b96fcc75f77e40c8aba3db", "message": "NXP-29759: Make the task endpoint use the UserManagerResolver", "committedDate": "2020-11-18T10:35:34Z", "type": "commit"}, {"oid": "aa9be7437d595544f2b96fcc75f77e40c8aba3db", "url": "https://github.com/nuxeo/nuxeo/commit/aa9be7437d595544f2b96fcc75f77e40c8aba3db", "message": "NXP-29759: Make the task endpoint use the UserManagerResolver", "committedDate": "2020-11-18T10:35:34Z", "type": "forcePushed"}]}