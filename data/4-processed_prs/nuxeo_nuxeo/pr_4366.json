{"pr_number": 4366, "pr_title": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock", "pr_createdAt": "2020-10-09T12:21:45Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/4366", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI1MTg1NQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4366#discussion_r503251855", "bodyText": "What do you think about catching SdkBaseException?", "author": "kevinleturc", "createdAt": "2020-10-12T12:10:43Z", "path": "modules/core/nuxeo-core-binarymanager-cloud/nuxeo-core-binarymanager-s3/src/main/java/org/nuxeo/ecm/blob/s3/S3BlobStore.java", "diffHunk": "@@ -265,6 +266,9 @@ protected String writeFile(String key, Path file, BlobContext blobContext, Strin\n         } catch (InterruptedException e) {\n             Thread.currentThread().interrupt();\n             throw new NuxeoException(e);\n+        } catch (SdkClientException e) {", "originalCommit": "e48e56fc1334bc17595edd6f7170490fea4e0c05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "url": "https://github.com/nuxeo/nuxeo/commit/cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "message": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock", "committedDate": "2020-10-12T13:28:55Z", "type": "commit"}, {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "url": "https://github.com/nuxeo/nuxeo/commit/cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "message": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock", "committedDate": "2020-10-12T13:28:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzMwNTUyOQ==", "url": "https://github.com/nuxeo/nuxeo/pull/4366#discussion_r503305529", "bodyText": "What do you mean? That it's better to catch a wider exception than the one usually marked as thrown by the SDK API? Why?", "author": "ataillefer", "createdAt": "2020-10-12T13:43:27Z", "path": "modules/core/nuxeo-core-binarymanager-cloud/nuxeo-core-binarymanager-s3/src/main/java/org/nuxeo/ecm/blob/s3/S3BlobStore.java", "diffHunk": "@@ -265,6 +266,9 @@ protected String writeFile(String key, Path file, BlobContext blobContext, Strin\n         } catch (InterruptedException e) {\n             Thread.currentThread().interrupt();\n             throw new NuxeoException(e);\n+        } catch (SdkBaseException e) {\n+            // catch SdkBaseException and not just AmazonServiceException", "originalCommit": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}