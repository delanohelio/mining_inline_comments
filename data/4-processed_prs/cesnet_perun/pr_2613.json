{"pr_number": 2613, "pr_title": "OpenAPI - registrar manager implemented", "pr_createdAt": "2020-03-09T15:26:59Z", "pr_url": "https://github.com/CESNET/perun/pull/2613", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE1ODA1NA==", "url": "https://github.com/CESNET/perun/pull/2613#discussion_r390158054", "bodyText": "The response type of this method is an integer. The documentation is actually wrong, I will fix it.", "author": "Vojtech-Sassmann", "createdAt": "2020-03-10T08:35:34Z", "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -8699,19 +8733,228 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO getApplicationMails\n+  /json/registrarManager/getApplicationMails/v:\n+    get:\n+      tags:\n+        - RegistrarManager\n+      operationId: getApplicationMailsForVo\n+      summary:  Returns all mail notifications related to specific app form.\n+      parameters:\n+        - $ref: '#/components/parameters/voId'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfApplicationMailsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/registrarManager/getApplicationMails/g:\n+    get:\n+      tags:\n+        - RegistrarManager\n+      operationId: getApplicationMailsForGroup\n+      summary:  Returns all mail notifications related to specific app form.\n+      parameters:\n+        - $ref: '#/components/parameters/groupId'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfApplicationMailsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/registrarManager/setSendingEnabled:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: setSendingEnabled\n+      summary: Enable or disable sending for list of mail definitions.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSetSendingEnabled\n+              description: \"input to setSendingEnabled\"\n+              type: object\n+              required:\n+                - mails\n+                - enabled\n+              properties:\n+                mails:\n+                  type: array\n+                  items:\n+                    $ref: '#/components/schemas/ApplicationMail'\n+                enabled: { type: boolean }\n+\n+  /urlinjsonout/registrarManager/copyMails/voToVo:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromVoToVo\n+      summary: Copy all e-mail notifications from selected VO into another.\n+      parameters:\n+        - { name: fromVo, schema: { type: integer }, in: query, description: \"source VO\" }\n+        - { name: toVo, schema: { type: integer }, in: query, description: \"destination VO\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /urlinjsonout/registrarManager/copyMails/groupToVo:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromGroupToVo\n+      summary: Copy all e-mail notifications from selected Group into VO.\n+      parameters:\n+        - { name: fromGroup, schema: { type: integer }, in: query, description: \"source group\" }\n+        - { name: toVo, schema: { type: integer }, in: query, description: \"destination VO\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /urlinjsonout/registrarManager/copyMails/voToGroup:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromVoToGroup\n+      summary: Copy all e-mail notifications from selected VO into Group.\n+      parameters:\n+        - { name: fromVo, schema: { type: integer }, in: query, description: \"source VO\" }\n+        - { name: toGroup, schema: { type: integer }, in: query, description: \"destination group\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO setSendingEnabled\n+  /urlinjsonout/registrarManager/copyMails/groupToGroup:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromGroupToGroup\n+      summary: Copy all e-mail notifications from selected Group into another.\n+      parameters:\n+        - { name: fromGroup, schema: { type: integer }, in: query, description: \"source group\" }\n+        - { name: toGroup, schema: { type: integer }, in: query, description: \"destination group\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO copyMails\n+  /urlinjsonout/registrarManager/deleteApplicationMail/v:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: deleteApplicationMailForVo\n+      summary: Deletes an e-mail notification from DB based on id property.\n+      parameters:\n+        - $ref: '#/components/parameters/voId'\n+        - $ref: '#/components/parameters/id'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO deleteApplicationMail\n+  /urlinjsonout/registrarManager/deleteApplicationMail/g:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: deleteApplicationMailForGroup\n+      summary: Deletes an e-mail notification from DB based on id property.\n+      parameters:\n+        - $ref: '#/components/parameters/groupId'\n+        - $ref: '#/components/parameters/id'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO updateApplicationMail\n+  /json/registrarManager/updateApplicationMail:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: updateApplicationMail\n+      summary: Updates an e-mail notification.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputUpdateApplicationMail\n+              description: \"input to updateApplicationMail\"\n+              type: object\n+              required:\n+                - mail\n+              properties:\n+                mail: { $ref: '#/components/schemas/ApplicationMail' }\n \n-  #TODO addApplicationMail\n+  /json/registrarManager/addApplicationMail/v:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: addApplicationMailForVo\n+      summary: Add new mail notification.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationMailResponse'", "originalCommit": "2b3a538046a72e87ac9979d1c82f1cbf877db8d5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE1ODcyOA==", "url": "https://github.com/CESNET/perun/pull/2613#discussion_r390158728", "bodyText": "Same here.", "author": "Vojtech-Sassmann", "createdAt": "2020-03-10T08:36:52Z", "path": "perun-openapi/openapi.yml", "diffHunk": "@@ -8699,19 +8733,228 @@ paths:\n         default:\n           $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO getApplicationMails\n+  /json/registrarManager/getApplicationMails/v:\n+    get:\n+      tags:\n+        - RegistrarManager\n+      operationId: getApplicationMailsForVo\n+      summary:  Returns all mail notifications related to specific app form.\n+      parameters:\n+        - $ref: '#/components/parameters/voId'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfApplicationMailsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/registrarManager/getApplicationMails/g:\n+    get:\n+      tags:\n+        - RegistrarManager\n+      operationId: getApplicationMailsForGroup\n+      summary:  Returns all mail notifications related to specific app form.\n+      parameters:\n+        - $ref: '#/components/parameters/groupId'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ListOfApplicationMailsResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /json/registrarManager/setSendingEnabled:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: setSendingEnabled\n+      summary: Enable or disable sending for list of mail definitions.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputSetSendingEnabled\n+              description: \"input to setSendingEnabled\"\n+              type: object\n+              required:\n+                - mails\n+                - enabled\n+              properties:\n+                mails:\n+                  type: array\n+                  items:\n+                    $ref: '#/components/schemas/ApplicationMail'\n+                enabled: { type: boolean }\n+\n+  /urlinjsonout/registrarManager/copyMails/voToVo:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromVoToVo\n+      summary: Copy all e-mail notifications from selected VO into another.\n+      parameters:\n+        - { name: fromVo, schema: { type: integer }, in: query, description: \"source VO\" }\n+        - { name: toVo, schema: { type: integer }, in: query, description: \"destination VO\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /urlinjsonout/registrarManager/copyMails/groupToVo:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromGroupToVo\n+      summary: Copy all e-mail notifications from selected Group into VO.\n+      parameters:\n+        - { name: fromGroup, schema: { type: integer }, in: query, description: \"source group\" }\n+        - { name: toVo, schema: { type: integer }, in: query, description: \"destination VO\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+\n+  /urlinjsonout/registrarManager/copyMails/voToGroup:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromVoToGroup\n+      summary: Copy all e-mail notifications from selected VO into Group.\n+      parameters:\n+        - { name: fromVo, schema: { type: integer }, in: query, description: \"source VO\" }\n+        - { name: toGroup, schema: { type: integer }, in: query, description: \"destination group\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO setSendingEnabled\n+  /urlinjsonout/registrarManager/copyMails/groupToGroup:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: copyMailsFromGroupToGroup\n+      summary: Copy all e-mail notifications from selected Group into another.\n+      parameters:\n+        - { name: fromGroup, schema: { type: integer }, in: query, description: \"source group\" }\n+        - { name: toGroup, schema: { type: integer }, in: query, description: \"destination group\" }\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO copyMails\n+  /urlinjsonout/registrarManager/deleteApplicationMail/v:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: deleteApplicationMailForVo\n+      summary: Deletes an e-mail notification from DB based on id property.\n+      parameters:\n+        - $ref: '#/components/parameters/voId'\n+        - $ref: '#/components/parameters/id'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO deleteApplicationMail\n+  /urlinjsonout/registrarManager/deleteApplicationMail/g:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: deleteApplicationMailForGroup\n+      summary: Deletes an e-mail notification from DB based on id property.\n+      parameters:\n+        - $ref: '#/components/parameters/groupId'\n+        - $ref: '#/components/parameters/id'\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n \n-  #TODO updateApplicationMail\n+  /json/registrarManager/updateApplicationMail:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: updateApplicationMail\n+      summary: Updates an e-mail notification.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/VoidResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputUpdateApplicationMail\n+              description: \"input to updateApplicationMail\"\n+              type: object\n+              required:\n+                - mail\n+              properties:\n+                mail: { $ref: '#/components/schemas/ApplicationMail' }\n \n-  #TODO addApplicationMail\n+  /json/registrarManager/addApplicationMail/v:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: addApplicationMailForVo\n+      summary: Add new mail notification.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationMailResponse'\n+        default:\n+          $ref: '#/components/responses/ExceptionResponse'\n+      requestBody:\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              title: InputAddApplicationMailForVo\n+              description: \"input to addApplicationMailForVo\"\n+              type: object\n+              required:\n+                - vo\n+                - mail\n+              properties:\n+                vo: { type: integer }\n+                mail: { $ref: '#/components/schemas/ApplicationMail' }\n \n-  #TODO copyMails\n+  /json/registrarManager/addApplicationMail/g:\n+    post:\n+      tags:\n+        - RegistrarManager\n+      operationId: addApplicationMailForGroup\n+      summary: Add new mail notification.\n+      responses:\n+        '200':\n+          $ref: '#/components/responses/ApplicationMailResponse'", "originalCommit": "2b3a538046a72e87ac9979d1c82f1cbf877db8d5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a89ff27b358a025520fac9f1b02a7b306ee1c707", "url": "https://github.com/CESNET/perun/commit/a89ff27b358a025520fac9f1b02a7b306ee1c707", "message": "OpenAPI - registrar manager implemented\n* methods in registrar manager implemented", "committedDate": "2020-03-16T16:36:53Z", "type": "commit"}, {"oid": "b581b97619caecfdc4e51b171102a01d39857875", "url": "https://github.com/CESNET/perun/commit/b581b97619caecfdc4e51b171102a01d39857875", "message": "OpenAPI - registrar manager implemented\n* changes according to review", "committedDate": "2020-03-16T16:49:08Z", "type": "commit"}, {"oid": "b581b97619caecfdc4e51b171102a01d39857875", "url": "https://github.com/CESNET/perun/commit/b581b97619caecfdc4e51b171102a01d39857875", "message": "OpenAPI - registrar manager implemented\n* changes according to review", "committedDate": "2020-03-16T16:49:08Z", "type": "forcePushed"}]}