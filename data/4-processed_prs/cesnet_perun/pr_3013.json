{"pr_number": 3013, "pr_title": "Changed search space of getCompleteCandidates", "pr_createdAt": "2020-11-30T16:09:12Z", "pr_url": "https://github.com/CESNET/perun/pull/3013", "timeline": [{"oid": "9565280629000f01bd1dfb7122006f9b1702bb8e", "url": "https://github.com/CESNET/perun/commit/9565280629000f01bd1dfb7122006f9b1702bb8e", "message": "Changed search space of getCompleteCandidates\n\n- getCompleteCandidates for group now searches either all perun users or all users who have ues in any of group extSources or who are vo members\n- also added tests for getCompleteCandidates (with group parameter)", "committedDate": "2020-11-30T16:07:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM1NzkwMg==", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533357902", "bodyText": "This sentence is hard to understand. What exactly happened if there is not an empty list of ext sources?", "author": "stavamichal", "createdAt": "2020-12-01T12:04:15Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/bl/VosManagerBl.java", "diffHunk": "@@ -161,14 +161,14 @@\n \n \t/**\n \t * Finds MemberCandidates who can join the Group. If the given vo is not null, it searches only\n-\t * users who belong to this Vo.\n+\t * users who belong to this Vo or who have ues in any of given extSources.\n \t *\n \t * @param sess session\n-\t * @param vo vo if is null, users are searched in whole perun, otherwise only members of this vo are used.\n+\t * @param vo vo if is null, users are searched in whole perun, otherwise members of this vo are used and users with ues in given extSources.", "originalCommit": "9565280629000f01bd1dfb7122006f9b1702bb8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYzNDc5Mw==", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533634793", "bodyText": "I've edited the javadoc.", "author": "metodej", "createdAt": "2020-12-01T18:35:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM1NzkwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM2NDA3Ng==", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533364076", "bodyText": "You do not really filter them. You are just adding new users by the list of ext sources. (if vo is not null)", "author": "stavamichal", "createdAt": "2020-12-01T12:15:16Z", "path": "perun-core/src/main/java/cz/metacentrum/perun/core/blImpl/VosManagerBlImpl.java", "diffHunk": "@@ -527,34 +528,51 @@ public Vo getVoById(PerunSession sess, int id) throws VoNotExistsException {\n \t * @throws InternalErrorException internal error\n \t */\n \tprivate List<RichUser> getRichUsersForMemberCandidates(PerunSession sess, List<String> attrNames, String searchString) {\n-\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString);\n+\t\treturn getRichUsersForMemberCandidates(sess, null, attrNames, searchString, null);\n \t}\n \n \t/**\n \t * <p>Finds RichUsers who matches the given search string. If the given Vo is null,\n \t * they are searched in the whole Perun. If th Vo is not null, then are returned\n-\t * only RichUsers who has a member inside this Vo.</p>\n+\t * only RichUsers who has a member inside this Vo or who has ues in any of given ExtSources.</p>\n \t * <p>The RichUsers are returned with attributes of given names.</p>\n \t *\n \t *\n \t * @param sess session\n-\t * @param vo virtual organization, users are searched only inside this vo; if is null, then in the whole Perun\n+\t * @param vo virtual organization, users are searched inside this vo; if is null, then in the whole Perun\n \t * @param attrNames names of attributes that will be returned\n \t * @param searchString string used to find users\n+\t * @param extSources list of extSources to possibly filter RichUsers by", "originalCommit": "9565280629000f01bd1dfb7122006f9b1702bb8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzYzNDg1Mw==", "url": "https://github.com/CESNET/perun/pull/3013#discussion_r533634853", "bodyText": "I've edited the javadoc.", "author": "metodej", "createdAt": "2020-12-01T18:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzM2NDA3Ng=="}], "type": "inlineReview"}, {"oid": "bbd4c456ba26573d4a768422ff39ea7551aeeeca", "url": "https://github.com/CESNET/perun/commit/bbd4c456ba26573d4a768422ff39ea7551aeeeca", "message": "Fixes based on review\n\n- javadocs rewritten to make more sense", "committedDate": "2020-12-01T17:50:09Z", "type": "commit"}]}