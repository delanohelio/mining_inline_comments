{"pr_number": 10357, "pr_title": "[web-console] Update README.md", "pr_createdAt": "2020-09-04T17:11:15Z", "pr_url": "https://github.com/apache/druid/pull/10357", "timeline": [{"oid": "3004a1612089f3184619daadb18aa486f8844600", "url": "https://github.com/apache/druid/commit/3004a1612089f3184619daadb18aa486f8844600", "message": "Update README.md\n\nCompile scss files before npm start.", "committedDate": "2020-09-04T17:07:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw==", "url": "https://github.com/apache/druid/pull/10357#discussion_r488025313", "bodyText": "I don't remember having to do this step when I ran the web console locally. Can you describe what wasn't working with the instructions before this change", "author": "suneet-s", "createdAt": "2020-09-14T15:29:53Z", "path": "web-console/README.md", "diffHunk": "@@ -25,7 +25,9 @@ This is the unified Druid web console that servers as a data management layer fo\n \n 1. You need to be withing the `web-console` directory\n 2. Install the modules with `npm install`\n-3. Run `npm start` will start in development mode and will proxy druid requests to `localhost:8888`\n+3. Run `npm run compile` to compile the scss files", "originalCommit": "3004a1612089f3184619daadb18aa486f8844600", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAzMTE4Nw==", "url": "https://github.com/apache/druid/pull/10357#discussion_r488031187", "bodyText": "Hi, @suneet-s as requested:\nBuild failed with error code: 1\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/fsevents):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 install: `node install`\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! node-sass@4.13.1 postinstall: `node scripts/build.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the node-sass@4.13.1 postinstall script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/ashishkapoor/.npm/_logs/2020-09-14T15_36_01_509Z-debug.log\n\u279c  web-console", "author": "AshishKapoor", "createdAt": "2020-09-14T15:37:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAzNDEzMg==", "url": "https://github.com/apache/druid/pull/10357#discussion_r488034132", "bodyText": "Wait, @suneet-s  Let me verify this again. I believe it's because there's no Xcode on the machine in use.", "author": "AshishKapoor", "createdAt": "2020-09-14T15:41:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU3MDAzNg==", "url": "https://github.com/apache/druid/pull/10357#discussion_r489570036", "bodyText": "@suneet-s There you go! It works fine only after a compile run as mentioned in the docs for me.\nWARNING in ./src/views/home-view/home-view.scss (./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src??postcss!./node_modules/sass-loader/dist/cjs.js!./src/views/home-view/home-view.scss)\nModule Warning (from ./node_modules/postcss-loader/src/index.js):\nWarning\n\n(37:3) grid-gap only works if grid-template(-areas) is being used\n @ ./src/views/home-view/home-view.scss 1:14-193 20:4-31:5 23:25-204\n @ ./src/views/home-view/home-view.tsx\n @ ./src/views/index.ts\n @ ./src/console-application.tsx\n @ ./src/entry.ts\n\nERROR in ./src/entry.scss (./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src??postcss!./node_modules/sass-loader/dist/cjs.js!./src/entry.scss)\nModule build failed (from ./node_modules/sass-loader/dist/cjs.js):\nSassError: File to import not found or unreadable: ../lib/react-table.\n        on line 22 of /Users/ashishkapoor/Downloads/druid-master/web-console/src/entry.scss\n>> @import '../lib/react-table';\n\n   ^\n\n @ ./src/entry.scss 1:14-171 20:4-31:5 23:25-182\n @ ./src/entry.ts\n\nERROR in ./src/views/query-view/query-input/query-input.tsx\nModule not found: Error: Can't resolve '../../../../lib/sql-docs' in '/Users/ashishkapoor/Downloads/druid-master/web-console/src/views/query-view/query-input'\n @ ./src/views/query-view/query-input/query-input.tsx 10:17-52\n @ ./src/views/query-view/query-view.tsx\n @ ./src/views/index.ts\n @ ./src/console-application.tsx\n @ ./src/entry.ts\n\nERROR in ./src/ace-modes/dsql.js\nModule not found: Error: Can't resolve '../../lib/sql-docs' in '/Users/ashishkapoor/Downloads/druid-master/web-console/src/ace-modes'\n @ ./src/ace-modes/dsql.js 25:21-50\n @ ./src/entry.ts", "author": "AshishKapoor", "createdAt": "2020-09-16T16:30:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyOTkzMg==", "url": "https://github.com/apache/druid/pull/10357#discussion_r490329932", "bodyText": "Thanks @AshishKapoor I haven't run into this issue when I ran through these instructions. The update seems reasonable to me.\nI'll let someone more familiar with front-end dev chime in, I've only compiled and run the web console locally, a handful of times.", "author": "suneet-s", "createdAt": "2020-09-17T15:10:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMzcxOA==", "url": "https://github.com/apache/druid/pull/10357#discussion_r490533718", "bodyText": "That makes sense, thanks! @suneet-s.", "author": "AshishKapoor", "createdAt": "2020-09-17T20:11:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ3MzY3OA==", "url": "https://github.com/apache/druid/pull/10357#discussion_r493473678", "bodyText": "I can confirm that without running npm run compile npm start fails with the mentioned errors. And I do have Xcode.", "author": "czyzykowski", "createdAt": "2020-09-23T11:24:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY2MTM4MQ==", "url": "https://github.com/apache/druid/pull/10357#discussion_r493661381", "bodyText": "Please take a look at this one too. @vogievetsky \ud83d\ude4f\ud83c\udffc", "author": "AshishKapoor", "createdAt": "2020-09-23T14:55:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNTMxMw=="}], "type": "inlineReview"}]}