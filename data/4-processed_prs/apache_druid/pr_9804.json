{"pr_number": 9804, "pr_title": "Clarifying workerThreads and a few other nits", "pr_createdAt": "2020-05-01T20:29:13Z", "pr_url": "https://github.com/apache/druid/pull/9804", "timeline": [{"oid": "14c3c73f9d43849ee341cf0ceead7c105fceaf74", "url": "https://github.com/apache/druid/commit/14c3c73f9d43849ee341cf0ceead7c105fceaf74", "message": "Update data-formats.md\n\nPer Suneet, \"Since you're editing this file can you also fix the json on line 177 please - it's missing a comma after the }\"", "committedDate": "2020-01-22T19:58:49Z", "type": "commit"}, {"oid": "41c73a40c0dab293d7b588482fc2a83ba497f96f", "url": "https://github.com/apache/druid/commit/41c73a40c0dab293d7b588482fc2a83ba497f96f", "message": "Merge branch 'master' of github.com:apache/druid", "committedDate": "2020-04-21T18:23:46Z", "type": "commit"}, {"oid": "47e33bffa8fc0af55025fa37df266638c62ab94b", "url": "https://github.com/apache/druid/commit/47e33bffa8fc0af55025fa37df266638c62ab94b", "message": "Light text cleanup\n\n* Removing discussion of sample data, since it's repeated in the data loading tutorial, and not immediately relevant here.", "committedDate": "2020-04-21T18:58:12Z", "type": "commit"}, {"oid": "6a20c25a30b054974e2473711da6e0d1db49e68c", "url": "https://github.com/apache/druid/commit/6a20c25a30b054974e2473711da6e0d1db49e68c", "message": "Clarifying accepted values for URI lookup", "committedDate": "2020-04-21T19:41:57Z", "type": "commit"}, {"oid": "17c092c747f012e78e746c0d5bbffdf82c261ef0", "url": "https://github.com/apache/druid/commit/17c092c747f012e78e746c0d5bbffdf82c261ef0", "message": "Merge pull request #2 from sthetland/sthetland-uri-lookup-values\n\nClarifying accepted values for URI lookup", "committedDate": "2020-04-21T19:42:53Z", "type": "commit"}, {"oid": "8d29c26719e03331a678026bef8c1e46970e573a", "url": "https://github.com/apache/druid/commit/8d29c26719e03331a678026bef8c1e46970e573a", "message": "Update index.md", "committedDate": "2020-04-21T22:56:23Z", "type": "commit"}, {"oid": "bc2d4a9ccfb3ac9928dca0e70e79fcddfda6e0e0", "url": "https://github.com/apache/druid/commit/bc2d4a9ccfb3ac9928dca0e70e79fcddfda6e0e0", "message": "original quickstart full first pass", "committedDate": "2020-04-22T19:30:01Z", "type": "commit"}, {"oid": "5738174501b11d4f70fb1fc404a1b2a7a9345b28", "url": "https://github.com/apache/druid/commit/5738174501b11d4f70fb1fc404a1b2a7a9345b28", "message": "original quickstart full first pass", "committedDate": "2020-04-22T19:30:21Z", "type": "commit"}, {"oid": "427885f1fe118ce1b93566e798ecc660e554adda", "url": "https://github.com/apache/druid/commit/427885f1fe118ce1b93566e798ecc660e554adda", "message": "original quickstart full first pass", "committedDate": "2020-04-22T19:36:17Z", "type": "commit"}, {"oid": "373675056c3a8fb7c7a548094dba0a6998e7b82f", "url": "https://github.com/apache/druid/commit/373675056c3a8fb7c7a548094dba0a6998e7b82f", "message": "first pass all the way through", "committedDate": "2020-04-22T23:55:58Z", "type": "commit"}, {"oid": "ec621605313e6ff675cc7a1faa202e9311d62147", "url": "https://github.com/apache/druid/commit/ec621605313e6ff675cc7a1faa202e9311d62147", "message": "straggler", "committedDate": "2020-04-22T23:57:34Z", "type": "commit"}, {"oid": "019f1d222bf51be59dc9baa84952249c932dca80", "url": "https://github.com/apache/druid/commit/019f1d222bf51be59dc9baa84952249c932dca80", "message": "image touchups and finished old tutorial", "committedDate": "2020-04-23T23:33:41Z", "type": "commit"}, {"oid": "e6e7bc68b4ea8392f94d2bcec74951ad8668c645", "url": "https://github.com/apache/druid/commit/e6e7bc68b4ea8392f94d2bcec74951ad8668c645", "message": "a bit of finishing up", "committedDate": "2020-04-24T16:39:11Z", "type": "commit"}, {"oid": "17e8dd210493a9e01b80944b2bfc811ed6f8487f", "url": "https://github.com/apache/druid/commit/17e8dd210493a9e01b80944b2bfc811ed6f8487f", "message": "Merge branch 'master' of github.com:apache/druid", "committedDate": "2020-04-24T18:17:40Z", "type": "commit"}, {"oid": "99e0e848ceaa03a72bcb5ff458561e925c3d17af", "url": "https://github.com/apache/druid/commit/99e0e848ceaa03a72bcb5ff458561e925c3d17af", "message": "druid-caffeine-cache ext previously removed", "committedDate": "2020-04-24T18:21:54Z", "type": "commit"}, {"oid": "4ff9926528af19f8b60de906f23f84e353998583", "url": "https://github.com/apache/druid/commit/4ff9926528af19f8b60de906f23f84e353998583", "message": "Sample MaxDirectMemorySize value unrealistic", "committedDate": "2020-04-24T18:30:34Z", "type": "commit"}, {"oid": "43efd6ad9b82bef5c199d0bbc94be11aacd52189", "url": "https://github.com/apache/druid/commit/43efd6ad9b82bef5c199d0bbc94be11aacd52189", "message": "Review comments", "committedDate": "2020-04-27T18:43:32Z", "type": "commit"}, {"oid": "e16f22b05c28f3fa21a98f9defc40b6f8a158832", "url": "https://github.com/apache/druid/commit/e16f22b05c28f3fa21a98f9defc40b6f8a158832", "message": "Merge branch 'master' of github.com:apache/druid into tutorial-screen-and-light-text-updates", "committedDate": "2020-04-27T22:00:03Z", "type": "commit"}, {"oid": "c10cd6b2f1f66e167f44dec47c24e12e4a78868e", "url": "https://github.com/apache/druid/commit/c10cd6b2f1f66e167f44dec47c24e12e4a78868e", "message": "fixing links", "committedDate": "2020-04-27T23:32:04Z", "type": "commit"}, {"oid": "397cf215bb70c2a13f47997cc9c3c3a554e7d0a9", "url": "https://github.com/apache/druid/commit/397cf215bb70c2a13f47997cc9c3c3a554e7d0a9", "message": "spell checking gymnastics", "committedDate": "2020-04-28T00:56:50Z", "type": "commit"}, {"oid": "71049889c511f23c8b2b68975237fd85c5701348", "url": "https://github.com/apache/druid/commit/71049889c511f23c8b2b68975237fd85c5701348", "message": "resolving merge conflicts", "committedDate": "2020-04-30T15:49:07Z", "type": "commit"}, {"oid": "7f38b4ba4b1f9c21214ff11e55159244533285af", "url": "https://github.com/apache/druid/commit/7f38b4ba4b1f9c21214ff11e55159244533285af", "message": "Merge branch 'master' of github.com:apache/druid", "committedDate": "2020-04-30T20:55:34Z", "type": "commit"}, {"oid": "7744c6a89b8bbfa07ac552a260d8494cb7a23af5", "url": "https://github.com/apache/druid/commit/7744c6a89b8bbfa07ac552a260d8494cb7a23af5", "message": "Merge pull request #1 from sthetland/tutorial-screen-and-light-text-updates\n\nQuickstart refactor and screenshot updates", "committedDate": "2020-05-01T18:00:29Z", "type": "commit"}, {"oid": "4ea179548c3b43d364e36c61632655fa8485c8ef", "url": "https://github.com/apache/druid/commit/4ea179548c3b43d364e36c61632655fa8485c8ef", "message": "Merge branch 'master' of https://github.com/sthetland/druid into docs-misc-cleanup", "committedDate": "2020-05-01T18:05:14Z", "type": "commit"}, {"oid": "9c92d1f03e34f458a222bd5e9d6d6932ad0fe952", "url": "https://github.com/apache/druid/commit/9c92d1f03e34f458a222bd5e9d6d6932ad0fe952", "message": "Merge branch 'master' of github.com:apache/druid into docs-misc-cleanup", "committedDate": "2020-05-01T18:05:41Z", "type": "commit"}, {"oid": "27bcbcb3efc3ef1903fd280405cd89181535032d", "url": "https://github.com/apache/druid/commit/27bcbcb3efc3ef1903fd280405cd89181535032d", "message": "workerThreads desc slightly expanded", "committedDate": "2020-05-01T20:25:16Z", "type": "commit"}, {"oid": "982675299b0d53af151de193ccb0bbab7697306d", "url": "https://github.com/apache/druid/commit/982675299b0d53af151de193ccb0bbab7697306d", "message": "typo", "committedDate": "2020-05-04T16:56:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMTYzNQ==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420431635", "bodyText": "Hmm, I've been curious whether it's better to show ioConfig before tuningConfig since ioConfig is mandatory while tuningConfig is optional. Is it better to switch their order in other places?", "author": "jihoonson", "createdAt": "2020-05-05T21:58:35Z", "path": "docs/development/extensions-core/kafka-ingestion.md", "diffHunk": "@@ -122,9 +122,9 @@ A sample supervisor spec is shown below:\n |Field|Description|Required|\n |--------|-----------|---------|\n |`type`|The supervisor type, this should always be `kafka`.|yes|\n-|`dataSchema`|The schema that will be used by the Kafka indexing task during ingestion, see [`dataSchema`](../../ingestion/index.md#dataschema) for details.|yes|\n-|`ioConfig`|A KafkaSupervisorIOConfig to configure the supervisor and indexing tasks, see below.|yes|\n-|`tuningConfig`|A KafkaSupervisorTuningConfig to configure the supervisor and indexing tasks, see below.|no|\n+|`dataSchema`|The schema that will be used by the Kafka indexing task during ingestion. See [`dataSchema`](../../ingestion/index.md#dataschema) for details.|yes|\n+|`tuningConfig`|A KafkaSupervisorTuningConfig object for configuring performance-related settings for the supervisor and indexing tasks. See [KafkaSupervisorTuningConfig](#kafkasupervisortuningconfig) below.|no|\n+|`ioConfig`|A KafkaSupervisorIOConfig object for configuring Kafka connection and I/O-related settings for the supervisor and indexing task. See [KafkaSupervisorIOConfig](#kafkasupervisorioconfig) below.|yes|", "originalCommit": "982675299b0d53af151de193ccb0bbab7697306d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ1NDIwNw==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420454207", "bodyText": "So you mean put ioConfig before tuningConfig in the sample supervisor spec, table, and the individual sections, i.e., KafkaSupervisorTuningConfig?\nThat could be better, yes. Especially if, as an optional property, it's not likely to be touched a lot. But I don't think it's huge deal. I do recommend consistency in the order, at least.\nAnd that probably wouldn't be able to be a blanket rule, presumably? that is, I could imagine cases where an optional property came before a mandatory one to be near closely related properties for instance.\nBut yeah, if such a circumstance don't apply here, I could reverse them in the spec example and the sections, and revert the order change in this table? Let me know if you think so.", "author": "sthetland", "createdAt": "2020-05-05T22:53:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMTYzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ2Mzc0MQ==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420463741", "bodyText": "I agree that consistency is more important than the order of those properties and it's not a blanket rule. My concern is mostly about that the section explaining tuningConfig is fairly long in the link above, so you should scroll down half of the page until you see ioConfig. This could be cumbersome for people who just started using Druid because they wouldn't understand what most of them mean in the tuningConfig. What do you think?", "author": "jihoonson", "createdAt": "2020-05-05T23:18:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMTYzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ2OTg5NQ==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420469895", "bodyText": "Makes sense! I've reversed them in both pages, Kinesis and Kafka", "author": "sthetland", "createdAt": "2020-05-05T23:37:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMTYzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMzE2NA==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420433164", "bodyText": "location are -> location is?", "author": "jihoonson", "createdAt": "2020-05-05T22:02:02Z", "path": "docs/development/extensions-core/lookups-cached-global.md", "diffHunk": "@@ -208,12 +208,12 @@ The remapping values for each globally cached lookup can be specified by a JSON\n |Property|Description|Required|Default|\n |--------|-----------|--------|-------|\n |`pollPeriod`|Period between polling for updates|No|0 (only once)|\n-|`uri`|URI for the file of interest|No|Use `uriPrefix`|\n-|`uriPrefix`|A URI which specifies a directory (or other searchable resource) in which to search for files|No|Use `uri`|\n+|`uri`|URI for the file of interest, specified as a file, hdfs, or s3 path|No|Use `uriPrefix`|\n+|`uriPrefix`|A URI that specifies a directory (or other searchable resource) in which to search for files|No|Use `uri`|\n |`fileRegex`|Optional regex for matching the file name under `uriPrefix`. Only used if `uriPrefix` is used|No|`\".*\"`|\n |`namespaceParseSpec`|How to interpret the data at the URI|Yes||\n \n-One of either `uri` xor `uriPrefix` must be specified.\n+One of either `uri` or `uriPrefix` must be specified, as either a local file system (file://), HDFS (hdfs://), or S3 (s3://) location. HTTP location are not currently supported.", "originalCommit": "982675299b0d53af151de193ccb0bbab7697306d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ1NDg0NA==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420454844", "bodyText": "oop yes, thanks.", "author": "sthetland", "createdAt": "2020-05-05T22:54:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMzE2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQzMzY2OA==", "url": "https://github.com/apache/druid/pull/9804#discussion_r420433668", "bodyText": "Nice", "author": "jihoonson", "createdAt": "2020-05-05T22:03:16Z", "path": "docs/operations/basic-cluster-tuning.md", "diffHunk": "@@ -407,15 +407,15 @@ Enabling process termination on out-of-memory errors is useful as well, since th\n -XX:+ExitOnOutOfMemoryError\n -XX:+HeapDumpOnOutOfMemoryError\n -XX:HeapDumpPath=/var/logs/druid/historical.hprof\n--XX:MaxDirectMemorySize=10240g\n+-XX:MaxDirectMemorySize=1g", "originalCommit": "982675299b0d53af151de193ccb0bbab7697306d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b9ee5cbc8ff8cb12ec8157b08a84254a7d8a3c7e", "url": "https://github.com/apache/druid/commit/b9ee5cbc8ff8cb12ec8157b08a84254a7d8a3c7e", "message": "Typo", "committedDate": "2020-05-05T22:54:18Z", "type": "commit"}, {"oid": "8e11e296688903f34826928ae3093c81d2f064a6", "url": "https://github.com/apache/druid/commit/8e11e296688903f34826928ae3093c81d2f064a6", "message": "Reversing Kafka config order", "committedDate": "2020-05-05T23:29:24Z", "type": "commit"}, {"oid": "683a3e890b83318874bcecc962b52084bd803772", "url": "https://github.com/apache/druid/commit/683a3e890b83318874bcecc962b52084bd803772", "message": "Changing order of configs for Kinesis", "committedDate": "2020-05-05T23:32:31Z", "type": "commit"}, {"oid": "4f87a0a9c391e0a4f542a261f7a0af8f491a45a7", "url": "https://github.com/apache/druid/commit/4f87a0a9c391e0a4f542a261f7a0af8f491a45a7", "message": "Trying this again: ioConfig then tuningConfig", "committedDate": "2020-05-05T23:35:01Z", "type": "commit"}]}