{"pr_number": 10233, "pr_title": "Add \"offset\" parameter to the Scan query.", "pr_createdAt": "2020-08-03T17:13:54Z", "pr_url": "https://github.com/apache/druid/pull/10233", "timeline": [{"oid": "7e352b68d801d2384e898cf550b96a8223d14d7d", "url": "https://github.com/apache/druid/commit/7e352b68d801d2384e898cf550b96a8223d14d7d", "message": "Add \"offset\" parameter to the Scan query.\n\nIt works by doing the query as normal and then throwing away the first\n\"offset\" number of rows on the broker.", "committedDate": "2020-08-03T17:12:07Z", "type": "commit"}, {"oid": "8aa3102a10d54bed6898b2c945e3363e4a433600", "url": "https://github.com/apache/druid/commit/8aa3102a10d54bed6898b2c945e3363e4a433600", "message": "Fix constructor call.", "committedDate": "2020-08-03T17:55:01Z", "type": "commit"}, {"oid": "3990052fb13ad1cb73b23bf12fa4dc2765432298", "url": "https://github.com/apache/druid/commit/3990052fb13ad1cb73b23bf12fa4dc2765432298", "message": "Fix up JSONs.", "committedDate": "2020-08-03T17:56:22Z", "type": "commit"}, {"oid": "839d4a73008926bcf3ba37496dfdf7c2e89b4fea", "url": "https://github.com/apache/druid/commit/839d4a73008926bcf3ba37496dfdf7c2e89b4fea", "message": "Fix call to ScanQuery.", "committedDate": "2020-08-03T18:19:44Z", "type": "commit"}, {"oid": "b3f4f83e497c78cbab646f058b3bc13028cb75f4", "url": "https://github.com/apache/druid/commit/b3f4f83e497c78cbab646f058b3bc13028cb75f4", "message": "Doc update.", "committedDate": "2020-08-03T19:15:06Z", "type": "commit"}, {"oid": "3f1a4a2c65b517020a5a1e252b309ed9e37f0398", "url": "https://github.com/apache/druid/commit/3f1a4a2c65b517020a5a1e252b309ed9e37f0398", "message": "Fix javadocs.", "committedDate": "2020-08-04T00:33:55Z", "type": "commit"}, {"oid": "25a68eb37134a02a36b997c3f8f5f0d9d76565cd", "url": "https://github.com/apache/druid/commit/25a68eb37134a02a36b997c3f8f5f0d9d76565cd", "message": "Spotbugs, LGTM suppressions.", "committedDate": "2020-08-04T00:51:25Z", "type": "commit"}, {"oid": "488788e0de14baa8b7da425a7a44e94b582d2877", "url": "https://github.com/apache/druid/commit/488788e0de14baa8b7da425a7a44e94b582d2877", "message": "Javadocs.", "committedDate": "2020-08-04T00:52:51Z", "type": "commit"}, {"oid": "015bd2adbdc1818ad95db99c2a4dcb5e81a8b3c3", "url": "https://github.com/apache/druid/commit/015bd2adbdc1818ad95db99c2a4dcb5e81a8b3c3", "message": "Fix suppression.", "committedDate": "2020-08-04T02:43:52Z", "type": "commit"}, {"oid": "8791a82e63aa032f7f6259147c93bb4581677c67", "url": "https://github.com/apache/druid/commit/8791a82e63aa032f7f6259147c93bb4581677c67", "message": "Merge branch 'master' into offset-scan", "committedDate": "2020-08-06T00:23:56Z", "type": "commit"}, {"oid": "15997042a0df27dca8cd01138e7a1a88d4d74c25", "url": "https://github.com/apache/druid/commit/15997042a0df27dca8cd01138e7a1a88d4d74c25", "message": "Merge branch 'master' into offset-scan", "committedDate": "2020-08-07T19:13:25Z", "type": "commit"}, {"oid": "6bd319a7635d61dcc59447b1a892c96bfc12af1b", "url": "https://github.com/apache/druid/commit/6bd319a7635d61dcc59447b1a892c96bfc12af1b", "message": "Stabilize Scan query result order, add tests.", "committedDate": "2020-08-12T07:11:44Z", "type": "commit"}, {"oid": "bc2bf927a5ef495c6bb82e732699210fd31e588b", "url": "https://github.com/apache/druid/commit/bc2bf927a5ef495c6bb82e732699210fd31e588b", "message": "Merge branch 'master' into offset-scan", "committedDate": "2020-08-12T07:11:49Z", "type": "commit"}, {"oid": "0f7d7c0dfc838c13171ded1669ded2813459b891", "url": "https://github.com/apache/druid/commit/0f7d7c0dfc838c13171ded1669ded2813459b891", "message": "Update LGTM comment.", "committedDate": "2020-08-12T07:14:12Z", "type": "commit"}, {"oid": "83273027dff51dfc5139ce1fe3eb6f67c5a32279", "url": "https://github.com/apache/druid/commit/83273027dff51dfc5139ce1fe3eb6f67c5a32279", "message": "Fixup.", "committedDate": "2020-08-12T07:32:33Z", "type": "commit"}, {"oid": "644a2d5c9c1a96ab18acf0fe6b8f753b5561038d", "url": "https://github.com/apache/druid/commit/644a2d5c9c1a96ab18acf0fe6b8f753b5561038d", "message": "Test different batch sizes too.", "committedDate": "2020-08-12T09:50:19Z", "type": "commit"}, {"oid": "09af824e1a78eea91978b6a52cce9f8f013193c4", "url": "https://github.com/apache/druid/commit/09af824e1a78eea91978b6a52cce9f8f013193c4", "message": "Nicer tests.", "committedDate": "2020-08-12T10:08:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQyMTU1Nw==", "url": "https://github.com/apache/druid/pull/10233#discussion_r469421557", "bodyText": "Same comment as #10235 (comment). :-)", "author": "abhishekrb19", "createdAt": "2020-08-12T17:25:04Z", "path": "processing/src/main/java/org/apache/druid/query/scan/ScanQuery.java", "diffHunk": "@@ -202,12 +210,38 @@ public int getBatchSize()\n     return batchSize;\n   }\n \n-  @JsonProperty\n+  /**\n+   * Offset for this query; behaves like SQL \"OFFSET\". Zero means no offset. Negative values are invalid.\n+   */\n+  @JsonProperty(\"offset\")\n+  @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n+  public long getScanRowsOffset()\n+  {\n+    return scanRowsOffset;\n+  }\n+\n+  /**\n+   * Offset for this query; behaves like SQL \"LIMIT\". Will always be positive. {@link Long#MAX_VALUE} is used in", "originalCommit": "09af824e1a78eea91978b6a52cce9f8f013193c4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1MTUxNQ==", "url": "https://github.com/apache/druid/pull/10233#discussion_r469551515", "bodyText": "Yes, you're right, fixed.", "author": "gianm", "createdAt": "2020-08-12T21:15:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQyMTU1Nw=="}], "type": "inlineReview"}, {"oid": "2edebad0fbf8fc77426075d1a25fa957fb315192", "url": "https://github.com/apache/druid/commit/2edebad0fbf8fc77426075d1a25fa957fb315192", "message": "Fix comment.", "committedDate": "2020-08-12T21:15:59Z", "type": "commit"}]}