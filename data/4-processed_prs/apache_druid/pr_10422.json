{"pr_number": 10422, "pr_title": "add light weight version of /druid/coordinator/v1/lookups/nodeStatus", "pr_createdAt": "2020-09-23T10:31:12Z", "pr_url": "https://github.com/apache/druid/pull/10422", "timeline": [{"oid": "0d6230dc2e29060019f787dd879a85bc677718c1", "url": "https://github.com/apache/druid/commit/0d6230dc2e29060019f787dd879a85bc677718c1", "message": "add light weight version /druid/coordinator/v1/lookups/nodeStatus", "committedDate": "2020-09-23T09:54:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ5Nzk1MQ==", "url": "https://github.com/apache/druid/pull/10422#discussion_r493497951", "bodyText": "nit:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `GET /druid/coordinator/v1/lookups/nodeStatus` with optional query parameter `discover` to discover tiers or configured lookup tiers are listed. The default response will include the which lookups are loaded, being loaded, or being dropped on each node for each tier, including the complete lookup spec. Add the optional query parameter `detailed=false` to only include the 'version' of the lookup instead of the complete spec.\n          \n          \n            \n            `GET /druid/coordinator/v1/lookups/nodeStatus` with optional query parameter `discover` to discover tiers or configured lookup tiers are listed. The response will include the lookups which are loaded, being loaded, or being dropped on each node for each tier. By default, complete lookup spec is included in response for each lookup. Add the optional query parameter `detailed=false` to only include the 'version' of the lookup instead of the complete spec.", "author": "abhishekagarwal87", "createdAt": "2020-09-23T11:53:17Z", "path": "docs/querying/lookups.md", "diffHunk": "@@ -347,7 +347,7 @@ These end points can be used to get the propagation status of configured lookups\n \n ### List lookup state of all processes\n \n-`GET /druid/coordinator/v1/lookups/nodeStatus` with optional query parameter `discover` to discover tiers or configured lookup tiers are listed.\n+`GET /druid/coordinator/v1/lookups/nodeStatus` with optional query parameter `discover` to discover tiers or configured lookup tiers are listed. The default response will include the which lookups are loaded, being loaded, or being dropped on each node for each tier, including the complete lookup spec. Add the optional query parameter `detailed=false` to only include the 'version' of the lookup instead of the complete spec.", "originalCommit": "0d6230dc2e29060019f787dd879a85bc677718c1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMTA3NA==", "url": "https://github.com/apache/druid/pull/10422#discussion_r493501074", "bodyText": "another nit: does it make sense to break this function into smaller functions ?", "author": "abhishekagarwal87", "createdAt": "2020-09-23T11:56:32Z", "path": "server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java", "diffHunk": "@@ -540,9 +542,12 @@ LookupStatus getLookupStatus(\n   @Produces({MediaType.APPLICATION_JSON})\n   @Path(\"/nodeStatus\")\n   public Response getAllNodesStatus(", "originalCommit": "0d6230dc2e29060019f787dd879a85bc677718c1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1a8f58e67c61eb5ffb54be7a20de19d6dfffd7c0", "url": "https://github.com/apache/druid/commit/1a8f58e67c61eb5ffb54be7a20de19d6dfffd7c0", "message": "review stuffs", "committedDate": "2020-09-23T20:30:30Z", "type": "commit"}]}