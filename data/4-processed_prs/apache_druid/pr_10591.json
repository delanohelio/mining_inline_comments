{"pr_number": 10591, "pr_title": "druid-docker-image: add DRUID_DIRS_TO_CREATE variable to customize directories created on startup", "pr_createdAt": "2020-11-17T23:11:58Z", "pr_url": "https://github.com/apache/druid/pull/10591", "timeline": [{"oid": "c29f2ef4d9530da498d20a8f6b701eda4fdfb13c", "url": "https://github.com/apache/druid/commit/c29f2ef4d9530da498d20a8f6b701eda4fdfb13c", "message": "druid-docker-image: add DRUID_DIRS_TO_CREATE variable to customize directories created on startup", "committedDate": "2020-11-17T23:07:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTgzMTU1Mw==", "url": "https://github.com/apache/druid/pull/10591#discussion_r525831553", "bodyText": "nit, why not use if [ -n \"$VAR\" ] like elsewhere in the script?", "author": "xvrl", "createdAt": "2020-11-18T05:55:16Z", "path": "distribution/docker/druid.sh", "diffHunk": "@@ -148,5 +148,10 @@ then\n     echo \"$DRUID_LOG4J\" >$COMMON_CONF_DIR/log4j2.xml\n fi\n \n-mkdir -p var/tmp var/druid/segments var/druid/indexing-logs var/druid/task var/druid/hadoop-tmp var/druid/segment-cache\n+DRUID_DIRS_TO_CREATE=${DRUID_DIRS_TO_CREATE-'var/tmp var/druid/segments var/druid/indexing-logs var/druid/task var/druid/hadoop-tmp var/druid/segment-cache'}\n+if [ \"X${DRUID_DIRS_TO_CREATE}\" != \"X\" ]", "originalCommit": "c29f2ef4d9530da498d20a8f6b701eda4fdfb13c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjQxOA==", "url": "https://github.com/apache/druid/pull/10591#discussion_r526476418", "bodyText": "mostly muscle memory I think, didn't pay enough attention to other parts of script while I made the change.\nchanged to be more idiomatic .", "author": "himanshug", "createdAt": "2020-11-18T22:51:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTgzMTU1Mw=="}], "type": "inlineReview"}, {"oid": "ec592afc63148a31febb7c3193995a635c709eab", "url": "https://github.com/apache/druid/commit/ec592afc63148a31febb7c3193995a635c709eab", "message": "address review comment", "committedDate": "2020-11-18T22:50:32Z", "type": "commit"}, {"oid": "165a64db5e6711acf2ece02887ad382e2ad4beab", "url": "https://github.com/apache/druid/commit/165a64db5e6711acf2ece02887ad382e2ad4beab", "message": "remove unintentional change", "committedDate": "2020-11-19T01:46:04Z", "type": "commit"}]}