{"pr_number": 3285, "pr_title": "TRUNK-5064:Added untested methods for PersonServiceImpl", "pr_createdAt": "2020-07-01T12:05:06Z", "pr_url": "https://github.com/openmrs/openmrs-core/pull/3285", "timeline": [{"oid": "7927ea507aa87c985123ccd7fd1b165130da4f8d", "url": "https://github.com/openmrs/openmrs-core/commit/7927ea507aa87c985123ccd7fd1b165130da4f8d", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl", "committedDate": "2020-07-01T12:12:33Z", "type": "forcePushed"}, {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e", "url": "https://github.com/openmrs/openmrs-core/commit/09071f002ef9390cb7eab36779a8a20eb3cd197e", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl", "committedDate": "2020-07-01T12:15:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzU0MTY5NQ==", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453541695", "bodyText": "hi @ibacher   what do think of these changes in this pr!!", "author": "HerbertYiga", "createdAt": "2020-07-13T10:08:28Z", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {", "originalCommit": "09071f002ef9390cb7eab36779a8a20eb3cd197e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMDc4Ng==", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453630786", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t}\n          \n          \n            \n            \t/**\n          \n          \n            \n            \t}\n          \n          \n            \n            \t\n          \n          \n            \n            \t/**", "author": "ibacher", "createdAt": "2020-07-13T12:59:36Z", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));\n+\t}\n+\t/**", "originalCommit": "09071f002ef9390cb7eab36779a8a20eb3cd197e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjE0MA==", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453632140", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tassertTrue(TestUtil.containsId(people, 3));\n          \n          \n            \n            \t\tassertTrue(containsId(people, 3));", "author": "ibacher", "createdAt": "2020-07-13T13:01:47Z", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));", "originalCommit": "09071f002ef9390cb7eab36779a8a20eb3cd197e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzNzExMA==", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453637110", "bodyText": "Thanks @ibacher   let me get this fixed", "author": "HerbertYiga", "createdAt": "2020-07-13T13:10:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjE0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjc1MA==", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453632750", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tPersonAddress pAddress = new PersonAddress();\n          \n          \n            \n            \t\tpAddress.setAddress1(\"123 My street\");\n          \n          \n            \n            \t\tpAddress.setAddress2(\"Apt 402\");\n          \n          \n            \n            \t\tpAddress.setCityVillage(\"Anywhere city\");\n          \n          \n            \n            \t\tpAddress.setCountry(\"Some Country\");\n          \n          \n            \n            \t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n          \n          \n            \n            \t\tPersonService personService=Context.getPersonService();\n          \n          \n            \n            \t\tpersonService.savePersonAddress(pAddress);\n          \n          \n            \n            \t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));\t\n          \n          \n            \n            \t\tPersonAddress pAddress = new PersonAddress();\n          \n          \n            \n            \t\tpAddress.setAddress1(\"123 My street\");\n          \n          \n            \n            \t\tpAddress.setAddress2(\"Apt 402\");\n          \n          \n            \n            \t\tpAddress.setCityVillage(\"Anywhere city\");\n          \n          \n            \n            \t\tpAddress.setCountry(\"Some Country\");\n          \n          \n            \n            \t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n          \n          \n            \n            \t\t\n          \n          \n            \n            \t\tPersonService personService = Context.getPersonService();\n          \n          \n            \n            \t\tpersonService.savePersonAddress(pAddress);\n          \n          \n            \n            \t\t\n          \n          \n            \n            \t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));", "author": "ibacher", "createdAt": "2020-07-13T13:02:51Z", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));\n+\t}\n+\t/**\n+\t * @see org.openmrs.api.PersonService#savePersonAddress(PersonAddress)\n+\t */\n+\t@Test\n+\tpublic void savePersonAddress_shouldNotBeNullOnReturningAsavedPersonAdress() throws Exception {\n+\t\tPersonAddress pAddress = new PersonAddress();\n+\t\tpAddress.setAddress1(\"123 My street\");\n+\t\tpAddress.setAddress2(\"Apt 402\");\n+\t\tpAddress.setCityVillage(\"Anywhere city\");\n+\t\tpAddress.setCountry(\"Some Country\");\n+\t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n+\t\tPersonService personService=Context.getPersonService();\n+\t\tpersonService.savePersonAddress(pAddress);\n+\t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));\t", "originalCommit": "09071f002ef9390cb7eab36779a8a20eb3cd197e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e35720662a062b14ff391b3da0fe43f59f887d14", "url": "https://github.com/openmrs/openmrs-core/commit/e35720662a062b14ff391b3da0fe43f59f887d14", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl", "committedDate": "2020-07-13T13:49:33Z", "type": "commit"}, {"oid": "e35720662a062b14ff391b3da0fe43f59f887d14", "url": "https://github.com/openmrs/openmrs-core/commit/e35720662a062b14ff391b3da0fe43f59f887d14", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl", "committedDate": "2020-07-13T13:49:33Z", "type": "forcePushed"}, {"oid": "bbc8d7dface3b0177a67626a4254ff08801ad768", "url": "https://github.com/openmrs/openmrs-core/commit/bbc8d7dface3b0177a67626a4254ff08801ad768", "message": "Update api/src/test/java/org/openmrs/api/PersonServiceTest.java", "committedDate": "2020-07-13T19:28:20Z", "type": "commit"}, {"oid": "c1cf1aecbae21d219cf6765e9ab67fc0dcd0de5b", "url": "https://github.com/openmrs/openmrs-core/commit/c1cf1aecbae21d219cf6765e9ab67fc0dcd0de5b", "message": "Update api/src/test/java/org/openmrs/api/PersonServiceTest.java", "committedDate": "2020-07-13T19:28:26Z", "type": "commit"}]}