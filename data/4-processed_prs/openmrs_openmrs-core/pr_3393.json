{"pr_number": 3393, "pr_title": "TRUNK-5862: BaseFormRecordableOpenmrsDataTest to use JUnit 5.", "pr_createdAt": "2020-07-22T12:50:07Z", "pr_url": "https://github.com/openmrs/openmrs-core/pull/3393", "timeline": [{"oid": "b8752f938988ef602e6daf46903943f1cb440dcd", "url": "https://github.com/openmrs/openmrs-core/commit/b8752f938988ef602e6daf46903943f1cb440dcd", "message": "Created abstract class to handle a bridge between an OpenMrsObject and is position in the form.\n\nExtended conditions and obs from this new class.\n\nupdated liquibase-update-to-latest-2.4.x.xml to add the new column form_namespace_path to the table conditions.", "committedDate": "2020-07-14T14:00:18Z", "type": "commit"}, {"oid": "40053f8d52556064ed52833e5dce1b4d32093ba0", "url": "https://github.com/openmrs/openmrs-core/commit/40053f8d52556064ed52833e5dce1b4d32093ba0", "message": "Updated changeset id.", "committedDate": "2020-07-14T14:03:22Z", "type": "commit"}, {"oid": "a83975187495d8e438dc2cc74b4da2fc00838adb", "url": "https://github.com/openmrs/openmrs-core/commit/a83975187495d8e438dc2cc74b4da2fc00838adb", "message": "Added unitary tests for Conditions.", "committedDate": "2020-07-14T15:53:43Z", "type": "commit"}, {"oid": "bad8cc2ea259b4f63c63518c8c238f12bf779632", "url": "https://github.com/openmrs/openmrs-core/commit/bad8cc2ea259b4f63c63518c8c238f12bf779632", "message": "Created interface FormRecordable.", "committedDate": "2020-07-15T07:41:33Z", "type": "commit"}, {"oid": "8df34f90d85607e12d8efc3588b8b29d8167f1c9", "url": "https://github.com/openmrs/openmrs-core/commit/8df34f90d85607e12d8efc3588b8b29d8167f1c9", "message": "Fix comment on changeSet to add the column form_namespace_path to the table conditions.", "committedDate": "2020-07-15T07:43:24Z", "type": "commit"}, {"oid": "1f63a9738a8be7c6aaa87857102e165917956aa0", "url": "https://github.com/openmrs/openmrs-core/commit/1f63a9738a8be7c6aaa87857102e165917956aa0", "message": "Optimize tests.", "committedDate": "2020-07-15T07:52:36Z", "type": "commit"}, {"oid": "fcb43daebaf4a5234c61ae89e20ae6f51a749eae", "url": "https://github.com/openmrs/openmrs-core/commit/fcb43daebaf4a5234c61ae89e20ae6f51a749eae", "message": "Organize BaseFormRecordableOpenmrsData tests.", "committedDate": "2020-07-15T11:04:42Z", "type": "commit"}, {"oid": "338d72c2a09322c5e8d9ddf57351bdeb109e48cf", "url": "https://github.com/openmrs/openmrs-core/commit/338d72c2a09322c5e8d9ddf57351bdeb109e48cf", "message": "Added updated test saveCondition_shouldSaveNewCondition to test condition.getFormNamespaceAndPath.", "committedDate": "2020-07-15T14:49:14Z", "type": "commit"}, {"oid": "5166ad661423e9492d3d18129bf53552c343bd9f", "url": "https://github.com/openmrs/openmrs-core/commit/5166ad661423e9492d3d18129bf53552c343bd9f", "message": "Added updated test saveCondition_shouldSaveNewCondition to test condition.getFormNamespaceAndPath.", "committedDate": "2020-07-15T14:54:47Z", "type": "commit"}, {"oid": "ffb2b057c3daa5b5ac4f55079c0f29a1f039388a", "url": "https://github.com/openmrs/openmrs-core/commit/ffb2b057c3daa5b5ac4f55079c0f29a1f039388a", "message": "Updated method comments.", "committedDate": "2020-07-15T15:10:28Z", "type": "commit"}, {"oid": "331017cb26ec2c9a1359b2421135c4d0ed4cb124", "url": "https://github.com/openmrs/openmrs-core/commit/331017cb26ec2c9a1359b2421135c4d0ed4cb124", "message": "Change exception message to refer `BaseFormRecordableOpenmrsDatainsted` of `obs`.", "committedDate": "2020-07-15T15:15:08Z", "type": "commit"}, {"oid": "35bf446b52ec5dcfeef55bcc952894c45163610b", "url": "https://github.com/openmrs/openmrs-core/commit/35bf446b52ec5dcfeef55bcc952894c45163610b", "message": "Renamed form_namespace_path to form_namespace_and_path to be consistent with Obs old value.", "committedDate": "2020-07-15T16:00:40Z", "type": "commit"}, {"oid": "f26fa6ec52b727928e886c5a8d969d23416dae70", "url": "https://github.com/openmrs/openmrs-core/commit/f26fa6ec52b727928e886c5a8d969d23416dae70", "message": "Remove field formNamespaceAndPath.", "committedDate": "2020-07-15T16:01:28Z", "type": "commit"}, {"oid": "60011a60bc902800ddef16ce6105d70b390afd03", "url": "https://github.com/openmrs/openmrs-core/commit/60011a60bc902800ddef16ce6105d70b390afd03", "message": "Fixed imports with wildcard.", "committedDate": "2020-07-17T07:29:56Z", "type": "commit"}, {"oid": "6766e5380342f8335f97eae686e30c86653121e9", "url": "https://github.com/openmrs/openmrs-core/commit/6766e5380342f8335f97eae686e30c86653121e9", "message": "Merge branch 'master' of https://github.com/icrc-loliveira/openmrs-core into TRUNK-5862\n\n\u0001 Conflicts:\n\u0001\tapi/src/main/java/org/openmrs/Obs.java\n\u0001\tapi/src/test/java/org/openmrs/api/impl/ConditionServiceImplTest.java", "committedDate": "2020-07-17T07:55:36Z", "type": "commit"}, {"oid": "b6a3ac3d9580d14ec2045fbb74de412fea9b6d0d", "url": "https://github.com/openmrs/openmrs-core/commit/b6a3ac3d9580d14ec2045fbb74de412fea9b6d0d", "message": "Add a new test `saveCondition_shouldSaveNewCondition` instead of touching the existing one.", "committedDate": "2020-07-17T11:01:20Z", "type": "commit"}, {"oid": "378b95f4afce1125bd162cb1f9dc6cfe994e3a6c", "url": "https://github.com/openmrs/openmrs-core/commit/378b95f4afce1125bd162cb1f9dc6cfe994e3a6c", "message": "Incremented CHANGE_SET_COUNT_FOR_2_1_X", "committedDate": "2020-07-17T11:51:35Z", "type": "commit"}, {"oid": "41d9c9f6486eb5fc6064eb38fe708d2692a21e7a", "url": "https://github.com/openmrs/openmrs-core/commit/41d9c9f6486eb5fc6064eb38fe708d2692a21e7a", "message": "Replace dummy class BaseFormRecordableOpenmrsDataImpl by Obs", "committedDate": "2020-07-17T15:10:20Z", "type": "commit"}, {"oid": "d056ca5c79105381d0d7489264d436e376a879cc", "url": "https://github.com/openmrs/openmrs-core/commit/d056ca5c79105381d0d7489264d436e376a879cc", "message": "Replaced the import org.junit.Assert (JUnit 4) assertions in the BaseFormRecordableOpenmrsDataTest to use JUnit 5. JUnit 5 ones that are in the Jupiter package", "committedDate": "2020-07-22T12:44:40Z", "type": "commit"}, {"oid": "eb41df4c88803e39cf29ff80b2ec0c61a85373aa", "url": "https://github.com/openmrs/openmrs-core/commit/eb41df4c88803e39cf29ff80b2ec0c61a85373aa", "message": "Fix class comment.", "committedDate": "2020-07-22T12:46:07Z", "type": "commit"}, {"oid": "709d51b49fac566a0bb6596a3837b5a2b5a12943", "url": "https://github.com/openmrs/openmrs-core/commit/709d51b49fac566a0bb6596a3837b5a2b5a12943", "message": "Merge branch 'master' of https://github.com/openmrs/openmrs-core into TRUNK-5862\n\n\u0001 Conflicts:\n\u0001\tapi/src/main/java/org/openmrs/BaseFormRecordableOpenmrsData.java\n\u0001\tapi/src/test/java/org/openmrs/BaseFormRecordableOpenmrsDataTest.java", "committedDate": "2020-07-22T13:00:49Z", "type": "commit"}, {"oid": "4ab317c4e046c348824feec79e7dbc0ffa4a7751", "url": "https://github.com/openmrs/openmrs-core/commit/4ab317c4e046c348824feec79e7dbc0ffa4a7751", "message": "Updated class comment.", "committedDate": "2020-07-22T13:34:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkyNzY5OQ==", "url": "https://github.com/openmrs/openmrs-core/pull/3393#discussion_r458927699", "bodyText": "we generally favor static imports of assertion methods over the use of Assertions.yyy but other than that it looks good from JUnit 5 side \ud83d\udc4d", "author": "teleivo", "createdAt": "2020-07-22T16:32:53Z", "path": "api/src/test/java/org/openmrs/BaseFormRecordableOpenmrsDataTest.java", "diffHunk": "@@ -37,7 +37,7 @@ public void setFormField_shouldSetTheUnderlyingFormNamespaceAndPathInTheCorrectP\n \t\timpl.setFormField(ns, path);\n \t\tField formNamespaceAndPathProperty = BaseFormRecordableOpenmrsData.class.getDeclaredField(\"formNamespaceAndPath\");\n \t\tformNamespaceAndPathProperty.setAccessible(true);\n-\t\tAssert.assertEquals(ns + FORM_NAMESPACE_PATH_SEPARATOR + path, formNamespaceAndPathProperty.get(impl));\n+\t\tAssertions.assertEquals(ns + FORM_NAMESPACE_PATH_SEPARATOR + path, formNamespaceAndPathProperty.get(impl));", "originalCommit": "4ab317c4e046c348824feec79e7dbc0ffa4a7751", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA1OTQyMg==", "url": "https://github.com/openmrs/openmrs-core/pull/3393#discussion_r459059422", "bodyText": "@icrc-loliveira what @teleivo suggests is to do:\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n...\n\nassertEquals(ns + FORM_NAMESPACE_PATH_SEPARATOR + path, formNamespaceAndPathProperty.get(impl));\ninstead of\nimport org.junit.jupiter.api.Assertions;\n\n...\n\nAssertions.assertEquals(ns + FORM_NAMESPACE_PATH_SEPARATOR + path, formNamespaceAndPathProperty.get(impl));", "author": "mks-d", "createdAt": "2020-07-22T20:20:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkyNzY5OQ=="}], "type": "inlineReview"}, {"oid": "6c2229e7b4d754ad00c299d7fd48fb50bda296e3", "url": "https://github.com/openmrs/openmrs-core/commit/6c2229e7b4d754ad00c299d7fd48fb50bda296e3", "message": "Replaced Assertions by static imports", "committedDate": "2020-07-23T10:05:36Z", "type": "commit"}]}