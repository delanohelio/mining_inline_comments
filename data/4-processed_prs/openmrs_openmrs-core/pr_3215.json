{"pr_number": 3215, "pr_title": "Trunk-5738:Allow searching for orders based on Accession Number and O\u2026", "pr_createdAt": "2020-05-21T16:07:24Z", "pr_url": "https://github.com/openmrs/openmrs-core/pull/3215", "timeline": [{"oid": "5c033b6abc06f643aa471412698915c447757d3c", "url": "https://github.com/openmrs/openmrs-core/commit/5c033b6abc06f643aa471412698915c447757d3c", "message": "Trunk-5738:Allow searching for orders based on Accession Number and Order Number", "committedDate": "2020-05-21T16:06:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc1NTcwNw==", "url": "https://github.com/openmrs/openmrs-core/pull/3215#discussion_r428755707", "bodyText": "Normally I refrain from changing the standard test data, but this seemed safe.", "author": "mogoodrich", "createdAt": "2020-05-21T16:08:02Z", "path": "api/src/test/resources/org/openmrs/include/standardTestDataset.xml", "diffHunk": "@@ -357,7 +357,7 @@\n   <order_type_class_map order_type_id=\"2\" concept_class_id=\"1\"/>\n   <order_type_class_map order_type_id=\"1\" concept_class_id=\"3\"/>\n   <orders order_id=\"1\" order_type_id=\"1\" order_number=\"1\" urgency=\"ROUTINE\" order_action=\"NEW\" concept_id=\"88\" orderer=\"1\" instructions=\"2x daily\" date_activated=\"2008-08-08 00:00:00.0\" date_stopped=\"2008-08-15 00:00:00.0\" creator=\"1\" date_created=\"2008-08-08 00:00:00.0\" voided=\"false\" patient_id=\"7\" uuid=\"921de0a3-05c4-444a-be03-e01b4c4b9142\" care_setting=\"1\" encounter_id=\"3\" />\n-  <orders order_id=\"111\" order_type_id=\"1\" previous_order_id=\"1\" order_number=\"111\" orderer=\"1\" urgency=\"ROUTINE\" order_action=\"REVISE\" concept_id=\"88\" creator=\"1\" date_activated=\"2008-08-15 00:00:00.0\" date_created=\"2008-08-15 00:00:00.0\" voided=\"false\" patient_id=\"7\" uuid=\"e1f95924-697a-11e3-bd76-0800271c1b75\" care_setting=\"1\" encounter_id=\"3\" />\n+  <orders order_id=\"111\" order_type_id=\"1\" previous_order_id=\"1\" order_number=\"111\" orderer=\"1\" urgency=\"ROUTINE\" order_action=\"REVISE\" concept_id=\"88\" creator=\"1\" date_activated=\"2008-08-15 00:00:00.0\" date_created=\"2008-08-15 00:00:00.0\" voided=\"false\" patient_id=\"7\" uuid=\"e1f95924-697a-11e3-bd76-0800271c1b75\" care_setting=\"1\" encounter_id=\"3\" accession_number=\"ACC-123\"/>", "originalCommit": "5c033b6abc06f643aa471412698915c447757d3c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3ODk0Mw==", "url": "https://github.com/openmrs/openmrs-core/pull/3215#discussion_r428778943", "bodyText": "Two questions:\n\nIs this second constructor even needed, if it isn't even the recommended way to use this?\nIf it is, it should not be copying all of this setting logic, but instead first calling the other constructor, and then setting the additional properties.", "author": "mseaton", "createdAt": "2020-05-21T16:48:12Z", "path": "api/src/main/java/org/openmrs/parameter/OrderSearchCriteria.java", "diffHunk": "@@ -81,6 +91,49 @@\n \tprivate final boolean excludeDiscontinueOrders;\n \n \t/**\n+\t * Instead of calling this constructor directly, it is recommended to use {@link OrderSearchCriteriaBuilder}.", "originalCommit": "5c033b6abc06f643aa471412698915c447757d3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgxMzI4MQ==", "url": "https://github.com/openmrs/openmrs-core/pull/3215#discussion_r428813281", "bodyText": "I debated just removing it.  Seemed like it would be safe to remove since people shouldn't be using it directly, but since I'm planning on backporting I figured I'd keep it around to be safe.\nBut, agreed, I'll change it not to be repetitive... I was thinking that one constructor couldn't call another, but maybe I'm wrong about that...", "author": "mogoodrich", "createdAt": "2020-05-21T17:49:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3ODk0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3OTU5MQ==", "url": "https://github.com/openmrs/openmrs-core/pull/3215#discussion_r428779591", "bodyText": "Would be useful to an add an @SInCE annotation to any new public methods that your are introducing (here and elsewhere in this PR).", "author": "mseaton", "createdAt": "2020-05-21T16:49:19Z", "path": "api/src/main/java/org/openmrs/parameter/OrderSearchCriteria.java", "diffHunk": "@@ -137,6 +190,14 @@ public OrderSearchCriteria(Patient patient, CareSetting careSetting, Collection<\n \t */\n \tpublic Collection<OrderType> getOrderTypes() { return orderTypes; }\n \n+\tpublic String getAccessionNumber() {", "originalCommit": "5c033b6abc06f643aa471412698915c447757d3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgxMTkyMQ==", "url": "https://github.com/openmrs/openmrs-core/pull/3215#discussion_r428811921", "bodyText": "Ah, agreed, will do!", "author": "mogoodrich", "createdAt": "2020-05-21T17:46:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3OTU5MQ=="}], "type": "inlineReview"}, {"oid": "d1158bbd8a8a920e2babb2acf9efff1fc180a6d5", "url": "https://github.com/openmrs/openmrs-core/commit/d1158bbd8a8a920e2babb2acf9efff1fc180a6d5", "message": "Trunk-5738:Allow searching for orders based on Accession Number and Order Number\nupdated based on code review", "committedDate": "2020-05-21T19:06:14Z", "type": "commit"}]}