{"pr_number": 3260, "pr_title": "TRUNK-5800, Map concept_reference_map sequence correctly", "pr_createdAt": "2020-06-17T16:35:31Z", "pr_url": "https://github.com/openmrs/openmrs-core/pull/3260", "timeline": [{"oid": "6c8ce60d48fa0bf55f22d222c0b302f3bc10ace5", "url": "https://github.com/openmrs/openmrs-core/commit/6c8ce60d48fa0bf55f22d222c0b302f3bc10ace5", "message": "TRUNK-5800, Map concept_reference_map sequence correctly", "committedDate": "2020-06-17T16:33:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUyOTk0Mw==", "url": "https://github.com/openmrs/openmrs-core/pull/3260#discussion_r445529943", "bodyText": "According to the convention, concept_map_concept_map_id_seq looks like the correct one. Why do you think concept_reference_map_concept_map_id_seq is the correct one?", "author": "dkayiwa", "createdAt": "2020-06-25T12:46:51Z", "path": "api/src/main/resources/org/openmrs/api/db/hibernate/ConceptMap.hbm.xml", "diffHunk": "@@ -19,7 +19,7 @@\n  \n \t\t<id name=\"conceptMapId\" type=\"java.lang.Integer\" column=\"concept_map_id\" unsaved-value=\"0\">\n \t\t\t<generator class=\"native\">\n-\t\t\t\t<param name=\"sequence\">concept_map_concept_map_id_seq</param>", "originalCommit": "6c8ce60d48fa0bf55f22d222c0b302f3bc10ace5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNTU4NA==", "url": "https://github.com/openmrs/openmrs-core/pull/3260#discussion_r445535584", "bodyText": "If you look at the table name here it is concept_reference_map and id is concept_map_id. Hence the created sequence is concept_reference_map_concept_map_id_seq . I have cross checked this in PostgreSQL created sequences.", "author": "Am-Coder", "createdAt": "2020-06-25T12:55:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUyOTk0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNjAzNw==", "url": "https://github.com/openmrs/openmrs-core/pull/3260#discussion_r445536037", "bodyText": "I have attached the screenshot in ticket here https://issues.openmrs.org/browse/TRUNK-5800", "author": "Am-Coder", "createdAt": "2020-06-25T12:56:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUyOTk0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNzAwNg==", "url": "https://github.com/openmrs/openmrs-core/pull/3260#discussion_r445537006", "bodyText": "Does this have any effect to existing installations which may already be using concept_map_concept_map_id_seq?", "author": "dkayiwa", "createdAt": "2020-06-25T12:57:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUyOTk0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU0MzU1OA==", "url": "https://github.com/openmrs/openmrs-core/pull/3260#discussion_r445543558", "bodyText": "For MySQL there should not be any effect since it uses auto increment for id. For DB's that make use of table for a sequence as in case of PostgreSQL, this sequence does not get detected as it does not exists. For DB's making use of Sequence as a table we need to properly map them via hibernate.", "author": "Am-Coder", "createdAt": "2020-06-25T13:07:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUyOTk0Mw=="}], "type": "inlineReview"}]}