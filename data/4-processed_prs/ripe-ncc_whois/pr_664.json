{"pr_number": 664, "pr_title": "filter sensitive information in response body on exception", "pr_createdAt": "2020-10-26T19:07:56Z", "pr_url": "https://github.com/RIPE-NCC/whois/pull/664", "timeline": [{"oid": "972ce756a8dba2d7a564dd5c578fc6bf72eab78f", "url": "https://github.com/RIPE-NCC/whois/commit/972ce756a8dba2d7a564dd5c578fc6bf72eab78f", "message": "filter sensitive information in response body on exception", "committedDate": "2020-10-26T18:50:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ5NDA1NA==", "url": "https://github.com/RIPE-NCC/whois/pull/664#discussion_r512494054", "bodyText": "Thought this morning: consider moving  this logic into PasswordFilter.filterPasswordsInUrl. Before merging see if that won't be a better way to have it", "author": "dadepo", "createdAt": "2020-10-27T08:24:23Z", "path": "whois-api/src/main/java/net/ripe/db/whois/api/rest/RestServiceHelper.java", "diffHunk": "@@ -65,14 +67,18 @@ private static String filter(final String queryString) {\n         final StringBuilder builder = new StringBuilder();\n         char separator = '?';\n \n-        for (String next : AMPERSAND_SPLITTER.split(queryString)) {\n-            final Iterator<String> iterator = EQUALS_SPLITTER.split(next).iterator();\n-            if (iterator.hasNext() && iterator.next().equalsIgnoreCase(\"password\")) {\n-                continue;\n-            }\n+        if (queryString.contains(OVERRIDE_STRING)) {", "originalCommit": "972ce756a8dba2d7a564dd5c578fc6bf72eab78f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjU5NTQ4OA==", "url": "https://github.com/RIPE-NCC/whois/pull/664#discussion_r512595488", "bodyText": "\ud83d\udc4d", "author": "eshryane", "createdAt": "2020-10-27T10:59:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ5NDA1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjcxNjA1NA==", "url": "https://github.com/RIPE-NCC/whois/pull/664#discussion_r512716054", "bodyText": "Moved logic to remove password in URL to PasswordFilter", "author": "dadepo", "createdAt": "2020-10-27T14:00:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ5NDA1NA=="}], "type": "inlineReview"}, {"oid": "79bbc83142253d0889f9ee1a9eab7ba19de4e349", "url": "https://github.com/RIPE-NCC/whois/commit/79bbc83142253d0889f9ee1a9eab7ba19de4e349", "message": "Moved logic to remove password in URL to PasswordFilter", "committedDate": "2020-10-28T06:53:17Z", "type": "commit"}]}