{"pr_number": 583, "pr_title": "[OC-1203] Refactor definition of detail in bundle", "pr_createdAt": "2020-11-19T08:58:34Z", "pr_url": "https://github.com/opfab/operatorfabric-core/pull/583", "timeline": [{"oid": "f64445f1d10a6d06c0d13c700dfd9302ce9de502", "url": "https://github.com/opfab/operatorfabric-core/commit/f64445f1d10a6d06c0d13c700dfd9302ce9de502", "message": "[OC-1203] Refactor definition of detail in bundle", "committedDate": "2020-11-20T10:39:09Z", "type": "forcePushed"}, {"oid": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "url": "https://github.com/opfab/operatorfabric-core/commit/06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "message": "[OC-1203] Refactor definition of detail in bundle", "committedDate": "2020-11-20T14:55:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU2MzU0Mg==", "url": "https://github.com/opfab/operatorfabric-core/pull/583#discussion_r528563542", "bodyText": "Keep value in the new structure.", "author": "freddidierRTE", "createdAt": "2020-11-23T09:24:58Z", "path": "src/docs/asciidoc/reference_doc/response_cards.adoc", "diffHunk": "@@ -65,17 +65,6 @@ A card can have a response only if it's in a process/state that is configured fo\n           \"key\": \"question.button.text\"\n         }\n       },\n-      \"details\": [\n-        {\n-          \"title\": {\n-            \"key\": \"question.title\"\n-          },\n-          \"templateName\": \"question\",\n-          \"styles\": [\n-            \"style\"\n-          ]\n-        }\n-      ],", "originalCommit": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU2NTY2OQ==", "url": "https://github.com/opfab/operatorfabric-core/pull/583#discussion_r528565669", "bodyText": "not \"the datail title \" but \"detail\"", "author": "freddidierRTE", "createdAt": "2020-11-23T09:28:16Z", "path": "src/docs/asciidoc/resources/migration_guide_to_1.8.adoc", "diffHunk": "@@ -0,0 +1,132 @@\n+// Copyright (c) 2020 RTE (http://www.rte-france.com)\n+// See AUTHORS.txt\n+// This document is subject to the terms of the Creative Commons Attribution 4.0 International license.\n+// If a copy of the license was not distributed with this\n+// file, You can obtain one at https://creativecommons.org/licenses/by/4.0/.\n+// SPDX-License-Identifier: CC-BY-4.0\n+\n+= Migration Guide from release 1.7.0 to release 1.8.0 \n+\n+== Refactoring of business configuration \n+\n+=== Motivation for the change\n+There is no more the need for multiple definitions of card's detail rendering because of the removal of multitab rendering.\n+\n+The rendering of the detail of a card is configured specifing the datail title, template name and the list of styles.", "originalCommit": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU2NjE4Mg==", "url": "https://github.com/opfab/operatorfabric-core/pull/583#discussion_r528566182", "bodyText": "Remove information regarding the card model as it is just removal of unused fields", "author": "freddidierRTE", "createdAt": "2020-11-23T09:29:03Z", "path": "src/docs/asciidoc/resources/migration_guide_to_1.8.adoc", "diffHunk": "@@ -0,0 +1,132 @@\n+// Copyright (c) 2020 RTE (http://www.rte-france.com)\n+// See AUTHORS.txt\n+// This document is subject to the terms of the Creative Commons Attribution 4.0 International license.\n+// If a copy of the license was not distributed with this\n+// file, You can obtain one at https://creativecommons.org/licenses/by/4.0/.\n+// SPDX-License-Identifier: CC-BY-4.0\n+\n+= Migration Guide from release 1.7.0 to release 1.8.0 \n+\n+== Refactoring of business configuration \n+\n+=== Motivation for the change\n+There is no more the need for multiple definitions of card's detail rendering because of the removal of multitab rendering.\n+\n+The rendering of the detail of a card is configured specifing the datail title, template name and the list of styles.\n+\n+=== Changes to the model\n+\n+==== On the Businessconfig model\n+In the Businessconfig model definition the field `details` has been removed.\n+\n+The new fields `datailTitle`, `templateName` and `styles` have been added.\n+\n+Here is an example of a simple config.json file:\n+\n+.Before\n+[source,json]\n+----\n+\n+{\n+  \"id\": \"TEST\",\n+  \"version\": \"1\",\n+  \"name\": \"process.label\",\n+  \"defaultLocale\": \"fr\",\n+  \"menuLabel\": \"menu.label\",\n+  \"menuEntries\": [\n+    {\"id\": \"uid test 0\",\"url\": \"https://opfab.github.io/\",\"label\": \"menu.first\"},\n+    {\"id\": \"uid test 1\",\"url\": \"https://www.la-rache.com\",\"label\": \"menu.second\"}\n+  ],\n+  \"states\": {\n+    \"firstState\": {\n+      \"name\" :\"mystate.label\",\n+      \"details\": [\n+        {\n+          \"title\": {\n+            \"key\": \"template.title\"\n+          },\n+          \"templateName\": \"operation\",\n+\t\t  \"styles\": [\"style1\",\"style2\"]\n+        }\n+      ]\n+    }\n+  }\n+}\n+\n+----\n+\n+.After\n+[source,json]\n+----\n+\n+{\n+  \"id\": \"TEST\",\n+  \"version\": \"1\",\n+  \"name\": \"process.label\",\n+  \"defaultLocale\": \"fr\",\n+  \"menuLabel\": \"menu.label\",\n+  \"menuEntries\": [\n+    {\"id\": \"uid test 0\",\"url\": \"https://opfab.github.io/\",\"label\": \"menu.first\"},\n+    {\"id\": \"uid test 1\",\"url\": \"https://www.la-rache.com\",\"label\": \"menu.second\"}\n+  ],\n+  \"states\": {\n+    \"firstState\": {\n+      \"name\" :\"mystate.label\",\n+\t  \"detailsTitle\": {\n+\t\t\"key\": \"template.title\"\n+\t  },\n+\t  \"templateName\": \"operation\",\n+\t  \"styles\": [\"style1\",\"style2\"]\n+    }\n+  }\n+}\n+----\n+\n+\n+==== On the Card model\n+\n+In the Card model definition the field `details` has been removed.\n+\n+Here is an example of a simple card json object:\n+\n+.Before\n+[source,json]\n+----\n+....\n+{\n+\t\"publisher\":\"TEST_PUBLISHER\",\n+\t\"processVersion\":\"1\",\n+\t\"process\":\"TEST\",\n+\t\"processInstanceId\":\"process-000\",\n+\t\"state\":\"myState\",\n+\t\"startDate\":1546297200000,\n+\t\"severity\":\"INFORMATION\",\n+\t\"title\":{\"key\":\"process.title\"},\n+\t\"summary\":{\"key\":\"process.summary\"},\n+\t\"userRecipients\": [\"operator1\"],\n+\t\"data\":{\"rootProp\":\"Data displayed in the detail panel\"},\n+\t\"details\":[{\"title\":{\"key\":\"process.detail.tab.first\"}, \"templateName\":\"template1\", \"styles\":[\"style1\", \"style2\"]}]\n+\n+}\n+\n+----\n+\n+.After\n+[source,json]", "originalCommit": "06d1f38bc09849e4b1edf9a6c6c9b6bcab4c6408", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0b2c2f6f1ba3bb5043fc499eb22a685a012e0191", "url": "https://github.com/opfab/operatorfabric-core/commit/0b2c2f6f1ba3bb5043fc499eb22a685a012e0191", "message": "[OC-1203] Refactor definition of detail in bundle", "committedDate": "2020-11-23T15:34:34Z", "type": "forcePushed"}, {"oid": "2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "url": "https://github.com/opfab/operatorfabric-core/commit/2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "message": "[OC-1203] Refactor definition of detail in bundle", "committedDate": "2020-11-24T09:36:40Z", "type": "commit"}, {"oid": "2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "url": "https://github.com/opfab/operatorfabric-core/commit/2f8c5f25fa3718e3b4182522e27f8716a8e20e52", "message": "[OC-1203] Refactor definition of detail in bundle", "committedDate": "2020-11-24T09:36:40Z", "type": "forcePushed"}]}