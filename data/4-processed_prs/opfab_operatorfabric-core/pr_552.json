{"pr_number": 552, "pr_title": "Oc 1073 esm 187", "pr_createdAt": "2020-10-26T22:36:05Z", "pr_url": "https://github.com/opfab/operatorfabric-core/pull/552", "timeline": [{"oid": "1f4fdbd2d9f39f6f064e802259b785bf56f1a35d", "url": "https://github.com/opfab/operatorfabric-core/commit/1f4fdbd2d9f39f6f064e802259b785bf56f1a35d", "message": "[OC-1073-esm-187] removed option to set the key serializer and added confluent dependencies\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-22T12:13:21Z", "type": "commit"}, {"oid": "368fb11f36fe726f18d41d8ba58c81e95af473e2", "url": "https://github.com/opfab/operatorfabric-core/commit/368fb11f36fe726f18d41d8ba58c81e95af473e2", "message": "Merge branch 'OC-1073' into OC-1073-esm-187\n\n# Conflicts:\n#\tconfig/dev/cards-publication-dev.yml", "committedDate": "2020-10-22T18:53:50Z", "type": "commit"}, {"oid": "3055c3055046c7a0ecc062631700278823436383", "url": "https://github.com/opfab/operatorfabric-core/commit/3055c3055046c7a0ecc062631700278823436383", "message": "[OC-1073-esm-187] configuration refactoring\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-26T16:14:34Z", "type": "commit"}, {"oid": "96c96f0cc87f793efef5cc29368a000a79017ad4", "url": "https://github.com/opfab/operatorfabric-core/commit/96c96f0cc87f793efef5cc29368a000a79017ad4", "message": "[OC-1073-esm-187] fixing unit tests\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-26T22:31:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ3MzA2Mw==", "url": "https://github.com/opfab/operatorfabric-core/pull/552#discussion_r512473063", "bodyText": "Zou je de SPRING_DESERIALIZER_VALUE_DELEGATE_CLASS hier niet uit-commenten (is dat Nederlands?)\nAnders overruled deze altijd de deserializer uit de .yml file.", "author": "JeroenGommans", "createdAt": "2020-10-27T07:45:39Z", "path": "config/docker/kafka-env.properties", "diffHunk": "@@ -1,3 +1,2 @@\n-#SPRING_KAFKA_CONSUMER_GROUP_ID=opfab\n-SPRING_DESERIALIZER_KEY_DELEGATE_CLASS=org.apache.kafka.common.serialization.StringDeserializer\n-SPRING_DESERIALIZER_VALUE_DELEGATE_CLASS=org.lfenergy.operatorfabric.cards.publication.kafka.consumer.CardCommandConsumerDeserializer\n+#SPRING_KAFKA_CONSUMER_GROUP_ID=opfab-command\n+SPRING_DESERIALIZER_VALUE_DELEGATE_CLASS=org.lfenergy.operatorfabric.cards.publication.kafka.consumer.KafkaAvroWithoutRegistryDeserializer", "originalCommit": "96c96f0cc87f793efef5cc29368a000a79017ad4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6fb1d217fa4498825141c0d26722ff998d9fe5fe", "url": "https://github.com/opfab/operatorfabric-core/commit/6fb1d217fa4498825141c0d26722ff998d9fe5fe", "message": "[OC-1073-esm-187] minor configuration fixes\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-27T09:02:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc0NTk0Nw==", "url": "https://github.com/opfab/operatorfabric-core/pull/552#discussion_r512745947", "bodyText": "deze file kan weg", "author": "geppyz", "createdAt": "2020-10-27T14:35:24Z", "path": "src/main/docker/deploy/.env", "diffHunk": "@@ -0,0 +1,2 @@\n+USER_ID=503", "originalCommit": "6fb1d217fa4498825141c0d26722ff998d9fe5fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc0NzA2MA==", "url": "https://github.com/opfab/operatorfabric-core/pull/552#discussion_r512747060", "bodyText": "Moet de schema registry standaard in de yml actief staan? zit er bijv al een dockerimage bij die een registry draait op 8081?", "author": "geppyz", "createdAt": "2020-10-27T14:36:48Z", "path": "config/docker/cards-publication-docker.yml", "diffHunk": "@@ -2,7 +2,23 @@\n spring:\n   application:\n     name: cards-publication\n+  deserializer:\n+    value:\n+      delegate:\n+        class: io.confluent.kafka.serializers.KafkaAvroDeserializer\n+  # uncomment to enable Kafka\n+#  kafka:\n+#    consumer:\n+#      group-id: opfab-command\n \n+schema:\n+  registry:\n+    url: http://localhost:8081", "originalCommit": "6fb1d217fa4498825141c0d26722ff998d9fe5fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc0NzE5Nw==", "url": "https://github.com/opfab/operatorfabric-core/pull/552#discussion_r512747197", "bodyText": "Deze file kan weg.", "author": "geppyz", "createdAt": "2020-10-27T14:36:58Z", "path": ".env", "diffHunk": "@@ -0,0 +1,2 @@\n+USER_ID=503", "originalCommit": "6fb1d217fa4498825141c0d26722ff998d9fe5fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc0NzYxMA==", "url": "https://github.com/opfab/operatorfabric-core/pull/552#discussion_r512747610", "bodyText": "Zie comment bij cards-pub-docker.yml", "author": "geppyz", "createdAt": "2020-10-27T14:37:27Z", "path": "config/dev/cards-publication-dev.yml", "diffHunk": "@@ -3,18 +3,23 @@ server:\n spring:\n   application:\n     name: cards-publication\n-  kafka:\n-    consumer:\n-      #Uncomment the Kafka group-id to enable Kafka\n-#      group-id: opfab-command\n-      auto-offset-reset: earliest\n   deserializer:\n-    key:\n-      delegate:\n-        class: org.apache.kafka.common.serialization.StringDeserializer\n     value:\n       delegate:\n-        class: org.lfenergy.operatorfabric.cards.publication.kafka.consumer.CardCommandConsumerDeserializer\n+        class: io.confluent.kafka.serializers.KafkaAvroDeserializer\n+  # uncomment to enable Kafka\n+#  kafka:\n+#    consumer:\n+#      group-id: opfab-command\n+\n+schema:\n+  registry:\n+    url: http://localhost:8081", "originalCommit": "6fb1d217fa4498825141c0d26722ff998d9fe5fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eb716aa5131f8090d51e3ad9ed875bb66cc2c3c4", "url": "https://github.com/opfab/operatorfabric-core/commit/eb716aa5131f8090d51e3ad9ed875bb66cc2c3c4", "message": "[OC-1073-esm-187] removed .env files\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-27T16:12:01Z", "type": "commit"}, {"oid": "84af7789c8d1ccd08ba23ff26cc88203ec785edc", "url": "https://github.com/opfab/operatorfabric-core/commit/84af7789c8d1ccd08ba23ff26cc88203ec785edc", "message": "[OC-1073-esm-187] removed unused local variable\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-30T09:52:47Z", "type": "commit"}, {"oid": "11c84770a77da82efd46076d879db4417cb0998d", "url": "https://github.com/opfab/operatorfabric-core/commit/11c84770a77da82efd46076d879db4417cb0998d", "message": "[OC-1073-esm-187] changed location of confluent repo definition\n\nSigned-off-by: Sjoerd Adema <sjoerd@kristalsoftware.nl>", "committedDate": "2020-10-30T10:04:07Z", "type": "commit"}]}