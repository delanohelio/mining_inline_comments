{"pr_number": 1126, "pr_title": "HIVE-23598: Add option to rewrite NTILE and RANK to sketch functions", "pr_createdAt": "2020-06-16T15:57:03Z", "pr_url": "https://github.com/apache/hive/pull/1126", "timeline": [{"oid": "4e09052f5edf472f9fa77a1f435a5c9b89188fb0", "url": "https://github.com/apache/hive/commit/4e09052f5edf472f9fa77a1f435a5c9b89188fb0", "message": "review comments", "committedDate": "2020-05-29T10:14:07Z", "type": "commit"}, {"oid": "f770fdcebec0bc389ce8f7a48c03e72350316d3f", "url": "https://github.com/apache/hive/commit/f770fdcebec0bc389ce8f7a48c03e72350316d3f", "message": "expose stuff during scheduled executions", "committedDate": "2020-05-29T12:14:09Z", "type": "commit"}, {"oid": "083899db2a8820c081b11d31e4fffa068bc637bd", "url": "https://github.com/apache/hive/commit/083899db2a8820c081b11d31e4fffa068bc637bd", "message": "Revert \"expose stuff during scheduled executions\"\n\nThis reverts commit f770fdcebec0bc389ce8f7a48c03e72350316d3f.", "committedDate": "2020-05-29T12:15:14Z", "type": "commit"}, {"oid": "4df5011cc9fe4de1d0406e096f3726fd269eebef", "url": "https://github.com/apache/hive/commit/4df5011cc9fe4de1d0406e096f3726fd269eebef", "message": "updates", "committedDate": "2020-05-30T13:47:07Z", "type": "commit"}, {"oid": "64c35da25b46bc0b8a96e3a223a9a2972c8cbc4d", "url": "https://github.com/apache/hive/commit/64c35da25b46bc0b8a96e3a223a9a2972c8cbc4d", "message": "put back approx", "committedDate": "2020-06-02T18:22:21Z", "type": "commit"}, {"oid": "6aba9f60200c1692dc8e09af4d382f39e0fe85cb", "url": "https://github.com/apache/hive/commit/6aba9f60200c1692dc8e09af4d382f39e0fe85cb", "message": "use <=>", "committedDate": "2020-06-02T18:38:10Z", "type": "commit"}, {"oid": "50592da072be729933db133b86773c49288e81da", "url": "https://github.com/apache/hive/commit/50592da072be729933db133b86773c49288e81da", "message": "postpone introduction of sqlkind.cume_dist", "committedDate": "2020-06-02T19:00:27Z", "type": "commit"}, {"oid": "474338c1e1f9737e923b70895ac4f6e206d98b25", "url": "https://github.com/apache/hive/commit/474338c1e1f9737e923b70895ac4f6e206d98b25", "message": "approx-en", "committedDate": "2020-06-02T19:04:09Z", "type": "commit"}, {"oid": "d7c933f2d76504d16dbee0a14efe9213498b1a6d", "url": "https://github.com/apache/hive/commit/d7c933f2d76504d16dbee0a14efe9213498b1a6d", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23462-rewrite-ntile", "committedDate": "2020-06-03T10:05:14Z", "type": "commit"}, {"oid": "50b616456bafcfcc15b80adf0af2dfba94d92012", "url": "https://github.com/apache/hive/commit/50b616456bafcfcc15b80adf0af2dfba94d92012", "message": "compute_stats changes", "committedDate": "2020-06-03T11:12:22Z", "type": "commit"}, {"oid": "7017d3c719f23ade8e72f78a6ba28aae3b2c967c", "url": "https://github.com/apache/hive/commit/7017d3c719f23ade8e72f78a6ba28aae3b2c967c", "message": "remove", "committedDate": "2020-06-03T12:25:12Z", "type": "commit"}, {"oid": "d18554781fc965f559a34ec01cfc98eba4f436fb", "url": "https://github.com/apache/hive/commit/d18554781fc965f559a34ec01cfc98eba4f436fb", "message": "apidoc update", "committedDate": "2020-06-03T12:56:25Z", "type": "commit"}, {"oid": "ffd3e63fe411c28f45316c8686a6ac058a81a0e4", "url": "https://github.com/apache/hive/commit/ffd3e63fe411c28f45316c8686a6ac058a81a0e4", "message": "add ntile0", "committedDate": "2020-06-03T13:05:55Z", "type": "commit"}, {"oid": "b05291b0b4ee1343cd470129eed8f92aa8323cf7", "url": "https://github.com/apache/hive/commit/b05291b0b4ee1343cd470129eed8f92aa8323cf7", "message": "ntile0", "committedDate": "2020-06-03T13:09:29Z", "type": "commit"}, {"oid": "1f9cad40ebf37fd7d13d906efb4a13333be90d6c", "url": "https://github.com/apache/hive/commit/1f9cad40ebf37fd7d13d906efb4a13333be90d6c", "message": "4", "committedDate": "2020-06-03T13:10:13Z", "type": "commit"}, {"oid": "47d5ff14830163a07095e52d22c89e9d6e53e599", "url": "https://github.com/apache/hive/commit/47d5ff14830163a07095e52d22c89e9d6e53e599", "message": "add option", "committedDate": "2020-06-03T13:15:16Z", "type": "commit"}, {"oid": "1cf96ee85156125986d366858a52c484087993a8", "url": "https://github.com/apache/hive/commit/1cf96ee85156125986d366858a52c484087993a8", "message": "cume_dist returns double", "committedDate": "2020-06-04T09:04:18Z", "type": "commit"}, {"oid": "e5de7b9fba42aa3f420c767dde408576a15e083e", "url": "https://github.com/apache/hive/commit/e5de7b9fba42aa3f420c767dde408576a15e083e", "message": "more test?", "committedDate": "2020-06-05T11:36:51Z", "type": "commit"}, {"oid": "c2309e3a7bc0d09d9742e45c1410031f2bed762c", "url": "https://github.com/apache/hive/commit/c2309e3a7bc0d09d9742e45c1410031f2bed762c", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23462-rewrite-ntile", "committedDate": "2020-06-08T14:36:38Z", "type": "commit"}, {"oid": "96b22dee9a24b871c727b98ef2bef81a83f702fd", "url": "https://github.com/apache/hive/commit/96b22dee9a24b871c727b98ef2bef81a83f702fd", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23462-rewrite-ntile", "committedDate": "2020-06-09T13:50:07Z", "type": "commit"}, {"oid": "540af87ceb4ec069e0ca75e35bb66aec57048d2d", "url": "https://github.com/apache/hive/commit/540af87ceb4ec069e0ca75e35bb66aec57048d2d", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23598-ntile2", "committedDate": "2020-06-09T15:06:50Z", "type": "commit"}, {"oid": "7b37f4ecab34309a3fab9ed19f50f43af8d6ec9b", "url": "https://github.com/apache/hive/commit/7b37f4ecab34309a3fab9ed19f50f43af8d6ec9b", "message": "Merge remote-tracking branch 'remotes/kgyrtkirk/HIVE-23462-rewrite-ntile' into HIVE-23598-ntile2", "committedDate": "2020-06-12T13:24:14Z", "type": "commit"}, {"oid": "4ba8b0efc91963a2a1f61c5beff970431a4bc93f", "url": "https://github.com/apache/hive/commit/4ba8b0efc91963a2a1f61c5beff970431a4bc93f", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23462-rewrite-ntile", "committedDate": "2020-06-12T13:29:19Z", "type": "commit"}, {"oid": "4ed2b244238f7db259833dfc78c45f8af3dde529", "url": "https://github.com/apache/hive/commit/4ed2b244238f7db259833dfc78c45f8af3dde529", "message": "Merge branch 'HIVE-23462-rewrite-ntile' into HIVE-23598-ntile2", "committedDate": "2020-06-12T13:29:28Z", "type": "commit"}, {"oid": "70a57bb81dfce23c8f969f11599fd6969defc0c3", "url": "https://github.com/apache/hive/commit/70a57bb81dfce23c8f969f11599fd6969defc0c3", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23598-ntile2", "committedDate": "2020-06-15T10:06:17Z", "type": "commit"}, {"oid": "87cb15327ed489ada47a87db8e05cb954a220ed7", "url": "https://github.com/apache/hive/commit/87cb15327ed489ada47a87db8e05cb954a220ed7", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23598-ntile2", "committedDate": "2020-06-16T07:23:37Z", "type": "commit"}, {"oid": "de30a48c103834ddb070470ef31ca8d8d478fce8", "url": "https://github.com/apache/hive/commit/de30a48c103834ddb070470ef31ca8d8d478fce8", "message": "cume_dist is not that interesting than others; might get back to it later", "committedDate": "2020-06-16T12:49:58Z", "type": "commit"}, {"oid": "1e4b2a72dc6904a8d06d6c31e957013c24bf09ba", "url": "https://github.com/apache/hive/commit/1e4b2a72dc6904a8d06d6c31e957013c24bf09ba", "message": "generalize", "committedDate": "2020-06-16T13:08:24Z", "type": "commit"}, {"oid": "9676ff987c9ac9c43d19337f2b9e43cf430d2170", "url": "https://github.com/apache/hive/commit/9676ff987c9ac9c43d19337f2b9e43cf430d2170", "message": "updates/etc", "committedDate": "2020-06-16T14:36:23Z", "type": "commit"}, {"oid": "2a3261d84550e8f6b3330d36db6d1d71ccf330d0", "url": "https://github.com/apache/hive/commit/2a3261d84550e8f6b3330d36db6d1d71ccf330d0", "message": "fx", "committedDate": "2020-06-16T14:38:09Z", "type": "commit"}, {"oid": "d3ccd5b42f50153e84774df281f6f980a9ebb33f", "url": "https://github.com/apache/hive/commit/d3ccd5b42f50153e84774df281f6f980a9ebb33f", "message": "ntile", "committedDate": "2020-06-16T14:41:13Z", "type": "commit"}, {"oid": "d67b41d6846b279d6537cbb666ff46bbd8b010cf", "url": "https://github.com/apache/hive/commit/d67b41d6846b279d6537cbb666ff46bbd8b010cf", "message": "add fixme", "committedDate": "2020-06-16T14:41:50Z", "type": "commit"}, {"oid": "e79af274f08807449cc392b4fa6864d86c9bc490", "url": "https://github.com/apache/hive/commit/e79af274f08807449cc392b4fa6864d86c9bc490", "message": "indent", "committedDate": "2020-06-16T14:46:37Z", "type": "commit"}, {"oid": "b8eba7295b01e6c04e76ec3138b4e206fbdf8efc", "url": "https://github.com/apache/hive/commit/b8eba7295b01e6c04e76ec3138b4e206fbdf8efc", "message": "add rank", "committedDate": "2020-06-16T15:11:34Z", "type": "commit"}, {"oid": "66beeed292427aac46a303f50d2e7721553f1e18", "url": "https://github.com/apache/hive/commit/66beeed292427aac46a303f50d2e7721553f1e18", "message": "rank", "committedDate": "2020-06-16T15:25:13Z", "type": "commit"}, {"oid": "fa023b6ed213d8a2964785347eed6a9fc8133758", "url": "https://github.com/apache/hive/commit/fa023b6ed213d8a2964785347eed6a9fc8133758", "message": "fixes; use rank instead of cdf", "committedDate": "2020-06-16T15:39:30Z", "type": "commit"}, {"oid": "fb9f9ca2a7ca062644e92aa61b9756ccd82c137f", "url": "https://github.com/apache/hive/commit/fb9f9ca2a7ca062644e92aa61b9756ccd82c137f", "message": "correct/etc", "committedDate": "2020-06-16T15:41:04Z", "type": "commit"}, {"oid": "3b9d64cac879edeb5bc58a35f956b627b1e4b98a", "url": "https://github.com/apache/hive/commit/3b9d64cac879edeb5bc58a35f956b627b1e4b98a", "message": "rename class", "committedDate": "2020-06-16T15:43:46Z", "type": "commit"}, {"oid": "80d16de562786841c423764fe88ac0ca150c6fbd", "url": "https://github.com/apache/hive/commit/80d16de562786841c423764fe88ac0ca150c6fbd", "message": "renames/reorg", "committedDate": "2020-06-16T15:49:56Z", "type": "commit"}, {"oid": "6105f0c169589be3abe09ab521fd4d81d5510add", "url": "https://github.com/apache/hive/commit/6105f0c169589be3abe09ab521fd4d81d5510add", "message": "rename/etc", "committedDate": "2020-06-16T15:54:00Z", "type": "commit"}, {"oid": "be4f68c8b60f50865883a26a23453ee8464626aa", "url": "https://github.com/apache/hive/commit/be4f68c8b60f50865883a26a23453ee8464626aa", "message": "correct apidoc", "committedDate": "2020-06-16T15:55:32Z", "type": "commit"}, {"oid": "f66331a6ced569f0740450ef8ffc49d8da77f692", "url": "https://github.com/apache/hive/commit/f66331a6ced569f0740450ef8ffc49d8da77f692", "message": "fixes?", "committedDate": "2020-06-16T16:05:12Z", "type": "commit"}, {"oid": "fa3d84d36fc581a3b506c5d80db886c733b2f021", "url": "https://github.com/apache/hive/commit/fa3d84d36fc581a3b506c5d80db886c733b2f021", "message": "aa", "committedDate": "2020-06-16T16:10:47Z", "type": "commit"}, {"oid": "3c74d4bf4b8117808a23f38ce2ee01437b709b92", "url": "https://github.com/apache/hive/commit/3c74d4bf4b8117808a23f38ce2ee01437b709b92", "message": "updates", "committedDate": "2020-06-16T16:16:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI1MDU5Ng==", "url": "https://github.com/apache/hive/pull/1126#discussion_r442250596", "bodyText": "Results are not the same and there seems to be incorrect?", "author": "jcamachor", "createdAt": "2020-06-18T14:03:00Z", "path": "ql/src/test/results/clientpositive/llap/sketches_rewrite_cume_dist_partition_by.q.out", "diffHunk": "@@ -26,76 +26,42 @@ POSTHOOK: Input: _dummy_database@_dummy_table\n POSTHOOK: Output: default@sketch_input\n POSTHOOK: Lineage: sketch_input.category SCRIPT []\n POSTHOOK: Lineage: sketch_input.id SCRIPT []\n-PREHOOK: query: select id,category,cume_dist() over (partition by category order by id) from sketch_input order by category,id\n-PREHOOK: type: QUERY\n-PREHOOK: Input: default@sketch_input\n-#### A masked pattern was here ####\n-POSTHOOK: query: select id,category,cume_dist() over (partition by category order by id) from sketch_input order by category,id\n-POSTHOOK: type: QUERY\n-POSTHOOK: Input: default@sketch_input\n-#### A masked pattern was here ####\n-1\ta\t0.18181818181818182\n-1\ta\t0.18181818181818182\n-2\ta\t0.2727272727272727\n-3\ta\t0.36363636363636365\n-4\ta\t0.45454545454545453\n-5\ta\t0.5454545454545454\n-6\ta\t0.6363636363636364\n-7\ta\t0.7272727272727273\n-8\ta\t0.8181818181818182\n-9\ta\t0.9090909090909091\n-10\ta\t1.0\n-6\tb\t0.18181818181818182\n-6\tb\t0.18181818181818182\n-7\tb\t0.2727272727272727\n-8\tb\t0.36363636363636365\n-9\tb\t0.45454545454545453\n-10\tb\t0.5454545454545454\n-11\tb\t0.6363636363636364\n-12\tb\t0.7272727272727273\n-13\tb\t0.8181818181818182\n-14\tb\t0.9090909090909091\n-15\tb\t1.0\n-1\tNULL\t0.25\n-2\tNULL\t0.5\n-10\tNULL\t0.75\n-13\tNULL\t1.0\n-PREHOOK: query: select id,category,cume_dist() over (partition by category order by id),1.0-ds_kll_cdf(ds, CAST(-id AS FLOAT))[0]\n+PREHOOK: query: select id,category,cume_dist() over (partition by category order by id),ds_kll_cdf(ds, CAST(id AS FLOAT))[0]\n from sketch_input\n-join ( select category as c,ds_kll_sketch(cast(-id as float)) as ds from sketch_input group by category) q on (q.c=category)\n+join ( select category as c,ds_kll_sketch(cast(id as float)) as ds from sketch_input group by category) q on (q.c=category)\n order by category,id\n PREHOOK: type: QUERY\n PREHOOK: Input: default@sketch_input\n #### A masked pattern was here ####\n-POSTHOOK: query: select id,category,cume_dist() over (partition by category order by id),1.0-ds_kll_cdf(ds, CAST(-id AS FLOAT))[0]\n+POSTHOOK: query: select id,category,cume_dist() over (partition by category order by id),ds_kll_cdf(ds, CAST(id AS FLOAT))[0]\n from sketch_input\n-join ( select category as c,ds_kll_sketch(cast(-id as float)) as ds from sketch_input group by category) q on (q.c=category)\n+join ( select category as c,ds_kll_sketch(cast(id as float)) as ds from sketch_input group by category) q on (q.c=category)\n order by category,id\n POSTHOOK: type: QUERY\n POSTHOOK: Input: default@sketch_input\n #### A masked pattern was here ####\n-1\ta\t0.18181818181818182\t0.18181818181818177\n-1\ta\t0.18181818181818182\t0.18181818181818177\n-2\ta\t0.2727272727272727\t0.2727272727272727\n-3\ta\t0.36363636363636365\t0.36363636363636365\n-4\ta\t0.45454545454545453\t0.4545454545454546\n-5\ta\t0.5454545454545454\t0.5454545454545454\n-6\ta\t0.6363636363636364\t0.6363636363636364\n-7\ta\t0.7272727272727273\t0.7272727272727273\n-8\ta\t0.8181818181818182\t0.8181818181818181\n-9\ta\t0.9090909090909091\t0.9090909090909091\n-10\ta\t1.0\t1.0\n-6\tb\t0.18181818181818182\t0.18181818181818177\n-6\tb\t0.18181818181818182\t0.18181818181818177\n-7\tb\t0.2727272727272727\t0.2727272727272727\n-8\tb\t0.36363636363636365\t0.36363636363636365\n-9\tb\t0.45454545454545453\t0.4545454545454546\n-10\tb\t0.5454545454545454\t0.5454545454545454\n-11\tb\t0.6363636363636364\t0.6363636363636364\n-12\tb\t0.7272727272727273\t0.7272727272727273\n-13\tb\t0.8181818181818182\t0.8181818181818181\n-14\tb\t0.9090909090909091\t0.9090909090909091\n-15\tb\t1.0\t1.0\n+1\ta\t0.18181818181818182\t0.0", "originalCommit": "3c74d4bf4b8117808a23f38ce2ee01437b709b92", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2MDI1Mg==", "url": "https://github.com/apache/hive/pull/1126#discussion_r442360252", "bodyText": "I've bartered the almost 100% correct cume_dist rewrite to a mostly correct one - for which the same materialized view could be used underneath as for rank and ntile.\nAs a matter of fact; I think after submitting a patch to alter the udf a bit it could get back to the more accurate results again.", "author": "kgyrtkirk", "createdAt": "2020-06-18T16:40:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI1MDU5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM3OTI0MA==", "url": "https://github.com/apache/hive/pull/1126#discussion_r442379240", "bodyText": "{quote}\nAs a matter of fact; I think after submitting a patch to alter the udf a bit it could get back to the more accurate results again.\n{quote}\nYes, I think we should do that. Thanks", "author": "jcamachor", "createdAt": "2020-06-18T17:12:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI1MDU5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2Njk3OA==", "url": "https://github.com/apache/hive/pull/1126#discussion_r442266978", "bodyText": "Fwiw, Hive does a complete mess about this. If there is no window frame, following the SQL standard:\n\nNo order by spec -> rows, unbounded preceding, unbounded following\nOrder by spec -> range, unbounded preceding, current row\nThis also aligns with most RDBMSs implementation.\n\nWe may need to revisit the logic in this WindowingSpec block at some point:\nhttps://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingSpec.java#L214\nBut I suspect there is compensation logic for that in execution code path and it may require some work.", "author": "jcamachor", "createdAt": "2020-06-18T14:25:18Z", "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveRewriteToDataSketchesRules.java", "diffHunk": "@@ -483,46 +489,44 @@ protected final SqlOperator getSqlOperator(String fnName) {\n   }\n \n   /**\n-   * Rewrites {@code cume_dist() over (order by id)}.\n+   * Provides a generic way to rewrite function into using an estimation based on CDF.\n+   *\n+   *  There are a few methods which could be supported this way: NTILE, CUME_DIST, RANK\n    *\n+   *  For example:\n    *  <pre>\n    *   SELECT id, CUME_DIST() OVER (ORDER BY id) FROM sketch_input;\n-   *     \u21d2 SELECT id, 1.0-ds_kll_cdf(ds, CAST(-id AS FLOAT) )[0]\n+   *     \u21d2 SELECT id, ds_kll_cdf(ds, CAST(id AS FLOAT) )[0]\n    *       FROM sketch_input JOIN (\n-   *         SELECT ds_kll_sketch(CAST(-id AS FLOAT)) AS ds FROM sketch_input\n+   *         SELECT ds_kll_sketch(CAST(id AS FLOAT)) AS ds FROM sketch_input\n    *       ) q;\n    *  </pre>\n    */\n-  public static class CumeDistRewrite extends WindowingToProjectAggregateJoinProject {\n+  public static abstract class AbstractRankBasedRewriteRule extends WindowingToProjectAggregateJoinProject {\n \n-    public CumeDistRewrite(String sketchType) {\n+    public AbstractRankBasedRewriteRule(String sketchType) {\n       super(sketchType);\n     }\n \n-    @Override\n-    protected VbuilderPAP buildProcessor(RelOptRuleCall call) {\n-      return new VB(sketchType, call.builder());\n-    }\n+    protected static abstract class AbstractRankBasedRewriteBuilder extends VbuilderPAP {\n \n-    private static class VB extends VbuilderPAP {\n-\n-      protected VB(String sketchClass, RelBuilder relBuilder) {\n+      protected AbstractRankBasedRewriteBuilder(String sketchClass, RelBuilder relBuilder) {\n         super(sketchClass, relBuilder);\n       }\n \n       @Override\n-      boolean isApplicable(RexOver over) {\n-        SqlAggFunction aggOp = over.getAggOperator();\n+      final boolean isApplicable(RexOver over) {\n         RexWindow window = over.getWindow();\n-        if (aggOp.getName().equalsIgnoreCase(\"cume_dist\") && window.orderKeys.size() == 1\n-            && window.getLowerBound().isUnbounded() && window.getUpperBound().isUnbounded()) {\n+        if (window.orderKeys.size() == 1\n+            && window.getLowerBound().isUnbounded() && window.getUpperBound().isUnbounded()", "originalCommit": "3c74d4bf4b8117808a23f38ce2ee01437b709b92", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4MTExNQ==", "url": "https://github.com/apache/hive/pull/1126#discussion_r447081115", "bodyText": "interesting; mostly the second :D\nfor the current functions (ntile,cume_dist) doesn't really make sense to set the window anything than unbounded (or at least I don't see a usecase for it)\nI've tried this out for the below query:\nselect id,ntile(id) over (order by id rows between 1 preceding and 1 following) from sketch_input order by id nulls last;\n\n\nmysql: rejects it with an error that ntile doesn't support it\npsql: accepts and executes it without interpreting the preceding/following stuff correctly\nhive: stops with a semanticexception", "author": "kgyrtkirk", "createdAt": "2020-06-29T16:00:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2Njk3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5NzQzNA==", "url": "https://github.com/apache/hive/pull/1126#discussion_r447097434", "bodyText": "the logic to handle\nOrder by spec -> range, unbounded preceding, current row\nThis also aligns with most RDBMSs implementation\n\nI think at the time this rule fires it will see unbounded/unbounded...but it's very weird I'll open a separate ticket to invetigate that\nopened: HIVE-23775", "author": "kgyrtkirk", "createdAt": "2020-06-29T16:25:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2Njk3OA=="}], "type": "inlineReview"}, {"oid": "563c49ab0eb94084d779f3c6109ee552b04ac06c", "url": "https://github.com/apache/hive/commit/563c49ab0eb94084d779f3c6109ee552b04ac06c", "message": "x", "committedDate": "2020-06-19T13:00:10Z", "type": "commit"}, {"oid": "088ef196b59a04647a7236246dc399aea5d78713", "url": "https://github.com/apache/hive/commit/088ef196b59a04647a7236246dc399aea5d78713", "message": "x2", "committedDate": "2020-06-19T13:02:19Z", "type": "commit"}, {"oid": "72379aab9cf45e54ba3ba0c971960be66a8c6071", "url": "https://github.com/apache/hive/commit/72379aab9cf45e54ba3ba0c971960be66a8c6071", "message": "unpatch unrelated", "committedDate": "2020-06-29T15:16:15Z", "type": "commit"}, {"oid": "95694347c40be483f1c37b50255485d2cc7275af", "url": "https://github.com/apache/hive/commit/95694347c40be483f1c37b50255485d2cc7275af", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23598-ntile2", "committedDate": "2020-06-29T15:16:18Z", "type": "commit"}, {"oid": "eac55fd4e42fa1ec06bd4bd2b5b85f25a11b2e3b", "url": "https://github.com/apache/hive/commit/eac55fd4e42fa1ec06bd4bd2b5b85f25a11b2e3b", "message": "x0", "committedDate": "2020-06-29T15:44:33Z", "type": "commit"}, {"oid": "68f0e1f03f92a85cfb280d987e7d1ab6a7a52153", "url": "https://github.com/apache/hive/commit/68f0e1f03f92a85cfb280d987e7d1ab6a7a52153", "message": "rewrite doesnt happen for string col", "committedDate": "2020-06-29T15:46:19Z", "type": "commit"}, {"oid": "dc2025804aeb848c4909b42896a5e8f95c5d78d7", "url": "https://github.com/apache/hive/commit/dc2025804aeb848c4909b42896a5e8f95c5d78d7", "message": "fi typo", "committedDate": "2020-05-11T15:19:23Z", "type": "commit"}, {"oid": "a6673965708ee62e7ff8ea3079ea5a93749774b8", "url": "https://github.com/apache/hive/commit/a6673965708ee62e7ff8ea3079ea5a93749774b8", "message": "Revert \"fi typo\"\n\nThis reverts commit dc2025804aeb848c4909b42896a5e8f95c5d78d7.", "committedDate": "2020-05-11T15:19:37Z", "type": "commit"}, {"oid": "e9248a82d58d45af4b7724cab1491ea6c029289e", "url": "https://github.com/apache/hive/commit/e9248a82d58d45af4b7724cab1491ea6c029289e", "message": "ax", "committedDate": "2020-05-11T15:44:25Z", "type": "commit"}, {"oid": "a23ac7f78002ecf918d963f3358f38002260c1f6", "url": "https://github.com/apache/hive/commit/a23ac7f78002ecf918d963f3358f38002260c1f6", "message": "fix", "committedDate": "2020-05-11T15:48:15Z", "type": "commit"}, {"oid": "2a54aa98daf3e7c575450ab8589ba2acd914e9e5", "url": "https://github.com/apache/hive/commit/2a54aa98daf3e7c575450ab8589ba2acd914e9e5", "message": "add extra project", "committedDate": "2020-05-11T15:53:35Z", "type": "commit"}, {"oid": "25b458df11c1901f43749833da04b2ddc4ffb3c1", "url": "https://github.com/apache/hive/commit/25b458df11c1901f43749833da04b2ddc4ffb3c1", "message": "fx", "committedDate": "2020-05-12T06:51:15Z", "type": "commit"}, {"oid": "48f5ff92cfc145e288189d6312251959ebd6d314", "url": "https://github.com/apache/hive/commit/48f5ff92cfc145e288189d6312251959ebd6d314", "message": "fx", "committedDate": "2020-05-12T11:55:24Z", "type": "commit"}, {"oid": "47509adf359af51628b86bb027adc4df1cacc750", "url": "https://github.com/apache/hive/commit/47509adf359af51628b86bb027adc4df1cacc750", "message": "i+i", "committedDate": "2020-05-12T12:15:45Z", "type": "commit"}, {"oid": "530a8bf097c49ec1f8891515df192e4542a18904", "url": "https://github.com/apache/hive/commit/530a8bf097c49ec1f8891515df192e4542a18904", "message": "copy/etc", "committedDate": "2020-05-12T12:22:44Z", "type": "commit"}, {"oid": "d40565e5ef10b40158708b15e6d4eb890d2f89d2", "url": "https://github.com/apache/hive/commit/d40565e5ef10b40158708b15e6d4eb890d2f89d2", "message": "cleanup", "committedDate": "2020-05-12T12:24:31Z", "type": "commit"}, {"oid": "3c4313ffc8581833a54fa5d9cbae237cb09cf58f", "url": "https://github.com/apache/hive/commit/3c4313ffc8581833a54fa5d9cbae237cb09cf58f", "message": "remove", "committedDate": "2020-05-12T12:26:43Z", "type": "commit"}, {"oid": "11ad500bddc3f1d990dbd7cf9c6279a0c8b4b1e2", "url": "https://github.com/apache/hive/commit/11ad500bddc3f1d990dbd7cf9c6279a0c8b4b1e2", "message": "r3", "committedDate": "2020-05-12T12:34:49Z", "type": "commit"}, {"oid": "fb83add813bcf19d74a127c2efb5b43178cddb80", "url": "https://github.com/apache/hive/commit/fb83add813bcf19d74a127c2efb5b43178cddb80", "message": "enable for kll", "committedDate": "2020-05-12T13:56:50Z", "type": "commit"}, {"oid": "be479b3552f7c8d55b1ccdb86e04fcc50ef0dd80", "url": "https://github.com/apache/hive/commit/be479b3552f7c8d55b1ccdb86e04fcc50ef0dd80", "message": "rename", "committedDate": "2020-05-12T13:57:51Z", "type": "commit"}, {"oid": "0b05107fec9980d57cf565af2aa2a595e737fbf7", "url": "https://github.com/apache/hive/commit/0b05107fec9980d57cf565af2aa2a595e737fbf7", "message": "cleanup", "committedDate": "2020-05-12T13:58:53Z", "type": "commit"}, {"oid": "42ee7bd3a79f53d295d07a591b69fa1180bf61d9", "url": "https://github.com/apache/hive/commit/42ee7bd3a79f53d295d07a591b69fa1180bf61d9", "message": "turn on null ignorance", "committedDate": "2020-05-12T13:59:30Z", "type": "commit"}, {"oid": "acac3c1d10e8c8ec35b8ee904939485b49d86b86", "url": "https://github.com/apache/hive/commit/acac3c1d10e8c8ec35b8ee904939485b49d86b86", "message": "create inner crap", "committedDate": "2020-05-12T14:03:33Z", "type": "commit"}, {"oid": "76a6e33b17c696d51ce73f0e8e654638bcdde650", "url": "https://github.com/apache/hive/commit/76a6e33b17c696d51ce73f0e8e654638bcdde650", "message": "renames", "committedDate": "2020-05-12T14:05:35Z", "type": "commit"}, {"oid": "344539f2b96d81a2538b07da430f88a6bb85600b", "url": "https://github.com/apache/hive/commit/344539f2b96d81a2538b07da430f88a6bb85600b", "message": "cleanup/etc", "committedDate": "2020-05-12T14:13:00Z", "type": "commit"}, {"oid": "24250f50c19ea9c3ee53a12e10c24c4830e327ab", "url": "https://github.com/apache/hive/commit/24250f50c19ea9c3ee53a12e10c24c4830e327ab", "message": "cleanup/inline/etc", "committedDate": "2020-05-12T14:27:37Z", "type": "commit"}, {"oid": "f7c8da190a143bc2b3ee3b55a4ac31c6723c6c83", "url": "https://github.com/apache/hive/commit/f7c8da190a143bc2b3ee3b55a4ac31c6723c6c83", "message": "straighten out configs", "committedDate": "2020-05-13T11:40:53Z", "type": "commit"}, {"oid": "c1ad720110c578da82d6d436897c65e15d36063c", "url": "https://github.com/apache/hive/commit/c1ad720110c578da82d6d436897c65e15d36063c", "message": "cleanup", "committedDate": "2020-05-13T11:45:15Z", "type": "commit"}, {"oid": "28840c038f60beff2a7231631a925a9fa62f3676", "url": "https://github.com/apache/hive/commit/28840c038f60beff2a7231631a925a9fa62f3676", "message": "renames/etc", "committedDate": "2020-05-13T11:50:51Z", "type": "commit"}, {"oid": "82251ab7ed2ef7175e935a89dfaebabe5e13d508", "url": "https://github.com/apache/hive/commit/82251ab7ed2ef7175e935a89dfaebabe5e13d508", "message": "apidoc", "committedDate": "2020-05-13T11:58:20Z", "type": "commit"}, {"oid": "7dd37078e28395689b72de442564c7672e324019", "url": "https://github.com/apache/hive/commit/7dd37078e28395689b72de442564c7672e324019", "message": "also add round to distinct", "committedDate": "2020-05-13T12:03:49Z", "type": "commit"}, {"oid": "2a6873af55e55d142099d95d69d82a608e8c3615", "url": "https://github.com/apache/hive/commit/2a6873af55e55d142099d95d69d82a608e8c3615", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23434-rewrite-pcont", "committedDate": "2020-05-13T13:52:14Z", "type": "commit"}, {"oid": "67386f70523253dc0061fef9a49c9f07c0d49e16", "url": "https://github.com/apache/hive/commit/67386f70523253dc0061fef9a49c9f07c0d49e16", "message": "dont use crap", "committedDate": "2020-05-13T14:00:15Z", "type": "commit"}, {"oid": "7a1d5c544a28dd1d965c0b6b57217c81d855d4d3", "url": "https://github.com/apache/hive/commit/7a1d5c544a28dd1d965c0b6b57217c81d855d4d3", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-23434-rewrite-pcont' into HIVE-23462-rewrite-ntile", "committedDate": "2020-05-13T14:05:09Z", "type": "commit"}, {"oid": "9e5bdc224d00e2e7e9821a05dad1be8b63b1a1e8", "url": "https://github.com/apache/hive/commit/9e5bdc224d00e2e7e9821a05dad1be8b63b1a1e8", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-23434-rewrite-pcont' into HIVE-23462-rewrite-ntile", "committedDate": "2020-05-13T14:05:38Z", "type": "commit"}, {"oid": "6645a7c1a021a0169167c5a46ab6db31a69450fe", "url": "https://github.com/apache/hive/commit/6645a7c1a021a0169167c5a46ab6db31a69450fe", "message": "add round", "committedDate": "2020-05-13T20:41:12Z", "type": "commit"}, {"oid": "f6257547d2738190bfd966d942dcfc99b1a9cf98", "url": "https://github.com/apache/hive/commit/f6257547d2738190bfd966d942dcfc99b1a9cf98", "message": "add esxdamples", "committedDate": "2020-05-15T13:33:17Z", "type": "commit"}, {"oid": "14ba6be11314a67b30a4bc8a5fb5205b4e8045ff", "url": "https://github.com/apache/hive/commit/14ba6be11314a67b30a4bc8a5fb5205b4e8045ff", "message": "typo", "committedDate": "2020-05-15T13:34:53Z", "type": "commit"}, {"oid": "ad68128704dff9048d6b190cf31317f1c3881ba1", "url": "https://github.com/apache/hive/commit/ad68128704dff9048d6b190cf31317f1c3881ba1", "message": "format file", "committedDate": "2020-05-15T13:35:16Z", "type": "commit"}, {"oid": "ab0bc4e1a0e61b285f7822ad9e2c6d8c15193c58", "url": "https://github.com/apache/hive/commit/ab0bc4e1a0e61b285f7822ad9e2c6d8c15193c58", "message": "apudoc", "committedDate": "2020-05-15T13:45:17Z", "type": "commit"}, {"oid": "2bb7ea8e613b1b7e95ed35f066aff4da47773873", "url": "https://github.com/apache/hive/commit/2bb7ea8e613b1b7e95ed35f066aff4da47773873", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23434-rewrite-pcont", "committedDate": "2020-05-18T11:46:33Z", "type": "commit"}, {"oid": "94502711781ccc45b6280a4a432c220adbcbe464", "url": "https://github.com/apache/hive/commit/94502711781ccc45b6280a4a432c220adbcbe464", "message": "add", "committedDate": "2020-05-18T11:47:17Z", "type": "commit"}, {"oid": "f63f8e09f6bf7d5d16c29baeffbe7331b16eabee", "url": "https://github.com/apache/hive/commit/f63f8e09f6bf7d5d16c29baeffbe7331b16eabee", "message": "aa", "committedDate": "2020-05-18T11:47:25Z", "type": "commit"}, {"oid": "492d20af5d4a62da2c2a41215e0e846ed6417efc", "url": "https://github.com/apache/hive/commit/492d20af5d4a62da2c2a41215e0e846ed6417efc", "message": "typo", "committedDate": "2020-05-18T12:46:14Z", "type": "commit"}, {"oid": "e991198da7b64da01916a0005fb6bf0df36a111b", "url": "https://github.com/apache/hive/commit/e991198da7b64da01916a0005fb6bf0df36a111b", "message": "review changes", "committedDate": "2020-05-18T13:35:54Z", "type": "commit"}, {"oid": "6ef6f7f3bdcc8f54b4586c886518d191ae4d1c01", "url": "https://github.com/apache/hive/commit/6ef6f7f3bdcc8f54b4586c886518d191ae4d1c01", "message": "agginoput", "committedDate": "2020-05-19T13:34:39Z", "type": "commit"}, {"oid": "e9ca1540e26470844afe98a399d0045ba8867d22", "url": "https://github.com/apache/hive/commit/e9ca1540e26470844afe98a399d0045ba8867d22", "message": "fix fixme", "committedDate": "2020-05-19T13:55:18Z", "type": "commit"}, {"oid": "8aea985330cc3cc70e6b8d68a7747726ae494577", "url": "https://github.com/apache/hive/commit/8aea985330cc3cc70e6b8d68a7747726ae494577", "message": "add m", "committedDate": "2020-05-19T15:04:07Z", "type": "commit"}, {"oid": "956391b3195738da85f5991f2508fb84f3272541", "url": "https://github.com/apache/hive/commit/956391b3195738da85f5991f2508fb84f3272541", "message": "Revert \"add m\"\n\nThis reverts commit 8aea985330cc3cc70e6b8d68a7747726ae494577.", "committedDate": "2020-05-19T15:04:09Z", "type": "commit"}, {"oid": "908a9322ee5f4b865229d7fb17ab99df1b47ba61", "url": "https://github.com/apache/hive/commit/908a9322ee5f4b865229d7fb17ab99df1b47ba61", "message": "add percentile_cont rewrite stuff", "committedDate": "2020-05-19T15:13:10Z", "type": "commit"}, {"oid": "212e9629cef5063b1980aaca1ab3d49b1c3a2b69", "url": "https://github.com/apache/hive/commit/212e9629cef5063b1980aaca1ab3d49b1c3a2b69", "message": "fix cast", "committedDate": "2020-05-19T16:12:46Z", "type": "commit"}, {"oid": "b0d02ae95cfdfd4a6479bca5f76261502f93530f", "url": "https://github.com/apache/hive/commit/b0d02ae95cfdfd4a6479bca5f76261502f93530f", "message": "percentile_disc", "committedDate": "2020-05-20T05:59:53Z", "type": "commit"}, {"oid": "7990c9c7ebda91652f5bf4ced5e23dbec1547e42", "url": "https://github.com/apache/hive/commit/7990c9c7ebda91652f5bf4ced5e23dbec1547e42", "message": "change to .3", "committedDate": "2020-05-20T07:39:02Z", "type": "commit"}, {"oid": "fd86c6899ca34ac64e844b469ce926ff09bc234e", "url": "https://github.com/apache/hive/commit/fd86c6899ca34ac64e844b469ce926ff09bc234e", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-23434-rewrite-pcont' into HIVE-23462-rewrite-ntile", "committedDate": "2020-05-20T07:39:58Z", "type": "commit"}, {"oid": "5ea0a2d428be90746595848301ebe77ecdc311df", "url": "https://github.com/apache/hive/commit/5ea0a2d428be90746595848301ebe77ecdc311df", "message": "f", "committedDate": "2020-05-20T07:42:23Z", "type": "commit"}, {"oid": "c6265d2e3c18f37d3ba9f038b234f718647de68c", "url": "https://github.com/apache/hive/commit/c6265d2e3c18f37d3ba9f038b234f718647de68c", "message": "refactor", "committedDate": "2020-05-20T08:52:45Z", "type": "commit"}, {"oid": "e8132d6a289fdf7c558ac298f21178e5d99a2833", "url": "https://github.com/apache/hive/commit/e8132d6a289fdf7c558ac298f21178e5d99a2833", "message": "use new", "committedDate": "2020-05-20T08:56:00Z", "type": "commit"}, {"oid": "ca6e2d1f7acc937a889e204f7651329958ba20c7", "url": "https://github.com/apache/hive/commit/ca6e2d1f7acc937a889e204f7651329958ba20c7", "message": "finish refactor", "committedDate": "2020-05-20T10:10:30Z", "type": "commit"}, {"oid": "421dc08afdc7b69f88bb5962ed38c5e9a617a4a7", "url": "https://github.com/apache/hive/commit/421dc08afdc7b69f88bb5962ed38c5e9a617a4a7", "message": "copy stuff", "committedDate": "2020-05-20T10:35:04Z", "type": "commit"}, {"oid": "91e0f2661c08e9f24d9ced0ae93d80b0d1350082", "url": "https://github.com/apache/hive/commit/91e0f2661c08e9f24d9ced0ae93d80b0d1350082", "message": "add", "committedDate": "2020-05-20T10:46:48Z", "type": "commit"}, {"oid": "a00b8b2221f5c9a29ecafbe2673e80bd16819272", "url": "https://github.com/apache/hive/commit/a00b8b2221f5c9a29ecafbe2673e80bd16819272", "message": "add test", "committedDate": "2020-05-20T10:46:56Z", "type": "commit"}, {"oid": "f3b339fc07eaef34c05b57375f680020b4bea5b0", "url": "https://github.com/apache/hive/commit/f3b339fc07eaef34c05b57375f680020b4bea5b0", "message": "wip", "committedDate": "2020-05-20T12:08:08Z", "type": "commit"}, {"oid": "b1488d081ae809d89c141bc9f8008c107efc3f32", "url": "https://github.com/apache/hive/commit/b1488d081ae809d89c141bc9f8008c107efc3f32", "message": "wood", "committedDate": "2020-05-21T11:56:07Z", "type": "commit"}, {"oid": "7145e561cb23673e67e0730abc45b4d165df578c", "url": "https://github.com/apache/hive/commit/7145e561cb23673e67e0730abc45b4d165df578c", "message": "fixes", "committedDate": "2020-05-21T12:09:34Z", "type": "commit"}, {"oid": "46d9afe4df6425f47b4b181dbce09baebe7173df", "url": "https://github.com/apache/hive/commit/46d9afe4df6425f47b4b181dbce09baebe7173df", "message": "fixes", "committedDate": "2020-05-21T14:59:45Z", "type": "commit"}, {"oid": "3fd0c9e163967ca8c953d67cb26d691b1c6f6509", "url": "https://github.com/apache/hive/commit/3fd0c9e163967ca8c953d67cb26d691b1c6f6509", "message": "cleanupo", "committedDate": "2020-05-21T15:02:59Z", "type": "commit"}, {"oid": "bfc9edc07cd19e017d9632b37a07eb4b4f70bd22", "url": "https://github.com/apache/hive/commit/bfc9edc07cd19e017d9632b37a07eb4b4f70bd22", "message": "use kll in sample", "committedDate": "2020-05-21T15:04:42Z", "type": "commit"}, {"oid": "31967a1a2e13a908616470cea307a140353beb93", "url": "https://github.com/apache/hive/commit/31967a1a2e13a908616470cea307a140353beb93", "message": "ordered / adjusted/etc", "committedDate": "2020-05-21T15:24:49Z", "type": "commit"}, {"oid": "0e8cd530d8ed3bc3951784b146a180d705fdbe8a", "url": "https://github.com/apache/hive/commit/0e8cd530d8ed3bc3951784b146a180d705fdbe8a", "message": "cleanup", "committedDate": "2020-05-21T15:57:33Z", "type": "commit"}, {"oid": "8037bd089de4dcb982348fc3c3a52d97a10dbb45", "url": "https://github.com/apache/hive/commit/8037bd089de4dcb982348fc3c3a52d97a10dbb45", "message": "peek", "committedDate": "2020-05-21T16:01:41Z", "type": "commit"}, {"oid": "2e29757a5d1ca0267c593edc223f242e7da8883d", "url": "https://github.com/apache/hive/commit/2e29757a5d1ca0267c593edc223f242e7da8883d", "message": "cleanup", "committedDate": "2020-05-21T16:06:13Z", "type": "commit"}, {"oid": "3571e9021f44e774f1f7138e4df00b30332eb0ad", "url": "https://github.com/apache/hive/commit/3571e9021f44e774f1f7138e4df00b30332eb0ad", "message": "conf", "committedDate": "2020-05-21T16:11:50Z", "type": "commit"}, {"oid": "e08f282fbaa16e43b66986d4b73e235356e238bc", "url": "https://github.com/apache/hive/commit/e08f282fbaa16e43b66986d4b73e235356e238bc", "message": "cleanup", "committedDate": "2020-05-21T16:23:32Z", "type": "commit"}, {"oid": "52330c5fe480a880149c1e014d7f687416fb0cbb", "url": "https://github.com/apache/hive/commit/52330c5fe480a880149c1e014d7f687416fb0cbb", "message": "cleanup", "committedDate": "2020-05-21T16:27:03Z", "type": "commit"}, {"oid": "858c36635b5192d32bb00f4fc30447fa9368e295", "url": "https://github.com/apache/hive/commit/858c36635b5192d32bb00f4fc30447fa9368e295", "message": "cleanup", "committedDate": "2020-05-21T16:27:45Z", "type": "commit"}, {"oid": "b3c1fe15b39c6476336c1d8df4d2cae4fbed7aed", "url": "https://github.com/apache/hive/commit/b3c1fe15b39c6476336c1d8df4d2cae4fbed7aed", "message": "add cd q", "committedDate": "2020-05-21T16:41:40Z", "type": "commit"}, {"oid": "3c7e9e28ee25cab637548012754aa8b4452c4508", "url": "https://github.com/apache/hive/commit/3c7e9e28ee25cab637548012754aa8b4452c4508", "message": "add mv test - odesntwork", "committedDate": "2020-05-21T16:56:19Z", "type": "commit"}, {"oid": "03ab8f6b2b8cbcf691b2c636fedcd3010df94694", "url": "https://github.com/apache/hive/commit/03ab8f6b2b8cbcf691b2c636fedcd3010df94694", "message": "trace", "committedDate": "2020-05-21T19:23:41Z", "type": "commit"}, {"oid": "578921ae9741068b2f38738f8632f3a0f2dbcee1", "url": "https://github.com/apache/hive/commit/578921ae9741068b2f38738f8632f3a0f2dbcee1", "message": "Revert \"trace\"\n\nThis reverts commit 03ab8f6b2b8cbcf691b2c636fedcd3010df94694.", "committedDate": "2020-05-21T19:23:44Z", "type": "commit"}, {"oid": "58cfdfdbe10862dd2f6f0d996463d72d6901667f", "url": "https://github.com/apache/hive/commit/58cfdfdbe10862dd2f6f0d996463d72d6901667f", "message": "fix mv matching", "committedDate": "2020-05-21T19:29:32Z", "type": "commit"}, {"oid": "f56ebb9d26a77b06b32f453f944ca323b2100493", "url": "https://github.com/apache/hive/commit/f56ebb9d26a77b06b32f453f944ca323b2100493", "message": "undo ws changes", "committedDate": "2020-05-21T19:31:24Z", "type": "commit"}, {"oid": "daf5180f206aeb8c82e93e4365788cfa3862c38e", "url": "https://github.com/apache/hive/commit/daf5180f206aeb8c82e93e4365788cfa3862c38e", "message": "remove crappy test", "committedDate": "2020-05-21T19:32:31Z", "type": "commit"}, {"oid": "cd8070c108fe37053c75c9f7c99e8b13f1d4a9b5", "url": "https://github.com/apache/hive/commit/cd8070c108fe37053c75c9f7c99e8b13f1d4a9b5", "message": "Merge remote-tracking branch 'apache/master' into HIVE-23434-rewrite-pcont", "committedDate": "2020-05-27T07:04:14Z", "type": "commit"}, {"oid": "0225c44ae2a0dfd231b880a9a66e26520da40a8a", "url": "https://github.com/apache/hive/commit/0225c44ae2a0dfd231b880a9a66e26520da40a8a", "message": "Merge remote-tracking branch 'kgyrtkirk/HIVE-23434-rewrite-pcont' into HIVE-23462-rewrite-ntile", "committedDate": "2020-05-27T07:05:34Z", "type": "commit"}, {"oid": "f0259947c5c54aa45589813e54195bff877e936b", "url": "https://github.com/apache/hive/commit/f0259947c5c54aa45589813e54195bff877e936b", "message": "f", "committedDate": "2020-05-27T07:05:49Z", "type": "commit"}, {"oid": "ccb6f5ee96e1dc93d5bac7f871e5f1452c7242d6", "url": "https://github.com/apache/hive/commit/ccb6f5ee96e1dc93d5bac7f871e5f1452c7242d6", "message": "x", "committedDate": "2020-05-27T07:55:28Z", "type": "commit"}, {"oid": "35b5d089e91898b0cf14270eae90f7dcd09718ec", "url": "https://github.com/apache/hive/commit/35b5d089e91898b0cf14270eae90f7dcd09718ec", "message": "after all there is no problem with this rule...", "committedDate": "2020-05-27T12:05:32Z", "type": "commit"}, {"oid": "3e1a1c63c0c72e524d1f981dc6c848ae5369ad0c", "url": "https://github.com/apache/hive/commit/3e1a1c63c0c72e524d1f981dc6c848ae5369ad0c", "message": "Revert \"Revert \"trace\"\"\n\nThis reverts commit 578921ae9741068b2f38738f8632f3a0f2dbcee1.", "committedDate": "2020-05-27T12:06:09Z", "type": "commit"}, {"oid": "390e13fcd73190e986b3073527ec50a3aa138b5c", "url": "https://github.com/apache/hive/commit/390e13fcd73190e986b3073527ec50a3aa138b5c", "message": "Revert \"Revert \"Revert \"trace\"\"\"\n\nThis reverts commit 3e1a1c63c0c72e524d1f981dc6c848ae5369ad0c.", "committedDate": "2020-05-27T13:52:22Z", "type": "commit"}, {"oid": "1d84cf3a2b0f9d7818a3bba64f874790c224e5dc", "url": "https://github.com/apache/hive/commit/1d84cf3a2b0f9d7818a3bba64f874790c224e5dc", "message": "add the rifght testcase", "committedDate": "2020-05-27T13:59:53Z", "type": "commit"}, {"oid": "459efee45f3e82db0922f0d51648880aefd80bb0", "url": "https://github.com/apache/hive/commit/459efee45f3e82db0922f0d51648880aefd80bb0", "message": "add apidoc", "committedDate": "2020-05-27T14:02:00Z", "type": "commit"}, {"oid": "092002fdd6c780bf094432e393ce3a21cff145ff", "url": "https://github.com/apache/hive/commit/092002fdd6c780bf094432e393ce3a21cff145ff", "message": "cleanup", "committedDate": "2020-05-27T14:02:55Z", "type": "commit"}, {"oid": "ce3bca592a111b3332a9ce50f1e5b2e432a0b286", "url": "https://github.com/apache/hive/commit/ce3bca592a111b3332a9ce50f1e5b2e432a0b286", "message": "update docs", "committedDate": "2020-05-27T14:06:40Z", "type": "commit"}, {"oid": "1ae6295edadc70ae9e6ea0fac49211292d443abd", "url": "https://github.com/apache/hive/commit/1ae6295edadc70ae9e6ea0fac49211292d443abd", "message": "partition_by", "committedDate": "2020-05-28T09:53:06Z", "type": "commit"}, {"oid": "408e321014e7dc88f895bf83ebde42f2d57deea9", "url": "https://github.com/apache/hive/commit/408e321014e7dc88f895bf83ebde42f2d57deea9", "message": "works", "committedDate": "2020-05-28T13:27:59Z", "type": "commit"}, {"oid": "d40a1ca393cf26d3b6517635202b0c68908bdea1", "url": "https://github.com/apache/hive/commit/d40a1ca393cf26d3b6517635202b0c68908bdea1", "message": "it works with eps", "committedDate": "2020-05-28T13:36:15Z", "type": "commit"}, {"oid": "81addefe12c9bb9df23e66b388645ba3e428fb78", "url": "https://github.com/apache/hive/commit/81addefe12c9bb9df23e66b388645ba3e428fb78", "message": "use -x", "committedDate": "2020-05-28T13:43:14Z", "type": "commit"}, {"oid": "c33f82c09585a11d0f73401b7b256978553453a8", "url": "https://github.com/apache/hive/commit/c33f82c09585a11d0f73401b7b256978553453a8", "message": "unary_minus works", "committedDate": "2020-05-28T14:19:17Z", "type": "commit"}, {"oid": "26be839786ba7e86e7392a91b8a2003cce8892a5", "url": "https://github.com/apache/hive/commit/26be839786ba7e86e7392a91b8a2003cce8892a5", "message": "use shuttle", "committedDate": "2020-05-28T14:42:37Z", "type": "commit"}, {"oid": "e8de3b7b5e22791cb1b286c9e29953c93949dbc8", "url": "https://github.com/apache/hive/commit/e8de3b7b5e22791cb1b286c9e29953c93949dbc8", "message": "cleanup", "committedDate": "2020-05-28T14:44:24Z", "type": "commit"}, {"oid": "cd1fbd97c2af93bd8202215057c6276d08b87f5c", "url": "https://github.com/apache/hive/commit/cd1fbd97c2af93bd8202215057c6276d08b87f5c", "message": "order/etc", "committedDate": "2020-05-28T15:07:29Z", "type": "commit"}, {"oid": "74df109c139f9f9b51d57304f0abeb840795fcb6", "url": "https://github.com/apache/hive/commit/74df109c139f9f9b51d57304f0abeb840795fcb6", "message": "coal in", "committedDate": "2020-05-28T15:09:05Z", "type": "commit"}, {"oid": "b855107ac6761a5f7058ca546efb72e649647902", "url": "https://github.com/apache/hive/commit/b855107ac6761a5f7058ca546efb72e649647902", "message": "use rollup as well", "committedDate": "2020-05-28T15:18:55Z", "type": "commit"}, {"oid": "5bde236e6c5bcd744baf878ba7f1377dbc81f1d1", "url": "https://github.com/apache/hive/commit/5bde236e6c5bcd744baf878ba7f1377dbc81f1d1", "message": "update", "committedDate": "2020-05-28T15:21:05Z", "type": "commit"}, {"oid": "dafddf6b8bbbdbb4bbd5d41fb38c922746b06d79", "url": "https://github.com/apache/hive/commit/dafddf6b8bbbdbb4bbd5d41fb38c922746b06d79", "message": "address review comments", "committedDate": "2020-05-29T07:54:03Z", "type": "commit"}, {"oid": "2f7d09708ac0ad3ce7cbd844cbf97d7d883b9d57", "url": "https://github.com/apache/hive/commit/2f7d09708ac0ad3ce7cbd844cbf97d7d883b9d57", "message": "ss", "committedDate": "2020-05-29T08:18:23Z", "type": "commit"}]}