{"pr_number": 1101, "pr_title": "HIVE-23683: Add queue time to compaction", "pr_createdAt": "2020-06-12T15:02:44Z", "pr_url": "https://github.com/apache/hive/pull/1101", "timeline": [{"oid": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "url": "https://github.com/apache/hive/commit/9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "message": "HIVE-23683: Add queue time to compaction", "committedDate": "2020-06-12T14:59:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0MzcyMA==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440343720", "bodyText": "Nit: maybe add a comment here about what's going on, to save someone time down the road", "author": "klcopp", "createdAt": "2020-06-15T17:47:23Z", "path": "ql/src/test/queries/clientpositive/sysdb.q", "diffHunk": "@@ -1,5 +1,6 @@\n --! qt:dataset:src,part,srcbucket:ONLY\n --! qt:sysdb\n+--! qt:replace:/(initiated\\s+NULL\\s+NULL\\s+)[0-9]*(\\s+NULL)/$1#Masked#$2/", "originalCommit": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ2NTk0Nw==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440465947", "bodyText": "Done", "author": "pvary", "createdAt": "2020-06-15T21:48:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0MzcyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0Mzg0Ng==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440343846", "bodyText": "Nit: maybe add a comment here about what's going on, to save someone time down the road", "author": "klcopp", "createdAt": "2020-06-15T17:47:36Z", "path": "ql/src/test/queries/clientpositive/dbtxnmgr_showlocks.q", "diffHunk": "@@ -1,3 +1,4 @@\n+ --! qt:replace:/(initiated\\s+---\\s+---\\s+)[0-9]*(\\s+---)/$1#Masked#$2/", "originalCommit": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ2NjAyNw==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440466027", "bodyText": "Done", "author": "pvary", "createdAt": "2020-06-15T21:48:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0Mzg0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440344890", "bodyText": "\"Queue time\" sounds like \"time spent in queue.\" Something like \"Entered queue\" sounds more like a timestamp to me.", "author": "klcopp", "createdAt": "2020-06-15T17:49:32Z", "path": "ql/src/java/org/apache/hadoop/hive/ql/ddl/process/show/compactions/ShowCompactionsOperation.java", "diffHunk": "@@ -81,6 +81,8 @@ private void writeHeader(DataOutputStream os) throws IOException {\n     os.write(Utilities.tabCode);\n     os.writeBytes(\"Worker\");\n     os.write(Utilities.tabCode);\n+    os.writeBytes(\"Queue Time\");", "originalCommit": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ2NzMwMg==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440467302", "bodyText": "How about enqueue time? Short, easy to understand...", "author": "pvary", "createdAt": "2020-06-15T21:51:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDY0MDgwOQ==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440640809", "bodyText": "Sounds good to me!", "author": "klcopp", "createdAt": "2020-06-16T07:27:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NDg5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NTI0MQ==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440345241", "bodyText": "(Opportunity: \"start\" is missing from this method)", "author": "klcopp", "createdAt": "2020-06-15T17:50:08Z", "path": "standalone-metastore/metastore-server/src/main/java/org/apache/hadoop/hive/metastore/txn/CompactionInfo.java", "diffHunk": "@@ -116,6 +117,7 @@ public String toString() {\n       \"partName:\" + partName + \",\" +\n       \"state:\" + state + \",\" +\n       \"type:\" + type + \",\" +\n+      \"queueTime:\" + queueTime + \",\" +", "originalCommit": "9b7498cf1a5986e6847864fa16a4f2db6aaf575e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ2NzM4Mg==", "url": "https://github.com/apache/hive/pull/1101#discussion_r440467382", "bodyText": "Done", "author": "pvary", "createdAt": "2020-06-15T21:51:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM0NTI0MQ=="}], "type": "inlineReview"}, {"oid": "7150d00ffb429f5a9375000ea9de982759ce14bc", "url": "https://github.com/apache/hive/commit/7150d00ffb429f5a9375000ea9de982759ce14bc", "message": "Rename QueueTime to Enqueue Time for clarity\nAdd comment to the masking patterns", "committedDate": "2020-06-15T21:47:19Z", "type": "commit"}, {"oid": "b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7", "url": "https://github.com/apache/hive/commit/b007639c8ab2758ea1ab0f2d4489ee310d5ef8f7", "message": "Added start to the CompationInfo.toString()", "committedDate": "2020-06-15T21:49:52Z", "type": "commit"}]}