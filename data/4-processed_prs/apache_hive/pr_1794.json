{"pr_number": 1794, "pr_title": "HIVE-24553. Exclude calcite from test-jar dependency of hive-exec", "pr_createdAt": "2020-12-18T19:39:08Z", "pr_url": "https://github.com/apache/hive/pull/1794", "timeline": [{"oid": "cfecf99047fd1e0e04ed982bdaf8333e84d12852", "url": "https://github.com/apache/hive/commit/cfecf99047fd1e0e04ed982bdaf8333e84d12852", "message": "Exclude calcite in beeline.", "committedDate": "2020-12-18T19:37:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546269392", "bodyText": "Looks good as I no longer see the test failure \ud83d\udc4d . BTW do you know why we need to exclude calcite here but not in other places where hive-exec is also used?", "author": "sunchao", "createdAt": "2020-12-19T18:39:59Z", "path": "beeline/pom.xml", "diffHunk": "@@ -99,6 +99,20 @@\n       <version>${project.version}</version>\n       <classifier>tests</classifier>\n       <scope>test</scope>\n+      <exclusions>", "originalCommit": "cfecf99047fd1e0e04ed982bdaf8333e84d12852", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI3NDE5MA==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546274190", "bodyText": "I think the test-jar won't include shaded dependencies. Then un-shaded dependencies will be pull. So I think we need to exclude them.\nIf there are other places using hive-exec in test scope, I think they might also need to exclude these.", "author": "viirya", "createdAt": "2020-12-19T19:31:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI3NTEwMQ==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546275101", "bodyText": "Ah I see. I think there are a few other places with similar pattern, such as hive-webhcat-java-client. Should we exclude in all those places?", "author": "sunchao", "createdAt": "2020-12-19T19:41:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI3NjI4OA==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546276288", "bodyText": "Yea, I think so. I will update this later.", "author": "viirya", "createdAt": "2020-12-19T19:54:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjMyODYzMA==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546328630", "bodyText": "I updated all hive-exec test-jar usage in all pom.xml files.", "author": "viirya", "createdAt": "2020-12-20T06:19:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQwMzgwOQ==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546403809", "bodyText": "+1. Can you create a JIRA for this? I'm not sure if master branch also have this issue.", "author": "sunchao", "createdAt": "2020-12-20T17:10:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxMTQ5NA==", "url": "https://github.com/apache/hive/pull/1794#discussion_r546411494", "bodyText": "Created a JIRA. Updated the title and description.", "author": "viirya", "createdAt": "2020-12-20T18:22:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjI2OTM5Mg=="}], "type": "inlineReview"}, {"oid": "b4d05d0c227b871914e4463da7e1d58e46890fce", "url": "https://github.com/apache/hive/commit/b4d05d0c227b871914e4463da7e1d58e46890fce", "message": "Exclude calcite when adding hive-exec test classifier dependency.", "committedDate": "2020-12-19T21:55:42Z", "type": "commit"}]}