{"pr_number": 420, "pr_title": "Adding PyAtlas-Checks scaffolding", "pr_createdAt": "2020-11-12T16:39:04Z", "pr_url": "https://github.com/osmlab/atlas-checks/pull/420", "timeline": [{"oid": "afb8b79ac865df3c2ea9909b531c70f810436485", "url": "https://github.com/osmlab/atlas-checks/commit/afb8b79ac865df3c2ea9909b531c70f810436485", "message": "Created basic framework for MR upload command", "committedDate": "2020-09-10T19:52:14Z", "type": "commit"}, {"oid": "d235ddcaf415135047c145cb44a97acfea08b4e5", "url": "https://github.com/osmlab/atlas-checks/commit/d235ddcaf415135047c145cb44a97acfea08b4e5", "message": "Updated CLI", "committedDate": "2020-09-16T18:52:11Z", "type": "commit"}, {"oid": "4ec4eb636f8be43035074c9f55d160e03a23ce63", "url": "https://github.com/osmlab/atlas-checks/commit/4ec4eb636f8be43035074c9f55d160e03a23ce63", "message": "Added log diff and log count commands", "committedDate": "2020-09-16T21:07:59Z", "type": "commit"}, {"oid": "80ccd53b3c4d9a62ecefaa87c111d2429d4aa94b", "url": "https://github.com/osmlab/atlas-checks/commit/80ccd53b3c4d9a62ecefaa87c111d2429d4aa94b", "message": "Refactored package", "committedDate": "2020-09-23T19:28:08Z", "type": "commit"}, {"oid": "81715c511b0fa473542a7549d29b77c888641069", "url": "https://github.com/osmlab/atlas-checks/commit/81715c511b0fa473542a7549d29b77c888641069", "message": "Basic scaffolding for package", "committedDate": "2020-09-23T19:53:55Z", "type": "commit"}, {"oid": "5300cd5c77815324a6f32c69e662855250d7c545", "url": "https://github.com/osmlab/atlas-checks/commit/5300cd5c77815324a6f32c69e662855250d7c545", "message": "Adding license", "committedDate": "2020-09-23T19:59:21Z", "type": "commit"}, {"oid": "50e78fd2472a4508ffe22bebb48155085a0fb0c7", "url": "https://github.com/osmlab/atlas-checks/commit/50e78fd2472a4508ffe22bebb48155085a0fb0c7", "message": "Merge branch 'dev' of https://github.com/osmlab/atlas-checks into pyatlas_scaffolding", "committedDate": "2020-11-12T16:43:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NjYzMg==", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r522646632", "bodyText": "Do you have to declare a name here? How would you call this from the cli?", "author": "danielduhh", "createdAt": "2020-11-13T05:04:06Z", "path": "pyatlas_checks/pyatlas_checks/cli/cli.py", "diffHunk": "@@ -0,0 +1,20 @@\n+import click\n+from pyatlas_checks.commands.test_command import TestCommand\n+\n+\n+@click.group()\n+@click.option('--verbose', is_flag=True)\n+@click.pass_context\n+def cli(ctx, verbose):\n+    ctx.obj = {\n+        'verbose': verbose\n+    }\n+\n+\n+@cli.command()\n+@click.argument('test_string')\n+@click.pass_context\n+def test_command(ctx, test_string):", "originalCommit": "50e78fd2472a4508ffe22bebb48155085a0fb0c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzA2NjYwNw==", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r523066607", "bodyText": "@danielduhh To call this command, all you have to do is pass:\npyatlas test-command\n\nOf course, calling the above will throw an error since we didn't pass the required parameter.\nClick automatically converts all underscores in method names to dashes.", "author": "mattmanley", "createdAt": "2020-11-13T16:36:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NjYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzM1OTQ4MA==", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r523359480", "bodyText": "\ud83d\udcaf", "author": "danielduhh", "createdAt": "2020-11-14T02:33:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NjYzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY0NzU2Mw==", "url": "https://github.com/osmlab/atlas-checks/pull/420#discussion_r522647563", "bodyText": "The cli.py file could live in the package root (instead of in its own module). That way you could avoid the cli.cli:cli", "author": "danielduhh", "createdAt": "2020-11-13T05:05:07Z", "path": "pyatlas_checks/setup.py", "diffHunk": "@@ -0,0 +1,21 @@\n+#!/usr/bin/env python\n+\n+import os\n+from setuptools import setup, find_packages\n+\n+here = os.path.abspath(os.path.dirname(__file__))\n+README = open(os.path.join(here, 'README.md')).read()\n+exclude_dirs = ['tests', 'venv']\n+\n+packs = find_packages(exclude=exclude_dirs)\n+\n+setup(name='pyatlas_checks',\n+      version=\"1.0\",\n+      packages=find_packages(),\n+      include_package_data=True,\n+      install_requires=[\"Click\"],\n+      entry_points='''\n+            [console_scripts]\n+            pyatlas=pyatlas_checks.cli.cli:cli", "originalCommit": "50e78fd2472a4508ffe22bebb48155085a0fb0c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ee82f34698f517e46d88443f59dead44b145c7e5", "url": "https://github.com/osmlab/atlas-checks/commit/ee82f34698f517e46d88443f59dead44b145c7e5", "message": "Restructured cli", "committedDate": "2020-11-13T17:27:12Z", "type": "commit"}, {"oid": "f98b42e78bf51e8649d2147028c69bce0f785052", "url": "https://github.com/osmlab/atlas-checks/commit/f98b42e78bf51e8649d2147028c69bce0f785052", "message": "Deleted redundant license and updated setup.py", "committedDate": "2020-11-13T22:34:27Z", "type": "commit"}, {"oid": "26d7b2f4b174ac909bd9ac467e4f58224dda209d", "url": "https://github.com/osmlab/atlas-checks/commit/26d7b2f4b174ac909bd9ac467e4f58224dda209d", "message": "Renamed entry point and added main method to cli", "committedDate": "2020-11-16T21:51:00Z", "type": "commit"}]}