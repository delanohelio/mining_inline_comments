{"pr_number": 10336, "pr_title": "JAVA-3496: Add integration tests for UserRepository", "pr_createdAt": "2020-12-23T10:06:23Z", "pr_url": "https://github.com/eugenp/tutorials/pull/10336", "timeline": [{"oid": "59b79b1db61bdee270640b39be2d892f9f07bd8a", "url": "https://github.com/eugenp/tutorials/commit/59b79b1db61bdee270640b39be2d892f9f07bd8a", "message": "JAVA-3496: Add integration tests for UserRepository", "committedDate": "2020-12-23T10:05:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNjkyNw==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549506927", "bodyText": "Is there a reason not to use JUnit 5?", "author": "rozagerardo", "createdAt": "2020-12-28T22:33:19Z", "path": "persistence-modules/spring-data-jpa-query-2/src/test/java/com/baeldung/spring/data/jpa/query/UserRepositoryIntegrationTest.java", "diffHunk": "@@ -0,0 +1,162 @@\n+package com.baeldung.spring.data.jpa.query;\n+\n+import org.junit.Test;\n+import org.junit.runner.RunWith;", "originalCommit": "59b79b1db61bdee270640b39be2d892f9f07bd8a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUxNjQzOQ==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549516439", "bodyText": "Well none of the tests in this module use JUnit 5 (yet). So I think it's better to stick to the pattern for now and create a new task to upgrade all the tests to JUnit 5.", "author": "kwoyke", "createdAt": "2020-12-28T23:23:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNjkyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MDk3OA==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549870978", "bodyText": "sounds good @kwoyke \ud83d\udc4d", "author": "rozagerardo", "createdAt": "2020-12-29T22:14:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNjkyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNzMwOA==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549507308", "bodyText": "Have you checked this is working? I am getting an error when trying to run this application>\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe bean 'articleRepository', defined in com.baeldung.spring.data.jpa.query.datetime.ArticleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered. A bean with that name has already been defined in com.baeldung.spring.data.jpa.query.datetime.ArticleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration and overriding is disabled.\n\nAction:\n\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true\n\nBesides, do we actually need it? I think we're showing all the functionality in the test, I don't see much use in declaring this application. I might be missing something, of course :)", "author": "rozagerardo", "createdAt": "2020-12-28T22:35:08Z", "path": "persistence-modules/spring-data-jpa-query-2/src/main/java/com/baeldung/spring/data/jpa/query/UserApplication.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.baeldung.spring.data.jpa.query;\n+\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+\n+@SpringBootApplication\n+public class UserApplication {", "originalCommit": "59b79b1db61bdee270640b39be2d892f9f07bd8a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUxNzI1Ng==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549517256", "bodyText": "Yeah that's a good catch - the application interfered with a com.baeldung.spring.data.jpa.query.datetime sub package.\nI created a single common app for both.\nThe only reason for the SpringBootApplication I created is that I want to benefit from @DataJpaTest in the tests. Without the app in place we get the \"Unable to Find @SpringBootConfiguration ...\" error and we'd have to provide some config file anyway. I think the app is a bit cleaner approach. Especially it's now used by both tests - UserRepositoryIntegrationTest and ArticleRepositoryIntegrationTest.", "author": "kwoyke", "createdAt": "2020-12-28T23:28:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNzMwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUxNzQ1NQ==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549517455", "bodyText": "Just noticed we do have an article describing this issue :) See https://www.baeldung.com/spring-boot-unable-to-find-springbootconfiguration-with-datajpatest", "author": "kwoyke", "createdAt": "2020-12-28T23:29:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNzMwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg3MTA0Nw==", "url": "https://github.com/eugenp/tutorials/pull/10336#discussion_r549871047", "bodyText": "Cool, thanks for the info @kwoyke", "author": "rozagerardo", "createdAt": "2020-12-29T22:15:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTUwNzMwOA=="}], "type": "inlineReview"}, {"oid": "6dfd0dee290eb7e715476e3c2ee5fb58532560a7", "url": "https://github.com/eugenp/tutorials/commit/6dfd0dee290eb7e715476e3c2ee5fb58532560a7", "message": "JAVA-3496: Use a single common QueryApplication", "committedDate": "2020-12-28T23:22:02Z", "type": "commit"}]}