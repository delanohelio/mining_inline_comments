{"pr_number": 2541, "pr_title": "Fix #2513: Upgrade Kubernetes Model to v1.19.1", "pr_createdAt": "2020-10-12T18:20:51Z", "pr_url": "https://github.com/fabric8io/kubernetes-client/pull/2541", "timeline": [{"oid": "500668a6c350eebfe8cffee3e8a91a0003b23c89", "url": "https://github.com/fabric8io/kubernetes-client/commit/500668a6c350eebfe8cffee3e8a91a0003b23c89", "message": "Fix #2513: Upgrade Kubernetes Model to v1.19.1\n\n- Introduced another module `kubernetes-model-node` for `node.k8s.io/v1beta1` RuntimeClass\n- Added `networking.k8s.io/v1` Ingress\n- Added `networking.k8s.io/v1` IngressClass", "committedDate": "2020-10-12T19:03:50Z", "type": "forcePushed"}, {"oid": "7aafbc2a39a072aa8fc359c54017e46b9a5e17ea", "url": "https://github.com/fabric8io/kubernetes-client/commit/7aafbc2a39a072aa8fc359c54017e46b9a5e17ea", "message": "Fix #2513: Upgrade Kubernetes Model to v1.19.1\n\n- Introduced another module `kubernetes-model-node` for `node.k8s.io/v1beta1` RuntimeClass\n- Added `networking.k8s.io/v1` Ingress\n- Added `networking.k8s.io/v1` IngressClass", "committedDate": "2020-10-12T20:19:10Z", "type": "forcePushed"}, {"oid": "a044b1212caf1db9e13f90f0aa3bf095e48d8897", "url": "https://github.com/fabric8io/kubernetes-client/commit/a044b1212caf1db9e13f90f0aa3bf095e48d8897", "message": "Add conditional rule for executing tests in Kubernetes 1.14 only\n\n+ Added ConditionalIgnore for ignoring IngressIT when run on clusters < 1.14.0\n+ Bumped minikube version to v1.13.1", "committedDate": "2020-10-14T15:24:03Z", "type": "forcePushed"}, {"oid": "9a8470d6c8574dcb529520f9089b0ffdff7145db", "url": "https://github.com/fabric8io/kubernetes-client/commit/9a8470d6c8574dcb529520f9089b0ffdff7145db", "message": "Add conditional rule for executing tests in Kubernetes 1.14 only\n\n+ Added ConditionalIgnore for ignoring IngressIT when run on clusters < 1.14.0\n+ Bumped minikube version to v1.13.1", "committedDate": "2020-10-14T16:34:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTUyODM1Nw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r505528357", "bodyText": "So we no longer have access to extensions/v1beta1 NetworkPolicy? Or is this provided by V1beta1NetworkAPIGroupDSL v1beta1() DSL method?", "author": "manusa", "createdAt": "2020-10-15T13:10:32Z", "path": "CHANGELOG.md", "diffHunk": "@@ -18,6 +19,8 @@\n _**Note**_: Breaking changes in the API\n * Tekton Pipeline v1beta1 *sidecars* field from a task step is now a list of `io.fabric8.tekton.pipeline.v1beta1.Sidecar` instead of a list of `io.fabric8.tekton.pipeline.v1beta1.Step`\n \n+* `NetworkPolicy` moved to `io.fabric8.kubernetes.api.model.networking.v1.NetworkPolicy` from\n+  `io.fabric8.kubernetes.api.model.networking.NetworkPolicy`", "originalCommit": "9a8470d6c8574dcb529520f9089b0ffdff7145db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0Mjk5Ng==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r505542996", "bodyText": "Why?", "author": "manusa", "createdAt": "2020-10-15T13:30:21Z", "path": ".github/workflows/e2e-tests.yml", "diffHunk": "@@ -35,14 +35,14 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        kubernetes: [v1.18.6,v1.12.0]\n+        kubernetes: [v1.19.2,v1.18.6,v1.13.1]\n     steps:\n       - name: Checkout\n         uses: actions/checkout@v2\n       - name: Setup Minikube-Kubernetes\n         uses: manusa/actions-setup-minikube@v2.0.1\n         with:\n-          minikube version: v1.12.1\n+          minikube version: v1.13.1", "originalCommit": "9a8470d6c8574dcb529520f9089b0ffdff7145db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0NTcyNA==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r505545724", "bodyText": "I wanted to add integration tests for Kubernetes 1.19.x", "author": "rohanKanojia", "createdAt": "2020-10-15T13:34:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0Mjk5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU1NjUzMQ==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r505556531", "bodyText": "Sorry, comment in wrong place. I'm talking about the upgrade to v1.13.1 if the minimum k8s version.", "author": "manusa", "createdAt": "2020-10-15T13:48:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0Mjk5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU3MTYxMw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r505571613", "bodyText": "I checked and seems like Kubernetes version 1.12.1 is less than the oldest supported version: v1.13.0 for minikube v1.13.1", "author": "rohanKanojia", "createdAt": "2020-10-15T14:06:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0Mjk5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU3NzIzMg==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r505577232", "bodyText": "If tests pass we should keep the older version", "author": "manusa", "createdAt": "2020-10-15T14:14:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0Mjk5Ng=="}], "type": "inlineReview"}, {"oid": "c09b909b64219083834cbe19a9604760b60d1dd9", "url": "https://github.com/fabric8io/kubernetes-client/commit/c09b909b64219083834cbe19a9604760b60d1dd9", "message": "Fix #2513: Upgrade Kubernetes Model to v1.19.1\n\n- Introduced another module `kubernetes-model-node` for `node.k8s.io/v1beta1` RuntimeClass\n- Added `networking.k8s.io/v1` Ingress\n- Added `networking.k8s.io/v1` IngressClass", "committedDate": "2020-10-15T14:02:38Z", "type": "commit"}, {"oid": "e75f2ea3983e05bb0b860fd99af4594d0c1db9aa", "url": "https://github.com/fabric8io/kubernetes-client/commit/e75f2ea3983e05bb0b860fd99af4594d0c1db9aa", "message": "Add conditional rule for executing tests in Kubernetes 1.14 only\n\n+ Added ConditionalIgnore for ignoring IngressIT when run on clusters < 1.14.0\n+ Bumped minikube version to v1.13.1", "committedDate": "2020-10-15T14:03:25Z", "type": "forcePushed"}, {"oid": "74e8efd31e69d728c779adca77a52f7df897ad25", "url": "https://github.com/fabric8io/kubernetes-client/commit/74e8efd31e69d728c779adca77a52f7df897ad25", "message": "Add conditional rule for executing tests in Kubernetes 1.14 only\n\n+ Added ConditionalIgnore for ignoring IngressIT when run on clusters < 1.14.0\n+ Bumped minikube version to v1.13.1", "committedDate": "2020-10-15T14:43:33Z", "type": "forcePushed"}, {"oid": "b8f6e4953932ac0325f7a4ed414e713620947c29", "url": "https://github.com/fabric8io/kubernetes-client/commit/b8f6e4953932ac0325f7a4ed414e713620947c29", "message": "Add conditional rule for executing tests in Kubernetes 1.14 only\n\n+ Added ConditionalIgnore for ignoring IngressIT when run on clusters < 1.14.0\n+ Bumped minikube version to v1.13.1", "committedDate": "2020-10-15T15:06:48Z", "type": "commit"}, {"oid": "b8f6e4953932ac0325f7a4ed414e713620947c29", "url": "https://github.com/fabric8io/kubernetes-client/commit/b8f6e4953932ac0325f7a4ed414e713620947c29", "message": "Add conditional rule for executing tests in Kubernetes 1.14 only\n\n+ Added ConditionalIgnore for ignoring IngressIT when run on clusters < 1.14.0\n+ Bumped minikube version to v1.13.1", "committedDate": "2020-10-15T15:06:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzQ2NDY0NA==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2541#discussion_r507464644", "bodyText": "One last comment:\nI'm not sure this method behaves as expected.\nI suspect the output of kubernetesVersionAtLeast(\"1\", \"19\") is false when checking a 2.0.0/2.0 cluster, which is not the expected output.", "author": "manusa", "createdAt": "2020-10-19T05:08:50Z", "path": "kubernetes-itests/src/test/java/io/fabric8/commons/ClusterEntity.java", "diffHunk": "@@ -49,6 +50,17 @@ public static void remove(InputStream inputStream) {\n     }\n   }\n \n+  public static boolean kubernetesVersionAtLeast(String majorVersion, String minorVersion) {", "originalCommit": "575d6cb7b15988346b67740cdba4a74f2439d866", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f251db71977384e55d05e89636f06368373ea06c", "url": "https://github.com/fabric8io/kubernetes-client/commit/f251db71977384e55d05e89636f06368373ea06c", "message": "fix: KISS friendlier approach to conditional test execution", "committedDate": "2020-10-19T06:31:16Z", "type": "forcePushed"}, {"oid": "9cece975c40baf42534256ba846768a9acd1eef1", "url": "https://github.com/fabric8io/kubernetes-client/commit/9cece975c40baf42534256ba846768a9acd1eef1", "message": "fix: KISS friendlier approach to conditional test execution", "committedDate": "2020-10-19T07:51:57Z", "type": "commit"}, {"oid": "9cece975c40baf42534256ba846768a9acd1eef1", "url": "https://github.com/fabric8io/kubernetes-client/commit/9cece975c40baf42534256ba846768a9acd1eef1", "message": "fix: KISS friendlier approach to conditional test execution", "committedDate": "2020-10-19T07:51:57Z", "type": "forcePushed"}]}