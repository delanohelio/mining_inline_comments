{"pr_number": 2152, "pr_title": "handle possible /status subpath due to using status subresource on crd", "pr_createdAt": "2020-04-20T16:49:54Z", "pr_url": "https://github.com/fabric8io/kubernetes-client/pull/2152", "timeline": [{"oid": "45814ea30727147a3e27b51d6549d1724f3cc9d6", "url": "https://github.com/fabric8io/kubernetes-client/commit/45814ea30727147a3e27b51d6549d1724f3cc9d6", "message": "handle possible /status subpath due to using status subresource on crd", "committedDate": "2020-04-20T16:45:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI0Nzg0Ng==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2152#discussion_r412247846", "bodyText": "Checking the provided link (https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/#subresources)\nI see there are 2 subresources /status and /scale.\nMaybe we could change this to:\nprivate static final String SUBRESOURCE_MAYBE_GROUP = \"(/((status)|(scale)))?\";\n\nor even (although maybe this will probably break things):\nprivate static final String SUBRESOURCE_MAYBE_GROUP = \"(/(?<subresource>[^/]+))?\";\n\nWDYT??", "author": "manusa", "createdAt": "2020-04-21T14:43:42Z", "path": "kubernetes-server-mock/src/main/java/io/fabric8/kubernetes/client/server/mock/KubernetesAttributesExtractor.java", "diffHunk": "@@ -53,9 +53,10 @@\n   private static final String KIND_GROUP = \"/(?<kind>[^/?]+)\";\n   private static final String NAME_GROUP = \"(/(?<name>[^/?]+))?\";\n   private static final String NAMESPACE_GROUP = \"(/namespaces/(?<namespace>[^/]+))?\";\n+  private static final String STATUS_MAYBE_GROUP = \"(/status)?\";", "originalCommit": "45814ea30727147a3e27b51d6549d1724f3cc9d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMxMDc5MA==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2152#discussion_r412310790", "bodyText": "Good call. I should have thought to include scale while I was at it. I think perhaps we should hardcode the 2 options. If they add more options in the future we could make it more flexible. But for now it doesn't seem worth the extra risk in terms of matching things we shouldn't.\nI've updated appropriately.", "author": "bbeaudreault", "createdAt": "2020-04-21T16:34:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI0Nzg0Ng=="}], "type": "inlineReview"}, {"oid": "144ebf30c4cb51fcf010731ee5d4ac01950dab45", "url": "https://github.com/fabric8io/kubernetes-client/commit/144ebf30c4cb51fcf010731ee5d4ac01950dab45", "message": "support scale, and update test to test for supported subresources", "committedDate": "2020-04-21T16:31:08Z", "type": "commit"}, {"oid": "0cea797d8420d51eb6a333c9e8b989d637570a6b", "url": "https://github.com/fabric8io/kubernetes-client/commit/0cea797d8420d51eb6a333c9e8b989d637570a6b", "message": "Merge remote-tracking branch 'upstream/master' into extract_status_subresource", "committedDate": "2020-04-21T17:29:19Z", "type": "commit"}, {"oid": "08d6a2b16c07b5162a8fc402c3163a3ecaf4a947", "url": "https://github.com/fabric8io/kubernetes-client/commit/08d6a2b16c07b5162a8fc402c3163a3ecaf4a947", "message": "changelog", "committedDate": "2020-04-21T17:35:17Z", "type": "commit"}, {"oid": "12fe46db0f88df4ce6152d63416d1b6065f0c36f", "url": "https://github.com/fabric8io/kubernetes-client/commit/12fe46db0f88df4ce6152d63416d1b6065f0c36f", "message": "fix name", "committedDate": "2020-04-21T17:38:00Z", "type": "commit"}]}