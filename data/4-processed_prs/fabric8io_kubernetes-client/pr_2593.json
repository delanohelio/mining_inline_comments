{"pr_number": 2593, "pr_title": "synchronized KubernetesCrudDispatcher, #2592", "pr_createdAt": "2020-11-09T10:23:58Z", "pr_url": "https://github.com/fabric8io/kubernetes-client/pull/2593", "timeline": [{"oid": "c94cb7c3c5508bc32b0a8e638d581d3e7221eca7", "url": "https://github.com/fabric8io/kubernetes-client/commit/c94cb7c3c5508bc32b0a8e638d581d3e7221eca7", "message": "synchronized KubernetesCrudDispatcher, #2592\n\n* to avoid ConcurrentModificationException", "committedDate": "2020-11-09T10:21:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcwMTQ0MA==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2593#discussion_r519701440", "bodyText": "A better alternative would maybe be to make the map thread safe in io.fabric8.mockwebserver.crud.CrudDispatcher, but that would require API change in mockwebserver", "author": "patriknw", "createdAt": "2020-11-09T10:25:36Z", "path": "kubernetes-server-mock/src/main/java/io/fabric8/kubernetes/client/server/mock/KubernetesCrudDispatcher.java", "diffHunk": "@@ -66,7 +66,7 @@ public KubernetesCrudDispatcher(KubernetesCrudAttributesExtractor attributeExtra\n   }\n \n   @Override\n-  public MockResponse dispatch(RecordedRequest request) {\n+  public synchronized MockResponse dispatch(RecordedRequest request) {", "originalCommit": "c94cb7c3c5508bc32b0a8e638d581d3e7221eca7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDMxNjc3Mw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2593#discussion_r520316773", "bodyText": "Given how the people tend to use the mockserver, it probably makes sense that the method is blocking and synchronized (however, this is probably encouraging bad-practices).", "author": "manusa", "createdAt": "2020-11-10T06:20:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcwMTQ0MA=="}], "type": "inlineReview"}, {"oid": "533e5a7be99bf69a61ba15c556b1902f41e35400", "url": "https://github.com/fabric8io/kubernetes-client/commit/533e5a7be99bf69a61ba15c556b1902f41e35400", "message": "Merge branch 'master' into wip-2592-KubernetesCrudDispatcher-patriknw", "committedDate": "2020-11-26T04:32:25Z", "type": "commit"}, {"oid": "6110d4c67e443f1efa642bd710f745c5905ecfb0", "url": "https://github.com/fabric8io/kubernetes-client/commit/6110d4c67e443f1efa642bd710f745c5905ecfb0", "message": "Merge branch 'master' into wip-2592-KubernetesCrudDispatcher-patriknw", "committedDate": "2020-12-07T11:39:37Z", "type": "commit"}, {"oid": "cfe084c2bbf8c06966113e014f402ed853a3c071", "url": "https://github.com/fabric8io/kubernetes-client/commit/cfe084c2bbf8c06966113e014f402ed853a3c071", "message": "Merge branch 'master' into wip-2592-KubernetesCrudDispatcher-patriknw", "committedDate": "2020-12-14T06:48:58Z", "type": "commit"}, {"oid": "c97541401ffd5bc6e73fec225dddd4e5414f43e5", "url": "https://github.com/fabric8io/kubernetes-client/commit/c97541401ffd5bc6e73fec225dddd4e5414f43e5", "message": "Merge branch 'master' into wip-2592-KubernetesCrudDispatcher-patriknw", "committedDate": "2020-12-14T10:19:33Z", "type": "commit"}]}