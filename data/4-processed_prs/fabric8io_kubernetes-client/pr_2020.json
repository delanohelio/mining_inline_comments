{"pr_number": 2020, "pr_title": "Updated Tekton model to v0.11.0-rc2", "pr_createdAt": "2020-02-24T14:36:58Z", "pr_url": "https://github.com/fabric8io/kubernetes-client/pull/2020", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzMwNTMzNw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2020#discussion_r383305337", "bodyText": "Is there any reason to keep these commented-out lines?", "author": "manusa", "createdAt": "2020-02-24T14:44:38Z", "path": "extensions/tekton/generator/cmd/generate/generate.go", "diffHunk": "@@ -16,43 +16,69 @@\n package main\n \n import (\n-\t\"bytes\"\n-\t\"encoding/json\"\n-\t\"fmt\"\n-\t\"github.com/fabric8io/tekton/generator/pkg/schemagen\"\n-\t\"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1alpha1\"\n-\t\"log\"\n-\t\"os\"\n-\t\"reflect\"\n-\t\"strings\"\n-\t\"time\"\n+  \"bytes\"\n+  \"encoding/json\"\n+  \"fmt\"\n+  \"github.com/fabric8io/tekton/generator/pkg/schemagen\"\n+  \"github.com/tektoncd/pipeline/pkg/apis/pipeline/pod\"\n+  \"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1alpha1\"\n+  resource \"github.com/tektoncd/pipeline/pkg/apis/resource/v1alpha1\"\n+  \"log\"\n+  \"os\"\n+  \"reflect\"\n+  \"strings\"\n+  \"time\"\n )\n \n //A Schema with the core types of the Service Catalog\n type Schema struct {\n-\tPipeline                        v1alpha1.Pipeline\n-\tPipelineList                    v1alpha1.PipelineList\n-\tPipelineRun                     v1alpha1.PipelineRun\n-\tPipelineRunList                 v1alpha1.PipelineRunList\n-\tPipelineResource                v1alpha1.PipelineResource\n-\tPipelineResourceList            v1alpha1.PipelineResourceList\n-\tPipelineRunTaskRunStatus        v1alpha1.PipelineRunTaskRunStatus\n-\tPipelineRunConditionCheckStatus v1alpha1.PipelineRunConditionCheckStatus\n-\tTask                            v1alpha1.Task\n-\tTaskList                        v1alpha1.TaskList\n-\tTaskRun                         v1alpha1.TaskRun\n-\tTaskRunList                     v1alpha1.TaskRunList\n-\tClusterTask                     v1alpha1.ClusterTask\n-\tClusterTaskList                 v1alpha1.ClusterTaskList\n-\tCondition                       v1alpha1.Condition\n-\tConditionList                   v1alpha1.ConditionList\n+\tV1alpha1Pipeline                        v1alpha1.Pipeline\n+  V1alpha1PipelineList                    v1alpha1.PipelineList\n+  V1alpha1PipelineRun                     v1alpha1.PipelineRun\n+  V1alpha1PipelineRunList                 v1alpha1.PipelineRunList\n+  V1alpha1PipelineResource                v1alpha1.PipelineResource\n+  V1alpha1PipelineResourceList            v1alpha1.PipelineResourceList\n+  V1alpha1PipelineRunTaskRunStatus        v1alpha1.PipelineRunTaskRunStatus\n+  V1alpha1PipelineRunConditionCheckStatus v1alpha1.PipelineRunConditionCheckStatus\n+  V1alpha1Task                            v1alpha1.Task\n+  V1alpha1TaskList                        v1alpha1.TaskList\n+  V1alpha1TaskRun                         v1alpha1.TaskRun\n+\tV1alpha1TaskRef                         v1alpha1.TaskRef\n+  V1alpha1TaskRunList                     v1alpha1.TaskRunList\n+  V1alpha1ClusterTask                     v1alpha1.ClusterTask\n+  V1alpha1ClusterTaskList                 v1alpha1.ClusterTaskList\n+  V1alpha1Condition                       v1alpha1.Condition\n+  V1alpha1ConditionList                   v1alpha1.ConditionList\n+  V1alpha1PipelineTask                    v1alpha1.PipelineTask\n+  V1alpha1PipelineTaskResource            v1alpha1.PipelineTaskResources\n+  V1alpha1ResourceDeclaration             v1alpha1.ResourceDeclaration\n+\n+  //V1alpha2Pipeline                        v1alpha2.Pipeline", "originalCommit": "2086d592342708905654ec9209d63f8fd58d233f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7211bc9eaa9c62a9ac61a5e129a2f9471239bd61", "url": "https://github.com/fabric8io/kubernetes-client/commit/7211bc9eaa9c62a9ac61a5e129a2f9471239bd61", "message": "Updated Tekton model to v0.10.1", "committedDate": "2020-02-28T12:07:45Z", "type": "forcePushed"}, {"oid": "adde30cfd36888dec338e9d498f8d7e43552d57c", "url": "https://github.com/fabric8io/kubernetes-client/commit/adde30cfd36888dec338e9d498f8d7e43552d57c", "message": "Updated Tekton model to v0.10.1", "committedDate": "2020-03-06T05:55:58Z", "type": "forcePushed"}, {"oid": "0d64df4b50190f5bc440cccc4f0edf225f132886", "url": "https://github.com/fabric8io/kubernetes-client/commit/0d64df4b50190f5bc440cccc4f0edf225f132886", "message": "Updated Tekton model to v0.10.1", "committedDate": "2020-03-06T06:48:54Z", "type": "forcePushed"}, {"oid": "18bcd1407c2519223650ca67af74f0063d7a968e", "url": "https://github.com/fabric8io/kubernetes-client/commit/18bcd1407c2519223650ca67af74f0063d7a968e", "message": "Updated Tekton model to v0.11.0-rc2", "committedDate": "2020-03-16T12:35:31Z", "type": "forcePushed"}, {"oid": "2cf912f06aa2cb9fd5c5e2d1a78067149f200086", "url": "https://github.com/fabric8io/kubernetes-client/commit/2cf912f06aa2cb9fd5c5e2d1a78067149f200086", "message": "Updated Tekton model to v0.11.0-rc2", "committedDate": "2020-03-26T12:38:24Z", "type": "commit"}, {"oid": "346f61fb2050091c5b4c4e59683842daf0b895f7", "url": "https://github.com/fabric8io/kubernetes-client/commit/346f61fb2050091c5b4c4e59683842daf0b895f7", "message": "Modify DSL to use v1beta1 resources instead of v1alpha1", "committedDate": "2020-03-26T16:43:14Z", "type": "forcePushed"}, {"oid": "3129feed4bd3cf0718fe9af6ce04c140ccc575cd", "url": "https://github.com/fabric8io/kubernetes-client/commit/3129feed4bd3cf0718fe9af6ce04c140ccc575cd", "message": "Modify DSL to use v1beta1 resources instead of v1alpha1", "committedDate": "2020-03-27T14:35:15Z", "type": "commit"}, {"oid": "3129feed4bd3cf0718fe9af6ce04c140ccc575cd", "url": "https://github.com/fabric8io/kubernetes-client/commit/3129feed4bd3cf0718fe9af6ce04c140ccc575cd", "message": "Modify DSL to use v1beta1 resources instead of v1alpha1", "committedDate": "2020-03-27T14:35:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNzY1Ng==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2020#discussion_r399337656", "bodyText": "Why do we need?", "author": "hrishin", "createdAt": "2020-03-27T15:13:48Z", "path": "extensions/tekton/generator/cmd/generate/generate.go", "diffHunk": "@@ -16,43 +16,65 @@\n package main\n \n import (\n-\t\"bytes\"\n-\t\"encoding/json\"\n-\t\"fmt\"\n-\t\"github.com/fabric8io/tekton/generator/pkg/schemagen\"\n-\t\"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1alpha1\"\n-\t\"log\"\n-\t\"os\"\n-\t\"reflect\"\n-\t\"strings\"\n-\t\"time\"\n+  \"bytes\"\n+  \"encoding/json\"\n+  \"fmt\"\n+  \"github.com/fabric8io/tekton/generator/pkg/schemagen\"\n+  \"github.com/tektoncd/pipeline/pkg/apis/pipeline/pod\"\n+  \"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1alpha1\"\n+  \"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1beta1\"\n+  resource \"github.com/tektoncd/pipeline/pkg/apis/resource/v1alpha1\"\n+  \"log\"\n+  \"os\"\n+  \"reflect\"\n+  \"strings\"\n+  \"time\"\n )\n \n //A Schema with the core types of the Service Catalog\n type Schema struct {\n-\tPipeline                        v1alpha1.Pipeline\n-\tPipelineList                    v1alpha1.PipelineList\n-\tPipelineRun                     v1alpha1.PipelineRun\n-\tPipelineRunList                 v1alpha1.PipelineRunList\n-\tPipelineResource                v1alpha1.PipelineResource\n-\tPipelineResourceList            v1alpha1.PipelineResourceList\n-\tPipelineRunTaskRunStatus        v1alpha1.PipelineRunTaskRunStatus\n-\tPipelineRunConditionCheckStatus v1alpha1.PipelineRunConditionCheckStatus\n-\tTask                            v1alpha1.Task\n-\tTaskList                        v1alpha1.TaskList\n-\tTaskRun                         v1alpha1.TaskRun\n-\tTaskRunList                     v1alpha1.TaskRunList\n-\tClusterTask                     v1alpha1.ClusterTask\n-\tClusterTaskList                 v1alpha1.ClusterTaskList\n-\tCondition                       v1alpha1.Condition\n-\tConditionList                   v1alpha1.ConditionList\n+  V1alpha1Condition                       v1alpha1.Condition\n+  V1alpha1ConditionList                   v1alpha1.ConditionList\n+  V1alpha1PipelineResource                v1alpha1.PipelineResource\n+  V1alpha1PipelineResourceList            v1alpha1.PipelineResourceList\n+\n+  V1beta1Pipeline                        v1beta1.Pipeline\n+  V1beta1PipelineList                    v1beta1.PipelineList\n+  V1beta1PipelineRun                     v1beta1.PipelineRun\n+  V1beta1PipelineRunList                 v1beta1.PipelineRunList\n+  V1beta1PipelineRunTaskRunStatus        v1beta1.PipelineRunTaskRunStatus\n+  V1beta1PipelineRunConditionCheckStatus v1beta1.PipelineRunConditionCheckStatus\n+  V1beta1Task                            v1beta1.Task\n+  V1beta1TaskList                        v1beta1.TaskList\n+  V1beta1TaskRun                         v1beta1.TaskRun\n+  V1beta1TaskRef                         v1beta1.TaskRef\n+  V1beta1TaskRunList                     v1beta1.TaskRunList\n+  V1beta1ClusterTask                     v1beta1.ClusterTask\n+  V1beta1ClusterTaskList                 v1beta1.ClusterTaskList\n+  V1beta1PipelineTask                    v1beta1.PipelineTask\n+  V1beta1PipelineTaskResource            v1beta1.PipelineTaskResources\n+  V1beta1ResourceDeclaration             v1beta1.ResourceDeclaration\n+\tV1beta1Sidecar                         v1beta1.Sidecar\n+\tV1beta1SidecarState                    v1beta1.SidecarState\n+\tV1beta1PodTemplate                     v1beta1.PodTemplate\n+\tV1beta1Step                            v1beta1.Step\n+\tV1beta1TaskResource                    v1beta1.TaskResource\n+\tV1beta1TaskResourceBinding             v1beta1.TaskResourceBinding\n+\n+\tTemplate                               pod.Template\n+\tResourceDeclaration                    resource.ResourceDeclaration\n+\tresource                               resource.PipelineResource\n+\n }\n \n func main() {\n \tpackages := []schemagen.PackageDescriptor{\n \t\t//\"$ref\": \"#/definitions/github_com_tektoncd_pipeline_vendor_k8s_io_api_core_v1_Probe\",\n \t\t{\"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1alpha1\", \"tekton.dev\", \"io.fabric8.tekton.pipeline.v1alpha1\", \"tekton_v1alpha1_\"},\n-\t\t{\"github.com/knative/pkg/apis\", \"v1\", \"io.fabric8.knative.v1\", \"knative_\"},\n+    {\"github.com/tektoncd/pipeline/pkg/apis/pipeline/v1beta1\", \"tekton.dev\", \"io.fabric8.tekton.pipeline.v1beta1\", \"tekton_v1alpha2_\"},\n+    {\"github.com/tektoncd/pipeline/pkg/apis/resource/v1alpha1\", \"tekton.dev\", \"io.fabric8.tekton.resource.v1alpha1\", \"tekton_resource_v1alpha1_\"},\n+    {\"github.com/tektoncd/pipeline/pkg/apis/pipeline/pod\", \"tekton.dev\", \"io.fabric8.tekton.pipeline.pod\", \"tekton_pod_\"},\n+    {\"github.com/knative/pkg/apis\", \"v1\", \"io.fabric8.knative.v1\", \"knative_\"},", "originalCommit": "3129feed4bd3cf0718fe9af6ce04c140ccc575cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM0MzA2Nw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2020#discussion_r399343067", "bodyText": "Umm, not sure. I didn't touch it while upgrading model. Let me try removing it.", "author": "rohanKanojia", "createdAt": "2020-03-27T15:21:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNzY1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM0Njk5Nw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2020#discussion_r399346997", "bodyText": "Looks like some structs in tekton model depend on these packages(one of these is this https://github.com/tektoncd/pipeline/blob/master/pkg/apis/pipeline/v1beta1/pipelinerun_types.go#L28 ), when I removed them I started getting errors.", "author": "rohanKanojia", "createdAt": "2020-03-27T15:26:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNzY1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDkzMjMyNw==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2020#discussion_r400932327", "bodyText": "ahh, no worries", "author": "hrishin", "createdAt": "2020-03-31T13:54:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNzY1Ng=="}], "type": "inlineReview"}]}