{"pr_number": 13100, "pr_title": "Delete unneeded PCollections in pipeline_from_stages()", "pr_createdAt": "2020-10-13T22:42:18Z", "pr_url": "https://github.com/apache/beam/pull/13100", "timeline": [{"oid": "24de2ea86217a027c8eed6a15fd6c4a4eb8c0edf", "url": "https://github.com/apache/beam/commit/24de2ea86217a027c8eed6a15fd6c4a4eb8c0edf", "message": "Delete unneeded PCollections in pipeline_from_stages", "committedDate": "2020-10-13T16:27:44Z", "type": "commit"}, {"oid": "4e4fa4812ea76c0641a06f7e3cbc27f20aabdeff", "url": "https://github.com/apache/beam/commit/4e4fa4812ea76c0641a06f7e3cbc27f20aabdeff", "message": "Lint", "committedDate": "2020-10-13T16:27:45Z", "type": "commit"}, {"oid": "b4ce88276bd766691093041b8419b11190baeb75", "url": "https://github.com/apache/beam/commit/b4ce88276bd766691093041b8419b11190baeb75", "message": "Lint", "committedDate": "2020-10-13T22:41:36Z", "type": "commit"}, {"oid": "149463db509ccd26f6ff150261b5f80431001246", "url": "https://github.com/apache/beam/commit/149463db509ccd26f6ff150261b5f80431001246", "message": "Lint (again)", "committedDate": "2020-10-15T22:35:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc0NjczOQ==", "url": "https://github.com/apache/beam/pull/13100#discussion_r506746739", "bodyText": "Is it possible that components has additional components that pipeline_proto.components does not?", "author": "robertwb", "createdAt": "2020-10-16T22:25:18Z", "path": "sdks/python/apache_beam/runners/portability/fn_api_runner/translations.py", "diffHunk": "@@ -562,9 +569,10 @@ def copy_subtransforms(transform):\n       copy_subtransforms(transform)\n     else:\n       transform = stage.executable_stage_transform(\n-          known_runner_urns, all_consumers, components)\n+          known_runner_urns, all_consumers, pipeline_proto.components)", "originalCommit": "149463db509ccd26f6ff150261b5f80431001246", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc2OTg3MA==", "url": "https://github.com/apache/beam/pull/13100#discussion_r506769870", "bodyText": "Yes but this is still safe to do. The only additional components in components but not pipeline_proto.components are executable stage transforms, and these are not used within executable_stage_transform() - in fact executable_stage_transform() does not use the transforms in the passed in components at all.", "author": "yifanmai", "createdAt": "2020-10-17T00:17:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc0NjczOQ=="}], "type": "inlineReview"}]}