{"pr_number": 10916, "pr_title": "[BEAM-9225] Fix Flink uberjar job termination bug.", "pr_createdAt": "2020-02-20T19:46:49Z", "pr_url": "https://github.com/apache/beam/pull/10916", "timeline": [{"oid": "949609df565ff4a08b10792cf257d53d41747a7b", "url": "https://github.com/apache/beam/commit/949609df565ff4a08b10792cf257d53d41747a7b", "message": "[BEAM-9225] Fix Flink uberjar job termination bug.\n\nYield duplicate states to ensure terminal state is registered.", "committedDate": "2020-02-20T19:45:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyNzA5Ng==", "url": "https://github.com/apache/beam/pull/10916#discussion_r382227096", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if timestamp is None:\n          \n          \n            \n                    yield self.get_state()", "author": "angoenka", "createdAt": "2020-02-20T20:00:47Z", "path": "sdks/python/apache_beam/runners/portability/flink_uber_jar_job_server.py", "diffHunk": "@@ -202,8 +202,10 @@ def _state_iter():\n       sleep_secs = 1.0\n       while True:\n         current_state, timestamp = self._get_state()\n-        if timestamp is not None:\n-          # non-None indicates that the state has changed\n+        if timestamp is None:", "originalCommit": "949609df565ff4a08b10792cf257d53d41747a7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyODY3Mw==", "url": "https://github.com/apache/beam/pull/10916#discussion_r382228673", "bodyText": "Done", "author": "ibzib", "createdAt": "2020-02-20T20:04:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyNzA5Ng=="}], "type": "inlineReview"}, {"oid": "69bcea2e9ab21267e9f2572a89a04cac5d4a067a", "url": "https://github.com/apache/beam/commit/69bcea2e9ab21267e9f2572a89a04cac5d4a067a", "message": "Reuse get_state method.", "committedDate": "2020-02-20T20:03:44Z", "type": "commit"}]}