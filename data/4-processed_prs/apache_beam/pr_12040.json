{"pr_number": 12040, "pr_title": "Revert \"Fix state handler for missing service descriptor.\"", "pr_createdAt": "2020-06-19T18:00:05Z", "pr_url": "https://github.com/apache/beam/pull/12040", "timeline": [{"oid": "f5f241a254d623ef11153bd1381c9edc4af99d4a", "url": "https://github.com/apache/beam/commit/f5f241a254d623ef11153bd1381c9edc4af99d4a", "message": "Revert \"Fix state handler for missing service descriptor.\"\n\nThis reverts commit e7833d64df6576cb3105a455db78b219dbd4dfef.", "committedDate": "2020-06-19T17:58:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA2Mzg0NQ==", "url": "https://github.com/apache/beam/pull/12040#discussion_r445063845", "bodyText": "What about making this (either in this change or a follow-up):\nif not api_service_descriptor or api_service_descriptor == endpoints_pb2.ApiServiceDescriptor():", "author": "lukecwik", "createdAt": "2020-06-24T17:42:24Z", "path": "sdks/python/apache_beam/runners/worker/sdk_worker.py", "diffHunk": "@@ -688,7 +688,7 @@ def __init__(self, state_cache, credentials=None):\n \n   def create_state_handler(self, api_service_descriptor):\n     # type: (endpoints_pb2.ApiServiceDescriptor) -> CachingStateHandler\n-    if api_service_descriptor == endpoints_pb2.ApiServiceDescriptor():\n+    if not api_service_descriptor:", "originalCommit": "f5f241a254d623ef11153bd1381c9edc4af99d4a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA5MDUzNQ==", "url": "https://github.com/apache/beam/pull/12040#discussion_r445090535", "bodyText": "I'll do that in a follow-up so it's easier to test.", "author": "ibzib", "createdAt": "2020-06-24T18:30:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTA2Mzg0NQ=="}], "type": "inlineReview"}, {"oid": "5dd50d83836c29e35bdd64d403a68390ea0b58b4", "url": "https://github.com/apache/beam/commit/5dd50d83836c29e35bdd64d403a68390ea0b58b4", "message": "Check for missing service handler.", "committedDate": "2020-06-24T18:22:49Z", "type": "forcePushed"}, {"oid": "f5f241a254d623ef11153bd1381c9edc4af99d4a", "url": "https://github.com/apache/beam/commit/f5f241a254d623ef11153bd1381c9edc4af99d4a", "message": "Revert \"Fix state handler for missing service descriptor.\"\n\nThis reverts commit e7833d64df6576cb3105a455db78b219dbd4dfef.", "committedDate": "2020-06-19T17:58:18Z", "type": "forcePushed"}]}