{"pr_number": 12132, "pr_title": "[BEAM-10371] Run dependency check script with Python 3", "pr_createdAt": "2020-06-30T09:16:06Z", "pr_url": "https://github.com/apache/beam/pull/12132", "timeline": [{"oid": "6850a99f88f83f614d714c033e159dfe4282dea6", "url": "https://github.com/apache/beam/commit/6850a99f88f83f614d714c033e159dfe4282dea6", "message": "[BEAM-10371] Run dependency check script with Python 3\n\nPython 2 is incompatible with some dependencies, which prevents Beam's community from getting the full picture of dependencies.", "committedDate": "2020-06-30T09:10:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE4MTg2NQ==", "url": "https://github.com/apache/beam/pull/12132#discussion_r451181865", "bodyText": "Is there a jira for this?", "author": "TheNeuralBit", "createdAt": "2020-07-07T22:34:55Z", "path": "sdks/python/tox.ini", "diffHunk": "@@ -287,3 +287,12 @@ deps =\n commands =\n   yapf --version\n   time yapf --diff --parallel --recursive apache_beam\n+\n+[testenv:py3-dependency-check]\n+# TODO: botocore, a part of [interactive], wants docutils<0.16, but Sphinx", "originalCommit": "6850a99f88f83f614d714c033e159dfe4282dea6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQ0MDc2OA==", "url": "https://github.com/apache/beam/pull/12132#discussion_r451440768", "bodyText": "Yes, I've just created it: https://issues.apache.org/jira/browse/BEAM-10425", "author": "kamilwu", "createdAt": "2020-07-08T10:25:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE4MTg2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE4NjU1MA==", "url": "https://github.com/apache/beam/pull/12132#discussion_r451186550", "bodyText": "I think you need to add passenv = WORKSPACE here, otherwise the script fails because WORKSPACE isn't set.", "author": "TheNeuralBit", "createdAt": "2020-07-07T22:48:39Z", "path": "sdks/python/tox.ini", "diffHunk": "@@ -287,3 +287,12 @@ deps =\n commands =\n   yapf --version\n   time yapf --diff --parallel --recursive apache_beam\n+\n+[testenv:py3-dependency-check]\n+# TODO: botocore, a part of [interactive], wants docutils<0.16, but Sphinx\n+# pulls in the latest docutils. Uncomment this line once botocore does not\n+# conflict with Sphinx:\n+# extras = docs,test,gcp,aws,interactive,interactive_test\n+extras = test,gcp,aws,interactive,interactive_test\n+commands =\n+  time {toxinidir}/scripts/run_dependency_check.sh", "originalCommit": "6850a99f88f83f614d714c033e159dfe4282dea6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ec66822fba2b981028b7e42a55322eaccb1a620a", "url": "https://github.com/apache/beam/commit/ec66822fba2b981028b7e42a55322eaccb1a620a", "message": "fix: add jira id; copy WORKSPACE to the test environment", "committedDate": "2020-07-08T10:24:44Z", "type": "commit"}]}