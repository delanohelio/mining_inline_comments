{"pr_number": 11553, "pr_title": "[BEAM-9799] Automated validation for RTrackers.", "pr_createdAt": "2020-04-28T05:35:47Z", "pr_url": "https://github.com/apache/beam/pull/11553", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyMzE4Mg==", "url": "https://github.com/apache/beam/pull/11553#discussion_r419623182", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t} else {\n          \n          \n            \n            \t\treturn errors.New(\"RTracker IsDone failed for unspecified reason\")\n          \n          \n            \n            \t}\n          \n          \n            \n            \t}\n          \n          \n            \n            \treturn errors.New(\"RTracker.IsDone() failed for unspecified reason\")", "author": "lostluck", "createdAt": "2020-05-04T18:01:22Z", "path": "sdks/go/pkg/beam/core/runtime/exec/pardo.go", "diffHunk": "@@ -162,6 +168,14 @@ func (n *ParDo) processMainInput(mainIn *MainInput) error {\n \treturn nil\n }\n \n+func rtErrHelper(err error) error {\n+\tif err != nil {\n+\t\treturn err\n+\t} else {\n+\t\treturn errors.New(\"RTracker IsDone failed for unspecified reason\")\n+\t}", "originalCommit": "6668f0ac64923a54a572be1b503d1123a40af7ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyNDM3MA==", "url": "https://github.com/apache/beam/pull/11553#discussion_r419624370", "bodyText": "Also, in both places this is called, error or no, we don't know IsDone failed(), we know that the DoFn terminated without fully processing the restriction (If I understand IsDone's semantics correctly). Perhaps the message should indicate that?", "author": "lostluck", "createdAt": "2020-05-04T18:03:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyMzE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzAyMw==", "url": "https://github.com/apache/beam/pull/11553#discussion_r419743023", "bodyText": "Yeah good point. I'll rephrase it.", "author": "youngoli", "createdAt": "2020-05-04T21:34:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyMzE4Mg=="}], "type": "inlineReview"}, {"oid": "95f9a15ef1ca979f792c384d9d955675a47cd11b", "url": "https://github.com/apache/beam/commit/95f9a15ef1ca979f792c384d9d955675a47cd11b", "message": "[BEAM-9799] Automated validation for RTrackers.\n\nAdds automated validation for RTrackers to the DoFn invokers. I ran the\nParDo benchmark with and without my change and got similar results, so\nthis doesn't seem to have an obvious performance impact.", "committedDate": "2020-05-04T21:42:20Z", "type": "commit"}, {"oid": "95f9a15ef1ca979f792c384d9d955675a47cd11b", "url": "https://github.com/apache/beam/commit/95f9a15ef1ca979f792c384d9d955675a47cd11b", "message": "[BEAM-9799] Automated validation for RTrackers.\n\nAdds automated validation for RTrackers to the DoFn invokers. I ran the\nParDo benchmark with and without my change and got similar results, so\nthis doesn't seem to have an obvious performance impact.", "committedDate": "2020-05-04T21:42:20Z", "type": "forcePushed"}]}