{"pr_number": 12616, "pr_title": "[BEAM-10670] Update Jet to be opt-out for SplittableDoFn powering the Read transform.", "pr_createdAt": "2020-08-18T17:54:59Z", "pr_url": "https://github.com/apache/beam/pull/12616", "timeline": [{"oid": "9f40e37659751caa6a53a9da0432752505f7f97e", "url": "https://github.com/apache/beam/commit/9f40e37659751caa6a53a9da0432752505f7f97e", "message": "[BEAM-10670] Update Jet runner to be opt-out for splittable DoFn implementation for Read transform.", "committedDate": "2020-09-10T21:21:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY3OTgzMQ==", "url": "https://github.com/apache/beam/pull/12616#discussion_r486679831", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // There is an existing bug where we are trying to add additional outputs during flusing and don't restore state correctly\n          \n          \n            \n                    // There is an existing bug where we are trying to add additional outputs during flushing and don't restore state correctly", "author": "tysonjh", "createdAt": "2020-09-10T23:01:46Z", "path": "runners/jet/build.gradle", "diffHunk": "@@ -85,6 +84,12 @@ task validatesRunnerBatch(type: Test) {\n         excludeCategories 'org.apache.beam.sdk.testing.UsesTestStreamWithProcessingTime'\n     }\n     filter {\n+        // There is an existing bug caused by Jet assuming that outputs emitted are Object.equals comparable which is not true for byte[]\n+        excludeTestsMatching 'org.apache.beam.sdk.transforms.SplittableDoFnTest.testOutputAfterCheckpointBounded'\n+\n+        // There is an existing bug where we are trying to add additional outputs during flusing and don't restore state correctly", "originalCommit": "9f40e37659751caa6a53a9da0432752505f7f97e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY5NDQzNQ==", "url": "https://github.com/apache/beam/pull/12616#discussion_r486694435", "bodyText": "Is this list exhaustive? How can I tell if something is missing?", "author": "tysonjh", "createdAt": "2020-09-10T23:50:14Z", "path": "runners/jet/src/main/java/org/apache/beam/runners/jet/JetRunner.java", "diffHunk": "@@ -186,7 +189,15 @@ private JetInstance getJetInstance(JetPipelineOptions options) {\n   }\n \n   private static List<PTransformOverride> getDefaultOverrides() {\n-    return Collections.emptyList();\n+    return Arrays.asList(", "originalCommit": "9f40e37659751caa6a53a9da0432752505f7f97e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODA5NTcyMw==", "url": "https://github.com/apache/beam/pull/12616#discussion_r488095723", "bodyText": "There is no exhaustive list as each runner can choose to implement each transform however they wish. We have to rely on the @ValidatesRunner suite of tests for validation.", "author": "lukecwik", "createdAt": "2020-09-14T17:15:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjY5NDQzNQ=="}], "type": "inlineReview"}, {"oid": "bb2e2110c88c090684b82b0ed4951dedc8aeddee", "url": "https://github.com/apache/beam/commit/bb2e2110c88c090684b82b0ed4951dedc8aeddee", "message": "Update runners/jet/build.gradle\n\nCo-authored-by: Tyson Hamilton <tyson.j.hamilton@gmail.com>", "committedDate": "2020-09-14T17:21:41Z", "type": "forcePushed"}, {"oid": "623ef47df657a5d615836acd09a8f559b2437d34", "url": "https://github.com/apache/beam/commit/623ef47df657a5d615836acd09a8f559b2437d34", "message": "[BEAM-10670] Update Jet runner to be opt-out for splittable DoFn implementation for Read transform.", "committedDate": "2020-09-16T16:52:05Z", "type": "commit"}, {"oid": "794e7df957c799fd13dd30fe41ec0ad3b7bceb3c", "url": "https://github.com/apache/beam/commit/794e7df957c799fd13dd30fe41ec0ad3b7bceb3c", "message": "Update runners/jet/build.gradle\n\nCo-authored-by: Tyson Hamilton <tyson.j.hamilton@gmail.com>", "committedDate": "2020-09-16T16:52:11Z", "type": "commit"}, {"oid": "794e7df957c799fd13dd30fe41ec0ad3b7bceb3c", "url": "https://github.com/apache/beam/commit/794e7df957c799fd13dd30fe41ec0ad3b7bceb3c", "message": "Update runners/jet/build.gradle\n\nCo-authored-by: Tyson Hamilton <tyson.j.hamilton@gmail.com>", "committedDate": "2020-09-16T16:52:11Z", "type": "forcePushed"}]}