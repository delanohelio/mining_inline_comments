{"pr_number": 12570, "pr_title": "fix logic issue in metric name namespace filtering", "pr_createdAt": "2020-08-13T19:10:05Z", "pr_url": "https://github.com/apache/beam/pull/12570", "timeline": [{"oid": "32ae855aef2048d3028072ebe1f586183a75b287", "url": "https://github.com/apache/beam/commit/32ae855aef2048d3028072ebe1f586183a75b287", "message": "fix logic issue in metric name namespace filtering", "committedDate": "2020-08-13T17:50:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDIwMzUxNQ==", "url": "https://github.com/apache/beam/pull/12570#discussion_r470203515", "bodyText": "I think the condition is probably better expressed as\nif ((filter.namespaces and metric_key.metric.namespace not in filter.namespaces) or (filter.names and metric_key.metric.name not in filter.names)):\nreturn False\nelse:\nreturn True", "author": "y1chi", "createdAt": "2020-08-13T19:41:42Z", "path": "sdks/python/apache_beam/metrics/metric.py", "diffHunk": "@@ -130,10 +130,16 @@ def _matches_name(filter, metric_key):\n     if not filter.names and not filter.namespaces:\n       return True\n \n-    if ((filter.namespaces and metric_key.metric.namespace in filter.namespaces)\n-        or (filter.names and metric_key.metric.name in filter.names)):\n-      return True\n-    return False\n+    if filter.names and filter.namespaces:", "originalCommit": "32ae855aef2048d3028072ebe1f586183a75b287", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "41e4505c2fb08efaabeef2b15d75f12753ad0239", "url": "https://github.com/apache/beam/commit/41e4505c2fb08efaabeef2b15d75f12753ad0239", "message": "refactor boolean logic to be more concise", "committedDate": "2020-08-13T19:54:31Z", "type": "commit"}]}