{"pr_number": 11949, "pr_title": "Simplify Python on Flink runner instructions.", "pr_createdAt": "2020-06-08T20:16:52Z", "pr_url": "https://github.com/apache/beam/pull/11949", "timeline": [{"oid": "a201597bcdf06363d5fd631906bc60d8391e1be0", "url": "https://github.com/apache/beam/commit/a201597bcdf06363d5fd631906bc60d8391e1be0", "message": "Simplify Python on Flink runner instructions.\n\nAlso fix formatting broken during website transition due to BEAM-10214.", "committedDate": "2020-06-08T20:15:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk4MTcxNQ==", "url": "https://github.com/apache/beam/pull/11949#discussion_r436981715", "bodyText": "This instruction appears when Python is toggled. I don't think it should.", "author": "ibzib", "createdAt": "2020-06-08T20:30:32Z", "path": "website/www/site/content/en/documentation/runners/flink.md", "diffHunk": "@@ -276,36 +276,48 @@ If you have a Flink `JobManager` running on your local machine you can provide `\n `flinkMaster`. Otherwise an embedded Flink cluster will be started for the job.\n {{< /paragraph >}}\n \n-Starting with Beam 2.18.0, pre-built Docker images are available at Docker Hub.\n-\n-JobService:\n+{{< paragraph class=\"language-portable\" >}}\n+Starting with Beam 2.18.0, pre-built Flink Job Service Docker images are available at Docker Hub:\n [Flink 1.8](https://hub.docker.com/r/apache/beam_flink1.8_job_server),\n [Flink 1.9](https://hub.docker.com/r/apache/beam_flink1.9_job_server).\n [Flink 1.10](https://hub.docker.com/r/apache/beam_flink1.10_job_server).\n-\n-Beam SDK:\n-[Python 2.7](https://hub.docker.com/r/apache/beam_python2.7_sdk),\n-[Python 3.5](https://hub.docker.com/r/apache/beam_python3.5_sdk),\n-[Python 3.6](https://hub.docker.com/r/apache/beam_python3.6_sdk),\n-[Python 3.7](https://hub.docker.com/r/apache/beam_python3.7_sdk).\n+{{< /paragraph >}}\n \n To run a pipeline on an embedded Flink cluster:\n <!-- Span implictly ended -->\n \n {{< paragraph class=\"language-py\" >}}\n-1. Start the JobService endpoint: `docker run --net=host apache/beam_flink1.10_job_server:latest`\n+(1) Set the runner to `FlinkRunner`.  Optionally set `environment_type` set to `LOOPBACK`. For example:\n {{< /paragraph >}}\n \n-{{< paragraph class=\"language-py\" >}}\n+{{< highlight py >}}\n+import apache_beam as beam\n+from apache_beam.options.pipeline_options import PipelineOptions\n+\n+options = PipelineOptions([\n+    \"--runner=FlinkRunner\",\n+    \"--environment_type=LOOPBACK\"\n+])\n+with beam.Pipeline(options) as p:\n+    ...\n+{{< /highlight >}}\n+\n+{{< paragraph class=\"language-portable\" >}}\n+<!-- TODO(BEAM-10214): Use actual lists here and below. -->\n+(1) Start the JobService endpoint: `docker run --net=host apache/beam_flink1.10_job_server:latest`", "originalCommit": "a201597bcdf06363d5fd631906bc60d8391e1be0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAwNjMyMw==", "url": "https://github.com/apache/beam/pull/11949#discussion_r437006323", "bodyText": "Fixed.", "author": "robertwb", "createdAt": "2020-06-08T21:16:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk4MTcxNQ=="}], "type": "inlineReview"}, {"oid": "3abde8fab728148c5bbc2ae1b50310fd00e86a38", "url": "https://github.com/apache/beam/commit/3abde8fab728148c5bbc2ae1b50310fd00e86a38", "message": "Fix stray paragraph, separate and rework python.", "committedDate": "2020-06-08T21:16:38Z", "type": "commit"}, {"oid": "ee602542bd659779c752e5a2d94c06ba845b6b96", "url": "https://github.com/apache/beam/commit/ee602542bd659779c752e5a2d94c06ba845b6b96", "message": "Expand note on runner selection.", "committedDate": "2020-06-10T18:01:20Z", "type": "commit"}, {"oid": "77ac458b36baaba68325eaf49ca6f35f3d409c73", "url": "https://github.com/apache/beam/commit/77ac458b36baaba68325eaf49ca6f35f3d409c73", "message": "Move Beam Compatibility table below instructions.", "committedDate": "2020-06-10T18:38:26Z", "type": "commit"}]}