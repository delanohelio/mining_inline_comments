{"pr_number": 11153, "pr_title": "[BEAM-9537] Adding a new module for FnApiRunner", "pr_createdAt": "2020-03-18T05:14:35Z", "pr_url": "https://github.com/apache/beam/pull/11153", "timeline": [{"oid": "e2c78a3bd9bda159d8f33440a1dc78363031cf09", "url": "https://github.com/apache/beam/commit/e2c78a3bd9bda159d8f33440a1dc78363031cf09", "message": "yapf", "committedDate": "2020-03-18T06:06:51Z", "type": "forcePushed"}, {"oid": "deb7f74d7af21e2024df26b969f23b59406baec3", "url": "https://github.com/apache/beam/commit/deb7f74d7af21e2024df26b969f23b59406baec3", "message": "fix issue", "committedDate": "2020-03-18T19:46:34Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4NDQ4MQ==", "url": "https://github.com/apache/beam/pull/11153#discussion_r395884481", "bodyText": "You don't have to do this in this PR, but this should probably be in apache_beam/utils.", "author": "robertwb", "createdAt": "2020-03-20T20:52:24Z", "path": "sdks/python/apache_beam/runners/dataflow/dataflow_runner.py", "diffHunk": "@@ -269,8 +269,8 @@ def visit_transform(self, transform_node):\n               pcoll.element_type, transform_node.full_label)\n           key_type, value_type = pcoll.element_type.tuple_types\n           if transform_node.outputs:\n-            from apache_beam.runners.portability.fn_api_runner_transforms import \\\n-              only_element\n+            from apache_beam.runners.portability.fn_api_runner.transforms \\", "originalCommit": "1cb16a09daac3bc8fc688dd4a6697eba8a488252", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4OTI3NQ==", "url": "https://github.com/apache/beam/pull/11153#discussion_r395889275", "bodyText": "You mean the newly named translations module may need to exist in apache_beam/utils?", "author": "pabloem", "createdAt": "2020-03-20T21:05:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4NDQ4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg5NzMxNg==", "url": "https://github.com/apache/beam/pull/11153#discussion_r395897316", "bodyText": "I meant that utilities like only_element should probably be in a more common place rather than imported elsewhere from here.", "author": "robertwb", "createdAt": "2020-03-20T21:26:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4NDQ4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4NTk1OA==", "url": "https://github.com/apache/beam/pull/11153#discussion_r395885958", "bodyText": "Seeing this unqualified makes me realize that it's ambiguous with the notion of a PTransform (and the apache_beam.transforms package). Maybe we should call it optimizations or translations?", "author": "robertwb", "createdAt": "2020-03-20T20:56:21Z", "path": "sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py", "diffHunk": "@@ -78,12 +78,12 @@\n from apache_beam.runners import pipeline_context\n from apache_beam.runners import runner\n from apache_beam.runners.portability import artifact_service\n-from apache_beam.runners.portability import fn_api_runner_transforms\n from apache_beam.runners.portability import portable_metrics\n-from apache_beam.runners.portability.fn_api_runner_transforms import create_buffer_id\n-from apache_beam.runners.portability.fn_api_runner_transforms import only_element\n-from apache_beam.runners.portability.fn_api_runner_transforms import split_buffer_id\n-from apache_beam.runners.portability.fn_api_runner_transforms import unique_name\n+from apache_beam.runners.portability.fn_api_runner import transforms", "originalCommit": "1cb16a09daac3bc8fc688dd4a6697eba8a488252", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4ODkzNg==", "url": "https://github.com/apache/beam/pull/11153#discussion_r395888936", "bodyText": "Done. Went with translations. But I also like optimizations... Maybe I'll rename if it becomes a little bit more optimizations than translations down the road.", "author": "pabloem", "createdAt": "2020-03-20T21:04:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg4NTk1OA=="}], "type": "inlineReview"}, {"oid": "1cdab531c2467ed00c1c8660b4e784d8b3eba53f", "url": "https://github.com/apache/beam/commit/1cdab531c2467ed00c1c8660b4e784d8b3eba53f", "message": "Adding a new module for FnApiRunner", "committedDate": "2020-03-20T21:03:17Z", "type": "commit"}, {"oid": "973f3d74f6835dbc01f0f61a079fdf9d7202733b", "url": "https://github.com/apache/beam/commit/973f3d74f6835dbc01f0f61a079fdf9d7202733b", "message": "yapf", "committedDate": "2020-03-20T21:03:17Z", "type": "commit"}, {"oid": "1bf9d0a8dd605ce55db3cc876cc1cc926bc984d3", "url": "https://github.com/apache/beam/commit/1bf9d0a8dd605ce55db3cc876cc1cc926bc984d3", "message": "fix issue", "committedDate": "2020-03-20T21:03:17Z", "type": "commit"}, {"oid": "53611a79d57280c4c8052a3d21f1ec2e38e48cd6", "url": "https://github.com/apache/beam/commit/53611a79d57280c4c8052a3d21f1ec2e38e48cd6", "message": "assertRaisesRegex is version dependent", "committedDate": "2020-03-20T21:03:17Z", "type": "commit"}, {"oid": "191485c8bb7196ca56982057bd830b7547e90634", "url": "https://github.com/apache/beam/commit/191485c8bb7196ca56982057bd830b7547e90634", "message": "Fix formatter", "committedDate": "2020-03-20T21:03:17Z", "type": "commit"}, {"oid": "eb2cb1b840c2539797de05ab234991235dd8d5d8", "url": "https://github.com/apache/beam/commit/eb2cb1b840c2539797de05ab234991235dd8d5d8", "message": "Renaming module", "committedDate": "2020-03-20T21:03:17Z", "type": "commit"}, {"oid": "eb2cb1b840c2539797de05ab234991235dd8d5d8", "url": "https://github.com/apache/beam/commit/eb2cb1b840c2539797de05ab234991235dd8d5d8", "message": "Renaming module", "committedDate": "2020-03-20T21:03:17Z", "type": "forcePushed"}, {"oid": "007aadd969b96d08dc12ee60223dde4ad7a1dae0", "url": "https://github.com/apache/beam/commit/007aadd969b96d08dc12ee60223dde4ad7a1dae0", "message": "Fixing runners", "committedDate": "2020-03-20T21:49:30Z", "type": "commit"}]}