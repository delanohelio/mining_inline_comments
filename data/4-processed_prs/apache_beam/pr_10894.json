{"pr_number": 10894, "pr_title": "[BEAM-8280] Enable and improve IOTypeHints debug_str traceback", "pr_createdAt": "2020-02-18T23:10:56Z", "pr_url": "https://github.com/apache/beam/pull/10894", "timeline": [{"oid": "f8b8db89d5b66197082c1cdc99caa48c02511b3c", "url": "https://github.com/apache/beam/commit/f8b8db89d5b66197082c1cdc99caa48c02511b3c", "message": "[BEAM-8280] IOTypeHints debug_str traceback\n\n- Improve format\n- Add multiple bases (in `.with_defaults()`)\n- Include debug_str output in ptransform.py TypeCheckErrors.", "committedDate": "2020-02-18T23:09:24Z", "type": "commit"}, {"oid": "1af5943cb1b45b7d1298fd30b1f3977541fb9d91", "url": "https://github.com/apache/beam/commit/1af5943cb1b45b7d1298fd30b1f3977541fb9d91", "message": "Reduce origin and traceback verbosity\n\nAlso lint", "committedDate": "2020-02-19T18:08:32Z", "type": "commit"}, {"oid": "34a01b7cd0c2e7b08290e5aeb697bad3dc3448d4", "url": "https://github.com/apache/beam/commit/34a01b7cd0c2e7b08290e5aeb697bad3dc3448d4", "message": "minor fix", "committedDate": "2020-02-19T19:04:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4MDY0Ng==", "url": "https://github.com/apache/beam/pull/10894#discussion_r381580646", "bodyText": "nit: with this many args, either using .format with named params or %(name)d with an arg dict would be more readable", "author": "kennknowles", "createdAt": "2020-02-19T22:22:41Z", "path": "sdks/python/apache_beam/transforms/ptransform.py", "diffHunk": "@@ -849,8 +854,9 @@ def element_type(side_input):\n         if not typehints.is_consistent_with(bindings.get(arg, typehints.Any),\n                                             hint):\n           raise TypeCheckError(\n-              'Type hint violation for \\'%s\\': requires %s but got %s for %s' %\n-              (self.label, hint, bindings[arg], arg))\n+              'Type hint violation for \\'%s\\': requires %s but got %s for %s\\n'\n+              'Full type hint:\\n%s' %\n+              (self.label, hint, bindings[arg], arg, type_hints.debug_str()))", "originalCommit": "34a01b7cd0c2e7b08290e5aeb697bad3dc3448d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwNTAzMw==", "url": "https://github.com/apache/beam/pull/10894#discussion_r382205033", "bodyText": "done", "author": "udim", "createdAt": "2020-02-20T19:18:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4MDY0Ng=="}], "type": "inlineReview"}, {"oid": "0241affc1b76bc58ac4609ad67da77e5a9a1aa91", "url": "https://github.com/apache/beam/commit/0241affc1b76bc58ac4609ad67da77e5a9a1aa91", "message": "Make formatted strings more readable", "committedDate": "2020-02-20T19:17:27Z", "type": "commit"}]}