{"pr_number": 10952, "pr_title": "[Beam-9063]update documentation", "pr_createdAt": "2020-02-24T20:19:42Z", "pr_url": "https://github.com/apache/beam/pull/10952", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAyNTc1OQ==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384025759", "bodyText": "When I search the project for bintray, I only get a few matches:\nbuildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy:          configuration.root = \"${System.properties[\"user.name\"]}-docker-apache.bintray.io/beam\"\nwebsite/src/documentation/runtime/environments.md:./gradlew :sdks:python:container:py2:docker -Pdocker-repository-root=$USER-docker-apache.bintray.io/beam/python\nwebsite/src/get-started/wordcount-example.md:                      --worker_harness_container_image=apache-docker-beam-snapshots-docker.bintray.io/beam/go:20180515\nwebsite/src/get-started/wordcount-example.md:            --worker_harness_container_image=apache-docker-beam-snapshots-docker.bintray.io/beam/go:20180515\n\nOf which it looks like the latter two are outdated.\nSeeing as Bintray no longer has any special significance, maybe we should change the example repo to Docker hub. e.g. docker push $YOUR_REPO:beam_python2.7_sdk", "author": "ibzib", "createdAt": "2020-02-25T17:38:53Z", "path": "website/src/documentation/runtime/environments.md", "diffHunk": "@@ -166,20 +166,18 @@ To change the repository, set the `docker-repository-root` option to a new locat\n \n After [building a container image](#building-container-images), you can store it in a remote Docker repository.\n \n-The following steps push a Python SDK image to the [`docker-root-repository` value](#overriding-default-docker-targets).\n+The following steps push a Python2.7 SDK image to the [`docker-root-repository` value](#overriding-default-docker-targets). \n+Please log in to the destination repository as needed. \n \n-1. Sign in to your Docker registry:\n ```\n-docker login\n+Upload it to the remote repository:\n ```\n-2. Navigate to the local copy of your container image and upload it to the remote repository:\n-```\n-docker push apache/beam_python2.7_sdk\n+docker push $USER-docker-apache.bintray.io/beam/python:beam_python2.7_sdk", "originalCommit": "f6d453f8cdd7e1a72ba6be98485efe675bfe7658", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA5MTYyNw==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384091627", "bodyText": "Updated it. PTAL when you have time.", "author": "Hannah-Jiang", "createdAt": "2020-02-25T19:54:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAyNTc1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEyMzQ1MA==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384123450", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ./gradlew :sdks:python:container:py3.6:docker -Pdocker-tag=2019-10-04\n          \n          \n            \n            ./gradlew :sdks:python:container:py36:docker -Pdocker-tag=2019-10-04", "author": "ibzib", "createdAt": "2020-02-25T21:01:20Z", "path": "website/src/documentation/runtime/environments.md", "diffHunk": "@@ -150,34 +151,36 @@ apache/beam_go_sdk                 latest              30cf602e9763        2 wee\n \n ### Overriding default Docker targets\n \n-The default [tag](https://docs.docker.com/engine/reference/commandline/tag/) is `latest` and the default repositories are in the Docker Hub `apachebeam` namespace. The `docker` command-line tool implicitly [pushes container images](#pushing-container-images) to this location.\n+The default [tag](https://docs.docker.com/engine/reference/commandline/tag/) is sdk_version defined at [gradle.properties](https://github.com/apache/beam/blob/master/gradle.properties) and the default repositories are in the Docker Hub `apache` namespace. \n+The `docker` command-line tool implicitly [pushes container images](#pushing-container-images) to this location.\n \n To tag a local image, set the `docker-tag` option when building the container. The following command tags a Python SDK image with a date.\n ```\n-./gradlew :sdks:python:container:py2:docker -Pdocker-tag=2019-10-04\n+./gradlew :sdks:python:container:py3.6:docker -Pdocker-tag=2019-10-04", "originalCommit": "92709179f7067e1302dc5771bf3b5252bea0b890", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEyMzYyNA==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384123624", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ./gradlew :sdks:python:container:py3.6:docker -Pdocker-repository-root=example-repo\n          \n          \n            \n            ./gradlew :sdks:python:container:py36:docker -Pdocker-repository-root=example-repo", "author": "ibzib", "createdAt": "2020-02-25T21:01:40Z", "path": "website/src/documentation/runtime/environments.md", "diffHunk": "@@ -150,34 +151,36 @@ apache/beam_go_sdk                 latest              30cf602e9763        2 wee\n \n ### Overriding default Docker targets\n \n-The default [tag](https://docs.docker.com/engine/reference/commandline/tag/) is `latest` and the default repositories are in the Docker Hub `apachebeam` namespace. The `docker` command-line tool implicitly [pushes container images](#pushing-container-images) to this location.\n+The default [tag](https://docs.docker.com/engine/reference/commandline/tag/) is sdk_version defined at [gradle.properties](https://github.com/apache/beam/blob/master/gradle.properties) and the default repositories are in the Docker Hub `apache` namespace. \n+The `docker` command-line tool implicitly [pushes container images](#pushing-container-images) to this location.\n \n To tag a local image, set the `docker-tag` option when building the container. The following command tags a Python SDK image with a date.\n ```\n-./gradlew :sdks:python:container:py2:docker -Pdocker-tag=2019-10-04\n+./gradlew :sdks:python:container:py3.6:docker -Pdocker-tag=2019-10-04\n ```\n \n-To change the repository, set the `docker-repository-root` option to a new location. The following command sets the `docker-repository-root` to a Bintray repository named `apache`.\n+To change the repository, set the `docker-repository-root` option to a new location. The following command sets the `docker-repository-root` \n+to a repository named `example-repo` on Docker Hub.\n ```\n-./gradlew :sdks:python:container:py2:docker -Pdocker-repository-root=$USER-docker-apache.bintray.io/beam/python\n+./gradlew :sdks:python:container:py3.6:docker -Pdocker-repository-root=example-repo", "originalCommit": "92709179f7067e1302dc5771bf3b5252bea0b890", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEyNDk2Nw==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384124967", "bodyText": "If custom containers are not supported yet, do the instructions below this work?", "author": "ibzib", "createdAt": "2020-02-25T21:04:39Z", "path": "website/src/documentation/runtime/environments.md", "diffHunk": "@@ -99,6 +99,7 @@ python -m apache_beam.examples.wordcount \\\n --environment_config=path/to/container/image\n ```\n \n+(Customized containers are not supported with Dataflow runner yet.)", "originalCommit": "92709179f7067e1302dc5771bf3b5252bea0b890", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE1ODk5MA==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384158990", "bodyText": "I think it's still better to include it, it is telling users Dataflow will support custom containers in future, though they are not supported at the moment.", "author": "Hannah-Jiang", "createdAt": "2020-02-25T22:14:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEyNDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE4NDY5MA==", "url": "https://github.com/apache/beam/pull/10952#discussion_r384184690", "bodyText": "Can we at least make that more clear? It's confusing to document features we don't support yet.", "author": "ibzib", "createdAt": "2020-02-25T23:15:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEyNDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgwMjg1Mg==", "url": "https://github.com/apache/beam/pull/10952#discussion_r405802852", "bodyText": "I removed dataflow part. Can you please take a look?\n(Sorry for long due...)", "author": "Hannah-Jiang", "createdAt": "2020-04-08T20:43:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEyNDk2Nw=="}], "type": "inlineReview"}, {"oid": "0dea78da38ac9a0c3c3592891dfc8485e4d2e785", "url": "https://github.com/apache/beam/commit/0dea78da38ac9a0c3c3592891dfc8485e4d2e785", "message": "[Beam-9063]update documentation", "committedDate": "2020-02-25T22:38:39Z", "type": "commit"}, {"oid": "0dea78da38ac9a0c3c3592891dfc8485e4d2e785", "url": "https://github.com/apache/beam/commit/0dea78da38ac9a0c3c3592891dfc8485e4d2e785", "message": "[Beam-9063]update documentation", "committedDate": "2020-02-25T22:38:39Z", "type": "forcePushed"}, {"oid": "eef239e5665b5878891cc40034d9d6f1614b5aec", "url": "https://github.com/apache/beam/commit/eef239e5665b5878891cc40034d9d6f1614b5aec", "message": "remove dataflow part", "committedDate": "2020-04-08T20:42:56Z", "type": "commit"}, {"oid": "ccb731dfe98419886b1a9d2b6934a94aba7b0557", "url": "https://github.com/apache/beam/commit/ccb731dfe98419886b1a9d2b6934a94aba7b0557", "message": "Merge branch 'master' into update_container_docu", "committedDate": "2020-04-08T20:44:50Z", "type": "commit"}, {"oid": "8bd08a3c6df574e95314c788ce466935d72f1f41", "url": "https://github.com/apache/beam/commit/8bd08a3c6df574e95314c788ce466935d72f1f41", "message": "Update website/src/documentation/runtime/environments.md\n\nCo-Authored-By: Kyle Weaver <kcweaver@google.com>", "committedDate": "2020-04-08T20:45:40Z", "type": "commit"}, {"oid": "bfe7ed43d24ae768328392afc699b393bf102da3", "url": "https://github.com/apache/beam/commit/bfe7ed43d24ae768328392afc699b393bf102da3", "message": "Update website/src/documentation/runtime/environments.md\n\nCo-Authored-By: Kyle Weaver <kcweaver@google.com>", "committedDate": "2020-04-08T20:45:52Z", "type": "commit"}]}