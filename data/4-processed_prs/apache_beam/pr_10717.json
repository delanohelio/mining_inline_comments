{"pr_number": 10717, "pr_title": "[BEAM-8280] Enable type hint annotations", "pr_createdAt": "2020-01-29T22:34:55Z", "pr_url": "https://github.com/apache/beam/pull/10717", "timeline": [{"oid": "cc854f5e8c67f83bab79a4a6d2f513e13b21146b", "url": "https://github.com/apache/beam/commit/cc854f5e8c67f83bab79a4a6d2f513e13b21146b", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds a couple of way to disable them:\n- `decorators.disable_type_annotations()` to disable globally.\n- `@decorators.no_annotations` decorator to disable on a specific\nfunction.", "committedDate": "2020-02-12T18:19:03Z", "type": "forcePushed"}, {"oid": "cccd4b603da163b43ac571dda9baf6366f054141", "url": "https://github.com/apache/beam/commit/cccd4b603da163b43ac571dda9baf6366f054141", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `decorators.disable_type_annotations()`, which disables annotations\nglobally.", "committedDate": "2020-02-28T19:46:26Z", "type": "forcePushed"}, {"oid": "fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "url": "https://github.com/apache/beam/commit/fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally.", "committedDate": "2020-03-06T01:06:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEwOTU4Nw==", "url": "https://github.com/apache/beam/pull/10717#discussion_r389109587", "bodyText": "Please add a link to some docs, and make sure they have a good pointer for how to disable this if it breaks users (that may have bad typing hints and need a quick fix).", "author": "robertwb", "createdAt": "2020-03-06T19:46:28Z", "path": "CHANGES.md", "diffHunk": "@@ -39,6 +39,7 @@\n * New AnnotateImage & AnnotateImageWithContext PTransform's for element-wise & batch image annotation using Google Cloud Vision API. (Python) ([BEAM-9247](https://issues.apache.org/jira/browse/BEAM-9247))\n * Added a PTransform for inspection and deidentification of text using Google Cloud DLP. (Python) ([BEAM-9258](https://issues.apache.org/jira/browse/BEAM-9258))\n * Added ability to write to BigQuery via Avro file loads (Python)([BEAM-8841](https://issues.apache.org/jira/browse/BEAM-8841))\n+* Python SDK will now use Python 3 type annotations as pipeline type hints. ([#10717](https://github.com/apache/beam/pull/10717))", "originalCommit": "fb3230b7e65dff7baddc391e95a6fe7f1c32e343", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE0OTkyNw==", "url": "https://github.com/apache/beam/pull/10717#discussion_r389149927", "bodyText": "I'm working on a blog post. We could wait on that (no PR yet), or settle on this PR's description.", "author": "udim", "createdAt": "2020-03-06T21:20:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEwOTU4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQwMDU4Nw==", "url": "https://github.com/apache/beam/pull/10717#discussion_r395400587", "bodyText": "I've update the description.", "author": "udim", "createdAt": "2020-03-20T01:16:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEwOTU4Nw=="}], "type": "inlineReview"}, {"oid": "e8d284411e20de7b81cac76373f4b4af098dd66e", "url": "https://github.com/apache/beam/commit/e8d284411e20de7b81cac76373f4b4af098dd66e", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally.", "committedDate": "2020-03-20T01:14:53Z", "type": "forcePushed"}, {"oid": "636de82925768cb92a0ae4e8d16bec418fb68b04", "url": "https://github.com/apache/beam/commit/636de82925768cb92a0ae4e8d16bec418fb68b04", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally.", "committedDate": "2020-03-20T01:20:25Z", "type": "commit"}, {"oid": "636de82925768cb92a0ae4e8d16bec418fb68b04", "url": "https://github.com/apache/beam/commit/636de82925768cb92a0ae4e8d16bec418fb68b04", "message": "[BEAM-8280] Enable type hint annotations\n\nChanges default to use type annotations.\n\nAdds `apache_beam.typehints.disable_type_annotations()`, which disables\nannotations globally.", "committedDate": "2020-03-20T01:20:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTExNzE2MQ==", "url": "https://github.com/apache/beam/pull/10717#discussion_r401117161", "bodyText": "Should this be True? (based on the check in line 234)", "author": "angoenka", "createdAt": "2020-03-31T18:15:34Z", "path": "sdks/python/apache_beam/typehints/decorators.py", "diffHunk": "@@ -138,8 +139,7 @@ def foo((a, b)):\n \n _ANY_VAR_POSITIONAL = typehints.Tuple[typehints.Any, ...]\n _ANY_VAR_KEYWORD = typehints.Dict[typehints.Any, typehints.Any]\n-# TODO(BEAM-8280): Remove this when from_callable is ready to be enabled.\n-_enable_from_callable = False\n+_disable_from_callable = False", "originalCommit": "636de82925768cb92a0ae4e8d16bec418fb68b04", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTExODgyOQ==", "url": "https://github.com/apache/beam/pull/10717#discussion_r401118829", "bodyText": "No, I inverted the logic and made using type annotations on by default.", "author": "udim", "createdAt": "2020-03-31T18:18:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTExNzE2MQ=="}], "type": "inlineReview"}]}