{"pr_number": 11167, "pr_title": "[BEAM-4374] Define the protos for a \"short\" id mechanism for metrics", "pr_createdAt": "2020-03-19T00:08:34Z", "pr_url": "https://github.com/apache/beam/pull/11167", "timeline": [{"oid": "e0f2af5b3fe388cd8f0e43d95bdce31acd1bd846", "url": "https://github.com/apache/beam/commit/e0f2af5b3fe388cd8f0e43d95bdce31acd1bd846", "message": "[BEAM-4374] Define the protos for a \"short\" id mechanism for metrics", "committedDate": "2020-03-19T00:11:02Z", "type": "commit"}, {"oid": "e0f2af5b3fe388cd8f0e43d95bdce31acd1bd846", "url": "https://github.com/apache/beam/commit/e0f2af5b3fe388cd8f0e43d95bdce31acd1bd846", "message": "[BEAM-4374] Define the protos for a \"short\" id mechanism for metrics", "committedDate": "2020-03-19T00:11:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIxNTU1MA==", "url": "https://github.com/apache/beam/pull/11167#discussion_r395215550", "bodyText": "Maybe call this monitioring_info_id to distinguish this from the many other ids (like instruction id, process bundle id, etc.)", "author": "robertwb", "createdAt": "2020-03-19T17:55:13Z", "path": "model/fn-execution/src/main/proto/beam_fn_api.proto", "diffHunk": "@@ -277,6 +291,21 @@ message ProcessBundleProgressRequest {\n   string instruction_id = 1;\n }\n \n+// A request to provide full MonitoringInfo for a given bundle.\n+//\n+// An SDK can report metrics using an identifier that only contains the\n+// associated payload. A runner who wants to receive the full metrics\n+// information can request all the monitoring metadata via a\n+// ProcessBundleProgressMetadataRequest providing a list of ids as necessary.\n+//\n+// The SDK is allowed to reuse the identifiers across multiple bundles as long\n+// as the MonitoringInfo could be reconstructed fully by overwriting its\n+// payload field with the bytes specified here.\n+message ProcessBundleProgressMetadataRequest {\n+  // A list of ids for which the full MonitoringInfo is requested for.\n+  repeated string id = 1;", "originalCommit": "e0f2af5b3fe388cd8f0e43d95bdce31acd1bd846", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTI5OTQ3Mg==", "url": "https://github.com/apache/beam/pull/11167#discussion_r395299472", "bodyText": "Done", "author": "lukecwik", "createdAt": "2020-03-19T20:26:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIxNTU1MA=="}], "type": "inlineReview"}, {"oid": "2b3e35db790ad97de46d3a9f23a6805a72ec5afa", "url": "https://github.com/apache/beam/commit/2b3e35db790ad97de46d3a9f23a6805a72ec5afa", "message": "fixup! Address PR comments.", "committedDate": "2020-03-19T20:26:40Z", "type": "commit"}]}