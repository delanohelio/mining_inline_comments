{"pr_number": 11269, "pr_title": "[BEAM-9199] Require Dataflow --region in Python SDK.", "pr_createdAt": "2020-03-30T23:33:47Z", "pr_url": "https://github.com/apache/beam/pull/11269", "timeline": [{"oid": "940c45e961c510eb0c55603613abffa6e72ce8a1", "url": "https://github.com/apache/beam/commit/940c45e961c510eb0c55603613abffa6e72ce8a1", "message": "[BEAM-9199] Require Dataflow --region in Python SDK.", "committedDate": "2020-03-31T22:57:42Z", "type": "commit"}, {"oid": "16b86f210b6d38e2c6a992f4fa26472052cbb94b", "url": "https://github.com/apache/beam/commit/16b86f210b6d38e2c6a992f4fa26472052cbb94b", "message": "Add --region to tests where needed.", "committedDate": "2020-03-31T22:57:48Z", "type": "commit"}, {"oid": "16b86f210b6d38e2c6a992f4fa26472052cbb94b", "url": "https://github.com/apache/beam/commit/16b86f210b6d38e2c6a992f4fa26472052cbb94b", "message": "Add --region to tests where needed.", "committedDate": "2020-03-31T22:57:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjIxNw==", "url": "https://github.com/apache/beam/pull/11269#discussion_r402642217", "bodyText": "Clever, but a bit dangreous.", "author": "aaltay", "createdAt": "2020-04-02T22:54:39Z", "path": "sdks/python/apache_beam/options/pipeline_options_validator_test.py", "diffHunk": "@@ -38,9 +38,12 @@\n # Mock runners to use for validations.\n class MockRunners(object):\n   class DataflowRunner(object):\n-    pass\n+    def get_default_gcp_region(self):", "originalCommit": "16b86f210b6d38e2c6a992f4fa26472052cbb94b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0NDM2OQ==", "url": "https://github.com/apache/beam/pull/11269#discussion_r402644369", "bodyText": "We could also just add --region to all the tests if you would prefer.", "author": "ibzib", "createdAt": "2020-04-02T23:00:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjIxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY4MzE3NQ==", "url": "https://github.com/apache/beam/pull/11269#discussion_r402683175", "bodyText": "Not really. I like your solution better.", "author": "aaltay", "createdAt": "2020-04-03T01:13:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjIxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjU1Mg==", "url": "https://github.com/apache/beam/pull/11269#discussion_r402642552", "bodyText": "Do we test this method? (Tests all seemingly overwrite it.)", "author": "aaltay", "createdAt": "2020-04-02T22:55:36Z", "path": "sdks/python/apache_beam/runners/dataflow/dataflow_runner.py", "diffHunk": "@@ -1396,6 +1399,36 @@ def json_string_to_byte_array(encoded_string):\n     \"\"\"Implements org.apache.beam.sdk.util.StringUtils.jsonStringToByteArray.\"\"\"\n     return unquote_to_bytes(encoded_string)\n \n+  def get_default_gcp_region(self):", "originalCommit": "16b86f210b6d38e2c6a992f4fa26472052cbb94b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0NDU5Ng==", "url": "https://github.com/apache/beam/pull/11269#discussion_r402644596", "bodyText": "We test the Java equivalent, but not Python. I suppose we should.", "author": "ibzib", "createdAt": "2020-04-02T23:01:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjU1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY4MzIyMA==", "url": "https://github.com/apache/beam/pull/11269#discussion_r402683220", "bodyText": "I think we should, if we can.", "author": "aaltay", "createdAt": "2020-04-03T01:13:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjU1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzAyMTcyMA==", "url": "https://github.com/apache/beam/pull/11269#discussion_r403021720", "bodyText": "Added some unit tests, PTAL.", "author": "ibzib", "createdAt": "2020-04-03T13:54:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY0MjU1Mg=="}], "type": "inlineReview"}, {"oid": "ca6aff6a6bcf5ba49be71a665df4a3ac7e94290c", "url": "https://github.com/apache/beam/commit/ca6aff6a6bcf5ba49be71a665df4a3ac7e94290c", "message": "Add unit tests for get_default_gcp_region", "committedDate": "2020-04-03T13:53:01Z", "type": "commit"}, {"oid": "3da5a717df4e1ce37d084384150e0e5098509893", "url": "https://github.com/apache/beam/commit/3da5a717df4e1ce37d084384150e0e5098509893", "message": "lint", "committedDate": "2020-04-03T16:20:33Z", "type": "commit"}, {"oid": "55d6ca2da03624e16721a0ad583ba5ccff0db194", "url": "https://github.com/apache/beam/commit/55d6ca2da03624e16721a0ad583ba5ccff0db194", "message": "Add --region to more Python tests and examples.", "committedDate": "2020-04-03T16:45:38Z", "type": "commit"}, {"oid": "f8ac394b364be40c8d6d44e95aa2f21e794201bd", "url": "https://github.com/apache/beam/commit/f8ac394b364be40c8d6d44e95aa2f21e794201bd", "message": "format", "committedDate": "2020-04-03T17:19:23Z", "type": "commit"}]}