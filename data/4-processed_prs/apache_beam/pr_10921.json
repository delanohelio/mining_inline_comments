{"pr_number": 10921, "pr_title": "[BEAM-9022] publish Spark job server Docker image", "pr_createdAt": "2020-02-21T00:43:12Z", "pr_url": "https://github.com/apache/beam/pull/10921", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382341099", "bodyText": "Don't we need to specify spark version here?", "author": "Hannah-Jiang", "createdAt": "2020-02-21T00:48:58Z", "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -236,6 +236,9 @@ if [[ $confirmation = \"y\" ]]; then\n     ./gradlew \":runners:flink:${ver}:job-server-container:dockerPush\" -Pdocker-tag=\"${RELEASE}_rc${RC_NUM}\"\n   done\n \n+  echo '-------------Generating and Pushing Spark job server image-------------'\n+  ./gradlew \"./gradlew :runners:spark:job-server:container:dockerPush\" -Pdocker-tag=\"${RELEASE}_rc${RC_NUM}\"", "originalCommit": "aa9e192e067fa93c34ef3641e04b87450b889f54", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MzgyMA==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382343820", "bodyText": "No, the Spark runner only supports one Spark version per Beam release (currently 2.4.5), unlike Flink, which supports the latest three Flink versions.", "author": "ibzib", "createdAt": "2020-02-21T00:58:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0NDg4Nw==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382344887", "bodyText": "How about in future? In addition, I think users should know which spark version is supported even if only one version is supported.", "author": "Hannah-Jiang", "createdAt": "2020-02-21T01:00:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0NjcxMw==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382346713", "bodyText": "Minor clarification to the above: Beam Spark runner supports Spark's latest feature release, i.e. 2.4.*.\nI think the plan is to create a separate module when moving to Spark 3 (BEAM-9282). @iemejia knows more", "author": "ibzib", "createdAt": "2020-02-21T01:07:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM2NjIwMA==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382366200", "bodyText": "Then let\u2019s add it to documentation some where. If I am a spark user, I would really wonder which version is being supported.", "author": "Hannah-Jiang", "createdAt": "2020-02-21T02:27:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY5MTA5Mg==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382691092", "bodyText": "It is documented on the Spark runner page: https://beam.apache.org/documentation/runners/spark/", "author": "ibzib", "createdAt": "2020-02-21T16:50:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcwNTA1OA==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382705058", "bodyText": "Just noticed that ./gradlew is repeated here as well.", "author": "Hannah-Jiang", "createdAt": "2020-02-21T17:18:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjcwNjE3Mg==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382706172", "bodyText": "\ud83d\ude30 fixed", "author": "ibzib", "createdAt": "2020-02-21T17:20:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTA5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTM4OA==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382341388", "bodyText": "./gradlew is repeated.", "author": "Hannah-Jiang", "createdAt": "2020-02-21T00:50:01Z", "path": "website/src/contribute/release-guide.md", "diffHunk": "@@ -717,6 +717,12 @@ for ver in \"${FLINK_VER[@]}\"; do\n done\n ```\n \n+* Build Spark job server image and push to DockerHub.\n+\n+```\n+./gradlew \"./gradlew :runners:spark:job-server:container:dockerPush\" -Pdocker-tag=\"${RELEASE}_rc${RC_NUM}\"", "originalCommit": "aa9e192e067fa93c34ef3641e04b87450b889f54", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0Mzc3MA==", "url": "https://github.com/apache/beam/pull/10921#discussion_r382343770", "bodyText": "Whoops, good catch.", "author": "ibzib", "createdAt": "2020-02-21T00:58:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM0MTM4OA=="}], "type": "inlineReview"}, {"oid": "c3e9f2eb33ac22ac12352eea0cb11acfda4128ac", "url": "https://github.com/apache/beam/commit/c3e9f2eb33ac22ac12352eea0cb11acfda4128ac", "message": "[BEAM-9022] publish Spark job server Docker image", "committedDate": "2020-02-21T00:59:46Z", "type": "forcePushed"}, {"oid": "3b4befd1541dd3e9a0408dfb8f11363216e02753", "url": "https://github.com/apache/beam/commit/3b4befd1541dd3e9a0408dfb8f11363216e02753", "message": "[BEAM-9022] publish Spark job server Docker image", "committedDate": "2020-02-21T17:20:25Z", "type": "commit"}, {"oid": "3b4befd1541dd3e9a0408dfb8f11363216e02753", "url": "https://github.com/apache/beam/commit/3b4befd1541dd3e9a0408dfb8f11363216e02753", "message": "[BEAM-9022] publish Spark job server Docker image", "committedDate": "2020-02-21T17:20:25Z", "type": "forcePushed"}]}