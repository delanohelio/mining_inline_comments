{"pr_number": 11776, "pr_title": "[BEAM-9421] Better documentation of output results from AnnotateText transform", "pr_createdAt": "2020-05-21T14:36:30Z", "pr_url": "https://github.com/apache/beam/pull/11776", "timeline": [{"oid": "d9af9d9f534d63024e3ec2a2fe28877d356d3950", "url": "https://github.com/apache/beam/commit/d9af9d9f534d63024e3ec2a2fe28877d356d3950", "message": "[BEAM-9421] Better documentation of output results from AnnotateText transform", "committedDate": "2020-05-22T13:44:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2MzQ2NQ==", "url": "https://github.com/apache/beam/pull/11776#discussion_r430863465", "bodyText": "Could you remove trailing empty lines?", "author": "aaltay", "createdAt": "2020-05-27T05:23:40Z", "path": "sdks/python/apache_beam/examples/snippets/snippets.py", "diffHunk": "@@ -1520,3 +1528,90 @@ def bigqueryio_deadletter():\n   # [END BigQueryIODeadLetter]\n \n   return result\n+\n+\n+def extract_sentiments(response):\n+  # [START nlp_extract_sentiments]\n+  return {\n+      'sentences': [{\n+          sentence.text.content: sentence.sentiment.score\n+      } for sentence in response.sentences],\n+      'document_sentiment': response.document_sentiment.score,\n+  }\n+", "originalCommit": "d9af9d9f534d63024e3ec2a2fe28877d356d3950", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE5MTQ2NA==", "url": "https://github.com/apache/beam/pull/11776#discussion_r431191464", "bodyText": "Done, thanks.", "author": "kamilwu", "createdAt": "2020-05-27T14:42:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg2MzQ2NQ=="}], "type": "inlineReview"}, {"oid": "372bc5af0466d36b2e042ee0f654e137a63e731b", "url": "https://github.com/apache/beam/commit/372bc5af0466d36b2e042ee0f654e137a63e731b", "message": "[BEAM-9421] Better documentation of output results from AnnotateText transform", "committedDate": "2020-05-27T14:42:18Z", "type": "forcePushed"}, {"oid": "a863fc54a98e7e3f684e972f950982885078da31", "url": "https://github.com/apache/beam/commit/a863fc54a98e7e3f684e972f950982885078da31", "message": "[BEAM-9421] Better documentation of output results from AnnotateText transform", "committedDate": "2020-05-28T08:49:51Z", "type": "commit"}, {"oid": "202eafe4491f07b1efc285e5b27550439e671394", "url": "https://github.com/apache/beam/commit/202eafe4491f07b1efc285e5b27550439e671394", "message": "fix: use \"code_sample\" blocks; parse nlp output to JSON", "committedDate": "2020-05-28T08:57:18Z", "type": "commit"}, {"oid": "202eafe4491f07b1efc285e5b27550439e671394", "url": "https://github.com/apache/beam/commit/202eafe4491f07b1efc285e5b27550439e671394", "message": "fix: use \"code_sample\" blocks; parse nlp output to JSON", "committedDate": "2020-05-28T08:57:18Z", "type": "forcePushed"}, {"oid": "3b42e36e58193c7053b21c482e53b5e97c9860ce", "url": "https://github.com/apache/beam/commit/3b42e36e58193c7053b21c482e53b5e97c9860ce", "message": "fix: show response object in the \"extracting sentiments\" section", "committedDate": "2020-05-29T16:17:46Z", "type": "commit"}]}