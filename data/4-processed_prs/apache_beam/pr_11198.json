{"pr_number": 11198, "pr_title": "[BEAM-7923] Obfuscates display ids", "pr_createdAt": "2020-03-23T19:44:05Z", "pr_url": "https://github.com/apache/beam/pull/11198", "timeline": [{"oid": "c8e9d8bf6a075fce81ca1cd77d8fc1c2cb570b81", "url": "https://github.com/apache/beam/commit/c8e9d8bf6a075fce81ca1cd77d8fc1c2cb570b81", "message": "[BEAM-7923] Obfuscates display ids\n\n1. Use md5 to hash and digest any inputs into a hexadecimal string.\n2. The obfuscation is applied to all display ids in notebooks. Note the\nids will start with alphabets such as `facets_dive_` or `table_df_` to\nbe compatible with `document.querySelector()`. Otherwise, hexadecimal\nstrings are compatible with `jQuery()` already.\n3. The performance and hash clashing research can be found here:\nhttps://www.peterbe.com/plog/best-hashing-function-in-python.", "committedDate": "2020-03-23T19:41:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjcxNzE4Ng==", "url": "https://github.com/apache/beam/pull/11198#discussion_r396717186", "bodyText": "nit: assign the obfuscate return value to a variable so it can be reused.", "author": "davidyan74", "createdAt": "2020-03-23T19:51:23Z", "path": "sdks/python/apache_beam/runners/interactive/display/pcoll_visualization.py", "diffHunk": "@@ -246,11 +247,11 @@ def __init__(self, pcoll, include_window_info=False, display_facets=False):\n     if not self._pcoll_var:\n       self._pcoll_var = 'Value'\n     self._cache_key = self._pin.cache_key(self._pcoll)\n-    self._dive_display_id = 'facets_dive_{}_{}'.format(\n-        self._cache_key, id(self))\n-    self._overview_display_id = 'facets_overview_{}_{}'.format(\n-        self._cache_key, id(self))\n-    self._df_display_id = 'df_{}_{}'.format(self._cache_key, id(self))\n+    self._dive_display_id = 'facets_dive_{}'.format(\n+        obfuscate(self._cache_key, id(self)))", "originalCommit": "c8e9d8bf6a075fce81ca1cd77d8fc1c2cb570b81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a2b611a332cdbeb59f78a6c18d2c93e5c667dbc2", "url": "https://github.com/apache/beam/commit/a2b611a332cdbeb59f78a6c18d2c93e5c667dbc2", "message": "Reuse the obfuscated ids in display ids.", "committedDate": "2020-03-23T19:56:29Z", "type": "commit"}]}