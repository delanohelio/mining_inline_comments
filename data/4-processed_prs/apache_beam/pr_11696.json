{"pr_number": 11696, "pr_title": "[BEAM-9975] Log invalid dictionary after unsuccessful struct conversion.", "pr_createdAt": "2020-05-13T19:41:39Z", "pr_url": "https://github.com/apache/beam/pull/11696", "timeline": [{"oid": "44a98204ed41107f24c64050f8cd55eb6beee251", "url": "https://github.com/apache/beam/commit/44a98204ed41107f24c64050f8cd55eb6beee251", "message": "[BEAM-9975] Log invalid dictionary after unsuccessful struct conversion.", "committedDate": "2020-05-13T19:38:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2MjE2Mw==", "url": "https://github.com/apache/beam/pull/11696#discussion_r424762163", "bodyText": "lint error:\napache_beam/runners/job/utils.py:37:18: W1202: Use % formatting in logging functions and pass the % parameters as arguments (logging-format-interpolation)", "author": "TheNeuralBit", "createdAt": "2020-05-13T22:15:49Z", "path": "sdks/python/apache_beam/runners/job/utils.py", "diffHunk": "@@ -23,14 +23,19 @@\n from __future__ import absolute_import\n \n import json\n+import logging\n \n from google.protobuf import json_format\n from google.protobuf import struct_pb2\n \n \n def dict_to_struct(dict_obj):\n   # type: (dict) -> struct_pb2.Struct\n-  return json_format.ParseDict(dict_obj, struct_pb2.Struct())\n+  try:\n+    return json_format.ParseDict(dict_obj, struct_pb2.Struct())\n+  except json_format.ParseError:\n+    logging.error('Failed to parse dict {0}'.format(dict_obj))", "originalCommit": "44a98204ed41107f24c64050f8cd55eb6beee251", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2NDY2OA==", "url": "https://github.com/apache/beam/pull/11696#discussion_r424764668", "bodyText": "Managed to apply the change myself in the UI", "author": "TheNeuralBit", "createdAt": "2020-05-13T22:22:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2MjE2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2Nzc0Nw==", "url": "https://github.com/apache/beam/pull/11696#discussion_r424767747", "bodyText": "Thanks!", "author": "ibzib", "createdAt": "2020-05-13T22:30:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2MjE2Mw=="}], "type": "inlineReview"}, {"oid": "d8b9cacd395c41dbf29f3f5bb406b7a436b9fa9a", "url": "https://github.com/apache/beam/commit/d8b9cacd395c41dbf29f3f5bb406b7a436b9fa9a", "message": "Switch to %s", "committedDate": "2020-05-13T22:21:50Z", "type": "commit"}]}