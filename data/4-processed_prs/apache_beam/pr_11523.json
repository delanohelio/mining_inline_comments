{"pr_number": 11523, "pr_title": "[BEAM-8414] Cleanup Python codebase to enable some of the excluded Python lint checks.", "pr_createdAt": "2020-04-25T07:44:42Z", "pr_url": "https://github.com/apache/beam/pull/11523", "timeline": [{"oid": "dd9fa80c2845bba30ecf530744939b0fcab445f3", "url": "https://github.com/apache/beam/commit/dd9fa80c2845bba30ecf530744939b0fcab445f3", "message": "[BEAM-8414] Cleanup Python codebase to enable some of the excluded\nPython lint checks.\n\n* Renabled the following pylint checks:\n  * consider-using-set-comprehension\n  * chained-comparison\n  * consider-using-sys-exit\n* Cleaned up the codebase to satisfy the enabled checks", "committedDate": "2020-04-24T15:43:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTExMTAzOQ==", "url": "https://github.com/apache/beam/pull/11523#discussion_r415111039", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if self._range.start >= position < self._range.stop:\n          \n          \n            \n                if self._range.start <= position < self._range.stop:\n          \n      \n    \n    \n  \n\nRight?", "author": "pabloem", "createdAt": "2020-04-25T17:55:04Z", "path": "sdks/python/apache_beam/io/restriction_trackers.py", "diffHunk": "@@ -137,7 +137,7 @@ def try_claim(self, position):\n           'of the range. Tried to claim position %r for the range [%r, %r)' %\n           (position, self._range.start, self._range.stop))\n \n-    if position >= self._range.start and position < self._range.stop:\n+    if self._range.start >= position < self._range.stop:", "originalCommit": "dd9fa80c2845bba30ecf530744939b0fcab445f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTEyNDY3OA==", "url": "https://github.com/apache/beam/pull/11523#discussion_r415124678", "bodyText": "oh my bad. thanks for catching that!", "author": "stephenoken", "createdAt": "2020-04-25T19:12:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTExMTAzOQ=="}], "type": "inlineReview"}, {"oid": "a88a67bb04738b969b4c86e231c523efda785fef", "url": "https://github.com/apache/beam/commit/a88a67bb04738b969b4c86e231c523efda785fef", "message": "Update sdks/python/apache_beam/io/restriction_trackers.py\n\nCo-Authored-By: Pablo <pabloem@users.noreply.github.com>", "committedDate": "2020-04-25T19:12:30Z", "type": "commit"}, {"oid": "d1f5febff0f31124159b7a2ae13ae88b0633e930", "url": "https://github.com/apache/beam/commit/d1f5febff0f31124159b7a2ae13ae88b0633e930", "message": "BEAM-8414\n* Fixed linting and formatter errors", "committedDate": "2020-04-26T20:04:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjEyMzMxNQ==", "url": "https://github.com/apache/beam/pull/11523#discussion_r416123315", "bodyText": "Can you also revert this change? We're looking for the exit in line 131 provided by the underlying runner. I think that's causing the precommit test errors.", "author": "pabloem", "createdAt": "2020-04-27T20:25:01Z", "path": "sdks/python/apache_beam/runners/interactive/interactive_runner.py", "diffHunk": "@@ -131,7 +132,7 @@ def end_session(self):\n     if exit is not None:\n       self._in_session = False\n       _LOGGER.info('Ending session.')\n-      exit(None, None, None)\n+      sys.exit(None, None, None)", "originalCommit": "d1f5febff0f31124159b7a2ae13ae88b0633e930", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY2MzAwNQ==", "url": "https://github.com/apache/beam/pull/11523#discussion_r416663005", "bodyText": "Done. I've added the consider-using- sys-ext to the ignored pylint list", "author": "stephenoken", "createdAt": "2020-04-28T14:32:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjEyMzMxNQ=="}], "type": "inlineReview"}, {"oid": "dd2a2eb80a687d38945bde56e89026d3d4709a53", "url": "https://github.com/apache/beam/commit/dd2a2eb80a687d38945bde56e89026d3d4709a53", "message": "BEAM-8414\n\n* Reverted `consider-using-sys-ext` linter change", "committedDate": "2020-04-28T06:46:22Z", "type": "commit"}, {"oid": "65bb04fb64d6c64851f0f62858cbdd0812a22bc1", "url": "https://github.com/apache/beam/commit/65bb04fb64d6c64851f0f62858cbdd0812a22bc1", "message": "Merge branch 'BEAM-8414-renable-excluded-pylint-checks' of github.com:stephenoken/beam into BEAM-8414-renable-excluded-pylint-checks", "committedDate": "2020-04-28T06:47:43Z", "type": "commit"}, {"oid": "b227ea1ecb12b2159c5ce11f6282b30ef4b0b2d8", "url": "https://github.com/apache/beam/commit/b227ea1ecb12b2159c5ce11f6282b30ef4b0b2d8", "message": "BEAM-8418\n\n* Reran the py3-yapf to reformat existing files", "committedDate": "2020-04-29T07:11:00Z", "type": "commit"}, {"oid": "66637388ce3febc45e7d1920b629808740db4cad", "url": "https://github.com/apache/beam/commit/66637388ce3febc45e7d1920b629808740db4cad", "message": "Removed unused sys import", "committedDate": "2020-04-29T14:29:11Z", "type": "commit"}]}