{"pr_number": 11224, "pr_title": "[BEAM-9340] Validate pipeline requirements in PipelineValidator.", "pr_createdAt": "2020-03-25T18:35:03Z", "pr_url": "https://github.com/apache/beam/pull/11224", "timeline": [{"oid": "342fcdb8b0fbaae8de286968853abd34e7d862ff", "url": "https://github.com/apache/beam/commit/342fcdb8b0fbaae8de286968853abd34e7d862ff", "message": "[BEAM-9340] Validate pipeline requirements in PipelineValidator.\n\nAlso fix a bug where the greedy fuser was not propagating requirements.", "committedDate": "2020-03-25T18:35:49Z", "type": "commit"}, {"oid": "342fcdb8b0fbaae8de286968853abd34e7d862ff", "url": "https://github.com/apache/beam/commit/342fcdb8b0fbaae8de286968853abd34e7d862ff", "message": "[BEAM-9340] Validate pipeline requirements in PipelineValidator.\n\nAlso fix a bug where the greedy fuser was not propagating requirements.", "committedDate": "2020-03-25T18:35:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NTYwNw==", "url": "https://github.com/apache/beam/pull/11224#discussion_r398695607", "bodyText": "This should also have timer family specs.\n@boyuanzz Once this code is merged, this is another place where TimerSpecs will need to be removed.", "author": "lukecwik", "createdAt": "2020-03-26T16:08:03Z", "path": "runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/graph/PipelineValidator.java", "diffHunk": "@@ -221,23 +229,39 @@ private static void validateParDo(String id, PTransform transform, Components co\n           id,\n           sideInputId);\n     }\n-    // TODO: Validate state_specs and timer_specs\n+    if (payload.getStateSpecsCount() > 0 || payload.getTimerSpecsCount() > 0) {", "originalCommit": "342fcdb8b0fbaae8de286968853abd34e7d862ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc0MTQ4NQ==", "url": "https://github.com/apache/beam/pull/11224#discussion_r398741485", "bodyText": "Ack. can we merge it as soon as possible? Then I can rebase my changes on top of this.", "author": "boyuanzz", "createdAt": "2020-03-26T17:07:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NTYwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc3MTc0MQ==", "url": "https://github.com/apache/beam/pull/11224#discussion_r398771741", "bodyText": "We can merge now and you will need to swap from TimerSpecs to TimerFamilySpecs here as part of your PR.", "author": "lukecwik", "createdAt": "2020-03-26T17:49:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY5NTYwNw=="}], "type": "inlineReview"}]}