{"pr_number": 13019, "pr_title": "[BEAM-10527] Update the test invocation cmd for portable runner", "pr_createdAt": "2020-10-06T18:44:37Z", "pr_url": "https://github.com/apache/beam/pull/13019", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUyNzA2MQ==", "url": "https://github.com/apache/beam/pull/13019#discussion_r500527061", "bodyText": "Including --flink_job_server_jar in the usage may be confusing, since it might not be obvious where the jar can be found. But if --flink_job_server_jar is omitted, it will be located automatically. Also, --environment_type=DOCKER requires the Python SDK harness container to be built. Can we either change the example, or add another, simpler example?\n# pytest flink_runner_test.py[::TestClass::test_case] \\\n#     --test-pipeline-options \"--environment_type=LOOPBACK\"", "author": "ibzib", "createdAt": "2020-10-06T18:57:08Z", "path": "sdks/python/apache_beam/runners/portability/flink_runner_test.py", "diffHunk": "@@ -56,10 +56,9 @@\n \n # Run as\n #\n-# pytest flink_runner_test.py \\\n-#     [--test_pipeline_options \"--flink_job_server_jar=/path/to/job_server.jar \\\n-#                               --environment_type=DOCKER\"] \\\n-#     [FlinkRunnerTest.test_method, ...]\n+# pytest flink_runner_test.py[::TestClass::test_case] \\\n+#     --test-pipeline-options \"--flink_job_server_jar=/path/to/job_server.jar \\", "originalCommit": "8adc1ca558e853e465f07c0343598d38e62dabc8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYxMDcyOA==", "url": "https://github.com/apache/beam/pull/13019#discussion_r500610728", "bodyText": "I updated it to LOOKBACK. Feel free to add more examples since it not easy to figure out how to run one single test locally with different configuration.", "author": "boyuanzz", "createdAt": "2020-10-06T21:37:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUyNzA2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYxMTYwNQ==", "url": "https://github.com/apache/beam/pull/13019#discussion_r500611605", "bodyText": "I think this configuration will be fine for testing most things.", "author": "ibzib", "createdAt": "2020-10-06T21:39:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUyNzA2MQ=="}], "type": "inlineReview"}, {"oid": "c52768f93091c505791cf9b53865c35478c12100", "url": "https://github.com/apache/beam/commit/c52768f93091c505791cf9b53865c35478c12100", "message": "Update the test invocation cmd for poratble runner.", "committedDate": "2020-10-06T21:35:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYxMjMxMQ==", "url": "https://github.com/apache/beam/pull/13019#discussion_r500612311", "bodyText": "The Spark job server jar can also be located automatically (see line 91).", "author": "ibzib", "createdAt": "2020-10-06T21:40:48Z", "path": "sdks/python/apache_beam/runners/portability/spark_runner_test.py", "diffHunk": "@@ -35,10 +35,9 @@\n \n # Run as\n #\n-# pytest spark_runner_test.py \\\n-#     [--test_pipeline_options \"--spark_job_server_jar=/path/to/job_server.jar \\\n-#                               --environment_type=DOCKER\"] \\\n-#     [SparkRunnerTest.test_method, ...]\n+# pytest spark_runner_test.py[::TestClass::test_case] \\\n+#     --test-pipeline-options \"--spark_job_server_jar=/path/to/job_server.jar \\", "originalCommit": "c52768f93091c505791cf9b53865c35478c12100", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "15bd9ae45874c5e32795e39f07679027dd1bd21e", "url": "https://github.com/apache/beam/commit/15bd9ae45874c5e32795e39f07679027dd1bd21e", "message": "Update the test invocation cmd for poratble runner.", "committedDate": "2020-10-06T21:48:12Z", "type": "commit"}, {"oid": "15bd9ae45874c5e32795e39f07679027dd1bd21e", "url": "https://github.com/apache/beam/commit/15bd9ae45874c5e32795e39f07679027dd1bd21e", "message": "Update the test invocation cmd for poratble runner.", "committedDate": "2020-10-06T21:48:12Z", "type": "forcePushed"}]}