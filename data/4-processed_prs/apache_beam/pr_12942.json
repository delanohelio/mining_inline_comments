{"pr_number": 12942, "pr_title": "[BEAM-10975] Remove capture_output argument in sdk_container_builder", "pr_createdAt": "2020-09-25T19:21:55Z", "pr_url": "https://github.com/apache/beam/pull/12942", "timeline": [{"oid": "4afea05745dd2ea0f0a17395245723712800a0b9", "url": "https://github.com/apache/beam/commit/4afea05745dd2ea0f0a17395245723712800a0b9", "message": "[BEAM-10975] Remove capture_output argument in sdk_container_builder", "committedDate": "2020-09-25T19:21:26Z", "type": "commit"}, {"oid": "7691022e8ecf7df4df5982548611d87acdb22eb8", "url": "https://github.com/apache/beam/commit/7691022e8ecf7df4df5982548611d87acdb22eb8", "message": "format", "committedDate": "2020-09-25T19:39:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4OTM4OA==", "url": "https://github.com/apache/beam/pull/12942#discussion_r495189388", "bodyText": "How about\nsubprocess.run([ ], stdout=subprocess.PIPE)\nWoud this capture stdout and print STDERR?", "author": "tvalentyn", "createdAt": "2020-09-25T19:27:53Z", "path": "sdks/python/apache_beam/runners/portability/sdk_container_builder.py", "diffHunk": "@@ -149,7 +149,6 @@ def invoke_docker_build_and_push(self, container_image_name):\n       _LOGGER.info(\"Building sdk container, this may take a few minutes...\")\n       now = time.time()\n       subprocess.run(['docker', 'build', '.', '-t', container_image_name],\n-                     capture_output=True,", "originalCommit": "4afea05745dd2ea0f0a17395245723712800a0b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIxMTE0MQ==", "url": "https://github.com/apache/beam/pull/12942#discussion_r495211141", "bodyText": "If there is an build error, how will users see it?", "author": "tvalentyn", "createdAt": "2020-09-25T20:17:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4OTM4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIxMTY5NQ==", "url": "https://github.com/apache/beam/pull/12942#discussion_r495211695", "bodyText": "Not capturing any output should help. But may be noisy. We can consider to capture the output but print it only if something goes wrong.\nLeaving the change as is SGMT for now.", "author": "tvalentyn", "createdAt": "2020-09-25T20:19:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4OTM4OA=="}], "type": "inlineReview"}]}