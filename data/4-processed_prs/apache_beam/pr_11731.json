{"pr_number": 11731, "pr_title": "[BEAM-10018] Fix timestamps in two windowing Python katas", "pr_createdAt": "2020-05-16T17:49:24Z", "pr_url": "https://github.com/apache/beam/pull/11731", "timeline": [{"oid": "fc5c98187ecc20e266ab1a718c5f4a80d622799c", "url": "https://github.com/apache/beam/commit/fc5c98187ecc20e266ab1a718c5f4a80d622799c", "message": "[BEAM-10018] Fix timestamps in windowing kata\n\nIn this Kata, the timestamp was calculated from time objects, and converted to a\ntimestamp in the local timezone. Thus, the results of the test depended on the\nconfiguration of the local timezone in the running system.\n\nThe tests were hardcoded with a timezone different to mine, and thus I always\nfailed to pass this Kata. The changes in this commit change the type in Event to\nbe a datetime, the timestamps are set in UTC, and the output in the tests is\nhardcoded in UTC too. This should ensure that the kata works regardless the\ntimezone configured in the system running the kata.", "committedDate": "2020-05-16T17:21:58Z", "type": "commit"}, {"oid": "db5004cfc8dc407f32d57f49ab7aa6ac6d3771ad", "url": "https://github.com/apache/beam/commit/db5004cfc8dc407f32d57f49ab7aa6ac6d3771ad", "message": "[BEAM-10018] Kata failing due to failed parsing\n\nParsing the timestamps as strings using fromisoformat was failing, and the Kata\nfailed silently regardless the code written in the boxes.\n\nThis change sets the same timestamps, with UTC timezone, without parsing\nstrings.", "committedDate": "2020-05-16T17:43:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNDA5MA==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426224090", "bodyText": "We need to fix the answer placeholders.", "author": "henryken", "createdAt": "2020-05-17T06:39:50Z", "path": "learning/katas/python/Windowing/Adding Timestamp/ParDo/task-info.yaml", "diffHunk": "@@ -22,10 +22,10 @@ files:\n - name: task.py\n   visible: true\n   placeholders:\n-  - offset: 1211\n-    length: 163\n+  - offset: 1243", "originalCommit": "db5004cfc8dc407f32d57f49ab7aa6ac6d3771ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIzNTk5MA==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426235990", "bodyText": "I have updated the placeholder values, and I have checked the course using Course preview. I think the placeholders are now correct.", "author": "iht", "createdAt": "2020-05-17T08:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNDA5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNDE1MQ==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426224151", "bodyText": "Remove unused import", "author": "henryken", "createdAt": "2020-05-17T06:40:26Z", "path": "learning/katas/python/Windowing/Adding Timestamp/ParDo/task.py", "diffHunk": "@@ -16,6 +16,7 @@\n \n import datetime\n import time", "originalCommit": "db5004cfc8dc407f32d57f49ab7aa6ac6d3771ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIzNTkyNQ==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426235925", "bodyText": "Done", "author": "iht", "createdAt": "2020-05-17T08:57:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNDE1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNTA2OA==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426225068", "bodyText": "Need to change the task.html description\nPlease assign each element a timestamp based on the the <code>Event.timestamp</code>", "author": "henryken", "createdAt": "2020-05-17T06:52:29Z", "path": "learning/katas/python/Windowing/Adding Timestamp/ParDo/task.py", "diffHunk": "@@ -24,30 +25,30 @@\n \n \n class Event:\n-    def __init__(self, id, event, date):\n+    def __init__(self, id, event, timestamp):\n         self.id = id\n         self.event = event\n-        self.date = date\n+        self.timestamp = timestamp", "originalCommit": "db5004cfc8dc407f32d57f49ab7aa6ac6d3771ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI0MTI2NA==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426241264", "bodyText": "Fixed", "author": "iht", "createdAt": "2020-05-17T09:57:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNTA2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNTE1Ng==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426225156", "bodyText": "Need to fix the answer placeholder", "author": "henryken", "createdAt": "2020-05-17T06:53:19Z", "path": "learning/katas/python/Windowing/Fixed Time Window/Fixed Time Window/task-info.yaml", "diffHunk": "@@ -22,7 +22,7 @@ files:\n - name: task.py\n   visible: true\n   placeholders:\n-  - offset: 2074\n+  - offset: 2067", "originalCommit": "db5004cfc8dc407f32d57f49ab7aa6ac6d3771ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI0MTkzMg==", "url": "https://github.com/apache/beam/pull/11731#discussion_r426241932", "bodyText": "I am checking the boundaries of the placeholder in PyCharm, and I see it correctly\n\nMaybe you were checking the previous placeholder box? I see that the box is starting 7 positions to the right (2074, after the Wi), and the placeholder I am submitting is starting 7 positions to the left (2067).\nI have removed all the Placeholders and created them again by selecting the answer in the code, and using right click \"Add answer placeholder\", and the bounding boxes are the same I have committed (same values in the section placeholders in task-info.yaml). I am not sure if I am doing something wrong though. It is the first time I generate Edu content for PyCharm.", "author": "iht", "createdAt": "2020-05-17T10:04:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjIyNTE1Ng=="}], "type": "inlineReview"}, {"oid": "f21435286a010fe2752e8b569c106660b2c1ef41", "url": "https://github.com/apache/beam/commit/f21435286a010fe2752e8b569c106660b2c1ef41", "message": "Remove unused import", "committedDate": "2020-05-17T08:42:37Z", "type": "commit"}, {"oid": "b18ea2a5ca3f7fb90f8786ab5c0ab4ecc9fbf2f0", "url": "https://github.com/apache/beam/commit/b18ea2a5ca3f7fb90f8786ab5c0ab4ecc9fbf2f0", "message": "Add missing dependency", "committedDate": "2020-05-17T08:43:02Z", "type": "commit"}, {"oid": "80bc61376a44ce55bf0a5ead6473ccf6c3692046", "url": "https://github.com/apache/beam/commit/80bc61376a44ce55bf0a5ead6473ccf6c3692046", "message": "Fix member variable name in Kata documentation", "committedDate": "2020-05-17T08:43:36Z", "type": "commit"}, {"oid": "45a0b85941213eb8a58c18e84aeb558c1e971e4e", "url": "https://github.com/apache/beam/commit/45a0b85941213eb8a58c18e84aeb558c1e971e4e", "message": "Fix placeholder location", "committedDate": "2020-05-17T08:47:17Z", "type": "commit"}]}