{"pr_number": 11914, "pr_title": "[BEAM-10187] Push release candidate tag to Github.", "pr_createdAt": "2020-06-03T20:30:40Z", "pr_url": "https://github.com/apache/beam/pull/11914", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MDc5Mw==", "url": "https://github.com/apache/beam/pull/11914#discussion_r434840793", "bodyText": "When I did this locally there was one more commit on the release-2.22.0 branch changing the version to 2.22.0-SNAPSHOT, so I had to run git push origin release-2.22.0 as well.\nAlso is it ok to omit the origin?", "author": "TheNeuralBit", "createdAt": "2020-06-03T20:41:25Z", "path": "release/src/main/scripts/build_release_candidate.sh", "diffHunk": "@@ -106,9 +106,7 @@ if [[ $confirmation = \"y\" ]]; then\n                 -Prelease.releaseVersion=${RELEASE}-RC${RC_NUM} \\\n                 -Prelease.useAutomaticVersion=true --info --no-daemon\n \n-  echo \"Please make sure gradle release succeed: \"\n-  echo \"1. release code has been pushed to github repo.\"\n-  echo \"2. new rc tag has created in github.\"\n+  git push \"v${RELEASE}-RC${RC_NUM}\"", "originalCommit": "0794149ee89424905ae43b6c9c3f13d0cd35c52f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDA2Ng==", "url": "https://github.com/apache/beam/pull/11914#discussion_r434844066", "bodyText": "When I did this locally there was one more commit on the release-2.22.0 branch changing the version to 2.22.0-SNAPSHOT, so I had to run git push origin release-2.22.0 as well.\n\nI see two commits, one changing it to RC1 and next changing it back to SNAPSHOT. Isn't that just a no-op? https://github.com/apache/beam/commits/release-2.22.0\n\nAlso is it ok to omit the origin?\n\nOrigin is the default IIUC.", "author": "ibzib", "createdAt": "2020-06-03T20:47:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MDc5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0Nzc1Mw==", "url": "https://github.com/apache/beam/pull/11914#discussion_r434847753", "bodyText": "I see two commits, one changing it to RC1 and next changing it back to SNAPSHOT. Isn't that just a no-op? https://github.com/apache/beam/commits/release-2.22.0\n\nYes but the first one is tagged with v2.22.0-RC1 https://github.com/apache/beam/commits/v2.22.0-RC1. So if you only push the tag it won't actually be a noop.\n\nOrigin is the default IIUC.\n\ngit help push says git push ... [<repository> [<refspec>...]] which I take to mean if you only pass one arg it's interpreted as the repository. That does seem to be what happens when I try it:\n\u276f git push release-2.22.0\nfatal: 'release-2.22.0' does not appear to be a git repository\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.", "author": "TheNeuralBit", "createdAt": "2020-06-03T20:54:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MDc5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg1MDk0Mw==", "url": "https://github.com/apache/beam/pull/11914#discussion_r434850943", "bodyText": "Ah you're right about both. Fixed, PTAL", "author": "ibzib", "createdAt": "2020-06-03T21:00:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0MDc5Mw=="}], "type": "inlineReview"}, {"oid": "aff2a05c4d3bf039a93252c7bc2dac698a579125", "url": "https://github.com/apache/beam/commit/aff2a05c4d3bf039a93252c7bc2dac698a579125", "message": "[BEAM-10187] Push release candidate tag to Github.", "committedDate": "2020-06-03T20:59:20Z", "type": "commit"}, {"oid": "aff2a05c4d3bf039a93252c7bc2dac698a579125", "url": "https://github.com/apache/beam/commit/aff2a05c4d3bf039a93252c7bc2dac698a579125", "message": "[BEAM-10187] Push release candidate tag to Github.", "committedDate": "2020-06-03T20:59:20Z", "type": "forcePushed"}]}