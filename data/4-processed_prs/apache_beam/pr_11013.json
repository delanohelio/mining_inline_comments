{"pr_number": 11013, "pr_title": "Add metrics export to documentation on the website.", "pr_createdAt": "2020-03-02T12:51:26Z", "pr_url": "https://github.com/apache/beam/pull/11013", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MDY2Ng==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387060666", "bodyText": "If set up the runner will push metrics to a configured sink at a configured period.\n\nCould you elaborate or rephrase this sentence? I think it misses \"then\" somewhere since it starts from \"if\".", "author": "aromanenko-dev", "createdAt": "2020-03-03T14:36:46Z", "path": "website/src/documentation/programming-guide.md", "diffHunk": "@@ -3121,6 +3121,15 @@ public class MyMetricsDoFn extends DoFn<Integer, Integer> {\n   }\n }\n ```  \n+### 9.5 Export metrics {#export-metrics}\n+Beam metrics can be exported to external sinks. If set up the runner will push metrics to a configured sink at a configured period. ", "originalCommit": "8a9f0beb037ad28bacf388c9699305cd3a93ee14", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzEyMjIwMQ==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387122201", "bodyText": "I asked a native, it is correct but lacks the , after set up. But I'll elaborate a bit to clarify.", "author": "echauchot", "createdAt": "2020-03-03T16:03:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MDY2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MjU4NA==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387062584", "bodyText": "As for now only REST http sink and graphite sinks are supported\n\nI's suggest to drop the first \"sink\", and leave it like:\n\"As for now, the only REST HTTP and Graphite sinks are supported\"", "author": "aromanenko-dev", "createdAt": "2020-03-03T14:39:42Z", "path": "website/src/documentation/programming-guide.md", "diffHunk": "@@ -3121,6 +3121,15 @@ public class MyMetricsDoFn extends DoFn<Integer, Integer> {\n   }\n }\n ```  \n+### 9.5 Export metrics {#export-metrics}\n+Beam metrics can be exported to external sinks. If set up the runner will push metrics to a configured sink at a configured period. \n+The configuration is held in the [MetricsOptions](https://beam.apache.org/releases/javadoc/2.19.0/org/apache/beam/sdk/metrics/MetricsOptions.html) class.\n+It contains push period configuration and also sink specific options such as URL. As for now only REST http sink and graphite sinks are supported and only", "originalCommit": "8a9f0beb037ad28bacf388c9699305cd3a93ee14", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzExODQxMg==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387118412", "bodyText": "+1", "author": "echauchot", "createdAt": "2020-03-03T15:58:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MjU4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2NDA4Ng==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387064086", "bodyText": "Do you have any code examples of metrics export? It will worth to add if any.", "author": "aromanenko-dev", "createdAt": "2020-03-03T14:41:47Z", "path": "website/src/documentation/programming-guide.md", "diffHunk": "@@ -3121,6 +3121,15 @@ public class MyMetricsDoFn extends DoFn<Integer, Integer> {\n   }\n }\n ```  \n+### 9.5 Export metrics {#export-metrics}\n+Beam metrics can be exported to external sinks. If set up the runner will push metrics to a configured sink at a configured period. \n+The configuration is held in the [MetricsOptions](https://beam.apache.org/releases/javadoc/2.19.0/org/apache/beam/sdk/metrics/MetricsOptions.html) class.\n+It contains push period configuration and also sink specific options such as URL. As for now only REST http sink and graphite sinks are supported and only\n+Flink and Spark runners support metrics export.\n+\n+Also Beam metrics are exported to inner Spark and Flink dashboards to be consulted in their respective UI.\n+\n+", "originalCommit": "8a9f0beb037ad28bacf388c9699305cd3a93ee14", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzExOTQ2Mg==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387119462", "bodyText": "there is no more code than what is present in the examples in previous sections. The user only needs to configure the export to export the metrics he defined in his pipeline, what do you mean ?", "author": "echauchot", "createdAt": "2020-03-03T15:59:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2NDA4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzEyMjk4MA==", "url": "https://github.com/apache/beam/pull/11013#discussion_r387122980", "bodyText": "I was thinking about any useful examples that will help users to use it.", "author": "aromanenko-dev", "createdAt": "2020-03-03T16:05:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2NDA4Ng=="}], "type": "inlineReview"}, {"oid": "6da25ef1b157038c76beb3cf1922283e6527204b", "url": "https://github.com/apache/beam/commit/6da25ef1b157038c76beb3cf1922283e6527204b", "message": "Add metrics export to documentation on the website.", "committedDate": "2020-03-03T16:10:51Z", "type": "commit"}, {"oid": "6da25ef1b157038c76beb3cf1922283e6527204b", "url": "https://github.com/apache/beam/commit/6da25ef1b157038c76beb3cf1922283e6527204b", "message": "Add metrics export to documentation on the website.", "committedDate": "2020-03-03T16:10:51Z", "type": "forcePushed"}]}