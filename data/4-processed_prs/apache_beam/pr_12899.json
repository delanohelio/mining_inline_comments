{"pr_number": 12899, "pr_title": "[BEAM-8024] Add JPMS E2E test", "pr_createdAt": "2020-09-21T21:40:09Z", "pr_url": "https://github.com/apache/beam/pull/12899", "timeline": [{"oid": "615d5093c9018bd039c196e458e3fc0af5c74208", "url": "https://github.com/apache/beam/commit/615d5093c9018bd039c196e458e3fc0af5c74208", "message": "Add e2e word count test for jpms", "committedDate": "2020-09-18T23:47:32Z", "type": "commit"}, {"oid": "388756f70c51c8cea45f3a749512b55fa41f4d5a", "url": "https://github.com/apache/beam/commit/388756f70c51c8cea45f3a749512b55fa41f4d5a", "message": "remove comments", "committedDate": "2020-09-19T00:02:06Z", "type": "commit"}, {"oid": "ce1f5e6c46b87aa4f8c6538e8a1c07560c04875e", "url": "https://github.com/apache/beam/commit/ce1f5e6c46b87aa4f8c6538e8a1c07560c04875e", "message": "formatting", "committedDate": "2020-09-19T00:12:37Z", "type": "commit"}, {"oid": "7e2385f4075807b10a0a16eb3279351f046577c5", "url": "https://github.com/apache/beam/commit/7e2385f4075807b10a0a16eb3279351f046577c5", "message": "Merge branch 'master' of github.com:apache/beam into beam-8024-jpms", "committedDate": "2020-09-21T21:30:37Z", "type": "commit"}, {"oid": "ef79bb9a32d6a854944922dd19da92f5dc831b49", "url": "https://github.com/apache/beam/commit/ef79bb9a32d6a854944922dd19da92f5dc831b49", "message": "formatting", "committedDate": "2020-09-21T21:35:18Z", "type": "commit"}, {"oid": "c262005c3254dc44697e6642df287ff0e1f263c4", "url": "https://github.com/apache/beam/commit/c262005c3254dc44697e6642df287ff0e1f263c4", "message": "add new jenkins job", "committedDate": "2020-09-22T17:35:15Z", "type": "commit"}, {"oid": "00b01ff0daf3aec5950287f7efd9a57db8063954", "url": "https://github.com/apache/beam/commit/00b01ff0daf3aec5950287f7efd9a57db8063954", "message": "move into separate job", "committedDate": "2020-09-22T19:07:33Z", "type": "commit"}, {"oid": "622084290126cb36bc30611de23640e7a8630ee9", "url": "https://github.com/apache/beam/commit/622084290126cb36bc30611de23640e7a8630ee9", "message": "fix precommit", "committedDate": "2020-09-22T21:04:15Z", "type": "commit"}, {"oid": "7f16e30b9ad7e3e6bbac8a34391f8117a0e12840", "url": "https://github.com/apache/beam/commit/7f16e30b9ad7e3e6bbac8a34391f8117a0e12840", "message": "Merge branch 'master' of github.com:apache/beam into beam-8024-jpms", "committedDate": "2020-09-22T22:03:32Z", "type": "commit"}, {"oid": "6060f926f58df3edbb279a9d0603f5fcd0730f9a", "url": "https://github.com/apache/beam/commit/6060f926f58df3edbb279a9d0603f5fcd0730f9a", "message": "format, skip all tests if jdk < 8", "committedDate": "2020-09-22T23:12:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI2OTExNA==", "url": "https://github.com/apache/beam/pull/12899#discussion_r495269114", "bodyText": "I believe this would be runtime or potentially testRuntimeOnly.\nIf I understand this one correctly right now, it runs the cloned WordCount on the DirectRunner. You may want to do some of the hacking done here to run it on a variety of runners. I don't know which might (1) be able to run it or (2) have infrastructures that would make this test check anything meaningful.", "author": "kennknowles", "createdAt": "2020-09-25T22:04:51Z", "path": "sdks/java/testing/jpms-tests/build.gradle", "diffHunk": "@@ -0,0 +1,56 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * License); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an AS IS BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+plugins {\n+  id 'org.apache.beam.module'\n+}\n+javaVersion=\"1.11\"\n+applyJavaNature(\n+  enableChecker:false,\n+  exportJavadoc: false,\n+  publish: false,\n+  disableLintWarnings: ['requires-transitive-automatic', 'requires-automatic']\n+)\n+provideIntegrationTestingDependencies()\n+enableJavaPerformanceTesting()\n+\n+description = \"Apache Beam :: SDKs :: Java :: Testing :: JPMS Tests\"\n+ext.summary = \"E2E test for Java 9 modules\"\n+\n+dependencies {\n+  compile project(path: \":sdks:java:core\", configuration: \"shadow\")\n+  compile project(path: \":runners:direct-java\")", "originalCommit": "6060f926f58df3edbb279a9d0603f5fcd0730f9a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAwNzA1NQ==", "url": "https://github.com/apache/beam/pull/12899#discussion_r497007055", "bodyText": "OK actually tidying this would be a good follow-up. I don't want to hold up the hold change on this, though.", "author": "kennknowles", "createdAt": "2020-09-29T19:56:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI2OTExNA=="}], "type": "inlineReview"}]}