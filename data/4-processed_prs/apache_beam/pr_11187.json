{"pr_number": 11187, "pr_title": "optionally import grpc", "pr_createdAt": "2020-03-20T23:05:52Z", "pr_url": "https://github.com/apache/beam/pull/11187", "timeline": [{"oid": "2d3d7e0ec0327080a746a5318802f6346b75fab6", "url": "https://github.com/apache/beam/commit/2d3d7e0ec0327080a746a5318802f6346b75fab6", "message": "optionally import grpc", "committedDate": "2020-03-20T23:03:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTkyODM5NA==", "url": "https://github.com/apache/beam/pull/11187#discussion_r395928394", "bodyText": "maybe change \"for some internal tests\" to \"directrunner users who would cannot depend on grpc\"", "author": "aaltay", "createdAt": "2020-03-20T23:15:46Z", "path": "sdks/python/apache_beam/runners/direct/test_stream_impl.py", "diffHunk": "@@ -29,13 +29,20 @@\n \n import itertools\n \n-import grpc\n+try:\n+  import grpc\n+  from apache_beam.portability.api import beam_runner_api_pb2_grpc\n+except:\n+  grpc = None\n+  beam_runner_api_pb2_grpc = None\n+  # A workaround for some internal tests which are missing grpc dependencyy.", "originalCommit": "2d3d7e0ec0327080a746a5318802f6346b75fab6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5f258e9833efb98e945acc3565e1b11e34021512", "url": "https://github.com/apache/beam/commit/5f258e9833efb98e945acc3565e1b11e34021512", "message": "lint", "committedDate": "2020-03-23T16:45:59Z", "type": "commit"}, {"oid": "9bd934cb75a94150a664c2875591b70bb1faf0b2", "url": "https://github.com/apache/beam/commit/9bd934cb75a94150a664c2875591b70bb1faf0b2", "message": "fix lint", "committedDate": "2020-03-23T19:15:10Z", "type": "commit"}, {"oid": "9bd934cb75a94150a664c2875591b70bb1faf0b2", "url": "https://github.com/apache/beam/commit/9bd934cb75a94150a664c2875591b70bb1faf0b2", "message": "fix lint", "committedDate": "2020-03-23T19:15:10Z", "type": "forcePushed"}]}