{"pr_number": 11359, "pr_title": "[BEAM-9731] Include more detail in passert.Equals errors.", "pr_createdAt": "2020-04-09T05:46:00Z", "pr_url": "https://github.com/apache/beam/pull/11359", "timeline": [{"oid": "73bf3a76439fc59a73f992d9aa8aa8065abc4f03", "url": "https://github.com/apache/beam/commit/73bf3a76439fc59a73f992d9aa8aa8065abc4f03", "message": "[BEAM-9731] Include more detail in passert.Equals errors.\n\nThis change reworks passert.Equals to collect all of the missing and\nunexpected values in a single output string to make debugging easier.\nThe new Equals function uses a similar structure to Diff internally.\n\n- Moves passert.Equals to its own file, since it got big.\n- Includes string form of each out-of-place entry in error message.\n- Adds summary info (number of missing/unexpected/correct entries).\n- Adds tests for passert.Equals.", "committedDate": "2020-04-09T05:38:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk3MjI1Mg==", "url": "https://github.com/apache/beam/pull/11359#discussion_r405972252", "bodyText": "do i need to add something here (or add a similar stanza to the new equals.go file)?", "author": "thetorpedodog", "createdAt": "2020-04-09T05:57:37Z", "path": "sdks/go/pkg/beam/testing/passert/passert.go", "diffHunk": "@@ -32,29 +32,6 @@ import (\n //go:generate starcgen --package=passert --identifiers=diffFn,failFn,failKVFn,failGBKFn,hashFn,sumFn", "originalCommit": "73bf3a76439fc59a73f992d9aa8aa8065abc4f03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMDAyNQ==", "url": "https://github.com/apache/beam/pull/11359#discussion_r406310025", "bodyText": "failIfBadEntries should be added, at least, and technically, go generate should be run to update the .shim.go file.\nGiven there's work to be done in the code generator in the next month or so, and that this is just for testing, I'm less worried about not having the shim file updated. Having the identifier added though is important to avoid losing it later.", "author": "lostluck", "createdAt": "2020-04-09T16:00:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk3MjI1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzODEwNw==", "url": "https://github.com/apache/beam/pull/11359#discussion_r406338107", "bodyText": "I added the thing and updated the shim file as well.", "author": "thetorpedodog", "createdAt": "2020-04-09T16:46:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk3MjI1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMTU2MA==", "url": "https://github.com/apache/beam/pull/11359#discussion_r406311560", "bodyText": "This file needs the apache license header.", "author": "lostluck", "createdAt": "2020-04-09T16:03:18Z", "path": "sdks/go/pkg/beam/testing/passert/equals_test.go", "diffHunk": "@@ -0,0 +1,84 @@\n+package passert", "originalCommit": "73bf3a76439fc59a73f992d9aa8aa8065abc4f03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzODkwMg==", "url": "https://github.com/apache/beam/pull/11359#discussion_r406338902", "bodyText": "Added.", "author": "thetorpedodog", "createdAt": "2020-04-09T16:48:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMTU2MA=="}], "type": "inlineReview"}, {"oid": "54d2da0950c72c40bfc22a3bd4400178da6e6644", "url": "https://github.com/apache/beam/commit/54d2da0950c72c40bfc22a3bd4400178da6e6644", "message": "[BEAM-9731] fixups: Add license header and go:generate stuff.", "committedDate": "2020-04-09T16:47:54Z", "type": "commit"}]}