{"pr_number": 10614, "pr_title": "[BEAM-8695] Upgrade google-http-client to 1.34.0", "pr_createdAt": "2020-01-16T20:22:26Z", "pr_url": "https://github.com/apache/beam/pull/10614", "timeline": [{"oid": "40e3e72fe517dad33480cee7f283ebd87e77c2df", "url": "https://github.com/apache/beam/commit/40e3e72fe517dad33480cee7f283ebd87e77c2df", "message": "google-http-client 1.34.0", "committedDate": "2020-01-16T20:18:53Z", "type": "commit"}, {"oid": "40c1052ba604c448fb324a22d09172ef7478ec34", "url": "https://github.com/apache/beam/commit/40c1052ba604c448fb324a22d09172ef7478ec34", "message": "Fixed test", "committedDate": "2020-01-16T22:40:54Z", "type": "commit"}, {"oid": "64cfcbab20300c9d1f717e771a6b401db91f28c8", "url": "https://github.com/apache/beam/commit/64cfcbab20300c9d1f717e771a6b401db91f28c8", "message": "Equals as per spotBugMain", "committedDate": "2020-01-16T23:24:22Z", "type": "commit"}, {"oid": "398bcdaa548a3e3e92c902c12b3e46b0242495b1", "url": "https://github.com/apache/beam/commit/398bcdaa548a3e3e92c902c12b3e46b0242495b1", "message": "Added tests for equality", "committedDate": "2020-01-17T02:33:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5OTEwNQ==", "url": "https://github.com/apache/beam/pull/10614#discussion_r367999105", "bodyText": "Note: 1.29.2 is the latest (last) version of google-http-client-jackson.", "author": "suztomo", "createdAt": "2020-01-17T15:39:47Z", "path": "buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy", "diffHunk": "@@ -457,10 +458,10 @@ class BeamModulePlugin implements Plugin<Project> {\n         google_cloud_dataflow_java_proto_library_all: \"com.google.cloud.dataflow:google-cloud-dataflow-java-proto-library-all:0.5.160304\",\n         google_cloud_datastore_v1_proto_client      : \"com.google.cloud.datastore:datastore-v1-proto-client:1.6.3\",\n         google_cloud_spanner                        : \"com.google.cloud:google-cloud-spanner:$google_cloud_spanner_version\",\n-        google_http_client                          : \"com.google.http-client:google-http-client:$google_clients_version\",\n-        google_http_client_jackson                  : \"com.google.http-client:google-http-client-jackson:$google_clients_version\",\n-        google_http_client_jackson2                 : \"com.google.http-client:google-http-client-jackson2:$google_clients_version\",\n-        google_http_client_protobuf                 : \"com.google.http-client:google-http-client-protobuf:$google_clients_version\",\n+        google_http_client                          : \"com.google.http-client:google-http-client:$google_http_clients_version\",\n+        google_http_client_jackson                  : \"com.google.http-client:google-http-client-jackson:1.29.2\",", "originalCommit": "398bcdaa548a3e3e92c902c12b3e46b0242495b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5OTI5Mw==", "url": "https://github.com/apache/beam/pull/10614#discussion_r367999293", "bodyText": "This is for EqualsTester.", "author": "suztomo", "createdAt": "2020-01-17T15:40:11Z", "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -83,6 +83,7 @@ dependencies {\n   compile library.java.slf4j_api\n   compile library.java.vendored_grpc_1_26_0\n   testCompile library.java.hamcrest_core\n+  testCompile library.java.guava_testlib", "originalCommit": "398bcdaa548a3e3e92c902c12b3e46b0242495b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAwMTY3OQ==", "url": "https://github.com/apache/beam/pull/10614#discussion_r368001679", "bodyText": "Overriding equals because spotBugsMain complained as below:\n\nGoogle-http-client's GenericData has its own equals method (googleapis/google-http-java-client#589) now.", "author": "suztomo", "createdAt": "2020-01-17T15:44:37Z", "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/util/CloudObject.java", "diffHunk": "@@ -182,4 +183,18 @@ public String getClassName() {\n   public CloudObject clone() {\n     return (CloudObject) super.clone();\n   }\n+\n+  @Override\n+  public boolean equals(Object otherObject) {", "originalCommit": "398bcdaa548a3e3e92c902c12b3e46b0242495b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAwMjA4OQ==", "url": "https://github.com/apache/beam/pull/10614#discussion_r368002089", "bodyText": "Same reason as CloudObject.", "author": "suztomo", "createdAt": "2020-01-17T15:45:25Z", "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/util/OutputReference.java", "diffHunk": "@@ -40,4 +41,21 @@ public OutputReference(String stepName, String outputName) {\n     this.stepName = checkNotNull(stepName);\n     this.outputName = checkNotNull(outputName);\n   }\n+\n+  @Override\n+  public boolean equals(Object otherObject) {", "originalCommit": "398bcdaa548a3e3e92c902c12b3e46b0242495b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAwMzA4Mg==", "url": "https://github.com/apache/beam/pull/10614#discussion_r368003082", "bodyText": "GenericData now has its own toString implementation\ngoogleapis/google-http-java-client#589. Previously it was AbstractMap's toString.", "author": "suztomo", "createdAt": "2020-01-17T15:47:18Z", "path": "runners/google-cloud-dataflow-java/worker/src/test/java/org/apache/beam/runners/dataflow/worker/testing/GenericJsonMatcherTest.java", "diffHunk": "@@ -53,7 +53,9 @@ public void testMatchFailure() {\n       assertThat(actual, is(jsonOf(expected)));\n     } catch (AssertionError ex) {\n       assertEquals(\n-          \"\\nExpected: is {\\\"foo\\\":\\\"expected\\\"}\\n     but: was <{foo=actual}>\", ex.getMessage());\n+          \"\\nExpected: is {\\\"foo\\\":\\\"expected\\\"}\\n\"\n+              + \"     but: was <GenericData{classInfo=[], {foo=actual}}>\",", "originalCommit": "398bcdaa548a3e3e92c902c12b3e46b0242495b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}