{"pr_number": 10843, "pr_title": "[BEAM-8201] Pass all other endpoints through provisioning service.", "pr_createdAt": "2020-02-12T18:50:21Z", "pr_url": "https://github.com/apache/beam/pull/10843", "timeline": [{"oid": "66a48a767891f0d604eb6eec8d73e49723e4efdb", "url": "https://github.com/apache/beam/commit/66a48a767891f0d604eb6eec8d73e49723e4efdb", "message": "Pass all other endpoints through provisioning service.", "committedDate": "2020-02-12T18:49:02Z", "type": "commit"}, {"oid": "afb90e6b4eaae9a899bf84eceeb4fcb226693bb8", "url": "https://github.com/apache/beam/commit/afb90e6b4eaae9a899bf84eceeb4fcb226693bb8", "message": "lint", "committedDate": "2020-02-14T09:02:30Z", "type": "commit"}, {"oid": "7269b2989d78076b02007751d5e3fde51ba5e692", "url": "https://github.com/apache/beam/commit/7269b2989d78076b02007751d5e3fde51ba5e692", "message": "warnings", "committedDate": "2020-02-14T17:40:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTAwNjI5NQ==", "url": "https://github.com/apache/beam/pull/10843#discussion_r381006295", "bodyText": "Shall we add default values for all the ports so that we avoid passing them whole together in future.", "author": "angoenka", "createdAt": "2020-02-18T23:59:11Z", "path": "sdks/go/container/boot.go", "diffHunk": "@@ -46,29 +46,42 @@ func main() {\n \tif *id == \"\" {\n \t\tlog.Fatal(\"No id provided.\")\n \t}\n+\tif *provisionEndpoint == \"\" {\n+\t\tlog.Fatal(\"No provision endpoint provided.\")\n+\t}\n+\n+\tctx := grpcx.WriteWorkerID(context.Background(), *id)\n+\n+\tinfo, err := provision.Info(ctx, *provisionEndpoint)\n+\tif err != nil {\n+\t\tlog.Fatalf(\"Failed to obtain provisioning information: %v\", err)\n+\t}\n+\tlog.Printf(\"Provision info:\\n%v\", info)\n+\n+\t// TODO(BEAM-8201): Simplify once flags are no longer used.\n+\tif info.GetLoggingEndpoint().GetUrl() != \"\" {\n+\t\t*loggingEndpoint = info.GetLoggingEndpoint().GetUrl()", "originalCommit": "7269b2989d78076b02007751d5e3fde51ba5e692", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTAxMTMyNg==", "url": "https://github.com/apache/beam/pull/10843#discussion_r381011326", "bodyText": "Never mind, I overlooked the empty default.", "author": "angoenka", "createdAt": "2020-02-19T00:17:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTAwNjI5NQ=="}], "type": "inlineReview"}]}