{"pr_number": 13087, "pr_title": "[BEAM-2146] Disable unsupported categories for Dataflow streaming", "pr_createdAt": "2020-10-13T16:05:26Z", "pr_url": "https://github.com/apache/beam/pull/13087", "timeline": [{"oid": "c3114bf2410163cad72d08fb569f34cc034cca53", "url": "https://github.com/apache/beam/commit/c3114bf2410163cad72d08fb569f34cc034cca53", "message": "Disable unsupported categories for Dataflow streaming", "committedDate": "2020-10-13T16:10:17Z", "type": "commit"}, {"oid": "c3114bf2410163cad72d08fb569f34cc034cca53", "url": "https://github.com/apache/beam/commit/c3114bf2410163cad72d08fb569f34cc034cca53", "message": "Disable unsupported categories for Dataflow streaming", "committedDate": "2020-10-13T16:10:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA4MTA1Nw==", "url": "https://github.com/apache/beam/pull/13087#discussion_r504081057", "bodyText": "From what I can tell, this is unfortunately the idiomatic way to do named args in Groovy.", "author": "kennknowles", "createdAt": "2020-10-13T16:13:48Z", "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -147,21 +147,24 @@ def commonExcludeCategories = [\n   'org.apache.beam.sdk.testing.LargeKeys$Above10MB',\n   'org.apache.beam.sdk.testing.UsesAttemptedMetrics',\n   'org.apache.beam.sdk.testing.UsesCrossLanguageTransforms',\n-  'org.apache.beam.sdk.testing.UsesDistributionMetrics',\n-  'org.apache.beam.sdk.testing.UsesGaugeMetrics',\n   'org.apache.beam.sdk.testing.UsesSetState',\n   'org.apache.beam.sdk.testing.UsesMapState',\n   'org.apache.beam.sdk.testing.UsesOrderedListState',\n   'org.apache.beam.sdk.testing.UsesSplittableParDoWithWindowedSideInputs',\n   'org.apache.beam.sdk.testing.UsesTestStream',\n   'org.apache.beam.sdk.testing.UsesParDoLifecycle',\n   'org.apache.beam.sdk.testing.UsesMetricsPusher',\n-  'org.apache.beam.sdk.testing.UsesBundleFinalizer'\n+  'org.apache.beam.sdk.testing.UsesBundleFinalizer',\n ]\n \n // For the following test tasks using legacy worker, set workerHarnessContainerImage to empty to\n // make Dataflow pick up the non-versioned container image, which handles a staged worker jar.\n-def createLegacyWorkerValidatesRunnerTest = { name, pipelineOptions=legacyPipelineOptions, disabledTests=[] ->\n+def createLegacyWorkerValidatesRunnerTest = { Map args ->", "originalCommit": "c3114bf2410163cad72d08fb569f34cc034cca53", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5ODUyOA==", "url": "https://github.com/apache/beam/pull/13087#discussion_r504898528", "bodyText": "Any reason for relocating this task from L448?", "author": "ihji", "createdAt": "2020-10-14T18:49:36Z", "path": "runners/google-cloud-dataflow-java/build.gradle", "diffHunk": "@@ -210,6 +216,18 @@ task buildAndPushDockerContainer() {\n   }\n }\n \n+// Clean up built images\n+task cleanUpDockerImages() {", "originalCommit": "c3114bf2410163cad72d08fb569f34cc034cca53", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTEzMzQ4Mw==", "url": "https://github.com/apache/beam/pull/13087#discussion_r505133483", "bodyText": "Sort of :-)\nI had a syntax error and the error was \"cannot find task 'cleanUpdockerImages'\". So I moved this task to an earlier line and the error was easier to understand.\nI was going to revert it, but I noticed it finalized the task buildAndPushDockerContainer which is right above it. So I thought it was kind of nice to have them close to each other. That is why I left it here.", "author": "kennknowles", "createdAt": "2020-10-15T02:51:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5ODUyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTEzMzgzOA==", "url": "https://github.com/apache/beam/pull/13087#discussion_r505133838", "bodyText": "Make sense. Thanks.", "author": "ihji", "createdAt": "2020-10-15T02:52:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5ODUyOA=="}], "type": "inlineReview"}]}