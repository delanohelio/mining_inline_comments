{"pr_number": 11336, "pr_title": "[BEAM-9718] Updates comments for WINDOWED_VALUE coder", "pr_createdAt": "2020-04-07T19:52:06Z", "pr_url": "https://github.com/apache/beam/pull/11336", "timeline": [{"oid": "964c307b0e5bce6b24c1bca2600d018ab13bc0b3", "url": "https://github.com/apache/beam/commit/964c307b0e5bce6b24c1bca2600d018ab13bc0b3", "message": "Updates documentation for WINDOWED_VALUE coder.", "committedDate": "2020-04-07T19:50:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc3NTg0Mw==", "url": "https://github.com/apache/beam/pull/11336#discussion_r405775843", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                //     representation of positive values.\n          \n          \n            \n                //\n          \n          \n            \n                //     representation of positive values. This is typically done by subtracting -9223372036854775808\n          \n          \n            \n                //     from the value and encoding it as a signed big endian integer. Example values:\n          \n          \n            \n                //\n          \n          \n            \n                //     -9223372036854775808: 00 00 00 00 00 00 00 00\n          \n          \n            \n                //                     -255: 7F FF FF FF FF FF FF 01\n          \n          \n            \n                //                       -1: 7F FF FF FF FF FF FF FF\n          \n          \n            \n                //                        0: 80 00 00 00 00 00 00 00\n          \n          \n            \n                //                        1: 80 00 00 00 00 00 00 01\n          \n          \n            \n                //                      256: 80 00 00 00 00 00 01 00\n          \n          \n            \n                //      9223372036854775807: FF FF FF FF FF FF FF FF\n          \n          \n            \n                //", "author": "lukecwik", "createdAt": "2020-04-08T19:54:39Z", "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -739,9 +739,44 @@ message StandardCoders {\n     // Components: None\n     GLOBAL_WINDOW = 7 [(beam_urn) = \"beam:coder:global_window:v1\"];\n \n-    // Encodes an element, the window the value is in, the timestamp of the element, and the pane\n-    // of the element\n-    // Components: The element coder and the window coder, in that order\n+    // Encodes an element, the windows it is in, the timestamp of the element,\n+    // and the pane of the element. The encoding is represented as:\n+    // timestamp windows pane element\n+    //   timestamp - A big endian 8 byte integer representing millis-since-epoch.\n+    //     The encoded representation is shifted so that the byte representation\n+    //     of negative values are lexicographically ordered before the byte\n+    //     representation of positive values.\n+    //", "originalCommit": "964c307b0e5bce6b24c1bca2600d018ab13bc0b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc3NjgzOQ==", "url": "https://github.com/apache/beam/pull/11336#discussion_r405776839", "bodyText": "The iterable is encoded using the beam:coder:iterable:v1 format.", "author": "lukecwik", "createdAt": "2020-04-08T19:56:36Z", "path": "model/pipeline/src/main/proto/beam_runner_api.proto", "diffHunk": "@@ -739,9 +739,44 @@ message StandardCoders {\n     // Components: None\n     GLOBAL_WINDOW = 7 [(beam_urn) = \"beam:coder:global_window:v1\"];\n \n-    // Encodes an element, the window the value is in, the timestamp of the element, and the pane\n-    // of the element\n-    // Components: The element coder and the window coder, in that order\n+    // Encodes an element, the windows it is in, the timestamp of the element,\n+    // and the pane of the element. The encoding is represented as:\n+    // timestamp windows pane element\n+    //   timestamp - A big endian 8 byte integer representing millis-since-epoch.\n+    //     The encoded representation is shifted so that the byte representation\n+    //     of negative values are lexicographically ordered before the byte\n+    //     representation of positive values.\n+    //\n+    //   windows - For windows [w1...wN], the encoding is\n+    //       fixed32(N) encode(w1) ... encode(wN)", "originalCommit": "964c307b0e5bce6b24c1bca2600d018ab13bc0b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3038900fc52b03374fde5ce77eaf959319d671c7", "url": "https://github.com/apache/beam/commit/3038900fc52b03374fde5ce77eaf959319d671c7", "message": "Uses iterable coder for windows and copies all of timestamp encoding specification.", "committedDate": "2020-04-08T20:32:20Z", "type": "commit"}]}