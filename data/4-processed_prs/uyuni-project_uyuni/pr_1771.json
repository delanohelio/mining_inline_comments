{"pr_number": 1771, "pr_title": "Testsuite - debug selected formulas", "pr_createdAt": "2020-01-08T14:24:37Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/1771", "timeline": [{"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "url": "https://github.com/uyuni-project/uyuni/commit/d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "message": "testsuite debug selected formulas", "committedDate": "2020-01-08T14:29:37Z", "type": "commit"}, {"oid": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "url": "https://github.com/uyuni-project/uyuni/commit/d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "message": "testsuite debug selected formulas", "committedDate": "2020-01-08T14:29:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2MTM3MQ==", "url": "https://github.com/uyuni-project/uyuni/pull/1771#discussion_r364261371", "bodyText": "I don't get what's the difference of content between the find('#chooseFormulas')['innerHTML'] before and after the if.\nThat if can happen immediately after the first puts if the condition is true, so we will have duplicate info \ud83e\udd14", "author": "srbarrios", "createdAt": "2020-01-08T14:36:15Z", "path": "testsuite/features/step_definitions/salt_steps.rb", "diffHunk": "@@ -279,11 +279,14 @@\n   # Complicated code because the checkbox is not a <input type=checkbox> but an <i>\n   xpath_query = \"//a[@id = '#{formula}']/i[@class = 'fa fa-lg fa-square-o']\" if action == 'check'\n   xpath_query = \"//a[@id = '#{formula}']/i[@class = 'fa fa-lg fa-check-square-o']\" if action == 'uncheck'\n+  puts \"Selected formulas [beginning]:\\n#{find('#chooseFormulas')['innerHTML']}\"\n   if all(:xpath, xpath_query, wait: DEFAULT_TIMEOUT).any?\n+    puts \"Selected formulas [if]:\\n#{find('#chooseFormulas')['innerHTML']}\"", "originalCommit": "d490f0fb50467052509c8cb6be5e2f2bd757fd7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2NDA1Mg==", "url": "https://github.com/uyuni-project/uyuni/pull/1771#discussion_r364264052", "bodyText": "This is exactly what we need to investigate ;-) Of course you're right - there shouldn't be any difference. I'd like to be absolutely sure about content in DOM in those 3 precise moments.", "author": "lkotek", "createdAt": "2020-01-08T14:41:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2MTM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2Nzk5Mg==", "url": "https://github.com/uyuni-project/uyuni/pull/1771#discussion_r364267992", "bodyText": "Perfect then :)\nIn addition, you might want to add an assert comparing previous and new content.", "author": "srbarrios", "createdAt": "2020-01-08T14:48:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2MTM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2ODM4NQ==", "url": "https://github.com/uyuni-project/uyuni/pull/1771#discussion_r364268385", "bodyText": "(Btw. because of wait in all method there could be difference even in those infos.)", "author": "lkotek", "createdAt": "2020-01-08T14:49:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI2MTM3MQ=="}], "type": "inlineReview"}]}