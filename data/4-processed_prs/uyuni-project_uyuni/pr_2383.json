{"pr_number": 2383, "pr_title": "Products page improvement", "pr_createdAt": "2020-07-02T06:20:45Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2383", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg1ODQyOQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2383#discussion_r448858429", "bodyText": "I see where the problem lays, it's a bit hidden but the point is that CustomDataHandler is basically just a wrapper for the TableDataHandler component. But while the latter has properties to sort by default, the CustomDataHandler doesn't instead. And it is fine from the component shape POV because one is about to draw columns, the other is just a wrapper it does not know nothing about column keys etc.\n\ud83d\udc4d", "author": "ncounter", "createdAt": "2020-07-02T09:05:27Z", "path": "web/html/src/manager/admin/setup/products/products.js", "diffHunk": "@@ -461,7 +478,7 @@ class Products extends React.Component {\n     return (\n       <div>\n         <CustomDataHandler\n-          data={this.buildRows(this.filterDataByArch(this.props.data))}\n+          data={this.buildRows(this.filterDataByArch(this.props.data).sort(this.compareProducts))}", "originalCommit": "6d7c7bf4ac53f1f2d277e0912988e3668c725d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "efdb7fcb8c4c574da4963ad1603a53b0d55ce4f2", "url": "https://github.com/uyuni-project/uyuni/commit/efdb7fcb8c4c574da4963ad1603a53b0d55ce4f2", "message": "Bugfix: Fix the initial shape of data in product component\n\nPreviously, the initial value of the serverData in the component state\nwas set to an OBJECT (serverData: {_DATA_ROOT_ID : []}), but when\nreloading the data, it is set to ARRAY of objects.\n\nThis commit sets the initial value to array.", "committedDate": "2020-07-15T08:09:20Z", "type": "commit"}, {"oid": "f8a01be9d532b8728448f95bb80cfed31799293a", "url": "https://github.com/uyuni-project/uyuni/commit/f8a01be9d532b8728448f95bb80cfed31799293a", "message": "Bugfix: Sort products in correct place\n\nPreviously, we were sorting them in the child component (CheckList), but\nthat was too late, as this component does not see the full list of\nproducts (it only sees the list filtered based on the 'items per page'\nselector).", "committedDate": "2020-07-15T08:09:20Z", "type": "commit"}, {"oid": "bb5bfbe1e43b0daf366b46d019403fd3f421ca10", "url": "https://github.com/uyuni-project/uyuni/commit/bb5bfbe1e43b0daf366b46d019403fd3f421ca10", "message": "Shift the SUSE products to the top of the products list", "committedDate": "2020-07-15T08:09:20Z", "type": "commit"}, {"oid": "a700cd19119f75e5d77855b75d0bd966c64d6147", "url": "https://github.com/uyuni-project/uyuni/commit/a700cd19119f75e5d77855b75d0bd966c64d6147", "message": "Update changelog", "committedDate": "2020-07-15T08:09:30Z", "type": "commit"}, {"oid": "a700cd19119f75e5d77855b75d0bd966c64d6147", "url": "https://github.com/uyuni-project/uyuni/commit/a700cd19119f75e5d77855b75d0bd966c64d6147", "message": "Update changelog", "committedDate": "2020-07-15T08:09:30Z", "type": "forcePushed"}]}