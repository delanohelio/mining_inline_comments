{"pr_number": 2784, "pr_title": "Added hostname field in system-history report", "pr_createdAt": "2020-10-31T11:14:08Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2784", "timeline": [{"oid": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2", "url": "https://github.com/uyuni-project/uyuni/commit/d6451f2ef864a575cbc63c47b9eae8fe77e473c2", "message": "Added hostname filed in system-history report", "committedDate": "2020-10-31T10:29:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTgxNDQ0NQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2784#discussion_r515814445", "bodyText": "As id is the primary key in rhnServer and server_id can't be NULL in rhnServerAction, I'd suggest an inner join here.\nhttps://github.com/uyuni-project/uyuni/blob/master/schema/spacewalk/common/tables/rhnServerAction.sql#L22", "author": "moio", "createdAt": "2020-11-02T08:43:15Z", "path": "reporting/reports/data/system-history", "diffHunk": "@@ -52,6 +54,8 @@ sql:\n \t\t\t\tend as event_data\n \t\tfrom rhnserveraction left outer join rhnactionerrataupdate\n \t\t\ton rhnserveraction.action_id = rhnactionerrataupdate.action_id\n+\t\t\tleft outer join rhnserver \n+\t\t\t\ton rhnserveraction.server_id = rhnserver.id", "originalCommit": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE3OTgyNA==", "url": "https://github.com/uyuni-project/uyuni/pull/2784#discussion_r517179824", "bodyText": "Thank you @moio. I have changed the join to inner join.", "author": "ksanjeet", "createdAt": "2020-11-04T08:46:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTgxNDQ0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTgxNDU5NQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2784#discussion_r515814595", "bodyText": "Same as above.", "author": "moio", "createdAt": "2020-11-02T08:43:30Z", "path": "reporting/reports/data/system-history", "diffHunk": "@@ -89,7 +94,7 @@ sql:\n \t\t\t\twhen summary like 'unsubscribed from channel %' then details\n \t\t\t\twhen summary like 'Updated system release %' then substr(summary, 24)\n \t\t\tend\n-\t\tfrom rhnserverhistory\n+\t\tfrom rhnserverhistory left outer join rhnserver on rhnserverhistory.server_id = rhnserver.id", "originalCommit": "d6451f2ef864a575cbc63c47b9eae8fe77e473c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE4MDE0OQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2784#discussion_r517180149", "bodyText": "I have changed the join to inner join in the second commit.", "author": "ksanjeet", "createdAt": "2020-11-04T08:46:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTgxNDU5NQ=="}], "type": "inlineReview"}, {"oid": "248acb1c3662ae6c55f755d3afcb3a536d46207c", "url": "https://github.com/uyuni-project/uyuni/commit/248acb1c3662ae6c55f755d3afcb3a536d46207c", "message": "changed left outer join to inner join", "committedDate": "2020-11-04T08:34:46Z", "type": "commit"}, {"oid": "ce9f208f4528af677843c7a5d950ca4622d0d622", "url": "https://github.com/uyuni-project/uyuni/commit/ce9f208f4528af677843c7a5d950ca4622d0d622", "message": "added changelog", "committedDate": "2020-11-04T09:44:18Z", "type": "commit"}]}