{"pr_number": 2680, "pr_title": "Testsuite: Minor refactor on kiwi images navigation steps", "pr_createdAt": "2020-10-02T11:30:33Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2680", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3MzQxNw==", "url": "https://github.com/uyuni-project/uyuni/pull/2680#discussion_r498973417", "bodyText": "I'd directly use the step inside. As we don't process any data on this step definition.", "author": "srbarrios", "createdAt": "2020-10-02T18:09:08Z", "path": "testsuite/features/step_definitions/docker_steps.rb", "diffHunk": "@@ -24,11 +24,11 @@ def retrieve_build_host_id\n \n # OS image build\n When(/^I navigate to images webpage$/) do\n-  visit(\"https://#{$server.full_hostname}/rhn/manager/cm/images\")\n+  step %(I follow the left menu \"Images > Image List\")", "originalCommit": "1cb2c7f805fedf4e1102af74a37b1adbf5c7384a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM4MTMyMQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2680#discussion_r499381321", "bodyText": "Good point.", "author": "calancha", "createdAt": "2020-10-05T07:04:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3MzQxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3MzcwOQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2680#discussion_r498973709", "bodyText": "Same, I would just use the step inside in the scenario", "author": "srbarrios", "createdAt": "2020-10-02T18:09:46Z", "path": "testsuite/features/step_definitions/docker_steps.rb", "diffHunk": "@@ -24,11 +24,11 @@ def retrieve_build_host_id\n \n # OS image build\n When(/^I navigate to images webpage$/) do\n-  visit(\"https://#{$server.full_hostname}/rhn/manager/cm/images\")\n+  step %(I follow the left menu \"Images > Image List\")\n end\n \n When(/^I navigate to images build webpage$/) do\n-  visit(\"https://#{$server.full_hostname}/rhn/manager/cm/build\")\n+  step %(I follow the left menu \"Images > Build\")", "originalCommit": "1cb2c7f805fedf4e1102af74a37b1adbf5c7384a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk3NDcwOQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2680#discussion_r498974709", "bodyText": "If we don't have a way from the WebUI to navigate into that URI, I suggest to create a card for Naica Squad to discuss a new entry in the menu for that. Ping @ncounter", "author": "srbarrios", "createdAt": "2020-10-02T18:12:06Z", "path": "testsuite/features/step_definitions/docker_steps.rb", "diffHunk": "@@ -38,8 +38,8 @@ def retrieve_build_host_id\n   )\n end\n \n-Then(/^I am on the image page of \"([^\"]*)\"$/) do |image_name|\n-  step %(I navigate to \"#{compute_image_url(image_name)}\" page)\n+Then(/^I am on the image store of the kiwi image for organization \"([^\"]*)\"$/) do |org|\n+  step %(I navigate to \"os-images/#{org}/\" page)\n end", "originalCommit": "1cb2c7f805fedf4e1102af74a37b1adbf5c7384a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2ee3d33602b59d32c6f892b1f07e32f084e2051f", "url": "https://github.com/uyuni-project/uyuni/commit/2ee3d33602b59d32c6f892b1f07e32f084e2051f", "message": "Testsuite: Minor refactor on kiwi images navigation steps\n\nDrop internal details from Cucumber\nMimic the way how the users navigate the UI.\n(See https://github.com/SUSE/spacewalk/issues/12540)\n- testsuite/features/secondary/buildhost_osimage_build_image.feature:\nRewrite the step that navigates to the kiwi image store.\n\n- testsuite/features/support/commonlib.rb (compute_image_url):\nDelete this function.\n\n- testsuite/features/step_definitions/docker_steps.rb:\nMimic how users navigate os images.\n\n- testsuite/features/secondary/min_bootstrap_ssh_key.feature:\nHide systems page url from cucumber.", "committedDate": "2020-10-05T06:51:50Z", "type": "commit"}, {"oid": "04d2b7945b041f04641162afccabb6d6069e2044", "url": "https://github.com/uyuni-project/uyuni/commit/04d2b7945b041f04641162afccabb6d6069e2044", "message": "User like navigation\n\n- testsuite/features/secondary/buildhost_docker_auth_registry.feature\n- testsuite/features/secondary/buildhost_osimage_build_image.feature:\nNavigate as users i.e. by menu clicks.\n\n- testsuite/features/step_definitions/docker_steps.rb:\nDelete unused steps.", "committedDate": "2020-10-05T07:03:18Z", "type": "forcePushed"}, {"oid": "1a8017e0365aefe0594c834860382e5089366689", "url": "https://github.com/uyuni-project/uyuni/commit/1a8017e0365aefe0594c834860382e5089366689", "message": "User like navigation\n\n- testsuite/features/secondary/buildhost_docker_auth_registry.feature\n- testsuite/features/secondary/buildhost_osimage_build_image.feature:\nNavigate as users i.e. by menu clicks.\n\n- testsuite/features/step_definitions/docker_steps.rb:\nDelete unused steps.", "committedDate": "2020-10-05T07:18:42Z", "type": "commit"}, {"oid": "1a8017e0365aefe0594c834860382e5089366689", "url": "https://github.com/uyuni-project/uyuni/commit/1a8017e0365aefe0594c834860382e5089366689", "message": "User like navigation\n\n- testsuite/features/secondary/buildhost_docker_auth_registry.feature\n- testsuite/features/secondary/buildhost_osimage_build_image.feature:\nNavigate as users i.e. by menu clicks.\n\n- testsuite/features/step_definitions/docker_steps.rb:\nDelete unused steps.", "committedDate": "2020-10-05T07:18:42Z", "type": "forcePushed"}]}