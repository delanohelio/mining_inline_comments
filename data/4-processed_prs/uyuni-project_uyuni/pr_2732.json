{"pr_number": 2732, "pr_title": "Replace unicode quotes at stdout with single quotes", "pr_createdAt": "2020-10-19T12:47:25Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2732", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzcyNzA4OQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2732#discussion_r507727089", "bodyText": "I wonder if there is a better way to cover all the cases.\nWhat about the method dump?\nhttps://ruby-doc.org/core-2.5.0/String.html#method-i-dump\nI must say I never tried it.", "author": "srbarrios", "createdAt": "2020-10-19T13:02:00Z", "path": "testsuite/features/step_definitions/common_steps.rb", "diffHunk": "@@ -824,9 +824,10 @@\n     node.run('yum install wget', true, 600, 'root')\n   end\n   command1 = \"wget --no-check-certificate -O /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT http://#{$server.ip}/pub/RHN-ORG-TRUSTED-SSL-CERT\"\n-  puts node.run(command1, true, 500, 'root').to_s\n+  # Replace unicode quotes in the output by single quotes (otherwise, they might break some Cucumber formatters).\n+  puts node.run(command1, true, 500, 'root').to_s.gsub(/\\\\xE2\\\\x80\\\\x98/, \"'\").gsub(/\\\\xE2\\\\x80\\\\x99/, \"'\")", "originalCommit": "b9adedd5a6966d336bb70987b2721f48f42321df", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzc4ODIxMQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2732#discussion_r507788211", "bodyText": "Yes, let's do it in that way.", "author": "calancha", "createdAt": "2020-10-19T14:19:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzcyNzA4OQ=="}], "type": "inlineReview"}, {"oid": "e31779070721a0622080f4212ff14af8de51937e", "url": "https://github.com/uyuni-project/uyuni/commit/e31779070721a0622080f4212ff14af8de51937e", "message": "Testsuite: Prevent from unescaped special chars in the stdout\n\nHaving them might break Cucumber formatters; when this happen, the\ntestsuite reporter is not created, and no e-mail is sent.\n- testsuite/features/step_definitions/common_steps.rb:\nDump the string before print it.", "committedDate": "2020-10-19T14:17:58Z", "type": "commit"}, {"oid": "e31779070721a0622080f4212ff14af8de51937e", "url": "https://github.com/uyuni-project/uyuni/commit/e31779070721a0622080f4212ff14af8de51937e", "message": "Testsuite: Prevent from unescaped special chars in the stdout\n\nHaving them might break Cucumber formatters; when this happen, the\ntestsuite reporter is not created, and no e-mail is sent.\n- testsuite/features/step_definitions/common_steps.rb:\nDump the string before print it.", "committedDate": "2020-10-19T14:17:58Z", "type": "forcePushed"}]}