{"pr_number": 2878, "pr_title": "Tftpboot test fix", "pr_createdAt": "2020-11-20T16:31:59Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2878", "timeline": [{"oid": "ade307f70acc5e6e8bf4fed0164500e34a38d3be", "url": "https://github.com/uyuni-project/uyuni/commit/ade307f70acc5e6e8bf4fed0164500e34a38d3be", "message": "Fix the autoinstallation repo killing after switch to 15SP3", "committedDate": "2020-11-20T16:25:33Z", "type": "commit"}, {"oid": "6cb1019a3be9fe730480e258bdf3f143071c790c", "url": "https://github.com/uyuni-project/uyuni/commit/6cb1019a3be9fe730480e258bdf3f143071c790c", "message": "Install the tftpboot-installation package from the sync repo rpms\n\nA distro ships the tftpboot-installation package matching the\ndistro version. However we need the SLE 15 SP2 package, which is\nsynchronised with the BaseSystem repository. Use this rpm to test\nauto-installation of virtual machines.", "committedDate": "2020-11-20T16:41:27Z", "type": "commit"}, {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "url": "https://github.com/uyuni-project/uyuni/commit/547b7460899c06c1db1f2a339cc5a66616fc45b5", "message": "testsuite: remove memory checks on Xen\n\nOn Xen we are not guaranteed to have the exact amount of memory we\nrequested on the VMs and small diffs can make the test fail randomly.\nRemove the memory checks on Xen to avoid those random false errors.", "committedDate": "2020-11-20T16:41:27Z", "type": "commit"}, {"oid": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "url": "https://github.com/uyuni-project/uyuni/commit/547b7460899c06c1db1f2a339cc5a66616fc45b5", "message": "testsuite: remove memory checks on Xen\n\nOn Xen we are not guaranteed to have the exact amount of memory we\nrequested on the VMs and small diffs can make the test fail randomly.\nRemove the memory checks on Xen to avoid those random false errors.", "committedDate": "2020-11-20T16:41:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4Mg==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528234382", "bodyText": "Why is this removed?", "author": "juliogonzalez", "createdAt": "2020-11-21T19:37:49Z", "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -106,7 +106,6 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     Given I am on the \"Virtualization\" page of this \"xen_server\"\n     When I click on \"Edit\" in row \"test-vm\"\n     And I wait until I do not see \"Loading...\" text\n-    Then I should see \"512\" in field \"memory\"", "originalCommit": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMwMjAzNw==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528302037", "bodyText": "This was detailed in the commit description: on Xen there may be a tiny difference between the memory we want to set and the one the VM actually had. Even if there usually isn't such a difference, this may happen and thus falsely break the tests.", "author": "cbosdo", "createdAt": "2020-11-22T08:36:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzODMxOA==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528338318", "bodyText": "Didn't notice. For such small PRs I don't review the commit history.\nAnyway, explained now, and it makes sense. Resolving.", "author": "juliogonzalez", "createdAt": "2020-11-22T13:49:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4NQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528234385", "bodyText": "Same", "author": "juliogonzalez", "createdAt": "2020-11-21T19:37:53Z", "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -117,7 +116,6 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     And I enter \"02:34:56:78:9a:bc\" as \"network0_mac\"\n     And I click on \"Update\"\n     Then I should see a \"Hosted Virtual Systems\" text\n-    And \"test-vm\" virtual machine on \"xen_server\" should have 1024MB memory and 2 vcpus", "originalCommit": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMwMjA3OQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528302079", "bodyText": "same story with Xen and memory", "author": "cbosdo", "createdAt": "2020-11-22T08:37:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDM4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDQwNA==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528234404", "bodyText": "And same", "author": "juliogonzalez", "createdAt": "2020-11-21T19:38:00Z", "path": "testsuite/features/secondary/minxen_guests.feature", "diffHunk": "@@ -217,7 +214,6 @@ Feature: Be able to manage XEN virtual machines via the GUI\n     Then I should see a \"Hosted Virtual Systems\" text\n     When I wait until I see \"test-vm3\" text\n     And I wait at most 500 seconds until table row for \"test-vm3\" contains button \"Stop\"\n-    Then \"test-vm3\" virtual machine on \"xen_server\" should have 512MB memory and 1 vcpus", "originalCommit": "547b7460899c06c1db1f2a339cc5a66616fc45b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMwMjA4Ng==", "url": "https://github.com/uyuni-project/uyuni/pull/2878#discussion_r528302086", "bodyText": "and here again", "author": "cbosdo", "createdAt": "2020-11-22T08:37:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODIzNDQwNA=="}], "type": "inlineReview"}]}