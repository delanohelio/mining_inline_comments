{"pr_number": 1909, "pr_title": "Adjust REGEX for username validation", "pr_createdAt": "2020-02-12T18:00:41Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/1909", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQyMDcwMg==", "url": "https://github.com/uyuni-project/uyuni/pull/1909#discussion_r378420702", "bodyText": "@hustodemon so... After reviewing the tests (didn't notice we have them for this), I realized you added that... maybe for future Windows support:\n    public void testValidateBootstrapInputUserBackslash() {\n        String json = \"{user: 'domain\\\\\\\\admin', host: 'host.domain.com'}\";\n        BootstrapHostsJson input = MinionsAPI.GSON.fromJson(json, BootstrapHostsJson.class);\n        List<String> validationErrors = InputValidator.INSTANCE.validateBootstrapInput(input);\n        assertTrue(validationErrors.isEmpty());\n    }\n\nBut that explains the backslash, not the slash. Any idea if that's used at Windows as well? I'd say it is not. We where not even testing it.", "author": "juliogonzalez", "createdAt": "2020-02-12T18:04:13Z", "path": "java/code/src/com/suse/manager/webui/utils/InputValidator.java", "diffHunk": "@@ -33,8 +33,8 @@\n      */\n     INSTANCE;\n \n-    // Allow letters (of all languages), numbers, '.', '/', '\\' and '-'\n-    private static final Pattern USERNAME = Pattern.compile(\"^[\\\\p{L}\\\\p{N}.-/\\\\\\\\]*$\");", "originalCommit": "2ae5ba0e253a88e9e92321bb90c44ac618c20ef0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTQwMzQyMg==", "url": "https://github.com/uyuni-project/uyuni/pull/1909#discussion_r379403422", "bodyText": "After some searching, I wasn't able to verify the slash case on windows. But I'd say that the fact that it causes trouble on the supported systems by us (like SLE) is more than good reason to kick it away.", "author": "hustodemon", "createdAt": "2020-02-14T12:23:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQyMDcwMg=="}], "type": "inlineReview"}, {"oid": "45946add4c4d4b70cf71716c59a9c04869e0a6d3", "url": "https://github.com/uyuni-project/uyuni/commit/45946add4c4d4b70cf71716c59a9c04869e0a6d3", "message": "Adjust REGEX for username validation", "committedDate": "2020-02-12T18:12:04Z", "type": "forcePushed"}, {"oid": "9555f74ca01fdc3aaa4d20cfeecd5999e330c033", "url": "https://github.com/uyuni-project/uyuni/commit/9555f74ca01fdc3aaa4d20cfeecd5999e330c033", "message": "Adjust REGEX for username validation", "committedDate": "2020-02-12T18:14:12Z", "type": "forcePushed"}, {"oid": "a57b35eff0a20e29718db577ce493edc43e57c6b", "url": "https://github.com/uyuni-project/uyuni/commit/a57b35eff0a20e29718db577ce493edc43e57c6b", "message": "Adjust REGEX for username validation", "committedDate": "2020-02-12T18:22:25Z", "type": "forcePushed"}, {"oid": "098ec0453f02696aaa30881490bdc11cdcbb3be5", "url": "https://github.com/uyuni-project/uyuni/commit/098ec0453f02696aaa30881490bdc11cdcbb3be5", "message": "Adjust REGEX for username validation", "committedDate": "2020-02-12T21:18:41Z", "type": "commit"}, {"oid": "098ec0453f02696aaa30881490bdc11cdcbb3be5", "url": "https://github.com/uyuni-project/uyuni/commit/098ec0453f02696aaa30881490bdc11cdcbb3be5", "message": "Adjust REGEX for username validation", "committedDate": "2020-02-12T21:18:41Z", "type": "forcePushed"}]}