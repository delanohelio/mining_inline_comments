{"pr_number": 2895, "pr_title": "Testsuite: Few changes to match our name conventions", "pr_createdAt": "2020-11-24T10:21:57Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2895", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2Mzc3OA==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530263778", "bodyText": "Leave \"sle_client\" in this line, because at this point it is still one :-)", "author": "Bischoff", "createdAt": "2020-11-25T10:25:27Z", "path": "testsuite/features/secondary/trad_ssh_tunnel.feature", "diffHunk": "@@ -4,12 +4,12 @@\n Feature: Register a traditional system to be managed via SSH push\n \n   Scenario: Delete the traditional client for SSH reverse bootstrap\n-    Given I am on the Systems overview page of this \"sle_client\"\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_client\"", "originalCommit": "e43e893a2cf761688e57fb3dbe292b16bee81963", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI3MjUyMQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530272521", "bodyText": "OK; applied same fixes at min_ssh_tunnel.feature", "author": "calancha", "createdAt": "2020-11-25T10:39:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2Mzc3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2Mzk1Mg==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530263952", "bodyText": "same, \"sle_client\" still", "author": "Bischoff", "createdAt": "2020-11-25T10:25:41Z", "path": "testsuite/features/secondary/trad_ssh_tunnel.feature", "diffHunk": "@@ -4,12 +4,12 @@\n Feature: Register a traditional system to be managed via SSH push\n \n   Scenario: Delete the traditional client for SSH reverse bootstrap\n-    Given I am on the Systems overview page of this \"sle_client\"\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_client\"\n     When I follow \"Delete System\"\n     Then I should see a \"Confirm System Profile Deletion\" text\n     When I click on \"Delete Profile\"\n     And I wait until I see \"has been deleted\" text\n-    Then \"sle_client\" should not be registered\n+    Then \"sle_ssh_tunnel_client\" should not be registered", "originalCommit": "e43e893a2cf761688e57fb3dbe292b16bee81963", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2NDM1Ng==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530264356", "bodyText": "it's a normal client again => use \"sle_client\" on this line", "author": "Bischoff", "createdAt": "2020-11-25T10:26:19Z", "path": "testsuite/features/secondary/trad_ssh_tunnel.feature", "diffHunk": "@@ -18,26 +18,26 @@ Feature: Register a traditional system to be managed via SSH push\n \n   Scenario: Register this client for SSH push via tunnel\n     When I register this client for SSH push via tunnel\n-    Then I should see \"sle_client\" via spacecmd\n+    Then I should see \"sle_ssh_tunnel_client\" via spacecmd\n \n   Scenario: Check this client's contact method\n-    Given I am on the Systems overview page of this \"sle_client\"\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_client\"\n     Then I should see a \"Push via SSH tunnel\" text\n \n   Scenario: Cleanup: delete the traditional SSH push client\n-    Given I am on the Systems overview page of this \"sle_client\"\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_client\"\n     When I follow \"Delete System\"\n     Then I should see a \"Confirm System Profile Deletion\" text\n     When I click on \"Delete Profile\"\n     And I wait until I see \"has been deleted\" text\n-    Then \"sle_client\" should not be registered\n+    Then \"sle_ssh_tunnel_client\" should not be registered\n \n   Scenario: Cleanup: hosts file of traditional client via SSH tunnel\n     Given I am on the Systems page\n-    And I run \"sed -i '/127.0.1.1/d' /etc/hosts\" on \"sle_client\"\n+    And I run \"sed -i '/127.0.1.1/d' /etc/hosts\" on \"sle_ssh_tunnel_client\"\n     And I run \"rm /srv/www/htdocs/pub/bootstrap/bootstrap-ssh-push-tunnel.sh\" on \"server\"\n-    And I remove server hostname from hosts file on \"sle_client\"\n+    And I remove server hostname from hosts file on \"sle_ssh_tunnel_client\"\n \n   Scenario: Cleanup: register a traditional client after SSH push tests\n-    When I bootstrap traditional client \"sle_client\" using bootstrap script with activation key \"1-SUSE-DEV-x86_64\" from the proxy\n-    Then I should see \"sle_client\" via spacecmd\n+    When I bootstrap traditional client \"sle_ssh_tunnel_client\" using bootstrap script with activation key \"1-SUSE-DEV-x86_64\" from the proxy", "originalCommit": "e43e893a2cf761688e57fb3dbe292b16bee81963", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2NDgzNw==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530264837", "bodyText": "same, \"sle_client\" again :-)", "author": "Bischoff", "createdAt": "2020-11-25T10:27:04Z", "path": "testsuite/features/secondary/trad_ssh_tunnel.feature", "diffHunk": "@@ -18,26 +18,26 @@ Feature: Register a traditional system to be managed via SSH push\n \n   Scenario: Register this client for SSH push via tunnel\n     When I register this client for SSH push via tunnel\n-    Then I should see \"sle_client\" via spacecmd\n+    Then I should see \"sle_ssh_tunnel_client\" via spacecmd\n \n   Scenario: Check this client's contact method\n-    Given I am on the Systems overview page of this \"sle_client\"\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_client\"\n     Then I should see a \"Push via SSH tunnel\" text\n \n   Scenario: Cleanup: delete the traditional SSH push client\n-    Given I am on the Systems overview page of this \"sle_client\"\n+    Given I am on the Systems overview page of this \"sle_ssh_tunnel_client\"\n     When I follow \"Delete System\"\n     Then I should see a \"Confirm System Profile Deletion\" text\n     When I click on \"Delete Profile\"\n     And I wait until I see \"has been deleted\" text\n-    Then \"sle_client\" should not be registered\n+    Then \"sle_ssh_tunnel_client\" should not be registered\n \n   Scenario: Cleanup: hosts file of traditional client via SSH tunnel\n     Given I am on the Systems page\n-    And I run \"sed -i '/127.0.1.1/d' /etc/hosts\" on \"sle_client\"\n+    And I run \"sed -i '/127.0.1.1/d' /etc/hosts\" on \"sle_ssh_tunnel_client\"\n     And I run \"rm /srv/www/htdocs/pub/bootstrap/bootstrap-ssh-push-tunnel.sh\" on \"server\"\n-    And I remove server hostname from hosts file on \"sle_client\"\n+    And I remove server hostname from hosts file on \"sle_ssh_tunnel_client\"\n \n   Scenario: Cleanup: register a traditional client after SSH push tests\n-    When I bootstrap traditional client \"sle_client\" using bootstrap script with activation key \"1-SUSE-DEV-x86_64\" from the proxy\n-    Then I should see \"sle_client\" via spacecmd\n+    When I bootstrap traditional client \"sle_ssh_tunnel_client\" using bootstrap script with activation key \"1-SUSE-DEV-x86_64\" from the proxy\n+    Then I should see \"sle_ssh_tunnel_client\" via spacecmd", "originalCommit": "e43e893a2cf761688e57fb3dbe292b16bee81963", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI2NTIwNA==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530265204", "bodyText": "Please document it. We have a list in some .md file somewhere.", "author": "Bischoff", "createdAt": "2020-11-25T10:27:35Z", "path": "testsuite/features/support/twopence_init.rb", "diffHunk": "@@ -217,6 +217,7 @@ def file_inject(node, local_file, remote_file)\n                   'sle_ssh_tunnel_minion' => $minion,\n                   'build_host'            => $build_host,\n                   'sle_client'            => $client,\n+                  'sle_ssh_tunnel_client' => $client,", "originalCommit": "e43e893a2cf761688e57fb3dbe292b16bee81963", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "187f4a388cd7b534838e8d0a7fc44878676f8e2f", "url": "https://github.com/uyuni-project/uyuni/commit/187f4a388cd7b534838e8d0a7fc44878676f8e2f", "message": "Testsuite: Few changes to match our name conventions\n\nWe register the CentOS VM as a salt minion most of the time, thus\nthe prefix of the feature file must be `min`.\n- testsuite/features/secondary/min_centos_salt_install_package_and_patch.feature\nRename from minssh_centos_salt_install_package_and_patch.feature\n\n- testsuite/features/support/twopence_init.rb:\nAdd a label `sle_ssh_tunnel_client` matching the client hostname.\n\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_tunnel.feature\nRename from trad_ssh_push.feature.  Use the new label.\n\n- testsuite/run_sets/secondary.yml\n- testsuite/run_sets/secondary_parallelizable.yml:\nUpdate with the new names.", "committedDate": "2020-11-25T10:35:26Z", "type": "forcePushed"}, {"oid": "bf9a800bd56ec4ee51bc3cb0d1bea1777dfac553", "url": "https://github.com/uyuni-project/uyuni/commit/bf9a800bd56ec4ee51bc3cb0d1bea1777dfac553", "message": "Testsuite: Few changes to match our name conventions\n\nWe register the CentOS VM as a salt minion most of the time, thus\nthe prefix of the feature file must be `min`.\n- testsuite/features/secondary/min_centos_salt_install_package_and_patch.feature\nRename from minssh_centos_salt_install_package_and_patch.feature\n\n- testsuite/features/support/twopence_init.rb:\nAdd a label `sle_ssh_tunnel_client` matching the client hostname.\n\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_tunnel.feature\nRename from trad_ssh_push.feature.  Use the new label.\n\n- testsuite/run_sets/secondary.yml\n- testsuite/run_sets/secondary_parallelizable.yml:\nUpdate with the new names.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nBe specific using the minion labels.", "committedDate": "2020-11-25T10:38:20Z", "type": "forcePushed"}, {"oid": "0098c174c034d509053a33e7a473bca60c2c2b5a", "url": "https://github.com/uyuni-project/uyuni/commit/0098c174c034d509053a33e7a473bca60c2c2b5a", "message": "Testsuite: Few changes to match our name conventions\n\nWe register the CentOS VM as a salt minion most of the time, thus\nthe prefix of the feature file must be `min`.\n- testsuite/features/secondary/min_centos_salt_install_package_and_patch.feature\nRename from minssh_centos_salt_install_package_and_patch.feature\n\n- testsuite/features/support/twopence_init.rb:\nAdd a label `sle_ssh_tunnel_client` matching the client hostname.\n\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_tunnel.feature\nRename from trad_ssh_push.feature.  Use the new label.\n\n- testsuite/run_sets/secondary.yml\n- testsuite/run_sets/secondary_parallelizable.yml:\nUpdate with the new names.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nBe specific using the minion labels.", "committedDate": "2020-11-25T10:44:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMwMTA5OA==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530301098", "bodyText": "We still have some mixed names \"SSH reverse bootstrap\" , \"minion for push via SSH tunnel\", \"salt minion after SSH push tests\" \ud83e\udd14", "author": "srbarrios", "createdAt": "2020-11-25T11:25:12Z", "path": "testsuite/features/secondary/min_ssh_tunnel.feature", "diffHunk": "@@ -4,13 +4,13 @@\n Feature: Register a salt system to be managed via SSH tunnel\n \n   Scenario: Delete the salt minion for SSH reverse bootstrap", "originalCommit": "0098c174c034d509053a33e7a473bca60c2c2b5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMyNDUyOQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2895#discussion_r530324529", "bodyText": "Indeed.  Changed reverse by tunnel in those steps.", "author": "calancha", "createdAt": "2020-11-25T12:06:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMwMTA5OA=="}], "type": "inlineReview"}, {"oid": "bce4c0a68df652df47e3aedaab6f8628d1e1215e", "url": "https://github.com/uyuni-project/uyuni/commit/bce4c0a68df652df47e3aedaab6f8628d1e1215e", "message": "Testsuite: Few changes to match our name conventions\n\nWe register the CentOS VM as a salt minion most of the time, thus\nthe prefix of the feature file must be `min`.\n- testsuite/features/secondary/min_centos_salt_install_package_and_patch.feature\nRename from minssh_centos_salt_install_package_and_patch.feature\n\n- testsuite/features/support/twopence_init.rb:\nAdd a label `sle_ssh_tunnel_client` matching the client hostname.\n\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_tunnel.feature\nRename from trad_ssh_push.feature.  Use the new label.\n\n- testsuite/run_sets/secondary.yml\n- testsuite/run_sets/secondary_parallelizable.yml:\nUpdate with the new names.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nBe specific using the minion labels.", "committedDate": "2020-11-25T12:05:20Z", "type": "forcePushed"}, {"oid": "cbb0cfaf1e9b46e3b2bd2d0737b56a2f18191a56", "url": "https://github.com/uyuni-project/uyuni/commit/cbb0cfaf1e9b46e3b2bd2d0737b56a2f18191a56", "message": "Testsuite: Few changes to match our name conventions\n\nWe register the CentOS VM as a salt minion most of the time, thus\nthe prefix of the feature file must be `min`.\n- testsuite/features/secondary/min_centos_salt_install_package_and_patch.feature\nRename from minssh_centos_salt_install_package_and_patch.feature\n\n- testsuite/features/support/twopence_init.rb:\nAdd a label `sle_ssh_tunnel_client` matching the client hostname.\n\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_tunnel.feature\nRename from trad_ssh_push.feature.  Use the new label.\n\n- testsuite/run_sets/secondary.yml\n- testsuite/run_sets/secondary_parallelizable.yml:\nUpdate with the new names.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nBe specific using the minion labels.", "committedDate": "2020-11-25T12:08:37Z", "type": "commit"}, {"oid": "cbb0cfaf1e9b46e3b2bd2d0737b56a2f18191a56", "url": "https://github.com/uyuni-project/uyuni/commit/cbb0cfaf1e9b46e3b2bd2d0737b56a2f18191a56", "message": "Testsuite: Few changes to match our name conventions\n\nWe register the CentOS VM as a salt minion most of the time, thus\nthe prefix of the feature file must be `min`.\n- testsuite/features/secondary/min_centos_salt_install_package_and_patch.feature\nRename from minssh_centos_salt_install_package_and_patch.feature\n\n- testsuite/features/support/twopence_init.rb:\nAdd a label `sle_ssh_tunnel_client` matching the client hostname.\n\n- testsuite/documentation/cucumber-steps.md:\nDocument the new label.\n\n- testsuite/features/secondary/trad_ssh_tunnel.feature\nRename from trad_ssh_push.feature.  Use the new label.\n\n- testsuite/run_sets/secondary.yml\n- testsuite/run_sets/secondary_parallelizable.yml:\nUpdate with the new names.\n\n- testsuite/features/secondary/min_ssh_tunnel.feature:\nBe specific using the minion labels.", "committedDate": "2020-11-25T12:08:37Z", "type": "forcePushed"}]}