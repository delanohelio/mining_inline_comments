{"pr_number": 2989, "pr_title": "Add second arg head", "pr_createdAt": "2020-12-08T15:48:32Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2989", "timeline": [{"oid": "88575a6b00136066a7724df308f5b8a0c79bd3f1", "url": "https://github.com/uyuni-project/uyuni/commit/88575a6b00136066a7724df308f5b8a0c79bd3f1", "message": "Testsuite: Add 2nd arg target into get_gpg_keys", "committedDate": "2020-12-08T13:59:42Z", "type": "commit"}, {"oid": "8c120f0bb2e90c638ce579bef7403f551cc4eed5", "url": "https://github.com/uyuni-project/uyuni/commit/8c120f0bb2e90c638ce579bef7403f551cc4eed5", "message": "Testsuite: Pass the right type for the 1st arg of get_gpg_keys\n\nAdd optional 2nd argument (default $server) with the target\nfrom where to get the GPG keys.\n\n- testsuite/features/support/client_stack.rb:\nThe first arg is a node, not a string.", "committedDate": "2020-12-08T16:04:54Z", "type": "commit"}, {"oid": "8c120f0bb2e90c638ce579bef7403f551cc4eed5", "url": "https://github.com/uyuni-project/uyuni/commit/8c120f0bb2e90c638ce579bef7403f551cc4eed5", "message": "Testsuite: Pass the right type for the 1st arg of get_gpg_keys\n\nAdd optional 2nd argument (default $server) with the target\nfrom where to get the GPG keys.\n\n- testsuite/features/support/client_stack.rb:\nThe first arg is a node, not a string.", "committedDate": "2020-12-08T16:04:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgzNjU1Mg==", "url": "https://github.com/uyuni-project/uyuni/pull/2989#discussion_r538836552", "bodyText": "Naming it is just a bit confusing now, as to obtain the node we use the function get_target, and then as second parameter of the next function we use the variable target extracted from few lines above \ud83e\udd14\nI just hope it is clear enough the next time we revisit this code", "author": "srbarrios", "createdAt": "2020-12-08T21:55:39Z", "path": "testsuite/features/step_definitions/common_steps.rb", "diffHunk": "@@ -667,7 +667,7 @@\n   # Prepare bootstrap script for different types of clients\n   client = client_type == 'traditional' ? '--traditional' : ''\n   node = get_target(host)\n-  gpg_keys = get_gpg_keys(node)\n+  gpg_keys = get_gpg_keys(node, target)", "originalCommit": "8c120f0bb2e90c638ce579bef7403f551cc4eed5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE2MDIwNw==", "url": "https://github.com/uyuni-project/uyuni/pull/2989#discussion_r539160207", "bodyText": "I agree; there is room for improvement in the naming; it is worth improving it.", "author": "calancha", "createdAt": "2020-12-09T09:48:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgzNjU1Mg=="}], "type": "inlineReview"}]}