{"pr_number": 2195, "pr_title": "Uyuni issue 10893 supportconfig speedup", "pr_createdAt": "2020-05-08T09:46:23Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2195", "timeline": [{"oid": "11b7e6e1e1a7d5c57b3eb5484d32069154424fcc", "url": "https://github.com/uyuni-project/uyuni/commit/11b7e6e1e1a7d5c57b3eb5484d32069154424fcc", "message": "spacewalk-debug/supportconfig speedup fixes and --no-compression flag\n\nSpeedup of the spacewalk-debug by excluding the schema-upgrade directory.\n\nAdd flag to not compress the output folder.\nUseful for support config since it will compress it output, avoid trying to compress twice.\nSigned-off-by: Ricardo Mateus <rmateus@suse.com>", "committedDate": "2020-05-08T09:47:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjEyMTczMQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2195#discussion_r422121731", "bodyText": "Hmm, I am not 100% sure if this is a good idea, because you never know if a customer messed around with it.\nBut I tend to agree that in such a case we might need to ask explicit for that content.", "author": "mcalmer", "createdAt": "2020-05-08T12:44:42Z", "path": "backend/satellite_tools/spacewalk-debug", "diffHunk": "@@ -130,6 +137,8 @@ elif [ -d /etc/apache2 ]; then\n fi\n cp -fapRd /etc/rhn $DIR/conf/rhn\n cp -fapRd /etc/sysconfig/rhn $DIR/conf/rhn/sysconfig\n+# exclude schema upgrade files, as they are packaged\n+rm -r $DIR/conf/rhn/sysconfig/rhn/schema-upgrade", "originalCommit": "11b7e6e1e1a7d5c57b3eb5484d32069154424fcc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjM4ODA4Mg==", "url": "https://github.com/uyuni-project/uyuni/pull/2195#discussion_r422388082", "bodyText": "This was initially a port from: https://bugzilla.suse.com/attachment.cgi?id=830902&action=diff#a/backend/satellite_tools/spacewalk-debug_sec2\nI assume Moio opinion on removing this folder :)\nDo you think this folder been removed should be explicitly communicated in the mailing list, so all developers be aware we don't will have it anymore and need to ask if needed?", "author": "rjmateus", "createdAt": "2020-05-08T21:38:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjEyMTczMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk3MDAzMQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2195#discussion_r430970031", "bodyText": "I echo @mcalmer's sentiment above - we only need to request this directory if the schema packages have been tampered with (and we have this information in the rpm verification files). So I would say this change is OK.", "author": "moio", "createdAt": "2020-05-27T09:08:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjEyMTczMQ=="}], "type": "inlineReview"}, {"oid": "2625eea7f4e546333500f27dc997d230d0ae8bc0", "url": "https://github.com/uyuni-project/uyuni/commit/2625eea7f4e546333500f27dc997d230d0ae8bc0", "message": "spacewalk-debug --no-report parameter can now be passed in any order\n\nspacewalk-debug have a bug which not allows the parameter --no-report to be pass in any order.\nExample: spacewalk-debug --no-reports --dir /tmp/\n\nSigned-off-by: Ricardo Mateus <rmateus@suse.com>", "committedDate": "2020-05-28T13:16:59Z", "type": "commit"}, {"oid": "f509e358fe6e1af315da598b09ab1844e15d6eaa", "url": "https://github.com/uyuni-project/uyuni/commit/f509e358fe6e1af315da598b09ab1844e15d6eaa", "message": "spacewalk-debug/supportconfig speedup fixes and --no-compression flag\n\nSpeedup of the spacewalk-debug by excluding the schema-upgrade directory.\n\nAdd flag to not compress the output folder.\nUseful for support config since it will compress it output, avoid trying to compress twice.\nSigned-off-by: Ricardo Mateus <rmateus@suse.com>", "committedDate": "2020-05-28T13:18:39Z", "type": "commit"}, {"oid": "f509e358fe6e1af315da598b09ab1844e15d6eaa", "url": "https://github.com/uyuni-project/uyuni/commit/f509e358fe6e1af315da598b09ab1844e15d6eaa", "message": "spacewalk-debug/supportconfig speedup fixes and --no-compression flag\n\nSpeedup of the spacewalk-debug by excluding the schema-upgrade directory.\n\nAdd flag to not compress the output folder.\nUseful for support config since it will compress it output, avoid trying to compress twice.\nSigned-off-by: Ricardo Mateus <rmateus@suse.com>", "committedDate": "2020-05-28T13:18:39Z", "type": "forcePushed"}]}