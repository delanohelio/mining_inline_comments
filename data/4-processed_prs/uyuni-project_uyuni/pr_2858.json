{"pr_number": 2858, "pr_title": "Added RHEL8 compatibility", "pr_createdAt": "2020-11-17T08:47:59Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2858", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r524982769", "bodyText": "Is this empty tar really needed to build on RHEL?\n(just try to learn something new)", "author": "mcalmer", "createdAt": "2020-11-17T08:53:15Z", "path": "uyuni/base/uyuni-base.spec", "diffHunk": "@@ -26,14 +26,20 @@\n %define apache_group www\n %else\n %define www_path %{_var}\n+%if 0%{?rhel}\n+%define apache_user root\n+%define apache_group root\n+%else\n %define apache_user apache\n %define apache_group apache\n %endif\n+%endif\n \n Name:           uyuni-base\n Version:        4.2.1\n Release:        1\n Url:            https://github.com/uyuni-project/uyuni\n+Source:\t\tnoop.tar.gz", "originalCommit": "afe9862538e0b155038ea7ac8f683bac1353375c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4NTc2Mw==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r524985763", "bodyText": "Actually no. It is necessary for the Copr build process (not sure how OBS takes it on CentOS packages). Personally, I would like to keep it in to have that flexibility. Otherwise I can take it out.", "author": "sbluhm", "createdAt": "2020-11-17T08:57:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjczOTYxNQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r526739615", "bodyText": "@juliogonzalez any objections?", "author": "mcalmer", "createdAt": "2020-11-19T10:08:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc0MzQ1OQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r526743459", "bodyText": "Not from me, but will autobuild accept it?", "author": "juliogonzalez", "createdAt": "2020-11-19T10:14:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc0NTY2Nw==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r526745667", "bodyText": "I think yes, but what about tito?\nWhat about adding a README and a LICENSE file and make it a standard package with tar like all the other?", "author": "mcalmer", "createdAt": "2020-11-19T10:17:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjgzNjk2Ng==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r526836966", "bodyText": "Ah, right, tito would rewrite this.\nI'd say it's better if we convert this to a standard package, yes.", "author": "juliogonzalez", "createdAt": "2020-11-19T12:30:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg0NjQwOQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r526846409", "bodyText": "Can you please guide me what to do? What is a standard package?", "author": "sbluhm", "createdAt": "2020-11-19T12:37:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjkyNDUwNA==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r526924504", "bodyText": "copy the LICENSE file from uyuni/common-libs/ to uyuni/base/\nmodify uyuni-base.spec\n\nadd Source0:        %{name}-%{version}.tar.gz\nadd %license LICENSE (to filelist %files common)\n\n\n\nI think thats all.", "author": "mcalmer", "createdAt": "2020-11-19T14:22:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzEyOTc0MQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r527129741", "bodyText": "Done.", "author": "sbluhm", "createdAt": "2020-11-19T19:06:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk4Mjc2OQ=="}], "type": "inlineReview"}, {"oid": "c0b6f32d156690efff7843315da2d9ae6e315dab", "url": "https://github.com/uyuni-project/uyuni/commit/c0b6f32d156690efff7843315da2d9ae6e315dab", "message": "Added RHEL8 compatibility", "committedDate": "2020-11-19T18:56:38Z", "type": "forcePushed"}, {"oid": "f2acc884249e674a21a81eb8557d605536604e6a", "url": "https://github.com/uyuni-project/uyuni/commit/f2acc884249e674a21a81eb8557d605536604e6a", "message": "Added RHEL8 compatibility", "committedDate": "2020-11-19T19:01:22Z", "type": "forcePushed"}, {"oid": "312c777acfaa6767040dbee8b7961c832533884c", "url": "https://github.com/uyuni-project/uyuni/commit/312c777acfaa6767040dbee8b7961c832533884c", "message": "Added RHEL8 compatibility", "committedDate": "2020-11-19T19:03:41Z", "type": "forcePushed"}, {"oid": "b7c31972cd7a357eacb3fc1e90f48247caa23c83", "url": "https://github.com/uyuni-project/uyuni/commit/b7c31972cd7a357eacb3fc1e90f48247caa23c83", "message": "Added RHEL8 compatibility", "committedDate": "2020-11-19T19:04:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUxNTcxMQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r530515711", "bodyText": "uyuni-base-common is used in osad.spec which also build for these old versions.\nWe have this bad situations that some packages contain client and server components.\nSo it is better to keep the rhel 6 test here until we really do not build for RHEL 6 clients anymore.\nHere and the other 3 places in this file.", "author": "mcalmer", "createdAt": "2020-11-25T16:50:44Z", "path": "uyuni/base/uyuni-base.spec", "diffHunk": "@@ -88,29 +94,34 @@ Basic filesystem hierarchy for Uyuni proxy.\n %install\n mkdir -p %{buildroot}/etc/rhn\n mkdir -p %{buildroot}/usr/share/rhn/proxy\n-%if ! (0%{?rhel} == 6 || 0%{?suse_version} == 1110)", "originalCommit": "b7c31972cd7a357eacb3fc1e90f48247caa23c83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU0OTIzNw==", "url": "https://github.com/uyuni-project/uyuni/pull/2858#discussion_r530549237", "bodyText": "Done.", "author": "sbluhm", "createdAt": "2020-11-25T17:46:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUxNTcxMQ=="}], "type": "inlineReview"}, {"oid": "c649371a8805b6cffb36cf11aa5d090c35ca0c83", "url": "https://github.com/uyuni-project/uyuni/commit/c649371a8805b6cffb36cf11aa5d090c35ca0c83", "message": "Added RHEL8 compatibility", "committedDate": "2020-11-25T17:45:13Z", "type": "commit"}, {"oid": "c649371a8805b6cffb36cf11aa5d090c35ca0c83", "url": "https://github.com/uyuni-project/uyuni/commit/c649371a8805b6cffb36cf11aa5d090c35ca0c83", "message": "Added RHEL8 compatibility", "committedDate": "2020-11-25T17:45:13Z", "type": "forcePushed"}]}