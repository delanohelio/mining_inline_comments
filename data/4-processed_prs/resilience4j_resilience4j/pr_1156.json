{"pr_number": 1156, "pr_title": "Phase-3 Removal vavr dependency", "pr_createdAt": "2020-09-07T08:08:11Z", "pr_url": "https://github.com/resilience4j/resilience4j/pull/1156", "timeline": [{"oid": "99a41d1f1552de28830277d6c65f2bfff38a4422", "url": "https://github.com/resilience4j/resilience4j/commit/99a41d1f1552de28830277d6c65f2bfff38a4422", "message": "Phase-3 Removal vavr dependency", "committedDate": "2020-09-07T08:04:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484518982", "bodyText": "What is the plan for a backward-compatibility?\nEg. we can consider replacement by custom io.github.resilience4j.CheckedRunnable /CheckedFunction* implementations when java.util.function.* isn't applicable...", "author": "hexmind", "createdAt": "2020-09-07T16:43:08Z", "path": "resilience4j-all/src/main/java/io/github/resilience4j/decorators/Decorators.java", "diffHunk": "@@ -67,18 +58,6 @@ static DecorateRunnable ofRunnable(Runnable runnable) {\n         return new DecorateCallable<>(callable);\n     }\n \n-    static <T> DecorateCheckedSupplier<T> ofCheckedSupplier(CheckedFunction0<T> supplier) {", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNzE1OQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485437159", "bodyText": "I am not sure but I think we assumed that 2.0 is going to have few contract breaking changes since we have made similar changes in previous PRs like VavrCircuitBreaker, VavrRatelimiter etc. @RobWin correct me if I am wrong.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:36:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU3MzAxMA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488573010", "bodyText": "Yes, breacking changes for 2.0 are fine", "author": "RobWin", "createdAt": "2020-09-15T10:54:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU3MzcwOQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488573709", "bodyText": "But I like the idea to add our own CheckedRunnable and CheckedFunction interfaces is a good idea. That means, if someone just uses Lambas, he does not even have to migrate the code.", "author": "RobWin", "createdAt": "2020-09-15T10:55:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4NzIwNg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488587206", "bodyText": "But we can do this in another PR", "author": "RobWin", "createdAt": "2020-09-15T11:21:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU5NzI4MQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488597281", "bodyText": "This way we could keep existing tests.", "author": "hexmind", "createdAt": "2020-09-15T11:39:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYxMTcxNg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488611716", "bodyText": "Since it's Phase-3, we are already too late ;)\nWe can copy the tests later? wdyt?", "author": "RobWin", "createdAt": "2020-09-15T12:04:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYxNDI3MA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488614270", "bodyText": "I would add interfaces now and keep tests at the same time.", "author": "hexmind", "createdAt": "2020-09-15T12:08:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYxODU3NA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488618574", "bodyText": "Meanwhile I was working on the next PR and have already added  our own CheckedFunction CheckedRunnable etc. It would be easy for me to do it in next PR.", "author": "KrnSaurabh", "createdAt": "2020-09-15T12:16:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYyNTA4MQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488625081", "bodyText": "@hexmind @RobWin let me know if that's fine. I should have foreseen the need but while working on next the PR I realised the need of having our own checkedFunction and other checked interfaces. hence I have added the same in upcoming PR.", "author": "KrnSaurabh", "createdAt": "2020-09-15T12:27:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODk4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMjg2MQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484522861", "bodyText": "What is a reason for copying anonymous list created a moment ago?", "author": "hexmind", "createdAt": "2020-09-07T16:57:45Z", "path": "resilience4j-circularbuffer/src/main/java/io/github/resilience4j/circularbuffer/ConcurrentCircularFifoBuffer.java", "diffHunk": "@@ -74,7 +73,7 @@ public boolean isFull() {\n     @SuppressWarnings(\"unchecked\")\n     public List<T> toList() {\n         T[] elementsArray = (T[]) queue.toArray();\n-        return List.ofAll(Arrays.asList(elementsArray));\n+        return List.copyOf(Arrays.asList(elementsArray));", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNjU3MQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485436571", "bodyText": "Yeah right. It doesn't make sense. I have changed it to simply return defensive copy of queue.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:35:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMjg2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyNDMwMw==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484524303", "bodyText": "It is wrong because Interface for immutable sequential data structures isn't the same what Set is. Only names are similar ;)", "author": "hexmind", "createdAt": "2020-09-07T17:03:33Z", "path": "resilience4j-consumer/src/main/java/io/github/resilience4j/consumer/EventConsumerRegistry.java", "diffHunk": "@@ -44,5 +45,5 @@\n      *\n      * @return all EventConsumer instances\n      */\n-    Seq<CircularEventConsumer<T>> getAllEventConsumer();\n+    Set<CircularEventConsumer<T>> getAllEventConsumer();", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ0ODUyNQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485448525", "bodyText": "Thats correct :) Set is not exact replacement of Seq although names looked similar. I could choose between Set for unique values or List but there is no equivalent data structure in terms of immutability. Let me know if you suggest other collection instead.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:53:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyNDMwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjExNTkxOA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r486115918", "bodyText": "You won't find immutable interface.\nAfter this change from Seq to Set you lose duplicates and what is even more important an order.", "author": "hexmind", "createdAt": "2020-09-10T07:14:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyNDMwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU0NzAzOQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r486547039", "bodyText": "Changed java.util.Set to List to retain order of elements.", "author": "KrnSaurabh", "createdAt": "2020-09-10T18:23:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyNDMwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyNTcxMg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484525712", "bodyText": "https://www.logicbig.com/how-to/code-snippets/jcode-java-8-streams-longstream-iterate.html", "author": "hexmind", "createdAt": "2020-09-07T17:09:33Z", "path": "resilience4j-core/src/main/java/io/github/resilience4j/core/IntervalFunction.java", "diffHunk": "@@ -35,7 +33,15 @@ static IntervalFunction of(long intervalMillis, Function<Long, Long> backoffFunc\n \n         return (attempt) -> {\n             checkAttempt(attempt);\n-            return Stream.iterate(intervalMillis, backoffFunction).get(attempt - 1);", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzODAwNA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485438004", "bodyText": "I have refactored the code here.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:37:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyNTcxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyODkxNg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484528916", "bodyText": "Could you rename this method?", "author": "hexmind", "createdAt": "2020-09-07T17:23:42Z", "path": "resilience4j-ratpack/src/main/java/io/github/resilience4j/ratpack/bulkhead/monitoring/endpoint/BulkheadChain.java", "diffHunk": "@@ -45,6 +45,10 @@ public BulkheadChain(EventConsumerRegistry<BulkheadEvent> eventConsumerRegistry)\n         this.eventConsumerRegistry = eventConsumerRegistry;\n     }\n \n+    private static Flux<BulkheadEvent> apply(CircularEventConsumer<BulkheadEvent> bulkheadEventCircularEventConsumer) {", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMDQ0NA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484530444", "bodyText": "maybe .flatMap(CircularEventConsumer::streamBufferedEvents)?\nI am not sure if CircularEventConsumer::fluxBufferedEvents) would be also possible (dependencies)...", "author": "hexmind", "createdAt": "2020-09-07T17:31:03Z", "path": "resilience4j-ratpack/src/main/java/io/github/resilience4j/ratpack/circuitbreaker/monitoring/endpoint/CircuitBreakerChain.java", "diffHunk": "@@ -108,10 +107,13 @@ public void execute(Chain chain) throws Exception {\n                     CircuitBreakerEventsEndpointResponse response = new CircuitBreakerEventsEndpointResponse(\n                         eventConsumerRegistry\n                             .getAllEventConsumer()\n-                            .flatMap(CircularEventConsumer::getBufferedEvents)\n+                            .stream()\n+                            .flatMap(circuitBreakerEventCircularEventConsumer -> circuitBreakerEventCircularEventConsumer", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzOTEwNQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485439105", "bodyText": "Added a method to return stream of BufferedEvents and reused it. Couldn't create similar method to return flux since reactor dependency is not present in the project.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:39:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMDQ0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTYzOA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484531638", "bodyText": "remove qualified name", "author": "hexmind", "createdAt": "2020-09-07T17:37:14Z", "path": "resilience4j-spring-boot2/src/main/java/io/github/resilience4j/bulkhead/monitoring/endpoint/BulkheadEventsEndpoint.java", "diffHunk": "@@ -40,33 +42,34 @@ public BulkheadEventsEndpoint(EventConsumerRegistry<BulkheadEvent> eventConsumer\n \n     @ReadOperation\n     public BulkheadEventsEndpointResponse getAllBulkheadEvents() {\n-        java.util.List<BulkheadEventDTO> response = eventConsumerRegistry.getAllEventConsumer()\n-            .flatMap(CircularEventConsumer::getBufferedEvents)\n+        List<BulkheadEventDTO> response = eventConsumerRegistry.getAllEventConsumer().stream()\n+            .flatMap(bulkheadEventCircularEventConsumer -> bulkheadEventCircularEventConsumer\n+                .getBufferedEvents()\n+                .stream())\n             .sorted(Comparator.comparing(BulkheadEvent::getCreationTime))\n             .map(BulkheadEventDTOFactory::createBulkheadEventDTO)\n-            .toJavaList();\n-\n+            .collect(Collectors.toUnmodifiableList());\n         return new BulkheadEventsEndpointResponse(response);\n     }\n \n     @ReadOperation\n     public BulkheadEventsEndpointResponse getEventsFilteredByBulkheadName(\n         @Selector String bulkheadName) {\n-        java.util.List<BulkheadEventDTO> response = getBulkheadEvent(bulkheadName)\n+        java.util.List<BulkheadEventDTO> response = getBulkheadEvent(bulkheadName).stream()", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTc5Ng==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484531796", "bodyText": "it looks that only here is toUnmodifiableList called", "author": "hexmind", "createdAt": "2020-09-07T17:37:56Z", "path": "resilience4j-spring-boot2/src/main/java/io/github/resilience4j/bulkhead/monitoring/endpoint/BulkheadEventsEndpoint.java", "diffHunk": "@@ -40,33 +42,34 @@ public BulkheadEventsEndpoint(EventConsumerRegistry<BulkheadEvent> eventConsumer\n \n     @ReadOperation\n     public BulkheadEventsEndpointResponse getAllBulkheadEvents() {\n-        java.util.List<BulkheadEventDTO> response = eventConsumerRegistry.getAllEventConsumer()\n-            .flatMap(CircularEventConsumer::getBufferedEvents)\n+        List<BulkheadEventDTO> response = eventConsumerRegistry.getAllEventConsumer().stream()\n+            .flatMap(bulkheadEventCircularEventConsumer -> bulkheadEventCircularEventConsumer\n+                .getBufferedEvents()\n+                .stream())\n             .sorted(Comparator.comparing(BulkheadEvent::getCreationTime))\n             .map(BulkheadEventDTOFactory::createBulkheadEventDTO)\n-            .toJavaList();\n-\n+            .collect(Collectors.toUnmodifiableList());", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ0MTkzOA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485441938", "bodyText": "I wasn't too sure to always use toUnmodifiableList() or simply Collectors.toList(). Although later I used Collectors.toList() mostly. Let me know if using toUnmodifiableList() seems more appropriate instead.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:43:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTc5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU3NDkzNg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488574936", "bodyText": "I think it doesn't really matter, since it's not a public method which is used outside of Spring Actuator.", "author": "RobWin", "createdAt": "2020-09-15T10:58:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTc5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU3NTIyNA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r488575224", "bodyText": "if you usually use Collectors.toList()`, please also use it here.", "author": "RobWin", "createdAt": "2020-09-15T10:58:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTc5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMjI1Mg==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484532252", "bodyText": "\\n.collect", "author": "hexmind", "createdAt": "2020-09-07T17:40:18Z", "path": "resilience4j-spring-boot2/src/main/java/io/github/resilience4j/ratelimiter/monitoring/endpoint/RateLimiterEventsEndpoint.java", "diffHunk": "@@ -39,37 +41,40 @@ public RateLimiterEventsEndpoint(\n \n     @ReadOperation\n     public RateLimiterEventsEndpointResponse getAllRateLimiterEvents() {\n-        return new RateLimiterEventsEndpointResponse(eventsConsumerRegistry.getAllEventConsumer()\n-            .flatMap(CircularEventConsumer::getBufferedEvents)\n+        return new RateLimiterEventsEndpointResponse(eventsConsumerRegistry.getAllEventConsumer().stream()\n+            .flatMap(rateLimiterEventCircularEventConsumer ->\n+                rateLimiterEventCircularEventConsumer.getBufferedEvents().stream())\n             .sorted(Comparator.comparing(RateLimiterEvent::getCreationTime))\n-            .map(RateLimiterEventDTO::createRateLimiterEventDTO).toJavaList());\n+            .map(RateLimiterEventDTO::createRateLimiterEventDTO)\n+            .collect(Collectors.toList()));\n     }\n \n     @ReadOperation\n     public RateLimiterEventsEndpointResponse getEventsFilteredByRateLimiterName(\n         @Selector String name) {\n-        return new RateLimiterEventsEndpointResponse(getRateLimiterEvents(name)\n-            .map(RateLimiterEventDTO::createRateLimiterEventDTO).toJavaList());\n+        return new RateLimiterEventsEndpointResponse(getRateLimiterEvents(name).stream()\n+            .map(RateLimiterEventDTO::createRateLimiterEventDTO).collect(Collectors.toList()));", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzQ2OQ==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r484533469", "bodyText": "Maybe we could keep removed tests and, add Vavr as test-only dependency and use VavrDecorators as a glue?\nWe use Vavr eg. Try class a lot in tests...", "author": "hexmind", "createdAt": "2020-09-07T17:45:55Z", "path": "resilience4j-vavr/src/main/java/io/github/resilience4j/decorators/VavrDecorators.java", "diffHunk": "@@ -0,0 +1,215 @@\n+/*\n+ *\n+ *  Copyright 2020: KrnSaurabh\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *         http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ *\n+ */\n+package io.github.resilience4j.decorators;\n+\n+import io.github.resilience4j.bulkhead.Bulkhead;\n+import io.github.resilience4j.bulkhead.VavrBulkhead;\n+import io.github.resilience4j.cache.Cache;\n+import io.github.resilience4j.cache.VavrCache;\n+import io.github.resilience4j.circuitbreaker.CircuitBreaker;\n+import io.github.resilience4j.circuitbreaker.VavrCircuitBreaker;\n+import io.github.resilience4j.core.CheckFunctionUtils;\n+import io.github.resilience4j.ratelimiter.RateLimiter;\n+import io.github.resilience4j.ratelimiter.VavrRateLimiter;\n+import io.github.resilience4j.retry.Retry;\n+import io.github.resilience4j.retry.VavrRetry;\n+import io.vavr.CheckedFunction0;\n+import io.vavr.CheckedFunction1;\n+import io.vavr.CheckedFunction2;\n+import io.vavr.CheckedRunnable;\n+\n+import java.util.List;\n+import java.util.function.Function;\n+import java.util.function.Predicate;\n+\n+public interface VavrDecorators {", "originalCommit": "99a41d1f1552de28830277d6c65f2bfff38a4422", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ1MjAyOA==", "url": "https://github.com/resilience4j/resilience4j/pull/1156#discussion_r485452028", "bodyText": "I have added resilience4j-vavr module as test dependency wherever needed. Here since we moved vavr related decorators in resilience4j-vavr, I thought its better to move related tests along for the ease of visibility.", "author": "KrnSaurabh", "createdAt": "2020-09-09T08:58:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMzQ2OQ=="}], "type": "inlineReview"}, {"oid": "af171659bf52029f26a14e9d52559b92c298d3bf", "url": "https://github.com/resilience4j/resilience4j/commit/af171659bf52029f26a14e9d52559b92c298d3bf", "message": "Added getBufferedEventsStream method and addresses few review comments", "committedDate": "2020-09-09T08:29:15Z", "type": "commit"}, {"oid": "bf68f5101142f37f1aae9e4fb4197fd9e9b1c436", "url": "https://github.com/resilience4j/resilience4j/commit/bf68f5101142f37f1aae9e4fb4197fd9e9b1c436", "message": "Changed java.util.Set to List to replace vavr Seq", "committedDate": "2020-09-10T18:21:27Z", "type": "commit"}, {"oid": "1cdff0bd63820339b81830e2d4e712a810f8f110", "url": "https://github.com/resilience4j/resilience4j/commit/1cdff0bd63820339b81830e2d4e712a810f8f110", "message": "Replaced Collectors.toUnmodifiableList to Collectors.toList", "committedDate": "2020-09-15T12:10:51Z", "type": "commit"}]}