{"pr_number": 1871, "pr_title": "Enable health metrics by default", "pr_createdAt": "2020-09-15T21:34:07Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1871", "timeline": [{"oid": "8fa39885e48931f8cfcd8c2a04b889bb18c62f3e", "url": "https://github.com/DataDog/dd-trace-java/commit/8fa39885e48931f8cfcd8c2a04b889bb18c62f3e", "message": "change default in second place", "committedDate": "2020-09-23T16:35:10Z", "type": "forcePushed"}, {"oid": "ea9c5fb8256f8298b7b7c441a715e9898ce82101", "url": "https://github.com/DataDog/dd-trace-java/commit/ea9c5fb8256f8298b7b7c441a715e9898ce82101", "message": "Enable health metrics by default", "committedDate": "2020-10-15T17:39:48Z", "type": "commit"}, {"oid": "ea9c5fb8256f8298b7b7c441a715e9898ce82101", "url": "https://github.com/DataDog/dd-trace-java/commit/ea9c5fb8256f8298b7b7c441a715e9898ce82101", "message": "Enable health metrics by default", "committedDate": "2020-10-15T17:39:48Z", "type": "forcePushed"}, {"oid": "ea3c0884482239b0320cbfea71fd347f45f74747", "url": "https://github.com/DataDog/dd-trace-java/commit/ea3c0884482239b0320cbfea71fd347f45f74747", "message": "Test all combinations of profiling/healthmetrics/enabled", "committedDate": "2020-10-15T18:45:39Z", "type": "commit"}, {"oid": "e9e0fdacc29798bfdf92cdfc39a81995cf518911", "url": "https://github.com/DataDog/dd-trace-java/commit/e9e0fdacc29798bfdf92cdfc39a81995cf518911", "message": "ScopeEventTest leaks a system property change", "committedDate": "2020-10-15T19:58:28Z", "type": "commit"}, {"oid": "18fa623028f4f99c6e011d897c6f503cc299c950", "url": "https://github.com/DataDog/dd-trace-java/commit/18fa623028f4f99c6e011d897c6f503cc299c950", "message": "fix ScopeEventTest failure", "committedDate": "2020-10-15T20:19:42Z", "type": "commit"}, {"oid": "39cb0c78fd369078b63a26066f47435837a2a78a", "url": "https://github.com/DataDog/dd-trace-java/commit/39cb0c78fd369078b63a26066f47435837a2a78a", "message": "hack to get tests passing", "committedDate": "2020-10-15T21:06:31Z", "type": "commit"}, {"oid": "39cb0c78fd369078b63a26066f47435837a2a78a", "url": "https://github.com/DataDog/dd-trace-java/commit/39cb0c78fd369078b63a26066f47435837a2a78a", "message": "hack to get tests passing", "committedDate": "2020-10-15T21:06:31Z", "type": "forcePushed"}, {"oid": "1c77b5602167d516f86c6f000a701e333f8a324f", "url": "https://github.com/DataDog/dd-trace-java/commit/1c77b5602167d516f86c6f000a701e333f8a324f", "message": "Fix assumptions", "committedDate": "2020-10-16T15:44:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzc3OTM0Ng==", "url": "https://github.com/DataDog/dd-trace-java/pull/1871#discussion_r507779346", "bodyText": "perhaps this should clear the property instead of setting to true?", "author": "tylerbenson", "createdAt": "2020-10-19T14:09:08Z", "path": "dd-trace-core/src/test/groovy/datadog/trace/core/CoreTracerTest.groovy", "diffHunk": "@@ -43,36 +43,37 @@ class CoreTracerTest extends DDSpecification {\n \n   def \"verify defaults on tracer\"() {\n     when:\n-    def tracer = CoreTracer.builder().build()\n+    // FIXME this line should be unnecessary but a system property is leaking from somewhere\n+    // Remove when config overrides is fixed\n+    System.setProperty(PREFIX + HEALTH_METRICS_ENABLED, \"true\")", "originalCommit": "1c77b5602167d516f86c6f000a701e333f8a324f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}