{"pr_number": 1558, "pr_title": "Don't fetch merge commit if not in pull request", "pr_createdAt": "2020-06-08T16:04:34Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1558", "timeline": [{"oid": "239686568be5b61a2bf29019777b229a379bdfe0", "url": "https://github.com/DataDog/dd-trace-java/commit/239686568be5b61a2bf29019777b229a379bdfe0", "message": "Don't fetch merge commit on master", "committedDate": "2020-06-08T15:58:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjkwMTUwNQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1558#discussion_r436901505", "bodyText": "If this is documented in github somewhere, could you include a reference to it?", "author": "tylerbenson", "createdAt": "2020-06-08T18:15:42Z", "path": ".circleci/config.yml", "diffHunk": "@@ -22,9 +22,12 @@ commands:\n           command: |\n             CIRCLE_PR_NUMBER=\"${CIRCLE_PR_NUMBER:-${CIRCLE_PULL_REQUEST##*/}}\"\n \n-            FETCH_REFS=\"${FETCH_REFS} +refs/pull/${CIRCLE_PR_NUMBER}/merge:pr/${CIRCLE_PR_NUMBER}/merge\"\n-            git fetch -u origin ${FETCH_REFS}\n-            git checkout \"pr/${CIRCLE_PR_NUMBER}/merge\"\n+            if [[ -n \"${CIRCLE_PR_NUMBER}\" ]]\n+            then\n+              FETCH_REFS=\"${FETCH_REFS} +refs/pull/${CIRCLE_PR_NUMBER}/merge:pr/${CIRCLE_PR_NUMBER}/merge\"\n+              git fetch -u origin ${FETCH_REFS}\n+              git checkout \"pr/${CIRCLE_PR_NUMBER}/merge\"", "originalCommit": "239686568be5b61a2bf29019777b229a379bdfe0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}