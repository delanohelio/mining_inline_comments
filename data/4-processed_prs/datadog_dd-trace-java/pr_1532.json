{"pr_number": 1532, "pr_title": "move Profiler API init", "pr_createdAt": "2020-06-04T09:01:13Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1532", "timeline": [{"oid": "c7f387faf3dafc9589a5ef39f1c7772ddd569209", "url": "https://github.com/DataDog/dd-trace-java/commit/c7f387faf3dafc9589a5ef39f1c7772ddd569209", "message": "move Profiler API init\n\nProfiler API initialization before checking Profiler is enabled or\napi key.", "committedDate": "2020-06-04T08:49:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEwNDI2OQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1532#discussion_r435104269", "bodyText": "Just a nit - we should perhaps rename Profiler to something else. It is rather confusing now - initializing Profiler even if profiler is not enabled :)\nMethodLeverTracer for the lack of more witty names?", "author": "jbachorik", "createdAt": "2020-06-04T09:06:13Z", "path": "dd-java-agent/agent-profiling/src/main/java/com/datadog/profiling/agent/ProfilingAgent.java", "diffHunk": "@@ -30,6 +30,8 @@\n    */\n   public static synchronized void run(final boolean isStartingFirst)\n       throws IllegalArgumentException {\n+    // init the Profiler API for the Tracer, no need to have the profiler enabled for that\n+    Profiler.initialize(new JMXSessionFactory());", "originalCommit": "c7f387faf3dafc9589a5ef39f1c7772ddd569209", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEwNTI4Nw==", "url": "https://github.com/DataDog/dd-trace-java/pull/1532#discussion_r435105287", "bodyText": "I am on!", "author": "jpbempel", "createdAt": "2020-06-04T09:07:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEwNDI2OQ=="}], "type": "inlineReview"}, {"oid": "6ae70329ebefbe23f11ea80dc8419d2cfa765a4e", "url": "https://github.com/DataDog/dd-trace-java/commit/6ae70329ebefbe23f11ea80dc8419d2cfa765a4e", "message": "Fix provider access before each sample", "committedDate": "2020-06-04T11:39:55Z", "type": "commit"}]}