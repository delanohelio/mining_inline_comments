{"pr_number": 2030, "pr_title": "Update CircleCI caching", "pr_createdAt": "2020-10-26T08:32:24Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/2030", "timeline": [{"oid": "398b91e1a08b0387fdd429844bda38d4285a5f74", "url": "https://github.com/DataDog/dd-trace-java/commit/398b91e1a08b0387fdd429844bda38d4285a5f74", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T10:33:12Z", "type": "forcePushed"}, {"oid": "5baafe1ca1985a61a7b529af6ac68dd999b8aeaa", "url": "https://github.com/DataDog/dd-trace-java/commit/5baafe1ca1985a61a7b529af6ac68dd999b8aeaa", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T10:55:36Z", "type": "forcePushed"}, {"oid": "50b9e192901c4ade591dd0d877b23c141ed6bba7", "url": "https://github.com/DataDog/dd-trace-java/commit/50b9e192901c4ade591dd0d877b23c141ed6bba7", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T11:16:24Z", "type": "forcePushed"}, {"oid": "664f152f074f0a0959a40c623fa86275bd02fd50", "url": "https://github.com/DataDog/dd-trace-java/commit/664f152f074f0a0959a40c623fa86275bd02fd50", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T11:21:27Z", "type": "forcePushed"}, {"oid": "44647f91941236f61663908027c4f299161b3fd4", "url": "https://github.com/DataDog/dd-trace-java/commit/44647f91941236f61663908027c4f299161b3fd4", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T11:42:28Z", "type": "forcePushed"}, {"oid": "58a9c6f01b964e53e067aa8035375fbe3a16c55f", "url": "https://github.com/DataDog/dd-trace-java/commit/58a9c6f01b964e53e067aa8035375fbe3a16c55f", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T14:03:10Z", "type": "forcePushed"}, {"oid": "9658f57c499dc8ffc2547801f435968c879df283", "url": "https://github.com/DataDog/dd-trace-java/commit/9658f57c499dc8ffc2547801f435968c879df283", "message": "Test CircleCI Caching", "committedDate": "2020-10-26T14:14:56Z", "type": "forcePushed"}, {"oid": "268ea3061b8c7f43f09530eff995bbe7f0f605de", "url": "https://github.com/DataDog/dd-trace-java/commit/268ea3061b8c7f43f09530eff995bbe7f0f605de", "message": "Have PRs start from a cache from the main branch", "committedDate": "2020-10-26T14:52:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA3OTAyMg==", "url": "https://github.com/DataDog/dd-trace-java/pull/2030#discussion_r512079022", "bodyText": "Can this have a comment for folks like me that are not familiar with cron syntax?", "author": "tylerbenson", "createdAt": "2020-10-26T16:04:45Z", "path": ".circleci/config.yml", "diffHunk": "@@ -257,3 +277,14 @@ workflows:\n           filters:\n             branches:\n               ignore: master\n+\n+  daily:\n+    triggers:\n+      - schedule:\n+          cron: \"0 5 * * *\"", "originalCommit": "268ea3061b8c7f43f09530eff995bbe7f0f605de", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA3OTUzOQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/2030#discussion_r512079539", "bodyText": "Good point.", "author": "bantonsson", "createdAt": "2020-10-26T16:05:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA3OTAyMg=="}], "type": "inlineReview"}, {"oid": "957181083e4aec669693deb183c20345808da6d4", "url": "https://github.com/DataDog/dd-trace-java/commit/957181083e4aec669693deb183c20345808da6d4", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-26T16:24:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjExOTQzNg==", "url": "https://github.com/DataDog/dd-trace-java/pull/2030#discussion_r512119436", "bodyText": "What is this one?", "author": "tylerbenson", "createdAt": "2020-10-26T16:56:07Z", "path": ".circleci/config.yml", "diffHunk": "@@ -8,12 +8,23 @@ defaults: &defaults\n \n cache_keys: &cache_keys\n   keys:\n-    # Rev the version when the cache gets too big\n+    # Rev the version when the cache gets too big, and don't forget to change the save_cache steps\n+    # Dependent steps will find this cache\n     - dd-trace-java-v1-{{ .Branch }}-{{ .Revision }}\n-    - dd-trace-java-v1-{{ .Branch }}\n+    # New branch commits will find this cache\n+    - dd-trace-java-v1-{{ .Branch }}-{{ checksum \"_circle_ci_cache_id\" }}\n+    # New branches fall back on main build caches\n+    - dd-trace-java-v1-master-{{ checksum \"_circle_ci_cache_base_id\" }}\n+\n+save_cache_paths: &save_cache_paths\n+  paths:\n+    - ~/.gradle\n+    - ~/.sbt\n+    - ~/.cache/coursier", "originalCommit": "957181083e4aec669693deb183c20345808da6d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjQ1OTI0NQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/2030#discussion_r512459245", "bodyText": "As of sbt  1.4, coursier is the default dependency management tool, formerly ivy. I'll add a comment for each of the directories.", "author": "bantonsson", "createdAt": "2020-10-27T07:14:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjExOTQzNg=="}], "type": "inlineReview"}, {"oid": "66256d64166d7dd99ad119106568c89441f9aa58", "url": "https://github.com/DataDog/dd-trace-java/commit/66256d64166d7dd99ad119106568c89441f9aa58", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-27T09:23:41Z", "type": "forcePushed"}, {"oid": "c2b1c32c4d6ade867acbe8bb8722f2448225b286", "url": "https://github.com/DataDog/dd-trace-java/commit/c2b1c32c4d6ade867acbe8bb8722f2448225b286", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-27T09:27:40Z", "type": "forcePushed"}, {"oid": "ca7aa1165295d97fcb654095f6f237107a4dd311", "url": "https://github.com/DataDog/dd-trace-java/commit/ca7aa1165295d97fcb654095f6f237107a4dd311", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-27T09:35:31Z", "type": "forcePushed"}, {"oid": "74957d2b86baaf7cc1e69dfe26d8b48b9f004a10", "url": "https://github.com/DataDog/dd-trace-java/commit/74957d2b86baaf7cc1e69dfe26d8b48b9f004a10", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-27T09:39:51Z", "type": "forcePushed"}, {"oid": "06397e0c2b186c9f43ea0afcc32965a2ff27b2d7", "url": "https://github.com/DataDog/dd-trace-java/commit/06397e0c2b186c9f43ea0afcc32965a2ff27b2d7", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-27T09:48:31Z", "type": "forcePushed"}, {"oid": "c42dd8068cce4a6165f1253d3a2751b614dcba24", "url": "https://github.com/DataDog/dd-trace-java/commit/c42dd8068cce4a6165f1253d3a2751b614dcba24", "message": "Make sbt based Play tests use Ivy over Coursier", "committedDate": "2020-10-27T11:01:40Z", "type": "forcePushed"}, {"oid": "aec5bc1eed413fc28cc5fd660e40932ca5bfe3dd", "url": "https://github.com/DataDog/dd-trace-java/commit/aec5bc1eed413fc28cc5fd660e40932ca5bfe3dd", "message": "Have PR builds start from a cache from the main branch", "committedDate": "2020-10-27T11:14:36Z", "type": "commit"}, {"oid": "f072c259d1819e16b61a2992e98e2d4b1dbab428", "url": "https://github.com/DataDog/dd-trace-java/commit/f072c259d1819e16b61a2992e98e2d4b1dbab428", "message": "Make sbt based Play tests use Ivy over Coursier", "committedDate": "2020-10-27T11:14:47Z", "type": "commit"}, {"oid": "f072c259d1819e16b61a2992e98e2d4b1dbab428", "url": "https://github.com/DataDog/dd-trace-java/commit/f072c259d1819e16b61a2992e98e2d4b1dbab428", "message": "Make sbt based Play tests use Ivy over Coursier", "committedDate": "2020-10-27T11:14:47Z", "type": "forcePushed"}]}