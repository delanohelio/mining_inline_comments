{"pr_number": 1293, "pr_title": "Scale back ignores", "pr_createdAt": "2020-03-05T12:15:56Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1293", "timeline": [{"oid": "39bd80d6afbe349f96fae1f95fbd38c644aa5908", "url": "https://github.com/DataDog/dd-trace-java/commit/39bd80d6afbe349f96fae1f95fbd38c644aa5908", "message": "Include classloading instrumentation into all tests\n\nClassloading instrument core JDK classes so we should make sure this\ndoesn't have bad effects on other instrumentations.", "committedDate": "2020-03-06T15:56:55Z", "type": "forcePushed"}, {"oid": "839deb779d6f1d659a505432a816cc6ce534ca25", "url": "https://github.com/DataDog/dd-trace-java/commit/839deb779d6f1d659a505432a816cc6ce534ca25", "message": "Add java-concurrent as a dependency to all instrumentations", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "c1c9ffa571ca82c8fc2ac52d2f23583b3809a4e1", "url": "https://github.com/DataDog/dd-trace-java/commit/c1c9ffa571ca82c8fc2ac52d2f23583b3809a4e1", "message": "Fix couchbase ignores", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "0d34aa2e9667397436e6322d632a7bb5dd123af1", "url": "https://github.com/DataDog/dd-trace-java/commit/0d34aa2e9667397436e6322d632a7bb5dd123af1", "message": "Stop skipping cassandra core instrumentation\n\nLooks like it has lots of runnables sprinkled all over the place", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "e301761dc23d55129aa13a7e83cd6e4dc4326e17", "url": "https://github.com/DataDog/dd-trace-java/commit/e301761dc23d55129aa13a7e83cd6e4dc4326e17", "message": "Stop ignoring org.springframework.scheduling.annotation\n\nIt has some runnables and it is not very big", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "a8c625b8f0d607c74bc5923d5753d133dd9c98a7", "url": "https://github.com/DataDog/dd-trace-java/commit/a8c625b8f0d607c74bc5923d5753d133dd9c98a7", "message": "Fix google http client ignore matchers", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "ab8b24655397e0225ccb67e94f3fe2c9f53b8722", "url": "https://github.com/DataDog/dd-trace-java/commit/ab8b24655397e0225ccb67e94f3fe2c9f53b8722", "message": "Remove asm matchers - asm is already matched elsewhere", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "74161a5872303eae83f4b46a5cc39ff05658a8b4", "url": "https://github.com/DataDog/dd-trace-java/commit/74161a5872303eae83f4b46a5cc39ff05658a8b4", "message": "Add missng dots", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "fd4257627dabc3a0f9ca30d00dc8231499fd5764", "url": "https://github.com/DataDog/dd-trace-java/commit/fd4257627dabc3a0f9ca30d00dc8231499fd5764", "message": "Do not ignore org.springframework.util.concurrent.", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "930c1fb4e96c88ca5d1e7eacd69f7bb2275705ac", "url": "https://github.com/DataDog/dd-trace-java/commit/930c1fb4e96c88ca5d1e7eacd69f7bb2275705ac", "message": "One more exception for h2", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "a261fb476074c3d06c40cf7b5f1f1021b8473d38", "url": "https://github.com/DataDog/dd-trace-java/commit/a261fb476074c3d06c40cf7b5f1f1021b8473d38", "message": "More spring exceptions", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "18f9c653b9ae02eb4f516f34b6704b7b9ace4678", "url": "https://github.com/DataDog/dd-trace-java/commit/18f9c653b9ae02eb4f516f34b6704b7b9ace4678", "message": "Exceptions for hppc", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "4aac30826d05ec86432b16a2518f09199f7a38ff", "url": "https://github.com/DataDog/dd-trace-java/commit/4aac30826d05ec86432b16a2518f09199f7a38ff", "message": "Split Runnable and Callable instrumentations\n\nOtherwise `Runnable` may define `call` method leading to\ninstrumentation exception.\nSee `org.h2.util.Task` as an example.", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "51630ada628799d21876ffb87b84a72a70e92a7c", "url": "https://github.com/DataDog/dd-trace-java/commit/51630ada628799d21876ffb87b84a72a70e92a7c", "message": "Unignore `org.h2.util.Task`", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "2917034d2979e9fd7465147a3bd8cd15a98c9d15", "url": "https://github.com/DataDog/dd-trace-java/commit/2917034d2979e9fd7465147a3bd8cd15a98c9d15", "message": "Increase hystrix test timeout", "committedDate": "2020-03-06T18:49:55Z", "type": "commit"}, {"oid": "517ecca4c1a919002da5ffc6cc09863d309babd1", "url": "https://github.com/DataDog/dd-trace-java/commit/517ecca4c1a919002da5ffc6cc09863d309babd1", "message": "Remove explicit concurrent instrumentation dependencies\n\nSince we include concurrent instrumentation for all instrumentatin\nprojects now there is no point in including it in every instrumentation.", "committedDate": "2020-03-06T18:50:51Z", "type": "commit"}, {"oid": "46b776f76af51f57a361161cc0a70db7e1966144", "url": "https://github.com/DataDog/dd-trace-java/commit/46b776f76af51f57a361161cc0a70db7e1966144", "message": "Include classloading instrumentation into all tests\n\nClassloading instrument core JDK classes so we should make sure this\ndoesn't have bad effects on other instrumentations.", "committedDate": "2020-03-06T18:50:56Z", "type": "commit"}, {"oid": "46b776f76af51f57a361161cc0a70db7e1966144", "url": "https://github.com/DataDog/dd-trace-java/commit/46b776f76af51f57a361161cc0a70db7e1966144", "message": "Include classloading instrumentation into all tests\n\nClassloading instrument core JDK classes so we should make sure this\ndoesn't have bad effects on other instrumentations.", "committedDate": "2020-03-06T18:50:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA5NDk1Mg==", "url": "https://github.com/DataDog/dd-trace-java/pull/1293#discussion_r389094952", "bodyText": "nice call adding this too.", "author": "tylerbenson", "createdAt": "2020-03-06T19:22:37Z", "path": "dd-java-agent/instrumentation/instrumentation.gradle", "diffHunk": "@@ -56,6 +56,12 @@ subprojects { Project subProj ->\n       annotationProcessor deps.autoservice\n       implementation deps.autoservice\n \n+      // Include instrumentations instrumenting core JDK classes tp ensure interoperability with other instrumentation\n+      testCompile project(':dd-java-agent:instrumentation:java-concurrent')\n+      // FIXME: we should enable this, but currently this fails tests for google http client\n+      //testCompile project(':dd-java-agent:instrumentation:http-url-connection')\n+      testCompile project(':dd-java-agent:instrumentation:classloading')", "originalCommit": "46b776f76af51f57a361161cc0a70db7e1966144", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}