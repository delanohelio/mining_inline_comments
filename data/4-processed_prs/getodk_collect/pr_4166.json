{"pr_number": 4166, "pr_title": "Define new style for Image Button in Magenta Theme", "pr_createdAt": "2020-10-09T11:34:44Z", "pr_url": "https://github.com/getodk/collect/pull/4166", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc2Mzk0MA==", "url": "https://github.com/getodk/collect/pull/4166#discussion_r503763940", "bodyText": "I'd like to get away from having to use a base theme and a theme. Do we really need to have all image buttons and buttons take on custom styles? I'd rather just have the buttons in the map view explicitly add this style.\nIt might seem nice to have things like this happen automatically but the trade-off is that it can be hard to work out why a view looks a certain way if you don't know a global customization is in place. Especially in a code base of this size!", "author": "seadowg", "createdAt": "2020-10-13T08:28:53Z", "path": "collect_app/src/main/res/values/themes.xml", "diffHunk": "@@ -11,4 +11,10 @@\n         <item name=\"android:buttonStyle\">@style/Widget.Collect.Button.Custom</item>\n         <item name=\"imageButtonStyle\">@style/Widget.Collect.ImageButton.Custom.Light</item>\n     </style>\n+\n+    <style name=\"Theme.Collect.Magenta\" parent=\"Theme.Collect.BaseMagenta\">", "originalCommit": "85090cc3e6cd8977661a802ffbe8a5db930995f4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQxMTM2Nw==", "url": "https://github.com/getodk/collect/pull/4166#discussion_r504411367", "bodyText": "Do you mean for all the other themes, light, dark, and magenta, color for enabled buttons should be defined as a separate value in the theme.xml file, and then I can move away from Theme.Collect.BaseLight and Theme.Collect.BaseDark and have all the image buttons in map view use a style that defines custom colors for the enabled and disabled state like @color/state_enabled and like @color/state_disabled?\nThis would define the style specifically for the image buttons in the map view. I am just skeptical about adding a new color resource in the themes file. Is this the best way to go about it?", "author": "SaumiaSinghal", "createdAt": "2020-10-14T05:33:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc2Mzk0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ3NjIzOQ==", "url": "https://github.com/getodk/collect/pull/4166#discussion_r505476239", "bodyText": "No I don't mean changing the light and dark theme setup. Magenta is an experiment to see how we can simplify theming and then we'll probably move to setting Dark/Light up in the same way after.\nThese buttons are a a bit of weird setup as they should really be Floating Action Buttons but I don't think we want to make that change now. For the moment I think we should give them a custom style (could be MapButton) and then define a tint list specific to that. We shouldn't need to use custom colors here either: I think we should follow what Material Components does for the FAB and use colorSecondary for enabled and colorOnSurface with a low alpha (so basically transparent) for disabled.", "author": "seadowg", "createdAt": "2020-10-15T11:46:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc2Mzk0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTUwNjcyOQ==", "url": "https://github.com/getodk/collect/pull/4166#discussion_r505506729", "bodyText": "Oh okay! That seems like a better solution. Thanks!", "author": "SaumiaSinghal", "createdAt": "2020-10-15T12:38:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc2Mzk0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc2NDI2MA==", "url": "https://github.com/getodk/collect/pull/4166#discussion_r503764260", "bodyText": "I think this should be more explicitly named so it's obvious it's for the image buttons.", "author": "seadowg", "createdAt": "2020-10-13T08:29:22Z", "path": "collect_app/src/main/res/color/magenta_theme_tint_list.xml", "diffHunk": "@@ -0,0 +1,5 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "originalCommit": "85090cc3e6cd8977661a802ffbe8a5db930995f4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "63abf41676a7bd1225acffad038250871c90edab", "url": "https://github.com/getodk/collect/commit/63abf41676a7bd1225acffad038250871c90edab", "message": "define style for magenta image button", "committedDate": "2020-10-19T13:11:42Z", "type": "commit"}, {"oid": "1418128236c3ba2659f18a733edaec528c662a50", "url": "https://github.com/getodk/collect/commit/1418128236c3ba2659f18a733edaec528c662a50", "message": "define a new style for MapButton", "committedDate": "2020-10-19T13:11:42Z", "type": "commit"}, {"oid": "1418128236c3ba2659f18a733edaec528c662a50", "url": "https://github.com/getodk/collect/commit/1418128236c3ba2659f18a733edaec528c662a50", "message": "define a new style for MapButton", "committedDate": "2020-10-19T13:11:42Z", "type": "forcePushed"}]}