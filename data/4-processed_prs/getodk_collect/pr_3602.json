{"pr_number": 3602, "pr_title": "Update repeat language", "pr_createdAt": "2020-01-21T12:39:12Z", "pr_url": "https://github.com/getodk/collect/pull/3602", "timeline": [{"oid": "3d604d6ade57098c10f38ff430eac8a673a6131e", "url": "https://github.com/getodk/collect/commit/3d604d6ade57098c10f38ff430eac8a673a6131e", "message": "Move repeat dialog to its own class", "committedDate": "2020-01-16T18:14:12Z", "type": "commit"}, {"oid": "3927460b30dd6c638708988f7fbe5333383eaad7", "url": "https://github.com/getodk/collect/commit/3927460b30dd6c638708988f7fbe5333383eaad7", "message": "Simplify language for repeat dialog", "committedDate": "2020-01-16T18:19:04Z", "type": "commit"}, {"oid": "194ab2c383e06e7189a49eb58f4de28a9210824c", "url": "https://github.com/getodk/collect/commit/194ab2c383e06e7189a49eb58f4de28a9210824c", "message": "Simplify language for repeat dialog", "committedDate": "2020-01-16T18:36:02Z", "type": "commit"}, {"oid": "09b5619c7075011648063b3b7a4f59b65c9b7f2b", "url": "https://github.com/getodk/collect/commit/09b5619c7075011648063b3b7a4f59b65c9b7f2b", "message": "Make sure tests use translated repeat language", "committedDate": "2020-01-20T17:38:25Z", "type": "commit"}, {"oid": "1e508c9b53d501b44b1b54819529b41ca571778b", "url": "https://github.com/getodk/collect/commit/1e508c9b53d501b44b1b54819529b41ca571778b", "message": "Stop changing add repeat language based on previous number", "committedDate": "2020-01-20T18:26:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk3NzUyOA==", "url": "https://github.com/getodk/collect/pull/3602#discussion_r368977528", "bodyText": "This is just using a very simple static feature flag. If we were looking at having tests for both behaviours I'd generally look at having a FeatureFlag object that could be passed to objects that need it.", "author": "seadowg", "createdAt": "2020-01-21T12:41:38Z", "path": "collect_app/src/main/java/org/odk/collect/android/application/FeatureFlags.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package org.odk.collect.android.application;\n+\n+public class FeatureFlags {\n+\n+    public static final boolean STATIC_ADD_REPEAT_LANGUAGE = true;", "originalCommit": "1e508c9b53d501b44b1b54819529b41ca571778b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5738b93b18ae060ab952573ac3406c9219e15469", "url": "https://github.com/getodk/collect/commit/5738b93b18ae060ab952573ac3406c9219e15469", "message": "Remove feature flag", "committedDate": "2020-01-23T16:55:58Z", "type": "commit"}, {"oid": "ab64d0bb5a072d157ab02b317df96581f6ce6d98", "url": "https://github.com/getodk/collect/commit/ab64d0bb5a072d157ab02b317df96581f6ce6d98", "message": "Make repeat dialog buttons clearer", "committedDate": "2020-01-23T17:23:17Z", "type": "commit"}, {"oid": "b1a25de691e6e41c102c07690af4b587abc1415f", "url": "https://github.com/getodk/collect/commit/b1a25de691e6e41c102c07690af4b587abc1415f", "message": "Add comment to explain repeat question to translaters", "committedDate": "2020-01-23T17:26:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1OTUxOA==", "url": "https://github.com/getodk/collect/pull/3602#discussion_r370259518", "bodyText": "clickOnAddRepeat or just clickOnAdd?", "author": "lognaturel", "createdAt": "2020-01-23T17:37:57Z", "path": "collect_app/src/androidTest/java/org/odk/collect/android/support/pages/AddNewRepeatDialog.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package org.odk.collect.android.support.pages;\n+\n+import androidx.test.rule.ActivityTestRule;\n+\n+import org.odk.collect.android.R;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+\n+public class AddNewRepeatDialog extends Page<AddNewRepeatDialog> {\n+\n+    private final String repeatName;\n+\n+    AddNewRepeatDialog(String repeatName, ActivityTestRule rule) {\n+        super(rule);\n+        this.repeatName = repeatName;\n+    }\n+\n+    @Override\n+    public AddNewRepeatDialog assertOnPage() {\n+        onView(withText(getTranslatedString(R.string.add_repeat_question, repeatName))).check(matches(isDisplayed()));\n+        return this;\n+    }\n+\n+    public FormEntryPage clickOnAddGroup(FormEntryPage destination) {", "originalCommit": "b1a25de691e6e41c102c07690af4b587abc1415f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI1OTY1MQ==", "url": "https://github.com/getodk/collect/pull/3602#discussion_r370259651", "bodyText": "Same as above.", "author": "lognaturel", "createdAt": "2020-01-23T17:38:14Z", "path": "collect_app/src/androidTest/java/org/odk/collect/android/support/pages/AddNewRepeatDialog.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package org.odk.collect.android.support.pages;\n+\n+import androidx.test.rule.ActivityTestRule;\n+\n+import org.odk.collect.android.R;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+\n+public class AddNewRepeatDialog extends Page<AddNewRepeatDialog> {\n+\n+    private final String repeatName;\n+\n+    AddNewRepeatDialog(String repeatName, ActivityTestRule rule) {\n+        super(rule);\n+        this.repeatName = repeatName;\n+    }\n+\n+    @Override\n+    public AddNewRepeatDialog assertOnPage() {\n+        onView(withText(getTranslatedString(R.string.add_repeat_question, repeatName))).check(matches(isDisplayed()));\n+        return this;\n+    }\n+\n+    public FormEntryPage clickOnAddGroup(FormEntryPage destination) {\n+        clickOnString(R.string.add_repeat);\n+        return destination;\n+    }\n+\n+    public FormEntryPage clickOnDoNotAddGroup(FormEntryPage destination) {", "originalCommit": "b1a25de691e6e41c102c07690af4b587abc1415f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6af74681703e8a83cb3cc43d362d28d1cc06ef31", "url": "https://github.com/getodk/collect/commit/6af74681703e8a83cb3cc43d362d28d1cc06ef31", "message": "Update page methods", "committedDate": "2020-01-24T11:53:31Z", "type": "commit"}]}