{"pr_number": 3593, "pr_title": "Changed User-Agent string", "pr_createdAt": "2020-01-15T17:27:32Z", "pr_url": "https://github.com/getodk/collect/pull/3593", "timeline": [{"oid": "5778421e0110257b284f61db11bd112e2bc0fed4", "url": "https://github.com/getodk/collect/commit/5778421e0110257b284f61db11bd112e2bc0fed4", "message": "changes User-Agent string", "committedDate": "2020-01-15T17:22:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzAzODA0NQ==", "url": "https://github.com/getodk/collect/pull/3593#discussion_r367038045", "bodyText": "I think it'd be really nice to pull this method into it's own helper/use case object (AndroidUserAgent for instance that implements a UserAgent interface). That would let us pass this object to where it's needed and easily fake/mock it in cases where we might not have all the static state set up (that might be the fix for the broken tests).\nI'd considered also having it be tested but I think the test and the code would end up basically being the same formatting code.", "author": "seadowg", "createdAt": "2020-01-15T18:32:04Z", "path": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java", "diffHunk": "@@ -213,10 +213,12 @@ public String getVersionedAppName() {\n      * This deviates from the recommended format as described in https://github.com/opendatakit/collect/issues/3253.\n      */\n     public String getUserAgentString() {", "originalCommit": "5778421e0110257b284f61db11bd112e2bc0fed4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzI4MDI3MQ==", "url": "https://github.com/getodk/collect/pull/3593#discussion_r367280271", "bodyText": "Hie @seadowg Thanks for the suggestion and sorry for late replying. I think the tests failed because I tried to split the host identifier. But yes we can have this method in a separate helper class AndroidUserAgent with a User Agent interface. Should I go about it?", "author": "SaumiaSinghal", "createdAt": "2020-01-16T08:14:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzAzODA0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3OTUzOQ==", "url": "https://github.com/getodk/collect/pull/3593#discussion_r367379539", "bodyText": "Yeah I think it's a nice bit of restructuring we can do as part of this work.", "author": "seadowg", "createdAt": "2020-01-16T11:59:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzAzODA0NQ=="}], "type": "inlineReview"}, {"oid": "edfb74059057a275f840993f102bda56c580289b", "url": "https://github.com/getodk/collect/commit/edfb74059057a275f840993f102bda56c580289b", "message": "fixed user agent string", "committedDate": "2020-01-16T07:44:27Z", "type": "commit"}, {"oid": "ecec2b60d16f863e4dfb863cdad94f56a35e2294", "url": "https://github.com/getodk/collect/commit/ecec2b60d16f863e4dfb863cdad94f56a35e2294", "message": "created separate utility class", "committedDate": "2020-01-17T10:44:08Z", "type": "commit"}]}