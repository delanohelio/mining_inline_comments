{"pr_number": 1844, "pr_title": "SOLR-14847: Create Solr Server TGZ", "pr_createdAt": "2020-09-08T19:54:39Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1844", "timeline": [{"oid": "a91fd02994e5039b53b8d8604965a05ea5d386f3", "url": "https://github.com/apache/lucene-solr/commit/a91fd02994e5039b53b8d8604965a05ea5d386f3", "message": "SOLR-14847 Create Solr Server TGZ", "committedDate": "2020-09-08T19:53:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE2MjUyMQ==", "url": "https://github.com/apache/lucene-solr/pull/1844#discussion_r485162521", "bodyText": "It is likely that this will require explicit file permissions to work properly on Windows machines. Don't know if tar task will accept a workaround like this one -\nhttps://github.com/carrot2/carrot2/blob/master/distribution/build.gradle#L94-L98", "author": "dweiss", "createdAt": "2020-09-08T19:57:52Z", "path": "solr/packaging/build.gradle", "diffHunk": "@@ -109,6 +109,21 @@ task toDir(type: Sync) {\n   }\n }\n \n+task toTgz(type: Tar) {", "originalCommit": "a91fd02994e5039b53b8d8604965a05ea5d386f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY4MzIzMA==", "url": "https://github.com/apache/lucene-solr/pull/1844#discussion_r485683230", "bodyText": "I just ran this in powershell on a fresh install of Solr. It worked fine for me. Is there some other way I should test it on windows to see the file permission issue?", "author": "HoustonPutman", "createdAt": "2020-09-09T15:01:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE2MjUyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcwODgxMw==", "url": "https://github.com/apache/lucene-solr/pull/1844#discussion_r485708813", "bodyText": "To be clear, I tested creating the tgz, not using it. I can try that out in a bit and see if the issues arise.", "author": "HoustonPutman", "createdAt": "2020-09-09T15:36:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE2MjUyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcyNjIzNg==", "url": "https://github.com/apache/lucene-solr/pull/1844#discussion_r485726236", "bodyText": "Create a tgz in Windows and unpack it on Linux. Shell scripts should have the executable bit set.\nThis can be verified programmatically too, although the above is the ultimate check. :)", "author": "dweiss", "createdAt": "2020-09-09T16:01:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE2MjUyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg0ODM3MA==", "url": "https://github.com/apache/lucene-solr/pull/1844#discussion_r485848370", "bodyText": "Covered the scripts in /bin, the prometheus exporter and server/scripts/cloud-scripts. Not sure all of the locations I should check for.", "author": "HoustonPutman", "createdAt": "2020-09-09T19:07:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTE2MjUyMQ=="}], "type": "inlineReview"}, {"oid": "441738453413021d027eb33a8eb6608e1cf2954f", "url": "https://github.com/apache/lucene-solr/commit/441738453413021d027eb33a8eb6608e1cf2954f", "message": "Fixing archive name and internal directory.", "committedDate": "2020-09-09T18:05:55Z", "type": "commit"}, {"oid": "f7472db23ab53bebb567c251ff776d9bfdbe0cba", "url": "https://github.com/apache/lucene-solr/commit/f7472db23ab53bebb567c251ff776d9bfdbe0cba", "message": "Adding executable bit for scripts", "committedDate": "2020-09-09T19:06:19Z", "type": "commit"}, {"oid": "535947de3aee4e7a4cbcb9bfc5ed7928b2f8c3c5", "url": "https://github.com/apache/lucene-solr/commit/535947de3aee4e7a4cbcb9bfc5ed7928b2f8c3c5", "message": "Making use of filesMatching for executables", "committedDate": "2020-09-09T22:20:23Z", "type": "commit"}, {"oid": "a6e67f9b6a76f37165522c04e21b6c07a82cedfc", "url": "https://github.com/apache/lucene-solr/commit/a6e67f9b6a76f37165522c04e21b6c07a82cedfc", "message": "Use gradle distribution plugin", "committedDate": "2020-09-10T01:50:47Z", "type": "commit"}, {"oid": "e0f34e3cf15a7ed7c5330b287ca757829033769c", "url": "https://github.com/apache/lucene-solr/commit/e0f34e3cf15a7ed7c5330b287ca757829033769c", "message": "Adding manual permission bits on assembly since it's a copyspec used by\nother distribution tasks.", "committedDate": "2020-09-10T07:10:40Z", "type": "commit"}, {"oid": "929a98d438d94ca7bbffc189c890b6c433b4e1d1", "url": "https://github.com/apache/lucene-solr/commit/929a98d438d94ca7bbffc189c890b6c433b4e1d1", "message": "Set permissions on prometheus-exporter", "committedDate": "2020-09-10T13:51:56Z", "type": "commit"}, {"oid": "ab41d8edaad23d5aa43f9ed1da733fd5bf3c3431", "url": "https://github.com/apache/lucene-solr/commit/ab41d8edaad23d5aa43f9ed1da733fd5bf3c3431", "message": "Add docs for archives", "committedDate": "2020-09-10T15:53:44Z", "type": "commit"}]}