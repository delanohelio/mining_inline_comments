{"pr_number": 1290, "pr_title": "LUCENE-9251: Filter equal edges with different value on isEdgeFromPolygon", "pr_createdAt": "2020-02-26T11:08:32Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1290", "timeline": [{"oid": "3cd0b381645526021a50c1b8a0ab5f9c21baed20", "url": "https://github.com/apache/lucene-solr/commit/3cd0b381645526021a50c1b8a0ab5f9c21baed20", "message": "Filter equal edges with different value on isEdgeFromPolygon", "committedDate": "2020-02-26T11:04:31Z", "type": "commit"}, {"oid": "68f71e9b575d53f6b7f68e084a18277a03396082", "url": "https://github.com/apache/lucene-solr/commit/68f71e9b575d53f6b7f68e084a18277a03396082", "message": "typo", "committedDate": "2020-02-26T11:06:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkwMjQ0MQ==", "url": "https://github.com/apache/lucene-solr/pull/1290#discussion_r385902441", "bodyText": "nit: remove comment", "author": "nknize", "createdAt": "2020-02-28T20:15:50Z", "path": "lucene/core/src/java/org/apache/lucene/geo/Tessellator.java", "diffHunk": "@@ -915,13 +914,14 @@ private static final Node filterPoints(final Node start, Node end) {\n       continueIteration = false;\n       nextNode = node.next;\n       prevNode = node.previous;\n-      //We can filter points when they are the same, if not and they are co-linear we can only\n-      //remove it if both edges have the same value in .isNextEdgeFromPolygon\n-      if (isVertexEquals(node, nextNode)  ||\n-          (prevNode.isNextEdgeFromPolygon == node.isNextEdgeFromPolygon &&\n+      // we can filter points when:\n+      if (isVertexEquals(node, nextNode)  ||   // 1. they are the same,\n+         // isVertexEquals(prevNode, nextNode) || // 2.- each one starts and ends in each other", "originalCommit": "68f71e9b575d53f6b7f68e084a18277a03396082", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA0OTY3Mg==", "url": "https://github.com/apache/lucene-solr/pull/1290#discussion_r386049672", "bodyText": "ups... that was a left over while testing", "author": "iverase", "createdAt": "2020-02-29T19:23:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTkwMjQ0MQ=="}], "type": "inlineReview"}, {"oid": "0ca800b60b5cc457e7bb17fa399f92e5b2c54463", "url": "https://github.com/apache/lucene-solr/commit/0ca800b60b5cc457e7bb17fa399f92e5b2c54463", "message": "remove comment", "committedDate": "2020-02-29T08:32:36Z", "type": "commit"}, {"oid": "e72fc24659f405e43cf385ea1660b10011047bb8", "url": "https://github.com/apache/lucene-solr/commit/e72fc24659f405e43cf385ea1660b10011047bb8", "message": "Add test", "committedDate": "2020-03-02T15:48:18Z", "type": "commit"}, {"oid": "07c6dcff92b0794320daf9543ce1324eb1a76a2a", "url": "https://github.com/apache/lucene-solr/commit/07c6dcff92b0794320daf9543ce1324eb1a76a2a", "message": "set nightly", "committedDate": "2020-03-02T15:50:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY3NDY2MQ==", "url": "https://github.com/apache/lucene-solr/pull/1290#discussion_r386674661", "bodyText": "nice!", "author": "nknize", "createdAt": "2020-03-02T21:56:04Z", "path": "lucene/core/src/test/org/apache/lucene/geo/TestTessellator.java", "diffHunk": "@@ -561,6 +561,18 @@ public void testComplexPolygon39() throws Exception {\n     checkPolygon(wkt);\n   }\n \n+  @Nightly\n+  public void testComplexPolygon40() throws Exception {\n+    String wkt = GeoTestUtil.readShape(\"lucene-9251.wkt.gz\");", "originalCommit": "07c6dcff92b0794320daf9543ce1324eb1a76a2a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "148df5d3fbcbea9d4df5be72e2fc46fb91d4bb4d", "url": "https://github.com/apache/lucene-solr/commit/148df5d3fbcbea9d4df5be72e2fc46fb91d4bb4d", "message": "Merge branch 'master' into tessellatorError", "committedDate": "2020-03-03T05:47:16Z", "type": "commit"}, {"oid": "74c5aa512ad4c97206fb8fc51d76ca12f41e62cd", "url": "https://github.com/apache/lucene-solr/commit/74c5aa512ad4c97206fb8fc51d76ca12f41e62cd", "message": "Add entry in CHANGES.txt", "committedDate": "2020-03-03T05:50:05Z", "type": "commit"}]}