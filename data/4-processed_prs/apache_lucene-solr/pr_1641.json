{"pr_number": 1641, "pr_title": "SOLR-14561: Adding upgrade notes for allowPaths", "pr_createdAt": "2020-07-02T12:00:39Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1641", "timeline": [{"oid": "78f4d56a9b4209bfb5d99bda0eb356b532a41587", "url": "https://github.com/apache/lucene-solr/commit/78f4d56a9b4209bfb5d99bda0eb356b532a41587", "message": "SOLR-14561: Adding upgrade notes for allowPaths", "committedDate": "2020-07-02T11:59:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk4MjEzNQ==", "url": "https://github.com/apache/lucene-solr/pull/1641#discussion_r448982135", "bodyText": "@chatman You had two Deprecations headlines in your upgrade note, and I remove the extra one in this commit", "author": "janhoy", "createdAt": "2020-07-02T12:58:27Z", "path": "solr/solr-ref-guide/src/solr-upgrade-notes.adoc", "diffHunk": "@@ -85,11 +85,18 @@ For more information about how to use this, see the section <<exporting-result-s\n \n * The `stats`, `facet`, and `timeseries` expressions now support percentiles and standard deviation aggregations.\n \n-*Deprecations* \n+*Restricting file paths*\n+\n+Several Solr APIs allow specifying a file system location. This includes core creation, backup, restore and others. Prior to Solr 8.6 these parameters were not validated, and Solr would allow any absolute or relative path. From 8.6 we by default allow only paths that are relative to `SOLR_HOME`, `SOLR_DATA_HOME` and `coreRootDir`. If you need to create a core or store a backup outside these pre-allowed paths, you now need to tell Solr about what paths to allow.\n+\n+Solr can be configured with a comma separated list of paths to allow in `solr.xml` using the new `allowPaths` element, see <<format-of-solr-xml.html#the-solr-element,Solr.xml Parameters>>. When using the `solr.xml` file shipping with 8.6, you can configure the list of paths to allow through the system property `solr.allowPaths`. Please see `bin/solr.in.sh` or `bin\\solr.in.cmd` for example usage. Using the value `*` will allow any path as in erlier versions.\n+\n+Windows SMB shares on the UNC format, such as `\\\\myhost\\myshare\\mypath` are now always disallowed. Please use drive letter mounts instead, i.e. `S:\\mypath`.\n \n-* Cross Data Center Replication (CDCR), in its current form, is deprecated and is scheduled to be removed in 9.0. Please refer to SOLR-14022.", "originalCommit": "78f4d56a9b4209bfb5d99bda0eb356b532a41587", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk4NDI4Mg==", "url": "https://github.com/apache/lucene-solr/pull/1641#discussion_r448984282", "bodyText": "See https://github.com/apache/lucene-solr/blob/master/solr/solr-ref-guide/src/solr-upgrade-notes.adoc and you'll understand (I'm removing the boldface Deprecations word from the end of the CDCR bullet", "author": "janhoy", "createdAt": "2020-07-02T13:01:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODk4MjEzNQ=="}], "type": "inlineReview"}]}