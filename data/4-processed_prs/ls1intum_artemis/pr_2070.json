{"pr_number": 2070, "pr_title": "Enhancement/integration tests/search for exercise", "pr_createdAt": "2020-08-28T13:55:24Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2070", "timeline": [{"oid": "15ae6827b6c85730357082ec34cfc4a6a477c786", "url": "https://github.com/ls1intum/Artemis/commit/15ae6827b6c85730357082ec34cfc4a6a477c786", "message": "implemented test case of methods getAllExercisesOnPage()\ntest cases\nfor Programming, Text and Modelling Exercise:\nexternal instructor get empty result back\nonly instructor in the group get result\n\nfor Programming exercise extra:\nsearch with proper search term return the right value", "committedDate": "2020-08-28T13:24:23Z", "type": "commit"}, {"oid": "dbeaec3cde79fc7f2ae286171de365d973b6cd51", "url": "https://github.com/ls1intum/Artemis/commit/dbeaec3cde79fc7f2ae286171de365d973b6cd51", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into 2060", "committedDate": "2020-08-28T13:24:35Z", "type": "commit"}, {"oid": "afdf08f1f4cbf7019c732a5d089618bf59b054ae", "url": "https://github.com/ls1intum/Artemis/commit/afdf08f1f4cbf7019c732a5d089618bf59b054ae", "message": "change methods name according to artemis bot", "committedDate": "2020-08-28T14:59:31Z", "type": "commit"}, {"oid": "013dbc8b418df72a9df8c6879ae0783ff513299a", "url": "https://github.com/ls1intum/Artemis/commit/013dbc8b418df72a9df8c6879ae0783ff513299a", "message": "change according to the artemis bot about naming convention", "committedDate": "2020-08-28T15:41:16Z", "type": "commit"}, {"oid": "f9654d22b9c83153d15af45b0f5c906e69b71387", "url": "https://github.com/ls1intum/Artemis/commit/f9654d22b9c83153d15af45b0f5c906e69b71387", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into enhancement/integration-tests/search-for-exercise", "committedDate": "2020-08-30T22:11:50Z", "type": "commit"}, {"oid": "502c75856a80ec3a2c5466d37dd65d91f9bbdcd2", "url": "https://github.com/ls1intum/Artemis/commit/502c75856a80ec3a2c5466d37dd65d91f9bbdcd2", "message": "change according to artemis bot, run gradle spotlessApply", "committedDate": "2020-08-30T22:15:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA2MDcyMg==", "url": "https://github.com/ls1intum/Artemis/pull/2070#discussion_r481060722", "bodyText": "This is a lot of duplicated code. Please create a helper method and avoid duplicated code!", "author": "krusche", "createdAt": "2020-09-01T11:14:54Z", "path": "src/test/java/de/tum/in/www1/artemis/ModelingExerciseIntegrationTest.java", "diffHunk": "@@ -383,4 +391,37 @@ public void createModelingExercise_setNeitherCourseAndExerciseGroup_badRequest()\n         ModelingExercise modelingExercise = ModelFactory.generateModelingExerciseForExam(DiagramType.ClassDiagram, null);\n         request.postWithResponseBody(\"/api/modeling-exercises/\", modelingExercise, ModelingExercise.class, HttpStatus.BAD_REQUEST);\n     }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor2\", roles = \"INSTRUCTOR\")\n+    public void searchModelingExercises_instructor_shouldOnlyGetResultsFromOwningCourses() throws Exception {\n+        final var result = configureSearchAndReturnResult(\"\");\n+        assertThat(result.getResultsOnPage()).isEmpty();\n+    }\n+\n+    @Test\n+    @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void searchModelingExercises_instructor_getResultsFromOwningCoursesNotEmpty() throws Exception {\n+        final var result = configureSearchAndReturnResult(\"ClassDiagram\");\n+        assertThat(result.getResultsOnPage().size()).isEqualTo(1);\n+    }\n+\n+    @SuppressWarnings(\"unchecked\")\n+    private SearchResultPageDTO<ModelingExercise> configureSearchAndReturnResult(String searchTerm) throws Exception {\n+        final var search = new PageableSearchDTO<String>();", "originalCommit": "502c75856a80ec3a2c5466d37dd65d91f9bbdcd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3a73503cfefb7c67fdc84badacad882a548920c6", "url": "https://github.com/ls1intum/Artemis/commit/3a73503cfefb7c67fdc84badacad882a548920c6", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into enhancement/integration-tests/search-for-exercise", "committedDate": "2020-09-01T12:08:19Z", "type": "commit"}, {"oid": "c65015d65a4d3d55eb377ef504e99e87eaeda7dd", "url": "https://github.com/ls1intum/Artemis/commit/c65015d65a4d3d55eb377ef504e99e87eaeda7dd", "message": "change according to reviewer Stephan: add detailed test for text and Modeling exercise\neliminate duplicate in code.", "committedDate": "2020-09-01T14:33:24Z", "type": "commit"}, {"oid": "9c6e57372ee1359fd489b9a566adf1de5eff69a9", "url": "https://github.com/ls1intum/Artemis/commit/9c6e57372ee1359fd489b9a566adf1de5eff69a9", "message": "run gradle spotlessApply manually", "committedDate": "2020-09-01T14:50:31Z", "type": "commit"}, {"oid": "067a62cd838a79f09de09c1b1e43ec8238c44dca", "url": "https://github.com/ls1intum/Artemis/commit/067a62cd838a79f09de09c1b1e43ec8238c44dca", "message": "change according to reviewer Andi,\nadd test coverage for Admin role to improve the test coverage.", "committedDate": "2020-09-01T16:21:46Z", "type": "commit"}, {"oid": "ae8e7ff43e59be5e4cb3d32ca3257fe34361f274", "url": "https://github.com/ls1intum/Artemis/commit/ae8e7ff43e59be5e4cb3d32ca3257fe34361f274", "message": "try to fix the error message from codacy, add if statement to fulfill 100% coverage.", "committedDate": "2020-09-01T20:49:10Z", "type": "commit"}, {"oid": "067c824dc0fb185b22946e456690add60e462faa", "url": "https://github.com/ls1intum/Artemis/commit/067c824dc0fb185b22946e456690add60e462faa", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into enhancement/integration-tests/search-for-exercise", "committedDate": "2020-09-01T20:49:22Z", "type": "commit"}, {"oid": "2ca0ea6410a4d65a6fb3aa6c8886a3746f59aeb6", "url": "https://github.com/ls1intum/Artemis/commit/2ca0ea6410a4d65a6fb3aa6c8886a3746f59aeb6", "message": "run gradle spotless check", "committedDate": "2020-09-01T21:01:29Z", "type": "commit"}, {"oid": "21f12155be96066eb3c5be8a9ec7e2d444a77ac0", "url": "https://github.com/ls1intum/Artemis/commit/21f12155be96066eb3c5be8a9ec7e2d444a77ac0", "message": "try to solve the issue from codacy", "committedDate": "2020-09-09T18:47:29Z", "type": "commit"}, {"oid": "a43f0c72347ca87a21cea6f6580e673ea99cb6e0", "url": "https://github.com/ls1intum/Artemis/commit/a43f0c72347ca87a21cea6f6580e673ea99cb6e0", "message": "second try for fix the codacy bug", "committedDate": "2020-09-09T19:00:49Z", "type": "commit"}, {"oid": "4060fed2694f92502eb272b805469d91e8041ee3", "url": "https://github.com/ls1intum/Artemis/commit/4060fed2694f92502eb272b805469d91e8041ee3", "message": "add Javadoc comment for public methods", "committedDate": "2020-09-09T19:16:52Z", "type": "commit"}, {"oid": "4eb64ff3624c8189de8871ae5aadb60ebcaec93f", "url": "https://github.com/ls1intum/Artemis/commit/4eb64ff3624c8189de8871ae5aadb60ebcaec93f", "message": "add Javadoc comment", "committedDate": "2020-09-09T20:52:22Z", "type": "commit"}, {"oid": "c4934fff026096ef9353776153604156eb7f97a4", "url": "https://github.com/ls1intum/Artemis/commit/c4934fff026096ef9353776153604156eb7f97a4", "message": "add Javadoc for implemented public methods", "committedDate": "2020-09-09T21:33:09Z", "type": "commit"}]}