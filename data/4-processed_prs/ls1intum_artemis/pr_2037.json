{"pr_number": 2037, "pr_title": "[Feature] Improve automated grading page (former manage test-cases)", "pr_createdAt": "2020-08-18T00:46:25Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2037", "timeline": [{"oid": "b99a53b76f1cf3d99a1630939fee5d2b37553e7b", "url": "https://github.com/ls1intum/Artemis/commit/b99a53b76f1cf3d99a1630939fee5d2b37553e7b", "message": "rename grading components", "committedDate": "2020-08-13T15:50:31Z", "type": "commit"}, {"oid": "6af99e02bd6a63d8026ef203fe1c9f9dfb62ac6f", "url": "https://github.com/ls1intum/Artemis/commit/6af99e02bd6a63d8026ef203fe1c9f9dfb62ac6f", "message": "create sca category model", "committedDate": "2020-08-13T17:30:19Z", "type": "commit"}, {"oid": "f40b5368b88bcf0f121ce050c8de6808b43ed7cb", "url": "https://github.com/ls1intum/Artemis/commit/f40b5368b88bcf0f121ce050c8de6808b43ed7cb", "message": "fix build", "committedDate": "2020-08-18T07:01:55Z", "type": "commit"}, {"oid": "29c3445405e1d3e91268b4f511b99fcb348204ac", "url": "https://github.com/ls1intum/Artemis/commit/29c3445405e1d3e91268b4f511b99fcb348204ac", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-08-20T11:22:53Z", "type": "commit"}, {"oid": "6403151a6ac7eb23934b5acd0b0ca5dba1b64957", "url": "https://github.com/ls1intum/Artemis/commit/6403151a6ac7eb23934b5acd0b0ca5dba1b64957", "message": "rename folder", "committedDate": "2020-08-27T09:16:05Z", "type": "commit"}, {"oid": "b1c2665374e792bbab68d1d4d48ff423565ec75d", "url": "https://github.com/ls1intum/Artemis/commit/b1c2665374e792bbab68d1d4d48ff423565ec75d", "message": "setup tabbed routing", "committedDate": "2020-08-27T11:02:31Z", "type": "commit"}, {"oid": "acfa44e55bb1dca3b22bc70695839928bb473124", "url": "https://github.com/ls1intum/Artemis/commit/acfa44e55bb1dca3b22bc70695839928bb473124", "message": "add code analysis mapping", "committedDate": "2020-08-27T11:02:54Z", "type": "commit"}, {"oid": "35085b41372324ee3ca9cad4c78fbd64e28583e8", "url": "https://github.com/ls1intum/Artemis/commit/35085b41372324ee3ca9cad4c78fbd64e28583e8", "message": "client formatting", "committedDate": "2020-08-27T11:09:58Z", "type": "commit"}, {"oid": "3a685ca31fa25b73ca3a553e124b8dac9bc3d743", "url": "https://github.com/ls1intum/Artemis/commit/3a685ca31fa25b73ca3a553e124b8dac9bc3d743", "message": "Merge branch 'develop' into feature/automated-grading-page\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/programming/manage/test-cases/programming-exercise-manage-test-cases.component.html", "committedDate": "2020-08-27T11:15:55Z", "type": "commit"}, {"oid": "c82977a94e5070226dfbc278a4c033a7630de318", "url": "https://github.com/ls1intum/Artemis/commit/c82977a94e5070226dfbc278a4c033a7630de318", "message": "adjust routing", "committedDate": "2020-08-27T12:14:49Z", "type": "commit"}, {"oid": "6ea36abf749fae3f27796064e4591a57eb74a322", "url": "https://github.com/ls1intum/Artemis/commit/6ea36abf749fae3f27796064e4591a57eb74a322", "message": "fix routing", "committedDate": "2020-08-27T13:07:56Z", "type": "commit"}, {"oid": "a0e705ecb85a7b243e2e3a00107c176635ddef74", "url": "https://github.com/ls1intum/Artemis/commit/a0e705ecb85a7b243e2e3a00107c176635ddef74", "message": "add basic table for static code analysis categories", "committedDate": "2020-08-27T13:16:56Z", "type": "commit"}, {"oid": "3b18f27120aaa52507218dc03d4dd973dd25483a", "url": "https://github.com/ls1intum/Artemis/commit/3b18f27120aaa52507218dc03d4dd973dd25483a", "message": "skip loading when tabs change", "committedDate": "2020-08-28T13:44:23Z", "type": "commit"}, {"oid": "5c79519199c5f4cdb1a79dd2c9e8eba90ec4b4f9", "url": "https://github.com/ls1intum/Artemis/commit/5c79519199c5f4cdb1a79dd2c9e8eba90ec4b4f9", "message": "move inactive checkbox inside tab body", "committedDate": "2020-08-28T13:44:39Z", "type": "commit"}, {"oid": "85088e3e4b272a899a24d76e20a10afd63dce636", "url": "https://github.com/ls1intum/Artemis/commit/85088e3e4b272a899a24d76e20a10afd63dce636", "message": "update category model", "committedDate": "2020-08-30T15:53:01Z", "type": "commit"}, {"oid": "4a637b8d5f20054b68445c16a624a5117458b130", "url": "https://github.com/ls1intum/Artemis/commit/4a637b8d5f20054b68445c16a624a5117458b130", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-08-30T15:53:43Z", "type": "commit"}, {"oid": "d4349604e53d140552c3fbc199f33fabfe2144ec", "url": "https://github.com/ls1intum/Artemis/commit/d4349604e53d140552c3fbc199f33fabfe2144ec", "message": "change inline editing", "committedDate": "2020-08-30T16:41:43Z", "type": "commit"}, {"oid": "63b4a8ad9e98ca8bfe64982feec3e04dc581cd6e", "url": "https://github.com/ls1intum/Artemis/commit/63b4a8ad9e98ca8bfe64982feec3e04dc581cd6e", "message": "change tab routing", "committedDate": "2020-08-30T17:18:30Z", "type": "commit"}, {"oid": "9084efe02ebfb40ef0383f258fb6f4bfdf68fdcb", "url": "https://github.com/ls1intum/Artemis/commit/9084efe02ebfb40ef0383f258fb6f4bfdf68fdcb", "message": "update category model", "committedDate": "2020-08-31T14:02:24Z", "type": "commit"}, {"oid": "00b18a41345d17fae8e00e7c0ed2c8c03a1b2489", "url": "https://github.com/ls1intum/Artemis/commit/00b18a41345d17fae8e00e7c0ed2c8c03a1b2489", "message": "add state select", "committedDate": "2020-08-31T14:02:40Z", "type": "commit"}, {"oid": "4053e6bfcfb4ead6f7265d52addd4c5841e28d8c", "url": "https://github.com/ls1intum/Artemis/commit/4053e6bfcfb4ead6f7265d52addd4c5841e28d8c", "message": "change button for exam exercises", "committedDate": "2020-08-31T14:02:55Z", "type": "commit"}, {"oid": "6438b918aa03b69430d7dc18b88fcfe13c0d053c", "url": "https://github.com/ls1intum/Artemis/commit/6438b918aa03b69430d7dc18b88fcfe13c0d053c", "message": "update button labels", "committedDate": "2020-08-31T14:03:12Z", "type": "commit"}, {"oid": "2b0869ce6b87d5ac769691e29f17248aced71a49", "url": "https://github.com/ls1intum/Artemis/commit/2b0869ce6b87d5ac769691e29f17248aced71a49", "message": "formatting", "committedDate": "2020-08-31T14:05:45Z", "type": "commit"}, {"oid": "53b32f8b77cb9fbef4047752cfb7579ce2f0970f", "url": "https://github.com/ls1intum/Artemis/commit/53b32f8b77cb9fbef4047752cfb7579ce2f0970f", "message": "change routing to param-based tab", "committedDate": "2020-09-01T12:14:15Z", "type": "commit"}, {"oid": "cd81941dcbd79340fd31517c79defa6385697081", "url": "https://github.com/ls1intum/Artemis/commit/cd81941dcbd79340fd31517c79defa6385697081", "message": "update tests", "committedDate": "2020-09-01T12:31:50Z", "type": "commit"}, {"oid": "62c0da33d9e161c85576710d7751a6547d9f412f", "url": "https://github.com/ls1intum/Artemis/commit/62c0da33d9e161c85576710d7751a6547d9f412f", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-09-01T12:32:58Z", "type": "commit"}, {"oid": "17b5d7c034731bac806ac170a02da0c8d845b591", "url": "https://github.com/ls1intum/Artemis/commit/17b5d7c034731bac806ac170a02da0c8d845b591", "message": "fix formatting", "committedDate": "2020-09-01T12:52:55Z", "type": "commit"}, {"oid": "3b1f28e26c82528e5f1b0e65794d6e075ac76a66", "url": "https://github.com/ls1intum/Artemis/commit/3b1f28e26c82528e5f1b0e65794d6e075ac76a66", "message": "add test", "committedDate": "2020-09-01T14:08:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIzNzk4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2037#discussion_r481237987", "bodyText": "You can remove this, as we have the overall loading icon in the nav bar :)", "author": "fde312", "createdAt": "2020-09-01T15:38:17Z", "path": "src/main/webapp/app/exercises/programming/manage/grading/programming-exercise-configure-grading.component.html", "diffHunk": "@@ -0,0 +1,166 @@\n+<jhi-alert></jhi-alert>\n+<div>\n+    <div class=\"d-flex align-content-center mb-2\">\n+        <h3 jhiTranslate=\"artemisApp.programmingExercise.configureGrading.title\">Configure Automated Grading</h3>\n+    </div>\n+    <ng-container *ngIf=\"!isLoading; else loadingContainer\">\n+        <div class=\"d-flex\">\n+            <div class=\"d-flex align-items-center ml-auto\">\n+                <jhi-programming-exercise-configure-grading-status\n+                    [exerciseIsReleasedAndHasResults]=\"isReleasedAndHasResults\"\n+                    [hasUnsavedChanges]=\"!!changedTestCaseIds.length\"\n+                    [hasUpdatedTestCases]=\"hasUpdatedTestCases\"\n+                ></jhi-programming-exercise-configure-grading-status>\n+                <jhi-programming-exercise-configure-grading-actions\n+                    [exercise]=\"exercise\"\n+                    [hasUpdatedTestCases]=\"hasUpdatedTestCases\"\n+                    [hasUnsavedChanges]=\"!!changedTestCaseIds.length\"\n+                    (onReset)=\"resetChanges()\"\n+                    (onSave)=\"saveChanges()\"\n+                ></jhi-programming-exercise-configure-grading-actions>\n+            </div>\n+        </div>\n+\n+        <div class=\"tab-bar\">\n+            <div class=\"tab-item test-cases\" (click)=\"selectTab('test-cases')\" [ngClass]=\"activeTab == 'test-cases' ? 'active' : ''\">\n+                <b>Test Cases</b>\n+            </div>\n+            <div class=\"tab-item code-analysis\" (click)=\"selectTab('code-analysis')\" [ngClass]=\"activeTab == 'code-analysis' ? 'active' : ''\">\n+                <b>Code Analysis</b>\n+            </div>\n+        </div>\n+\n+        <div class=\"grading-body-container\">\n+            <div *ngIf=\"activeTab == 'test-cases'\">\n+                <label class=\"d-flex align-items-center mb-0\">\n+                    <input type=\"checkbox\" [checked]=\"showInactive\" (change)=\"showInactive = !showInactive\" />\n+                    <span class=\"ml-2\" jhiTranslate=\"artemisApp.programmingExercise.manageTestCases.showInactive\">Show inactive</span>\n+                </label>\n+                <ngx-datatable\n+                    id=\"testCaseTable\"\n+                    class=\"bootstrap\"\n+                    [headerHeight]=\"50\"\n+                    [limit]=\"20\"\n+                    [columnMode]=\"'force'\"\n+                    [footerHeight]=\"50\"\n+                    [rowHeight]=\"'auto'\"\n+                    [rows]=\"filteredTestCases\"\n+                    [sorts]=\"[{ prop: 'testName', dir: 'asc' }]\"\n+                    [rowClass]=\"getRowClass\"\n+                >\n+                    <ngx-datatable-column name=\"Id\" prop=\"id\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\">\n+                            {{ value }}\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Test Name\" prop=\"testName\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\">\n+                            {{ value }}\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Weight\" prop=\"weight\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\n+                            <jhi-table-editable-field [value]=\"value\" (onValueUpdate)=\"updateEditedField($event, row, EditableField.WEIGHT)\"></jhi-table-editable-field>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Bonus Multiplier\" prop=\"bonusMultiplier\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\n+                            <jhi-table-editable-field [value]=\"value\" (onValueUpdate)=\"updateEditedField($event, row, EditableField.BONUS_MULTIPLIER)\"></jhi-table-editable-field>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Bonus Points\" prop=\"bonusPoints\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\n+                            <jhi-table-editable-field [value]=\"value\" (onValueUpdate)=\"updateEditedField($event, row, EditableField.BONUS_POINTS)\"></jhi-table-editable-field>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"After Due Date\" prop=\"afterDueDate\">\n+                        <ng-template ngx-datatable-header-template>\n+                            <span>After Due Date</span\n+                            ><fa-icon\n+                                *ngIf=\"buildAfterDueDateActive === false\"\n+                                [icon]=\"'question-circle'\"\n+                                class=\"text-secondary ml-2\"\n+                                [ngbPopover]=\"popoverContent\"\n+                                placement=\"bottom\"\n+                                container=\"body\"\n+                            ></fa-icon>\n+                            <ng-template #popoverContent>\n+                                <div class=\"d-flex flex-column run-after-due-date-disabled\">\n+                                    <pre jhiTranslate=\"artemisApp.programmingExercise.manageTestCases.runAfterDueDateDisabled\"></pre>\n+                                    <a [routerLink]=\"['/course/', this.courseId, 'programming-exercise', this.exercise.id, 'edit']\" class=\"ml-auto\">\n+                                        <jhi-button [icon]=\"'arrow-right'\" ngbTooltip=\"{{ 'entity.action.edit' | translate }}\"></jhi-button>\n+                                    </a>\n+                                </div>\n+                            </ng-template>\n+                        </ng-template>\n+                        <ng-template ngx-datatable-cell-template let-rowIndex=\"rowIndex\" let-value=\"value\" let-row=\"row\">\n+                            <jhi-table-editable-checkbox\n+                                [value]=\"value\"\n+                                [disabled]=\"!buildAfterDueDateActive\"\n+                                (onValueUpdate)=\"toggleAfterDueDate(filteredTestCases.indexOf(row))\"\n+                            ></jhi-table-editable-checkbox>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Is Active\" prop=\"active\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\">\n+                            {{ value }}\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                </ngx-datatable>\n+            </div>\n+            <div *ngIf=\"activeTab == 'code-analysis'\">\n+                <ngx-datatable\n+                    id=\"codeAnalysisTable\"\n+                    class=\"bootstrap\"\n+                    [headerHeight]=\"50\"\n+                    [limit]=\"20\"\n+                    [columnMode]=\"'force'\"\n+                    [footerHeight]=\"50\"\n+                    [rowHeight]=\"'auto'\"\n+                    [rows]=\"staticCodeAnalysisCategories\"\n+                >\n+                    <ngx-datatable-column name=\"Category\" prop=\"name\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\">\n+                            {{ value }}\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Description\" prop=\"description\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\">\n+                            {{ value }}\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"State\" prop=\"state\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\n+                            <select [ngModel]=\"value\" (change)=\"updateEditedCategoryField($event.target.value, row, EditableField.STATE)\">\n+                                <option *ngFor=\"let s of categoryStateList\" [value]=\"s.value\">{{ s.name }}</option>\n+                            </select>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Checks\" prop=\"checks\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\">\n+                            {{ value.length }}\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Penalty\" prop=\"penalty\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\n+                            <jhi-table-editable-field [value]=\"value\" (onValueUpdate)=\"updateEditedCategoryField($event, row, EditableField.PENALTY)\"></jhi-table-editable-field>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                    <ngx-datatable-column name=\"Max Penalty\" prop=\"maxPenalty\">\n+                        <ng-template ngx-datatable-cell-template let-value=\"value\" let-row=\"row\">\n+                            <jhi-table-editable-field\n+                                [value]=\"value\"\n+                                (onValueUpdate)=\"updateEditedCategoryField($event, row, EditableField.MAX_PENALTY)\"\n+                            ></jhi-table-editable-field>\n+                        </ng-template>\n+                    </ngx-datatable-column>\n+                </ngx-datatable>\n+            </div>\n+        </div>\n+    </ng-container>\n+    <ng-template #loadingContainer>", "originalCommit": "3b1f28e26c82528e5f1b0e65794d6e075ac76a66", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ea072e206559ef006a67c0a9659fe4e214e990cd", "url": "https://github.com/ls1intum/Artemis/commit/ea072e206559ef006a67c0a9659fe4e214e990cd", "message": "hide tabs when sca is disabled", "committedDate": "2020-09-03T20:21:12Z", "type": "commit"}, {"oid": "c208bf1e0d860bbbf8b30aa6129b01ece7d60d38", "url": "https://github.com/ls1intum/Artemis/commit/c208bf1e0d860bbbf8b30aa6129b01ece7d60d38", "message": "remove extra loading icon", "committedDate": "2020-09-03T20:22:31Z", "type": "commit"}, {"oid": "34f3f5307b1031735a02357565faa85074b236ce", "url": "https://github.com/ls1intum/Artemis/commit/34f3f5307b1031735a02357565faa85074b236ce", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-09-03T20:24:14Z", "type": "commit"}, {"oid": "6b1a0cbb67207969766d828a799acdb4f07debce", "url": "https://github.com/ls1intum/Artemis/commit/6b1a0cbb67207969766d828a799acdb4f07debce", "message": "fix type issue", "committedDate": "2020-09-03T22:09:42Z", "type": "commit"}, {"oid": "8224efc016840a116fac8e98410d6be7ab8beeee", "url": "https://github.com/ls1intum/Artemis/commit/8224efc016840a116fac8e98410d6be7ab8beeee", "message": "fix tests", "committedDate": "2020-09-03T22:15:26Z", "type": "commit"}, {"oid": "e484d486cdc77151e8a64f4fd512321c4d768a1b", "url": "https://github.com/ls1intum/Artemis/commit/e484d486cdc77151e8a64f4fd512321c4d768a1b", "message": "fix tests", "committedDate": "2020-09-04T21:48:11Z", "type": "commit"}, {"oid": "a2617837659e31c762edef46532bf61a11fa9bc9", "url": "https://github.com/ls1intum/Artemis/commit/a2617837659e31c762edef46532bf61a11fa9bc9", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-09-17T22:41:06Z", "type": "commit"}, {"oid": "4160ac24ec0b97a949c44cb58bfbb40b0c4a7f27", "url": "https://github.com/ls1intum/Artemis/commit/4160ac24ec0b97a949c44cb58bfbb40b0c4a7f27", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-09-20T10:49:39Z", "type": "commit"}, {"oid": "7e9b1573c2ecdded392b731046c748ad20577986", "url": "https://github.com/ls1intum/Artemis/commit/7e9b1573c2ecdded392b731046c748ad20577986", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-09-24T13:21:12Z", "type": "commit"}, {"oid": "cd856726db3903938adb726e6911e9e351f1d83f", "url": "https://github.com/ls1intum/Artemis/commit/cd856726db3903938adb726e6911e9e351f1d83f", "message": "Merge branch 'develop' into feature/automated-grading-page", "committedDate": "2020-09-26T09:51:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY0NjA2NA==", "url": "https://github.com/ls1intum/Artemis/pull/2037#discussion_r496646064", "bodyText": "please mark this as a dummy object that will be replaced later by the actual default categories of the server", "author": "krusche", "createdAt": "2020-09-29T11:36:05Z", "path": "src/main/webapp/app/exercises/programming/manage/grading/codeAnalysisMapping.ts", "diffHunk": "@@ -0,0 +1,76 @@\n+import { StaticCodeAnalysisCategory, StaticCodeAnalysisCategoryState } from 'app/entities/static-code-analysis-category.model';\n+\n+export const Mapping: StaticCodeAnalysisCategory[] = [", "originalCommit": "cd856726db3903938adb726e6911e9e351f1d83f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY0NjEyNg==", "url": "https://github.com/ls1intum/Artemis/pull/2037#discussion_r496646126", "bodyText": "using a TODO :-)", "author": "krusche", "createdAt": "2020-09-29T11:36:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY0NjA2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY0NzAyMQ==", "url": "https://github.com/ls1intum/Artemis/pull/2037#discussion_r496647021", "bodyText": "I would create an interface for the type instead of defining here anonymously.", "author": "stefanwaldhauser", "createdAt": "2020-09-29T11:37:52Z", "path": "src/main/webapp/app/entities/static-code-analysis-category.model.ts", "diffHunk": "@@ -0,0 +1,17 @@\n+import { BaseEntity } from 'app/shared/model/base-entity';\n+\n+export class StaticCodeAnalysisCategory implements BaseEntity {\n+    id: number;\n+    name: string;\n+    description: string;\n+    state: StaticCodeAnalysisCategoryState;\n+    checks: { tool: string; check: string }[];", "originalCommit": "cd856726db3903938adb726e6911e9e351f1d83f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}