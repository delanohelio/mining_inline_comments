{"pr_number": 2306, "pr_title": "Move Jenkins build process to Pipelines & make templates configurable.", "pr_createdAt": "2020-11-01T15:37:28Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2306", "timeline": [{"oid": "6a42aafaed8601bba989fe2eb42de44d5cc7fd72", "url": "https://github.com/ls1intum/Artemis/commit/6a42aafaed8601bba989fe2eb42de44d5cc7fd72", "message": "Start with supporting Pipelines for Jenkins.", "committedDate": "2020-10-22T14:41:56Z", "type": "commit"}, {"oid": "5eba4a267023ab8021be1cde7f0a79f2034d3f9d", "url": "https://github.com/ls1intum/Artemis/commit/5eba4a267023ab8021be1cde7f0a79f2034d3f9d", "message": "Add python pipeline.", "committedDate": "2020-10-22T15:50:06Z", "type": "commit"}, {"oid": "f14b67250ef68c526d02c9c6e6d11ec2e9ebedab", "url": "https://github.com/ls1intum/Artemis/commit/f14b67250ef68c526d02c9c6e6d11ec2e9ebedab", "message": "Parse timestamps.", "committedDate": "2020-10-22T19:34:51Z", "type": "commit"}, {"oid": "bb748ecc5b4d95ec9c97810a2f40fd251e77a48a", "url": "https://github.com/ls1intum/Artemis/commit/bb748ecc5b4d95ec9c97810a2f40fd251e77a48a", "message": "Work on C, Java with static SCA templates.", "committedDate": "2020-10-22T21:34:17Z", "type": "commit"}, {"oid": "2638d08f3243835886c017ad794c6e24a01e349e", "url": "https://github.com/ls1intum/Artemis/commit/2638d08f3243835886c017ad794c6e24a01e349e", "message": "Fix SCA exercises.", "committedDate": "2020-10-24T22:16:23Z", "type": "commit"}, {"oid": "c8452cab8144692e4b060f54df0fc0577c3526e0", "url": "https://github.com/ls1intum/Artemis/commit/c8452cab8144692e4b060f54df0fc0577c3526e0", "message": "Fix SCA exercises.", "committedDate": "2020-10-24T22:20:09Z", "type": "commit"}, {"oid": "b28934408aec1c713a48d70b4e858215852cfc99", "url": "https://github.com/ls1intum/Artemis/commit/b28934408aec1c713a48d70b4e858215852cfc99", "message": "Add documentation regarding setup of remote agent.", "committedDate": "2020-10-28T20:12:47Z", "type": "commit"}, {"oid": "8d4672b0a0226e80badbb5214fb895edc7edfa52", "url": "https://github.com/ls1intum/Artemis/commit/8d4672b0a0226e80badbb5214fb895edc7edfa52", "message": "Add more documentation.", "committedDate": "2020-10-28T20:22:16Z", "type": "commit"}, {"oid": "0f42e9555f5d62ba77669eef57d66811e1c7bb90", "url": "https://github.com/ls1intum/Artemis/commit/0f42e9555f5d62ba77669eef57d66811e1c7bb90", "message": "Add more documentation.", "committedDate": "2020-10-28T20:24:57Z", "type": "commit"}, {"oid": "cf61bfdc297c7ec969b75f0fc6807764ab922dce", "url": "https://github.com/ls1intum/Artemis/commit/cf61bfdc297c7ec969b75f0fc6807764ab922dce", "message": "Adjust pipeline script.", "committedDate": "2020-10-28T20:43:10Z", "type": "commit"}, {"oid": "570a8c1889a05cc8130e70284897d24ee6f0c483", "url": "https://github.com/ls1intum/Artemis/commit/570a8c1889a05cc8130e70284897d24ee6f0c483", "message": "Add image.", "committedDate": "2020-10-28T20:43:51Z", "type": "commit"}, {"oid": "48838601f92eb6c1f8734b5b816898358364301b", "url": "https://github.com/ls1intum/Artemis/commit/48838601f92eb6c1f8734b5b816898358364301b", "message": "Merge develop.", "committedDate": "2020-10-31T19:31:46Z", "type": "commit"}, {"oid": "d693d6830541879a0deb5f053954a95b22ecfe1d", "url": "https://github.com/ls1intum/Artemis/commit/d693d6830541879a0deb5f053954a95b22ecfe1d", "message": "Improve URL replacing on exercise creation.", "committedDate": "2020-10-31T20:56:20Z", "type": "commit"}, {"oid": "2bc8d589c1210b32583bf228e86c76758a1eda80", "url": "https://github.com/ls1intum/Artemis/commit/2bc8d589c1210b32583bf228e86c76758a1eda80", "message": "Fix fallback detection when creating new exercises.", "committedDate": "2020-10-31T21:38:29Z", "type": "commit"}, {"oid": "953a55df49fd2861198dd0b31bfd10d094cc10e9", "url": "https://github.com/ls1intum/Artemis/commit/953a55df49fd2861198dd0b31bfd10d094cc10e9", "message": "Add option to make templates configurable.", "committedDate": "2020-10-31T22:51:18Z", "type": "commit"}, {"oid": "74d71a89ac8c96bf57ce3a4285a8c59c456e1a11", "url": "https://github.com/ls1intum/Artemis/commit/74d71a89ac8c96bf57ce3a4285a8c59c456e1a11", "message": "Add docker label to agents. Fix exercise import.", "committedDate": "2020-11-01T15:10:24Z", "type": "commit"}, {"oid": "27e9953d024562fbd551f68fd29a88b2348aee05", "url": "https://github.com/ls1intum/Artemis/commit/27e9953d024562fbd551f68fd29a88b2348aee05", "message": "Make template path configurable.", "committedDate": "2020-11-01T19:05:50Z", "type": "commit"}, {"oid": "0ea2c4e20911de5fe5f3b10d9615225497e786cd", "url": "https://github.com/ls1intum/Artemis/commit/0ea2c4e20911de5fe5f3b10d9615225497e786cd", "message": "Add documentation on programming exercise specific values.", "committedDate": "2020-11-01T19:36:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODE1MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r515668151", "bodyText": "GitHub Actions complains: docs/dev/setup/programming-exercises.rst#L1: document isn't included in any toctree", "author": "FrankeLukas", "createdAt": "2020-11-01T20:29:46Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,57 @@\n+Adjustments for programming exercises", "originalCommit": "0ea2c4e20911de5fe5f3b10d9615225497e786cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjkzNTg5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r516935899", "bodyText": "Should be fixed now.", "author": "sleiss", "createdAt": "2020-11-03T20:26:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODE1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODUwNw==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r515668507", "bodyText": "Shouldn't this be jenkinsService.getDockerImageName(programmingLanguage) instead considering you removed the hardcoded \"c\" from resourcePath?", "author": "FrankeLukas", "createdAt": "2020-11-01T20:33:11Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/jenkins/DefaultJenkinsBuildPlanCreator.java", "diffHunk": "@@ -0,0 +1,33 @@\n+package de.tum.in.www1.artemis.service.connectors.jenkins;\n+\n+import java.net.URL;\n+import java.util.Map;\n+\n+import org.springframework.context.annotation.Lazy;\n+import org.springframework.context.annotation.Profile;\n+import org.springframework.stereotype.Component;\n+\n+import de.tum.in.www1.artemis.ResourceLoaderService;\n+import de.tum.in.www1.artemis.config.Constants;\n+import de.tum.in.www1.artemis.domain.enumeration.ProgrammingLanguage;\n+\n+@Profile(\"jenkins\")\n+@Component\n+public class DefaultJenkinsBuildPlanCreator extends AbstractJenkinsBuildPlanCreator {\n+\n+    public DefaultJenkinsBuildPlanCreator(ResourceLoaderService resourceLoaderService, @Lazy JenkinsService jenkinsService) {\n+        super(resourceLoaderService, jenkinsService);\n+    }\n+\n+    @Override\n+    public String getPipelineScript(ProgrammingLanguage programmingLanguage, URL testRepositoryURL, URL assignmentRepositoryURL, boolean isStaticCodeAnalysisEnabled) {\n+        final var resourcePath = new String[] { \"templates\", \"jenkins\", programmingLanguage.name().toLowerCase(), \"Jenkinsfile\" };\n+\n+        final var replacements = Map.of(REPLACE_TEST_REPO, testRepositoryURL.toString(), REPLACE_ASSIGNMENT_REPO, assignmentRepositoryURL.toString(), REPLACE_GIT_CREDENTIALS,\n+                gitCredentialsKey, REPLACE_ASSIGNMENT_CHECKOUT_PATH, Constants.ASSIGNMENT_CHECKOUT_PATH, REPLACE_TESTS_CHECKOUT_PATH, Constants.TESTS_CHECKOUT_PATH,\n+                REPLACE_ARTEMIS_NOTIFICATION_URL, artemisNotificationUrl, REPLACE_NOTIFICATIONS_TOKEN, ARTEMIS_AUTHENTICATION_TOKEN_KEY, REPLACE_DOCKER_IMAGE_NAME,\n+                jenkinsService.getDockerImageName(ProgrammingLanguage.C));", "originalCommit": "0ea2c4e20911de5fe5f3b10d9615225497e786cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY3NDI1OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r515674259", "bodyText": "Thanks, good catch!", "author": "sleiss", "createdAt": "2020-11-01T21:28:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODUwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODc2Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r515668762", "bodyText": "Codacy is complaining here: These nested if statements could be combined", "author": "FrankeLukas", "createdAt": "2020-11-01T20:35:02Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/jenkins/JenkinsService.java", "diffHunk": "@@ -465,6 +500,72 @@ private void addFeedbackToResult(Result result, TestResultsDTO report) {\n         }\n     }\n \n+    private List<BuildLogEntry> parsePipelineLogs(Element logHtml) throws IllegalArgumentException {\n+        final var buildLog = new LinkedList<BuildLogEntry>();\n+        if (logHtml.childNodes().stream().noneMatch(child -> child.attr(\"class\").contains(\"pipeline\"))) {\n+            throw new IllegalArgumentException(\"Log is not pipeline log\");\n+        }\n+        for (Element elem : logHtml.children()) {\n+            // Only pipeline-node-ID elements contain actual log entries\n+            if (elem.attributes().get(\"class\").contains(\"pipeline-node\")) {\n+                // At least one child must have a timestamp class\n+                if (elem.childNodes().stream().anyMatch(child -> child.attr(\"class\").contains(\"timestamp\"))) {", "originalCommit": "0ea2c4e20911de5fe5f3b10d9615225497e786cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2OTA4NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r515669085", "bodyText": "Fwiw, Imho this would be more readable as\nfor (Element elem : logHtml.children()) {\n    // Only pipeline-node-ID elements containing actual log entries with at least one child with a timestamp class\n    if (!elem.attributes().get(\"class\").contains(\"pipeline-node\") || !elem.childNodes().stream().anyMatch(child -> child.attr(\"class\").contains(\"timestamp\"))) {\n        continue;\n    }\n\n    Iterator<Node> nodeIterator = elem.childNodes().iterator();\n    [...]\n}\n\nbut that is personal preference.", "author": "FrankeLukas", "createdAt": "2020-11-01T20:38:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODc2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODExNjc5NA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518116794", "bodyText": "Fwiw, this was not resolved.(?)", "author": "FrankeLukas", "createdAt": "2020-11-05T15:00:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODc2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEyMDgzMA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518120830", "bodyText": "Thanks for the reminder, I actually prefer the current version if that is also fine for you.", "author": "sleiss", "createdAt": "2020-11-05T15:05:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODc2Mg=="}], "type": "inlineReview"}, {"oid": "460236a3b4e74c800b6b6779a17fb7b284c5e160", "url": "https://github.com/ls1intum/Artemis/commit/460236a3b4e74c800b6b6779a17fb7b284c5e160", "message": "Fix minor issues.", "committedDate": "2020-11-01T21:34:39Z", "type": "commit"}, {"oid": "87317c7573be5c03c650aa4fb7a310ae1a73b143", "url": "https://github.com/ls1intum/Artemis/commit/87317c7573be5c03c650aa4fb7a310ae1a73b143", "message": "Fix some issues with documentation.", "committedDate": "2020-11-01T21:37:35Z", "type": "commit"}, {"oid": "f51617059020a53c023239d0c7534888bf09d086", "url": "https://github.com/ls1intum/Artemis/commit/f51617059020a53c023239d0c7534888bf09d086", "message": "Merge branch 'develop' into feature/jenkins-pipeline", "committedDate": "2020-11-04T08:57:16Z", "type": "commit"}, {"oid": "bd5fd7e6e437bd4f0c56583eb7dee8fd0166b1d7", "url": "https://github.com/ls1intum/Artemis/commit/bd5fd7e6e437bd4f0c56583eb7dee8fd0166b1d7", "message": "Make only jenkins folder configurable.", "committedDate": "2020-11-04T11:57:49Z", "type": "commit"}, {"oid": "560af7c15fd60bedd411d20e5d873fe766b0f6b3", "url": "https://github.com/ls1intum/Artemis/commit/560af7c15fd60bedd411d20e5d873fe766b0f6b3", "message": "Add tests for ResourceLoaderService.", "committedDate": "2020-11-04T12:24:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI1OTcxNA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518259714", "bodyText": "This is the same as in line 13. Should it be artemis.repo-download-clone-path?", "author": "b-fein", "createdAt": "2020-11-05T18:08:30Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.\n+  However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.\n+\n+- ``artemis.repo-clone-path``", "originalCommit": "560af7c15fd60bedd411d20e5d873fe766b0f6b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MjM4OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518262389", "bodyText": "Good catch! Exactly, it should be artemis.repo-download-clone-path. I changed it", "author": "sleiss", "createdAt": "2020-11-05T18:13:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI1OTcxNA=="}], "type": "inlineReview"}, {"oid": "78c21fd9be422a47349304cde0b1b8cd1c8bb19e", "url": "https://github.com/ls1intum/Artemis/commit/78c21fd9be422a47349304cde0b1b8cd1c8bb19e", "message": "Merge branch 'develop' into feature/jenkins-pipeline", "committedDate": "2020-11-05T18:11:24Z", "type": "commit"}, {"oid": "4890b9a4c9cefee64ec1d2dae1840ade04c504fe", "url": "https://github.com/ls1intum/Artemis/commit/4890b9a4c9cefee64ec1d2dae1840ade04c504fe", "message": "Fix wrong path in documentation.", "committedDate": "2020-11-05T18:12:37Z", "type": "commit"}, {"oid": "d593abb431dbb4b5fc38bbc51407458dc9b55bde", "url": "https://github.com/ls1intum/Artemis/commit/d593abb431dbb4b5fc38bbc51407458dc9b55bde", "message": "Adjust docu.", "committedDate": "2020-11-05T20:06:16Z", "type": "commit"}, {"oid": "493f0ee3b77f44ca8b2cc536db6886ac3ffc698d", "url": "https://github.com/ls1intum/Artemis/commit/493f0ee3b77f44ca8b2cc536db6886ac3ffc698d", "message": "Also remove path from remote agents.", "committedDate": "2020-11-06T09:24:06Z", "type": "commit"}, {"oid": "d05dbfc050f8b5559dc5ededeef303cd41bf4eb5", "url": "https://github.com/ls1intum/Artemis/commit/d05dbfc050f8b5559dc5ededeef303cd41bf4eb5", "message": "Merge branch 'develop' into feature/jenkins-pipeline", "committedDate": "2020-11-06T09:25:27Z", "type": "commit"}, {"oid": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "url": "https://github.com/ls1intum/Artemis/commit/562f889c1603db1f44d0f39c3efd866b7fb08c0e", "message": "Fix merge conflict.", "committedDate": "2020-11-06T10:17:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5MjQyNA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518692424", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Templates are available within Artemis. The templates should fit to most environment, but there might cases where one wants to change the templates.\n          \n          \n            \n              Templates are available within Artemis. The templates should fit to most environments, but there might be cases where one wants to change the templates.", "author": "kloessst", "createdAt": "2020-11-06T11:28:41Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.\n+  However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.\n+\n+- ``artemis.repo-download-clone-path``\n+\n+  Repositories that were downloaded from Artemis are stored in this directory.\n+\n+  Files in this directory can be removed without loss of data, if the downloaded repositories are still present at the VCS.\n+  No changes to the data in the VCS are stored in this directory (or they can be retrieved by performing the download-action again).\n+\n+- ``artemis.template-path``\n+\n+  Templates are available within Artemis. The templates should fit to most environment, but there might cases where one wants to change the templates.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5MzQwNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518693405", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Note that this is the folder to the path where the `templates` folder is located, not the path to the `templates` folder itself.\n          \n          \n            \n              Note that this is the path to the folder where the `templates` folder is located, not the path to the `templates` folder itself.", "author": "kloessst", "createdAt": "2020-11-06T11:30:45Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.\n+  However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.\n+\n+- ``artemis.repo-download-clone-path``\n+\n+  Repositories that were downloaded from Artemis are stored in this directory.\n+\n+  Files in this directory can be removed without loss of data, if the downloaded repositories are still present at the VCS.\n+  No changes to the data in the VCS are stored in this directory (or they can be retrieved by performing the download-action again).\n+\n+- ``artemis.template-path``\n+\n+  Templates are available within Artemis. The templates should fit to most environment, but there might cases where one wants to change the templates.\n+\n+  This value specified the path were the templates that should be overwritten are stored.\n+  Note that this is the folder to the path where the `templates` folder is located, not the path to the `templates` folder itself.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5NDEwNw==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518694107", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              This value specified the path were the templates that should be overwritten are stored.\n          \n          \n            \n              This value specifies the path to the templates which should overwrite the default ones.", "author": "kloessst", "createdAt": "2020-11-06T11:32:21Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.\n+  However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.\n+\n+- ``artemis.repo-download-clone-path``\n+\n+  Repositories that were downloaded from Artemis are stored in this directory.\n+\n+  Files in this directory can be removed without loss of data, if the downloaded repositories are still present at the VCS.\n+  No changes to the data in the VCS are stored in this directory (or they can be retrieved by performing the download-action again).\n+\n+- ``artemis.template-path``\n+\n+  Templates are available within Artemis. The templates should fit to most environment, but there might cases where one wants to change the templates.\n+\n+  This value specified the path were the templates that should be overwritten are stored.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5NDYxMg==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518694612", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.\n          \n          \n            \n              Files in this directory are usually not critical, as the latest pushed version of these repositories are also stored at the VCS.", "author": "kloessst", "createdAt": "2020-11-06T11:33:27Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5NDk0NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518694945", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            They are present in this separate page to keep the 'normal' setup guide shorter.\n          \n          \n            \n            They are presented in this separate page to keep the 'normal' setup guide shorter.", "author": "kloessst", "createdAt": "2020-11-06T11:34:11Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5NjA1OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518696059", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This setup guide is for setting up a remote agent on an Ubuntu virtual machine that supports docker builds.\n          \n          \n            \n            This guide explains setting up a remote agent on an Ubuntu virtual machine that supports docker builds.", "author": "kloessst", "createdAt": "2020-11-06T11:36:41Z", "path": "docs/dev/setup/jenkins-gitlab.rst", "diffHunk": "@@ -646,6 +661,67 @@ the following steps:\n     Depending on the version this setting might not be available anymore.\n     Have a look `here <https://unix.stackexchange.com/questions/444177/how-to-disable-the-csrf-protection-in-jenkins-by-default>`__ on how you can disable CSRF protection.\n \n+\n+Installing remote build agents\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+You might want to run the builds on additional Jenkins agents, especially if a large amount of students should use the system at the same time.\n+Jenkins supports remote build agents: The actual compilation of the students submissions happens on these other machines but the whole process is transparent to Artemis.\n+\n+This setup guide is for setting up a remote agent on an Ubuntu virtual machine that supports docker builds.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODY5NzA5Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518697097", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            These templates should fit well for many deployments, but one might to change some of them in special deployments.\n          \n          \n            \n            These templates should fit well for many deployments, but one might want to change some of them for special deployments.", "author": "kloessst", "createdAt": "2020-11-06T11:38:51Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are present in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories is also stored at the VCS.\n+  However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.\n+\n+- ``artemis.repo-download-clone-path``\n+\n+  Repositories that were downloaded from Artemis are stored in this directory.\n+\n+  Files in this directory can be removed without loss of data, if the downloaded repositories are still present at the VCS.\n+  No changes to the data in the VCS are stored in this directory (or they can be retrieved by performing the download-action again).\n+\n+- ``artemis.template-path``\n+\n+  Templates are available within Artemis. The templates should fit to most environment, but there might cases where one wants to change the templates.\n+\n+  This value specified the path were the templates that should be overwritten are stored.\n+  Note that this is the folder to the path where the `templates` folder is located, not the path to the `templates` folder itself.\n+\n+\n+\n+Templates\n+#########\n+\n+Templates are shipped with Artemis (they can be found within the ``src/main/resources/templates`` folder in Github).\n+These templates should fit well for many deployments, but one might to change some of them in special deployments.", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcyNjUzMA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518726530", "bodyText": "Is this variable always set? You could make this Optional and then check it if its empty in the methods.", "author": "kloessst", "createdAt": "2020-11-06T12:41:29Z", "path": "src/main/java/de/tum/in/www1/artemis/ResourceLoaderService.java", "diffHunk": "@@ -0,0 +1,125 @@\n+package de.tum.in.www1.artemis;\n+\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.apache.commons.lang.StringUtils;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.core.io.Resource;\n+import org.springframework.core.io.ResourceLoader;\n+import org.springframework.core.io.support.ResourcePatternUtils;\n+import org.springframework.stereotype.Service;\n+\n+/**\n+ * Service class to load resources from the file system (if possible) and the classpath (as fallback).\n+ */\n+@Service\n+public class ResourceLoaderService {\n+\n+    private final ResourceLoader resourceLoader;\n+\n+    @Value(\"${artemis.template-path:#{null}}\")\n+    private String templateFileSystemPath;", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgwMDc4MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518800781", "bodyText": "I first tried it with Optionals, but it somehow was either an Optional with a value or null, never Optional.empty.\nI'll try it again.", "author": "sleiss", "createdAt": "2020-11-06T14:51:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcyNjUzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgxMzM1Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518813356", "bodyText": "I changed it to Optionals now.", "author": "sleiss", "createdAt": "2020-11-06T15:11:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcyNjUzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc1NTk1Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518755952", "bodyText": "Is it possible that there are multiple hidden elements?", "author": "kloessst", "createdAt": "2020-11-06T13:38:42Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/jenkins/JenkinsService.java", "diffHunk": "@@ -465,6 +507,72 @@ private void addFeedbackToResult(Result result, TestResultsDTO report) {\n         }\n     }\n \n+    private List<BuildLogEntry> parsePipelineLogs(Element logHtml) throws IllegalArgumentException {\n+        final var buildLog = new LinkedList<BuildLogEntry>();\n+        if (logHtml.childNodes().stream().noneMatch(child -> child.attr(\"class\").contains(\"pipeline\"))) {\n+            throw new IllegalArgumentException(\"Log is not pipeline log\");\n+        }\n+        for (Element elem : logHtml.children()) {\n+            // Only pipeline-node-ID elements contain actual log entries\n+            if (elem.attributes().get(\"class\").contains(\"pipeline-node\")) {\n+                // At least one child must have a timestamp class\n+                if (elem.childNodes().stream().anyMatch(child -> child.attr(\"class\").contains(\"timestamp\"))) {\n+                    Iterator<Node> nodeIterator = elem.childNodes().iterator();\n+\n+                    while (nodeIterator.hasNext()) {\n+                        Node node = nodeIterator.next();\n+                        final String log;\n+                        if (node.attributes().get(\"class\").contains(\"timestamp\")) {\n+                            final var timeAsString = ((TextNode) node.childNode(0).childNode(0)).getWholeText();\n+                            final var time = ZonedDateTime.parse(timeAsString, DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ssX\"));\n+                            var contentCandidate = nodeIterator.next();\n+\n+                            // Skip invisible entries (they contain only the timestamp, but we already got that above)\n+                            if (contentCandidate.attr(\"style\").contains(\"display: none\")) {", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgwNjM2MA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518806360", "bodyText": "I'm not aware of that.\nI could change the if to a while, that would solve the issue, but I'm not sure if this causes any other issues.", "author": "sleiss", "createdAt": "2020-11-06T15:00:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc1NTk1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODg5NTE1NA==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518895154", "bodyText": "I don't know the format, but I trust you on this \ud83d\ude04", "author": "kloessst", "createdAt": "2020-11-06T17:23:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc1NTk1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc1NjIwMg==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518756202", "bodyText": "DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ssX\") could move this out of the loops.", "author": "kloessst", "createdAt": "2020-11-06T13:39:07Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/jenkins/JenkinsService.java", "diffHunk": "@@ -465,6 +507,72 @@ private void addFeedbackToResult(Result result, TestResultsDTO report) {\n         }\n     }\n \n+    private List<BuildLogEntry> parsePipelineLogs(Element logHtml) throws IllegalArgumentException {\n+        final var buildLog = new LinkedList<BuildLogEntry>();\n+        if (logHtml.childNodes().stream().noneMatch(child -> child.attr(\"class\").contains(\"pipeline\"))) {\n+            throw new IllegalArgumentException(\"Log is not pipeline log\");\n+        }\n+        for (Element elem : logHtml.children()) {\n+            // Only pipeline-node-ID elements contain actual log entries\n+            if (elem.attributes().get(\"class\").contains(\"pipeline-node\")) {\n+                // At least one child must have a timestamp class\n+                if (elem.childNodes().stream().anyMatch(child -> child.attr(\"class\").contains(\"timestamp\"))) {\n+                    Iterator<Node> nodeIterator = elem.childNodes().iterator();\n+\n+                    while (nodeIterator.hasNext()) {\n+                        Node node = nodeIterator.next();\n+                        final String log;\n+                        if (node.attributes().get(\"class\").contains(\"timestamp\")) {\n+                            final var timeAsString = ((TextNode) node.childNode(0).childNode(0)).getWholeText();\n+                            final var time = ZonedDateTime.parse(timeAsString, DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ssX\"));", "originalCommit": "562f889c1603db1f44d0f39c3efd866b7fb08c0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgwNTA3OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r518805079", "bodyText": "Moved it into the class.", "author": "sleiss", "createdAt": "2020-11-06T14:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODc1NjIwMg=="}], "type": "inlineReview"}, {"oid": "0edb6fbf10a5b8cb45d0a54e47678c5d7b84078c", "url": "https://github.com/ls1intum/Artemis/commit/0edb6fbf10a5b8cb45d0a54e47678c5d7b84078c", "message": "Update docs/dev/setup/programming-exercises.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T14:49:52Z", "type": "commit"}, {"oid": "3ee3edde5c9a33e675de431d70d57c2c15d085df", "url": "https://github.com/ls1intum/Artemis/commit/3ee3edde5c9a33e675de431d70d57c2c15d085df", "message": "Update docs/dev/setup/programming-exercises.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T14:50:05Z", "type": "commit"}, {"oid": "590ceb75056c218fba4543d13f97ae3f8074d72e", "url": "https://github.com/ls1intum/Artemis/commit/590ceb75056c218fba4543d13f97ae3f8074d72e", "message": "Update docs/dev/setup/programming-exercises.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T14:50:14Z", "type": "commit"}, {"oid": "8b3ea3a9dbc56b508bbb2a8a211b1d6d6692e436", "url": "https://github.com/ls1intum/Artemis/commit/8b3ea3a9dbc56b508bbb2a8a211b1d6d6692e436", "message": "Update docs/dev/setup/programming-exercises.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T14:50:28Z", "type": "commit"}, {"oid": "e54ef68bf11fea49f1d501b70539a2cf7175b9a1", "url": "https://github.com/ls1intum/Artemis/commit/e54ef68bf11fea49f1d501b70539a2cf7175b9a1", "message": "Update docs/dev/setup/jenkins-gitlab.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T14:50:36Z", "type": "commit"}, {"oid": "b98ed3e2476164e2a104b95a423dca0c4c316d36", "url": "https://github.com/ls1intum/Artemis/commit/b98ed3e2476164e2a104b95a423dca0c4c316d36", "message": "Update docs/dev/setup/programming-exercises.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T14:50:46Z", "type": "commit"}, {"oid": "459fd48fe2a201d014ffe41d0c54cb6d78cbe088", "url": "https://github.com/ls1intum/Artemis/commit/459fd48fe2a201d014ffe41d0c54cb6d78cbe088", "message": "Merge branch 'develop' into feature/jenkins-pipeline", "committedDate": "2020-11-06T14:55:40Z", "type": "commit"}, {"oid": "cd2b2353d0ceed7d8ac915c15321d79a50f031f7", "url": "https://github.com/ls1intum/Artemis/commit/cd2b2353d0ceed7d8ac915c15321d79a50f031f7", "message": "Move DateTimeFormatter to class.", "committedDate": "2020-11-06T14:58:17Z", "type": "commit"}, {"oid": "8d8f0593440e065eceae2ab2115ba71ba91e62a8", "url": "https://github.com/ls1intum/Artemis/commit/8d8f0593440e065eceae2ab2115ba71ba91e62a8", "message": "Update docs/dev/setup/programming-exercises.rst\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-11-06T15:01:03Z", "type": "commit"}, {"oid": "58faca3b8aed93e096c90d5816e5f8f565b8b662", "url": "https://github.com/ls1intum/Artemis/commit/58faca3b8aed93e096c90d5816e5f8f565b8b662", "message": "Use Optionals for template path.", "committedDate": "2020-11-06T15:10:43Z", "type": "commit"}, {"oid": "cea8e4ad75d64d63b345e74b473d84915cd9cffc", "url": "https://github.com/ls1intum/Artemis/commit/cea8e4ad75d64d63b345e74b473d84915cd9cffc", "message": "Merge branch 'feature/jenkins-pipeline' of github.com:ls1intum/ArTEMiS into feature/jenkins-pipeline", "committedDate": "2020-11-06T15:11:07Z", "type": "commit"}, {"oid": "a83adac52e4326dd2e6623e33c6d00267f8031d4", "url": "https://github.com/ls1intum/Artemis/commit/a83adac52e4326dd2e6623e33c6d00267f8031d4", "message": "Revert accidential update.", "committedDate": "2020-11-07T14:34:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTczNDIxMg==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r519734212", "bodyText": "Is this just ISO_OFFSET_DATE_TIME?", "author": "MaisiKoleni", "createdAt": "2020-11-09T11:20:45Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/jenkins/JenkinsService.java", "diffHunk": "@@ -81,6 +82,9 @@\n \n     private final FeedbackService feedbackService;\n \n+    // Pattern of the DateTime that is included in the logs received from Jenkins\n+    private final DateTimeFormatter logDateTimeFormatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ssX\");", "originalCommit": "a83adac52e4326dd2e6623e33c6d00267f8031d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU3NDgxNw==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r520574817", "bodyText": "I think three ` are too much and only two are needed to highlight it as intended. The preview shows an extra `  surrounding the code fragment.\nThis needs to be changed in all below lines too.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            2. Add a new user to the remote machine that Jenkins will use: ```sudo adduser --disabled-password --gecos \"\" jenkins```\n          \n          \n            \n            2. Add a new user to the remote machine that Jenkins will use: ``sudo adduser --disabled-password --gecos \"\" jenkins``", "author": "derLalla", "createdAt": "2020-11-10T13:49:03Z", "path": "docs/dev/setup/jenkins-gitlab.rst", "diffHunk": "@@ -646,6 +661,67 @@ the following steps:\n     Depending on the version this setting might not be available anymore.\n     Have a look `here <https://unix.stackexchange.com/questions/444177/how-to-disable-the-csrf-protection-in-jenkins-by-default>`__ on how you can disable CSRF protection.\n \n+\n+Installing remote build agents\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+You might want to run the builds on additional Jenkins agents, especially if a large amount of students should use the system at the same time.\n+Jenkins supports remote build agents: The actual compilation of the students submissions happens on these other machines but the whole process is transparent to Artemis.\n+\n+This guide explains setting up a remote agent on an Ubuntu virtual machine that supports docker builds.\n+\n+Prerequisites:\n+1. Install Docker on the remote machine: https://docs.docker.com/engine/install/ubuntu/\n+\n+2. Add a new user to the remote machine that Jenkins will use: ```sudo adduser --disabled-password --gecos \"\" jenkins```", "originalCommit": "a83adac52e4326dd2e6623e33c6d00267f8031d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY0NDMxOQ==", "url": "https://github.com/ls1intum/Artemis/pull/2306#discussion_r520644319", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.\n          \n          \n            \n              However, changes that are saved in the online code editor but not yet commited will be lost when this folder is deleted.", "author": "derLalla", "createdAt": "2020-11-10T15:19:37Z", "path": "docs/dev/setup/programming-exercises.rst", "diffHunk": "@@ -0,0 +1,59 @@\n+Adjustments for programming exercises\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+There are several variables that can be configured when using programming exercises.\n+They are presented in this separate page to keep the 'normal' setup guide shorter.\n+\n+\n+Path variables\n+##############\n+\n+There are variables for several paths:\n+\n+- ``artemis.repo-clone-path``\n+\n+  Repositories that the Artemis server needs are stored in this folder.\n+  This e.g. affects repositories from students which use the online code editor or the template/solution repositories of new exercises, as they are pushed to the VCS after modification.\n+\n+  Files in this directory are usually not critical, as the latest pushed version of these repositories are also stored at the VCS.\n+  However, changed that are saved in the online code editor but not yet commited will be lost when this folder is deleted.", "originalCommit": "a83adac52e4326dd2e6623e33c6d00267f8031d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}