{"pr_number": 1827, "pr_title": "Feature/exam mode/updates from apollon", "pr_createdAt": "2020-07-06T22:20:54Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1827", "timeline": [{"oid": "542a689081199c61deac8f10a2384ad358ce936a", "url": "https://github.com/ls1intum/Artemis/commit/542a689081199c61deac8f10a2384ad358ce936a", "message": "modeling-editor.component.ts: output model changes\nmodeling-exam-submission.component.ts: set studentsubmission.isSynched = false on model changes", "committedDate": "2020-07-06T22:13:48Z", "type": "commit"}, {"oid": "76d079746a717ec868116c9221dfad1baabf463b", "url": "https://github.com/ls1intum/Artemis/commit/76d079746a717ec868116c9221dfad1baabf463b", "message": "remove unused import\nsimplify hasUnsavedChanges as suggested in the comment", "committedDate": "2020-07-06T22:17:05Z", "type": "commit"}, {"oid": "f57c3b5c240df19a1f269ac2ddc1d6e19388b7c2", "url": "https://github.com/ls1intum/Artemis/commit/f57c3b5c240df19a1f269ac2ddc1d6e19388b7c2", "message": "Merge branch 'develop' into feature/exam_mode/updates_from_apollon", "committedDate": "2020-07-06T22:21:03Z", "type": "commit"}, {"oid": "3941e863a0cae41a268469655e82b781589936af", "url": "https://github.com/ls1intum/Artemis/commit/3941e863a0cae41a268469655e82b781589936af", "message": "update apollon version with fix for changes on already loaded model", "committedDate": "2020-07-06T22:51:35Z", "type": "commit"}, {"oid": "949c47b35c0c98edcc1ac5058c563de2ba6d969f", "url": "https://github.com/ls1intum/Artemis/commit/949c47b35c0c98edcc1ac5058c563de2ba6d969f", "message": "Merge branch 'develop' into feature/exam_mode/updates_from_apollon", "committedDate": "2020-07-06T22:51:47Z", "type": "commit"}, {"oid": "b8565f5682dbfdfa0398dee1fe2d59500ea6af80", "url": "https://github.com/ls1intum/Artemis/commit/b8565f5682dbfdfa0398dee1fe2d59500ea6af80", "message": "Merge branch 'develop' into feature/exam_mode/updates_from_apollon", "committedDate": "2020-07-07T06:33:41Z", "type": "commit"}, {"oid": "efaf6706501759c25862fa56b6ccfe088ba1580c", "url": "https://github.com/ls1intum/Artemis/commit/efaf6706501759c25862fa56b6ccfe088ba1580c", "message": "Merge branch 'develop' into feature/exam_mode/updates_from_apollon", "committedDate": "2020-07-07T15:01:26Z", "type": "commit"}, {"oid": "a2e3e5eff79dad22d9513d5252f18366472c5614", "url": "https://github.com/ls1intum/Artemis/commit/a2e3e5eff79dad22d9513d5252f18366472c5614", "message": "Merge branch 'develop' into feature/exam_mode/updates_from_apollon", "committedDate": "2020-07-07T15:05:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIwMzgyNw==", "url": "https://github.com/ls1intum/Artemis/pull/1827#discussion_r452203827", "bodyText": "Why is the second ! needed here? Makes it look really strange :D", "author": "stefanwaldhauser", "createdAt": "2020-07-09T13:08:40Z", "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-exam-submission.component.ts", "diffHunk": "@@ -58,20 +57,7 @@ export class ModelingExamSubmissionComponent extends ExamSubmissionComponent imp\n      * Checks whether there are pending changes in the current model. Returns true if there are unsaved changes, false otherwise.\n      */\n     public hasUnsavedChanges(): boolean {\n-        // TODO: we should have a callback by Apollon. Whenever a student changes anything in the model, this will immediately set\n-        // this.studentSubmission.isSynced = false, then we can simply write here: return !this.studentSubmission.isSynced!;\n-        if (!this.modelingEditor || !this.modelingEditor.isApollonEditorMounted) {\n-            return false;\n-        }\n-        const currentApollonModel = this.modelingEditor.getCurrentModel();\n-\n-        if (this.studentSubmission && this.studentSubmission.model) {\n-            const currentSubmissionModel = JSON.parse(this.studentSubmission.model);\n-            const versionMatch = currentSubmissionModel.version === currentApollonModel.version;\n-            const modelMatch = stringifyIgnoringFields(currentSubmissionModel, 'size') === stringifyIgnoringFields(currentApollonModel, 'size');\n-            return versionMatch && !modelMatch;\n-        }\n-        return false;\n+        return !this.studentSubmission.isSynced!;", "originalCommit": "a2e3e5eff79dad22d9513d5252f18366472c5614", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI4NDA3NQ==", "url": "https://github.com/ls1intum/Artemis/pull/1827#discussion_r452284075", "bodyText": "I made it similar to other exercise components", "author": "TobiasPr", "createdAt": "2020-07-09T15:00:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIwMzgyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIwNDc0OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1827#discussion_r452204749", "bodyText": "Maybe simply name the unused variable _. Its a common convention :) Or maybe remove the parameter if you never use it? I did not immediately see a reason for keeping it", "author": "stefanwaldhauser", "createdAt": "2020-07-09T13:10:10Z", "path": "src/main/webapp/app/exam/participate/exercises/modeling/modeling-exam-submission.component.ts", "diffHunk": "@@ -80,4 +66,9 @@ export class ModelingExamSubmissionComponent extends ExamSubmissionComponent imp\n     get isActive(): boolean {\n         return this.exercise && (!this.exercise.dueDate || moment(this.exercise.dueDate).isSameOrAfter(moment()));\n     }\n+\n+    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n+    modelChanged(model: UMLModel) {", "originalCommit": "a2e3e5eff79dad22d9513d5252f18366472c5614", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI4NTEzNQ==", "url": "https://github.com/ls1intum/Artemis/pull/1827#discussion_r452285135", "bodyText": "because the output event gives the changed model, otherwise we have a compiler error in the html template - _ does not fix the linting error according to my IDE", "author": "TobiasPr", "createdAt": "2020-07-09T15:02:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIwNDc0OQ=="}], "type": "inlineReview"}]}