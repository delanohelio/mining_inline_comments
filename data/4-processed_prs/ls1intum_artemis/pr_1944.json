{"pr_number": 1944, "pr_title": "[Exam] Show error in client if submitting exam failed. Update Exam Page if student failed to submit on time", "pr_createdAt": "2020-07-20T13:05:05Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1944", "timeline": [{"oid": "ee4226010bb50871847e2ab788d06f0bba9d795b", "url": "https://github.com/ls1intum/Artemis/commit/ee4226010bb50871847e2ab788d06f0bba9d795b", "message": "Disabled hand in button if submission not in time", "committedDate": "2020-07-20T12:56:23Z", "type": "commit"}, {"oid": "22eeaa7188ee88df90e017f9e5540d34c3fcf79d", "url": "https://github.com/ls1intum/Artemis/commit/22eeaa7188ee88df90e017f9e5540d34c3fcf79d", "message": "handle http error in service\nset human readable error message", "committedDate": "2020-07-20T14:21:00Z", "type": "commit"}, {"oid": "57622630f64cbbe4b57662c68c3694a67242a42a", "url": "https://github.com/ls1intum/Artemis/commit/57622630f64cbbe4b57662c68c3694a67242a42a", "message": "Hide end page interactions if the student failed to submit on time", "committedDate": "2020-07-20T15:31:59Z", "type": "commit"}, {"oid": "7d41055a204c9d048d3ef09ddc49533afff3b973", "url": "https://github.com/ls1intum/Artemis/commit/7d41055a204c9d048d3ef09ddc49533afff3b973", "message": "Fix return type", "committedDate": "2020-07-20T16:36:42Z", "type": "commit"}, {"oid": "4f9e9920a63b781287d3c2fd0c3ecf05e089dc3d", "url": "https://github.com/ls1intum/Artemis/commit/4f9e9920a63b781287d3c2fd0c3ecf05e089dc3d", "message": "convert method call to getter", "committedDate": "2020-07-20T16:42:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0OTA2OA==", "url": "https://github.com/ls1intum/Artemis/pull/1944#discussion_r457549068", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            // Explicitly check whether the error was caused because the submission was not in-time, in this case, set hand in not possible\n          \n          \n            \n                            // Explicitly check whether the error was caused by the submission not being in-time, in this case, set hand in not possible", "author": "JonasPetry", "createdAt": "2020-07-20T16:43:49Z", "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -266,10 +267,19 @@ export class ExamParticipationComponent implements OnInit, OnDestroy, ComponentC\n      * triggered after student accepted exam end terms, will make final call to update submission on server\n      */\n     onExamEndConfirmed() {\n+        // temporary lock the submit button in order to protect against spam\n+        this.handInPossible = false;\n         if (this.autoSaveInterval) {\n             window.clearInterval(this.autoSaveInterval);\n         }\n-        this.examParticipationService.submitStudentExam(this.courseId, this.examId, this.studentExam).subscribe((studentExam) => (this.studentExam = studentExam));\n+        this.examParticipationService.submitStudentExam(this.courseId, this.examId, this.studentExam).subscribe(\n+            (studentExam) => (this.studentExam = studentExam),\n+            (error: Error) => {\n+                this.alertService.error(error.message);\n+                // Explicitly check whether the error was caused because the submission was not in-time, in this case, set hand in not possible", "originalCommit": "57622630f64cbbe4b57662c68c3694a67242a42a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU1MDEyNg==", "url": "https://github.com/ls1intum/Artemis/pull/1944#discussion_r457550126", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"handInFailed\": \"Die Abgabe der Klausur ist fehlgeschlagen. Bitte versuchen Sie es erneut!\"\n          \n          \n            \n                    \"handInFailed\": \"Die Abgabe der Klausur ist fehlgeschlagen. Bitte versuche es erneut!\"", "author": "JonasPetry", "createdAt": "2020-07-20T16:45:32Z", "path": "src/main/webapp/i18n/de/exam.json", "diffHunk": "@@ -268,6 +268,7 @@\n     },\n     \"studentExam\": {\n         \"alreadySubmitted\": \"Du hast bereits abgegeben.\",\n-        \"submissionNotInTime\": \"Du kannst nur zwischen Start und Ende der Klausur abgeben.\"\n+        \"submissionNotInTime\": \"Du hast die Klausur nicht rechtzeitig abgegeben. Sie wird nicht bewertet!\",\n+        \"handInFailed\": \"Die Abgabe der Klausur ist fehlgeschlagen. Bitte versuchen Sie es erneut!\"", "originalCommit": "4f9e9920a63b781287d3c2fd0c3ecf05e089dc3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1b7bacf17a8546dc110b18199b78a58a8e0adbe6", "url": "https://github.com/ls1intum/Artemis/commit/1b7bacf17a8546dc110b18199b78a58a8e0adbe6", "message": "Update src/main/webapp/app/exam/participate/exam-participation.component.ts\n\nCo-authored-by: Jonas Petry <51994246+JonasPetry@users.noreply.github.com>", "committedDate": "2020-07-20T16:49:57Z", "type": "commit"}, {"oid": "9c5ccddc39413cca3a39963122fdf863f3cb632c", "url": "https://github.com/ls1intum/Artemis/commit/9c5ccddc39413cca3a39963122fdf863f3cb632c", "message": "Update src/main/webapp/i18n/de/exam.json\n\nCo-authored-by: Jonas Petry <51994246+JonasPetry@users.noreply.github.com>", "committedDate": "2020-07-20T16:50:08Z", "type": "commit"}, {"oid": "5a5bf4f70345042dcced300cc478ae83dd4f70b5", "url": "https://github.com/ls1intum/Artemis/commit/5a5bf4f70345042dcced300cc478ae83dd4f70b5", "message": "remove unused import", "committedDate": "2020-07-20T17:05:30Z", "type": "commit"}, {"oid": "00bfe6bef69a34bd3aafe79446783325f1ece154", "url": "https://github.com/ls1intum/Artemis/commit/00bfe6bef69a34bd3aafe79446783325f1ece154", "message": "Merge branch 'bugfix/grace-period' of github.com:ls1intum/Artemis into bugfix/grace-period", "committedDate": "2020-07-20T17:05:50Z", "type": "commit"}, {"oid": "82427d0aa27770c5b9e0af6157d5ec94a06072a8", "url": "https://github.com/ls1intum/Artemis/commit/82427d0aa27770c5b9e0af6157d5ec94a06072a8", "message": "fix shadowed variable name", "committedDate": "2020-07-20T17:19:45Z", "type": "commit"}, {"oid": "c621d2c5be3008f9ae1ef17cc75aa73237eb8187", "url": "https://github.com/ls1intum/Artemis/commit/c621d2c5be3008f9ae1ef17cc75aa73237eb8187", "message": "center alerts on page", "committedDate": "2020-07-21T09:47:51Z", "type": "commit"}]}