{"pr_number": 1798, "pr_title": "[Exam] randomize order for quizzes", "pr_createdAt": "2020-07-03T08:52:45Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1798", "timeline": [{"oid": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159", "url": "https://github.com/ls1intum/Artemis/commit/63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159", "message": "randomize order in quizzes", "committedDate": "2020-07-03T08:50:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwNTIzNg==", "url": "https://github.com/ls1intum/Artemis/pull/1798#discussion_r449805236", "bodyText": "this code is copied from quiz-participation.component.ts\nCan you please move it into some service to avoid duplication?", "author": "krusche", "createdAt": "2020-07-04T21:00:51Z", "path": "src/main/webapp/app/exam/participate/exercises/quiz/quiz-exam-submission.component.ts", "diffHunk": "@@ -236,4 +240,47 @@ export class QuizExamSubmissionComponent extends ExamSubmissionComponent impleme\n         }, this);\n         this.studentSubmission.isSynced = false;\n     }\n+\n+    /**\n+     * Randomize the order of the questions\n+     * (and answerOptions or dragItems within each question)\n+     * if randomizeOrder is true\n+     *\n+     * @param quizExercise {object} the quizExercise to randomize elements in\n+     */\n+    randomizeOrder(quizExercise: QuizExercise) {\n+        if (quizExercise.quizQuestions) {\n+            // shuffle questions\n+            if (quizExercise.randomizeQuestionOrder) {\n+                this.shuffle(quizExercise.quizQuestions);\n+            }\n+\n+            // shuffle answerOptions / dragItems within questions\n+            quizExercise.quizQuestions.forEach((question) => {\n+                if (question.randomizeOrder) {\n+                    if (question.type === QuizQuestionType.MULTIPLE_CHOICE) {\n+                        this.shuffle((question as MultipleChoiceQuestion).answerOptions!);\n+                    } else if (question.type === QuizQuestionType.DRAG_AND_DROP) {\n+                        this.shuffle((question as DragAndDropQuestion).dragItems);\n+                    } else if (question.type === QuizQuestionType.SHORT_ANSWER) {\n+                    } else {\n+                        console.log('Unknown question type: ' + question);\n+                    }\n+                }\n+            }, this);\n+        }\n+    }\n+\n+    /**\n+     * Shuffles array in place.\n+     * @param {Array} items An array containing the items.\n+     */\n+    shuffle<T>(items: T[]) {", "originalCommit": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwNTI0Mg==", "url": "https://github.com/ls1intum/Artemis/pull/1798#discussion_r449805242", "bodyText": "this code is copied from quiz-participation.component.ts\nCan you please move it into some service to avoid duplication?", "author": "krusche", "createdAt": "2020-07-04T21:00:58Z", "path": "src/main/webapp/app/exam/participate/exercises/quiz/quiz-exam-submission.component.ts", "diffHunk": "@@ -236,4 +240,47 @@ export class QuizExamSubmissionComponent extends ExamSubmissionComponent impleme\n         }, this);\n         this.studentSubmission.isSynced = false;\n     }\n+\n+    /**\n+     * Randomize the order of the questions\n+     * (and answerOptions or dragItems within each question)\n+     * if randomizeOrder is true\n+     *\n+     * @param quizExercise {object} the quizExercise to randomize elements in\n+     */\n+    randomizeOrder(quizExercise: QuizExercise) {", "originalCommit": "63011721eeb7c5ca8b9ba7d46fe42bc9ab2c1159", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0da4f3f082bf2165d09dae56640aea10229de063", "url": "https://github.com/ls1intum/Artemis/commit/0da4f3f082bf2165d09dae56640aea10229de063", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into exam/quiz/randomize", "committedDate": "2020-07-05T11:41:31Z", "type": "commit"}, {"oid": "497678311509b1c5381ad403e2d7dbb64646cddd", "url": "https://github.com/ls1intum/Artemis/commit/497678311509b1c5381ad403e2d7dbb64646cddd", "message": "extract into service", "committedDate": "2020-07-05T11:51:59Z", "type": "commit"}, {"oid": "3e21e95cd6f0e917581cfc5ce747498c7559178e", "url": "https://github.com/ls1intum/Artemis/commit/3e21e95cd6f0e917581cfc5ce747498c7559178e", "message": "rename file", "committedDate": "2020-07-05T15:43:08Z", "type": "commit"}, {"oid": "07c00b05a634a9ff7f92e9e5f4212a09f3aac8d2", "url": "https://github.com/ls1intum/Artemis/commit/07c00b05a634a9ff7f92e9e5f4212a09f3aac8d2", "message": "prettier", "committedDate": "2020-07-05T15:59:35Z", "type": "commit"}]}