{"pr_number": 2106, "pr_title": "[Feature] Side-by-side view for plagiarism inspection (Modeling Exercises)", "pr_createdAt": "2020-09-16T17:14:14Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2106", "timeline": [{"oid": "090a6c157717081870fd0493421d27e0eba13874", "url": "https://github.com/ls1intum/Artemis/commit/090a6c157717081870fd0493421d27e0eba13874", "message": "Add plagiarism module and plagiarism-inspector component", "committedDate": "2020-09-14T21:21:24Z", "type": "commit"}, {"oid": "ec39e1aa61a9192db7b948d9e3ec456850d846ce", "url": "https://github.com/ls1intum/Artemis/commit/ec39e1aa61a9192db7b948d9e3ec456850d846ce", "message": "Add plagiarism-header and plagiarism-split-view components", "committedDate": "2020-09-15T07:15:46Z", "type": "commit"}, {"oid": "d91fc179f3ec46d1ca7ba461703f4cd5bfb9a75c", "url": "https://github.com/ls1intum/Artemis/commit/d91fc179f3ec46d1ca7ba461703f4cd5bfb9a75c", "message": "Add split.js to the project", "committedDate": "2020-09-15T10:30:20Z", "type": "commit"}, {"oid": "fdb706814bee68e3147798316bffb2fe76183f59", "url": "https://github.com/ls1intum/Artemis/commit/fdb706814bee68e3147798316bffb2fe76183f59", "message": "Update split gutter styles", "committedDate": "2020-09-15T11:18:39Z", "type": "commit"}, {"oid": "554bcc8455470e148b7f9903b700125dccbe13fd", "url": "https://github.com/ls1intum/Artemis/commit/554bcc8455470e148b7f9903b700125dccbe13fd", "message": "Update plagiarism styles", "committedDate": "2020-09-15T19:29:13Z", "type": "commit"}, {"oid": "dd640343e2cd51aaa247be5953fd607085c314f6", "url": "https://github.com/ls1intum/Artemis/commit/dd640343e2cd51aaa247be5953fd607085c314f6", "message": "Add split controls to plagiarism-header component", "committedDate": "2020-09-16T14:36:22Z", "type": "commit"}, {"oid": "9839e28a673bb36d7525509f35f4093bc7c67fc5", "url": "https://github.com/ls1intum/Artemis/commit/9839e28a673bb36d7525509f35f4093bc7c67fc5", "message": "Add split control logic", "committedDate": "2020-09-16T18:32:57Z", "type": "commit"}, {"oid": "5418ecf7e1ae6b735a95d6cf6782020145456c6c", "url": "https://github.com/ls1intum/Artemis/commit/5418ecf7e1ae6b735a95d6cf6782020145456c6c", "message": "Update plagiarism sidebar", "committedDate": "2020-09-19T21:17:06Z", "type": "commit"}, {"oid": "2bbe2e217239b261c37e083ffbbec052c7834030", "url": "https://github.com/ls1intum/Artemis/commit/2bbe2e217239b261c37e083ffbbec052c7834030", "message": "Move checkPlagiarism() functionality to plagiarism inspector", "committedDate": "2020-09-20T22:24:04Z", "type": "commit"}, {"oid": "b667accb7838c1e971bd2402918338cb1603ad04", "url": "https://github.com/ls1intum/Artemis/commit/b667accb7838c1e971bd2402918338cb1603ad04", "message": "Fix plagiarism inspector layout", "committedDate": "2020-09-20T22:50:14Z", "type": "commit"}, {"oid": "fb2db9c7d11cbeca95d1ca26fb1a6d3948b777ad", "url": "https://github.com/ls1intum/Artemis/commit/fb2db9c7d11cbeca95d1ca26fb1a6d3948b777ad", "message": "Add modeling editor to plagiarism split view", "committedDate": "2020-09-22T08:12:04Z", "type": "commit"}, {"oid": "7b4cffa36eae58d6064e420af8d2d24358283403", "url": "https://github.com/ls1intum/Artemis/commit/7b4cffa36eae58d6064e420af8d2d24358283403", "message": "Merge branch 'develop' into feature/side-by-side-view", "committedDate": "2020-09-22T20:30:55Z", "type": "commit"}, {"oid": "3f71a1a04c95aeb6fec9b21bd8ae53832b823e5b", "url": "https://github.com/ls1intum/Artemis/commit/3f71a1a04c95aeb6fec9b21bd8ae53832b823e5b", "message": "Add functionality to tag a plagiarism; add split pane headers", "committedDate": "2020-09-22T22:16:46Z", "type": "commit"}, {"oid": "35ebeaf2f7d2cb1556ba296a6f39c9bb63f80093", "url": "https://github.com/ls1intum/Artemis/commit/35ebeaf2f7d2cb1556ba296a6f39c9bb63f80093", "message": "Merge branch 'develop' into feature/side-by-side-view", "committedDate": "2020-09-22T22:22:03Z", "type": "commit"}, {"oid": "afc1c5e314cfc56606ddce2d11644d814924859f", "url": "https://github.com/ls1intum/Artemis/commit/afc1c5e314cfc56606ddce2d11644d814924859f", "message": "Merge branch 'develop' into feature/side-by-side-view", "committedDate": "2020-09-24T08:56:12Z", "type": "commit"}, {"oid": "1e80b7f9196584154fd5a723b712941b673711df", "url": "https://github.com/ls1intum/Artemis/commit/1e80b7f9196584154fd5a723b712941b673711df", "message": "Add warning message to plagiarism header", "committedDate": "2020-09-24T11:27:46Z", "type": "commit"}, {"oid": "7d9695c44977ba66cd2e1ba872bc447fe8dd6d78", "url": "https://github.com/ls1intum/Artemis/commit/7d9695c44977ba66cd2e1ba872bc447fe8dd6d78", "message": "Include 'confirmed' property in plagiarism export", "committedDate": "2020-09-24T11:35:12Z", "type": "commit"}, {"oid": "81ea385d04ef625c8a2dc36a906bd2cf08310257", "url": "https://github.com/ls1intum/Artemis/commit/81ea385d04ef625c8a2dc36a906bd2cf08310257", "message": "Sort plagiarisms in descending order by similarity", "committedDate": "2020-09-24T11:44:36Z", "type": "commit"}, {"oid": "2cbb9cdc9f740f986d1206346aa6f3a9b1001cce", "url": "https://github.com/ls1intum/Artemis/commit/2cbb9cdc9f740f986d1206346aa6f3a9b1001cce", "message": "Merge branch 'develop' into feature/side-by-side-view", "committedDate": "2020-09-28T11:37:40Z", "type": "commit"}, {"oid": "2c1996938728715021b5700742a36b89d7f76fcd", "url": "https://github.com/ls1intum/Artemis/commit/2c1996938728715021b5700742a36b89d7f76fcd", "message": "Add student logins to plagiarism item", "committedDate": "2020-09-28T13:30:49Z", "type": "commit"}, {"oid": "041a1c5186bc6d8274cd3e743818f01bf0cf9952", "url": "https://github.com/ls1intum/Artemis/commit/041a1c5186bc6d8274cd3e743818f01bf0cf9952", "message": "Codacity fix", "committedDate": "2020-09-28T14:33:01Z", "type": "commit"}, {"oid": "c52009626dc70f6c61616ac380e7127a45e8cad0", "url": "https://github.com/ls1intum/Artemis/commit/c52009626dc70f6c61616ac380e7127a45e8cad0", "message": "Add missing translations", "committedDate": "2020-09-28T15:10:23Z", "type": "commit"}, {"oid": "b297ed2edb93eb08d06bf3e25f66a1deac57ff58", "url": "https://github.com/ls1intum/Artemis/commit/b297ed2edb93eb08d06bf3e25f66a1deac57ff58", "message": "Fix code style issues", "committedDate": "2020-09-28T15:30:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIwMDAwNA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496200004", "bodyText": "There is an extra \"s\" you missed.", "author": "sjagla27", "createdAt": "2020-09-28T20:02:21Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-split-view/plagiarism-split-view.component.html", "diffHunk": "@@ -0,0 +1,11 @@\n+<div class=\"plagiarism-split-view\">\n+    <div class=\"plagiarism-split-pane\" jhiPane>\n+        <div class=\"plagiarism-split-pane-header\">{{ comparison?.element1.studentLogin }}</div>\n+        <jhi-modeling-editor *ngIf=\"submission1\" [umlModel]=\"submission1?.model\" [diagramType]=\"'ClassDiagram'\" [readOnly]=\"true\"></jhi-modeling-editor>\n+    </div>\n+    <div class=\"plagiarism-split-pane\" jhiPane>\n+        <div class=\"plagiarism-split-pane-header\">{{ comparison?.element2.studentLogin }}</div>\n+        <jhi-modeling-editor *ngIf=\"submission2\" [umlModel]=\"submission2?.model\" [diagramType]=\"'ClassDiagram'\" [readOnly]=\"true\"></jhi-modeling-editor>\n+    </div>\n+    s", "originalCommit": "b297ed2edb93eb08d06bf3e25f66a1deac57ff58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e245c692b61b550cbc74f97a52336bf3118891a8", "url": "https://github.com/ls1intum/Artemis/commit/e245c692b61b550cbc74f97a52336bf3118891a8", "message": "Handle overflow in plagiarism sidebar", "committedDate": "2020-09-28T21:08:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY0OTU3Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496649576", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"split.js\": \"^1.6.2\",\n          \n          \n            \n                    \"split.js\": \"1.6.2\",", "author": "krusche", "createdAt": "2020-09-29T11:42:22Z", "path": "package.json", "diffHunk": "@@ -73,6 +73,7 @@\n         \"simple-statistics\": \"7.2.0\",\n         \"smoothscroll-polyfill\": \"0.4.4\",\n         \"sockjs-client\": \"1.5.0\",\n+        \"split.js\": \"^1.6.2\",", "originalCommit": "e245c692b61b550cbc74f97a52336bf3118891a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "946fea800840c7737d9c8ec1a2c192e9e419d248", "url": "https://github.com/ls1intum/Artemis/commit/946fea800840c7737d9c8ec1a2c192e9e419d248", "message": "Update split.js version in package.json", "committedDate": "2020-09-29T11:47:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1MjI1Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496652252", "bodyText": "You can just use the routerLink directive here. If you are not using it on an ancheor tag, it will automatically bound to the clickEvent of the element. This saves you a method call", "author": "stefanwaldhauser", "createdAt": "2020-09-29T11:47:25Z", "path": "src/main/webapp/app/exercises/modeling/manage/modeling-exercise-detail.component.html", "diffHunk": "@@ -37,16 +37,10 @@ <h2><span jhiTranslate=\"artemisApp.modelingExercise.detail.title\">Modeling Exerc\n                 <fa-icon [icon]=\"'pencil-alt'\"></fa-icon>&nbsp;<span jhiTranslate=\"entity.action.edit\"> Edit</span>\n             </button>\n \n-            <div ngbDropdown class=\"d-inline-block mr-1 ml-2\">\n-                <button class=\"btn btn-outline-primary\" id=\"check-plagiarism-download\" ngbDropdownToggle [disabled]=\"checkPlagiarismInProgress\">\n-                    <span *ngIf=\"this.checkPlagiarismInProgress\" class=\"mr-1\"><fa-icon [icon]=\"'circle-notch'\" spin=\"true\"></fa-icon></span>\n-                    <span jhiTranslate=\"artemisApp.textExercise.checkPlagiarism\">Check Plagiarism</span>\n-                </button>\n-                <div ngbDropdownMenu aria-labelledby=\"check-plagiarism-download\">\n-                    <button type=\"button\" (click)=\"checkPlagiarismJson()\" ngbDropdownItem>JSON</button>\n-                    <button type=\"button\" (click)=\"checkPlagiarismCsv()\" ngbDropdownItem>CSV</button>\n-                </div>\n-            </div>\n+            <button class=\"btn btn-outline-primary\" id=\"check-plagiarism-download\" [disabled]=\"checkPlagiarismInProgress\" (click)=\"navigateToPlagiarismInspection()\">", "originalCommit": "e245c692b61b550cbc74f97a52336bf3118891a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1MjU4NA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496652584", "bodyText": "Remove and do it via the routerLink directive as explained in the other comment :)", "author": "stefanwaldhauser", "createdAt": "2020-09-29T11:48:02Z", "path": "src/main/webapp/app/exercises/modeling/manage/modeling-exercise-detail.component.ts", "diffHunk": "@@ -57,79 +55,12 @@ export class ModelingExerciseDetailComponent implements OnInit, OnDestroy {\n         });\n     }\n \n-    checkPlagiarismJson() {\n-        this.checkPlagiarism((data) => {\n-            const json = JSON.stringify(data);\n-            const blob = new Blob([json], { type: 'application/json' });\n-            downloadFile(blob, `check-plagiarism-modeling-exercise_${this.modelingExercise.id}.json`);\n+    navigateToPlagiarismInspection() {", "originalCommit": "e245c692b61b550cbc74f97a52336bf3118891a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1NDExMA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496654110", "bodyText": "Why can this be undefined? Would it not make sense that it is always either true or false?", "author": "stefanwaldhauser", "createdAt": "2020-09-29T11:50:57Z", "path": "src/main/webapp/app/exercises/modeling/manage/modeling-exercise.service.ts", "diffHunk": "@@ -14,6 +14,7 @@ export type EntityArrayResponseType = HttpResponse<ModelingExercise[]>;\n export type ModelingSubmissionComparisonDTO = {\n     element1: ModelingSubmissionComparisonElement;\n     element2: ModelingSubmissionComparisonElement;\n+    confirmed?: boolean;", "originalCommit": "e245c692b61b550cbc74f97a52336bf3118891a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc0MjI2MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496742261", "bodyText": "The plagiarism detection result from the backend does not include the confirmed attribute on plagiarisms. It is only added if either an instructor or TA has manually confirmed/denied a plagiarism. So if confirmed is undefined, it still needs manual inspection.\nMaybe we could use an enum here:\nenum PlagiarismStatus {\n    CONFIRMED = 'CONFIRMED',\n    DENIED = 'DENIED',\n    PENDING = 'PENDING',\n}", "author": "philippbauch", "createdAt": "2020-09-29T14:01:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1NDExMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc3Njg1NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496776855", "bodyText": "I think for now this should be fine. Can think about using an enum instead in a future follow-up PR \ud83d\udc4d", "author": "philippbauch", "createdAt": "2020-09-29T14:44:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1NDExMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1NDc4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496654787", "bodyText": "the naming does not really make sense for a boolean? You are not emitting the tag", "author": "stefanwaldhauser", "createdAt": "2020-09-29T11:52:18Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-header/plagiarism-header.component.ts", "diffHunk": "@@ -0,0 +1,16 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+\n+@Component({\n+    selector: 'jhi-plagiarism-header',\n+    styleUrls: ['./plagiarism-header.component.scss'],\n+    templateUrl: './plagiarism-header.component.html',\n+})\n+export class PlagiarismHeaderComponent {\n+    @Input() comparisonIdx: number;\n+    @Output() split = new EventEmitter<string>();\n+    @Output() tag = new EventEmitter<boolean>();", "originalCommit": "e245c692b61b550cbc74f97a52336bf3118891a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc1MDgxMA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496750810", "bodyText": "I updated the name of both split and tag according to @fde312's feedback \ud83d\udc4d", "author": "philippbauch", "createdAt": "2020-09-29T14:12:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY1NDc4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY2MTQwOQ==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496661409", "bodyText": "You do not need a method for this. Just use the routerLink directive :)", "author": "stefanwaldhauser", "createdAt": "2020-09-29T12:04:53Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-inspector/plagiarism-inspector.component.ts", "diffHunk": "@@ -0,0 +1,135 @@\n+import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { HttpResponse } from '@angular/common/http';\n+import { ActivatedRoute, Router } from '@angular/router';\n+import { Subject, Subscription } from 'rxjs';\n+import { ModelingExerciseService, ModelingSubmissionComparisonDTO } from 'app/exercises/modeling/manage/modeling-exercise.service';\n+import { ModelingExercise } from 'app/entities/modeling-exercise.model';\n+import { downloadFile } from 'app/shared/util/download.util';\n+import { ExportToCsv } from 'export-to-csv';\n+\n+@Component({\n+    selector: 'jhi-plagiarism-inspector',\n+    styleUrls: ['./plagiarism-inspector.component.scss'],\n+    templateUrl: './plagiarism-inspector.component.html',\n+})\n+export class PlagiarismInspectorComponent implements OnDestroy, OnInit {\n+    selectedComparisonIndex: number;\n+    checkPlagiarismInProgress: boolean;\n+    modelingExercise: ModelingExercise;\n+    modelingSubmissionComparisons: Array<ModelingSubmissionComparisonDTO>;\n+    splitControlSubject: Subject<string> = new Subject<string>();\n+\n+    private subscription: Subscription;\n+\n+    constructor(private route: ActivatedRoute, private router: Router, private modelingExerciseService: ModelingExerciseService) {}\n+\n+    ngOnInit() {\n+        this.subscription = this.route.params.subscribe((params) => {\n+            this.modelingExerciseService.find(params['exerciseId']).subscribe((response: HttpResponse<ModelingExercise>) => {\n+                this.modelingExercise = response.body!;\n+            });\n+        });\n+    }\n+\n+    ngOnDestroy() {\n+        this.subscription.unsubscribe();\n+    }\n+\n+    handleTagPlagiarism(confirmed: boolean) {\n+        this.modelingSubmissionComparisons[this.selectedComparisonIndex].confirmed = confirmed;\n+    }\n+\n+    checkPlagiarismJson() {\n+        const json = JSON.stringify(this.modelingSubmissionComparisons);\n+        const blob = new Blob([json], { type: 'application/json' });\n+        downloadFile(blob, `check-plagiarism-modeling-exercise_${this.modelingExercise.id}.json`);\n+    }\n+\n+    checkPlagiarismCsv() {\n+        if (this.modelingSubmissionComparisons.length > 0) {\n+            const csvExporter = new ExportToCsv({\n+                fieldSeparator: ';',\n+                quoteStrings: '\"',\n+                decimalSeparator: 'locale',\n+                showLabels: true,\n+                title: `Plagiarism Check for Modeling Exercise ${this.modelingExercise.id}: ${this.modelingExercise.title}`,\n+                filename: `check-plagiarism-modeling-exercise-${this.modelingExercise.id}-${this.modelingExercise.title}`,\n+                useTextFile: false,\n+                useBom: true,\n+                headers: [\n+                    'Similarity',\n+                    'Confirmed',\n+                    'Participant 1',\n+                    'Submission 1',\n+                    'Score 1',\n+                    'Size 1',\n+                    'Link 1',\n+                    'Participant 2',\n+                    'Submission 2',\n+                    'Score 2',\n+                    'Size 2',\n+                    'Link 2',\n+                ],\n+            });\n+\n+            const courseId = this.modelingExercise.course ? this.modelingExercise.course.id : this.modelingExercise.exerciseGroup?.exam?.course?.id;\n+\n+            const baseUrl = location.origin + '/#/course-management/';\n+\n+            const csvData = this.modelingSubmissionComparisons.map((comparisonResult) => {\n+                return Object.assign({\n+                    Similarity: comparisonResult.similarity,\n+                    Confirmed: comparisonResult.confirmed ?? '',\n+                    'Participant 1': comparisonResult.element1.studentLogin,\n+                    'Submission 1': comparisonResult.element1.submissionId,\n+                    'Score 1': comparisonResult.element1.score,\n+                    'Size 1': comparisonResult.element1.size,\n+                    'Link 1':\n+                        baseUrl +\n+                        courseId +\n+                        '/modeling-exercises/' +\n+                        this.modelingExercise.id +\n+                        '/submissions/' +\n+                        comparisonResult.element1.submissionId +\n+                        '/assessment?optimal=false&hideBackButton=true',\n+                    'Participant 2': comparisonResult.element2.studentLogin,\n+                    'Submission 2': comparisonResult.element2.submissionId,\n+                    'Score 2': comparisonResult.element2.score,\n+                    'Size 2': comparisonResult.element2.size,\n+                    'Link 2':\n+                        baseUrl +\n+                        courseId +\n+                        '/modeling-exercises/' +\n+                        this.modelingExercise.id +\n+                        '/submissions/' +\n+                        comparisonResult.element2.submissionId +\n+                        '/assessment?optimal=false&hideBackButton=true',\n+                });\n+            });\n+\n+            csvExporter.generateCsv(csvData);\n+        }\n+    }\n+\n+    goBack() {", "originalCommit": "946fea800840c7737d9c8ec1a2c192e9e419d248", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY2MjA4OA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496662088", "bodyText": "Should this not be named something like isPlagiarismCheckInProgress?", "author": "stefanwaldhauser", "createdAt": "2020-09-29T12:05:54Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-inspector/plagiarism-inspector.component.ts", "diffHunk": "@@ -0,0 +1,135 @@\n+import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { HttpResponse } from '@angular/common/http';\n+import { ActivatedRoute, Router } from '@angular/router';\n+import { Subject, Subscription } from 'rxjs';\n+import { ModelingExerciseService, ModelingSubmissionComparisonDTO } from 'app/exercises/modeling/manage/modeling-exercise.service';\n+import { ModelingExercise } from 'app/entities/modeling-exercise.model';\n+import { downloadFile } from 'app/shared/util/download.util';\n+import { ExportToCsv } from 'export-to-csv';\n+\n+@Component({\n+    selector: 'jhi-plagiarism-inspector',\n+    styleUrls: ['./plagiarism-inspector.component.scss'],\n+    templateUrl: './plagiarism-inspector.component.html',\n+})\n+export class PlagiarismInspectorComponent implements OnDestroy, OnInit {\n+    selectedComparisonIndex: number;\n+    checkPlagiarismInProgress: boolean;", "originalCommit": "946fea800840c7737d9c8ec1a2c192e9e419d248", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjczMzExMQ==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496733111", "bodyText": "I don't exactly know about our preferred naming convention, but personally, I would use isPlagiarismCheckInProgress() as a function name (asking a question) and plagiarismCheckInProgress as the name of the answer to that question, containing the actual boolean value.\nI could rename checkPlagiarismInProgress to plagiarismCheckInProgress, as the prefix check might be confusing and more suitable for a function name.", "author": "philippbauch", "createdAt": "2020-09-29T13:49:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY2MjA4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY2MzYzOA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496663638", "bodyText": "You do not need to unsubscribe to http subscriptions as far as i know.\nhttps://medium.com/@lukaonik/do-we-need-to-unsubscribe-http-client-in-angular-86d781522b99", "author": "stefanwaldhauser", "createdAt": "2020-09-29T12:08:47Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-inspector/plagiarism-inspector.component.ts", "diffHunk": "@@ -0,0 +1,135 @@\n+import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { HttpResponse } from '@angular/common/http';\n+import { ActivatedRoute, Router } from '@angular/router';\n+import { Subject, Subscription } from 'rxjs';\n+import { ModelingExerciseService, ModelingSubmissionComparisonDTO } from 'app/exercises/modeling/manage/modeling-exercise.service';\n+import { ModelingExercise } from 'app/entities/modeling-exercise.model';\n+import { downloadFile } from 'app/shared/util/download.util';\n+import { ExportToCsv } from 'export-to-csv';\n+\n+@Component({\n+    selector: 'jhi-plagiarism-inspector',\n+    styleUrls: ['./plagiarism-inspector.component.scss'],\n+    templateUrl: './plagiarism-inspector.component.html',\n+})\n+export class PlagiarismInspectorComponent implements OnDestroy, OnInit {\n+    selectedComparisonIndex: number;\n+    checkPlagiarismInProgress: boolean;\n+    modelingExercise: ModelingExercise;\n+    modelingSubmissionComparisons: Array<ModelingSubmissionComparisonDTO>;\n+    splitControlSubject: Subject<string> = new Subject<string>();\n+\n+    private subscription: Subscription;\n+\n+    constructor(private route: ActivatedRoute, private router: Router, private modelingExerciseService: ModelingExerciseService) {}\n+\n+    ngOnInit() {\n+        this.subscription = this.route.params.subscribe((params) => {\n+            this.modelingExerciseService.find(params['exerciseId']).subscribe((response: HttpResponse<ModelingExercise>) => {\n+                this.modelingExercise = response.body!;\n+            });\n+        });\n+    }\n+\n+    ngOnDestroy() {\n+        this.subscription.unsubscribe();", "originalCommit": "946fea800840c7737d9c8ec1a2c192e9e419d248", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjczMzE1MA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496733150", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Output() tag = new EventEmitter<boolean>();\n          \n          \n            \n                @Output() onPlagiarismConfirmation = new EventEmitter<boolean>();", "author": "fde312", "createdAt": "2020-09-29T13:49:56Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-header/plagiarism-header.component.ts", "diffHunk": "@@ -0,0 +1,16 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+\n+@Component({\n+    selector: 'jhi-plagiarism-header',\n+    styleUrls: ['./plagiarism-header.component.scss'],\n+    templateUrl: './plagiarism-header.component.html',\n+})\n+export class PlagiarismHeaderComponent {\n+    @Input() comparisonIdx: number;\n+    @Output() split = new EventEmitter<string>();\n+    @Output() tag = new EventEmitter<boolean>();", "originalCommit": "946fea800840c7737d9c8ec1a2c192e9e419d248", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjczNDgwMA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496734800", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Output() split = new EventEmitter<string>();\n          \n          \n            \n                @Output() onSplitViewChange = new EventEmitter<string>();", "author": "fde312", "createdAt": "2020-09-29T13:51:55Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-header/plagiarism-header.component.ts", "diffHunk": "@@ -0,0 +1,16 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+\n+@Component({\n+    selector: 'jhi-plagiarism-header',\n+    styleUrls: ['./plagiarism-header.component.scss'],\n+    templateUrl: './plagiarism-header.component.html',\n+})\n+export class PlagiarismHeaderComponent {\n+    @Input() comparisonIdx: number;\n+    @Output() split = new EventEmitter<string>();", "originalCommit": "946fea800840c7737d9c8ec1a2c192e9e419d248", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "25c0f32e590faf8775694a6393bfb0c7997bbd51", "url": "https://github.com/ls1intum/Artemis/commit/25c0f32e590faf8775694a6393bfb0c7997bbd51", "message": "Rename EventEmitters in PlagiarismHeaderComponent", "committedDate": "2020-09-29T14:10:13Z", "type": "commit"}, {"oid": "8c100b94f01f93d94dd62d17f609f0b554a84ec0", "url": "https://github.com/ls1intum/Artemis/commit/8c100b94f01f93d94dd62d17f609f0b554a84ec0", "message": "Make use of the routerLink directive to navigate to and from the PlagiarismInspectorComponent", "committedDate": "2020-09-29T14:25:03Z", "type": "commit"}, {"oid": "7bf0dc38a2edff3e74ccb0c80a508957443751af", "url": "https://github.com/ls1intum/Artemis/commit/7bf0dc38a2edff3e74ccb0c80a508957443751af", "message": "Import missing RouterModule to ArtemisPlagiarismModule", "committedDate": "2020-09-29T14:32:45Z", "type": "commit"}, {"oid": "98e0345dc595c75eaf5f41593eb34cb40bfdf181", "url": "https://github.com/ls1intum/Artemis/commit/98e0345dc595c75eaf5f41593eb34cb40bfdf181", "message": "Remove unnecessary ngOnDestroy", "committedDate": "2020-09-29T14:33:42Z", "type": "commit"}, {"oid": "a501c621e8644de9a52b9fa5ea3baa6d13e7e0e5", "url": "https://github.com/ls1intum/Artemis/commit/a501c621e8644de9a52b9fa5ea3baa6d13e7e0e5", "message": "Update the name of the loading flag in PlagiarismInspectorComponent", "committedDate": "2020-09-29T14:47:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc5OTIxOA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496799218", "bodyText": "Build is failing I think because of this.", "author": "fde312", "createdAt": "2020-09-29T15:11:54Z", "path": "src/main/webapp/app/exercises/modeling/manage/modeling-exercise-detail.component.ts", "diffHunk": "@@ -23,7 +23,6 @@ export class ModelingExerciseDetailComponent implements OnInit, OnDestroy {\n     gradingInstructions: SafeHtml;\n     sampleSolution: SafeHtml;\n     sampleSolutionUML: UMLModel;\n-    checkPlagiarismInProgress: boolean;", "originalCommit": "a501c621e8644de9a52b9fa5ea3baa6d13e7e0e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "62b8c43c55dd671be01b5769f9b2b08b4561eb00", "url": "https://github.com/ls1intum/Artemis/commit/62b8c43c55dd671be01b5769f9b2b08b4561eb00", "message": "Remove unnecessary loading state in ModelingExerciseDetailComponent's template", "committedDate": "2020-09-29T15:13:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgwOTcxOQ==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496809719", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"warning\": \"Best\u00e4tigen/Ablehnen eines Plagiats geht beim Neuladen der Seite verloren.\",\n          \n          \n            \n                        \"warning\": \"Die Best\u00e4tigung/Ablehnung eines Plagiats geht beim Neuladen der Seite verloren.\",", "author": "kloessst", "createdAt": "2020-09-29T15:24:00Z", "path": "src/main/webapp/i18n/de/plagiarism.json", "diffHunk": "@@ -0,0 +1,14 @@\n+{\n+    \"artemisApp\": {\n+        \"plagiarism\": {\n+            \"confirm\": \"Best\u00e4tigen\",\n+            \"deny\": \"Ablehnen\",\n+            \"warning\": \"Best\u00e4tigen/Ablehnen eines Plagiats geht beim Neuladen der Seite verloren.\",", "originalCommit": "62b8c43c55dd671be01b5769f9b2b08b4561eb00", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgxODg5Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496818892", "bodyText": "ClassDiagram is hard-coded here. Do you have access to the exercise? You could use exercise.diagramType then.", "author": "kloessst", "createdAt": "2020-09-29T15:32:33Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-split-view/plagiarism-split-view.component.html", "diffHunk": "@@ -0,0 +1,10 @@\n+<div class=\"plagiarism-split-view\">\n+    <div class=\"plagiarism-split-pane\" jhiPane>\n+        <div class=\"plagiarism-split-pane-header\">{{ comparison?.element1.studentLogin }}</div>\n+        <jhi-modeling-editor *ngIf=\"submission1\" [umlModel]=\"submission1?.model\" [diagramType]=\"'ClassDiagram'\" [readOnly]=\"true\"></jhi-modeling-editor>", "originalCommit": "62b8c43c55dd671be01b5769f9b2b08b4561eb00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgzNTkwNA==", "url": "https://github.com/ls1intum/Artemis/pull/2106#discussion_r496835904", "bodyText": "Great point, forgot about that. Added an input binding to PlagiarismSplitViewComponent, check the latest commit \ud83d\ude42", "author": "philippbauch", "createdAt": "2020-09-29T15:48:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgxODg5Mg=="}], "type": "inlineReview"}, {"oid": "377655eb60c8acc9ff06f39f6b793fd69f4cd957", "url": "https://github.com/ls1intum/Artemis/commit/377655eb60c8acc9ff06f39f6b793fd69f4cd957", "message": "Update german translation for plagiarism warning\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-09-29T15:38:37Z", "type": "commit"}, {"oid": "57291421900ddb30df4f87344b30697fd9226bc1", "url": "https://github.com/ls1intum/Artemis/commit/57291421900ddb30df4f87344b30697fd9226bc1", "message": "Add diagramType input binding to PlagiarismSplitViewComponent", "committedDate": "2020-09-29T15:46:33Z", "type": "commit"}, {"oid": "1df1372e558c6f1ebbeb4195d52bcbf983fbfd07", "url": "https://github.com/ls1intum/Artemis/commit/1df1372e558c6f1ebbeb4195d52bcbf983fbfd07", "message": "Add missing diagramType", "committedDate": "2020-09-29T15:51:56Z", "type": "commit"}, {"oid": "f22a7c5e600a0fd8076b9bf6ea27135b8eb51f65", "url": "https://github.com/ls1intum/Artemis/commit/f22a7c5e600a0fd8076b9bf6ea27135b8eb51f65", "message": "Merge branch 'develop' into feature/side-by-side-view", "committedDate": "2020-09-29T15:56:03Z", "type": "commit"}]}