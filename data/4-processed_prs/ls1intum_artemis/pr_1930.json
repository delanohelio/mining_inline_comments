{"pr_number": 1930, "pr_title": "Filter solution information in quizzes after the first submission was done", "pr_createdAt": "2020-07-18T21:21:09Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1930", "timeline": [{"oid": "2a84b4b43c95f8b7592d5d2893785ed745879e24", "url": "https://github.com/ls1intum/Artemis/commit/2a84b4b43c95f8b7592d5d2893785ed745879e24", "message": "filter quiz solution information until exam has finished", "committedDate": "2020-07-18T17:46:14Z", "type": "commit"}, {"oid": "ed2c97c383114823df60e2234657a425cd08f275", "url": "https://github.com/ls1intum/Artemis/commit/ed2c97c383114823df60e2234657a425cd08f275", "message": "Merge branch 'develop' into bugfix/exam/filter-quiz-solution-information", "committedDate": "2020-07-18T21:24:42Z", "type": "commit"}, {"oid": "82fa2d9768fba6857d688bcdf9b7b96e9f7c12c8", "url": "https://github.com/ls1intum/Artemis/commit/82fa2d9768fba6857d688bcdf9b7b96e9f7c12c8", "message": "Fix doc", "committedDate": "2020-07-18T21:49:28Z", "type": "commit"}, {"oid": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "url": "https://github.com/ls1intum/Artemis/commit/d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "message": "Merge branch 'bugfix/exam/filter-quiz-solution-information' of https://github.com/ls1intum/Artemis into bugfix/exam/filter-quiz-solution-information", "committedDate": "2020-07-18T21:50:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTcyMg==", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831722", "bodyText": "?", "author": "sascha11110", "createdAt": "2020-07-18T21:55:37Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -174,12 +177,12 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n      * GET /courses/{courseId}/exams/{examId}/studentExams/conduction : Find a student exam for the user.\n      * This will be used for the actual conduction of the exam. The student exam will be returned with the exercises\n      * and with the student participation and with the submissions.\n-     *\n+     * <p>", "originalCommit": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTc1OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831759", "bodyText": "?", "author": "sascha11110", "createdAt": "2020-07-18T21:55:57Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -151,15 +154,15 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n     /**\n      * POST /courses/{courseId}/exams/{examId}/studentExams/submit : Submits the student exam\n      * Updates all submissions and marks student exam as submitted according to given student exam\n-     *\n+     * <p>", "originalCommit": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTc5Mg==", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831792", "bodyText": "\ud83d\ude49", "author": "fde312", "createdAt": "2020-07-18T21:56:33Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -151,15 +154,15 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n     /**\n      * POST /courses/{courseId}/exams/{examId}/studentExams/submit : Submits the student exam\n      * Updates all submissions and marks student exam as submitted according to given student exam\n-     *\n+     * <p>", "originalCommit": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMTgyMw==", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456831823", "bodyText": "\ud83d\ude49", "author": "fde312", "createdAt": "2020-07-18T21:56:52Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -174,12 +177,12 @@ public StudentExamResource(ExamAccessService examAccessService, StudentExamServi\n      * GET /courses/{courseId}/exams/{examId}/studentExams/conduction : Find a student exam for the user.\n      * This will be used for the actual conduction of the exam. The student exam will be returned with the exercises\n      * and with the student participation and with the submissions.\n-     *\n+     * <p>", "originalCommit": "d2d0147b379fb56ce21b86c3dfbe80cf7d097819", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "be51e331edf74a39265bbc9c6b1be530ac3aa27a", "url": "https://github.com/ls1intum/Artemis/commit/be51e331edf74a39265bbc9c6b1be530ac3aa27a", "message": "Remove <p>", "committedDate": "2020-07-18T21:58:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMzQ1OA==", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456833458", "bodyText": "We need to remove also the solutions from short answer questions:", "author": "fde312", "createdAt": "2020-07-18T22:19:35Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentExamResource.java", "diffHunk": "@@ -273,6 +281,22 @@ public void filterForExam(Exercise exercise, List<StudentParticipation> particip\n                 if (result != null) {\n                     participation.setResults(Set.of(result));\n                 }\n+                // for quiz exercises remove correct answer options / mappings from response\n+                if (ZonedDateTime.now().isBefore(latestEndDate) && exercise instanceof QuizExercise) {\n+                    QuizSubmission quizSubmission = (QuizSubmission) latestSubmission.get();\n+                    quizSubmission.getSubmittedAnswers().forEach(submittedAnswer -> {\n+                        QuizQuestion question = submittedAnswer.getQuizQuestion();\n+                        if (question instanceof ShortAnswerQuestion) {\n+                            ((ShortAnswerQuestion) question).setCorrectMappings(null);", "originalCommit": "be51e331edf74a39265bbc9c6b1be530ac3aa27a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg2NzQ3Mg==", "url": "https://github.com/ls1intum/Artemis/pull/1930#discussion_r456867472", "bodyText": "Not sure where exactly you saw this. I just tried it out and the solutions are not in the response any more", "author": "krusche", "createdAt": "2020-07-19T06:29:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzMzQ1OA=="}], "type": "inlineReview"}, {"oid": "108d73b6ccd2afc5b7007a9decc946a9349ca8d5", "url": "https://github.com/ls1intum/Artemis/commit/108d73b6ccd2afc5b7007a9decc946a9349ca8d5", "message": "Hide short answer solutions during exam", "committedDate": "2020-07-18T22:41:46Z", "type": "commit"}, {"oid": "e7cfee20fbcbc542b7ce2738b8f9b5be95f2194a", "url": "https://github.com/ls1intum/Artemis/commit/e7cfee20fbcbc542b7ce2738b8f9b5be95f2194a", "message": "Remove duplicated call (already called in loadExercisesForStudentExam)", "committedDate": "2020-07-18T23:04:34Z", "type": "commit"}, {"oid": "87bfaaf51bd3fe81076676f8f81a34b2de5e9109", "url": "https://github.com/ls1intum/Artemis/commit/87bfaaf51bd3fe81076676f8f81a34b2de5e9109", "message": "Use the right method to filter sensitive informations", "committedDate": "2020-07-18T23:08:45Z", "type": "commit"}, {"oid": "f6c967f262e4ad1644516ddf88e779308beafd79", "url": "https://github.com/ls1intum/Artemis/commit/f6c967f262e4ad1644516ddf88e779308beafd79", "message": "use publishResultsDate instead of latestEndDate for check", "committedDate": "2020-07-19T06:27:17Z", "type": "commit"}, {"oid": "f07cd9a740491da5952f6753c825acdb657f4f7c", "url": "https://github.com/ls1intum/Artemis/commit/f07cd9a740491da5952f6753c825acdb657f4f7c", "message": "fix null pointer exception after change", "committedDate": "2020-07-19T06:46:14Z", "type": "commit"}]}