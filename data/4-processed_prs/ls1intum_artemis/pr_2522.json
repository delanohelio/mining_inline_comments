{"pr_number": 2522, "pr_title": "Improve plagiarism detection for programming exercises", "pr_createdAt": "2020-12-08T20:17:46Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2522", "timeline": [{"oid": "7b62f9ca36524f581d456fac3d9e027a13f87d14", "url": "https://github.com/ls1intum/Artemis/commit/7b62f9ca36524f581d456fac3d9e027a13f87d14", "message": "Add plagiarism route for programming exercises", "committedDate": "2020-12-08T15:50:06Z", "type": "commit"}, {"oid": "b19d703ea39d8c3c4910a8bf5dc1439f2e4cfa6d", "url": "https://github.com/ls1intum/Artemis/commit/b19d703ea39d8c3c4910a8bf5dc1439f2e4cfa6d", "message": "Merge branch 'develop' into feature/improved-programming-plagiarism-detection", "committedDate": "2020-12-12T18:30:11Z", "type": "commit"}, {"oid": "e9de72085164b45b785318e5c96d30b3ef6f9d5d", "url": "https://github.com/ls1intum/Artemis/commit/e9de72085164b45b785318e5c96d30b3ef6f9d5d", "message": "Return TextPlagiarismResult for programming exercise from server", "committedDate": "2020-12-13T20:51:34Z", "type": "commit"}, {"oid": "6e6559eb455cc07140f02de2348af007a67161d9", "url": "https://github.com/ls1intum/Artemis/commit/6e6559eb455cc07140f02de2348af007a67161d9", "message": "Fix sorting when plagiarism results are available", "committedDate": "2020-12-14T13:32:57Z", "type": "commit"}, {"oid": "3a5ea8c1f5da6b246632dc1f5c435669438af6c4", "url": "https://github.com/ls1intum/Artemis/commit/3a5ea8c1f5da6b246632dc1f5c435669438af6c4", "message": "Remove console.log statements", "committedDate": "2020-12-14T13:40:07Z", "type": "commit"}, {"oid": "cf3d47184d402d97bdefee24bd52b5132e37237a", "url": "https://github.com/ls1intum/Artemis/commit/cf3d47184d402d97bdefee24bd52b5132e37237a", "message": "Add split pane header component", "committedDate": "2020-12-14T14:27:53Z", "type": "commit"}, {"oid": "6f84e90d03b710d7607e070ac910ccaad15aac08", "url": "https://github.com/ls1intum/Artemis/commit/6f84e90d03b710d7607e070ac910ccaad15aac08", "message": "Show files in split pane header", "committedDate": "2020-12-14T15:26:10Z", "type": "commit"}, {"oid": "ab1f1415c7566d6ac9498df5d3380093cf8d389d", "url": "https://github.com/ls1intum/Artemis/commit/ab1f1415c7566d6ac9498df5d3380093cf8d389d", "message": "Add plagiarism submission viewer component", "committedDate": "2020-12-14T15:54:44Z", "type": "commit"}, {"oid": "b9875df4e158344b8fcc62478826937a95fc010a", "url": "https://github.com/ls1intum/Artemis/commit/b9875df4e158344b8fcc62478826937a95fc010a", "message": "Fix split pane overflow issue", "committedDate": "2020-12-14T16:06:43Z", "type": "commit"}, {"oid": "ea4d6ae4e43a8450f5ac90b4fae3cf168697e208", "url": "https://github.com/ls1intum/Artemis/commit/ea4d6ae4e43a8450f5ac90b4fae3cf168697e208", "message": "Select active file from split pane header", "committedDate": "2020-12-14T16:47:12Z", "type": "commit"}, {"oid": "5ee25418696dc959d3ea72bbb06f7243c01d8f97", "url": "https://github.com/ls1intum/Artemis/commit/5ee25418696dc959d3ea72bbb06f7243c01d8f97", "message": "Fix rotated chevron icon", "committedDate": "2020-12-14T17:18:18Z", "type": "commit"}, {"oid": "0ad2c5fa13ab21a365078f5f049233dfa58e7b8a", "url": "https://github.com/ls1intum/Artemis/commit/0ad2c5fa13ab21a365078f5f049233dfa58e7b8a", "message": "Include participation id in local repo path", "committedDate": "2020-12-14T19:30:57Z", "type": "commit"}, {"oid": "a81b5b190e13e8e8ddc614aeb225ac7e7e769578", "url": "https://github.com/ls1intum/Artemis/commit/a81b5b190e13e8e8ddc614aeb225ac7e7e769578", "message": "Fix cleanup of template repo", "committedDate": "2020-12-14T19:32:05Z", "type": "commit"}, {"oid": "d34509cf7a576e41fd308e91628fb23d8fba242d", "url": "https://github.com/ls1intum/Artemis/commit/d34509cf7a576e41fd308e91628fb23d8fba242d", "message": "Display actual file contents in split panes", "committedDate": "2020-12-14T19:49:20Z", "type": "commit"}, {"oid": "10bf03b31c5cecc605afe20e2f70f7a4ae486144", "url": "https://github.com/ls1intum/Artemis/commit/10bf03b31c5cecc605afe20e2f70f7a4ae486144", "message": "Fix white-space wrap of text submission viewer", "committedDate": "2020-12-14T20:02:25Z", "type": "commit"}, {"oid": "e8250312d212ce1a33de40046a9eb49fed68ff85", "url": "https://github.com/ls1intum/Artemis/commit/e8250312d212ce1a33de40046a9eb49fed68ff85", "message": "Add checkbox to generate JPlag report", "committedDate": "2020-12-15T21:59:16Z", "type": "commit"}, {"oid": "416be82f5973399d10bd7d133f7189c7021324d1", "url": "https://github.com/ls1intum/Artemis/commit/416be82f5973399d10bd7d133f7189c7021324d1", "message": "Load file content on initial load", "committedDate": "2020-12-15T22:34:15Z", "type": "commit"}, {"oid": "33d4910d027e3a63f114b6b189231026d1365754", "url": "https://github.com/ls1intum/Artemis/commit/33d4910d027e3a63f114b6b189231026d1365754", "message": "Add route to generate jplag report for programming exercises", "committedDate": "2020-12-15T23:12:49Z", "type": "commit"}, {"oid": "9fd9a36d6162c1a9c9b35e01e7540f6d79f506ff", "url": "https://github.com/ls1intum/Artemis/commit/9fd9a36d6162c1a9c9b35e01e7540f6d79f506ff", "message": "Add possibility to generate jplag report to client", "committedDate": "2020-12-15T23:52:18Z", "type": "commit"}, {"oid": "4d32fecbad7ef5b5c606c4636a124b35a6910932", "url": "https://github.com/ls1intum/Artemis/commit/4d32fecbad7ef5b5c606c4636a124b35a6910932", "message": "Merge branch 'develop' into feature/improved-programming-plagiarism-detection", "committedDate": "2020-12-15T23:55:58Z", "type": "commit"}, {"oid": "609f21f15a8f4a460055417aaa0448022c96c0bf", "url": "https://github.com/ls1intum/Artemis/commit/609f21f15a8f4a460055417aaa0448022c96c0bf", "message": "Fix plagiarism client tests", "committedDate": "2020-12-16T13:02:11Z", "type": "commit"}, {"oid": "ba99d2b847692419d98eff0383e834f0d6862605", "url": "https://github.com/ls1intum/Artemis/commit/ba99d2b847692419d98eff0383e834f0d6862605", "message": "Fix codacy issues", "committedDate": "2020-12-16T13:19:33Z", "type": "commit"}, {"oid": "130d224df199540d3c4c7764a253b06d6c1d246f", "url": "https://github.com/ls1intum/Artemis/commit/130d224df199540d3c4c7764a253b06d6c1d246f", "message": "Fix codacy issues", "committedDate": "2020-12-16T14:14:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDU1MTA1Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2522#discussion_r544551057", "bodyText": "The title is a bit confusing, maybe you can use checkPlagiarismJplagReport instead?", "author": "anditurdiu", "createdAt": "2020-12-16T19:06:17Z", "path": "src/main/webapp/app/exercises/programming/manage/services/programming-exercise.service.ts", "diffHunk": "@@ -48,12 +49,25 @@ export class ProgrammingExerciseService {\n         return this.http.put<string>(this.resourceUrl + '/' + exerciseId + '/generate-tests', { responseType: 'text' });\n     }\n \n+    /**\n+     * Check plagiarism with JPlag\n+     *\n+     * @param exerciseId\n+     */\n+    checkPlagiarism(exerciseId: number): Observable<TextPlagiarismResult> {\n+        return this.http\n+            .get<TextPlagiarismResult>(`${this.resourceUrl}/${exerciseId}/check-plagiarism`, {\n+                observe: 'response',\n+            })\n+            .pipe(map((response: HttpResponse<TextPlagiarismResult>) => response.body!));\n+    }\n+\n     /**\n      * Check for plagiarism\n      * @param exerciseId of the programming exercise\n      */\n-    checkPlagiarism(exerciseId: number): Observable<HttpResponse<Blob>> {\n-        return this.http.get(`${this.resourceUrl}/${exerciseId}/check-plagiarism`, {\n+    checkPlagiarismJPlagResponse(exerciseId: number): Observable<HttpResponse<Blob>> {", "originalCommit": "130d224df199540d3c4c7764a253b06d6c1d246f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0MDIwNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2522#discussion_r544640205", "bodyText": "Good point, I actually intended to call it checkPlagiarismJplagReport but was probably a little distracted writing this \ud83d\ude04", "author": "philippbauch", "createdAt": "2020-12-16T21:36:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDU1MTA1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDU1MzI3Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2522#discussion_r544553272", "bodyText": "It is better if you don't call methods directly from the HTML because it will continuously trigger the function. You can achieve better performance if you store them as attributes in the component.", "author": "anditurdiu", "createdAt": "2020-12-16T19:09:48Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-split-view/plagiarism-split-view.component.html", "diffHunk": "@@ -1,25 +1,17 @@\n <div class=\"plagiarism-split-view\">\n     <div class=\"plagiarism-split-pane\" jhiPane>\n-        <div class=\"plagiarism-split-pane-header\">\n-            {{ comparison.submissionA.studentLogin || ('artemisApp.plagiarism.unknown-student' | translate) }}\n-        </div>\n+        <jhi-modeling-submission-viewer *ngIf=\"isModelingExercise()\" [exercise]=\"exercise\" [plagiarismSubmission]=\"getModelingSubmissionA()\"></jhi-modeling-submission-viewer>", "originalCommit": "130d224df199540d3c4c7764a253b06d6c1d246f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY0ODU3Mw==", "url": "https://github.com/ls1intum/Artemis/pull/2522#discussion_r544648573", "bodyText": "I updated the calls to isModelingExercise() etc. to be attributes of the components instead.\nBut I still call getModelingSubmissionA() etc. in the template as this method is just a typecast and I don't know how to do it in the template directly.", "author": "philippbauch", "createdAt": "2020-12-16T21:51:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDU1MzI3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDU1MzM0Mw==", "url": "https://github.com/ls1intum/Artemis/pull/2522#discussion_r544553343", "bodyText": "here also", "author": "anditurdiu", "createdAt": "2020-12-16T19:09:56Z", "path": "src/main/webapp/app/exercises/shared/plagiarism/plagiarism-split-view/plagiarism-split-view.component.html", "diffHunk": "@@ -1,25 +1,17 @@\n <div class=\"plagiarism-split-view\">\n     <div class=\"plagiarism-split-pane\" jhiPane>\n-        <div class=\"plagiarism-split-pane-header\">\n-            {{ comparison.submissionA.studentLogin || ('artemisApp.plagiarism.unknown-student' | translate) }}\n-        </div>\n+        <jhi-modeling-submission-viewer *ngIf=\"isModelingExercise()\" [exercise]=\"exercise\" [plagiarismSubmission]=\"getModelingSubmissionA()\"></jhi-modeling-submission-viewer>\n \n-        <div class=\"plagiarism-split-pane-body\">\n-            <jhi-modeling-submission-viewer *ngIf=\"isModelingExercise()\" [exercise]=\"exercise\" [plagiarismSubmission]=\"getModelingSubmissionA()\"></jhi-modeling-submission-viewer>\n+        <jhi-text-submission-viewer *ngIf=\"isTextExercise()\" [exercise]=\"exercise\" [plagiarismSubmission]=\"getTextSubmissionA()\"></jhi-text-submission-viewer>", "originalCommit": "130d224df199540d3c4c7764a253b06d6c1d246f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2b04a60a692e0b46956e7c128379a8bb5652fd13", "url": "https://github.com/ls1intum/Artemis/commit/2b04a60a692e0b46956e7c128379a8bb5652fd13", "message": "Apply request code review changes", "committedDate": "2020-12-16T21:47:41Z", "type": "commit"}, {"oid": "be963b4875196b09b3ff8419315bb04e0f3022cd", "url": "https://github.com/ls1intum/Artemis/commit/be963b4875196b09b3ff8419315bb04e0f3022cd", "message": "Fix component tests", "committedDate": "2020-12-17T08:13:55Z", "type": "commit"}, {"oid": "42c15300fdaa18a42c525d4bd374c68017ac2e22", "url": "https://github.com/ls1intum/Artemis/commit/42c15300fdaa18a42c525d4bd374c68017ac2e22", "message": "Merge branch 'develop' into feature/improved-programming-plagiarism-detection", "committedDate": "2020-12-17T08:14:29Z", "type": "commit"}]}