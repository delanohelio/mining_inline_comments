{"pr_number": 2143, "pr_title": "Enable account registration", "pr_createdAt": "2020-10-01T23:31:20Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2143", "timeline": [{"oid": "c822d2cfe1b0af59513e68532cd81bd1d5aa6511", "url": "https://github.com/ls1intum/Artemis/commit/c822d2cfe1b0af59513e68532cd81bd1d5aa6511", "message": "add new config options for offering registration in Artemis", "committedDate": "2020-09-30T08:47:21Z", "type": "commit"}, {"oid": "1c3c644633c5ac731caca5e4ebc3d8751c1c0e85", "url": "https://github.com/ls1intum/Artemis/commit/1c3c644633c5ac731caca5e4ebc3d8751c1c0e85", "message": "adapt some email properties", "committedDate": "2020-10-01T07:39:37Z", "type": "commit"}, {"oid": "3986df41187cfeff422a8bb6273fa55113797edc", "url": "https://github.com/ls1intum/Artemis/commit/3986df41187cfeff422a8bb6273fa55113797edc", "message": "add first name and last name to registration\n\nadd some TODOs for improved error handling", "committedDate": "2020-10-01T08:16:45Z", "type": "commit"}, {"oid": "c66b3ba79e1257d8311a2af920b83a9abf7d1c7a", "url": "https://github.com/ls1intum/Artemis/commit/c66b3ba79e1257d8311a2af920b83a9abf7d1c7a", "message": "add password reset link to start page, show settings and password page if registration is enabled", "committedDate": "2020-10-01T09:19:59Z", "type": "commit"}, {"oid": "3c94206921b679a5cf5a89d21e416a7f0d644a02", "url": "https://github.com/ls1intum/Artemis/commit/3c94206921b679a5cf5a89d21e416a7f0d644a02", "message": "improve client settings, sync user creation, changes, deletion with external systems", "committedDate": "2020-10-01T09:48:55Z", "type": "commit"}, {"oid": "ba8c8b05795c1e4242d7169bbc80000a943f0966", "url": "https://github.com/ls1intum/Artemis/commit/ba8c8b05795c1e4242d7169bbc80000a943f0966", "message": "Merge branch 'develop' into feature/account-setup\n\n# Conflicts:\n#\tsrc/main/webapp/app/account/settings/settings.component.ts\n#\tsrc/main/webapp/app/shared/layouts/navbar/navbar.component.ts", "committedDate": "2020-10-01T11:02:54Z", "type": "commit"}, {"oid": "40032b1f430d78331fc22c2f207db71e2689a26b", "url": "https://github.com/ls1intum/Artemis/commit/40032b1f430d78331fc22c2f207db71e2689a26b", "message": "fix server tests", "committedDate": "2020-10-01T11:17:15Z", "type": "commit"}, {"oid": "913092d94e8470403ced99df521b17ca965fe431", "url": "https://github.com/ls1intum/Artemis/commit/913092d94e8470403ced99df521b17ca965fe431", "message": "various client side improvements\n\neliminate lots of duplicated code in quiz statistics\nadapt new jhipster code for components in the account module\nuse a constant for roles\nremove sugar\nfix tests", "committedDate": "2020-10-01T23:08:49Z", "type": "commit"}, {"oid": "6ffaa98e7a457516d0fad7917d3190395a1a6175", "url": "https://github.com/ls1intum/Artemis/commit/6ffaa98e7a457516d0fad7917d3190395a1a6175", "message": "fix a couple of issues", "committedDate": "2020-10-01T23:24:27Z", "type": "commit"}, {"oid": "c1f1830a94801fe26f2d2fa567d5d02e6f7cafbc", "url": "https://github.com/ls1intum/Artemis/commit/c1f1830a94801fe26f2d2fa567d5d02e6f7cafbc", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-02T09:08:13Z", "type": "commit"}, {"oid": "efaf9f4201c9aa1b277173f688522b4510093c60", "url": "https://github.com/ls1intum/Artemis/commit/efaf9f4201c9aa1b277173f688522b4510093c60", "message": "implement reamining functionality for email validation", "committedDate": "2020-10-02T10:06:58Z", "type": "commit"}, {"oid": "8f7490447a86d8e07d3e6fc2ffda7cc8454a96a3", "url": "https://github.com/ls1intum/Artemis/commit/8f7490447a86d8e07d3e6fc2ffda7cc8454a96a3", "message": "move super class into its own file", "committedDate": "2020-10-02T10:33:56Z", "type": "commit"}, {"oid": "d11d25f32b9fcde405f8c7a41270623aa78c9dc0", "url": "https://github.com/ls1intum/Artemis/commit/d11d25f32b9fcde405f8c7a41270623aa78c9dc0", "message": "further reduce duplicated code in quiz statistics", "committedDate": "2020-10-02T11:01:47Z", "type": "commit"}, {"oid": "cf7b68ac97a2e6ac6b25b0306f1a8c72de00e40d", "url": "https://github.com/ls1intum/Artemis/commit/cf7b68ac97a2e6ac6b25b0306f1a8c72de00e40d", "message": "small improvements", "committedDate": "2020-10-02T11:21:35Z", "type": "commit"}, {"oid": "e3a829370b0e447eb401b51c355eb2b39779f002", "url": "https://github.com/ls1intum/Artemis/commit/e3a829370b0e447eb401b51c355eb2b39779f002", "message": "disable changing the email over settings", "committedDate": "2020-10-02T11:32:53Z", "type": "commit"}, {"oid": "d07bfc71c6c9e5e8d2c8ab4e432d9ae5414a38be", "url": "https://github.com/ls1intum/Artemis/commit/d07bfc71c6c9e5e8d2c8ab4e432d9ae5414a38be", "message": "fix auto complete attribute", "committedDate": "2020-10-02T12:18:29Z", "type": "commit"}, {"oid": "0a000612abc4349e1cb9a2b2f233cc401564259b", "url": "https://github.com/ls1intum/Artemis/commit/0a000612abc4349e1cb9a2b2f233cc401564259b", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-03T06:17:30Z", "type": "commit"}, {"oid": "6c4f597932c040d30d54c1401663fa2317e6cba2", "url": "https://github.com/ls1intum/Artemis/commit/6c4f597932c040d30d54c1401663fa2317e6cba2", "message": "update dependencies", "committedDate": "2020-10-03T15:51:16Z", "type": "commit"}, {"oid": "b3a64b26a7361bd4e4b0a2b66fa8f49587eba7b4", "url": "https://github.com/ls1intum/Artemis/commit/b3a64b26a7361bd4e4b0a2b66fa8f49587eba7b4", "message": "add some testing code", "committedDate": "2020-10-03T16:02:29Z", "type": "commit"}, {"oid": "cec574a506fff0ecfddf784ccb6397c2a5c0a446", "url": "https://github.com/ls1intum/Artemis/commit/cec574a506fff0ecfddf784ccb6397c2a5c0a446", "message": "adapt example for regex for user registration, uncomment test code", "committedDate": "2020-10-03T18:54:17Z", "type": "commit"}, {"oid": "d735d631481362d28378adb5e8690cb49a9ab79f", "url": "https://github.com/ls1intum/Artemis/commit/d735d631481362d28378adb5e8690cb49a9ab79f", "message": "add some initial documentation", "committedDate": "2020-10-03T19:04:36Z", "type": "commit"}, {"oid": "8cc334528262afe68d9673124d84c05680bb8ae6", "url": "https://github.com/ls1intum/Artemis/commit/8cc334528262afe68d9673124d84c05680bb8ae6", "message": "change order", "committedDate": "2020-10-03T20:33:09Z", "type": "commit"}, {"oid": "87f90ed78b8219999f131d67d0aa015d02214832", "url": "https://github.com/ls1intum/Artemis/commit/87f90ed78b8219999f131d67d0aa015d02214832", "message": "add information about email settings", "committedDate": "2020-10-03T20:57:37Z", "type": "commit"}, {"oid": "a6edd66136232f9c6a2afd92246c1cd5916dd98b", "url": "https://github.com/ls1intum/Artemis/commit/a6edd66136232f9c6a2afd92246c1cd5916dd98b", "message": "fix email URLs", "committedDate": "2020-10-03T21:01:41Z", "type": "commit"}, {"oid": "7001146d3b666e7ffb53b1b1cb947f7f4fa90eda", "url": "https://github.com/ls1intum/Artemis/commit/7001146d3b666e7ffb53b1b1cb947f7f4fa90eda", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-03T21:02:41Z", "type": "commit"}, {"oid": "da94fce13cee56213f90e50c7957cd8bb5319093", "url": "https://github.com/ls1intum/Artemis/commit/da94fce13cee56213f90e50c7957cd8bb5319093", "message": "change password in gitlab when user changes the password in Artemis", "committedDate": "2020-10-03T21:39:04Z", "type": "commit"}, {"oid": "610d3b91e5c79813636195019716eb5e19e004ef", "url": "https://github.com/ls1intum/Artemis/commit/610d3b91e5c79813636195019716eb5e19e004ef", "message": "fix lint issues", "committedDate": "2020-10-04T09:20:40Z", "type": "commit"}, {"oid": "9aec196a78fa56d8b7ee95116f5cde4fa6e8a469", "url": "https://github.com/ls1intum/Artemis/commit/9aec196a78fa56d8b7ee95116f5cde4fa6e8a469", "message": "update client dependencies", "committedDate": "2020-10-04T09:35:04Z", "type": "commit"}, {"oid": "a8e8e1b892b6d3cc5192a16287f494bfb9931b3c", "url": "https://github.com/ls1intum/Artemis/commit/a8e8e1b892b6d3cc5192a16287f494bfb9931b3c", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-04T09:35:58Z", "type": "commit"}, {"oid": "5ccc534f88d29ea41044aa7fa1150cc08f44c44a", "url": "https://github.com/ls1intum/Artemis/commit/5ccc534f88d29ea41044aa7fa1150cc08f44c44a", "message": "fix issues in quiz statistics and further improve code quality\n\nfix colors and resizing when switching between rated and unrated", "committedDate": "2020-10-04T21:12:00Z", "type": "commit"}, {"oid": "aabdeac0fcd530ace84d11760fcffb8e4e031f2c", "url": "https://github.com/ls1intum/Artemis/commit/aabdeac0fcd530ace84d11760fcffb8e4e031f2c", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-04T21:14:26Z", "type": "commit"}, {"oid": "7836707ecf6dbb7f18692dc7b8d8edf4b342082e", "url": "https://github.com/ls1intum/Artemis/commit/7836707ecf6dbb7f18692dc7b8d8edf4b342082e", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-05T07:25:19Z", "type": "commit"}, {"oid": "1ee5a1e3399a650159cb8096c26bd0bd6918dd68", "url": "https://github.com/ls1intum/Artemis/commit/1ee5a1e3399a650159cb8096c26bd0bd6918dd68", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-05T08:56:44Z", "type": "commit"}, {"oid": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "url": "https://github.com/ls1intum/Artemis/commit/a05cca020103877fd49fae0c43bc3dac3625b9a5", "message": "update client dependencies", "committedDate": "2020-10-05T15:19:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcxNzkyNw==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499717927", "bodyText": "This line seems erroneous, as we don't expect a . in the domain, but allow any value.\nThis would e.g. allow the domain inAtum.de to register users.\nI believe this can be fixed be escaping the dot.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)\n          \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum\\.de)|(in\\.tum\\.de)|(mytum\\.de)", "author": "sleiss", "createdAt": "2020-10-05T16:17:14Z", "path": "docs/admin/registration.rst", "diffHunk": "@@ -0,0 +1,41 @@\n+Artemis supports user registration based on the Jhipster template.\n+User registration has to be enabled in one ``application-*.yml`` file and can be customized.\n+\n+Example:\n+\n+.. code:: yaml\n+\n+    artemis:\n+        user-management:\n+            use-external: false\n+            registration:\n+                enabled: true\n+                allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTczNjM3MA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499736370", "bodyText": "You can test it on https://regexr.com/ btw", "author": "stefanwaldhauser", "createdAt": "2020-10-05T16:48:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcxNzkyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTczODY0Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499738646", "bodyText": "I think it needs to be ([a-zA-Z0-9_\\-\\.\\+]+)@((tum\\.de)|(in\\.tum\\.de)|(mytum\\.de)) otherwise\nit will not match stefan.waldhauser@mytum.de but only the @mytum.de part", "author": "stefanwaldhauser", "createdAt": "2020-10-05T16:52:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcxNzkyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMxMjY3MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500312671", "bodyText": "fixed", "author": "krusche", "createdAt": "2020-10-06T14:07:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcxNzkyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNDE4NA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499724184", "bodyText": "Actually, there is another flaw as it seems:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)\n          \n          \n            \n                            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum\\.de|in\\.tum\\.de|mytum\\.de)", "author": "sleiss", "createdAt": "2020-10-05T16:27:27Z", "path": "docs/admin/registration.rst", "diffHunk": "@@ -0,0 +1,41 @@\n+Artemis supports user registration based on the Jhipster template.\n+User registration has to be enabled in one ``application-*.yml`` file and can be customized.\n+\n+Example:\n+\n+.. code:: yaml\n+\n+    artemis:\n+        user-management:\n+            use-external: false\n+            registration:\n+                enabled: true\n+                allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@(tum.de)|(in.tum.de)|(mytum.de)", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNTMxMw==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499725313", "bodyText": "I am not a regex expert \ud83d\ude05", "author": "krusche", "createdAt": "2020-10-05T16:29:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNDE4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNzIxMg==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499727212", "bodyText": "I think I found the 2nd error already, but only replaced it my local (not committed) application.yml file\nThanks for noticing it \ud83d\udc4d", "author": "krusche", "createdAt": "2020-10-05T16:32:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNDE4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMxMTgxOQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500311819", "bodyText": "fixed", "author": "krusche", "createdAt": "2020-10-06T14:06:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTcyNDE4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0NTIzNw==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499745237", "bodyText": "What is the reason for the [/] brackets? I find them quite uncommon in this context.", "author": "sleiss", "createdAt": "2020-10-05T17:03:51Z", "path": "src/main/webapp/app/account/password/password.component.html", "diffHunk": "@@ -1,92 +1,119 @@\n-<div>\n+<div *ngIf=\"isRegistrationEnabled\">\n     <div class=\"row justify-content-center\">\n-        <div class=\"col-md-8\">\n-            <h2 jhiTranslate=\"password.title\" [translateValues]=\"{ username: user.login }\" *ngIf=\"user\">\n-                Password for [<b>{{ user.login }}</b\n+        <div class=\"col-md-8\" *ngIf=\"user\">\n+            <h2 jhiTranslate=\"password.title\" [translateValues]=\"{ username: user.login }\">\n+                Password for [<strong>{{ user.login }}</strong", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMxMDM5NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500310395", "bodyText": "fixed", "author": "krusche", "createdAt": "2020-10-06T14:05:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0NTIzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwODg5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499808899", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "author": "MaisiKoleni", "createdAt": "2020-10-05T19:02:14Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -81,6 +101,9 @@ public void registerAccount(@Valid @RequestBody ManagedUserVM managedUserVM) {\n      */\n     @GetMapping(\"/activate\")\n     public void activateAccount(@RequestParam(value = \"key\") String key) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwOTc5MA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499809790", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "author": "MaisiKoleni", "createdAt": "2020-10-05T19:04:02Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -66,9 +75,20 @@ public AccountResource(UserRepository userRepository, UserService userService, M\n     @PostMapping(\"/register\")\n     @ResponseStatus(HttpStatus.CREATED)\n     public void registerAccount(@Valid @RequestBody ManagedUserVM managedUserVM) {\n-        if (!checkPasswordLength(managedUserVM.getPassword())) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMDczOA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499810738", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "author": "MaisiKoleni", "createdAt": "2020-10-05T19:05:48Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -135,6 +160,9 @@ public UserDTO getAccount() {\n      */\n     @PostMapping(\"/account\")\n     public void saveAccount(@Valid @RequestBody UserDTO userDTO) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMTU3Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499811577", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "author": "MaisiKoleni", "createdAt": "2020-10-05T19:07:22Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -155,7 +183,10 @@ public void saveAccount(@Valid @RequestBody UserDTO userDTO) {\n      */\n     @PostMapping(path = \"/account/change-password\")\n     public void changePassword(@RequestBody PasswordChangeDTO passwordChangeDto) {\n-        if (!checkPasswordLength(passwordChangeDto.getNewPassword())) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMTk4Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499811986", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "author": "MaisiKoleni", "createdAt": "2020-10-05T19:08:10Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -168,6 +199,9 @@ public void changePassword(@RequestBody PasswordChangeDTO passwordChangeDto) {\n      */\n     @PostMapping(path = \"/account/reset-password/init\")\n     public void requestPasswordReset(@RequestBody String mail) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgxMjAzOA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r499812038", "bodyText": "See #1659.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {\n          \n          \n            \n                    if (registrationEnabled.isEmpty() || Boolean.FALSE.equals(registrationEnabled.get())) {", "author": "MaisiKoleni", "createdAt": "2020-10-05T19:08:16Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/AccountResource.java", "diffHunk": "@@ -188,7 +222,10 @@ public void requestPasswordReset(@RequestBody String mail) {\n      */\n     @PostMapping(path = \"/account/reset-password/finish\")\n     public void finishPasswordReset(@RequestBody KeyAndPasswordVM keyAndPassword) {\n-        if (!checkPasswordLength(keyAndPassword.getNewPassword())) {\n+        if (registrationEnabled.isEmpty() || registrationEnabled.get() == Boolean.FALSE) {", "originalCommit": "a05cca020103877fd49fae0c43bc3dac3625b9a5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "08a6dcdcd2ce67cd169e4b32bade0f5dbf75686e", "url": "https://github.com/ls1intum/Artemis/commit/08a6dcdcd2ce67cd169e4b32bade0f5dbf75686e", "message": "update client dependencies", "committedDate": "2020-10-06T14:02:28Z", "type": "commit"}, {"oid": "c713ee9653faaf2004388d0d4b8375763d39927c", "url": "https://github.com/ls1intum/Artemis/commit/c713ee9653faaf2004388d0d4b8375763d39927c", "message": "fix regex", "committedDate": "2020-10-06T14:08:08Z", "type": "commit"}, {"oid": "7b3ee17b94dbddfeb7cca82f232111b781d0e27e", "url": "https://github.com/ls1intum/Artemis/commit/7b3ee17b94dbddfeb7cca82f232111b781d0e27e", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-06T14:08:44Z", "type": "commit"}, {"oid": "efcf439c5f2eb7f4b3fccb074828e350d41788d8", "url": "https://github.com/ls1intum/Artemis/commit/efcf439c5f2eb7f4b3fccb074828e350d41788d8", "message": "Merge branch 'feature/account-setup' of https://github.com/ls1intum/Artemis into feature/account-setup", "committedDate": "2020-10-06T14:08:49Z", "type": "commit"}, {"oid": "8a035de210708bc7af3b8b22dbbf67def3cbc4c0", "url": "https://github.com/ls1intum/Artemis/commit/8a035de210708bc7af3b8b22dbbf67def3cbc4c0", "message": "fix boolean check", "committedDate": "2020-10-06T14:13:24Z", "type": "commit"}, {"oid": "edb086d499e4008687b15455294bdfdcf7357268", "url": "https://github.com/ls1intum/Artemis/commit/edb086d499e4008687b15455294bdfdcf7357268", "message": "make sure users are activated when they login through JIRA or LTI", "committedDate": "2020-10-06T14:52:27Z", "type": "commit"}, {"oid": "7175ff9fb2d7036426adbdd0cbc9e3e42abbc05f", "url": "https://github.com/ls1intum/Artemis/commit/7175ff9fb2d7036426adbdd0cbc9e3e42abbc05f", "message": "fix regex", "committedDate": "2020-10-06T15:23:29Z", "type": "commit"}, {"oid": "b36d181c7ba7f7e4a62f46f023a884d236052222", "url": "https://github.com/ls1intum/Artemis/commit/b36d181c7ba7f7e4a62f46f023a884d236052222", "message": "handle non activated users in ArtemisInternalAuthenticationProvider as well", "committedDate": "2020-10-06T15:34:14Z", "type": "commit"}, {"oid": "566a6256598be0a13f60a572e7bdd19e33e703a5", "url": "https://github.com/ls1intum/Artemis/commit/566a6256598be0a13f60a572e7bdd19e33e703a5", "message": "fix issue with next relevant exercise", "committedDate": "2020-10-06T15:45:36Z", "type": "commit"}, {"oid": "65bc1ee6caa53b5f6c32890cc67f328acc37904e", "url": "https://github.com/ls1intum/Artemis/commit/65bc1ee6caa53b5f6c32890cc67f328acc37904e", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-06T21:59:51Z", "type": "commit"}, {"oid": "034a52926c873a80112b866d5bde63dcca0aa5c6", "url": "https://github.com/ls1intum/Artemis/commit/034a52926c873a80112b866d5bde63dcca0aa5c6", "message": "fix issues with statistics\n\ncalculate height appropriately\nshow correct letters\nupdate height when switching", "committedDate": "2020-10-06T22:12:43Z", "type": "commit"}, {"oid": "21d16f32e9c701c05b39d96c4bebf51af171f1fa", "url": "https://github.com/ls1intum/Artemis/commit/21d16f32e9c701c05b39d96c4bebf51af171f1fa", "message": "Merge branch 'feature/account-setup' of https://github.com/ls1intum/Artemis into feature/account-setup", "committedDate": "2020-10-06T22:12:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyOTk0NA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500629944", "bodyText": "We should be able to do that as well:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@((tum\\.de)|(in\\.tum\\.de)|(mytum\\.de))\n          \n          \n            \n                        allowed-email-pattern: [a-zA-Z0-9_\\-\\.\\+]+@(tum\\.de|in\\.tum\\.de|mytum\\.de)", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:24:04Z", "path": "src/main/resources/config/application-artemis.yml", "diffHunk": "@@ -21,6 +21,10 @@ artemis:\n         internal-admin:\n             username: artemis_admin\n             password: artemis_admin\n+        registration:\n+            enabled: false\n+            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@((tum\\.de)|(in\\.tum\\.de)|(mytum\\.de))", "originalCommit": "21d16f32e9c701c05b39d96c4bebf51af171f1fa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMDY5NA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500630694", "bodyText": "Checked it, also works like this.", "author": "sleiss", "createdAt": "2020-10-06T22:26:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyOTk0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMzA1NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500633055", "bodyText": "thanks, this looks easier, I'll change it", "author": "krusche", "createdAt": "2020-10-06T22:32:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYyOTk0NA=="}], "type": "inlineReview"}, {"oid": "6a3785e55a6b2fee11bfaf56e811f59b801ac2b7", "url": "https://github.com/ls1intum/Artemis/commit/6a3785e55a6b2fee11bfaf56e811f59b801ac2b7", "message": "update dependencies", "committedDate": "2020-10-06T22:25:29Z", "type": "commit"}, {"oid": "348ad3587c3b81b93242149ac4fa61bb36a40cbf", "url": "https://github.com/ls1intum/Artemis/commit/348ad3587c3b81b93242149ac4fa61bb36a40cbf", "message": "Merge branch 'develop' into feature/account-setup\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/file-upload/assess/file-upload-assessment.component.ts\n#\tsrc/main/webapp/app/exercises/modeling/assess/modeling-assessment-editor/modeling-assessment-editor.component.ts\n#\tsrc/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-container.component.ts\n#\tsrc/main/webapp/app/exercises/text/assess-new/text-submission-assessment.component.ts", "committedDate": "2020-10-06T22:28:53Z", "type": "commit"}, {"oid": "53c8d8b7ec37ebcfe22681ba87e70bf9596d0013", "url": "https://github.com/ls1intum/Artemis/commit/53c8d8b7ec37ebcfe22681ba87e70bf9596d0013", "message": "fix last case for wrong boolean comparison", "committedDate": "2020-10-06T22:30:59Z", "type": "commit"}, {"oid": "3645d8753fd23ad2ea6db799275f6bdfee522ca5", "url": "https://github.com/ls1intum/Artemis/commit/3645d8753fd23ad2ea6db799275f6bdfee522ca5", "message": "simplify regex", "committedDate": "2020-10-06T22:32:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMTc5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500631799", "bodyText": "Is this still needed?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n                        <!-- TEST CODE -->\n          \n          \n            \n                        <!--            <div class=\"form-group\">-->\n          \n          \n            \n                        <!--                <label style=\"color: red\" class=\"form-control-label\">Email Pattern for Testing</label>-->\n          \n          \n            \n                        <!--                <input style=\"color: red\" class=\"form-control\" id=\"regex\" name=\"regex\" [(ngModel)]=\"allowedEmailPattern\" (ngModelChange)=\"updateAllowedEmailPattern()\" />-->\n          \n          \n            \n                        <!--            </div>-->\n          \n          \n            \n                        <!-- TEST CODE -->", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:28:53Z", "path": "src/main/webapp/app/account/register/register.component.html", "diffHunk": "@@ -1,8 +1,15 @@\n-<div>\n+<div *ngIf=\"isRegistrationEnabled\">\n     <div class=\"row justify-content-center\">\n         <div class=\"col-md-8\">\n             <h1 jhiTranslate=\"register.title\">Registration</h1>\n \n+            <!-- TEST CODE -->\n+            <!--            <div class=\"form-group\">-->\n+            <!--                <label style=\"color: red\" class=\"form-control-label\">Email Pattern for Testing</label>-->\n+            <!--                <input style=\"color: red\" class=\"form-control\" id=\"regex\" name=\"regex\" [(ngModel)]=\"allowedEmailPattern\" (ngModelChange)=\"updateAllowedEmailPattern()\" />-->\n+            <!--            </div>-->\n+            <!-- TEST CODE -->\n+", "originalCommit": "21d16f32e9c701c05b39d96c4bebf51af171f1fa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzNDY2MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500634661", "bodyText": "It really helped me in testing the regex pattern, so this might be super useful for other administrators playing around with Artemis, therefore I would like to keep it.", "author": "krusche", "createdAt": "2020-10-06T22:36:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMTc5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMjQxMw==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500632413", "bodyText": "Is this still needed?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // TEST CODE BEGIN\n          \n          \n            \n                // updateAllowedEmailPattern() {\n          \n          \n            \n                //     if (this.allowedEmailPattern) {\n          \n          \n            \n                //         this.registerForm.get('email')!\n          \n          \n            \n                //         .setValidators([Validators.required, Validators.minLength(4), Validators.maxLength(50), Validators.pattern(this.allowedEmailPattern)]);\n          \n          \n            \n                //     }\n          \n          \n            \n                // }\n          \n          \n            \n                // TEST CODE END", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:30:25Z", "path": "src/main/webapp/app/account/register/register.component.ts", "diffHunk": "@@ -1,69 +1,107 @@\n-import { AfterViewInit, Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\n+import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n import { HttpErrorResponse } from '@angular/common/http';\n-import { NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\n import { JhiLanguageService } from 'ng-jhipster';\n \n import { RegisterService } from 'app/account/register/register.service';\n import { User } from 'app/core/user/user.model';\n import { EMAIL_ALREADY_USED_TYPE, LOGIN_ALREADY_USED_TYPE } from 'app/shared/constants/error.constants';\n+import { ProfileService } from 'app/shared/layouts/profiles/profile.service';\n+import { FormBuilder, Validators } from '@angular/forms';\n \n @Component({\n     selector: 'jhi-register',\n     templateUrl: './register.component.html',\n })\n export class RegisterComponent implements OnInit, AfterViewInit {\n-    confirmPassword: string;\n-    doNotMatch?: string;\n-    error?: string;\n-    errorEmailExists?: string;\n-    errorUserExists?: string;\n-    registerAccount: User;\n-    success: boolean;\n-    modalRef: NgbModalRef;\n+    @ViewChild('login', { static: false })\n+    login?: ElementRef;\n \n-    constructor(private languageService: JhiLanguageService, private registerService: RegisterService, private elementRef: ElementRef, private renderer: Renderer2) {}\n+    doNotMatch = false;\n+    error = false;\n+    errorEmailExists = false;\n+    errorUserExists = false;\n+    success = false;\n \n-    ngOnInit() {\n-        this.success = false;\n-        this.registerAccount = new User();\n+    defaultEmailPattern = '^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$';\n+\n+    registerForm = this.fb.group({\n+        firstName: ['', [Validators.required, Validators.minLength(2)]],\n+        lastName: ['', [Validators.required, Validators.minLength(2)]],\n+        login: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50), Validators.pattern(this.defaultEmailPattern)]],\n+        email: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],\n+        password: ['', [Validators.required, Validators.minLength(8), Validators.maxLength(50)]],\n+        confirmPassword: ['', [Validators.required, Validators.minLength(8), Validators.maxLength(50)]],\n+    });\n+    isRegistrationEnabled = false;\n+    allowedEmailPattern?: string;\n+    allowedEmailPatternReadable?: string;\n+\n+    constructor(private languageService: JhiLanguageService, private registerService: RegisterService, private fb: FormBuilder, private profileService: ProfileService) {}\n+\n+    ngAfterViewInit(): void {\n+        if (this.login) {\n+            this.login.nativeElement.focus();\n+        }\n     }\n \n-    ngAfterViewInit() {\n-        this.renderer.selectRootElement('#login', true).focus();\n+    // TEST CODE BEGIN\n+    // updateAllowedEmailPattern() {\n+    //     if (this.allowedEmailPattern) {\n+    //         this.registerForm.get('email')!\n+    //         .setValidators([Validators.required, Validators.minLength(4), Validators.maxLength(50), Validators.pattern(this.allowedEmailPattern)]);\n+    //     }\n+    // }\n+    // TEST CODE END", "originalCommit": "348ad3587c3b81b93242149ac4fa61bb36a40cbf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzNDczMA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500634730", "bodyText": "It really helped me in testing the regex pattern, so this might be super useful for other administrators playing around with Artemis, therefore I would like to keep it.", "author": "krusche", "createdAt": "2020-10-06T22:36:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMjQxMw=="}], "type": "inlineReview"}, {"oid": "0bb2e7999aa14855de8c617f3e23b72366256f48", "url": "https://github.com/ls1intum/Artemis/commit/0bb2e7999aa14855de8c617f3e23b72366256f48", "message": "Spring does not like all characters in yml files so we need to put the regex into a string", "committedDate": "2020-10-06T22:39:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDY1MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500640651", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 50 Zeichen sein\",\n          \n          \n            \n                                \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 100 Zeichen sein\",", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:53:13Z", "path": "src/main/webapp/i18n/de/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Ein neues Passwort wird ben\u00f6tigt.\",\n-                    \"minlength\": \"Das neue Passwort muss mindestens 5 Zeichen lang sein\",\n+                    \"minlength\": \"Das neue Passwort muss mindestens 8 Zeichen lang sein\",\n                     \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 50 Zeichen sein\",", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1MDAyNg==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500650026", "bodyText": "thx. I fixed it.", "author": "krusche", "createdAt": "2020-10-06T23:23:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDY1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDg0NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500640845", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Das best\u00e4tigte Passwort darf nicht l\u00e4nger als 50 Zeichen sein\"\n          \n          \n            \n                                \"maxlength\": \"Das best\u00e4tigte Passwort darf nicht l\u00e4nger als 100 Zeichen sein\"", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:53:50Z", "path": "src/main/webapp/i18n/de/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Ein neues Passwort wird ben\u00f6tigt.\",\n-                    \"minlength\": \"Das neue Passwort muss mindestens 5 Zeichen lang sein\",\n+                    \"minlength\": \"Das neue Passwort muss mindestens 8 Zeichen lang sein\",\n                     \"maxlength\": \"Das neue Passwort darf nicht l\u00e4nger als 50 Zeichen sein\",\n                     \"strength\": \"Passwortst\u00e4rke:\"\n                 },\n                 \"confirmpassword\": {\n                     \"required\": \"Du musst das Passwort best\u00e4tigen.\",\n-                    \"minlength\": \"Das best\u00e4tigte Passwort muss mindestens 5 Zeichen lang sein\",\n+                    \"minlength\": \"Das best\u00e4tigte Passwort muss mindestens 8 Zeichen lang sein\",\n                     \"maxlength\": \"Das best\u00e4tigte Passwort darf nicht l\u00e4nger als 50 Zeichen sein\"", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1MDA4NA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500650084", "bodyText": "thx. I fixed it.", "author": "krusche", "createdAt": "2020-10-06T23:23:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDg0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MDkyOA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500640928", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Your password cannot be longer than 50 characters.\",\n          \n          \n            \n                                \"maxlength\": \"Your password cannot be longer than 100 characters.\",", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:54:07Z", "path": "src/main/webapp/i18n/en/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Your password is required.\",\n-                    \"minlength\": \"Your password is required to be at least 4 characters.\",\n+                    \"minlength\": \"Your password is required to be at least 8 characters.\",\n                     \"maxlength\": \"Your password cannot be longer than 50 characters.\",", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MTA1MA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500641050", "bodyText": "This is not consistent to ManagedUserVM as far as I can see.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"maxlength\": \"Your confirmation password cannot be longer than 50 characters.\"\n          \n          \n            \n                                \"maxlength\": \"Your confirmation password cannot be longer than 100 characters.\"", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:54:25Z", "path": "src/main/webapp/i18n/en/global.json", "diffHunk": "@@ -130,20 +135,21 @@\n             \"validate\": {\n                 \"newpassword\": {\n                     \"required\": \"Your password is required.\",\n-                    \"minlength\": \"Your password is required to be at least 4 characters.\",\n+                    \"minlength\": \"Your password is required to be at least 8 characters.\",\n                     \"maxlength\": \"Your password cannot be longer than 50 characters.\",\n                     \"strength\": \"Password strength:\"\n                 },\n                 \"confirmpassword\": {\n                     \"required\": \"Your confirmation password is required.\",\n-                    \"minlength\": \"Your confirmation password is required to be at least 4 characters.\",\n+                    \"minlength\": \"Your confirmation password is required to be at least 8 characters.\",\n                     \"maxlength\": \"Your confirmation password cannot be longer than 50 characters.\"", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1MDE4OA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500650188", "bodyText": "thx. I fixed it.", "author": "krusche", "createdAt": "2020-10-06T23:23:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0MTA1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0Mjk0Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500642942", "bodyText": "This does not match with the localization", "author": "MaisiKoleni", "createdAt": "2020-10-06T22:59:52Z", "path": "src/main/webapp/app/account/register/register.component.html", "diffHunk": "@@ -20,129 +27,176 @@ <h1 jhiTranslate=\"register.title\">Registration</h1>\n             <div class=\"alert alert-danger\" *ngIf=\"doNotMatch\" jhiTranslate=\"global.messages.error.dontmatch\">The password and its confirmation do not match!</div>\n         </div>\n     </div>\n+\n     <div class=\"row justify-content-center\">\n         <div class=\"col-md-8\">\n-            <form name=\"form\" role=\"form\" (ngSubmit)=\"register()\" #registerForm=\"ngForm\" *ngIf=\"!success\">\n+            <form name=\"form\" role=\"form\" (ngSubmit)=\"register()\" [formGroup]=\"registerForm\" *ngIf=\"!success\">\n+                <div class=\"form-group\">\n+                    <label class=\"form-control-label\" for=\"firstName\" jhiTranslate=\"global.form.firstname\">First name</label>\n+                    <input\n+                        type=\"text\"\n+                        class=\"form-control\"\n+                        id=\"firstName\"\n+                        name=\"firstName\"\n+                        autocomplete=\"given-name\"\n+                        placeholder=\"{{ 'global.form.firstname.placeholder' | translate }}\"\n+                        formControlName=\"firstName\"\n+                    />\n+                </div>\n+                <div class=\"form-group\">\n+                    <label class=\"form-control-label\" for=\"lastName\" jhiTranslate=\"global.form.lastname\">Last name</label>\n+                    <input\n+                        type=\"text\"\n+                        class=\"form-control\"\n+                        id=\"lastName\"\n+                        name=\"lastName\"\n+                        autocomplete=\"last-name\"\n+                        placeholder=\"{{ 'global.form.lastname.placeholder' | translate }}\"\n+                        formControlName=\"lastName\"\n+                    />\n+                </div>\n                 <div class=\"form-group\">\n                     <label class=\"form-control-label\" for=\"login\" jhiTranslate=\"global.form.username\">Username</label>\n                     <input\n                         type=\"text\"\n                         class=\"form-control\"\n-                        [(ngModel)]=\"registerAccount.login\"\n                         id=\"login\"\n                         name=\"login\"\n-                        #login=\"ngModel\"\n+                        autocomplete=\"username\"\n                         placeholder=\"{{ 'global.form.username.placeholder' | translate }}\"\n-                        required\n-                        minlength=\"1\"\n-                        maxlength=\"50\"\n-                        pattern=\"^[_'.@A-Za-z0-9-]*$\"\n+                        formControlName=\"login\"\n+                        #login\n                     />\n-                    <div *ngIf=\"login.dirty && login.invalid\">\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.required\" jhiTranslate=\"register.messages.validate.login.required\">\n+\n+                    <div *ngIf=\"registerForm.get('login')!.invalid && (registerForm.get('login')!.dirty || registerForm.get('login')!.touched)\">\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.required\" jhiTranslate=\"register.messages.validate.login.required\">\n                             Your username is required.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.minlength\" jhiTranslate=\"register.messages.validate.login.minlength\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.minlength\" jhiTranslate=\"register.messages.validate.login.minlength\">\n                             Your username is required to be at least 1 character.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.maxlength\" jhiTranslate=\"register.messages.validate.login.maxlength\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.maxlength\" jhiTranslate=\"register.messages.validate.login.maxlength\">\n                             Your username cannot be longer than 50 characters.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"login.errors?.pattern\" jhiTranslate=\"register.messages.validate.login.pattern\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('login')?.errors?.pattern\" jhiTranslate=\"register.messages.validate.login.pattern\">\n                             Your username can only contain letters and digits.\n                         </small>\n                     </div>\n                 </div>\n+\n+                <div class=\"form-group\" *ngIf=\"allowedEmailPatternReadable\">\n+                    <strong jhiTranslate=\"global.form.email.pattern\">Please use an email with the following pattern:</strong>\n+                    {{ allowedEmailPatternReadable }}\n+                </div>\n+\n                 <div class=\"form-group\">\n                     <label class=\"form-control-label\" for=\"email\" jhiTranslate=\"global.form.email\">Email</label>\n                     <input\n                         type=\"email\"\n                         class=\"form-control\"\n                         id=\"email\"\n                         name=\"email\"\n-                        #email=\"ngModel\"\n+                        autocomplete=\"email\"\n                         placeholder=\"{{ 'global.form.email.placeholder' | translate }}\"\n-                        [(ngModel)]=\"registerAccount.email\"\n-                        minlength=\"5\"\n-                        maxlength=\"100\"\n-                        email\n-                        required\n+                        formControlName=\"email\"\n                     />\n-                    <div *ngIf=\"email.dirty && email.invalid\">\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.required\" jhiTranslate=\"global.messages.validate.email.required\"> Your email is required. </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.invalid\" jhiTranslate=\"global.messages.validate.email.invalid\"> Your email is invalid. </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.minlength\" jhiTranslate=\"global.messages.validate.email.minlength\">\n+\n+                    <div *ngIf=\"registerForm.get('email')!.invalid && (registerForm.get('email')!.dirty || registerForm.get('email')!.touched)\">\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.required\" jhiTranslate=\"global.messages.validate.email.required\">\n+                            Your email is required.\n+                        </small>\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.invalid\" jhiTranslate=\"global.messages.validate.email.invalid\">\n+                            Your email is invalid.\n+                        </small>\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.minlength\" jhiTranslate=\"global.messages.validate.email.minlength\">\n                             Your email is required to be at least 5 characters.\n                         </small>\n-                        <small class=\"form-text text-danger\" *ngIf=\"email.errors?.maxlength\" jhiTranslate=\"global.messages.validate.email.maxlength\">\n+\n+                        <small class=\"form-text text-danger\" *ngIf=\"registerForm.get('email')?.errors?.maxlength\" jhiTranslate=\"global.messages.validate.email.maxlength\">\n                             Your email cannot be longer than 100 characters.", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1MDQ5MA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500650490", "bodyText": "thx. I fixed it.", "author": "krusche", "createdAt": "2020-10-06T23:24:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0Mjk0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NDY5OA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500644698", "bodyText": "This is another maximum email length", "author": "MaisiKoleni", "createdAt": "2020-10-06T23:05:41Z", "path": "src/main/webapp/app/account/settings/settings.component.ts", "diffHunk": "@@ -3,88 +3,66 @@ import { FormBuilder, Validators } from '@angular/forms';\n import { JhiLanguageService } from 'ng-jhipster';\n \n import { AccountService } from 'app/core/auth/account.service';\n-import { Account } from 'app/core/user/account.model';\n-import { JhiLanguageHelper } from 'app/core/language/language.helper';\n+import { ProfileService } from 'app/shared/layouts/profiles/profile.service';\n+import { LANGUAGES } from 'app/core/language/language.constants';\n+import { User } from 'app/core/user/user.model';\n \n @Component({\n     selector: 'jhi-settings',\n     templateUrl: './settings.component.html',\n })\n export class SettingsComponent implements OnInit {\n-    error: string | null;\n-    success: string | null;\n-    settingsAccount: Account;\n-    languages: string[];\n+    success = false;\n+    account: User;\n+    languages = LANGUAGES;\n     settingsForm = this.fb.group({\n-        firstName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\n-        lastName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\n+        firstName: [undefined, [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\n+        lastName: [undefined, [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\n         email: [undefined, [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1MTY5OA==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500651698", "bodyText": "thx. I fixed it.", "author": "krusche", "createdAt": "2020-10-06T23:29:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NDY5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NTAyNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500645025", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})\n          \n          \n            \n                        allowed-email-pattern: [a-zA-Z0-9_\\-\\.\\+]+@[a-zA-Z0-9_\\-\\.]+\\.[a-zA-Z]{2,5}", "author": "MaisiKoleni", "createdAt": "2020-10-06T23:06:49Z", "path": "src/test/resources/config/application-artemis.yml", "diffHunk": "@@ -21,6 +21,9 @@ artemis:\n         internal-admin:\n             username: artemis_admin\n             password: artemis_admin\n+        registration:\n+            enabled: true\n+            allowed-email-pattern: ([a-zA-Z0-9_\\-\\.\\+]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})", "originalCommit": "0bb2e7999aa14855de8c617f3e23b72366256f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1MjIyMg==", "url": "https://github.com/ls1intum/Artemis/pull/2143#discussion_r500652222", "bodyText": "if we write it like this, we have to put it into '...'", "author": "krusche", "createdAt": "2020-10-06T23:30:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY0NTAyNQ=="}], "type": "inlineReview"}, {"oid": "2ad49eb735c3c4af8cd2212012acb2a337cd9458", "url": "https://github.com/ls1intum/Artemis/commit/2ad49eb735c3c4af8cd2212012acb2a337cd9458", "message": "fix inconsistency with password and email length constraints", "committedDate": "2020-10-06T23:28:08Z", "type": "commit"}, {"oid": "eb593563ed15a1b8e3bb4b7a81d4ba0dfe7aef7f", "url": "https://github.com/ls1intum/Artemis/commit/eb593563ed15a1b8e3bb4b7a81d4ba0dfe7aef7f", "message": "Merge branch 'develop' into feature/account-setup", "committedDate": "2020-10-06T23:28:48Z", "type": "commit"}, {"oid": "a53f747196e1178f0edcbc84f32703fea09dfe8b", "url": "https://github.com/ls1intum/Artemis/commit/a53f747196e1178f0edcbc84f32703fea09dfe8b", "message": "simplify email pattern in test.yml", "committedDate": "2020-10-06T23:31:02Z", "type": "commit"}]}