{"pr_number": 2428, "pr_title": "isolated modules should reduce testing time of client tests", "pr_createdAt": "2020-11-18T18:45:07Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2428", "timeline": [{"oid": "8d8ba895ff5533eaa01ed0250d0c67bfa633ceaf", "url": "https://github.com/ls1intum/Artemis/commit/8d8ba895ff5533eaa01ed0250d0c67bfa633ceaf", "message": "isolated modules should reduce testing time of client tests", "committedDate": "2020-11-18T18:02:20Z", "type": "commit"}, {"oid": "38328214c3c69185e4598df5c0085a2c0e0c27c1", "url": "https://github.com/ls1intum/Artemis/commit/38328214c3c69185e4598df5c0085a2c0e0c27c1", "message": "test other configuration on bamboo", "committedDate": "2020-11-19T08:36:32Z", "type": "commit"}, {"oid": "469ce49e1b3ad6295042d94da2d40b88482dbeaa", "url": "https://github.com/ls1intum/Artemis/commit/469ce49e1b3ad6295042d94da2d40b88482dbeaa", "message": "Merge branch 'develop' into bugfix/client-test-performance", "committedDate": "2020-11-19T09:10:18Z", "type": "commit"}, {"oid": "badfaba94459ed146f5850596a9346e62a61a18c", "url": "https://github.com/ls1intum/Artemis/commit/badfaba94459ed146f5850596a9346e62a61a18c", "message": "remove jasmine", "committedDate": "2020-11-22T15:13:45Z", "type": "commit"}, {"oid": "22e87bfe18122512666fcab4bb0c04321355ac08", "url": "https://github.com/ls1intum/Artemis/commit/22e87bfe18122512666fcab4bb0c04321355ac08", "message": "Merge branch 'develop' into bugfix/client-test-performance\n\n# Conflicts:\n#\tpackage.json\n#\tyarn.lock", "committedDate": "2020-11-22T17:19:47Z", "type": "commit"}, {"oid": "a45fbaeb63f8ee100c9482c3ca69fd5b8d827d55", "url": "https://github.com/ls1intum/Artemis/commit/a45fbaeb63f8ee100c9482c3ca69fd5b8d827d55", "message": "remove ace.acequire from code -> faster execution", "committedDate": "2020-11-22T17:27:59Z", "type": "commit"}, {"oid": "21945e6be452ec5aba2d7b8a8e4d88bb86dc67dc", "url": "https://github.com/ls1intum/Artemis/commit/21945e6be452ec5aba2d7b8a8e4d88bb86dc67dc", "message": "test run in band on bamboo", "committedDate": "2020-11-23T20:57:25Z", "type": "commit"}, {"oid": "bdca95546691b8069986d30cdd1dc097d32c5785", "url": "https://github.com/ls1intum/Artemis/commit/bdca95546691b8069986d30cdd1dc097d32c5785", "message": "test run in band on github", "committedDate": "2020-11-23T21:19:14Z", "type": "commit"}, {"oid": "8976e1c80ebed67faeba88f21d811603a38a5c15", "url": "https://github.com/ls1intum/Artemis/commit/8976e1c80ebed67faeba88f21d811603a38a5c15", "message": "test run in band on github", "committedDate": "2020-11-23T21:22:54Z", "type": "commit"}, {"oid": "ca276f94fbc564f05f3977621ec7d415f935b0ce", "url": "https://github.com/ls1intum/Artemis/commit/ca276f94fbc564f05f3977621ec7d415f935b0ce", "message": "test without ace statement", "committedDate": "2020-11-23T21:57:13Z", "type": "commit"}, {"oid": "97cf34d1c50d5293a795b613f137c4fa534a4f1c", "url": "https://github.com/ls1intum/Artemis/commit/97cf34d1c50d5293a795b613f137c4fa534a4f1c", "message": "add ci testing command", "committedDate": "2020-11-24T10:44:31Z", "type": "commit"}, {"oid": "ec2af0d14ad9df92c441b4f921dac7d287ec8678", "url": "https://github.com/ls1intum/Artemis/commit/ec2af0d14ad9df92c441b4f921dac7d287ec8678", "message": "use ci jest config when testing on ci", "committedDate": "2020-11-24T10:49:47Z", "type": "commit"}, {"oid": "4b558ab8630a17a5c0084a447ba70fd208b390ea", "url": "https://github.com/ls1intum/Artemis/commit/4b558ab8630a17a5c0084a447ba70fd208b390ea", "message": "Merge branch 'develop' into bugfix/client-test-performance", "committedDate": "2020-11-24T12:17:26Z", "type": "commit"}, {"oid": "301f9172624e035033c6fe398c3116f5b948ec9f", "url": "https://github.com/ls1intum/Artemis/commit/301f9172624e035033c6fe398c3116f5b948ec9f", "message": "update jest-cache", "committedDate": "2020-11-25T07:36:37Z", "type": "commit"}, {"oid": "9e4cd24a1ed8b767edd491565ab3a77c73638fad", "url": "https://github.com/ls1intum/Artemis/commit/9e4cd24a1ed8b767edd491565ab3a77c73638fad", "message": "Merge branch 'develop' into bugfix/client-test-performance\n\n# Conflicts:\n#\tpackage.json", "committedDate": "2020-11-25T07:39:50Z", "type": "commit"}, {"oid": "9bb3473af1749f7eedc7485a4c10ddf33e09bf4f", "url": "https://github.com/ls1intum/Artemis/commit/9bb3473af1749f7eedc7485a4c10ddf33e09bf4f", "message": "test impact of test coverage", "committedDate": "2020-11-25T07:52:31Z", "type": "commit"}, {"oid": "dbdcb1dd8d7e6563c8565bd230ec15ea115806c8", "url": "https://github.com/ls1intum/Artemis/commit/dbdcb1dd8d7e6563c8565bd230ec15ea115806c8", "message": "revert changes to ace in integration tests", "committedDate": "2020-11-25T07:57:35Z", "type": "commit"}, {"oid": "dfc8c9c407d9158cc6e429faefaf1e14a126b182", "url": "https://github.com/ls1intum/Artemis/commit/dfc8c9c407d9158cc6e429faefaf1e14a126b182", "message": "revert changes to ace in integration tests", "committedDate": "2020-11-25T08:05:58Z", "type": "commit"}, {"oid": "eff6103fc42da07059c9d465737bd7888cb1a165", "url": "https://github.com/ls1intum/Artemis/commit/eff6103fc42da07059c9d465737bd7888cb1a165", "message": "remove duplication from jest.config", "committedDate": "2020-11-25T08:18:56Z", "type": "commit"}, {"oid": "e7377dd8bf8bd30b713173b486569f06b02665ee", "url": "https://github.com/ls1intum/Artemis/commit/e7377dd8bf8bd30b713173b486569f06b02665ee", "message": "correct path in require", "committedDate": "2020-11-25T08:38:15Z", "type": "commit"}, {"oid": "ae06c24989a9dc852f9f052d5ee846d40755ffa2", "url": "https://github.com/ls1intum/Artemis/commit/ae06c24989a9dc852f9f052d5ee846d40755ffa2", "message": "remove jest-cache from workflow as it did not work as expected", "committedDate": "2020-11-25T09:21:31Z", "type": "commit"}, {"oid": "9d6dfa96786dbdd7193019c808095c7114f8dd4d", "url": "https://github.com/ls1intum/Artemis/commit/9d6dfa96786dbdd7193019c808095c7114f8dd4d", "message": "update github actions - separate client-tests-fast from client-tests -> separate check is more visible", "committedDate": "2020-11-25T10:17:20Z", "type": "commit"}, {"oid": "fe9ecec078da63b572a34c8178d8880f4d0bb91a", "url": "https://github.com/ls1intum/Artemis/commit/fe9ecec078da63b572a34c8178d8880f4d0bb91a", "message": "update github actions - remove coverage report from second workflow (included in fast test)", "committedDate": "2020-11-25T11:20:47Z", "type": "commit"}, {"oid": "8b9c4f40f621c173a7033146ec7a53702e5dfc1f", "url": "https://github.com/ls1intum/Artemis/commit/8b9c4f40f621c173a7033146ec7a53702e5dfc1f", "message": "remove sinon imports from files in which it is not used", "committedDate": "2020-11-25T12:04:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ1MDU1OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2428#discussion_r530450559", "bodyText": "This step shows failing tests in PRs in the Files Tab. Was this omitted on purpose?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      run: yarn test --ci\n          \n          \n            \n                      run: yarn test --ci\n          \n          \n            \n                    - name: Annotate Client Test Results\n          \n          \n            \n                       uses: ashley-taylor/junit-report-annotations-action@9ac2f823854c677f30e062dfe779445e33e5d380\n          \n          \n            \n                       if: always()\n          \n          \n            \n                       with:\n          \n          \n            \n                           access-token: ${{ secrets.GITHUB_TOKEN }}\n          \n          \n            \n                           path: junit.xml\n          \n          \n            \n                           numFailures: 99", "author": "jpbernius", "createdAt": "2020-11-25T15:18:24Z", "path": ".github/workflows/test.yml", "diffHunk": "@@ -77,38 +77,58 @@ jobs:\n       run: ./gradlew checkstyleMain -x yarn -x webpack\n       if: success() || failure()\n \n+  client-tests-fast:\n+    runs-on: ubuntu-latest\n+    steps:\n+        - name: Setup Node.js\n+          uses: actions/setup-node@v1\n+          with:\n+              node-version: '${{ env.node }}'\n+        - uses: actions/checkout@v2\n+        - name: Cache node modules\n+          uses: actions/cache@v2\n+          with:\n+              path: node_modules\n+              key: ${{ runner.os }}-node_modules-${{ hashFiles('**/yarn.lock') }}\n+              restore-keys: |\n+                  ${{ runner.os }}-node_modules-\n+        - name: Install Dependencies\n+          run: yarn install\n+        - name: Fast TypeScript Test without Typechecking\n+          run: yarn test:ci --ci\n+        - name: \"Codacy: Report coverage\"\n+          uses: codacy/codacy-coverage-reporter-action@master\n+          with:\n+              project-token: ${{ secrets.CODACY_PROJECT_TOKEN }}\n+              coverage-reports: coverage/lcov.info\n+          if: (github.event.pull_request.head.repo.full_name == github.event.pull_request.base.repo.full_name) && (success() || failure())\n+        - name: Annotate Client Test Results\n+          uses: ashley-taylor/junit-report-annotations-action@9ac2f823854c677f30e062dfe779445e33e5d380\n+          if: always()\n+          with:\n+              access-token: ${{ secrets.GITHUB_TOKEN }}\n+              path: junit.xml\n+              numFailures: 99\n+\n   client-tests:\n     runs-on: ubuntu-latest\n     steps:\n-    - name: Setup Node.js\n-      uses: actions/setup-node@v1\n-      with:\n-        node-version: '${{ env.node }}'\n-    - uses: actions/checkout@v2\n-    - name: Cache node modules\n-      uses: actions/cache@v2\n-      with:\n-        path: node_modules\n-        key: ${{ runner.os }}-node_modules-${{ hashFiles('**/yarn.lock') }}\n-        restore-keys: |\n-          ${{ runner.os }}-node_modules-\n-    - name: Install Dependencies\n-      run: yarn install\n-    - name: TypeScript Tests\n-      run: yarn test:coverage --ci\n-    - name: \"Codacy: Report coverage\"\n-      uses: codacy/codacy-coverage-reporter-action@master\n-      with:\n-          project-token: ${{ secrets.CODACY_PROJECT_TOKEN }}\n-          coverage-reports: coverage/lcov.info\n-      if: (github.event.pull_request.head.repo.full_name == github.event.pull_request.base.repo.full_name) && (success() || failure())\n-    - name: Annotate Client Test Results\n-      uses: ashley-taylor/junit-report-annotations-action@9ac2f823854c677f30e062dfe779445e33e5d380\n-      if: always()\n-      with:\n-        access-token: ${{ secrets.GITHUB_TOKEN }}\n-        path: junit.xml\n-        numFailures: 99\n+        - name: Setup Node.js\n+          uses: actions/setup-node@v1\n+          with:\n+              node-version: '${{ env.node }}'\n+        - uses: actions/checkout@v2\n+        - name: Cache node modules\n+          uses: actions/cache@v2\n+          with:\n+              path: node_modules\n+              key: ${{ runner.os }}-node_modules-${{ hashFiles('**/yarn.lock') }}\n+              restore-keys: |\n+                  ${{ runner.os }}-node_modules-\n+        - name: Install Dependencies\n+          run: yarn install\n+        - name: TypeScript Test With Typechecking\n+          run: yarn test --ci", "originalCommit": "8b9c4f40f621c173a7033146ec7a53702e5dfc1f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2a321a08bb9081214fa5cdf4a5e7934831e72515", "url": "https://github.com/ls1intum/Artemis/commit/2a321a08bb9081214fa5cdf4a5e7934831e72515", "message": "add test annotation to \"slow\" client test run\n\nCo-authored-by: Jan Philip Bernius <janphilip.bernius@tum.de>", "committedDate": "2020-11-26T10:52:11Z", "type": "commit"}, {"oid": "e19642e1662dd783784bf6d68a8d6d928df09847", "url": "https://github.com/ls1intum/Artemis/commit/e19642e1662dd783784bf6d68a8d6d928df09847", "message": "reformat", "committedDate": "2020-11-26T15:58:46Z", "type": "commit"}]}