{"pr_number": 2270, "pr_title": "[Chore / Fix] Lazy load brace module", "pr_createdAt": "2020-10-25T10:14:09Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2270", "timeline": [{"oid": "3c320197a312033b4035e0a59d99cc5e59acf550", "url": "https://github.com/ls1intum/Artemis/commit/3c320197a312033b4035e0a59d99cc5e59acf550", "message": "move manual-result-button from programming assessment module into result module", "committedDate": "2020-10-25T10:01:17Z", "type": "commit"}, {"oid": "8b32a4db265748b30ca9a09383ac44bbea061ca3", "url": "https://github.com/ls1intum/Artemis/commit/8b32a4db265748b30ca9a09383ac44bbea061ca3", "message": "fix naming", "committedDate": "2020-10-25T10:12:42Z", "type": "commit"}, {"oid": "4b15a8f7d18d7ca3fa5e8192e59c9302d6eaa9e4", "url": "https://github.com/ls1intum/Artemis/commit/4b15a8f7d18d7ca3fa5e8192e59c9302d6eaa9e4", "message": "fix formatting", "committedDate": "2020-10-25T10:17:02Z", "type": "commit"}, {"oid": "530d892a62a98cac9e3861ec15c0bb5537c43c3f", "url": "https://github.com/ls1intum/Artemis/commit/530d892a62a98cac9e3861ec15c0bb5537c43c3f", "message": "try lazy load student questions module", "committedDate": "2020-10-25T13:33:08Z", "type": "commit"}, {"oid": "439f7240db9fe2ef8941611cbc7e0a94f0923c2c", "url": "https://github.com/ls1intum/Artemis/commit/439f7240db9fe2ef8941611cbc7e0a94f0923c2c", "message": "remove student questions module from course module", "committedDate": "2020-10-25T14:44:10Z", "type": "commit"}, {"oid": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5", "url": "https://github.com/ls1intum/Artemis/commit/592063dbd06fd1687d1fd9c74fbb5a020db6e6b5", "message": "fix formatting", "committedDate": "2020-10-25T16:18:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDcxMw==", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511634713", "bodyText": "can you document this? I'm not really sure if I understand the code.\nIf this.studentQuestions is not undefined and not null, which part has injected it?\nAs it is not a ViewChild, I don't see the magic behind this approach", "author": "krusche", "createdAt": "2020-10-25T18:55:21Z", "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "diffHunk": "@@ -51,6 +53,9 @@ export class CourseLectureDetailsComponent implements OnInit, OnDestroy {\n                 this.lecture = null;\n                 this.lectureService.find(params.lectureId).subscribe((lectureResponse: HttpResponse<Lecture>) => {\n                     this.lecture = lectureResponse.body;\n+                    if (this.studentQuestions) {\n+                        this.onChildActivate(this.studentQuestions);", "originalCommit": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNjc1Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511636756", "bodyText": "I updated the code to be more clear.\nonChildActivate gets called by the router outlet when the child component is mounted. If the exercise is already loaded it gets set to the mounted component. But it might also be that the component gets mounted before the exercise is fetched therefore I save a reference to the component instance and also set the exercise when it is loaded. So it works both ways whichever gets loaded first.", "author": "schultek", "createdAt": "2020-10-25T19:14:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDcxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDc1Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511634752", "bodyText": "this code is only invoked (see above) if this.studentQuestions is available. Why do we need to re-assign it here?", "author": "krusche", "createdAt": "2020-10-25T18:55:53Z", "path": "src/main/webapp/app/overview/course-lectures/course-lecture-details.component.ts", "diffHunk": "@@ -85,4 +90,12 @@ export class CourseLectureDetailsComponent implements OnInit, OnDestroy {\n             this.isDownloadingLink = null;\n         }\n     }\n+\n+    onChildActivate(ref: StudentQuestionsComponent) {\n+        this.studentQuestions = ref;", "originalCommit": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNjc2NA==", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511636764", "bodyText": "see my other comment", "author": "schultek", "createdAt": "2020-10-25T19:14:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDc1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDg3Mw==", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511634873", "bodyText": "please add this code earlier in the file before the section ONLY FOR LOCAL TESTING PURPOSE\nplease also add some documentation here", "author": "krusche", "createdAt": "2020-10-25T18:56:54Z", "path": "src/main/webapp/app/overview/exercise-details/course-exercise-details.component.ts", "diffHunk": "@@ -407,4 +413,12 @@ export class CourseExerciseDetailsComponent implements OnInit, OnDestroy {\n     }\n \n     // ################## ONLY FOR LOCAL TESTING PURPOSE -- END ##################\n+\n+    onChildActivate(ref: StudentQuestionsComponent) {", "originalCommit": "592063dbd06fd1687d1fd9c74fbb5a020db6e6b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNjQ3Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2270#discussion_r511636472", "bodyText": "done", "author": "schultek", "createdAt": "2020-10-25T19:11:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYzNDg3Mw=="}], "type": "inlineReview"}, {"oid": "3d86d9b09bc474022c731b98769e8b5ec33f5164", "url": "https://github.com/ls1intum/Artemis/commit/3d86d9b09bc474022c731b98769e8b5ec33f5164", "message": "code improvements", "committedDate": "2020-10-25T19:11:40Z", "type": "commit"}, {"oid": "c54531653fe15bc842174e6a3a7523404e797765", "url": "https://github.com/ls1intum/Artemis/commit/c54531653fe15bc842174e6a3a7523404e797765", "message": "Merge branch 'develop' into chore/lazy-load-brace-fix", "committedDate": "2020-10-27T15:14:23Z", "type": "commit"}, {"oid": "2c7b823a17dc3c74df0a96dd0c5bde749254f622", "url": "https://github.com/ls1intum/Artemis/commit/2c7b823a17dc3c74df0a96dd0c5bde749254f622", "message": "Merge branch 'develop' into chore/lazy-load-brace-fix", "committedDate": "2020-10-28T00:23:37Z", "type": "commit"}]}