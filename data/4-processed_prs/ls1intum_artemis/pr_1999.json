{"pr_number": 1999, "pr_title": "[Ehancement] Refactor code editor container", "pr_createdAt": "2020-08-05T16:52:54Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1999", "timeline": [{"oid": "e0456559e3158ab92d3b6504561ee954fe34dbc5", "url": "https://github.com/ls1intum/Artemis/commit/e0456559e3158ab92d3b6504561ee954fe34dbc5", "message": "remove unused property in file-browser", "committedDate": "2020-08-05T14:12:25Z", "type": "commit"}, {"oid": "d343da15bdb30095830b5df28ed2ed2331398e87", "url": "https://github.com/ls1intum/Artemis/commit/d343da15bdb30095830b5df28ed2ed2331398e87", "message": "move exerciseTitle out of code-editor-grid", "committedDate": "2020-08-05T14:14:01Z", "type": "commit"}, {"oid": "0d1cc4d01b773f278e24eb0a1435f8c4103a65b0", "url": "https://github.com/ls1intum/Artemis/commit/0d1cc4d01b773f278e24eb0a1435f8c4103a65b0", "message": "create standalone code-editor-container component", "committedDate": "2020-08-05T14:14:53Z", "type": "commit"}, {"oid": "5814699e8cd87b2c14281d32b53501c5529a0b60", "url": "https://github.com/ls1intum/Artemis/commit/5814699e8cd87b2c14281d32b53501c5529a0b60", "message": "edit code-editor-student-container to use new standalone component", "committedDate": "2020-08-05T14:15:42Z", "type": "commit"}, {"oid": "81decb67ff30f4f5ac9215dad01b999996ffdf14", "url": "https://github.com/ls1intum/Artemis/commit/81decb67ff30f4f5ac9215dad01b999996ffdf14", "message": "fix formatting", "committedDate": "2020-08-05T16:47:43Z", "type": "commit"}, {"oid": "373f5410f15a03c052b2bd1af903cfa1e8f3c0b1", "url": "https://github.com/ls1intum/Artemis/commit/373f5410f15a03c052b2bd1af903cfa1e8f3c0b1", "message": "add to module", "committedDate": "2020-08-05T16:47:53Z", "type": "commit"}, {"oid": "7346462979e8232c8da4d23cddd50a4da9f26c51", "url": "https://github.com/ls1intum/Artemis/commit/7346462979e8232c8da4d23cddd50a4da9f26c51", "message": "try rename navbar", "committedDate": "2020-08-05T17:13:11Z", "type": "commit"}, {"oid": "7fdb5da388e07a9497a1c6ab20c4094718003139", "url": "https://github.com/ls1intum/Artemis/commit/7fdb5da388e07a9497a1c6ab20c4094718003139", "message": "remove ng-template", "committedDate": "2020-08-05T17:59:45Z", "type": "commit"}, {"oid": "443c7dcded23e572af21f9ddd152332d826c14a3", "url": "https://github.com/ls1intum/Artemis/commit/443c7dcded23e572af21f9ddd152332d826c14a3", "message": "refactor code-editor-instructionns", "committedDate": "2020-08-05T18:07:27Z", "type": "commit"}, {"oid": "7f145ea72b2422a820219548569d9644a7d788c4", "url": "https://github.com/ls1intum/Artemis/commit/7f145ea72b2422a820219548569d9644a7d788c4", "message": "make grid-resize event explicit\n(todo: remove resize service)", "committedDate": "2020-08-05T18:18:20Z", "type": "commit"}, {"oid": "97f6ae274690c9b963a9f8091184db7e30f99d75", "url": "https://github.com/ls1intum/Artemis/commit/97f6ae274690c9b963a9f8091184db7e30f99d75", "message": "make ace-editor resize explicit", "committedDate": "2020-08-05T18:25:44Z", "type": "commit"}, {"oid": "616ff3e87f737b4f860fef2c071236b48722fdaa", "url": "https://github.com/ls1intum/Artemis/commit/616ff3e87f737b4f860fef2c071236b48722fdaa", "message": "remove unused resize bits from code-editor-instructions", "committedDate": "2020-08-05T18:26:54Z", "type": "commit"}, {"oid": "4ad4c17c54dbd895b5d2e1a9d8c5df191c51fb1e", "url": "https://github.com/ls1intum/Artemis/commit/4ad4c17c54dbd895b5d2e1a9d8c5df191c51fb1e", "message": "remove unused code-editor-grid-service", "committedDate": "2020-08-05T18:29:54Z", "type": "commit"}, {"oid": "e32802ce222d3ee14e2b33acc56273eabd5a61eb", "url": "https://github.com/ls1intum/Artemis/commit/e32802ce222d3ee14e2b33acc56273eabd5a61eb", "message": "fix code-editor-instructions", "committedDate": "2020-08-05T19:17:28Z", "type": "commit"}, {"oid": "058e65ea553028da3d54992a899fc664c71d0ee7", "url": "https://github.com/ls1intum/Artemis/commit/058e65ea553028da3d54992a899fc664c71d0ee7", "message": "refactor exam-code-editor-student-container to use new code-editor-container component", "committedDate": "2020-08-05T19:50:23Z", "type": "commit"}, {"oid": "d5c19afcfc37ba35dbcbe59fe7e0617803a175ed", "url": "https://github.com/ls1intum/Artemis/commit/d5c19afcfc37ba35dbcbe59fe7e0617803a175ed", "message": "refactor exam-code-editor-instructor-container to use new code-editor-container component", "committedDate": "2020-08-05T20:40:20Z", "type": "commit"}, {"oid": "9ef31a48e65a094f3a0f22be6eac4707085f63fe", "url": "https://github.com/ls1intum/Artemis/commit/9ef31a48e65a094f3a0f22be6eac4707085f63fe", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-05T20:40:52Z", "type": "commit"}, {"oid": "fb2550c8df7161c6053915d26cabc26b9421a991", "url": "https://github.com/ls1intum/Artemis/commit/fb2550c8df7161c6053915d26cabc26b9421a991", "message": "wiring for onFileChanged in exam-code-editor-student-container", "committedDate": "2020-08-05T20:52:32Z", "type": "commit"}, {"oid": "bf8692a863f1def04f3fa6020c142e32fd00ec78", "url": "https://github.com/ls1intum/Artemis/commit/bf8692a863f1def04f3fa6020c142e32fd00ec78", "message": "remove old unused code-editor-container", "committedDate": "2020-08-05T20:52:52Z", "type": "commit"}, {"oid": "ca778fb443ee847b12e673ef0aadb02910c12e56", "url": "https://github.com/ls1intum/Artemis/commit/ca778fb443ee847b12e673ef0aadb02910c12e56", "message": "fix code-editor reference", "committedDate": "2020-08-05T21:03:43Z", "type": "commit"}, {"oid": "6b52c94f437879084c5956f7f10f8ae5304fa4ff", "url": "https://github.com/ls1intum/Artemis/commit/6b52c94f437879084c5956f7f10f8ae5304fa4ff", "message": "join exam-code-editor-student-container into programming-exam-submission component", "committedDate": "2020-08-05T21:16:56Z", "type": "commit"}, {"oid": "cc001eb9c58559975e36837eddff8d0535d78d4e", "url": "https://github.com/ls1intum/Artemis/commit/cc001eb9c58559975e36837eddff8d0535d78d4e", "message": "fix CodeEditorInstructor jest tests", "committedDate": "2020-08-06T07:30:38Z", "type": "commit"}, {"oid": "39ba51b98b16be240f854bdd0220464aa99e8cbc", "url": "https://github.com/ls1intum/Artemis/commit/39ba51b98b16be240f854bdd0220464aa99e8cbc", "message": "try to fix CodeEditorStudentContainer tests", "committedDate": "2020-08-06T08:24:51Z", "type": "commit"}, {"oid": "8c54c1cb313e393bae80a11e7777063497c33398", "url": "https://github.com/ls1intum/Artemis/commit/8c54c1cb313e393bae80a11e7777063497c33398", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-06T08:38:04Z", "type": "commit"}, {"oid": "ef40247b545e9932bace0eded3d79470a9ec1c72", "url": "https://github.com/ls1intum/Artemis/commit/ef40247b545e9932bace0eded3d79470a9ec1c72", "message": "fix canDeactivate", "committedDate": "2020-08-06T16:36:37Z", "type": "commit"}, {"oid": "a51d61beaa884b3a25893c36cf0e13e2393db3b4", "url": "https://github.com/ls1intum/Artemis/commit/a51d61beaa884b3a25893c36cf0e13e2393db3b4", "message": "fix editor layout", "committedDate": "2020-08-06T16:36:59Z", "type": "commit"}, {"oid": "ccc61e2456634d9dc0eb0e97cad9c3a59aab84a8", "url": "https://github.com/ls1intum/Artemis/commit/ccc61e2456634d9dc0eb0e97cad9c3a59aab84a8", "message": "fix instructions test", "committedDate": "2020-08-06T16:37:20Z", "type": "commit"}, {"oid": "e03bb620f6885669e7fb33a0843afa041ab3490f", "url": "https://github.com/ls1intum/Artemis/commit/e03bb620f6885669e7fb33a0843afa041ab3490f", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/programming/shared/code-editor/instructions/code-editor-instructions.component.ts\n#\tsrc/main/webapp/app/exercises/programming/shared/code-editor/layout/code-editor-grid.component.ts", "committedDate": "2020-08-06T16:47:14Z", "type": "commit"}, {"oid": "f7df6545a2dcb4f54dae197de42003b98d9012b3", "url": "https://github.com/ls1intum/Artemis/commit/f7df6545a2dcb4f54dae197de42003b98d9012b3", "message": "cleanup instructions-component", "committedDate": "2020-08-06T17:22:37Z", "type": "commit"}, {"oid": "327512fd8ac3f95932e1ca6d419b1fff1a987c3e", "url": "https://github.com/ls1intum/Artemis/commit/327512fd8ac3f95932e1ca6d419b1fff1a987c3e", "message": "typescript formatting", "committedDate": "2020-08-06T17:41:35Z", "type": "commit"}, {"oid": "d8cc34151f8c132b410748d00a752a3a4451305e", "url": "https://github.com/ls1intum/Artemis/commit/d8cc34151f8c132b410748d00a752a3a4451305e", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-06T17:42:20Z", "type": "commit"}, {"oid": "2c9a5cf8427a1bb446750efe55b6cfd9915e6356", "url": "https://github.com/ls1intum/Artemis/commit/2c9a5cf8427a1bb446750efe55b6cfd9915e6356", "message": "add code-editor-container integration test", "committedDate": "2020-08-06T19:49:06Z", "type": "commit"}, {"oid": "875c230b0ad4c7dcafba956187dc463776645469", "url": "https://github.com/ls1intum/Artemis/commit/875c230b0ad4c7dcafba956187dc463776645469", "message": "typescript linting", "committedDate": "2020-08-06T20:07:21Z", "type": "commit"}, {"oid": "646d023762b63ebe804395fc3c47c5ca6e750074", "url": "https://github.com/ls1intum/Artemis/commit/646d023762b63ebe804395fc3c47c5ca6e750074", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-10T10:14:30Z", "type": "commit"}, {"oid": "5794a7925a7543a6fcaa705f1a25a38642294ded", "url": "https://github.com/ls1intum/Artemis/commit/5794a7925a7543a6fcaa705f1a25a38642294ded", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-12T11:23:07Z", "type": "commit"}, {"oid": "2cc14274f173e22f8e78c3bfaad7a82279f93cd3", "url": "https://github.com/ls1intum/Artemis/commit/2cc14274f173e22f8e78c3bfaad7a82279f93cd3", "message": "fix styling issue", "committedDate": "2020-08-14T14:24:21Z", "type": "commit"}, {"oid": "d7ca52fc276790076544393cece2906df860da5b", "url": "https://github.com/ls1intum/Artemis/commit/d7ca52fc276790076544393cece2906df860da5b", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-14T14:46:30Z", "type": "commit"}, {"oid": "1f58f4503e867e450c354da5c3b4d5c8c82dfd58", "url": "https://github.com/ls1intum/Artemis/commit/1f58f4503e867e450c354da5c3b4d5c8c82dfd58", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-17T23:53:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA4MTIxNA==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472081214", "bodyText": "Is there a reason why you keep this method?", "author": "HanyaElhashemy", "createdAt": "2020-08-18T10:35:59Z", "path": "src/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts", "diffHunk": "@@ -34,28 +46,64 @@ export class ProgrammingExamSubmissionComponent extends ExamSubmissionComponent\n         return this.exercise;\n     }\n \n-    @ViewChild(ExamCodeEditorStudentContainerComponent, { static: false })\n-    codeEditorComponent: ExamCodeEditorStudentContainerComponent;\n-\n     isSaving: boolean;\n     readonly ButtonType = ButtonType;\n     readonly ButtonSize = ButtonSize;\n \n+    /**\n+     * On init set up the route param subscription.\n+     * Will load the participation according to participation Id with the latest result and result details.\n+     */\n+    ngOnInit(): void {\n+        // We lock the repository when the buildAndTestAfterDueDate is set and the due date has passed.\n+        const dueDateHasPassed = !this.exercise.dueDate || moment(this.exercise.dueDate).isBefore(moment());\n+        this.repositoryIsLocked = !!this.exercise.buildAndTestStudentSubmissionsAfterDueDate && !!this.exercise.dueDate && dueDateHasPassed;\n+\n+        const participation = { ...this.studentParticipation, exercise: this.exercise } as StudentParticipation;\n+        this.domainService.setDomain([DomainType.PARTICIPATION, participation]);\n+    }\n+\n+    reload(): void {", "originalCommit": "1f58f4503e867e450c354da5c3b4d5c8c82dfd58", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMwODYzNA==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472308634", "bodyText": "This was related to the issue mentioned by @kloessst . I uncommented these lines now.", "author": "schultek", "createdAt": "2020-08-18T16:02:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA4MTIxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA4MjI4NA==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472082284", "bodyText": "same comment here", "author": "HanyaElhashemy", "createdAt": "2020-08-18T10:37:56Z", "path": "src/main/webapp/app/exam/participate/exercises/programming/programming-exam-submission.component.ts", "diffHunk": "@@ -34,28 +46,64 @@ export class ProgrammingExamSubmissionComponent extends ExamSubmissionComponent\n         return this.exercise;\n     }\n \n-    @ViewChild(ExamCodeEditorStudentContainerComponent, { static: false })\n-    codeEditorComponent: ExamCodeEditorStudentContainerComponent;\n-\n     isSaving: boolean;\n     readonly ButtonType = ButtonType;\n     readonly ButtonSize = ButtonSize;\n \n+    /**\n+     * On init set up the route param subscription.\n+     * Will load the participation according to participation Id with the latest result and result details.\n+     */\n+    ngOnInit(): void {\n+        // We lock the repository when the buildAndTestAfterDueDate is set and the due date has passed.\n+        const dueDateHasPassed = !this.exercise.dueDate || moment(this.exercise.dueDate).isBefore(moment());\n+        this.repositoryIsLocked = !!this.exercise.buildAndTestStudentSubmissionsAfterDueDate && !!this.exercise.dueDate && dueDateHasPassed;\n+\n+        const participation = { ...this.studentParticipation, exercise: this.exercise } as StudentParticipation;\n+        this.domainService.setDomain([DomainType.PARTICIPATION, participation]);\n+    }\n+\n+    reload(): void {\n+        // this.ngOnInit();\n+        // if (this.instructions) {\n+        //     this.instructions.refreshInstructions();\n+        // }\n+    }\n+\n+    /**\n+     * Update {@link Submission#isSynced} & {@link Submission#submitted} based on the CommitState.\n+     * The submission is only synced, if all changes are committed (CommitState.CLEAN).\n+     *\n+     * @param commitState current CommitState from CodeEditorActionsComponent\n+     */\n+    onCommitStateChange(commitState: CommitState): void {\n+        if (this.studentParticipation.submissions && this.studentParticipation.submissions.length > 0) {\n+            if (commitState === CommitState.CLEAN) {\n+                this.studentParticipation.submissions[0].submitted = true;\n+                this.studentParticipation.submissions[0].isSynced = true;\n+            }\n+        }\n+    }\n+\n+    onFileChanged() {\n+        if (this.studentParticipation.submissions && this.studentParticipation.submissions.length > 0) {\n+            this.studentParticipation.submissions[0].isSynced = false;\n+        }\n+    }\n+\n     hasUnsavedChanges(): boolean {\n         if (this.exercise.allowOfflineIde && !this.exercise.allowOnlineEditor) {\n             return false;\n         }\n-        return this.codeEditorComponent.editorState === EditorState.UNSAVED_CHANGES;\n+        return this.codeEditorContainer.editorState === EditorState.UNSAVED_CHANGES;\n     }\n \n     onActivate(): void {", "originalCommit": "1f58f4503e867e450c354da5c3b4d5c8c82dfd58", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMwODgxMA==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472308810", "bodyText": "see my answer above", "author": "schultek", "createdAt": "2020-08-18T16:02:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA4MjI4NA=="}], "type": "inlineReview"}, {"oid": "b14b1d28edfcbce0bc1ed7387e1d33bfba581e05", "url": "https://github.com/ls1intum/Artemis/commit/b14b1d28edfcbce0bc1ed7387e1d33bfba581e05", "message": "fix issue with multiple exam exercises", "committedDate": "2020-08-18T15:39:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM3NjE0OA==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472376148", "bodyText": "This went missing and caused the problems with multiple programming exercises in an exam. I'd rather have unique instances of these services for each code editor instance but calling ngOnInit on reload also works.", "author": "kloessst", "createdAt": "2020-08-18T17:50:04Z", "path": "src/main/webapp/app/exam/participate/exercises/programming/code-editor/exam-code-editor-student-container.component.ts", "diffHunk": "@@ -1,124 +0,0 @@\n-import { Component, Input, OnInit, ViewChild } from '@angular/core';\n-import * as moment from 'moment';\n-import { TranslateService } from '@ngx-translate/core';\n-import { AlertService } from 'app/core/alert/alert.service';\n-import { CodeEditorBuildOutputComponent } from 'app/exercises/programming/shared/code-editor/build-output/code-editor-build-output.component';\n-import { ButtonSize } from 'app/shared/components/button.component';\n-import { CodeEditorSessionService } from 'app/exercises/programming/shared/code-editor/service/code-editor-session.service';\n-import { CodeEditorFileService } from 'app/exercises/programming/shared/code-editor/service/code-editor-file.service';\n-import { CodeEditorActionsComponent } from 'app/exercises/programming/shared/code-editor/actions/code-editor-actions.component';\n-import { CodeEditorAceComponent } from 'app/exercises/programming/shared/code-editor/ace/code-editor-ace.component';\n-import { ExerciseType } from 'app/entities/exercise.model';\n-import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n-import { CodeEditorContainerComponent } from 'app/exercises/programming/shared/code-editor/code-editor-mode-container.component';\n-import { CodeEditorInstructionsComponent } from 'app/exercises/programming/shared/code-editor/instructions/code-editor-instructions.component';\n-import { CodeEditorFileBrowserComponent } from 'app/exercises/programming/shared/code-editor/file-browser/code-editor-file-browser.component';\n-import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n-import { CommitState, DomainType, FileChange } from 'app/exercises/programming/shared/code-editor/model/code-editor.model';\n-import { DomainService } from 'app/exercises/programming/shared/code-editor/service/code-editor-domain.service';\n-import { CodeEditorConflictStateService } from 'app/exercises/programming/shared/code-editor/service/code-editor-conflict-state.service';\n-import { CodeEditorSubmissionService } from 'app/exercises/programming/shared/code-editor/service/code-editor-submission.service';\n-import {\n-    CodeEditorBuildLogService,\n-    CodeEditorRepositoryFileService,\n-    CodeEditorRepositoryService,\n-} from 'app/exercises/programming/shared/code-editor/service/code-editor-repository.service';\n-\n-@Component({\n-    selector: 'jhi-exam-code-editor-student',\n-    templateUrl: './exam-code-editor-student-container.component.html',\n-    providers: [", "originalCommit": "b14b1d28edfcbce0bc1ed7387e1d33bfba581e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQyNTI3NA==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472425274", "bodyText": "I'm not sure if this would work with the projected components outside the code-editor-container, like result and instructions, since they would then have other service instances. As it works right now, I'm closing this.", "author": "schultek", "createdAt": "2020-08-18T19:19:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM3NjE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI4Mjk4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r473282987", "bodyText": "I agree to @kloessst that we should have unique instances of the services.\nIt took us a really long time and lots of debugging and testing to get this working correctly.\nWhy do you change this now?", "author": "krusche", "createdAt": "2020-08-19T19:56:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM3NjE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc0Njk3Mw==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r473746973", "bodyText": "I could add the services to the programming-exam-submission component as an extra, see my comment below. But as of functionality, this doesn't seem to be needed.", "author": "schultek", "createdAt": "2020-08-20T08:14:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM3NjE0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzgyMjYxMg==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r473822612", "bodyText": "We don't need it as we call ngOnInit now to set the right domain for the services when switching exercises. This was our first approach to solving our issues with mutliple programming exercises and it worked as far as I can tell.", "author": "kloessst", "createdAt": "2020-08-20T09:42:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM3NjE0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM5ODgzMg==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472398832", "bodyText": "Do we need the ViewChild here? I think the instructions variable is never used.", "author": "kloessst", "createdAt": "2020-08-18T18:30:08Z", "path": "src/main/webapp/app/exercises/programming/participate/code-editor-student-container.component.ts", "diffHunk": "@@ -3,44 +3,33 @@ import { Observable, of } from 'rxjs';\n import { Subscription } from 'rxjs/Subscription';\n import { catchError, flatMap, map, switchMap, tap } from 'rxjs/operators';\n import * as moment from 'moment';\n-import { ParticipationService } from 'app/exercises/shared/participation/participation.service';\n-import { TranslateService } from '@ngx-translate/core';\n-import { ActivatedRoute } from '@angular/router';\n-import { AlertService } from 'app/core/alert/alert.service';\n import { ProgrammingExerciseParticipationService } from 'app/exercises/programming/manage/services/programming-exercise-participation.service';\n import { GuidedTourService } from 'app/guided-tour/guided-tour.service';\n import { codeEditorTour } from 'app/guided-tour/tours/code-editor-tour';\n-import { CodeEditorBuildOutputComponent } from 'app/exercises/programming/shared/code-editor/build-output/code-editor-build-output.component';\n import { ButtonSize } from 'app/shared/components/button.component';\n-import { CodeEditorSessionService } from 'app/exercises/programming/shared/code-editor/service/code-editor-session.service';\n import { ResultService } from 'app/exercises/shared/result/result.service';\n import { DomainService } from 'app/exercises/programming/shared/code-editor/service/code-editor-domain.service';\n-import { CodeEditorFileService } from 'app/exercises/programming/shared/code-editor/service/code-editor-file.service';\n-import { CodeEditorActionsComponent } from 'app/exercises/programming/shared/code-editor/actions/code-editor-actions.component';\n-import { CodeEditorAceComponent } from 'app/exercises/programming/shared/code-editor/ace/code-editor-ace.component';\n import { ExerciseType } from 'app/entities/exercise.model';\n import { AssessmentType } from 'app/entities/assessment-type.model';\n import { StudentParticipation } from 'app/entities/participation/student-participation.model';\n import { Result } from 'app/entities/result.model';\n-import { CodeEditorContainerComponent } from 'app/exercises/programming/shared/code-editor/code-editor-mode-container.component';\n import { Feedback } from 'app/entities/feedback.model';\n-import { CodeEditorInstructionsComponent } from 'app/exercises/programming/shared/code-editor/instructions/code-editor-instructions.component';\n-import { CodeEditorFileBrowserComponent } from 'app/exercises/programming/shared/code-editor/file-browser/code-editor-file-browser.component';\n import { ProgrammingExercise } from 'app/entities/programming-exercise.model';\n import { DomainType } from 'app/exercises/programming/shared/code-editor/model/code-editor.model';\n import { ExerciseHint } from 'app/entities/exercise-hint.model';\n import { ExerciseHintService } from 'app/exercises/shared/exercise-hint/manage/exercise-hint.service';\n+import { ActivatedRoute } from '@angular/router';\n+import { CodeEditorContainerComponent } from 'app/exercises/programming/shared/code-editor/container/code-editor-container.component';\n+import { ProgrammingExerciseInstructionComponent } from 'app/exercises/programming/shared/instructions-render/programming-exercise-instruction.component';\n+import { ComponentCanDeactivate } from 'app/shared/guard/can-deactivate.model';\n \n @Component({\n     selector: 'jhi-code-editor-student',\n     templateUrl: './code-editor-student-container.component.html',\n })\n-export class CodeEditorStudentContainerComponent extends CodeEditorContainerComponent implements OnInit, OnDestroy {\n-    @ViewChild(CodeEditorFileBrowserComponent, { static: false }) fileBrowser: CodeEditorFileBrowserComponent;\n-    @ViewChild(CodeEditorActionsComponent, { static: false }) actions: CodeEditorActionsComponent;\n-    @ViewChild(CodeEditorBuildOutputComponent, { static: false }) buildOutput: CodeEditorBuildOutputComponent;\n-    @ViewChild(CodeEditorInstructionsComponent, { static: false }) instructions: CodeEditorInstructionsComponent;\n-    @ViewChild(CodeEditorAceComponent, { static: false }) aceEditor: CodeEditorAceComponent;\n+export class CodeEditorStudentContainerComponent implements OnInit, OnDestroy, ComponentCanDeactivate {\n+    @ViewChild(CodeEditorContainerComponent, { static: false }) codeEditorContainer: CodeEditorContainerComponent;\n+    @ViewChild(ProgrammingExerciseInstructionComponent, { static: false }) instructions: ProgrammingExerciseInstructionComponent;", "originalCommit": "b14b1d28edfcbce0bc1ed7387e1d33bfba581e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxMzY2Mw==", "url": "https://github.com/ls1intum/Artemis/pull/1999#discussion_r472413663", "bodyText": "good catch", "author": "schultek", "createdAt": "2020-08-18T18:58:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM5ODgzMg=="}], "type": "inlineReview"}, {"oid": "6e58b1f5379cbb06694a8acc271d50628c76ddda", "url": "https://github.com/ls1intum/Artemis/commit/6e58b1f5379cbb06694a8acc271d50628c76ddda", "message": "remove unused viewchild", "committedDate": "2020-08-18T18:57:45Z", "type": "commit"}, {"oid": "09951994ff2ab5c82c73a13b1f58944a756f0f86", "url": "https://github.com/ls1intum/Artemis/commit/09951994ff2ab5c82c73a13b1f58944a756f0f86", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-19T19:58:22Z", "type": "commit"}, {"oid": "ec8db36f46e46516f6b522f8a36d228398f497af", "url": "https://github.com/ls1intum/Artemis/commit/ec8db36f46e46516f6b522f8a36d228398f497af", "message": "Merge branch 'develop' into ehancement/code-editor/refactor-code-editor-container", "committedDate": "2020-08-20T09:44:10Z", "type": "commit"}]}