{"pr_number": 2099, "pr_title": "[Feature] Manual inline feedback for Programming Exercises and fix repo is locked label", "pr_createdAt": "2020-09-14T16:52:00Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2099", "timeline": [{"oid": "8fc1a64002ae217f4ccde09d38b9eae0dcc526c2", "url": "https://github.com/ls1intum/Artemis/commit/8fc1a64002ae217f4ccde09d38b9eae0dcc526c2", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-29T11:24:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3MDA2Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496670066", "bodyText": "is the + in +feedback.reference!.split('line:')[1]; a typo?", "author": "derLalla", "createdAt": "2020-09-29T12:19:40Z", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/ace/code-editor-ace.component.ts", "diffHunk": "@@ -129,6 +161,22 @@ export class CodeEditorAceComponent implements AfterViewInit, OnChanges, OnDestr\n             // Reset the undo stack after file change, otherwise the user can undo back to the old file\n             this.editor.getEditor().getSession().setUndoManager(new ace.UndoManager());\n             this.displayAnnotations();\n+\n+            // Setup inline feedbacks\n+            // Get amount of lines of code in order to render for each line a corresponding inline feedback component\n+            if (this.isTutorAssessment) {\n+                const lines = this.editor.getEditor().getSession().getLength();\n+                this.lineCounter = new Array(lines);\n+                if (!this.feedbacks) {\n+                    this.feedbacks = [];\n+                }\n+                this.fileFeedbacks = this.feedbacks.filter((feedback) => feedback.reference && feedback.reference.includes(this.selectedFile));\n+                this.fileFeedbackPerLine = {};\n+                this.fileFeedbacks.forEach((feedback) => {\n+                    const line: number = +feedback.reference!.split('line:')[1];", "originalCommit": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3Njg2OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496676869", "bodyText": "Nope it is not, with that you transform a string to a number :)", "author": "fde312", "createdAt": "2020-09-29T12:30:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3MDA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3MzI3MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496673271", "bodyText": "debugElement should be removed as stated from GitHub Actions", "author": "derLalla", "createdAt": "2020-09-29T12:24:58Z", "path": "src/test/javascript/spec/component/programming-assessment/programming-assessment-inline-feedback.component.spec.ts", "diffHunk": "@@ -0,0 +1,75 @@\n+import { ComponentFixture, TestBed } from '@angular/core/testing';\n+import { TranslateModule } from '@ngx-translate/core';\n+import { DebugElement } from '@angular/core';\n+import * as chai from 'chai';\n+import * as sinonChai from 'sinon-chai';\n+import { ArtemisTestModule } from '../../test.module';\n+import { spy } from 'sinon';\n+\n+import { CodeEditorTutorAssessmentInlineFeedbackComponent } from 'app/exercises/programming/assess/code-editor-tutor-assessment-inline-feedback.component';\n+import { ArtemisProgrammingManualAssessmentModule } from 'app/exercises/programming/assess/programming-manual-assessment.module';\n+import { MANUAL_ASSESSMENT_IDENTIFIER } from 'app/entities/feedback.model';\n+\n+chai.use(sinonChai);\n+const expect = chai.expect;\n+\n+describe('CodeEditorTutorAssessmentInlineFeedbackComponent', () => {\n+    let comp: CodeEditorTutorAssessmentInlineFeedbackComponent;\n+    let fixture: ComponentFixture<CodeEditorTutorAssessmentInlineFeedbackComponent>;\n+    let debugElement: DebugElement;\n+    const fileName = 'testFile';\n+    const codeLine = 1;\n+\n+    beforeEach(async () => {\n+        return TestBed.configureTestingModule({\n+            imports: [TranslateModule.forRoot(), ArtemisProgrammingManualAssessmentModule],\n+        })\n+            .overrideModule(ArtemisTestModule, { set: { declarations: [], exports: [] } })\n+            .compileComponents()\n+            .then(() => {\n+                // Ignore console errors\n+                console.error = () => {\n+                    return false;\n+                };\n+                fixture = TestBed.createComponent(CodeEditorTutorAssessmentInlineFeedbackComponent);\n+                comp = fixture.componentInstance;\n+                debugElement = fixture.debugElement;", "originalCommit": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3ODUwNA==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496678504", "bodyText": "done :)", "author": "fde312", "createdAt": "2020-09-29T12:33:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3MzI3MQ=="}], "type": "inlineReview"}, {"oid": "ce44060acf14e20d94c46ed0b9baaefc242ef3de", "url": "https://github.com/ls1intum/Artemis/commit/ce44060acf14e20d94c46ed0b9baaefc242ef3de", "message": "remove MANUAL_ASSESSMENT_IDENTIFIER and use feedback.Type == MANUAL as check", "committedDate": "2020-09-29T12:29:30Z", "type": "commit"}, {"oid": "8dc4286826da7334e36be662d6acde11435deef4", "url": "https://github.com/ls1intum/Artemis/commit/8dc4286826da7334e36be662d6acde11435deef4", "message": "add translation for 'tutor comment:'", "committedDate": "2020-09-29T12:29:53Z", "type": "commit"}, {"oid": "ce5de958a4c8c8de094e1efb342d9fe48d6c05ae", "url": "https://github.com/ls1intum/Artemis/commit/ce5de958a4c8c8de094e1efb342d9fe48d6c05ae", "message": "remove debug element", "committedDate": "2020-09-29T12:32:30Z", "type": "commit"}, {"oid": "410dffc3c88c96f1eee1733c48c114af55cf01a9", "url": "https://github.com/ls1intum/Artemis/commit/410dffc3c88c96f1eee1733c48c114af55cf01a9", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-29T12:35:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY4NDU5NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496684595", "bodyText": "Codacy found an issue: Unexpected unknown type selector \"fa-icon\" (selector-type-no-unknown)", "author": "artemis-bot", "createdAt": "2020-09-29T12:42:36Z", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/ace/code-editor-ace.scss", "diffHunk": "@@ -12,6 +12,38 @@ Ace Editor\n         &__editor {\n             flex: 1 1 auto;\n         }\n+\n+        .inline-feedback-d-none {\n+            display: none;\n+        }\n+\n+        .inline-feedback {\n+            display: block;\n+        }\n+\n+        .btn-inline-comment {\n+            display: none;\n+            color: #3e8acc; // btn-primary color\n+            height: 16px;\n+        }\n+\n+        .ace_gutter-cell {\n+            position: relative;\n+        }\n+\n+        .ace_gutter-cell:hover .btn-inline-comment {\n+            display: inline-flex;\n+            position: absolute;\n+            top: 8px; // standard gutter height is 16px\n+            left: 25%;\n+            transform: translate(-50%, -50%);\n+\n+            fa-icon:hover {", "originalCommit": "410dffc3c88c96f1eee1733c48c114af55cf01a9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgzMjY3OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496832679", "bodyText": "So apparently this does work, but @Input on the setter might make more sense?", "author": "jpbernius", "createdAt": "2020-09-29T15:45:22Z", "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-inline-feedback.component.ts", "diffHunk": "@@ -0,0 +1,83 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { Feedback, FeedbackType } from 'app/entities/feedback.model';\n+import { cloneDeep } from 'lodash';\n+import { TranslateService } from '@ngx-translate/core';\n+\n+@Component({\n+    selector: 'jhi-code-editor-tutor-assessment-inline-feedback',\n+    templateUrl: './code-editor-tutor-assessment-inline-feedback.component.html',\n+})\n+export class CodeEditorTutorAssessmentInlineFeedbackComponent {\n+    MANUAL = FeedbackType.MANUAL;\n+    @Input()", "originalCommit": "410dffc3c88c96f1eee1733c48c114af55cf01a9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "43674efc4a5bb3eb978fd111cc2b061ab4cdd87f", "url": "https://github.com/ls1intum/Artemis/commit/43674efc4a5bb3eb978fd111cc2b061ab4cdd87f", "message": "create components and add logic", "committedDate": "2020-08-26T08:54:58Z", "type": "commit"}, {"oid": "22a709fefffb929afdd249e2e5249324af24bdf9", "url": "https://github.com/ls1intum/Artemis/commit/22a709fefffb929afdd249e2e5249324af24bdf9", "message": "fix typo, add component to module, add styles and add HTML", "committedDate": "2020-08-26T16:16:08Z", "type": "commit"}, {"oid": "d6ddf821906d90e843dcb0f6e8bea9c11c4d828a", "url": "https://github.com/ls1intum/Artemis/commit/d6ddf821906d90e843dcb0f6e8bea9c11c4d828a", "message": "run prettier", "committedDate": "2020-08-26T18:02:29Z", "type": "commit"}, {"oid": "34a198a57ced91afac8a78d2b0f97455114ed8c9", "url": "https://github.com/ls1intum/Artemis/commit/34a198a57ced91afac8a78d2b0f97455114ed8c9", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/display-student-code", "committedDate": "2020-08-26T18:02:38Z", "type": "commit"}, {"oid": "0bf535fea4e7defe077d021de135f22482e0320f", "url": "https://github.com/ls1intum/Artemis/commit/0bf535fea4e7defe077d021de135f22482e0320f", "message": "remove not used variables and updated docu", "committedDate": "2020-08-26T19:02:42Z", "type": "commit"}, {"oid": "50827775c8fa263fabd6aba000ad5bc565342d9b", "url": "https://github.com/ls1intum/Artemis/commit/50827775c8fa263fabd6aba000ad5bc565342d9b", "message": "Merge branch 'develop' into feature/programming-assessment/display-student-code", "committedDate": "2020-08-27T12:05:09Z", "type": "commit"}, {"oid": "7da2854e0d2ad904b73e19951d277632b383d745", "url": "https://github.com/ls1intum/Artemis/commit/7da2854e0d2ad904b73e19951d277632b383d745", "message": "Merge branch 'develop' into feature/programming-assessment/display-student-code", "committedDate": "2020-08-27T19:01:27Z", "type": "commit"}, {"oid": "f4c4b9723f6d40ffb9521eecaa5e4019d9a6f299", "url": "https://github.com/ls1intum/Artemis/commit/f4c4b9723f6d40ffb9521eecaa5e4019d9a6f299", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/display-student-code\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/programming/assess/programming-assessment.module.ts", "committedDate": "2020-08-27T21:01:28Z", "type": "commit"}, {"oid": "464692a827d49a6e9e9064be3117d4acafa52396", "url": "https://github.com/ls1intum/Artemis/commit/464692a827d49a6e9e9064be3117d4acafa52396", "message": "take also windows endings into account", "committedDate": "2020-08-27T22:34:38Z", "type": "commit"}, {"oid": "f701108104f86b7deadbd3d811ea67c57f374a27", "url": "https://github.com/ls1intum/Artemis/commit/f701108104f86b7deadbd3d811ea67c57f374a27", "message": "fix styling issue with locked repo label", "committedDate": "2020-08-27T22:35:18Z", "type": "commit"}, {"oid": "5a79f8e5182077a13e0db0092a194a4766c0c2bc", "url": "https://github.com/ls1intum/Artemis/commit/5a79f8e5182077a13e0db0092a194a4766c0c2bc", "message": "Merge branch 'develop' into feature/programming-assessment/display-student-code", "committedDate": "2020-08-28T11:36:54Z", "type": "commit"}, {"oid": "3f9c052a14f65a67cbf62013ce53f03086c7233a", "url": "https://github.com/ls1intum/Artemis/commit/3f9c052a14f65a67cbf62013ce53f03086c7233a", "message": "Merge branch 'develop' into feature/programming-assessment/display-student-code", "committedDate": "2020-08-31T07:33:05Z", "type": "commit"}, {"oid": "5f276d15a4f76bf3380eeb345f4baa0c40fe6a16", "url": "https://github.com/ls1intum/Artemis/commit/5f276d15a4f76bf3380eeb345f4baa0c40fe6a16", "message": "add component for inline comments", "committedDate": "2020-08-31T10:11:27Z", "type": "commit"}, {"oid": "23b4adb204575510a1c078a3535d9689689b0352", "url": "https://github.com/ls1intum/Artemis/commit/23b4adb204575510a1c078a3535d9689689b0352", "message": "use ng-container and add second <tr> with inline comment component", "committedDate": "2020-08-31T10:14:54Z", "type": "commit"}, {"oid": "e65ab6ff4d0a215394144ec1807648bfedbeff00", "url": "https://github.com/ls1intum/Artemis/commit/e65ab6ff4d0a215394144ec1807648bfedbeff00", "message": "add css file and on hover a line of code a plus icon appears", "committedDate": "2020-08-31T14:06:12Z", "type": "commit"}, {"oid": "a1c63ff4b7b63a6249dbe44397e01c8a6afaaa09", "url": "https://github.com/ls1intum/Artemis/commit/a1c63ff4b7b63a6249dbe44397e01c8a6afaaa09", "message": "on icon hover the icon size increases", "committedDate": "2020-08-31T14:07:09Z", "type": "commit"}, {"oid": "23d43a971442cd2d3a39b9bc904387bfa4882881", "url": "https://github.com/ls1intum/Artemis/commit/23d43a971442cd2d3a39b9bc904387bfa4882881", "message": "open inline comment when clicking on plus icon", "committedDate": "2020-08-31T14:29:06Z", "type": "commit"}, {"oid": "982401222434a5c33c5e84ff33687cd98408f125", "url": "https://github.com/ls1intum/Artemis/commit/982401222434a5c33c5e84ff33687cd98408f125", "message": "add cancel button functionality and run prettier", "committedDate": "2020-08-31T15:07:48Z", "type": "commit"}, {"oid": "06074ab4445730adfab30c8b6f47cf14bc68e6a4", "url": "https://github.com/ls1intum/Artemis/commit/06074ab4445730adfab30c8b6f47cf14bc68e6a4", "message": "use css instead of mouseover and mouseleave", "committedDate": "2020-09-01T14:48:46Z", "type": "commit"}, {"oid": "a03b1f1c81bf5784a9417b38181bd80df7c943f0", "url": "https://github.com/ls1intum/Artemis/commit/a03b1f1c81bf5784a9417b38181bd80df7c943f0", "message": "move display code component to code-editor-container", "committedDate": "2020-09-01T14:56:03Z", "type": "commit"}, {"oid": "8f1cf06eab806237f4c364ed304ea5d1eb14b6f2", "url": "https://github.com/ls1intum/Artemis/commit/8f1cf06eab806237f4c364ed304ea5d1eb14b6f2", "message": "move display code component to code-editor-tutor-assessment-container", "committedDate": "2020-09-08T11:58:20Z", "type": "commit"}, {"oid": "fc400f23567fe1c352e50036eafd187ac12d58b0", "url": "https://github.com/ls1intum/Artemis/commit/fc400f23567fe1c352e50036eafd187ac12d58b0", "message": "communication between components with correct feedback model", "committedDate": "2020-09-08T12:07:27Z", "type": "commit"}, {"oid": "b31c4ce2bd566c9cb5161c31a38a8a87424b4a69", "url": "https://github.com/ls1intum/Artemis/commit/b31c4ce2bd566c9cb5161c31a38a8a87424b4a69", "message": "add delete functionality for inline comments", "committedDate": "2020-09-09T08:40:19Z", "type": "commit"}, {"oid": "a60905117f5f966303a0aebb62aa68f583eef662", "url": "https://github.com/ls1intum/Artemis/commit/a60905117f5f966303a0aebb62aa68f583eef662", "message": "layout improvements and use of MANUAL variable", "committedDate": "2020-09-09T10:11:30Z", "type": "commit"}, {"oid": "d4603da3003457cb8e22ca4e9fd9303b28f1af45", "url": "https://github.com/ls1intum/Artemis/commit/d4603da3003457cb8e22ca4e9fd9303b28f1af45", "message": "add coloring when score changes", "committedDate": "2020-09-09T12:12:56Z", "type": "commit"}, {"oid": "8e9590f51d1c9c5566eb591cf35af7b621576f60", "url": "https://github.com/ls1intum/Artemis/commit/8e9590f51d1c9c5566eb591cf35af7b621576f60", "message": "differentiat between readOnly and editing mode", "committedDate": "2020-09-09T15:02:16Z", "type": "commit"}, {"oid": "6202487b140f2730a480ae9d1618cad2af25de4e", "url": "https://github.com/ls1intum/Artemis/commit/6202487b140f2730a480ae9d1618cad2af25de4e", "message": "run prettier", "committedDate": "2020-09-14T16:44:24Z", "type": "commit"}, {"oid": "90c8d0e8d327d94671f52f8d98f1e71a936aaa17", "url": "https://github.com/ls1intum/Artemis/commit/90c8d0e8d327d94671f52f8d98f1e71a936aaa17", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-14T16:45:22Z", "type": "commit"}, {"oid": "3347b47ff79c9330086174c43253e611327848f5", "url": "https://github.com/ls1intum/Artemis/commit/3347b47ff79c9330086174c43253e611327848f5", "message": "fix  typo", "committedDate": "2020-09-15T15:09:46Z", "type": "commit"}, {"oid": "0c1cf188b9a395982aa79ae99e441c5b5c56d41c", "url": "https://github.com/ls1intum/Artemis/commit/0c1cf188b9a395982aa79ae99e441c5b5c56d41c", "message": "make only detailText of feedbacks mandatory", "committedDate": "2020-09-15T15:11:02Z", "type": "commit"}, {"oid": "9a68650dd4942d58421696b5d631e3a11220ca20", "url": "https://github.com/ls1intum/Artemis/commit/9a68650dd4942d58421696b5d631e3a11220ca20", "message": "Use submitResult and make sure that manual results of programming exercises are always rated", "committedDate": "2020-09-15T15:25:02Z", "type": "commit"}, {"oid": "65487b41cd4d8eee3addf293900866a0c7c1b4cc", "url": "https://github.com/ls1intum/Artemis/commit/65487b41cd4d8eee3addf293900866a0c7c1b4cc", "message": "add unreferencedFeedback and generalFeedback and code adaptations", "committedDate": "2020-09-15T15:27:13Z", "type": "commit"}, {"oid": "4fffca9000f7621f3a552441d16e53eb4e5b4413", "url": "https://github.com/ls1intum/Artemis/commit/4fffca9000f7621f3a552441d16e53eb4e5b4413", "message": "fix failing tests", "committedDate": "2020-09-15T15:57:28Z", "type": "commit"}, {"oid": "1ddf183378be289310d191bc5460c1ba42e2a2bf", "url": "https://github.com/ls1intum/Artemis/commit/1ddf183378be289310d191bc5460c1ba42e2a2bf", "message": "remove private access level", "committedDate": "2020-09-16T09:01:53Z", "type": "commit"}, {"oid": "7b643031a00f458ddadfdd5fce47e66469f06c35", "url": "https://github.com/ls1intum/Artemis/commit/7b643031a00f458ddadfdd5fce47e66469f06c35", "message": "add student view for inline comments", "committedDate": "2020-09-16T10:22:49Z", "type": "commit"}, {"oid": "f80ec80b8b4b98bed4f8c3d1cb0e78b7cafc3dce", "url": "https://github.com/ls1intum/Artemis/commit/f80ec80b8b4b98bed4f8c3d1cb0e78b7cafc3dce", "message": "remove checks for result string as it will be set from the server", "committedDate": "2020-09-16T10:23:19Z", "type": "commit"}, {"oid": "cce64b34d0ce52615cfb0abdfb66ea362c24fcbf", "url": "https://github.com/ls1intum/Artemis/commit/cce64b34d0ce52615cfb0abdfb66ea362c24fcbf", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-16T10:23:46Z", "type": "commit"}, {"oid": "2338f6b429f3cc70df98e64bf080cec5094e6f5c", "url": "https://github.com/ls1intum/Artemis/commit/2338f6b429f3cc70df98e64bf080cec5094e6f5c", "message": "adapt tests", "committedDate": "2020-09-16T11:55:11Z", "type": "commit"}, {"oid": "448b7b8006d3a7a27d4e722c31ef5b33ff0f0b6f", "url": "https://github.com/ls1intum/Artemis/commit/448b7b8006d3a7a27d4e722c31ef5b33ff0f0b6f", "message": "run prettier and spotless and make codacy happy", "committedDate": "2020-09-16T11:57:55Z", "type": "commit"}, {"oid": "c74240ee91dfad9802fb203a7dc0ece8a4287d62", "url": "https://github.com/ls1intum/Artemis/commit/c74240ee91dfad9802fb203a7dc0ece8a4287d62", "message": "use stream for score calculation", "committedDate": "2020-09-17T07:41:43Z", "type": "commit"}, {"oid": "59ca52a8520e6e738675dbdefaf00799012a5885", "url": "https://github.com/ls1intum/Artemis/commit/59ca52a8520e6e738675dbdefaf00799012a5885", "message": "add new module and module adaptations", "committedDate": "2020-09-17T13:11:18Z", "type": "commit"}, {"oid": "d668a05e6e569f72b7dce5520d857c22b6618509", "url": "https://github.com/ls1intum/Artemis/commit/d668a05e6e569f72b7dce5520d857c22b6618509", "message": "comment out some code", "committedDate": "2020-09-17T13:12:56Z", "type": "commit"}, {"oid": "74a2c3cc82b9f7396034cf18d2d308ffbf58a1f4", "url": "https://github.com/ls1intum/Artemis/commit/74a2c3cc82b9f7396034cf18d2d308ffbf58a1f4", "message": "use approach of kilian and small adaptations", "committedDate": "2020-09-17T13:14:18Z", "type": "commit"}, {"oid": "464bcb46b0fab8ff2920d2794effe3a5a4a8e61c", "url": "https://github.com/ls1intum/Artemis/commit/464bcb46b0fab8ff2920d2794effe3a5a4a8e61c", "message": "use correct participation", "committedDate": "2020-09-21T15:40:05Z", "type": "commit"}, {"oid": "a1e42889e1b4e285e5c06ef8c0eaee824ad0cb72", "url": "https://github.com/ls1intum/Artemis/commit/a1e42889e1b4e285e5c06ef8c0eaee824ad0cb72", "message": "use for each gutter a own button component and create for each line of code a inline feedback component", "committedDate": "2020-09-21T15:42:02Z", "type": "commit"}, {"oid": "598d93d5bcd8db9c49eb90207ca5244d98cdf447", "url": "https://github.com/ls1intum/Artemis/commit/598d93d5bcd8db9c49eb90207ca5244d98cdf447", "message": "try to make it work with code editor", "committedDate": "2020-09-21T16:25:50Z", "type": "commit"}, {"oid": "e2f70b97cfa4c8754f33487e5f118507dbdf90f9", "url": "https://github.com/ls1intum/Artemis/commit/e2f70b97cfa4c8754f33487e5f118507dbdf90f9", "message": "make it work for student view (read only)", "committedDate": "2020-09-22T05:31:56Z", "type": "commit"}, {"oid": "4674ef22e875c330377c696e25a3a17991cd15b0", "url": "https://github.com/ls1intum/Artemis/commit/4674ef22e875c330377c696e25a3a17991cd15b0", "message": "try to make it work for tutor view", "committedDate": "2020-09-22T20:40:33Z", "type": "commit"}, {"oid": "6fe34be5302b3bcdc92b1df53e3ac4598898bf60", "url": "https://github.com/ls1intum/Artemis/commit/6fe34be5302b3bcdc92b1df53e3ac4598898bf60", "message": "try to make it work for tutor view and code cleanup", "committedDate": "2020-09-23T17:42:43Z", "type": "commit"}, {"oid": "3dddf567d045d8cd9de743f82cc61709b6b02989", "url": "https://github.com/ls1intum/Artemis/commit/3dddf567d045d8cd9de743f82cc61709b6b02989", "message": "make event emitting work", "committedDate": "2020-09-23T17:54:09Z", "type": "commit"}, {"oid": "48adf185902224b019f1308f3547cdf7e75826a1", "url": "https://github.com/ls1intum/Artemis/commit/48adf185902224b019f1308f3547cdf7e75826a1", "message": "fix overlay issue when editing inline feedback", "committedDate": "2020-09-23T18:01:24Z", "type": "commit"}, {"oid": "d74e04b4bb7e4d0034c880eeafb52258732a62f4", "url": "https://github.com/ls1intum/Artemis/commit/d74e04b4bb7e4d0034c880eeafb52258732a62f4", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback-in-code-editor", "committedDate": "2020-09-23T18:05:22Z", "type": "commit"}, {"oid": "dd3ad05f96dfdaa49827980d9b7eb11490d52bba", "url": "https://github.com/ls1intum/Artemis/commit/dd3ad05f96dfdaa49827980d9b7eb11490d52bba", "message": "Merge branch 'develop' into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-23T18:06:19Z", "type": "commit"}, {"oid": "8402c64d0589f77238e9879fbfd526e109c44cfe", "url": "https://github.com/ls1intum/Artemis/commit/8402c64d0589f77238e9879fbfd526e109c44cfe", "message": "fix nullpointer", "committedDate": "2020-09-23T18:58:45Z", "type": "commit"}, {"oid": "28314c24c0587b6f95ccc02fc03def86a067ec52", "url": "https://github.com/ls1intum/Artemis/commit/28314c24c0587b6f95ccc02fc03def86a067ec52", "message": "fix issue with multiple entity", "committedDate": "2020-09-23T19:09:45Z", "type": "commit"}, {"oid": "3389c7f54f57b0b1dbbe66cb5348302d2f5ff18e", "url": "https://github.com/ls1intum/Artemis/commit/3389c7f54f57b0b1dbbe66cb5348302d2f5ff18e", "message": "run prettier", "committedDate": "2020-09-23T19:14:36Z", "type": "commit"}, {"oid": "984b2e4fc5978446c32a55b07979a1b883fba830", "url": "https://github.com/ls1intum/Artemis/commit/984b2e4fc5978446c32a55b07979a1b883fba830", "message": "fix issue with updating result label and fix issue when pressing cancel when editing with feedback", "committedDate": "2020-09-23T20:57:16Z", "type": "commit"}, {"oid": "5ca3abc161eb85c29311e10a1e82dbb637f8e593", "url": "https://github.com/ls1intum/Artemis/commit/5ca3abc161eb85c29311e10a1e82dbb637f8e593", "message": "add input for student view", "committedDate": "2020-09-23T21:54:01Z", "type": "commit"}, {"oid": "4dbb53cb749229938ac4bdf8a9130c94972ef3ee", "url": "https://github.com/ls1intum/Artemis/commit/4dbb53cb749229938ac4bdf8a9130c94972ef3ee", "message": "add label with current score of assessment", "committedDate": "2020-09-23T23:03:31Z", "type": "commit"}, {"oid": "6ed2a229cd9743b22b304d51f6ed1f6f4b1123f0", "url": "https://github.com/ls1intum/Artemis/commit/6ed2a229cd9743b22b304d51f6ed1f6f4b1123f0", "message": "fix issues when for complaints and use readOnly form code-editor-tutor.component", "committedDate": "2020-09-23T23:46:29Z", "type": "commit"}, {"oid": "786b4c33beb1b74a7b7457454c9eb11ee92a992b", "url": "https://github.com/ls1intum/Artemis/commit/786b4c33beb1b74a7b7457454c9eb11ee92a992b", "message": "code improvements, add docu and removed console.logs", "committedDate": "2020-09-24T00:59:26Z", "type": "commit"}, {"oid": "77be79aeab4f7b763aa156bb38a898f8ec147e83", "url": "https://github.com/ls1intum/Artemis/commit/77be79aeab4f7b763aa156bb38a898f8ec147e83", "message": "fix wrong input and code improvements", "committedDate": "2020-09-24T01:20:38Z", "type": "commit"}, {"oid": "4cb765f287c5ea4dc82c1f00e6a9b4ef3077d049", "url": "https://github.com/ls1intum/Artemis/commit/4cb765f287c5ea4dc82c1f00e6a9b4ef3077d049", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback-in-code-editor\n\n# Conflicts:\n#\tsrc/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-container.component.html", "committedDate": "2020-09-24T08:40:40Z", "type": "commit"}, {"oid": "3b4c9d135ee538f259bc46b0bbb9883694c84258", "url": "https://github.com/ls1intum/Artemis/commit/3b4c9d135ee538f259bc46b0bbb9883694c84258", "message": "fix issue after assessing complaint", "committedDate": "2020-09-24T09:42:58Z", "type": "commit"}, {"oid": "2ebeec1e42b3987082418ea4adc83dcd8a76913b", "url": "https://github.com/ls1intum/Artemis/commit/2ebeec1e42b3987082418ea4adc83dcd8a76913b", "message": "fix issue with loading button when error is thrown and add correct translations to errors.\nAdd new error catch", "committedDate": "2020-09-24T10:15:55Z", "type": "commit"}, {"oid": "c21357bbf04b8b35a4cb365c0dfa9b4491052a45", "url": "https://github.com/ls1intum/Artemis/commit/c21357bbf04b8b35a4cb365c0dfa9b4491052a45", "message": "add some tests", "committedDate": "2020-09-24T13:04:18Z", "type": "commit"}, {"oid": "e23dfba288fb1e5b10981cd76c03f1deff38d3b6", "url": "https://github.com/ls1intum/Artemis/commit/e23dfba288fb1e5b10981cd76c03f1deff38d3b6", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback-in-code-editor", "committedDate": "2020-09-24T13:04:28Z", "type": "commit"}, {"oid": "28230ac9da27f3625803b9cb83a26a650a667ca0", "url": "https://github.com/ls1intum/Artemis/commit/28230ac9da27f3625803b9cb83a26a650a667ca0", "message": "Merge branch 'feature/programming-assessment/inline-feedback-in-code-editor' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-24T13:06:04Z", "type": "commit"}, {"oid": "9ecaf613a2071368bef22b1b9e1fcad6e3fe66b6", "url": "https://github.com/ls1intum/Artemis/commit/9ecaf613a2071368bef22b1b9e1fcad6e3fe66b6", "message": "remove not needed files, code snippets and adapt modules", "committedDate": "2020-09-24T13:35:58Z", "type": "commit"}, {"oid": "79683f2ae35c5775069b05111462d1a7eb466cfe", "url": "https://github.com/ls1intum/Artemis/commit/79683f2ae35c5775069b05111462d1a7eb466cfe", "message": "try fix issue with test that does not fail/finish", "committedDate": "2020-09-24T14:16:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQxMTAwNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r494411005", "bodyText": "I don't think that we use the _ notation so far", "author": "JonasPetry", "createdAt": "2020-09-24T15:27:43Z", "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-inline-feedback.component.ts", "diffHunk": "@@ -0,0 +1,83 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { Feedback, FeedbackType, MANUAL_ASSESSMENT_IDENTIFIER } from 'app/entities/feedback.model';\n+import { cloneDeep } from 'lodash';\n+import { TranslateService } from '@ngx-translate/core';\n+\n+@Component({\n+    selector: 'jhi-code-editor-tutor-assessment-inline-feedback',\n+    templateUrl: './code-editor-tutor-assessment-inline-feedback.component.html',\n+})\n+export class CodeEditorTutorAssessmentInlineFeedbackComponent {\n+    MANUAL = FeedbackType.MANUAL;\n+    @Input()\n+    get feedback(): Feedback {\n+        return this._feedback;\n+    }\n+    set feedback(feedback: Feedback) {\n+        this._feedback = feedback || new Feedback();", "originalCommit": "79683f2ae35c5775069b05111462d1a7eb466cfe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgxODIwMg==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r494818202", "bodyText": "see comment above :) I just checked and we have it the same way e.g. for drag and drop and short answer questions", "author": "fde312", "createdAt": "2020-09-25T08:05:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQxMTAwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQxMTU3MA==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r494411570", "bodyText": "Does this need to be a getter? I think this can be a standard input \ud83e\udd14", "author": "JonasPetry", "createdAt": "2020-09-24T15:28:27Z", "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-inline-feedback.component.ts", "diffHunk": "@@ -0,0 +1,83 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { Feedback, FeedbackType, MANUAL_ASSESSMENT_IDENTIFIER } from 'app/entities/feedback.model';\n+import { cloneDeep } from 'lodash';\n+import { TranslateService } from '@ngx-translate/core';\n+\n+@Component({\n+    selector: 'jhi-code-editor-tutor-assessment-inline-feedback',\n+    templateUrl: './code-editor-tutor-assessment-inline-feedback.component.html',\n+})\n+export class CodeEditorTutorAssessmentInlineFeedbackComponent {\n+    MANUAL = FeedbackType.MANUAL;\n+    @Input()\n+    get feedback(): Feedback {\n+        return this._feedback;\n+    }", "originalCommit": "79683f2ae35c5775069b05111462d1a7eb466cfe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgxNDU2OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r494814569", "bodyText": "I wanted to intercept the input with a setter and this is how it is written down in the angular docu:\nhttps://angular.io/guide/component-interaction#intercept-input-property-changes-with-a-setter\nJust used it that way.", "author": "fde312", "createdAt": "2020-09-25T07:58:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQxMTU3MA=="}], "type": "inlineReview"}, {"oid": "6b7c6cf321b88f070a2c65b97cb3953d40a0b341", "url": "https://github.com/ls1intum/Artemis/commit/6b7c6cf321b88f070a2c65b97cb3953d40a0b341", "message": "fix nullpointer", "committedDate": "2020-09-24T15:46:22Z", "type": "commit"}, {"oid": "beb72e6e39f8773c6386a8e2335c74195978fb90", "url": "https://github.com/ls1intum/Artemis/commit/beb72e6e39f8773c6386a8e2335c74195978fb90", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-24T15:46:32Z", "type": "commit"}, {"oid": "21cde10e8b01df230320c0841a15a9b9d93a6b37", "url": "https://github.com/ls1intum/Artemis/commit/21cde10e8b01df230320c0841a15a9b9d93a6b37", "message": "code improvements and fix issue with double clicking the inline feedback button", "committedDate": "2020-09-24T18:56:34Z", "type": "commit"}, {"oid": "45cf2e17ae199b88d102e3424ad6aa9e3cf3a529", "url": "https://github.com/ls1intum/Artemis/commit/45cf2e17ae199b88d102e3424ad6aa9e3cf3a529", "message": "fix manual result label update and fix wrong check to sets manual result in participation", "committedDate": "2020-09-25T06:41:54Z", "type": "commit"}, {"oid": "b3e49d660516cef39089efc431d58f8139494c4e", "url": "https://github.com/ls1intum/Artemis/commit/b3e49d660516cef39089efc431d58f8139494c4e", "message": "fix issue with wrong manual result label when saving\nfix issue with circular structure", "committedDate": "2020-09-25T06:46:12Z", "type": "commit"}, {"oid": "da08b98b11fcd223605997393e4ced50fcf3aa1d", "url": "https://github.com/ls1intum/Artemis/commit/da08b98b11fcd223605997393e4ced50fcf3aa1d", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-25T06:47:11Z", "type": "commit"}, {"oid": "de9f0d32f49cda79902717702d6d3d8187b9a9bf", "url": "https://github.com/ls1intum/Artemis/commit/de9f0d32f49cda79902717702d6d3d8187b9a9bf", "message": "fix css for hovering and remove not used css", "committedDate": "2020-09-25T07:23:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM5ODg3Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r494398876", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"feedbackCreditsNull\": \"Fehler! Wenn Feedback vorhanden ist, m\u00fcssen die Feedback eine Punktzahl haben.\"\n          \n          \n            \n                    \"feedbackCreditsNull\": \"Fehler! Wenn Feedback vorhanden ist, muss das Feedback eine Punktzahl haben.\"", "author": "stefanwaldhauser", "createdAt": "2020-09-24T15:11:27Z", "path": "src/main/webapp/i18n/de/error.json", "diffHunk": "@@ -28,6 +28,7 @@\n         \"emptyFile\": \"Die hochgeladene Datei {{ fileName }} ist leer. Bitte \u00fcberpr\u00fcfe die Datei und versuche es erneut.\",\n         \"externalSubmissionBeforeDueDate\": \"Externe Einreichungen k\u00f6nnen nur nach der Abgabefrist erstellt werden.\",\n         \"externalSubmissionForQuizExercise\": \"Externe Einreichungen k\u00f6nnen nicht f\u00fcr Quiz \u00dcbungen erstellt werden.\",\n-        \"nosubmissions\": \"Es wurde kein existierender Nutzer angegeben oder es existieren keine Abgaben.\"\n+        \"nosubmissions\": \"Es wurde kein existierender Nutzer angegeben oder es existieren keine Abgaben.\",\n+        \"feedbackCreditsNull\": \"Fehler! Wenn Feedback vorhanden ist, m\u00fcssen die Feedback eine Punktzahl haben.\"", "originalCommit": "79683f2ae35c5775069b05111462d1a7eb466cfe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQwNzcxMQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r494407711", "bodyText": "These multiple assignments in one line are highly confusing. I would chang ethis", "author": "stefanwaldhauser", "createdAt": "2020-09-24T15:23:27Z", "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-container.component.ts", "diffHunk": "@@ -279,21 +277,48 @@ export class CodeEditorTutorAssessmentContainerComponent implements OnInit, OnDe\n      * The error must already be provided translated by the emitting component.\n      */\n     onError(error: string) {\n-        this.jhiAlertService.error(`artemisApp.editor.errors.${error}`);\n+        this.jhiAlertService.error(error);\n+        this.saveBusy = this.cancelBusy = this.submitBusy = this.nextSubmissionBusy = false;\n+    }\n+\n+    /**\n+     * Validate the feedback of the assessment\n+     */\n+    validateFeedback(): void {\n+        this.calculateTotalScore();\n+        const hasReferencedFeedback = this.referencedFeedback.filter(Feedback.isPresent).length > 0;\n+        const hasUnreferencedFeedback = this.unreferencedFeedback.filter(Feedback.isPresent).length > 0;\n+        const hasGeneralFeedback = Feedback.hasDetailText(this.generalFeedback);\n+        this.assessmentsAreValid = hasReferencedFeedback || hasGeneralFeedback || hasUnreferencedFeedback;\n     }\n \n-    private getLatestResult(results: Result[]): Result | null {\n-        return _orderBy(results, 'id', 'desc')[0] ?? null;\n+    /**\n+     * Defines whether the inline feedback should be read only or not\n+     */\n+    readOnly() {\n+        return !this.isAtLeastInstructor && !!this.complaint && this.isAssessor;\n     }\n \n-    private getLatestAutomaticResult(results: Result[]): Result | null {\n+    private handleSaveOrSubmitSuccessWithAlert(response: HttpResponse<Result>, translationKey: string): void {\n+        this.participation!.results[0] = this.manualResult = response.body!;", "originalCommit": "79683f2ae35c5775069b05111462d1a7eb466cfe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "445e4d1d5e39c3c63b86286a72a80f7e1a454d68", "url": "https://github.com/ls1intum/Artemis/commit/445e4d1d5e39c3c63b86286a72a80f7e1a454d68", "message": "Update src/main/webapp/i18n/de/error.json\n\nCo-authored-by: Stefan Waldhauser <hello@stefanwaldhauser.me>", "committedDate": "2020-09-25T13:56:45Z", "type": "commit"}, {"oid": "34c115842c27dcd7f7358b4a72b8245f2f19521a", "url": "https://github.com/ls1intum/Artemis/commit/34c115842c27dcd7f7358b4a72b8245f2f19521a", "message": "Merge branch 'develop' into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-25T14:41:45Z", "type": "commit"}, {"oid": "890546dfdf69dbdfebec3ceb3868d5c14199b4a5", "url": "https://github.com/ls1intum/Artemis/commit/890546dfdf69dbdfebec3ceb3868d5c14199b4a5", "message": "fix code style issue", "committedDate": "2020-09-25T16:19:54Z", "type": "commit"}, {"oid": "a8830f70597cdefb000aad80b92bf8c3a6a01958", "url": "https://github.com/ls1intum/Artemis/commit/a8830f70597cdefb000aad80b92bf8c3a6a01958", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/programming-assessment/inline-feedback", "committedDate": "2020-09-25T16:20:03Z", "type": "commit"}, {"oid": "16804db69563a6e5ac429e8711d368093035e0e6", "url": "https://github.com/ls1intum/Artemis/commit/16804db69563a6e5ac429e8711d368093035e0e6", "message": "fix issue found by Stefan", "committedDate": "2020-09-25T23:18:39Z", "type": "commit"}, {"oid": "2a4215cb1beb43ecfd7260d7c95b03ff7e3c31d8", "url": "https://github.com/ls1intum/Artemis/commit/2a4215cb1beb43ecfd7260d7c95b03ff7e3c31d8", "message": "fix issue with wrong saving of result and feedbacks after complaint was assessed -> setting score and resultString is done by server now\nremoved not used class", "committedDate": "2020-09-25T23:52:32Z", "type": "commit"}, {"oid": "4cb3ac792556bcd474169dabe50cf3b5e31024ce", "url": "https://github.com/ls1intum/Artemis/commit/4cb3ac792556bcd474169dabe50cf3b5e31024ce", "message": "fix test", "committedDate": "2020-09-26T00:09:26Z", "type": "commit"}, {"oid": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "url": "https://github.com/ls1intum/Artemis/commit/1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "message": "update also result label after updateAfterComplaint", "committedDate": "2020-09-26T23:55:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcwOTYwMA==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r495709600", "bodyText": "I think the animation for the icon getting larger could be a bit faster so I would suggest 200ms here, but this is really just personal preference \ud83d\ude04", "author": "balazs-czopf", "createdAt": "2020-09-28T06:15:31Z", "path": "src/main/webapp/app/exercises/programming/shared/code-editor/ace/code-editor-ace.scss", "diffHunk": "@@ -12,6 +12,38 @@ Ace Editor\n         &__editor {\n             flex: 1 1 auto;\n         }\n+\n+        .inline-feedback-d-none {\n+            display: none;\n+        }\n+\n+        .inline-feedback {\n+            display: block;\n+        }\n+\n+        .btn-inline-comment {\n+            display: none;\n+            color: #3e8acc; // btn-primary color\n+            height: 16px;\n+        }\n+\n+        .ace_gutter-cell {\n+            position: relative;\n+        }\n+\n+        .ace_gutter-cell:hover .btn-inline-comment {\n+            display: inline-flex;\n+            position: absolute;\n+            top: 8px; // standard gutter height is 16px\n+            left: 25%;\n+            transform: translate(-50%, -50%);\n+\n+            fa-icon:hover {\n+                font-size: 15px;\n+                transition: font-size 0.35s ease;", "originalCommit": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc0NzAyNw==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r495747027", "bodyText": "If anyone else is feeling the same, we can change it :)", "author": "fde312", "createdAt": "2020-09-28T07:43:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcwOTYwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcxMTUyOA==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r495711528", "bodyText": "Do we really need that here? If there is no special reason I would omit that so that instead of getting this:\n\nwe could have that div simply adjust its width to the parent like this:", "author": "balazs-czopf", "createdAt": "2020-09-28T06:21:20Z", "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-inline-feedback.component.html", "diffHunk": "@@ -0,0 +1,53 @@\n+<div\n+    class=\"border rounded\"\n+    [style.max-width]=\"'780px'\"", "originalCommit": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc0NTM1Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r495745356", "bodyText": "@balazs-czopf I oriented this how it is done for GitHub. There the comment does not have the full width either and is around 780px width :)", "author": "fde312", "createdAt": "2020-09-28T07:40:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcxMTUyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc0OTM4Mw==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r495749383", "bodyText": "oh okay I see :)", "author": "balazs-czopf", "createdAt": "2020-09-28T07:48:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcxMTUyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU4MTEzMQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496581131", "bodyText": "do we really need this? We have FeedbackType.MANUAL for this", "author": "krusche", "createdAt": "2020-09-29T09:39:49Z", "path": "src/main/webapp/app/entities/feedback.model.ts", "diffHunk": "@@ -19,6 +19,7 @@ export enum FeedbackType {\n }\n \n export const STATIC_CODE_ANALYSIS_FEEDBACK_IDENTIFIER = 'SCAFeedbackIdentifier:';\n+export const MANUAL_ASSESSMENT_IDENTIFIER = 'MAFeedbackIdentifier:';", "originalCommit": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3NTQwMA==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496675400", "bodyText": "I removed it :)", "author": "fde312", "createdAt": "2020-09-29T12:28:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU4MTEzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjYxOTk3Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496619977", "bodyText": "For the future, it would be nice, if tutors can also select certain characters of a line. I think this could be extended using file:${this.fileName}_line:${this.codeLine}_characters:{start}:{end}", "author": "krusche", "createdAt": "2020-09-29T10:46:37Z", "path": "src/main/webapp/app/exercises/programming/assess/code-editor-tutor-assessment-inline-feedback.component.ts", "diffHunk": "@@ -0,0 +1,83 @@\n+import { Component, EventEmitter, Input, Output } from '@angular/core';\n+import { Feedback, FeedbackType, MANUAL_ASSESSMENT_IDENTIFIER } from 'app/entities/feedback.model';\n+import { cloneDeep } from 'lodash';\n+import { TranslateService } from '@ngx-translate/core';\n+\n+@Component({\n+    selector: 'jhi-code-editor-tutor-assessment-inline-feedback',\n+    templateUrl: './code-editor-tutor-assessment-inline-feedback.component.html',\n+})\n+export class CodeEditorTutorAssessmentInlineFeedbackComponent {\n+    MANUAL = FeedbackType.MANUAL;\n+    @Input()\n+    get feedback(): Feedback {\n+        return this._feedback;\n+    }\n+    set feedback(feedback: Feedback) {\n+        this._feedback = feedback || new Feedback();\n+        this.oldFeedback = cloneDeep(this.feedback);\n+        this.editOnly = feedback ? true : false;\n+    }\n+    private _feedback: Feedback;\n+    @Input()\n+    fileName: string;\n+    @Input()\n+    codeLine: number;\n+    @Input()\n+    readOnly: boolean;\n+    @Output()\n+    onUpdateFeedback = new EventEmitter<Feedback>();\n+    @Output()\n+    onCancelFeedback = new EventEmitter<number>();\n+    @Output()\n+    onDeleteFeedback = new EventEmitter<Feedback>();\n+    @Output()\n+    onEditFeedback = new EventEmitter<number>();\n+\n+    editOnly: boolean;\n+    oldFeedback: Feedback;\n+    constructor(private translateService: TranslateService) {}\n+\n+    /**\n+     * Updates the current feedback and sets props and emits the feedback to parent component\n+     */\n+    updateFeedback() {\n+        this.feedback.type = this.MANUAL;\n+        this.feedback.reference = `${MANUAL_ASSESSMENT_IDENTIFIER}_file:${this.fileName}_line:${this.codeLine}`;", "originalCommit": "1314ad66e97c2c4ccf48f893e38bf84c0f6feb93", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjYzNjgyMQ==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496636821", "bodyText": "It would be more important that fileName includes the path, in the (unlikely) case that there are two files with the same name", "author": "krusche", "createdAt": "2020-09-29T11:18:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjYxOTk3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY3NDMyNA==", "url": "https://github.com/ls1intum/Artemis/pull/2099#discussion_r496674324", "bodyText": "The reference contains the whole path of the file. I renamed the variable to have a consistent name throughout the components. :)", "author": "fde312", "createdAt": "2020-09-29T12:26:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjYxOTk3Nw=="}], "type": "inlineReview"}]}