{"pr_number": 1614, "pr_title": "[Exam] Basic client setup for exam management", "pr_createdAt": "2020-06-09T19:39:29Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1614", "timeline": [{"oid": "669587dccdbd32725591e88e1f571420ab875ab3", "url": "https://github.com/ls1intum/Artemis/commit/669587dccdbd32725591e88e1f571420ab875ab3", "message": "Add exam management route with lazy loaded module", "committedDate": "2020-06-09T16:41:11Z", "type": "commit"}, {"oid": "9974d0316468e7be9be2928c8a8560aaf6bdff28", "url": "https://github.com/ls1intum/Artemis/commit/9974d0316468e7be9be2928c8a8560aaf6bdff28", "message": "Shorten import", "committedDate": "2020-06-09T16:52:23Z", "type": "commit"}, {"oid": "5f6a74404af1837c4d433d04ab1186fd361e3be9", "url": "https://github.com/ls1intum/Artemis/commit/5f6a74404af1837c4d433d04ab1186fd361e3be9", "message": "Move basic exam route to exam-management.route", "committedDate": "2020-06-09T17:27:23Z", "type": "commit"}, {"oid": "d8f7e7f60232fa7ba48c33206d337a03c6f3a4ec", "url": "https://github.com/ls1intum/Artemis/commit/d8f7e7f60232fa7ba48c33206d337a03c6f3a4ec", "message": "Add all necessary routes", "committedDate": "2020-06-09T17:56:53Z", "type": "commit"}, {"oid": "b65d893f7492fcb4e5066d4ae58ff2de52c552cb", "url": "https://github.com/ls1intum/Artemis/commit/b65d893f7492fcb4e5066d4ae58ff2de52c552cb", "message": "Add exam components", "committedDate": "2020-06-09T18:38:58Z", "type": "commit"}, {"oid": "b3afc378ce214e88af4dfc8d7886ca0bfee04441", "url": "https://github.com/ls1intum/Artemis/commit/b3afc378ce214e88af4dfc8d7886ca0bfee04441", "message": "Add exercise groups components", "committedDate": "2020-06-09T19:06:30Z", "type": "commit"}, {"oid": "5de9fdc88053a103cc367a36978d4b0779350772", "url": "https://github.com/ls1intum/Artemis/commit/5de9fdc88053a103cc367a36978d4b0779350772", "message": "Add ExamStudentsComponent", "committedDate": "2020-06-09T19:09:28Z", "type": "commit"}, {"oid": "fc4909aff8baddab65fdf23e7bc090bdb2a96469", "url": "https://github.com/ls1intum/Artemis/commit/fc4909aff8baddab65fdf23e7bc090bdb2a96469", "message": "Add student exam components", "committedDate": "2020-06-09T19:14:50Z", "type": "commit"}, {"oid": "f7a68950f2442dcc502a73e2a0d5c2807e5e0948", "url": "https://github.com/ls1intum/Artemis/commit/f7a68950f2442dcc502a73e2a0d5c2807e5e0948", "message": "Initialize exam ids", "committedDate": "2020-06-09T19:46:10Z", "type": "commit"}, {"oid": "3057563048b8b05db954de767518adde5b2fd706", "url": "https://github.com/ls1intum/Artemis/commit/3057563048b8b05db954de767518adde5b2fd706", "message": "Basic implementation of exam management service", "committedDate": "2020-06-09T20:24:24Z", "type": "commit"}, {"oid": "0f2cb739f80a5aa84738f7eb0d664b653fd2152c", "url": "https://github.com/ls1intum/Artemis/commit/0f2cb739f80a5aa84738f7eb0d664b653fd2152c", "message": "Inject user service", "committedDate": "2020-06-09T20:32:03Z", "type": "commit"}, {"oid": "1fe3e75a04bc7737058cc4c5604b54cd50e8fdb2", "url": "https://github.com/ls1intum/Artemis/commit/1fe3e75a04bc7737058cc4c5604b54cd50e8fdb2", "message": "Add student exam service", "committedDate": "2020-06-09T20:42:56Z", "type": "commit"}, {"oid": "46d7b173650e1890b217b1a22a87495134e98633", "url": "https://github.com/ls1intum/Artemis/commit/46d7b173650e1890b217b1a22a87495134e98633", "message": "Add exercise group service", "committedDate": "2020-06-09T20:51:52Z", "type": "commit"}, {"oid": "6dd6be76ddf609300aeafddb3a11b31cd89bd577", "url": "https://github.com/ls1intum/Artemis/commit/6dd6be76ddf609300aeafddb3a11b31cd89bd577", "message": "Inject new services", "committedDate": "2020-06-09T20:57:13Z", "type": "commit"}, {"oid": "0b57d93fad38a5ec53ddd64f79da9844a7c4bd03", "url": "https://github.com/ls1intum/Artemis/commit/0b57d93fad38a5ec53ddd64f79da9844a7c4bd03", "message": "Merge branch 'develop' into exam/management/basic-setup", "committedDate": "2020-06-09T21:51:21Z", "type": "commit"}, {"oid": "449a7d65c84040a4515330b53b9535d8bd12140a", "url": "https://github.com/ls1intum/Artemis/commit/449a7d65c84040a4515330b53b9535d8bd12140a", "message": "Add resolvers", "committedDate": "2020-06-09T22:15:46Z", "type": "commit"}, {"oid": "520ad798cc5e4dd66d18d7eb22adffd1bb2c8576", "url": "https://github.com/ls1intum/Artemis/commit/520ad798cc5e4dd66d18d7eb22adffd1bb2c8576", "message": "Use resolvers", "committedDate": "2020-06-09T22:24:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NjUwNA==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438046504", "bodyText": "we should always use 'api/courses' as base URL. This simplifies authorization checks on the server! Only instructors and admins should be able to call requests related to exams", "author": "krusche", "createdAt": "2020-06-10T11:17:10Z", "path": "src/main/webapp/app/exam/manage/exam-management.service.ts", "diffHunk": "@@ -1,8 +1,111 @@\n import { Injectable } from '@angular/core';\n-\n+import { Router } from '@angular/router';\n+import { HttpClient, HttpResponse } from '@angular/common/http';\n+import { Observable } from 'rxjs';\n+import { map } from 'rxjs/operators';\n+import * as moment from 'moment';\n import { SERVER_API_URL } from 'app/app.constants';\n+import { Exam } from 'app/entities/exam.model';\n+import { createRequestOption } from 'app/shared/util/request-util';\n+\n+type EntityResponseType = HttpResponse<Exam>;\n+type EntityArrayResponseType = HttpResponse<Exam[]>;\n \n @Injectable({ providedIn: 'root' })\n export class ExamManagementService {\n-    public resourceUrl = SERVER_API_URL + 'api/exams';\n+    public resourceUrlCourses = SERVER_API_URL + 'api/courses';", "originalCommit": "520ad798cc5e4dd66d18d7eb22adffd1bb2c8576", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NjY1Ng==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438046656", "bodyText": "please remove resourceUrlExams and use  resourceUrlCourses", "author": "krusche", "createdAt": "2020-06-10T11:17:28Z", "path": "src/main/webapp/app/exam/manage/exam-management.service.ts", "diffHunk": "@@ -1,8 +1,111 @@\n import { Injectable } from '@angular/core';\n-\n+import { Router } from '@angular/router';\n+import { HttpClient, HttpResponse } from '@angular/common/http';\n+import { Observable } from 'rxjs';\n+import { map } from 'rxjs/operators';\n+import * as moment from 'moment';\n import { SERVER_API_URL } from 'app/app.constants';\n+import { Exam } from 'app/entities/exam.model';\n+import { createRequestOption } from 'app/shared/util/request-util';\n+\n+type EntityResponseType = HttpResponse<Exam>;\n+type EntityArrayResponseType = HttpResponse<Exam[]>;\n \n @Injectable({ providedIn: 'root' })\n export class ExamManagementService {\n-    public resourceUrl = SERVER_API_URL + 'api/exams';\n+    public resourceUrlCourses = SERVER_API_URL + 'api/courses';\n+    public resourceUrlExams = SERVER_API_URL + 'api/exams';", "originalCommit": "520ad798cc5e4dd66d18d7eb22adffd1bb2c8576", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NzM1NQ==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438047355", "bodyText": "I would also like to have 'courses' and '{courseId}' in all paths here", "author": "krusche", "createdAt": "2020-06-10T11:18:57Z", "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-group.service.ts", "diffHunk": "@@ -0,0 +1,59 @@\n+import { Injectable } from '@angular/core';\n+import { Router } from '@angular/router';\n+import { HttpClient, HttpResponse } from '@angular/common/http';\n+import { Observable } from 'rxjs';\n+import { SERVER_API_URL } from 'app/app.constants';\n+import { ExerciseGroup } from 'app/entities/exercise-group.model';\n+\n+type EntityResponseType = HttpResponse<ExerciseGroup>;\n+type EntityArrayResponseType = HttpResponse<ExerciseGroup[]>;\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExerciseGroupService {\n+    public resourceUrlExerciseGroups = SERVER_API_URL + 'api/exerciseGroups';", "originalCommit": "520ad798cc5e4dd66d18d7eb22adffd1bb2c8576", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0Nzc3Nw==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438047777", "bodyText": "Please also include 'api/courses' and '{courseId}' here", "author": "krusche", "createdAt": "2020-06-10T11:19:56Z", "path": "src/main/webapp/app/exam/manage/student-exams/student-exam.service.ts", "diffHunk": "@@ -0,0 +1,33 @@\n+import { Injectable } from '@angular/core';\n+import { Router } from '@angular/router';\n+import { HttpClient, HttpResponse } from '@angular/common/http';\n+import { Observable } from 'rxjs';\n+import { SERVER_API_URL } from 'app/app.constants';\n+import { StudentExam } from 'app/entities/student-exam.model';\n+\n+type EntityResponseType = HttpResponse<StudentExam>;\n+type EntityArrayResponseType = HttpResponse<StudentExam[]>;\n+\n+@Injectable({ providedIn: 'root' })\n+export class StudentExamService {\n+    public resourceUrlStudentExam = SERVER_API_URL + 'api/studentExams';", "originalCommit": "520ad798cc5e4dd66d18d7eb22adffd1bb2c8576", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "30fe0f69d94fb28fa8bcab319422e24b11420f43", "url": "https://github.com/ls1intum/Artemis/commit/30fe0f69d94fb28fa8bcab319422e24b11420f43", "message": "Always add courseId to service routes", "committedDate": "2020-06-10T12:10:17Z", "type": "commit"}, {"oid": "4090486d5dddad65982b4c831535e350b894378b", "url": "https://github.com/ls1intum/Artemis/commit/4090486d5dddad65982b4c831535e350b894378b", "message": "Adjust resolvers to new route structure", "committedDate": "2020-06-10T12:13:10Z", "type": "commit"}, {"oid": "d5f86bd1a3f431a9f63cc098947a7dab154b56f7", "url": "https://github.com/ls1intum/Artemis/commit/d5f86bd1a3f431a9f63cc098947a7dab154b56f7", "message": "Initialize components with course id", "committedDate": "2020-06-10T12:20:48Z", "type": "commit"}, {"oid": "867e9d9e5e9623cdaed3e405fff6159980f610eb", "url": "https://github.com/ls1intum/Artemis/commit/867e9d9e5e9623cdaed3e405fff6159980f610eb", "message": "Merge branch 'develop' into exam/management/basic-setup", "committedDate": "2020-06-10T12:21:22Z", "type": "commit"}, {"oid": "91b9cc15b92ed927632c448789d2bd634d757369", "url": "https://github.com/ls1intum/Artemis/commit/91b9cc15b92ed927632c448789d2bd634d757369", "message": "Merge branch 'develop' into exam/management/basic-setup", "committedDate": "2020-06-10T15:35:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MzMyMQ==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438263321", "bodyText": "Shouldn't the exerciseGroups be accessible using the examId instead of the courseId? See UML", "author": "anditurdiu", "createdAt": "2020-06-10T16:39:40Z", "path": "src/main/webapp/app/exam/manage/exercise-groups/exercise-group-detail.component.ts", "diffHunk": "@@ -0,0 +1,23 @@\n+import { Component, OnInit } from '@angular/core';\n+import { ActivatedRoute } from '@angular/router';\n+import { ExerciseGroup } from 'app/entities/exercise-group.model';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+\n+@Component({\n+    selector: 'jhi-exercise-group-detail',\n+    templateUrl: './exercise-group-detail.component.html',\n+})\n+export class ExerciseGroupDetailComponent implements OnInit {\n+    courseId: number;", "originalCommit": "91b9cc15b92ed927632c448789d2bd634d757369", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2ODYxNA==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438268614", "bodyText": "Actually, we will always use both: the courseId and the examId. We need them to secure the server REST routes.\nI only initialized courseId here, as the examId is stored directly in the exerciseGroup object that comes from the resolver.", "author": "sascha11110", "createdAt": "2020-06-10T16:48:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MzMyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3NzgxNQ==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438277815", "bodyText": "Do we actually need courseId, examId and exerciseGroupId to retrieve an exerciseGroup? My understanding is that exerciseGroupId is already unique and should suffice for the retrieval.", "author": "kloessst", "createdAt": "2020-06-10T17:03:56Z", "path": "src/main/webapp/app/exam/manage/exam-management.route.ts", "diffHunk": "@@ -1,14 +1,211 @@\n-import { Routes } from '@angular/router';\n+import { Injectable } from '@angular/core';\n+import { HttpResponse } from '@angular/common/http';\n+import { ActivatedRouteSnapshot, Resolve, Routes } from '@angular/router';\n+import { Observable, of } from 'rxjs';\n+import { filter, map } from 'rxjs/operators';\n import { UserRouteAccessService } from 'app/core/auth/user-route-access-service';\n import { ExamManagementComponent } from 'app/exam/manage/exam-management.component';\n+import { ExamUpdateComponent } from 'app/exam/manage/exams/exam-update.component';\n+import { ExamDetailComponent } from 'app/exam/manage/exams/exam-detail.component';\n+import { ExerciseGroupsComponent } from 'app/exam/manage/exercise-groups/exercise-groups.component';\n+import { ExerciseGroupUpdateComponent } from 'app/exam/manage/exercise-groups/exercise-group-update.component';\n+import { ExerciseGroupDetailComponent } from 'app/exam/manage/exercise-groups/exercise-group-detail.component';\n+import { ExamStudentsComponent } from 'app/exam/manage/students/exam-students.component';\n+import { StudentExamsComponent } from 'app/exam/manage/student-exams/student-exams.component';\n+import { StudentExamDetailComponent } from 'app/exam/manage/student-exams/student-exam-detail.component';\n+import { Exam } from 'app/entities/exam.model';\n+import { ExerciseGroup } from 'app/entities/exercise-group.model';\n+import { StudentExam } from 'app/entities/student-exam.model';\n+import { ExamManagementService } from 'app/exam/manage/exam-management.service';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { StudentExamService } from 'app/exam/manage/student-exams/student-exam.service';\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExamResolve implements Resolve<Exam> {\n+    constructor(private examManagementService: ExamManagementService) {}\n+\n+    /**\n+     * Resolves the route by extracting the examId and returns the exam with that Id if it exists\n+     * or creates a new exam otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<Exam> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        if (courseId && examId) {\n+            return this.examManagementService.find(courseId, examId).pipe(\n+                filter((response: HttpResponse<Exam>) => response.ok),\n+                map((course: HttpResponse<Exam>) => course.body!),\n+            );\n+        }\n+        return of(new Exam());\n+    }\n+}\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExerciseGroupResolve implements Resolve<ExerciseGroup> {\n+    constructor(private exerciseGroupService: ExerciseGroupService) {}\n+\n+    /**\n+     * Resolves the route by extracting the exerciseGroupId and returns the exercise group with that id if it exists\n+     * or creates a new exercise group otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<ExerciseGroup> {", "originalCommit": "91b9cc15b92ed927632c448789d2bd634d757369", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI4NTE4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438285187", "bodyText": "I've already discussed this with Stephan. The idea is that we will use both to secure the REST routes: we'll check in all routes that the user is an instructor in the course (courseId) and that the exam (examId) belongs to the course.", "author": "sascha11110", "createdAt": "2020-06-10T17:16:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3NzgxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzMzk5Mw==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438333993", "bodyText": "The full path here is course-management/:courseId/exams/new. We don't have an examId here, so ExamResolve won't work.", "author": "kloessst", "createdAt": "2020-06-10T18:41:05Z", "path": "src/main/webapp/app/exam/manage/exam-management.route.ts", "diffHunk": "@@ -1,14 +1,211 @@\n-import { Routes } from '@angular/router';\n+import { Injectable } from '@angular/core';\n+import { HttpResponse } from '@angular/common/http';\n+import { ActivatedRouteSnapshot, Resolve, Routes } from '@angular/router';\n+import { Observable, of } from 'rxjs';\n+import { filter, map } from 'rxjs/operators';\n import { UserRouteAccessService } from 'app/core/auth/user-route-access-service';\n import { ExamManagementComponent } from 'app/exam/manage/exam-management.component';\n+import { ExamUpdateComponent } from 'app/exam/manage/exams/exam-update.component';\n+import { ExamDetailComponent } from 'app/exam/manage/exams/exam-detail.component';\n+import { ExerciseGroupsComponent } from 'app/exam/manage/exercise-groups/exercise-groups.component';\n+import { ExerciseGroupUpdateComponent } from 'app/exam/manage/exercise-groups/exercise-group-update.component';\n+import { ExerciseGroupDetailComponent } from 'app/exam/manage/exercise-groups/exercise-group-detail.component';\n+import { ExamStudentsComponent } from 'app/exam/manage/students/exam-students.component';\n+import { StudentExamsComponent } from 'app/exam/manage/student-exams/student-exams.component';\n+import { StudentExamDetailComponent } from 'app/exam/manage/student-exams/student-exam-detail.component';\n+import { Exam } from 'app/entities/exam.model';\n+import { ExerciseGroup } from 'app/entities/exercise-group.model';\n+import { StudentExam } from 'app/entities/student-exam.model';\n+import { ExamManagementService } from 'app/exam/manage/exam-management.service';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { StudentExamService } from 'app/exam/manage/student-exams/student-exam.service';\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExamResolve implements Resolve<Exam> {\n+    constructor(private examManagementService: ExamManagementService) {}\n+\n+    /**\n+     * Resolves the route by extracting the examId and returns the exam with that Id if it exists\n+     * or creates a new exam otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<Exam> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        if (courseId && examId) {\n+            return this.examManagementService.find(courseId, examId).pipe(\n+                filter((response: HttpResponse<Exam>) => response.ok),\n+                map((course: HttpResponse<Exam>) => course.body!),\n+            );\n+        }\n+        return of(new Exam());\n+    }\n+}\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExerciseGroupResolve implements Resolve<ExerciseGroup> {\n+    constructor(private exerciseGroupService: ExerciseGroupService) {}\n+\n+    /**\n+     * Resolves the route by extracting the exerciseGroupId and returns the exercise group with that id if it exists\n+     * or creates a new exercise group otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<ExerciseGroup> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        const exerciseGroupId = route.params['exerciseGroupId'] ? route.params['exerciseGroupId'] : null;\n+        if (courseId && examId && exerciseGroupId) {\n+            return this.exerciseGroupService.find(courseId, examId, exerciseGroupId).pipe(\n+                filter((response: HttpResponse<ExerciseGroup>) => response.ok),\n+                map((course: HttpResponse<ExerciseGroup>) => course.body!),\n+            );\n+        }\n+        return of(new ExerciseGroup());\n+    }\n+}\n+\n+@Injectable({ providedIn: 'root' })\n+export class StudentExamResolve implements Resolve<StudentExam> {\n+    constructor(private studentExamService: StudentExamService) {}\n+\n+    /**\n+     * Resolves the route by extracting the studentExamId and returns the student exam with that id if it exists\n+     * or creates a new student exam otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<StudentExam> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        const studentExamId = route.params['studentExamId'] ? route.params['studentExamId'] : null;\n+        if (courseId && examId && studentExamId) {\n+            return this.studentExamService.find(courseId, examId, studentExamId).pipe(\n+                filter((response: HttpResponse<StudentExam>) => response.ok),\n+                map((course: HttpResponse<StudentExam>) => course.body!),\n+            );\n+        }\n+        return of(new StudentExam());\n+    }\n+}\n \n export const examManagementRoute: Routes = [\n     {\n         path: '',\n         component: ExamManagementComponent,\n         data: {\n             authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n-            pageTitle: 'artemisApp.exam.title',\n+            pageTitle: 'artemisApp.examManagement.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: 'new',\n+        component: ExamUpdateComponent,\n+        resolve: {", "originalCommit": "91b9cc15b92ed927632c448789d2bd634d757369", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzNjc4OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438336789", "bodyText": "ExerciseGroupResolve uses courseId, examId and exerciseGroupId. ExerciseGroupId is not part of the route", "author": "kloessst", "createdAt": "2020-06-10T18:46:15Z", "path": "src/main/webapp/app/exam/manage/exam-management.route.ts", "diffHunk": "@@ -1,14 +1,211 @@\n-import { Routes } from '@angular/router';\n+import { Injectable } from '@angular/core';\n+import { HttpResponse } from '@angular/common/http';\n+import { ActivatedRouteSnapshot, Resolve, Routes } from '@angular/router';\n+import { Observable, of } from 'rxjs';\n+import { filter, map } from 'rxjs/operators';\n import { UserRouteAccessService } from 'app/core/auth/user-route-access-service';\n import { ExamManagementComponent } from 'app/exam/manage/exam-management.component';\n+import { ExamUpdateComponent } from 'app/exam/manage/exams/exam-update.component';\n+import { ExamDetailComponent } from 'app/exam/manage/exams/exam-detail.component';\n+import { ExerciseGroupsComponent } from 'app/exam/manage/exercise-groups/exercise-groups.component';\n+import { ExerciseGroupUpdateComponent } from 'app/exam/manage/exercise-groups/exercise-group-update.component';\n+import { ExerciseGroupDetailComponent } from 'app/exam/manage/exercise-groups/exercise-group-detail.component';\n+import { ExamStudentsComponent } from 'app/exam/manage/students/exam-students.component';\n+import { StudentExamsComponent } from 'app/exam/manage/student-exams/student-exams.component';\n+import { StudentExamDetailComponent } from 'app/exam/manage/student-exams/student-exam-detail.component';\n+import { Exam } from 'app/entities/exam.model';\n+import { ExerciseGroup } from 'app/entities/exercise-group.model';\n+import { StudentExam } from 'app/entities/student-exam.model';\n+import { ExamManagementService } from 'app/exam/manage/exam-management.service';\n+import { ExerciseGroupService } from 'app/exam/manage/exercise-groups/exercise-group.service';\n+import { StudentExamService } from 'app/exam/manage/student-exams/student-exam.service';\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExamResolve implements Resolve<Exam> {\n+    constructor(private examManagementService: ExamManagementService) {}\n+\n+    /**\n+     * Resolves the route by extracting the examId and returns the exam with that Id if it exists\n+     * or creates a new exam otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<Exam> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        if (courseId && examId) {\n+            return this.examManagementService.find(courseId, examId).pipe(\n+                filter((response: HttpResponse<Exam>) => response.ok),\n+                map((course: HttpResponse<Exam>) => course.body!),\n+            );\n+        }\n+        return of(new Exam());\n+    }\n+}\n+\n+@Injectable({ providedIn: 'root' })\n+export class ExerciseGroupResolve implements Resolve<ExerciseGroup> {\n+    constructor(private exerciseGroupService: ExerciseGroupService) {}\n+\n+    /**\n+     * Resolves the route by extracting the exerciseGroupId and returns the exercise group with that id if it exists\n+     * or creates a new exercise group otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<ExerciseGroup> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        const exerciseGroupId = route.params['exerciseGroupId'] ? route.params['exerciseGroupId'] : null;\n+        if (courseId && examId && exerciseGroupId) {\n+            return this.exerciseGroupService.find(courseId, examId, exerciseGroupId).pipe(\n+                filter((response: HttpResponse<ExerciseGroup>) => response.ok),\n+                map((course: HttpResponse<ExerciseGroup>) => course.body!),\n+            );\n+        }\n+        return of(new ExerciseGroup());\n+    }\n+}\n+\n+@Injectable({ providedIn: 'root' })\n+export class StudentExamResolve implements Resolve<StudentExam> {\n+    constructor(private studentExamService: StudentExamService) {}\n+\n+    /**\n+     * Resolves the route by extracting the studentExamId and returns the student exam with that id if it exists\n+     * or creates a new student exam otherwise.\n+     * @param route Contains the information about the route to be resolved\n+     */\n+    resolve(route: ActivatedRouteSnapshot): Observable<StudentExam> {\n+        const courseId = route.params['courseId'] ? route.params['courseId'] : null;\n+        const examId = route.params['examId'] ? route.params['examId'] : null;\n+        const studentExamId = route.params['studentExamId'] ? route.params['studentExamId'] : null;\n+        if (courseId && examId && studentExamId) {\n+            return this.studentExamService.find(courseId, examId, studentExamId).pipe(\n+                filter((response: HttpResponse<StudentExam>) => response.ok),\n+                map((course: HttpResponse<StudentExam>) => course.body!),\n+            );\n+        }\n+        return of(new StudentExam());\n+    }\n+}\n \n export const examManagementRoute: Routes = [\n     {\n         path: '',\n         component: ExamManagementComponent,\n         data: {\n             authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n-            pageTitle: 'artemisApp.exam.title',\n+            pageTitle: 'artemisApp.examManagement.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: 'new',\n+        component: ExamUpdateComponent,\n+        resolve: {\n+            exam: ExamResolve,\n+        },\n+        data: {\n+            authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n+            pageTitle: 'artemisApp.examManagement.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: ':examId/edit',\n+        component: ExamUpdateComponent,\n+        resolve: {\n+            exam: ExamResolve,\n+        },\n+        data: {\n+            authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n+            pageTitle: 'artemisApp.examManagement.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: ':examId/view',\n+        component: ExamDetailComponent,\n+        resolve: {\n+            exam: ExamResolve,\n+        },\n+        data: {\n+            authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n+            pageTitle: 'artemisApp.examManagement.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: ':examId/exerciseGroups',\n+        component: ExerciseGroupsComponent,\n+        data: {\n+            authorities: ['ROLE_INSTRUCTOR', 'ROLE_ADMIN'],\n+            pageTitle: 'artemisApp.examManagement.title',\n+        },\n+        canActivate: [UserRouteAccessService],\n+    },\n+    {\n+        path: ':examId/exerciseGroups/new',\n+        component: ExerciseGroupUpdateComponent,\n+        resolve: {\n+            exerciseGroup: ExerciseGroupResolve,", "originalCommit": "91b9cc15b92ed927632c448789d2bd634d757369", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0MTA0Ng==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438341046", "bodyText": "The idea (also for the other resolvers) is that if one of the ids does not exists (if (courseId && examId && exerciseGroupId)) an empty entity will be returned (return of(new ExerciseGroup());). This is how we do it in other places of the application :-)", "author": "sascha11110", "createdAt": "2020-06-10T18:54:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzNjc4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0MjEzNw==", "url": "https://github.com/ls1intum/Artemis/pull/1614#discussion_r438342137", "bodyText": "I missed that, got it now, thanks!", "author": "kloessst", "createdAt": "2020-06-10T18:56:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzNjc4OQ=="}], "type": "inlineReview"}]}