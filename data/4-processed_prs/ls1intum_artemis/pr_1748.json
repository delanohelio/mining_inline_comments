{"pr_number": 1748, "pr_title": "Show summary after exam has ended", "pr_createdAt": "2020-06-29T12:35:07Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1748", "timeline": [{"oid": "5a74a1a7df2f3f82c73cd8c298cc72110d6d2240", "url": "https://github.com/ls1intum/Artemis/commit/5a74a1a7df2f3f82c73cd8c298cc72110d6d2240", "message": "StudentExamAccessService remove check for after end date -> always return StudentExam to show summary\nexam-participation.component.ts if exam isOver -> load student exam to show summary", "committedDate": "2020-06-29T12:24:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5MjE4MQ==", "url": "https://github.com/ls1intum/Artemis/pull/1748#discussion_r446992181", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // Check that the exam is live\n          \n          \n            \n                    // Check that the exam is already visible. After the exam, we directly show the summary!", "author": "krusche", "createdAt": "2020-06-29T13:57:56Z", "path": "src/main/java/de/tum/in/www1/artemis/service/StudentExamAccessService.java", "diffHunk": "@@ -95,8 +95,7 @@ public StudentExamAccessService(CourseService courseService, UserService userSer\n         }\n \n         // Check that the exam is live", "originalCommit": "5a74a1a7df2f3f82c73cd8c298cc72110d6d2240", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "64450d3ee04f54df36d812ce1529db90193bee62", "url": "https://github.com/ls1intum/Artemis/commit/64450d3ee04f54df36d812ce1529db90193bee62", "message": "Update src/main/java/de/tum/in/www1/artemis/service/StudentExamAccessService.java", "committedDate": "2020-06-29T13:58:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5MzYzNg==", "url": "https://github.com/ls1intum/Artemis/pull/1748#discussion_r446993636", "bodyText": "I will approve this for now, but in the future we should check if the student has actually participated in the exam and only then we will show the summary page. We might need to add a new attribute to StudentExam to track this. (something similar like the initializationState in the Participation)", "author": "krusche", "createdAt": "2020-06-29T13:59:55Z", "path": "src/main/webapp/app/exam/participate/exam-participation.component.ts", "diffHunk": "@@ -77,7 +77,14 @@ export class ExamParticipationComponent implements OnInit, OnDestroy {\n         this.route.parent!.params.subscribe((params) => {\n             this.courseId = parseInt(params['courseId'], 10);\n             this.examId = parseInt(params['examId'], 10);\n-            this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => (this.exam = exam));\n+            this.examParticipationService.loadExam(this.courseId, this.examId).subscribe((exam) => {\n+                this.exam = exam;\n+                if (this.isOver()) {\n+                    this.examParticipationService.loadStudentExam(this.exam.course.id, this.exam.id).subscribe((studentExam: StudentExam) => {\n+                        this.studentExam = studentExam;", "originalCommit": "64450d3ee04f54df36d812ce1529db90193bee62", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "feb8148ffc392092d140200f0cf89971939dc5ab", "url": "https://github.com/ls1intum/Artemis/commit/feb8148ffc392092d140200f0cf89971939dc5ab", "message": "fix test\nupdate comment", "committedDate": "2020-06-29T14:12:43Z", "type": "commit"}, {"oid": "09146a9c8518a24c258064ae30007437bc41dcf4", "url": "https://github.com/ls1intum/Artemis/commit/09146a9c8518a24c258064ae30007437bc41dcf4", "message": "Merge remote-tracking branch 'origin/bugfix/exam/show-exam-after-end' into bugfix/exam/show-exam-after-end", "committedDate": "2020-06-29T14:13:03Z", "type": "commit"}, {"oid": "98743337dd3510a2d9c5c8b5498794a2471031ba", "url": "https://github.com/ls1intum/Artemis/commit/98743337dd3510a2d9c5c8b5498794a2471031ba", "message": "fix test", "committedDate": "2020-06-29T15:00:28Z", "type": "commit"}, {"oid": "6ab210a8ce0019558ead1f71177589aa10537379", "url": "https://github.com/ls1intum/Artemis/commit/6ab210a8ce0019558ead1f71177589aa10537379", "message": "Merge branch 'develop' into bugfix/exam/show-exam-after-end", "committedDate": "2020-06-29T15:17:48Z", "type": "commit"}]}