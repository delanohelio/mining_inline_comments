{"pr_number": 2528, "pr_title": "[Bugfix] Various Bugs", "pr_createdAt": "2020-12-09T16:58:30Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2528", "timeline": [{"oid": "21b7d4cb6d12261e8cb958deb9363107b4466988", "url": "https://github.com/ls1intum/Artemis/commit/21b7d4cb6d12261e8cb958deb9363107b4466988", "message": "fix tutors cant access exam management page", "committedDate": "2020-12-09T16:29:43Z", "type": "commit"}, {"oid": "f86c96dfad701c487edc220fd80a7f8078d9aba2", "url": "https://github.com/ls1intum/Artemis/commit/f86c96dfad701c487edc220fd80a7f8078d9aba2", "message": "fix instructors cant access student exam summary", "committedDate": "2020-12-09T16:30:09Z", "type": "commit"}, {"oid": "396261b774e2bee1683961b82b39c1849802297e", "url": "https://github.com/ls1intum/Artemis/commit/396261b774e2bee1683961b82b39c1849802297e", "message": "fix short answer undefined", "committedDate": "2020-12-09T16:55:04Z", "type": "commit"}, {"oid": "9b8257c4989b5e5ce42aff1603b159ba6cede9d7", "url": "https://github.com/ls1intum/Artemis/commit/9b8257c4989b5e5ce42aff1603b159ba6cede9d7", "message": "remove QA button from exam assessment dashboard", "committedDate": "2020-12-09T17:27:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4Mzg4OA==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r539683888", "bodyText": "I think you can simplify that line with getSubmittedTextForSpot(element)?.text ?? ''", "author": "ivanchimeno", "createdAt": "2020-12-09T22:07:04Z", "path": "src/main/webapp/app/exercises/quiz/shared/questions/short-answer-question/short-answer-question.component.html", "diffHunk": "@@ -40,8 +40,8 @@ <h4 class=\"question-title-display\">\n                         class=\"short-answer-question-container__input\"\n                         disabled\n                         [style.background]=\"getBackgroundColourForInputField(element)\"\n-                        value=\"{{ getSubmittedTextForSpot(element) !== undefined ? getSubmittedTextForSpot(element).text : '' }}\"\n-                        size=\"{{ getSubmittedTextForSpot(element) !== undefined ? getSubmittedTextForSpot(element).text!.length + 2 : 5 }}\"\n+                        value=\"{{ getSubmittedTextForSpot(element)?.text !== undefined ? getSubmittedTextForSpot(element).text : '' }}\"", "originalCommit": "9b8257c4989b5e5ce42aff1603b159ba6cede9d7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI2NTE3OA==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540265178", "bodyText": "@ivanchimeno can you provide an example of how to use the operator ?? in this case? I tried this and it throws a compilation error Expression expected", "author": "anditurdiu", "createdAt": "2020-12-10T15:32:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4Mzg4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4NDMzNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r539684335", "bodyText": "I think you can simplify that line with getSubmittedTextForSpot(element)?.text ?? ''", "author": "ivanchimeno", "createdAt": "2020-12-09T22:07:53Z", "path": "src/main/webapp/app/exercises/quiz/shared/questions/short-answer-question/short-answer-question.component.html", "diffHunk": "@@ -51,8 +51,8 @@ <h4 class=\"question-title-display\">\n                             class=\"short-answer-question-container__input\"\n                             style=\"background: grey\"\n                             disabled\n-                            value=\"{{ getSubmittedTextForSpot(element) !== undefined ? getSubmittedTextForSpot(element).text : '' }}\"\n-                            size=\"{{ getSubmittedTextForSpot(element) !== undefined ? getSubmittedTextForSpot(element).text!.length + 2 : 5 }}\"\n+                            value=\"{{ getSubmittedTextForSpot(element)?.text !== undefined ? getSubmittedTextForSpot(element).text : '' }}\"", "originalCommit": "9b8257c4989b5e5ce42aff1603b159ba6cede9d7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4NDkyMQ==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r539684921", "bodyText": "On another thought, wouldn't it be better to store getSubmittedTextForSpot(element)?.text as a variable so that we don't have to do method calls / make the html longer?", "author": "ivanchimeno", "createdAt": "2020-12-09T22:09:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4NDMzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI1ODQyNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540258425", "bodyText": "@ivanchimeno can you provide an example of how to use the operator ?? in this case? I tried this and it throws a compilation error Expression expected", "author": "anditurdiu", "createdAt": "2020-12-10T15:24:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4NDMzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI2NDUwMw==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540264503", "bodyText": "@ivanchimeno I agree with you it would be better to store the appropriate values as variables in the component but this would require a refactor to the whole component as it uses quite a lot of getters including getSubmittedTextForSpot getSampleSolutionForSpot, getBackgroundColourForInputField, isSubmittedTextCompletelyCorrect. I think this is out of scope for this bugfix, where we just want to fix the bugs found", "author": "anditurdiu", "createdAt": "2020-12-10T15:32:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY4NDMzNQ=="}], "type": "inlineReview"}, {"oid": "f6dc66202f28042300149a45c3f9547f1f8f580c", "url": "https://github.com/ls1intum/Artemis/commit/f6dc66202f28042300149a45c3f9547f1f8f580c", "message": "Merge branch 'develop' into bugfix/various-bugs", "committedDate": "2020-12-10T10:17:44Z", "type": "commit"}, {"oid": "e1c090d0100d43bd988ba18235a35e491ede8d20", "url": "https://github.com/ls1intum/Artemis/commit/e1c090d0100d43bd988ba18235a35e491ede8d20", "message": "Merge branch 'develop' into bugfix/various-bugs", "committedDate": "2020-12-10T15:18:22Z", "type": "commit"}, {"oid": "4b34249ccc34c2cef1d6e9e8cfc7e308d2947e09", "url": "https://github.com/ls1intum/Artemis/commit/4b34249ccc34c2cef1d6e9e8cfc7e308d2947e09", "message": "Revert \"Merge branch 'develop' into bugfix/various-bugs\"\n\nThis reverts commit e1c090d0100d43bd988ba18235a35e491ede8d20, reversing\nchanges made to f6dc66202f28042300149a45c3f9547f1f8f580c.", "committedDate": "2020-12-10T17:51:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwNzE0Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540407146", "bodyText": "This looks like it is reverting #2521 too.", "author": "FrankeLukas", "createdAt": "2020-12-10T18:38:57Z", "path": "src/main/webapp/app/home/home.component.ts", "diffHunk": "@@ -81,11 +79,6 @@ export class HomeComponent implements OnInit, AfterViewChecked {\n         });\n         this.accountService.identity().then((user) => {\n             this.currentUserCallback(user!);\n-\n-            // Once this has loaded and the user is not defined, we know we need the user to log in\n-            if (!user) {\n-                this.loading = false;\n-            }", "originalCommit": "4b34249ccc34c2cef1d6e9e8cfc7e308d2947e09", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f72b1ed9369cf41b5a0af6eaafe6674a1abe362c", "url": "https://github.com/ls1intum/Artemis/commit/f72b1ed9369cf41b5a0af6eaafe6674a1abe362c", "message": "Merge branch 'develop' into bugfix/various-bugs", "committedDate": "2020-12-10T19:00:55Z", "type": "commit"}, {"oid": "ef4921a0d538ed2a4665960d920faf527738bdb9", "url": "https://github.com/ls1intum/Artemis/commit/ef4921a0d538ed2a4665960d920faf527738bdb9", "message": "revert revert", "committedDate": "2020-12-10T19:03:59Z", "type": "commit"}, {"oid": "b05f74bd6e887c3f9c2903af016de996862d3630", "url": "https://github.com/ls1intum/Artemis/commit/b05f74bd6e887c3f9c2903af016de996862d3630", "message": "Add limit to text submissions. Currently set at 30k", "committedDate": "2020-12-10T19:42:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ3ODAwNA==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540478004", "bodyText": "Why are we using toCharArray() instead of length() directly?", "author": "FrankeLukas", "createdAt": "2020-12-10T20:34:27Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/TextSubmissionResource.java", "diffHunk": "@@ -296,4 +300,14 @@ else if (!authorizationCheckService.isAtLeastInstructorForExercise(exercise)) {\n         }\n         return bodyBuilder.body(textSubmission);\n     }\n+\n+    /**\n+     * Throws IllegalArgumentException if the text length is over 30000 characters.\n+     * @param textSubmission the text submission\n+     */\n+    private void checkTextLength(TextSubmission textSubmission) {\n+        if (textSubmission.getText() != null && textSubmission.getText().toCharArray().length > 30000) {", "originalCommit": "b05f74bd6e887c3f9c2903af016de996862d3630", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ5MTMwNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540491305", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (textSubmission.getText() != null && textSubmission.getText().toCharArray().length > 30000) {\n          \n          \n            \n                    if (textSubmission.getText() != null && textSubmission.getText().length() > 30000) {", "author": "fde312", "createdAt": "2020-12-10T20:57:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ3ODAwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ5NTk2MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2528#discussion_r540495961", "bodyText": "@FrankeLukas you are right, that is cleaner", "author": "anditurdiu", "createdAt": "2020-12-10T21:05:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ3ODAwNA=="}], "type": "inlineReview"}, {"oid": "0994551ae0caecbe22cf9f87aae88a799f5fdc62", "url": "https://github.com/ls1intum/Artemis/commit/0994551ae0caecbe22cf9f87aae88a799f5fdc62", "message": "Update src/main/java/de/tum/in/www1/artemis/web/rest/TextSubmissionResource.java\n\nCo-authored-by: Francisco De las Casas Young <41108487+fde312@users.noreply.github.com>", "committedDate": "2020-12-10T21:05:14Z", "type": "commit"}]}