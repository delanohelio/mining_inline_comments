{"pr_number": 2559, "pr_title": "remove buildUrlWithParams from globa-utils", "pr_createdAt": "2020-12-17T18:42:25Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2559", "timeline": [{"oid": "9536b26f32a891b42169f15c6e72ce4e3ce31211", "url": "https://github.com/ls1intum/Artemis/commit/9536b26f32a891b42169f15c6e72ce4e3ce31211", "message": "remove buildUrlWithParams function form global-utils because it was broken", "committedDate": "2020-12-17T18:41:19Z", "type": "commit"}, {"oid": "0c2ce298c7c52680d824124f845f74420e4badc8", "url": "https://github.com/ls1intum/Artemis/commit/0c2ce298c7c52680d824124f845f74420e4badc8", "message": "forgot to add feedbacks to request body", "committedDate": "2020-12-17T22:33:46Z", "type": "commit"}, {"oid": "ffe72ecade8d4ab467c7baf12bbf4a8b78609201", "url": "https://github.com/ls1intum/Artemis/commit/ffe72ecade8d4ab467c7baf12bbf4a8b78609201", "message": "rewrite saveAssessment in modeling-assessment.service.ts", "committedDate": "2020-12-17T22:36:56Z", "type": "commit"}, {"oid": "4d93e7611fd7a1997e988d94130f03d5cf03f646", "url": "https://github.com/ls1intum/Artemis/commit/4d93e7611fd7a1997e988d94130f03d5cf03f646", "message": "do null check", "committedDate": "2020-12-18T09:37:14Z", "type": "commit"}, {"oid": "56309ea69ce5686437f1c24f3ab3df98a9d7b728", "url": "https://github.com/ls1intum/Artemis/commit/56309ea69ce5686437f1c24f3ab3df98a9d7b728", "message": "add some tests to utils.ts", "committedDate": "2020-12-18T10:09:34Z", "type": "commit"}, {"oid": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "url": "https://github.com/ls1intum/Artemis/commit/dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "message": "Merge branch 'develop' into fix/global-utils/remove-buildUrlWithParams", "committedDate": "2020-12-18T10:43:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MDQwMw==", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545890403", "bodyText": "Can you make this consistent to the version in other ...assessment.service.ts?\nAlso notice that we would like to avoid the use of null on the client side", "author": "krusche", "createdAt": "2020-12-18T14:59:54Z", "path": "src/main/webapp/app/exercises/modeling/assess/modeling-assessment.service.ts", "diffHunk": "@@ -18,12 +18,15 @@ export class ModelingAssessmentService {\n \n     constructor(private http: HttpClient) {}\n \n-    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result> {\n-        let url = `${this.resourceUrl}/modeling-submissions/${submissionId}/assessment`;\n+    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result | null> {", "originalCommit": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MDc4MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545890781", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result | null> {\n          \n          \n            \n                saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<EntityResponseType> {", "author": "krusche", "createdAt": "2020-12-18T15:00:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MDQwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MTk0NA==", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545891944", "bodyText": "we should add a TODO to make this consistent with the other ...assessment.service.ts files.\nFor now we could rename it and reorder the parameters", "author": "krusche", "createdAt": "2020-12-18T15:01:23Z", "path": "src/main/webapp/app/exercises/programming/assess/manual-result/programming-assessment-manual-result.service.ts", "diffHunk": "@@ -21,13 +20,15 @@ export class ProgrammingAssessmentManualResultService {\n      * @param {submit} submit - Indicates whether submit or save is called\n      */\n     save(participationId: number, result: Result, submit = false): Observable<EntityResponseType> {", "originalCommit": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MjU5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545892599", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                save(participationId: number, result: Result, submit = false): Observable<EntityResponseType> {\n          \n          \n            \n                // TODO: make consistent with other *.assessment.service.ts files\n          \n          \n            \n                saveAssessment(result: Result, participationId: number, submit = false): Observable<EntityResponseType> {", "author": "krusche", "createdAt": "2020-12-18T15:01:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MTk0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MzA3NQ==", "url": "https://github.com/ls1intum/Artemis/pull/2559#discussion_r545893075", "bodyText": "Does it really make sense to use Boolean(true).toString() ? Could we not just use 'true' ?", "author": "krusche", "createdAt": "2020-12-18T15:02:37Z", "path": "src/main/webapp/app/exercises/file-upload/assess/file-upload-assessment.service.ts", "diffHunk": "@@ -18,12 +17,13 @@ export class FileUploadAssessmentsService {\n \n     constructor(private http: HttpClient) {}\n \n-    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<Result> {\n-        let url = `${this.resourceUrl}/file-upload-submissions/${submissionId}/feedback`;\n+    saveAssessment(feedbacks: Feedback[], submissionId: number, submit = false): Observable<EntityResponseType> {\n+        const params = new HttpParams();\n         if (submit) {\n-            url = buildUrlWithParams(url, ['submit=true']);\n+            params.set('submit', Boolean(true).toString());", "originalCommit": "dc1a3694f5e0eec258e1ce3e790eb4d64e8f07a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7846877403a7be972d706e1f6d306871ed36283c", "url": "https://github.com/ls1intum/Artemis/commit/7846877403a7be972d706e1f6d306871ed36283c", "message": "refactor a bit", "committedDate": "2020-12-18T15:34:36Z", "type": "commit"}, {"oid": "6cc6702b506cdda7ddf8f85898e8120606f24c09", "url": "https://github.com/ls1intum/Artemis/commit/6cc6702b506cdda7ddf8f85898e8120606f24c09", "message": "change save to saveAssessment in programming-assessment-manual-result.service.ts", "committedDate": "2020-12-18T15:40:26Z", "type": "commit"}, {"oid": "18551ff3cb77953a2e3cfe2aa4bfd283db03369f", "url": "https://github.com/ls1intum/Artemis/commit/18551ff3cb77953a2e3cfe2aa4bfd283db03369f", "message": "fix httpparams", "committedDate": "2020-12-19T09:35:59Z", "type": "commit"}]}