{"pr_number": 1383, "pr_title": "TSK-1486: Deleted unnecessary UnitTests of taskana-core", "pr_createdAt": "2020-12-18T10:21:49Z", "pr_url": "https://github.com/Taskana/taskana/pull/1383", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1ODI4NA==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564458284", "bodyText": "why did you remove this?", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:00:12Z", "path": "lib/taskana-core/src/test/java/acceptance/task/CreateTaskAccTest.java", "diffHunk": "@@ -170,71 +168,6 @@ void testIdempotencyOfTaskCreation() throws Exception {\n     assertThatThrownBy(call).isInstanceOf(TaskAlreadyExistException.class);\n   }\n \n-  @WithAccessId(user = \"user-1-1\")", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1OTM5OQ==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564459399", "bodyText": "please make this a seperate test again.", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:02:29Z", "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -29,29 +28,24 @@\n \n   @WithAccessId(user = \"user-1-1\")\n   @Test\n-  void testGetAttachmentSummariesFromTask() {\n+  void should_ReturnTaskSummaryIncludingAttachmentsIfPresent_When_UsingTaskQuery() {\n     TaskService taskService = taskanaEngine.getTaskService();\n     List<TaskSummary> tasks = taskService.createTaskQuery().classificationKeyIn(\"L110102\").list();\n     assertThat(tasks).hasSize(1);\n \n     List<AttachmentSummary> attachmentSummaries = tasks.get(0).getAttachmentSummaries();\n     assertThat(attachmentSummaries).hasSize(2);\n-  }\n \n-  @WithAccessId(user = \"user-1-2\")\n-  @Test\n-  void testGetNoAttachmentSummaryFromTask() {\n-    TaskService taskService = taskanaEngine.getTaskService();\n-    List<TaskSummary> tasks = taskService.createTaskQuery().list();\n-    assertThat(tasks).hasSize(30);\n+    tasks = taskService.createTaskQuery().idIn(\"TKI:000000000000000000000000000000000066\").list();\n+    assertThat(tasks).hasSize(1);\n \n-    List<AttachmentSummary> attachmentSummaries = tasks.get(0).getAttachmentSummaries();\n+    attachmentSummaries = tasks.get(0).getAttachmentSummaries();\n     assertThat(attachmentSummaries).isEmpty();", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1OTUyNA==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564459524", "bodyText": "please rework this name (after test separation)", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:02:41Z", "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -29,29 +28,24 @@\n \n   @WithAccessId(user = \"user-1-1\")\n   @Test\n-  void testGetAttachmentSummariesFromTask() {\n+  void should_ReturnTaskSummaryIncludingAttachmentsIfPresent_When_UsingTaskQuery() {", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1OTcwNA==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564459704", "bodyText": "why did you delete this?", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:03:02Z", "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -81,31 +75,4 @@ void should_ConfirmIfAttachmentSummariesAreCorrect_When_UsingTaskQueryAndGetTask\n         .usingElementComparator(REFERENCE_COMPARATOR)\n         .doesNotContainAnyElementsOf(originalAttachments); // but not same reference\n   }\n-\n-  @WithAccessId(user = \"user-1-1\")\n-  @Test\n-  void should_ConfirmIfAttachmentSummariesAreCorrect() throws Exception {", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ2MDU2Mg==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564460562", "bodyText": "taskService.createTaskQuery().idIn(\"TKI:00...00\").list()", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:04:43Z", "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -81,31 +75,4 @@ void should_ConfirmIfAttachmentSummariesAreCorrect_When_UsingTaskQueryAndGetTask\n         .usingElementComparator(REFERENCE_COMPARATOR)\n         .doesNotContainAnyElementsOf(originalAttachments); // but not same reference\n   }\n-\n-  @WithAccessId(user = \"user-1-1\")\n-  @Test\n-  void should_ConfirmIfAttachmentSummariesAreCorrect() throws Exception {\n-    TaskService taskService = taskanaEngine.getTaskService();\n-    // find Task with ID TKI:00...00\n-    List<TaskSummary> tasks =\n-        taskService\n-            .createTaskQuery()\n-            .classificationKeyIn(\"T2000\")\n-            .customAttributeIn(TaskCustomField.CUSTOM_1, \"custom1\")\n-            .list();\n-    assertThat(tasks).hasSize(1);", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ2MTAyMw==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564461023", "bodyText": "Why did you remove this?", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:05:40Z", "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTasksAccTest.java", "diffHunk": "@@ -333,47 +327,6 @@ void testQueryForCustom7WithException() throws Exception {\n     assertThat(result2).hasSize(2);\n   }\n \n-  @WithAccessId(user = \"admin\")\n-  @Test\n-  void testQueryTaskByCustomAttributes() throws Exception {", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ2MjUyMA==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564462520", "bodyText": "Please move this test to taskana-common-data", "author": "mustaphazorgati", "createdAt": "2021-01-26T12:08:34Z", "path": "lib/taskana-core/src/test/java/pro/taskana/sampledata/SampleDataGeneratorTest.java", "diffHunk": "@@ -1,26 +0,0 @@\n-package pro.taskana.sampledata;", "originalCommit": "65752564edafc715a52df64846a986d5d498bd8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzUzNDgyNg==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583534826", "bodyText": "why is this public?", "author": "mustaphazorgati", "createdAt": "2021-02-26T10:23:16Z", "path": "lib/taskana-core/src/main/java/pro/taskana/workbasket/internal/WorkbasketServiceImpl.java", "diffHunk": "@@ -1044,8 +1044,8 @@ public void deleteWorkbasketAccessItemsForAccessId(String accessId)\n    * @param workbasketImplToUpdate the workbasket to update\n    * @throws ConcurrencyException if the workbasket has been modified by some other process.\n    */\n-  void checkModifiedHasNotChanged(Workbasket oldWorkbasket, WorkbasketImpl workbasketImplToUpdate)\n-      throws ConcurrencyException {\n+  public void checkModifiedHasNotChanged(\n+      Workbasket oldWorkbasket, WorkbasketImpl workbasketImplToUpdate) throws ConcurrencyException {", "originalCommit": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzUzODczNg==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583538736", "bodyText": "This test is important.", "author": "mustaphazorgati", "createdAt": "2021-02-26T10:29:30Z", "path": "lib/taskana-core/src/test/java/pro/taskana/classification/internal/models/ClassificationModelsCloneTest.java", "diffHunk": "@@ -1,81 +0,0 @@\n-package pro.taskana.classification.internal.models;", "originalCommit": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzU0MDE0MA==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583540140", "bodyText": "This is important.", "author": "mustaphazorgati", "createdAt": "2021-02-26T10:31:39Z", "path": "lib/taskana-core/src/test/java/pro/taskana/monitor/internal/ReportTest.java", "diffHunk": "@@ -1,308 +0,0 @@\n-package pro.taskana.monitor.internal;\n-\n-import static org.assertj.core.api.Assertions.assertThat;\n-\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.stream.Collectors;\n-import java.util.stream.IntStream;\n-import org.junit.jupiter.api.BeforeEach;\n-import org.junit.jupiter.api.Test;\n-\n-import pro.taskana.monitor.api.reports.Report;\n-import pro.taskana.monitor.api.reports.header.TimeIntervalColumnHeader;\n-import pro.taskana.monitor.api.reports.item.MonitorQueryItem;\n-import pro.taskana.monitor.api.reports.item.QueryItemPreprocessor;\n-import pro.taskana.monitor.api.reports.row.FoldableRow;\n-import pro.taskana.monitor.api.reports.row.Row;\n-import pro.taskana.monitor.api.reports.row.SingleRow;\n-\n-/** Tests for {@link Report}. */\n-class ReportTest {", "originalCommit": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzU0MTY1OA==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583541658", "bodyText": "This is important", "author": "mustaphazorgati", "createdAt": "2021-02-26T10:34:17Z", "path": "lib/taskana-core/src/test/java/pro/taskana/monitor/internal/WorkingDaysToDaysReportConverterTest.java", "diffHunk": "@@ -1,334 +0,0 @@\n-package pro.taskana.monitor.internal;\n-\n-import static org.assertj.core.api.Assertions.assertThat;\n-\n-import java.time.Instant;\n-import java.util.ArrayList;\n-import java.util.List;\n-import org.junit.jupiter.api.Test;\n-\n-import pro.taskana.common.api.CustomHoliday;\n-import pro.taskana.common.api.WorkingDaysToDaysConverter;\n-import pro.taskana.monitor.api.reports.header.TimeIntervalColumnHeader;\n-import pro.taskana.monitor.internal.preprocessor.WorkingDaysToDaysReportConverter;\n-\n-/** Test for the DaysToWorkingDaysReportConverter. */\n-class WorkingDaysToDaysReportConverterTest {", "originalCommit": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzU0MjgwNw==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583542807", "bodyText": "this is important.", "author": "mustaphazorgati", "createdAt": "2021-02-26T10:36:20Z", "path": "lib/taskana-core/src/test/java/pro/taskana/task/internal/TaskAttachmentTest.java", "diffHunk": "@@ -1,137 +0,0 @@\n-package pro.taskana.task.internal;\n-\n-import static org.assertj.core.api.Assertions.assertThat;\n-\n-import java.time.Instant;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import org.junit.jupiter.api.Test;\n-\n-import pro.taskana.classification.internal.models.ClassificationImpl;\n-import pro.taskana.task.api.models.Attachment;\n-import pro.taskana.task.api.models.AttachmentSummary;\n-import pro.taskana.task.api.models.ObjectReference;\n-import pro.taskana.task.internal.models.TaskImpl;\n-\n-/**\n- * Unit Test for methods needed fot attachment at TaskImpl.<br>\n- * This test should test every interaction with Attachments, which means adding, removing, nulling\n- * them.\n- */\n-class TaskAttachmentTest {", "originalCommit": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bcc88b72202d585f95254239179ef8ea5a94f6bf", "url": "https://github.com/Taskana/taskana/commit/bcc88b72202d585f95254239179ef8ea5a94f6bf", "message": "TSK-1486: Deleted unnecessary UnitTests of taskana-core", "committedDate": "2021-02-26T10:53:19Z", "type": "commit"}, {"oid": "309ba636de12320eee7f9d10afd4f31861ae62f1", "url": "https://github.com/Taskana/taskana/commit/309ba636de12320eee7f9d10afd4f31861ae62f1", "message": "TSK-1486: Improvements after review", "committedDate": "2021-02-26T10:53:48Z", "type": "commit"}, {"oid": "3304e4d9d7974c340ffec885ca9074b1da8dfb97", "url": "https://github.com/Taskana/taskana/commit/3304e4d9d7974c340ffec885ca9074b1da8dfb97", "message": "TSK-1486: fixed checkstyle issues", "committedDate": "2021-02-26T11:09:17Z", "type": "commit"}, {"oid": "ff50525878a5b3a9a797b343a514a32f0a65e4c1", "url": "https://github.com/Taskana/taskana/commit/ff50525878a5b3a9a797b343a514a32f0a65e4c1", "message": "TSK-1486: restored tests which were deleted by previous commits", "committedDate": "2021-02-26T11:09:51Z", "type": "commit"}, {"oid": "d82e7fbffff53b8fdab771074a85c83c6de42386", "url": "https://github.com/Taskana/taskana/commit/d82e7fbffff53b8fdab771074a85c83c6de42386", "message": "TSK-1486: moved helper package into acceptance package", "committedDate": "2021-02-26T11:13:07Z", "type": "commit"}, {"oid": "8ba93e8f3ca034fd35a29d6aa1e0aa705b43c208", "url": "https://github.com/Taskana/taskana/commit/8ba93e8f3ca034fd35a29d6aa1e0aa705b43c208", "message": "TSK-1486: fixed some code smells", "committedDate": "2021-02-26T16:17:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzczOTYyNQ==", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583739625", "bodyText": "Please make them protected again.", "author": "mustaphazorgati", "createdAt": "2021-02-26T15:57:27Z", "path": "lib/taskana-core/src/test/java/acceptance/AbstractAccTest.java", "diffHunk": "@@ -41,11 +40,11 @@\n   protected static WorkingDaysToDaysConverter converter;\n \n   @BeforeAll\n-  protected static void setupTest() throws Exception {\n+  public static void setupTest() throws Exception {", "originalCommit": "f8a1003d5754033f1608a66a92653e7d545fb556", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}