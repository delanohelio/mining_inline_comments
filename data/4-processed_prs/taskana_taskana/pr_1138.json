{"pr_number": 1138, "pr_title": "TSK-1221: Added copy functionality to classifications", "pr_createdAt": "2020-06-22T08:21:04Z", "pr_url": "https://github.com/Taskana/taskana/pull/1138", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng==", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443503576", "bodyText": "should this be done during save or creation?\nPersonally I think that onCopy() should remove the Id.", "author": "mustaphazorgati", "createdAt": "2020-06-22T11:51:35Z", "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -157,7 +165,8 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n \n   private async onSave() {\n     this.requestInProgressService.setRequestInProgress(true);\n-    if (this.action === ACTION.CREATE) {\n+    if (this.action) {\n+      this.classification.classificationId = null; // in case the id has been set, but a new classification should be created", "originalCommit": "8a6bfe7d3b6450210b94f226a20b656d82d68f38", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUyMzc5OQ==", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443523799", "bodyText": "This way the reset button can use the id to reset the copy to the original and in my opinion it does not really matter when to id gets removed. It would be cleaner, but i liked the possibility to reset.", "author": "Tristan2357", "createdAt": "2020-06-22T12:31:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE5MzkyMQ==", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r444193921", "bodyText": "Well.. the reset reset's the ID - I don't think this is desired..", "author": "mustaphazorgati", "createdAt": "2020-06-23T12:44:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxMTU1OA==", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443511558", "bodyText": "shouldn't we make a copy first? Are we otherwise overriding the values from the classification we copied from? Can you verify this please?", "author": "mustaphazorgati", "createdAt": "2020-06-22T12:08:01Z", "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -131,6 +134,11 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n     }\n   }\n \n+  onCopy() {\n+    this.store.dispatch(new SetActiveAction(ACTION.COPY));\n+    this.classification.key = '';", "originalCommit": "8a6bfe7d3b6450210b94f226a20b656d82d68f38", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUyNDcyMg==", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443524722", "bodyText": "Because we use the store we always just work with a local copy, and when switching to the old classification we retrive the newest version of it, which resets unsaved changes. If saved the classification does not overwrite the old one", "author": "Tristan2357", "createdAt": "2020-06-22T12:33:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxMTU1OA=="}], "type": "inlineReview"}, {"oid": "c03c9ec14828fa6a61ad097ebdd7ad5957ce701e", "url": "https://github.com/Taskana/taskana/commit/c03c9ec14828fa6a61ad097ebdd7ad5957ce701e", "message": "TSK-1221: Added copy functionality to classifications", "committedDate": "2020-06-23T13:40:27Z", "type": "commit"}, {"oid": "c97759144f35ee7fbda48289683cf3be07c0b9a4", "url": "https://github.com/Taskana/taskana/commit/c97759144f35ee7fbda48289683cf3be07c0b9a4", "message": "TSK-1221: Added test for copy\nTSK-1221: Added copy functionality to classifications", "committedDate": "2020-06-23T13:40:48Z", "type": "commit"}]}