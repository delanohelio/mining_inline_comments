{"pr_number": 935, "pr_title": "TSK-1103 Changed vulnerable logging messages", "pr_createdAt": "2020-02-17T15:33:29Z", "pr_url": "https://github.com/Taskana/taskana/pull/935", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1Mjc4NA==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r380552784", "bodyText": "make the method generic, so that you don't have to call toString() from the outside?", "author": "mustaphazorgati", "createdAt": "2020-02-18T09:32:14Z", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/LogSanitizer.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package pro.taskana.common.internal.util;\n+\n+public class LogSanitizer {\n+\n+  private LogSanitizer() {\n+    throw new IllegalStateException(\"Utility class\");\n+  }\n+\n+  // Remove characters which break the log file pattern. Protects against injection attacks.\n+  public static String sanitizeLoggingMessage(String loggingMessage) {", "originalCommit": "017771b1252c041d4e8c0048ca1163fe8095107a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1Mjk0OA==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r380552948", "bodyText": "Make proper javadoc?", "author": "mustaphazorgati", "createdAt": "2020-02-18T09:32:33Z", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/LogSanitizer.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package pro.taskana.common.internal.util;\n+\n+public class LogSanitizer {\n+\n+  private LogSanitizer() {\n+    throw new IllegalStateException(\"Utility class\");\n+  }\n+\n+  // Remove characters which break the log file pattern. Protects against injection attacks.", "originalCommit": "017771b1252c041d4e8c0048ca1163fe8095107a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1MzQ2OQ==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r380553469", "bodyText": "Is this used in taskana-core?\n@gitgoodjhe should we move this class to taskana-rest-spring?", "author": "mustaphazorgati", "createdAt": "2020-02-18T09:33:29Z", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/LogSanitizer.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package pro.taskana.common.internal.util;\n+\n+public class LogSanitizer {", "originalCommit": "017771b1252c041d4e8c0048ca1163fe8095107a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1NDgwMA==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r380554800", "bodyText": "Good question, not yet used in core, but might be in the future?", "author": "gitgoodjhe", "createdAt": "2020-02-18T09:35:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1MzQ2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU2NjI5Mw==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r380566293", "bodyText": "User provided data, such as URL parameters, POST data payloads or cookies, should always be considered untrusted and tainted. Applications logging tainted data could enable an attacker to inject characters that would break the log file pattern. This could be used to block monitors and SIEM (Security Information and Event Management) systems from detecting other malicious events.\nThis problem could be mitigated by sanitizing the user provided data before logging it.\n\nA dedicated rest issue. Will never happen in core.\nI am for moving this util class to taskana-rest-spring while keeping the same package structure", "author": "mustaphazorgati", "createdAt": "2020-02-18T09:55:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1MzQ2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU2ODM2Mg==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r380568362", "bodyText": "alright", "author": "gitgoodjhe", "createdAt": "2020-02-18T09:58:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDU1MzQ2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTE2NDA2NA==", "url": "https://github.com/Taskana/taskana/pull/935#discussion_r381164064", "bodyText": "class name is already LogSanitizer\nwhat about we rename this method to stripLineBreakingChars(Object loggingMessage)", "author": "benjamineckstein", "createdAt": "2020-02-19T09:19:11Z", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/LogSanitizer.java", "diffHunk": "@@ -0,0 +1,18 @@\n+package pro.taskana.common.internal.util;\n+\n+public class LogSanitizer {\n+\n+  private LogSanitizer() {\n+    throw new IllegalStateException(\"Utility class\");\n+  }\n+\n+  /**\n+   * Removes characters which break the log file pattern. Protects against injection attacks.\n+   *\n+   * @param loggingMessage String which should be sanitized\n+   * @return sanitized logging message\n+   */\n+  public static String sanitizeLoggingMessage(Object loggingMessage) {", "originalCommit": "1175d908ed6d0b8e6f8b90540ece5c2ac998333b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "55433548e8bf3742fad4449f18db7d0d322c2ba9", "url": "https://github.com/Taskana/taskana/commit/55433548e8bf3742fad4449f18db7d0d322c2ba9", "message": "TSK-1103 Changed vulnerable logging messages\n\n\n\nTSK-1103 Make method sanitizeLoggingMessage generic\n\nTSK-1103 Renamed method", "committedDate": "2020-02-25T10:00:20Z", "type": "commit"}]}