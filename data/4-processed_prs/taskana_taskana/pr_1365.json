{"pr_number": 1365, "pr_title": "TSK-1412: Distribution targets MD", "pr_createdAt": "2020-12-08T10:22:57Z", "pr_url": "https://github.com/Taskana/taskana/pull/1365", "timeline": [{"oid": "037775edfe1cb564540166be119b913a7bac40d6", "url": "https://github.com/Taskana/taskana/commit/037775edfe1cb564540166be119b913a7bac40d6", "message": "TSK-1412: Refactor workbasket dual list to workbasket distribution targets list", "committedDate": "2020-10-27T09:37:33Z", "type": "commit"}, {"oid": "740e7f9a54c73ab0f5dfee590be3614e2983aba0", "url": "https://github.com/Taskana/taskana/commit/740e7f9a54c73ab0f5dfee590be3614e2983aba0", "message": "TSK-1412: Refactor workbasket dual list to workbasket distribution targets list", "committedDate": "2020-10-28T10:32:04Z", "type": "commit"}, {"oid": "ef072a5057823846178eea18207ed884700161dd", "url": "https://github.com/Taskana/taskana/commit/ef072a5057823846178eea18207ed884700161dd", "message": "Merge branch 'TSK-1412-distribution-targets-md' of https://github.com/cnguyen-de/taskana into TSK-1412-distribution-targets-md", "committedDate": "2020-10-28T10:33:08Z", "type": "commit"}, {"oid": "3d218f51c86e87ef9408b8b87a09fd68bf80e676", "url": "https://github.com/Taskana/taskana/commit/3d218f51c86e87ef9408b8b87a09fd68bf80e676", "message": "TSK-1412: rework css layout to be more dynamic and resilient", "committedDate": "2020-11-04T09:31:49Z", "type": "commit"}, {"oid": "0be86437f4307b586e896e1445321f050531edfb", "url": "https://github.com/Taskana/taskana/commit/0be86437f4307b586e896e1445321f050531edfb", "message": "TSK-1412: new list, new dialog, new action bar", "committedDate": "2020-11-05T13:03:56Z", "type": "commit"}, {"oid": "b86120281a80f4cdcfa43479fd4f9d920f2ee78c", "url": "https://github.com/Taskana/taskana/commit/b86120281a80f4cdcfa43479fd4f9d920f2ee78c", "message": "TSK-1412: Refactor workbasket dual list to workbasket distribution targets list", "committedDate": "2020-11-16T12:07:18Z", "type": "commit"}, {"oid": "8b8031a4247f5cff2463f98e0200b33dd8f8d159", "url": "https://github.com/Taskana/taskana/commit/8b8031a4247f5cff2463f98e0200b33dd8f8d159", "message": "TSK-1412: rework css layout to be more dynamic and resilient", "committedDate": "2020-11-16T12:07:19Z", "type": "commit"}, {"oid": "3bcaf2e44b7ada0d7fed6c2d2077d0d9073b8407", "url": "https://github.com/Taskana/taskana/commit/3bcaf2e44b7ada0d7fed6c2d2077d0d9073b8407", "message": "TSK-1412: new list, new dialog, new action bar", "committedDate": "2020-11-16T12:07:19Z", "type": "commit"}, {"oid": "999a80466d1a9103a88888302c35a4d05c158d31", "url": "https://github.com/Taskana/taskana/commit/999a80466d1a9103a88888302c35a4d05c158d31", "message": "TSK-1412: update new workbasket distribution target list to load data internally", "committedDate": "2020-11-16T12:11:02Z", "type": "commit"}, {"oid": "5d90167ea43a5622bccb4ec0a3c7459757c06742", "url": "https://github.com/Taskana/taskana/commit/5d90167ea43a5622bccb4ec0a3c7459757c06742", "message": "TSK-1412: merge", "committedDate": "2020-11-16T12:19:52Z", "type": "commit"}, {"oid": "c5039c1521548c747e366ac01d687be715c32eea", "url": "https://github.com/Taskana/taskana/commit/c5039c1521548c747e366ac01d687be715c32eea", "message": "TSK-1412: update distribution targets", "committedDate": "2020-11-16T13:10:34Z", "type": "commit"}, {"oid": "db8a2795ae7feff5baedd92dd3c30f8ebfdd992a", "url": "https://github.com/Taskana/taskana/commit/db8a2795ae7feff5baedd92dd3c30f8ebfdd992a", "message": "TSK-1421: enable multiple selection", "committedDate": "2020-11-16T20:29:06Z", "type": "commit"}, {"oid": "528b957d50e08e0f7a7f00f530ba46fe458d8dbc", "url": "https://github.com/Taskana/taskana/commit/528b957d50e08e0f7a7f00f530ba46fe458d8dbc", "message": "TSK-1412: Merge with taskana-md", "committedDate": "2020-11-16T20:32:33Z", "type": "commit"}, {"oid": "2c0dfcfd4f5b954c5588e60c2560ac733428e56f", "url": "https://github.com/Taskana/taskana/commit/2c0dfcfd4f5b954c5588e60c2560ac733428e56f", "message": "TSK-1412: Updated angular theme to match with taskana", "committedDate": "2020-11-16T21:18:21Z", "type": "commit"}, {"oid": "b5a6290dba1d0afa94703d76e3508e06d46e16de", "url": "https://github.com/Taskana/taskana/commit/b5a6290dba1d0afa94703d76e3508e06d46e16de", "message": "TSK-1412: merge from taskana-md", "committedDate": "2020-11-16T21:19:38Z", "type": "commit"}, {"oid": "3a41e8644711e0841924179a51d05fe1a82af907", "url": "https://github.com/Taskana/taskana/commit/3a41e8644711e0841924179a51d05fe1a82af907", "message": "TSK-1412: merge with TSK-1460", "committedDate": "2020-11-16T21:24:41Z", "type": "commit"}, {"oid": "cf485887e05f06f4cdba99e25050bc9208163b58", "url": "https://github.com/Taskana/taskana/commit/cf485887e05f06f4cdba99e25050bc9208163b58", "message": "TSK-1412: merge with TSK-1470", "committedDate": "2020-11-17T09:53:26Z", "type": "commit"}, {"oid": "6f38d00352656948bf0d85eae926629986b46225", "url": "https://github.com/Taskana/taskana/commit/6f38d00352656948bf0d85eae926629986b46225", "message": "TSK-1412: quick bug fixes", "committedDate": "2020-11-18T08:57:26Z", "type": "commit"}, {"oid": "5b2be5cc6006c036a614643f8a37a919630684e2", "url": "https://github.com/Taskana/taskana/commit/5b2be5cc6006c036a614643f8a37a919630684e2", "message": "TSK-1412: Rework how workbasket distribution targets list behaves", "committedDate": "2020-11-25T15:33:15Z", "type": "commit"}, {"oid": "04f1da8c4d1a353710bfc2cbe2721012e5d750db", "url": "https://github.com/Taskana/taskana/commit/04f1da8c4d1a353710bfc2cbe2721012e5d750db", "message": "TSK-1412: Update workbasket distribution target list to new design", "committedDate": "2020-12-01T13:31:07Z", "type": "commit"}, {"oid": "340015d212b977efeceb03d17221da23853973a0", "url": "https://github.com/Taskana/taskana/commit/340015d212b977efeceb03d17221da23853973a0", "message": "TSK-1412: fixed filter function in distribution targets", "committedDate": "2020-12-01T14:54:25Z", "type": "commit"}, {"oid": "71190ee3adf21b7566df52d94f87668852c68dde", "url": "https://github.com/Taskana/taskana/commit/71190ee3adf21b7566df52d94f87668852c68dde", "message": "TSK-1412: remove unused component, rename correct CSS names", "committedDate": "2020-12-01T16:40:48Z", "type": "commit"}, {"oid": "c92563d39f0d4d1ef544725c06bde7f2123f84c9", "url": "https://github.com/Taskana/taskana/commit/c92563d39f0d4d1ef544725c06bde7f2123f84c9", "message": "TSK-1412: clean up code in workbasket distribution targets", "committedDate": "2020-12-03T13:30:40Z", "type": "commit"}, {"oid": "f1fa3e48300d3f19f10d42ecd3f79aac5e62ba21", "url": "https://github.com/Taskana/taskana/commit/f1fa3e48300d3f19f10d42ecd3f79aac5e62ba21", "message": "TSK-1412: fix bugs, rename variables", "committedDate": "2020-12-03T15:24:42Z", "type": "commit"}, {"oid": "28ba2d37402d1bd35dbe8c7e50156dbe20718d56", "url": "https://github.com/Taskana/taskana/commit/28ba2d37402d1bd35dbe8c7e50156dbe20718d56", "message": "TSK-1412: finalized jest tests", "committedDate": "2020-12-08T09:41:44Z", "type": "commit"}, {"oid": "06aca8f8085446914a0ccf9482562ea4b89793fd", "url": "https://github.com/Taskana/taskana/commit/06aca8f8085446914a0ccf9482562ea4b89793fd", "message": "TSK-1412: merge with taskana-md", "committedDate": "2020-12-08T09:52:34Z", "type": "commit"}, {"oid": "d4916e89fb5dbce964b4bd196ea9f3b6ee9d6b97", "url": "https://github.com/Taskana/taskana/commit/d4916e89fb5dbce964b4bd196ea9f3b6ee9d6b97", "message": "TSK-1412: fix all other jest tests", "committedDate": "2020-12-08T10:22:21Z", "type": "commit"}, {"oid": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "url": "https://github.com/Taskana/taskana/commit/1f747db192f8da58977ec50a59d0caa2d2c3599e", "message": "TSK-1412: disable devmode", "committedDate": "2020-12-08T10:23:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM2NDMyOQ==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538364329", "bodyText": "You could add a mattooltip for the button to improve understandability.", "author": "sofie29", "createdAt": "2020-12-08T13:24:35Z", "path": "web/src/app/administration/components/workbasket-distribution-targets-list/workbasket-distribution-targets-list.component.html", "diffHunk": "@@ -0,0 +1,65 @@\n+<div id=\"dual-list-Left\" class=\"distribution-targets-list\">\n+  <mat-toolbar>\n+    <span class=\"distribution-targets-list__header\">{{header}}</span>\n+\n+    <button mat-flat-button class=\"distribution-targets-list__action-button\" (click)=\"changeToolbarState(!toolbarState)\"\n+    >\n+      <span *ngIf=\"!toolbarState\">\n+        Display filter\n+        <mat-icon class=\"button-icon\">filter_list</mat-icon>\n+      </span>\n+      <span *ngIf=\"toolbarState\">\n+        Hide filter\n+        <mat-icon class=\"button-icon\">keyboard_arrow_up</mat-icon>\n+      </span>\n+    </button>\n+\n+    <span style=\"flex: 1 1 auto\"> </span>\n+\n+    <button mat-flat-button class=\"distribution-targets-list__action-button\" (click)=\"selectAll(allSelected);\">\n+      <mat-icon class=\"button-icon\" *ngIf=\"!allSelected\">check_box</mat-icon>\n+      <mat-icon class=\"button-icon\" *ngIf=\"allSelected\">check_box_outline_blank</mat-icon>", "originalCommit": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM2NzU0Ng==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538367546", "bodyText": "Is there a reason why you use the tooltip instead of matToolTip?", "author": "sofie29", "createdAt": "2020-12-08T13:27:53Z", "path": "web/src/app/administration/components/workbasket-distribution-targets-list/workbasket-distribution-targets-list.component.html", "diffHunk": "@@ -0,0 +1,65 @@\n+<div id=\"dual-list-Left\" class=\"distribution-targets-list\">\n+  <mat-toolbar>\n+    <span class=\"distribution-targets-list__header\">{{header}}</span>\n+\n+    <button mat-flat-button class=\"distribution-targets-list__action-button\" (click)=\"changeToolbarState(!toolbarState)\"\n+    >\n+      <span *ngIf=\"!toolbarState\">\n+        Display filter\n+        <mat-icon class=\"button-icon\">filter_list</mat-icon>\n+      </span>\n+      <span *ngIf=\"toolbarState\">\n+        Hide filter\n+        <mat-icon class=\"button-icon\">keyboard_arrow_up</mat-icon>\n+      </span>\n+    </button>\n+\n+    <span style=\"flex: 1 1 auto\"> </span>\n+\n+    <button mat-flat-button class=\"distribution-targets-list__action-button\" (click)=\"selectAll(allSelected);\">\n+      <mat-icon class=\"button-icon\" *ngIf=\"!allSelected\">check_box</mat-icon>\n+      <mat-icon class=\"button-icon\" *ngIf=\"allSelected\">check_box_outline_blank</mat-icon>\n+    </button>\n+  </mat-toolbar>\n+  <taskana-shared-filter *ngIf=\"toolbarState\" (performFilter)=\"performAvailableFilter($event)\"\n+                         component=\"distribution-target\" (inputComponent)=\"setComponent($event)\"></taskana-shared-filter>\n+\n+  <!-- WORKBASKET LIST -->\n+  <div class=\"distribution-targets-list__list\" infiniteScroll [infiniteScrollDistance]=\"1\" [infiniteScrollThrottle]=\"50\" (scrolled)=\"onScroll()\"\n+       [scrollWindow]=\"false\" *ngIf=\"distributionTargets?.length > 0\">\n+    <mat-selection-list #workbasket [multiple]=\"true\">\n+      <mat-list-option class=\"workbasket-distribution-targets__workbaskets-item\"\n+                       *ngFor=\"let workbasket of distributionTargets | selectWorkbaskets: distributionTargetsSelected: side\"\n+                       [selected]=\"workbasket.selected\" type=\"text\"\n+                       (click)=\"workbasket.selected = !workbasket.selected\"\n+                       [value]=\"workbasket.workbasketId\">\n+        <div class=\"distribution-targets-list__item-wrapper\">\n+\n+          <div class=\"distribution-targets-list__item-icon\">\n+            <taskana-administration-icon-type [type]=\"workbasket.type\" size=\"large\" tooltip=\"true\"></taskana-administration-icon-type>\n+          </div>\n+\n+          <div class=\"distribution-targets-list__item-info\">\n+            <p>\n+              <b>{{workbasket.name}}</b>, <i>{{workbasket.key}} </i>\n+            </p>\n+            <p>{{workbasket.description}} &nbsp;</p>\n+            <p>{{workbasket.owner}} &nbsp;</p>\n+          </div>\n+\n+          <div class=\"workbaskets-item__marked\" *ngIf=\"workbasket.markedForDeletion\">\n+            <span title=\"Marked for deletion\" data-toggle=\"tooltip\"", "originalCommit": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM3Mjg1Mg==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538372852", "bodyText": "There are many unused imports \ud83d\ude42", "author": "sofie29", "createdAt": "2020-12-08T13:32:56Z", "path": "web/src/app/administration/components/workbasket-distribution-targets-list/workbasket-distribution-targets-list.component.ts", "diffHunk": "@@ -0,0 +1,81 @@\n+import {\n+  Component,\n+  OnInit,\n+  Input,\n+  Output,\n+  EventEmitter,\n+  AfterContentChecked,\n+  ChangeDetectorRef,\n+  ViewChild,\n+  OnChanges\n+} from '@angular/core';\n+import { WorkbasketSummary } from 'app/shared/models/workbasket-summary';\n+import { Filter } from 'app/shared/models/filter';\n+import { expandDown } from 'app/shared/animations/expand.animation';\n+import { takeUntil } from 'rxjs/operators';\n+import { WorkbasketSummaryRepresentation } from '../../../shared/models/workbasket-summary-representation';\n+import { TaskanaQueryParameters } from '../../../shared/util/query-parameters';\n+import { WorkbasketService } from '../../../shared/services/workbasket/workbasket.service';\n+import { Subject } from 'rxjs';", "originalCommit": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM5NzE0MA==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538397140", "bodyText": "I think we wanted to use ... [] instead of Array<...> when refactoring code or writing new code. But it is not in the guidelines and maybe only Mustapha and me agreed on this rule before you joined the team. What do you think about this rule?", "author": "sofie29", "createdAt": "2020-12-08T13:54:51Z", "path": "web/src/app/shared/pipes/select-workbaskets.pipe.ts", "diffHunk": "@@ -1,14 +1,14 @@\n import { Pipe, PipeTransform } from '@angular/core';\n import { TaskanaQueryParameters } from 'app/shared/util/query-parameters';\n+import { WorkbasketSummary } from '../models/workbasket-summary';\n \n @Pipe({ name: 'selectWorkbaskets' })\n export class SelectWorkBasketPipe implements PipeTransform {\n-  transform(originArray: any, selectionArray: any, arg1: any): Object[] {\n+  transform(originArray: any, selectionArray: any, arg1: any): Array<WorkbasketSummary> {", "originalCommit": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ1NTUwMQ==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538455501", "bodyText": "yes i forgot, will be changed", "author": "cnguyen-de", "createdAt": "2020-12-08T14:49:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM5NzE0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQwMDUxNw==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538400517", "bodyText": "unused import", "author": "sofie29", "createdAt": "2020-12-08T13:57:30Z", "path": "web/src/app/shared/store/workbasket-store/workbasket.state.ts", "diffHunk": "@@ -1,5 +1,5 @@\n import { Action, NgxsAfterBootstrap, State, StateContext } from '@ngxs/store';\n-import { take, tap } from 'rxjs/operators';\n+import { take, takeUntil, tap } from 'rxjs/operators';", "originalCommit": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQwMDg2MA==", "url": "https://github.com/Taskana/taskana/pull/1365#discussion_r538400860", "bodyText": "unused imports", "author": "sofie29", "createdAt": "2020-12-08T13:57:47Z", "path": "web/src/app/shared/store/workbasket-store/workbasket.state.ts", "diffHunk": "@@ -32,6 +33,9 @@ import { WorkbasketSummary } from '../../models/workbasket-summary';\n import { WorkbasketComponent } from '../../../administration/models/workbasket-component';\n import { ButtonAction } from '../../../administration/models/button-action';\n import { ActivatedRoute } from '@angular/router';\n+import { TaskanaQueryParameters } from '../../util/query-parameters';\n+import { append } from '@ngxs/store/operators';", "originalCommit": "1f747db192f8da58977ec50a59d0caa2d2c3599e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3e0570b86755a48515d86055d79476933bd74ba2", "url": "https://github.com/Taskana/taskana/commit/3e0570b86755a48515d86055d79476933bd74ba2", "message": "TSK-1412: remove unused imports, add tooltips", "committedDate": "2020-12-08T14:53:04Z", "type": "commit"}]}