{"pr_number": 1149, "pr_title": "TSK-1306: Fixed problem with domain switching in classifications", "pr_createdAt": "2020-06-25T17:22:38Z", "pr_url": "https://github.com/Taskana/taskana/pull/1149", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjAxODY3OA==", "url": "https://github.com/Taskana/taskana/pull/1149#discussion_r446018678", "bodyText": "what's the reason for this change?", "author": "mustaphazorgati", "createdAt": "2020-06-26T07:37:21Z", "path": "web/src/app/shared/services/domain/domain.service.ts", "diffHunk": "@@ -64,9 +64,7 @@ export class DomainService {\n   }\n \n   switchDomain(value: string) {\n-    this.requestInProgressService.setRequestInProgress(true);\n     this.selectDomain(value);\n-    this.router.navigate([this.getNavigationUrl()]);", "originalCommit": "fa32ce1c668b8c4c450e98cee7996e6f57c03dea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjYxNDg2Ng==", "url": "https://github.com/Taskana/taskana/pull/1149#discussion_r446614866", "bodyText": "Switching the domain should not affect the url, therefore the second call is not needed.\nThe selectDomain call is synchronous and should not need a spinner. The actual loading of the classifications or the workbaskets from another domain maybe should show a spinner, but in my opinion, this is not the responsibilitie of the domain service. If we were to start the spinner in this service, it should be understandable where it will stop it. this was not the case, and in most cases, the spinner was not stopped again, which caused the domainSwitching to fail in the first place.", "author": "Tristan2357", "createdAt": "2020-06-28T07:47:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjAxODY3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjYxNjI5Mg==", "url": "https://github.com/Taskana/taskana/pull/1149#discussion_r446616292", "bodyText": "There would be solutions with the call for inProgress still there, would this be prefered? If yes this should be easily possible.\nMaybe i should start the inProgress at the inner calls? Or should i continue the current pattern?", "author": "Tristan2357", "createdAt": "2020-06-28T08:02:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjAxODY3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjYzMTQ0OA==", "url": "https://github.com/Taskana/taskana/pull/1149#discussion_r446631448", "bodyText": "Let's talk about this. Maybe we need to refactor this service in order to get rid of this behaviour.\nCurrently this change leaves code fragments everywhere where domainChangedComplete is used.\nFurthermore we have a behaviour change: previously changing the domain unselected the active classification / workbasket. This is not the case anymore", "author": "mustaphazorgati", "createdAt": "2020-06-28T10:20:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjAxODY3OA=="}], "type": "inlineReview"}, {"oid": "7ada9792a7328e70516cb8d9dde0949a485bf27c", "url": "https://github.com/Taskana/taskana/commit/7ada9792a7328e70516cb8d9dde0949a485bf27c", "message": "TSK-1306: Fixed problem with domain switching in classifications", "committedDate": "2020-06-30T13:18:49Z", "type": "commit"}]}