{"pr_number": 1389, "pr_title": "TSK-1436: fixed breaking REST API change for workbasketAccessItems", "pr_createdAt": "2020-12-21T20:16:35Z", "pr_url": "https://github.com/Taskana/taskana/pull/1389", "timeline": [{"oid": "46815aa7638c7ff9a4669011e006e25d2f0cfc1d", "url": "https://github.com/Taskana/taskana/commit/46815aa7638c7ff9a4669011e006e25d2f0cfc1d", "message": "TSK-1436: fixed breaking REST API change for workbasketAccessItems", "committedDate": "2020-12-21T20:14:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjkxNTExNQ==", "url": "https://github.com/Taskana/taskana/pull/1389#discussion_r546915115", "bodyText": "in a perfect world I would have modified the action. Since we are using formBuilders we cannot create a WorkbasketAccessItemsRepresentation entity in the component. The variables are not typed correctly.", "author": "mustaphazorgati", "createdAt": "2020-12-21T20:29:25Z", "path": "web/src/app/shared/store/workbasket-store/workbasket.state.ts", "diffHunk": "@@ -309,23 +309,25 @@ export class WorkbasketState implements NgxsAfterBootstrap {\n     action: UpdateWorkbasketAccessItems\n   ): Observable<any> {\n     ctx.dispatch(new OnButtonPressed(undefined));\n-    return this.workbasketService.updateWorkBasketAccessItem(action.url, action.workbasketAccessItems).pipe(\n-      take(1),\n-      tap(\n-        (workbasketAccessItems) => {\n-          ctx.patchState({\n-            workbasketAccessItems\n-          });\n-          this.notificationService.showToast(\n-            NOTIFICATION_TYPES.SUCCESS_ALERT_7,\n-            new Map<string, string>([['workbasketKey', ctx.getState().selectedWorkbasket.key]])\n-          );\n-        },\n-        (error) => {\n-          this.notificationService.triggerError(NOTIFICATION_TYPES.SAVE_ERR_2, error);\n-        }\n-      )\n-    );\n+    return this.workbasketService\n+      .updateWorkBasketAccessItem(action.url, { accessItems: action.workbasketAccessItems })", "originalCommit": "46815aa7638c7ff9a4669011e006e25d2f0cfc1d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}