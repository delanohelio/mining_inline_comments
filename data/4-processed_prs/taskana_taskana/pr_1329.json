{"pr_number": 1329, "pr_title": "TSK-1450: Update monitor tabs with MD", "pr_createdAt": "2020-11-04T12:12:30Z", "pr_url": "https://github.com/Taskana/taskana/pull/1329", "timeline": [{"oid": "e3aa6aff9a35ad8e1dfc08995c67651a41d789ee", "url": "https://github.com/Taskana/taskana/commit/e3aa6aff9a35ad8e1dfc08995c67651a41d789ee", "message": "TSK-1450: Update monitor tabs with MD", "committedDate": "2020-11-04T12:09:27Z", "type": "commit"}, {"oid": "cba46f93190e853e0ddcc9c42e271e28fc7e01a0", "url": "https://github.com/Taskana/taskana/commit/cba46f93190e853e0ddcc9c42e271e28fc7e01a0", "message": "TSK-1450: fix CI error", "committedDate": "2020-11-04T13:08:49Z", "type": "commit"}, {"oid": "3708254eb45f4cb9885be6380822095c84fdce39", "url": "https://github.com/Taskana/taskana/commit/3708254eb45f4cb9885be6380822095c84fdce39", "message": "TSK-1450: fix error", "committedDate": "2020-11-10T16:24:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIzNDIzNQ==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521234235", "bodyText": "please set devMode to false.", "author": "sofie29", "createdAt": "2020-11-11T09:41:27Z", "path": "rest/taskana-rest-spring-example-boot/src/main/resources/application.properties", "diffHunk": "@@ -29,7 +29,7 @@ taskana.schemaName=TASKANA\n ########spring.jpa.generate-ddl=true\n ########spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n ####### property that control rest api security deploy use true for no security.\n-devMode=false\n+devMode=true", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0NDEzMg==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521244132", "bodyText": "The @input() isn't used, is it?\nWhen I click on the monitor in the nav-bar, no tab is selected by default. It would be nice when the task tab is selected like before.", "author": "sofie29", "createdAt": "2020-11-11T09:58:20Z", "path": "web/src/app/monitor/components/monitor/monitor.component.ts", "diffHunk": "@@ -1,18 +1,14 @@\n-import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { Component, OnDestroy, OnInit, Input } from '@angular/core';\n \n @Component({\n   selector: 'taskana-monitor',\n   templateUrl: './monitor.component.html',\n   styleUrls: ['./monitor.component.scss']\n })\n export class MonitorComponent implements OnInit, OnDestroy {\n-  tabSelected = 'tasks';\n+  @Input() selectedTab = '';", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0NTUxNg==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521245516", "bodyText": "Please delete methods which are not used.", "author": "sofie29", "createdAt": "2020-11-11T10:00:38Z", "path": "web/src/app/monitor/components/monitor/monitor.component.ts", "diffHunk": "@@ -1,18 +1,14 @@\n-import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { Component, OnDestroy, OnInit, Input } from '@angular/core';\n \n @Component({\n   selector: 'taskana-monitor',\n   templateUrl: './monitor.component.html',\n   styleUrls: ['./monitor.component.scss']\n })\n export class MonitorComponent implements OnInit, OnDestroy {\n-  tabSelected = 'tasks';\n+  @Input() selectedTab = '';\n \n   ngOnInit(): void {}\n \n   ngOnDestroy(): void {}", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0NzYxMg==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521247612", "bodyText": "Since both selectedTab and 'tasks' are strings, '==' could be replaced by '==='.", "author": "sofie29", "createdAt": "2020-11-11T10:04:18Z", "path": "web/src/app/monitor/components/monitor/monitor.component.html", "diffHunk": "@@ -1,37 +1,13 @@\n-<div>\n-    <ul class=\"nav nav-tabs\" role=\"tablist\">\n-        <li>\n-            <a style=\"display: none\"></a>\n-        </li>\n-        <li (click)=\"selectTab('tasks')\" [ngClass]=\"{'active':tabSelected === 'tasks'}\" class=\"active\"\n-            role=\"presentation\">\n-            <a aria-controls=\"Tasks\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#tasks-tab\" role=\"tab\">Tasks</a>\n-        </li>\n-        <li (click)=\"selectTab('workbaskets')\" [ngClass]=\"{'active':tabSelected === 'workbaskets'}\">\n-            <a aria-controls=\"Workbaskets\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#workbaskets-tab\" role=\"tab\">Workbaskets</a>\n-        </li>\n-        <li (click)=\"selectTab('classifications')\" [ngClass]=\"{'active':tabSelected === 'classifications'}\">\n-            <a aria-controls=\"Classifications\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#classifications-tab\"\n-               role=\"tab\">Classifications</a>\n-        </li>\n-        <li (click)=\"selectTab('timestamp')\" [ngClass]=\"{'active':tabSelected === 'timestamp'}\">\n-            <a aria-controls=\"Timestamp\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#timestamp-tab\"\n-               role=\"tab\">Timestamp</a>\n-        </li>\n-\n-    </ul>\n-    <div class=\"tab-content\">\n-        <div class=\"tab-pane active\" id=\"tasks-tab\" role=\"tabpanel\">\n-            <taskana-monitor-task-report></taskana-monitor-task-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"workbaskets-tab\" role=\"tabpanel\">\n-            <taskana-monitor-workbasket-report></taskana-monitor-workbasket-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"classifications-tab\" role=\"tabpanel\">\n-            <taskana-monitor-classification-report></taskana-monitor-classification-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"timestamp-tab\" role=\"tabpanel\">\n-            <taskana-monitor-timestamp-report></taskana-monitor-timestamp-report>\n-        </div>\n-    </div>\n-</div>\n+<nav mat-tab-nav-bar class=\"nav-bar\">\n+    <a mat-tab-link routerLink=\"/taskana/monitor/tasks\" [active]=\"selectedTab == 'tasks'\"", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0Nzc1OQ==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521247759", "bodyText": "see above", "author": "sofie29", "createdAt": "2020-11-11T10:04:32Z", "path": "web/src/app/monitor/components/monitor/monitor.component.html", "diffHunk": "@@ -1,37 +1,13 @@\n-<div>\n-    <ul class=\"nav nav-tabs\" role=\"tablist\">\n-        <li>\n-            <a style=\"display: none\"></a>\n-        </li>\n-        <li (click)=\"selectTab('tasks')\" [ngClass]=\"{'active':tabSelected === 'tasks'}\" class=\"active\"\n-            role=\"presentation\">\n-            <a aria-controls=\"Tasks\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#tasks-tab\" role=\"tab\">Tasks</a>\n-        </li>\n-        <li (click)=\"selectTab('workbaskets')\" [ngClass]=\"{'active':tabSelected === 'workbaskets'}\">\n-            <a aria-controls=\"Workbaskets\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#workbaskets-tab\" role=\"tab\">Workbaskets</a>\n-        </li>\n-        <li (click)=\"selectTab('classifications')\" [ngClass]=\"{'active':tabSelected === 'classifications'}\">\n-            <a aria-controls=\"Classifications\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#classifications-tab\"\n-               role=\"tab\">Classifications</a>\n-        </li>\n-        <li (click)=\"selectTab('timestamp')\" [ngClass]=\"{'active':tabSelected === 'timestamp'}\">\n-            <a aria-controls=\"Timestamp\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#timestamp-tab\"\n-               role=\"tab\">Timestamp</a>\n-        </li>\n-\n-    </ul>\n-    <div class=\"tab-content\">\n-        <div class=\"tab-pane active\" id=\"tasks-tab\" role=\"tabpanel\">\n-            <taskana-monitor-task-report></taskana-monitor-task-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"workbaskets-tab\" role=\"tabpanel\">\n-            <taskana-monitor-workbasket-report></taskana-monitor-workbasket-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"classifications-tab\" role=\"tabpanel\">\n-            <taskana-monitor-classification-report></taskana-monitor-classification-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"timestamp-tab\" role=\"tabpanel\">\n-            <taskana-monitor-timestamp-report></taskana-monitor-timestamp-report>\n-        </div>\n-    </div>\n-</div>\n+<nav mat-tab-nav-bar class=\"nav-bar\">\n+    <a mat-tab-link routerLink=\"/taskana/monitor/tasks\" [active]=\"selectedTab == 'tasks'\"\n+        (click)=\"selectedTab = 'tasks'\">Tasks</a>\n+    <a mat-tab-link routerLink=\"/taskana/monitor/workbaskets\" [active]=\"selectedTab == 'workbaskets'\"", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0OTk0Mw==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521249943", "bodyText": "please modify this to 'should create component'", "author": "sofie29", "createdAt": "2020-11-11T10:08:08Z", "path": "web/src/app/monitor/components/monitor/monitor.component.spec.ts", "diffHunk": "@@ -0,0 +1,32 @@\n+import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n+import { DebugElement } from '@angular/core';\n+import { MonitorComponent } from './monitor.component';\n+import { MatTabsModule } from '@angular/material/tabs';\n+import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n+import { HttpClientTestingModule } from '@angular/common/http/testing';\n+import { RouterModule } from '@angular/router';\n+import { RouterTestingModule } from '@angular/router/testing';\n+\n+describe('MonitorComponent', () => {\n+  let component: MonitorComponent;\n+  let fixture: ComponentFixture<MonitorComponent>;\n+  let debugElement: DebugElement;\n+\n+  beforeEach(async(() => {\n+    TestBed.configureTestingModule({\n+      declarations: [MonitorComponent],\n+      imports: [MatTabsModule, RouterModule, RouterTestingModule, HttpClientTestingModule, BrowserAnimationsModule]\n+    }).compileComponents();\n+  }));\n+\n+  beforeEach(() => {\n+    fixture = TestBed.createComponent(MonitorComponent);\n+    debugElement = fixture.debugElement;\n+    component = fixture.debugElement.componentInstance;\n+    fixture.detectChanges();\n+  });\n+\n+  it('should create', () => {", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI1MTI1MQ==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521251251", "bodyText": "Only a suggestion: You could add a test to check whether clicking on a tab changes the selectedTab attribute of the component.", "author": "sofie29", "createdAt": "2020-11-11T10:10:20Z", "path": "web/src/app/monitor/components/monitor/monitor.component.spec.ts", "diffHunk": "@@ -0,0 +1,32 @@\n+import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n+import { DebugElement } from '@angular/core';\n+import { MonitorComponent } from './monitor.component';\n+import { MatTabsModule } from '@angular/material/tabs';\n+import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n+import { HttpClientTestingModule } from '@angular/common/http/testing';\n+import { RouterModule } from '@angular/router';\n+import { RouterTestingModule } from '@angular/router/testing';\n+\n+describe('MonitorComponent', () => {\n+  let component: MonitorComponent;\n+  let fixture: ComponentFixture<MonitorComponent>;\n+  let debugElement: DebugElement;\n+\n+  beforeEach(async(() => {\n+    TestBed.configureTestingModule({\n+      declarations: [MonitorComponent],\n+      imports: [MatTabsModule, RouterModule, RouterTestingModule, HttpClientTestingModule, BrowserAnimationsModule]\n+    }).compileComponents();\n+  }));\n+\n+  beforeEach(() => {\n+    fixture = TestBed.createComponent(MonitorComponent);\n+    debugElement = fixture.debugElement;\n+    component = fixture.debugElement.componentInstance;\n+    fixture.detectChanges();\n+  });\n+\n+  it('should create', () => {\n+    expect(component).toBeTruthy();\n+  });", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI1MTg5MQ==", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521251891", "bodyText": "This import is not used.", "author": "sofie29", "createdAt": "2020-11-11T10:11:27Z", "path": "web/src/app/monitor/monitor-routing.module.ts", "diffHunk": "@@ -1,11 +1,39 @@\n import { NgModule } from '@angular/core';\n import { Routes, RouterModule } from '@angular/router';\n import { MonitorComponent } from './components/monitor/monitor.component';\n+import { TaskReportComponent } from './components/task-report/task-report.component';\n+import { WorkbasketReportComponent } from './components/workbasket-report/workbasket-report.component';\n+import { DomainGuard } from 'app/shared/guards/domain.guard';", "originalCommit": "3708254eb45f4cb9885be6380822095c84fdce39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "32e8bc256101de4462441b94fd4954af9158c03f", "url": "https://github.com/Taskana/taskana/commit/32e8bc256101de4462441b94fd4954af9158c03f", "message": "TSK-1450: adapt requested changes", "committedDate": "2020-11-11T14:39:48Z", "type": "commit"}, {"oid": "7c92886857ce793ed6a2ff7b9d5530834e3ab4a5", "url": "https://github.com/Taskana/taskana/commit/7c92886857ce793ed6a2ff7b9d5530834e3ab4a5", "message": "TSK-1450: remove request in progress service", "committedDate": "2020-11-12T14:43:43Z", "type": "commit"}, {"oid": "d1dba44ce70b57e02e7f8356ed6f9f3140393f63", "url": "https://github.com/Taskana/taskana/commit/d1dba44ce70b57e02e7f8356ed6f9f3140393f63", "message": "TSK-1450: update requested changes", "committedDate": "2020-11-16T08:54:20Z", "type": "commit"}, {"oid": "9a61c5f56786f700ec100f468b3674941be8edd7", "url": "https://github.com/Taskana/taskana/commit/9a61c5f56786f700ec100f468b3674941be8edd7", "message": "Merge branch 'taskana-md' into monitor-md", "committedDate": "2020-11-16T21:17:33Z", "type": "commit"}]}