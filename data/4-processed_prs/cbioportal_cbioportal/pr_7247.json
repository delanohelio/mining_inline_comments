{"pr_number": 7247, "pr_title": "Update generic assay file format document", "pr_createdAt": "2020-02-28T17:57:41Z", "pr_url": "https://github.com/cBioPortal/cbioportal/pull/7247", "timeline": [{"oid": "f29607046bf37420649d90936b75045b0060fcc3", "url": "https://github.com/cBioPortal/cbioportal/commit/f29607046bf37420649d90936b75045b0060fcc3", "message": "move treatment format to generic assay", "committedDate": "2020-02-28T17:59:09Z", "type": "forcePushed"}, {"oid": "7823f823c80b43eab8e334b37a86379de0d599e5", "url": "https://github.com/cBioPortal/cbioportal/commit/7823f823c80b43eab8e334b37a86379de0d599e5", "message": "move treatment format to generic assay", "committedDate": "2020-03-05T20:17:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczOTE3OQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7247#discussion_r388739179", "bodyText": "value_sort_order is also used to separate good vs less good response values in the Waterfall plot. I think that this was is the original documentation for treatment response data. I think we should (re-)insert a remark on this plot type. For instance:\n\nWhen value_sort_order is ASC small values are represented as downward deflections from the pivot_threshold_value in the waterfall plot of Plots Tab.", "author": "pvannierop", "createdAt": "2020-03-06T06:55:57Z", "path": "docs/File-Formats.md", "diffHunk": "@@ -1324,35 +1269,42 @@ The generic assay metadata file should contain the following fields:\n ```\n cancer_study_identifier: Same value as specified in meta file of the study\n genetic_alteration_type: GENERIC_ASSAY\n-generic_assay_type: <GENERIC_ASSAY_TYPE>, e.g., \"TREATMENT\" or \"MUTATIONAL_SIGNATURE\"\n+generic_assay_type: <GENERIC_ASSAY_TYPE>, e.g., \"TREATMENT_RESPONSE\" or \"MUTATIONAL_SIGNATURE\"\n datatype: LIMIT-VALUE\n stable_id: Any unique identifier using a combination of alphanumeric characters, _ and -\n profile_name: A name describing the analysis.\n profile_description: A description of the data processing done.\n data_filename: <name of generic assay data file>\n-show_profile_in_analysis_tab: true\n-generic_entity_meta_properties: A comma separate list of generic entity properties, e.g., \"NAME,DESCRIPTION\"\n+show_profile_in_analysis_tab: true (or false if you don't want to show this profile in any analysis tab)\n+pivot_threshold_value: A threshold value beyond which a generic assay data is considered effective\n+value_sort_order: A flag that determines whether samples with small generic assay data values are displayed first or last; can be 'ASC' for small first, 'DESC' for small last. \n+generic_entity_meta_properties: A comma separate list of generic entity properties, e.g., \"NAME,DESCRIPTION,URL\"\n ```\n \n Example:\n ```\n cancer_study_identifier: study_es_0\n genetic_alteration_type: GENERIC_ASSAY\n-generic_assay_type: MUTATIONAL_SIGNATURE\n+generic_assay_type: TREATMENT_RESPONSE\n datatype: LIMIT-VALUE\n-stable_id: mutational_signature\n-profile_name: data of mutational signature\n-profile_description: Description of data of mutational signature\n-data_filename: data_mutational_signature.txt\n+stable_id: treatment_ic50\n+profile_name: IC50 values of compounds on cellular phenotype readout\n+profile_description: IC50 (compound concentration resulting in half maximal inhibition) of compounds on cellular phenotype readout of cultured mutant cell lines.\n+data_filename: data_treatment_ic50.txt\n show_profile_in_analysis_tab: true\n-generic_entity_meta_properties: NAME,DESCRIPTION\n+pivot_threshold_value: 0.1\n+value_sort_order: ASC\n+generic_entity_meta_properties: NAME,DESCRIPTION,URL\n ```\n \n ### Note on `stable_id`\n The `stable_id` for the generic assay datatype is a user defined field. The only requirement is that the `stable_id` is unique across all metafiles in the study.\n \n+### Note on `value_sort_order`\n+When values are sorted based on the `value_sort_order`, data points at the start of the sequence are considered more significant than data points at the end. This concept is used by the oncoprint when aggregating generic assay data from multiple samples from a single patient. When `value_sort_order` is `ASC` the sample with the smallest response value will be shown for that patient. When `value_sort_order` is `DESC` the sample with the largest value will be shown for that patient.", "originalCommit": "7823f823c80b43eab8e334b37a86379de0d599e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAwODU1Ng==", "url": "https://github.com/cBioPortal/cbioportal/pull/7247#discussion_r389008556", "bodyText": "Thanks @pvannierop! I will add this to the document.", "author": "dippindots", "createdAt": "2020-03-06T16:35:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczOTE3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA0NTA1Ng==", "url": "https://github.com/cBioPortal/cbioportal/pull/7247#discussion_r389045056", "bodyText": "Updated!", "author": "dippindots", "createdAt": "2020-03-06T17:38:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczOTE3OQ=="}], "type": "inlineReview"}, {"oid": "3ac0d97526337e7cda41a458514d0eda75b71ed1", "url": "https://github.com/cBioPortal/cbioportal/commit/3ac0d97526337e7cda41a458514d0eda75b71ed1", "message": "move treatment format to generic assay", "committedDate": "2020-03-06T17:32:32Z", "type": "forcePushed"}, {"oid": "daeb05ad60f856d1d53a68c0341be294aee3185d", "url": "https://github.com/cBioPortal/cbioportal/commit/daeb05ad60f856d1d53a68c0341be294aee3185d", "message": "move treatment format to generic assay", "committedDate": "2020-03-06T17:37:22Z", "type": "commit"}, {"oid": "daeb05ad60f856d1d53a68c0341be294aee3185d", "url": "https://github.com/cBioPortal/cbioportal/commit/daeb05ad60f856d1d53a68c0341be294aee3185d", "message": "move treatment format to generic assay", "committedDate": "2020-03-06T17:37:22Z", "type": "forcePushed"}]}