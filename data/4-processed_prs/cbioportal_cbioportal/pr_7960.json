{"pr_number": 7960, "pr_title": "Treatments API Tweaks", "pr_createdAt": "2020-10-13T15:29:53Z", "pr_url": "https://github.com/cBioPortal/cbioportal/pull/7960", "timeline": [{"oid": "714a95166c8a1a23fc8feb45b65fda6923b09877", "url": "https://github.com/cBioPortal/cbioportal/commit/714a95166c8a1a23fc8feb45b65fda6923b09877", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-16T18:42:42Z", "type": "forcePushed"}, {"oid": "d884094a81780b6e07581259ade25c8ad28508a1", "url": "https://github.com/cBioPortal/cbioportal/commit/d884094a81780b6e07581259ade25c8ad28508a1", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-19T13:08:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk3NDc1NQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7960#discussion_r507974755", "bodyText": "May be rename it display-patient", "author": "kalletlak", "createdAt": "2020-10-19T18:30:25Z", "path": "web/src/main/java/org/cbioportal/web/util/InvolvedCancerStudyExtractorInterceptor.java", "diffHunk": "@@ -111,6 +111,7 @@\n     public static final String GENERIC_ASSAY_META_FETCH_PATH = \"/generic_assay_meta/fetch\";\n     public static final String TREATMENTS_PATIENT_PATH = \"/treatments/patient\";\n     public static final String TREATMENTS_PATIENT_EXISTS_PATH = \"/treatments/display\";", "originalCommit": "d884094a81780b6e07581259ade25c8ad28508a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk3ODM2Ng==", "url": "https://github.com/cBioPortal/cbioportal/pull/7960#discussion_r507978366", "bodyText": "since samples is always null, why not remove it and pass null while invoking getSampleCount and getTreatmentCount methods?", "author": "kalletlak", "createdAt": "2020-10-19T18:35:56Z", "path": "service/src/main/java/org/cbioportal/service/impl/TreatmentServiceImpl.java", "diffHunk": "@@ -170,4 +169,12 @@ private PatientTreatmentRow createPatientTreatmentRowForTreatment(\n     public Boolean containsTreatmentData(List<String> samples, List<String> studies) {\n         return treatmentRepository.getTreatmentCount(samples, studies) > 0;\n     }\n+\n+    @Override\n+    public Boolean containsSampleTreatmentData(List<String> samples, List<String> studies) {", "originalCommit": "d884094a81780b6e07581259ade25c8ad28508a1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c13e428e2a691379f12218b168413c2ebec46efe", "url": "https://github.com/cBioPortal/cbioportal/commit/c13e428e2a691379f12218b168413c2ebec46efe", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-20T13:34:15Z", "type": "forcePushed"}, {"oid": "1246646ebf6ef402281d865f6ceca4e70ce39c22", "url": "https://github.com/cBioPortal/cbioportal/commit/1246646ebf6ef402281d865f6ceca4e70ce39c22", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-20T13:37:27Z", "type": "forcePushed"}, {"oid": "f9077f3a71c7490a754cb6340108a53f163ab21f", "url": "https://github.com/cBioPortal/cbioportal/commit/f9077f3a71c7490a754cb6340108a53f163ab21f", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-20T14:58:34Z", "type": "forcePushed"}, {"oid": "b03ed87d1ae627274bdc86889195b0e8862fc0ba", "url": "https://github.com/cBioPortal/cbioportal/commit/b03ed87d1ae627274bdc86889195b0e8862fc0ba", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-26T21:06:55Z", "type": "forcePushed"}, {"oid": "4597be9cd33dd664ce676d99d827e65afaf7d9f9", "url": "https://github.com/cBioPortal/cbioportal/commit/4597be9cd33dd664ce676d99d827e65afaf7d9f9", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-27T13:22:03Z", "type": "commit"}, {"oid": "4597be9cd33dd664ce676d99d827e65afaf7d9f9", "url": "https://github.com/cBioPortal/cbioportal/commit/4597be9cd33dd664ce676d99d827e65afaf7d9f9", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field", "committedDate": "2020-10-27T13:22:03Z", "type": "forcePushed"}]}