{"pr_number": 4108, "pr_title": "[Improvement-4069][server] When the tenant does not exist, the task execution should throw an exception", "pr_createdAt": "2020-11-26T05:08:32Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/4108", "timeline": [{"oid": "3a45692e435d51189b00b939ee78f65c1541202b", "url": "https://github.com/apache/dolphinscheduler/commit/3a45692e435d51189b00b939ee78f65c1541202b", "message": "when  the tenant does not exist, the task execution should throw an exception", "committedDate": "2020-11-25T12:00:19Z", "type": "commit"}, {"oid": "db9982272e0468b471dfc7d1b7ec9294fa2c3128", "url": "https://github.com/apache/dolphinscheduler/commit/db9982272e0468b471dfc7d1b7ec9294fa2c3128", "message": "remote method createWorkDirAndUserIfAbsent", "committedDate": "2020-11-26T05:07:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDgyMzk3MA==", "url": "https://github.com/apache/dolphinscheduler/pull/4108#discussion_r530823970", "bodyText": "we can set the task status failed when the tenant code does not exist.", "author": "lenboo", "createdAt": "2020-11-26T07:39:42Z", "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/processor/TaskExecuteProcessor.java", "diffHunk": "@@ -100,6 +98,12 @@ public void process(Channel channel, Command command) {\n             logger.error(\"task execution context is null\");\n             return;\n         }\n+        // check if the OS user exists\n+        if (!OSUtils.getUserList().contains(taskExecutionContext.getTenantCode())) {\n+            logger.error(\"tenantCode:{} does not exist\",taskExecutionContext.getTenantCode());", "originalCommit": "db9982272e0468b471dfc7d1b7ec9294fa2c3128", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3014dc8492041718984962744bb9630f43617981", "url": "https://github.com/apache/dolphinscheduler/commit/3014dc8492041718984962744bb9630f43617981", "message": "set the task status failed when the tenant code does not exist.", "committedDate": "2020-11-26T11:39:32Z", "type": "commit"}, {"oid": "a5d0fa44926040464e49df84ed0bbb229643aefe", "url": "https://github.com/apache/dolphinscheduler/commit/a5d0fa44926040464e49df84ed0bbb229643aefe", "message": "update code style", "committedDate": "2020-11-27T01:34:23Z", "type": "commit"}, {"oid": "283559468a4dfa787d0f3460dd7539a86c968fb0", "url": "https://github.com/apache/dolphinscheduler/commit/283559468a4dfa787d0f3460dd7539a86c968fb0", "message": "add taskLog.", "committedDate": "2020-12-18T01:17:56Z", "type": "commit"}, {"oid": "ea481c61ee153129469c07f19ad5da817ea29565", "url": "https://github.com/apache/dolphinscheduler/commit/ea481c61ee153129469c07f19ad5da817ea29565", "message": "update check os user exists", "committedDate": "2020-12-18T10:55:14Z", "type": "commit"}, {"oid": "b194aa4d5700949297496c7485ce80b0feb2d260", "url": "https://github.com/apache/dolphinscheduler/commit/b194aa4d5700949297496c7485ce80b0feb2d260", "message": "Resolving code conflicts", "committedDate": "2020-12-18T10:59:24Z", "type": "commit"}, {"oid": "2e228fb16117dd41ac65579707045249307b2aee", "url": "https://github.com/apache/dolphinscheduler/commit/2e228fb16117dd41ac65579707045249307b2aee", "message": "update TaskExecuteThreadTest test method.", "committedDate": "2020-12-18T11:56:25Z", "type": "commit"}, {"oid": "f339ae59fbe957e5b32f7b7535f0be088c05ffa5", "url": "https://github.com/apache/dolphinscheduler/commit/f339ae59fbe957e5b32f7b7535f0be088c05ffa5", "message": "update TaskExecuteThreadTest test method.", "committedDate": "2020-12-18T12:16:13Z", "type": "commit"}, {"oid": "f60df5602c746fad0c28c55bea9515a9e6a53721", "url": "https://github.com/apache/dolphinscheduler/commit/f60df5602c746fad0c28c55bea9515a9e6a53721", "message": "update test checkstyle.", "committedDate": "2020-12-18T12:18:27Z", "type": "commit"}, {"oid": "1a5c0db978144e9777e6e49c2d4f39112ee0e444", "url": "https://github.com/apache/dolphinscheduler/commit/1a5c0db978144e9777e6e49c2d4f39112ee0e444", "message": "sonar code smell.", "committedDate": "2020-12-18T12:40:03Z", "type": "commit"}, {"oid": "f2c4ea12d5a67adfa0bf893e3d072ba442ca8a5b", "url": "https://github.com/apache/dolphinscheduler/commit/f2c4ea12d5a67adfa0bf893e3d072ba442ca8a5b", "message": "solving sonar fail.", "committedDate": "2020-12-19T03:39:36Z", "type": "commit"}]}