{"pr_number": 2924, "pr_title": "In the case of multiple network cards, a valid host is returned", "pr_createdAt": "2020-06-07T13:24:18Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/2924", "timeline": [{"oid": "c99ca4536ea81b7c2b8e0f5c07c96cd0a1f30f87", "url": "https://github.com/apache/dolphinscheduler/commit/c99ca4536ea81b7c2b8e0f5c07c96cd0a1f30f87", "message": "In the case of multiple network cards, a valid host is returned", "committedDate": "2020-06-07T13:18:39Z", "type": "commit"}, {"oid": "3bd60ec077820d9b6dc9c69b58030f28f9647038", "url": "https://github.com/apache/dolphinscheduler/commit/3bd60ec077820d9b6dc9c69b58030f28f9647038", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-07T13:24:29Z", "type": "commit"}, {"oid": "3bfe41d288a864fba6bf82ad7abede2f5c1e41ad", "url": "https://github.com/apache/dolphinscheduler/commit/3bfe41d288a864fba6bf82ad7abede2f5c1e41ad", "message": "In the case of multiple network cards, a valid host is returned", "committedDate": "2020-06-07T13:37:08Z", "type": "commit"}, {"oid": "f2f74e1fc6deec840a1e13b1d7b99e7ee1481865", "url": "https://github.com/apache/dolphinscheduler/commit/f2f74e1fc6deec840a1e13b1d7b99e7ee1481865", "message": "In the case of multiple network cards, a valid host is returned", "committedDate": "2020-06-07T13:52:04Z", "type": "commit"}, {"oid": "b98b0062a10a0c91956bc56c9f1e6e95eac96738", "url": "https://github.com/apache/dolphinscheduler/commit/b98b0062a10a0c91956bc56c9f1e6e95eac96738", "message": "In the case of multiple network cards, a valid host is returned", "committedDate": "2020-06-08T05:02:12Z", "type": "commit"}, {"oid": "ed2d6d811e1f1637b7910a8c6e79e9cffa7a139b", "url": "https://github.com/apache/dolphinscheduler/commit/ed2d6d811e1f1637b7910a8c6e79e9cffa7a139b", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-12T10:26:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTczNDkwMA==", "url": "https://github.com/apache/dolphinscheduler/pull/2924#discussion_r439734900", "bodyText": "what's purpose of this variable LOCAL_ADDRESS ? never assigned a value", "author": "gabrywu", "createdAt": "2020-06-13T12:18:38Z", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -0,0 +1,196 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.dolphinscheduler.common.utils;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.net.*;\n+import java.util.Enumeration;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.regex.Pattern;\n+\n+import static java.util.Collections.emptyList;\n+\n+/**\n+ * NetUtils\n+ */\n+public class NetUtils {\n+\n+    private static Logger logger = LoggerFactory.getLogger(NetUtils.class);\n+\n+\n+    private static final Pattern ADDRESS_PATTERN = Pattern.compile(\"^\\\\d{1,3}(\\\\.\\\\d{1,3}){3}\\\\:\\\\d{1,5}$\");\n+\n+    private static final Pattern LOCAL_IP_PATTERN = Pattern.compile(\"127(\\\\.\\\\d{1,3}){3}$\");\n+\n+    private static final Pattern IP_PATTERN = Pattern.compile(\"\\\\d{1,3}(\\\\.\\\\d{1,3}){3,5}$\");\n+\n+    private static String ANY_HOST_VALUE = \"0.0.0.0\";\n+\n+    private static String LOCALHOST_KEY = \"localhost\";\n+\n+    private static String LOCALHOST_VALUE = \"127.0.0.1\";\n+\n+    private static  InetAddress LOCAL_ADDRESS = null;\n+\n+    private static volatile String HOST_ADDRESS;\n+\n+    public static String getHost() {\n+        if (HOST_ADDRESS != null) {\n+            return HOST_ADDRESS;\n+        }\n+\n+        InetAddress address = getLocalAddress();\n+        if (address != null) {\n+            return HOST_ADDRESS = address.getHostAddress();\n+        }\n+        return LOCALHOST_VALUE;\n+    }\n+\n+    /**\n+     * Find first valid IP from local network card\n+     *\n+     * @return first valid local IP\n+     */\n+    public static synchronized InetAddress getLocalAddress() {\n+\n+        if (null != LOCAL_ADDRESS) {\n+            return LOCAL_ADDRESS;", "originalCommit": "ed2d6d811e1f1637b7910a8c6e79e9cffa7a139b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5MzEwOQ==", "url": "https://github.com/apache/dolphinscheduler/pull/2924#discussion_r440593109", "bodyText": "what's purpose of this variable LOCAL_ADDRESS ? never assigned a value\n\nSorry, this is my oversight, I have completed the change, please review it", "author": "CalvinKirs", "createdAt": "2020-06-16T05:24:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTczNDkwMA=="}], "type": "inlineReview"}, {"oid": "bf90b16148b094299816e357191d4a73e2c87a70", "url": "https://github.com/apache/dolphinscheduler/commit/bf90b16148b094299816e357191d4a73e2c87a70", "message": "fix LOCAL_ADDRESS not assigned  value", "committedDate": "2020-06-14T04:06:00Z", "type": "commit"}, {"oid": "095b1f0bc49308e3d185352d63a7c704bf08aeb6", "url": "https://github.com/apache/dolphinscheduler/commit/095b1f0bc49308e3d185352d63a7c704bf08aeb6", "message": "Merge remote-tracking branch 'origin/net' into net", "committedDate": "2020-06-14T04:06:15Z", "type": "commit"}, {"oid": "14d61c6db83383daed66d6a6a28e8516f768168d", "url": "https://github.com/apache/dolphinscheduler/commit/14d61c6db83383daed66d6a6a28e8516f768168d", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-14T04:08:06Z", "type": "commit"}, {"oid": "52d0eeea14c4affdd6d143fbdd5e28e13e448cb2", "url": "https://github.com/apache/dolphinscheduler/commit/52d0eeea14c4affdd6d143fbdd5e28e13e448cb2", "message": "fix LOCAL_ADDRESS not assigned  value", "committedDate": "2020-06-14T07:00:55Z", "type": "commit"}, {"oid": "4e2170b006de243ef5b4c6520fad4bdf981a403b", "url": "https://github.com/apache/dolphinscheduler/commit/4e2170b006de243ef5b4c6520fad4bdf981a403b", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-14T07:07:24Z", "type": "commit"}, {"oid": "45de0938c094198e2f2d1fbafe87a534440b600f", "url": "https://github.com/apache/dolphinscheduler/commit/45de0938c094198e2f2d1fbafe87a534440b600f", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-15T07:02:52Z", "type": "commit"}, {"oid": "9d53696e3d8fc3637971cf02a4bc55a53ba51369", "url": "https://github.com/apache/dolphinscheduler/commit/9d53696e3d8fc3637971cf02a4bc55a53ba51369", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-16T01:46:24Z", "type": "commit"}, {"oid": "cf9b2c46a80104ca13b05282141f59c6f8e2a14c", "url": "https://github.com/apache/dolphinscheduler/commit/cf9b2c46a80104ca13b05282141f59c6f8e2a14c", "message": "fix LOCAL_ADDRESS not assigned  value", "committedDate": "2020-06-16T04:06:49Z", "type": "commit"}, {"oid": "530c86b5a4e0b0ad16901592c6846828b7567800", "url": "https://github.com/apache/dolphinscheduler/commit/530c86b5a4e0b0ad16901592c6846828b7567800", "message": "fix lock error", "committedDate": "2020-06-16T05:10:35Z", "type": "commit"}, {"oid": "556ee1b5ca9d458a4491ec36d2222e2063fe4885", "url": "https://github.com/apache/dolphinscheduler/commit/556ee1b5ca9d458a4491ec36d2222e2063fe4885", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-16T11:24:54Z", "type": "commit"}, {"oid": "c9e2fa1445ffa2740533b081e87b825a3099ad63", "url": "https://github.com/apache/dolphinscheduler/commit/c9e2fa1445ffa2740533b081e87b825a3099ad63", "message": "fix lock error", "committedDate": "2020-06-17T01:28:43Z", "type": "commit"}, {"oid": "2a09734825fb88877f5c4cf14d0d1863fe7b279f", "url": "https://github.com/apache/dolphinscheduler/commit/2a09734825fb88877f5c4cf14d0d1863fe7b279f", "message": "Merge remote-tracking branch 'origin/net' into net", "committedDate": "2020-06-17T01:28:57Z", "type": "commit"}, {"oid": "2538a91bc2fd0bedd5927dc5eeadd9a26a9412ac", "url": "https://github.com/apache/dolphinscheduler/commit/2538a91bc2fd0bedd5927dc5eeadd9a26a9412ac", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-17T04:10:41Z", "type": "commit"}, {"oid": "2a83a3ccd673919c3139f54f6fd12ad5722668b5", "url": "https://github.com/apache/dolphinscheduler/commit/2a83a3ccd673919c3139f54f6fd12ad5722668b5", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-17T08:52:24Z", "type": "commit"}, {"oid": "195afd0e8750cb17cfaa2380bf37cd2abe1333ac", "url": "https://github.com/apache/dolphinscheduler/commit/195afd0e8750cb17cfaa2380bf37cd2abe1333ac", "message": "end", "committedDate": "2020-06-17T11:25:09Z", "type": "commit"}, {"oid": "d66d51559aaf47344cff91cb751953c8c76631da", "url": "https://github.com/apache/dolphinscheduler/commit/d66d51559aaf47344cff91cb751953c8c76631da", "message": "end", "committedDate": "2020-06-17T12:34:18Z", "type": "commit"}, {"oid": "c655081d2464fd9e671725483f975872990f544b", "url": "https://github.com/apache/dolphinscheduler/commit/c655081d2464fd9e671725483f975872990f544b", "message": "end", "committedDate": "2020-06-17T12:45:54Z", "type": "commit"}, {"oid": "d7aa91b1ad353933e4314892f0faea4d98194802", "url": "https://github.com/apache/dolphinscheduler/commit/d7aa91b1ad353933e4314892f0faea4d98194802", "message": "end", "committedDate": "2020-06-18T12:50:42Z", "type": "commit"}, {"oid": "2caac0d0d9bd19b3b4f782bb6825ab1c6d1cc39c", "url": "https://github.com/apache/dolphinscheduler/commit/2caac0d0d9bd19b3b4f782bb6825ab1c6d1cc39c", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-19T08:02:15Z", "type": "commit"}, {"oid": "63a8f0f8c1df5cd4aed2d90e331615ad99579d12", "url": "https://github.com/apache/dolphinscheduler/commit/63a8f0f8c1df5cd4aed2d90e331615ad99579d12", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-19T11:32:22Z", "type": "commit"}, {"oid": "390f9ec7f19cce2d091cccaf8018748ab23ccdd5", "url": "https://github.com/apache/dolphinscheduler/commit/390f9ec7f19cce2d091cccaf8018748ab23ccdd5", "message": "code smell", "committedDate": "2020-06-19T12:18:01Z", "type": "commit"}, {"oid": "56be2d70918540af5022c7492827814ef47a419f", "url": "https://github.com/apache/dolphinscheduler/commit/56be2d70918540af5022c7492827814ef47a419f", "message": "code smell", "committedDate": "2020-06-19T12:31:44Z", "type": "commit"}, {"oid": "1032dfb664c8fd00058a7177b798b6895dcba4ee", "url": "https://github.com/apache/dolphinscheduler/commit/1032dfb664c8fd00058a7177b798b6895dcba4ee", "message": "code smell", "committedDate": "2020-06-19T12:38:27Z", "type": "commit"}, {"oid": "1344a64aa3a22dd6000d05a1f373e97d83e200ac", "url": "https://github.com/apache/dolphinscheduler/commit/1344a64aa3a22dd6000d05a1f373e97d83e200ac", "message": "code smell", "committedDate": "2020-06-19T13:20:08Z", "type": "commit"}, {"oid": "6b1a68c302301b8a7b8b6b861423308e1c6dcec9", "url": "https://github.com/apache/dolphinscheduler/commit/6b1a68c302301b8a7b8b6b861423308e1c6dcec9", "message": "code smell", "committedDate": "2020-06-20T05:35:56Z", "type": "commit"}, {"oid": "279c7391dd184fc0bc99b8da725435c0903deed0", "url": "https://github.com/apache/dolphinscheduler/commit/279c7391dd184fc0bc99b8da725435c0903deed0", "message": "code smell", "committedDate": "2020-06-20T05:40:16Z", "type": "commit"}, {"oid": "08c2eb3a656123472b7dfdc2140b86d688925be3", "url": "https://github.com/apache/dolphinscheduler/commit/08c2eb3a656123472b7dfdc2140b86d688925be3", "message": "code smell", "committedDate": "2020-06-20T07:00:12Z", "type": "commit"}, {"oid": "f48142ee76d52b9aa1c5eff4d9dbff8ad2aece8a", "url": "https://github.com/apache/dolphinscheduler/commit/f48142ee76d52b9aa1c5eff4d9dbff8ad2aece8a", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-21T02:10:53Z", "type": "commit"}, {"oid": "6bb773e1d9baa0290629048861c528ae2f5cecc3", "url": "https://github.com/apache/dolphinscheduler/commit/6bb773e1d9baa0290629048861c528ae2f5cecc3", "message": "lowering", "committedDate": "2020-06-21T02:23:09Z", "type": "commit"}, {"oid": "076e474daf685da06e251ba6f3fe370ac1ecc088", "url": "https://github.com/apache/dolphinscheduler/commit/076e474daf685da06e251ba6f3fe370ac1ecc088", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-21T07:50:59Z", "type": "commit"}, {"oid": "da59ecf9b7cdb598ccaf55570c8812a5039e9b84", "url": "https://github.com/apache/dolphinscheduler/commit/da59ecf9b7cdb598ccaf55570c8812a5039e9b84", "message": "messy", "committedDate": "2020-06-21T08:06:43Z", "type": "commit"}, {"oid": "7b8e44483875f197add9cabbf8c0475e7e885e72", "url": "https://github.com/apache/dolphinscheduler/commit/7b8e44483875f197add9cabbf8c0475e7e885e72", "message": "Merge remote-tracking branch 'origin/net' into net", "committedDate": "2020-06-21T08:06:56Z", "type": "commit"}, {"oid": "02a59e6d9b0d6298e9aa0636fb6440ccc881b799", "url": "https://github.com/apache/dolphinscheduler/commit/02a59e6d9b0d6298e9aa0636fb6440ccc881b799", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-22T07:22:29Z", "type": "commit"}, {"oid": "df777740db2e839a3b95a53488317f10d19563a9", "url": "https://github.com/apache/dolphinscheduler/commit/df777740db2e839a3b95a53488317f10d19563a9", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-23T11:10:11Z", "type": "commit"}, {"oid": "a1c658690fe105e63bc94bbc0a0eacc48f4a1387", "url": "https://github.com/apache/dolphinscheduler/commit/a1c658690fe105e63bc94bbc0a0eacc48f4a1387", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-24T07:57:56Z", "type": "commit"}, {"oid": "259f00644e1373987ad60fa0d1ffe554c6c38152", "url": "https://github.com/apache/dolphinscheduler/commit/259f00644e1373987ad60fa0d1ffe554c6c38152", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-25T07:45:24Z", "type": "commit"}, {"oid": "8b58cb280a47658cc50e2c8d00d36e48cd81dd0e", "url": "https://github.com/apache/dolphinscheduler/commit/8b58cb280a47658cc50e2c8d00d36e48cd81dd0e", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-26T05:18:44Z", "type": "commit"}, {"oid": "bed5609687367a9ad46934ed867348a8d81af61b", "url": "https://github.com/apache/dolphinscheduler/commit/bed5609687367a9ad46934ed867348a8d81af61b", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-28T09:38:51Z", "type": "commit"}, {"oid": "6df9922bb7b18c3eb51a5ce781643754ee235ce9", "url": "https://github.com/apache/dolphinscheduler/commit/6df9922bb7b18c3eb51a5ce781643754ee235ce9", "message": "Merge branch 'dev' into net", "committedDate": "2020-06-29T02:21:05Z", "type": "commit"}, {"oid": "87a91066ea1cbdf0d6d576a3a6e9fb03e09e2604", "url": "https://github.com/apache/dolphinscheduler/commit/87a91066ea1cbdf0d6d576a3a6e9fb03e09e2604", "message": "small change", "committedDate": "2020-06-29T03:29:01Z", "type": "commit"}, {"oid": "7dc11e2a193ea9a4e803d73276847bc03896ec10", "url": "https://github.com/apache/dolphinscheduler/commit/7dc11e2a193ea9a4e803d73276847bc03896ec10", "message": "compile error", "committedDate": "2020-06-29T03:46:01Z", "type": "commit"}, {"oid": "6321b5b1ef2974e41e6a849bc5d37e88017c40ba", "url": "https://github.com/apache/dolphinscheduler/commit/6321b5b1ef2974e41e6a849bc5d37e88017c40ba", "message": "Merge branch 'dev' into net", "committedDate": "2020-07-01T08:49:46Z", "type": "commit"}, {"oid": "32f1bc97c47ae83c797eeb6551e719514a375d59", "url": "https://github.com/apache/dolphinscheduler/commit/32f1bc97c47ae83c797eeb6551e719514a375d59", "message": "Merge branch 'dev' into net", "committedDate": "2020-07-02T05:01:23Z", "type": "commit"}, {"oid": "4712cc86f706573c42524f72e0d0c84b921470f2", "url": "https://github.com/apache/dolphinscheduler/commit/4712cc86f706573c42524f72e0d0c84b921470f2", "message": "Merge branch 'dev' into net", "committedDate": "2020-07-02T09:47:00Z", "type": "commit"}, {"oid": "46407a448403b253d8a058af40f9471285fbc959", "url": "https://github.com/apache/dolphinscheduler/commit/46407a448403b253d8a058af40f9471285fbc959", "message": "Merge branch 'dev' into net", "committedDate": "2020-07-02T10:28:15Z", "type": "commit"}]}