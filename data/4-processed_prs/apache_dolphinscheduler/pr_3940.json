{"pr_number": 3940, "pr_title": "[Improvement-3933][db operation] Improve the performance of sql query", "pr_createdAt": "2020-10-18T03:17:39Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/3940", "timeline": [{"oid": "5bc0f45574ca9a066f34272445ea6e5241097e4a", "url": "https://github.com/apache/dolphinscheduler/commit/5bc0f45574ca9a066f34272445ea6e5241097e4a", "message": "optimize select * case", "committedDate": "2020-10-18T03:13:57Z", "type": "commit"}, {"oid": "61db5bdc672e175a7dee8516c43dfc15ba44890b", "url": "https://github.com/apache/dolphinscheduler/commit/61db5bdc672e175a7dee8516c43dfc15ba44890b", "message": "emove redundancy", "committedDate": "2020-10-18T03:22:02Z", "type": "commit"}, {"oid": "2fd1039260abba1ec40a5483459b31ceed4ce053", "url": "https://github.com/apache/dolphinscheduler/commit/2fd1039260abba1ec40a5483459b31ceed4ce053", "message": "optimize select * case", "committedDate": "2020-10-18T03:29:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzAxOTUxNw==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r507019517", "bodyText": "why remove\uff1f", "author": "zhuangchong", "createdAt": "2020-10-18T05:31:44Z", "path": "dolphinscheduler-ui/src/js/conf/home/pages/security/pages/tenement/_source/createTenement.vue", "diffHunk": "@@ -146,13 +146,6 @@\n           this.$message.warning(`${i18n.$t('Please enter name')}`)\n           return false\n         }\n-        // Verify tenant name cannot contain special characters\n-        let isSpecial = /[~#^$@%&!*()<>\u300a\u300b:;'\"{}\u3010\u3011\t]/gi\n-        if (isSpecial.test(this.tenantName)) {\n-          this.$message.warning(`${i18n.$t('Please enter tenant name without special characters')}`)\n-          return false\n-        }\n-", "originalCommit": "2fd1039260abba1ec40a5483459b31ceed4ce053", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzE0ODk4Ng==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r507148986", "bodyText": "Corrected back\uff01", "author": "hermeshephaestus", "createdAt": "2020-10-18T13:25:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzAxOTUxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzAxOTU4NQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r507019585", "bodyText": "why remove?", "author": "zhuangchong", "createdAt": "2020-10-18T05:32:32Z", "path": "dolphinscheduler-ui/src/js/module/i18n/locale/zh_CN.js", "diffHunk": "@@ -189,7 +189,6 @@ export default {\n   Queue: 'Yarn \u961f\u5217',\n   'Please enter the tenant code in English': '\u8bf7\u8f93\u5165\u79df\u6237\u7f16\u7801\u53ea\u5141\u8bb8\u82f1\u6587',\n   'Please enter tenant code in English': '\u8bf7\u8f93\u5165\u82f1\u6587\u79df\u6237\u7f16\u7801',\n-  'Please enter tenant name without special characters': '\u8bf7\u8f93\u5165\u4e0d\u5305\u542b\u7279\u6b8a\u5b57\u7b26\u7684\u79df\u6237\u540d\u79f0',", "originalCommit": "2fd1039260abba1ec40a5483459b31ceed4ce053", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzE0OTAyMg==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r507149022", "bodyText": "Corrected back", "author": "hermeshephaestus", "createdAt": "2020-10-18T13:25:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzAxOTU4NQ=="}], "type": "inlineReview"}, {"oid": "c2f7a4e62173b6a965defc19d86a73af18d43fe5", "url": "https://github.com/apache/dolphinscheduler/commit/c2f7a4e62173b6a965defc19d86a73af18d43fe5", "message": "bug fixed", "committedDate": "2020-10-18T13:21:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzM0NDAyOA==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r507344028", "bodyText": "This file modification should have nothing to do with this PR.", "author": "zhuangchong", "createdAt": "2020-10-19T01:57:15Z", "path": "dolphinscheduler-ui/src/js/module/i18n/locale/en_US.js", "diffHunk": "@@ -187,7 +187,6 @@ export default {\n   'Please select a queue': 'default is tenant association queue',\n   'Please enter the tenant code in English': 'Please enter the tenant code in English',\n   'Please enter tenant code in English': 'Please enter tenant code in English',\n-  'Please enter tenant name without special characters': 'Please enter tenant name without special characters',", "originalCommit": "c2f7a4e62173b6a965defc19d86a73af18d43fe5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzNjEyOQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r511336129", "bodyText": "Corrected back\uff01", "author": "hermeshephaestus", "createdAt": "2020-10-24T08:16:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzM0NDAyOA=="}], "type": "inlineReview"}, {"oid": "99490ea86f13af205052621b9a2c7be753796c23", "url": "https://github.com/apache/dolphinscheduler/commit/99490ea86f13af205052621b9a2c7be753796c23", "message": "Update en_US.js", "committedDate": "2020-10-24T08:12:46Z", "type": "commit"}, {"oid": "6228d090729d2a9ab199e1db13b3945f00db2e30", "url": "https://github.com/apache/dolphinscheduler/commit/6228d090729d2a9ab199e1db13b3945f00db2e30", "message": "Update startup.sh", "committedDate": "2020-10-24T08:14:23Z", "type": "commit"}, {"oid": "c5fa8e9467cbfa9a91507560cddd5f7c71183af6", "url": "https://github.com/apache/dolphinscheduler/commit/c5fa8e9467cbfa9a91507560cddd5f7c71183af6", "message": "optimize", "committedDate": "2020-10-27T00:35:56Z", "type": "commit"}, {"oid": "8c280ba61dbbafab3fc88db2e7ab586d0b5b9494", "url": "https://github.com/apache/dolphinscheduler/commit/8c280ba61dbbafab3fc88db2e7ab586d0b5b9494", "message": "Merge branch 'dev' of github.com:hermeshephaestus/incubator-dolphinscheduler into dev", "committedDate": "2020-10-27T00:36:04Z", "type": "commit"}, {"oid": "803ab3331cc3ce52f51d36f03d8bd349513881fa", "url": "https://github.com/apache/dolphinscheduler/commit/803ab3331cc3ce52f51d36f03d8bd349513881fa", "message": "Merge remote-tracking branch 'upstream/dev' into dev", "committedDate": "2020-10-28T05:23:19Z", "type": "commit"}, {"oid": "ba7363de918c7322e5ff7679847df5faa90145ee", "url": "https://github.com/apache/dolphinscheduler/commit/ba7363de918c7322e5ff7679847df5faa90145ee", "message": "optimize code", "committedDate": "2020-10-28T16:50:19Z", "type": "commit"}, {"oid": "60db7c90b542eb99846ef9ce5d18899db41d113e", "url": "https://github.com/apache/dolphinscheduler/commit/60db7c90b542eb99846ef9ce5d18899db41d113e", "message": "optimize", "committedDate": "2020-10-29T01:59:29Z", "type": "commit"}, {"oid": "6316a715c14d5858a91f7646790efa7266a3487d", "url": "https://github.com/apache/dolphinscheduler/commit/6316a715c14d5858a91f7646790efa7266a3487d", "message": "Merge branch 'dev' into dev", "committedDate": "2020-11-21T08:06:14Z", "type": "commit"}, {"oid": "e48a1bab0d4a014277ceab7404b2d9babc93b880", "url": "https://github.com/apache/dolphinscheduler/commit/e48a1bab0d4a014277ceab7404b2d9babc93b880", "message": "bug fxied", "committedDate": "2020-11-21T08:14:53Z", "type": "commit"}, {"oid": "46a12484228afb1a2f17ab38f8e77c3d566dfe1a", "url": "https://github.com/apache/dolphinscheduler/commit/46a12484228afb1a2f17ab38f8e77c3d566dfe1a", "message": "resolve conflict", "committedDate": "2020-11-21T08:16:32Z", "type": "commit"}, {"oid": "54f1649e94ca4e77742c8f15f165167d29e689ad", "url": "https://github.com/apache/dolphinscheduler/commit/54f1649e94ca4e77742c8f15f165167d29e689ad", "message": "bug fixed", "committedDate": "2020-11-21T08:40:25Z", "type": "commit"}, {"oid": "920f67d8b7507349f7cdd3ded4a6976d281dfb85", "url": "https://github.com/apache/dolphinscheduler/commit/920f67d8b7507349f7cdd3ded4a6976d281dfb85", "message": "add ut", "committedDate": "2020-11-23T03:11:08Z", "type": "commit"}, {"oid": "b9783aca6f35169ca0ee7d263c73c3ec709e636e", "url": "https://github.com/apache/dolphinscheduler/commit/b9783aca6f35169ca0ee7d263c73c3ec709e636e", "message": "bug fixed", "committedDate": "2020-11-23T03:26:09Z", "type": "commit"}, {"oid": "cc4d84b8e70fc33f90f7bdc9823516700eb46431", "url": "https://github.com/apache/dolphinscheduler/commit/cc4d84b8e70fc33f90f7bdc9823516700eb46431", "message": "bug fixed", "committedDate": "2020-11-23T04:02:47Z", "type": "commit"}, {"oid": "05c69ca5ccfcadd4df0a8ce177a1ff477251a4ab", "url": "https://github.com/apache/dolphinscheduler/commit/05c69ca5ccfcadd4df0a8ce177a1ff477251a4ab", "message": "bug fixed", "committedDate": "2020-11-23T04:03:38Z", "type": "commit"}, {"oid": "3c6e999879647899eb3a982a25785054312d79bd", "url": "https://github.com/apache/dolphinscheduler/commit/3c6e999879647899eb3a982a25785054312d79bd", "message": "bug fixed", "committedDate": "2020-11-23T11:11:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTE4Nw==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531511187", "bodyText": "Should keep the original format.", "author": "wen-hemin", "createdAt": "2020-11-27T10:24:27Z", "path": "dolphinscheduler-dao/src/main/resources/org/apache/dolphinscheduler/dao/mapper/WorkFlowLineageMapper.xml", "diffHunk": "@@ -24,23 +24,24 @@\n         left join t_ds_schedules tes on tepd.id = tes.process_definition_id\n         where tepd.project_id = #{projectId}\n         <if test=\"searchVal != null and searchVal != ''\">\n-            and  tepd.name like concat('%', #{searchVal}, '%')\n+            and tepd.name like concat('%', #{searchVal}, '%')\n         </if>\n     </select>\n     <select id=\"queryByIds\" resultType=\"org.apache.dolphinscheduler.dao.entity.WorkFlowLineage\" databaseId=\"mysql\">\n         select tepd.id as work_flow_id,tepd.name as work_flow_name,\n-               (case when json_extract(tepd.process_definition_json, '$**.dependItemList') is not null then 1 else 0 end) as is_depend_work_flow,\n-                          json_extract(tepd.process_definition_json, '$**.definitionId') as source_work_flow_id,\n-                          tepd.release_state as work_flow_publish_status,\n-                          tes.start_time as schedule_start_time,\n-                          tes.end_time as schedule_end_time,\n-                          tes.crontab as crontab,\n-                          tes.release_state as schedule_publish_status\n+        (case when json_extract(tepd.process_definition_json, '$**.dependItemList') is not null then 1 else 0 end) as", "originalCommit": "3c6e999879647899eb3a982a25785054312d79bd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTQ0MQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531511441", "bodyText": "Should keep the original format.", "author": "wen-hemin", "createdAt": "2020-11-27T10:24:56Z", "path": "dolphinscheduler-dao/src/main/resources/org/apache/dolphinscheduler/dao/mapper/WorkFlowLineageMapper.xml", "diffHunk": "@@ -24,23 +24,24 @@\n         left join t_ds_schedules tes on tepd.id = tes.process_definition_id\n         where tepd.project_id = #{projectId}\n         <if test=\"searchVal != null and searchVal != ''\">\n-            and  tepd.name like concat('%', #{searchVal}, '%')\n+            and tepd.name like concat('%', #{searchVal}, '%')\n         </if>\n     </select>\n     <select id=\"queryByIds\" resultType=\"org.apache.dolphinscheduler.dao.entity.WorkFlowLineage\" databaseId=\"mysql\">\n         select tepd.id as work_flow_id,tepd.name as work_flow_name,\n-               (case when json_extract(tepd.process_definition_json, '$**.dependItemList') is not null then 1 else 0 end) as is_depend_work_flow,\n-                          json_extract(tepd.process_definition_json, '$**.definitionId') as source_work_flow_id,\n-                          tepd.release_state as work_flow_publish_status,\n-                          tes.start_time as schedule_start_time,\n-                          tes.end_time as schedule_end_time,\n-                          tes.crontab as crontab,\n-                          tes.release_state as schedule_publish_status\n+        (case when json_extract(tepd.process_definition_json, '$**.dependItemList') is not null then 1 else 0 end) as\n+        is_depend_work_flow,\n+        json_extract(tepd.process_definition_json, '$**.definitionId') as source_work_flow_id,\n+        tepd.release_state as work_flow_publish_status,\n+        tes.start_time as schedule_start_time,\n+        tes.end_time as schedule_end_time,\n+        tes.crontab as crontab,\n+        tes.release_state as schedule_publish_status", "originalCommit": "3c6e999879647899eb3a982a25785054312d79bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUzMzQ4OA==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531533488", "bodyText": "just remain this!", "author": "hermeshephaestus", "createdAt": "2020-11-27T11:03:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTQ0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTUyMg==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531511522", "bodyText": "Should keep the original format.", "author": "wen-hemin", "createdAt": "2020-11-27T10:25:05Z", "path": "dolphinscheduler-dao/src/main/resources/org/apache/dolphinscheduler/dao/mapper/WorkFlowLineageMapper.xml", "diffHunk": "@@ -49,39 +50,42 @@\n \n     <select id=\"queryByIds\" resultType=\"org.apache.dolphinscheduler.dao.entity.WorkFlowLineage\" databaseId=\"pg\">\n         select a.work_flow_id,\n-               a.work_flow_name,\n-               a.is_depend_work_flow,\n-               array_agg(a.source_id) as source_id,\n-               a.work_flow_publish_status,\n-               a.schedule_start_time,\n-               a.schedule_end_time,\n-               a.crontab,\n-               a.schedule_publish_status\n-         from (\n-               select tepd.id as work_flow_id,tepd.name as work_flow_name,\n-                      case when tepd.process_definition_json::json#>'{tasks,1,dependence}' is not null then 1 else 0 end as is_depend_work_flow,\n-                      (json_array_elements(tepd.process_definition_json::json#>'{tasks}')#>>'{dependence,dependTaskList,0,dependItemList,0,definitionId}') as source_id,\n-                      tepd.release_state as work_flow_publish_status,\n-                      tes.start_time as schedule_start_time,\n-                      tes.end_time as schedule_end_time,\n-                      tes.crontab as crontab,\n-                      tes.release_state as schedule_publish_status\n-                 from t_ds_process_definition tepd\n-                 left join t_ds_schedules tes on tepd.id = tes.process_definition_id\n-                 where tepd.project_id = #{projectId}\n-                 <if test=\"ids != null and ids.size()>0\">\n-                     and  tepd.id in\n-                     <foreach collection=\"ids\" index=\"index\" item=\"i\" open=\"(\" separator=\",\" close=\")\">\n-                     #{i}\n-                     </foreach>\n-                </if>\n-             ) a\n+        a.work_flow_name,\n+        a.is_depend_work_flow,\n+        array_agg(a.source_id) as source_id,\n+        a.work_flow_publish_status,\n+        a.schedule_start_time,\n+        a.schedule_end_time,\n+        a.crontab,\n+        a.schedule_publish_status\n+        from (\n+        select tepd.id as work_flow_id,tepd.name as work_flow_name,\n+        case when tepd.process_definition_json::json#>'{tasks,1,dependence}' is not null then 1 else 0 end as\n+        is_depend_work_flow,\n+        (json_array_elements(tepd.process_definition_json::json#>'{tasks}')#>>'{dependence,dependTaskList,0,dependItemList,0,definitionId}')\n+        as source_id,\n+        tepd.release_state as work_flow_publish_status,\n+        tes.start_time as schedule_start_time,\n+        tes.end_time as schedule_end_time,\n+        tes.crontab as crontab,\n+        tes.release_state as schedule_publish_status\n+        from t_ds_process_definition tepd\n+        left join t_ds_schedules tes on tepd.id = tes.process_definition_id\n+        where tepd.project_id = #{projectId}\n+        <if test=\"ids != null and ids.size()>0\">\n+            and tepd.id in\n+            <foreach collection=\"ids\" index=\"index\" item=\"i\" open=\"(\" separator=\",\" close=\")\">\n+                #{i}\n+            </foreach>\n+        </if>\n+        ) a", "originalCommit": "3c6e999879647899eb3a982a25785054312d79bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUzMzU1MQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531533551", "bodyText": "just remain this!", "author": "hermeshephaestus", "createdAt": "2020-11-27T11:03:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTUyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTc0Nw==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531511747", "bodyText": "Should keep the original format.", "author": "wen-hemin", "createdAt": "2020-11-27T10:25:28Z", "path": "dolphinscheduler-dao/src/main/resources/org/apache/dolphinscheduler/dao/mapper/WorkFlowLineageMapper.xml", "diffHunk": "@@ -49,39 +50,42 @@\n \n     <select id=\"queryByIds\" resultType=\"org.apache.dolphinscheduler.dao.entity.WorkFlowLineage\" databaseId=\"pg\">\n         select a.work_flow_id,\n-               a.work_flow_name,\n-               a.is_depend_work_flow,\n-               array_agg(a.source_id) as source_id,\n-               a.work_flow_publish_status,\n-               a.schedule_start_time,\n-               a.schedule_end_time,\n-               a.crontab,\n-               a.schedule_publish_status\n-         from (\n-               select tepd.id as work_flow_id,tepd.name as work_flow_name,\n-                      case when tepd.process_definition_json::json#>'{tasks,1,dependence}' is not null then 1 else 0 end as is_depend_work_flow,\n-                      (json_array_elements(tepd.process_definition_json::json#>'{tasks}')#>>'{dependence,dependTaskList,0,dependItemList,0,definitionId}') as source_id,\n-                      tepd.release_state as work_flow_publish_status,\n-                      tes.start_time as schedule_start_time,\n-                      tes.end_time as schedule_end_time,\n-                      tes.crontab as crontab,\n-                      tes.release_state as schedule_publish_status\n-                 from t_ds_process_definition tepd\n-                 left join t_ds_schedules tes on tepd.id = tes.process_definition_id\n-                 where tepd.project_id = #{projectId}\n-                 <if test=\"ids != null and ids.size()>0\">\n-                     and  tepd.id in\n-                     <foreach collection=\"ids\" index=\"index\" item=\"i\" open=\"(\" separator=\",\" close=\")\">\n-                     #{i}\n-                     </foreach>\n-                </if>\n-             ) a\n+        a.work_flow_name,\n+        a.is_depend_work_flow,\n+        array_agg(a.source_id) as source_id,\n+        a.work_flow_publish_status,\n+        a.schedule_start_time,\n+        a.schedule_end_time,\n+        a.crontab,\n+        a.schedule_publish_status\n+        from (\n+        select tepd.id as work_flow_id,tepd.name as work_flow_name,\n+        case when tepd.process_definition_json::json#>'{tasks,1,dependence}' is not null then 1 else 0 end as\n+        is_depend_work_flow,\n+        (json_array_elements(tepd.process_definition_json::json#>'{tasks}')#>>'{dependence,dependTaskList,0,dependItemList,0,definitionId}')\n+        as source_id,\n+        tepd.release_state as work_flow_publish_status,\n+        tes.start_time as schedule_start_time,\n+        tes.end_time as schedule_end_time,\n+        tes.crontab as crontab,\n+        tes.release_state as schedule_publish_status\n+        from t_ds_process_definition tepd\n+        left join t_ds_schedules tes on tepd.id = tes.process_definition_id\n+        where tepd.project_id = #{projectId}\n+        <if test=\"ids != null and ids.size()>0\">\n+            and tepd.id in\n+            <foreach collection=\"ids\" index=\"index\" item=\"i\" open=\"(\" separator=\",\" close=\")\">\n+                #{i}\n+            </foreach>\n+        </if>\n+        ) a\n         where (a.is_depend_work_flow = 1 and source_id is not null) or (a.is_depend_work_flow = 0)\n         group by a.work_flow_id,a.work_flow_name,a.is_depend_work_flow,a.work_flow_publish_status,a.schedule_start_time,\n-                 a.schedule_end_time,a.crontab,a.schedule_publish_status\n+        a.schedule_end_time,a.crontab,a.schedule_publish_status", "originalCommit": "3c6e999879647899eb3a982a25785054312d79bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUzMzYwOA==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531533608", "bodyText": "just remain this!", "author": "hermeshephaestus", "createdAt": "2020-11-27T11:03:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTc0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTkxMQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531511911", "bodyText": "Should keep the original format.", "author": "wen-hemin", "createdAt": "2020-11-27T10:25:43Z", "path": "dolphinscheduler-ui/src/js/conf/home/pages/security/pages/tenement/_source/createTenement.vue", "diffHunk": "@@ -1,36 +1,36 @@\n /*\n- * Licensed to the Apache Software Foundation (ASF) under one or more\n- * contributor license agreements.  See the NOTICE file distributed with\n- * this work for additional information regarding copyright ownership.\n- * The ASF licenses this file to You under the Apache License, Version 2.0\n- * (the \"License\"); you may not use this file except in compliance with\n- * the License.  You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n+* Licensed to the Apache Software Foundation (ASF) under one or more\n+* contributor license agreements.  See the NOTICE file distributed with\n+* this work for additional information regarding copyright ownership.\n+* The ASF licenses this file to You under the Apache License, Version 2.0\n+* (the \"License\"); you may not use this file except in compliance with\n+* the License.  You may obtain a copy of the License at\n+*\n+*    http://www.apache.org/licenses/LICENSE-2.0\n+*\n+* Unless required by applicable law or agreed to in writing, software\n+* distributed under the License is distributed on an \"AS IS\" BASIS,\n+* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+* See the License for the specific language governing permissions and\n+* limitations under the License.\n+*/", "originalCommit": "3c6e999879647899eb3a982a25785054312d79bd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUzMzA3Nw==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r531533077", "bodyText": "Just remain this!", "author": "hermeshephaestus", "createdAt": "2020-11-27T11:02:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUxMTkxMQ=="}], "type": "inlineReview"}, {"oid": "09f6ee6e67d37871a286c88727d92c4bddf435d1", "url": "https://github.com/apache/dolphinscheduler/commit/09f6ee6e67d37871a286c88727d92c4bddf435d1", "message": "Delete WorkFlowLineageMapper.xml", "committedDate": "2020-11-28T02:25:21Z", "type": "commit"}, {"oid": "76411b70ae892464350a895ea9f4cdb8fd908f00", "url": "https://github.com/apache/dolphinscheduler/commit/76411b70ae892464350a895ea9f4cdb8fd908f00", "message": "Delete createTenement.vue", "committedDate": "2020-11-28T02:26:31Z", "type": "commit"}, {"oid": "ae7e1b755b3aa557985c9c68443f31270819a355", "url": "https://github.com/apache/dolphinscheduler/commit/ae7e1b755b3aa557985c9c68443f31270819a355", "message": "Merge remote-tracking branch 'upstream/dev' into dev", "committedDate": "2020-11-28T04:25:57Z", "type": "commit"}, {"oid": "fc47f168811f4ea48b7aca5c766030decd28fdc2", "url": "https://github.com/apache/dolphinscheduler/commit/fc47f168811f4ea48b7aca5c766030decd28fdc2", "message": "recove wrongly deleted file", "committedDate": "2020-11-28T04:37:25Z", "type": "commit"}, {"oid": "0603f6d9a3cde5c0c444abc0f8bd0f43bc2c0ab6", "url": "https://github.com/apache/dolphinscheduler/commit/0603f6d9a3cde5c0c444abc0f8bd0f43bc2c0ab6", "message": "Update WorkFlowLineageMapper.xml", "committedDate": "2020-11-28T04:40:22Z", "type": "commit"}, {"oid": "ab81e656987ef982d6a943a54ba0c27156f9bec6", "url": "https://github.com/apache/dolphinscheduler/commit/ab81e656987ef982d6a943a54ba0c27156f9bec6", "message": "Update createTenement.vue", "committedDate": "2020-11-28T04:42:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzA4Mjc2NQ==", "url": "https://github.com/apache/dolphinscheduler/pull/3940#discussion_r543082765", "bodyText": "sql Grammar mistakes", "author": "felix-thinkingdata", "createdAt": "2020-12-15T06:35:41Z", "path": "dolphinscheduler-dao/src/main/resources/org/apache/dolphinscheduler/dao/mapper/ProjectMapper.xml", "diffHunk": "@@ -50,23 +72,29 @@\n         order by p.create_time desc\n     </select>\n     <select id=\"queryAuthedProjectListByUserId\" resultType=\"org.apache.dolphinscheduler.dao.entity.Project\">\n-        select p.*\n+        select\n+        <include refid=\"baseSqlV2\">\n+            <property name=\"alias\" value=\"p\"/>\n+        </include>\n+        ,", "originalCommit": "ab81e656987ef982d6a943a54ba0c27156f9bec6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}