{"pr_number": 953, "pr_title": "BAQE-1567 - Change revapi to check against 7.44.0.Final", "pr_createdAt": "2020-10-01T11:06:02Z", "pr_url": "https://github.com/kiegroup/optaplanner/pull/953", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498162960", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  \"ignore\": []\n          \n          \n            \n                  \"ignore\": [\n          \n          \n            \n                   {\n          \n          \n            \n                       \"code\": \"java.method.returnTypeTypeParametersChanged\",\n          \n          \n            \n                       \"old\": \"method java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getEasyScoreCalculatorClass()\",\n          \n          \n            \n                       \"new\": \"method java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getEasyScoreCalculatorClass()\",\n          \n          \n            \n                       \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator>\",\n          \n          \n            \n                       \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator>\",\n          \n          \n            \n                       \"package\": \"org.optaplanner.core.config.score.director\",\n          \n          \n            \n                       \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n          \n          \n            \n                       \"methodName\": \"getEasyScoreCalculatorClass\",\n          \n          \n            \n                       \"elementKind\": \"method\",\n          \n          \n            \n                       \"justification\": \"Score calculators moved package.\"\n          \n          \n            \n                     },\n          \n          \n            \n                     {\n          \n          \n            \n                       \"code\": \"java.method.returnTypeTypeParametersChanged\",\n          \n          \n            \n                       \"old\": \"method java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getIncrementalScoreCalculatorClass()\",\n          \n          \n            \n                       \"new\": \"method java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getIncrementalScoreCalculatorClass()\",\n          \n          \n            \n                       \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator>\",\n          \n          \n            \n                       \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator>\",\n          \n          \n            \n                       \"package\": \"org.optaplanner.core.config.score.director\",\n          \n          \n            \n                       \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n          \n          \n            \n                       \"methodName\": \"getIncrementalScoreCalculatorClass\",\n          \n          \n            \n                       \"elementKind\": \"method\",\n          \n          \n            \n                       \"justification\": \"Score calculators moved package.\"\n          \n          \n            \n                     },\n          \n          \n            \n                     {\n          \n          \n            \n                       \"code\": \"java.method.parameterTypeParameterChanged\",\n          \n          \n            \n                       \"old\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setEasyScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator>===)\",\n          \n          \n            \n                       \"new\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setEasyScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator>===)\",\n          \n          \n            \n                       \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator>\",\n          \n          \n            \n                       \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator>\",\n          \n          \n            \n                       \"package\": \"org.optaplanner.core.config.score.director\",\n          \n          \n            \n                       \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n          \n          \n            \n                       \"methodName\": \"setEasyScoreCalculatorClass\",\n          \n          \n            \n                       \"parameterIndex\": \"0\",\n          \n          \n            \n                       \"elementKind\": \"parameter\",\n          \n          \n            \n                       \"justification\": \"Score calculators moved package.\"\n          \n          \n            \n                     },\n          \n          \n            \n                     {\n          \n          \n            \n                       \"code\": \"java.method.parameterTypeParameterChanged\",\n          \n          \n            \n                       \"old\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setIncrementalScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator>===)\",\n          \n          \n            \n                       \"new\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setIncrementalScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator>===)\",\n          \n          \n            \n                       \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator>\",\n          \n          \n            \n                       \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator>\",\n          \n          \n            \n                       \"package\": \"org.optaplanner.core.config.score.director\",\n          \n          \n            \n                       \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n          \n          \n            \n                       \"methodName\": \"setIncrementalScoreCalculatorClass\",\n          \n          \n            \n                       \"parameterIndex\": \"0\",\n          \n          \n            \n                       \"elementKind\": \"parameter\",\n          \n          \n            \n                       \"justification\": \"Score calculators moved package.\"\n          \n          \n            \n                     }\n          \n          \n            \n                ]", "author": "triceo", "createdAt": "2020-10-01T11:08:58Z", "path": "optaplanner-core/src/build/revapi-config.json", "diffHunk": "@@ -25,68 +25,8 @@\n   },\n   \"ignores\": {\n     \"revapi\": {\n-      \"_comment\": \"Changes between 7.39.0.Final and the current branch. These changes are desired and thus ignored.\",\n-      \"ignore\": [\n-        {\n-          \"code\": \"java.method.addedToInterface\",\n-          \"new\": \"method org.optaplanner.core.api.solver.SolverJob<Solution_, ProblemId_> org.optaplanner.core.api.solver.SolverManager<Solution_, ProblemId_>::solveAndListen(ProblemId_, java.util.function.Function<? super ProblemId_, ? extends Solution_>, java.util.function.Consumer<? super Solution_>, java.util.function.Consumer<? super Solution_>, java.util.function.BiConsumer<? super ProblemId_, ? super java.lang.Throwable>)\",\n-          \"package\": \"org.optaplanner.core.api.solver\",\n-          \"classSimpleName\": \"SolverManager\",\n-          \"methodName\": \"solveAndListen\",\n-          \"elementKind\": \"method\",\n-          \"justification\": \"SolverManager needs an API that allows a user to listen to both best solution and solver terminated events\"\n-        },\n-        {\n-           \"code\": \"java.method.returnTypeTypeParametersChanged\",\n-           \"old\": \"method java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getEasyScoreCalculatorClass()\",\n-           \"new\": \"method java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getEasyScoreCalculatorClass()\",\n-           \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator>\",\n-           \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator>\",\n-           \"package\": \"org.optaplanner.core.config.score.director\",\n-           \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n-           \"methodName\": \"getEasyScoreCalculatorClass\",\n-           \"elementKind\": \"method\",\n-           \"justification\": \"Score calculators moved package.\"\n-         },\n-         {\n-           \"code\": \"java.method.returnTypeTypeParametersChanged\",\n-           \"old\": \"method java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getIncrementalScoreCalculatorClass()\",\n-           \"new\": \"method java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator> org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::getIncrementalScoreCalculatorClass()\",\n-           \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator>\",\n-           \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator>\",\n-           \"package\": \"org.optaplanner.core.config.score.director\",\n-           \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n-           \"methodName\": \"getIncrementalScoreCalculatorClass\",\n-           \"elementKind\": \"method\",\n-           \"justification\": \"Score calculators moved package.\"\n-         },\n-         {\n-           \"code\": \"java.method.parameterTypeParameterChanged\",\n-           \"old\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setEasyScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator>===)\",\n-           \"new\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setEasyScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator>===)\",\n-           \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.easy.EasyScoreCalculator>\",\n-           \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.EasyScoreCalculator>\",\n-           \"package\": \"org.optaplanner.core.config.score.director\",\n-           \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n-           \"methodName\": \"setEasyScoreCalculatorClass\",\n-           \"parameterIndex\": \"0\",\n-           \"elementKind\": \"parameter\",\n-           \"justification\": \"Score calculators moved package.\"\n-         },\n-         {\n-           \"code\": \"java.method.parameterTypeParameterChanged\",\n-           \"old\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setIncrementalScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator>===)\",\n-           \"new\": \"parameter void org.optaplanner.core.config.score.director.ScoreDirectorFactoryConfig::setIncrementalScoreCalculatorClass(===java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator>===)\",\n-           \"oldType\": \"java.lang.Class<? extends org.optaplanner.core.impl.score.director.incremental.IncrementalScoreCalculator>\",\n-           \"newType\": \"java.lang.Class<? extends org.optaplanner.core.api.score.calculator.IncrementalScoreCalculator>\",\n-           \"package\": \"org.optaplanner.core.config.score.director\",\n-           \"classSimpleName\": \"ScoreDirectorFactoryConfig\",\n-           \"methodName\": \"setIncrementalScoreCalculatorClass\",\n-           \"parameterIndex\": \"0\",\n-           \"elementKind\": \"parameter\",\n-           \"justification\": \"Score calculators moved package.\"\n-         }\n-      ]\n+      \"_comment\": \"Changes between 7.44.0.Final and the current branch. These changes are desired and thus ignored.\",\n+      \"ignore\": []", "originalCommit": "29fb4a75cdf6e0183fe2e10c6b9c238fa44e740b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2MzE1OQ==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498163159", "bodyText": "This does actually need to be there.", "author": "triceo", "createdAt": "2020-10-01T11:09:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE3MDgxNQ==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498170815", "bodyText": "Why? It was not needed when I built it locally.", "author": "MarianMacik", "createdAt": "2020-10-01T11:24:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE3NjY2Nw==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498176667", "bodyText": "The change was merged yesterday. Maybe you didn't have the latest code?", "author": "triceo", "createdAt": "2020-10-01T11:36:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE4ODExNA==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498188114", "bodyText": "I pulled the latest changes today before noon around 11 am. And given that PR check Linux - Pull Request was successful, I guess it works.", "author": "MarianMacik", "createdAt": "2020-10-01T11:58:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE5MTUzOQ==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498191539", "bodyText": "This is incredibly interesting. When I was merging this yesterday, it was necessary. Today, somehow, it is not.\nBut as you say - if Jenkins is green, everything's OK.", "author": "triceo", "createdAt": "2020-10-01T12:05:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODIzMjAwMg==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498232002", "bodyText": "@triceo have you tried returning back the <revapi.oldKieVersion>7.39.0.Final</revapi.oldKieVersion> to see if it's still needed as yesterday?", "author": "rsynek", "createdAt": "2020-10-01T13:11:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc2NjM2OQ==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498766369", "bodyText": "Yeah, now we check 7.x against 7.44.0.Final, so there may no longer be the violations.", "author": "MarianMacik", "createdAt": "2020-10-02T11:31:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc3MTM4OQ==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498771389", "bodyText": "That's the interesting part; the changes @triceo pointed to landed on the 7.x branch only this week:\n71b3552", "author": "rsynek", "createdAt": "2020-10-02T11:44:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg1NDc2OQ==", "url": "https://github.com/kiegroup/optaplanner/pull/953#discussion_r498854769", "bodyText": "Found the culprit.\nThis time I was much quicker than prod guys :) 7.44.0.Final is not released yet and revapi by default skips check if it cannot download the desired artifact. I will configure it to fail (tested locally), so it doesn't happen anymore. Now we just need to wait till next week, so it is released. Thanks for spotting it.", "author": "MarianMacik", "createdAt": "2020-10-02T14:25:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE2Mjk2MA=="}], "type": "inlineReview"}, {"oid": "1a797ae8bfd734a8717125778ba78b77c027a4dc", "url": "https://github.com/kiegroup/optaplanner/commit/1a797ae8bfd734a8717125778ba78b77c027a4dc", "message": "BAQE-1567 - Change revapi to check against 7.44.0.Final", "committedDate": "2020-10-07T13:00:19Z", "type": "commit"}, {"oid": "1a797ae8bfd734a8717125778ba78b77c027a4dc", "url": "https://github.com/kiegroup/optaplanner/commit/1a797ae8bfd734a8717125778ba78b77c027a4dc", "message": "BAQE-1567 - Change revapi to check against 7.44.0.Final", "committedDate": "2020-10-07T13:00:19Z", "type": "forcePushed"}]}