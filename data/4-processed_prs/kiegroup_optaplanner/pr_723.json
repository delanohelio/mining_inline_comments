{"pr_number": 723, "pr_title": "PLANNER-1907 Add daemon to SolverProperties", "pr_createdAt": "2020-03-18T12:58:43Z", "pr_url": "https://github.com/kiegroup/optaplanner/pull/723", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg0OTk0Mg==", "url": "https://github.com/kiegroup/optaplanner/pull/723#discussion_r394849942", "bodyText": "Can we make that more descriptive of what daemon means? How about something like:\nIn daemon mode, non-early termination pauses the solver instead of stopping it, until the next problem fact change arrives. This is often useful for real-time planning.\nDefaults to {@code false}.", "author": "ge0ffrey", "createdAt": "2020-03-19T08:09:40Z", "path": "optaplanner-integration/optaplanner-spring-boot-autoconfigure/src/main/java/org/optaplanner/spring/boot/autoconfigure/SolverProperties.java", "diffHunk": "@@ -27,6 +27,10 @@\n      * Defaults to {@link EnvironmentMode#REPRODUCIBLE}.\n      */\n     private EnvironmentMode environmentMode;\n+    /**\n+     * Enable daemon mode (disabled by default).\n+     */", "originalCommit": "c5be8a1df9a280fb12ee60683679cdfe81259ef3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg5MDEwMg==", "url": "https://github.com/kiegroup/optaplanner/pull/723#discussion_r394890102", "bodyText": "I like the idea of mentioning real-time planning. That gives a hint to someone that comes across this accidentally and has no idea what daemon mode could mean.\nOn the other hand I'd suggest to keep the documentation short and simple. This is not Javadoc. This is a text that will be used as a property description (without any processing, so things like {@link} that we use in Javadoc will appear there unprocessed). See https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-custom-starter-configuration-keys", "author": "yurloc", "createdAt": "2020-03-19T09:25:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg0OTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDkwMDQ2Ng==", "url": "https://github.com/kiegroup/optaplanner/pull/723#discussion_r394900466", "bodyText": "I would shorten it to\nEnable daemon mode. This is often useful for real-time planning.\nDisabled by default.\n\nWdyt?", "author": "yurloc", "createdAt": "2020-03-19T09:43:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg0OTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDkxMDA1Ng==", "url": "https://github.com/kiegroup/optaplanner/pull/723#discussion_r394910056", "bodyText": "\"Disabled by default\", the other javadocs and docs use \"Defaults to ...\", let's be consistent.\nI am ok with the shorter description, I agree that the hint to \"real-time planning\" is what matters.\nIf the usage of @link etc in the javadoc for such properties causes issues somewhere for spring boot, like in IntelliJ auto-completion in application.properties, please create a jira with a screenshot (and if you're into it a PR to fix that across all our properties ;-)\nAs for our docs: our docs are not javadoc, but we need a listing of all sprng-boot-starter properties somewhere (same goes for quarkus). So far just putting them in the docs is the best I figured out: refactors welcome. Meanwhile do add it so it doesn't go out of sync.", "author": "ge0ffrey", "createdAt": "2020-03-19T09:59:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg0OTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA1OTQ4Mw==", "url": "https://github.com/kiegroup/optaplanner/pull/723#discussion_r395059483", "bodyText": "Merged, I saw you went back to the longer description. Note that the shorter was was fine too (just was asking for the \"Default to \" consistency with others).\nThanks Jiri!", "author": "ge0ffrey", "createdAt": "2020-03-19T14:18:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg0OTk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTEwMTUxMA==", "url": "https://github.com/kiegroup/optaplanner/pull/723#discussion_r395101510", "bodyText": "Yes. In IDEA there are two modes of displaying the configuration key description.\nOne is in the hint window when you're choosing from available properties. In this case it only shows the first sentence. So it is good to have the first sentence as simple as possible.\n\nThe second mode is when you display the documentation window for a property that is used in application.properties. In this case it displays the whole description and there's a plenty of space so it's actually no problem to display more details. Therefore I've decided to go with your proposal.", "author": "yurloc", "createdAt": "2020-03-19T15:12:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg0OTk0Mg=="}], "type": "inlineReview"}, {"oid": "3814729bc8a42381aa0d499f68a09171505c140e", "url": "https://github.com/kiegroup/optaplanner/commit/3814729bc8a42381aa0d499f68a09171505c140e", "message": "PLANNER-1907 Add daemon to SolverProperties\n\nThis allows to set daemon mode through application.properties or system\nproperties.\n\nExample application.properties:\noptaplanner.solver.daemon=true", "committedDate": "2020-03-19T09:46:14Z", "type": "forcePushed"}, {"oid": "1b19fb77ca90e98ddf4f22f10668cefba1d05ed0", "url": "https://github.com/kiegroup/optaplanner/commit/1b19fb77ca90e98ddf4f22f10668cefba1d05ed0", "message": "PLANNER-1907 Add daemon to SolverProperties\n\nThis allows to set daemon mode through application.properties or system\nproperties.\n\nExample application.properties:\noptaplanner.solver.daemon=true", "committedDate": "2020-03-19T14:11:52Z", "type": "commit"}, {"oid": "1b19fb77ca90e98ddf4f22f10668cefba1d05ed0", "url": "https://github.com/kiegroup/optaplanner/commit/1b19fb77ca90e98ddf4f22f10668cefba1d05ed0", "message": "PLANNER-1907 Add daemon to SolverProperties\n\nThis allows to set daemon mode through application.properties or system\nproperties.\n\nExample application.properties:\noptaplanner.solver.daemon=true", "committedDate": "2020-03-19T14:11:52Z", "type": "forcePushed"}]}