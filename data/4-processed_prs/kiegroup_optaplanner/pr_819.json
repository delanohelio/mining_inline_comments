{"pr_number": 819, "pr_title": "Change master version to 8.0.0-SNAPSHOT (8.x - step 1)", "pr_createdAt": "2020-06-30T11:26:03Z", "pr_url": "https://github.com/kiegroup/optaplanner/pull/819", "timeline": [{"oid": "b66b02af76077d4848a90c1c310fc9ce0dccbe0b", "url": "https://github.com/kiegroup/optaplanner/commit/b66b02af76077d4848a90c1c310fc9ce0dccbe0b", "message": "Change master version to 8.0.0-SNAPSHOT", "committedDate": "2020-06-30T11:23:56Z", "type": "commit"}, {"oid": "af1d1278127eb623eb23a2a65654e911f060da01", "url": "https://github.com/kiegroup/optaplanner/commit/af1d1278127eb623eb23a2a65654e911f060da01", "message": "Copy optaplanner-bom 8.x and introduce optaplanner-build-parent", "committedDate": "2020-06-30T12:58:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY2MzMwNA==", "url": "https://github.com/kiegroup/optaplanner/pull/819#discussion_r447663304", "bodyText": "This file was duplicated from droolsjbpm-build-bootstrap, which has the 7.x version (and cannot host the 8.x version because there is no 8 there).\nAdvantages of moving it here:\n\nOnce it extends optaplanner-parent, half of the file can be removed (url, scm, issueManagement, etc)\nLess cross-repo PR's.\nEasier maintenance\n\nDisavantages:\nWe need to split up optaplanner's parent from build-parent (just like quarkus does).", "author": "ge0ffrey", "createdAt": "2020-06-30T13:01:39Z", "path": "optaplanner-bom/pom.xml", "diffHunk": "@@ -0,0 +1,487 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <!-- TODO In step 3, this must extend optaplanner-parent instead and stop duplicating this metadata -->\n+    <!-- But for that to work, optaplanner-parent must have an empty dependencyManagement (so no kie-parent parent) -->\n+    <groupId>org.kie</groupId>\n+    <artifactId>kie-user-bom-parent</artifactId>\n+    <version>7.40.0-SNAPSHOT</version>\n+  </parent>\n+\n+  <groupId>org.optaplanner</groupId>\n+  <artifactId>optaplanner-bom</artifactId>\n+  <packaging>pom</packaging>\n+  <version>8.0.0-SNAPSHOT</version>", "originalCommit": "af1d1278127eb623eb23a2a65654e911f060da01", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY2NTg0Nw==", "url": "https://github.com/kiegroup/optaplanner/pull/819#discussion_r447665847", "bodyText": "So, why this pom?\n\nThe optaplanner-parent will (after step 3) hold all the metadata (url, scm, repo's, etc), maven plugin configuration (think enforcer, rules etc) etc. But it cannot hold the dependencies because optaplanner-bom extends it.\nThe optaplanner-build-parent will (after step 3) extend optaplanner-parent and hold all dependencies, and also import optaplanner-bom.\noptaplanner-core, etc extend optaplanner-build-parent (not optaplanner-parent)", "author": "ge0ffrey", "createdAt": "2020-06-30T13:05:33Z", "path": "optaplanner-build-parent/pom.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.optaplanner</groupId>\n+    <artifactId>optaplanner-parent</artifactId>\n+    <version>8.0.0-SNAPSHOT</version>\n+  </parent>\n+\n+  <artifactId>optaplanner-build-parent</artifactId>\n+  <packaging>pom</packaging>", "originalCommit": "af1d1278127eb623eb23a2a65654e911f060da01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODIxMzYxNA==", "url": "https://github.com/kiegroup/optaplanner/pull/819#discussion_r448213614", "bodyText": "If I understand it correctly, the optaplanner-parent should server as a parent pom for both the optaplanner-bom and the optaplanner-build-parent.\nWhat is the reason for the intention to define plugin configuration in the optaplanner-parent? Plugin configuration is specific for the build of the OptaPlanner project, so I would rather expect them to be defined in the optaplanner-build-parent.", "author": "rsynek", "createdAt": "2020-07-01T08:47:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY2NTg0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM3NzQwMw==", "url": "https://github.com/kiegroup/optaplanner/pull/819#discussion_r448377403", "bodyText": "Good point. Agreed. When we do step 3, plugin configuration should go into optaplanner-build-parent, not in optaplanner-parent.", "author": "ge0ffrey", "createdAt": "2020-07-01T13:50:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY2NTg0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcyNzE0NA==", "url": "https://github.com/kiegroup/optaplanner/pull/819#discussion_r447727144", "bodyText": "Should have empty <relativePath/> otherwise:\n[WARNING] 'parent.relativePath' of POM org.optaplanner:optaplanner-bom:8.0.0-SNAPSHOT (/home/jlocker/src/github.com/kiegroup/optaplanner/optaplanner-bom/pom.xml) points at org.optaplanner:optaplanner-parent instead of org.kie:kie-user-bom-parent, please verify your project structure @ line 6, column 11", "author": "yurloc", "createdAt": "2020-06-30T14:28:04Z", "path": "optaplanner-bom/pom.xml", "diffHunk": "@@ -0,0 +1,487 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <!-- TODO In step 3, this must extend optaplanner-parent instead and stop duplicating this metadata -->\n+    <!-- But for that to work, optaplanner-parent must have an empty dependencyManagement (so no kie-parent parent) -->\n+    <groupId>org.kie</groupId>\n+    <artifactId>kie-user-bom-parent</artifactId>\n+    <version>7.40.0-SNAPSHOT</version>\n+  </parent>", "originalCommit": "af1d1278127eb623eb23a2a65654e911f060da01", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE2MDQ5NQ==", "url": "https://github.com/kiegroup/optaplanner/pull/819#discussion_r448160495", "bodyText": "Good point, fixed :)", "author": "ge0ffrey", "createdAt": "2020-07-01T07:10:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcyNzE0NA=="}], "type": "inlineReview"}, {"oid": "25bff2331c9c25ba2fa24e0db681fee295eeedbd", "url": "https://github.com/kiegroup/optaplanner/commit/25bff2331c9c25ba2fa24e0db681fee295eeedbd", "message": "Fix optaplanner-bom pom's relativePath warning", "committedDate": "2020-07-01T07:10:23Z", "type": "commit"}, {"oid": "a0e6b68e50d4dfe98088e5699d97a12c7f7596b1", "url": "https://github.com/kiegroup/optaplanner/commit/a0e6b68e50d4dfe98088e5699d97a12c7f7596b1", "message": "Embed content of kie-user-bom-parent to avoid littering the bom with repository elements.", "committedDate": "2020-07-01T15:23:29Z", "type": "commit"}]}