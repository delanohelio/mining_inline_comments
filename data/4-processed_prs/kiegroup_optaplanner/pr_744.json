{"pr_number": 744, "pr_title": "PLANNER-1876 Create a code style for OptaPlanner project", "pr_createdAt": "2020-04-13T11:33:11Z", "pr_url": "https://github.com/kiegroup/optaplanner/pull/744", "timeline": [{"oid": "25a4e502c910b4df8372243a206e7fca257c37fe", "url": "https://github.com/kiegroup/optaplanner/commit/25a4e502c910b4df8372243a206e7fca257c37fe", "message": "PLANNER-1876 Create a code style for OptaPlanner project", "committedDate": "2020-04-13T11:29:09Z", "type": "commit"}, {"oid": "030c009a5b23f6558e91084a83598fbf7ac55ba5", "url": "https://github.com/kiegroup/optaplanner/commit/030c009a5b23f6558e91084a83598fbf7ac55ba5", "message": "PLANNER-1876 Configure formatter and impsort plugins", "committedDate": "2020-04-13T11:29:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMTM1OQ==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r407911359", "bodyText": "Trailing space.", "author": "yurloc", "createdAt": "2020-04-14T07:07:22Z", "path": "optaplanner-benchmark/src/main/java/org/optaplanner/benchmark/impl/aggregator/swingui/BenchmarkAggregatorFrame.java", "diffHunk": "@@ -84,6 +85,7 @@\n     /**\n      * Reads an XML benchmark configuration from the classpath\n      * and uses that {@link PlannerBenchmarkConfig} to do an aggregation.\n+     * ", "originalCommit": "155115864917508800a0d3dc0717f415daa888d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkzMjMyMA==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r407932320", "bodyText": "OK, this seems to be done by the Eclipse formatter. There's nothing we can do about it, I guess.", "author": "yurloc", "createdAt": "2020-04-14T07:46:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMTM1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk2MzI0Ng==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r407963246", "bodyText": "Nice catch. This is truly done by the formatter - both the IDEA and maven plugin. If there is already an empty line before the @param mark, no space is added. However, when the formatter needs to include the empty line, it does include the trailing space as well.\nUnfortunately, I don't see any systematic way of avoiding this. I quickly checked the Quarkus codebase and it has the same issue too.", "author": "rsynek", "createdAt": "2020-04-14T08:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMTM1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk4MTI0Ng==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r407981246", "bodyText": "I checked again and crossed out my previous comment. After enabling Eclipse formatter plugin and formatting the code in my IDEA, empty Javadoc lines were inserted but without the trailing space.\nIt could be because I have this enabled:\n\nI recommend this setting to everyone.", "author": "yurloc", "createdAt": "2020-04-14T09:06:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMTM1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3MjMwMg==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r408172302", "bodyText": "+1 for using this setting. On the other hand, it does not prevent such a trailing space from occurring. The maven formatter plugin adds them too and so does Eclipse IDE (well, there is way of configuration auto-removal there too).", "author": "rsynek", "createdAt": "2020-04-14T14:17:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkxMTM1OQ=="}], "type": "inlineReview"}, {"oid": "a2e337b0fd1df51af519147784ecac115b3e4869", "url": "https://github.com/kiegroup/optaplanner/commit/a2e337b0fd1df51af519147784ecac115b3e4869", "message": "Comment out code formatting plugins", "committedDate": "2020-04-14T08:22:19Z", "type": "commit"}, {"oid": "a2e337b0fd1df51af519147784ecac115b3e4869", "url": "https://github.com/kiegroup/optaplanner/commit/a2e337b0fd1df51af519147784ecac115b3e4869", "message": "Comment out code formatting plugins", "committedDate": "2020-04-14T08:22:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIxNjMzNw==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r408216337", "bodyText": "@rsynek This duplicates the content of eclipse.importorder - why?", "author": "yurloc", "createdAt": "2020-04-14T15:12:29Z", "path": "pom.xml", "diffHunk": "@@ -279,8 +298,55 @@\n             </execution>\n           </executions>\n         </plugin>\n+        <plugin>\n+          <groupId>net.revelc.code.formatter</groupId>\n+          <artifactId>formatter-maven-plugin</artifactId>\n+          <version>2.11.0</version>\n+          <configuration>\n+            <configFile>${format.directory}/eclipse-format.xml</configFile>\n+            <skip>${formatter.skip}</skip>\n+          </configuration>\n+          <executions>\n+            <execution>\n+              <goals>\n+                <goal>${formatter.goal}</goal>\n+              </goals>\n+            </execution>\n+          </executions>\n+        </plugin>\n+        <plugin>\n+          <groupId>net.revelc.code</groupId>\n+          <artifactId>impsort-maven-plugin</artifactId>\n+          <version>1.3.2</version>\n+          <configuration>\n+            <groups>java.,javax.,org.,com.</groups>", "originalCommit": "a2e337b0fd1df51af519147784ecac115b3e4869", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIzNzk2NQ==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r408237965", "bodyText": "There is no way of passing the file into this plugin and at the same time, the formatter plugin does not care about imports. So yes, there is a duplication of the imports between the maven plugin use case and the IDE use case.", "author": "rsynek", "createdAt": "2020-04-14T15:40:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODIxNjMzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMxODcyNA==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r409318724", "bodyText": "What about packages starting with something else, like ch, it, cz, io, net etc.?", "author": "yurloc", "createdAt": "2020-04-16T06:46:40Z", "path": "ide-configuration/eclipse.importorder", "diffHunk": "@@ -0,0 +1,7 @@\n+#Organize Import Order\n+#Wed Jan 23 12:03:29 AEDT 2019\n+0=java\n+1=javax\n+2=org\n+3=com", "originalCommit": "a2e337b0fd1df51af519147784ecac115b3e4869", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQzNzc3OA==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r409437778", "bodyText": "Packages that are not mentioned here go after the mentioned ones and are sorted lexicographically.", "author": "rsynek", "createdAt": "2020-04-16T10:06:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMxODcyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQ3NTk0MA==", "url": "https://github.com/kiegroup/optaplanner/pull/744#discussion_r409475940", "bodyText": "Thanks!", "author": "yurloc", "createdAt": "2020-04-16T11:14:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMxODcyNA=="}], "type": "inlineReview"}]}