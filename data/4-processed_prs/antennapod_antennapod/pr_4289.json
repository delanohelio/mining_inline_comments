{"pr_number": 4289, "pr_title": "Add subscriptions filter", "pr_createdAt": "2020-07-13T16:05:30Z", "pr_url": "https://github.com/AntennaPod/AntennaPod/pull/4289", "timeline": [{"oid": "76b65883f1ca9a30d5a10868f6ca2e8640e79cd1", "url": "https://github.com/AntennaPod/AntennaPod/commit/76b65883f1ca9a30d5a10868f6ca2e8640e79cd1", "message": "Add basic function of Hiding subscriptions where counter is zero", "committedDate": "2020-07-13T15:45:06Z", "type": "commit"}, {"oid": "30d05e12a910205bb692b2569ba4661b0c8ced58", "url": "https://github.com/AntennaPod/AntennaPod/commit/30d05e12a910205bb692b2569ba4661b0c8ced58", "message": "Better strings", "committedDate": "2020-07-13T16:03:26Z", "type": "commit"}, {"oid": "37dd3519fc462c80ed5cd609f6961c0576e50ba8", "url": "https://github.com/AntennaPod/AntennaPod/commit/37dd3519fc462c80ed5cd609f6961c0576e50ba8", "message": "add filter settings list", "committedDate": "2020-07-16T10:29:22Z", "type": "commit"}, {"oid": "88661a1fd2252372675de046bda6413b95af0cda", "url": "https://github.com/AntennaPod/AntennaPod/commit/88661a1fd2252372675de046bda6413b95af0cda", "message": "add filter message message", "committedDate": "2020-07-16T16:32:02Z", "type": "commit"}, {"oid": "a7053ec82b02415b4a562d065db4f4afe76b5071", "url": "https://github.com/AntennaPod/AntennaPod/commit/a7053ec82b02415b4a562d065db4f4afe76b5071", "message": "update subscriptions", "committedDate": "2020-07-16T16:39:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA4NjQzMQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r456086431", "bodyText": "Please use if statements with braces (that's why CI fails)", "author": "ByteHamster", "createdAt": "2020-07-16T21:24:26Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/NavDrawerFragment.java", "diffHunk": "@@ -111,6 +119,10 @@ private void updateSelection() {\n             }\n         }\n         navAdapter.notifyDataSetChanged();\n+        if (UserPreferences.getFeedFilter() != UserPreferences.FEED_FILTER_NONE)\n+            filteredMsg.setVisibility(View.VISIBLE);", "originalCommit": "a7053ec82b02415b4a562d065db4f4afe76b5071", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA4ODIyMw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r456088223", "bodyText": "I would prefer using a normal Preference here and showing the dialog on click. This makes sure that the settings are always presented consistently.\nNow we have 3 settings related to subscriptions (order, counter, filter). I think this would look great in a PreferenceCategory called \"Subscriptions\" (just like \"Appearance\" category above).\nPlease make sure to use the same indention as the rest of the file.", "author": "ByteHamster", "createdAt": "2020-07-16T21:28:19Z", "path": "app/src/main/res/xml/preferences_user_interface.xml", "diffHunk": "@@ -29,6 +29,13 @@\n                 android:key=\"prefDrawerFeedIndicator\"\n                 android:summary=\"@string/pref_nav_drawer_feed_counter_sum\"\n                 android:defaultValue=\"1\"/>\n+        <ListPreference\n+            android:entryValues=\"@array/nav_drawer_feed_filter_values\"\n+            android:entries=\"@array/nav_drawer_feed_filter_options\"\n+            android:title=\"@string/pref_filter_feed_title\"\n+            android:key=\"prefFeedFilter\"\n+            android:summary=\"@string/pref_filter_feed_sum\"\n+            android:defaultValue=\"0\"/>", "originalCommit": "a7053ec82b02415b4a562d065db4f4afe76b5071", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA4OTI2Nw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r456089267", "bodyText": "Please add a line break between the two blocks", "author": "ByteHamster", "createdAt": "2020-07-16T21:30:38Z", "path": "core/src/main/res/values/arrays.xml", "diffHunk": "@@ -233,6 +233,15 @@\n         <item>3</item>\n     </string-array>\n \n+    <string-array name=\"nav_drawer_feed_filter_values\">\n+        <item>0</item>\n+        <item>1</item>\n+    </string-array>\n+    <string-array name=\"nav_drawer_feed_filter_options\">", "originalCommit": "a7053ec82b02415b4a562d065db4f4afe76b5071", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA5MDkxNA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r456090914", "bodyText": "I would reword this a bit.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"pref_filter_feed_title\">Set Subscription Filter</string>\n          \n          \n            \n                <string name=\"pref_filter_feed_sum\">Filter your subscriptions-screen</string>\n          \n          \n            \n                <string name=\"hide_subscriptions_where_counter_is_zero\">Hide Subscriptions where counter is zero</string>\n          \n          \n            \n                <string name=\"feed_is_filtered\">Your subscriptions are filtered.</string>\n          \n          \n            \n                <string name=\"pref_filter_feed_title\">Subscription Filter</string>\n          \n          \n            \n                <string name=\"pref_filter_feed_sum\">Filter your subscriptions screen</string>\n          \n          \n            \n                <string name=\"hide_subscriptions_where_counter_is_zero\">Hide if counter is zero</string>\n          \n          \n            \n                <string name=\"feed_is_filtered\">Your subscriptions are filtered.</string>", "author": "ByteHamster", "createdAt": "2020-07-16T21:34:15Z", "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -527,6 +527,10 @@\n     <string name=\"back_button_go_to_page_title\">Select page</string>\n     <string name=\"pref_delete_removes_from_queue_title\">Delete removes from Queue</string>\n     <string name=\"pref_delete_removes_from_queue_sum\">Automatically remove an episode from the queue when it is deleted.</string>\n+    <string name=\"pref_filter_feed_title\">Set Subscription Filter</string>\n+    <string name=\"pref_filter_feed_sum\">Filter your subscriptions-screen</string>\n+    <string name=\"hide_subscriptions_where_counter_is_zero\">Hide Subscriptions where counter is zero</string>\n+    <string name=\"feed_is_filtered\">Your subscriptions are filtered.</string>", "originalCommit": "a7053ec82b02415b4a562d065db4f4afe76b5071", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA5MjcwMQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r456092701", "bodyText": "I would prefer to not reformat unrelated code because this leads to merge conflicts and makes git blame harder to read. We do not have a consistent code style for xml files that is checked on CI, so xml files get reformatted back and forth.", "author": "ByteHamster", "createdAt": "2020-07-16T21:38:06Z", "path": "app/src/main/res/menu/subscriptions.xml", "diffHunk": "@@ -1,35 +1,40 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-      xmlns:custom=\"http://schemas.android.com/apk/res-auto\">\n+    xmlns:custom=\"http://schemas.android.com/apk/res-auto\">\n \n     <item\n-            android:id=\"@+id/refresh_item\"\n-            android:title=\"@string/refresh_label\"\n-            android:menuCategory=\"container\"\n-            custom:showAsAction=\"always\"\n-            android:icon=\"?attr/navigation_refresh\"/>\n+        android:id=\"@+id/refresh_item\"\n+        android:icon=\"?attr/navigation_refresh\"\n+        android:menuCategory=\"container\"\n+        android:title=\"@string/refresh_label\"\n+        custom:showAsAction=\"always\" />\n \n     <item\n-            android:id=\"@+id/subscription_num_columns\"\n-            android:title=\"@string/subscription_num_columns\"\n-            custom:showAsAction=\"never\">\n+        android:id=\"@+id/subscriptions_filter\"\n+        android:title=\"@string/filter\"\n+        custom:showAsAction=\"never\" />\n+\n+    <item\n+        android:id=\"@+id/subscription_num_columns\"\n+        android:title=\"@string/subscription_num_columns\"\n+        custom:showAsAction=\"never\">\n         <menu>\n             <item\n-                    android:id=\"@+id/subscription_num_columns_2\"\n-                    android:checkable=\"true\"\n-                    android:title=\"2\"/>\n+                android:id=\"@+id/subscription_num_columns_2\"\n+                android:checkable=\"true\"\n+                android:title=\"2\" />", "originalCommit": "a7053ec82b02415b4a562d065db4f4afe76b5071", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM3ODMxNA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r456378314", "bodyText": "I tried to revert this but these changes were made through android studios auto reformat and if I copy the code from the old files and paste them again they get automatically reformatted \ud83d\ude05", "author": "asdoi", "createdAt": "2020-07-17T11:13:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA5MjcwMQ=="}], "type": "inlineReview"}, {"oid": "bba061ba963b08b326efc3b2d4bb87e9a00764b0", "url": "https://github.com/AntennaPod/AntennaPod/commit/bba061ba963b08b326efc3b2d4bb87e9a00764b0", "message": "add suggestions", "committedDate": "2020-07-17T10:49:39Z", "type": "commit"}, {"oid": "2cbb98bfa5091f91c6778780f6c3de7cb2582b0b", "url": "https://github.com/AntennaPod/AntennaPod/commit/2cbb98bfa5091f91c6778780f6c3de7cb2582b0b", "message": "some ui changes", "committedDate": "2020-07-17T10:57:14Z", "type": "commit"}, {"oid": "88715e79fa314ab9da242467c2605b14f577db58", "url": "https://github.com/AntennaPod/AntennaPod/commit/88715e79fa314ab9da242467c2605b14f577db58", "message": "new preference category \"Subscriptions\"", "committedDate": "2020-07-17T11:00:40Z", "type": "commit"}, {"oid": "9b6dd6b905a53fe2b6f1e05f1361a3c122a8a7be", "url": "https://github.com/AntennaPod/AntennaPod/commit/9b6dd6b905a53fe2b6f1e05f1361a3c122a8a7be", "message": "undo reformat in some more files", "committedDate": "2020-07-17T11:07:00Z", "type": "commit"}, {"oid": "6a7f68b545437f1a30a1247228a98c2a79b5d9c9", "url": "https://github.com/AntennaPod/AntennaPod/commit/6a7f68b545437f1a30a1247228a98c2a79b5d9c9", "message": "Revert \"undo reformat in some more files\"\n\nThis reverts commit 9b6dd6b9", "committedDate": "2020-07-17T11:09:45Z", "type": "commit"}, {"oid": "3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "url": "https://github.com/AntennaPod/AntennaPod/commit/3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "message": "update user interface sum", "committedDate": "2020-07-20T12:20:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxMDkxNQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r457910915", "bodyText": "Please create a new string for this (no_filter_label, \"No filter\"). There is a difference between filter/none and select/none in German, even if it is both \"none\" in English. I created #4305 to rename the string, so this is more clear.", "author": "ByteHamster", "createdAt": "2020-07-21T08:01:59Z", "path": "core/src/main/res/values/arrays.xml", "diffHunk": "@@ -233,6 +233,16 @@\n         <item>3</item>\n     </string-array>\n \n+    <string-array name=\"nav_drawer_feed_filter_values\">\n+        <item>0</item>\n+        <item>1</item>\n+    </string-array>\n+\n+    <string-array name=\"nav_drawer_feed_filter_options\">\n+        <item>@string/none_label</item>", "originalCommit": "3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxMjYxOQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r457912619", "bodyText": "Please add braces. To see more checkstyle violations, please have a look at the output of the static-analysis CI task.", "author": "ByteHamster", "createdAt": "2020-07-21T08:05:17Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/SubscriptionFragment.java", "diffHunk": "@@ -198,6 +209,11 @@ private void loadSubscriptions() {\n                     emptyView.updateVisibility();\n                     progressBar.setVisibility(View.GONE);\n                 }, error -> Log.e(TAG, Log.getStackTraceString(error)));\n+\n+        if (UserPreferences.getFeedFilter() != UserPreferences.FEED_FILTER_NONE)\n+            filterMsg.setVisibility(View.VISIBLE);\n+        else\n+            filterMsg.setVisibility(View.GONE);", "originalCommit": "3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxNDk5MQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r457914991", "bodyText": "Maybe you can use another editor or something like git checkout develop filename to revert the formatting changes if this does not work in Android Studio.", "author": "ByteHamster", "createdAt": "2020-07-21T08:09:22Z", "path": "app/src/main/res/menu/subscriptions.xml", "diffHunk": "@@ -1,35 +1,40 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-      xmlns:custom=\"http://schemas.android.com/apk/res-auto\">\n+    xmlns:custom=\"http://schemas.android.com/apk/res-auto\">\n \n     <item\n-            android:id=\"@+id/refresh_item\"\n-            android:title=\"@string/refresh_label\"\n-            android:menuCategory=\"container\"\n-            custom:showAsAction=\"always\"\n-            android:icon=\"?attr/navigation_refresh\"/>\n+        android:id=\"@+id/refresh_item\"\n+        android:title=\"@string/refresh_label\"\n+        android:menuCategory=\"container\"\n+        custom:showAsAction=\"always\"\n+        android:icon=\"?attr/navigation_refresh\"/>\n \n     <item\n-            android:id=\"@+id/subscription_num_columns\"\n-            android:title=\"@string/subscription_num_columns\"\n-            custom:showAsAction=\"never\">\n+        android:id=\"@+id/subscriptions_filter\"\n+        android:title=\"@string/filter\"\n+        custom:showAsAction=\"never\" />\n+\n+    <item\n+        android:id=\"@+id/subscription_num_columns\"\n+        android:title=\"@string/subscription_num_columns\"\n+        custom:showAsAction=\"never\">\n         <menu>\n             <item\n-                    android:id=\"@+id/subscription_num_columns_2\"\n-                    android:checkable=\"true\"\n-                    android:title=\"2\"/>\n+                android:id=\"@+id/subscription_num_columns_2\"\n+                android:checkable=\"true\"\n+                android:title=\"2\"/>\n             <item\n-                    android:id=\"@+id/subscription_num_columns_3\"\n-                    android:checkable=\"true\"\n-                    android:title=\"3\"/>\n+                android:id=\"@+id/subscription_num_columns_3\"\n+                android:checkable=\"true\"\n+                android:title=\"3\"/>\n             <item\n-                    android:id=\"@+id/subscription_num_columns_4\"\n-                    android:checkable=\"true\"\n-                    android:title=\"4\"/>\n+                android:id=\"@+id/subscription_num_columns_4\"\n+                android:checkable=\"true\"\n+                android:title=\"4\"/>\n             <item\n-                    android:id=\"@+id/subscription_num_columns_5\"\n-                    android:checkable=\"true\"\n-                    android:title=\"5\"/>\n+                android:id=\"@+id/subscription_num_columns_5\"\n+                android:checkable=\"true\"\n+                android:title=\"5\"/>", "originalCommit": "3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA0ODA1Nw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r458048057", "bodyText": "Well I just used github's web editor \ud83d\ude09", "author": "asdoi", "createdAt": "2020-07-21T12:11:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxNDk5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxNjAzNw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r457916037", "bodyText": "Please turn the iteration order around (instead of 0...size to size...0). The reason is that this sometimes skips indices when removing an item. You can therefore end up with feeds that have counter 0 and are still displayed.", "author": "ByteHamster", "createdAt": "2020-07-21T08:11:11Z", "path": "core/src/main/java/de/danoeh/antennapod/core/storage/DBReader.java", "diffHunk": "@@ -898,6 +898,16 @@ public static NavDrawerData getNavDrawerData() {\n         }\n         final LongIntMap feedCounters = adapter.getFeedCounters(feedIds);\n \n+        int feedFilter = UserPreferences.getFeedFilter();\n+        if (feedFilter == UserPreferences.FEED_FILTER_COUNTER_ZERO) {\n+            for (int i = 0; i < feeds.size(); i++) {", "originalCommit": "3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxOTk0OA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r457919948", "bodyText": "I think it would be cool if the message could be displayed above the subscriptions list (directly below the separator line). That way, you do not run into the situation that subscriptions are cut off by the filter message (see screenshot)\n\nThe starting point for this change would be NavListAdapter.getSectionDividerView. The dialog can then be shown in NavDrawerFragment.onItemClick.", "author": "ByteHamster", "createdAt": "2020-07-21T08:17:55Z", "path": "app/src/main/res/layout/nav_list.xml", "diffHunk": "@@ -1,74 +1,119 @@\n <?xml version='1.0' encoding='utf-8'?>\n <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:id=\"@+id/nav_layout\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:background=\"?android:attr/windowBackground\">\n \n     <LinearLayout\n-        android:id=\"@+id/nav_settings\"\n+        android:id=\"@+id/nav_bottom_bar\"\n         android:layout_width=\"match_parent\"\n-        android:layout_height=\"@dimen/listitem_iconwithtext_height\"\n+        android:layout_height=\"wrap_content\"\n         android:layout_alignParentBottom=\"true\"\n-        android:background=\"?attr/selectableItemBackground\"\n-        android:contentDescription=\"@string/settings_label\"\n         android:accessibilityTraversalBefore=\"@id/nav_list\"\n-        android:orientation=\"horizontal\"\n-        android:focusable=\"true\">\n+        android:orientation=\"vertical\">\n \n-        <ImageView\n-            android:id=\"@+id/imgvCover\"\n-            android:layout_width=\"@dimen/thumbnail_length_navlist\"\n-            android:layout_height=\"@dimen/thumbnail_length_navlist\"\n-            android:layout_marginBottom=\"4dp\"\n-            android:layout_marginLeft=\"@dimen/listitem_icon_leftpadding\"\n-            android:layout_marginStart=\"@dimen/listitem_icon_leftpadding\"\n-            android:layout_marginTop=\"4dp\"\n-            android:adjustViewBounds=\"true\"\n-            android:importantForAccessibility=\"no\"\n-            android:cropToPadding=\"true\"\n-            android:padding=\"8dp\"\n-            android:scaleType=\"centerCrop\"\n-            android:src=\"?attr/ic_settings\"\n-            tools:background=\"@android:color/holo_orange_dark\"\n-            tools:src=\"@android:drawable/sym_def_app_icon\" />\n+        <LinearLayout\n+            android:id=\"@+id/nav_filter_message\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"match_parent\"\n+            android:background=\"?attr/selectableItemBackground\"\n+            android:contentDescription=\"@string/filtered_label\"\n+            android:focusable=\"true\"\n+            android:orientation=\"horizontal\"\n+            android:visibility=\"gone\">\n \n-        <TextView\n-            android:layout_width=\"0dp\"\n-            android:layout_height=\"wrap_content\"\n-            android:layout_gravity=\"center_vertical\"\n-            android:layout_marginLeft=\"16dp\"\n-            android:layout_marginStart=\"16dp\"\n-            android:layout_weight=\"1\"\n-            android:gravity=\"center_vertical\"\n-            android:text=\"@string/settings_label\"\n-            android:textColor=\"?android:attr/textColorPrimary\"\n-            android:textSize=\"@dimen/text_size_navdrawer\"\n-            tools:background=\"@android:color/holo_green_light\" />\n-    </LinearLayout>\n+            <ImageView\n+                android:layout_width=\"30dp\"\n+                android:layout_height=\"30dp\"\n+                android:layout_marginStart=\"@dimen/listitem_icon_leftpadding\"\n+                android:layout_marginLeft=\"@dimen/listitem_icon_leftpadding\"\n+                android:layout_marginTop=\"4dp\"\n+                android:layout_marginBottom=\"4dp\"\n+                android:adjustViewBounds=\"true\"\n+                android:cropToPadding=\"true\"\n+                android:importantForAccessibility=\"no\"\n+                android:padding=\"8dp\"\n+                android:scaleType=\"centerCrop\"\n+                app:srcCompat=\"@drawable/ic_info_black\"\n+                app:tint=\"?android:attr/textColorSecondary\"\n+                tools:background=\"@android:color/holo_orange_dark\"\n+                tools:src=\"@android:drawable/sym_def_app_icon\" />\n \n-    <View\n-        android:id=\"@+id/divider\"\n-        android:layout_width=\"match_parent\"\n-        android:layout_height=\"1dp\"\n-        android:layout_above=\"@id/nav_settings\"\n-        android:layout_centerVertical=\"true\"\n-        android:background=\"?android:attr/listDivider\"\n-        tools:background=\"@android:color/holo_red_dark\" />\n+            <TextView\n+                android:layout_width=\"0dp\"\n+                android:layout_height=\"wrap_content\"\n+                android:layout_gravity=\"center_vertical\"\n+                android:layout_weight=\"1\"\n+                android:gravity=\"center_vertical\"\n+                android:text=\"@string/feed_is_filtered\"\n+                android:textColor=\"?android:attr/textColorSecondary\"\n+                android:textSize=\"@dimen/text_size_small\"\n+                tools:background=\"@android:color/holo_green_light\" />\n+        </LinearLayout>\n+\n+        <View\n+            android:id=\"@+id/divider\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"1dp\"\n+            android:background=\"?android:attr/listDivider\"\n+            tools:background=\"@android:color/holo_red_dark\" />\n+\n+        <LinearLayout\n+            android:id=\"@+id/nav_settings\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"@dimen/listitem_iconwithtext_height\"\n+            android:background=\"?attr/selectableItemBackground\"\n+            android:contentDescription=\"@string/settings_label\"\n+            android:focusable=\"true\"\n+            android:orientation=\"horizontal\">\n+\n+            <ImageView\n+                android:id=\"@+id/imgvCover\"\n+                android:layout_width=\"@dimen/thumbnail_length_navlist\"\n+                android:layout_height=\"@dimen/thumbnail_length_navlist\"\n+                android:layout_marginStart=\"@dimen/listitem_icon_leftpadding\"\n+                android:layout_marginLeft=\"@dimen/listitem_icon_leftpadding\"\n+                android:layout_marginTop=\"4dp\"\n+                android:layout_marginBottom=\"4dp\"\n+                android:adjustViewBounds=\"true\"\n+                android:cropToPadding=\"true\"\n+                android:importantForAccessibility=\"no\"\n+                android:padding=\"8dp\"\n+                android:scaleType=\"centerCrop\"\n+                android:src=\"?attr/ic_settings\"\n+                tools:background=\"@android:color/holo_orange_dark\"\n+                tools:src=\"@android:drawable/sym_def_app_icon\" />\n+\n+            <TextView\n+                android:layout_width=\"0dp\"\n+                android:layout_height=\"wrap_content\"\n+                android:layout_gravity=\"center_vertical\"\n+                android:layout_marginStart=\"16dp\"\n+                android:layout_marginLeft=\"16dp\"\n+                android:layout_weight=\"1\"\n+                android:gravity=\"center_vertical\"\n+                android:text=\"@string/settings_label\"\n+                android:textColor=\"?android:attr/textColorPrimary\"\n+                android:textSize=\"@dimen/text_size_navdrawer\"\n+                tools:background=\"@android:color/holo_green_light\" />\n+        </LinearLayout>\n+    </LinearLayout>", "originalCommit": "3bb44e11f6eedc9a559cf8f36ef528a42be6d711", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "81a7b13981dddc2c345aadff58cfe8cc7e6831e0", "url": "https://github.com/AntennaPod/AntennaPod/commit/81a7b13981dddc2c345aadff58cfe8cc7e6831e0", "message": "fixes", "committedDate": "2020-07-21T11:38:05Z", "type": "commit"}, {"oid": "0c718a794f4dd3ff43d4d9267544aa144b7ea9c3", "url": "https://github.com/AntennaPod/AntennaPod/commit/0c718a794f4dd3ff43d4d9267544aa144b7ea9c3", "message": "Update subscriptions.xml", "committedDate": "2020-07-21T11:43:42Z", "type": "commit"}, {"oid": "cd0eb8cf49543a5c49cabe8751c67dc52af46eb3", "url": "https://github.com/AntennaPod/AntennaPod/commit/cd0eb8cf49543a5c49cabe8751c67dc52af46eb3", "message": "Update fragment_subscriptions.xml", "committedDate": "2020-07-21T11:45:42Z", "type": "commit"}, {"oid": "5a24c3ce1f0b40eb047796e5a723bb8cb1edf406", "url": "https://github.com/AntennaPod/AntennaPod/commit/5a24c3ce1f0b40eb047796e5a723bb8cb1edf406", "message": "move filter msg to NavListAdapter", "committedDate": "2020-07-21T12:07:10Z", "type": "commit"}, {"oid": "4f742c24496b3cb2cf2dad8cc2f333d8e4de26ac", "url": "https://github.com/AntennaPod/AntennaPod/commit/4f742c24496b3cb2cf2dad8cc2f333d8e4de26ac", "message": "Merge remote-tracking branch 'origin/develop' into develop", "committedDate": "2020-07-21T12:07:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4MDc2Mw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r458880763", "bodyText": "Could you please move click handling to NavDrawerFragment.onItemClick? All other items of the sidebar are handled in that file. It's also a good practice to keep displaying (adapter) and behavior (click listener) separated. I must admit that this is not always the case in the code base but in this case, it should be pretty easy to do.", "author": "ByteHamster", "createdAt": "2020-07-22T15:29:36Z", "path": "app/src/main/java/de/danoeh/antennapod/adapter/NavListAdapter.java", "diffHunk": "@@ -295,10 +296,15 @@ private View getSectionDividerView(View convertView, ViewGroup parent) {\n         LayoutInflater inflater = (LayoutInflater) context\n                 .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n \n-        convertView = inflater.inflate(R.layout.nav_section_item, parent, false);\n-\n-        convertView.setEnabled(false);\n-        convertView.setOnClickListener(null);\n+        if (UserPreferences.getFeedFilter() != UserPreferences.FEED_FILTER_NONE) {\n+            convertView = inflater.inflate(R.layout.nav_section_filter_divider, parent, false);\n+            convertView.setEnabled(true);\n+            convertView.setOnClickListener((l) -> FeedFilterDialog.showDialog(context));\n+        } else {\n+            convertView = inflater.inflate(R.layout.nav_section_item, parent, false);\n+            convertView.setEnabled(false);\n+            convertView.setOnClickListener(null);", "originalCommit": "4f742c24496b3cb2cf2dad8cc2f333d8e4de26ac", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5OTMwMg==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r458999302", "bodyText": "I tried this in 0a384bc but the on click event is not fired", "author": "asdoi", "createdAt": "2020-07-22T18:31:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4MDc2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MjM1Nw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459072357", "bodyText": "Setting the listener to null is not required here. I think this interferes more with the list than what it helps.", "author": "ByteHamster", "createdAt": "2020-07-22T20:45:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4MDc2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4MTYyNQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r458881625", "bodyText": "There are a few checkstyle errors left:\n[ERROR] /home/circleci/AntennaPod/./app/src/main/java/de/danoeh/antennapod/dialog/FeedFilterDialog.java:24: 'if' construct must use '{}'s. [NeedBraces]\n[ERROR] /home/circleci/AntennaPod/./app/src/main/java/de/danoeh/antennapod/dialog/FeedFilterDialog.java:29: Line is longer than 120 characters (found 145). [LineLength]\n[ERROR] /home/circleci/AntennaPod/./core/src/main/java/de/danoeh/antennapod/core/preferences/UserPreferences.java:1064:51: WhitespaceAround: '{' is not preceded with whitespace. [WhitespaceAround]", "author": "ByteHamster", "createdAt": "2020-07-22T15:30:46Z", "path": "app/src/main/java/de/danoeh/antennapod/dialog/FeedFilterDialog.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.content.Context;\n+\n+import androidx.appcompat.app.AlertDialog;\n+\n+import org.greenrobot.eventbus.EventBus;\n+\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.event.UnreadItemsUpdateEvent;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+\n+public class FeedFilterDialog {\n+    public static void showDialog(Context context) {\n+        AlertDialog.Builder dialog = new AlertDialog.Builder(context);\n+        dialog.setTitle(context.getString(R.string.pref_filter_feed_title));\n+        dialog.setPositiveButton(null, null);\n+        dialog.setNegativeButton(android.R.string.cancel, (d, listener) -> d.dismiss());\n+\n+        int selectedIndexTemp = 0;\n+        int selected = UserPreferences.getFeedFilter();\n+        String[] entryValues = context.getResources().getStringArray(R.array.nav_drawer_feed_filter_values);\n+        for (int i = 0; i < entryValues.length; i++) {\n+            if (Integer.parseInt(entryValues[i]) == selected)\n+                selectedIndexTemp = i;\n+        }\n+\n+        final int selectedIndex = selectedIndexTemp;\n+        dialog.setSingleChoiceItems(context.getResources().getStringArray(R.array.nav_drawer_feed_filter_options), selectedIndex, (d, which) -> {", "originalCommit": "4f742c24496b3cb2cf2dad8cc2f333d8e4de26ac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4NTcwOA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r458885708", "bodyText": "What about \"Filter your subscriptions in navigation drawer and subscriptions screen\"?", "author": "ByteHamster", "createdAt": "2020-07-22T15:36:11Z", "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -527,6 +527,12 @@\n     <string name=\"back_button_go_to_page_title\">Select page</string>\n     <string name=\"pref_delete_removes_from_queue_title\">Delete removes from Queue</string>\n     <string name=\"pref_delete_removes_from_queue_sum\">Automatically remove an episode from the queue when it is deleted.</string>\n+    <string name=\"pref_filter_feed_title\">Subscription Filter</string>\n+    <string name=\"pref_filter_feed_sum\">Filter your subscriptions screen</string>", "originalCommit": "4f742c24496b3cb2cf2dad8cc2f333d8e4de26ac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4Njg4OQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r458886889", "bodyText": "Another string with the same meaning (subscriptions_label) already exists. Please use that one instead to ensure consistency (in contrast to the None string, this both refers to the same thing)", "author": "ByteHamster", "createdAt": "2020-07-22T15:37:49Z", "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -527,6 +527,12 @@\n     <string name=\"back_button_go_to_page_title\">Select page</string>\n     <string name=\"pref_delete_removes_from_queue_title\">Delete removes from Queue</string>\n     <string name=\"pref_delete_removes_from_queue_sum\">Automatically remove an episode from the queue when it is deleted.</string>\n+    <string name=\"pref_filter_feed_title\">Subscription Filter</string>\n+    <string name=\"pref_filter_feed_sum\">Filter your subscriptions screen</string>\n+    <string name=\"hide_subscriptions_where_counter_is_zero\">Hide if counter is zero</string>\n+    <string name=\"no_filter_label\">None</string>\n+    <string name=\"feed_is_filtered\">Your subscriptions are filtered.</string>\n+    <string name=\"subscriptions\">Subscriptions</string>", "originalCommit": "4f742c24496b3cb2cf2dad8cc2f333d8e4de26ac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "929dada365d76505ed5764ffee683760aa47cec4", "url": "https://github.com/AntennaPod/AntennaPod/commit/929dada365d76505ed5764ffee683760aa47cec4", "message": "fixes", "committedDate": "2020-07-22T17:36:09Z", "type": "commit"}, {"oid": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "url": "https://github.com/AntennaPod/AntennaPod/commit/0a384bc3c7c7b287c4aeae4f68d1401856418594", "message": "not working move to NavDrawerFragment", "committedDate": "2020-07-22T18:30:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NDAwNw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459064007", "bodyText": "Why is this needed? I do not think that the section divider should stay selected after clicking.", "author": "ByteHamster", "createdAt": "2020-07-22T20:29:46Z", "path": "app/src/main/java/de/danoeh/antennapod/adapter/NavListAdapter.java", "diffHunk": "@@ -198,11 +199,11 @@ public View getView(int position, View convertView, ViewGroup parent) {\n         if (viewType == VIEW_TYPE_NAV) {\n             v = getNavView((String) getItem(position), position, convertView, parent);\n         } else if (viewType == VIEW_TYPE_SECTION_DIVIDER) {\n-            v = getSectionDividerView(convertView, parent);\n+            v = getSectionDividerView(parent);\n         } else {\n             v = getFeedView(position, convertView, parent);\n         }\n-        if (v != null && viewType != VIEW_TYPE_SECTION_DIVIDER) {\n+        if (v != null && (viewType != VIEW_TYPE_SECTION_DIVIDER || UserPreferences.getFeedFilter() != UserPreferences.FEED_FILTER_NONE)) {", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5MDg5Nw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459090897", "bodyText": "As I said, I could not get this working, so I added some ways and maybe useless stuff \ud83d\ude05\nI reverted the commit and made a new clear version", "author": "asdoi", "createdAt": "2020-07-22T21:21:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NDAwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NDg4MQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459064881", "bodyText": "This looks a bit strange. Shouldn't the button either have a text or just not be there?", "author": "ByteHamster", "createdAt": "2020-07-22T20:31:19Z", "path": "app/src/main/java/de/danoeh/antennapod/dialog/FeedFilterDialog.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.content.Context;\n+\n+import androidx.appcompat.app.AlertDialog;\n+\n+import org.greenrobot.eventbus.EventBus;\n+\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.event.UnreadItemsUpdateEvent;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+\n+public class FeedFilterDialog {\n+    public static void showDialog(Context context) {\n+        AlertDialog.Builder dialog = new AlertDialog.Builder(context);\n+        dialog.setTitle(context.getString(R.string.pref_filter_feed_title));\n+        dialog.setPositiveButton(null, null);", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA4MjM5OQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459082399", "bodyText": "Yes, this should hide the positive button. I do not know if this is needed, mostly I work with the library by afollestad.", "author": "asdoi", "createdAt": "2020-07-22T21:04:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NDg4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQ5MzM5MA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r460493390", "bodyText": "Just not writing this line should hide the button, too", "author": "ByteHamster", "createdAt": "2020-07-26T07:48:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NDg4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NTgwMA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459065800", "bodyText": "Why do you need to create a copy of the variable?", "author": "ByteHamster", "createdAt": "2020-07-22T20:33:06Z", "path": "app/src/main/java/de/danoeh/antennapod/dialog/FeedFilterDialog.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.content.Context;\n+\n+import androidx.appcompat.app.AlertDialog;\n+\n+import org.greenrobot.eventbus.EventBus;\n+\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.event.UnreadItemsUpdateEvent;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+\n+public class FeedFilterDialog {\n+    public static void showDialog(Context context) {\n+        AlertDialog.Builder dialog = new AlertDialog.Builder(context);\n+        dialog.setTitle(context.getString(R.string.pref_filter_feed_title));\n+        dialog.setPositiveButton(null, null);\n+        dialog.setNegativeButton(android.R.string.cancel, (d, listener) -> d.dismiss());\n+\n+        int selectedIndexTemp = 0;\n+        int selected = UserPreferences.getFeedFilter();\n+        String[] entryValues = context.getResources().getStringArray(R.array.nav_drawer_feed_filter_values);\n+        for (int i = 0; i < entryValues.length; i++) {\n+            if (Integer.parseInt(entryValues[i]) == selected) {\n+                selectedIndexTemp = i;\n+            }\n+        }\n+\n+        final int selectedIndex = selectedIndexTemp;", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA4Mjk2MA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459082960", "bodyText": "Otherwise the lambda does not work.", "author": "asdoi", "createdAt": "2020-07-22T21:05:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NTgwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA2NjM1OA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459066358", "bodyText": "I think the tools:listitem attribute is just for displaying in Android Studio. It should not break anything.", "author": "ByteHamster", "createdAt": "2020-07-22T20:34:15Z", "path": "app/src/main/res/layout/nav_list.xml", "diffHunk": "@@ -69,6 +69,5 @@\n         android:dividerHeight=\"0dp\"\n         android:paddingBottom=\"@dimen/list_vertical_padding\"\n         android:paddingTop=\"8dp\"\n-        android:scrollbarStyle=\"outsideOverlay\"\n-        tools:listitem=\"@layout/nav_listitem\" />", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MTU4Ng==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459071586", "bodyText": "Please check if it is actually filtered (just to be sure)", "author": "ByteHamster", "createdAt": "2020-07-22T20:43:59Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/NavDrawerFragment.java", "diffHunk": "@@ -366,7 +370,10 @@ private void loadData() {\n     @Override\n     public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n         int viewType = parent.getAdapter().getItemViewType(position);\n-        if (viewType != NavListAdapter.VIEW_TYPE_SECTION_DIVIDER) {\n+        if (viewType == NavListAdapter.VIEW_TYPE_SECTION_DIVIDER) {", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5MTI0Mg==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459091242", "bodyText": "Changed it to an else statement", "author": "asdoi", "createdAt": "2020-07-22T21:22:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MTU4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3Mjk5Mw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459072993", "bodyText": "android:layout_centerVertical and android:layout_alignParentTop are only used in RelativeLayout. They can be removed here.", "author": "ByteHamster", "createdAt": "2020-07-22T20:46:35Z", "path": "app/src/main/res/layout/nav_section_filter_divider.xml", "diffHunk": "@@ -0,0 +1,55 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"wrap_content\"\n+    android:orientation=\"vertical\">\n+\n+    <View\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"1dp\"\n+        android:layout_centerVertical=\"true\"", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MzEzNg==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459073136", "bodyText": "Remove this line to fix clicking the items", "author": "ByteHamster", "createdAt": "2020-07-22T20:46:51Z", "path": "app/src/main/res/layout/nav_section_filter_divider.xml", "diffHunk": "@@ -0,0 +1,55 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"wrap_content\"\n+    android:orientation=\"vertical\">\n+\n+    <View\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"1dp\"\n+        android:layout_centerVertical=\"true\"\n+        android:background=\"?android:attr/listDivider\"\n+        tools:background=\"@android:color/holo_red_dark\"/>\n+\n+    <LinearLayout\n+        android:id=\"@+id/nav_filter_message\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_alignParentTop=\"true\"\n+        android:background=\"?attr/selectableItemBackground\"\n+        android:contentDescription=\"@string/filtered_label\"\n+        android:focusable=\"true\"", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5MTUzOA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459091538", "bodyText": "Thank you very much. This saved my day \ud83d\udc4d", "author": "asdoi", "createdAt": "2020-07-22T21:22:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MzEzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3Mzk3MA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r459073970", "bodyText": "Could you please make this an else if? Also, single line to make Checkstyle happy :)", "author": "ByteHamster", "createdAt": "2020-07-22T20:48:24Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/NavDrawerFragment.java", "diffHunk": "@@ -366,7 +370,10 @@ private void loadData() {\n     @Override\n     public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n         int viewType = parent.getAdapter().getItemViewType(position);\n-        if (viewType != NavListAdapter.VIEW_TYPE_SECTION_DIVIDER) {\n+        if (viewType == NavListAdapter.VIEW_TYPE_SECTION_DIVIDER) {\n+            FeedFilterDialog.showDialog(requireContext());\n+        }\n+        else {", "originalCommit": "0a384bc3c7c7b287c4aeae4f68d1401856418594", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0d838ac4d0354a2804467cfe7ed0d04183b2e896", "url": "https://github.com/AntennaPod/AntennaPod/commit/0d838ac4d0354a2804467cfe7ed0d04183b2e896", "message": "Revert \"not working move to NavDrawerFragment\"\n\nThis reverts commit 0a384bc3", "committedDate": "2020-07-22T21:06:59Z", "type": "commit"}, {"oid": "47f5a3d44a7384ece905ca249485cc87f67e42df", "url": "https://github.com/AntennaPod/AntennaPod/commit/47f5a3d44a7384ece905ca249485cc87f67e42df", "message": "New working filter dialog", "committedDate": "2020-07-22T21:16:45Z", "type": "commit"}, {"oid": "0030c39c2e55fa8eb8f69a85c57f723bc42d17ef", "url": "https://github.com/AntennaPod/AntennaPod/commit/0030c39c2e55fa8eb8f69a85c57f723bc42d17ef", "message": "remove focusable", "committedDate": "2020-07-22T21:25:24Z", "type": "commit"}, {"oid": "9e08d5fef4f4f575e061115728b48eb715f6ff1e", "url": "https://github.com/AntennaPod/AntennaPod/commit/9e08d5fef4f4f575e061115728b48eb715f6ff1e", "message": "Update NavDrawerFragment.java", "committedDate": "2020-07-26T10:35:23Z", "type": "commit"}, {"oid": "2e6f7778bc53d0efff7f12cd848a36b2b98a0d00", "url": "https://github.com/AntennaPod/AntennaPod/commit/2e6f7778bc53d0efff7f12cd848a36b2b98a0d00", "message": "Update NavDrawerFragment.java", "committedDate": "2020-07-26T10:36:01Z", "type": "commit"}, {"oid": "c3dc9250cefa8e5bc2b03a971f0e95f5af560181", "url": "https://github.com/AntennaPod/AntennaPod/commit/c3dc9250cefa8e5bc2b03a971f0e95f5af560181", "message": "fixes", "committedDate": "2020-07-26T10:39:02Z", "type": "commit"}, {"oid": "7b43c4404e696f35df3865d0f131e4b725f21b6a", "url": "https://github.com/AntennaPod/AntennaPod/commit/7b43c4404e696f35df3865d0f131e4b725f21b6a", "message": "Merge remote-tracking branch 'origin/develop' into develop", "committedDate": "2020-07-26T10:42:05Z", "type": "commit"}, {"oid": "95c4485689c6dd5759a6cd91228aa3892f1bc82a", "url": "https://github.com/AntennaPod/AntennaPod/commit/95c4485689c6dd5759a6cd91228aa3892f1bc82a", "message": "Update SubscriptionFragment.java", "committedDate": "2020-07-26T10:47:48Z", "type": "commit"}, {"oid": "c24d8ff8709c5ec685064f69c980d7a7565773b5", "url": "https://github.com/AntennaPod/AntennaPod/commit/c24d8ff8709c5ec685064f69c980d7a7565773b5", "message": "rename to proper names", "committedDate": "2020-07-30T09:25:23Z", "type": "commit"}, {"oid": "dbd75d83783be0f5696866a5d151360011865158", "url": "https://github.com/AntennaPod/AntennaPod/commit/dbd75d83783be0f5696866a5d151360011865158", "message": "change to iconify", "committedDate": "2020-08-01T17:12:10Z", "type": "commit"}, {"oid": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "url": "https://github.com/AntennaPod/AntennaPod/commit/d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "message": "remove divider id", "committedDate": "2020-08-01T17:13:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNTAzOQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466005039", "bodyText": "Please change the indention, so that it is the same as the rest of the file.", "author": "ByteHamster", "createdAt": "2020-08-05T21:08:38Z", "path": "app/src/main/res/layout/fragment_subscriptions.xml", "diffHunk": "@@ -14,8 +14,22 @@\n             app:title=\"@string/subscriptions_label\"\n             android:id=\"@+id/toolbar\"/>\n \n+    <TextView\n+        android:id=\"@+id/feeds_filtered_message\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_below=\"@id/toolbar\"\n+        android:background=\"?android:attr/selectableItemBackground\"\n+        android:gravity=\"start\"\n+        android:paddingStart=\"10dp\"\n+        android:paddingTop=\"4dp\"\n+        android:paddingEnd=\"10dp\"\n+        android:paddingBottom=\"6dp\"\n+        android:textColor=\"?android:attr/textColorSecondary\"\n+        android:textSize=\"@dimen/text_size_small\" />", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNTcyMQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466005721", "bodyText": "Material design uses multiples of 8dp (and in some cases 4dp) for spacing. 6 and 10 are pretty uncommon numbers. Please align them with the material grid.", "author": "ByteHamster", "createdAt": "2020-08-05T21:09:59Z", "path": "app/src/main/res/layout/fragment_subscriptions.xml", "diffHunk": "@@ -14,8 +14,22 @@\n             app:title=\"@string/subscriptions_label\"\n             android:id=\"@+id/toolbar\"/>\n \n+    <TextView\n+        android:id=\"@+id/feeds_filtered_message\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_below=\"@id/toolbar\"\n+        android:background=\"?android:attr/selectableItemBackground\"\n+        android:gravity=\"start\"\n+        android:paddingStart=\"10dp\"\n+        android:paddingTop=\"4dp\"\n+        android:paddingEnd=\"10dp\"\n+        android:paddingBottom=\"6dp\"", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNjU3MA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466006570", "bodyText": "I think it would be good to add a bit of vertical margin to this view. Changing its parent to wrap content removes the space between the separator and menu items.", "author": "ByteHamster", "createdAt": "2020-08-05T21:11:40Z", "path": "app/src/main/res/layout/nav_section_item.xml", "diffHunk": "@@ -1,16 +1,27 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n-<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n-    android:layout_height=\"16dp\"\n+    android:layout_height=\"wrap_content\"\n     android:background=\"@android:color/transparent\"\n     android:orientation=\"vertical\"\n     android:importantForAccessibility=\"no\">\n \n     <View\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"1dp\"\n-        android:layout_centerVertical=\"true\"", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ3Nzg0OA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466477848", "bodyText": "I added paddingTop and paddingBottom to the parent LinearLayout", "author": "asdoi", "createdAt": "2020-08-06T15:01:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNjU3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNzM4MQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466007381", "bodyText": "Not sure how it will look but maybe you could try aligning the padding of the TextView with the menu item titles.", "author": "ByteHamster", "createdAt": "2020-08-05T21:13:25Z", "path": "app/src/main/res/layout/nav_section_item.xml", "diffHunk": "@@ -1,16 +1,27 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n-<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n-    android:layout_height=\"16dp\"\n+    android:layout_height=\"wrap_content\"\n     android:background=\"@android:color/transparent\"\n     android:orientation=\"vertical\"\n     android:importantForAccessibility=\"no\">\n \n     <View\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"1dp\"\n-        android:layout_centerVertical=\"true\"\n         android:background=\"?android:attr/listDivider\"\n         tools:background=\"@android:color/holo_red_dark\"/>\n-</RelativeLayout>\n+\n+    <TextView\n+        android:id=\"@+id/nav_feeds_filtered_message\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:gravity=\"start\"\n+        android:paddingStart=\"@dimen/listitem_iconwithtext_textleftpadding\"", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ3MTY5Nw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466471697", "bodyText": "Version 1:\n\nVersion 2:\n\nPersonally speaking, I like it more if the text is aligned with the subscriptions list, like it is now", "author": "asdoi", "createdAt": "2020-08-06T14:53:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNzM4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3ODE2NQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466678165", "bodyText": "Personally speaking, I like it more if the text is aligned with the subscriptions list, like it is now\n\nI agree \ud83d\udc4d", "author": "ByteHamster", "createdAt": "2020-08-06T20:49:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNzM4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwNzc4Ng==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466007786", "bodyText": "Please change indention, so that it matches the rest of the file", "author": "ByteHamster", "createdAt": "2020-08-05T21:14:13Z", "path": "app/src/main/res/menu/subscriptions.xml", "diffHunk": "@@ -9,6 +9,11 @@\n             custom:showAsAction=\"always\"\n             android:icon=\"?attr/navigation_refresh\"/>\n \n+\n+    <item\n+        android:id=\"@+id/subscriptions_filter\"\n+        android:title=\"@string/filter\"\n+        custom:showAsAction=\"never\" />", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAwOTU3MQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466009571", "bodyText": "The name of the string is a bit misleading. This is not about filtering within a feed. It's about filtering subscriptions.\nWhat do you think about removing \"your\" from the text? Makes it a bit shorter (for small screens).", "author": "ByteHamster", "createdAt": "2020-08-05T21:17:36Z", "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -527,6 +527,11 @@\n     <string name=\"back_button_go_to_page_title\">Select page</string>\n     <string name=\"pref_delete_removes_from_queue_title\">Delete removes from Queue</string>\n     <string name=\"pref_delete_removes_from_queue_sum\">Automatically remove an episode from the queue when it is deleted.</string>\n+    <string name=\"pref_filter_feed_title\">Subscription Filter</string>\n+    <string name=\"pref_filter_feed_sum\">Filter your subscriptions in navigation drawer and subscriptions screen.</string>\n+    <string name=\"hide_subscriptions_where_counter_is_zero\">Hide if counter is zero</string>\n+    <string name=\"no_filter_label\">None</string>\n+    <string name=\"feed_is_filtered\">Your subscriptions are filtered.</string>", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAxMDI3NA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466010274", "bodyText": "There is an option to hide the subscriptions list from the sidebar. If it is hidden, the filter text should not be displayed.", "author": "ByteHamster", "createdAt": "2020-08-05T21:19:07Z", "path": "app/src/main/java/de/danoeh/antennapod/adapter/NavListAdapter.java", "diffHunk": "@@ -296,9 +296,17 @@ private View getSectionDividerView(View convertView, ViewGroup parent) {\n                 .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n \n         convertView = inflater.inflate(R.layout.nav_section_item, parent, false);\n+        TextView feedsFilteredMsg = convertView.findViewById(R.id.nav_feeds_filtered_message);\n \n-        convertView.setEnabled(false);\n-        convertView.setOnClickListener(null);\n+        if (UserPreferences.getFeedFilter() != UserPreferences.FEED_FILTER_NONE) {", "originalCommit": "d324b2c4ca42a4c3d0bc4ccc28d262ee59fa38ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f54024d9f5d7557138038582c46f772823bfc0e5", "url": "https://github.com/AntennaPod/AntennaPod/commit/f54024d9f5d7557138038582c46f772823bfc0e5", "message": "strings & indention fix", "committedDate": "2020-08-06T14:39:16Z", "type": "commit"}, {"oid": "08e9a1678c14945588c1c4bbd8a8fbee6b6dca27", "url": "https://github.com/AntennaPod/AntennaPod/commit/08e9a1678c14945588c1c4bbd8a8fbee6b6dca27", "message": "add space to divider", "committedDate": "2020-08-06T14:55:34Z", "type": "commit"}, {"oid": "f8620e34d113371f8f8c26a1c8d00680a3dab3d4", "url": "https://github.com/AntennaPod/AntennaPod/commit/f8620e34d113371f8f8c26a1c8d00680a3dab3d4", "message": "update subscriptions padding", "committedDate": "2020-08-06T14:59:44Z", "type": "commit"}, {"oid": "cfe9c1ee5d2874f835a4a0aba88e7af51a46c4df", "url": "https://github.com/AntennaPod/AntennaPod/commit/cfe9c1ee5d2874f835a4a0aba88e7af51a46c4df", "message": "update subscriptions indention", "committedDate": "2020-08-06T15:00:32Z", "type": "commit"}, {"oid": "82ad038537b255fc2bcc2b45de13d3289e41a222", "url": "https://github.com/AntennaPod/AntennaPod/commit/82ad038537b255fc2bcc2b45de13d3289e41a222", "message": "hide message if subscriptions list is hidden", "committedDate": "2020-08-06T15:25:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3ODg5Mg==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r466678892", "bodyText": "Is the line clickable if you do not add the check navAdapter.showSubscriptionList?", "author": "ByteHamster", "createdAt": "2020-08-06T20:50:56Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/NavDrawerFragment.java", "diffHunk": "@@ -386,7 +386,7 @@ public void onItemClick(AdapterView<?> parent, View view, int position, long id)\n                     startActivity(intent);\n                 }\n             }\n-        } else {\n+        } else if (UserPreferences.getFeedFilter() != UserPreferences.FEED_FILTER_NONE && navAdapter.showSubscriptionList) {", "originalCommit": "82ad038537b255fc2bcc2b45de13d3289e41a222", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzAwNzA1MQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r467007051", "bodyText": "Yes, if you exactly click on it (I think this is only possible on an emulator with a mouse) the filter dialog opens.\nI think it is better to make this check before opening the dialog otherwise it could confuse users, who have never heard of this function.", "author": "asdoi", "createdAt": "2020-08-07T12:24:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3ODg5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ2NDQzOQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4289#discussion_r467464439", "bodyText": "Okay \ud83d\udc4d I think there is only one thing left to do: This line is too long (that's also why CI fails)", "author": "ByteHamster", "createdAt": "2020-08-08T13:20:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY3ODg5Mg=="}], "type": "inlineReview"}, {"oid": "c6852dec282b9c234a73fd623e121c9a05fd5538", "url": "https://github.com/AntennaPod/AntennaPod/commit/c6852dec282b9c234a73fd623e121c9a05fd5538", "message": "line is too long", "committedDate": "2020-08-08T14:06:43Z", "type": "commit"}]}