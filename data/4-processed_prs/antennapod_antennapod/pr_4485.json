{"pr_number": 4485, "pr_title": "Mini player when playing a video podcast do not have pause button", "pr_createdAt": "2020-10-01T15:39:00Z", "pr_url": "https://github.com/AntennaPod/AntennaPod/pull/4485", "timeline": [{"oid": "1459641f13c88c32a246e96d0f504e7a20bf3c46", "url": "https://github.com/AntennaPod/AntennaPod/commit/1459641f13c88c32a246e96d0f504e7a20bf3c46", "message": "Mini player when playing a video podcast do not have pause button #4223", "committedDate": "2020-10-01T15:35:42Z", "type": "commit"}, {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce", "url": "https://github.com/AntennaPod/AntennaPod/commit/e60b250c189c9761fecd432e582ce98d61ae74ce", "message": "Mini player when playing a video podcast do not have pause button #4223", "committedDate": "2020-10-02T06:47:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NDE3NQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r498644175", "bodyText": "i have removed this line  because whenever a video is played in AntennaPod this line was making play button invisible", "author": "heyyviv", "createdAt": "2020-10-02T06:54:49Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "diffHunk": "@@ -200,7 +200,6 @@ private void updateUi(Playable media) {\n                 .into(imgvCover);\n \n         if (controller != null && controller.isPlayingVideoLocally()) {\n-            butPlay.setVisibility(View.GONE);", "originalCommit": "e60b250c189c9761fecd432e582ce98d61ae74ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjMzNg==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r498912336", "bodyText": "Please do not change the indention of the file. Keep untouched lines like they were before.", "author": "ByteHamster", "createdAt": "2020-10-02T16:03:20Z", "path": "app/src/main/res/layout/external_player_fragment.xml", "diffHunk": "@@ -58,15 +58,16 @@\n \n \n         <ImageButton\n-                android:id=\"@+id/butPlay\"\n-                android:layout_width=\"52dp\"\n-                android:layout_height=\"match_parent\"\n-                android:contentDescription=\"@string/pause_label\"\n-                android:background=\"?attr/selectableItemBackground\"\n-                app:srcCompat=\"?attr/av_play\"\n-                android:scaleType=\"fitCenter\"\n-                android:padding=\"8dp\"\n-                tools:src=\"@drawable/ic_av_play_white_48dp\"/>\n+            android:id=\"@+id/butPlay\"\n+            android:layout_width=\"52dp\"\n+            android:layout_height=\"match_parent\"\n+            android:contentDescription=\"@string/pause_label\"\n+            android:background=\"?attr/selectableItemBackground\"", "originalCommit": "e60b250c189c9761fecd432e582ce98d61ae74ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "614501cf101fe7081cb79db3cc54a868f5dd9856", "url": "https://github.com/AntennaPod/AntennaPod/commit/614501cf101fe7081cb79db3cc54a868f5dd9856", "message": "Mini player when playing a video podcast do not have pause button #4223", "committedDate": "2020-10-05T12:51:51Z", "type": "commit"}, {"oid": "ada73c518e85adaeccf62cf0ea9d0f6afc54f432", "url": "https://github.com/AntennaPod/AntennaPod/commit/ada73c518e85adaeccf62cf0ea9d0f6afc54f432", "message": "xml", "committedDate": "2020-10-05T12:59:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUzMDgwMA==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r500530800", "bodyText": "Something like the following ensures that there is no race condition where calling playPause and getting the player status interfere.\nif (controller != null) {\n    if (video and not playing) {\n        playPause() // Do not call before checking player status but not after starting activity\n        start activity\n    } else {\n        playPause();\n    }\n}", "author": "ByteHamster", "createdAt": "2020-10-06T19:03:52Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "diffHunk": "@@ -78,7 +79,12 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,\n     public void onActivityCreated(Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);\n         butPlay.setOnClickListener(v -> {\n-            if (controller != null) {\n+            if (controller != null && controller.getMedia().getMediaType() == MediaType.VIDEO) {\n+                controller.playPause();\n+                if(controller.getStatus() != PlayerStatus.PLAYING) {\n+                    getContext().startActivity(PlaybackService.getPlayerActivityIntent(getContext(),controller.getMedia()));\n+                }\n+            }else if (controller != null) {", "originalCommit": "ada73c518e85adaeccf62cf0ea9d0f6afc54f432", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ffafc611552596b46e1d51cfbcc32827c051e385", "url": "https://github.com/AntennaPod/AntennaPod/commit/ffafc611552596b46e1d51cfbcc32827c051e385", "message": "Mini player when playing a video podcast do not have pause button #4485", "committedDate": "2020-10-08T14:27:52Z", "type": "commit"}, {"oid": "996ff8a2775c50d4100fa463241eb06df4fca49f", "url": "https://github.com/AntennaPod/AntennaPod/commit/996ff8a2775c50d4100fa463241eb06df4fca49f", "message": "Mini player when playing a video podcast do not have pause button #4485", "committedDate": "2020-10-08T14:38:07Z", "type": "commit"}, {"oid": "5b6d552976d823e1d02096ce4daae03addf007d8", "url": "https://github.com/AntennaPod/AntennaPod/commit/5b6d552976d823e1d02096ce4daae03addf007d8", "message": "Mini player when playing a video podcast do not have pause button #4485", "committedDate": "2020-10-08T14:44:02Z", "type": "commit"}]}