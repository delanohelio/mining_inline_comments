{"pr_number": 1976, "pr_title": "Updated go client to only include domain param when given", "pr_createdAt": "2020-11-19T05:53:26Z", "pr_url": "https://github.com/Netflix/conductor/pull/1976", "timeline": [{"oid": "88fe4703c65e40b05e58f8c846efa23523e665f3", "url": "https://github.com/Netflix/conductor/commit/88fe4703c65e40b05e58f8c846efa23523e665f3", "message": "Updated Ack method to only include the \"domain\" param if explicitly requested", "committedDate": "2020-11-19T05:49:21Z", "type": "commit"}, {"oid": "527a7d914184c0e21160174add4be2552d055e60", "url": "https://github.com/Netflix/conductor/commit/527a7d914184c0e21160174add4be2552d055e60", "message": "Updated PollForTask method to only include the \"domain\" param if explicitly requested", "committedDate": "2020-11-19T05:51:08Z", "type": "commit"}, {"oid": "4850908607eaca3278b4fa827b460a59c25dacda", "url": "https://github.com/Netflix/conductor/commit/4850908607eaca3278b4fa827b460a59c25dacda", "message": "Updated logging", "committedDate": "2020-11-19T05:53:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzAyNDkwMw==", "url": "https://github.com/Netflix/conductor/pull/1976#discussion_r527024903", "bodyText": "Suggestion: Can we remove this log statement? It will create noise in logs.", "author": "rmohta", "createdAt": "2020-11-19T16:30:16Z", "path": "client/go/conductorhttpclient.go", "diffHunk": "@@ -192,7 +192,13 @@ func (c *ConductorHttpClient) PollForTask(taskType string, workerid string, doma\n     url := c.httpClient.MakeUrl(\"/tasks/poll/{taskType}\", \"{taskType}\", taskType)\n     params := map[string]string{\n         \"workerid\": workerid,\n-        \"domain\":   domain,\n+    }\n+    // only add the domain if requested, otherwise conductor will silently fail (https://github.com/Netflix/conductor/issues/1952)\n+    if domain != \"\" {\n+        log.Println(\"Polling for task with domain: \", domain, \"taskType: \", taskType)", "originalCommit": "4850908607eaca3278b4fa827b460a59c25dacda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODA0NzQ5OA==", "url": "https://github.com/Netflix/conductor/pull/1976#discussion_r528047498", "bodyText": "Done", "author": "djcass44", "createdAt": "2020-11-21T01:22:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzAyNDkwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzAyNTc0Mw==", "url": "https://github.com/Netflix/conductor/pull/1976#discussion_r527025743", "bodyText": "Suggestion: Can we remove this log statement?", "author": "rmohta", "createdAt": "2020-11-19T16:31:21Z", "path": "client/go/conductorhttpclient.go", "diffHunk": "@@ -207,7 +213,13 @@ func (c *ConductorHttpClient) AckTask(taskId, workerid, domain string) (string,\n     url := c.httpClient.MakeUrl(\"/tasks/{taskId}/ack\", \"{taskId}\", taskId)\n     params := map[string]string{\n         \"workerid\": workerid,\n-\t\"domain\": domain,\n+    }\n+    // only add the domain if requested, otherwise conductor will silently fail (https://github.com/Netflix/conductor/issues/1952)\n+    if domain != \"\" {\n+        log.Println(\"Acking task with domain: \", domain, \"taskid: \", taskId)", "originalCommit": "4850908607eaca3278b4fa827b460a59c25dacda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODA0NzUyNw==", "url": "https://github.com/Netflix/conductor/pull/1976#discussion_r528047527", "bodyText": "Done", "author": "djcass44", "createdAt": "2020-11-21T01:22:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzAyNTc0Mw=="}], "type": "inlineReview"}, {"oid": "7ea377743d57abbaf86f7cbafb050bc63c6b9347", "url": "https://github.com/Netflix/conductor/commit/7ea377743d57abbaf86f7cbafb050bc63c6b9347", "message": "Removed unnecessary log statements", "committedDate": "2020-11-21T01:21:48Z", "type": "commit"}]}