{"pr_number": 1993, "pr_title": "Python Client: Error print statement now also prints exec_function name.", "pr_createdAt": "2020-12-02T20:44:23Z", "pr_url": "https://github.com/Netflix/conductor/pull/1993", "timeline": [{"oid": "73d1cd8c0ec4231155281b649d9bff964828f0a0", "url": "https://github.com/Netflix/conductor/commit/73d1cd8c0ec4231155281b649d9bff964828f0a0", "message": "Error print statement now also prints exec_function name.", "committedDate": "2020-12-02T20:38:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk2NDI0Mw==", "url": "https://github.com/Netflix/conductor/pull/1993#discussion_r542964243", "bodyText": "What does exec_function.__name__ usually have? Can it be task name from the task object instead of a function name?", "author": "kishorebanala", "createdAt": "2020-12-15T01:00:21Z", "path": "client/python/conductor/ConductorWorker.py", "diffHunk": "@@ -78,7 +78,7 @@ def execute(self, task, exec_function):\n                 task['reasonForIncompletion'] = resp['reasonForIncompletion']\n             self.taskClient.updateTask(task)\n         except Exception as err:\n-            print('Error executing task: ' + str(err))\n+            print(f'Error executing task: {exec_function.__name__} with error: {str(err)}')", "originalCommit": "73d1cd8c0ec4231155281b649d9bff964828f0a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzA2Nzc0Ng==", "url": "https://github.com/Netflix/conductor/pull/1993#discussion_r543067746", "bodyText": "exec_function.__name__ would contain the name of the exec_function that will be executed in the start function of ConductorWorker.py\nConsider the snippet below:\nself.start('task_name_in_conductor_server', self._function_to_execute, True)\n\nThis is the code used in the worker to start polling for task_name_in_conductor_server in the Conductor server. It will execute the function self._function_to_execute whenever task_name_in_conductor_server needs to be completed within Conductor server.\nMy suggestion was to print the actual name of the function that will be executed in the python client (in this example above: _function_to_execute) instead of printing task_name_in_conductor_server, because developers tend to view logs from the worker in order to debug the python client's code. For debugging purposes, printing the python function's name helps more than printing the name of the task that is inside Conductor server.\nAlternatively if one wants to print the task name instead of function name, Line 81 can be changed to print(f'Error executing task: {task['taskType]} with error: {str(err)}') instead. Though I would rather go to the Conductor server UI to view the name of the task, so the name of the task within Conductor server feels less helpful to be in the worker logs.", "author": "DPain", "createdAt": "2020-12-15T05:57:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk2NDI0Mw=="}], "type": "inlineReview"}]}