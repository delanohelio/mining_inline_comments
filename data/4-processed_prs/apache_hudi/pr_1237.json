{"pr_number": 1237, "pr_title": "[HUDI-583] Code Cleanup, remove redundant code, and other changes", "pr_createdAt": "2020-01-16T23:00:04Z", "pr_url": "https://github.com/apache/hudi/pull/1237", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE4Nzg4Mg==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368187882", "bodyText": "better to List<Object> listRes = new ArrayList<>(); ?", "author": "leesf", "createdAt": "2020-01-18T00:27:56Z", "path": "hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java", "diffHunk": "@@ -286,7 +284,7 @@ private static JsonToAvroFieldProcessor generateArrayTypeHandler() {\n       public Pair<Boolean, Object> convert(Object value, String name, Schema schema)\n           throws HoodieJsonToAvroConversionException {\n         Schema elementSchema = schema.getElementType();\n-        List listRes = new ArrayList();\n+        List listRes = new ArrayList<>();", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE4ODg2MA==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368188860", "bodyText": "makes sense this is Jackson API", "author": "smarthi", "createdAt": "2020-01-18T00:33:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE4Nzg4Mg=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5MTIwMA==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368191200", "bodyText": "still keep this line uncommented?", "author": "leesf", "createdAt": "2020-01-18T00:50:35Z", "path": "hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java", "diffHunk": "@@ -194,69 +193,66 @@ protected void storePartitionView(String partitionPath, List<HoodieFileGroup> fi\n    */\n   protected void applyDeltaFileSlicesToPartitionView(String partition, List<HoodieFileGroup> deltaFileGroups,\n       DeltaApplyMode mode) {\n-    rocksDB.writeBatch(batch -> {\n-      deltaFileGroups.stream().forEach(fg -> {\n-        fg.getAllRawFileSlices().map(fs -> {\n-          FileSlice oldSlice = getFileSlice(partition, fs.getFileId(), fs.getBaseInstantTime());\n-          if (null == oldSlice) {\n-            return fs;\n-          } else {\n-            // First remove the file-slice\n-            LOG.info(\"Removing old Slice in DB. FS=\" + oldSlice);\n-            rocksDB.deleteInBatch(batch, schemaHelper.getColFamilyForView(),\n-                schemaHelper.getKeyForSliceView(fg, oldSlice));\n-            rocksDB.deleteInBatch(batch, schemaHelper.getColFamilyForView(),\n-                schemaHelper.getKeyForDataFileView(fg, oldSlice));\n-\n-            Map<String, HoodieLogFile> logFiles = oldSlice.getLogFiles()\n-                .map(lf -> Pair.of(Path.getPathWithoutSchemeAndAuthority(lf.getPath()).toString(), lf))\n-                .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\n-            Map<String, HoodieLogFile> deltaLogFiles =\n-                fs.getLogFiles().map(lf -> Pair.of(Path.getPathWithoutSchemeAndAuthority(lf.getPath()).toString(), lf))\n+    rocksDB.writeBatch(batch ->\n+        deltaFileGroups.forEach(fg ->\n+            fg.getAllRawFileSlices().map(fs -> {\n+              FileSlice oldSlice = getFileSlice(partition, fs.getFileId(), fs.getBaseInstantTime());\n+              if (null == oldSlice) {\n+                return fs;\n+              } else {\n+                // First remove the file-slice\n+                // LOG.info(\"Removing old Slice in DB. FS=\" + oldSlice);", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5MTcyOA==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368191728", "bodyText": "ditto, any concerns?", "author": "leesf", "createdAt": "2020-01-18T00:54:49Z", "path": "hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java", "diffHunk": "@@ -198,7 +193,7 @@ public static String getRelativePartitionPath(Path basePath, Path partitionPath)\n     return partitions;\n   }\n \n-  public static final List<String> getAllDataFilesForMarkers(FileSystem fs, String basePath, String instantTs,\n+  public static List<String> getAllDataFilesForMarkers(FileSystem fs, String basePath, String instantTs,", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5NjI3Nw==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368196277", "bodyText": "would it return null? we need avoid return null.", "author": "leesf", "createdAt": "2020-01-18T01:31:49Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java", "diffHunk": "@@ -71,18 +71,13 @@ public static Path getNthParent(Path path, int n) {\n   public static List<String> getIncrementalTableNames(JobContext job) {\n     Map<String, String> tablesModeMap = job.getConfiguration()\n         .getValByRegex(HOODIE_CONSUME_MODE_PATTERN_STRING.pattern());\n-    List<String> result = tablesModeMap.entrySet().stream().map(s -> {\n+    return tablesModeMap.entrySet().stream().map(s -> {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIwMTE1NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368201155", "bodyText": "good catch - fixed it", "author": "smarthi", "createdAt": "2020-01-18T02:48:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5NjI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5NjM2Nw==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368196367", "bodyText": "skip null result?", "author": "leesf", "createdAt": "2020-01-18T01:33:02Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java", "diffHunk": "@@ -108,9 +107,7 @@\n       LOG.info(\"Found a total of \" + groupedFileStatus.size() + \" groups\");\n       for (Map.Entry<HoodieTableMetaClient, List<FileStatus>> entry : groupedFileStatus.entrySet()) {\n         List<FileStatus> result = filterFileStatusForSnapshotMode(entry.getKey(), entry.getValue());\n-        if (result != null) {\n-          returns.addAll(result);\n-        }\n+        returns.addAll(result);", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIwMDkyOQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368200929", "bodyText": "fixed", "author": "smarthi", "createdAt": "2020-01-18T02:44:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5NjM2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5NjQ3Mw==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368196473", "bodyText": "incrementalInputPaths won't be null?", "author": "leesf", "createdAt": "2020-01-18T01:34:20Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java", "diffHunk": "@@ -171,15 +167,15 @@\n           return false;\n         })\n         .collect(Collectors.joining(\",\"));\n-    if (incrementalInputPaths == null || incrementalInputPaths.isEmpty()) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIwMDkxOQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368200919", "bodyText": "good catch- fixed it", "author": "smarthi", "createdAt": "2020-01-18T02:43:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE5NjQ3Mw=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIxMDU0NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368210545", "bodyText": "Based on other test code style, we can let the @Test annotation close to the method so that we can keep /** here. WDYT?", "author": "yanghua", "createdAt": "2020-01-18T06:41:12Z", "path": "hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java", "diffHunk": "@@ -74,7 +74,7 @@ public void testMaskFileName() {\n   }\n \n   @Test\n-  /**", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIxMDg5Mg==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r368210892", "bodyText": "ok", "author": "smarthi", "createdAt": "2020-01-18T06:49:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIxMDU0NQ=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2MjU0OQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373762549", "bodyText": "So org.apache.hadoop.util.bloom.BloomFilter could be also changed to BloomFilter?", "author": "leesf", "createdAt": "2020-02-01T06:43:52Z", "path": "hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalDynamicBloomFilter.java", "diffHunk": "@@ -217,12 +214,8 @@ public void readFields(DataInput in) throws IOException {\n    * Adds a new row to <i>this</i> dynamic Bloom filter.\n    */\n   private void addRow() {\n-    org.apache.hadoop.util.bloom.BloomFilter[] tmp = new org.apache.hadoop.util.bloom.BloomFilter[matrix.length + 1];\n-\n-    for (int i = 0; i < matrix.length; i++) {\n-      tmp[i] = matrix[i];\n-    }\n-\n+    BloomFilter[] tmp = new BloomFilter[matrix.length + 1];\n+    System.arraycopy(matrix, 0, tmp, 0, matrix.length);\n     tmp[tmp.length - 1] = new org.apache.hadoop.util.bloom.BloomFilter(vectorSize, nbHash, hashType);", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2MjY5NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373762695", "bodyText": "keep the final  as is ?", "author": "leesf", "createdAt": "2020-02-01T06:47:02Z", "path": "hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java", "diffHunk": "@@ -45,13 +45,13 @@\n       .put(HoodieTimeline.COMPACTION_ACTION, HoodieTimeline.COMMIT_ACTION).build();\n \n   public static final Comparator<HoodieInstant> ACTION_COMPARATOR =\n-      Comparator.<HoodieInstant, String>comparing(instant -> getComparableAction(instant.getAction()));\n+      Comparator.comparing(instant -> getComparableAction(instant.getAction()));\n \n   public static final Comparator<HoodieInstant> COMPARATOR = Comparator.comparing(HoodieInstant::getTimestamp)\n       .thenComparing(ACTION_COMPARATOR).thenComparing(HoodieInstant::getState);\n \n-  public static final String getComparableAction(String action) {\n-    return COMPARABLE_ACTIONS.containsKey(action) ? COMPARABLE_ACTIONS.get(action) : action;\n+  public static String getComparableAction(String action) {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NDU2NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373764565", "bodyText": "its redundant for static methods since they can't be overriden anyways, right?", "author": "smarthi", "createdAt": "2020-02-01T07:38:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2MjY5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2MjkwOA==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373762908", "bodyText": "good catch", "author": "leesf", "createdAt": "2020-02-01T06:52:30Z", "path": "hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java", "diffHunk": "@@ -1,4 +1,4 @@\n-/**\n+/*", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NDU4OA==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373764588", "bodyText": "good catch, combine == null is always false.", "author": "leesf", "createdAt": "2020-02-01T07:39:18Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java", "diffHunk": "@@ -356,25 +357,21 @@ public int hashCode() {\n     HoodieCombineHiveInputFormat.HoodieCombineFileInputFormatShim combine =\n         new HoodieCombineHiveInputFormat.HoodieCombineFileInputFormatShim();\n \n-    InputSplit[] splits = null;\n-    if (combine == null) {\n-      splits = super.getSplits(job, numSplits);\n-      return splits;\n-    }", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTE2Nw==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373765167", "bodyText": "readColNames is not null. so !readColNames.contains(fieldName) is okay.", "author": "leesf", "createdAt": "2020-02-01T07:54:04Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java", "diffHunk": "@@ -175,7 +176,7 @@ private static Configuration addProjectionField(Configuration conf, String field\n       readColIdsPrefix = \"\";\n     }\n \n-    if (!readColNames.contains(fieldName)) {\n+    if (!Objects.requireNonNull(readColNames).contains(fieldName)) {", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODc4NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373778785", "bodyText": "If we let builder's each setXXX method one line, the readability would be better. WDYT?", "author": "yanghua", "createdAt": "2020-02-01T12:58:26Z", "path": "hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java", "diffHunk": "@@ -59,14 +59,12 @@ public HoodieCompactionPlan downgradeFrom(HoodieCompactionPlan input) {\n     final Path basePath = new Path(metaClient.getBasePath());\n     List<HoodieCompactionOperation> v1CompactionOperationList = new ArrayList<>();\n     if (null != input.getOperations()) {\n-      v1CompactionOperationList = input.getOperations().stream().map(inp -> {\n-        return HoodieCompactionOperation.newBuilder().setBaseInstantTime(inp.getBaseInstantTime())\n-            .setFileId(inp.getFileId()).setPartitionPath(inp.getPartitionPath()).setMetrics(inp.getMetrics())\n-            .setDataFilePath(convertToV1Path(basePath, inp.getPartitionPath(), inp.getDataFilePath()))\n-            .setDeltaFilePaths(inp.getDeltaFilePaths().stream()\n-                .map(s -> convertToV1Path(basePath, inp.getPartitionPath(), s)).collect(Collectors.toList()))\n-            .build();\n-      }).collect(Collectors.toList());\n+      v1CompactionOperationList = input.getOperations().stream().map(inp -> HoodieCompactionOperation.newBuilder().setBaseInstantTime(inp.getBaseInstantTime())\n+          .setFileId(inp.getFileId()).setPartitionPath(inp.getPartitionPath()).setMetrics(inp.getMetrics())", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc4MTc3NA==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373781774", "bodyText": "agreed", "author": "smarthi", "createdAt": "2020-02-01T14:07:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODc4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc4NDY4Mg==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373784682", "bodyText": "Did you revert all the changes of CompactionV1MigrationHandler?", "author": "yanghua", "createdAt": "2020-02-01T15:09:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODc4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc4NTA4MQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373785081", "bodyText": "yes - too tired and busy now - and u have a point about code readability.", "author": "smarthi", "createdAt": "2020-02-01T15:18:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODc4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc4NTE4NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373785185", "bodyText": "OK, just make sure. It does not matter.", "author": "yanghua", "createdAt": "2020-02-01T15:20:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODc4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3OTA4Ng==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373779086", "bodyText": "Would you mind to explain why we should to remove this assertion?", "author": "yanghua", "createdAt": "2020-02-01T13:06:15Z", "path": "hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java", "diffHunk": "@@ -414,7 +414,6 @@ public void testBasicAppendAndRead() throws IOException, URISyntaxException, Int\n         dataBlockRead.getRecords().size());\n     assertEquals(\"Both records lists should be the same. (ordering guaranteed)\", copyOfRecords1,\n         dataBlockRead.getRecords());\n-    assertEquals(dataBlockRead.getSchema(), getSimpleSchema());", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc4MDE0NQ==", "url": "https://github.com/apache/hudi/pull/1237#discussion_r373780145", "bodyText": "We can also use List<InputSplit> result = new ArrayList<>(); to follow the same code style in this file. WDYT?", "author": "yanghua", "createdAt": "2020-02-01T13:32:47Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java", "diffHunk": "@@ -522,12 +519,12 @@ public int hashCode() {\n     perfLogger.PerfLogBegin(CLASS_NAME, PerfLogger.GET_SPLITS);\n     init(job);\n \n-    ArrayList<InputSplit> result = new ArrayList<InputSplit>();\n+    ArrayList<InputSplit> result = new ArrayList<>();", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4d09d3bec9ac2c0c0e5c5b25df3963d8e77beb24", "url": "https://github.com/apache/hudi/commit/4d09d3bec9ac2c0c0e5c5b25df3963d8e77beb24", "message": "[MINOR] Code Cleanup, remove redundant code, and other changes", "committedDate": "2020-02-01T14:06:00Z", "type": "commit"}, {"oid": "4d09d3bec9ac2c0c0e5c5b25df3963d8e77beb24", "url": "https://github.com/apache/hudi/commit/4d09d3bec9ac2c0c0e5c5b25df3963d8e77beb24", "message": "[MINOR] Code Cleanup, remove redundant code, and other changes", "committedDate": "2020-02-01T14:06:00Z", "type": "forcePushed"}]}