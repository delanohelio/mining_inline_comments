{"pr_number": 1541, "pr_title": "[HUDI-843] Add ability to specify time unit for  TimestampBasedKeyGenerator", "pr_createdAt": "2020-04-21T00:01:11Z", "pr_url": "https://github.com/apache/hudi/pull/1541", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY4NTM3MA==", "url": "https://github.com/apache/hudi/pull/1541#discussion_r412685370", "bodyText": "this is converting to ms, rather?", "author": "vinothchandar", "createdAt": "2020-04-22T05:42:22Z", "path": "hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java", "diffHunk": "@@ -123,4 +132,8 @@ public HoodieKey getKey(GenericRecord record) {\n       throw new HoodieDeltaStreamerException(\"Unable to parse input partition field :\" + partitionVal, pe);\n     }\n   }\n+\n+  private long convertLongTimeToSeconds(Long partitionVal) {", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY4NzM1Mg==", "url": "https://github.com/apache/hudi/pull/1541#discussion_r412687352", "bodyText": "this will break users setting EPOCHMILLISECONDS today.. Could we avoid this pain  and transparently handle this", "author": "vinothchandar", "createdAt": "2020-04-22T05:47:44Z", "path": "hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java", "diffHunk": "@@ -35,16 +35,21 @@\n import java.util.Collections;\n import java.util.Date;\n import java.util.TimeZone;\n+import java.util.concurrent.TimeUnit;\n+\n+import static java.util.concurrent.TimeUnit.MILLISECONDS;\n \n /**\n  * Key generator, that relies on timestamps for partitioning field. Still picks record key by name.\n  */\n public class TimestampBasedKeyGenerator extends SimpleKeyGenerator {\n \n   enum TimestampType implements Serializable {\n-    UNIX_TIMESTAMP, DATE_STRING, MIXED, EPOCHMILLISECONDS", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY4NzkyMw==", "url": "https://github.com/apache/hudi/pull/1541#discussion_r412687923", "bodyText": "If this is set, we can make the timeunit be MILLISECONDS..", "author": "vinothchandar", "createdAt": "2020-04-22T05:49:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY4NzM1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk3NzY0Mw==", "url": "https://github.com/apache/hudi/pull/1541#discussion_r414977643", "bodyText": "yep, will do", "author": "afilipchik", "createdAt": "2020-04-25T04:41:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY4NzM1Mg=="}], "type": "inlineReview"}, {"oid": "940cc6a7eb69f171831f8ccca17c6fd18da26109", "url": "https://github.com/apache/hudi/commit/940cc6a7eb69f171831f8ccca17c6fd18da26109", "message": "Add ability to specify time unit for  TimestampBasedKeyGenerator", "committedDate": "2020-05-14T19:15:26Z", "type": "commit"}, {"oid": "01789f5d8f0be15c7c9ac410d831ef2640a27f37", "url": "https://github.com/apache/hudi/commit/01789f5d8f0be15c7c9ac410d831ef2640a27f37", "message": "updated inputDateFormat", "committedDate": "2020-05-14T19:15:26Z", "type": "commit"}, {"oid": "8762940b3585404cafa044427d747a7bc8143d6e", "url": "https://github.com/apache/hudi/commit/8762940b3585404cafa044427d747a7bc8143d6e", "message": "Restoring EPOCHMILLISECONDS and making it more generic", "committedDate": "2020-05-14T19:15:26Z", "type": "commit"}, {"oid": "8c67ea61589bdb3c09f73709e326d5a067b8866b", "url": "https://github.com/apache/hudi/commit/8c67ea61589bdb3c09f73709e326d5a067b8866b", "message": "Added test", "committedDate": "2020-05-14T19:16:13Z", "type": "commit"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "4356e308d432808c5218f772f3f5ea48cb46a99d", "url": "https://github.com/apache/hudi/commit/4356e308d432808c5218f772f3f5ea48cb46a99d", "message": "Rename property without _", "committedDate": "2020-05-14T19:23:43Z", "type": "commit"}, {"oid": "4356e308d432808c5218f772f3f5ea48cb46a99d", "url": "https://github.com/apache/hudi/commit/4356e308d432808c5218f772f3f5ea48cb46a99d", "message": "Rename property without _", "committedDate": "2020-05-14T19:23:43Z", "type": "forcePushed"}]}