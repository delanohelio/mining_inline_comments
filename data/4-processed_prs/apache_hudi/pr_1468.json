{"pr_number": 1468, "pr_title": "[HUDI-748] Adding .codecov.yml to set exclusions for code coverage reports.", "pr_createdAt": "2020-03-30T19:46:46Z", "pr_url": "https://github.com/apache/hudi/pull/1468", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDA3Mw==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r400534073", "bodyText": "this is all the core model classes right.. why exclude them?", "author": "vinothchandar", "createdAt": "2020-03-30T22:32:08Z", "path": ".codecov.yml", "diffHunk": "@@ -0,0 +1,46 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+# For more configuration details:\n+# https://docs.codecov.io/docs/codecov-yaml\n+\n+# Check if this file is valid by running in bash:\n+# curl -X POST --data-binary @.codecov.yml https://codecov.io/validate\n+\n+# Ignoring Paths\n+# --------------\n+# which folders/files to ignore\n+ignore:\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/model/*\"", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI1Nzk0Nw==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r401257947", "bodyText": "they are just model classes and they only have properties + getter/setter methods. coverage does not work well with classes that have lot of member declarations since they only tag executed lines (getter/setters). Since most of the getters & setters are autogenerated or trivial code, there is no real benefit in testing them.", "author": "ramachandranms", "createdAt": "2020-03-31T22:43:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDA3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU5ODEwMQ==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r402598101", "bodyText": "@prashantwason : I agree with skipping avro-generated files for coverage.\nBut even though hand-written model classes are mostly POJOs (there is some code to convert one object to another).  As these are core classes, I am inclined to keeping these on.  Let us know if you strongly think otherwise.", "author": "bvaradar", "createdAt": "2020-04-02T21:10:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDA3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM3ODM1Mw==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r403378353", "bodyText": "No issues. I will remove the hand-written model classes.", "author": "prashantwason", "createdAt": "2020-04-03T23:11:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDA3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDM0NQ==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r400534345", "bodyText": "@bvaradar do you see these needing unit tests in the future.", "author": "vinothchandar", "createdAt": "2020-03-30T22:32:40Z", "path": ".codecov.yml", "diffHunk": "@@ -0,0 +1,46 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+# For more configuration details:\n+# https://docs.codecov.io/docs/codecov-yaml\n+\n+# Check if this file is valid by running in bash:\n+# curl -X POST --data-binary @.codecov.yml https://codecov.io/validate\n+\n+# Ignoring Paths\n+# --------------\n+# which folders/files to ignore\n+ignore:\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/*\"", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU5MzM0NQ==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r402593345", "bodyText": "@prashantwason : Can we retain DTO classes. It has translation functions and I caught an issue there as part of PR-1459. As part of TestRemoteHoodieTableFileSystemView, these classes should be anyway covered. Can we retain these classes.", "author": "bvaradar", "createdAt": "2020-04-02T20:43:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDM0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDc2MA==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r400534760", "bodyText": "My bad. I misread these as the org.apache ones.. these two are ok to keep here", "author": "vinothchandar", "createdAt": "2020-03-30T22:33:39Z", "path": ".codecov.yml", "diffHunk": "@@ -0,0 +1,46 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+# For more configuration details:\n+# https://docs.codecov.io/docs/codecov-yaml\n+\n+# Check if this file is valid by running in bash:\n+# curl -X POST --data-binary @.codecov.yml https://codecov.io/validate\n+\n+# Ignoring Paths\n+# --------------\n+# which folders/files to ignore\n+ignore:\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/UpgradePayloadFromUberToApache.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java\"\n+  - \"hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java\"\n+  - \"hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java\"\n+  - \"hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java\"\n+  - \"hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java\"", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNDg5Nw==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r400534897", "bodyText": "this is a good candidate", "author": "vinothchandar", "createdAt": "2020-03-30T22:33:58Z", "path": ".codecov.yml", "diffHunk": "@@ -0,0 +1,46 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+# For more configuration details:\n+# https://docs.codecov.io/docs/codecov-yaml\n+\n+# Check if this file is valid by running in bash:\n+# curl -X POST --data-binary @.codecov.yml https://codecov.io/validate\n+\n+# Ignoring Paths\n+# --------------\n+# which folders/files to ignore\n+ignore:\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/UpgradePayloadFromUberToApache.java\"", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNTM2Mw==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r400535363", "bodyText": "a bunch of these classes @bvaradar you have better context on.. can you chime inhere", "author": "vinothchandar", "createdAt": "2020-03-30T22:35:06Z", "path": ".codecov.yml", "diffHunk": "@@ -0,0 +1,46 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+# For more configuration details:\n+# https://docs.codecov.io/docs/codecov-yaml\n+\n+# Check if this file is valid by running in bash:\n+# curl -X POST --data-binary @.codecov.yml https://codecov.io/validate\n+\n+# Ignoring Paths\n+# --------------\n+# which folders/files to ignore\n+ignore:\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/model/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/*\"\n+  - \"hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload\"\n+  - \"hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java\"", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU5NjAyNQ==", "url": "https://github.com/apache/hudi/pull/1468#discussion_r402596025", "bodyText": "these should be fine to be skipped.", "author": "bvaradar", "createdAt": "2020-04-02T21:04:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDUzNTM2Mw=="}], "type": "inlineReview"}, {"oid": "214b7344b68705b2b1b27eaa20685a82c1de6b08", "url": "https://github.com/apache/hudi/commit/214b7344b68705b2b1b27eaa20685a82c1de6b08", "message": "[HUDI-748] Adding .codecov.yml to set exclusions for code coverage reports.", "committedDate": "2020-04-03T23:13:35Z", "type": "commit"}, {"oid": "214b7344b68705b2b1b27eaa20685a82c1de6b08", "url": "https://github.com/apache/hudi/commit/214b7344b68705b2b1b27eaa20685a82c1de6b08", "message": "[HUDI-748] Adding .codecov.yml to set exclusions for code coverage reports.", "committedDate": "2020-04-03T23:13:35Z", "type": "forcePushed"}]}