{"pr_number": 2061, "pr_title": "[DOCS] Adding coding guidelines", "pr_createdAt": "2020-09-02T01:48:37Z", "pr_url": "https://github.com/apache/hudi/pull/2061", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgwOTczMQ==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481809731", "bodyText": "lot -> a lot", "author": "yanghua", "createdAt": "2020-09-02T07:02:48Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMDIzMg==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481810232", "bodyText": "reflective of -> reflect on?", "author": "yanghua", "createdAt": "2020-09-02T07:03:26Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIwODM5Ng==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483208396", "bodyText": "I think current phrasing is actually correct", "author": "vinothchandar", "createdAt": "2020-09-03T19:32:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMDIzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMTM4Mw==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481811383", "bodyText": "an action (when) and  -> an action (when), and ?", "author": "yanghua", "createdAt": "2020-09-02T07:04:56Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMTc1Mg==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481811752", "bodyText": "May be -> Maybe?", "author": "yanghua", "createdAt": "2020-09-02T07:05:23Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. ", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMjExNA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481812114", "bodyText": "file.. -> file.", "author": "yanghua", "createdAt": "2020-09-02T07:05:53Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMjY1Nw==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481812657", "bodyText": "xxxData etc -> xxxData, etc?", "author": "yanghua", "createdAt": "2020-09-02T07:06:41Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxMzEyNA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481813124", "bodyText": "may be -> maybe?", "author": "yanghua", "createdAt": "2020-09-02T07:07:18Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxNDkyMA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481814920", "bodyText": "actual -> the actual?", "author": "yanghua", "createdAt": "2020-09-02T07:09:37Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. ", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxNTg0NA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481815844", "bodyText": "for the sake\uff1f", "author": "yanghua", "createdAt": "2020-09-02T07:10:46Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. \n+  e.g renaming/breaking up a file and then changing code changes, makes the diff very hard to review.\n+- **Licensing**\n+    - Every source file needs to include the Apache license header. Every new dependency needs to have \n+      an open source license [compatible](https://www.apache.org/legal/resolved.html#criteria) with Apache.\n+    - If you are re-using code from another apache/open-source project, licensing needs to be compatible and attribution added to `LICENSE` file\n+    - Please DO NOT copy paste any code from StackOverflow or other online sources, since their license attribution would be unclear. Author them yourself!\n+- **Code Organization** \n+    - Anything in `hudi-common` cannot depend on a specific engine runtime like Spark. \n+    - Any changes to bundles under `packaging`, will be reviewed with additional scrutiny to avoid breakages across versions.\n+- **Code reuse**\n+  - Whenever you can, please use/enhance use existing utils classes in code (`CollectionUtils`, `ParquetUtils`, `HoodieAvroUtils`). Search for classes ending in `Utils`.\n+  - As a complex project, that must integrate with multiple systems, we tend to avoid dependencies like `guava`, `apache commons` for sake of easy integration. ", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgxNjY5Mg==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481816692", "bodyText": "write a piece of?", "author": "yanghua", "createdAt": "2020-09-02T07:11:48Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. \n+  e.g renaming/breaking up a file and then changing code changes, makes the diff very hard to review.\n+- **Licensing**\n+    - Every source file needs to include the Apache license header. Every new dependency needs to have \n+      an open source license [compatible](https://www.apache.org/legal/resolved.html#criteria) with Apache.\n+    - If you are re-using code from another apache/open-source project, licensing needs to be compatible and attribution added to `LICENSE` file\n+    - Please DO NOT copy paste any code from StackOverflow or other online sources, since their license attribution would be unclear. Author them yourself!\n+- **Code Organization** \n+    - Anything in `hudi-common` cannot depend on a specific engine runtime like Spark. \n+    - Any changes to bundles under `packaging`, will be reviewed with additional scrutiny to avoid breakages across versions.\n+- **Code reuse**\n+  - Whenever you can, please use/enhance use existing utils classes in code (`CollectionUtils`, `ParquetUtils`, `HoodieAvroUtils`). Search for classes ending in `Utils`.\n+  - As a complex project, that must integrate with multiple systems, we tend to avoid dependencies like `guava`, `apache commons` for sake of easy integration. \n+     Please start a discussion on the mailing list, before attempting to reintroduce them\n+  - As a data system, that takes performance seriously, we also write piece of infrastructure (e.g `ExternalSpillableMap`) natively, that are optimized specifically for our scenarios.", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgyMDA5OA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481820098", "bodyText": "a RFC -> an RFC", "author": "yanghua", "createdAt": "2020-09-02T07:15:49Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. \n+  e.g renaming/breaking up a file and then changing code changes, makes the diff very hard to review.\n+- **Licensing**\n+    - Every source file needs to include the Apache license header. Every new dependency needs to have \n+      an open source license [compatible](https://www.apache.org/legal/resolved.html#criteria) with Apache.\n+    - If you are re-using code from another apache/open-source project, licensing needs to be compatible and attribution added to `LICENSE` file\n+    - Please DO NOT copy paste any code from StackOverflow or other online sources, since their license attribution would be unclear. Author them yourself!\n+- **Code Organization** \n+    - Anything in `hudi-common` cannot depend on a specific engine runtime like Spark. \n+    - Any changes to bundles under `packaging`, will be reviewed with additional scrutiny to avoid breakages across versions.\n+- **Code reuse**\n+  - Whenever you can, please use/enhance use existing utils classes in code (`CollectionUtils`, `ParquetUtils`, `HoodieAvroUtils`). Search for classes ending in `Utils`.\n+  - As a complex project, that must integrate with multiple systems, we tend to avoid dependencies like `guava`, `apache commons` for sake of easy integration. \n+     Please start a discussion on the mailing list, before attempting to reintroduce them\n+  - As a data system, that takes performance seriously, we also write piece of infrastructure (e.g `ExternalSpillableMap`) natively, that are optimized specifically for our scenarios.\n+     Please start with them first, when solving problems.\n+ - **Breaking changes**\n+   - Any version changes for dependencies, needs to be ideally vetted across different user environments in the community, to get enough confidence before merging.\n+   - Any changes to methods annotated with `PublicAPIMethod` or classes annotated with `PublicAPIClass` require upfront discussion and potentially a RFC.", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgyMDEyMQ==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481820121", "bodyText": "for the sake\uff1f", "author": "yanghua", "createdAt": "2020-09-02T07:15:51Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. \n+  e.g renaming/breaking up a file and then changing code changes, makes the diff very hard to review.\n+- **Licensing**\n+    - Every source file needs to include the Apache license header. Every new dependency needs to have \n+      an open source license [compatible](https://www.apache.org/legal/resolved.html#criteria) with Apache.\n+    - If you are re-using code from another apache/open-source project, licensing needs to be compatible and attribution added to `LICENSE` file\n+    - Please DO NOT copy paste any code from StackOverflow or other online sources, since their license attribution would be unclear. Author them yourself!\n+- **Code Organization** \n+    - Anything in `hudi-common` cannot depend on a specific engine runtime like Spark. \n+    - Any changes to bundles under `packaging`, will be reviewed with additional scrutiny to avoid breakages across versions.\n+- **Code reuse**\n+  - Whenever you can, please use/enhance use existing utils classes in code (`CollectionUtils`, `ParquetUtils`, `HoodieAvroUtils`). Search for classes ending in `Utils`.\n+  - As a complex project, that must integrate with multiple systems, we tend to avoid dependencies like `guava`, `apache commons` for sake of easy integration. ", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgyMTg3MQ==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481821871", "bodyText": "non-backwards -> non-backward?", "author": "yanghua", "createdAt": "2020-09-02T07:18:01Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. \n+  e.g renaming/breaking up a file and then changing code changes, makes the diff very hard to review.\n+- **Licensing**\n+    - Every source file needs to include the Apache license header. Every new dependency needs to have \n+      an open source license [compatible](https://www.apache.org/legal/resolved.html#criteria) with Apache.\n+    - If you are re-using code from another apache/open-source project, licensing needs to be compatible and attribution added to `LICENSE` file\n+    - Please DO NOT copy paste any code from StackOverflow or other online sources, since their license attribution would be unclear. Author them yourself!\n+- **Code Organization** \n+    - Anything in `hudi-common` cannot depend on a specific engine runtime like Spark. \n+    - Any changes to bundles under `packaging`, will be reviewed with additional scrutiny to avoid breakages across versions.\n+- **Code reuse**\n+  - Whenever you can, please use/enhance use existing utils classes in code (`CollectionUtils`, `ParquetUtils`, `HoodieAvroUtils`). Search for classes ending in `Utils`.\n+  - As a complex project, that must integrate with multiple systems, we tend to avoid dependencies like `guava`, `apache commons` for sake of easy integration. \n+     Please start a discussion on the mailing list, before attempting to reintroduce them\n+  - As a data system, that takes performance seriously, we also write piece of infrastructure (e.g `ExternalSpillableMap`) natively, that are optimized specifically for our scenarios.\n+     Please start with them first, when solving problems.\n+ - **Breaking changes**\n+   - Any version changes for dependencies, needs to be ideally vetted across different user environments in the community, to get enough confidence before merging.\n+   - Any changes to methods annotated with `PublicAPIMethod` or classes annotated with `PublicAPIClass` require upfront discussion and potentially a RFC.\n+   - Any non-backwards compatible changes similarly need upfront discussion and the functionality needs to implement an upgrade-downgrade path.", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIxMTA4Mw==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483211083", "bodyText": "i have seen both. keeping the s", "author": "vinothchandar", "createdAt": "2020-09-03T19:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgyMTg3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgyMzE3OA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r481823178", "bodyText": "with intent -> with the intent?", "author": "yanghua", "createdAt": "2020-09-02T07:19:38Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -140,6 +195,9 @@ and more importantly also try to improve the process along the way as well.\n    - Both contributors/reviewers need to keep an open mind and ground themselves to making the most technically sound argument.\n    - If progress is hard, please involve another PMC member/Committer to share another perspective.\n    - Staying humble and eager to learn, goes a long way in ensuring these reviews are smooth.\n+ - Reviewers are expected to uphold the code quality, standards outlined above.\n+ - When merging PRs, always make sure you are squashing the commits using the \"Squash and Merge\" feature in Github\n+ - When necessary/appropriate, reviewers could make changes themselves to PR branches, with intent to get the PR landed sooner. (see [how-to](https://cwiki.apache.org/confluence/display/HUDI/Resources#Resources-PushingChangesToPRs))", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MDEwMw==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483050103", "bodyText": "do we have any guidelines for ordering or public, package private and private method. Also, in tests, actual test methods and private/utility methods and assertion methods.", "author": "nsivabalan", "createdAt": "2020-09-03T15:05:39Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIwOTQ3Nw==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483209477", "bodyText": "this would go counter to that sort of ordering. most of this is distilled from the clean code book, which recomments logical grouping by cohesion, rather than artificially by private/public", "author": "vinothchandar", "createdAt": "2020-09-03T19:34:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MDEwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MDg0OA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483050848", "bodyText": "+1 on this.", "author": "nsivabalan", "createdAt": "2020-09-03T15:06:44Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. ", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MzA1OA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483053058", "bodyText": "can we add a line about \"for large PRs like bootstrap, one should add integration tests as well\".", "author": "nsivabalan", "createdAt": "2020-09-03T15:09:58Z", "path": "docs/_pages/contributing.md", "diffHunk": "@@ -130,6 +126,65 @@ and more importantly also try to improve the process along the way as well.\n    - Before your change can be merged, it should be squashed into a single commit for cleaner commit history.\n  - Finally, once your pull request is merged, make sure to `Close` the JIRA.\n \n+### Coding guidelines \n+\n+Our code can benefit from contributors speaking the same \"language\" when authoring code. After all, it gets read lot more than it gets\n+written. So optimizing for \"reads\" is a good goal. The list below is a set of guidelines, that contributors strive to upkeep and reflective \n+of how we want to evolve our code in the future.\n+\n+#### Style \n+\n+ - **Formatting** We should rely on checkstyle and spotless to auto fix formatting; automate this completely. Where we cannot,\n+    we will err on the side of not taxing contributors with manual effort.\n+ - **Refactoring**\n+   - Refactor with purpose; any refactor suggested should be attributable to functionality that now becomes easy to implement.\n+   - A class is asking to be refactored, when it has several overloaded responsibilities/have sets of fields/methods which are used more cohesively than others. \n+   - Try to name tests using the given-when-then model, that cleans separates preconditions (given), an action (when) and assertions (then).\n+ - **Naming things**\n+   - Let's name uniformly; using the same word to denote the same concept. e.g: bootstrap vs external vs source, when referring to bootstrapped tables. \n+     May be they all mean the same, but having one word makes the code lot more easily readable. \n+   - Let's name consistently with Hudi terminology. e.g dataset vs table, base file vs data file..\n+   - Class names preferably are nouns (e.g Runner) which reflect their responsibility and methods are verbs (e.g run()).\n+   - Avoid filler words, that don't add value e.g xxxInfo, xxxData etc.\n+   - We name classes in code starting with `Hoodie` and not `Hudi` and we want to keep it that way for consistency/historical reasons. \n+ - **Methods**\n+   - Individual methods should short (~20-30 lines) and have a single purpose; If you feel like it has a secondary purpose, then may be it needs\n+     to be broken down more.\n+   - Lesser the number of arguments, the better; \n+   - Place caller methods on top of callee methods, whenever possible.\n+   - Avoid \"output\" arguments e.g passing in a list and filling its values within the method.\n+   - Try to limit individual if/else blocks to few lines to aid readability.\n+   - Separate logical blocks of code with a newline in between e.g read a file into memory, loop over the lines.\n+ - **Classes**\n+   - Like method, each Class should have a single purpose/responsibility.\n+   - Try to keep class files to about 200 lines of length, nothing beyond 500.\n+   - Avoid stating the obvious in comments; e.g each line does not deserve a comment; Document corner-cases/special perf considerations etc clearly.\n+   - Try creating factory methods/builders and interfaces wherever you feel a specific implementation may be changed down the line.\n+\n+#### Substance\n+\n+- Try to avoid large PRs; if unavoidable (many times they are) please separate refactoring with actual implementation of functionality. ", "originalCommit": "1f8bd458abbbed2b4203364a04615ca7bdc70c89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzIxMDA2MA==", "url": "https://github.com/apache/hudi/pull/2061#discussion_r483210060", "bodyText": "I am not sure about that actually. integration test cannot be about testing every combination. even for bootstrap I did not want separate bootstrap tables per se.", "author": "vinothchandar", "createdAt": "2020-09-03T19:36:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MzA1OA=="}], "type": "inlineReview"}, {"oid": "64d33f449432be515f0bcd33da7c039d3f50125a", "url": "https://github.com/apache/hudi/commit/64d33f449432be515f0bcd33da7c039d3f50125a", "message": "[DOCS] Adding coding guidelines", "committedDate": "2020-09-03T19:39:44Z", "type": "commit"}, {"oid": "64d33f449432be515f0bcd33da7c039d3f50125a", "url": "https://github.com/apache/hudi/commit/64d33f449432be515f0bcd33da7c039d3f50125a", "message": "[DOCS] Adding coding guidelines", "committedDate": "2020-09-03T19:39:44Z", "type": "forcePushed"}]}