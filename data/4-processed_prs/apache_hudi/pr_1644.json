{"pr_number": 1644, "pr_title": "[HUDI-811] Restructure test packages in hudi-common", "pr_createdAt": "2020-05-20T06:23:16Z", "pr_url": "https://github.com/apache/hudi/pull/1644", "timeline": [{"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUwNjU2Mw==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r428506563", "bodyText": "Can we rename to TestInLineFileSystem?", "author": "yanghua", "createdAt": "2020-05-21T08:05:11Z", "path": "hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java", "diffHunk": "@@ -40,18 +42,18 @@\n import java.util.Set;\n import java.util.UUID;\n \n-import static org.apache.hudi.common.fs.inline.FileSystemTestUtils.FILE_SCHEME;\n-import static org.apache.hudi.common.fs.inline.FileSystemTestUtils.RANDOM;\n-import static org.apache.hudi.common.fs.inline.FileSystemTestUtils.getPhantomFile;\n-import static org.apache.hudi.common.fs.inline.FileSystemTestUtils.getRandomOuterInMemPath;\n+import static org.apache.hudi.common.testutils.FileSystemTestUtils.FILE_SCHEME;\n+import static org.apache.hudi.common.testutils.FileSystemTestUtils.RANDOM;\n+import static org.apache.hudi.common.testutils.FileSystemTestUtils.getPhantomFile;\n+import static org.apache.hudi.common.testutils.FileSystemTestUtils.getRandomOuterInMemPath;\n import static org.junit.jupiter.api.Assertions.assertArrayEquals;\n import static org.junit.jupiter.api.Assertions.assertEquals;\n import static org.junit.jupiter.api.Assertions.assertNotEquals;\n \n /**\n  * Tests {@link InLineFileSystem} to inline HFile.\n  */\n-public class TestHFileInLining {\n+public class TestInLineFileSystemHFileInLining {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc2MDU5OQ==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r428760599", "bodyText": "@yanghua TestInLineFileSystem already exists in the same package. This is testing TestInLineFileSystem for a group of cases for HFile inlining.", "author": "xushiyan", "createdAt": "2020-05-21T16:16:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUwNjU2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk0MzY4Mw==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r430943683", "bodyText": "OK, sounds good.", "author": "yanghua", "createdAt": "2020-05-27T08:26:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUwNjU2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUwNjYyNw==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r428506627", "bodyText": "ditto", "author": "yanghua", "createdAt": "2020-05-21T08:05:20Z", "path": "hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java", "diffHunk": "@@ -60,7 +62,7 @@\n   private int maxRows = 100 + RANDOM.nextInt(1000);\n   private Path generatedPath;\n \n-  public TestHFileInLining() {\n+  public TestInLineFileSystemHFileInLining() {", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUxMDA3Nw==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r428510077", "bodyText": "I would recommend renaming RocksDBDAO  to be RocksDBManager. WDYT? Generally, xxxDAO exists in the web project. cc @vinothchandar", "author": "yanghua", "createdAt": "2020-05-21T08:13:13Z", "path": "hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBDAO.java", "diffHunk": "@@ -45,7 +45,7 @@\n /**\n  * Tests RocksDB manager {@link RocksDBDAO}.\n  */\n-public class TestRocksDBManager {\n+public class TestRocksDBDAO {", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc1NzY2Mw==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r428757663", "bodyText": "@yanghua I'm trying to align it with the class under test, which is RocksDBDAO. So the pattern is to prefix it with Test. Given that we only have RocksDBDAO class not RocksDBManager, figuring we'd better align it with the test name to avoid confusion. Sound good?", "author": "xushiyan", "createdAt": "2020-05-21T16:11:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUxMDA3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc1ODQ4Mg==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r430758482", "bodyText": "@yanghua Does the comment above make sense?", "author": "xushiyan", "createdAt": "2020-05-26T23:17:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUxMDA3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk0MTc0Mw==", "url": "https://github.com/apache/hudi/pull/1644#discussion_r430941743", "bodyText": "Sorry for the late reply. Yes, your explanation is reasonable. Actually, I'd like to discuss with you about the opinion of renaming RocksDBDAO  to RocksDBManager .", "author": "yanghua", "createdAt": "2020-05-27T08:23:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUxMDA3Nw=="}], "type": "inlineReview"}, {"oid": "db626a8cf84c7dcd2a4b1417b2df991e023bf1fd", "url": "https://github.com/apache/hudi/commit/db626a8cf84c7dcd2a4b1417b2df991e023bf1fd", "message": "[HUDI-811] Restructure test packages in hudi-common\n\n* categorize tests into functional and testutils\n* align test package with src package", "committedDate": "2020-05-21T16:12:25Z", "type": "commit"}, {"oid": "573469fbc3cbeacfefc77651d54cc930b9635894", "url": "https://github.com/apache/hudi/commit/573469fbc3cbeacfefc77651d54cc930b9635894", "message": "rename org.apache.hudi.hive.testutils.TestUtil to HiveTestUtil", "committedDate": "2020-05-21T16:12:25Z", "type": "commit"}, {"oid": "573469fbc3cbeacfefc77651d54cc930b9635894", "url": "https://github.com/apache/hudi/commit/573469fbc3cbeacfefc77651d54cc930b9635894", "message": "rename org.apache.hudi.hive.testutils.TestUtil to HiveTestUtil", "committedDate": "2020-05-21T16:12:25Z", "type": "forcePushed"}, {"oid": "f2d05ee78ec38b527ba3159f897a03f0a34f2033", "url": "https://github.com/apache/hudi/commit/f2d05ee78ec38b527ba3159f897a03f0a34f2033", "message": "fix from conflicts", "committedDate": "2020-05-21T17:19:56Z", "type": "commit"}]}