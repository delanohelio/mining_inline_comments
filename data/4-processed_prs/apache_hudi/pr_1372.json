{"pr_number": 1372, "pr_title": "[HUDI-652] Decouple HoodieReadClient and AbstractHoodieClient to break the inheritance chain", "pr_createdAt": "2020-03-04T13:23:54Z", "pr_url": "https://github.com/apache/hudi/pull/1372", "timeline": [{"oid": "ae09a17dc8c68e4fb3c1dfcacfae388cab0d6467", "url": "https://github.com/apache/hudi/commit/ae09a17dc8c68e4fb3c1dfcacfae388cab0d6467", "message": "[HUDI-652] Decouple HoodieReadClient and AbstractHoodieClient to break the inheritance chain", "committedDate": "2020-03-04T13:21:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzcyNTczNw==", "url": "https://github.com/apache/hudi/pull/1372#discussion_r387725737", "bodyText": "if we have to copy this code, then breaking the abstraction does not feel right?\nI actually think its okay for ReadClient to not use the TimelineServer..", "author": "vinothchandar", "createdAt": "2020-03-04T15:06:09Z", "path": "hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java", "diffHunk": "@@ -144,6 +163,43 @@ private void assertSqlContext() {\n     }\n   }\n \n+  private synchronized void startEmbeddedServerView() {", "originalCommit": "ae09a17dc8c68e4fb3c1dfcacfae388cab0d6467", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzcyOTc3OQ==", "url": "https://github.com/apache/hudi/pull/1372#discussion_r387729779", "bodyText": "My original thought, the first step is to decouple the inheritance chain. I did not change any logic so that I would not touch anything about the key things. Then I will try to remove some unnecessary logic.", "author": "yanghua", "createdAt": "2020-03-04T15:12:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzcyNTczNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA0NjcwOA==", "url": "https://github.com/apache/hudi/pull/1372#discussion_r388046708", "bodyText": "I found keep timeline server specific logic, we need to change the code in another module to catch the exception. So, all right, I have removed the timeline server in read client.", "author": "yanghua", "createdAt": "2020-03-05T02:26:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzcyNTczNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI5NTMwNw==", "url": "https://github.com/apache/hudi/pull/1372#discussion_r388295307", "bodyText": "The Travis is green, please review again.", "author": "yanghua", "createdAt": "2020-03-05T13:35:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzcyNTczNw=="}], "type": "inlineReview"}, {"oid": "17ee15c29b902af75fe2e793ecb2f772c8456499", "url": "https://github.com/apache/hudi/commit/17ee15c29b902af75fe2e793ecb2f772c8456499", "message": "Removed timeline server support", "committedDate": "2020-03-05T01:58:00Z", "type": "commit"}, {"oid": "17ee15c29b902af75fe2e793ecb2f772c8456499", "url": "https://github.com/apache/hudi/commit/17ee15c29b902af75fe2e793ecb2f772c8456499", "message": "Removed timeline server support", "committedDate": "2020-03-05T01:58:00Z", "type": "forcePushed"}, {"oid": "778f4dc8afa8fc489235ac0d799357944704737c", "url": "https://github.com/apache/hudi/commit/778f4dc8afa8fc489235ac0d799357944704737c", "message": "Removed try-with-resource", "committedDate": "2020-03-05T07:17:23Z", "type": "commit"}]}