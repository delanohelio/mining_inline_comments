{"pr_number": 1935, "pr_title": "[HUDI-1121][DOC]Provide a document describing how to use callback", "pr_createdAt": "2020-08-08T05:40:29Z", "pr_url": "https://github.com/apache/hudi/pull/1935", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQzNjYxMg==", "url": "https://github.com/apache/hudi/pull/1935#discussion_r467436612", "bodyText": "would add #### HoodieWriteCommitHttpCallback before the following configs since the configs belong to HoodieWriteCommitHttpCallback", "author": "leesf", "createdAt": "2020-08-08T10:04:31Z", "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -510,3 +510,28 @@ Property: `hoodie.memory.compaction.fraction` <br/>\n #### withWriteStatusFailureFraction(failureFraction = 0.1) {#withWriteStatusFailureFraction}\n Property: `hoodie.memory.writestatus.failure.fraction` <br/>\n <span style=\"color:grey\">This property controls what fraction of the failed record, exceptions we report back to driver</span>\n+\n+#### Write commit callback configs\n+Controls callback behavior on write commit\n+[withCallbackConfig](#withCallbackConfig) (HoodieWriteCommitCallbackConfig) <br/>\n+<span style=\"color:grey\">Callback related configs</span>\n+\n+##### writeCommitCallbackOn(callbackOn = false) {#writeCommitCallbackOn} \n+Property: `hoodie.write.commit.callback.on` <br/>\n+<span style=\"color:grey\">Turn callback on/off. off by default.</span>\n+\n+##### withCallbackClass(callbackClass) {#withCallbackClass} \n+Property: `hoodie.write.commit.callback.class` <br/>\n+<span style=\"color:grey\">Full path of user-defined callback class and must be a subclass of HoodieWriteCommitCallback class, org.apache.hudi.callback.impl.HoodieWriteCommitHttpCallback by default</span>\n+\n+##### withCallbackHttpUrl(url) {#withCallbackHttpUrl} ", "originalCommit": "3d29748e515b02db5c60b941b37fee877533553e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ1NDY0Mw==", "url": "https://github.com/apache/hudi/pull/1935#discussion_r467454643", "bodyText": "would add #### HoodieWriteCommitHttpCallback before the following configs since the configs belong to HoodieWriteCommitHttpCallback\n\nyes, my mistake.", "author": "wangxianghu", "createdAt": "2020-08-08T11:13:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQzNjYxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQzNzI1NQ==", "url": "https://github.com/apache/hudi/pull/1935#discussion_r467437255", "bodyText": "would describe in details, such as if enables the callback but failed to callback.", "author": "leesf", "createdAt": "2020-08-08T10:05:50Z", "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -510,3 +510,28 @@ Property: `hoodie.memory.compaction.fraction` <br/>\n #### withWriteStatusFailureFraction(failureFraction = 0.1) {#withWriteStatusFailureFraction}\n Property: `hoodie.memory.writestatus.failure.fraction` <br/>\n <span style=\"color:grey\">This property controls what fraction of the failed record, exceptions we report back to driver</span>\n+\n+#### Write commit callback configs\n+Controls callback behavior on write commit", "originalCommit": "3d29748e515b02db5c60b941b37fee877533553e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ1NDY2Mg==", "url": "https://github.com/apache/hudi/pull/1935#discussion_r467454662", "bodyText": "would describe in details, such as if enables the callback but failed to callback.\n\ndone", "author": "wangxianghu", "createdAt": "2020-08-08T11:13:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQzNzI1NQ=="}], "type": "inlineReview"}, {"oid": "c72f1616720bc9277ce30dccd92dfa8a52a31be8", "url": "https://github.com/apache/hudi/commit/c72f1616720bc9277ce30dccd92dfa8a52a31be8", "message": "[HUDI-1121]Provide a document describing how to use callback", "committedDate": "2020-08-08T11:09:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ1Njk3MA==", "url": "https://github.com/apache/hudi/pull/1935#discussion_r467456970", "bodyText": "move into Write commit callback configs section would be better?", "author": "leesf", "createdAt": "2020-08-08T11:41:51Z", "path": "docs/_docs/2_4_configurations.md", "diffHunk": "@@ -510,3 +510,30 @@ Property: `hoodie.memory.compaction.fraction` <br/>\n #### withWriteStatusFailureFraction(failureFraction = 0.1) {#withWriteStatusFailureFraction}\n Property: `hoodie.memory.writestatus.failure.fraction` <br/>\n <span style=\"color:grey\">This property controls what fraction of the failed record, exceptions we report back to driver</span>\n+\n+### Write commit callback configs\n+Controls callback behavior on write commit. Exception will be thrown if user enabled the callback service and errors occurred during the process of callback. Currently support http callback only, kafka implementation will be supported in the near future. \n+[withCallbackConfig](#withCallbackConfig) (HoodieWriteCommitCallbackConfig) <br/>\n+<span style=\"color:grey\">Callback related configs</span>\n+\n+#### HoodieWriteCommitHttpCallback\n+\n+##### writeCommitCallbackOn(callbackOn = false) {#writeCommitCallbackOn} \n+Property: `hoodie.write.commit.callback.on` <br/>\n+<span style=\"color:grey\">Turn callback on/off. off by default.</span>\n+\n+##### withCallbackClass(callbackClass) {#withCallbackClass} \n+Property: `hoodie.write.commit.callback.class` <br/>\n+<span style=\"color:grey\">Full path of user-defined callback class and must be a subclass of HoodieWriteCommitCallback class, org.apache.hudi.callback.impl.HoodieWriteCommitHttpCallback by default</span>", "originalCommit": "c72f1616720bc9277ce30dccd92dfa8a52a31be8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ1OTMwNw==", "url": "https://github.com/apache/hudi/pull/1935#discussion_r467459307", "bodyText": "move into Write commit callback configs section would be better?\n\nyes, more clear", "author": "wangxianghu", "createdAt": "2020-08-08T12:13:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ1Njk3MA=="}], "type": "inlineReview"}, {"oid": "c09300e8885d0b36a0de853a11dbab4cba818721", "url": "https://github.com/apache/hudi/commit/c09300e8885d0b36a0de853a11dbab4cba818721", "message": "[HUDI-1121]Provide a document describing how to use callback", "committedDate": "2020-08-08T12:12:59Z", "type": "commit"}, {"oid": "c09300e8885d0b36a0de853a11dbab4cba818721", "url": "https://github.com/apache/hudi/commit/c09300e8885d0b36a0de853a11dbab4cba818721", "message": "[HUDI-1121]Provide a document describing how to use callback", "committedDate": "2020-08-08T12:12:59Z", "type": "forcePushed"}]}