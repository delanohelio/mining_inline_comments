{"pr_number": 752, "pr_title": "CLDR-13982 button to download flagged items to CSV", "pr_createdAt": "2020-10-01T20:44:27Z", "pr_url": "https://github.com/unicode-org/cldr/pull/752", "timeline": [{"oid": "3896da42ffde119b7520eb7449ba063a0d4fa99e", "url": "https://github.com/unicode-org/cldr/commit/3896da42ffde119b7520eb7449ba063a0d4fa99e", "message": "CLDR-13982 button to download flagged items to CSV\n\n- TC only (because it includes emails)\n- also, cleanup some code in survey.js that was unclear\n- also, add a utility function to convert SQL to CSV so we can add more\nfeatures like this", "committedDate": "2020-10-01T20:42:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzNzQ4OQ==", "url": "https://github.com/unicode-org/cldr/pull/752#discussion_r504037489", "bodyText": "Given the need to migrate away from JSP, it would be more ideal for new code like this to go into a Java file", "author": "btangmu", "createdAt": "2020-10-13T15:16:59Z", "path": "tools/cldr-apps/src/main/webapp/DataExport.jsp", "diffHunk": "@@ -17,8 +17,12 @@\n         response.sendRedirect(request.getContextPath());\n         return;\n     }\n-\n-    if (action.equals(\"list\") && UserRegistry.userIsVetter(sess.user)) {\n+    if (action.equals(\"flagged\") && UserRegistry.userIsTC(sess.user)) {", "originalCommit": "3896da42ffde119b7520eb7449ba063a0d4fa99e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3MTE3Mg==", "url": "https://github.com/unicode-org/cldr/pull/752#discussion_r504271172", "bodyText": "@btangmu ideally, but it's parallel to existing code", "author": "srl295", "createdAt": "2020-10-13T21:32:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzNzQ4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3MTU0Mw==", "url": "https://github.com/unicode-org/cldr/pull/752#discussion_r504271543", "bodyText": "@btangmu also, this is just a first change, @macchiati to identify other places where we should do this same download.", "author": "srl295", "createdAt": "2020-10-13T21:33:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzNzQ4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM0OTcyMA==", "url": "https://github.com/unicode-org/cldr/pull/752#discussion_r504349720", "bodyText": "OK, maybe while this code is fresh in your mind and you're still working on this ticket would be a good time to move all of DataExport.jsp into a .java file :-)", "author": "btangmu", "createdAt": "2020-10-14T01:35:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzNzQ4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA0MDgxMg==", "url": "https://github.com/unicode-org/cldr/pull/752#discussion_r504040812", "bodyText": "Thanks for updating the comments and names!", "author": "btangmu", "createdAt": "2020-10-13T15:21:15Z", "path": "tools/cldr-apps/src/main/webapp/js/survey.js", "diffHunk": "@@ -2144,9 +2145,10 @@ require([\"dojo/ready\"], function(ready) {\n \t\t\tsetLastShown(hideIfLast);\n \n \t\t\t/*\n-\t\t\t * TODO: clarify or rename; this td isn't really a td, is it?\n+\t\t\t * This is the temporary fragment used for the\n+\t\t\t * \"info panel\" contents. ", "originalCommit": "3896da42ffde119b7520eb7449ba063a0d4fa99e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}