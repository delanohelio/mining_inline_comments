{"pr_number": 604, "pr_title": "CLDR-6746 TestPaths to include seed and exemplars", "pr_createdAt": "2020-08-01T00:15:28Z", "pr_url": "https://github.com/unicode-org/cldr/pull/604", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjMxNA==", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464026314", "bodyText": "The better choice is to add rulesetGrouping to DtdData.DRAFT_ON_NON_LEAF_ALLOWED", "author": "macchiati", "createdAt": "2020-08-02T03:33:54Z", "path": "seed/rbnf/nci.xml", "diffHunk": "@@ -11,7 +11,7 @@ For terms of use, see http://www.unicode.org/copyright.html\n         <language type=\"nci\"/>\n     </identity>\n     <rbnf>\n-        <rulesetGrouping type=\"SpelloutRules\" draft=\"unconfirmed\">", "originalCommit": "c9da4184c4ca6dad39b65848a185be26d9b3aac9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjUzMw==", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464026533", "bodyText": "Wherever the test message is surfacing, we should add a pointer to DtdData.DRAFT_ON_NON_LEAF_ALLOWED, but with a caution that it should only be expanded if we are certain that it is ok to have draft on a non-leaf (should be rare).", "author": "macchiati", "createdAt": "2020-08-02T03:37:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjMxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAzNjQ1NQ==", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464036455", "bodyText": "The better choice is to add rulesetGrouping to DtdData.DRAFT_ON_NON_LEAF_ALLOWED\n\nOk great thanks. I had assumed the behavior was intended, but will fix.", "author": "srl295", "createdAt": "2020-08-02T06:04:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjMxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU4MzkwNw==", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464583907", "bodyText": "see message at #604 (comment)", "author": "srl295", "createdAt": "2020-08-03T18:18:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjMxNA=="}], "type": "inlineReview"}, {"oid": "1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "url": "https://github.com/unicode-org/cldr/commit/1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\n- TestPaths needed to include seed and exemplars\n- fix DtdData to include rulesetGrouping\n- fix DtdData parsing to allow draft on non-leaf nodes where DRAFT_ON_NON_LEAF_ALLOWED was set\n- update TestPaths to print a more helpful message\n- update sa collation to not use a deprecated attribute", "committedDate": "2020-08-03T18:14:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY3Mjk0MA==", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464672940", "bodyText": "For the others (\"collation\", \"transform\", \"unitPreferenceData\") I think we explicitly removed the @deprecated on the element, which is cleaner than having this special test.\n(There is no particular value to distinguishing the \"with-children\" case from the \"without children\" case.)", "author": "macchiati", "createdAt": "2020-08-03T21:31:04Z", "path": "tools/java/org/unicode/cldr/util/DtdData.java", "diffHunk": "@@ -224,7 +224,10 @@ public void addComment(String commentIn) {\n                     attributeStatus = AttributeStatus.value;\n                     break;\n                 case \"@DEPRECATED\":\n-                    isDeprecatedAttribute = true;\n+                    if (!name.equals(\"draft\")", "originalCommit": "1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "db5fced207da6367660e5c356cd34f6c8c4b47ad", "url": "https://github.com/unicode-org/cldr/commit/db5fced207da6367660e5c356cd34f6c8c4b47ad", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\nDTD/Tools\n- fix the DTD to not deprecate draft= on rulesetGrouping\n- fix DtdData to include rulesetGrouping in DRAFT_ON_NON_LEAF_ALLOWED\n\nTest changes:\n- TestPaths needed to include seed and exemplars\n- update TestPaths to print a more helpful message\n\nData changes: (seed)\n- update sa collation to not use a deprecated attribute", "committedDate": "2020-08-14T01:25:00Z", "type": "commit"}, {"oid": "db5fced207da6367660e5c356cd34f6c8c4b47ad", "url": "https://github.com/unicode-org/cldr/commit/db5fced207da6367660e5c356cd34f6c8c4b47ad", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\nDTD/Tools\n- fix the DTD to not deprecate draft= on rulesetGrouping\n- fix DtdData to include rulesetGrouping in DRAFT_ON_NON_LEAF_ALLOWED\n\nTest changes:\n- TestPaths needed to include seed and exemplars\n- update TestPaths to print a more helpful message\n\nData changes: (seed)\n- update sa collation to not use a deprecated attribute", "committedDate": "2020-08-14T01:25:00Z", "type": "forcePushed"}]}