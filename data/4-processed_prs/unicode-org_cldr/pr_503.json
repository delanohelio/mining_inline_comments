{"pr_number": 503, "pr_title": "CLDR-13839 Fix Filing-a-Ticket links", "pr_createdAt": "2020-06-03T20:01:34Z", "pr_url": "https://github.com/unicode-org/cldr/pull/503", "timeline": [{"oid": "147115368a3e44cb369aba351c02dba1e30a1b96", "url": "https://github.com/unicode-org/cldr/commit/147115368a3e44cb369aba351c02dba1e30a1b96", "message": "CLDR-13839 Fix Filing-a-Ticket links\n\n-Link to http://cldr.unicode.org/index/bug-reports#TOC-Filing-a-Ticket, no parameters", "committedDate": "2020-06-03T19:59:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAyNTI4OQ==", "url": "https://github.com/unicode-org/cldr/pull/503#discussion_r437025289", "bodyText": "It appears from the delta that you are not urlEncoding various fields. Seems dangerous; can you explain?", "author": "macchiati", "createdAt": "2020-06-08T22:00:10Z", "path": "tools/java/org/unicode/cldr/tool/ShowLanguages.java", "diffHunk": "@@ -1022,22 +1022,9 @@ private String urlEncode(String input) {\n             }\n         }\n \n-        // http://trac.edgewall.org/wiki/TracTickets#PresetValuesforNewTickets\n-        // http://unicode.org/cldr/trac/newticket?summary=Fix_XXX\n         private String addBug(int bugNumber, String text, String from, String subject, String body) {\n-            String parameters = \"\";\n-            // if (from != null && from.length() != 0) {\n-            // parameters += \"&from=\" + urlEncode(from);\n-            // }\n-            if (body != null && body.length() != 0) {\n-                parameters += \"&amp;description=\" + urlEncode(body);", "originalCommit": "147115368a3e44cb369aba351c02dba1e30a1b96", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ2MzIzOQ==", "url": "https://github.com/unicode-org/cldr/pull/503#discussion_r437463239", "bodyText": "Yes. It looks like formerly, with Trac, the URL could include pre-filled information about the context of the particular bug. Now CLDR_NEWTICKET_URL doesn't accept parameters -- there's no query string. Consequently, the parameters are unused, except for \"text\", which was never urlEncoded, and doesn't need to be since it's not part of the URL itself. It's safe, since \"text\" is always supplied by us, not by the user, and always has one of two values: \"<i>bug</i>\" or \"<i>add new</i>\".", "author": "btangmu", "createdAt": "2020-06-09T14:23:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzAyNTI4OQ=="}], "type": "inlineReview"}]}