{"pr_number": 1554, "pr_title": "Finishing Switch to MekHQ.getLogger() instead of System.out/err/printStackTrace", "pr_createdAt": "2020-03-12T17:38:47Z", "pr_url": "https://github.com/MegaMek/mekhq/pull/1554", "timeline": [{"oid": "551bbd3adeb1cb022e71cf41d7a12594be8ba63e", "url": "https://github.com/MegaMek/mekhq/commit/551bbd3adeb1cb022e71cf41d7a12594be8ba63e", "message": "Switching System.out, System.err, and e.printStackTrace to instead use getLogger()", "committedDate": "2020-03-12T16:28:34Z", "type": "commit"}, {"oid": "f7f14bf75bb943c8365ec53ee33f72b9b80e33fe", "url": "https://github.com/MegaMek/mekhq/commit/f7f14bf75bb943c8365ec53ee33f72b9b80e33fe", "message": "Removing inline loggers outside of MekHQ", "committedDate": "2020-03-12T16:38:25Z", "type": "commit"}, {"oid": "a05a3e91ec253c17cdc91b31d996b188a85e5cba", "url": "https://github.com/MegaMek/mekhq/commit/a05a3e91ec253c17cdc91b31d996b188a85e5cba", "message": "Reverting changes in MekHQ.java to ensure that the MegaMek outputs work properly", "committedDate": "2020-03-12T17:03:59Z", "type": "commit"}, {"oid": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94", "url": "https://github.com/MegaMek/mekhq/commit/4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94", "message": "Fixing tab spacing issues found during review", "committedDate": "2020-03-12T17:33:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ==", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391785561", "bodyText": "Should this be added to the logger?", "author": "Windchild292", "createdAt": "2020-03-12T17:39:34Z", "path": "MekHQ/src/mekhq/MekHQ.java", "diffHunk": "@@ -366,8 +366,12 @@ public static void main(String[] args) {\n         System.setProperty(\"com.apple.mrj.application.apple.menu.about.name\",\"MekHQ\");\n \n         SwingUtilities.invokeLater(() -> {\n-            //redirect output to log file\n-            redirectOutput();\n+            // TODO : logFileName should probably not be inline\n+            String logFileName = \"logs\" + File.separator + \"mekhqlog.txt\";\n+            // Reset the log file - TODO : Maybe move this to being a call to the logger?\n+            MegaMek.resetLogFile(logFileName);", "originalCommit": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk2ODI2MA==", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391968260", "bodyText": "I don't know but I'm confused as to why the log file bits have to be invoked on the UI thread.", "author": "sixlettervariables", "createdAt": "2020-03-13T00:11:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU0NDcxNQ==", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r392544715", "bodyText": "Good point, I'll test and see what happens outside the UI thread.", "author": "Windchild292", "createdAt": "2020-03-14T01:30:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU0NzA5Mg==", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r392547092", "bodyText": "I've got no idea why it was in the UI thread, but I've moved it to its over thread and added a reset log file method to the default logger.", "author": "Windchild292", "createdAt": "2020-03-14T02:03:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NTU2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc4NjQ4NQ==", "url": "https://github.com/MegaMek/mekhq/pull/1554#discussion_r391786485", "bodyText": "This is the only logical change, I've changed listStream into a try (with resources)", "author": "Windchild292", "createdAt": "2020-03-12T17:41:02Z", "path": "MekHQ/src/mekhq/campaign/ResolveScenarioTracker.java", "diffHunk": "@@ -860,15 +858,11 @@ private void loadUnitsAndPilots(File unitFile) throws IOException {\n             MULParser parser = new MULParser();\n \n             // Open up the file.\n-            InputStream listStream = new FileInputStream(unitFile);\n-            // Read a Vector from the file.\n-            try {\n+            try (InputStream listStream = new FileInputStream(unitFile)) {\n+                // Read a Vector from the file.\n                 parser.parse(listStream);\n-                listStream.close();\n-            } catch (Exception excep) {\n-                excep.printStackTrace(System.err);\n-                // throw new IOException(\"Unable to read from: \" +\n-                // unitFile.getName());", "originalCommit": "4bf7aa38f907aeb5a655cbb197b0bc34fb57ed94", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8f8f0d710ddf8f9afef746ba7b0d52b767731f7a", "url": "https://github.com/MegaMek/mekhq/commit/8f8f0d710ddf8f9afef746ba7b0d52b767731f7a", "message": "Switching to using the new ResetLogger in DefaultMMLogger", "committedDate": "2020-03-14T02:39:35Z", "type": "commit"}]}