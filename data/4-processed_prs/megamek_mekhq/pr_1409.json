{"pr_number": 1409, "pr_title": "1405: Display Mother and Father for Children in the Force", "pr_createdAt": "2020-01-19T19:49:24Z", "pr_url": "https://github.com/MegaMek/mekhq/pull/1409", "timeline": [{"oid": "5d67c8789d9f9a1f60a218665d8f089c5f3730ec", "url": "https://github.com/MegaMek/mekhq/commit/5d67c8789d9f9a1f60a218665d8f089c5f3730ec", "message": "Adding hyperlinks to personnel tab for familial relations", "committedDate": "2020-01-19T18:59:00Z", "type": "commit"}, {"oid": "9aea6968340dfca4a507f68fb8d0477358672b3e", "url": "https://github.com/MegaMek/mekhq/commit/9aea6968340dfca4a507f68fb8d0477358672b3e", "message": "Merge remote-tracking branch 'upstream/master' into dev_Windchild_1406", "committedDate": "2020-01-19T19:00:05Z", "type": "commit"}, {"oid": "18431cc7f5ef50b212d5e508d7dc44dc7b7d3984", "url": "https://github.com/MegaMek/mekhq/commit/18431cc7f5ef50b212d5e508d7dc44dc7b7d3984", "message": "1405: Added Mother and Father links in Personnel tab", "committedDate": "2020-01-19T19:47:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxNzcwOQ==", "url": "https://github.com/MegaMek/mekhq/pull/1409#discussion_r368317709", "bodyText": "This should be a loop local variable, otherwise the field becomes the last child.", "author": "sixlettervariables", "createdAt": "2020-01-19T19:57:56Z", "path": "MekHQ/src/mekhq/gui/view/PersonViewPanel.java", "diffHunk": "@@ -748,27 +759,99 @@ private JPanel fillFamily() {\n             firsty++;\n         }\n \n-        if (campaign.getCampaignOptions().useParentage() && person.hasChildren()) {\n-            lblChildren1.setName(\"lblChildren1\"); // NOI18N //$NON-NLS-1$\n-            lblChildren1.setText(resourceMap.getString(\"lblChildren1.text\")); //$NON-NLS-1$\n-            gridBagConstraints = new GridBagConstraints();\n-            gridBagConstraints.gridx = 0;\n-            gridBagConstraints.gridy = firsty;\n-            gridBagConstraints.fill = GridBagConstraints.NONE;\n-            gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n-            pnlFamily.add(lblChildren1, gridBagConstraints);\n+        if (campaign.getCampaignOptions().useParentage()) {\n+            if (person.hasChildren()) {\n+                lblChildren1.setName(\"lblChildren1\"); // NOI18N //$NON-NLS-1$\n+                lblChildren1.setText(resourceMap.getString(\"lblChildren1.text\")); //$NON-NLS-1$\n+                gridBagConstraints = new GridBagConstraints();\n+                gridBagConstraints.gridx = 0;\n+                gridBagConstraints.gridy = firsty;\n+                gridBagConstraints.fill = GridBagConstraints.NONE;\n+                gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n+                pnlFamily.add(lblChildren1, gridBagConstraints);\n \n-            lblChildren2.setName(\"lblChildren2\"); // NOI18N //$NON-NLS-1$\n-            lblChildren2.setText(person.getChildList());\n-            gridBagConstraints = new GridBagConstraints();\n-            gridBagConstraints.gridx = 1;\n-            gridBagConstraints.gridy = firsty;\n-            gridBagConstraints.weightx = 1.0;\n-            gridBagConstraints.insets = new Insets(0, 10, 0, 0);\n-            gridBagConstraints.fill = GridBagConstraints.NONE;\n-            gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n-            pnlFamily.add(lblChildren2, gridBagConstraints);\n-            firsty++;\n+                gridBagConstraints = new GridBagConstraints();\n+                gridBagConstraints.gridx = 1;\n+                gridBagConstraints.weightx = 1.0;\n+                gridBagConstraints.insets = new Insets(0, 10, 0, 0);\n+                gridBagConstraints.fill = GridBagConstraints.NONE;\n+                gridBagConstraints.anchor = GridBagConstraints.NORTHWEST;\n+\n+                for (Person child : person.getChildList()) {\n+                    gridBagConstraints.gridy = firsty;\n+                    lblChildren2 = new JLabel();", "originalCommit": "18431cc7f5ef50b212d5e508d7dc44dc7b7d3984", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxODI1MA==", "url": "https://github.com/MegaMek/mekhq/pull/1409#discussion_r368318250", "bodyText": "By re-declaring it like this, it works correctly. The previous JLabel is already part of the pnlFamily, so it works well. I've tested it on a family with 2 children, and they link correctly. Looking at it did find a wasteful declaration, so I've cleaned that up.", "author": "Windchild292", "createdAt": "2020-01-19T20:05:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxNzcwOQ=="}], "type": "inlineReview"}, {"oid": "c3b0fc1a096f3f265fe3f53b15f317150c2e1d96", "url": "https://github.com/MegaMek/mekhq/commit/c3b0fc1a096f3f265fe3f53b15f317150c2e1d96", "message": "Removed overwritten JLabel object creation", "committedDate": "2020-01-19T20:06:03Z", "type": "commit"}]}