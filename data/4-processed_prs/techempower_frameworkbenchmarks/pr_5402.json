{"pr_number": 5402, "pr_title": "add V", "pr_createdAt": "2020-01-15T16:39:52Z", "pr_url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5MzE2MQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r366993161", "bodyText": "I'm not familiar with V but I'm assuming this means it's inlined by the compiler? If so, that will have to be removed for the json serialization route.", "author": "nbrady-techempower", "createdAt": "2020-01-15T16:59:33Z", "path": "frameworks/V/pico.v/main.v", "diffHunk": "@@ -0,0 +1,37 @@\n+import json\n+import syou.picoev\n+import syou.picohttpparser as hp\n+\n+struct Message {\n+\tmessage string\n+}\n+\n+[inline]", "originalCommit": "2e94a84a12df1065884680e8a29bf38e1fdd4f65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5NjA5OQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r366996099", "bodyText": "it is static inline equivalent of C, it does inline function but not JSON encoding part.", "author": "S-YOU", "createdAt": "2020-01-15T17:05:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5MzE2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5MzQ1OQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r366993459", "bodyText": "can you add -yqq to update and install to quiet them a bit", "author": "nbrady-techempower", "createdAt": "2020-01-15T17:00:07Z", "path": "frameworks/V/pico.v/pico.v.dockerfile", "diffHunk": "@@ -0,0 +1,13 @@\n+FROM debian:sid\n+\n+WORKDIR /app\n+\n+RUN apt-get update && apt-get install wget unzip build-essential ca-certificates --no-install-recommends --yes", "originalCommit": "2e94a84a12df1065884680e8a29bf38e1fdd4f65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5OTg0OA==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r366999848", "bodyText": "done", "author": "S-YOU", "createdAt": "2020-01-15T17:12:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5MzQ1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5MzY4OA==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r366993688", "bodyText": "a -q here as well for the noise", "author": "nbrady-techempower", "createdAt": "2020-01-15T17:00:31Z", "path": "frameworks/V/pico.v/pico.v.dockerfile", "diffHunk": "@@ -0,0 +1,13 @@\n+FROM debian:sid\n+\n+WORKDIR /app\n+\n+RUN apt-get update && apt-get install wget unzip build-essential ca-certificates --no-install-recommends --yes\n+\n+RUN wget https://github.com/vlang/v/releases/download/0.1.24/v_linux.zip && unzip v_linux.zip -d ./v/", "originalCommit": "2e94a84a12df1065884680e8a29bf38e1fdd4f65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5OTc5Ng==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r366999796", "bodyText": "done", "author": "S-YOU", "createdAt": "2020-01-15T17:12:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5MzY4OA=="}], "type": "inlineReview"}, {"oid": "5f633a8fab71494aea9bfa1ff4af0b99a932c734", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/5f633a8fab71494aea9bfa1ff4af0b99a932c734", "message": "add V", "committedDate": "2020-01-15T18:06:22Z", "type": "forcePushed"}, {"oid": "ea6d4dcd9d6666c7f94ed8a7c667e39a79000f0b", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/ea6d4dcd9d6666c7f94ed8a7c667e39a79000f0b", "message": "add V", "committedDate": "2020-01-16T10:44:40Z", "type": "forcePushed"}, {"oid": "b29bc4cd5fa659f2141619482aefb1ab40d8a179", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/b29bc4cd5fa659f2141619482aefb1ab40d8a179", "message": "add V", "committedDate": "2020-01-16T11:17:45Z", "type": "forcePushed"}, {"oid": "70b42495fc48809d0b94c0a283e1022b5fa091c2", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/70b42495fc48809d0b94c0a283e1022b5fa091c2", "message": "add V", "committedDate": "2020-01-16T11:42:16Z", "type": "commit"}, {"oid": "70b42495fc48809d0b94c0a283e1022b5fa091c2", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/70b42495fc48809d0b94c0a283e1022b5fa091c2", "message": "add V", "committedDate": "2020-01-16T11:42:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY0OTI1MA==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5402#discussion_r392649250", "bodyText": "I wonder if that's the reason why pico.v tops the benchmark.\nhttps://github.com/TechEmpower/FrameworkBenchmarks/wiki/Project-Information-Framework-Tests-Overview#json-serialization\n\nThe recommended URI is /json.\n\nNot a must, but other implementations use /json URL.", "author": "vlazar", "createdAt": "2020-03-15T07:38:39Z", "path": "frameworks/V/pico.v/main.v", "diffHunk": "@@ -0,0 +1,36 @@\n+import json\n+import syou.picoev\n+import syou.picohttpparser as hp\n+\n+struct Message {\n+\tmessage string\n+}\n+\n+[inline]\n+fn json_response() string {\n+\tmsg := Message{message: \"Hello, World!\"}\n+\treturn json.encode(msg)\n+}\n+\n+[inline]\n+fn hello_response() string {\n+\treturn \"Hello, World!\"\n+}\n+\n+pub fn callback(req hp.Request, res mut hp.Response) {\n+\tif hp.cmp(req.method, \"GET\") {\n+\t\tif hp.cmp(req.path, \"/t\") {\n+\t\t\tres.http_ok().header_server().header_date().plain().body(hello_response())\n+\t\t} else if hp.cmp(req.path, \"/j\") {", "originalCommit": "70b42495fc48809d0b94c0a283e1022b5fa091c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}