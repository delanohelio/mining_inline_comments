{"pr_number": 5920, "pr_title": "add one", "pr_createdAt": "2020-08-05T06:07:46Z", "pr_url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5920", "timeline": [{"oid": "cdde212355640dd7e0354e685c83e33062365cd0", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/cdde212355640dd7e0354e685c83e33062365cd0", "message": "add one", "committedDate": "2020-08-05T06:00:57Z", "type": "commit"}, {"oid": "5d36915982b99c080104888f31fa1fc809858a45", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/5d36915982b99c080104888f31fa1fc809858a45", "message": "readme", "committedDate": "2020-08-05T06:07:07Z", "type": "commit"}, {"oid": "0942cf0c9160fd8c1e8647092ee8c063890c4ce8", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/0942cf0c9160fd8c1e8647092ee8c063890c4ce8", "message": "add php.ini", "committedDate": "2020-08-05T08:20:17Z", "type": "commit"}, {"oid": "8b546c5de54511bbb0c5d189594069dd6f097cdb", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/8b546c5de54511bbb0c5d189594069dd6f097cdb", "message": "git", "committedDate": "2020-08-05T09:00:35Z", "type": "commit"}, {"oid": "f2e7f3a9f548716728068da4aec2acb664514471", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/f2e7f3a9f548716728068da4aec2acb664514471", "message": "set header", "committedDate": "2020-08-05T09:23:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxOTUyMQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5920#discussion_r465619521", "bodyText": "Please, use objects to maintain the full ORM.\nNow it's using arrays.\nhttps://github.com/TechEmpower/FrameworkBenchmarks/wiki/Project-Information-Framework-Tests-Overview#fortunes", "author": "joanhey", "createdAt": "2020-08-05T10:11:22Z", "path": "frameworks/PHP/one/App/Controllers/IndexController.php", "diffHunk": "@@ -0,0 +1,80 @@\n+<?php\n+\n+namespace App\\Controllers;\n+\n+use App\\Model\\Fortune;\n+use App\\Model\\World;\n+use One\\Http\\Controller;\n+\n+class IndexController extends Controller\n+{\n+\n+    protected function json($data)\n+    {\n+        $this->response->header('Content-type', 'application/json; charset=UTF-8');\n+        return json_encode($data);\n+    }\n+\n+    public function toJson()\n+    {\n+        return $this->json(['message' => 'Hello, World!']);\n+    }\n+\n+    public function plaintext()\n+    {\n+        $this->response->header('Content-Type', 'text/plain');\n+        return 'Hello, World!';\n+    }\n+\n+    public function db()\n+    {\n+        return $this->json(World::find(mt_rand(1, 10000)));\n+    }\n+\n+    public function fortunes()\n+    {\n+        $arr   = Fortune::findAll()->toArray();\n+        $rs    = [];\n+        $rs[0] = 'Additional fortune added at request time.';\n+        foreach ($arr as $item) {\n+            $rs[$item['id']] = $item['message'];\n+        }\n+        asort($rs);", "originalCommit": "f2e7f3a9f548716728068da4aec2acb664514471", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY1NDAzMQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5920#discussion_r465654031", "bodyText": "Fortune::findAll()  is objects to maintain the full ORM", "author": "lizhichao", "createdAt": "2020-08-05T11:16:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxOTUyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkwNjU4MA==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5920#discussion_r465906580", "bodyText": "For me, I don't see any object.\nAll is managed like array and the asort only order arrays.", "author": "joanhey", "createdAt": "2020-08-05T18:00:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxOTUyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA2NDc2Mw==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5920#discussion_r466064763", "bodyText": "0e78a78 commits , The parameter of asort is not Fortune::findAll()", "author": "lizhichao", "createdAt": "2020-08-05T23:46:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxOTUyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQxOTYzNg==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5920#discussion_r467419636", "bodyText": "@lizhichao Using usort directly on the $arr array of objects and removing the $rs key value map would fit the requirement. Here is an example:\nhttps://github.com/TechEmpower/FrameworkBenchmarks/blob/master/frameworks/PHP/kumbiaphp/bench/app/controllers/fortunes_controller.php#L10", "author": "matt-42", "createdAt": "2020-08-08T09:28:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxOTUyMQ=="}], "type": "inlineReview"}, {"oid": "0e78a78effdff29c4b1821926adbc24de4c35040", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/0e78a78effdff29c4b1821926adbc24de4c35040", "message": "del toarr", "committedDate": "2020-08-05T10:39:26Z", "type": "commit"}, {"oid": "e31f42ed6b8575e646410051002848367f758471", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/e31f42ed6b8575e646410051002848367f758471", "message": "Get properties from object", "committedDate": "2020-08-06T01:29:19Z", "type": "commit"}, {"oid": "02cd2441f0861e53b5fbab9adb375a53b259c528", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/02cd2441f0861e53b5fbab9adb375a53b259c528", "message": "Update IndexController.php", "committedDate": "2020-08-08T14:20:39Z", "type": "commit"}, {"oid": "73fb81a6303a24150bd5d72d9a6913a5e9cc6e45", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/73fb81a6303a24150bd5d72d9a6913a5e9cc6e45", "message": "op db", "committedDate": "2020-08-10T05:39:17Z", "type": "commit"}, {"oid": "a0d0cf25e20cf2236ebd5180ee286c8504ed91f0", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/a0d0cf25e20cf2236ebd5180ee286c8504ed91f0", "message": "add connects", "committedDate": "2020-08-10T09:22:07Z", "type": "commit"}, {"oid": "24f11fd048a4a09b449486ea14e066246111b672", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/24f11fd048a4a09b449486ea14e066246111b672", "message": "change connects", "committedDate": "2020-08-10T09:42:51Z", "type": "commit"}]}