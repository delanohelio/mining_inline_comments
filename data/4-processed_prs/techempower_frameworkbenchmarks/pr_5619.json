{"pr_number": 5619, "pr_title": "Route fixes for Fat Free", "pr_createdAt": "2020-04-20T15:41:44Z", "pr_url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5619", "timeline": [{"oid": "75fab0be60bf3ad4d7d7c65d2734f8af04684d2a", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/75fab0be60bf3ad4d7d7c65d2734f8af04684d2a", "message": "Fixed bad routes\n\nFixed the bad routes so hopefully these fellas will now run.", "committedDate": "2020-04-20T14:46:08Z", "type": "commit"}, {"oid": "2bd7ef76d9b683bd47400cae0353769ddd1b09fd", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/2bd7ef76d9b683bd47400cae0353769ddd1b09fd", "message": "fat-free: fixed bad route definitions causing tests to fail", "committedDate": "2020-04-20T15:36:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU5NDMxMw==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5619#discussion_r411594313", "bodyText": "Duplicate with the / suffix don't look a good idea.\nDelete the other one without /\nIn the benchmark_config.json end with /.", "author": "joanhey", "createdAt": "2020-04-20T18:23:24Z", "path": "frameworks/PHP/fat-free/index.php", "diffHunk": "@@ -50,6 +50,7 @@ function ($f3) {\n $f3->route(\n     array(\n         'GET /db-multiple',\n+        'GET /db-multiple/',", "originalCommit": "2bd7ef76d9b683bd47400cae0353769ddd1b09fd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYyMDgyMA==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5619#discussion_r411620820", "bodyText": "Fat free doesn't assume a backslash will be appended for the route to work. I know it looks dumb, but for whatever reason the benchmark seems to be hitting /db-multiple and /db-multiple/ for something and also checking /db-multiple/123 I couldn't figure out another reason why this would happen https://tfb-status.techempower.com/unzip/results.2020-04-20-07-27-56-665.zip/results/20200415180849/fat-free/query/verification.txt on a url that's been defined in the benchmark_config.json", "author": "n0nag0n", "createdAt": "2020-04-20T19:06:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU5NDMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxMjAwMQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5619#discussion_r411612001", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                'GET /update-raw',\n          \n          \n            \n                'GET /update-raw/',\n          \n          \n            \n                'GET /update-raw/@queries'\n          \n          \n            \n                'GET /update-raw/',\n          \n          \n            \n                'GET /update-raw/@queries'\n          \n      \n    \n    \n  \n\nThe config is using /update-raw/, the same for the rest.", "author": "joanhey", "createdAt": "2020-04-20T18:51:48Z", "path": "frameworks/PHP/fat-free/index.php", "diffHunk": "@@ -154,6 +156,7 @@ function ($f3, $params) {\n \n $f3->route(array(\n     'GET /update-raw',\n+    'GET /update-raw/',\n     'GET /update-raw/@queries'", "originalCommit": "2bd7ef76d9b683bd47400cae0353769ddd1b09fd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYyNTQ5OA==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5619#discussion_r411625498", "bodyText": "This is just my guess since fat free doesn't auto append a forward slash to their URLs. The https://tfb-status.techempower.com/unzip/results.2020-04-20-07-27-56-665.zip/results/20200415180849/fat-free/update/verification.txt file just shows no route, but it's defined in the benchmark_config.json and the multiple db queries and the update test keep failing on the citrine server for some reason, but not in my local codebase in the vagrant box.", "author": "n0nag0n", "createdAt": "2020-04-20T19:13:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxMjAwMQ=="}], "type": "inlineReview"}]}