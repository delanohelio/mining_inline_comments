{"pr_number": 6218, "pr_title": "Donkey", "pr_createdAt": "2020-12-17T14:09:17Z", "pr_url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6218", "timeline": [{"oid": "a8c587de44b87227343f26bc35730cdf2fb1bef9", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/a8c587de44b87227343f26bc35730cdf2fb1bef9", "message": "initial commit", "committedDate": "2020-12-03T15:11:42Z", "type": "commit"}, {"oid": "d62e18c6a43128c5db4d19e9bdc874eb4e2dd99f", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/d62e18c6a43128c5db4d19e9bdc874eb4e2dd99f", "message": "Updating README.md", "committedDate": "2020-12-03T15:31:47Z", "type": "commit"}, {"oid": "323da376f1260aa724457b4bdd942072e96e1744", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/323da376f1260aa724457b4bdd942072e96e1744", "message": "Merge branch 'master' into donkey", "committedDate": "2020-12-04T14:56:34Z", "type": "commit"}, {"oid": "0010466ccfeac2bea5ccd1faa5352ceca314f682", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/0010466ccfeac2bea5ccd1faa5352ceca314f682", "message": "Update jdk image and donkey release version", "committedDate": "2020-12-17T13:57:58Z", "type": "commit"}, {"oid": "685d412d5290c8e6fe959ae24372aa1f2b53fd56", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/685d412d5290c8e6fe959ae24372aa1f2b53fd56", "message": "Merge branch 'master' into donkey", "committedDate": "2020-12-17T14:00:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI4MjI4NQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6218#discussion_r545282285", "bodyText": "json-response is a const that's not being reconstructed on every request. See the test rules for json: https://github.com/TechEmpower/FrameworkBenchmarks/wiki/Project-Information-Framework-Tests-Overview#json-serialization\n\ni. For each request, an object mapping the key message to Hello, World! must be instantiated.", "author": "nbrady-techempower", "createdAt": "2020-12-17T17:47:37Z", "path": "frameworks/Clojure/donkey/src/hello/handler.clj", "diffHunk": "@@ -0,0 +1,49 @@\n+(ns hello.handler\n+  (:require [com.appsflyer.donkey.core :as donkey-core]\n+            [com.appsflyer.donkey.server :as donkey-server]\n+            [com.appsflyer.donkey.middleware.json :as json])\n+  (:gen-class)\n+  (:import (io.vertx.core.impl.cpu CpuCoreSensor)))\n+\n+(def ^:private ^:const json-response\n+  {:status  200\n+   :headers {\"content-type\" \"application/json\"}\n+   :body    {\"message\" \"Hello, World!\"}})\n+\n+(defn- json-handler [_ res _]\n+  (res json-response))", "originalCommit": "685d412d5290c8e6fe959ae24372aa1f2b53fd56", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMwOTI5Nw==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6218#discussion_r545309297", "bodyText": "Updated as requested.", "author": "yaronel", "createdAt": "2020-12-17T18:28:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI4MjI4NQ=="}], "type": "inlineReview"}, {"oid": "47fefc85b87d2fa7c477e22b8e810859bab40645", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/47fefc85b87d2fa7c477e22b8e810859bab40645", "message": "PR #6128 - Revision #1 - Reconstruct JSON response on each request", "committedDate": "2020-12-17T18:27:12Z", "type": "commit"}]}