{"pr_number": 5377, "pr_title": "Lithium: Update framework and some fixes.", "pr_createdAt": "2020-01-07T23:29:04Z", "pr_url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5377", "timeline": [{"oid": "2ced184890552e6d79b18edbef6654bb5a8ca0d4", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/2ced184890552e6d79b18edbef6654bb5a8ca0d4", "message": "Lithium: Update framework and some fixes.", "committedDate": "2020-01-07T23:45:09Z", "type": "commit"}, {"oid": "89d7ad6b2d63dc83b109eb0fa4fc795c7c9a1c86", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/89d7ad6b2d63dc83b109eb0fa4fc795c7c9a1c86", "message": "Lithium: Fix postgres syntax error.", "committedDate": "2020-01-07T23:52:02Z", "type": "commit"}, {"oid": "c65ebafd6ac6eeb5e19d9536a0df0cef6f7a9d0e", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/c65ebafd6ac6eeb5e19d9536a0df0cef6f7a9d0e", "message": "Lithium: Fix postgres syntax error.", "committedDate": "2020-01-07T23:53:37Z", "type": "commit"}, {"oid": "f1bc7158d565c324a3eb016d9f9a33251dfd3125", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/f1bc7158d565c324a3eb016d9f9a33251dfd3125", "message": "Lithium: Update Transaction only for mysql.", "committedDate": "2020-01-07T23:55:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDM0MTE1MQ==", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5377#discussion_r364341151", "bodyText": "@matt-42 Can you remove this and pick one implementation? We verify the results at N == 20 meaning your implementation in the else block would not be verified.", "author": "nbrady-techempower", "createdAt": "2020-01-08T17:04:44Z", "path": "frameworks/C++/lithium/lithium.cc", "diffHunk": "@@ -111,16 +113,31 @@ int main(int argc, char* argv[]) {\n #if TFB_MYSQL\n     for (int i = 0; i < N; i++)\n       c.update(numbers[i]);\n+    raw_c(\"COMMIT\");\n #elif TFB_PGSQL\n-    std::ostringstream ss;\n-    ss << \"UPDATE World SET randomNumber=tmp.randomNumber FROM (VALUES \";\n-    for (int i = 0; i < N; i++)\n-      ss << \"(\" << numbers[i].id << \", \" << numbers[i].randomNumber << \") \"<< (i == N-1 ? \"\": \",\");\n-    ss << \") AS tmp(id, randomNumber) WHERE tmp.id = World.id\";\n-    raw_c(ss.str());\n+\n+    if (N == 20)", "originalCommit": "f1bc7158d565c324a3eb016d9f9a33251dfd3125", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "18c5af4349af2de9fae272571e0d891de6d4646a", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/18c5af4349af2de9fae272571e0d891de6d4646a", "message": "Lithium: Remove special case for N == 20.", "committedDate": "2020-01-08T18:55:46Z", "type": "commit"}]}