{"pr_number": 2721, "pr_title": "ENT-1887: Port UserResource to spec-first", "pr_createdAt": "2020-06-03T07:21:16Z", "pr_url": "https://github.com/candlepin/candlepin/pull/2721", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAyMTA5NA==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435021094", "bodyText": "We can re-write this to \"A user to be created\"", "author": "sonalidhome", "createdAt": "2020-06-04T06:32:25Z", "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -2414,6 +2414,292 @@ paths:\n         default:\n           $ref: '#/components/responses/default'\n \n+\n+  /users:\n+    get:\n+      description: Retrieves a list of Users\n+      tags:\n+        - Users\n+      operationId: listUsers\n+      x-java-response:\n+        type: java.util.stream.Stream\n+        isContainer: true\n+      security: []\n+      responses:\n+        200:\n+          description: A list of users\n+          content:\n+            application/json:\n+              schema:\n+                type: array\n+                items:\n+                  $ref: '#/components/schemas/UserDTO'\n+        default:\n+          $ref: '#/components/responses/default'\n+    post:\n+      description: Creates a User\n+      tags:\n+        - Users\n+      operationId: createUser\n+      requestBody:\n+        description: The updated user", "originalCommit": "909badd5fd3a3b587d173c6e56572ced4bcb9899", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA1NzgzNg==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435057836", "bodyText": "Done.", "author": "Januson", "createdAt": "2020-06-04T07:48:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAyMTA5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAyMjMyMw==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435022323", "bodyText": "We can re-write this to \"User successfully created\"", "author": "sonalidhome", "createdAt": "2020-06-04T06:35:26Z", "path": "api/candlepin-api-spec.yaml", "diffHunk": "@@ -2414,6 +2414,292 @@ paths:\n         default:\n           $ref: '#/components/responses/default'\n \n+\n+  /users:\n+    get:\n+      description: Retrieves a list of Users\n+      tags:\n+        - Users\n+      operationId: listUsers\n+      x-java-response:\n+        type: java.util.stream.Stream\n+        isContainer: true\n+      security: []\n+      responses:\n+        200:\n+          description: A list of users\n+          content:\n+            application/json:\n+              schema:\n+                type: array\n+                items:\n+                  $ref: '#/components/schemas/UserDTO'\n+        default:\n+          $ref: '#/components/responses/default'\n+    post:\n+      description: Creates a User\n+      tags:\n+        - Users\n+      operationId: createUser\n+      requestBody:\n+        description: The updated user\n+        required: true\n+        content:\n+          application/json:\n+            schema:\n+              $ref: '#/components/schemas/UserDTO'\n+      security: []\n+      responses:\n+        200:\n+          description: The created user", "originalCommit": "909badd5fd3a3b587d173c6e56572ced4bcb9899", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA1NzkwOQ==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435057909", "bodyText": "Done.", "author": "Januson", "createdAt": "2020-06-04T07:48:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAyMjMyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAzMDcyMA==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435030720", "bodyText": "I am not sure why we needed to make these variables as final?", "author": "sonalidhome", "createdAt": "2020-06-04T06:55:06Z", "path": "server/src/main/java/org/candlepin/resource/UserResource.java", "diffHunk": "@@ -69,22 +54,20 @@\n  */\n @Path(\"/users\")\n @Api(value = \"users\", authorizations = { @Authorization(\"basic\") })\n-public class UserResource {\n-\n-    private UserServiceAdapter userService;\n-    private I18n i18n;\n-    private OwnerCurator ownerCurator;\n-    private ModelTranslator modelTranslator;\n+public class UserResource implements UsersApi {\n \n+    private final UserServiceAdapter userService;", "originalCommit": "909badd5fd3a3b587d173c6e56572ced4bcb9899", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA2NDg0OQ==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435064849", "bodyText": "It's not that it's needed. Just something I like to do. By making them final together with adding invariant checks such as null validation to the constructor we can make sure that after the constructor completes we have a fully initialized object.", "author": "Januson", "createdAt": "2020-06-04T08:00:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAzMDcyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA3Mjg2OQ==", "url": "https://github.com/candlepin/candlepin/pull/2721#discussion_r435072869", "bodyText": "Gotcha.", "author": "sonalidhome", "createdAt": "2020-06-04T08:14:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAzMDcyMA=="}], "type": "inlineReview"}, {"oid": "ff46d2ba3ade2bcff0777c5f4a46028516cc2c5d", "url": "https://github.com/candlepin/candlepin/commit/ff46d2ba3ade2bcff0777c5f4a46028516cc2c5d", "message": "ENT-1887: Port UserResource to spec-first", "committedDate": "2020-06-04T07:47:32Z", "type": "commit"}, {"oid": "ff46d2ba3ade2bcff0777c5f4a46028516cc2c5d", "url": "https://github.com/candlepin/candlepin/commit/ff46d2ba3ade2bcff0777c5f4a46028516cc2c5d", "message": "ENT-1887: Port UserResource to spec-first", "committedDate": "2020-06-04T07:47:32Z", "type": "forcePushed"}]}