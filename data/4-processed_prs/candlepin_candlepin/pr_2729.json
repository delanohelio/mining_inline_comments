{"pr_number": 2729, "pr_title": "[M] Added paging functionality to the JobResource.listJobStatuses endpoint (ENT-2527)", "pr_createdAt": "2020-06-18T18:34:05Z", "pr_url": "https://github.com/candlepin/candlepin/pull/2729", "timeline": [{"oid": "59ce4b167f556b731338cbd6cefc204479d46443", "url": "https://github.com/candlepin/candlepin/commit/59ce4b167f556b731338cbd6cefc204479d46443", "message": "Added paging functionality to the JobResource.listJobStatuses endpoint\n\n- The JobResource.listJobStatuses endpoint now supports paging the\n  results if specified by the caller", "committedDate": "2020-06-12T08:45:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg==", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442668092", "bodyText": "Depending on what we decide to do with paging on the spec-first branch (here), we want to either remove this and add a PageRequest pageRequest = ResteasyProviderFactory.getContextData(PageRequest.class); at the start of the method, or add a card to add the pagination here in the way that Ondrej did it.\nMaybe it's time to rebase spec-first against master?", "author": "nikosmoum", "createdAt": "2020-06-19T07:05:10Z", "path": "server/src/main/java/org/candlepin/resource/JobResource.java", "diffHunk": "@@ -184,7 +191,8 @@ public SchedulerStatusDTO setSchedulerStatus(\n         @QueryParam(\"origin\") Set<String> origins,\n         @QueryParam(\"executor\") Set<String> executors,\n         @QueryParam(\"after\") @DateFormat Date after,\n-        @QueryParam(\"before\") @DateFormat Date before) {\n+        @QueryParam(\"before\") @DateFormat Date before,\n+        @Context PageRequest pageRequest) {", "originalCommit": "e424c0129551177e915820311487b237964a6efd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg0NzM1Ng==", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442847356", "bodyText": "Does OpenAPI not allow for specifying a thing that comes from the context, nor specifying that an object's properties should be unboxed for documentation? Seems like a pretty major shortcoming in an already irritatingly limited \"API\".\nNeither of those options sound particularly great to me, but of the two, pulling from the context makes the most sense, as we have to inject the page into the context later anyway, so it's more complete/consistent from an implementation standpoint.\nSpec tests are probably unnecessary here, since we're testing the paging parameters on the frontend and backend, but I can see how easy it is to add a couple spec tests just for the sake of end-to-end verification. If it's not too painful, I'll throw in a couple tests.", "author": "Ceiu", "createdAt": "2020-06-19T13:41:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg0ODEwMw==", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442848103", "bodyText": "Also, yes, after this gets merged, the spec first branch is in need of a rebase. I know of at least three areas that have changed out from under it, but I'm unsure if the resources have been converted yet or not.", "author": "Ceiu", "createdAt": "2020-06-19T13:42:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg5ODYzNg==", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442898636", "bodyText": "I could not find anything like that in OpenAPI docs", "author": "nikosmoum", "createdAt": "2020-06-19T15:15:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkyMTU4MA==", "url": "https://github.com/candlepin/candlepin/pull/2729#discussion_r442921580", "bodyText": "Removed the context param and added spec tests", "author": "Ceiu", "createdAt": "2020-06-19T15:58:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY2ODA5Mg=="}], "type": "inlineReview"}, {"oid": "13bae9f2dffeb394c40ea7fed18ce725eedb401b", "url": "https://github.com/candlepin/candlepin/commit/13bae9f2dffeb394c40ea7fed18ce725eedb401b", "message": "Added paging functionality to the JobResource.listJobStatuses endpoint\n\n- The JobResource.listJobStatuses endpoint now supports paging the\n  results if specified by the caller", "committedDate": "2020-06-12T08:18:46Z", "type": "forcePushed"}, {"oid": "59ce4b167f556b731338cbd6cefc204479d46443", "url": "https://github.com/candlepin/candlepin/commit/59ce4b167f556b731338cbd6cefc204479d46443", "message": "Added paging functionality to the JobResource.listJobStatuses endpoint\n\n- The JobResource.listJobStatuses endpoint now supports paging the\n  results if specified by the caller", "committedDate": "2020-06-12T08:45:43Z", "type": "forcePushed"}]}