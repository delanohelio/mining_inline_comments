{"pr_number": 1251, "pr_title": " RDM-10167: Build new MessageQueueCandidates database structure", "pr_createdAt": "2020-12-01T10:14:04Z", "pr_url": "https://github.com/hmcts/ccd-data-store-api/pull/1251", "timeline": [{"oid": "e7d21fb9d134bc54928bb97881b4eed3403289aa", "url": "https://github.com/hmcts/ccd-data-store-api/commit/e7d21fb9d134bc54928bb97881b4eed3403289aa", "message": " RDM-10167: Build new MessageQueueCandidates database structure\n    \u00a0\u00a0[RDM-10167] (https://tools.hmcts.net/jira/browse/RDM-10167).", "committedDate": "2020-12-01T10:16:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjE0Nw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#discussion_r536332147", "bodyText": "Please add index on message_type and published together", "author": "kiran-yenigala-hmcts", "createdAt": "2020-12-04T19:32:11Z", "path": "src/main/resources/db/changelog/db.changelog-RDM-10167.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\">\n+\n+<changeSet id=\"RDM-10167\" author=\"tobias.derose@hmcts.net\">\n+    <createTable tableName=\"message_queue_candidates\">\n+\n+        <column name=\"id\" type=\"bigint\" autoIncrement=\"true\">\n+            <constraints nullable=\"false\" primaryKey=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_type\"  type=\"varchar(70)\" >\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"time_stamp\" type=\"timestamp\" defaultValueComputed=\"CURRENT_TIMESTAMP\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+\n+        <column name=\"published\" type=\"timestamp\">\n+            <constraints nullable=\"true\"/>\n+        </column>\n+\n+        <column name=\"message_information\" type=\"jsonb\">\n+            <constraints nullable=\"false\"/>\n+        </column>\n+    </createTable>\n+\n+    <createIndex indexName=\"idx_message_queue_candidates_time_stamp\"\n+                 schemaName=\"public\"\n+                 tableName=\"message_queue_candidates\">\n+        <column name=\"time_stamp\"/>\n+    </createIndex>", "originalCommit": "e7d21fb9d134bc54928bb97881b4eed3403289aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjM1OA==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1251#discussion_r536332358", "bodyText": "may be on published itself as well, think about this", "author": "kiran-yenigala-hmcts", "createdAt": "2020-12-04T19:32:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMzMjE0Nw=="}], "type": "inlineReview"}, {"oid": "7b750d92e087016cea337de1b1bcfba5a8eeb9de", "url": "https://github.com/hmcts/ccd-data-store-api/commit/7b750d92e087016cea337de1b1bcfba5a8eeb9de", "message": "Merge branch 'master' of github.com:hmcts/ccd-data-store-api into RDM-10167-Master\n\n\u0001 Conflicts:\n\u0001\tsrc/main/resources/db/changelog/db.changelog-master.xml", "committedDate": "2020-12-07T16:13:01Z", "type": "commit"}, {"oid": "420356d4973931a19c7e27d80e00e2c60a2e463a", "url": "https://github.com/hmcts/ccd-data-store-api/commit/420356d4973931a19c7e27d80e00e2c60a2e463a", "message": "Merge branch 'master' into RDM-10167-Master", "committedDate": "2020-12-10T09:41:16Z", "type": "commit"}]}