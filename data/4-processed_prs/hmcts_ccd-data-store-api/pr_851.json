{"pr_number": 851, "pr_title": "RDM-7692 - DateTime Display Formatting", "pr_createdAt": "2020-03-17T17:36:25Z", "pr_url": "https://github.com/hmcts/ccd-data-store-api/pull/851", "timeline": [{"oid": "8dcf4eb161c2eb82c65187f962f5a0fc8ce35a6f", "url": "https://github.com/hmcts/ccd-data-store-api/commit/8dcf4eb161c2eb82c65187f962f5a0fc8ce35a6f", "message": "update to DateTimeFormatParser", "committedDate": "2020-03-16T14:38:49Z", "type": "commit"}, {"oid": "1b534a43d4ced94ee73c81ac43095ee79c83a118", "url": "https://github.com/hmcts/ccd-data-store-api/commit/1b534a43d4ced94ee73c81ac43095ee79c83a118", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-17T14:32:42Z", "type": "commit"}, {"oid": "a544a963bc276e99cfd9e119bd8d7d56808bb4fb", "url": "https://github.com/hmcts/ccd-data-store-api/commit/a544a963bc276e99cfd9e119bd8d7d56808bb4fb", "message": "RDM-7692 - Initial functionality", "committedDate": "2020-03-17T17:31:01Z", "type": "commit"}, {"oid": "81dab26d46c14ae631706fa8ee83b5d711dacc68", "url": "https://github.com/hmcts/ccd-data-store-api/commit/81dab26d46c14ae631706fa8ee83b5d711dacc68", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-18T12:16:22Z", "type": "commit"}, {"oid": "c36866b5b2485925b25e2d9b50e18c6a116d7fe7", "url": "https://github.com/hmcts/ccd-data-store-api/commit/c36866b5b2485925b25e2d9b50e18c6a116d7fe7", "message": "Support for complex type overrides; rename to formatted_value", "committedDate": "2020-03-20T09:33:45Z", "type": "commit"}, {"oid": "5400186a1b506d62dd02859850cf063ac53cf350", "url": "https://github.com/hmcts/ccd-data-store-api/commit/5400186a1b506d62dd02859850cf063ac53cf350", "message": "DateTimeFormatParserTest", "committedDate": "2020-03-20T17:54:23Z", "type": "commit"}, {"oid": "74d37003a74c8d8b6ad6063688b8d2255047f707", "url": "https://github.com/hmcts/ccd-data-store-api/commit/74d37003a74c8d8b6ad6063688b8d2255047f707", "message": "Merge remote-tracking branch 'origin/RDM-7692' into RDM-7692", "committedDate": "2020-03-20T17:54:45Z", "type": "commit"}, {"oid": "a821060c503e267e4e136e933a3dd7990b75e76c", "url": "https://github.com/hmcts/ccd-data-store-api/commit/a821060c503e267e4e136e933a3dd7990b75e76c", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-22T15:36:21Z", "type": "commit"}, {"oid": "c0612b3e41728e1b153e3641026b44854b1e96a5", "url": "https://github.com/hmcts/ccd-data-store-api/commit/c0612b3e41728e1b153e3641026b44854b1e96a5", "message": "Unit tests and minor refactoring", "committedDate": "2020-03-22T22:31:21Z", "type": "commit"}, {"oid": "8e8f6cb84763a0137ddc1f67375f925406b31646", "url": "https://github.com/hmcts/ccd-data-store-api/commit/8e8f6cb84763a0137ddc1f67375f925406b31646", "message": "Update FT data", "committedDate": "2020-03-22T23:39:10Z", "type": "commit"}, {"oid": "175a662112b2cdcc5ba99435df0e9a8952530b46", "url": "https://github.com/hmcts/ccd-data-store-api/commit/175a662112b2cdcc5ba99435df0e9a8952530b46", "message": "RDM-7694 - DCP for workbasket and search input/results", "committedDate": "2020-03-23T08:41:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQwNDg1Ng==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397404856", "bodyText": "could you add a description ? @apimodel(description = \"\")", "author": "Thor-tech-of-metal", "createdAt": "2020-03-24T19:23:29Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/model/definition/WizardPageComplexFieldOverride.java", "diffHunk": "@@ -4,6 +4,7 @@\n import io.swagger.annotations.ApiModel;\n \n import java.io.Serializable;\n+import java.util.Optional;\n \n @ApiModel(description = \"\")\n public class WizardPageComplexFieldOverride implements Serializable {", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQwNzM2NQ==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397407365", "bodyText": "public CaseViewField execute(CaseViewField caseViewField)  and\npublic CaseViewField execute(CaseViewField caseViewField, WizardPageField wizardPageField)\nare very similar in their implementation .   Can you create a generic common method ?", "author": "Thor-tech-of-metal", "createdAt": "2020-03-24T19:28:13Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/CaseViewFieldProcessor.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageField;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.COLLECTION;\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.COMPLEX;\n+\n+public abstract class CaseViewFieldProcessor extends FieldProcessor {\n+\n+    public CaseViewFieldProcessor(CaseViewFieldBuilder caseViewFieldBuilder) {\n+        super(caseViewFieldBuilder);\n+    }\n+", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQwNzk2Mw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397407963", "bodyText": "avoid using *.  here is an example of how to set intelij  https://stackoverflow.com/questions/3348816/intellij-never-use-wildcard-imports#3348855", "author": "Thor-tech-of-metal", "createdAt": "2020-03-24T19:29:15Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeValueFormatter.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.node.ArrayNode;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import com.fasterxml.jackson.databind.node.TextNode;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CommonField;\n+import uk.gov.hmcts.ccd.domain.model.definition.DisplayContext;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageComplexFieldOverride;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+import uk.gov.hmcts.ccd.domain.types.CollectionValidator;\n+import uk.gov.hmcts.ccd.endpoint.exceptions.DataProcessingException;\n+\n+import java.util.*;\n+", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQwODg2OA==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397408868", "bodyText": "The same .*", "author": "Thor-tech-of-metal", "createdAt": "2020-03-24T19:30:34Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeValueFormatter.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.node.ArrayNode;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import com.fasterxml.jackson.databind.node.TextNode;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CommonField;\n+import uk.gov.hmcts.ccd.domain.model.definition.DisplayContext;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageComplexFieldOverride;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+import uk.gov.hmcts.ccd.domain.types.CollectionValidator;\n+import uk.gov.hmcts.ccd.endpoint.exceptions.DataProcessingException;\n+\n+import java.util.*;\n+\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.*;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.getDisplayContextParameterOfType;", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQxMTEwMg==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397411102", "bodyText": "protected CaseViewField executeSimple(CaseViewField caseViewField, BaseType baseType)  and\nprotected CaseViewField executeCollection(CaseViewField caseViewField)\nseems quite similar regardless of  executeCollection () or executeSimple()", "author": "Thor-tech-of-metal", "createdAt": "2020-03-24T19:34:54Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeValueFormatter.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.node.ArrayNode;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import com.fasterxml.jackson.databind.node.TextNode;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CommonField;\n+import uk.gov.hmcts.ccd.domain.model.definition.DisplayContext;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageComplexFieldOverride;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+import uk.gov.hmcts.ccd.domain.types.CollectionValidator;\n+import uk.gov.hmcts.ccd.endpoint.exceptions.DataProcessingException;\n+\n+import java.util.*;\n+\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.*;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.getDisplayContextParameterOfType;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.hasDisplayContextParameterType;\n+\n+@Component\n+public class DateTimeValueFormatter extends CaseViewFieldProcessor {\n+\n+    private static final List<String> SUPPORTED_TYPES = Arrays.asList(DATETIME, DATE);\n+    private static final Map<DisplayContext, DisplayContextParameterType> ENUM_MAP = new EnumMap<>(DisplayContext.class);\n+\n+    private final DateTimeFormatParser dateTimeFormatParser;\n+\n+    static {\n+        ENUM_MAP.put(DisplayContext.MANDATORY, DisplayContextParameterType.DATETIMEENTRY);\n+        ENUM_MAP.put(DisplayContext.OPTIONAL, DisplayContextParameterType.DATETIMEENTRY);\n+        ENUM_MAP.put(DisplayContext.READONLY, DisplayContextParameterType.DATETIMEDISPLAY);\n+    }\n+\n+    @Autowired\n+    public DateTimeValueFormatter(DateTimeFormatParser dateTimeFormatParser,\n+                                  CaseViewFieldBuilder caseViewFieldBuilder) {\n+        super(caseViewFieldBuilder);\n+        this.dateTimeFormatParser = dateTimeFormatParser;\n+    }\n+\n+    @Override\n+    protected CaseViewField executeSimple(CaseViewField caseViewField, BaseType baseType) {", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5MDE1OQ==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397690159", "bodyText": "we have a model object DisplayContextParameter. Can we use that instead of String? it would reduce the boilerplate in the code", "author": "mario-paniccia", "createdAt": "2020-03-25T08:50:17Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/model/aggregated/CommonField.java", "diffHunk": "@@ -29,6 +30,10 @@\n \n     void setDisplayContextParameter(String displayContextParameter);", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5NTk5Mw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397695993", "bodyText": "this method in case the value of display context is \"HIDDEN\" is going to return null. Which is logically wrong.", "author": "mario-paniccia", "createdAt": "2020-03-25T09:00:17Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/model/aggregated/CommonField.java", "diffHunk": "@@ -44,6 +49,13 @@ default boolean isCompoundFieldType() {\n         return isCollectionFieldType() || isComplexFieldType();\n     }\n \n+    default DisplayContext displayContextType() {\n+        return Optional.ofNullable(getDisplayContext())\n+            .filter(dc -> !dc.equals(\"HIDDEN\"))\n+            .map(DisplayContext::valueOf)\n+            .orElse(null);", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5Njk5Mw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397696993", "bodyText": "I would also avoid wrapping nulls into Optional just to be able to use its api. In the end is probably making the code more complicated to read", "author": "mario-paniccia", "createdAt": "2020-03-25T09:02:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5NTk5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5NzQzOQ==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397697439", "bodyText": "same as above", "author": "mario-paniccia", "createdAt": "2020-03-25T09:02:58Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/model/definition/WizardPageComplexFieldOverride.java", "diffHunk": "@@ -67,4 +68,11 @@ public String getDisplayContextParameter() {\n     public void setDisplayContextParameter(String displayContextParameter) {\n         this.displayContextParameter = displayContextParameter;\n     }\n+\n+    public DisplayContext displayContextType() {\n+        return Optional.ofNullable(getDisplayContext())\n+            .filter(dc -> !dc.equals(\"HIDDEN\"))\n+            .map(DisplayContext::valueOf)\n+            .orElse(null);\n+    }", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzcwNjA3MA==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397706070", "bodyText": "the logic that loops through collection fields and navigates complex fields is common logic that applies to all processors. So it should be made generic and written only once rather than being inside each single subclass of CaseViewFieldProcessor. But we can ignore this comment for now as I have raised a separate ticket to introduce a generic Processor: https://tools.hmcts.net/jira/browse/RDM-8010", "author": "mario-paniccia", "createdAt": "2020-03-25T09:17:57Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeValueFormatter.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.node.ArrayNode;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import com.fasterxml.jackson.databind.node.TextNode;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CommonField;\n+import uk.gov.hmcts.ccd.domain.model.definition.DisplayContext;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageComplexFieldOverride;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+import uk.gov.hmcts.ccd.domain.types.CollectionValidator;\n+import uk.gov.hmcts.ccd.endpoint.exceptions.DataProcessingException;\n+\n+import java.util.*;\n+\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.*;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.getDisplayContextParameterOfType;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.hasDisplayContextParameterType;\n+\n+@Component\n+public class DateTimeValueFormatter extends CaseViewFieldProcessor {\n+\n+    private static final List<String> SUPPORTED_TYPES = Arrays.asList(DATETIME, DATE);\n+    private static final Map<DisplayContext, DisplayContextParameterType> ENUM_MAP = new EnumMap<>(DisplayContext.class);\n+\n+    private final DateTimeFormatParser dateTimeFormatParser;\n+\n+    static {\n+        ENUM_MAP.put(DisplayContext.MANDATORY, DisplayContextParameterType.DATETIMEENTRY);\n+        ENUM_MAP.put(DisplayContext.OPTIONAL, DisplayContextParameterType.DATETIMEENTRY);\n+        ENUM_MAP.put(DisplayContext.READONLY, DisplayContextParameterType.DATETIMEDISPLAY);\n+    }\n+\n+    @Autowired\n+    public DateTimeValueFormatter(DateTimeFormatParser dateTimeFormatParser,\n+                                  CaseViewFieldBuilder caseViewFieldBuilder) {\n+        super(caseViewFieldBuilder);\n+        this.dateTimeFormatParser = dateTimeFormatParser;\n+    }\n+\n+    @Override\n+    protected CaseViewField executeSimple(CaseViewField caseViewField, BaseType baseType) {\n+        caseViewField.setFormattedValue(\n+            caseViewField.getValue() instanceof TextNode && hasSupportedDisplayContextParameter(caseViewField.getDisplayContextParameter()) ?\n+                executeSimple((TextNode) caseViewField.getValue(), caseViewField, baseType, caseViewField.getId(), null, caseViewField) :\n+                caseViewField.getValue()\n+        );\n+\n+        return caseViewField;\n+    }\n+\n+    @Override\n+    protected CaseViewField executeCollection(CaseViewField caseViewField) {\n+        caseViewField.setFormattedValue(\n+            caseViewField.getValue() instanceof ArrayNode && hasSupportedDisplayContextParameter(caseViewField.getDisplayContextParameter()) ?\n+                executeCollection((ArrayNode) caseViewField.getValue(), caseViewField, caseViewField.getId(), null, caseViewField) :\n+                caseViewField.getValue()\n+        );\n+\n+        return caseViewField;\n+    }\n+\n+    @Override\n+    protected JsonNode executeSimple(JsonNode node, CommonField field, BaseType baseType, String fieldPath, WizardPageComplexFieldOverride override, CaseViewField topLevelField) {\n+        final DisplayContext displayContext = displayContext(topLevelField, override);\n+        return !isNullOrEmpty(node)\n+            && hasDisplayContextParameterType(field.getDisplayContextParameter(), ENUM_MAP.get(displayContext))\n+            && isSupportedBaseType(baseType, SUPPORTED_TYPES) ?\n+            createNode(field.getDisplayContextParameter(), node.asText(), baseType, fieldPath, displayContext) :\n+            node;\n+    }\n+\n+    @Override\n+    protected JsonNode executeCollection(JsonNode collectionNode, CommonField caseViewField, String fieldPath, WizardPageComplexFieldOverride override, CaseViewField topLevelField) {\n+        final BaseType collectionFieldType = BaseType.get(caseViewField.getFieldType().getCollectionFieldType().getType());\n+        final DisplayContext displayContext = displayContext(topLevelField, override);\n+\n+        if (hasDisplayContextParameterType(caseViewField.getDisplayContextParameter(), ENUM_MAP.get(displayContext))\n+            && isSupportedBaseType(collectionFieldType, SUPPORTED_TYPES)) {\n+            ArrayNode newNode = MAPPER.createArrayNode();\n+            collectionNode.forEach(item -> {\n+                JsonNode newItem = item.deepCopy();\n+                ((ObjectNode)newItem).replace(CollectionValidator.VALUE,\n+                    createNode(caseViewField.getDisplayContextParameter(), item.get(CollectionValidator.VALUE).asText(), collectionFieldType, fieldPath, displayContext));\n+                newNode.add(newItem);\n+            });\n+\n+            return newNode;\n+        }", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzcwODAzOA==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397708038", "bodyText": "minor:\nthis method is becoming a bit too long. It's generally not recommended to have long sequences of chained methods because it makes the code difficult to understand. It could be useful breaking this down", "author": "mario-paniccia", "createdAt": "2020-03-25T09:21:09Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/aggregated/AbstractDefaultGetCaseViewOperation.java", "diffHunk": "@@ -79,6 +83,7 @@ CaseDetails getCaseDetails(String caseReference) {\n             CommonField[] caseViewFields = tab.getTabFields().stream()\n                 .filter(filterCaseTabFieldsBasedOnSecureData(caseDetails))\n                 .map(caseTypeTabField -> CaseViewField.createFrom(caseTypeTabField, data))\n+                .map(fieldProcessorService::processCaseViewField)\n                 .toArray(CaseViewField[]::new);", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzcxMTc5Nw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397711797", "bodyText": "we could reduce boilerplate by adding a\nisCollectionFieldType() and isComplexFieldType() methods to FieldType", "author": "mario-paniccia", "createdAt": "2020-03-25T09:27:08Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/CaseViewFieldProcessor.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageField;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.COLLECTION;\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.COMPLEX;\n+\n+public abstract class CaseViewFieldProcessor extends FieldProcessor {\n+\n+    public CaseViewFieldProcessor(CaseViewFieldBuilder caseViewFieldBuilder) {\n+        super(caseViewFieldBuilder);\n+    }\n+\n+    public CaseViewField execute(CaseViewField caseViewField) {\n+        final BaseType fieldType = BaseType.get(caseViewField.getFieldType().getType());", "originalCommit": "8e8f6cb84763a0137ddc1f67375f925406b31646", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a621679cbe24209b65bcfa1e1b33acad841a31cd", "url": "https://github.com/hmcts/ccd-data-store-api/commit/a621679cbe24209b65bcfa1e1b33acad841a31cd", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-25T09:52:28Z", "type": "commit"}, {"oid": "d608e2c450bd04b5b02e6b7f9cef771fdae8fa51", "url": "https://github.com/hmcts/ccd-data-store-api/commit/d608e2c450bd04b5b02e6b7f9cef771fdae8fa51", "message": "Merge branch 'RDM-7692' into RDM-7694\n\n# Conflicts:\n#\tsrc/main/java/uk/gov/hmcts/ccd/domain/model/search/CriteriaInput.java\n#\tsrc/test/java/uk/gov/hmcts/ccd/domain/service/common/TestBuildersUtil.java", "committedDate": "2020-03-25T09:54:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc1OTgyOA==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397759828", "bodyText": "minor:\nI can see more and more often we need to find a wizard field corresponding to a certain field id. Probably we could introduce a method on the UIDefinitionRepository that returns a map of the wizard fields by fieldID", "author": "mario-paniccia", "createdAt": "2020-03-25T10:45:35Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/FieldProcessorService.java", "diffHunk": "@@ -66,6 +81,27 @@ public FieldProcessorService(final List<CaseDataFieldProcessor> caseDataFieldPro\n         return processData(data, caseType, eventTriggerService.findCaseEvent(caseType, eventId));\n     }\n \n+    private CaseViewField processCaseViewField(final CaseViewField field,\n+                                               final List<WizardPageField> wizardPageFields) {\n+        CaseViewField result = field;\n+        for (CaseViewFieldProcessor processor : caseViewFieldProcessors) {\n+            result = processor.execute(result, wizardPageField(wizardPageFields, field.getId()));\n+        }\n+        return result;\n+    }\n+\n+    private List<WizardPageField> getWizardPageFields(String caseTypeId, String eventId) {\n+        return uiDefinitionRepository.getWizardPageCollection(caseTypeId, eventId)\n+            .stream()\n+            .map(WizardPage::getWizardPageFields)\n+            .flatMap(List::stream)\n+            .collect(Collectors.toList());\n+    }\n+\n+    private WizardPageField wizardPageField(List<WizardPageField> wizardPageFields, String fieldId) {\n+        return wizardPageFields.stream().filter(f -> f.getCaseFieldId().equals(fieldId)).findAny().orElse(null);\n+    }", "originalCommit": "a621679cbe24209b65bcfa1e1b33acad841a31cd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2MjQzOQ==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397762439", "bodyText": "duplicated", "author": "mario-paniccia", "createdAt": "2020-03-25T10:50:08Z", "path": "src/main/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeValueFormatter.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.node.ArrayNode;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import com.fasterxml.jackson.databind.node.TextNode;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewField;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CaseViewFieldBuilder;\n+import uk.gov.hmcts.ccd.domain.model.aggregated.CommonField;\n+import uk.gov.hmcts.ccd.domain.model.definition.DisplayContext;\n+import uk.gov.hmcts.ccd.domain.model.definition.WizardPageComplexFieldOverride;\n+import uk.gov.hmcts.ccd.domain.types.BaseType;\n+import uk.gov.hmcts.ccd.domain.types.CollectionValidator;\n+import uk.gov.hmcts.ccd.endpoint.exceptions.DataProcessingException;\n+\n+import java.util.*;\n+\n+import static uk.gov.hmcts.ccd.domain.model.definition.FieldType.*;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.getDisplayContextParameterOfType;\n+import static uk.gov.hmcts.ccd.domain.service.processor.DisplayContextParameter.hasDisplayContextParameterType;\n+\n+@Component\n+public class DateTimeValueFormatter extends CaseViewFieldProcessor {\n+\n+    private static final List<String> SUPPORTED_TYPES = Arrays.asList(DATETIME, DATE);\n+    private static final Map<DisplayContext, DisplayContextParameterType> ENUM_MAP = new EnumMap<>(DisplayContext.class);\n+\n+    private final DateTimeFormatParser dateTimeFormatParser;\n+\n+    static {\n+        ENUM_MAP.put(DisplayContext.MANDATORY, DisplayContextParameterType.DATETIMEENTRY);\n+        ENUM_MAP.put(DisplayContext.OPTIONAL, DisplayContextParameterType.DATETIMEENTRY);\n+        ENUM_MAP.put(DisplayContext.READONLY, DisplayContextParameterType.DATETIMEDISPLAY);\n+    }\n+\n+    @Autowired\n+    public DateTimeValueFormatter(DateTimeFormatParser dateTimeFormatParser,\n+                                  CaseViewFieldBuilder caseViewFieldBuilder) {\n+        super(caseViewFieldBuilder);\n+        this.dateTimeFormatParser = dateTimeFormatParser;\n+    }\n+\n+    @Override\n+    protected CaseViewField executeSimple(CaseViewField caseViewField, BaseType baseType) {\n+        caseViewField.setFormattedValue(\n+            caseViewField.getValue() instanceof TextNode && hasSupportedDisplayContextParameter(caseViewField.getDisplayContextParameter()) ?\n+                executeSimple((TextNode) caseViewField.getValue(), caseViewField, baseType, caseViewField.getId(), null, caseViewField) :\n+                caseViewField.getValue()\n+        );\n+\n+        return caseViewField;\n+    }\n+\n+    @Override\n+    protected CaseViewField executeCollection(CaseViewField caseViewField) {\n+        caseViewField.setFormattedValue(\n+            caseViewField.getValue() instanceof ArrayNode && hasSupportedDisplayContextParameter(caseViewField.getDisplayContextParameter()) ?\n+                executeCollection((ArrayNode) caseViewField.getValue(), caseViewField, caseViewField.getId(), null, caseViewField) :\n+                caseViewField.getValue()\n+        );\n+\n+        return caseViewField;\n+    }\n+\n+    @Override\n+    protected JsonNode executeSimple(JsonNode node, CommonField field, BaseType baseType, String fieldPath, WizardPageComplexFieldOverride override, CaseViewField topLevelField) {\n+        final DisplayContext displayContext = displayContext(topLevelField, override);\n+        return !isNullOrEmpty(node)\n+            && hasDisplayContextParameterType(field.getDisplayContextParameter(), ENUM_MAP.get(displayContext))\n+            && isSupportedBaseType(baseType, SUPPORTED_TYPES) ?\n+            createNode(field.getDisplayContextParameter(), node.asText(), baseType, fieldPath, displayContext) :\n+            node;\n+    }\n+\n+    @Override\n+    protected JsonNode executeCollection(JsonNode collectionNode, CommonField caseViewField, String fieldPath, WizardPageComplexFieldOverride override, CaseViewField topLevelField) {\n+        final BaseType collectionFieldType = BaseType.get(caseViewField.getFieldType().getCollectionFieldType().getType());\n+        final DisplayContext displayContext = displayContext(topLevelField, override);\n+\n+        if (hasDisplayContextParameterType(caseViewField.getDisplayContextParameter(), ENUM_MAP.get(displayContext))\n+            && isSupportedBaseType(collectionFieldType, SUPPORTED_TYPES)) {\n+            ArrayNode newNode = MAPPER.createArrayNode();\n+            collectionNode.forEach(item -> {\n+                JsonNode newItem = item.deepCopy();\n+                ((ObjectNode)newItem).replace(CollectionValidator.VALUE,\n+                    createNode(caseViewField.getDisplayContextParameter(), item.get(CollectionValidator.VALUE).asText(), collectionFieldType, fieldPath, displayContext));\n+                newNode.add(newItem);\n+            });\n+\n+            return newNode;\n+        }\n+\n+        return collectionNode;\n+    }\n+\n+    private TextNode createNode(String displayContextParameter, String valueToConvert, BaseType baseType, String fieldPath, DisplayContext displayContext) {\n+        if (ENUM_MAP.containsKey(displayContext)) {\n+            String format = format(displayContextParameter, displayContext, baseType);\n+            try {\n+                if (baseType == BaseType.get(DATETIME)) {\n+                    return new TextNode(dateTimeFormatParser.convertIso8601ToDateTime(format, valueToConvert));\n+                } else {\n+                    return new TextNode(dateTimeFormatParser.convertIso8601ToDate(format, valueToConvert));\n+                }\n+            } catch (Exception e) {\n+                throw new DataProcessingException().withDetails(\n+                    String.format(\"Unable to process field %s with value %s. Expected format: %s\",\n+                        fieldPath,\n+                        valueToConvert,\n+                        format)\n+                );\n+            }", "originalCommit": "a621679cbe24209b65bcfa1e1b33acad841a31cd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NDAxOQ==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/851#discussion_r397764019", "bodyText": "we should add a good bunch of  integration tests to protect ourselves from regressions", "author": "mario-paniccia", "createdAt": "2020-03-25T10:52:56Z", "path": "src/test/java/uk/gov/hmcts/ccd/domain/service/processor/FieldProcessorServiceTest.java", "diffHunk": "@@ -0,0 +1,238 @@\n+package uk.gov.hmcts.ccd.domain.service.processor;\n+", "originalCommit": "a621679cbe24209b65bcfa1e1b33acad841a31cd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4bfa1ca7ad351423338a2a0ccf5bdb9f650fb170", "url": "https://github.com/hmcts/ccd-data-store-api/commit/4bfa1ca7ad351423338a2a0ccf5bdb9f650fb170", "message": "Merge branch 'RDM-7630' into RDM-7692\n\n# Conflicts:\n#\tsrc/main/java/uk/gov/hmcts/ccd/domain/model/definition/WizardPageComplexFieldOverride.java\n#\tsrc/main/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeFormatParser.java\n#\tsrc/test/java/uk/gov/hmcts/ccd/domain/service/processor/DateTimeFormatParserTest.java", "committedDate": "2020-03-27T10:34:10Z", "type": "commit"}, {"oid": "296066aee5343e4502982736c1195e03a2b35710", "url": "https://github.com/hmcts/ccd-data-store-api/commit/296066aee5343e4502982736c1195e03a2b35710", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-03-27T10:34:41Z", "type": "commit"}, {"oid": "dd6d583cf1aedcbc3d2e5d50db9f861f26bec3e7", "url": "https://github.com/hmcts/ccd-data-store-api/commit/dd6d583cf1aedcbc3d2e5d50db9f861f26bec3e7", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-30T08:41:28Z", "type": "commit"}, {"oid": "11bf69bb49fb30da55064b802d60b99ca2cbe472", "url": "https://github.com/hmcts/ccd-data-store-api/commit/11bf69bb49fb30da55064b802d60b99ca2cbe472", "message": "RDM-7692 - fixed compilation issue.", "committedDate": "2020-03-30T08:48:07Z", "type": "commit"}, {"oid": "8015087b60db2208d545e2d8024ffe94fcb18a1e", "url": "https://github.com/hmcts/ccd-data-store-api/commit/8015087b60db2208d545e2d8024ffe94fcb18a1e", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-03-30T08:48:55Z", "type": "commit"}, {"oid": "e29ddd3fd024c34d3bc3a63a9a1e00715fe4ff1a", "url": "https://github.com/hmcts/ccd-data-store-api/commit/e29ddd3fd024c34d3bc3a63a9a1e00715fe4ff1a", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-30T09:25:12Z", "type": "commit"}, {"oid": "b9e5d2a15e73fc7852bd66338ed2ed76c5b6f00e", "url": "https://github.com/hmcts/ccd-data-store-api/commit/b9e5d2a15e73fc7852bd66338ed2ed76c5b6f00e", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-03-30T09:25:36Z", "type": "commit"}, {"oid": "0b1be4e3352ec7bcb5b84df82e11d6d6d99a0fc7", "url": "https://github.com/hmcts/ccd-data-store-api/commit/0b1be4e3352ec7bcb5b84df82e11d6d6d99a0fc7", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-30T12:05:56Z", "type": "commit"}, {"oid": "5a58ca28950c5b1acb38f6a201bee26357dec6f5", "url": "https://github.com/hmcts/ccd-data-store-api/commit/5a58ca28950c5b1acb38f6a201bee26357dec6f5", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-03-30T12:06:17Z", "type": "commit"}, {"oid": "9ed8f3aa934a5df994e9d444f052ff02e62f2c1e", "url": "https://github.com/hmcts/ccd-data-store-api/commit/9ed8f3aa934a5df994e9d444f052ff02e62f2c1e", "message": "Add formatted values to search/workbasket results", "committedDate": "2020-03-30T14:02:41Z", "type": "commit"}, {"oid": "cc9c17ab6fcfe36563a1b1fd4282026b1a032edf", "url": "https://github.com/hmcts/ccd-data-store-api/commit/cc9c17ab6fcfe36563a1b1fd4282026b1a032edf", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-03-31T12:02:44Z", "type": "commit"}, {"oid": "8a4ae4951803d3b2b1b3d3bb68464a41f777eed1", "url": "https://github.com/hmcts/ccd-data-store-api/commit/8a4ae4951803d3b2b1b3d3bb68464a41f777eed1", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-03-31T12:02:55Z", "type": "commit"}, {"oid": "7fa20156ff4df437cb78330d256bd3bf9573083b", "url": "https://github.com/hmcts/ccd-data-store-api/commit/7fa20156ff4df437cb78330d256bd3bf9573083b", "message": "RDM-8071 - Enable processors on collections of complex", "committedDate": "2020-04-01T10:57:25Z", "type": "commit"}, {"oid": "f7256532c9bdaa1b400f8bfa8a216fe9d9d75394", "url": "https://github.com/hmcts/ccd-data-store-api/commit/f7256532c9bdaa1b400f8bfa8a216fe9d9d75394", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-04-01T12:00:05Z", "type": "commit"}, {"oid": "1bd8276e4b9ab23deffd5b39346509c03eb4e4ca", "url": "https://github.com/hmcts/ccd-data-store-api/commit/1bd8276e4b9ab23deffd5b39346509c03eb4e4ca", "message": "Handle TextNodes with empty strings", "committedDate": "2020-04-01T12:16:47Z", "type": "commit"}, {"oid": "92906be40e2b64f6e386a76c01f89928c6cb2a42", "url": "https://github.com/hmcts/ccd-data-store-api/commit/92906be40e2b64f6e386a76c01f89928c6cb2a42", "message": "Support complex fields in search/workbasket results", "committedDate": "2020-04-06T08:28:27Z", "type": "commit"}, {"oid": "5f28e7a93e315c4d6886aba0e2aa201bf331a308", "url": "https://github.com/hmcts/ccd-data-store-api/commit/5f28e7a93e315c4d6886aba0e2aa201bf331a308", "message": "Update mappings for failing tests", "committedDate": "2020-04-06T10:30:23Z", "type": "commit"}, {"oid": "4389b3046b64724519a18bc3a2d431b0ffec987e", "url": "https://github.com/hmcts/ccd-data-store-api/commit/4389b3046b64724519a18bc3a2d431b0ffec987e", "message": "Merge branch 'RDM-7630' into RDM-7692", "committedDate": "2020-04-06T11:26:17Z", "type": "commit"}, {"oid": "524c8a0a24e93365c03f3d7ad3c139e5f2653745", "url": "https://github.com/hmcts/ccd-data-store-api/commit/524c8a0a24e93365c03f3d7ad3c139e5f2653745", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-04-06T11:26:31Z", "type": "commit"}, {"oid": "17dc665970fdec9df13dfe3762bf296399cf8f63", "url": "https://github.com/hmcts/ccd-data-store-api/commit/17dc665970fdec9df13dfe3762bf296399cf8f63", "message": "Handle metadata data fields", "committedDate": "2020-04-06T13:53:20Z", "type": "commit"}, {"oid": "35a9dfaf6e2ece49ca31dd880aef3966459de0a9", "url": "https://github.com/hmcts/ccd-data-store-api/commit/35a9dfaf6e2ece49ca31dd880aef3966459de0a9", "message": "Minor checkstyle", "committedDate": "2020-04-06T14:11:57Z", "type": "commit"}, {"oid": "792401bf6505699b6e711c72b1563975bb834e52", "url": "https://github.com/hmcts/ccd-data-store-api/commit/792401bf6505699b6e711c72b1563975bb834e52", "message": "Add DCP to FT data", "committedDate": "2020-04-06T14:59:24Z", "type": "commit"}, {"oid": "e7f8784041eea43e1bea615e061fe72ea2bddb45", "url": "https://github.com/hmcts/ccd-data-store-api/commit/e7f8784041eea43e1bea615e061fe72ea2bddb45", "message": "Unit tests for nested field logic", "committedDate": "2020-04-06T17:47:58Z", "type": "commit"}, {"oid": "11e1c6c0167f431eb493543ee428b13a2ccf5b0b", "url": "https://github.com/hmcts/ccd-data-store-api/commit/11e1c6c0167f431eb493543ee428b13a2ccf5b0b", "message": "RDM-8070 - Default year to 1970", "committedDate": "2020-04-07T11:56:40Z", "type": "commit"}, {"oid": "e48623b6665c787599aa70f1a4139ca1b2a74d95", "url": "https://github.com/hmcts/ccd-data-store-api/commit/e48623b6665c787599aa70f1a4139ca1b2a74d95", "message": "Merge branch 'RDM-7692' into RDM-7694", "committedDate": "2020-04-07T11:57:23Z", "type": "commit"}, {"oid": "61be3bdf38361f6631f7ea3bb27a81a8a95539ea", "url": "https://github.com/hmcts/ccd-data-store-api/commit/61be3bdf38361f6631f7ea3bb27a81a8a95539ea", "message": "RDM-8113 handle display without seconds or milliseconds\nRDM-8057 split DCP correctly when there is multiple params", "committedDate": "2020-04-09T12:21:01Z", "type": "commit"}, {"oid": "622181fc4cb20ff67c626dd5a860a6f97189da10", "url": "https://github.com/hmcts/ccd-data-store-api/commit/622181fc4cb20ff67c626dd5a860a6f97189da10", "message": "RDM-8113 updated functional response", "committedDate": "2020-04-09T12:53:42Z", "type": "commit"}, {"oid": "b02cbadefeece8e4fab9f120e48db5d0c5bb3cdc", "url": "https://github.com/hmcts/ccd-data-store-api/commit/b02cbadefeece8e4fab9f120e48db5d0c5bb3cdc", "message": "RDM-8113 added unit tests for partial milliseconds", "committedDate": "2020-04-09T14:19:05Z", "type": "commit"}, {"oid": "19101d5fc91a714a1f84b5e67facf5c7da82d919", "url": "https://github.com/hmcts/ccd-data-store-api/commit/19101d5fc91a714a1f84b5e67facf5c7da82d919", "message": "RDM-8113 updated functional test", "committedDate": "2020-04-10T06:29:56Z", "type": "commit"}, {"oid": "a6bcba95f56c01f40df1f522ac4eaebc0d63c172", "url": "https://github.com/hmcts/ccd-data-store-api/commit/a6bcba95f56c01f40df1f522ac4eaebc0d63c172", "message": "RDM-8113 updated functional test", "committedDate": "2020-04-10T06:54:11Z", "type": "commit"}, {"oid": "e8220490c5ce02151f34908079418a5fbb38a95f", "url": "https://github.com/hmcts/ccd-data-store-api/commit/e8220490c5ce02151f34908079418a5fbb38a95f", "message": "Merge pull request #899 from hmcts/RDM-8113\n\nRDM-8113 handle display without seconds or milliseconds", "committedDate": "2020-04-15T08:44:22Z", "type": "commit"}, {"oid": "a8ee11163138570d3e8a528bcb5d270f583b17a4", "url": "https://github.com/hmcts/ccd-data-store-api/commit/a8ee11163138570d3e8a528bcb5d270f583b17a4", "message": "Merge pull request #855 from hmcts/RDM-7694\n\nRDM-7694 - DCP for workbasket and search input/results", "committedDate": "2020-04-15T12:57:25Z", "type": "commit"}]}