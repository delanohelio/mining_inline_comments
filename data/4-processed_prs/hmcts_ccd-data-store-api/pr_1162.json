{"pr_number": 1162, "pr_title": "Added db changelog for RDM-9696", "pr_createdAt": "2020-10-13T12:33:26Z", "pr_url": "https://github.com/hmcts/ccd-data-store-api/pull/1162", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ0OTY2Ng==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1162#discussion_r506449666", "bodyText": "why change this?", "author": "MSancaktutar", "createdAt": "2020-10-16T13:54:38Z", "path": "src/main/resources/application.properties", "diffHunk": "@@ -137,7 +137,7 @@ ccd.draft.encryptionKey=${CCD_DRAFT_ENCRYPTION_KEY:xxxxxxxxxxxxxxxx}\n ccd.draft.maxTTLDays=${CCD_DRAFT_TTL_DAYS:180}\n \n # Search\n-search.elastic.enabled=${ELASTIC_SEARCH_ENABLED:false}\n+search.elastic.enabled=${ELASTIC_SEARCH_ENABLED:true}", "originalCommit": "77e2d9ee6484bc9ceb03e4c6ccd36d6754b35939", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ1NTg5Mw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1162#discussion_r506455893", "bodyText": "Reverted the changes. It was by mistake.", "author": "sumansreenivasan", "createdAt": "2020-10-16T14:00:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ0OTY2Ng=="}], "type": "inlineReview"}, {"oid": "7ecb06b29361a7155fccc2f2d7b61f0c46017aa8", "url": "https://github.com/hmcts/ccd-data-store-api/commit/7ecb06b29361a7155fccc2f2d7b61f0c46017aa8", "message": "Added db changelog for RDM-9696", "committedDate": "2020-10-16T14:14:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ4NzgzMw==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1162#discussion_r506487833", "bodyText": "each index should be created if it doesn't exist.", "author": "MSancaktutar", "createdAt": "2020-10-16T14:31:24Z", "path": "src/main/resources/db/changelog/db.changelog-RDM-9696.xml", "diffHunk": "@@ -0,0 +1,20 @@\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\">\n+\n+\n+    <changeSet id=\"rdm-9696\" runInTransaction=\"false\" author=\"suman.sreenivasan@hmcts.net\">\n+        <sql dbms=\"postgresql\"\n+             endDelimiter=\"\\nGO\"\n+             splitStatements=\"true\"\n+             stripComments=\"true\">\n+            CREATE INDEX CONCURRENTLY idx_case_data_languagePreferenceWelsh ON public.case_data USING btree (btrim(upper((data #>> '{languagePreferenceWelsh}'::text[]))));", "originalCommit": "7ecb06b29361a7155fccc2f2d7b61f0c46017aa8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUyNTU1NQ==", "url": "https://github.com/hmcts/ccd-data-store-api/pull/1162#discussion_r506525555", "bodyText": "changed the query.", "author": "sumansreenivasan", "createdAt": "2020-10-16T15:06:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ4NzgzMw=="}], "type": "inlineReview"}, {"oid": "c94aafb79402883241d5a4cf8426e3a2a00e0e4b", "url": "https://github.com/hmcts/ccd-data-store-api/commit/c94aafb79402883241d5a4cf8426e3a2a00e0e4b", "message": "Added db changelog for RDM-9696", "committedDate": "2020-10-16T15:35:16Z", "type": "commit"}, {"oid": "c94aafb79402883241d5a4cf8426e3a2a00e0e4b", "url": "https://github.com/hmcts/ccd-data-store-api/commit/c94aafb79402883241d5a4cf8426e3a2a00e0e4b", "message": "Added db changelog for RDM-9696", "committedDate": "2020-10-16T15:35:16Z", "type": "forcePushed"}]}