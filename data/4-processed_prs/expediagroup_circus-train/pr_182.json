{"pr_number": 182, "pr_title": "Disable coveralls for forks", "pr_createdAt": "2020-03-31T14:47:35Z", "pr_url": "https://github.com/ExpediaGroup/circus-train/pull/182", "timeline": [{"oid": "bd99d357af5f49383a6ffeef0349893c9dfbb42d", "url": "https://github.com/ExpediaGroup/circus-train/commit/bd99d357af5f49383a6ffeef0349893c9dfbb42d", "message": "trim workflow down for testing", "committedDate": "2020-03-31T11:13:41Z", "type": "commit"}, {"oid": "7981fbe99acd74b73f953caa7e736936c0f07fe0", "url": "https://github.com/ExpediaGroup/circus-train/commit/7981fbe99acd74b73f953caa7e736936c0f07fe0", "message": "change echo message", "committedDate": "2020-03-31T12:45:16Z", "type": "commit"}, {"oid": "bdd24d4e7eede5c698a9c1dc2a3489e9e0885355", "url": "https://github.com/ExpediaGroup/circus-train/commit/bdd24d4e7eede5c698a9c1dc2a3489e9e0885355", "message": "attempt at skipping coveralls", "committedDate": "2020-03-31T14:46:38Z", "type": "commit"}, {"oid": "ed46415ae3e192a42d351159b828cbe3c3324e4d", "url": "https://github.com/ExpediaGroup/circus-train/commit/ed46415ae3e192a42d351159b828cbe3c3324e4d", "message": "re-enable mvn command to test coveralls from non-forked branch", "committedDate": "2020-03-31T15:15:00Z", "type": "commit"}, {"oid": "c61400ddb01dcede827564e641a71b3912c628e2", "url": "https://github.com/ExpediaGroup/circus-train/commit/c61400ddb01dcede827564e641a71b3912c628e2", "message": "remove whitespace", "committedDate": "2020-03-31T15:58:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE0ODMwOQ==", "url": "https://github.com/ExpediaGroup/circus-train/pull/182#discussion_r401148309", "bodyText": "Was a bit unfamiliar with how github handled passing dynamic variables in between build steps in a workflow. Interesting that they went this log syntax: https://help.github.com/en/actions/reference/workflow-commands-for-github-actions#setting-an-environment-variable", "author": "KenFigueiredo", "createdAt": "2020-03-31T19:06:50Z", "path": ".github/workflows/main.yml", "diffHunk": "@@ -10,9 +10,22 @@ jobs:\n     - uses: actions/checkout@v2\n       with:\n         fetch-depth: 0\n+    - name: Init Coveralls\n+      shell: bash\n+      run: |\n+          COVERALLS_TOKEN=${{ secrets.COVERALLS_REPO_TOKEN }}\n+          if [[ -z \"${COVERALLS_TOKEN}\" ]];\n+          then\n+             echo \"Coveralls token not available\"\n+             COVERALLS_SKIP=true\n+          else\n+             echo \"Coveralls token available\"\n+             COVERALLS_SKIP=false\n+          fi\n+          echo ::set-env name=COVERALLS_SKIP::${COVERALLS_SKIP}", "originalCommit": "c61400ddb01dcede827564e641a71b3912c628e2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUwNzA3NQ==", "url": "https://github.com/ExpediaGroup/circus-train/pull/182#discussion_r401507075", "bodyText": "Yes, so was I. I initially tried set-output but couldn't get it working so went with set-env, it doesn't make much difference in this case. It is an \"interesting\" syntax indeed, I don't think I'm a fan but maybe I'll come around to it.", "author": "massdosage", "createdAt": "2020-04-01T10:16:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE0ODMwOQ=="}], "type": "inlineReview"}]}