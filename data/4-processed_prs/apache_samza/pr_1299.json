{"pr_number": 1299, "pr_title": "SAMZA-2477: JobModel isn't updated with latest \"task.inputs\" if enabled regex topic rewriter", "pr_createdAt": "2020-02-28T22:46:49Z", "pr_url": "https://github.com/apache/samza/pull/1299", "timeline": [{"oid": "9f00cdb9ae1ce543e5d69829a14047755eba2d0d", "url": "https://github.com/apache/samza/commit/9f00cdb9ae1ce543e5d69829a14047755eba2d0d", "message": "update JobModel if enabled regex topic rewriter\n\nSigned-off-by: Alan Zhang <shuai.xyz@gmail.com>", "committedDate": "2020-02-28T19:26:03Z", "type": "commit"}, {"oid": "8e392154ec2cc4b69c6240598b8568249c6bfcdb", "url": "https://github.com/apache/samza/commit/8e392154ec2cc4b69c6240598b8568249c6bfcdb", "message": "add test case\n\nSigned-off-by: Alan Zhang <shuai.xyz@gmail.com>", "committedDate": "2020-02-28T22:40:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIxMDYyMQ==", "url": "https://github.com/apache/samza/pull/1299#discussion_r393210621", "bodyText": "I'd recommend renaming the method parameter to originalConfig and rename newConfig to config. It minimizes the changes in this PR and also removes unnecessary redirections in commit log which are just renames.", "author": "mynameborat", "createdAt": "2020-03-16T17:57:22Z", "path": "samza-core/src/main/scala/org/apache/samza/coordinator/JobModelManager.scala", "diffHunk": "@@ -353,20 +357,23 @@ object JobModelManager extends Logging {\n                    changeLogPartitionMapping: util.Map[TaskName, Integer],\n                    streamMetadataCache: StreamMetadataCache,\n                    grouperMetadata: GrouperMetadata): JobModel = {\n-    val taskConfig = new TaskConfig(config)\n+    // refresh config if enabled regex topic rewriter\n+    val newConfig = refreshConfigByRegexTopicRewriter(config)", "originalCommit": "8e392154ec2cc4b69c6240598b8568249c6bfcdb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5MjU0Ng==", "url": "https://github.com/apache/samza/pull/1299#discussion_r393292546", "bodyText": "Thanks for the good suggestion @mynameborat . This way can help reduce lots of diffs which make the commit more clear.\nAlso done the changes.", "author": "alnzng", "createdAt": "2020-03-16T20:30:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIxMDYyMQ=="}], "type": "inlineReview"}, {"oid": "2309d1b925fd8f6949708350e40ec453020fb6ed", "url": "https://github.com/apache/samza/commit/2309d1b925fd8f6949708350e40ec453020fb6ed", "message": "refactor name\n\nSigned-off-by: Alan Zhang <shuai.xyz@gmail.com>", "committedDate": "2020-03-16T20:27:47Z", "type": "commit"}]}