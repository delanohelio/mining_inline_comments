{"pr_number": 13902, "pr_title": "Update gRPC bundles", "pr_createdAt": "2020-09-11T19:10:41Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13902", "timeline": [{"oid": "70f2cef42dfed19cbfd03b183e47e8d0685fde44", "url": "https://github.com/OpenLiberty/open-liberty/commit/70f2cef42dfed19cbfd03b183e47e8d0685fde44", "message": "generate javadoc for grpc api", "committedDate": "2020-09-11T19:57:48Z", "type": "forcePushed"}, {"oid": "343a09a61dd43ccb6aa35b0f02d456e8f1e8b48b", "url": "https://github.com/OpenLiberty/open-liberty/commit/343a09a61dd43ccb6aa35b0f02d456e8f1e8b48b", "message": "generate javadoc for grpc api", "committedDate": "2020-09-11T20:00:03Z", "type": "forcePushed"}, {"oid": "384f4a1129ef3cc59135fbc00be15cd35921bef2", "url": "https://github.com/OpenLiberty/open-liberty/commit/384f4a1129ef3cc59135fbc00be15cd35921bef2", "message": "generate javadoc for grpc api", "committedDate": "2020-09-14T13:37:42Z", "type": "forcePushed"}, {"oid": "a0361e9049d6df68411995189024883d96d6b21d", "url": "https://github.com/OpenLiberty/open-liberty/commit/a0361e9049d6df68411995189024883d96d6b21d", "message": "generate javadoc for grpc api", "committedDate": "2020-09-14T13:38:42Z", "type": "commit"}, {"oid": "e5ee5bf5e58b18fc4394c8ecd130ead67d53a1ec", "url": "https://github.com/OpenLiberty/open-liberty/commit/e5ee5bf5e58b18fc4394c8ecd130ead67d53a1ec", "message": "remove grpc monitor package from API", "committedDate": "2020-09-14T20:16:51Z", "type": "commit"}, {"oid": "ce82983b18ebccb7350e0d1668dc41394777d2c2", "url": "https://github.com/OpenLiberty/open-liberty/commit/ce82983b18ebccb7350e0d1668dc41394777d2c2", "message": "remove annotation API from grpc client feature", "committedDate": "2020-09-14T20:18:00Z", "type": "commit"}, {"oid": "5763d4d13fa257dad10de0d4a27434dd8df10c2b", "url": "https://github.com/OpenLiberty/open-liberty/commit/5763d4d13fa257dad10de0d4a27434dd8df10c2b", "message": "move common.collect API export to grpc private feature", "committedDate": "2020-09-14T20:19:13Z", "type": "commit"}, {"oid": "f6731e60cc803088986e5dd3e2e54d99d8caa31f", "url": "https://github.com/OpenLiberty/open-liberty/commit/f6731e60cc803088986e5dd3e2e54d99d8caa31f", "message": "create stable bundle for gRPC API", "committedDate": "2020-09-15T16:19:40Z", "type": "forcePushed"}, {"oid": "a1183bc2e2c90dc3fab013ea7fb98945849aeb15", "url": "https://github.com/OpenLiberty/open-liberty/commit/a1183bc2e2c90dc3fab013ea7fb98945849aeb15", "message": "move grpc netty client to third party bundle", "committedDate": "2020-09-16T13:48:08Z", "type": "forcePushed"}, {"oid": "98b8ade8f20be6d7ffd888c8ea202ae04474913d", "url": "https://github.com/OpenLiberty/open-liberty/commit/98b8ade8f20be6d7ffd888c8ea202ae04474913d", "message": "create stable bundle for gRPC API", "committedDate": "2020-09-16T16:05:39Z", "type": "commit"}, {"oid": "155737fad3786bf5594005467cd3235e92d32677", "url": "https://github.com/OpenLiberty/open-liberty/commit/155737fad3786bf5594005467cd3235e92d32677", "message": "move grpc netty client to third party bundle", "committedDate": "2020-09-16T16:05:50Z", "type": "forcePushed"}, {"oid": "d003f2f655723b2c457ebee687fec7c3571dabdd", "url": "https://github.com/OpenLiberty/open-liberty/commit/d003f2f655723b2c457ebee687fec7c3571dabdd", "message": "move grpc netty client to third party bundle", "committedDate": "2020-09-16T20:12:19Z", "type": "commit"}, {"oid": "d003f2f655723b2c457ebee687fec7c3571dabdd", "url": "https://github.com/OpenLiberty/open-liberty/commit/d003f2f655723b2c457ebee687fec7c3571dabdd", "message": "move grpc netty client to third party bundle", "committedDate": "2020-09-16T20:12:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI2NTMzMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13902#discussion_r490265330", "bodyText": "I thought that usually the IBM-API-Package was listed on the public API feature (so that the packages are only exposed to users if the public feature is enabled, and not if the private feature is pulled in by another feature).\nI'm assuming in this case, this feature is only used by grpc and grpcClient?", "author": "Azquelt", "createdAt": "2020-09-17T13:55:01Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.internal.grpc-1.0.feature", "diffHunk": "@@ -2,16 +2,18 @@\n symbolicName=io.openliberty.internal.grpc-1.0\n singleton=true\n IBM-API-Package: \\\n-  com.google.common.util.concurrent; type=\"stable\",\\\n-  com.google.protobuf;  type=\"stable\",\\\n+  com.google.common.collect; type=\"internal\",\\\n+  com.google.common.util.concurrent; type=\"internal\",\\\n+  com.google.protobuf;  type=\"internal\",\\\n   io.grpc;  type=\"stable\", \\", "originalCommit": "d003f2f655723b2c457ebee687fec7c3571dabdd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4MTQyOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13902#discussion_r490281428", "bodyText": "You're right, this private feature is only used by the public features grpc-1.0 and grpcClient-1.0.  My intention here was to provide the common APIs for those features from a single internal feature.", "author": "wtlucy", "createdAt": "2020-09-17T14:14:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI2NTMzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3MzI5Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13902#discussion_r490273297", "bodyText": "This project seems slightly odd. It looks like it's not used at all as a bundle and just copies in the io.openliberty.frpc.annotation package so that it can be put in the dev/api directory as a .jar?\nI think that's ok, just seemed slightly odd.", "author": "Azquelt", "createdAt": "2020-09-17T14:04:41Z", "path": "dev/io.openliberty.grpc.1.0/bnd.bnd", "diffHunk": "@@ -11,19 +11,20 @@\n -include= ~../cnf/resources/bnd/bundle.props\n bVersion: 1.0\n \n-Bundle-Name: WebSphere gRPC API\n-Bundle-Description: WebSphere gRPC API, version ${bVersion}\n-Bundle-SymbolicName: io.openliberty.grpc\n+Bundle-Name: Open Liberty gRPC API\n+Bundle-Description: Open Liberty gRPC API, version ${bVersion}\n+Bundle-SymbolicName: io.openliberty.grpc.1.0\n \n-Import-Package: io.openliberty.grpc.annotation\n+Import-Package: \\\n+  io.grpc, \\\n+  io.openliberty.grpc.annotation\n \n-Export-Package: io.openliberty.grpc.annotation\n+Export-Package: \\\n+  io.openliberty.grpc.annotation", "originalCommit": "d003f2f655723b2c457ebee687fec7c3571dabdd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4NDAyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13902#discussion_r490284022", "bodyText": "The only purpose of this package is to provide the IBM API for grpc-1.0, which is just a single package (and class!)  It is a little odd, but from the examples I looked at this is the correct way to create the dev/api jar.", "author": "wtlucy", "createdAt": "2020-09-17T14:18:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3MzI5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3NDQ0Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13902#discussion_r490274442", "bodyText": "Trailing , \\ on the end of this line", "author": "Azquelt", "createdAt": "2020-09-17T14:06:06Z", "path": "dev/io.openliberty.grpc.1.0.internal.common/bnd.bnd", "diffHunk": "@@ -41,7 +47,7 @@ Export-Package: \\\n   io.openliberty.grpc.internal.GrpcManagedObjectProvider\n \n Include-Resource: \\\n-  @${repo;io.grpc:grpc-core;1.31.1;EXACT}!/META-INF/**, \\\n+  @${repo;io.grpc:grpc-core;${grpcVersion};EXACT}!/META-INF/**, \\", "originalCommit": "d003f2f655723b2c457ebee687fec7c3571dabdd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4NTQ3NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13902#discussion_r490285475", "bodyText": "good catch!", "author": "wtlucy", "createdAt": "2020-09-17T14:19:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3NDQ0Mg=="}], "type": "inlineReview"}, {"oid": "907494ee13775c5ec1badce467cb9ccd3c0ccde8", "url": "https://github.com/OpenLiberty/open-liberty/commit/907494ee13775c5ec1badce467cb9ccd3c0ccde8", "message": "remove trailing comma from grpc common bnd", "committedDate": "2020-09-17T14:19:48Z", "type": "commit"}]}