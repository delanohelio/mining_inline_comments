{"pr_number": 13098, "pr_title": "Enable jakartaee for rest connector and rest handler", "pr_createdAt": "2020-07-20T06:04:32Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13098", "timeline": [{"oid": "790659d22c14804cc742a9685b266e7ea58613cd", "url": "https://github.com/OpenLiberty/open-liberty/commit/790659d22c14804cc742a9685b266e7ea58613cd", "message": "Fix bracket of the filter", "committedDate": "2020-07-20T14:11:03Z", "type": "forcePushed"}, {"oid": "251d4f66a82a1b558d1be8c974754abc5fd3bb78", "url": "https://github.com/OpenLiberty/open-liberty/commit/251d4f66a82a1b558d1be8c974754abc5fd3bb78", "message": "Fix bracket of the filter", "committedDate": "2020-07-20T21:25:30Z", "type": "forcePushed"}, {"oid": "f8568527408d24db6a8017408a78b265c8b6c6fd", "url": "https://github.com/OpenLiberty/open-liberty/commit/f8568527408d24db6a8017408a78b265c8b6c6fd", "message": "Enable jakartaee for webBundleSecurity feature", "committedDate": "2020-07-21T19:30:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM0MTk3MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r458341971", "bodyText": "I  suggest we call this io.openliberty.webBundleSecurity.javaee-1.0\nThat distinguishes it more from the main webBundleSecurity feature.", "author": "tjwatson", "createdAt": "2020-07-21T19:39:07Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.webBundleSecurity-1.0.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.webBundleSecurity-1.0", "originalCommit": "f8568527408d24db6a8017408a78b265c8b6c6fd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODM0MjI2Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r458342266", "bodyText": "I think you need to also be enabled with servlet-3.0", "author": "tjwatson", "createdAt": "2020-07-21T19:39:40Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.webBundleSecurity-1.0.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.webBundleSecurity-1.0\n+visibility = private\n+\n+-bundles= com.ibm.ws.webcontainer.security; start-phase:=APPLICATION_EARLY, \\\n+          com.ibm.ws.security.authentication.tai\n+\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.wsspi.appserver.webBundleSecurity-1.0))\",\\\n+  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.servlet-3.1)(osgi.identity=com.ibm.websphere.appserver.servlet-4.0)))\"", "originalCommit": "f8568527408d24db6a8017408a78b265c8b6c6fd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1581229ce72e1b54a216a5a74c261725d4bc6d5c", "url": "https://github.com/OpenLiberty/open-liberty/commit/1581229ce72e1b54a216a5a74c261725d4bc6d5c", "message": "Enable jakartaee for webBundleSecurity feature", "committedDate": "2020-07-21T20:33:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3MTUxOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r458771518", "bodyText": "I don't see where this transformed bundle is used in any of the committed sources.  Is this change necessary?", "author": "dazavala", "createdAt": "2020-07-22T12:58:18Z", "path": "dev/com.ibm.ws.webcontainer.servlet.3.1.factories/bnd.bnd", "diffHunk": "@@ -108,3 +108,5 @@ instrument.disabled: true\n     com.ibm.ws.javaee.version;version=latest,\\\n     com.ibm.ws.artifact;version=latest,\\\n     com.ibm.ws.artifact.overlay;version=latest\n+    \n+jakartaeeMe: true", "originalCommit": "1581229ce72e1b54a216a5a74c261725d4bc6d5c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e1563db4c371c398337090fa8e85dca5bfcd3fd6", "url": "https://github.com/OpenLiberty/open-liberty/commit/e1563db4c371c398337090fa8e85dca5bfcd3fd6", "message": "Enable jakartaee for restHandler and restConnector features", "committedDate": "2020-07-22T21:50:10Z", "type": "forcePushed"}, {"oid": "18344ae44aaf25e1d05fd144fd5206ccd2e95a9d", "url": "https://github.com/OpenLiberty/open-liberty/commit/18344ae44aaf25e1d05fd144fd5206ccd2e95a9d", "message": "Enable jakartaee for restHandler and restConnector features", "committedDate": "2020-07-22T21:53:05Z", "type": "forcePushed"}, {"oid": "691437bb35b79c9bcb682d854ef6c94c9be90ae6", "url": "https://github.com/OpenLiberty/open-liberty/commit/691437bb35b79c9bcb682d854ef6c94c9be90ae6", "message": "Enable jakartaee for restHandler and restConnector features", "committedDate": "2020-07-22T22:00:46Z", "type": "forcePushed"}, {"oid": "99ab19b522337170953266cfe705038818db06a8", "url": "https://github.com/OpenLiberty/open-liberty/commit/99ab19b522337170953266cfe705038818db06a8", "message": "Enable jakartaee for restHandler and restConnector features", "committedDate": "2020-07-28T03:52:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMTY4MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461521681", "bodyText": "This name looks odd to me because there is no such feature as javaee-2.0. I suggest calling this io.openliberty.restConnector2.0-servlet3.0.", "author": "tevans78", "createdAt": "2020-07-28T11:53:24Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.restConnector.javaee-2.0.feature", "diffHunk": "@@ -0,0 +1,15 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.restConnector.javaee-2.0", "originalCommit": "99ab19b522337170953266cfe705038818db06a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwMzIzMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461603231", "bodyText": "But server3.0 is odd because it is enabled for all servlet versions in javaee (3.0, 3.1, 4.0).  If this is to change I suggest changing it to io.openliberty.restConnector.javaee", "author": "tjwatson", "createdAt": "2020-07-28T14:01:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMTY4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwOTY0Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461609642", "bodyText": "OK, that is a little less confusing.", "author": "tevans78", "createdAt": "2020-07-28T14:09:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMTY4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY4MDM4NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461680384", "bodyText": "Changed filename to io.openliberty.restConnector2.0.javaee. Thanks!", "author": "anjumfatima90", "createdAt": "2020-07-28T15:39:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMTY4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjUxMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461522512", "bodyText": "This name looks odd to me because there is no such feature as jakarta-1.0. I suggest calling this io.openliberty.restHandler1.0-servlet5.0.", "author": "tevans78", "createdAt": "2020-07-28T11:55:10Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.restHandler.jakarta-1.0.feature", "diffHunk": "@@ -0,0 +1,15 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.restHandler.jakarta-1.0", "originalCommit": "99ab19b522337170953266cfe705038818db06a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwNTA1NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461605055", "bodyText": "This feature will get updated to also tolerate servlet-5.0+ when Jakarta 10 releases.  If it needs to be renamed then I suggest renaming to io.openliberty.restHandler.jakarta.  The version after the last - is intended to version the overall auto-feature for singleton toleration reasons.  But no auto-feature should be a singleton so there is no need to have the -1.0 on the end of the name.", "author": "tjwatson", "createdAt": "2020-07-28T14:03:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjUxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwOTcxMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461609713", "bodyText": "OK, that is a little less confusing.", "author": "tevans78", "createdAt": "2020-07-28T14:09:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjUxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY3OTU2NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461679565", "bodyText": "Changed filename to io.openliberty.restHandler1.0.jakarta. Thanks!", "author": "anjumfatima90", "createdAt": "2020-07-28T15:38:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjUxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjc4OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461522789", "bodyText": "This name looks odd to me because there is no such feature as javaee-1.0. I suggest calling this io.openliberty.restHandler1.0-servlet3.0.", "author": "tevans78", "createdAt": "2020-07-28T11:55:42Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.restHandler.javaee-1.0.feature", "diffHunk": "@@ -0,0 +1,15 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.restHandler.javaee-1.0", "originalCommit": "99ab19b522337170953266cfe705038818db06a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY3OTI1NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461679255", "bodyText": "Changed filename to io.openliberty.restHandler1.0.javaee. Thanks!", "author": "anjumfatima90", "createdAt": "2020-07-28T15:38:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjc4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2MzUzOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461563539", "bodyText": "io.openliberty....", "author": "tevans78", "createdAt": "2020-07-28T13:06:13Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.adminSecurity-2.0.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=com.ibm.websphere.appserver.adminSecurity-2.0", "originalCommit": "99ab19b522337170953266cfe705038818db06a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwOTIzNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461609235", "bodyText": "This cannot happen because we need to tolerate across the version of the private feature in restHandler-1.0\nIf we really want io.openliberty used here then we should do a concerted effort to rename ALL of our private features to io.openliberty...", "author": "tjwatson", "createdAt": "2020-07-28T14:09:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2MzUzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY3OTk3MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461679970", "bodyText": "Keeping it the same for now.", "author": "anjumfatima90", "createdAt": "2020-07-28T15:39:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2MzUzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2NTExOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461565118", "bodyText": "This name looks odd to me because there is no such feature as jakarta-1.0. I suggest calling this io.openliberty.webBundleSecurity1.0-servlet5.0.", "author": "tevans78", "createdAt": "2020-07-28T13:08:44Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.webBundleSecurity.jakarta-1.0.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.webBundleSecurity.jakarta-1.0", "originalCommit": "99ab19b522337170953266cfe705038818db06a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwNjgzNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461606837", "bodyText": "If we need to rename I suggest io.openliberty.webBundleSecurity.jakarta as before or perhaps io.openliberty.webBundleSecurity1.0.jakarta", "author": "tjwatson", "createdAt": "2020-07-28T14:05:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2NTExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYxMDI4OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461610288", "bodyText": "Either of those are fine", "author": "tevans78", "createdAt": "2020-07-28T14:10:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2NTExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY3ODcxNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461678714", "bodyText": "Changed filename to io.openliberty.webBundleSecurity1.0.jakarta. Thanks!", "author": "anjumfatima90", "createdAt": "2020-07-28T15:37:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2NTExOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2NTM1Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461565353", "bodyText": "This name looks odd to me because there is no such feature as javaee-1.0. I suggest calling this io.openliberty.webBundleSecurity1.0-servlet3.0.", "author": "tevans78", "createdAt": "2020-07-28T13:09:04Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.webBundleSecurity.javaee-1.0.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.webBundleSecurity.javaee-1.0", "originalCommit": "99ab19b522337170953266cfe705038818db06a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY3ODMyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13098#discussion_r461678327", "bodyText": "Changed to io.openliberty.webBundleSecurity1.0.javaee. Thanks!", "author": "anjumfatima90", "createdAt": "2020-07-28T15:36:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU2NTM1Mw=="}], "type": "inlineReview"}, {"oid": "9ca4ae5e8922ec1c775b829e483098ddc14f34da", "url": "https://github.com/OpenLiberty/open-liberty/commit/9ca4ae5e8922ec1c775b829e483098ddc14f34da", "message": "Enable jakartaee for restHandler and restConnector features", "committedDate": "2020-07-28T15:32:07Z", "type": "commit"}, {"oid": "14eb0966658277ba1a8b99375a0e3f2d1fc36597", "url": "https://github.com/OpenLiberty/open-liberty/commit/14eb0966658277ba1a8b99375a0e3f2d1fc36597", "message": "Rename auto features to indicate the version and javaee/jakarta feature support", "committedDate": "2020-07-28T15:32:07Z", "type": "forcePushed"}, {"oid": "e85c8d08dcaabbfb52bb44340bd5656118b573b2", "url": "https://github.com/OpenLiberty/open-liberty/commit/e85c8d08dcaabbfb52bb44340bd5656118b573b2", "message": "Rename auto features to indicate the version and javaee/jakarta feature support", "committedDate": "2020-07-28T15:34:16Z", "type": "forcePushed"}, {"oid": "ddc04e60dc269061509fb591b3432a36231b5759", "url": "https://github.com/OpenLiberty/open-liberty/commit/ddc04e60dc269061509fb591b3432a36231b5759", "message": "Rename auto features to indicate the version and javaee/jakarta feature support", "committedDate": "2020-07-28T15:35:20Z", "type": "commit"}, {"oid": "ddc04e60dc269061509fb591b3432a36231b5759", "url": "https://github.com/OpenLiberty/open-liberty/commit/ddc04e60dc269061509fb591b3432a36231b5759", "message": "Rename auto features to indicate the version and javaee/jakarta feature support", "committedDate": "2020-07-28T15:35:20Z", "type": "forcePushed"}]}