{"pr_number": 10404, "pr_title": "Enabling all ConfigTests", "pr_createdAt": "2020-01-13T21:18:22Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/10404", "timeline": [{"oid": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5", "url": "https://github.com/OpenLiberty/open-liberty/commit/ccc99b7e01f08cb2a7c3c133cc34b98033433dc5", "message": "Enabling all ConfigTests", "committedDate": "2020-01-13T21:13:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0MTYwNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366541605", "bodyText": "Why the switch to ds2?", "author": "gjwatts", "createdAt": "2020-01-14T19:54:18Z", "path": "dev/com.ibm.ws.jdbc_fat/test-applications/basicfat/src/basicfat/DataSourceTestServlet.java", "diffHunk": "@@ -634,7 +634,7 @@ public void testConfigChangeLoginTimeout320() throws Throwable {\n \n         int loginTimeout;\n         try {\n-            loginTimeout = ds1.getLoginTimeout();\n+            loginTimeout = ds2.getLoginTimeout();", "originalCommit": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkyMzY1Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366923657", "bodyText": "ds1 is a java.sql.DataSource type.  Not all database drivers support a loginTimeout property when using that type of DataSource.  Therefore, I switched to use ds2 which is a javax.sql.XADataSource type which should support loginTimeout on all database drivers.", "author": "KyleAure", "createdAt": "2020-01-15T15:02:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0MTYwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3NDg5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366974891", "bodyText": "Thanks!", "author": "gjwatts", "createdAt": "2020-01-15T16:27:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0MTYwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY2MzcyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366663725", "bodyText": "What was behind the decision to the switch from runInServlet to runTestWithResponse?  Were you just wanting to eliminate redundant testing methods?", "author": "gjwatts", "createdAt": "2020-01-15T01:57:46Z", "path": "dev/com.ibm.ws.jdbc_fat/fat/src/com/ibm/ws/jdbc/fat/tests/ConfigTest.java", "diffHunk": "@@ -294,7 +247,7 @@ public void testConfigChangeAuthData() throws Throwable {\n         String originalUserName = testContainer.getUsername();\n \n         // First check that authData matches with what was provided by the TestContainer\n-        runInServlet(basicfat, \"DataSourceTestServlet\", \"testConfigChangeAuthDataOriginalValue\", \"originalUsername=\" + originalUserName);\n+        runTestWithResponse(server, basicfat, \"testConfigChangeAuthDataOriginalValue&originalUsername=\" + originalUserName);", "originalCommit": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkyNDc2MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366924761", "bodyText": "Yes!  runTestWithResponse was available through the componenttest.topology.utils package.  I hadn't realized that before.", "author": "KyleAure", "createdAt": "2020-01-15T15:04:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY2MzcyNQ=="}], "type": "inlineReview"}]}