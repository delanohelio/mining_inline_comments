{"pr_number": 14179, "pr_title": "Issue 14711: Jakarta transformation for audit feature", "pr_createdAt": "2020-09-25T22:53:44Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/14179", "timeline": [{"oid": "da80ebbe009dd5907893f700732efd8fe5835454", "url": "https://github.com/OpenLiberty/open-liberty/commit/da80ebbe009dd5907893f700732efd8fe5835454", "message": "Jakarta transformation for audit feature", "committedDate": "2020-09-28T14:59:43Z", "type": "forcePushed"}, {"oid": "fea67cb4c0518f259f9042d438942f82f2452a50", "url": "https://github.com/OpenLiberty/open-liberty/commit/fea67cb4c0518f259f9042d438942f82f2452a50", "message": "Jakarta transformation for audit feature", "committedDate": "2020-10-14T16:01:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MTc5OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504841799", "bodyText": "We don't need this new feature. The reason is, you can toleration servlet-5.0 in the existing com.ibm.websphere.appserver.auditCollector-1.0 feature.", "author": "jvanhill", "createdAt": "2020-10-14T17:14:05Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/protected/io.openliberty.auditCollector.1.0.feature", "diffHunk": "@@ -0,0 +1,15 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "fea67cb4c0518f259f9042d438942f82f2452a50", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MjAzNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504842037", "bodyText": "Remove the auditCollector-1.0 feature. We will leave it in the public feature.", "author": "jvanhill", "createdAt": "2020-10-14T17:14:30Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.audit-1.0.javaee.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.audit-1.0.javaee\n+visibility = private\n+\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.audit-1.0))\",\\\n+  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.servlet-3.0)(osgi.identity=com.ibm.websphere.appserver.servlet-3.1)(osgi.identity=com.ibm.websphere.appserver.servlet-4.0)))\"\n+\n+IBM-Install-Policy: when-satisfied\n+\n+-features=\\\n+  com.ibm.websphere.appserver.appSecurity-2.0; ibm.tolerates:=\"3.0\", \\\n+  com.ibm.websphere.appserver.auditCollector-1.0", "originalCommit": "fea67cb4c0518f259f9042d438942f82f2452a50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MzU2NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504843564", "bodyText": "It is also possible that you may need to put a dependency on the servlet-3.0 feature (tolerating 3.1 and 4.0).", "author": "jvanhill", "createdAt": "2020-10-14T17:17:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MjAzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MjEzMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504842131", "bodyText": "Remove the auditCollector-1.0 feature. We will leave it in the public feature.", "author": "jvanhill", "createdAt": "2020-10-14T17:14:41Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.audit-1.0.jakarta.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.audit-1.0.jakarta\n+visibility = private\n+\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.audit-1.0))\",\\\n+  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.servlet-5.0))\"\n+\n+IBM-Install-Policy: when-satisfied\n+\n+-features=\\\n+  io.openliberty.appSecurity-5.0, \\\n+  io.openliberty.auditCollector-1.0", "originalCommit": "fea67cb4c0518f259f9042d438942f82f2452a50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MzI1MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504843250", "bodyText": "It is also possible that you may need to put a dependency on the servlet-5.0 feature.", "author": "jvanhill", "createdAt": "2020-10-14T17:16:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MjEzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MjQ2Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504842462", "bodyText": "Leave the auditCollector-1.0 feature.", "author": "jvanhill", "createdAt": "2020-10-14T17:15:13Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/audit-1.0/com.ibm.websphere.appserver.audit-1.0.feature", "diffHunk": "@@ -3,9 +3,6 @@ symbolicName=com.ibm.websphere.appserver.audit-1.0\n visibility=public\n IBM-ShortName: audit-1.0\n Subsystem-Name: Audit 1.0\n--features=com.ibm.websphere.appserver.auditCollector-1.0, \\", "originalCommit": "fea67cb4c0518f259f9042d438942f82f2452a50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MTk2Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514461967", "bodyText": "Done", "author": "kristip17", "createdAt": "2020-10-29T18:03:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0MjQ2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0Mjc1Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504842756", "bodyText": "Tolerate servlet-5.0.\ncom.ibm.websphere.appserver.servlet-3.0; ibm.tolerates:=\"3.1,4.0,5.0\"", "author": "jvanhill", "createdAt": "2020-10-14T17:15:41Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/audit-1.0/com.ibm.websphere.appserver.audit-1.0.feature", "diffHunk": "@@ -3,9 +3,6 @@ symbolicName=com.ibm.websphere.appserver.audit-1.0\n visibility=public\n IBM-ShortName: audit-1.0\n Subsystem-Name: Audit 1.0\n--features=com.ibm.websphere.appserver.auditCollector-1.0, \\\n-com.ibm.websphere.appserver.appSecurity-2.0, \\\n-com.ibm.websphere.appserver.servlet-3.0; ibm.tolerates:=\"3.1,4.0\"", "originalCommit": "fea67cb4c0518f259f9042d438942f82f2452a50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MjI0Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514462246", "bodyText": "Done", "author": "kristip17", "createdAt": "2020-10-29T18:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg0Mjc1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk3NzQyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r504977425", "bodyText": "noship features need to be in the full edition.", "author": "jvanhill", "createdAt": "2020-10-14T21:17:38Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.audit-1.0.jakarta.feature", "diffHunk": "@@ -0,0 +1,16 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.audit-1.0.jakarta\n+visibility = private\n+\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.audit-1.0))\",\\\n+  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.servlet-5.0))\"\n+\n+IBM-Install-Policy: when-satisfied\n+\n+-features=\\\n+  io.openliberty.appSecurity-5.0, \\\n+  io.openliberty.auditCollector-1.0\n+\n+kind=noship\n+edition=core", "originalCommit": "fea67cb4c0518f259f9042d438942f82f2452a50", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5ebde19edacb86602f8abc27992f1e8daa9c25dc", "url": "https://github.com/OpenLiberty/open-liberty/commit/5ebde19edacb86602f8abc27992f1e8daa9c25dc", "message": "Jakarta transformation for audit feature", "committedDate": "2020-10-14T21:18:14Z", "type": "forcePushed"}, {"oid": "537265d3a377fd37da4bdc0de41c930dfa6630c9", "url": "https://github.com/OpenLiberty/open-liberty/commit/537265d3a377fd37da4bdc0de41c930dfa6630c9", "message": "Jakarta transformation for audit feature", "committedDate": "2020-10-15T04:01:06Z", "type": "forcePushed"}, {"oid": "5e544f3a290b398e9f9dc540e4d6f96a7e1b8034", "url": "https://github.com/OpenLiberty/open-liberty/commit/5e544f3a290b398e9f9dc540e4d6f96a7e1b8034", "message": "Jakarta transformation for audit feature", "committedDate": "2020-10-15T19:55:16Z", "type": "forcePushed"}, {"oid": "4b26b461381d39faa5236627208cddb277a4192f", "url": "https://github.com/OpenLiberty/open-liberty/commit/4b26b461381d39faa5236627208cddb277a4192f", "message": "Jakarta transformation for audit feature", "committedDate": "2020-10-15T21:14:29Z", "type": "forcePushed"}, {"oid": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "url": "https://github.com/OpenLiberty/open-liberty/commit/5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-10-29T17:59:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NjA5OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514466098", "bodyText": "Seems convention is to remove the '-' in auto features. Applies to the name as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            symbolicName = io.openliberty.audit-1.0.jakarta\n          \n          \n            \n            symbolicName = io.openliberty.audit1.0.jakarta", "author": "jvanhill", "createdAt": "2020-10-29T18:09:39Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.audit-1.0.jakarta.feature", "diffHunk": "@@ -0,0 +1,18 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.audit-1.0.jakarta", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NjI3OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514466279", "bodyText": "Seems convention is to remove the '-' in auto features. Applies to the name as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            symbolicName = io.openliberty.audit-1.0.javaee\n          \n          \n            \n            symbolicName = io.openliberty.audit1.0.javaee", "author": "jvanhill", "createdAt": "2020-10-29T18:09:55Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.audit-1.0.javaee.feature", "diffHunk": "@@ -0,0 +1,17 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.audit-1.0.javaee", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NjkyMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514466920", "bodyText": "Seems convention is to remove the '-' in auto features. Applies to the name as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            symbolicName = io.openliberty.auditCollector-1.0.javaee\n          \n          \n            \n            symbolicName = io.openliberty.auditCollector1.0.javaee", "author": "jvanhill", "createdAt": "2020-10-29T18:11:01Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.auditCollector-1.0.javaee.feature", "diffHunk": "@@ -0,0 +1,15 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.auditCollector-1.0.javaee", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NzAzOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514467038", "bodyText": "Seems convention is to remove the '-' in auto features. Applies to the name as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            symbolicName = io.openliberty.auditCollector-1.0.jakarta\n          \n          \n            \n            symbolicName = io.openliberty.auditCollector1.0.jakarta", "author": "jvanhill", "createdAt": "2020-10-29T18:11:14Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.auditCollector-1.0.jakarta.feature", "diffHunk": "@@ -0,0 +1,15 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.auditCollector-1.0.jakarta", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2Nzc1OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514467759", "bodyText": "Seems convention is to remove the '-' in auto features. Applies to the name as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            symbolicName =io.openliberty.auditWebProbes-1.0.jakarta\n          \n          \n            \n            symbolicName =io.openliberty.auditWebProbes1.0.jakarta", "author": "jvanhill", "createdAt": "2020-10-29T18:12:22Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.auditWebProbes-1.0.jakarta.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName =io.openliberty.auditWebProbes-1.0.jakarta", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2Nzg3OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514467879", "bodyText": "Seems convention is to remove the '-' in auto features. Applies to the name as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            symbolicName =io.openliberty.auditWebProbes-1.0.javaee\n          \n          \n            \n            symbolicName =io.openliberty.auditWebProbes1.0.javaee", "author": "jvanhill", "createdAt": "2020-10-29T18:12:32Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.auditWebProbes-1.0.javaee.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName =io.openliberty.auditWebProbes-1.0.javaee", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ3MDU1NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514470555", "bodyText": "Not sure why this was removed. Can you explain?", "author": "jvanhill", "createdAt": "2020-10-29T18:16:50Z", "path": "dev/com.ibm.ws.webcontainer.security.jacc.1.5_fat/publish/servers/com.ibm.ws.webcontainer.security.fat.basicauth.audit/server.xml", "diffHunk": "@@ -12,7 +12,6 @@\n \n \t<featureManager>\n \t\t<feature>jsp-2.2</feature>\n-\t\t<feature>servlet-3.1</feature>", "originalCommit": "5f6a0aa378d7a8ffac1bf115fc99c9c92ed935e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ4MzA3MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r514483070", "bodyText": "I think I took it out earlier, put it back, test still passed.", "author": "kristip17", "createdAt": "2020-10-29T18:37:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ3MDU1NQ=="}], "type": "inlineReview"}, {"oid": "5b4dcb04027833142bde312414606e87c9be78d4", "url": "https://github.com/OpenLiberty/open-liberty/commit/5b4dcb04027833142bde312414606e87c9be78d4", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-10-29T18:36:14Z", "type": "forcePushed"}, {"oid": "dc0cd7fde8ade7d91fa7ce754d862df76c694d76", "url": "https://github.com/OpenLiberty/open-liberty/commit/dc0cd7fde8ade7d91fa7ce754d862df76c694d76", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-10-29T18:58:57Z", "type": "forcePushed"}, {"oid": "8f1b5281ecdbca4e801c02dca136560f12568ffd", "url": "https://github.com/OpenLiberty/open-liberty/commit/8f1b5281ecdbca4e801c02dca136560f12568ffd", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-10-30T13:32:30Z", "type": "forcePushed"}, {"oid": "a9143ce966fa44848d93f643403d9237497c732d", "url": "https://github.com/OpenLiberty/open-liberty/commit/a9143ce966fa44848d93f643403d9237497c732d", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-10-30T23:33:51Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwMzA1OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r520603058", "bodyText": "The tolerates 3.0 is new compared to the old config.  Was that intended?  Was it a bug before?", "author": "jhanders34", "createdAt": "2020-11-10T14:27:26Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.audit1.0.javaee.feature", "diffHunk": "@@ -0,0 +1,17 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName = io.openliberty.audit1.0.javaee\n+visibility = private\n+\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.audit-1.0))\",\\\n+  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.servlet-3.0)(osgi.identity=com.ibm.websphere.appserver.servlet-3.1)(osgi.identity=com.ibm.websphere.appserver.servlet-4.0)))\"\n+\n+IBM-Install-Policy: when-satisfied\n+\n+-features=\\\n+  com.ibm.websphere.appserver.appSecurity-2.0; ibm.tolerates:=\"3.0\"", "originalCommit": "a9143ce966fa44848d93f643403d9237497c732d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY1MjYwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r520652600", "bodyText": "Yes, this was a bug before.", "author": "kristip17", "createdAt": "2020-11-10T15:30:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwMzA1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwNDgxNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r520604814", "bodyText": "This filter doesn't make any sense.  Just move the bundles from this auto feature to the audit1.0.jakarta auto feature.", "author": "jhanders34", "createdAt": "2020-11-10T14:29:43Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.auditWebProbes1.0.jakarta.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName =io.openliberty.auditWebProbes1.0.jakarta\n+visibility = private\n+IBM-Install-Policy: when-satisfied\n+\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.audit1.0.jakarta))\"", "originalCommit": "a9143ce966fa44848d93f643403d9237497c732d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwNTk4Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r520605987", "bodyText": "This filter doesn't make any sense.  Just move the bundles from this auto feature to the audit1.0.javaee auto feature.", "author": "jhanders34", "createdAt": "2020-11-10T14:31:13Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.auditWebProbes1.0.javaee.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+\n+symbolicName =io.openliberty.auditWebProbes1.0.javaee\n+visibility = private\n+IBM-Install-Policy: when-satisfied\n+\n+IBM-Provision-Capability:  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.audit1.0.javaee))\"", "originalCommit": "a9143ce966fa44848d93f643403d9237497c732d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwODUxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r520608517", "bodyText": "This protected feature which is really an auto feature doesn't make any sense.  audit already depends on servlet and appSecurity.  As such this file should be deleted and the requestProbes dependency should just be added to audit-1.0 feature.", "author": "jhanders34", "createdAt": "2020-11-10T14:34:38Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/protected/com.ibm.websphere.appserver.auditWebProbes-1.0.feature", "diffHunk": "@@ -2,12 +2,10 @@\n symbolicName=com.ibm.websphere.appserver.auditWebProbes-1.0\n visibility=private\n IBM-Provision-Capability: \\\n-  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.servlet-3.0)(osgi.identity=com.ibm.websphere.appserver.servlet-3.1)(osgi.identity=com.ibm.websphere.appserver.servlet-4.0)))\", \\\n-  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.appSecurity-1.0)(osgi.identity=com.ibm.websphere.appserver.appSecurity-2.0)(osgi.identity=com.ibm.websphere.appserver.appSecurity-3.0)))\", \\\n-  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.audit-1.0))\"\n+  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.servlet-3.0)(osgi.identity=com.ibm.websphere.appserver.servlet-3.1)(osgi.identity=com.ibm.websphere.appserver.servlet-4.0)(osgi.identity=com.ibm.websphere.appserver.servlet-5.0)))\", \\", "originalCommit": "a9143ce966fa44848d93f643403d9237497c732d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYxMTk0MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14179#discussion_r520611941", "bodyText": "auditreader doesn't appear to have any Java EE dependencies unless I am missing something.  Why does it need to be jakarta-ized?", "author": "jhanders34", "createdAt": "2020-11-10T14:39:10Z", "path": "dev/com.ibm.ws.security.audit.reader.auditreader/bnd.bnd", "diffHunk": "@@ -13,6 +13,8 @@ bVersion=1.0\n Bundle-Name: WebSphere Audit Reader Utility\n Bundle-SymbolicName: com.ibm.ws.security.audit.reader.auditreader\n \n+jakartaeeMe: true", "originalCommit": "a9143ce966fa44848d93f643403d9237497c732d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fe1c1c62b276ec5672ac247305adf940d686305b", "url": "https://github.com/OpenLiberty/open-liberty/commit/fe1c1c62b276ec5672ac247305adf940d686305b", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-11-10T16:41:16Z", "type": "forcePushed"}, {"oid": "0ae1390a1a952fad7d73c34d373ebb98e95dc730", "url": "https://github.com/OpenLiberty/open-liberty/commit/0ae1390a1a952fad7d73c34d373ebb98e95dc730", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-11-10T19:14:30Z", "type": "commit"}, {"oid": "0ae1390a1a952fad7d73c34d373ebb98e95dc730", "url": "https://github.com/OpenLiberty/open-liberty/commit/0ae1390a1a952fad7d73c34d373ebb98e95dc730", "message": "Issue 14711: Jakarta transformation for audit feature", "committedDate": "2020-11-10T19:14:30Z", "type": "forcePushed"}]}