{"pr_number": 10438, "pr_title": "OpenShift service account support: NLS messages and unit tests", "pr_createdAt": "2020-01-15T15:47:57Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/10438", "timeline": [{"oid": "b34555116b55516c5f58fe3d4dee48f1865c7212", "url": "https://github.com/OpenLiberty/open-liberty/commit/b34555116b55516c5f58fe3d4dee48f1865c7212", "message": "OpenShift service account support: NLS messages", "committedDate": "2020-01-15T15:48:46Z", "type": "commit"}, {"oid": "bb095eb3660b4c59a4f6a2de16da88151411655f", "url": "https://github.com/OpenLiberty/open-liberty/commit/bb095eb3660b4c59a4f6a2de16da88151411655f", "message": "Add unit tests for OpenShift service account token support", "committedDate": "2020-01-15T15:48:49Z", "type": "commit"}, {"oid": "bb095eb3660b4c59a4f6a2de16da88151411655f", "url": "https://github.com/OpenLiberty/open-liberty/commit/bb095eb3660b4c59a4f6a2de16da88151411655f", "message": "Add unit tests for OpenShift service account token support", "committedDate": "2020-01-15T15:48:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2NzA4Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10438#discussion_r367067086", "bodyText": "Please change \"all of the required information\" to \"all required information\" or, optionally, to \"all the required information\". This comment applies to the explanation and useraction.", "author": "helyarp", "createdAt": "2020-01-15T19:35:14Z", "path": "dev/com.ibm.ws.security.social/resources/com/ibm/ws/security/social/resources/SocialMessages.nlsprops", "diffHunk": "@@ -94,6 +94,31 @@ KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND=CWWKS5381W: The social\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.explanation=The user API response does not contain a key that corresponds to the value of the configuration attribute that is specified in the message. The social login feature attempts to use a different key instead.\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.useraction=Verify that the configuration attribute that is specified in the message is configured correctly. Ensure that the value of the configuration attribute corresponds to the entry in the user API response that should be used as the username.\n \n+# 0=Exception message\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT=CWWKS5382E: The response from the service account user API cannot be processed: {0}\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.explanation=Information about the service account cannot be obtained because another error occurred.\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.useraction=If the message contains another error message, see the user action for that message. Otherwise, check the server logs for more error messages that might indicate where the other error occurred.\n+\n+# 0=HTTP response code, 1=Response body\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS=CWWKS5383E: The service account user API returned an unexpected [{0}] response code. Verify that the request to the API contains all of the required information and that the service account token is valid. The response from the API is [{1}].\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.explanation=The service account user API did not return the expected status code.", "originalCommit": "bb095eb3660b4c59a4f6a2de16da88151411655f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2Nzc3NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10438#discussion_r367067774", "bodyText": "Please change \"is expected to be\" to \"must be\".", "author": "helyarp", "createdAt": "2020-01-15T19:36:38Z", "path": "dev/com.ibm.ws.security.social/resources/com/ibm/ws/security/social/resources/SocialMessages.nlsprops", "diffHunk": "@@ -94,6 +94,31 @@ KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND=CWWKS5381W: The social\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.explanation=The user API response does not contain a key that corresponds to the value of the configuration attribute that is specified in the message. The social login feature attempts to use a different key instead.\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.useraction=Verify that the configuration attribute that is specified in the message is configured correctly. Ensure that the value of the configuration attribute corresponds to the entry in the user API response that should be used as the username.\n \n+# 0=Exception message\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT=CWWKS5382E: The response from the service account user API cannot be processed: {0}\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.explanation=Information about the service account cannot be obtained because another error occurred.\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.useraction=If the message contains another error message, see the user action for that message. Otherwise, check the server logs for more error messages that might indicate where the other error occurred.\n+\n+# 0=HTTP response code, 1=Response body\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS=CWWKS5383E: The service account user API returned an unexpected [{0}] response code. Verify that the request to the API contains all of the required information and that the service account token is valid. The response from the API is [{1}].\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.explanation=The service account user API did not return the expected status code.\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.useraction=Check the API response that is in the error message for more information. Verify that the request to the API contains all of the required information. Ensure that the service account token is valid.\n+\n+# 0=Response string, 1=Exception message\n+RESPONSE_NOT_JSON=CWWKS5384E: The content of the response is not a valid JSON object. The full response is {0}. {1}\n+RESPONSE_NOT_JSON.explanation=The response is expected to be a valid JSON object.", "originalCommit": "bb095eb3660b4c59a4f6a2de16da88151411655f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2ODI1MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10438#discussion_r367068250", "bodyText": "Please change \"is expected to be\" to \"must be\".", "author": "helyarp", "createdAt": "2020-01-15T19:37:43Z", "path": "dev/com.ibm.ws.security.social/resources/com/ibm/ws/security/social/resources/SocialMessages.nlsprops", "diffHunk": "@@ -94,6 +94,31 @@ KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND=CWWKS5381W: The social\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.explanation=The user API response does not contain a key that corresponds to the value of the configuration attribute that is specified in the message. The social login feature attempts to use a different key instead.\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.useraction=Verify that the configuration attribute that is specified in the message is configured correctly. Ensure that the value of the configuration attribute corresponds to the entry in the user API response that should be used as the username.\n \n+# 0=Exception message\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT=CWWKS5382E: The response from the service account user API cannot be processed: {0}\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.explanation=Information about the service account cannot be obtained because another error occurred.\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.useraction=If the message contains another error message, see the user action for that message. Otherwise, check the server logs for more error messages that might indicate where the other error occurred.\n+\n+# 0=HTTP response code, 1=Response body\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS=CWWKS5383E: The service account user API returned an unexpected [{0}] response code. Verify that the request to the API contains all of the required information and that the service account token is valid. The response from the API is [{1}].\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.explanation=The service account user API did not return the expected status code.\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.useraction=Check the API response that is in the error message for more information. Verify that the request to the API contains all of the required information. Ensure that the service account token is valid.\n+\n+# 0=Response string, 1=Exception message\n+RESPONSE_NOT_JSON=CWWKS5384E: The content of the response is not a valid JSON object. The full response is {0}. {1}\n+RESPONSE_NOT_JSON.explanation=The response is expected to be a valid JSON object.\n+RESPONSE_NOT_JSON.useraction=Verify that request was sent to the expected target. Ensure that the intended target of the request is capable of returning JSON data. Check the response to see whether more information is included.\n+\n+# 0=JSON key string, 1=Response string\n+JSON_MISSING_KEY=CWWKS5385E: The JSON object that is provided is missing an expected key: [{0}]. The full JSON object is [{1}].\n+JSON_MISSING_KEY.explanation=The key that is specified in the message is expected to be within the JSON data. The key might be missing, or it might be in an unexpected location.", "originalCommit": "bb095eb3660b4c59a4f6a2de16da88151411655f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA2OTM0MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10438#discussion_r367069341", "bodyText": "Please change \"The value for the key [{0}] in the JSON data is expected to be of type {1}\" to \"The value for the [{0}] key in the JSON data must be of type {1}\"", "author": "helyarp", "createdAt": "2020-01-15T19:39:57Z", "path": "dev/com.ibm.ws.security.social/resources/com/ibm/ws/security/social/resources/SocialMessages.nlsprops", "diffHunk": "@@ -94,6 +94,31 @@ KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND=CWWKS5381W: The social\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.explanation=The user API response does not contain a key that corresponds to the value of the configuration attribute that is specified in the message. The social login feature attempts to use a different key instead.\n KUBERNETES_USER_API_RESPONSE_DEFAULT_USER_ATTR_NOT_FOUND.useraction=Verify that the configuration attribute that is specified in the message is configured correctly. Ensure that the value of the configuration attribute corresponds to the entry in the user API response that should be used as the username.\n \n+# 0=Exception message\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT=CWWKS5382E: The response from the service account user API cannot be processed: {0}\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.explanation=Information about the service account cannot be obtained because another error occurred.\n+ERROR_INTROSPECTING_SERVICE_ACCOUNT.useraction=If the message contains another error message, see the user action for that message. Otherwise, check the server logs for more error messages that might indicate where the other error occurred.\n+\n+# 0=HTTP response code, 1=Response body\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS=CWWKS5383E: The service account user API returned an unexpected [{0}] response code. Verify that the request to the API contains all of the required information and that the service account token is valid. The response from the API is [{1}].\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.explanation=The service account user API did not return the expected status code.\n+SERVICE_ACCOUNT_USER_API_BAD_STATUS.useraction=Check the API response that is in the error message for more information. Verify that the request to the API contains all of the required information. Ensure that the service account token is valid.\n+\n+# 0=Response string, 1=Exception message\n+RESPONSE_NOT_JSON=CWWKS5384E: The content of the response is not a valid JSON object. The full response is {0}. {1}\n+RESPONSE_NOT_JSON.explanation=The response is expected to be a valid JSON object.\n+RESPONSE_NOT_JSON.useraction=Verify that request was sent to the expected target. Ensure that the intended target of the request is capable of returning JSON data. Check the response to see whether more information is included.\n+\n+# 0=JSON key string, 1=Response string\n+JSON_MISSING_KEY=CWWKS5385E: The JSON object that is provided is missing an expected key: [{0}]. The full JSON object is [{1}].\n+JSON_MISSING_KEY.explanation=The key that is specified in the message is expected to be within the JSON data. The key might be missing, or it might be in an unexpected location.\n+JSON_MISSING_KEY.useraction=Check the JSON data to determine whether the key is missing.\n+\n+# 0=JSON key string, 1=JSON value type, for example, object, string, number, and so on, 2=JSON value type, 3=JSON data\n+JSON_ENTRY_WRONG_JSON_TYPE=CWWKS5386E: The value for the key [{0}] in the JSON data is expected to be of type {1}, but the value is of type {2}. The JSON data is [{3}].", "originalCommit": "bb095eb3660b4c59a4f6a2de16da88151411655f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "010a75c8a3001eb3bf5f6e0badb65c95a1620cd4", "url": "https://github.com/OpenLiberty/open-liberty/commit/010a75c8a3001eb3bf5f6e0badb65c95a1620cd4", "message": "NLS message updates", "committedDate": "2020-01-15T21:28:17Z", "type": "commit"}]}