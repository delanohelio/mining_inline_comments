{"pr_number": 13043, "pr_title": "Initial MpHealth-3.0 feature delivery", "pr_createdAt": "2020-07-15T16:11:41Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13043", "timeline": [{"oid": "95e768ab97a17a2a573e95afd3252a6a82a6521b", "url": "https://github.com/OpenLiberty/open-liberty/commit/95e768ab97a17a2a573e95afd3252a6a82a6521b", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-15T16:00:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMDU3MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r455900571", "bodyText": "MicroProfile 4.0 features should only depend on other 4.0 features ... in this case, please change this dependency to mpConfig-2.0", "author": "tevans78", "createdAt": "2020-07-16T16:05:39Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/mpHealth-3.0/io.openliberty.mpHealth-3.0.feature", "diffHunk": "@@ -0,0 +1,28 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.mpHealth-3.0\n+visibility=public\n+singleton=true\n+IBM-App-ForceRestart: install, \\\n+ uninstall\n+IBM-API-Package: \\\n+  org.eclipse.microprofile.health;  type=\"stable\", \\\n+  org.eclipse.microprofile.health.spi;  type=\"stable\"\n+IBM-ShortName: mpHealth-3.0\n+Subsystem-Name: MicroProfile Health 3.0\n+-features=io.openliberty.org.eclipse.microprofile.health-3.0, \\\n+ com.ibm.websphere.appserver.cdi-2.0,\\\n+ com.ibm.websphere.appserver.classloaderContext-1.0, \\\n+ com.ibm.websphere.appserver.contextService-1.0, \\\n+ com.ibm.websphere.appserver.jndi-1.0, \\\n+ com.ibm.websphere.appserver.json-1.0, \\\n+ com.ibm.websphere.appserver.servlet-4.0,\\\n+ com.ibm.websphere.appserver.mpConfig-1.4; ibm.tolerates:=1.3,\\", "originalCommit": "95e768ab97a17a2a573e95afd3252a6a82a6521b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY0NDExMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r457644110", "bodyText": "Updated to use mpConfig-2.0.", "author": "pgunapal", "createdAt": "2020-07-20T19:33:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMDU3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMTkyNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r455901924", "bodyText": "My German might not be perfect but this text does not look the same as the english? I think the same applies to the other translated files here.", "author": "tevans78", "createdAt": "2020-07-16T16:07:43Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/mpHealth-3.0/resources/l10n/io.openliberty.mpHealth-3.0_de.properties", "diffHunk": "@@ -0,0 +1,17 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#\n+#ISMESSAGEFILE FALSE\n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#\n+\n+description=Dieses Feature stellt Unterst\\u00fctzung f\\u00fcr MicroProfile Health API f\\u00fcr Java EE (Java Platform, Enterprise Edition) bereit.", "originalCommit": "95e768ab97a17a2a573e95afd3252a6a82a6521b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY0NDUzMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r457644532", "bodyText": "I removed all the translated files and only kept the English file, so it can get translated again properly.", "author": "pgunapal", "createdAt": "2020-07-20T19:34:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMTkyNA=="}], "type": "inlineReview"}, {"oid": "c9349649eab4c046590b9fb9f7e865a7da801434", "url": "https://github.com/OpenLiberty/open-liberty/commit/c9349649eab4c046590b9fb9f7e865a7da801434", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-20T19:32:32Z", "type": "forcePushed"}, {"oid": "4f77549c98992d78271b740f4a3fa02355e5640c", "url": "https://github.com/OpenLiberty/open-liberty/commit/4f77549c98992d78271b740f4a3fa02355e5640c", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-20T23:17:05Z", "type": "forcePushed"}, {"oid": "b730fad4b13b89be26a4400737093428a2984015", "url": "https://github.com/OpenLiberty/open-liberty/commit/b730fad4b13b89be26a4400737093428a2984015", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-21T13:59:44Z", "type": "forcePushed"}, {"oid": "5587ec51424d8a55595fa3682d09e2fe18d07779", "url": "https://github.com/OpenLiberty/open-liberty/commit/5587ec51424d8a55595fa3682d09e2fe18d07779", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-22T03:27:57Z", "type": "forcePushed"}, {"oid": "58e3e8f986ed142814ca6a41963e38b4bdff2057", "url": "https://github.com/OpenLiberty/open-liberty/commit/58e3e8f986ed142814ca6a41963e38b4bdff2057", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-22T14:16:55Z", "type": "forcePushed"}, {"oid": "bafe26c829c739e6b075078e7b649476fdc13785", "url": "https://github.com/OpenLiberty/open-liberty/commit/bafe26c829c739e6b075078e7b649476fdc13785", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-22T14:22:31Z", "type": "forcePushed"}, {"oid": "486f962db8527ecc0eb47f870cd41bb61bf18411", "url": "https://github.com/OpenLiberty/open-liberty/commit/486f962db8527ecc0eb47f870cd41bb61bf18411", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-23T15:15:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI2Mjk4Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r460262987", "bodyText": "Should this use io.openliberty.", "author": "fmhwong", "createdAt": "2020-07-24T20:04:29Z", "path": "dev/io.openliberty.microprofile.health.3.0.internal_fat_tck/publish/tckRunner/pom.xml", "diffHunk": "@@ -0,0 +1,71 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+    Copyright (c) 2020 IBM Corporation and others. All rights reserved.\n+    This program and the accompanying materials are made available under the \n+    terms of the Eclipse Public License v1.0 which accompanies this distribution, \n+    and is available at \n+        http://www.eclipse.org/legal/epl-v10.html \n+    Contributors: \n+        IBM Corporation - initial API and implementation\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\t<modelVersion>4.0.0</modelVersion>\n+\n+    <groupId>com.ibm.ws.microprofile.health.3.0</groupId>", "originalCommit": "486f962db8527ecc0eb47f870cd41bb61bf18411", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI2MzI4MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r460263281", "bodyText": "Should this use io.openliberty?", "author": "fmhwong", "createdAt": "2020-07-24T20:05:06Z", "path": "dev/io.openliberty.microprofile.health.3.0.internal_fat_tck/publish/tckRunner/tck/pom.xml", "diffHunk": "@@ -0,0 +1,172 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- \n+    Copyright (c) 2020 IBM Corporation and others. All rights reserved.\n+    This program and the accompanying materials are made available under the \n+    terms of the Eclipse Public License v1.0 which accompanies this distribution, \n+    and is available at \n+        http://www.eclipse.org/legal/epl-v10.html \n+    Contributors: \n+        IBM Corporation - initial API and implementation\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <groupId>com.ibm.ws.microprofile.health.3.0</groupId>", "originalCommit": "486f962db8527ecc0eb47f870cd41bb61bf18411", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI2NDMwNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r460264307", "bodyText": "This actually sleeps for 65 seconds.  It doesn't match the println above and the comment on the right.", "author": "fmhwong", "createdAt": "2020-07-24T20:07:49Z", "path": "dev/io.openliberty.microprofile.health.3.0.internal_fat/test-applications/DelayedHealthCheckApp/src/io/openliberty/microprofile/health30/delayed/health/check/app/DelayedServlet.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package io.openliberty.microprofile.health30.delayed.health.check.app;\n+\n+import java.io.IOException;\n+\n+import javax.servlet.ServletException;\n+import javax.servlet.http.HttpServlet;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+/**\n+ *\n+ */\n+public class DelayedServlet extends HttpServlet {\n+    private static final long serialVersionUID = 1L;\n+\n+    /**\n+     * @see HttpServlet#HttpServlet()\n+     */\n+    public DelayedServlet() {\n+        super();\n+        // TODO Auto-generated constructor stub\n+    }\n+\n+    @Override\n+    public void init() {\n+        System.out.println(\"Entering init function - Starting Thread.sleep for 30 seconds.\");\n+        try {\n+            Thread.sleep(65000); //30 seconds = 30000 ms", "originalCommit": "486f962db8527ecc0eb47f870cd41bb61bf18411", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI2NTA3Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r460265073", "bodyText": "2020?", "author": "fmhwong", "createdAt": "2020-07-24T20:09:47Z", "path": "dev/io.openliberty.microprofile.health.3.0.internal/src/io/openliberty/microprofile/health30/internal/servlet/HealthCheckReadinessServlet.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*******************************************************************************\n+ * Copyright (c) 2019 IBM Corporation and others.", "originalCommit": "486f962db8527ecc0eb47f870cd41bb61bf18411", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDI2NTIxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13043#discussion_r460265217", "bodyText": "2020?", "author": "fmhwong", "createdAt": "2020-07-24T20:10:05Z", "path": "dev/io.openliberty.microprofile.health.3.0.internal/src/io/openliberty/microprofile/health30/internal/servlet/package-info.java", "diffHunk": "@@ -0,0 +1,18 @@\n+/*******************************************************************************\n+ * Copyright (c) 2019, 2020 IBM Corporation and others.", "originalCommit": "486f962db8527ecc0eb47f870cd41bb61bf18411", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "876a77c553e3f12b121cf676df6c616947f20e3d", "url": "https://github.com/OpenLiberty/open-liberty/commit/876a77c553e3f12b121cf676df6c616947f20e3d", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-26T17:17:46Z", "type": "commit"}, {"oid": "876a77c553e3f12b121cf676df6c616947f20e3d", "url": "https://github.com/OpenLiberty/open-liberty/commit/876a77c553e3f12b121cf676df6c616947f20e3d", "message": "Initial MpHealth-3.0 feature delivery", "committedDate": "2020-07-26T17:17:46Z", "type": "forcePushed"}]}