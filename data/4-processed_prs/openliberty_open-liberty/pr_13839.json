{"pr_number": 13839, "pr_title": "Create Jakarta faces-3.0 Feature", "pr_createdAt": "2020-09-08T21:08:33Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13839", "timeline": [{"oid": "eaacd37215845837e40d6485f28ec583f76a5755", "url": "https://github.com/OpenLiberty/open-liberty/commit/eaacd37215845837e40d6485f28ec583f76a5755", "message": "Create JSF Liberty Features", "committedDate": "2020-09-08T21:29:43Z", "type": "forcePushed"}, {"oid": "77b88fcaadf928bc8d8cad1ebe045bffd0ee75c2", "url": "https://github.com/OpenLiberty/open-liberty/commit/77b88fcaadf928bc8d8cad1ebe045bffd0ee75c2", "message": "Create JSF Liberty Features", "committedDate": "2020-09-08T21:36:59Z", "type": "forcePushed"}, {"oid": "1655251eb9966f86715c391f32bcc165d23e7c20", "url": "https://github.com/OpenLiberty/open-liberty/commit/1655251eb9966f86715c391f32bcc165d23e7c20", "message": "Create JSF Liberty Features", "committedDate": "2020-09-08T21:42:23Z", "type": "forcePushed"}, {"oid": "a16b5f86a5b5fdaea7d18f2f9f1e335dfc656caa", "url": "https://github.com/OpenLiberty/open-liberty/commit/a16b5f86a5b5fdaea7d18f2f9f1e335dfc656caa", "message": "Create JSF Liberty Features", "committedDate": "2020-09-08T21:51:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0ODQ2MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485248460", "bodyText": "You updated the other copyright dates since we moved this existing class to a new bundle but didn't update it here.", "author": "pnicolucci", "createdAt": "2020-09-08T23:24:09Z", "path": "dev/io.openliberty.com.ibm.ws.jsf/src/com/ibm/ws/jsf/cdi/package-info.java", "diffHunk": "@@ -0,0 +1,15 @@\n+/*******************************************************************************\n+ * Copyright (c) 2017 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials", "originalCommit": "a16b5f86a5b5fdaea7d18f2f9f1e335dfc656caa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0ODgwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485248800", "bodyText": "Should we also add a 2020 date here?", "author": "pnicolucci", "createdAt": "2020-09-08T23:25:17Z", "path": "dev/io.openliberty.com.ibm.ws.jsf/src/com/ibm/ws/jsf/config/annotation/package-info.java", "diffHunk": "@@ -0,0 +1,15 @@\n+/*******************************************************************************\n+ * Copyright (c) 2017 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials", "originalCommit": "a16b5f86a5b5fdaea7d18f2f9f1e335dfc656caa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0ODgyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485248822", "bodyText": "Same comment on copyright date", "author": "pnicolucci", "createdAt": "2020-09-08T23:25:21Z", "path": "dev/io.openliberty.com.ibm.ws.jsf/src/com/ibm/ws/jsf/config/resource/package-info.java", "diffHunk": "@@ -0,0 +1,15 @@\n+/*******************************************************************************\n+ * Copyright (c) 2017 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials", "originalCommit": "a16b5f86a5b5fdaea7d18f2f9f1e335dfc656caa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1MDI4NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485250285", "bodyText": "same copyright comment", "author": "pnicolucci", "createdAt": "2020-09-08T23:30:09Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/src/com/ibm/ws/jsf/taglibconfig/package-info.java", "diffHunk": "@@ -0,0 +1,15 @@\n+/*******************************************************************************\n+ * Copyright (c) 2017 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials", "originalCommit": "a16b5f86a5b5fdaea7d18f2f9f1e335dfc656caa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU5NDc1OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485594758", "bodyText": "changed to 2017, 2020", "author": "volosied", "createdAt": "2020-09-09T13:05:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI1MDI4NQ=="}], "type": "inlineReview"}, {"oid": "7c2b67857419bb9b613b7f3f0106d95271f364d0", "url": "https://github.com/OpenLiberty/open-liberty/commit/7c2b67857419bb9b613b7f3f0106d95271f364d0", "message": "Create JSF Liberty Features", "committedDate": "2020-09-09T01:07:58Z", "type": "forcePushed"}, {"oid": "c1842acbbcffc43a9e50afd6df99e376961fb977", "url": "https://github.com/OpenLiberty/open-liberty/commit/c1842acbbcffc43a9e50afd6df99e376961fb977", "message": "Create JSF Liberty Features", "committedDate": "2020-09-09T01:30:54Z", "type": "forcePushed"}, {"oid": "210dbce3ee1c725143ccc8e9083af00086664f14", "url": "https://github.com/OpenLiberty/open-liberty/commit/210dbce3ee1c725143ccc8e9083af00086664f14", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-09T01:48:38Z", "type": "forcePushed"}, {"oid": "b1d5bd0431153038e7839373c8660fb84c5e2d8f", "url": "https://github.com/OpenLiberty/open-liberty/commit/b1d5bd0431153038e7839373c8660fb84c5e2d8f", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-09T02:02:44Z", "type": "forcePushed"}, {"oid": "bca03b4174b9a90888a88b9f4af6a040c2d8fdd4", "url": "https://github.com/OpenLiberty/open-liberty/commit/bca03b4174b9a90888a88b9f4af6a040c2d8fdd4", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-09T03:21:20Z", "type": "forcePushed"}, {"oid": "3eb81acf34e8d8f98059d77923dca4b33e37891e", "url": "https://github.com/OpenLiberty/open-liberty/commit/3eb81acf34e8d8f98059d77923dca4b33e37891e", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-09T03:31:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNTE4MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485435180", "bodyText": "watch out, you have a typo in the file name", "author": "tevans78", "createdAt": "2020-09-09T08:33:43Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/com0.ibm.websphere.appserver.jsf.beanValidation-2.3.feature", "diffHunk": "@@ -0,0 +1,10 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "3eb81acf34e8d8f98059d77923dca4b33e37891e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNjI1Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485436256", "bodyText": "oh, is the 0 somehow intentional? i see the other auto features have similar?", "author": "tevans78", "createdAt": "2020-09-09T08:35:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNTE4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNzQ0Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485437443", "bodyText": "however, new features should be named soemthing like io.openliberty.jsf2.3-beanValidation2.0", "author": "tevans78", "createdAt": "2020-09-09T08:37:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNTE4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU4MzU3OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485583578", "bodyText": "Removed these files since they were included by accident. New feature will be named io.openliberty.faces3.0-beanValidation3.0.feature", "author": "volosied", "createdAt": "2020-09-09T12:48:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNTE4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzNTU0Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485435542", "bodyText": "definely do not create new features as ga ... always start with noship", "author": "tevans78", "createdAt": "2020-09-09T08:34:18Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/com0.ibm.websphere.appserver.jsf.beanValidation-2.3.feature", "diffHunk": "@@ -0,0 +1,10 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=com.ibm.websphere.appserver.jsf.beanValidation-2.3\n+IBM-App-ForceRestart: install, \\\n+ uninstall\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.jsf-2.3))\", \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.beanValidation-2.0))\"\n+IBM-Install-Policy: when-satisfied\n+-bundles=com.ibm.ws.jsf.beanvalidation\n+kind=ga", "originalCommit": "3eb81acf34e8d8f98059d77923dca4b33e37891e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzOTQ3Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485439476", "bodyText": "is this version correct?", "author": "tevans78", "createdAt": "2020-09-09T08:40:16Z", "path": "dev/io.openliberty.faces.internal/bnd.bnd", "diffHunk": "@@ -0,0 +1,98 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-Name: JSF Liberty Integration\n+Bundle-SymbolicName: io.openliberty.faces.internal\n+Implementation-Version: 2.3.6", "originalCommit": "3eb81acf34e8d8f98059d77923dca4b33e37891e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU5MTYxNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485591616", "bodyText": "Sort of. I'm not sure how to name this bundle because I can't can't just rename the javax imports to jakarta because some of the methods WebContainer.  Those WebContainer methods use javax.servlet.* classes because of the interfaces they implement.\nInstead, I use the 2.3.6 project on the build path  and then transform this bundle.  It's not used by the 2.3. feature, but the faces 3.0 feature uses these IBM classes from the 2.3 bundle.  I'm talking to Paul about possibly having the jsf 2.3 and jsf 3.0 features using this as a shared bundle.", "author": "volosied", "createdAt": "2020-09-09T13:00:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzOTQ3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMTExOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487021119", "bodyText": "We should get an issue opened so that we can investigate sharing this with the 2.3 project so this is a bit less confusing. As it stands it is a bit hacky since this isn't shared across features currently but there isn't another good way to do this as we've discussed.", "author": "pnicolucci", "createdAt": "2020-09-11T12:47:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzOTQ3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0NTE1Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490545156", "bodyText": "#13891", "author": "volosied", "createdAt": "2020-09-17T20:32:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzOTQ3Ng=="}], "type": "inlineReview"}, {"oid": "bfa0565ebea72a39a4b9d5d545e27b4272080214", "url": "https://github.com/OpenLiberty/open-liberty/commit/bfa0565ebea72a39a4b9d5d545e27b4272080214", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-09T12:44:35Z", "type": "forcePushed"}, {"oid": "95cba3cf3e13226ca8b89136e294116aba251374", "url": "https://github.com/OpenLiberty/open-liberty/commit/95cba3cf3e13226ca8b89136e294116aba251374", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-09T13:04:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MTEzNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485761137", "bodyText": "should this be io.openliberty.faces.internal?", "author": "pnicolucci", "createdAt": "2020-09-09T16:39:50Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,128 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.org.apache.myfaces.3.0\n+\n+-fixupmessages.missingexport: \"Used bundle version * for exported package\";is:=ignore\n+\n+instrument.ffdc: false\n+instrument.classesExcludes: \\\n+  org/**/*.class\n+\n+\n+Service-Component: \\\n+  com.ibm.ws.faces_3_0.taglib; \\\n+    implementation:=com.ibm.ws.faces.taglibconfig.FacesGlobalTagLibConfig; \\\n+    provide:='com.ibm.wsspi.jsp.taglib.config.GlobalTagLibConfig'; \\\n+    properties:=\"service.vendor=IBM\", \\\n+\n+Include-Resource: \\\n+  @${repo;org.apache.myfaces.core.impl;3.0.0.RC1;EXACT}!/META-INF/**, \\\n+  @${repo;io.openliberty.jakarta.faces.3.0}!/META-INF/resources/**, \\\n+  @${repo;io.openliberty.jakarta.faces.3.0}!/META-INF/internal-resources/**, \\\n+  META-INF=@src/META-INF\n+\n+DynamicImport-Package: \\\n+  com.ibm.ws.jsf.cdi, \\\n+  com.ibm.ws.jsf.config.annotion,\\\n+  com.ibm.ws.jsf.config.resource,\\\n+  com.ibm.ws.jsf.ee, \\\n+  com.ibm.ws.jsf.spi.impl, \\\n+  com.ibm.ws.jsf.extprocessor\n+\n+\n+# Don't export the org.apache.myfaces.buildtools package as that is only needed for compilation.  The jar that contains the\n+# org.apache.myfaces.buildtools package is myfaces-builder-annotations-1.0.9.jar\n+# Additionally, a subset of these org.apache.myfaces packages are exported by the thirdparty.faces-3.0 bundle - so we exclude them here.\n+Export-Package: \\\n+  !org.apache.myfaces.buildtools.*, \\\n+  !org.apache.myfaces.renderkit.html, \\\n+  !org.apache.myfaces.shared.config, \\\n+  !org.apache.myfaces.shared.renderkit, \\\n+  !org.apache.myfaces.shared.renderkit.html, \\\n+  !org.apache.myfaces.shared.renderkit.html.util, \\\n+  com.ibm.ws.faces.taglibconfig, \\\n+  org.apache.myfaces.application;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.application.viewstate;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.cdi.model;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.cdi.view;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.cdi.util;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.component;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.component.search;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.component.visit;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.context;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.context.servlet;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.config.annotation;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.config.impl.digester.elements;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.flow;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.flow.cdi;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.lifecycle;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.push.cdi;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.renderkit;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.context.flash;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.taglib;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.taglib.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.util;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.spi.impl;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.taglib.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.taglib.html;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.compiler;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.component;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.el;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.impl;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.pool;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.pool.impl;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.composite;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jsf;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jsf.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jsf.html;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jstl.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jstl.fn;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.ui;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.util;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.webapp;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.*;version=3.0.0\n+\n+# Import everything we need except for the below exclusions that will not be needed at runtime.\n+Import-Package: \\\n+  !com.ibm.ws.jsf.ee, \\\n+  !com.google.inject, \\\n+  !jakarta.ejb, \\\n+  !jakarta.persistence, \\\n+  !org.apache.tomcat, \\\n+  *\n+\n+-buildpath: \\\n+  org.apache.myfaces.core:myfaces-impl;version=3.0.0,\\\n+  io.openliberty.jakarta.faces.3.0;version=latest,\\\n+  com.ibm.ws.classloading;version=latest,\\\n+  com.ibm.ws.webcontainer;version=latest,\\\n+  com.ibm.ws.serialization;version=latest,\\\n+  com.ibm.ws.container.service;version=latest,\\\n+  com.ibm.ws.adaptable.module;version=latest,\\\n+  com.ibm.ws.anno;version=latest,\\\n+  com.ibm.ws.managedobject;version=latest,\\\n+  com.ibm.ws.jsp;version=latest,\\\n+  io.openliberty.jakarta.el.4.0;version=latest,\\\n+\tio.openliberty.jakarta.servlet.5.0;version=latest, \\\n+  io.openliberty.jakarta.cdi.3.0;version=latest,\\\n+  com.ibm.ws.logging.core,\\\n+  com.ibm.websphere.appserver.spi.kernel.service,\\\n+  com.ibm.websphere.org.osgi.core;version=latest,\\\n+  com.ibm.websphere.org.osgi.service.component;version=latest,\\\n+  com.ibm.ws.org.osgi.annotation.versioning;version=latest,\\\n+  org.apache.myfaces.buildtools:myfaces-builder-annotations;version=1.0.9\n+  io.openliberty.com.ibm.ws.jsf;version=latest", "originalCommit": "95cba3cf3e13226ca8b89136e294116aba251374", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MTQ5Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485761492", "bodyText": "Can you clean up the formatting here as well?", "author": "pnicolucci", "createdAt": "2020-09-09T16:40:14Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,128 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.org.apache.myfaces.3.0\n+\n+-fixupmessages.missingexport: \"Used bundle version * for exported package\";is:=ignore\n+\n+instrument.ffdc: false\n+instrument.classesExcludes: \\\n+  org/**/*.class\n+\n+\n+Service-Component: \\\n+  com.ibm.ws.faces_3_0.taglib; \\\n+    implementation:=com.ibm.ws.faces.taglibconfig.FacesGlobalTagLibConfig; \\\n+    provide:='com.ibm.wsspi.jsp.taglib.config.GlobalTagLibConfig'; \\\n+    properties:=\"service.vendor=IBM\", \\\n+\n+Include-Resource: \\\n+  @${repo;org.apache.myfaces.core.impl;3.0.0.RC1;EXACT}!/META-INF/**, \\\n+  @${repo;io.openliberty.jakarta.faces.3.0}!/META-INF/resources/**, \\\n+  @${repo;io.openliberty.jakarta.faces.3.0}!/META-INF/internal-resources/**, \\\n+  META-INF=@src/META-INF\n+\n+DynamicImport-Package: \\\n+  com.ibm.ws.jsf.cdi, \\\n+  com.ibm.ws.jsf.config.annotion,\\\n+  com.ibm.ws.jsf.config.resource,\\\n+  com.ibm.ws.jsf.ee, \\\n+  com.ibm.ws.jsf.spi.impl, \\\n+  com.ibm.ws.jsf.extprocessor\n+\n+\n+# Don't export the org.apache.myfaces.buildtools package as that is only needed for compilation.  The jar that contains the\n+# org.apache.myfaces.buildtools package is myfaces-builder-annotations-1.0.9.jar\n+# Additionally, a subset of these org.apache.myfaces packages are exported by the thirdparty.faces-3.0 bundle - so we exclude them here.\n+Export-Package: \\\n+  !org.apache.myfaces.buildtools.*, \\\n+  !org.apache.myfaces.renderkit.html, \\\n+  !org.apache.myfaces.shared.config, \\\n+  !org.apache.myfaces.shared.renderkit, \\\n+  !org.apache.myfaces.shared.renderkit.html, \\\n+  !org.apache.myfaces.shared.renderkit.html.util, \\\n+  com.ibm.ws.faces.taglibconfig, \\\n+  org.apache.myfaces.application;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.application.viewstate;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.cdi.model;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.cdi.view;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.cdi.util;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.component;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.component.search;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.component.visit;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.context;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.context.servlet;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.config.annotation;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.config.impl.digester.elements;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.flow;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.flow.cdi;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.lifecycle;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.push.cdi;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.renderkit;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.context.flash;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.taglib;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.taglib.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.shared.util;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.spi.impl;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.taglib.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.taglib.html;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.compiler;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.component;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.el;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.impl;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.pool;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.pool.impl;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.composite;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jsf;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jsf.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jsf.html;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jstl.core;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.jstl.fn;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.tag.ui;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.view.facelets.util;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.webapp;thread-context=true;version=3.0.0, \\\n+  org.apache.myfaces.*;version=3.0.0\n+\n+# Import everything we need except for the below exclusions that will not be needed at runtime.\n+Import-Package: \\\n+  !com.ibm.ws.jsf.ee, \\\n+  !com.google.inject, \\\n+  !jakarta.ejb, \\\n+  !jakarta.persistence, \\\n+  !org.apache.tomcat, \\\n+  *\n+\n+-buildpath: \\\n+  org.apache.myfaces.core:myfaces-impl;version=3.0.0,\\\n+  io.openliberty.jakarta.faces.3.0;version=latest,\\\n+  com.ibm.ws.classloading;version=latest,\\\n+  com.ibm.ws.webcontainer;version=latest,\\\n+  com.ibm.ws.serialization;version=latest,\\\n+  com.ibm.ws.container.service;version=latest,\\\n+  com.ibm.ws.adaptable.module;version=latest,\\\n+  com.ibm.ws.anno;version=latest,\\\n+  com.ibm.ws.managedobject;version=latest,\\\n+  com.ibm.ws.jsp;version=latest,\\\n+  io.openliberty.jakarta.el.4.0;version=latest,\\\n+\tio.openliberty.jakarta.servlet.5.0;version=latest, \\", "originalCommit": "95cba3cf3e13226ca8b89136e294116aba251374", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM1MTk0Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r486351946", "bodyText": "will do", "author": "volosied", "createdAt": "2020-09-10T13:45:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MTQ5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MjE2NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r485762165", "bodyText": "It would be nice to define an implementation version variable here for the export version so when we upgrade to the newer version we only have to change it in one spot.", "author": "pnicolucci", "createdAt": "2020-09-09T16:41:02Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,128 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.org.apache.myfaces.3.0\n+\n+-fixupmessages.missingexport: \"Used bundle version * for exported package\";is:=ignore\n+\n+instrument.ffdc: false\n+instrument.classesExcludes: \\\n+  org/**/*.class\n+\n+\n+Service-Component: \\\n+  com.ibm.ws.faces_3_0.taglib; \\\n+    implementation:=com.ibm.ws.faces.taglibconfig.FacesGlobalTagLibConfig; \\\n+    provide:='com.ibm.wsspi.jsp.taglib.config.GlobalTagLibConfig'; \\\n+    properties:=\"service.vendor=IBM\", \\\n+\n+Include-Resource: \\\n+  @${repo;org.apache.myfaces.core.impl;3.0.0.RC1;EXACT}!/META-INF/**, \\\n+  @${repo;io.openliberty.jakarta.faces.3.0}!/META-INF/resources/**, \\\n+  @${repo;io.openliberty.jakarta.faces.3.0}!/META-INF/internal-resources/**, \\\n+  META-INF=@src/META-INF\n+\n+DynamicImport-Package: \\\n+  com.ibm.ws.jsf.cdi, \\\n+  com.ibm.ws.jsf.config.annotion,\\\n+  com.ibm.ws.jsf.config.resource,\\\n+  com.ibm.ws.jsf.ee, \\\n+  com.ibm.ws.jsf.spi.impl, \\\n+  com.ibm.ws.jsf.extprocessor\n+\n+\n+# Don't export the org.apache.myfaces.buildtools package as that is only needed for compilation.  The jar that contains the\n+# org.apache.myfaces.buildtools package is myfaces-builder-annotations-1.0.9.jar\n+# Additionally, a subset of these org.apache.myfaces packages are exported by the thirdparty.faces-3.0 bundle - so we exclude them here.\n+Export-Package: \\\n+  !org.apache.myfaces.buildtools.*, \\\n+  !org.apache.myfaces.renderkit.html, \\\n+  !org.apache.myfaces.shared.config, \\\n+  !org.apache.myfaces.shared.renderkit, \\\n+  !org.apache.myfaces.shared.renderkit.html, \\\n+  !org.apache.myfaces.shared.renderkit.html.util, \\\n+  com.ibm.ws.faces.taglibconfig, \\\n+  org.apache.myfaces.application;thread-context=true;version=3.0.0, \\", "originalCommit": "95cba3cf3e13226ca8b89136e294116aba251374", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM1MTc0Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r486351743", "bodyText": "I agree. However, I ran into an issue where imports/exports didn't match because of 3.0.0 / 3.0.0-RC1 versioning. That mismatch cause some problems for me. I can test again, however. Once we are on a final version, I can switch it over to use an implementation version variable.", "author": "volosied", "createdAt": "2020-09-10T13:45:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MjE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM3MzE5Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r486373197", "bodyText": "I can just make two variables as a workaround.", "author": "volosied", "createdAt": "2020-09-10T14:07:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MjE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEyNDkzMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487124932", "bodyText": "#13889", "author": "volosied", "createdAt": "2020-09-11T15:33:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MjE2NQ=="}], "type": "inlineReview"}, {"oid": "7fd96929ff4e007f1e4fd9b34af54c9971cbe540", "url": "https://github.com/OpenLiberty/open-liberty/commit/7fd96929ff4e007f1e4fd9b34af54c9971cbe540", "message": "JSF- > Faces Corrections", "committedDate": "2020-09-10T14:25:22Z", "type": "forcePushed"}, {"oid": "ba17c3eb0cd13661d6e4680976741c7f9e6c5747", "url": "https://github.com/OpenLiberty/open-liberty/commit/ba17c3eb0cd13661d6e4680976741c7f9e6c5747", "message": "Enable EE9 RepeatTests for JSF 2.3 FAT", "committedDate": "2020-09-10T23:24:05Z", "type": "forcePushed"}, {"oid": "98d09590df0a656388342cb8c70c74e0190ba544", "url": "https://github.com/OpenLiberty/open-liberty/commit/98d09590df0a656388342cb8c70c74e0190ba544", "message": "Resolve ClassNotFoundException in JSFContainerApplicationFactoryTest", "committedDate": "2020-09-11T03:55:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxODQ3OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487018479", "bodyText": "If we're skipping this b/c it does not work lets get an issue opened for investigation.", "author": "pnicolucci", "createdAt": "2020-09-11T12:42:51Z", "path": "dev/com.ibm.ws.jsf.2.3_fat/fat/src/com/ibm/ws/jsf23/fat/tests/JSF23ExternalContextStartupShutdownTests.java", "diffHunk": "@@ -67,6 +68,7 @@ public static void tearDown() throws Exception {\n      * @throws Exception\n      */\n     @Test\n+    @SkipForRepeat(SkipForRepeat.EE9_FEATURES)", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA5NDk4MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487094980", "bodyText": "#13888", "author": "volosied", "createdAt": "2020-09-11T14:45:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxODQ3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxODg0NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487018845", "bodyText": "If we're skipping this b/c it does not work lets get an issue opened for investigation so we don't forget about it.", "author": "pnicolucci", "createdAt": "2020-09-11T12:43:32Z", "path": "dev/com.ibm.ws.jsf.2.3_fat/fat/src/com/ibm/ws/jsf23/fat/tests/JSF23JSF22SingletonFeatureTest.java", "diffHunk": "@@ -40,6 +41,7 @@\n  */\n @Mode(TestMode.FULL)\n @RunWith(FATRunner.class)\n+@SkipForRepeat(SkipForRepeat.EE9_FEATURES)", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEwNTAyOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487105028", "bodyText": "#13890", "author": "volosied", "createdAt": "2020-09-11T15:01:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxODg0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxOTAxNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487019014", "bodyText": "Same comment we need to open an issue for investigation", "author": "pnicolucci", "createdAt": "2020-09-11T12:43:53Z", "path": "dev/com.ibm.ws.jsf.2.3_fat/fat/src/com/ibm/ws/jsf23/fat/tests/JSF23ViewParametersTests.java", "diffHunk": "@@ -73,6 +74,7 @@ public static void tearDown() throws Exception {\n      * @throws Exception\n      */\n     @Test\n+    @SkipForRepeat(SkipForRepeat.EE9_FEATURES)", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA5NTE2Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487095167", "bodyText": "#13887", "author": "volosied", "createdAt": "2020-09-11T14:45:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxOTAxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxOTY0OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487019648", "bodyText": "Was this added b/c we we're pulling in the 3.0.0 version without it and the test was failing?", "author": "pnicolucci", "createdAt": "2020-09-11T12:44:58Z", "path": "dev/com.ibm.ws.jsfContainer/bnd.bnd", "diffHunk": "@@ -52,5 +52,5 @@ instrument.disabled: true\n -testpath: \\\n     ../build.sharedResources/lib/junit/old/junit.jar;version=file, \\\n     com.sun.faces:jsf-impl;version=2.2.14, \\\n-    org.apache.myfaces.core:myfaces-impl;version=2.2.12, \\\n+    org.apache.myfaces.core:myfaces-impl;strategy=exact;version=2.2.12, \\", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA5MDAzMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487090032", "bodyText": "Asked in the Jakarta Channel. They said to use exact.\nEXACT - When this strategy is used, the version range must be a single version which is the version which is searched for. If multiple repositories contain the the exact version of the artifact, the artifact from the first repository is used.", "author": "volosied", "createdAt": "2020-09-11T14:38:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAxOTY0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMTc5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487021791", "bodyText": "If we eventually share this we'll want to move this to the faces-3.0 specific bundle. Might be a good idea to just get that over with now so we don't forget about it.", "author": "pnicolucci", "createdAt": "2020-09-11T12:48:53Z", "path": "dev/io.openliberty.faces.internal/bnd.bnd", "diffHunk": "@@ -0,0 +1,94 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-Name: JSF Liberty Integration\n+Bundle-SymbolicName: io.openliberty.faces.internal\n+Implementation-Version: 2.3.6\n+\n+jakartaeeMe: true\n+\n+app-resources= \\\n+  META-INF/services/org.apache.myfaces.config.annotation.LifecycleProviderFactory | \\\n+  META-INF/services/org.apache.myfaces.config.annotation.LifecycleProvider | \\\n+  META-INF/services/org.apache.myfaces.spi.AnnotationProvider | \\\n+  META-INF/services/org.apache.myfaces.spi.InjectionProvider | \\\n+  META-INF/services/org.apache.myfaces.spi.FaceletConfigResourceProvider | \\\n+  META-INF/services/javax.faces.application.ApplicationFactory\n+\n+Include-Resource: \\\n+  META-INF=@src/META-INF\n+\n+# Use javax classse here and transform the files files later\n+# Otherwise, if we use jakarta classes here then the\n+# transformation will causes double imports\n+Service-Component: \\\n+  com.ibm.ws.jsf_3_0; \\\n+    implementation:=com.ibm.ws.jsf.extprocessor.JSFExtensionFactory; \\\n+    provide:='com.ibm.wsspi.webcontainer.extension.ExtensionFactory'; \\\n+    serializationService=com.ibm.ws.serialization.SerializationService; \\\n+    classLoadingService=com.ibm.wsspi.classloading.ClassLoadingService;\\\n+    cdiJSFInitializerService=com.ibm.ws.jsf.shared.cdi.CDIJSFInitializer; \\\n+    greedy:=\"cdiJSFInitializerService\"; \\\n+    optional:=\"cdiJSFInitializerService\"; \\\n+    properties:=\"service.vendor=IBM\", \\\n+  com.ibm.ws.myfaces.initializer; \\\n+    implementation:=com.ibm.ws.jsf.ee.WASMyFacesContainerInitializer; \\\n+    provide:=javax.servlet.ServletContainerInitializer; \\\n+    properties:=\"service.vendor=IBM,service.ranking:Integer=101\", \\\n+  com.ibm.ws.jsf_3_0.injection.class.list.collaborator; \\\n+    implementation:=com.ibm.ws.jsf.shared.util.JSFInjectionClassListCollaborator ; \\\n+    provide:='com.ibm.wsspi.webcontainer.collaborator.WebAppInjectionClassListCollaborator'; \\\n+    immediate:=true; \\\n+    properties:=\"service.vendor=IBM\", \\\n+  com.ibm.ws.org.apache.myfaces_3_0_${replace;${bVersion};\\\\.;_}.ResourceProvider; \\\n+    implementation:=com.ibm.wsspi.classloading.ResourceProvider; \\\n+    provide:=com.ibm.wsspi.classloading.ResourceProvider; \\\n+    configuration-policy:=ignore; \\\n+    properties:=\"resources=${app-resources}\", \\\n+  com.ibm.ws.jsf_30.dd; \\\n+    implementation:=com.ibm.ws.javaee.version.FacesVersion; \\\n+    provide:=com.ibm.ws.javaee.version.FacesVersion; \\\n+    properties:=\"version:Integer=30\"", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA4ODI1OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487088259", "bodyText": "Updated", "author": "volosied", "createdAt": "2020-09-11T14:35:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMTc5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMzA2MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487023061", "bodyText": "Lets also get an issue opened to remove the second variable once we pull in a later version of MyFaces 3.0.", "author": "pnicolucci", "createdAt": "2020-09-11T12:51:05Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,136 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.org.apache.myfaces.3.0\n+Implementation-Version: 3.0.0\n+Impl-Jar-Version: 3.0.0.RC1\n+", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA5Njg5Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487096896", "bodyText": "#13889", "author": "volosied", "createdAt": "2020-09-11T14:48:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMzA2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMzg4Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487023882", "bodyText": "Is this a IBM specific file here or something we pull from open source? We should update the namespaces here to be the jakarta ones since I believe all of these have changed in EE9.", "author": "pnicolucci", "createdAt": "2020-09-11T12:52:30Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/src/META-INF/beans.xml", "diffHunk": "@@ -0,0 +1,10 @@\n+<beans xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd\" version=\"1.1\"\n+  bean-discovery-mode=\"none\">\n+  <scan>\n+\n+    <exclude name=\"com.ibm.ws.jsf.**\" />\n+    <exclude name=\"org.apache.myfaces.**\"/>\n+\n+  </scan>\n+</beans>", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA4MDAyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487080027", "bodyText": "Updated to the new namespace", "author": "volosied", "createdAt": "2020-09-11T14:24:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAyMzg4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAzMTAyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487031022", "bodyText": "Looks like we're missing the Bundle-Description also we should discuss removing \"WebSphere\" in 2.3 we have the following \"WebSphere JSF MyFaces Third Party API\". Discuss what we should use other than WebSphere? Is OpenLiberty better? Maybe \"Open Liberty Jakarta Server Faces MyFaces Third Party API\"", "author": "pnicolucci", "createdAt": "2020-09-11T13:05:26Z", "path": "dev/io.openliberty.thirdparty.faces-3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,37 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Fragment-Host: io.openliberty.org.apache.myfaces.3.0;bundle-version=1.0\n+\n+Bundle-Name: WebSphere Jakarta MyFaces Third Party API", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA4MDY2NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487080665", "bodyText": "Changed to Open Liberty", "author": "volosied", "createdAt": "2020-09-11T14:24:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAzMTAyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAzMjkwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487032900", "bodyText": "Adding a bundle description would be good as well.", "author": "pnicolucci", "createdAt": "2020-09-11T13:08:42Z", "path": "dev/io.openliberty.jakarta.faces.3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,41 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.jakarta.faces.3.0; singleton:=true\n+", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAzNDgwOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487034809", "bodyText": "Bundle name/description missing when comparing to our 2.3 bundle. We can probably just open an issue to address all the bundle name/description updates we want to make for consistency and to not delay getting the initial drop of this code into a build.", "author": "pnicolucci", "createdAt": "2020-09-11T13:11:46Z", "path": "dev/io.openliberty.org.apache.myfaces.3.0/bnd.bnd", "diffHunk": "@@ -0,0 +1,136 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.org.apache.myfaces.3.0\n+Implementation-Version: 3.0.0", "originalCommit": "98d09590df0a656388342cb8c70c74e0190ba544", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fc281d02a56fe0adf6166bd8d9d032d91dc414a3", "url": "https://github.com/OpenLiberty/open-liberty/commit/fc281d02a56fe0adf6166bd8d9d032d91dc414a3", "message": "Corrections/Updates to Faces  3.0", "committedDate": "2020-09-11T15:29:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE2MzYzMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487163632", "bodyText": "Since the name of this feature is faces-3.0, it should also be in a faces-3.0 directory not jsf-3.0", "author": "pnicolucci", "createdAt": "2020-09-11T16:42:37Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jsf-3.0/io.openliberty.faces-3.0.feature", "diffHunk": "@@ -0,0 +1,59 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "fc281d02a56fe0adf6166bd8d9d032d91dc414a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIwOTI3OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487209278", "bodyText": "renamed", "author": "volosied", "createdAt": "2020-09-11T18:11:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE2MzYzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE2NTQzMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487165432", "bodyText": "Given that this is a renamed feature io.openliberty and uses faces instead of jsf we need to make sure this and the other jsf provider features can't be loaded at the same time.  Have we done any testing? Perhaps a discussion in the jakarta channel is necessary as there are likely other providers that have hit the same issue. For example I fear we would be able to load the jsfContainer-2.3 feature and the faces-3.0 feature at the same time.", "author": "pnicolucci", "createdAt": "2020-09-11T16:46:02Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.facesProvider-3.0.0.MyFaces.feature", "diffHunk": "@@ -0,0 +1,9 @@\n+# This private feature corresponds to using a JSF-providing feature", "originalCommit": "fc281d02a56fe0adf6166bd8d9d032d91dc414a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIyMTE2NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r487221165", "bodyText": "I tried with faces-3.0 and jsfContainer-2.3 and got the following:\n[ERROR   ] CWWKF0044E: The features servlet-4.0 and el-4.0 cannot be loaded at the same time.  The feature servlet-4.0 of Java EE 8 is incompatible with the feature el-4.0 of Jakarta EE 9.  The configured features jsfContainer-2.3 and faces-3.0 include an incompatible combination of features.  Your configuration is not supported.  Update the configuration to use features that support either the Jakarta EE or Java EE programming models, but not both.\n[ERROR   ] CWWKE0702E: Could not resolve module: .....\n[AUDIT   ] CWWKF0012I: The server installed the following features: [cdi-2.0, el-3.0, faces-3.0, jndi-1.0, jsfContainer-2.3, jsp-2.3, jsp-3.0, websocket-1.1].", "author": "volosied", "createdAt": "2020-09-11T18:36:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE2NTQzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAwNzk1MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r495007951", "bodyText": "With  #13936 resolved, I tried with faces-3.0 and jsfContainer-2.3 and got the following:\n [ERROR   ] CWWKF0044E: The features jsfContainer-2.3 and faces-3.0 cannot be loaded at the same time.  The feature jsfContainer-2.3 of Java EE 8 is incompatible with the feature faces-3.0 of Jakarta EE 9.  The configured features jsfContainer-2.3 and faces-3.0 include an incompatible combination of features.  Your configuration is not supported.  Update the configuration to use features that support either the Jakarta EE or Java EE programming models, but not both.\nLooks good :)", "author": "volosied", "createdAt": "2020-09-25T14:00:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzE2NTQzMg=="}], "type": "inlineReview"}, {"oid": "b2a775acaaa99463cd9afce5751a0b375a2ceff5", "url": "https://github.com/OpenLiberty/open-liberty/commit/b2a775acaaa99463cd9afce5751a0b375a2ceff5", "message": "Corrections/Updates to Faces  3.0", "committedDate": "2020-09-11T18:11:26Z", "type": "forcePushed"}, {"oid": "625d50b068734b9bd52c1398b20374eac6b6c9db", "url": "https://github.com/OpenLiberty/open-liberty/commit/625d50b068734b9bd52c1398b20374eac6b6c9db", "message": "Corrections/Updates to Faces  3.0", "committedDate": "2020-09-14T15:17:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTQzOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r489535439", "bodyText": "Where are these actually used? is it for the shared bundle?", "author": "pnicolucci", "createdAt": "2020-09-16T15:38:06Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-renames.properties", "diffHunk": "@@ -18,6 +18,29 @@ javax.enterprise.inject.spi.configurator=jakarta.enterprise.inject.spi.configura\n javax.enterprise.inject.spi=jakarta.enterprise.inject.spi\n javax.enterprise.inject=jakarta.enterprise.inject\n javax.enterprise.util=jakarta.enterprise.util\n+javax.faces=jakarta.faces\n+javax.faces.annotation=jakarta.faces.annotation\n+javax.faces.application=jakarta.faces.application\n+javax.faces.bean=jakarta.faces.bean\n+javax.faces.component=jakarta.faces.component\n+javax.faces.component.behavior=jakarta.faces.component.behavior\n+javax.faces.component.html=jakarta.faces.component.html\n+javax.faces.component.search=jakarta.faces.component.search\n+javax.faces.component.visit=jakarta.faces.component.visit\n+javax.faces.context=jakarta.faces.context\n+javax.faces.convert=jakarta.faces.convert\n+javax.faces.el=jakarta.faces.el\n+javax.faces.event=jakarta.faces.event\n+javax.faces.flow=jakarta.faces.flow\n+javax.faces.flow.builder=jakarta.faces.flow.builder\n+javax.faces.lifecycle=jakarta.faces.lifecycle\n+javax.faces.model=jakarta.faces.model\n+javax.faces.push=jakarta.faces.push\n+javax.faces.render=jakarta.faces.render\n+javax.faces.validator=jakarta.faces.validator\n+javax.faces.view=jakarta.faces.view\n+javax.faces.view.facelets=jakarta.faces.view.facelets\n+javax.faces.webapp=jakarta.faces.webapp", "originalCommit": "625d50b068734b9bd52c1398b20374eac6b6c9db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ2OTkyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490469922", "bodyText": "I used them all as catch all as we tried to get the PR to beta. However, since we have time now, I can filter out which ones are necessary.", "author": "volosied", "createdAt": "2020-09-17T18:29:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTQzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5NTkxMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490495912", "bodyText": "I believe we only need subset:\ncom.ibm.ws.cdi.jsf only needs:\njakarta.faces.application;version=\"[3.0,4.0)\",\njakarta.faces.context;version=\"[3.0,4.0)\",\ncom.ibm.ws.jsf.shared only needs\njakarta.faces;version=\"[3.0,4.0)\",\njakarta.faces.application;version=\"[3.0,4.0)\",\njakarta.faces.context;version=\"[3.0,4.0)\",", "author": "volosied", "createdAt": "2020-09-17T19:16:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTQzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUwMDU1NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490500555", "bodyText": "Additionally, I'll need to review test applications, too", "author": "volosied", "createdAt": "2020-09-17T19:23:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTQzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxMDI5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490510291", "bodyText": "These should also be transformed since they're used in com.ibm.ws.jsf.2.3_fat:\njavax.faces;version=\"[2.3,3)\",\njavax.faces.annotation;version=\"[2.3,3)\",\njavax.faces.application;version=\"[2.3,3)\",\njavax.faces.bean;version=\"[2.3,3)\",\njavax.faces.component;version=\"[2.3,3)\",\njavax.faces.component.behavior;version=\"[2.3,3)\",\njavax.faces.component.html;version=\"[2.3,3)\",\njavax.faces.component.search;version=\"[2.3,3)\",\njavax.faces.component.visit;version=\"[2.3,3)\",\njavax.faces.context;version=\"[2.3,3)\",\njavax.faces.convert;version=\"[2.3,3)\",\njavax.faces.event;version=\"[2.3,3)\",\njavax.faces.flow;version=\"[2.3,3)\",\njavax.faces.lifecycle;version=\"[2.3,3)\",\njavax.faces.model;version=\"[2.3,3)\",\njavax.faces.push;version=\"[2.3,3)\",\njavax.faces.render;version=\"[2.3,3)\",\njavax.faces.validator;version=\"[2.3,3)\",\njavax.faces.view;version=\"[2.3,3)\",\njavax.faces.view.facelets;version=\"[2.3,3)\",", "author": "volosied", "createdAt": "2020-09-17T19:32:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTQzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzNjU0Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490536546", "bodyText": "The only transformations not necessary, I believe, are:\njavax.faces.webapp=jakarta.faces.webapp\njavax.faces.flow.builder=jakarta.faces.flow.builder\njavax.faces.el=jakarta.faces.el\nI feel like it's just better to include all of them and avoid skipping a couple.", "author": "volosied", "createdAt": "2020-09-17T20:17:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTQzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTk0NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r489535945", "bodyText": "Where are these used?", "author": "pnicolucci", "createdAt": "2020-09-16T15:38:45Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-renames.properties", "diffHunk": "@@ -89,7 +112,8 @@ javax.xml.bind.helpers=jakarta.xml.bind.helpers\n javax.xml.bind.util=jakarta.xml.bind.util\n javax.xml.bind=jakarta.xml.bind\n javax.xml.ws=jakarta.xml.ws\n-\n+javax.websocket=jakarta.websocket\n+javax.websocket.server=jakarta.websocket.server", "originalCommit": "625d50b068734b9bd52c1398b20374eac6b6c9db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxNjUyMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490516521", "bodyText": "Not sure what' going on here. These rules are already in integration. \nSince this file is modified numerous times, I think this was lost and picked picked up during a rebase.", "author": "volosied", "createdAt": "2020-09-17T19:40:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTk0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0NzMwMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490547302", "bodyText": "realized these rules are duplicated, removing", "author": "volosied", "createdAt": "2020-09-17T20:36:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzNTk0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzOTg5Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r489539892", "bodyText": "I assume these are for Faces and not JSP. We should consider organizing this file a bit better. Maybe I'll take a stab at that in: #13971", "author": "pnicolucci", "createdAt": "2020-09-16T15:44:13Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-direct.properties", "diffHunk": "@@ -40,3 +40,13 @@ javax.servlet.async.mapping=jakarta.servlet.async.mapping\n /javax/servlet/resources/j2ee_1_4.xsd=/jakarta/servlet/resources/j2ee_1_4.xsd\n /javax/servlet/resources/xml.xsd=/jakarta/servlet/resources/xml.xsd\n /javax/servlet/resources/j2ee_web_services_client_1_1.xsd=/jakarta/servlet/resources/j2ee_web_services_client_1_1.xsd\n+\n+# JSP\n+javax.naming.InitialContext=jakarta.naming.InitialContext\n+javax.faces.passthrough.Element=jakarta.faces.passthrough.Element\n+javax.faces.request.charset=jakarta.faces.request.charset\n+javax.faces.visit.SKIP_ITERATION=jakarta.faces.visit.SKIP_ITERATION\n+javax.faces.resource.Script=jakarta.faces.resource.Script\n+javax.servlet.error.message=jakarta.servlet.error.message\n+javax.servlet.error.exception=jakarta.servlet.error.exception\n+javax.servlet.jsp.jstl.fmt.locale=jakarta.servlet.jsp.jstl.fmt.locale", "originalCommit": "625d50b068734b9bd52c1398b20374eac6b6c9db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3MDY2NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490470664", "bodyText": "Looks like a rebase I performed wasn't properly done.  I can fix this up.", "author": "volosied", "createdAt": "2020-09-17T18:30:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzOTg5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0MTE0NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490541144", "bodyText": "Actually, these might not be necessary all for this this PR. However, I think they should be looked at later on. Particularly those JSP attributes. I've create #14010.", "author": "volosied", "createdAt": "2020-09-17T20:25:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzOTg5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1MDM3Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490550377", "bodyText": "Scratch that. Existing issue already exists.", "author": "volosied", "createdAt": "2020-09-17T20:42:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzOTg5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU1MTkwMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r489551902", "bodyText": "Why are these necessary they point to the same exact names as far as I can tell?", "author": "pnicolucci", "createdAt": "2020-09-16T16:01:27Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-renames.properties", "diffHunk": "@@ -99,6 +123,13 @@ com.ibm.websphere.ejbcontainer.test.tools=io.openliberty.ejbcontainer.jakarta.te\n \n #Required to transform the package versions only\n com.ibm.wsspi.el=com.ibm.wsspi.el\n+org.apache.myfaces.cdi.util=org.apache.myfaces.cdi.util\n+org.apache.myfaces.config.annotation=org.apache.myfaces.config.annotation\n+org.apache.myfaces.ee=org.apache.myfaces.ee\n+org.apache.myfaces.shared.util=org.apache.myfaces.shared.util\n+org.apache.myfaces.spi=org.apache.myfaces.spi\n+org.apache.myfaces.util=org.apache.myfaces.util\n+org.apache.myfaces.webapp=org.apache.myfaces.webapp", "originalCommit": "625d50b068734b9bd52c1398b20374eac6b6c9db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4MzE3Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490483177", "bodyText": "By including these rules, the transformer will update the versions to [3.0,4) as  specified in the jakarta-version.properties files.\nI believe it's for the new bundle, but I can double check.", "author": "volosied", "createdAt": "2020-09-17T18:53:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU1MTkwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4OTY0Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490489647", "bodyText": "yes, theses are for  io.openliberty.faces.internal as indicated by the manifest.mf:\norg.apache.myfaces.cdi.util;version=\"[3.0,4)\",\norg.apache.myfaces.config.annotation;version=\"[3.0,4)\",\norg.apache.myfaces.ee;version=\"[3.0,4)\",\norg.apache.myfaces.shared.util, <- not sure why this doesn't have a version? \norg.apache.myfaces.spi;version=\"[3.0,4)\",\norg.apache.myfaces.util;version=\"[3.0,4)\",\norg.apache.myfaces.webapp;version=\"[3.0,4)\",", "author": "volosied", "createdAt": "2020-09-17T19:05:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU1MTkwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAwNDc0MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r495004741", "bodyText": "#14133", "author": "pnicolucci", "createdAt": "2020-09-25T13:55:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU1MTkwMg=="}], "type": "inlineReview"}, {"oid": "a5a3824c4850248f52f9624f56f8e01f62d2dbb7", "url": "https://github.com/OpenLiberty/open-liberty/commit/a5a3824c4850248f52f9624f56f8e01f62d2dbb7", "message": "Corrections/Updates to Faces  3.0", "committedDate": "2020-09-17T20:18:48Z", "type": "forcePushed"}, {"oid": "46dd2d41023dde867c308a23747568258c1ba476", "url": "https://github.com/OpenLiberty/open-liberty/commit/46dd2d41023dde867c308a23747568258c1ba476", "message": "Corrections/Updates to Faces  3.0", "committedDate": "2020-09-17T20:37:59Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NTg0Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490885847", "bodyText": "I really want to try to find a way to avoid these weld imports. There is also an overlaid class in this bundle which we should get rid of since it has now significantly diverged from the original.", "author": "tevans78", "createdAt": "2020-09-18T11:32:13Z", "path": "dev/com.ibm.ws.jsfContainer/bnd.bnd", "diffHunk": "@@ -19,7 +19,7 @@ Private-Package: \\\n     com.ibm.ws.jsf.container.*\n \n # Ensure we do NOT import JSF spec API from server-side\n-# TODO: we should find a way to avoid importing Weld packages directly \n+# TODO: we should find a way to avoid importing Weld packages directly", "originalCommit": "46dd2d41023dde867c308a23747568258c1ba476", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkwOTU4Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r490909587", "bodyText": "This is still part of the jsfContainer-2.3 feature, and  I haven't begun work on facesContainer-3.0 yet.\nAfter I added the Jakarta MyFace dependencies, one of the junit tests started failing in this bundle because it was looking Jakarta classes.  I needed to update this bnd file slightly to avoid the failure.", "author": "volosied", "createdAt": "2020-09-18T12:18:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NTg0Nw=="}], "type": "inlineReview"}, {"oid": "210d2993ad6ae18de06c3909f769c5a4c1033e19", "url": "https://github.com/OpenLiberty/open-liberty/commit/210d2993ad6ae18de06c3909f769c5a4c1033e19", "message": "Corrections/Updates to Faces  3.0", "committedDate": "2020-09-18T12:44:55Z", "type": "forcePushed"}, {"oid": "dd659a436920042bf804a1241ecac2de90896dcf", "url": "https://github.com/OpenLiberty/open-liberty/commit/dd659a436920042bf804a1241ecac2de90896dcf", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-21T20:42:57Z", "type": "forcePushed"}, {"oid": "09be718438062b7a142c49c1da4c349944dedd82", "url": "https://github.com/OpenLiberty/open-liberty/commit/09be718438062b7a142c49c1da4c349944dedd82", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-22T14:08:05Z", "type": "forcePushed"}, {"oid": "08a13b9c5f508d467e5ac70b72db97ddd7953a0b", "url": "https://github.com/OpenLiberty/open-liberty/commit/08a13b9c5f508d467e5ac70b72db97ddd7953a0b", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-22T14:11:04Z", "type": "forcePushed"}, {"oid": "414f01e030ddd63fd688e3e9c924bd9d7ab113b0", "url": "https://github.com/OpenLiberty/open-liberty/commit/414f01e030ddd63fd688e3e9c924bd9d7ab113b0", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-24T02:09:06Z", "type": "forcePushed"}, {"oid": "235228951c271437d0eceaae3c6f9cac8e32c758", "url": "https://github.com/OpenLiberty/open-liberty/commit/235228951c271437d0eceaae3c6f9cac8e32c758", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-24T02:11:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAxNzA5OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r495017099", "bodyText": "Please add WLP-Activation-Type: parallel", "author": "tevans78", "createdAt": "2020-09-25T14:13:38Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.faces3.0-beanValidation3.0.feature", "diffHunk": "@@ -0,0 +1,10 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=com.ibm.websphere.appserver.faces.beanValidation-2.3\n+IBM-App-ForceRestart: install, \\\n+ uninstall\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.faces-3.0))\", \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.beanValidation-3.0))\"\n+IBM-Install-Policy: when-satisfied\n+-bundles=com.ibm.ws.jsf.beanvalidation.jakarta\n+kind=noship\n+edition=full", "originalCommit": "235228951c271437d0eceaae3c6f9cac8e32c758", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAxNzE0Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r495017142", "bodyText": "Please add WLP-Activation-Type: parallel", "author": "tevans78", "createdAt": "2020-09-25T14:13:42Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.cdi3.0-faces3.0.feature", "diffHunk": "@@ -0,0 +1,9 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.cdi3.0-faces3.0\n+visibility=private\n+IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.cdi-3.0))\", \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.faces-3.0))\"\n+-bundles=com.ibm.ws.cdi.2.0.jsf.jakarta\n+IBM-Install-Policy: when-satisfied\n+kind=noship\n+edition=full", "originalCommit": "235228951c271437d0eceaae3c6f9cac8e32c758", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAyNzkzNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13839#discussion_r495027934", "bodyText": "Created -- #14165", "author": "volosied", "createdAt": "2020-09-25T14:29:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAxNzE0Mg=="}], "type": "inlineReview"}, {"oid": "cc4815f0bba43acd835397610447a22af578044f", "url": "https://github.com/OpenLiberty/open-liberty/commit/cc4815f0bba43acd835397610447a22af578044f", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-28T13:53:42Z", "type": "commit"}, {"oid": "cc4815f0bba43acd835397610447a22af578044f", "url": "https://github.com/OpenLiberty/open-liberty/commit/cc4815f0bba43acd835397610447a22af578044f", "message": "Create Feature faces-3.0 & Enable EE9 Repeat Tests in JSF 2.3 FAT", "committedDate": "2020-09-28T13:53:42Z", "type": "forcePushed"}]}