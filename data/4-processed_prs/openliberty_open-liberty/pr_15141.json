{"pr_number": 15141, "pr_title": "JSTL Refactoring & Pull in JSTL 2.0 Impl", "pr_createdAt": "2020-12-01T14:42:36Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/15141", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3MDkyMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r533470920", "bodyText": "Why are these dynamic imports?", "author": "tevans78", "createdAt": "2020-12-01T14:50:24Z", "path": "dev/com.ibm.ws.jsp/bnd.bnd", "diffHunk": "@@ -116,11 +108,34 @@ Import-Package: \\\n    org.eclipse.jdt.internal.compiler.problem;version=\"3.10.2\";usage=\"JSP\", \\\n    sun.io;resolution:=optional, \\\n    *\n-   \n+\n+DynamicImport-Package:\\\n+  org.apache.taglibs.standard,\\\n+  org.apache.taglibs.standard.extra.spath,\\\n+  org.apache.taglibs.standard.functions,\\\n+  org.apache.taglibs.standard.lang.jstl,\\\n+  org.apache.taglibs.standard.lang.jstl.parser,\\\n+  org.apache.taglibs.standard.lang.jstl.test,,\\\n+  org.apache.taglibs.standard.lang.jstl.test.beans,\\\n+  org.apache.taglibs.standard.lang.support,\\\n+  org.apache.taglibs.standard.resources,\\,\\\n+  org.apache.taglibs.standard.tag.common.core,\\\n+  org.apache.taglibs.standard.tag.common.fmt,\\\n+  org.apache.taglibs.standard.tag.common.sql,\\\n+  org.apache.taglibs.standard.tag.common.xml,\\\n+  org.apache.taglibs.standard.tag.el.core,\\\n+  org.apache.taglibs.standard.tag.el.fmt,\\\n+  org.apache.taglibs.standard.tag.el.sql,\\\n+  org.apache.taglibs.standard.tag.el.xml,\\\n+  org.apache.taglibs.standard.tag.rt.core,\\\n+  org.apache.taglibs.standard.tag.rt.fmt,\\\n+  org.apache.taglibs.standard.tag.rt.sql,\\\n+  org.apache.taglibs.standard.tag.rt.xml,\\\n+  org.apache.taglibs.standard.tei,\\\n+  org.apache.taglibs.standard.tlv\n+", "originalCommit": "8e1f7fc8f6f37ddb6b74b83e01edc443b4698347", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3MzI1NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r533473255", "bodyText": "I can see that you might want a version range on the import but not sure why that would require them to be dynamic?", "author": "tevans78", "createdAt": "2020-12-01T14:53:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3MDkyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY0MzA5Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r533643096", "bodyText": "When I tried adding these imports in the standard import, they weren't properly included in the manfiest.mf. That let to unresolved bundles during startup.   These classes aren't known during build time, so that's why I ended up picking the dynamic import for now.\nBut will take another look at this because I don't like the dynamic imports either.", "author": "volosied", "createdAt": "2020-12-01T18:49:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3MDkyMA=="}], "type": "inlineReview"}, {"oid": "5b5b6dfb1ddcec973400c7f636136a95f80f8b00", "url": "https://github.com/OpenLiberty/open-liberty/commit/5b5b6dfb1ddcec973400c7f636136a95f80f8b00", "message": "Update JSTL versions", "committedDate": "2020-12-02T20:56:07Z", "type": "forcePushed"}, {"oid": "22a30f37ce1b10bca19184313f7bbd7ab80a0cf4", "url": "https://github.com/OpenLiberty/open-liberty/commit/22a30f37ce1b10bca19184313f7bbd7ab80a0cf4", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\nCreate Jakarta JSTL 2.0 Implmeneation component", "committedDate": "2020-12-03T17:33:41Z", "type": "forcePushed"}, {"oid": "8f9929ace6d45bc6a6a58d4bc3c6fbe37a25b938", "url": "https://github.com/OpenLiberty/open-liberty/commit/8f9929ace6d45bc6a6a58d4bc3c6fbe37a25b938", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\nCreate Jakarta JSTL 2.0 Implmeneation component", "committedDate": "2020-12-03T17:40:15Z", "type": "forcePushed"}, {"oid": "e95dcf37f9635b110e248c34edb8053f89a87b26", "url": "https://github.com/OpenLiberty/open-liberty/commit/e95dcf37f9635b110e248c34edb8053f89a87b26", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\nCreate Jakarta JSTL 2.0 Implmeneation component", "committedDate": "2020-12-03T17:41:32Z", "type": "forcePushed"}, {"oid": "136ec5ba76c75981a90f0fad561e33cf5f3f52bd", "url": "https://github.com/OpenLiberty/open-liberty/commit/136ec5ba76c75981a90f0fad561e33cf5f3f52bd", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implmeneation component", "committedDate": "2020-12-03T17:47:56Z", "type": "forcePushed"}, {"oid": "095f9f34e4fb78461f6723ad12a0db00548ff337", "url": "https://github.com/OpenLiberty/open-liberty/commit/095f9f34e4fb78461f6723ad12a0db00548ff337", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-03T17:51:05Z", "type": "forcePushed"}, {"oid": "6865b70863bcf7b38b2202522751c1a6c67d812c", "url": "https://github.com/OpenLiberty/open-liberty/commit/6865b70863bcf7b38b2202522751c1a6c67d812c", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-03T21:22:36Z", "type": "forcePushed"}, {"oid": "8bcfb75037300e0a82aa5671860c90e4110f56eb", "url": "https://github.com/OpenLiberty/open-liberty/commit/8bcfb75037300e0a82aa5671860c90e4110f56eb", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-04T20:52:03Z", "type": "forcePushed"}, {"oid": "85891dcf874aa3087d738ddc21688c21d73b2db2", "url": "https://github.com/OpenLiberty/open-liberty/commit/85891dcf874aa3087d738ddc21688c21d73b2db2", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-09T16:58:13Z", "type": "forcePushed"}, {"oid": "81359039908654a6d8455023a2bcd1d3a38d7e2f", "url": "https://github.com/OpenLiberty/open-liberty/commit/81359039908654a6d8455023a2bcd1d3a38d7e2f", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-09T17:22:14Z", "type": "forcePushed"}, {"oid": "228e6ca06ac14fcd50d6d01aaabe9c0631101844", "url": "https://github.com/OpenLiberty/open-liberty/commit/228e6ca06ac14fcd50d6d01aaabe9c0631101844", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-10T15:52:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxODQ2OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r545218469", "bodyText": "Don't write \"WAS\" ... probably best just to remove it \"JSTL Impl Version 1.2\"", "author": "tevans78", "createdAt": "2020-12-17T16:19:50Z", "path": "dev/com.ibm.ws.org.apache.taglibs.standard/bnd.bnd", "diffHunk": "@@ -0,0 +1,34 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: com.ibm.ws.org.apache.taglibs.standard\n+Bundle-Description: WAS JSTL Impl Version 1.2", "originalCommit": "228e6ca06ac14fcd50d6d01aaabe9c0631101844", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "01b5078db74ffb19bd2768a07e7aea23a5670b91", "url": "https://github.com/OpenLiberty/open-liberty/commit/01b5078db74ffb19bd2768a07e7aea23a5670b91", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2020-12-17T16:41:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY0NjQxMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r533646412", "bodyText": "Update Name", "author": "volosied", "createdAt": "2020-12-01T18:54:22Z", "path": "dev/io.openliberty.org.apache.taglibs.standard/bnd.bnd", "diffHunk": "@@ -0,0 +1,31 @@\n+#*******************************************************************************\n+# Copyright (c) 2017, 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-Name: WAS JSTL", "originalCommit": "8e1f7fc8f6f37ddb6b74b83e01edc443b4698347", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ0MzcwOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r535443709", "bodyText": "These highlighted packages are not included in the new Jakarta JSTL 2.0 jar, so they have been marked optional.", "author": "volosied", "createdAt": "2020-12-03T17:38:30Z", "path": "dev/com.ibm.ws.jsp.jstl.facade/bnd.bnd", "diffHunk": "@@ -26,33 +26,33 @@ Import-Package: \\\n   javax.servlet.jsp.el;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.resources;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.tagext;version=\"[2.2,3.0)\", \\\n-  javax.servlet.jsp.jstl.core;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.fmt;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.sql;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.tlv;version=\"[1.2.0,2.0.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections.iterators;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections.map;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.extra.spath;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.functions;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl.parser;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl.test;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl.test.beans;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.support;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.resources;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.core;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.fmt;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.sql;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.xml;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.core;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.fmt;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.sql;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.xml;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.core;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.fmt;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.sql;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.xml;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tei;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tlv;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard;version=\"[2.2,3.0)\"\n+  javax.servlet.jsp.jstl.core;version=\"[1.2,2.0)\", \\\n+  javax.servlet.jsp.jstl.fmt;version=\"[1.2,2.0)\", \\\n+  javax.servlet.jsp.jstl.sql;version=\"[1.2,2.0)\", \\\n+  javax.servlet.jsp.jstl.tlv;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.functions;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl.parser;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl.test;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl.test.beans;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.support;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.resources;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.core;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.fmt;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.sql;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.xml;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.core;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.fmt;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.sql;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.xml;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.core;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.fmt;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.sql;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.xml;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tei;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tlv;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.commons.collections;resolution:=optional;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.commons.collections.iterators;resolution:=optional;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.commons.collections.map;resolution:=optional;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.spath;resolution:=optional;version=\"[1.2,2.0)\"", "originalCommit": "22a30f37ce1b10bca19184313f7bbd7ab80a0cf4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ1MTM5Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r535451392", "bodyText": "2.2,3.0 versions above ( for JSP) were changed to support the JSTL versions (1,2 and 2.0)", "author": "volosied", "createdAt": "2020-12-03T17:49:57Z", "path": "dev/com.ibm.ws.jsp.jstl.facade/bnd.bnd", "diffHunk": "@@ -26,33 +26,33 @@ Import-Package: \\\n   javax.servlet.jsp.el;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.resources;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.tagext;version=\"[2.2,3.0)\", \\\n-  javax.servlet.jsp.jstl.core;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.fmt;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.sql;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.tlv;version=\"[1.2.0,2.0.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections;version=\"[2.2,3.0)\", \\", "originalCommit": "136ec5ba76c75981a90f0fad561e33cf5f3f52bd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgxODczNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r538818735", "bodyText": "Since the Dynamic-ImportPackage code was removed, these transformations  should be updated.", "author": "volosied", "createdAt": "2020-12-08T21:25:39Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-versions.properties", "diffHunk": "@@ -113,6 +113,33 @@ org.apache.myfaces.shared.util=[3.0,4)\n org.apache.myfaces.spi=[3.0,4)\n org.apache.myfaces.util=[3.0,4)\n org.apache.myfaces.webapp=[3.0,4)\n+# Taglibs are exported in com.ibm.ws.jsp,therefore therefore a range is not suitable \n+org.apache.taglibs.standard.extra.commons.collections=2.0\n+org.apache.taglibs.standard.extra.commons.collections.iterators=2.0\n+org.apache.taglibs.standard.extra.commons.collections.map=2.0\n+org.apache.taglibs.standard.extra.spath=2.0\n+org.apache.taglibs.standard.functions=2.0\n+org.apache.taglibs.standard.lang.jstl=2.0\n+org.apache.taglibs.standard.lang.jstl.parser=2.0\n+org.apache.taglibs.standard.lang.jstl.test=2.0\n+org.apache.taglibs.standard.lang.jstl.test.beans=2.0\n+org.apache.taglibs.standard.lang.support=2.0\n+org.apache.taglibs.standard.resources=2.0\n+org.apache.taglibs.standard.tag.common.core=2.0\n+org.apache.taglibs.standard.tag.common.fmt=2.0\n+org.apache.taglibs.standard.tag.common.sql=2.0\n+org.apache.taglibs.standard.tag.common.xml=2.0\n+org.apache.taglibs.standard.tag.el.core=2.0\n+org.apache.taglibs.standard.tag.el.fmt=2.0\n+org.apache.taglibs.standard.tag.el.sql=2.0\n+org.apache.taglibs.standard.tag.el.xml=2.0\n+org.apache.taglibs.standard.tag.rt.core=2.0\n+org.apache.taglibs.standard.tag.rt.fmt=2.0\n+org.apache.taglibs.standard.tag.rt.sql=2.0\n+org.apache.taglibs.standard.tag.rt.xml=2.0\n+org.apache.taglibs.standard.tei=2.0\n+org.apache.taglibs.standard.tlv=2.0\n+org.apache.taglibs.standard=2.0", "originalCommit": "8bcfb75037300e0a82aa5671860c90e4110f56eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIzNzc4NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r545237785", "bodyText": "Correction -- They are needed for the facade bundle. They should be a range instead, probably?", "author": "volosied", "createdAt": "2020-12-17T16:45:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODgxODczNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ4MTgxOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r539481819", "bodyText": "Will need to be adjusted if the prefix is changed. See eclipse-ee4j/jstl-api#138", "author": "volosied", "createdAt": "2020-12-09T17:01:10Z", "path": "dev/io.openliberty.org.apache.taglibs.standard/bnd.bnd", "diffHunk": "@@ -0,0 +1,34 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.org.apache.taglibs.standard\n+Bundle-Description: Jakarta Standard Tag Library Implementation, version 2.0\n+\n+Fragment-Host: com.ibm.ws.jsp.jakarta\n+\n+Import-Package: \\\n+   com.oracle.wls.shaded.org.apache.xml.serialize;resolution:=optional,\\\n+   com.oracle.wls.shaded.org.apache.xml.serializer;resolution:=optional,\\\n+   !org.apache.xerces*, \\\n+   *\n+\n+Export-Package: \\\n+   org.apache.taglibs.standard.tlv;thread-context=true;version=2.0, \\\n+   org.apache.taglibs.standard.tei;thread-context=true;version=2.0, \\\n+   org.apache.taglibs*;version=2.0,\\\n+\n+Private-Package: \\\n+  com.oracle.wls.shaded*,\\", "originalCommit": "85891dcf874aa3087d738ddc21688c21d73b2db2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzc4OTM5Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r543789397", "bodyText": "These three are a bit odd since they\u2019re in JSTL 1.2, but not in the JSTL 2.0 Impl.  I wasn\u2019t sure where to update the versions here (facade bundle has them marked optional), but decided to add them just in case.", "author": "volosied", "createdAt": "2020-12-16T00:35:13Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-versions.properties", "diffHunk": "@@ -113,6 +113,32 @@ org.apache.myfaces.shared.util=[3.0,4)\n org.apache.myfaces.spi=[3.0,4)\n org.apache.myfaces.util=[3.0,4)\n org.apache.myfaces.webapp=[3.0,4)\n+org.apache.taglibs.standard.extra.commons.collections=[2.0,3.0)\n+org.apache.taglibs.standard.extra.commons.collections.iterators=[2.0,3.0)\n+org.apache.taglibs.standard.extra.commons.collections.map=[2.0,3.0)", "originalCommit": "228e6ca06ac14fcd50d6d01aaabe9c0631101844", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "69e9579eb82fd69c057af3847f2449f81c46af1e", "url": "https://github.com/OpenLiberty/open-liberty/commit/69e9579eb82fd69c057af3847f2449f81c46af1e", "message": "Create io.openliberty.jstl.facade as part of JSTL refactoring", "committedDate": "2021-01-04T22:07:19Z", "type": "forcePushed"}, {"oid": "1b7e2ebec758526c54927a2e45967634db2a2fa0", "url": "https://github.com/OpenLiberty/open-liberty/commit/1b7e2ebec758526c54927a2e45967634db2a2fa0", "message": "Create io.openliberty.jstl.facade as part of JSTL refactoring", "committedDate": "2021-01-04T22:10:57Z", "type": "forcePushed"}, {"oid": "cf23daf9ec6da9339cc7ab6f14af6096caad23a3", "url": "https://github.com/OpenLiberty/open-liberty/commit/cf23daf9ec6da9339cc7ab6f14af6096caad23a3", "message": "Create io.openliberty.jstl.facade as part of JSTL refactoring", "committedDate": "2021-01-04T22:14:23Z", "type": "forcePushed"}, {"oid": "3b7417d7bd0a54c544f8002a8a4570791abaa9b7", "url": "https://github.com/OpenLiberty/open-liberty/commit/3b7417d7bd0a54c544f8002a8a4570791abaa9b7", "message": "Create io.openliberty.jstl.facade as part of JSTL refactoring", "committedDate": "2021-01-04T23:12:39Z", "type": "forcePushed"}, {"oid": "bf0a6b9c94f546917e4d7ccebaedf0fdab1415e2", "url": "https://github.com/OpenLiberty/open-liberty/commit/bf0a6b9c94f546917e4d7ccebaedf0fdab1415e2", "message": "Create io.openliberty.jstl.facade as part of JSTL refactoring", "committedDate": "2021-01-05T00:45:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY1Mzg5MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r551653890", "bodyText": "These taglibs.standard packages were just moved to the bottom.", "author": "volosied", "createdAt": "2021-01-05T00:47:54Z", "path": "dev/com.ibm.ws.jsp.jstl.facade/bnd.bnd", "diffHunk": "@@ -18,41 +18,39 @@ Bundle-Description: facade to provide a classloader for our internal jstl classe\n \n Provide-Capability: com.ibm.ws.jsp.jstl.facade\n \n-jakartaeeMe: true\n-\n Import-Package: \\\n   javax.el;version=\"[2.2.0,4.0.0)\", \\\n   javax.servlet.jsp;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.el;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.resources;version=\"[2.2,3.0)\", \\\n   javax.servlet.jsp.tagext;version=\"[2.2,3.0)\", \\\n-  javax.servlet.jsp.jstl.core;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.fmt;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.sql;version=\"[1.2.0,2.0.0)\", \\\n-  javax.servlet.jsp.jstl.tlv;version=\"[1.2.0,2.0.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections.iterators;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.extra.commons.collections.map;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.extra.spath;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.functions;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl.parser;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl.test;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.jstl.test.beans;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.lang.support;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.resources;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.core;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.fmt;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.sql;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.common.xml;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.core;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.fmt;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.sql;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.el.xml;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.core;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.fmt;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.sql;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tag.rt.xml;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tei;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard.tlv;version=\"[2.2,3.0)\", \\\n-  org.apache.taglibs.standard;version=\"[2.2,3.0)\"\n+  javax.servlet.jsp.jstl.core;version=\"[1.2,2.0)\", \\\n+  javax.servlet.jsp.jstl.fmt;version=\"[1.2,2.0)\", \\\n+  javax.servlet.jsp.jstl.sql;version=\"[1.2,2.0)\", \\\n+  javax.servlet.jsp.jstl.tlv;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.functions;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl.parser;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl.test;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.jstl.test.beans;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.lang.support;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.resources;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.core;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.fmt;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.sql;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.common.xml;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.core;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.fmt;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.sql;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.el.xml;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.core;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.fmt;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.sql;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tag.rt.xml;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tei;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.tlv;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.commons.collections;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.commons.collections.iterators;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.commons.collections.map;version=\"[1.2,2.0)\", \\\n+  org.apache.taglibs.standard.extra.spath;version=\"[1.2,2.0)\"", "originalCommit": "bf0a6b9c94f546917e4d7ccebaedf0fdab1415e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY1NDI1Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15141#discussion_r551654253", "bodyText": "Discussed with Tom Watson and he said this bundle needs to provide this capability for this part: \n  \n    \n      open-liberty/dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/webcontainerext/JSPExtensionFactory.java\n    \n    \n         Line 507\n      in\n      43eeef1\n    \n    \n    \n    \n\n        \n          \n           return \"com.ibm.ws.jsp.jstl.facade\"; \n        \n    \n  \n\n\nThis capability is also provided by the com.ibm.ws.jsp.jstl.facade bundle.", "author": "volosied", "createdAt": "2021-01-05T00:49:02Z", "path": "dev/io.openliberty.jstl.facade/bnd.bnd", "diffHunk": "@@ -0,0 +1,52 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+Bundle-SymbolicName: io.openliberty.jstl.facade\n+Bundle-Description: facade to provide a classloader for our internal jstl classes for osgi application jsp backwards compatibility; version=${bVersion}\n+\n+# Must provide same capability as the com.ibm.ws.jsp.jstl.facade bundle\n+Provide-Capability: com.ibm.ws.jsp.jstl.facade", "originalCommit": "bf0a6b9c94f546917e4d7ccebaedf0fdab1415e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "70ce4dce0423c548336338a1a9a0a7a2ffba6cbe", "url": "https://github.com/OpenLiberty/open-liberty/commit/70ce4dce0423c548336338a1a9a0a7a2ffba6cbe", "message": "Update copyrights to 2021", "committedDate": "2021-01-05T20:26:56Z", "type": "forcePushed"}, {"oid": "c871b0e9b8dbb6fb0a0198589c42b2939cc9eaf7", "url": "https://github.com/OpenLiberty/open-liberty/commit/c871b0e9b8dbb6fb0a0198589c42b2939cc9eaf7", "message": "Update copyrights to 2021", "committedDate": "2021-01-08T18:36:30Z", "type": "forcePushed"}, {"oid": "2c3a1c5b107d0ef02fa2dedf4402db63b9b126c7", "url": "https://github.com/OpenLiberty/open-liberty/commit/2c3a1c5b107d0ef02fa2dedf4402db63b9b126c7", "message": "Pull JSTL 1.2 out of com.ibm.ws.jsp and into a new component\n\nCreate Jakarta JSTL 2.0 Implementation component", "committedDate": "2021-01-11T19:45:03Z", "type": "commit"}, {"oid": "370e052000f6d26bfdcf8209dbfe693fae55e140", "url": "https://github.com/OpenLiberty/open-liberty/commit/370e052000f6d26bfdcf8209dbfe693fae55e140", "message": "Create io.openliberty.jstl.facade as part of JSTL refactoring", "committedDate": "2021-01-11T19:45:04Z", "type": "commit"}, {"oid": "f4c8fb1c742c26ae516bff156c770aed8fc1d22a", "url": "https://github.com/OpenLiberty/open-liberty/commit/f4c8fb1c742c26ae516bff156c770aed8fc1d22a", "message": "Add JSTL Impl Sources Jar", "committedDate": "2021-01-11T19:45:04Z", "type": "commit"}, {"oid": "ba21a246a6e407b90be8be037cc9f18489f4e2a7", "url": "https://github.com/OpenLiberty/open-liberty/commit/ba21a246a6e407b90be8be037cc9f18489f4e2a7", "message": "Update copyrights to 2021", "committedDate": "2021-01-11T19:45:04Z", "type": "commit"}, {"oid": "ba21a246a6e407b90be8be037cc9f18489f4e2a7", "url": "https://github.com/OpenLiberty/open-liberty/commit/ba21a246a6e407b90be8be037cc9f18489f4e2a7", "message": "Update copyrights to 2021", "committedDate": "2021-01-11T19:45:04Z", "type": "forcePushed"}, {"oid": "cff3fa72f3713c2607e0ccc325ae393af4f2068f", "url": "https://github.com/OpenLiberty/open-liberty/commit/cff3fa72f3713c2607e0ccc325ae393af4f2068f", "message": "Update Taglib Bnds", "committedDate": "2021-01-13T18:12:23Z", "type": "forcePushed"}, {"oid": "1e95a6be3a4e0ba4c4dd8005b3933ecf95498da7", "url": "https://github.com/OpenLiberty/open-liberty/commit/1e95a6be3a4e0ba4c4dd8005b3933ecf95498da7", "message": "Update Taglib Bnds", "committedDate": "2021-01-13T18:16:09Z", "type": "forcePushed"}, {"oid": "3e88dfacde756d8afca1439823acaaf4a941224b", "url": "https://github.com/OpenLiberty/open-liberty/commit/3e88dfacde756d8afca1439823acaaf4a941224b", "message": "Update Taglib Bnds", "committedDate": "2021-01-14T15:13:32Z", "type": "forcePushed"}, {"oid": "03a686f6e6cbc69892f5cbf27d4ed818fe014976", "url": "https://github.com/OpenLiberty/open-liberty/commit/03a686f6e6cbc69892f5cbf27d4ed818fe014976", "message": "Update Taglib Bnds", "committedDate": "2021-01-17T02:22:29Z", "type": "forcePushed"}, {"oid": "35f537af59ed01a6cfc080fa707d480b210ab0e1", "url": "https://github.com/OpenLiberty/open-liberty/commit/35f537af59ed01a6cfc080fa707d480b210ab0e1", "message": "Update Taglib Bnds", "committedDate": "2021-01-17T02:25:51Z", "type": "commit"}, {"oid": "35f537af59ed01a6cfc080fa707d480b210ab0e1", "url": "https://github.com/OpenLiberty/open-liberty/commit/35f537af59ed01a6cfc080fa707d480b210ab0e1", "message": "Update Taglib Bnds", "committedDate": "2021-01-17T02:25:51Z", "type": "forcePushed"}]}