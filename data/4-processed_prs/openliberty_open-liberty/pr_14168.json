{"pr_number": 14168, "pr_title": "Move MP OpenAPI features to Jackson 2.11.2", "pr_createdAt": "2020-09-25T15:06:24Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/14168", "timeline": [{"oid": "10ecfb34e3a468fa3bb22c3faea9ed1d6b4e2938", "url": "https://github.com/OpenLiberty/open-liberty/commit/10ecfb34e3a468fa3bb22c3faea9ed1d6b4e2938", "message": "Move MP OpenAPI features to Jackson 2.11.2\n\nSigned-off-by: Martin Smithson <msmiths@uk.ibm.com>", "committedDate": "2020-09-25T15:03:29Z", "type": "commit"}, {"oid": "9dc332055abe835011e53e5e4fff3bcafae8df57", "url": "https://github.com/OpenLiberty/open-liberty/commit/9dc332055abe835011e53e5e4fff3bcafae8df57", "message": "Fixes for WS-CD-Open build issue\n\nSigned-off-by: Martin Smithson <msmiths@uk.ibm.com>", "committedDate": "2020-09-25T16:24:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NDIxOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495774218", "bodyText": "should you remove this line instead?", "author": "Emily-Jiang", "createdAt": "2020-09-28T08:33:45Z", "path": "dev/cnf/dependabot/check_this_in_if_it_changes/pom.xml", "diffHunk": "@@ -121,16 +136,31 @@\n       <artifactId>jackson-databind</artifactId>\n       <version>2.9.1</version>\n     </dependency>\n+    <dependency>\n+      <groupId>com.fasterxml.jackson.dataformat</groupId>\n+      <artifactId>jackson-dataformat-yaml</artifactId>\n+      <version>2.11.2</version>\n+    </dependency>\n     <dependency>\n       <groupId>com.fasterxml.jackson.dataformat</groupId>\n       <artifactId>jackson-dataformat-yaml</artifactId>\n       <version>2.9.1</version>\n     </dependency>\n+    <dependency>\n+      <groupId>com.fasterxml.jackson.datatype</groupId>\n+      <artifactId>jackson-datatype-jdk8</artifactId>\n+      <version>2.11.2</version>\n+    </dependency>\n     <dependency>\n       <groupId>com.fasterxml.jackson.datatype</groupId>\n       <artifactId>jackson-datatype-jdk8</artifactId>\n       <version>2.9.1</version>", "originalCommit": "9dc332055abe835011e53e5e4fff3bcafae8df57", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgwODMxOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495808319", "bodyText": "There are components in CL that still depend on the com.ibm.ws.com.fasterxml.jackson project... which pulls in version 2.9.1 of the relevant Jackson libraries. We cannot remove them until we have updated the components in CL to point at the 2.11.2 version of these libraries... and this cannot be done until they are in OL master. So these changes need to be made in phases, requiring 3 PRs in total... of which this is just the first PR.", "author": "msmiths", "createdAt": "2020-09-28T09:31:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NDIxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NDU4Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495774587", "bodyText": "I think you need to just changet the versions instead of adding the new dependencies? Am I missing something?", "author": "Emily-Jiang", "createdAt": "2020-09-28T08:34:26Z", "path": "dev/cnf/dependabot/check_this_in_if_it_changes/pom.xml", "diffHunk": "@@ -121,16 +136,31 @@\n       <artifactId>jackson-databind</artifactId>\n       <version>2.9.1</version>\n     </dependency>\n+    <dependency>\n+      <groupId>com.fasterxml.jackson.dataformat</groupId>\n+      <artifactId>jackson-dataformat-yaml</artifactId>\n+      <version>2.11.2</version>\n+    </dependency>\n     <dependency>\n       <groupId>com.fasterxml.jackson.dataformat</groupId>\n       <artifactId>jackson-dataformat-yaml</artifactId>\n       <version>2.9.1</version>", "originalCommit": "9dc332055abe835011e53e5e4fff3bcafae8df57", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgwODQyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495808427", "bodyText": "There are components in CL that still depend on the com.ibm.ws.com.fasterxml.jackson project... which pulls in version 2.9.1 of the relevant Jackson libraries. We cannot remove them until we have updated the components in CL to point at the 2.11.2 version of these libraries... and this cannot be done until they are in OL master. So these changes need to be made in phases, requiring 3 PRs in total... of which this is just the first PR.", "author": "msmiths", "createdAt": "2020-09-28T09:31:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NDU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NTI2NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495775264", "bodyText": "For all of the version changes, I think you just need to change the versions instead of duplicating the dependencies.", "author": "Emily-Jiang", "createdAt": "2020-09-28T08:35:36Z", "path": "dev/cnf/dependabot/check_this_in_if_it_changes/pom.xml", "diffHunk": "@@ -76,6 +76,11 @@\n       <artifactId>cloudant-http</artifactId>\n       <version>2.8.0</version>\n     </dependency>\n+    <dependency>\n+      <groupId>com.fasterxml.jackson.core</groupId>\n+      <artifactId>jackson-annotations</artifactId>\n+      <version>2.11.2</version>", "originalCommit": "9dc332055abe835011e53e5e4fff3bcafae8df57", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgwODUxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495808517", "bodyText": "There are components in CL that still depend on the com.ibm.ws.com.fasterxml.jackson project... which pulls in version 2.9.1 of the relevant Jackson libraries. We cannot remove them until we have updated the components in CL to point at the 2.11.2 version of these libraries... and this cannot be done until they are in OL master. So these changes need to be made in phases, requiring 3 PRs in total... of which this is just the first PR.", "author": "msmiths", "createdAt": "2020-09-28T09:31:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NTI2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NjIxMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495776213", "bodyText": "This is the old feature. Do we need to change it at all? I thought not.", "author": "Emily-Jiang", "createdAt": "2020-09-28T08:37:13Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/mpOpenAPI-1.1/com.ibm.websphere.appserver.mpOpenAPI-1.1.feature", "diffHunk": "@@ -44,7 +44,7 @@ IBM-SPI-Package: \\\n  com.ibm.ws.microprofile.openapi,\\\n  com.ibm.ws.microprofile.openapi.ui,\\\n  com.ibm.ws.microprofile.openapi.1.1.model,\\\n- com.ibm.ws.com.fasterxml.jackson.2.9.1\n+ io.openliberty.com.fasterxml.jackson", "originalCommit": "9dc332055abe835011e53e5e4fff3bcafae8df57", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgwOTI4Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14168#discussion_r495809286", "bodyText": "Aside from the fact that the SmallRye implementation requires the 2.11.2 version of the relevant Jackson libraries, we need to align the other versions of the feature on 2.11.2 as well.", "author": "msmiths", "createdAt": "2020-09-28T09:33:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NjIxMw=="}], "type": "inlineReview"}]}