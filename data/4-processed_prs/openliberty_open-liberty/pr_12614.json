{"pr_number": 12614, "pr_title": "Add grpc test microservices", "pr_createdAt": "2020-06-15T18:59:43Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12614", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDU4OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r440390589", "bodyText": "this needs a copyright", "author": "wtlucy", "createdAt": "2020-06-15T19:14:44Z", "path": "dev/com.ibm.ws.grpc_fat/fat/src/com/ibm/ws/fat/grpc/StoreTests.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**", "originalCommit": "7b92f91bfdc9f03eacdc682e8b045129bb06a70c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2MjU5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441762591", "bodyText": "updated", "author": "anupag", "createdAt": "2020-06-17T18:54:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5Mjc4OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r440392789", "bodyText": "the trace spec has changed from com.ibm.ws.grpc*=all to io.openliberty.grpc*=all", "author": "wtlucy", "createdAt": "2020-06-15T19:19:05Z", "path": "dev/com.ibm.ws.grpc_fat/publish/servers/ConsumerServer/server.xml", "diffHunk": "@@ -0,0 +1,48 @@\n+<!--\n+    Copyright (c) 2020 IBM Corporation and others.\n+    All rights reserved. This program and the accompanying materials\n+    are made available under the terms of the Eclipse Public License v1.0\n+    which accompanies this distribution, and is available at\n+    http://www.eclipse.org/legal/epl-v10.html\n+   \n+    Contributors:\n+        IBM Corporation - initial API and implementation\n+ -->\n+<server>\n+    <featureManager>\n+        <feature>grpc-1.0</feature>\n+        <feature>grpcClient-1.0</feature>\n+        <feature>microProfile-3.2</feature>\n+    </featureManager>\n+\n+    <include location=\"../fatTestPorts.xml\"/>\n+\n+\n+    <!-- Default SSL configuration enables trust for default certificates from the Java runtime --> \n+    <ssl id=\"defaultSSLConfig\" trustDefaultCerts=\"true\" />\n+\n+    <basicRegistry id=\"basic\" realm=\"consumerRealmBasicReg\">\n+     <user name=\"mlee\" password=\"hello\" /> <!--user name=\"${env.BASIC_REGISTRY_USERNAME}\"-->\n+     <user name=\"rkumar\" password=\"bug\" />\n+     <group name=\"students\"> <!-- group name=\"${env.ROLE_NAME_ADMINISTRATOR}\"-->\n+         <member name=\"mlee\" />\n+         <member name=\"rkumar\" />\n+     </group>\n+    </basicRegistry>\n+\n+    <application id=\"StoreConsumerApp\" location=\"StoreConsumerApp.war\" name=\"StoreConsumerApp\" type=\"war\">\n+      <application-bnd>\n+         <security-role name=\"Administrator\">\n+            <!--group name=\"${env.ROLE_NAME_ADMINISTRATOR}\" access-id=\"group:${env.OIDC_REALM}/${env.ROLE_NAME_ADMINISTRATOR}\"/-->\n+\t\t\t<group name=\"Administrator\" access-id=\"group:consumerRealmBasicReg/Administrator\"/>\n+         </security-role>\n+         <security-role name=\"students\">         \n+            <!--group name=\"${env.ROLE_NAME_EDITOR}\"  access-id=\"group:${env.OIDC_REALM}/${env.ROLE_NAME_EDITOR}\"/-->\n+            <group name=\"students\"  access-id=\"group:consumerRealmBasicReg/students\"/>\n+         </security-role>\n+      </application-bnd>\n+   </application>\n+\n+   <logging traceSpecification=\"*=info=enabled:com.ibm.ws.grpc*=all:com.ibm.testapp.g3store*=all\" maxFileSize=\"40\" maxFiles=\"20\" traceFormat=\"BASIC\"/>", "originalCommit": "7b92f91bfdc9f03eacdc682e8b045129bb06a70c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2MjcyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441762725", "bodyText": "updated", "author": "anupag", "createdAt": "2020-06-17T18:54:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5Mjc4OQ=="}], "type": "inlineReview"}, {"oid": "8f8cbb57c2a64d1bb00f59535e154dee52784e39", "url": "https://github.com/OpenLiberty/open-liberty/commit/8f8cbb57c2a64d1bb00f59535e154dee52784e39", "message": "Add grpc test microservices", "committedDate": "2020-06-17T18:50:44Z", "type": "commit"}, {"oid": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "url": "https://github.com/OpenLiberty/open-liberty/commit/ac5e554c5f7f967b5b8438409d9dfe0834549b55", "message": "Add application start tests", "committedDate": "2020-06-17T18:50:46Z", "type": "commit"}, {"oid": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "url": "https://github.com/OpenLiberty/open-liberty/commit/ac5e554c5f7f967b5b8438409d9dfe0834549b55", "message": "Add application start tests", "committedDate": "2020-06-17T18:50:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMTc2NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441801765", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:04:29Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/resources/WEB-INF/web.xml", "diffHunk": "@@ -0,0 +1,10 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMTgwMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441801803", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:04:34Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/resources/WEB-INF/web.xml", "diffHunk": "@@ -0,0 +1,10 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMTg5NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441801894", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:04:46Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/resources/index.html", "diffHunk": "@@ -0,0 +1,8 @@\n+<html>", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMTk0MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441801941", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:04:53Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/resources/proto/Store.proto", "diffHunk": "@@ -0,0 +1,71 @@\n+syntax = \"proto3\";", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjQxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802417", "bodyText": "2020", "author": "wtlucy", "createdAt": "2020-06-17T20:05:53Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreApp.war/src/com/ibm/testapp/g3store/servletStore/HelloServlet.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*******************************************************************************\n+ * (c) Copyright IBM Corporation 2017.", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMzg1OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441803858", "bodyText": "A more basic question: do we actually need to have these HelloServlet classes checked in?", "author": "wtlucy", "createdAt": "2020-06-17T20:08:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjQxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjUwMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802501", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:06:05Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/resources/WEB-INF/web.xml", "diffHunk": "@@ -0,0 +1,10 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjUzOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802539", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:06:10Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/resources/index.html", "diffHunk": "@@ -0,0 +1,8 @@\n+<html>", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjU5Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802597", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:06:16Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/resources/proto/ConsumerStore.proto", "diffHunk": "@@ -0,0 +1,72 @@\n+syntax = \"proto3\";", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjkyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441802925", "bodyText": "2020", "author": "wtlucy", "createdAt": "2020-06-17T20:06:57Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreConsumerApp.war/src/com/ibm/testapp/g3store/servletConsumer/HelloServlet.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*******************************************************************************\n+ * (c) Copyright IBM Corporation 2017.", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwNDQ1OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441804458", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:10:06Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/resources/WEB-INF/web.xml", "diffHunk": "@@ -0,0 +1,10 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwNDUwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441804500", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:10:11Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/resources/index.html", "diffHunk": "@@ -0,0 +1,8 @@\n+<html>", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwNDYxNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441804614", "bodyText": "needs copyright", "author": "wtlucy", "createdAt": "2020-06-17T20:10:24Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/resources/proto/ProducerStore.proto", "diffHunk": "@@ -0,0 +1,86 @@\n+syntax = \"proto3\";", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwNTE3OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12614#discussion_r441805178", "bodyText": "2020", "author": "wtlucy", "createdAt": "2020-06-17T20:11:19Z", "path": "dev/com.ibm.ws.grpc_fat/test-applications/StoreProducerApp.war/src/com/ibm/testapp/g3store/servletProducer/HelloServlet.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*******************************************************************************\n+ * (c) Copyright IBM Corporation 2017.", "originalCommit": "ac5e554c5f7f967b5b8438409d9dfe0834549b55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "938f19ecabf922ff0d379f77541ed0d202dbe086", "url": "https://github.com/OpenLiberty/open-liberty/commit/938f19ecabf922ff0d379f77541ed0d202dbe086", "message": "Update lic headers", "committedDate": "2020-06-17T20:31:52Z", "type": "commit"}, {"oid": "ccbe84994df01cec3195a3ba0e6fe1f29dc130b4", "url": "https://github.com/OpenLiberty/open-liberty/commit/ccbe84994df01cec3195a3ba0e6fe1f29dc130b4", "message": "update web.xml headers", "committedDate": "2020-06-18T14:17:31Z", "type": "commit"}]}