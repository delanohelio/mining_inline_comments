{"pr_number": 15196, "pr_title": "xmlClient-3.0/jaxwsClient-2.3 clientcontainer runtime updates", "pr_createdAt": "2020-12-07T06:29:48Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/15196", "timeline": [{"oid": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "url": "https://github.com/OpenLiberty/open-liberty/commit/b060abbfebc04abb43791dd6f2e25e4d63f31457", "message": "jaxwsClient-2.3 runtime update", "committedDate": "2020-12-07T06:35:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDA2NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537264065", "bodyText": "Since this runtime update is a stepping stone for later features, this feature change is only for testing during a Personal Build. It will be reverted once it's verified that the runtime changes are working as intended.", "author": "neuwerk", "createdAt": "2020-12-07T06:38:55Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/com.ibm.websphere.appserver.jaxwsClientSecurity-2.2.feature", "diffHunk": "@@ -4,8 +4,8 @@ visibility=private\n IBM-App-ForceRestart: uninstall, \\\n  install\n IBM-Process-Types: client\n-IBM-Provision-Capability: osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.jaxwsClient-2.2))\", \\\n- osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=com.ibm.websphere.appserver.appSecurityClient-1.0))\"\n+IBM-Provision-Capability:  osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.jaxwsClient-2.2)(osgi.identity=com.ibm.websphere.appserver.jaxwsClient-2.3)))\", \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(|(osgi.identity=com.ibm.websphere.appserver.appSecurityClient-2.0)(osgi.identity=com.ibm.websphere.appserver.appSecurityClient-1.0)))\"", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDUzNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537264536", "bodyText": "In order to provide a truly common set of bundles between the server and client containers, I've refactored the jaxws-2.3 feature files as well as the jaxwsClient-2.3 feature.", "author": "neuwerk", "createdAt": "2020-12-07T06:40:16Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxws.common-2.3.feature", "diffHunk": "@@ -1,46 +1,66 @@\n -include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NTE3NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537265174", "bodyText": "And alphabetized the API entries", "author": "neuwerk", "createdAt": "2020-12-07T06:42:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NDUzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NTU5NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537265594", "bodyText": "This change is not intended to be delivered, I'm using it as a means to test the jaxwsClient-2.3 feature in a PB. I will remove it before merging these changes.", "author": "neuwerk", "createdAt": "2020-12-07T06:43:05Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/javaeeClient-8.0/com.ibm.websphere.appserver.javaeeClient-8.0.feature", "diffHunk": "@@ -14,12 +14,12 @@ IBM-API-Package: \\\n   com.ibm.websphere.appserver.jndiClient-1.0, \\\n   com.ibm.websphere.appserver.jpa-2.2, \\\n   com.ibm.websphere.appserver.beanValidation-2.0, \\\n-  com.ibm.websphere.appserver.jaxwsClient-2.2, \\\n+  com.ibm.websphere.appserver.jaxwsClient-2.3, \\\n   com.ibm.websphere.appserver.j2eeManagementClient-1.1, \\\n   com.ibm.websphere.appserver.jsonp-1.1, \\\n   com.ibm.websphere.appserver.jsonb-1.0, \\\n   com.ibm.websphere.appserver.javaMail-1.6, \\\n-  com.ibm.websphere.appserver.jaxb-2.2, \\", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NjU0MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537266540", "bodyText": "This code is identical to what's in the com.ibm.ws.jaxws.2.3.common bundle, but I intend to refactor all of the jaxws.2.x.common/jaxws.2.x.clientcontainer bundles to remove duplicate code.", "author": "neuwerk", "createdAt": "2020-12-07T06:45:33Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/ConduitConfigurer.java", "diffHunk": "@@ -0,0 +1,213 @@\n+/**", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NjYwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537266600", "bodyText": "This code is identical to what's in the com.ibm.ws.jaxws.2.3.common bundle, but I intend to refactor all of the jaxws.2.x.common/jaxws.2.x.clientcontainer bundles to remove duplicate code.", "author": "neuwerk", "createdAt": "2020-12-07T06:45:43Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/ConduitConfigurerService.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NjY4OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537266689", "bodyText": "This code is identical to what's in the com.ibm.ws.jaxws.2.3.common bundle, but I intend to refactor all of the jaxws.2.x.common/jaxws.2.x.clientcontainer bundles to remove duplicate code.", "author": "neuwerk", "createdAt": "2020-12-07T06:46:02Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/JaxwsConduitConfigActivator.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/**", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2Njc0NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537266745", "bodyText": "This code is identical to what's in the com.ibm.ws.jaxws.2.3.common bundle, but I intend to refactor all of the jaxws.2.x.common/jaxws.2.x.clientcontainer bundles to remove duplicate code.", "author": "neuwerk", "createdAt": "2020-12-07T06:46:11Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/JaxwsHttpConduitConfigApplier.java", "diffHunk": "@@ -0,0 +1,387 @@\n+/**", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NzA0Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537267046", "bodyText": "Remove  unnecessary duplicate vars with final attribute", "author": "neuwerk", "createdAt": "2020-12-07T06:46:59Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/bus/LibertyApplicationBusFactory.java", "diffHunk": "@@ -95,9 +106,16 @@ public LibertyApplicationBus createBus(Map<Class<?>, Object> e, Map<String, Obje\n \n         Bus originalBus = getThreadDefaultBus(false);\n \n+        final Map<Class<?>, Object> e1 = e;", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NzM3Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537267373", "bodyText": "Add a TODO to remove the LoggingInterceptors from the client and server, and switch to using the LoggingFeature", "author": "neuwerk", "createdAt": "2020-12-07T06:47:48Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/bus/LibertyApplicationBusFactory.java", "diffHunk": "@@ -115,6 +133,16 @@ public LibertyApplicationBus createBus(Map<Class<?>, Object> e, Map<String, Obje\n             }\n \n             bus.initialize();\n+\n+            // Always register LibertyLoggingIn(Out)Interceptor Pretty print the SOAP Messages\n+            final LibertyLoggingInInterceptor in = new LibertyLoggingInInterceptor();", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NzU1Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537267553", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright (c) 2012 IBM Corporation and others.\n          \n          \n            \n             * Copyright (c) 2012, 2020 IBM Corporation and others.", "author": "neuwerk", "createdAt": "2020-12-07T06:48:20Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/client/injection/ServiceRefObjectFactory.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************\n- * Copyright (c) 2019 IBM Corporation and others.\n+ * Copyright (c) 2012 IBM Corporation and others.", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2NzYyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537267627", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright (c) 2012 IBM Corporation and others.\n          \n          \n            \n             * Copyright (c) 2012,2020 IBM Corporation and others.", "author": "neuwerk", "createdAt": "2020-12-07T06:48:37Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/client/injection/WebServiceRefBinding.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************\n- * Copyright (c) 2019 IBM Corporation and others.\n+ * Copyright (c) 2012 IBM Corporation and others.", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI2OTIzNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537269237", "bodyText": "This change is simply the easiest way to test a jaxwsClient-2.3 feature, but will not be delivered once I've verified  that the runtime update is successful in a Personal Build.", "author": "neuwerk", "createdAt": "2020-12-07T06:52:45Z", "path": "dev/com.ibm.ws.jaxws.clientcontainer_fat/fat/src/com/ibm/ws/jaxws/clientcontainer/fat/FATSuite.java", "diffHunk": "@@ -25,4 +28,8 @@\n                 WsBndServiceRefOverrideTest.class\n })\n public class FATSuite {\n+    @ClassRule\n+    public static RepeatTests r = RepeatTests.withoutModification()\n+                    .andWith(FeatureReplacementAction.EE8_FEATURES());", "originalCommit": "b060abbfebc04abb43791dd6f2e25e4d63f31457", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI3MTI3Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r537271272", "bodyText": "Remove the unnecessary export versions on private packages.", "author": "neuwerk", "createdAt": "2020-12-07T06:58:09Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/bnd.bnd", "diffHunk": "@@ -45,8 +45,8 @@ Import-Package: \\\n    *\n \n Private-Package:\\\n-   com.ibm.ws.jaxws.*, \\\n-   com.ibm.wsspi.jaxws\n+   com.ibm.ws.jaxws.*;version=${exportVer},\\", "originalCommit": "b9e9160078f932e1d2f2792672c7fd4d244c34c6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3426fb7adc6c323f4cc77eb0f858ad182bb417b9", "url": "https://github.com/OpenLiberty/open-liberty/commit/3426fb7adc6c323f4cc77eb0f858ad182bb417b9", "message": "intial code review changes", "committedDate": "2020-12-10T19:27:22Z", "type": "forcePushed"}, {"oid": "4ac288de36320b53dbf1f1fd39a622ddd071cb35", "url": "https://github.com/OpenLiberty/open-liberty/commit/4ac288de36320b53dbf1f1fd39a622ddd071cb35", "message": "intial code review changes", "committedDate": "2020-12-11T05:34:29Z", "type": "forcePushed"}, {"oid": "f91d4b23dc53930bdc29382932fa0ce48f9206ba", "url": "https://github.com/OpenLiberty/open-liberty/commit/f91d4b23dc53930bdc29382932fa0ce48f9206ba", "message": "Add xmlWSClient-3.0 feature", "committedDate": "2020-12-15T19:37:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzYzNTc5MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r543635790", "bodyText": "Dropped the com.ibm.ws.cxf.client bundle down into the common-3.2 feature that we share with jaxrs-2.1, and alphabetized the order.", "author": "neuwerk", "createdAt": "2020-12-15T19:42:48Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.internal.cxf.common-3.2.feature", "diffHunk": "@@ -6,12 +6,15 @@ singleton=true\n IBM-App-ForceRestart: uninstall, \\\n  install\n Subsystem-Name: Internal Apache CXF 3.2 Common Feature for JAX-RS and JAX-WS\n--bundles=com.ibm.ws.org.apache.xml.resolver.1.2, \\\n- com.ibm.ws.org.apache.neethi.3.0.2, \\\n+-bundles=\\\n+ com.ibm.websphere.org.osgi.service.http; location:=\"dev/api/spec/,lib/\", \\\n+ com.ibm.ws.cxf.client, \\\n  com.ibm.ws.org.apache.cxf.cxf.core.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.transports.http.3.2, \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.transports.http.hc.3.2, \\\n+ com.ibm.ws.org.apache.neethi.3.0.2, \\\n  com.ibm.ws.org.apache.ws.xmlschema.core.2.0.3, \\\n- com.ibm.websphere.org.osgi.service.http; location:=\"dev/api/spec/,lib/\"\n+ com.ibm.ws.org.apache.xml.resolver.1.2", "originalCommit": "f91d4b23dc53930bdc29382932fa0ce48f9206ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI5NDk2Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545294966", "bodyText": "I've also moved com.ibm.ws.org.apache.cxf.cxf.rt.transports.http.hc.3.2 here as well.", "author": "neuwerk", "createdAt": "2020-12-17T18:06:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzYzNTc5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzY0MjcyMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r543642721", "bodyText": "Dropped this down into the xmlws.common-3.0 feature so that can be added to the xmlWSClient-3.0 feature as well.", "author": "neuwerk", "createdAt": "2020-12-15T19:53:36Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/xmlWS-3.0/io.openliberty.xmlWS-3.0.feature", "diffHunk": "@@ -10,7 +10,6 @@ IBM-API-Package: \\\n  org.apache.cxf.binding.soap.wsdl.extensions;type=\"internal\", \\\n  org.apache.cxf.databinding;type=\"internal\"\n -features=\\\n- com.ibm.websphere.appserver.eeCompatible-9.0, \\", "originalCommit": "f91d4b23dc53930bdc29382932fa0ce48f9206ba", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "993f60414cbe4ac9f95a1d19ffde9fc9aa066fa1", "url": "https://github.com/OpenLiberty/open-liberty/commit/993f60414cbe4ac9f95a1d19ffde9fc9aa066fa1", "message": "Add xmlWSClient-3.0 feature\n\nClean up jaxwsClient changes\n\nRemove doPriv dupped vars'\n\nfix missing import", "committedDate": "2020-12-15T20:35:42Z", "type": "forcePushed"}, {"oid": "d6ade2ea067848fda253db590a8da3490cb2717c", "url": "https://github.com/OpenLiberty/open-liberty/commit/d6ade2ea067848fda253db590a8da3490cb2717c", "message": "Add xmlWSClient-3.0 feature\n\nClean up jaxwsClient changes\n\nRemove doPriv dupped vars'\n\nfix missing import\n\nRemove unnecessary change", "committedDate": "2020-12-15T20:50:00Z", "type": "forcePushed"}, {"oid": "9506ca0bfa5edd175491dfd932b2f63e1a27bf44", "url": "https://github.com/OpenLiberty/open-liberty/commit/9506ca0bfa5edd175491dfd932b2f63e1a27bf44", "message": "Add xmlWSClient-3.0 feature\n\nClean up jaxwsClient changes\n\nRemove doPriv dupped vars'\n\nfix missing import\n\nRemove unnecessary change\n\nPB fixes and bringing in needed dependencies\n\nAdd proper versioning", "committedDate": "2020-12-16T16:54:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzMjkwMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544632901", "bodyText": "Should be fixed in com.ibm.ws.jaxws.clientcontainer, com.ibm.ws.jaxrs.2.0.common and com.ibm.ws.org.apache.cxf.cxf.rt.frontend.jaxrs.3.2 components as well?", "author": "jhanders34", "createdAt": "2020-12-16T21:23:47Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws/bus/LibertyApplicationBusFactory.java", "diffHunk": "@@ -242,7 +268,7 @@ public void postShutdown() {\n         @Override\n         public void preShutdown() {\n             for (LibertyApplicationBusListener listener : listeners) {\n-                listener.postShutdown(bus);\n+                listener.preShutdown(bus);", "originalCommit": "9506ca0bfa5edd175491dfd932b2f63e1a27bf44", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcwODAwNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544708006", "bodyText": "Yes, good catch.", "author": "neuwerk", "createdAt": "2020-12-16T23:54:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzMjkwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY3NzQ1Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544677457", "bodyText": "eeCompatible-9.0 should stay in this feature.  We want it on the public feature so that the error messaging shows which feature that was enabled by the user to create a conflict.  The client feature is not a public feature so it doesn't need the eeCompatible.  The public feature that brings in the private client feature will have it enabled.", "author": "jhanders34", "createdAt": "2020-12-16T22:44:46Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/xmlWS-3.0/io.openliberty.xmlWS-3.0.feature", "diffHunk": "@@ -10,7 +10,6 @@ IBM-API-Package: \\\n  org.apache.cxf.binding.soap.wsdl.extensions;type=\"internal\", \\\n  org.apache.cxf.databinding;type=\"internal\"\n -features=\\\n- com.ibm.websphere.appserver.eeCompatible-9.0, \\\n  com.ibm.websphere.appserver.servlet-5.0, \\", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4NjY3OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544686679", "bodyText": "In the common component we renamed this to be Security instead of SSL", "author": "jhanders34", "createdAt": "2020-12-16T23:03:23Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/src/com/ibm/ws/jaxws23/client/security/LibertyJaxWsClientSSLOutInterceptor.java", "diffHunk": "@@ -0,0 +1,241 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.jaxws23.client.security;\n+\n+import java.io.IOException;\n+import java.lang.reflect.Method;\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n+import java.security.PrivilegedExceptionAction;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+import javax.net.ssl.SSLSocketFactory;\n+import javax.xml.namespace.QName;\n+\n+import org.apache.cxf.common.util.PropertyUtils;\n+import org.apache.cxf.common.util.StringUtils;\n+import org.apache.cxf.configuration.jsse.TLSClientParameters;\n+import org.apache.cxf.interceptor.Fault;\n+import org.apache.cxf.message.Message;\n+import org.apache.cxf.phase.AbstractPhaseInterceptor;\n+import org.apache.cxf.transport.Conduit;\n+import org.apache.cxf.transport.http.HTTPConduit;\n+import org.apache.cxf.transports.http.configuration.HTTPClientPolicy;\n+import org.apache.cxf.ws.addressing.EndpointReferenceType;\n+\n+import com.ibm.websphere.ras.Tr;\n+import com.ibm.websphere.ras.TraceComponent;\n+import com.ibm.ws.jaxws.metadata.ConfigProperties;\n+import com.ibm.ws.jaxws.metadata.PortComponentRefInfo;\n+import com.ibm.ws.jaxws.metadata.WebServiceRefInfo;\n+import com.ibm.ws.jaxws.security.JaxWsSecurityConfigurationService;\n+import com.ibm.wsspi.kernel.service.utils.AtomicServiceReference;\n+\n+import org.apache.cxf.Bus;\n+import org.apache.cxf.interceptor.Fault;\n+import org.apache.cxf.message.Message;\n+import org.apache.cxf.phase.AbstractPhaseInterceptor;\n+import org.apache.cxf.phase.Phase;\n+import org.apache.cxf.service.model.EndpointInfo;\n+import org.apache.cxf.transport.Conduit;\n+import org.apache.cxf.transport.http.HTTPConduit;\n+import org.apache.cxf.transport.http.HTTPConduitConfigurer;\n+import org.osgi.service.cm.ConfigurationException;\n+import org.osgi.service.cm.ManagedServiceFactory;\n+\n+import com.ibm.websphere.ras.ProtectedString;\n+import com.ibm.websphere.ras.Tr;\n+import com.ibm.websphere.ras.TraceComponent;\n+import com.ibm.websphere.ras.annotation.Sensitive;\n+import com.ibm.ws.jaxws.JaxWsConstants;\n+import com.ibm.ws.jaxws.metadata.ConfigProperties;\n+import com.ibm.ws.jaxws.metadata.PortComponentRefInfo;\n+import com.ibm.ws.jaxws.metadata.WebServiceRefInfo;\n+import com.ibm.ws.jaxws.security.JaxWsSecurityConfigurationService;\n+\n+/**\n+ * Used to set the SSL config on the Client side conduit. This removes the need to modify the\n+ * HttpConduit directly through an extended LibertyHttpConduit \n+ */\n+public class LibertyJaxWsClientSSLOutInterceptor extends AbstractPhaseInterceptor<Message> {", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcxMDMwNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544710305", "bodyText": "I hadn't intended this to remain when I pulled in my changes from the other PR, I will fix it.", "author": "neuwerk", "createdAt": "2020-12-17T00:00:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4NjY3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4NzgwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544687800", "bodyText": "Why doing dynamic import?  The transforms I did take care of this right?", "author": "jhanders34", "createdAt": "2020-12-16T23:05:45Z", "path": "dev/com.ibm.ws.jaxws.tools/bnd.bnd", "diffHunk": "@@ -24,9 +24,9 @@ Export-Package: com.sun.tools.ws.ant;version=\"2.2.10\", \\\n  org.jvnet.staxex;version=\"1.7.7\", \\\n  org.jvnet.staxex.util;version=\"1.7.7\"\n \n-Import-Package: \\\n- com.sun.xml.bind*;version=\"2.2.10\"\n-\n+DynamicImport-Package: \\", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcxNDE5MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544714190", "bodyText": "Yeah, that was a hack I didn't intend to keep when I merged your branch.", "author": "neuwerk", "createdAt": "2020-12-17T00:10:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4NzgwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4OTc4NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544689784", "bodyText": "These may not be needed.", "author": "jhanders34", "createdAt": "2020-12-16T23:10:11Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-renames.properties", "diffHunk": "@@ -234,3 +247,14 @@ org.eclipse.persistence.sessions=org.eclipse.persistence.sessions\n org.eclipse.persistence.tools.schemaframework=org.eclipse.persistence.tools.schemaframework\n org.eclipse.persistence.transaction=org.eclipse.persistence.transaction\n \n+com.sun.xml.internal.messaging.saaj=com.sun.xml.messaging.saaj", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM2MTY3MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545361671", "bodyText": "I see you removed one of the saaj renames, but the left the others.  My comment was suggesting that none of them may be needed.  I had put it in trying to get things working and once I had things working more I am not sure if it was needed any longer.  I suggest removing all of the rename s for com.sun.xml.internal.messaging.saaj.*", "author": "jhanders34", "createdAt": "2020-12-17T19:52:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY4OTc4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5MTM3Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544691372", "bodyText": "[1,3) seems odd.  Should be be `[2.3,3)?", "author": "jhanders34", "createdAt": "2020-12-16T23:13:54Z", "path": "dev/com.ibm.ws.jaxws.clientcontainer.security/bnd.bnd", "diffHunk": "@@ -17,7 +17,8 @@ Bundle-Description: IBM JAX-WS ClientContainer Security; version=${bVersion}\n \n Import-Package: \\\n   !com.ibm.ws.jaxws.clientcontainer.security, \\\n-  org.apache.cxf.*;version=\"[2.6.2,2.6.3)\", \\\n+  org.apache.cxf.*;version=\"[2.6.2,3.5)\", \\\n+  com.ibm.ws.jaxws.security;version=\"[1,3)\", \\", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcxMjA1MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544712050", "bodyText": "I agree, I can go back and update com.ibm.ws.jaxws.common and change it's export version number, but it's actually because that bundle is exporting without a 2.2 version, and as you know that means it defaults to 1.0.", "author": "neuwerk", "createdAt": "2020-12-17T00:05:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5MTM3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5MjM5MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544692390", "bodyText": "Should this be false?  This is a new feature that hasn't shipped yet.  Or are you doing this because you are expecting this to become jaxws-2.2 eventually and you want to be prepared for it being made 2.2?", "author": "jhanders34", "createdAt": "2020-12-16T23:16:13Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxws.common-2.3.feature", "diffHunk": "@@ -1,46 +1,66 @@\n -include= ~${workspace}/cnf/resources/bnd/feature.props\n-symbolicName=com.ibm.websphere.appserver.internal.jaxws-2.3\n+symbolicName=com.ibm.websphere.appserver.jaxws.common-2.3\n+WLP-DisableAllFeatures-OnConflict: false", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcwNDI5Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544704293", "bodyText": "Exactly, I'm matching existing behavior where I can. If I need to reverse it, I can.", "author": "neuwerk", "createdAt": "2020-12-16T23:45:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5MjM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI0ODIzNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545248236", "bodyText": "I've removed it.", "author": "neuwerk", "createdAt": "2020-12-17T16:59:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5MjM5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5NjQ3NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544696474", "bodyText": "Missing the backslash ''", "author": "jhanders34", "createdAt": "2020-12-16T23:25:44Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jaxws-2.3/com.ibm.websphere.appserver.jaxws-2.3.feature", "diffHunk": "@@ -6,35 +6,16 @@ IBM-App-ForceRestart: uninstall, \\\n  install\n IBM-ShortName: jaxws-2.3\n IBM-SPI-Package: com.ibm.wsspi.webservices.handler\n-IBM-API-Package: \\\n- javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.wsdl; type=\"spec\", \\\n- javax.wsdl.extensions; type=\"spec\", \\\n- javax.wsdl.extensions.http; type=\"spec\", \\\n- javax.wsdl.extensions.mime; type=\"spec\", \\\n- javax.wsdl.extensions.schema; type=\"spec\", \\\n- javax.wsdl.extensions.soap; type=\"spec\", \\\n- javax.wsdl.extensions.soap12; type=\"spec\", \\\n- javax.wsdl.factory; type=\"spec\", \\\n- javax.wsdl.xml; type=\"spec\", \\\n- javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.xml.ws; type=\"spec\", \\\n- javax.xml.ws.handler; type=\"spec\", \\\n- javax.xml.ws.handler.soap; type=\"spec\", \\\n- javax.xml.ws.http; type=\"spec\", \\\n- javax.xml.ws.soap; type=\"spec\", \\\n- javax.xml.ws.spi; type=\"spec\", \\\n- javax.xml.ws.spi.http; type=\"spec\", \\\n- javax.xml.ws.wsaddressing; type=\"spec\", \\\n+IBM-API-Package: ", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5NjcwNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544696706", "bodyText": "If it does become 2.2, we cannot depend on servlet of course like we talked about.", "author": "jhanders34", "createdAt": "2020-12-16T23:26:27Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jaxws-2.3/com.ibm.websphere.appserver.jaxws-2.3.feature", "diffHunk": "@@ -6,35 +6,16 @@ IBM-App-ForceRestart: uninstall, \\\n  install\n IBM-ShortName: jaxws-2.3\n IBM-SPI-Package: com.ibm.wsspi.webservices.handler\n-IBM-API-Package: \\\n- javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.wsdl; type=\"spec\", \\\n- javax.wsdl.extensions; type=\"spec\", \\\n- javax.wsdl.extensions.http; type=\"spec\", \\\n- javax.wsdl.extensions.mime; type=\"spec\", \\\n- javax.wsdl.extensions.schema; type=\"spec\", \\\n- javax.wsdl.extensions.soap; type=\"spec\", \\\n- javax.wsdl.extensions.soap12; type=\"spec\", \\\n- javax.wsdl.factory; type=\"spec\", \\\n- javax.wsdl.xml; type=\"spec\", \\\n- javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.xml.ws; type=\"spec\", \\\n- javax.xml.ws.handler; type=\"spec\", \\\n- javax.xml.ws.handler.soap; type=\"spec\", \\\n- javax.xml.ws.http; type=\"spec\", \\\n- javax.xml.ws.soap; type=\"spec\", \\\n- javax.xml.ws.spi; type=\"spec\", \\\n- javax.xml.ws.spi.http; type=\"spec\", \\\n- javax.xml.ws.wsaddressing; type=\"spec\", \\\n+IBM-API-Package: \n  org.apache.cxf.binding.soap.wsdl.extensions;type=\"internal\", \\\n- org.apache.cxf.databinding;type=\"internal\", \\\n- javax.jws; type=\"spec\"; require-java:=\"9\"\n+ org.apache.cxf.databinding;type=\"internal\"\n Subsystem-Name: Java Web Services 2.3\n--features=\\\n- com.ibm.websphere.appserver.jaxb-2.3, \\\n- com.ibm.websphere.appserver.internal.jaxws-2.3, \\\n- com.ibm.websphere.appserver.eeCompatible-8.0\n+-features= \\\n+ com.ibm.websphere.appserver.globalhandler-1.0, \\\n+ com.ibm.websphere.appserver.jaxws.common-2.3, \\\n+ com.ibm.websphere.appserver.servlet-4.0", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcwNTYyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544705622", "bodyText": "Yep, absolutely true I elected to keep it for now, as it will require making updates to the fat repeat rules.", "author": "neuwerk", "createdAt": "2020-12-16T23:48:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5NjcwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5ODYwNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544698605", "bodyText": "Ideally, jaxws.2.3.clientcontainer would remove the identical classes that are in jaxws.clientcontainer and only have the ones that are different like what we did with some other components.", "author": "jhanders34", "createdAt": "2020-12-16T23:30:59Z", "path": "dev/com.ibm.ws.jaxws.2.3.clientcontainer/bnd.bnd", "diffHunk": "@@ -9,29 +9,29 @@\n #     IBM Corporation - initial API and implementation\n #*******************************************************************************\n -include= ~../cnf/resources/bnd/bundle.props\n-          \n+exportVer=2.3\n bVersion=1.0\n \n Bundle-Name: JAX-WS ClientContainer\n Bundle-SymbolicName: com.ibm.ws.jaxws.2.3.clientcontainer\n Bundle-Description: IBM JAX-WS ClientContainer; version=${bVersion}\n-\n-\n+Bundle-Activator: org.apache.cxf.bus.osgi.CXFActivator\n \n # in cxf-rt-frontend-jaxws-2.6.2 bundle, we exposed: \n # META-INF/services/javax.xml.ws.spi.Provider = com.ibm.ws.jaxws.client.LibertyProviderImpl\n # so we need make com.ibm.ws.jaxws.client;thread-context=true\n Export-Package: \\\n-    com.ibm.ws.jaxws, \\\n-    com.ibm.ws.jaxws.bus, \\\n-    com.ibm.ws.jaxws.client;thread-context=true, \\\n-    com.ibm.ws.jaxws.client.injection, \\\n-    com.ibm.ws.jaxws.metadata, \\\n-    com.ibm.ws.jaxws.metadata.builder, \\\n-    com.ibm.ws.jaxws.security, \\\n-    com.ibm.ws.jaxws.support, \\\n-    com.ibm.ws.jaxws.utils, \\\n-    com.ibm.wsspi.jaxws\n+    com.ibm.ws.jaxws;version=${exportVer},\\", "originalCommit": "c0133534f970eb84111f82164f68c623fa686461", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcwNzc0Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r544707746", "bodyText": "Totally right, and I mention this in a later comment, but I would like to go further in that there is common code shared across both versions and across the server/client containers.", "author": "neuwerk", "createdAt": "2020-12-16T23:54:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5ODYwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMxNjMxMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545316312", "bodyText": "For these com.ibm.ws.jaxws*, could you use package-info.java files (with the OSGI versions in them) instead of exporting them here?", "author": "andymc12", "createdAt": "2020-12-17T18:39:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDY5ODYwNQ=="}], "type": "inlineReview"}, {"oid": "fa05ae1595eb2bd00dc6f1c2cf4aa6ee1a7e8777", "url": "https://github.com/OpenLiberty/open-liberty/commit/fa05ae1595eb2bd00dc6f1c2cf4aa6ee1a7e8777", "message": "Updates to get xmlWS working more\n\n- Updates to get xml files to parse correctly\n- Transformation updates for both soap and jaxb\n- Transform com.ibm.ws.jaxws.tools\n- Updates to do proper replacement for jaxws-2.2 when doing EE9 testing\n\nCode review changes", "committedDate": "2020-12-17T01:53:58Z", "type": "forcePushed"}, {"oid": "0a827ccef06eda7a1cb23892303a340919b57960", "url": "https://github.com/OpenLiberty/open-liberty/commit/0a827ccef06eda7a1cb23892303a340919b57960", "message": "Update jaxws.2.3.common to implement missing methods", "committedDate": "2020-12-17T18:01:43Z", "type": "commit"}, {"oid": "1b505c70937f277372053683cb7c113a18a1f86c", "url": "https://github.com/OpenLiberty/open-liberty/commit/1b505c70937f277372053683cb7c113a18a1f86c", "message": "jaxwsClient-2.3 runtime update", "committedDate": "2020-12-17T18:01:44Z", "type": "commit"}, {"oid": "07e3e3ef8169ccf82b4d464602548a00e95a411e", "url": "https://github.com/OpenLiberty/open-liberty/commit/07e3e3ef8169ccf82b4d464602548a00e95a411e", "message": "intial code review changes", "committedDate": "2020-12-17T18:01:45Z", "type": "commit"}, {"oid": "d236f12fc0906e2a9d7a44e170a3b55177b25751", "url": "https://github.com/OpenLiberty/open-liberty/commit/d236f12fc0906e2a9d7a44e170a3b55177b25751", "message": "Add xmlWSClient-3.0 feature\n\nClean up jaxwsClient changes\n\nRemove doPriv dupped vars'\n\nfix missing import\n\nRemove unnecessary change\n\nPB fixes and bringing in needed dependencies\n\nAdd proper versioning", "committedDate": "2020-12-17T18:01:45Z", "type": "commit"}, {"oid": "32710d8e95feb94ed007162b7c697a450a6068a8", "url": "https://github.com/OpenLiberty/open-liberty/commit/32710d8e95feb94ed007162b7c697a450a6068a8", "message": "Updates to get xmlWS working more\n\n- Updates to get xml files to parse correctly\n- Transformation updates for both soap and jaxb\n- Transform com.ibm.ws.jaxws.tools\n- Updates to do proper replacement for jaxws-2.2 when doing EE9 testing\n\nCode review changes", "committedDate": "2020-12-17T18:01:46Z", "type": "commit"}, {"oid": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "url": "https://github.com/OpenLiberty/open-liberty/commit/82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "message": "More code review clean up\n\nCode review changes continued\n\n...yet more fixes\n\nRemove feature default\n\nRemove additional feature disable\n\nRemove duplicate cxf client bundle from jaxrs-2.1 features", "committedDate": "2020-12-17T18:01:50Z", "type": "commit"}, {"oid": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "url": "https://github.com/OpenLiberty/open-liberty/commit/82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "message": "More code review clean up\n\nCode review changes continued\n\n...yet more fixes\n\nRemove feature default\n\nRemove additional feature disable\n\nRemove duplicate cxf client bundle from jaxrs-2.1 features", "committedDate": "2020-12-17T18:01:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMxMzc3Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545313776", "bodyText": "Good catch!", "author": "andymc12", "createdAt": "2020-12-17T18:35:54Z", "path": "dev/com.ibm.ws.jaxrs.2.0.common/src/com/ibm/ws/jaxrs20/bus/LibertyApplicationBusFactory.java", "diffHunk": "@@ -260,7 +260,7 @@ public void postShutdown() {\n         @Override\n         public void preShutdown() {\n             for (LibertyApplicationBusListener listener : listeners) {\n-                listener.postShutdown(bus);\n+                listener.preShutdown(bus);", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMyNzc5Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545327793", "bodyText": "\ud83d\udc4d", "author": "andymc12", "createdAt": "2020-12-17T18:56:22Z", "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.frontend.jaxrs.3.2/src/com/ibm/ws/jaxrs20/bus/LibertyApplicationBusFactory.java", "diffHunk": "@@ -260,7 +260,7 @@ public void postShutdown() {\n         @Override\n         public void preShutdown() {\n             for (LibertyApplicationBusListener listener : listeners) {\n-                listener.postShutdown(bus);\n+                listener.preShutdown(bus);", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM5MDgzMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545390830", "bodyText": "as we talked about with xmlWS-3.0 ddmodel.ws is only in server and not common with the client.", "author": "jhanders34", "createdAt": "2020-12-17T20:42:31Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxws.common-2.3.feature", "diffHunk": "@@ -1,46 +1,64 @@\n -include= ~${workspace}/cnf/resources/bnd/feature.props\n-symbolicName=com.ibm.websphere.appserver.internal.jaxws-2.3\n+symbolicName=com.ibm.websphere.appserver.jaxws.common-2.3\n+Subsystem-Name: Java Web Services Common 2.3\n visibility=private\n singleton=true\n+IBM-Process-Types: client, \\\n+ server\n IBM-App-ForceRestart: uninstall, \\\n-install\n-Subsystem-Name: Internal Java Web Services 2.3\n+ install\n+IBM-API-Package:\\\n+ javax.jws; type=\"spec\"; require-java:=\"9\", \\\n+ javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n+ javax.wsdl; type=\"spec\", \\\n+ javax.wsdl.extensions; type=\"spec\", \\\n+ javax.wsdl.extensions.http; type=\"spec\", \\\n+ javax.wsdl.extensions.mime; type=\"spec\", \\\n+ javax.wsdl.extensions.schema; type=\"spec\", \\\n+ javax.wsdl.extensions.soap; type=\"spec\", \\\n+ javax.wsdl.extensions.soap12; type=\"spec\", \\\n+ javax.wsdl.factory; type=\"spec\", \\\n+ javax.wsdl.xml; type=\"spec\", \\\n+ javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n+ javax.xml.ws; type=\"spec\", \\\n+ javax.xml.ws.handler; type=\"spec\", \\\n+ javax.xml.ws.handler.soap; type=\"spec\", \\\n+ javax.xml.ws.http; type=\"spec\", \\\n+ javax.xml.ws.soap; type=\"spec\", \\\n+ javax.xml.ws.spi; type=\"spec\", \\\n+ javax.xml.ws.spi.http; type=\"spec\", \\\n+ javax.xml.ws.wsaddressing; type=\"spec\"\n -features=\\\n- com.ibm.websphere.appserver.injection-1.0, \\\n- com.ibm.websphere.appserver.servlet-4.0, \\\n  com.ibm.websphere.appserver.classloading-1.0, \\\n- com.ibm.websphere.appserver.javax.mail-1.6, \\\n- com.ibm.websphere.appserver.globalhandler-1.0, \\\n- com.ibm.websphere.appserver.httpcommons-1.0, \\\n- com.ibm.websphere.appserver.internal.cxf.common-3.2, \\\n  com.ibm.websphere.appserver.containerServices-1.0, \\\n- com.ibm.websphere.appserver.internal.slf4j-1.7.7\n+ com.ibm.websphere.appserver.injection-1.0, \\\n+ com.ibm.websphere.appserver.internal.cxf.common-3.2, \\\n+ com.ibm.websphere.appserver.httpcommons-1.0, \\\n+ com.ibm.websphere.appserver.internal.slf4j-1.7.7, \\\n+ com.ibm.websphere.appserver.javax.mail-1.6, \\\n+ com.ibm.websphere.appserver.jaxb-2.3\n -bundles=\\\n+ com.ibm.websphere.javaee.jws.1.0; require-java:=\"9\"; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"javax.jws:jsr181-api:1.0-MR1\", \\\n+ com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; mavenCoordinates=\"javax.xml.ws:jaxws-api:2.3.0\", \\\n+ com.ibm.websphere.javaee.wsdl4j.1.2; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"wsdl4j:wsdl4j:1.6.3\", \\\n+ com.ibm.websphere.prereq.wsdl4j.api; location:=\"dev/api/spec/,lib/\", \\\n  com.ibm.ws.com.sun.xml.messaging.saaj; require-java:=\"9\", \\\n- com.ibm.ws.cxf.client, \\\n+ com.ibm.ws.javaee.ddmodel.ws, \\", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM5NDM3Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545394373", "bodyText": "As discussed with xmlWS, shouldn't this have the ;require-java:=\"9\" appended.", "author": "jhanders34", "createdAt": "2020-12-17T20:49:22Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxws.common-2.3.feature", "diffHunk": "@@ -1,46 +1,64 @@\n -include= ~${workspace}/cnf/resources/bnd/feature.props\n-symbolicName=com.ibm.websphere.appserver.internal.jaxws-2.3\n+symbolicName=com.ibm.websphere.appserver.jaxws.common-2.3\n+Subsystem-Name: Java Web Services Common 2.3\n visibility=private\n singleton=true\n+IBM-Process-Types: client, \\\n+ server\n IBM-App-ForceRestart: uninstall, \\\n-install\n-Subsystem-Name: Internal Java Web Services 2.3\n+ install\n+IBM-API-Package:\\\n+ javax.jws; type=\"spec\"; require-java:=\"9\", \\\n+ javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n+ javax.wsdl; type=\"spec\", \\\n+ javax.wsdl.extensions; type=\"spec\", \\\n+ javax.wsdl.extensions.http; type=\"spec\", \\\n+ javax.wsdl.extensions.mime; type=\"spec\", \\\n+ javax.wsdl.extensions.schema; type=\"spec\", \\\n+ javax.wsdl.extensions.soap; type=\"spec\", \\\n+ javax.wsdl.extensions.soap12; type=\"spec\", \\\n+ javax.wsdl.factory; type=\"spec\", \\\n+ javax.wsdl.xml; type=\"spec\", \\\n+ javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n+ javax.xml.ws; type=\"spec\", \\\n+ javax.xml.ws.handler; type=\"spec\", \\\n+ javax.xml.ws.handler.soap; type=\"spec\", \\\n+ javax.xml.ws.http; type=\"spec\", \\\n+ javax.xml.ws.soap; type=\"spec\", \\\n+ javax.xml.ws.spi; type=\"spec\", \\\n+ javax.xml.ws.spi.http; type=\"spec\", \\\n+ javax.xml.ws.wsaddressing; type=\"spec\"\n -features=\\\n- com.ibm.websphere.appserver.injection-1.0, \\\n- com.ibm.websphere.appserver.servlet-4.0, \\\n  com.ibm.websphere.appserver.classloading-1.0, \\\n- com.ibm.websphere.appserver.javax.mail-1.6, \\\n- com.ibm.websphere.appserver.globalhandler-1.0, \\\n- com.ibm.websphere.appserver.httpcommons-1.0, \\\n- com.ibm.websphere.appserver.internal.cxf.common-3.2, \\\n  com.ibm.websphere.appserver.containerServices-1.0, \\\n- com.ibm.websphere.appserver.internal.slf4j-1.7.7\n+ com.ibm.websphere.appserver.injection-1.0, \\\n+ com.ibm.websphere.appserver.internal.cxf.common-3.2, \\\n+ com.ibm.websphere.appserver.httpcommons-1.0, \\\n+ com.ibm.websphere.appserver.internal.slf4j-1.7.7, \\\n+ com.ibm.websphere.appserver.javax.mail-1.6, \\\n+ com.ibm.websphere.appserver.jaxb-2.3\n -bundles=\\\n+ com.ibm.websphere.javaee.jws.1.0; require-java:=\"9\"; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"javax.jws:jsr181-api:1.0-MR1\", \\\n+ com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; mavenCoordinates=\"javax.xml.ws:jaxws-api:2.3.0\", \\\n+ com.ibm.websphere.javaee.wsdl4j.1.2; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"wsdl4j:wsdl4j:1.6.3\", \\\n+ com.ibm.websphere.prereq.wsdl4j.api; location:=\"dev/api/spec/,lib/\", \\\n  com.ibm.ws.com.sun.xml.messaging.saaj; require-java:=\"9\", \\\n- com.ibm.ws.cxf.client, \\\n+ com.ibm.ws.javaee.ddmodel.ws, \\\n+ com.ibm.ws.javaee.ddmodel.wsbnd, \\\n+ com.ibm.ws.jaxws.tools.2.2.10, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.bindings.xml.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.databinding.jaxb.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.frontend.jaxws.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.frontend.simple.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.management.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.ws.addr.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.wsdl.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.tools.common.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.tools.validator.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.transports.http.hc.3.2, \\\n- com.ibm.ws.org.jvnet.mimepull; require-java:=\"9\", \\\n- com.ibm.websphere.javaee.jws.1.0; require-java:=\"9\"; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"javax.jws:jsr181-api:1.0-MR1\",\\\n- com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; apiJar=false,\\\n- com.ibm.ws.jaxws.tools.2.2.10, \\\n- com.ibm.ws.jaxws.2.3.common; start-phase:=CONTAINER_LATE, \\\n- com.ibm.websphere.prereq.wsdl4j.api; location:=\"dev/api/spec/,lib/\", \\\n- com.ibm.websphere.javaee.wsdl4j.1.2; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"wsdl4j:wsdl4j:1.6.3\", \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.wsdl.3.2, \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.ws.addr.3.2, \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.3.2, \\\n+ com.ibm.ws.org.jvnet.mimepull, \\", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM5OTQ2MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545399460", "bodyText": "As discussed in the xmlws 3.0 PR, this is not common and is only in the server.", "author": "jhanders34", "createdAt": "2020-12-17T20:58:35Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxws.common-2.3.feature", "diffHunk": "@@ -1,46 +1,64 @@\n -include= ~${workspace}/cnf/resources/bnd/feature.props\n-symbolicName=com.ibm.websphere.appserver.internal.jaxws-2.3\n+symbolicName=com.ibm.websphere.appserver.jaxws.common-2.3\n+Subsystem-Name: Java Web Services Common 2.3\n visibility=private\n singleton=true\n+IBM-Process-Types: client, \\\n+ server\n IBM-App-ForceRestart: uninstall, \\\n-install\n-Subsystem-Name: Internal Java Web Services 2.3\n+ install\n+IBM-API-Package:\\\n+ javax.jws; type=\"spec\"; require-java:=\"9\", \\\n+ javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n+ javax.wsdl; type=\"spec\", \\\n+ javax.wsdl.extensions; type=\"spec\", \\\n+ javax.wsdl.extensions.http; type=\"spec\", \\\n+ javax.wsdl.extensions.mime; type=\"spec\", \\\n+ javax.wsdl.extensions.schema; type=\"spec\", \\\n+ javax.wsdl.extensions.soap; type=\"spec\", \\\n+ javax.wsdl.extensions.soap12; type=\"spec\", \\\n+ javax.wsdl.factory; type=\"spec\", \\\n+ javax.wsdl.xml; type=\"spec\", \\\n+ javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n+ javax.xml.ws; type=\"spec\", \\\n+ javax.xml.ws.handler; type=\"spec\", \\\n+ javax.xml.ws.handler.soap; type=\"spec\", \\\n+ javax.xml.ws.http; type=\"spec\", \\\n+ javax.xml.ws.soap; type=\"spec\", \\\n+ javax.xml.ws.spi; type=\"spec\", \\\n+ javax.xml.ws.spi.http; type=\"spec\", \\\n+ javax.xml.ws.wsaddressing; type=\"spec\"\n -features=\\\n- com.ibm.websphere.appserver.injection-1.0, \\\n- com.ibm.websphere.appserver.servlet-4.0, \\\n  com.ibm.websphere.appserver.classloading-1.0, \\\n- com.ibm.websphere.appserver.javax.mail-1.6, \\\n- com.ibm.websphere.appserver.globalhandler-1.0, \\\n- com.ibm.websphere.appserver.httpcommons-1.0, \\\n- com.ibm.websphere.appserver.internal.cxf.common-3.2, \\\n  com.ibm.websphere.appserver.containerServices-1.0, \\\n- com.ibm.websphere.appserver.internal.slf4j-1.7.7\n+ com.ibm.websphere.appserver.injection-1.0, \\\n+ com.ibm.websphere.appserver.internal.cxf.common-3.2, \\\n+ com.ibm.websphere.appserver.httpcommons-1.0, \\\n+ com.ibm.websphere.appserver.internal.slf4j-1.7.7, \\\n+ com.ibm.websphere.appserver.javax.mail-1.6, \\\n+ com.ibm.websphere.appserver.jaxb-2.3\n -bundles=\\\n+ com.ibm.websphere.javaee.jws.1.0; require-java:=\"9\"; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"javax.jws:jsr181-api:1.0-MR1\", \\\n+ com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; mavenCoordinates=\"javax.xml.ws:jaxws-api:2.3.0\", \\\n+ com.ibm.websphere.javaee.wsdl4j.1.2; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"wsdl4j:wsdl4j:1.6.3\", \\\n+ com.ibm.websphere.prereq.wsdl4j.api; location:=\"dev/api/spec/,lib/\", \\\n  com.ibm.ws.com.sun.xml.messaging.saaj; require-java:=\"9\", \\\n- com.ibm.ws.cxf.client, \\\n+ com.ibm.ws.javaee.ddmodel.ws, \\\n+ com.ibm.ws.javaee.ddmodel.wsbnd, \\\n+ com.ibm.ws.jaxws.tools.2.2.10, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.bindings.soap.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.bindings.xml.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.databinding.jaxb.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.frontend.jaxws.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.frontend.simple.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.rt.management.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.ws.addr.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.wsdl.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.tools.common.3.2, \\\n  com.ibm.ws.org.apache.cxf.cxf.tools.validator.3.2, \\\n- com.ibm.ws.org.apache.cxf.cxf.rt.transports.http.hc.3.2, \\\n- com.ibm.ws.org.jvnet.mimepull; require-java:=\"9\", \\\n- com.ibm.websphere.javaee.jws.1.0; require-java:=\"9\"; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"javax.jws:jsr181-api:1.0-MR1\",\\\n- com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; apiJar=false,\\\n- com.ibm.ws.jaxws.tools.2.2.10, \\\n- com.ibm.ws.jaxws.2.3.common; start-phase:=CONTAINER_LATE, \\\n- com.ibm.websphere.prereq.wsdl4j.api; location:=\"dev/api/spec/,lib/\", \\\n- com.ibm.websphere.javaee.wsdl4j.1.2; location:=\"dev/api/spec/,lib/\"; mavenCoordinates=\"wsdl4j:wsdl4j:1.6.3\", \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.wsdl.3.2, \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.ws.addr.3.2, \\\n+ com.ibm.ws.org.apache.cxf.cxf.rt.ws.policy.3.2, \\\n+ com.ibm.ws.org.jvnet.mimepull, \\\n  com.ibm.ws.prereq.wsdl4j.1.6.2, \\\n- com.ibm.ws.jaxws.2.3.wsat, \\\n- com.ibm.ws.javaee.ddmodel.ws, \\\n- com.ibm.ws.javaee.ddmodel.wsbnd, \\\n  com.ibm.ws.webservices.javaee.common", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMTczMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545401733", "bodyText": "Is com.ibm.ws.webservices.handler missing?", "author": "jhanders34", "createdAt": "2020-12-17T21:02:40Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jaxws-2.3/com.ibm.websphere.appserver.jaxws-2.3.feature", "diffHunk": "@@ -7,34 +7,16 @@ IBM-App-ForceRestart: uninstall, \\\n IBM-ShortName: jaxws-2.3\n IBM-SPI-Package: com.ibm.wsspi.webservices.handler\n IBM-API-Package: \\\n- javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.wsdl; type=\"spec\", \\\n- javax.wsdl.extensions; type=\"spec\", \\\n- javax.wsdl.extensions.http; type=\"spec\", \\\n- javax.wsdl.extensions.mime; type=\"spec\", \\\n- javax.wsdl.extensions.schema; type=\"spec\", \\\n- javax.wsdl.extensions.soap; type=\"spec\", \\\n- javax.wsdl.extensions.soap12; type=\"spec\", \\\n- javax.wsdl.factory; type=\"spec\", \\\n- javax.wsdl.xml; type=\"spec\", \\\n- javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.xml.ws; type=\"spec\", \\\n- javax.xml.ws.handler; type=\"spec\", \\\n- javax.xml.ws.handler.soap; type=\"spec\", \\\n- javax.xml.ws.http; type=\"spec\", \\\n- javax.xml.ws.soap; type=\"spec\", \\\n- javax.xml.ws.spi; type=\"spec\", \\\n- javax.xml.ws.spi.http; type=\"spec\", \\\n- javax.xml.ws.wsaddressing; type=\"spec\", \\\n  org.apache.cxf.binding.soap.wsdl.extensions;type=\"internal\", \\\n- org.apache.cxf.databinding;type=\"internal\", \\\n- javax.jws; type=\"spec\"; require-java:=\"9\"\n+ org.apache.cxf.databinding;type=\"internal\"\n Subsystem-Name: Java Web Services 2.3\n--features=\\\n- com.ibm.websphere.appserver.jaxb-2.3, \\\n- com.ibm.websphere.appserver.internal.jaxws-2.3, \\\n- com.ibm.websphere.appserver.eeCompatible-8.0\n+-features= \\\n+ com.ibm.websphere.appserver.eeCompatible-8.0, \\\n+ com.ibm.websphere.appserver.globalhandler-1.0, \\\n+ com.ibm.websphere.appserver.jaxws.common-2.3, \\\n+ com.ibm.websphere.appserver.servlet-4.0\n -bundles=\\\n- com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; mavenCoordinates=\"javax.xml.ws:jaxws-api:2.3.0\"\n+ com.ibm.ws.jaxws.2.3.common; start-phase:=CONTAINER_LATE, \\\n+ com.ibm.ws.jaxws.2.3.wsat", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMTk4Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545401982", "bodyText": "Also don't you need?\n-jars=com.ibm.websphere.appserver.spi.globalhandler; location:=dev/spi/ibm/", "author": "jhanders34", "createdAt": "2020-12-17T21:03:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMTczMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTUzNzgxOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545537818", "bodyText": "Tom explained it is in the globalhandler-1.0 feature.", "author": "jhanders34", "createdAt": "2020-12-18T02:45:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMTczMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMjI3Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545402277", "bodyText": "Please add\nWLP-Activation-Type: parallel", "author": "jhanders34", "createdAt": "2020-12-17T21:03:48Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jaxws-2.3/com.ibm.websphere.appserver.jaxws-2.3.feature", "diffHunk": "@@ -7,34 +7,16 @@ IBM-App-ForceRestart: uninstall, \\\n IBM-ShortName: jaxws-2.3\n IBM-SPI-Package: com.ibm.wsspi.webservices.handler\n IBM-API-Package: \\\n- javax.jws.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.wsdl; type=\"spec\", \\\n- javax.wsdl.extensions; type=\"spec\", \\\n- javax.wsdl.extensions.http; type=\"spec\", \\\n- javax.wsdl.extensions.mime; type=\"spec\", \\\n- javax.wsdl.extensions.schema; type=\"spec\", \\\n- javax.wsdl.extensions.soap; type=\"spec\", \\\n- javax.wsdl.extensions.soap12; type=\"spec\", \\\n- javax.wsdl.factory; type=\"spec\", \\\n- javax.wsdl.xml; type=\"spec\", \\\n- javax.xml.soap; type=\"spec\"; require-java:=\"9\", \\\n- javax.xml.ws; type=\"spec\", \\\n- javax.xml.ws.handler; type=\"spec\", \\\n- javax.xml.ws.handler.soap; type=\"spec\", \\\n- javax.xml.ws.http; type=\"spec\", \\\n- javax.xml.ws.soap; type=\"spec\", \\\n- javax.xml.ws.spi; type=\"spec\", \\\n- javax.xml.ws.spi.http; type=\"spec\", \\\n- javax.xml.ws.wsaddressing; type=\"spec\", \\\n  org.apache.cxf.binding.soap.wsdl.extensions;type=\"internal\", \\\n- org.apache.cxf.databinding;type=\"internal\", \\\n- javax.jws; type=\"spec\"; require-java:=\"9\"\n+ org.apache.cxf.databinding;type=\"internal\"\n Subsystem-Name: Java Web Services 2.3\n--features=\\\n- com.ibm.websphere.appserver.jaxb-2.3, \\\n- com.ibm.websphere.appserver.internal.jaxws-2.3, \\\n- com.ibm.websphere.appserver.eeCompatible-8.0\n+-features= \\\n+ com.ibm.websphere.appserver.eeCompatible-8.0, \\\n+ com.ibm.websphere.appserver.globalhandler-1.0, \\\n+ com.ibm.websphere.appserver.jaxws.common-2.3, \\\n+ com.ibm.websphere.appserver.servlet-4.0\n -bundles=\\\n- com.ibm.websphere.javaee.jaxws.2.3; location:=\"dev/api/spec/\"; mavenCoordinates=\"javax.xml.ws:jaxws-api:2.3.0\"\n+ com.ibm.ws.jaxws.2.3.common; start-phase:=CONTAINER_LATE, \\\n+ com.ibm.ws.jaxws.2.3.wsat\n kind=noship\n edition=full", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMjUxNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545402515", "bodyText": "Please add:\nWLP-Activation-Type: parallel", "author": "jhanders34", "createdAt": "2020-12-17T21:04:15Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxwsClient-2.3.feature", "diffHunk": "@@ -0,0 +1,14 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=com.ibm.websphere.appserver.jaxwsClient-2.3\n+Subsystem-Name: Internal JAX-WS Client Container Features\n+singleton=true\n+visibility=private\n+IBM-App-ForceRestart: uninstall, \\\n+ install\n+IBM-Process-Types: client\n+-features=\\\n+  com.ibm.websphere.appserver.jaxws.common-2.3\n+-bundles=\\\n+  com.ibm.ws.jaxws.2.3.clientcontainer\n+kind=noship\n+edition=full", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMjg4Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545402882", "bodyText": "Please add:\nWLP-Activation-Type: parallel", "author": "jhanders34", "createdAt": "2020-12-17T21:04:54Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/com.ibm.websphere.appserver.jaxws.common-2.3.feature", "diffHunk": "@@ -51,4 +69,4 @@ Subsystem-Name: Internal Java Web Services 2.3\n  bin/jaxws/wsgen.bat, \\\n  bin/jaxws/tools/ws-wsgen.jar\n kind=noship\n-edition=full\n+edition=full", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQwMzA4NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/15196#discussion_r545403084", "bodyText": "Please add:\nWLP-Activation-Type: parallel", "author": "jhanders34", "createdAt": "2020-12-17T21:05:14Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.xmlWSClient-3.0.feature", "diffHunk": "@@ -0,0 +1,14 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.xmlWSClient-3.0\n+Subsystem-Name: Internal JAX-WS Client Container Features\n+singleton=true\n+visibility=private\n+IBM-App-ForceRestart: uninstall, \\\n+ install\n+IBM-Process-Types: client\n+-features=\\\n+  io.openliberty.xmlws.common-3.0\n+-bundles=\\\n+  com.ibm.ws.jaxws.2.3.clientcontainer.jakarta\n+kind=noship\n+edition=full", "originalCommit": "82b858f4e32b74e6fc3ba1bd4515f3d274a6d2c5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a1b8ea2b02b01831560495680d5a529fbe774080", "url": "https://github.com/OpenLiberty/open-liberty/commit/a1b8ea2b02b01831560495680d5a529fbe774080", "message": "Code review changes", "committedDate": "2020-12-17T21:55:22Z", "type": "commit"}]}