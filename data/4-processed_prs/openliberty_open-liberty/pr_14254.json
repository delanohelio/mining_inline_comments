{"pr_number": 14254, "pr_title": "Update JPA 3.0 API to RC2 and Eclipselink 3.0 to 879de6b.", "pr_createdAt": "2020-09-30T22:07:16Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/14254", "timeline": [{"oid": "796af1dee4ca81cbe670e5de745853c08ec939c4", "url": "https://github.com/OpenLiberty/open-liberty/commit/796af1dee4ca81cbe670e5de745853c08ec939c4", "message": "Update JPA 3.0 API to RC2 and Eclipselink 3.0 to 879de6b.\n\nSigned-off-by: Joe Grassel <jgrassel@us.ibm.com>", "committedDate": "2020-09-30T21:55:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNzQyOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498317429", "bodyText": "should this buildpath be updated to:\n    io.openliberty.jakarta.annotation.2.0;version=latest,\\\n    io.openliberty.jakarta.cdi.3.0;version=latest,\\\n    io.openliberty.jakarta.ejb.4.0;version=latest,\\\n    io.openliberty.jakarta.messaging.3.0;version=latest,\\\n    io.openliberty.jakarta.servlet.5.0;version=latest,\\\n    io.openliberty.jakarta.persistence.3.0;version=latest,\\\n    io.openliberty.jakarta.transaction.2.0;version=latest,\\\n    io.openliberty.jakarta.validation.3.0;version=latest", "author": "dazey3", "createdAt": "2020-10-01T15:06:21Z", "path": "dev/com.ibm.ws.jpa_30_fat/bnd.bnd", "diffHunk": "@@ -0,0 +1,34 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+\n+src: \\\n+\tfat/src,\\\n+\ttest-applications/helpers/DatabaseManagement/src,\\\n+\ttest-applications/jpabootstrap/src,\\\n+\ttest-framework/src\n+\n+fat.project: true\n+tested.features: el-3.0, jpa-3.0, servlet-5.0, cdi-3.0, beanValidation-3.0, enterprisebeanslite-4.0\n+\n+# Dependencies may be local bundles (e.g. com.ibm.websphere.javaee.servlet.3.1)\n+#      or binaries from Artifactory (e.g. commons-logging:commons-logging)\n+-buildpath: \\", "originalCommit": "796af1dee4ca81cbe670e5de745853c08ec939c4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMzOTA2Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498339062", "bodyText": "When #14235 is delivered, I can link this to the common jpa test framework project and get rid of them entirely.", "author": "jgrassel", "createdAt": "2020-10-01T15:36:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNzQyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNzc4OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498317788", "bodyText": "Headers update to 2020", "author": "dazey3", "createdAt": "2020-10-01T15:06:48Z", "path": "dev/com.ibm.ws.jpa_30_fat/build.gradle", "diffHunk": "@@ -0,0 +1,15 @@\n+/*******************************************************************************\n+ * Copyright (c) 2017 IBM Corporation and others.", "originalCommit": "796af1dee4ca81cbe670e5de745853c08ec939c4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM0NDExMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498344113", "bodyText": "Fixed.", "author": "jgrassel", "createdAt": "2020-10-01T15:43:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNzc4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMyMTU2Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498321567", "bodyText": "Don't we use DDL generation? If this is necessary, can we change to:\n<property name=\"jakarta.persistence.schema-generation.database.action\" value=\"drop-and-create\"/>", "author": "dazey3", "createdAt": "2020-10-01T15:12:06Z", "path": "dev/com.ibm.ws.jpa_30_fat/test-applications/jpabootstrap/resources/jpa-3.0/WEB-INF/classes/META-INF/persistence.xml", "diffHunk": "@@ -0,0 +1,11 @@\n+<persistence xmlns=\"https://jakarta.ee/xml/ns/persistence\"\n+        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+        xsi:schemaLocation=\"https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd\"\n+        version=\"3.0\">\n+    <persistence-unit name=\"JPAPU\">\n+    \t<properties>\n+\t\t\t<!-- EclipseLink should create the database schema automatically -->\n+\t\t\t<property name=\"eclipselink.ddl-generation\" value=\"drop-and-create-tables\" />", "originalCommit": "796af1dee4ca81cbe670e5de745853c08ec939c4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMzOTYyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498339627", "bodyText": "Don't think we have that set up for this test, a todo for the future.", "author": "jgrassel", "createdAt": "2020-10-01T15:36:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMyMTU2Nw=="}], "type": "inlineReview"}, {"oid": "a5cc1f5889f7f5a01ffead50985eb433ca40e2e8", "url": "https://github.com/OpenLiberty/open-liberty/commit/a5cc1f5889f7f5a01ffead50985eb433ca40e2e8", "message": "Apply Code Review changes.\n\nSigned-off-by: Joe Grassel <jgrassel@us.ibm.com>", "committedDate": "2020-10-01T15:37:48Z", "type": "commit"}, {"oid": "93121d6d219689942fa38884a9b717bfef8f0957", "url": "https://github.com/OpenLiberty/open-liberty/commit/93121d6d219689942fa38884a9b717bfef8f0957", "message": "Fix copyright dates for test library for #14254\n\nSigned-off-by: Joe Grassel <jgrassel@us.ibm.com>", "committedDate": "2020-10-01T18:07:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQzNjc0Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498436743", "bodyText": "Copyright is missing", "author": "tkburroughs", "createdAt": "2020-10-01T18:25:56Z", "path": "dev/com.ibm.ws.jpa_30_fat/test-framework/src/com/ibm/ws/testtooling/vehicle/web/JPATestServlet.java", "diffHunk": "@@ -0,0 +1,156 @@\n+/**", "originalCommit": "93121d6d219689942fa38884a9b717bfef8f0957", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ3MTEwMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14254#discussion_r498471103", "bodyText": "Thanks for catching that. Fixed!", "author": "jgrassel", "createdAt": "2020-10-01T19:35:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQzNjc0Mw=="}], "type": "inlineReview"}, {"oid": "c6ac5c51b06e458a8cbe0064057fec19a7347e22", "url": "https://github.com/OpenLiberty/open-liberty/commit/c6ac5c51b06e458a8cbe0064057fec19a7347e22", "message": "Add missing copyright header.\n\nSigned-off-by: Joe Grassel <jgrassel@us.ibm.com>", "committedDate": "2020-10-01T19:34:31Z", "type": "commit"}]}