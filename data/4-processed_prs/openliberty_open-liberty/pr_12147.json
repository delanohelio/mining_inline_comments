{"pr_number": 12147, "pr_title": "Update Servlet Version & MajorVersion for Servlet-5.0", "pr_createdAt": "2020-05-12T19:05:51Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12147", "timeline": [{"oid": "ecd3d36aad68029271e1e9cbfb89d3e8bded1661", "url": "https://github.com/OpenLiberty/open-liberty/commit/ecd3d36aad68029271e1e9cbfb89d3e8bded1661", "message": "12021: Transform servletVersion to 50 in com.ibm.ws.webcontainer.servlet.4.0.factories", "committedDate": "2020-05-12T19:04:10Z", "type": "commit"}, {"oid": "aa0fe207ff47e88e8cfedc3ccbc682cfef108642", "url": "https://github.com/OpenLiberty/open-liberty/commit/aa0fe207ff47e88e8cfedc3ccbc682cfef108642", "message": "Alphabetize Jarkarta Rename & Version Rules", "committedDate": "2020-05-12T19:18:09Z", "type": "forcePushed"}, {"oid": "6fe2b640f7b871c70e0e37e20036bd9b886902bd", "url": "https://github.com/OpenLiberty/open-liberty/commit/6fe2b640f7b871c70e0e37e20036bd9b886902bd", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion", "committedDate": "2020-05-12T20:42:22Z", "type": "forcePushed"}, {"oid": "1a0f70430674a275033f719b7594e957cf19a027", "url": "https://github.com/OpenLiberty/open-liberty/commit/1a0f70430674a275033f719b7594e957cf19a027", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion", "committedDate": "2020-05-12T20:51:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA2NjY5Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147#discussion_r424066697", "bodyText": "Can we limit this method to one return statement?", "author": "pnicolucci", "createdAt": "2020-05-12T22:19:36Z", "path": "dev/com.ibm.ws.webcontainer.servlet.4.0/src/com/ibm/ws/webcontainer40/osgi/webapp/WebApp40.java", "diffHunk": "@@ -72,6 +73,10 @@ public WebApp40(WebAppConfiguration webAppConfig,\n      */\n     @Override\n     public int getMajorVersion() {\n+        \n+        if(WebContainer.getServletContainerSpecLevel() == WebContainer.SPEC_LEVEL_50){\n+            return 5;\n+        }  ", "originalCommit": "1a0f70430674a275033f719b7594e957cf19a027", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA2NzM1Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147#discussion_r424067356", "bodyText": "Can you explain why we keep the v40 attribute?", "author": "pnicolucci", "createdAt": "2020-05-12T22:21:20Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-servletVersion.properties", "diffHunk": "@@ -0,0 +1,4 @@\n+# Change version (occurs with all references within the file)\n+40=50\n+# Change name attribute back to original (should not change)\n+com.ibm.ws.webcontainer.v50.dd=com.ibm.ws.webcontainer.v40.dd", "originalCommit": "1a0f70430674a275033f719b7594e957cf19a027", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "17b6b93b68472dfa137c78b3f47ac07366ace245", "url": "https://github.com/OpenLiberty/open-liberty/commit/17b6b93b68472dfa137c78b3f47ac07366ace245", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion", "committedDate": "2020-05-13T15:42:36Z", "type": "forcePushed"}, {"oid": "906b513dba0baeda84c435151cff2f3593e2ef45", "url": "https://github.com/OpenLiberty/open-liberty/commit/906b513dba0baeda84c435151cff2f3593e2ef45", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion", "committedDate": "2020-05-13T16:09:17Z", "type": "forcePushed"}, {"oid": "3753f3f32391818becc3a8c271fcd6ba55ef13a3", "url": "https://github.com/OpenLiberty/open-liberty/commit/3753f3f32391818becc3a8c271fcd6ba55ef13a3", "message": "Return correct MajorVersion in servlet-5.0", "committedDate": "2020-05-13T16:39:53Z", "type": "commit"}, {"oid": "1fabab8a682b047afcf07574e51ec3894ee312c7", "url": "https://github.com/OpenLiberty/open-liberty/commit/1fabab8a682b047afcf07574e51ec3894ee312c7", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion", "committedDate": "2020-05-13T16:39:53Z", "type": "commit"}, {"oid": "1fabab8a682b047afcf07574e51ec3894ee312c7", "url": "https://github.com/OpenLiberty/open-liberty/commit/1fabab8a682b047afcf07574e51ec3894ee312c7", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion", "committedDate": "2020-05-13T16:39:53Z", "type": "forcePushed"}]}