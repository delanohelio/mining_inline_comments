{"pr_number": 10521, "pr_title": "disallow retryInterval when fail over is enabled", "pr_createdAt": "2020-01-21T23:02:23Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/10521", "timeline": [{"oid": "acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "url": "https://github.com/OpenLiberty/open-liberty/commit/acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "message": "Issue #8610 disallow retryInterval when fail over is enabled", "committedDate": "2020-01-22T14:47:19Z", "type": "commit"}, {"oid": "acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "url": "https://github.com/OpenLiberty/open-liberty/commit/acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "message": "Issue #8610 disallow retryInterval when fail over is enabled", "committedDate": "2020-01-22T14:47:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY1NjQxNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r369656415", "bodyText": "looks like there's a typo at the start of the line- desc code appears twice?\nThe final sentence- This enables failover\nWhat, specifically, enables failover? Need to specify - is it the process described in the previous sentence? Or missedTaskThreshold?", "author": "dmuelle", "createdAt": "2020-01-22T16:13:41Z", "path": "dev/com.ibm.ws.concurrent.persistent/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -41,7 +41,7 @@ jndiName=JNDI name\n jndiName.desc=JNDI name.\n \n missedTaskThreshold=Missed task threshold for fail over\n-missedTaskThreshold.desc=Amount of time beyond the expected start of a task execution to reserve for running it. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without successful execution of the task, then the task execution is considered missed, enabling another member to attempt to run it. This enables fail over.\n+missedTaskThreshold.desc=missedTaskThreshold.desc=Amount of time beyond the expected start of a task execution to reserve for running it. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without successful execution of the task or the task rolls back, then the task execution is considered missed, enabling another member to attempt to run it. This enables fail over.", "originalCommit": "acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY5MzE4MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r369693181", "bodyText": "Thanks for catching this.  I attempted to fix this issue and the other issues that you found under\n726da70\nPlease review and approve or let me know if further changes are needed.", "author": "njr-11", "createdAt": "2020-01-22T17:16:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY1NjQxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY1NzUyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r369657525", "bodyText": "change\nConfiguration attribute {0} is not valid when {1} is enabled\nto\nThe {0} configuration attribute is not valid when the {1} configuration attribute is enabled.", "author": "dmuelle", "createdAt": "2020-01-22T16:15:24Z", "path": "dev/com.ibm.ws.concurrent.persistent/resources/com/ibm/ws/concurrent/persistent/resources/CWWKCMessages.nlsprops", "diffHunk": "@@ -55,9 +55,9 @@ CWWKC1520.out.of.range=CWWKC1520E: Configured value {0} for {1} is not within th\n CWWKC1520.out.of.range.explanation=A value that is outside of the allowed range is configured for the specified property.\n CWWKC1520.out.of.range.useraction=Configure a value within the allowed range.\n \n-CWWKC1521.less.than.min=CWWKC1521E: Configured value {0} for {1} cannot be less than the configured value for {2}, which is {3}.\n-CWWKC1521.less.than.min.explanation=Configuring a larger retryInterval encourages other servers to retry the failed task instead of the server on which it failed.\n-CWWKC1521.less.than.min.useraction=Configure the retryInterval property so that it is larger than the missedTaskThreshold.\n+CWWKC1521.not.compatible=CWWKC1521E: Configuration attribute {0} is not valid when {1} is enabled.", "originalCommit": "acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY1ODYzNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r369658635", "bodyText": "change\nUpdate configuration to remove one of the configuration attributes.\nto\nUpdate the configuration to remove one of the configuration attributes.", "author": "dmuelle", "createdAt": "2020-01-22T16:17:09Z", "path": "dev/com.ibm.ws.concurrent.persistent/resources/com/ibm/ws/concurrent/persistent/resources/CWWKCMessages.nlsprops", "diffHunk": "@@ -55,9 +55,9 @@ CWWKC1520.out.of.range=CWWKC1520E: Configured value {0} for {1} is not within th\n CWWKC1520.out.of.range.explanation=A value that is outside of the allowed range is configured for the specified property.\n CWWKC1520.out.of.range.useraction=Configure a value within the allowed range.\n \n-CWWKC1521.less.than.min=CWWKC1521E: Configured value {0} for {1} cannot be less than the configured value for {2}, which is {3}.\n-CWWKC1521.less.than.min.explanation=Configuring a larger retryInterval encourages other servers to retry the failed task instead of the server on which it failed.\n-CWWKC1521.less.than.min.useraction=Configure the retryInterval property so that it is larger than the missedTaskThreshold.\n+CWWKC1521.not.compatible=CWWKC1521E: Configuration attribute {0} is not valid when {1} is enabled.\n+CWWKC1521.not.compatible.explanation=The specified configuration attributes are not compatible.\n+CWWKC1521.not.compatible.useraction=Update configuration to remove one of the configuration attributes.", "originalCommit": "acee8ac680b6c7c374d4c041b5c57aa90cf5e6d4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "726da70bbb1c8c0f3ba51a7f7f9a16e02de916b9", "url": "https://github.com/OpenLiberty/open-liberty/commit/726da70bbb1c8c0f3ba51a7f7f9a16e02de916b9", "message": "Issue #8610 fix message review issues", "committedDate": "2020-01-22T17:14:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTcwMjk3Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r369702972", "bodyText": "change\nAmount of time beyond the expected start of a task execution to reserve for running it.\nto\nThe amount of time after the expected start of a task execution that is reserved for running the task.", "author": "dmuelle", "createdAt": "2020-01-22T17:36:12Z", "path": "dev/com.ibm.ws.concurrent.persistent/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -41,7 +41,7 @@ jndiName=JNDI name\n jndiName.desc=JNDI name.\n \n missedTaskThreshold=Missed task threshold for fail over\n-missedTaskThreshold.desc=Amount of time beyond the expected start of a task execution to reserve for running it. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without successful execution of the task, then the task execution is considered missed, enabling another member to attempt to run it. This enables fail over.\n+missedTaskThreshold.desc=Amount of time beyond the expected start of a task execution to reserve for running it. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without successful execution of the task or the task rolls back, then the task execution is considered missed, enabling another member to attempt to run it. Missed task threshold values within the supported range of 100 seconds to 9000 seconds (2.5 hours) enable failover.", "originalCommit": "726da70bbb1c8c0f3ba51a7f7f9a16e02de916b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTcyODQ3NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r369728475", "bodyText": "The fix for the above has been made exactly as suggested under 9d01e54", "author": "njr-11", "createdAt": "2020-01-22T18:28:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTcwMjk3Mg=="}], "type": "inlineReview"}, {"oid": "9d01e544ea48cebdf0ae90ef0787d6af15ef4e25", "url": "https://github.com/OpenLiberty/open-liberty/commit/9d01e544ea48cebdf0ae90ef0787d6af15ef4e25", "message": "Issue #8610 additional message review fix", "committedDate": "2020-01-22T18:27:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE3NDg0OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r370174848", "bodyText": "**suggested revision (removes \"execution\")\nThe amount of time after the expected start of a task  that is reserved for running the task. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without the task running successfully, or the task rolls back, then the task run is considered missed, enabling another member to attempt to run it. Missed task threshold values within the supported range of 100 seconds to 9000 seconds (2.5 hours) enable failover.", "author": "dmuelle", "createdAt": "2020-01-23T15:10:33Z", "path": "dev/com.ibm.ws.concurrent.persistent/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -41,7 +41,7 @@ jndiName=JNDI name\n jndiName.desc=JNDI name.\n \n missedTaskThreshold=Missed task threshold for fail over\n-missedTaskThreshold.desc=Amount of time beyond the expected start of a task execution to reserve for running it. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without successful execution of the task, then the task execution is considered missed, enabling another member to attempt to run it. This enables fail over.\n+missedTaskThreshold.desc=The amount of time after the expected start of a task execution that is reserved for running the task. Other members are prevented from running the task before the expiration of this interval. If the interval elapses without successful execution of the task or the task rolls back, then the task execution is considered missed, enabling another member to attempt to run it. Missed task threshold values within the supported range of 100 seconds to 9000 seconds (2.5 hours) enable failover.", "originalCommit": "9d01e544ea48cebdf0ae90ef0787d6af15ef4e25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIwODk5Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10521#discussion_r370208993", "bodyText": "Updated here:\nf40a335", "author": "njr-11", "createdAt": "2020-01-23T16:05:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE3NDg0OA=="}], "type": "inlineReview"}, {"oid": "f40a335f74e6e1ae21c568ba8343d1a5d4ffefc2", "url": "https://github.com/OpenLiberty/open-liberty/commit/f40a335f74e6e1ae21c568ba8343d1a5d4ffefc2", "message": "Issue #8610 late message review comment asking for the term execution to be removed", "committedDate": "2020-01-23T16:04:04Z", "type": "commit"}, {"oid": "d70b2665773e5e72e6582512f150672539debf44", "url": "https://github.com/OpenLiberty/open-liberty/commit/d70b2665773e5e72e6582512f150672539debf44", "message": "Merge branch 'integration' into 8610-disallow-retryInterval-when-failover-enabled-merged", "committedDate": "2020-01-23T21:53:10Z", "type": "commit"}, {"oid": "2cd839b0518d1e711b966481fde06180c3fee6be", "url": "https://github.com/OpenLiberty/open-liberty/commit/2cd839b0518d1e711b966481fde06180c3fee6be", "message": "Issue #8610 adjust test expectation per soft merge conflict", "committedDate": "2020-01-24T14:25:29Z", "type": "commit"}]}