{"pr_number": 12731, "pr_title": "Jakarta Connectors 2.0 feature setup", "pr_createdAt": "2020-06-22T15:13:59Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12731", "timeline": [{"oid": "a71df3ee595396c641b0d5fa35ae116a0c889aba", "url": "https://github.com/OpenLiberty/open-liberty/commit/a71df3ee595396c641b0d5fa35ae116a0c889aba", "message": "update project name", "committedDate": "2020-06-22T18:02:28Z", "type": "forcePushed"}, {"oid": "5d5c0a71ad873108b39f983c26d2e8a9e967ee4e", "url": "https://github.com/OpenLiberty/open-liberty/commit/5d5c0a71ad873108b39f983c26d2e8a9e967ee4e", "message": "update project name", "committedDate": "2020-06-22T18:49:34Z", "type": "forcePushed"}, {"oid": "9f9d0aeed7b75ef46245acf8cb168bd640bf664d", "url": "https://github.com/OpenLiberty/open-liberty/commit/9f9d0aeed7b75ef46245acf8cb168bd640bf664d", "message": "update project name", "committedDate": "2020-06-24T18:18:14Z", "type": "forcePushed"}, {"oid": "42590d26f245e8bbaa6459dbfb5e93397a7d1ffa", "url": "https://github.com/OpenLiberty/open-liberty/commit/42590d26f245e8bbaa6459dbfb5e93397a7d1ffa", "message": "update project name", "committedDate": "2020-07-07T16:31:05Z", "type": "forcePushed"}, {"oid": "ee8e32b410fe7550fdf14f41af990bc76d581ef3", "url": "https://github.com/OpenLiberty/open-liberty/commit/ee8e32b410fe7550fdf14f41af990bc76d581ef3", "message": "update project name", "committedDate": "2020-07-15T15:29:25Z", "type": "forcePushed"}, {"oid": "0e2e1929abd0e21aeb7f771a8fd6c652399f611c", "url": "https://github.com/OpenLiberty/open-liberty/commit/0e2e1929abd0e21aeb7f771a8fd6c652399f611c", "message": "update project name", "committedDate": "2020-07-20T19:11:39Z", "type": "forcePushed"}, {"oid": "a8ce3dadbf32fe856a3193048a5c12c47db987ad", "url": "https://github.com/OpenLiberty/open-liberty/commit/a8ce3dadbf32fe856a3193048a5c12c47db987ad", "message": "update project name", "committedDate": "2020-07-20T20:01:34Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MTI3Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r457661272", "bodyText": "this should pull in jaxb-3.0, and also pull in the non-optional variant", "author": "aguibert", "createdAt": "2020-07-20T20:06:30Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.jakarta.internal.jca-1.6.feature", "diffHunk": "@@ -0,0 +1,24 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.jakarta.internal.jca-1.6\n+IBM-API-Package: \\\n+  com.ibm.ws.jca.service; type=\"internal\", \\\n+  jakarta.resource; type=\"spec\", \\\n+  jakarta.resource.cci; type=\"spec\", \\\n+  jakarta.resource.spi; type=\"spec\", \\\n+  jakarta.resource.spi.endpoint; type=\"spec\", \\\n+  jakarta.resource.spi.security; type=\"spec\", \\\n+  jakarta.resource.spi.work; type=\"spec\"\n+-features=\\\n+  com.ibm.websphere.appserver.appmanager-1.0, \\\n+  com.ibm.websphere.appserver.classloading-1.0, \\\n+  com.ibm.websphere.appserver.connectionManagement-1.0,\\\n+  com.ibm.websphere.appserver.contextService-1.0, \\\n+  com.ibm.websphere.appserver.dynamicBundle-1.0, \\\n+  com.ibm.websphere.appserver.internal.optional.jaxb-2.2; \\", "originalCommit": "a8ce3dadbf32fe856a3193048a5c12c47db987ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MTQxNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r457661415", "bodyText": "should be edition=full when kind=noship", "author": "aguibert", "createdAt": "2020-07-20T20:06:47Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.jakarta.internal.jca-1.6.feature", "diffHunk": "@@ -0,0 +1,24 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.jakarta.internal.jca-1.6\n+IBM-API-Package: \\\n+  com.ibm.ws.jca.service; type=\"internal\", \\\n+  jakarta.resource; type=\"spec\", \\\n+  jakarta.resource.cci; type=\"spec\", \\\n+  jakarta.resource.spi; type=\"spec\", \\\n+  jakarta.resource.spi.endpoint; type=\"spec\", \\\n+  jakarta.resource.spi.security; type=\"spec\", \\\n+  jakarta.resource.spi.work; type=\"spec\"\n+-features=\\\n+  com.ibm.websphere.appserver.appmanager-1.0, \\\n+  com.ibm.websphere.appserver.classloading-1.0, \\\n+  com.ibm.websphere.appserver.connectionManagement-1.0,\\\n+  com.ibm.websphere.appserver.contextService-1.0, \\\n+  com.ibm.websphere.appserver.dynamicBundle-1.0, \\\n+  com.ibm.websphere.appserver.internal.optional.jaxb-2.2; \\\n+  com.ibm.websphere.appserver.transaction-2.0\n+-bundles=\\\n+  com.ibm.ws.jca.jakarta, \\\n+  com.ibm.ws.jca.utils.jakarta, \\\n+  com.ibm.ws.jca.feature.jakarta\n+kind=noship\n+edition=base", "originalCommit": "a8ce3dadbf32fe856a3193048a5c12c47db987ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MTgzMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r457661833", "bodyText": "this line can be removed since com.ibm.ws.jca service is already exposed from the internal feature", "author": "aguibert", "createdAt": "2020-07-20T20:07:37Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jca-2.0/io.openliberty.jca-2.0.feature", "diffHunk": "@@ -0,0 +1,18 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.jca-2.0\n+visibility=public\n+singleton=true\n+IBM-API-Package: com.ibm.ws.jca.service; type=\"internal\"", "originalCommit": "a8ce3dadbf32fe856a3193048a5c12c47db987ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MTk5OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r457661998", "bodyText": "edution=full here also", "author": "aguibert", "createdAt": "2020-07-20T20:07:57Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/jca-2.0/io.openliberty.jca-2.0.feature", "diffHunk": "@@ -0,0 +1,18 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.jca-2.0\n+visibility=public\n+singleton=true\n+IBM-API-Package: com.ibm.ws.jca.service; type=\"internal\"\n+IBM-ShortName: jca-2.0\n+Subsystem-Name: Jakarta EE Connector Architecture 2.0\n+Subsystem-Category: JakartaEE9Application\n+-features=io.openliberty.jakarta.connector-2.0, \\\n+ io.openliberty.jakartaeePlatform-9.0, \\\n+ io.openliberty.jakarta.internal.jca-1.6, \\\n+ com.ibm.websphere.appserver.transaction-2.0, \\\n+ com.ibm.websphere.appserver.eeCompatible-9.0, \\\n+ io.openliberty.jaxb-3.0\n+-bundles=com.ibm.ws.app.manager.rar, \\\n+ com.ibm.ws.jca.1.7.jakarta\n+kind=noship\n+edition=base", "originalCommit": "a8ce3dadbf32fe856a3193048a5c12c47db987ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MjgzMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r457662830", "bodyText": "were you intending to apply the JakartaEE9 action with this bucket?", "author": "aguibert", "createdAt": "2020-07-20T20:09:45Z", "path": "dev/com.ibm.ws.jca_fat/fat/src/com/ibm/ws/jca/fat/FATSuite.java", "diffHunk": "@@ -19,13 +19,12 @@\n import com.ibm.ws.jca.fat.app.DependantApplicationTest;\n import com.ibm.ws.jca.fat.app.JCATest;\n \n-import componenttest.custom.junit.runner.AlwaysPassesTest;\n import componenttest.rules.repeater.FeatureReplacementAction;\n+import componenttest.rules.repeater.JakartaEE9Action;", "originalCommit": "a8ce3dadbf32fe856a3193048a5c12c47db987ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMxMTk5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r458311991", "bodyText": "Yes, but likely in a future PR.  I was testing it out, but will likely go through these one at a time and resolve issues along the way. :)", "author": "KyleAure", "createdAt": "2020-07-21T18:43:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY2MjgzMA=="}], "type": "inlineReview"}, {"oid": "e9d84197b0a63c931e7309993ceaa7aa127d5034", "url": "https://github.com/OpenLiberty/open-liberty/commit/e9d84197b0a63c931e7309993ceaa7aa127d5034", "message": "Review updates", "committedDate": "2020-07-21T18:44:26Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MjE1Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r458642156", "bodyText": "Initially I was confused as to why this was already beta. I think it is because this API is pulled in by transaction-2.0. I can't see an update to that feature to change the name?", "author": "tevans78", "createdAt": "2020-07-22T08:57:24Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.jakarta.connectors-2.0.feature", "diffHunk": "@@ -0,0 +1,7 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.jakarta.connectors-2.0", "originalCommit": "e9d84197b0a63c931e7309993ceaa7aa127d5034", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkxOTM0MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12731#discussion_r458919340", "bodyText": "Hey Tom.  Thank you for catching this!!!  You are correct, I missed updating the transaction dependency on connectors-2.0.  I have updated this with an additional commit. I'll do a new build now.", "author": "KyleAure", "createdAt": "2020-07-22T16:23:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MjE1Ng=="}], "type": "inlineReview"}, {"oid": "4bfcfd399773dce687fa534a9108a172600db07e", "url": "https://github.com/OpenLiberty/open-liberty/commit/4bfcfd399773dce687fa534a9108a172600db07e", "message": "Feedback - update transaction dependency", "committedDate": "2020-07-23T19:34:26Z", "type": "forcePushed"}, {"oid": "9466189972a77038855091db2175ff3ac71d871e", "url": "https://github.com/OpenLiberty/open-liberty/commit/9466189972a77038855091db2175ff3ac71d871e", "message": "initial jca-2.0 feature setup", "committedDate": "2020-08-03T18:28:07Z", "type": "commit"}, {"oid": "f5385f9350438585ac18bc534baebf0b0bde4bd1", "url": "https://github.com/OpenLiberty/open-liberty/commit/f5385f9350438585ac18bc534baebf0b0bde4bd1", "message": "update project name", "committedDate": "2020-08-03T18:28:11Z", "type": "commit"}, {"oid": "29280d02dd8d201373ad12f04d81100f2d5e80c3", "url": "https://github.com/OpenLiberty/open-liberty/commit/29280d02dd8d201373ad12f04d81100f2d5e80c3", "message": "Review updates", "committedDate": "2020-08-03T18:28:12Z", "type": "commit"}, {"oid": "8f5f97867e38d2979bd3e45982e9c4cf1c991026", "url": "https://github.com/OpenLiberty/open-liberty/commit/8f5f97867e38d2979bd3e45982e9c4cf1c991026", "message": "Feedback - update transaction dependency", "committedDate": "2020-08-03T18:28:13Z", "type": "commit"}, {"oid": "1d7c53bfab1d56cafbe80aefa78b0d14a4915ee1", "url": "https://github.com/OpenLiberty/open-liberty/commit/1d7c53bfab1d56cafbe80aefa78b0d14a4915ee1", "message": "Fix internal/auto features", "committedDate": "2020-08-03T20:33:05Z", "type": "forcePushed"}, {"oid": "22cd266547fa85f684644185e9d542353a67f8be", "url": "https://github.com/OpenLiberty/open-liberty/commit/22cd266547fa85f684644185e9d542353a67f8be", "message": "Fix internal/auto features", "committedDate": "2020-08-04T02:15:30Z", "type": "commit"}, {"oid": "22cd266547fa85f684644185e9d542353a67f8be", "url": "https://github.com/OpenLiberty/open-liberty/commit/22cd266547fa85f684644185e9d542353a67f8be", "message": "Fix internal/auto features", "committedDate": "2020-08-04T02:15:30Z", "type": "forcePushed"}]}