{"pr_number": 12497, "pr_title": "Try prototype MP Config 2.0 based on SmallRye", "pr_createdAt": "2020-06-04T16:30:19Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12497", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM5ODQxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435398417", "bodyText": "You were going to remove these changes", "author": "tevans78", "createdAt": "2020-06-04T16:41:09Z", "path": "dev/com.ibm.ws.microprofile.config.1.1.cdi.services/bnd.bnd", "diffHunk": "@@ -18,9 +18,9 @@ Bundle-Description: Microprofile Config 1.1 CDI Services\n \n Import-Package: \\\n         javax.enterprise.*; version=\"[1.1,3)\", \\\n-        org.eclipse.microprofile.config;version=\"[1.0,2)\", \\\n-        org.eclipse.microprofile.config.inject;version=\"[1.0,2)\", \\\n-        org.eclipse.microprofile.config.spi;version=\"[1.0,2)\", \\\n+        org.eclipse.microprofile.config;version=\"[1.0,3)\", \\", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwMTUzOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435401539", "bodyText": "should be 2020", "author": "tevans78", "createdAt": "2020-06-04T16:46:11Z", "path": "dev/com.ibm.ws.microprofile.config_repeat_tests/src/com/ibm/ws/microprofile/config/fat/repeat/RepeatConfig20EE7.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*******************************************************************************\n+ * Copyright (c) 2018 IBM Corporation and others.", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwMTgxMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435401813", "bodyText": "this comment isn't accurate any more", "author": "tevans78", "createdAt": "2020-06-04T16:46:39Z", "path": "dev/com.ibm.ws.microprofile.config_repeat_tests/src/com/ibm/ws/microprofile/config/fat/repeat/RepeatConfigActions.java", "diffHunk": "@@ -68,20 +68,43 @@ public static RepeatTests repeatConfig13(String server) {\n     }\n \n     /**\n-     * Get the RepeatTests actions for Config 1.4 tests. This is Config 1.4 + EE8 and if the test\n-     * mode is full Config 1.4 + EE7.\n+     * Get the RepeatTests actions for Config 1.4 tests. This is the same as for Config 2.0 tests but\n+     * if the test mode is FULL the it also adds Config 1.4 + EE7 and Config 1.4 + EE8.", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwMjAxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435402017", "bodyText": "you can delete this file", "author": "tevans78", "createdAt": "2020-06-04T16:47:02Z", "path": "dev/io.openliberty.microprofile.config.2.0.internal/.gitignore", "diffHunk": "@@ -0,0 +1 @@\n+smallrye-reactive-messaging-provider-0.0.4-sources.jar", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQwNDYxMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435404610", "bodyText": "This file is probably named wrong ... should call it ConfigServerXML.nlsprops??\nSame will apply to the common bundle.", "author": "tevans78", "createdAt": "2020-06-04T16:51:15Z", "path": "dev/io.openliberty.microprofile.config.internal.serverxml/resources/io/openliberty/microprofile/config/internal/serverxml/resources/Config20.nlsprops", "diffHunk": "@@ -0,0 +1,47 @@\n+#CMVCPATHNAME N/A\n+#COMPONENTPREFIX CWMCG\n+#COMPONENTNAMEFOR CWMCG MicroProfile Config API \n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#ISMESSAGEFILE true\n+# #########################################################################\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+# This file follows the WebSphere Message Guidelines.\n+# For more information, visit: \n+# http://washome.austin.ibm.com/xwiki/bin/view/MessagesTeam/\n+#\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Messages used by Config 1.1 Impl -  range is 0000-0099, plus 9999 for the emergency message\n+# Messages used by Config 1.2 Impl -  range is 0100-0199, plus 9998 for the emergency message\n+# Messages used by Config 1.3 Impl -  range is 0200-0299, plus 9997 for the emergency message\n+# Messages used by Config 1.4 Impl -  range is 0300-0399, plus 9996 for the emergency message\n+# Messages used by Config 2.0 Impl -  range is 0400-0499, plus 9995 for the emergency message", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3MTc1NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435471754", "bodyText": "Consider adding a period after \"The exception is {0}\"", "author": "Charlotte-Holt", "createdAt": "2020-06-04T18:39:27Z", "path": "dev/io.openliberty.microprofile.config.internal.serverxml/resources/io/openliberty/microprofile/config/internal/serverxml/resources/Config20.nlsprops", "diffHunk": "@@ -0,0 +1,47 @@\n+#CMVCPATHNAME N/A\n+#COMPONENTPREFIX CWMCG\n+#COMPONENTNAMEFOR CWMCG MicroProfile Config API \n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#ISMESSAGEFILE true\n+# #########################################################################\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+# This file follows the WebSphere Message Guidelines.\n+# For more information, visit: \n+# http://washome.austin.ibm.com/xwiki/bin/view/MessagesTeam/\n+#\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Messages used by Config 1.1 Impl -  range is 0000-0099, plus 9999 for the emergency message\n+# Messages used by Config 1.2 Impl -  range is 0100-0199, plus 9998 for the emergency message\n+# Messages used by Config 1.3 Impl -  range is 0200-0299, plus 9997 for the emergency message\n+# Messages used by Config 1.4 Impl -  range is 0300-0399, plus 9996 for the emergency message\n+# Messages used by Config 2.0 Impl -  range is 0400-0499, plus 9995 for the emergency message\n+#-----------------------------------------------------------------------------------------------------------------------------\n+\n+# The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E=CWMCG0300E: The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E.explanation=The requested property did not exist in any of the configured Config Sources.\n+no.such.element.CWMCG0300E.useraction=Add the property to one of the existing Config Sources, or add a Config Source that contains the property.\n+\n+failed.to.schedule.cache.invalidation.CWMCG0301E=CWMCG0301E: The MicroProfile Config cache invalidation cannot be scheduled. The exception is {0}", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3MjUwMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435472502", "bodyText": "Update\n\nChanges in MicroProfile Config may not be reflected in the application.\n\nto\n\nChanges in MicroProfile Config might not be reflected in the application.", "author": "Charlotte-Holt", "createdAt": "2020-06-04T18:40:33Z", "path": "dev/io.openliberty.microprofile.config.internal.serverxml/resources/io/openliberty/microprofile/config/internal/serverxml/resources/Config20.nlsprops", "diffHunk": "@@ -0,0 +1,47 @@\n+#CMVCPATHNAME N/A\n+#COMPONENTPREFIX CWMCG\n+#COMPONENTNAMEFOR CWMCG MicroProfile Config API \n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#ISMESSAGEFILE true\n+# #########################################################################\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+# This file follows the WebSphere Message Guidelines.\n+# For more information, visit: \n+# http://washome.austin.ibm.com/xwiki/bin/view/MessagesTeam/\n+#\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Messages used by Config 1.1 Impl -  range is 0000-0099, plus 9999 for the emergency message\n+# Messages used by Config 1.2 Impl -  range is 0100-0199, plus 9998 for the emergency message\n+# Messages used by Config 1.3 Impl -  range is 0200-0299, plus 9997 for the emergency message\n+# Messages used by Config 1.4 Impl -  range is 0300-0399, plus 9996 for the emergency message\n+# Messages used by Config 2.0 Impl -  range is 0400-0499, plus 9995 for the emergency message\n+#-----------------------------------------------------------------------------------------------------------------------------\n+\n+# The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E=CWMCG0300E: The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E.explanation=The requested property did not exist in any of the configured Config Sources.\n+no.such.element.CWMCG0300E.useraction=Add the property to one of the existing Config Sources, or add a Config Source that contains the property.\n+\n+failed.to.schedule.cache.invalidation.CWMCG0301E=CWMCG0301E: The MicroProfile Config cache invalidation cannot be scheduled. The exception is {0}\n+failed.to.schedule.cache.invalidation.CWMCG0301E.explanation=Changes in MicroProfile Config may not be reflected in the application.", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3OTUxMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435479512", "bodyText": "Update\n\nThe following Config API error has occurred: {0}.\n\nto\n\nThe following Config API error occurred: {0}.", "author": "Charlotte-Holt", "createdAt": "2020-06-04T18:50:46Z", "path": "dev/io.openliberty.microprofile.config.internal.serverxml/resources/io/openliberty/microprofile/config/internal/serverxml/resources/Config20.nlsprops", "diffHunk": "@@ -0,0 +1,47 @@\n+#CMVCPATHNAME N/A\n+#COMPONENTPREFIX CWMCG\n+#COMPONENTNAMEFOR CWMCG MicroProfile Config API \n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#ISMESSAGEFILE true\n+# #########################################################################\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+# This file follows the WebSphere Message Guidelines.\n+# For more information, visit: \n+# http://washome.austin.ibm.com/xwiki/bin/view/MessagesTeam/\n+#\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Messages used by Config 1.1 Impl -  range is 0000-0099, plus 9999 for the emergency message\n+# Messages used by Config 1.2 Impl -  range is 0100-0199, plus 9998 for the emergency message\n+# Messages used by Config 1.3 Impl -  range is 0200-0299, plus 9997 for the emergency message\n+# Messages used by Config 1.4 Impl -  range is 0300-0399, plus 9996 for the emergency message\n+# Messages used by Config 2.0 Impl -  range is 0400-0499, plus 9995 for the emergency message\n+#-----------------------------------------------------------------------------------------------------------------------------\n+\n+# The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E=CWMCG0300E: The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E.explanation=The requested property did not exist in any of the configured Config Sources.\n+no.such.element.CWMCG0300E.useraction=Add the property to one of the existing Config Sources, or add a Config Source that contains the property.\n+\n+failed.to.schedule.cache.invalidation.CWMCG0301E=CWMCG0301E: The MicroProfile Config cache invalidation cannot be scheduled. The exception is {0}\n+failed.to.schedule.cache.invalidation.CWMCG0301E.explanation=Changes in MicroProfile Config may not be reflected in the application.\n+failed.to.schedule.cache.invalidation.CWMCG0301E.useraction=Review the server message.log and FFDC logs to identify the problem.\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Emergency Config 2.0 error message\n+#-----------------------------------------------------------------------------------------------------------------------------\n+\n+# The following Config API error has occurred: {0}.\n+temporary.CWMCG9996E=CWMCG9996E: The following Config API error has occurred: {0}.", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTQ3OTkyMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12497#discussion_r435479923", "bodyText": "Update\n\nA Config API error has occurred that prevents normal operation.\n\nto\n\nA Config API error occurred that prevents normal operation.", "author": "Charlotte-Holt", "createdAt": "2020-06-04T18:51:25Z", "path": "dev/io.openliberty.microprofile.config.internal.serverxml/resources/io/openliberty/microprofile/config/internal/serverxml/resources/Config20.nlsprops", "diffHunk": "@@ -0,0 +1,47 @@\n+#CMVCPATHNAME N/A\n+#COMPONENTPREFIX CWMCG\n+#COMPONENTNAMEFOR CWMCG MicroProfile Config API \n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#ISMESSAGEFILE true\n+# #########################################################################\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+# This file follows the WebSphere Message Guidelines.\n+# For more information, visit: \n+# http://washome.austin.ibm.com/xwiki/bin/view/MessagesTeam/\n+#\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Messages used by Config 1.1 Impl -  range is 0000-0099, plus 9999 for the emergency message\n+# Messages used by Config 1.2 Impl -  range is 0100-0199, plus 9998 for the emergency message\n+# Messages used by Config 1.3 Impl -  range is 0200-0299, plus 9997 for the emergency message\n+# Messages used by Config 1.4 Impl -  range is 0300-0399, plus 9996 for the emergency message\n+# Messages used by Config 2.0 Impl -  range is 0400-0499, plus 9995 for the emergency message\n+#-----------------------------------------------------------------------------------------------------------------------------\n+\n+# The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E=CWMCG0300E: The {0} property was not found in the configuration.\n+no.such.element.CWMCG0300E.explanation=The requested property did not exist in any of the configured Config Sources.\n+no.such.element.CWMCG0300E.useraction=Add the property to one of the existing Config Sources, or add a Config Source that contains the property.\n+\n+failed.to.schedule.cache.invalidation.CWMCG0301E=CWMCG0301E: The MicroProfile Config cache invalidation cannot be scheduled. The exception is {0}\n+failed.to.schedule.cache.invalidation.CWMCG0301E.explanation=Changes in MicroProfile Config may not be reflected in the application.\n+failed.to.schedule.cache.invalidation.CWMCG0301E.useraction=Review the server message.log and FFDC logs to identify the problem.\n+\n+#-----------------------------------------------------------------------------------------------------------------------------\n+# Emergency Config 2.0 error message\n+#-----------------------------------------------------------------------------------------------------------------------------\n+\n+# The following Config API error has occurred: {0}.\n+temporary.CWMCG9996E=CWMCG9996E: The following Config API error has occurred: {0}.\n+temporary.CWMCG9996E.explanation=A Config API error has occurred that prevents normal operation.", "originalCommit": "9e60a17c94f0032022df164342202adc8b34b801", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "75101ba8e392d8371d039111ed8c8387f30ecbf9", "url": "https://github.com/OpenLiberty/open-liberty/commit/75101ba8e392d8371d039111ed8c8387f30ecbf9", "message": "Prepared for #build", "committedDate": "2020-06-05T10:56:19Z", "type": "forcePushed"}, {"oid": "74bc7cb007a69def93faa59ea28120761d6b985a", "url": "https://github.com/OpenLiberty/open-liberty/commit/74bc7cb007a69def93faa59ea28120761d6b985a", "message": "Prepared for #build", "committedDate": "2020-06-10T12:48:29Z", "type": "forcePushed"}, {"oid": "3d0ccc2fe41986c645e81550b57005d169f9edf8", "url": "https://github.com/OpenLiberty/open-liberty/commit/3d0ccc2fe41986c645e81550b57005d169f9edf8", "message": "Addressed GitHub comments, including:\n* Updated copyright dates\n* Updated RepeatConfigActions comments\n* Added ID review suggestions\n* Updated nlsprops file name", "committedDate": "2020-06-10T13:43:22Z", "type": "forcePushed"}, {"oid": "aa7192eb2d191aa1a9d72de2d67d9baadc481bc5", "url": "https://github.com/OpenLiberty/open-liberty/commit/aa7192eb2d191aa1a9d72de2d67d9baadc481bc5", "message": "Addressed GitHub comments\n\n* Updated copyright dates\n* Updated RepeatConfigActions comments\n* Added ID review suggestions\n* Updated nlsprops file name", "committedDate": "2020-06-10T13:50:19Z", "type": "forcePushed"}, {"oid": "36f2e53a314863e9d5c6fd929df9ac9ea4bcfab0", "url": "https://github.com/OpenLiberty/open-liberty/commit/36f2e53a314863e9d5c6fd929df9ac9ea4bcfab0", "message": "Update reference to Config from FT", "committedDate": "2020-06-15T09:23:47Z", "type": "forcePushed"}, {"oid": "84ef823a1625baec2d2fff353d3a7acf8150483a", "url": "https://github.com/OpenLiberty/open-liberty/commit/84ef823a1625baec2d2fff353d3a7acf8150483a", "message": "Create prototype MP Config 2.0 based on SmallRye", "committedDate": "2020-06-16T10:46:56Z", "type": "commit"}, {"oid": "558fceee785024e8b02b2cd1f12d9661b15591e7", "url": "https://github.com/OpenLiberty/open-liberty/commit/558fceee785024e8b02b2cd1f12d9661b15591e7", "message": "Configure SmallRye Config with OpenLiberty", "committedDate": "2020-06-16T10:57:52Z", "type": "commit"}, {"oid": "845adf5aaa63d7e3f95851e6dabb35e0ca90e32b", "url": "https://github.com/OpenLiberty/open-liberty/commit/845adf5aaa63d7e3f95851e6dabb35e0ca90e32b", "message": "Create config.common and config.serverxml for shared Config files", "committedDate": "2020-06-16T10:58:10Z", "type": "commit"}, {"oid": "f91d3e2ead6f6a626060addc4b226c31413a4c43", "url": "https://github.com/OpenLiberty/open-liberty/commit/f91d3e2ead6f6a626060addc4b226c31413a4c43", "message": "Add Config 2.0 FAT and FAT_TCK projects", "committedDate": "2020-06-16T10:58:20Z", "type": "commit"}, {"oid": "273bdee60d1ec6afeac53f6f79e1d09ca843e4f3", "url": "https://github.com/OpenLiberty/open-liberty/commit/273bdee60d1ec6afeac53f6f79e1d09ca843e4f3", "message": "Refactor Config 2.0 to new io.openliberty naming convention", "committedDate": "2020-06-16T10:58:30Z", "type": "commit"}, {"oid": "3c9fc31eb5dc8e3226639515e465785957bb6551", "url": "https://github.com/OpenLiberty/open-liberty/commit/3c9fc31eb5dc8e3226639515e465785957bb6551", "message": "Prepare Config 2.0 for #build", "committedDate": "2020-06-16T10:58:58Z", "type": "commit"}, {"oid": "3c9fc31eb5dc8e3226639515e465785957bb6551", "url": "https://github.com/OpenLiberty/open-liberty/commit/3c9fc31eb5dc8e3226639515e465785957bb6551", "message": "Prepare Config 2.0 for #build", "committedDate": "2020-06-16T10:58:58Z", "type": "forcePushed"}]}