{"pr_number": 10460, "pr_title": "messages when marked for rollback only", "pr_createdAt": "2020-01-16T16:20:52Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/10460", "timeline": [{"oid": "d72ab94105f1003fc33fe28ec2ad0261928e9002", "url": "https://github.com/OpenLiberty/open-liberty/commit/d72ab94105f1003fc33fe28ec2ad0261928e9002", "message": "Issue #8610 test case for rollback due to execution time exceeding the missedTaskThreshold", "committedDate": "2020-01-14T22:44:04Z", "type": "commit"}, {"oid": "d37c5a24f0692f7f1b1e6a26b5842b01f35edeb6", "url": "https://github.com/OpenLiberty/open-liberty/commit/d37c5a24f0692f7f1b1e6a26b5842b01f35edeb6", "message": "Issue #8610 messages when marked for rollback only", "committedDate": "2020-01-16T16:18:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU1NjI4NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10460#discussion_r368556284", "bodyText": "Suggested changes:\n\nReplace \"using\" with \"by using\" or \"with\"\nClarify the \"it\". The sentence structure suggests that the application is the \"it\" but the context suggests that the \"it\" is the rollback.\nTry not to use a \"have\" before a verb.\n\nMaybe change the explanation to: \"The application marked the transaction to roll back with setRollbackOnly, or an error or timeout caused the rollback.\"", "author": "helyarp", "createdAt": "2020-01-20T13:49:00Z", "path": "dev/com.ibm.ws.concurrent.persistent/resources/com/ibm/ws/concurrent/persistent/resources/CWWKCMessages.nlsprops", "diffHunk": "@@ -43,6 +43,18 @@ CWWKC1503.task.failure=CWWKC1503W: Persistent executor {0} rolled back task {1}\n CWWKC1503.task.failure.explanation=Task execution failed and rolled back.\n CWWKC1503.task.failure.useraction=Correct the cause of the failure, if the failure is unexpected, and reschedule the task.\n \n+CWWKC1504.tx.timeout.rollback=CWWKC1504E: Transaction is marked to roll back because the task execution time, {0} seconds, exceeded the transaction timeout, {1} seconds.\n+CWWKC1504.tx.timeout.rollback.explanation=The task took too long to run, so the transaction is being rolled back.\n+CWWKC1504.tx.timeout.rollback.useraction=A larger transaction timeout might be needed, or the task might need to be made shorter.\n+\n+CWWKC1505.mtt.timeout.rollback=CWWKC1505E: Transaction is marked to roll back because the task execution time, {0} seconds, exceeded the missedTaskThreshold, {1} seconds.\n+CWWKC1505.mtt.timeout.rollback.explanation=The task took too long to run, so the transaction is being rolled back.\n+CWWKC1505.mtt.timeout.rollback.useraction=A larger missedTaskThreshold might be needed, or the task might need to be made shorter.\n+\n+CWWKC1506.marked.rollback.only=CWWKC1506E: Transaction is marked to roll back.\n+CWWKC1506.marked.rollback.only.explanation=The application might have marked the transaction to roll back using setRollbackOnly, or it could be due to an error or timeout.", "originalCommit": "d37c5a24f0692f7f1b1e6a26b5842b01f35edeb6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU2OTY2NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10460#discussion_r368569664", "bodyText": "The message explanation has been updated as requested. This is done under commit 489d53e.  Please complete the review.", "author": "njr-11", "createdAt": "2020-01-20T14:16:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU1NjI4NA=="}], "type": "inlineReview"}, {"oid": "489d53e0f089fe8be66a61e348f7c3296411f3b6", "url": "https://github.com/OpenLiberty/open-liberty/commit/489d53e0f089fe8be66a61e348f7c3296411f3b6", "message": "Issue #8610 message review fixes", "committedDate": "2020-01-20T14:15:25Z", "type": "commit"}, {"oid": "db778aa8cd6bc8252f371d83cf79839b1a1d9d89", "url": "https://github.com/OpenLiberty/open-liberty/commit/db778aa8cd6bc8252f371d83cf79839b1a1d9d89", "message": "Issue #8610 update tests to allow for better error reporting", "committedDate": "2020-01-21T14:52:42Z", "type": "commit"}]}