{"pr_number": 12972, "pr_title": "Add a new spnego authentication error page", "pr_createdAt": "2020-07-09T21:31:45Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12972", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454024116", "bodyText": "What is \"the server message\" in this context? Can we offer any common reasons that SPNEGO auth fails?", "author": "dmuelle", "createdAt": "2020-07-14T00:25:19Z", "path": "dev/com.ibm.ws.security.spnego/resources/com/ibm/ws/security/spnego/internal/resources/SpnegoMessages.nlsprops", "diffHunk": "@@ -113,3 +113,8 @@ SPNEGO_CAN_NOT_GET_DELEGATE_SERVICE_SPN.useraction=Verify the service principal\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE=CWWKS4322E: Delegate SPN {0} can not authenticate to the Key Distribution Center (KDC) using the Kerberos configuration file {1} and keytab file {2}. Login exception was received: {3}\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.explanation=Can not authenticate to the Key Distribution Center (KDC).\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.useraction=Verify the service principal name format, and make sure it exists on the Windows domain and that the Kerberos keytab file contains the service principal name.\n+\n+SPNEGO_AUTHENTICATION_ERROR_PAGE=CWWKS4323E: <html><head><title>SPNEGO authentication failed. Contact your system administrator to resolve the problem.</title></head> \\\n+<body>The client sent the SPNEGO token. The server cannot validate the client's SPNEGO token.</body></html>.\n+SPNEGO_AUTHENTICATION_ERROR_PAGE.explanation=SPNEGO authentication failed. Check the server message.", "originalCommit": "6065100670a90d8dc3b46ebde244f7440297fc78", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQyOTQ0NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454429444", "bodyText": "There is no common reasons for the server message.", "author": "utle", "createdAt": "2020-07-14T15:09:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ0Nzk5Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454447992", "bodyText": "Is the \"server message\" in the logs? The initial message says to contact system admin, the explanation says to check the server message- will the user know what message this refers to?", "author": "dmuelle", "createdAt": "2020-07-14T15:34:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ3NDE5OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454474198", "bodyText": "The server message in the logs - yes.\nIn these problems, there is nothing an end user can do to fix the problem. They have to call the Liberty system administrator. The administrator need to look in the server message", "author": "utle", "createdAt": "2020-07-14T16:12:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4Njg2Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454486866", "bodyText": "Ok- is it possible or helpful to say more specifically where the admin should look for a message- eg system out, trace log,  or more generally- server logs. Or will it be different depending on log configuration?\nIf \"server message\" is an expected term in this context that's ok. But the tWAS SPNEGO troubleshooting topic doesn't use this term, instead referring to server logs, trace log etc", "author": "dmuelle", "createdAt": "2020-07-14T16:31:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUwODEwOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454508109", "bodyText": "I see we these in Liberty - If you search for \"server message\", \"server message.log\"  \"server logs\"... I think you want us to us the server logs?", "author": "utle", "createdAt": "2020-07-14T17:05:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUxMzE4NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454513185", "bodyText": "I think \"server log messages\" would include message, trace, etc if there's not a more specific log to call out. So\nSPNEGO authentication failed. For more information, check the server log messages.", "author": "dmuelle", "createdAt": "2020-07-14T17:13:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NzEyMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12972#discussion_r454547121", "bodyText": "Done", "author": "utle", "createdAt": "2020-07-14T18:08:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyNDExNg=="}], "type": "inlineReview"}, {"oid": "6d4b77f9741fa81af9c92be6576bf5b2325077fd", "url": "https://github.com/OpenLiberty/open-liberty/commit/6d4b77f9741fa81af9c92be6576bf5b2325077fd", "message": "Add spnego authentication error page", "committedDate": "2020-07-14T18:14:20Z", "type": "commit"}, {"oid": "6d4b77f9741fa81af9c92be6576bf5b2325077fd", "url": "https://github.com/OpenLiberty/open-liberty/commit/6d4b77f9741fa81af9c92be6576bf5b2325077fd", "message": "Add spnego authentication error page", "committedDate": "2020-07-14T18:14:20Z", "type": "forcePushed"}, {"oid": "8048bd9bcbfddbff6ee8ca155e9cd6249a31d5a3", "url": "https://github.com/OpenLiberty/open-liberty/commit/8048bd9bcbfddbff6ee8ca155e9cd6249a31d5a3", "message": "Merge branch 'master' of github.com:OpenLiberty/open-liberty into spnego-error-page", "committedDate": "2020-07-14T18:15:02Z", "type": "commit"}, {"oid": "c7b68bd49f5cc4c01bb44edcb6679befa963f3d0", "url": "https://github.com/OpenLiberty/open-liberty/commit/c7b68bd49f5cc4c01bb44edcb6679befa963f3d0", "message": "Merge branch 'integration' into spnego-error-page", "committedDate": "2020-07-14T18:18:49Z", "type": "commit"}, {"oid": "3335b8f17175bc1764c276c88db2892cae5b3851", "url": "https://github.com/OpenLiberty/open-liberty/commit/3335b8f17175bc1764c276c88db2892cae5b3851", "message": "Merge branch 'master' of github.com:OpenLiberty/open-liberty into spnego-error-page", "committedDate": "2020-07-16T17:37:49Z", "type": "commit"}, {"oid": "cc4ce019c011456dc5efff9445d86f2e402f86a6", "url": "https://github.com/OpenLiberty/open-liberty/commit/cc4ce019c011456dc5efff9445d86f2e402f86a6", "message": "Preserve the old behavior", "committedDate": "2020-07-16T19:03:59Z", "type": "commit"}, {"oid": "d299e7bc31530a670497df2fba43b33cc87690f2", "url": "https://github.com/OpenLiberty/open-liberty/commit/d299e7bc31530a670497df2fba43b33cc87690f2", "message": "Merge branch 'master' of github.com:OpenLiberty/open-liberty into spnego-error-page", "committedDate": "2020-07-17T12:44:16Z", "type": "commit"}, {"oid": "b40b3fa948dd6d0217761b7ccc692c5eef74b5ec", "url": "https://github.com/OpenLiberty/open-liberty/commit/b40b3fa948dd6d0217761b7ccc692c5eef74b5ec", "message": "Keep the old behavior (no throw exception)", "committedDate": "2020-07-20T22:47:27Z", "type": "forcePushed"}, {"oid": "3977ba78fab7971adc4fc2b1ffb9e54ef9758a3b", "url": "https://github.com/OpenLiberty/open-liberty/commit/3977ba78fab7971adc4fc2b1ffb9e54ef9758a3b", "message": "Keep the old behavior (no throw exception)", "committedDate": "2020-07-20T22:51:54Z", "type": "commit"}, {"oid": "3977ba78fab7971adc4fc2b1ffb9e54ef9758a3b", "url": "https://github.com/OpenLiberty/open-liberty/commit/3977ba78fab7971adc4fc2b1ffb9e54ef9758a3b", "message": "Keep the old behavior (no throw exception)", "committedDate": "2020-07-20T22:51:54Z", "type": "forcePushed"}, {"oid": "c511a66b8c365a0a41af91a69ac310849b445710", "url": "https://github.com/OpenLiberty/open-liberty/commit/c511a66b8c365a0a41af91a69ac310849b445710", "message": "Add FFDCIgnore", "committedDate": "2020-07-21T14:07:24Z", "type": "forcePushed"}, {"oid": "5fb7d627f2a51ed6f06300de69aba64ca4f1d896", "url": "https://github.com/OpenLiberty/open-liberty/commit/5fb7d627f2a51ed6f06300de69aba64ca4f1d896", "message": "Add FFDCIgnore", "committedDate": "2020-07-21T15:12:42Z", "type": "commit"}, {"oid": "5fb7d627f2a51ed6f06300de69aba64ca4f1d896", "url": "https://github.com/OpenLiberty/open-liberty/commit/5fb7d627f2a51ed6f06300de69aba64ca4f1d896", "message": "Add FFDCIgnore", "committedDate": "2020-07-21T15:12:42Z", "type": "forcePushed"}, {"oid": "d9baf2c4f0df3858b02fccf0afd8dac77ff31008", "url": "https://github.com/OpenLiberty/open-liberty/commit/d9baf2c4f0df3858b02fccf0afd8dac77ff31008", "message": "Added FFDCIgnored", "committedDate": "2020-07-21T19:05:33Z", "type": "commit"}]}