{"pr_number": 13562, "pr_title": "Issue 12790: Limit number of refreshed access tokens allowed in OAuth client", "pr_createdAt": "2020-08-19T13:31:16Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13562", "timeline": [{"oid": "26f1e94e8cfafe1ff1b426d6c1c8dbe4cd7d3c90", "url": "https://github.com/OpenLiberty/open-liberty/commit/26f1e94e8cfafe1ff1b426d6c1c8dbe4cd7d3c90", "message": "Issue 12790: Limit number of refreshed access tokens allowed in OAuth client", "committedDate": "2020-08-18T21:24:11Z", "type": "commit"}, {"oid": "a97c8bf505d5e8aef85a774e0a0bb7602da0fe98", "url": "https://github.com/OpenLiberty/open-liberty/commit/a97c8bf505d5e8aef85a774e0a0bb7602da0fe98", "message": "Issue 12790: Fix class type checking for cache object", "committedDate": "2020-08-19T20:28:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0NzQ5Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13562#discussion_r474347496", "bodyText": "Change,\n\"The [{0}] user and [{1}] OAuth client has reached the maximum number of access tokens ([{2}]) that may be created using refresh tokens. A new access token cannot be created with the provided refresh token.\"\nto,\n\"The [{0}] user and [{1}] OAuth client reached the maximum number of ([{2}]) access tokens that can be created by using refresh tokens. A new access token cannot be created with the provided refresh token.\"", "author": "ManasiGandhi", "createdAt": "2020-08-21T00:47:51Z", "path": "dev/com.ibm.ws.security.oauth/resources/com/ibm/ws/security/oauth20/resources/ProviderMsgs.nlsprops", "diffHunk": "@@ -353,3 +353,8 @@ security.oauth20.pkce.codeverifier.length.error.useraction=Send the authorizatio\n security.oauth20.pkce.error.mismatch.codeverifier=CWOAU0081E: The code_challenge [{0}] and code_verifier [{1}] do not match. \n security.oauth20.pkce.error.mismatch.codeverifier.explanation=The OAuth provider uses the code_challenge_method specified in the authorization request and transforms the code_verifier unless the code_challenge_method is plain. The transformed value should match with the code_challenge in the authorization request.\n security.oauth20.pkce.error.mismatch.codeverifier.useraction=Make sure to send the matching code_challenge and code_verifier and the correct transformation algorithm with the authorization and token requests.\n+\n+# 0=User name, 1=OAuth client ID, 2=Maximum number of tokens allowed\n+security.oauth20.refreshed.access.token.limit.reached=CWOAU0082E: The [{0}] user and [{1}] OAuth client has reached the maximum number of access tokens ([{2}]) that may be created using refresh tokens. A new access token cannot be created with the provided refresh token.", "originalCommit": "a97c8bf505d5e8aef85a774e0a0bb7602da0fe98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0ODcyOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13562#discussion_r474348729", "bodyText": "Change,\n\"An OAuth client and user combination may request a limited number of access tokens using refresh tokens. That limit has been reached, so a new access token cannot be created.\"\nto,\n\"An OAuth client and user combination can request a limited number of access tokens using refresh tokens. That limit has reached, so a new access token cannot be created.\"", "author": "ManasiGandhi", "createdAt": "2020-08-21T00:52:23Z", "path": "dev/com.ibm.ws.security.oauth/resources/com/ibm/ws/security/oauth20/resources/ProviderMsgs.nlsprops", "diffHunk": "@@ -353,3 +353,8 @@ security.oauth20.pkce.codeverifier.length.error.useraction=Send the authorizatio\n security.oauth20.pkce.error.mismatch.codeverifier=CWOAU0081E: The code_challenge [{0}] and code_verifier [{1}] do not match. \n security.oauth20.pkce.error.mismatch.codeverifier.explanation=The OAuth provider uses the code_challenge_method specified in the authorization request and transforms the code_verifier unless the code_challenge_method is plain. The transformed value should match with the code_challenge in the authorization request.\n security.oauth20.pkce.error.mismatch.codeverifier.useraction=Make sure to send the matching code_challenge and code_verifier and the correct transformation algorithm with the authorization and token requests.\n+\n+# 0=User name, 1=OAuth client ID, 2=Maximum number of tokens allowed\n+security.oauth20.refreshed.access.token.limit.reached=CWOAU0082E: The [{0}] user and [{1}] OAuth client has reached the maximum number of access tokens ([{2}]) that may be created using refresh tokens. A new access token cannot be created with the provided refresh token.\n+security.oauth20.refreshed.access.token.limit.reached.explanation=An OAuth client and user combination may request a limited number of access tokens using refresh tokens. That limit has been reached, so a new access token cannot be created.", "originalCommit": "a97c8bf505d5e8aef85a774e0a0bb7602da0fe98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM0OTY1Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13562#discussion_r474349657", "bodyText": "Change,\n\"Increase the number of access tokens that may be issued through refresh tokens, or revoke some of the existing access tokens for the user and OAuth client that is specified in the message.\"\nto,\n\"Increase the number of access tokens that can be issued through refresh tokens. Alternatively, revoke some of the existing access tokens for the user and OAuth client that is specified in the message.\"", "author": "ManasiGandhi", "createdAt": "2020-08-21T00:56:04Z", "path": "dev/com.ibm.ws.security.oauth/resources/com/ibm/ws/security/oauth20/resources/ProviderMsgs.nlsprops", "diffHunk": "@@ -353,3 +353,8 @@ security.oauth20.pkce.codeverifier.length.error.useraction=Send the authorizatio\n security.oauth20.pkce.error.mismatch.codeverifier=CWOAU0081E: The code_challenge [{0}] and code_verifier [{1}] do not match. \n security.oauth20.pkce.error.mismatch.codeverifier.explanation=The OAuth provider uses the code_challenge_method specified in the authorization request and transforms the code_verifier unless the code_challenge_method is plain. The transformed value should match with the code_challenge in the authorization request.\n security.oauth20.pkce.error.mismatch.codeverifier.useraction=Make sure to send the matching code_challenge and code_verifier and the correct transformation algorithm with the authorization and token requests.\n+\n+# 0=User name, 1=OAuth client ID, 2=Maximum number of tokens allowed\n+security.oauth20.refreshed.access.token.limit.reached=CWOAU0082E: The [{0}] user and [{1}] OAuth client has reached the maximum number of access tokens ([{2}]) that may be created using refresh tokens. A new access token cannot be created with the provided refresh token.\n+security.oauth20.refreshed.access.token.limit.reached.explanation=An OAuth client and user combination may request a limited number of access tokens using refresh tokens. That limit has been reached, so a new access token cannot be created.\n+security.oauth20.refreshed.access.token.limit.reached.useraction=Increase the number of access tokens that may be issued through refresh tokens, or revoke some of the existing access tokens for the user and OAuth client that is specified in the message.", "originalCommit": "a97c8bf505d5e8aef85a774e0a0bb7602da0fe98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM1MTA3NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13562#discussion_r474351075", "bodyText": "Change,\n\"Maximum number of access tokens that may be created using refresh tokens for a single OAuth client and user combination.\"\nto,\n\"Maximum number of access tokens that can be created by using refresh tokens for a single OAuth client and user combination.\"", "author": "ManasiGandhi", "createdAt": "2020-08-21T01:02:04Z", "path": "dev/com.ibm.ws.security.oauth/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -131,6 +131,9 @@ issueRefreshToken.desc=A value of false disables generation and the use of refre\n refreshTokenLength=Refresh token length\n refreshTokenLength.desc=Length of generated refresh token.\n \n+refreshedAccessTokenLimit=Refreshed access token limit\n+refreshedAccessTokenLimit.desc=Maximum number of access tokens that may be created using refresh tokens for a single OAuth client and user combination.", "originalCommit": "a97c8bf505d5e8aef85a774e0a0bb7602da0fe98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5644c438249f888783294aed79e0c2e41cd183ac", "url": "https://github.com/OpenLiberty/open-liberty/commit/5644c438249f888783294aed79e0c2e41cd183ac", "message": "Issue 12790: NLS updates from review", "committedDate": "2020-08-21T16:26:45Z", "type": "commit"}]}