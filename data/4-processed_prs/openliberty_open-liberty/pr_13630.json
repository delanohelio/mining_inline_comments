{"pr_number": 13630, "pr_title": "Issue #11864: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update \u2026", "pr_createdAt": "2020-08-24T19:37:02Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13630", "timeline": [{"oid": "b3eb1e01e4842b785f7e780ab55d6eebeba73b3d", "url": "https://github.com/OpenLiberty/open-liberty/commit/b3eb1e01e4842b785f7e780ab55d6eebeba73b3d", "message": "Issue #11865: Deliver appSecurityClient-2.0 feature and FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-08-24T19:40:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUwMzYwOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r476503608", "bodyText": "does com.ibm.ws.cdi.client bundle need to be transformed?", "author": "tevans78", "createdAt": "2020-08-25T14:41:46Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.cdi3.0-appSecurityClient.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.cdi3.0-appSecurityClient\n+visibility=private\n+IBM-Process-Types: client, \\\n+ server\n+IBM-Provision-Capability: \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.cdi-3.0))\", \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.appSecurityClient-2.0))\"\n+-bundles=\\\n+ com.ibm.ws.cdi.client", "originalCommit": "b3eb1e01e4842b785f7e780ab55d6eebeba73b3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUyNzE4NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r476527185", "bodyText": "No. It does not depend on any Java EE classes.", "author": "jvanhill", "createdAt": "2020-08-25T15:13:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUwMzYwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUwNjc0Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r476506743", "bodyText": "does com.ibm.ws.cdi.security need to be transformed?", "author": "tevans78", "createdAt": "2020-08-25T14:45:51Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.cdi3.0-appSecurity.feature", "diffHunk": "@@ -0,0 +1,11 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.cdi3.0-appSecurity\n+visibility=private\n+IBM-Provision-Capability: \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.cdi-3.0))\", \\\n+ osgi.identity; filter:=\"(&(type=osgi.subsystem.feature)(osgi.identity=io.openliberty.appSecurity-4.0))\"\n+-bundles=\\\n+ com.ibm.ws.cdi.security", "originalCommit": "b3eb1e01e4842b785f7e780ab55d6eebeba73b3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUyNzQyMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r476527422", "bodyText": "No. It does not depend on any Java EE classes.", "author": "jvanhill", "createdAt": "2020-08-25T15:13:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUwNjc0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUxMTQ0OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r476511449", "bodyText": "New projects should be named io.openliberty.... In this case io.openliberty.security.internal.client_fat or maybe io.openliberty.security.client.internal_fat?", "author": "tevans78", "createdAt": "2020-08-25T14:52:09Z", "path": "dev/com.ibm.ws.security.client_fat/.classpath", "diffHunk": "@@ -0,0 +1,17 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "originalCommit": "b3eb1e01e4842b785f7e780ab55d6eebeba73b3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUyODQ3MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r476528471", "bodyText": "Technically, this is a project that I moved from WS-CD-Open. Additionally, I name the fats to match the project they are testing. In this case, the project being tested is com.ibm.ws.security.client.", "author": "jvanhill", "createdAt": "2020-08-25T15:14:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUxMTQ0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2NTMwMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r479665302", "bodyText": "needs a serial comma\nThis feature enables application security, CSIv2, and SSL on the client.", "author": "dmuelle", "createdAt": "2020-08-29T16:21:26Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/public/appSecurityClient-2.0/resources/l10n/io.openliberty.appSecurityClient-2.0.properties", "diffHunk": "@@ -0,0 +1,18 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#\n+#ISMESSAGEFILE FALSE\n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#\n+\n+description=Support for securing the client container runtime environment \\\n+ and applications. This feature enables application security, CSIv2 and SSL on the client.", "originalCommit": "b3eb1e01e4842b785f7e780ab55d6eebeba73b3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI2NDg1Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r483264857", "bodyText": "Updated the text.", "author": "jvanhill", "createdAt": "2020-09-03T21:30:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY2NTMwMg=="}], "type": "inlineReview"}, {"oid": "84ada48f678ab8f485c94382c938d810d766c9da", "url": "https://github.com/OpenLiberty/open-liberty/commit/84ada48f678ab8f485c94382c938d810d766c9da", "message": "Issue #11865: Deliver appSecurityClient-2.0 feature and FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-09-03T14:39:29Z", "type": "forcePushed"}, {"oid": "7ce48606fbccf77b44143fb436fcd6c2099ba249", "url": "https://github.com/OpenLiberty/open-liberty/commit/7ce48606fbccf77b44143fb436fcd6c2099ba249", "message": "Issue #11865: Deliver appSecurityClient-2.0 feature and FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-07T03:30:14Z", "type": "forcePushed"}, {"oid": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "url": "https://github.com/OpenLiberty/open-liberty/commit/be7fcc6ae5392edef089c90fd639c0f940b2a675", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-07T14:41:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5MzEwMg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501093102", "bodyText": "The javaee version of this autofeature had 1.0 after appSecurityClient.  Did you remove it on purpose?", "author": "jhanders34", "createdAt": "2020-10-07T15:11:52Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.cdi3.0-appSecurityClient.feature", "diffHunk": "@@ -0,0 +1,13 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NDQ1OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501154458", "bodyText": "Yes. I didn't want to tie it to any version of appSecurityClient, just that app security is enabled.", "author": "jvanhill", "createdAt": "2020-10-07T16:36:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5MzEwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5NDgyOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501094828", "bodyText": "The javaee version of this autofeature had 1.0 after appSecurity. Did you remove it on purpose?  Should it be 4.0 for this one?", "author": "jhanders34", "createdAt": "2020-10-07T15:14:06Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.cdi3.0-appSecurity.feature", "diffHunk": "@@ -0,0 +1,11 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NDQ4OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501154489", "bodyText": "Yes. I didn't want to tie it to any version of appSecurity, just that app security is enabled.", "author": "jvanhill", "createdAt": "2020-10-07T16:36:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5NDgyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5Njk3OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501096979", "bodyText": "I don't see any reason that this auto feature cannot be changed to io.openliberty.  It is not singleton feature.  It is funny that is is named csiv2 in reality since the auto feature doesn't actually rely on a csiv2 feature being enabled, but rather enterpriseBeansRemote and appSecurity", "author": "jhanders34", "createdAt": "2020-10-07T15:17:02Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/com.ibm.websphere.appserver.csiv2-2.0.feature", "diffHunk": "@@ -0,0 +1,14 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NDkyMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501154921", "bodyText": "It could be renamed. I only kept it named similar to the original b/c I couldn't rename that one and I wanted them to be paired. If you want me to rename with io.openliberty i can. I believe the CSIV2 is probably indicative of the functionality that is being enabled since remote EJBs required CSIv2.", "author": "jvanhill", "createdAt": "2020-10-07T16:37:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5Njk3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTIxNDY4Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501214682", "bodyText": "In general the direction is for new features to be io.openliberty if possible.  We are not trying to do renames of existing features.", "author": "jhanders34", "createdAt": "2020-10-07T18:14:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5Njk3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg5NDE5NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501894194", "bodyText": "Renamed it io.openliberty.enterpriseBeansRemote-appSecurity-1.0", "author": "jvanhill", "createdAt": "2020-10-08T17:34:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5Njk3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwMDI5OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501100299", "bodyText": "getName() is a much simpler method to call and there is no reason to require getCanonicalName", "author": "jhanders34", "createdAt": "2020-10-07T15:21:21Z", "path": "dev/com.ibm.ws.cdi.web/src/com/ibm/ws/cdi/web/impl/AbstractInitialListenerRegistration.java", "diffHunk": "@@ -89,7 +89,7 @@ public void registerListener(IServletContext isc) {\n                     Tr.debug(tc, \"added WeldInitialListener to the servlet context\");\n \n                 //Put bean manager on the servlet context\n-                isc.setAttribute(\"javax.enterprise.inject.spi.BeanManager\", beanManager);\n+                isc.setAttribute(BeanManager.class.getCanonicalName(), beanManager);", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NTMwNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501155305", "bodyText": "Changed.", "author": "jvanhill", "createdAt": "2020-10-07T16:38:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwMDI5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwMTQ5Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501101497", "bodyText": "There is no appSecurityClient-2.0 feature", "author": "jhanders34", "createdAt": "2020-10-07T15:22:48Z", "path": "dev/com.ibm.ws.kernel.feature.core/src/com/ibm/ws/kernel/feature/internal/subsystem/FeatureDefinitionUtils.java", "diffHunk": "@@ -85,7 +85,8 @@\n     public final static Collection<String> ALLOWED_ON_CLIENT_ONLY_FEATURES = Arrays.asList(\"com.ibm.websphere.appserver.javaeeClient-7.0\",\n                                                                                            \"com.ibm.websphere.appserver.javaeeClient-8.0\",\n                                                                                            \"io.openliberty.jakartaeeClient-9.0\",\n-                                                                                           \"com.ibm.websphere.appserver.appSecurityClient-1.0\");\n+                                                                                           \"com.ibm.websphere.appserver.appSecurityClient-1.0\",\n+                                                                                           \"io.openliberty.appSecurityClient-2.0\");", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NTgyMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501155820", "bodyText": "Changed.\nI had originally created one before the private servlet feature rename. Had missed this change from prior to merging in those changes.", "author": "jvanhill", "createdAt": "2020-10-07T16:38:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwMTQ5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwNjA5NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501106095", "bodyText": "Shouldn't some of these applications be built automatically with the tooling without having to write them all out in the gradle file?", "author": "jhanders34", "createdAt": "2020-10-07T15:28:41Z", "path": "dev/com.ibm.ws.security.client_fat/build.gradle", "diffHunk": "@@ -0,0 +1,1033 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+\n+// TODO earDD.ear, TechnologySamples.ear\n+\n+dependencies {\n+  requiredLibs 'org.apache.httpcomponents:httpclient:4.1.2',\n+               'org.apache.httpcomponents:httpcore:4.1.2',\n+               'commons-codec:commons-codec:1.4',\n+               'commons-logging:commons-logging:1.1.1',\n+               project(':com.ibm.websphere.javaee.servlet.3.0'),\n+               project(':com.ibm.ws.security.audit_fat.common.tooling')\n+}\n+\n+addRequiredLibraries.dependsOn addJakartaTransformer\n+\n+/* \n+ * This is where all test applications will be built.\n+ */\n+def appBuildDir = \"${buildDir}/test-application\"\n+\n+\n+/******************************************************************", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE2MTU3Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501161577", "bodyText": "Is there an easy way to do this? If so, I am more than happy to make the changes.", "author": "jvanhill", "createdAt": "2020-10-07T16:47:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwNjA5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTIxNTczOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501215739", "bodyText": "I thought you wanted to do it proactively during build and bloat the autoFVT.zip file instead of during execution of the tests.  I don't know if you can do that without what you are doing.  @aguibert would probably know more.", "author": "jhanders34", "createdAt": "2020-10-07T18:16:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwNjA5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjA0MDIzMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r502040231", "bodyText": "I left them in the build.gradle, as we do with all our other projects.", "author": "jvanhill", "createdAt": "2020-10-08T22:09:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwNjA5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwODcxNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501108717", "bodyText": "The OR of the conditional will never be triggered, so is there a point in having it?", "author": "jhanders34", "createdAt": "2020-10-07T15:32:07Z", "path": "dev/com.ibm.ws.webcontainer.security/src/com/ibm/ws/webcontainer/security/WebAppSecurityCollaboratorImpl.java", "diffHunk": "@@ -461,9 +461,32 @@ public void handleException(HttpServletRequest req, HttpServletResponse rsp, Thr\n     }\n \n     @Override\n+    @FFDCIgnore(NumberFormatException.class)\n     public boolean isCDINeeded() {\n-        return WebContainer.getServletContainerSpecLevel() >= WebContainer.SPEC_LEVEL_40 &&\n-               provisionerService.getInstalledFeatures().contains(\"appSecurity-3.0\");\n+        int specLevel = WebContainer.getServletContainerSpecLevel();\n+\n+        /*\n+         * Determine which version of appSecurity we are running.\n+         */\n+        Set<String> installedFeatures = provisionerService.getInstalledFeatures();\n+        float appSecurityVers = 0.0f;\n+        for (String feature : installedFeatures) {\n+            if (feature.startsWith(\"appSecurity-\")) {\n+                try {\n+                    appSecurityVers = Float.valueOf(feature.substring(12));\n+                    break;\n+                } catch (NumberFormatException e) {\n+                    // Ignore. Not the feature we are looking for.\n+                }\n+            }\n+        }\n+\n+        /*\n+         * Future-proof check. Some of these combinations aren't valid, but\n+         * they will not make it this far.\n+         */\n+        return (appSecurityVers >= 3.0 && specLevel >= WebContainer.SPEC_LEVEL_40) ||\n+               (appSecurityVers >= 4.0 && specLevel >= WebContainer.SPEC_LEVEL_50);", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1NzE3MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501157170", "bodyText": "Good catch. Removed the OR.", "author": "jvanhill", "createdAt": "2020-10-07T16:40:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTEwODcxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMTI5OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501111298", "bodyText": "Will this be used on the commercial liberty repo still?  If so you will probably want to set the publish attribute so a stub project is created over there pointing to it on the open liberty side.", "author": "jhanders34", "createdAt": "2020-10-07T15:35:40Z", "path": "dev/com.ibm.ws.security_fat.common.tooling/bnd.bnd", "diffHunk": "@@ -0,0 +1,50 @@\n+#*******************************************************************************", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE2MDE0MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501160140", "bodyText": "Do I need to set this?\npublish.wlp.jar.disabled: false", "author": "jvanhill", "createdAt": "2020-10-07T16:45:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMTI5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTIxNzg1MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501217850", "bodyText": "yes if it is needed both other fats outside of open liberty", "author": "jhanders34", "createdAt": "2020-10-07T18:18:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMTI5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI0NDQ2MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501244460", "bodyText": "Updated the bnd.bnd file.", "author": "jvanhill", "createdAt": "2020-10-07T19:03:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMTI5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMjg3OA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501112878", "bodyText": "Why using a binary here instead of depending on a maven / dhe repository location?", "author": "jhanders34", "createdAt": "2020-10-07T15:37:49Z", "path": "dev/com.ibm.ws.security_fat.common.tooling/bnd.bnd", "diffHunk": "@@ -0,0 +1,50 @@\n+#*******************************************************************************\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+#\n+#*******************************************************************************\n+-include= ~../cnf/resources/bnd/bundle.props\n+bVersion=1.0\n+\n+src:\\\n+  src,\\\n+  test-applications/testmarker.war/src\n+\n+\n+test.project: true\n+\n+\n+#   lib/jdom-1.1.2.jar;version=file,\\\n+-buildpath: \\\n+  com.ibm.ws.com.meterware.httpunit.1.7;version=latest,\\\n+  com.ibm.ws.logging;version=latest,\\\n+  com.ibm.ws.mongo_fat;version=latest,\\\n+  com.ibm.ws.org.joda.time.1.6.2;version=latest,\\\n+  com.ibm.websphere.javaee.servlet.3.0;version=latest,\\\n+  com.ibm.websphere.org.osgi.core;version=latest,\\\n+  com.ibm.websphere.org.osgi.service.component;version=latest,\\\n+  com.ibm.wsspi.org.osgi.service.component.annotations;version=latest,\\\n+  commons-lang:commons-lang;version=2.4,\\\n+  fattest.simplicity;version=latest,\\\n+  org.jdom:jdom;version=1.1.2,\\\n+  lib/htmlunit-2.20-OSGi.jar;version=file", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE2MDY2Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501160667", "bodyText": "They made some changes to this JAR, I am not entirely certain what those changes were. I pulled in the one they were using over in WS.", "author": "jvanhill", "createdAt": "2020-10-07T16:46:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMjg3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTIyMDcxNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501220716", "bodyText": "You can still publish a version of it into the dhe / artifactory repo.", "author": "jhanders34", "createdAt": "2020-10-07T18:21:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMjg3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjA0MDAyOQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r502040029", "bodyText": "I removed this project since parts of it had been created already.", "author": "jvanhill", "createdAt": "2020-10-08T22:08:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExMjg3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExOTk2Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501119966", "bodyText": "Not sure why these binaries are included in the application or put into github.  The APIs are provided by the liberty runtime.   I suggest removing them from github and not be included in the ear file if possible.", "author": "jhanders34", "createdAt": "2020-10-07T15:47:21Z", "path": "dev/com.ibm.ws.security.client_fat/build.gradle", "diffHunk": "@@ -0,0 +1,1033 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+\n+// TODO earDD.ear, TechnologySamples.ear\n+\n+dependencies {\n+  requiredLibs 'org.apache.httpcomponents:httpclient:4.1.2',\n+               'org.apache.httpcomponents:httpcore:4.1.2',\n+               'commons-codec:commons-codec:1.4',\n+               'commons-logging:commons-logging:1.1.1',\n+               project(':com.ibm.websphere.javaee.servlet.3.0'),\n+               project(':com.ibm.ws.security.audit_fat.common.tooling')\n+}\n+\n+addRequiredLibraries.dependsOn addJakartaTransformer\n+\n+/* \n+ * This is where all test applications will be built.\n+ */\n+def appBuildDir = \"${buildDir}/test-application\"\n+\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** Java2Client.jar\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task Java2Client_JAR (type: Zip, dependsOn: classes) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'Java2Client.jar'\n+\n+  from (new File(projectDir, 'test-applications/Java2Client.jar/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(projectDir, 'build/classes/java/main')) {\n+    include 'com/ibm/ws/security/client/fat/java2/Java2App.class'\n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** Java2Client.ear\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task Java2Client_EAR (type: Zip, dependsOn: Java2Client_JAR) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'Java2Client.ear'\n+\n+  from (new File(projectDir, 'test-applications/Java2Client.ear/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(buildDir, 'test-application')) {\n+    include 'Java2Client.jar' \n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** Java2ClientNoPermissionsXML.ear\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task Java2ClientNoPermissionsXML_EAR (type: Zip, dependsOn: Java2Client_JAR) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'Java2ClientNoPermissionsXML.ear'\n+\n+  from (new File(projectDir, 'test-applications/Java2ClientNoPermissionsXML.ear/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(buildDir, 'test-application')) {\n+    include 'Java2Client.jar' \n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** JavaColonInjectionAppClient.jar\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task JavaColonInjectionAppClient_JAR (type: Zip, dependsOn: classes) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'JavaColonInjectionAppClient.jar'\n+  \n+  from (new File(projectDir, 'test-applications/JavaColonInjectionAppClient.jar/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(projectDir, 'build/classes/java/main')) {\n+    include 'com/ibm/ws/security/client/fat/InjectionClientMain.class'\n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** JavaColonInjectionAppEJB.jar\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task JavaColonInjectionAppEJB_JAR (type: Zip, dependsOn: classes) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'JavaColonInjectionAppEJB.jar'\n+  \n+  from (new File(projectDir, 'test-applications/JavaColonInjectionAppEJB.jar/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(projectDir, 'build/classes/java/main')) {\n+    include 'com/ibm/ws/security/client/fat/My*Bean.class'\n+    include 'com/ibm/ws/security/client/fat/view/*.class'\n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** JavaColonInjectionApp.ear\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task JavaColonInjectionApp_EAR (type: Zip) {\n+  dependsOn JavaColonInjectionAppClient_JAR, JavaColonInjectionAppEJB_JAR\n+  \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'JavaColonInjectionApp.ear'\n+\n+  from (new File(projectDir, 'test-applications/JavaColonInjectionApp.ear/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(buildDir, 'test-application')) {\n+    include 'JavaColonInjectionAppClient.jar', 'JavaColonInjectionAppEJB.jar' \n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** FileMonitorClient.jar\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task FileMonitorClient_JAR (type: Zip, dependsOn: classes) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'FileMonitorClient.jar'\n+  \n+  from (new File(projectDir, 'test-applications/FileMonitorClient.jar/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(projectDir, 'build/classes/java/main')) {\n+    include 'com/ibm/ws/security/client/fat/FileMonitorClientMain.class'\n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** FileMonitor.ear\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task FileMonitor_EAR (type: Zip, dependsOn: FileMonitorClient_JAR) {\n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'FileMonitor.ear'\n+\n+  from (new File(projectDir, 'test-applications/FileMonitor.ear/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(buildDir, 'test-application')) {\n+    include 'FileMonitorClient.jar' \n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** SSLHttpsClient.jar\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task SSLHttpsClient_JAR (type: Zip, dependsOn: classes) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'SSLHttpsClient.jar'\n+  \n+  from (new File(projectDir, 'test-applications/SSLHttpsClient.jar/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(projectDir, 'build/classes/java/main')) {\n+    include 'com/ibm/ws/security/client/fat/BasicSSLClientMain*.class'\n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** SSLClient.ear\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task SSLClient_EAR (type: Zip, dependsOn: SSLHttpsClient_JAR) {\n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'SSLClient.ear'\n+\n+  from (new File(projectDir, 'test-applications/SSLClient.ear/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(buildDir, 'test-application')) {\n+    include 'SSLHttpsClient.jar' \n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** BasicCalculatorClient.jar\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task BasicCalculatorClient_JAR (type: Zip, dependsOn: classes) { \n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'BasicCalculatorClient.jar'\n+  \n+  from (new File(projectDir, 'test-applications/BasicCalculatorClient.jar/resources')) {\n+    include 'META-INF/**'\n+  }\n+  from (new File(projectDir, 'build/classes/java/main')) {\n+    include 'com/ibm/websphere/samples/technologysamples/basiccalcclient/*.class'\n+    include 'com/ibm/websphere/samples/technologysamples/basiccalcclient/common/*.class'\n+    include 'com/ibm/websphere/samples/technologysamples/ejb/stateless/basiccalculatorejb/BasicCalculator.class'\n+    include 'com/ibm/websphere/samples/technologysamples/ejb/stateless/basiccalculatorejb/BasicCalculatorHome.class'\n+  }\n+}\n+\n+/******************************************************************\n+ ******************************************************************\n+ **\n+ ** BasicCalculatorClient.ear\n+ **\n+ ******************************************************************\n+ ******************************************************************/\n+task BasicCalculatorClient_EAR (type: Zip, dependsOn: BasicCalculatorClient_JAR) {\n+  destinationDirectory = new File(appBuildDir)\n+  archiveFileName = 'BasicCalculatorClient.ear'\n+\n+  from (new File(projectDir, 'test-applications/BasicCalculatorClient.ear/resources')) {\n+    include 'META-INF/**'\n+    include 'lib/**'", "originalCommit": "be7fcc6ae5392edef089c90fd639c0f940b2a675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE2MTAxNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r501161015", "bodyText": "When reviewing with Ryan, I realized these were here. Removed them.", "author": "jvanhill", "createdAt": "2020-10-07T16:47:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTExOTk2Ng=="}], "type": "inlineReview"}, {"oid": "32486a4d3a4daeefd6081dd40df6c9d879bc326b", "url": "https://github.com/OpenLiberty/open-liberty/commit/32486a4d3a4daeefd6081dd40df6c9d879bc326b", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-08T22:07:22Z", "type": "forcePushed"}, {"oid": "83520c0295f35d3ad6b9c5ca24f8f1c2a8c814a1", "url": "https://github.com/OpenLiberty/open-liberty/commit/83520c0295f35d3ad6b9c5ca24f8f1c2a8c814a1", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-09T14:24:12Z", "type": "forcePushed"}, {"oid": "f7387ce203079ed355662dcc64d432d4919a6154", "url": "https://github.com/OpenLiberty/open-liberty/commit/f7387ce203079ed355662dcc64d432d4919a6154", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-12T21:46:22Z", "type": "forcePushed"}, {"oid": "66ea03057cab1eaaebc5f213612967d92de98d3e", "url": "https://github.com/OpenLiberty/open-liberty/commit/66ea03057cab1eaaebc5f213612967d92de98d3e", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-12T21:47:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzUyMTUwOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r503521508", "bodyText": "Since you no longer are bringing in that common tooling project you do not need to add this jdom dependency any longer it would appear.", "author": "jhanders34", "createdAt": "2020-10-12T20:40:43Z", "path": "dev/cnf/oss_dependencies.maven", "diffHunk": "@@ -470,6 +470,7 @@ org.jboss.weld:weld-osgi-bundle:2.4.8.Final\n org.jboss.weld:weld-osgi-bundle:3.1.4.Final\n org.jboss.weld:weld-osgi-bundle:4.0.0.Alpha3\n org.jboss:jandex:2.1.2.Final\n+org.jdom:jdom:1.1.2", "originalCommit": "83520c0295f35d3ad6b9c5ca24f8f1c2a8c814a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg3NTg5MQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504875891", "bodyText": "Removed.", "author": "jvanhill", "createdAt": "2020-10-14T18:11:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzUyMTUwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4NDcwNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504784704", "bodyText": "Not sure why this one has 1.0 on it.  Above you removed the version number.  Since it is appSecurity 4.0 this doesn't make a lot of sense to have 1.0 on it.", "author": "jhanders34", "createdAt": "2020-10-14T15:46:23Z", "path": "dev/com.ibm.websphere.appserver.features/visibility/auto/io.openliberty.enterpriseBeansRemote-appSecurity-1.0.feature", "diffHunk": "@@ -0,0 +1,14 @@\n+-include= ~${workspace}/cnf/resources/bnd/feature.props\n+symbolicName=io.openliberty.enterpriseBeansRemote-appSecurity-1.0", "originalCommit": "66ea03057cab1eaaebc5f213612967d92de98d3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg3ODcxMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504878711", "bodyText": "I originally added -1.0 to indicate the first version of the feature, not the version of any feature that provisions this feature. I will remove the -1.0 from the end of the feature / symbolic name.", "author": "jvanhill", "createdAt": "2020-10-14T18:16:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc4NDcwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NDM0NA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504794344", "bodyText": "I think you want to change this to mail-2.0, not jakartaMail-1.6", "author": "jhanders34", "createdAt": "2020-10-14T15:59:29Z", "path": "dev/fattest.simplicity/src/componenttest/rules/repeater/JakartaEE9Action.java", "diffHunk": "@@ -74,7 +74,7 @@\n                                                  \"enterpriseBeansTest-2.0\",\n                                                  \"jacc-2.0\",\n                                                  \"jaspic-2.0\",\n-                                                 \"javaMail-2.0\",\n+                                                 \"jakartaMail-1.6\",", "originalCommit": "66ea03057cab1eaaebc5f213612967d92de98d3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg3OTUyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504879527", "bodyText": "Made the change.", "author": "jvanhill", "createdAt": "2020-10-14T18:18:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NDM0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NDkzOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504794938", "bodyText": "I think you want this to be mail not jakartaMail", "author": "jhanders34", "createdAt": "2020-10-14T16:00:18Z", "path": "dev/fattest.simplicity/src/componenttest/rules/repeater/FeatureReplacementAction.java", "diffHunk": "@@ -60,6 +60,7 @@\n         featureNameMapping.put(\"ejbTest\", \"enterpriseBeansTest\");\n         featureNameMapping.put(\"javaee\", \"jakartaee\");\n         featureNameMapping.put(\"javaeeClient\", \"jakartaeeClient\");\n+        featureNameMapping.put(\"javaMail\", \"jakartaMail\");", "originalCommit": "66ea03057cab1eaaebc5f213612967d92de98d3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg3OTY1MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504879650", "bodyText": "Made the change.", "author": "jvanhill", "createdAt": "2020-10-14T18:18:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NDkzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NjQwMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504796401", "bodyText": "This comment should say mail-2.0.  It might be available now.", "author": "jhanders34", "createdAt": "2020-10-14T16:02:23Z", "path": "dev/com.ibm.ws.security.client_fat/fat/src/com/ibm/ws/security/client/fat/JavaColonInjectionsTest.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/*******************************************************************************\n+ * Copyright (c) 2015, 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+\n+package com.ibm.ws.security.client.fat;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import java.util.List;\n+\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.rules.TestName;\n+import org.junit.runner.RunWith;\n+\n+import com.ibm.websphere.simplicity.ProgramOutput;\n+import com.ibm.websphere.simplicity.log.Log;\n+\n+import componenttest.annotation.SkipForRepeat;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.custom.junit.runner.Mode;\n+import componenttest.custom.junit.runner.Mode.TestMode;\n+import componenttest.topology.impl.LibertyClient;\n+import componenttest.topology.impl.LibertyClientFactory;\n+import componenttest.topology.impl.LibertyServer;\n+import componenttest.topology.impl.LibertyServerFactory;\n+\n+@SkipForRepeat(SkipForRepeat.EE9_FEATURES) // TODO jakartaMail-1.6 is not yet available.", "originalCommit": "66ea03057cab1eaaebc5f213612967d92de98d3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDgwNjU1Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504806557", "bodyText": "I just looked and it is edition = beta so it would appears available.", "author": "jhanders34", "createdAt": "2020-10-14T16:17:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NjQwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDkzNTEwNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504935106", "bodyText": "Removed the skip for repeat as mail-2.0 is available. I also had to update wlp-jakartaee-transform/rules/jakarta-renames.properties (rename javax.mail to jakarta.mail) and com.ibm.ws.security.client_fat/bnd.bnd  (add EE9 tested features) for this change.", "author": "jvanhill", "createdAt": "2020-10-14T19:55:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc5NjQwMQ=="}], "type": "inlineReview"}, {"oid": "df1679146f2f8f35ad8341367c8e635a726c5deb", "url": "https://github.com/OpenLiberty/open-liberty/commit/df1679146f2f8f35ad8341367c8e635a726c5deb", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-14T19:52:26Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk0MjcxNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504942716", "bodyText": "This particular one was moved earlier in the file to line up with other ones.  You may want to remove this duplicate.", "author": "jhanders34", "createdAt": "2020-10-14T20:09:14Z", "path": "dev/wlp-jakartaee-transform/rules/jakarta-xml-dd.properties", "diffHunk": "@@ -43,3 +43,5 @@ javax.faces.WEBAPP_CONTRACTS_DIRECTORY=jakarta.faces.WEBAPP_CONTRACTS_DIRECTORY\n javax.faces.CLIENT_WINDOW_MODE=jakarta.faces.CLIENT_WINDOW_MODE\n javax.faces.SERIALIZE_SERVER_STATE=jakarta.faces.SERIALIZE_SERVER_STATE\n \n+javax.resource.spi.security.PasswordCredential=jakarta.resource.spi.security.PasswordCredential", "originalCommit": "df1679146f2f8f35ad8341367c8e635a726c5deb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk2MzAzMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13630#discussion_r504963030", "bodyText": "Removed this duplicate.", "author": "jvanhill", "createdAt": "2020-10-14T20:48:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk0MjcxNg=="}], "type": "inlineReview"}, {"oid": "e4830bd16bb364cb3cd8d0bfb5a3e139d5cfe26e", "url": "https://github.com/OpenLiberty/open-liberty/commit/e4830bd16bb364cb3cd8d0bfb5a3e139d5cfe26e", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-14T20:12:57Z", "type": "commit"}, {"oid": "e4830bd16bb364cb3cd8d0bfb5a3e139d5cfe26e", "url": "https://github.com/OpenLiberty/open-liberty/commit/e4830bd16bb364cb3cd8d0bfb5a3e139d5cfe26e", "message": "Issue #11865: Jakarta'ize appSecurityClient-1.0 feature and add FATs. Update Jakarta security FATs to run EE9. Resolved issue #13131.", "committedDate": "2020-10-14T20:12:57Z", "type": "forcePushed"}]}