{"pr_number": 1045, "pr_title": "Update ivy dependencies to be same as pom dependencies", "pr_createdAt": "2020-05-31T20:40:02Z", "pr_url": "https://github.com/apache/helix/pull/1045", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk5OTkyNA==", "url": "https://github.com/apache/helix/pull/1045#discussion_r432999924", "bodyText": "Is this version bump up necessary?\nSometimes open source libraries aren't always backward compatible and could cause unwarranted code behavior change. So if there's no clear reason, we'd prefer to keep the version we know to be working.", "author": "narendly", "createdAt": "2020-06-01T00:21:31Z", "path": "helix-admin-webapp/pom.xml", "diffHunk": "@@ -79,12 +79,12 @@ under the License.\n     <dependency>\n       <groupId>org.codehaus.jackson</groupId>\n       <artifactId>jackson-core-asl</artifactId>\n-      <version>1.8.5</version>", "originalCommit": "6b2e16cdd3b3c7aad6bc8d01221f752a5691b0d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ4MTk0Ng==", "url": "https://github.com/apache/helix/pull/1045#discussion_r438481946", "bodyText": "It is because \"open source libraries aren't always backward compatible and could cause unwarranted code behavior change.\". We have different dependency versions for Jackson-core-asl. In run time, this version difference may cause conflict and exceptions like NoSuchClassException. I actually would like to upgrade it to make sure only one version is used in our project to avoid conflicts.", "author": "huizhilu", "createdAt": "2020-06-11T00:43:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk5OTkyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMDA4Nw==", "url": "https://github.com/apache/helix/pull/1045#discussion_r433000087", "bodyText": "I'm not sure if this is the correct version we should use in .ivy file. Could you double check that our version bump up script replaces these versions to the correct one at build time?", "author": "narendly", "createdAt": "2020-06-01T00:23:07Z", "path": "helix-common/helix-common-1.0.1-SNAPSHOT.ivy", "diffHunk": "@@ -43,9 +43,7 @@ under the License.\n     <dependency org=\"org.slf4j\" name=\"slf4j-log4j12\" rev=\"1.7.14\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\">\n         <artifact name=\"slf4j-log4j12\" ext=\"jar\"/>\n     </dependency>\n-    <dependency org=\"org.yaml\" name=\"snakeyaml\" rev=\"1.12\" conf=\"compile->compile(default);runtime->runtime(default);default->default\"/>\n-\t\t<dependency org=\"org.codehaus.jackson\" name=\"jackson-core-asl\" rev=\"1.8.5\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n-\t\t<dependency org=\"org.codehaus.jackson\" name=\"jackson-mapper-asl\" rev=\"1.8.5\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n-\t\t<dependency org=\"commons-cli\" name=\"commons-cli\" rev=\"1.2\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"org.apache.helix\" name=\"metrics-common\" rev=\"1.0.1-SNAPSHOT\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"org.apache.helix\" name=\"zookeeper-api\" rev=\"1.0.1-SNAPSHOT\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>", "originalCommit": "6b2e16cdd3b3c7aad6bc8d01221f752a5691b0d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ4MTk5Ng==", "url": "https://github.com/apache/helix/pull/1045#discussion_r438481996", "bodyText": "It is correct.", "author": "huizhilu", "createdAt": "2020-06-11T00:43:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMDA4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMDI4Nw==", "url": "https://github.com/apache/helix/pull/1045#discussion_r433000287", "bodyText": "Same comment on yaml. Although with YAML, I think it should be fine to upgrade. It's not as crucial to Helix pipeline as Jackson. \"If it ain't broke, don't fix it\" works with open source libraries.", "author": "narendly", "createdAt": "2020-06-01T00:24:31Z", "path": "helix-core/pom.xml", "diffHunk": "@@ -128,30 +128,10 @@ under the License.\n       <artifactId>commons-math3</artifactId>\n       <version>3.6.1</version>\n     </dependency>\n-    <dependency>\n-      <groupId>commons-codec</groupId>\n-      <artifactId>commons-codec</artifactId>\n-      <version>1.6</version>\n-    </dependency>\n-    <dependency>\n-      <groupId>com.google.guava</groupId>\n-      <artifactId>guava</artifactId>\n-      <version>15.0</version>\n-    </dependency>\n     <dependency>\n       <groupId>org.yaml</groupId>\n       <artifactId>snakeyaml</artifactId>\n-      <version>1.12</version>\n-    </dependency>\n-    <dependency>\n-      <groupId>io.dropwizard.metrics</groupId>\n-      <artifactId>metrics-core</artifactId>\n-      <version>3.2.3</version>\n-    </dependency>\n-    <dependency>\n-      <groupId>org.apache.httpcomponents</groupId>\n-      <artifactId>httpclient</artifactId>\n-      <version>4.5.8</version>\n+      <version>1.17</version>", "originalCommit": "6b2e16cdd3b3c7aad6bc8d01221f752a5691b0d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ4MjA2Ng==", "url": "https://github.com/apache/helix/pull/1045#discussion_r438482066", "bodyText": "Same. It is because \"open source libraries aren't always backward compatible and could cause unwarranted code behavior change.\". We have different dependency versions for Jackson-core-asl. In run time, this version difference may cause conflict and exceptions like NoSuchClassException. I actually would like to upgrade it to make sure only one version is used in our project to avoid conflicts.", "author": "huizhilu", "createdAt": "2020-06-11T00:43:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMDI4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMDQ5Nw==", "url": "https://github.com/apache/helix/pull/1045#discussion_r433000497", "bodyText": "I am not sure if this library would be needed in the ivy file. We may not need to include this because we don't need this available other than build time to create a JAR.", "author": "narendly", "createdAt": "2020-06-01T00:26:15Z", "path": "metrics-common/metrics-common-0.9.2-SNAPSHOT.ivy", "diffHunk": "@@ -43,5 +43,6 @@ under the License.\n     <dependency org=\"org.slf4j\" name=\"slf4j-log4j12\" rev=\"1.7.14\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\">\n         <artifact name=\"slf4j-log4j12\" ext=\"jar\"/>\n     </dependency>\n+    <dependency org=\"io.dropwizard.metrics\" name=\"metrics-core\" rev=\"3.2.3\" conf=\"compile->compile(*),master(*);runtime->runtime(*)/>", "originalCommit": "6b2e16cdd3b3c7aad6bc8d01221f752a5691b0d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ4MjE4Mg==", "url": "https://github.com/apache/helix/pull/1045#discussion_r438482182", "bodyText": "It is to make sure jars built with ivy have the same dependencies with jars built with maven pom.", "author": "huizhilu", "createdAt": "2020-06-11T00:44:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMDQ5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMTQ3NQ==", "url": "https://github.com/apache/helix/pull/1045#discussion_r433001475", "bodyText": "Probably not necessary for the same reason for metrics-core above.", "author": "narendly", "createdAt": "2020-06-01T00:35:30Z", "path": "zookeeper-api/zookeeper-api-1.0.1-SNAPSHOT.ivy", "diffHunk": "@@ -43,9 +43,10 @@ under the License.\n     <dependency org=\"org.slf4j\" name=\"slf4j-log4j12\" rev=\"1.7.14\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\">\n         <artifact name=\"slf4j-log4j12\" ext=\"jar\"/>\n     </dependency>\n-\t\t<dependency org=\"org.codehaus.jackson\" name=\"jackson-core-asl\" rev=\"1.8.5\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n-\t\t<dependency org=\"org.codehaus.jackson\" name=\"jackson-mapper-asl\" rev=\"1.8.5\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n-\t\t<dependency org=\"commons-cli\" name=\"commons-cli\" rev=\"1.2\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n-\t\t<dependency org=\"org.apache.httpcomponents\" name=\"httpclient\" rev=\"4.5.8\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"org.apache.helix\" name=\"metrics-common\" rev=\"1.0.1-SNAPSHOT\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"org.apache.helix\" name=\"metadata-store-directory-common\" rev=\"1.0.1-SNAPSHOT\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"org.apache.zookeeper\" name=\"zookeeper\" rev=\"3.4.13\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"org.codehaus.jackson\" name=\"jackson-mapper-asl\" rev=\"1.9.13\" force=\"true\" conf=\"compile->compile(*),master(*);runtime->runtime(*)\"/>\n+    <dependency org=\"commons-codec\" name=\"commons-codec\" rev=\"1.14\" conf=\"compile->compile(default);runtime->runtime(default);default->default\"/>", "originalCommit": "6b2e16cdd3b3c7aad6bc8d01221f752a5691b0d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ4MjIyNQ==", "url": "https://github.com/apache/helix/pull/1045#discussion_r438482225", "bodyText": "It is to make sure jars built with ivy have the same dependencies with jars built with maven pom.", "author": "huizhilu", "createdAt": "2020-06-11T00:44:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwMTQ3NQ=="}], "type": "inlineReview"}, {"oid": "d4e414e792c33b27db54520d3ad3ccb74783e923", "url": "https://github.com/apache/helix/commit/d4e414e792c33b27db54520d3ad3ccb74783e923", "message": "Update ivy dependencies to be same as pom dependencies", "committedDate": "2020-06-11T00:55:55Z", "type": "forcePushed"}, {"oid": "47abd4afc20177ec68ea07f0b5878df305868e51", "url": "https://github.com/apache/helix/commit/47abd4afc20177ec68ea07f0b5878df305868e51", "message": "Update ivy dependencies to be same as pom dependencies", "committedDate": "2020-07-23T02:54:09Z", "type": "commit"}, {"oid": "eb4033e5a68e74784b09bcc0d36ac3cbd3d1c752", "url": "https://github.com/apache/helix/commit/eb4033e5a68e74784b09bcc0d36ac3cbd3d1c752", "message": "Upgrade restlet.jse version", "committedDate": "2020-07-23T02:55:21Z", "type": "commit"}, {"oid": "eb4033e5a68e74784b09bcc0d36ac3cbd3d1c752", "url": "https://github.com/apache/helix/commit/eb4033e5a68e74784b09bcc0d36ac3cbd3d1c752", "message": "Upgrade restlet.jse version", "committedDate": "2020-07-23T02:55:21Z", "type": "forcePushed"}, {"oid": "7517653ee7d580b5c82bfda3e95acfe6928e8ef8", "url": "https://github.com/apache/helix/commit/7517653ee7d580b5c82bfda3e95acfe6928e8ef8", "message": "Upgrade helix modules to 1.0.2-SNAPSHOT", "committedDate": "2020-07-23T03:02:56Z", "type": "commit"}]}