{"pr_number": 215, "pr_title": "Upgrade from 1.9.0 to 1.10.0", "pr_createdAt": "2020-08-24T18:57:00Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/215", "timeline": [{"oid": "130eb0ba79ef1c451fb189ce71f8fac1ec424bda", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/commit/130eb0ba79ef1c451fb189ce71f8fac1ec424bda", "message": "Upgrade from 1.9.0 to 1.10.0\n\n1. Upgraded ES-OSS from 7.8 to 7.9\n2. Fixed compilation errors due to changes in 7.9\n3. Added dependencies explicitly since after upgrading to 7.9, we saw error in powemockito.\n4. Exclude asm transitive dependency, since those jar is already added by es in 7.9 explicitly\n5. Remove jacoco.core, jacoco.report since it is part of ant.", "committedDate": "2020-08-24T18:05:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg3MjQxNg==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/215#discussion_r475872416", "bodyText": "Just asking, why exclude these modules?", "author": "ylwu-amzn", "createdAt": "2020-08-24T20:24:14Z", "path": "build.gradle", "diffHunk": "@@ -301,14 +301,22 @@ dependencies {\n     compile 'software.amazon.randomcutforest:randomcutforest-serialization-json:1.0-alpha'\n \n     compile \"org.jacoco:org.jacoco.agent:0.8.5\"\n-    compile \"org.jacoco:org.jacoco.ant:0.8.5\"\n-    compile \"org.jacoco:org.jacoco.core:0.8.5\"\n-    compile \"org.jacoco:org.jacoco.report:0.8.5\"\n+    compile (\"org.jacoco:org.jacoco.ant:0.8.5\") {\n+        exclude group: 'org.ow2.asm', module: 'asm-commons'", "originalCommit": "130eb0ba79ef1c451fb189ce71f8fac1ec424bda", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5MjU1Mw==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/215#discussion_r475892553", "bodyText": "In ES 7.9, they added those dependencies ( https://github.com/elastic/elasticsearch/blob/master/modules/lang-painless/build.gradle#L36 ). We are also including this dependency through transitive from code-coverage . This caused jar Hell error ( es checks whether any multiple jars of same or different version is being included ). Hence, i excluded this jar to be added into our plugin while downloading org.jacoco:org.jacoco.ant for code coverage.", "author": "VijayanB", "createdAt": "2020-08-24T21:02:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg3MjQxNg=="}], "type": "inlineReview"}]}