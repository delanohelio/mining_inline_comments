{"pr_number": 284, "pr_title": "Renaming all Actions to distinguish between internal and external facing", "pr_createdAt": "2020-10-20T20:06:56Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284", "timeline": [{"oid": "ea51a66801b3b5648020af207eb6da4076125afd", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/commit/ea51a66801b3b5648020af207eb6da4076125afd", "message": "Renaming all Actions to distinguish between internal and external facing", "committedDate": "2020-10-20T20:05:28Z", "type": "commit"}, {"oid": "dbe7867a789a0d020c69ee989d8bec154a3ba28e", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/commit/dbe7867a789a0d020c69ee989d8bec154a3ba28e", "message": "Adding spotless changes", "committedDate": "2020-10-20T20:18:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MTY5Ng==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508861696", "bodyText": "Could we put the internal and external action common prefix to CommonValue so that it is harder to have typo errors and easier to maintain in case that we want to change in the future?", "author": "kaituo", "createdAt": "2020-10-20T21:50:25Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/ADResultBulkAction.java", "diffHunk": "@@ -23,7 +23,7 @@\n public class ADResultBulkAction extends ActionType<BulkResponse> {\n \n     public static final ADResultBulkAction INSTANCE = new ADResultBulkAction();\n-    //Internal Action which is not used for public facing RestAPIs.\n+    // Internal Action which is not used for public facing RestAPIs.\n     public static final String NAME = \"cluster:admin/opendistro/adinternal/write/bulk\";", "originalCommit": "dbe7867a789a0d020c69ee989d8bec154a3ba28e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2OTExNg==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508869116", "bodyText": "Sure, thats a nice idea.\nWill make a change.", "author": "saratvemulapalli", "createdAt": "2020-10-20T22:06:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MTY5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjQ5Ng==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508862496", "bodyText": "should this be internal since only background job runs it?", "author": "kaituo", "createdAt": "2020-10-20T21:52:07Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/AnomalyResultAction.java", "diffHunk": "@@ -19,7 +19,7 @@\n \n public class AnomalyResultAction extends ActionType<AnomalyResultResponse> {\n     public static final AnomalyResultAction INSTANCE = new AnomalyResultAction();\n-    //External Action which used for public facing RestAPIs.\n+    // External Action which used for public facing RestAPIs.", "originalCommit": "dbe7867a789a0d020c69ee989d8bec154a3ba28e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2OTQ1Ng==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508869456", "bodyText": "It is also used in one of our Rest APIs which I wanted it to be external action : \n  \n    \n      anomaly-detection/src/main/java/com/amazon/opendistroforelasticsearch/ad/rest/RestExecuteAnomalyDetectorAction.java\n    \n    \n         Line 127\n      in\n      129d249\n    \n    \n    \n    \n\n        \n          \n           client.execute(AnomalyResultAction.INSTANCE, getRequest, new RestToXContentListener<>(channel));", "author": "saratvemulapalli", "createdAt": "2020-10-20T22:07:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjQ5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTAzMg==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508911032", "bodyText": "I see.", "author": "kaituo", "createdAt": "2020-10-21T00:00:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODg2MjQ5Ng=="}], "type": "inlineReview"}, {"oid": "fe8718f078d784abe61f4cd6132a3bf46fe49bff", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/commit/fe8718f078d784abe61f4cd6132a3bf46fe49bff", "message": "Stubbing out common actions", "committedDate": "2020-10-20T23:14:02Z", "type": "commit"}, {"oid": "4d91e70151e2509861af6843e67ca6f9c9f428f5", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/commit/4d91e70151e2509861af6843e67ca6f9c9f428f5", "message": "Fixing typo and apply spotless", "committedDate": "2020-10-20T23:16:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTk4Nw==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508911987", "bodyText": "This is internal.", "author": "kaituo", "createdAt": "2020-10-21T00:03:36Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/ad/transport/DeleteModelAction.java", "diffHunk": "@@ -15,12 +15,13 @@\n \n package com.amazon.opendistroforelasticsearch.ad.transport;\n \n+import com.amazon.opendistroforelasticsearch.ad.constant.CommonValue;\n import org.elasticsearch.action.ActionType;\n \n public class DeleteModelAction extends ActionType<DeleteModelResponse> {\n     public static final DeleteModelAction INSTANCE = new DeleteModelAction();\n     // Internal Action which is not used for public facing RestAPIs.\n-    public static final String NAME = \"cluster:admin/opendistro/adinternal/model/delete\";\n+    public static final String NAME = CommonValue.EXTERNAL_ACTION_PREFIX + \"model/delete\";", "originalCommit": "fe8718f078d784abe61f4cd6132a3bf46fe49bff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMjYzMQ==", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/pull/284#discussion_r508912631", "bodyText": "Yeah I did take care of it : )", "author": "saratvemulapalli", "createdAt": "2020-10-21T00:05:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTk4Nw=="}], "type": "inlineReview"}, {"oid": "550c3557d56d9dd7be002341b8a2e81f54b95af7", "url": "https://github.com/opendistro-for-elasticsearch/anomaly-detection/commit/550c3557d56d9dd7be002341b8a2e81f54b95af7", "message": "Reordering statements", "committedDate": "2020-10-22T20:10:21Z", "type": "commit"}]}