{"pr_number": 1151, "pr_title": "Fix #1148 #1149 - API level throttling issues in distributed setup", "pr_createdAt": "2020-03-19T08:33:07Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1151", "timeline": [{"oid": "af0cf4250520da65adee317a7f8387047e76b2d8", "url": "https://github.com/wso2/product-microgateway/commit/af0cf4250520da65adee317a7f8387047e76b2d8", "message": "Fix #1148 #1149 - API level throttling issues in distributed setup", "committedDate": "2020-03-19T08:30:27Z", "type": "commit"}, {"oid": "d8bef1efe6d05baca4bcc49e7c5977603041dc22", "url": "https://github.com/wso2/product-microgateway/commit/d8bef1efe6d05baca4bcc49e7c5977603041dc22", "message": "Fix #1141 - Support basic auth with sha256 and above hashing", "committedDate": "2020-03-19T10:33:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDkzMjM2NA==", "url": "https://github.com/wso2/product-microgateway/pull/1151#discussion_r394932364", "bodyText": "This doesn't look good. This makes the [DONE] printed in next line which is not professional at all IMO. Earlier we had few difficulties in printing this in one line but I fixed it recently in one of my PRs. If we need to print warn messages then the best option is to keep all messages in a list and print those after the build command execution, in the Main.java", "author": "praminda", "createdAt": "2020-03-19T10:38:51Z", "path": "components/micro-gateway-cli/src/main/java/org/wso2/apimgt/gateway/cli/cmd/BuildCmd.java", "diffHunk": "@@ -129,7 +129,7 @@ public void execute() {\n             }\n             String toolkitConfigPath = CmdUtils.getMainConfigLocation();\n             init(projectName, toolkitConfigPath, deploymentConfigPath);\n-            outStream.print(\"Generating sources...\");\n+            outStream.print(\"Generating sources... \\n\");", "originalCommit": "d8bef1efe6d05baca4bcc49e7c5977603041dc22", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDkzNDMzMA==", "url": "https://github.com/wso2/product-microgateway/pull/1151#discussion_r394934330", "bodyText": "If any of the options doesn't work my opinion is we should remove the half bakedGenerating sources message completely from the build output.", "author": "praminda", "createdAt": "2020-03-19T10:42:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDkzMjM2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDkzMjg1MQ==", "url": "https://github.com/wso2/product-microgateway/pull/1151#discussion_r394932851", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    - petstore_auth: []\n          \n          \n            \n                    - petstore_auth: []", "author": "praminda", "createdAt": "2020-03-19T10:39:40Z", "path": "tests/src/test/resources/openAPIs/throttling/throttle.yaml", "diffHunk": "@@ -0,0 +1,104 @@\n+openapi: 3.0.0\n+info:\n+  description: \"This is a sample server Petstore server.  You can find out more about\n+    Swagger at [http://swagger.io](http://swagger.io) or on [irc.freenode.net,\n+    #swagger](http://swagger.io/irc/).  For this sample, you can use the api key\n+    `special-key` to test the authorization filters.\"\n+  version: 2.0.0\n+  title: PetStoreAPI\n+  termsOfService: http://swagger.io/terms/\n+  contact:\n+    email: apiteam@swagger.io\n+  license:\n+    name: Apache 2.0\n+    url: http://www.apache.org/licenses/LICENSE-2.0.html\n+x-wso2-basePath: /petstore/v2\n+x-wso2-production-endpoints:\n+  urls:\n+    - https://localhost:2380/v2\n+security:\n+  - petstore_auth: []\n+x-wso2-sandbox-endpoints:\n+  urls:\n+    - https://localhost:2380/v2\n+tags:\n+  - name: pet\n+    description: Everything about your Pets\n+    externalDocs:\n+      description: Find out more\n+      url: http://swagger.io\n+  - name: store\n+    description: Access to Petstore orders\n+  - name: user\n+    description: Operations about user\n+    externalDocs:\n+      description: Find out more about our store\n+      url: http://swagger.io\n+paths:\n+  \"/store/order/{orderId}\":\n+    get:\n+      tags:\n+        - store\n+      summary: Find purchase order by ID\n+      description: For valid response try integer IDs with value >= 1 and <= 10. Other\n+        values will generated exceptions\n+      operationId: getOrderById\n+      x-wso2-throttling-tier: NonExistingPolicy\n+      parameters:\n+        - name: orderId\n+          in: path\n+          description: ID of pet that needs to be fetched\n+          required: true\n+          schema:\n+            type: integer\n+            format: int64\n+            minimum: 1\n+            maximum: 10\n+      responses:\n+        \"200\":\n+          description: successful operation\n+          content:\n+            application/xml:\n+              schema:\n+                $ref: \"#/components/schemas/Order\"\n+            application/json:\n+              schema:\n+                $ref: \"#/components/schemas/Order\"\n+        \"400\":\n+          description: Invalid ID supplied\n+        \"404\":\n+          description: Order not found\n+  \"/pet/{petId}\":\n+    get:\n+      tags:\n+        - pet\n+      summary: Find pet by ID\n+      description: Returns a single pet\n+      operationId: getPetById\n+      x-wso2-throttling-tier: 3PerMin\n+      parameters:\n+        - name: petId\n+          in: path\n+          description: ID of pet to return\n+          required: true\n+          schema:\n+            type: integer\n+            format: int64\n+      responses:\n+        \"200\":\n+          description: successful operation\n+          content:\n+            application/xml:\n+              schema:\n+                $ref: \"#/components/schemas/Pet\"\n+            application/json:\n+              schema:\n+                $ref: \"#/components/schemas/Pet\"\n+        \"400\":\n+          description: Invalid ID supplied\n+        \"404\":\n+          description: Pet not found\n+      security:\n+        - api_key: []\n+          api_key_query: []\n+        - petstore_auth: []", "originalCommit": "d8bef1efe6d05baca4bcc49e7c5977603041dc22", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fcce40618bdf984faf4f89cc8c300f4fde51ff98", "url": "https://github.com/wso2/product-microgateway/commit/fcce40618bdf984faf4f89cc8c300f4fde51ff98", "message": "Fix #1113 - Allow x-wso2-basePath to be template with version", "committedDate": "2020-03-19T11:55:09Z", "type": "commit"}]}