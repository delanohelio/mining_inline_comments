{"pr_number": 1228, "pr_title": "Fix multiple jms subscription", "pr_createdAt": "2020-05-06T12:14:10Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1228", "timeline": [{"oid": "b9b469c8d0d5015be2b24832e48bbcf83b7ad290", "url": "https://github.com/wso2/product-microgateway/commit/b9b469c8d0d5015be2b24832e48bbcf83b7ad290", "message": "throttle: Fix multiple jms subscription\n\nThere was an issue when multiple JMS subcribers (two mgw nodes)\ntrying to connect to same TM for distributed throttling. Changing\nthe subscriber type fixes the issue.", "committedDate": "2020-05-06T12:12:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc0OTA5MQ==", "url": "https://github.com/wso2/product-microgateway/pull/1228#discussion_r420749091", "bodyText": "Why we need to pass empty string. I think we can use\ncreateConsumer(dest);", "author": "Rajith90", "createdAt": "2020-05-06T12:25:33Z", "path": "components/micro-gateway-core/src/main/ballerina/src/gateway/services/throttle_event_listener.bal", "diffHunk": "@@ -84,7 +84,7 @@ public function startSubscriberService() returns @tainted jms:MessageConsumer |\n             return session;\n         } else {\n             jms:Destination dest = check session->createTopic(\"throttleData\");\n-            jms:MessageConsumer | error subscriberEndpoint = trap session->createDurableSubscriber(dest, \"sub-1\");\n+            jms:MessageConsumer | error subscriberEndpoint = trap session->createConsumer(dest, \"\");", "originalCommit": "b9b469c8d0d5015be2b24832e48bbcf83b7ad290", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc1NTc3MQ==", "url": "https://github.com/wso2/product-microgateway/pull/1228#discussion_r420755771", "bodyText": "Fixed", "author": "praminda", "createdAt": "2020-05-06T12:36:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDc0OTA5MQ=="}], "type": "inlineReview"}, {"oid": "af686025fed0f23dd26f3fe4072052aa414b1558", "url": "https://github.com/wso2/product-microgateway/commit/af686025fed0f23dd26f3fe4072052aa414b1558", "message": "Remove unwanted argument", "committedDate": "2020-05-06T12:35:53Z", "type": "commit"}, {"oid": "a1bab044e660d001fc6188790b59911bdfe202ee", "url": "https://github.com/wso2/product-microgateway/commit/a1bab044e660d001fc6188790b59911bdfe202ee", "message": "Merge branch 'master' into master", "committedDate": "2020-05-13T10:17:20Z", "type": "commit"}]}