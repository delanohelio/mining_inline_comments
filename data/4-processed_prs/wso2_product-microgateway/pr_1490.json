{"pr_number": 1490, "pr_title": "Add go lint and go vet checks to adapter implementation", "pr_createdAt": "2020-11-16T05:59:00Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1490", "timeline": [{"oid": "e5ad4d5eb0376deb16d946ec39fc3fe476f54058", "url": "https://github.com/wso2/product-microgateway/commit/e5ad4d5eb0376deb16d946ec39fc3fe476f54058", "message": "update remove containers to remove envoy container", "committedDate": "2020-11-15T15:52:42Z", "type": "commit"}, {"oid": "ed4c5061da9aab8f8cb5188e1b0c0051a2d23411", "url": "https://github.com/wso2/product-microgateway/commit/ed4c5061da9aab8f8cb5188e1b0c0051a2d23411", "message": "Merge branch 'envoy-gw' of https://github.com/wso2/product-microgateway into envoy-gw", "committedDate": "2020-11-15T15:54:14Z", "type": "commit"}, {"oid": "d4fcf88fc21967b13dd734acf8a5f457ce2b4e98", "url": "https://github.com/wso2/product-microgateway/commit/d4fcf88fc21967b13dd734acf8a5f457ce2b4e98", "message": "refactor code : loggers", "committedDate": "2020-11-16T09:37:34Z", "type": "forcePushed"}, {"oid": "f974bf74d413cd91ee7a52e0a9ca47357591786c", "url": "https://github.com/wso2/product-microgateway/commit/f974bf74d413cd91ee7a52e0a9ca47357591786c", "message": "refactor code: oasParser/model  phase 2: verified qsg", "committedDate": "2020-11-17T06:02:34Z", "type": "forcePushed"}, {"oid": "5384c50cb89ec27a745fdcfc659206f49f0475c7", "url": "https://github.com/wso2/product-microgateway/commit/5384c50cb89ec27a745fdcfc659206f49f0475c7", "message": "refactor code: envoyconf", "committedDate": "2020-11-17T17:28:13Z", "type": "forcePushed"}, {"oid": "bffcf0ed13af7543bc25194463a9f725d55e9305", "url": "https://github.com/wso2/product-microgateway/commit/bffcf0ed13af7543bc25194463a9f725d55e9305", "message": "refactor code: constants are introduced for envoyconf package", "committedDate": "2020-11-18T03:41:00Z", "type": "forcePushed"}, {"oid": "73f095ec152000c49d29fc86c561d8e056cdc0f6", "url": "https://github.com/wso2/product-microgateway/commit/73f095ec152000c49d29fc86c561d8e056cdc0f6", "message": "Merge branch 'envoy-gw' of https://github.com/wso2/product-microgateway into envoy-gw", "committedDate": "2020-11-18T03:43:23Z", "type": "commit"}, {"oid": "ca650cea00ddeb4d107adf3a6f5a8f291882d8f4", "url": "https://github.com/wso2/product-microgateway/commit/ca650cea00ddeb4d107adf3a6f5a8f291882d8f4", "message": "update remove containers.sh", "committedDate": "2020-11-18T03:46:25Z", "type": "commit"}, {"oid": "5e0d9f10b1c2cee8e335a9b5ea020b68bec4887b", "url": "https://github.com/wso2/product-microgateway/commit/5e0d9f10b1c2cee8e335a9b5ea020b68bec4887b", "message": "remove the requirement of envoy Node package\n\nrefactor code: change directory names\n\nrefactor code\n\nrefactor code: configs package\n\nrefactor code : loggers\n\nrefactor code: package apis\n\nrefactor code: mgw package\n\nrefactor code: oasparser/model package phase 1 verified?\n\nrefactor code: oasParser/model  phase 2: verified qsg\n\nrefactor code: envoyconf\n\nrefactor code", "committedDate": "2020-11-18T03:53:02Z", "type": "commit"}, {"oid": "35de8c726f20ff8c0b02a6ebb05826b121f9fea2", "url": "https://github.com/wso2/product-microgateway/commit/35de8c726f20ff8c0b02a6ebb05826b121f9fea2", "message": "add golint and go vet to the script", "committedDate": "2020-11-18T03:53:12Z", "type": "commit"}, {"oid": "89fc7bbf203ce93f62721c9f275a771233a8671f", "url": "https://github.com/wso2/product-microgateway/commit/89fc7bbf203ce93f62721c9f275a771233a8671f", "message": "refactor code: constants are introduced for envoyconf package", "committedDate": "2020-11-18T03:53:12Z", "type": "commit"}, {"oid": "89fc7bbf203ce93f62721c9f275a771233a8671f", "url": "https://github.com/wso2/product-microgateway/commit/89fc7bbf203ce93f62721c9f275a771233a8671f", "message": "refactor code: constants are introduced for envoyconf package", "committedDate": "2020-11-18T03:53:12Z", "type": "forcePushed"}, {"oid": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "url": "https://github.com/wso2/product-microgateway/commit/4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "message": "Merge branch 'envoy-gw' into xds-12", "committedDate": "2020-11-18T04:01:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk0Njk0Mw==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r525946943", "bodyText": "bring if then to a single line like this \n  \n    \n      product-microgateway/distribution/resources/bin/micro-gw\n    \n    \n         Line 85\n      in\n      afaaea2\n    \n    \n    \n    \n\n        \n          \n           if $mingw ; then", "author": "praminda", "createdAt": "2020-11-18T09:44:54Z", "path": "adapter/build.sh", "diffHunk": "@@ -22,8 +22,22 @@ if [ $? -ne 0 ]\n then\n   echo \"FAILED: Unit tests failure\"\n   exit 1\n+fi \n+\n+golint -set_exit_status ./...\n+if [ $? -ne 0 ] ", "originalCommit": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5NjMwNw==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r527396307", "bodyText": "fixed with 4755248", "author": "VirajSalaka", "createdAt": "2020-11-20T04:51:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk0Njk0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk0ODA5OQ==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r525948099", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *", "author": "praminda", "createdAt": "2020-11-18T09:46:41Z", "path": "adapter/config/mgwtypes.go", "diffHunk": "@@ -0,0 +1,92 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *", "originalCommit": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NTUyNA==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r525995524", "bodyText": "whats the right way to start a comment? // Start of //Start", "author": "praminda", "createdAt": "2020-11-18T10:57:56Z", "path": "adapter/pkg/mgw/mgw.go", "diffHunk": "@@ -14,6 +14,8 @@\n  *  limitations under the License.\n  *\n  */\n+\n+// Package mgw contains the implementation to start the adapter", "originalCommit": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM4MTI4MA==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r527381280", "bodyText": "This is no such rule saying that. But if we refer to other repos, // Start seems to be the convention used", "author": "VirajSalaka", "createdAt": "2020-11-20T04:09:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NTUyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5NjQ0Mw==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r527396443", "bodyText": "fixed with 0b84c9e", "author": "VirajSalaka", "createdAt": "2020-11-20T04:52:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NTUyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NzEyNA==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r525997124", "bodyText": "shall we rename enovoy as envoy", "author": "praminda", "createdAt": "2020-11-18T11:00:29Z", "path": "adapter/pkg/oasparser/configGenerator.go", "diffHunk": "@@ -17,71 +17,66 @@\n \n package oasparser\n \n-//package envoy_config_generator\n-\n import (\n \tclusterv3 \"github.com/envoyproxy/go-control-plane/envoy/config/cluster/v3\"\n \tcorev3 \"github.com/envoyproxy/go-control-plane/envoy/config/core/v3\"\n \tlistenerv3 \"github.com/envoyproxy/go-control-plane/envoy/config/listener/v3\"\n \troutev3 \"github.com/envoyproxy/go-control-plane/envoy/config/route/v3\"\n \t\"github.com/envoyproxy/go-control-plane/pkg/cache/types\"\n \n-\tenovoy \"github.com/wso2/micro-gw/pkg/oasparser/envoyCodegen\"\n-\t\"github.com/wso2/micro-gw/pkg/oasparser/models/envoy\"\n-\tswgger \"github.com/wso2/micro-gw/pkg/oasparser/swaggerOperator\"\n+\tenovoy \"github.com/wso2/micro-gw/pkg/oasparser/envoyconf\"", "originalCommit": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5NjM3MA==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r527396370", "bodyText": "fixed with 4755248", "author": "VirajSalaka", "createdAt": "2020-11-20T04:52:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NzEyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NzM3Mg==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r525997372", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *", "author": "praminda", "createdAt": "2020-11-18T11:00:55Z", "path": "adapter/pkg/oasparser/envoyconf/constants.go", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *", "originalCommit": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY4MDQ1Mw==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r526680453", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *", "author": "praminda", "createdAt": "2020-11-19T08:37:23Z", "path": "adapter/pkg/oasparser/model/mgwSwagger.go", "diffHunk": "@@ -0,0 +1,189 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *", "originalCommit": "4004b6ac34bf6f03d83670a9995e3dfd8895a0f1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7433ff4c8cadb3a78033eb55a86b37b760660fce", "url": "https://github.com/wso2/product-microgateway/commit/7433ff4c8cadb3a78033eb55a86b37b760660fce", "message": "Update adapter/config/mgwtypes.go\n\nCo-authored-by: Praminda <pramindabj@gmail.com>", "committedDate": "2020-11-20T04:06:14Z", "type": "commit"}, {"oid": "c4f987e119fe2120e750f7b88dfc6c13d96c91ba", "url": "https://github.com/wso2/product-microgateway/commit/c4f987e119fe2120e750f7b88dfc6c13d96c91ba", "message": "Update adapter/pkg/oasparser/envoyconf/constants.go\n\nCo-authored-by: Praminda <pramindabj@gmail.com>", "committedDate": "2020-11-20T04:09:19Z", "type": "commit"}, {"oid": "68b35655676b2023b09be2b0736ccead7b0d27a9", "url": "https://github.com/wso2/product-microgateway/commit/68b35655676b2023b09be2b0736ccead7b0d27a9", "message": "Update adapter/pkg/oasparser/model/mgwSwagger.go\n\nCo-authored-by: Praminda <pramindabj@gmail.com>", "committedDate": "2020-11-20T04:09:29Z", "type": "commit"}, {"oid": "4755248e2b92342d3921b2e89b3fb93974959e8d", "url": "https://github.com/wso2/product-microgateway/commit/4755248e2b92342d3921b2e89b3fb93974959e8d", "message": "refactor code", "committedDate": "2020-11-20T04:15:02Z", "type": "commit"}, {"oid": "0b84c9e444c5366ac15728c049909876466ffa1f", "url": "https://github.com/wso2/product-microgateway/commit/0b84c9e444c5366ac15728c049909876466ffa1f", "message": "refactor code: spaces", "committedDate": "2020-11-20T04:51:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ2ODczNA==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r527468734", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *", "author": "praminda", "createdAt": "2020-11-20T06:32:34Z", "path": "adapter/pkg/xds/xds_server.go", "diffHunk": "@@ -1,3 +1,21 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *", "originalCommit": "0b84c9e444c5366ac15728c049909876466ffa1f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ2ODc2Mg==", "url": "https://github.com/wso2/product-microgateway/pull/1490#discussion_r527468762", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            //Package xds contains the implementation for the xds server cache updates\n          \n          \n            \n            // Package xds contains the implementation for the xds server cache updates", "author": "praminda", "createdAt": "2020-11-20T06:32:42Z", "path": "adapter/pkg/xds/xds_server.go", "diffHunk": "@@ -1,3 +1,21 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\n+ */\n+\n+//Package xds contains the implementation for the xds server cache updates", "originalCommit": "0b84c9e444c5366ac15728c049909876466ffa1f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "936b6ab6f363491c0449e47659a605084e8bdca2", "url": "https://github.com/wso2/product-microgateway/commit/936b6ab6f363491c0449e47659a605084e8bdca2", "message": "Update adapter/pkg/xds/xds_server.go\n\nCo-authored-by: Praminda <pramindabj@gmail.com>", "committedDate": "2020-11-20T06:44:23Z", "type": "commit"}, {"oid": "9f30bf01bda431458802100cfa68cc56dc2fc370", "url": "https://github.com/wso2/product-microgateway/commit/9f30bf01bda431458802100cfa68cc56dc2fc370", "message": "Update adapter/pkg/xds/xds_server.go\n\nCo-authored-by: Praminda <pramindabj@gmail.com>", "committedDate": "2020-11-20T06:44:34Z", "type": "commit"}]}