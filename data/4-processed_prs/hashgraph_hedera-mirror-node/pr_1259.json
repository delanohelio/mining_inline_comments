{"pr_number": 1259, "pr_title": "Fix state proof check failure on failed transaction check", "pr_createdAt": "2020-11-12T17:04:06Z", "pr_url": "https://github.com/hashgraph/hedera-mirror-node/pull/1259", "timeline": [{"oid": "6403619d381ee699130666da4b67c669c87df290", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/6403619d381ee699130666da4b67c669c87df290", "message": "find a failed non-duplicate transaction for stateproof 404 check\n\nSigned-off-by: Xin Li <xin.li@swirlds.com>", "committedDate": "2020-11-12T16:49:13Z", "type": "commit"}, {"oid": "42b2f16fe112e769dc6861568ed8d5079dd4b6c6", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/42b2f16fe112e769dc6861568ed8d5079dd4b6c6", "message": "minor\n\nSigned-off-by: Xin Li <xin.li@swirlds.com>", "committedDate": "2020-11-12T16:57:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM2MzE5OA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1259#discussion_r522363198", "bodyText": "It doesn't look like any of these query params are applicable to /transactions/:transaction_id.", "author": "steven-sheehy", "createdAt": "2020-11-12T19:27:54Z", "path": "hedera-mirror-rest/monitoring/monitor_apis/stateproof_tests.js", "diffHunk": "@@ -90,22 +93,27 @@ const checkStateproofForValidTransaction = async (server) => {\n  * @return {{url: String, passed: boolean, message: String}}\n  */\n const checkStateproofForFailedTransaction = async (server) => {\n-  let url = getUrl(server, transactionsPath, {limit: 1, order: 'desc', result: 'fail'});\n+  let url = getUrl(server, transactionsPath, {limit: failedTransactionLimit, order: 'desc', result: 'fail'});", "originalCommit": "42b2f16fe112e769dc6861568ed8d5079dd4b6c6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzIwOTU2Ng==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1259#discussion_r523209566", "bodyText": "transactionsPath is just /transactions, without /:transactionId", "author": "xin-hedera", "createdAt": "2020-11-13T20:37:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM2MzE5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM2OTYxOA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1259#discussion_r522369618", "bodyText": "This seems like a hack. When we have more than limit nodes in the future someone might submit to all and this fail again.", "author": "steven-sheehy", "createdAt": "2020-11-12T19:32:57Z", "path": "hedera-mirror-rest/monitoring/README.md", "diffHunk": "@@ -63,6 +63,8 @@ To customize per-resource configuration:\n - set `token.tokenId` to an existing token ID of the target environment in case it's needed to pass certain token tests,\n   e.g., `tokenBalancesLimit` for the token. If not set, the tests will use the first token from the\n   token discovery API response\n+- set `failedTransactionLimit` for `stateproof` to limit the number of failed transactions to search for a non", "originalCommit": "42b2f16fe112e769dc6861568ed8d5079dd4b6c6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "03f4ca84be500a3de4cb0c65b12c064d555fc53f", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/03f4ca84be500a3de4cb0c65b12c064d555fc53f", "message": "Revert \"find a failed non-duplicate transaction for stateproof 404 check\"\n\nThis reverts commit 6403619d381ee699130666da4b67c669c87df290.\n\nSigned-off-by: Xin Li <xin.li@swirlds.com>", "committedDate": "2020-11-13T20:29:51Z", "type": "commit"}, {"oid": "a4df837b64655beee7c745af59fbbb18251d56a0", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/a4df837b64655beee7c745af59fbbb18251d56a0", "message": "remove negative stateproof tests\n\nSigned-off-by: Xin Li <xin.li@swirlds.com>", "committedDate": "2020-11-13T20:33:44Z", "type": "commit"}]}