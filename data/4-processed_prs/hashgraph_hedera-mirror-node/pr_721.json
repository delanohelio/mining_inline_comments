{"pr_number": 721, "pr_title": "Update protobuf for Hedera Node 0.5.0", "pr_createdAt": "2020-04-29T00:40:07Z", "pr_url": "https://github.com/hashgraph/hedera-mirror-node/pull/721", "timeline": [{"oid": "2ebc8addfdfb49428e327bf27b078773e2abfaaa", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/2ebc8addfdfb49428e327bf27b078773e2abfaaa", "message": "Pull in Hedera Protobug 0.4.2 for r5-rc4 update\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-04-29T00:32:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM2MTY5NA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417361694", "bodyText": "Let's standardize on always having major.minor.bugfix so it sorts properly and we can add a V1.23.1 without it looking weird: V1.23.0", "author": "steven-sheehy", "createdAt": "2020-04-29T14:31:16Z", "path": "hedera-mirror-importer/src/main/resources/db/migration/V1.23__r5_rc4_proto_updates.sql", "diffHunk": "@@ -0,0 +1,12 @@\n+-- update transaction_types", "originalCommit": "2ebc8addfdfb49428e327bf27b078773e2abfaaa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM2MjI1Mw==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417362253", "bodyText": "Why is proto_id quoted? It's an integer", "author": "steven-sheehy", "createdAt": "2020-04-29T14:31:56Z", "path": "hedera-mirror-importer/src/main/resources/db/migration/V1.23__r5_rc4_proto_updates.sql", "diffHunk": "@@ -0,0 +1,12 @@\n+-- update transaction_types\n+UPDATE t_transaction_types set name = 'CRYPTOADDLIVEHASH' WHERE proto_id = '10';", "originalCommit": "2ebc8addfdfb49428e327bf27b078773e2abfaaa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "847c4b7a340c086fecedb49f35000cc73f725ab5", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/847c4b7a340c086fecedb49f35000cc73f725ab5", "message": "Addressed feedback\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-04-29T15:10:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5MzUwOA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417493508", "bodyText": "please rename the fn too", "author": "apeksharma", "createdAt": "2020-04-29T17:38:35Z", "path": "hedera-mirror-importer/src/main/java/com/hedera/mirror/importer/parser/record/RecordItemParser.java", "diffHunk": "@@ -133,8 +133,8 @@ public void onItem(RecordItem recordItem) throws ImporterException {\n         if (isSuccessful) {\n             if (body.hasConsensusSubmitMessage()) {\n                 insertConsensusTopicMessage(body.getConsensusSubmitMessage(), txRecord);\n-            } else if (body.hasCryptoAddClaim()) {\n-                insertCryptoAddClaim(consensusNs, body.getCryptoAddClaim());\n+            } else if (body.hasCryptoAddLiveHash()) {\n+                insertCryptoAddClaim(consensusNs, body.getCryptoAddLiveHash());", "originalCommit": "847c4b7a340c086fecedb49f35000cc73f725ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NDgwMA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417494800", "bodyText": "we tend to keep tests before helper fns.\nSteven suggested it earlier, i like it too. If you're good with it, please move it back.", "author": "apeksharma", "createdAt": "2020-04-29T17:40:46Z", "path": "hedera-mirror-importer/src/test/java/com/hedera/mirror/importer/parser/domain/PubSubMessageTest.java", "diffHunk": "@@ -234,4 +176,63 @@ private static String getExpectedTransactionRecord() {\n                 \"  }\" +\n                 \"}\";\n     }\n+", "originalCommit": "847c4b7a340c086fecedb49f35000cc73f725ab5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUzMjUyNQ==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417532525", "bodyText": "Was wondering what this was in response to. Seems to be an on save action that did this. Sigh", "author": "Nana-EC", "createdAt": "2020-04-29T18:43:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NDgwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzUzNDEzMg==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417534132", "bodyText": "This might be settable via editorconfig as well so we're all on the same page.", "author": "steven-sheehy", "createdAt": "2020-04-29T18:46:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NDgwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ5NTIxOQ==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/721#discussion_r417495219", "bodyText": "same. Other helper fns are in the end too, let's keep them together.", "author": "apeksharma", "createdAt": "2020-04-29T17:41:27Z", "path": "hedera-mirror-importer/src/test/java/com/hedera/mirror/importer/parser/record/RecordItemParserCryptoTest.java", "diffHunk": "@@ -77,6 +76,33 @@\n     private static final long[] transferAccounts = {98, 2002, 3};\n     private static final long[] transferAmounts = {1000, -2000, 20};\n \n+    private static Transaction cryptoUpdateTransaction() {", "originalCommit": "847c4b7a340c086fecedb49f35000cc73f725ab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "33be74d96d4ff9e8ee6fdfedc6e9bbf1556d69f5", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/33be74d96d4ff9e8ee6fdfedc6e9bbf1556d69f5", "message": "Fixed arrangement\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-04-29T18:46:54Z", "type": "commit"}, {"oid": "f764f67ecda05acf0d63b758dda67e64a6b6069d", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/f764f67ecda05acf0d63b758dda67e64a6b6069d", "message": "minor variable rename\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-04-29T18:53:54Z", "type": "commit"}]}